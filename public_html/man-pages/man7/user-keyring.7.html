<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>user-keyring - Per-user keyring</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Per-user keyring">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">user-keyring<small> (7)</small></h1>
        <p class="lead">Per-user keyring</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="/"><span itemprop="title">Carta.tech</span></a>
	</li>
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man7/"><span itemprop="title">Miscellaneous</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man7/user-keyring.7.html"><span itemprop="title">user-keyring</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>The <strong>user keyring</strong> is a keyring used to anchor keys on behalf of a user.  Each UID the kernel deals with has its own user keyring.  This keyring is associated with the record that the kernel maintains for the UID and, once created, is retained as long as that record persists.  It is shared amongst all processes of that UID.</p>
<p class='spacer'>

<p>The user keyring is created on demand when a thread requests it.  Normally, this happens when <strong>pam_keyinit</strong> is invoked when a user logs in.</p>
<p class='spacer'>

<p>The user keyring is not searched by default by <strong>request_key</strong>().  When the pam_keyinit module creates a session keyring, it adds to it a link to the user keyring so that the user keyring will be searched when the session keyring is.</p>
<p class='spacer'>

<p>A special serial number value, <strong>KEY_SPEC_USER_KEYRING</strong>, is defined that can be used in lieu of the calling process's user keyring's actual serial number.</p>
<p class='spacer'>

<p>From the keyctl utility, '<strong>@u</strong>' can be used instead of a numeric key ID in much the same way.</p>
<p class='spacer'>

<p>User keyrings are independent of clone(), fork(), vfork(), execve() and exit() excepting that the keyring is destroyed when the UID record is destroyed when the last process pinning it exits.</p>
<p class='spacer'>

<p>If it necessary to for a key associated with a user to exist beyond the UID record being garbage collected - for example for use by a cron script - then the <strong>persistent keyring</strong> should be used instead.</p>
<p class='spacer'>

<p>If a user keyring does not exist when it is accessed, it will be created.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man1/keyctl.1.html"><strong>keyctl</strong>(1)</a>,</p>
<p class='spacer'>

<p><a href="../man3/keyctl.3.html"><strong>keyctl</strong>(3)</a>,</p>
<p class='spacer'>

<p><a href="../man7/keyrings.7.html"><strong>keyrings</strong>(7)</a>,</p>
<p class='spacer'>

<p><a href="../man8/pam_keyinit.8.html"><strong>pam_keyinit</strong>(8)</a>,</p>
<p class='spacer'>

<p><a href="../man7/process-keyring.7.html"><strong>process-keyring</strong>(7)</a>,</p>
<p class='spacer'>

<p><a href="../man7/session-keyring.7.html"><strong>session-keyring</strong>(7)</a>,</p>
<p class='spacer'>

<p><a href="../man7/thread-keyring.7.html"><strong>thread-keyring</strong>(7)</a>,</p>
<p class='spacer'>

<p><a href="../man7/user-session-keyring.7.html"><strong>user-session-keyring</strong>(7)</a>,</p>
<p class='spacer'>

<p><a href="../man7/persistent-keyring.7.html"><strong>persistent-keyring</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="urn.7.html"><span aria-hidden="true">&larr;</span> urn.7: uniform resource identifier (URI), including a URL or URN</a></li>
   <li class="next"><a href="user-session-keyring.7.html">user-session-keyring.7: Per-user default session keyring <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
