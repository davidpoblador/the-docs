<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>persistent-keyring: Per-user persistent keyring</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Per-user persistent keyring">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="persistent-keyring (7) manual">
  <meta name="twitter:description" content="Per-user persistent keyring">
  <meta name="twitter:image" content="https://www.carta.tech/images/keyutils-persistent-keyring-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/persistent-keyring.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="persistent-keyring (7) manual" />
  <meta property="og:description" content="Per-user persistent keyring" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/keyutils-persistent-keyring-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">persistent-keyring<small> (7)</small></h1>
        <p class="lead">Per-user persistent keyring</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/persistent-keyring.7.html">
      <span itemprop="name">persistent-keyring: Per-user persistent keyring</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/keyutils/">
      <span itemprop="name">keyutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/persistent-keyring.7.html">
      <span itemprop="name">persistent-keyring: Per-user persistent keyring</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>persistent keyring</strong> is a keyring used to anchor keys on behalf of a user.  Each UID the kernel deals with has its own persistent keyring that is shared between all threads owned by that UID.</p><p>The persistent keyring is created on demand when a thread requests it.  The keyring's expiration timer is reset every time it is accessed to the value in:</p><ul>
<li><p>/proc/sys/kernel/keys/persistent_keyring_expiry</p></li>
</ul><p>The persistent keyring is not searched by <strong>request_key</strong>() unless it is referred to by a keyring that is.</p><p>The persistent keyring may not be accessed directly, even by processes with the appropriate UID.  Instead it must be linked to one of a process's keyrings first before that keyring can access it by virtue of its possessor permits. This is done with <strong>keyctl_get_persistent</strong>().</p><p>Persistent keyrings are independent of clone(), fork(), vfork(), execve() and exit().  They persist until their expiration timers trigger - at which point they are garbage collected.  This allows them to carry keys beyond the life of the kernel's record of the corresponding UID (the destruction of which results in the destruction of the user and user session keyrings).</p><p>If a persistent keyring does not exist when it is accessed, it will be created.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIAL OPERATIONS</h2>
        <div class="sectioncontent">
<p>The keyutils library provides a special operation for manipulating persistent keyrings:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>keyctl_get_persistent</strong>()
  </dt>
  <dd>
    <p>This operation allows the caller to get the persistent keyring corresponding to their own UID or, if they have <strong>CAP_SETUID</strong>, the persistent keyring corresponding to some other UID in the same user namespace.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO persistent-keyring&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/keyctl.1.html"><strong>keyctl</strong>(1)</a>,</p><p><a href="../man3/keyctl.3.html"><strong>keyctl</strong>(3)</a>,</p><p><a href="../man3/keyctl_get_persistent.3.html"><strong>keyctl_get_persistent</strong>(3)</a>,</p><p><a href="../man7/keyrings.7.html"><strong>keyrings</strong>(7)</a>,</p><p><a href="../man7/process-keyring.7.html"><strong>process-keyring</strong>(7)</a>,</p><p><a href="../man7/session-keyring.7.html"><strong>session-keyring</strong>(7)</a>,</p><p><a href="../man7/thread-keyring.7.html"><strong>thread-keyring</strong>(7)</a>,</p><p><a href="../man7/user-keyring.7.html"><strong>user-keyring</strong>(7)</a>,</p><p><a href="../man7/user-session-keyring.7.html"><strong>user-session-keyring</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pcilib.7.html"><span aria-hidden="true">&larr;</span> pcilib.7: A library for accessing pci devices</a></li>
   <li class="next"><a href="pid_namespaces.7.html">pid_namespaces.7: Overview of linux pid namespaces <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
