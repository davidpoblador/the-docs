<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>grpunconv: Convert to and from shadow passwords and groups</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert to and from shadow passwords and groups">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">grpunconv<small> (8)</small></h1>
        <p class="lead">Convert to and from shadow passwords and groups</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/grpunconv.8.html">
      <span itemprop="name">grpunconv: Convert to and from shadow passwords and groups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/shadow/">
      <span itemprop="name">shadow</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/grpunconv.8.html">
      <span itemprop="name">grpunconv: Convert to and from shadow passwords and groups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>pwconv</strong> [<em>options</em>] <strong>pwunconv</strong> [<em>options</em>] <strong>grpconv</strong> [<em>options</em>] <strong>grpunconv</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>The <strong>pwconv</strong> command creates <em>shadow</em> from <em>passwd</em> and an optionally existing <em>shadow</em>.</p>
<p class='spacer'>

<p>The <strong>pwunconv</strong> command creates <em>passwd</em> from <em>passwd</em> and <em>shadow</em> and then removes <em>shadow</em>.</p>
<p class='spacer'>

<p>The <strong>grpconv</strong> command creates <em>gshadow</em> from <em>group</em> and an optionally existing <em>gshadow</em>.</p>
<p class='spacer'>

<p>The <strong>grpunconv</strong> command creates <em>group</em> from <em>group</em> and <em>gshadow</em> and then removes <em>gshadow</em>.</p>
<p class='spacer'>

<p>These four programs all operate on the normal and shadow password and group files: /etc/passwd, /etc/group, /etc/shadow, and /etc/gshadow.</p>
<p class='spacer'>

<p>Each program acquires the necessary locks before conversion. <strong>pwconv</strong> and <strong>grpconv</strong> are similar. First, entries in the shadowed file which don&apos;t exist in the main file are removed. Then, shadowed entries which don&apos;t have `x&apos; as the password in the main file are updated. Any missing shadowed entries are added. Finally, passwords in the main file are replaced with `x&apos;. These programs can be used for initial conversion as well to update the shadowed file if the main file is edited by hand.</p>
<p class='spacer'>

<p><strong>pwconv</strong> will use the values of <em>PASS_MIN_DAYS</em>, <em>PASS_MAX_DAYS</em>, and <em>PASS_WARN_AGE</em> from /etc/login.defs when adding new entries to /etc/shadow.</p>
<p class='spacer'>

<p>Likewise <strong>pwunconv</strong> and <strong>grpunconv</strong> are similar. Passwords in the main file are updated from the shadowed file. Entries which exist in the main file but not in the shadowed file are left alone. Finally, the shadowed file is removed. Some password aging information is lost by <strong>pwunconv</strong>. It will convert what it can.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>The options which apply to the <strong>pwconv</strong>, <strong>pwunconv</strong>, <strong>grpconv</strong>, and <strong>grpunconv</strong> commands are:</p>
<p class='spacer'>

<p><strong>-h</strong>, <strong>--help</strong> Display help message and exit.</p>
<p class='spacer'>

<p><strong>-R</strong>, <strong>--root</strong>&nbsp;<em>CHROOT_DIR</em> Apply changes in the <em>CHROOT_DIR</em> directory and use the configuration files from the <em>CHROOT_DIR</em> directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>Errors in the password or group files (such as invalid or duplicate entries) may cause these programs to loop forever or fail in other strange ways. Please run <strong>pwck</strong> and <strong>grpck</strong> to correct any such errors before converting to or from shadow passwords or groups.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>The following configuration variable in /etc/login.defs changes the behavior of <strong>grpconv</strong> and <strong>grpunconv</strong>:</p>
<p class='spacer'>

  <p><strong>MAX_MEMBERS_PER_GROUP</strong> (number) Maximum members per group entry. When the maximum is reached, a new group entry (line) is started in /etc/group (with the same name, same password, and same GID).</p>
<p class='spacer'>

  <p>The default value is 0, meaning that there are no limits in the number of members in a group.</p>
<p class='spacer'>

  <p>This feature (split group) permits to limit the length of lines in the group file. This is useful to make sure that lines for NIS groups are not larger than 1024 characters.</p>
<p class='spacer'>

  <p>If you need to enforce such limit, you can use 25.</p>
<p class='spacer'>

<p>Note: split groups may not be supported by all tools (even in the Shadow toolsuite). You should not use this variable unless you really need it.</p>
<p class='spacer'>

<p>The following configuration variables in /etc/login.defs change the behavior of <strong>pwconv</strong>:</p>
<p class='spacer'>

<p><strong>PASS_MAX_DAYS</strong> (number) The maximum number of days a password may be used. If the password is older than this, a password change will be forced. If not specified, -1 will be assumed (which disables the restriction).</p>
<p class='spacer'>

<p><strong>PASS_MIN_DAYS</strong> (number) The minimum number of days allowed between password changes. Any password changes attempted sooner than this will be rejected. If not specified, -1 will be assumed (which disables the restriction).</p>
<p class='spacer'>

<p><strong>PASS_WARN_AGE</strong> (number) The number of days warning given before a password expires. A zero means warning is given only upon the day of expiration, a negative value means no warning is given. If not specified, no warning will be provided.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>/etc/login.defs Shadow password suite configuration.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO grpunconv&hellip;</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p><a href="../man8/grpck.8.html"><strong>grpck</strong>(8)</a>, <a href="../man5/login.defs.5.html"><strong>login.defs</strong>(5)</a>, <a href="../man8/pwck.8.html"><strong>pwck</strong>(8)</a>.</p>
        </div>
      </section>

<nav>
  <ul class="pager">
   <li class="previous"><a href="grpconv.8.html"><span aria-hidden="true">&larr;</span> grpconv.8: Convert to and from shadow passwords and groups</a></li>
   <li class="next"><a href="halt.8.html">halt.8: Stop the system. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
