<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>telinit - process control initialization</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Process control initialization">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">telinit<small> (8)</small></h1>
        <p class="lead">Process control initialization</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man8/"><span itemprop="title">System administration commands</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man8/telinit.8.html"><span itemprop="title">telinit</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>/sbin/init</strong> [<strong> -a </strong>] [<strong> -s </strong>] [<strong> -b </strong>] [ <strong>-z</strong> <em>xxx</em> ] [<strong> 0123456Ss </strong>]</p>
<p class='spacer'>

<p><strong>/sbin/telinit</strong> [ <strong>-t</strong> <em>SECONDS</em> ] [<strong> 0123456sSQqabcUu </strong>]</p>
<p class='spacer'>

<p><strong>/sbin/telinit</strong> [ <strong>-e</strong> <em>VAR</em>[<strong>=</strong><em>VAL</em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

  <h3>Init</h3>
<p><strong>Init</strong> is the parent of all processes.  Its primary role is to create processes from a script stored in the file <strong>/etc/inittab</strong> (see <a href="../man5/inittab.5.html"><strong>inittab</strong>(5)</a>).  This file usually has entries which cause <strong>init</strong> to spawn <strong>getty</strong>s on each line that users can log in.  It also controls autonomous processes required by any particular system.</p>
<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RUNLEVELS</h2>
        <div class="sectioncontent">

<p>A <em>runlevel</em> is a software configuration of the system which allows only a selected group of processes to exist.  The processes spawned by <strong>init</strong> for each of these runlevels are defined in the <strong>/etc/inittab</strong> file.  <strong>Init</strong> can be in one of eight runlevels: <strong>0&ndash;6</strong> and <strong>S</strong> (a.k.a. <strong>s</strong>).  The runlevel is changed by having a privileged user run <strong>telinit</strong>, which sends appropriate signals to <strong>init</strong>, telling it which runlevel to change to.</p>
<p class='spacer'>

<p>Runlevels <strong>S</strong>, <strong>0</strong>, <strong>1</strong>, and <strong>6</strong> are reserved. Runlevel S is used to initialize the system on boot. When starting runlevel S (on boot) or runlevel 1 (switching from a multi-user runlevel) the system is entering ``single-user mode'', after which the current runlevel is S. Runlevel 0 is used to halt the system; runlevel 6 is used to reboot the system.</p>
<p class='spacer'>

<p>After booting through S the system automatically enters one of the multi-user runlevels 2 through 5, unless there was some problem that needs to be fixed by the administrator in single-user mode. Normally after entering single-user mode the administrator performs maintenance and then reboots the system.</p>
<p class='spacer'>

<p>For more information, see the manpages for <a href="../man8/shutdown.8.html"><strong>shutdown</strong>(8)</a> and <a href="../man5/inittab.5.html"><strong>inittab</strong>(5)</a>.</p>
<p class='spacer'>

<p>Runlevels 7-9 are also valid, though not really documented. This is because "traditional" Unix variants don't use them.</p>
<p class='spacer'>

<p>Runlevels <em>S</em> and <em>s</em> are the same. Internally they are aliases for the same runlevel.</p>
<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BOOTING</h2>
        <div class="sectioncontent">

<p>After <strong>init</strong> is invoked as the last step of the kernel boot sequence, it looks for the file <strong>/etc/inittab</strong> to see if there is an entry of the type <strong>initdefault</strong> (see <a href="../man5/inittab.5.html"><strong>inittab</strong>(5)</a>). The <strong>initdefault</strong> entry determines the initial runlevel of the system.  If there is no such entry (or no <strong>/etc/inittab</strong> at all), a runlevel must be entered at the system console.</p>
<p class='spacer'>

<p>Runlevel <strong>S</strong> or <strong>s</strong> initialize the system and do not require an <strong>/etc/inittab</strong> file.</p>
<p class='spacer'>

<p>In single user mode, <strong>/sbin/sulogin</strong> is invoked on <strong>/dev/console</strong>.</p>
<p class='spacer'>

<p>When entering single user mode, <strong>init</strong> initializes the consoles <strong>stty</strong> settings to sane values. Clocal mode is set. Hardware speed and handshaking are not changed.</p>
<p class='spacer'>

<p>When entering a multi-user mode for the first time, <strong>init</strong> performs the <strong>boot</strong> and <strong>bootwait</strong> entries to allow file systems to be mounted before users can log in.  Then all entries matching the runlevel are processed.</p>
<p class='spacer'>

<p>When starting a new process, <strong>init</strong> first checks whether the file <em>/etc/initscript</em> exists. If it does, it uses this script to start the process.</p>
<p class='spacer'>

<p>Each time a child terminates, <strong>init</strong> records the fact and the reason it died in <strong>/var/run/utmp</strong> and <strong>/var/log/wtmp</strong>, provided that these files exist.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHANGING RUNLEVELS</h2>
        <div class="sectioncontent">

<p>After it has spawned all of the processes specified, <strong>init</strong> waits for one of its descendant processes to die, a powerfail signal, or until it is signaled by <strong>telinit</strong> to change the system's runlevel. When one of the above three conditions occurs, it re-examines the <strong>/etc/inittab</strong> file.  New entries can be added to this file at any time.  However, <strong>init</strong> still waits for one of the above three conditions to occur.  To provide for an instantaneous response, the <strong>telinit Q</strong> or <strong>q</strong> command can wake up <strong>init</strong> to re-examine the <strong>/etc/inittab</strong> file.</p>
<p class='spacer'>

  <p>If <strong>init</strong> is not in single user mode and receives a powerfail signal (SIGPWR), it reads the file <strong>/etc/powerstatus</strong>. It then starts a command based on the contents of this file:</p>
  <dl class='dl-horizontal'>
    <dt>F(AIL)</dt>
    <dd>
  <p>Power is failing, UPS is providing the power. Execute the <strong>powerwait</strong> and <strong>powerfail</strong> entries.</p>
    </dd>
    <dt>O(K)</dt>
    <dd>
  <p>The power has been restored, execute the <strong>powerokwait</strong> entries.</p>
    </dd>
    <dt>L(OW)</dt>
    <dd>
  <p>The power is failing and the UPS has a low battery. Execute the <strong>powerfailnow</strong> entries.</p>
    </dd>
  </dl>
<p class='spacer'>

<p>If /etc/powerstatus doesn't exist or contains anything else then the letters <strong>F</strong>, <strong>O</strong> or <strong>L</strong>, init will behave as if it has read the letter <strong>F</strong>.</p>
<p class='spacer'>

<p>Usage of <strong>SIGPWR</strong> and <strong>/etc/powerstatus</strong> is discouraged. Someone wanting to interact with <strong>init</strong> should use the <strong>/run/initctl</strong> control channel - see the source code of the <strong>sysvinit</strong> package for more documentation about this.</p>
<p class='spacer'>

<p>When <strong>init</strong> is requested to change the runlevel, it sends the warning signal \s-1<strong>SIGTERM</strong>\s0 to all processes that are undefined in the new runlevel.  It then waits 5 seconds before forcibly terminating these processes via the \s-1<strong>SIGKILL</strong>\s0 signal. Note that <strong>init</strong> assumes that all these processes (and their descendants) remain in the same process group which <strong>init</strong> originally created for them.  If any process changes its process group affiliation it will not receive these signals.  Such processes need to be terminated separately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TELINIT</h2>
        <div class="sectioncontent">

  <p><strong>/sbin/telinit</strong> is linked to <strong>/sbin/init</strong>.  It takes a one-character argument and signals <strong>init</strong> to perform the appropriate action.  The following arguments serve as directives to <strong>telinit</strong>:</p>
  <dl class='dl-horizontal'>
    <dt><strong>0</strong>,<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong> or <strong>6</strong></dt>
    <dd>
  <p>tell <strong>init</strong> to switch to the specified run level.</p>
    </dd>
    <dt><strong>a</strong>,<strong>b</strong>,<strong>c</strong></dt>
    <dd>
  <p>tell <strong>init</strong> to process only those <strong>/etc/inittab</strong> file entries having runlevel <strong>a</strong>,<strong>b</strong> or <strong>c</strong>.</p>
    </dd>
    <dt><strong>Q</strong> or <strong>q</strong></dt>
    <dd>
  <p>tell <strong>init</strong> to re-examine the <strong>/etc/inittab</strong> file.</p>
    </dd>
    <dt><strong>S</strong> or <strong>s</strong></dt>
    <dd>
  <p>tell <strong>init</strong> to switch to single user mode.</p>
    </dd>
    <dt><strong>U</strong> or <strong>u</strong></dt>
    <dd>
  <p>tell <strong>init</strong> to re-execute itself (preserving the state). No re-examining of <strong>/etc/inittab</strong> file happens. Run level should be one of <strong>Ss0123456</strong> otherwise request would be silently ignored.</p>
    </dd>
  </dl>
<p class='spacer'>

<p><strong>telinit</strong> can tell <strong>init</strong> how long it should wait between sending processes the SIGTERM and SIGKILL signals.  The default is 5 seconds, but this can be changed with the <strong>-t</strong> option.</p>
<p class='spacer'>

<p><strong>telinit -e</strong> tells <strong>init</strong> to change the environment for processes it spawns. The argument of <strong>-e</strong> is either of the form <em>VAR</em>=<em>VAL</em> which sets variable <em>VAR</em> to value <em>VAL</em>, or of the form <em>VAR</em> (without an equality sign) which unsets variable <em>VAR</em>.</p>
<p class='spacer'>

<p><strong>telinit</strong> can be invoked only by users with appropriate privileges.</p>
<p class='spacer'>

<p>The <strong>init</strong> binary checks if it is <strong>init</strong> or <strong>telinit</strong> by looking at its <em>process id</em>; the real <strong>init</strong>'s process id is always <strong>1</strong>. From this it follows that instead of calling <strong>telinit</strong> one can also just use <strong>init</strong> instead as a shortcut.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

  <p><strong>Init</strong> sets the following environment variables for all its children:</p>
  <dl class='dl-horizontal'>
    <dt><strong>PATH</strong></dt>
    <dd>
  <p><em>/bin:/usr/bin:/sbin:/usr/sbin</em></p>
    </dd>
    <dt><strong>INIT_VERSION</strong></dt>
    <dd>
  <p>As the name says. Useful to determine if a script runs directly from <strong>init</strong>.</p>
    </dd>
    <dt><strong>RUNLEVEL</strong></dt>
    <dd>
  <p>The current system runlevel.</p>
    </dd>
    <dt><strong>PREVLEVEL</strong></dt>
    <dd>
  <p>The previous runlevel (useful after a runlevel switch).</p>
    </dd>
    <dt><strong>CONSOLE</strong></dt>
    <dd>
  <p>The system console. This is really inherited from the kernel; however if it is not set <strong>init</strong> will set it to <strong>/dev/console</strong> by default.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BOOTFLAGS</h2>
        <div class="sectioncontent">

  <p>It is possible to pass a number of flags to <strong>init</strong> from the boot monitor (eg. LILO). <strong>Init</strong> accepts the following flags:</p>
  <dl class='dl-vertical'>
    <dt><strong>-s, S, single</strong></dt>
    <dd>
  <p>Single user mode boot. In this mode <em>/etc/inittab</em> is examined and the bootup rc scripts are usually run before the single user mode shell is started.</p>
    </dd>
  </dl>
<p class='spacer'>

  <dl class='dl-vertical'>
    <dt><strong>1-5</strong></dt>
    <dd>
  <p>Runlevel to boot into.</p>
    </dd>
  </dl>
<p class='spacer'>

  <dl class='dl-vertical'>
    <dt><strong>-b, emergency</strong></dt>
    <dd>
  <p>Boot directly into a single user shell without running any other startup scripts.</p>
    </dd>
  </dl>
<p class='spacer'>

  <dl class='dl-vertical'>
    <dt><strong>-a, auto</strong></dt>
    <dd>
  <p>The LILO boot loader adds the word "auto" to the command line if it booted the kernel with the default command line (without user intervention). If this is found <strong>init</strong> sets the "AUTOBOOT" environment variable to "yes". Note that you cannot use this for any security measures - of course the user could specify "auto" or -a on the command line manually.</p>
    </dd>
  </dl>
<p class='spacer'>

  <dl class='dl-vertical'>
    <dt><strong>-z </strong><em>xxx</em></dt>
    <dd>
  <p>The argument to <strong>-z</strong> is ignored. You can use this to expand the command line a bit, so that it takes some more space on the stack. <strong>Init</strong> can then manipulate the command line so that <strong>ps</strong>(1) shows the current runlevel.</p>
    </dd>
  </dl>
<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERFACE</h2>
        <div class="sectioncontent">

<p>Init listens on a <em>fifo</em> in /run, <em>/run/initctl</em>, for messages. <strong>Telinit</strong> uses this to communicate with init. The interface is not very well documented or finished. Those interested should study the <em>initreq.h</em> file in the <em>src/</em> subdirectory of the <strong>init</strong> source code tar archive.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNALS</h2>
        <div class="sectioncontent">

  <p>Init reacts to several signals:</p>
  <dl class='dl-vertical'>
    <dt><strong>SIGHUP</strong></dt>
    <dd>
  <p>Has the same effect as <strong>telinit q</strong>.</p>
    </dd>
  </dl>
<p class='spacer'>

  <dl class='dl-vertical'>
    <dt><strong>SIGUSR1</strong></dt>
    <dd>
  <p>On receipt of this signals, init closes and re-opens its control fifo, <strong>/run/initctl</strong>.</p>
    </dd>
    <dt><strong>SIGINT</strong></dt>
    <dd>
  <p>Normally the kernel sends this signal to init when CTRL-ALT-DEL is pressed. It activates the <em>ctrlaltdel</em> action.</p>
    </dd>
    <dt><strong>SIGWINCH</strong></dt>
    <dd>
  <p>The kernel sends this signal when the <em>KeyboardSignal</em> key is hit. It activates the <em>kbrequest</em> action.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">

<p><strong>Init</strong> is compatible with the System V init. It works closely together with the scripts in the directories <em>/etc/init.d</em> and <em>/etc/rc{runlevel}.d</em>. If your system uses this convention, there should be a <em>README</em> file in the directory <em>/etc/init.d</em> explaining how these scripts work.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>/etc/inittab
/etc/initscript
/dev/console
/var/run/utmp
/var/log/wtmp
/run/initctl</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNINGS</h2>
        <div class="sectioncontent">

<p><strong>Init</strong> assumes that processes and descendants of processes remain in the same process group which was originally created for them.  If the processes change their group, <strong>init</strong> can't kill them and you may end up with two processes reading from one terminal line.</p>
<p class='spacer'>

<p>On a Debian system, entering runlevel 1 causes all processes to be killed except for kernel threads and the script that does the killing and other processes in its session. As a consequence of this, it isn't safe to return from runlevel 1 to a multi-user runlevel: daemons that were started in runlevel S and are needed for normal operation are no longer running. The system should be rebooted.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<p>If <strong>init</strong> finds that it is continuously respawning an entry more than 10 times in 2 minutes, it will assume that there is an error in the command string, generate an error message on the system console, and refuse to respawn this entry until either 5 minutes has elapsed or it receives a signal.  This prevents it from eating up system resources when someone makes a typographical error in the <strong>/etc/inittab</strong> file or the program for the entry is removed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">

<p>Miquel van Smoorenburg (miquels@cistron.nl), initial manual page by Michael Haardt (u31b3hs@pool.informatik.rwth-aachen.de).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>getty</strong>(1), <a href="../man1/login.1.html"><strong>login</strong>(1)</a>, <strong>sh</strong>(1), <a href="../man8/runlevel.8.html"><strong>runlevel</strong>(8)</a>, <a href="../man8/shutdown.8.html"><strong>shutdown</strong>(8)</a>,</strong> <a href="../man1/kill.1.html"><strong>kill</strong>(1)</a>, <a href="../man5/inittab.5.html"><strong>inittab</strong>(5)</a>, <a href="../man5/initscript.5.html"><strong>initscript</strong>(5)</a>, <a href="../man5/utmp.5.html"><strong>utmp</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="tc.8.html"><span aria-hidden="true">&larr;</span> tc.8: show / manipulate traffic control settings</a></li>
   <li class="next"><a href="tipc-bearer.8.html">tipc-bearer.8: show or modify TIPC bearers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
