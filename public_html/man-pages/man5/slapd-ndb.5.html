<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>slapd-ndb: Mysql ndb backend to slapd</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mysql ndb backend to slapd">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">slapd-ndb<small> (5)</small></h1>
        <p class="lead">Mysql ndb backend to slapd</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/slapd-ndb.5.html">
      <span itemprop="name">slapd-ndb: Mysql ndb backend to slapd</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openldap/">
      <span itemprop="name">openldap</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/slapd-ndb.5.html">
      <span itemprop="name">slapd-ndb: Mysql ndb backend to slapd</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>ETCDIR/slapd.conf</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>The <strong>ndb</strong> backend to <strong>slapd</strong>(8) uses the MySQL Cluster package to store data, through its NDB API. It provides fault tolerance with extreme scalability, along with a degree of SQL compatibility.</p>
<p class='spacer'>

<p>This backend is designed to store LDAP information using tables that are also visible from SQL. It uses a higher level SQL API for creating these tables, while using the low level NDB API for storing and retrieving the data within these tables. The NDB Cluster engine allows data to be partitioned across multiple data nodes, and this backend allows multiple slapd instances to operate against a given database concurrently.</p>
<p class='spacer'>

<p>The general approach is to use distinct tables for each LDAP object class. Entries comprised of multiple object classes will have their data spread across multiple tables. The data tables use a 64 bit entryID as their primary key. The DIT hierarchy is maintained in a separate table, which maps DNs to entryIDs.</p>
<p class='spacer'>

<p>This backend is experimental. While intended to be a general-purpose backend, it is currently missing a number of common LDAP features. See the <strong>TODO</strong> file in the source directory for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">

<p>These <strong>slapd.conf</strong> options apply to the <strong>ndb</strong> backend database. That is, they must follow a "database ndb" line and come before any subsequent "backend" or "database" lines. Other database options are described in the <strong>slapd.conf</strong>(5) manual page.</p>
<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA SOURCE CONFIGURATION</h2>
        <div class="sectioncontent">

<p class='spacer'>

  <dl class='dl-vertical'>
    <dt><strong>dbhost &lt;hostname&gt;</strong></dt>
    <dd>
  <p>The name or IP address of the host running the MySQL server. The default is "localhost". On Unix systems, the connection to a local server is made using a Unix Domain socket, whose path is specified using the <strong>dbsocket</strong> directive.</p>
    </dd>
    <dt><strong>dbuser &lt;username&gt;</strong></dt>
    <dd>
  <p>The MySQL login ID to use when connecting to the MySQL server. The chosen user must have sufficient privileges to manipulate the SQL tables in the target database.</p>
    </dd>
    <dt><strong>dbpasswd &lt;password&gt;</strong></dt>
    <dd>
  <p>The password for the <strong>dbuser</strong>.</p>
    </dd>
    <dt><strong>dbname &lt;database name&gt;</strong></dt>
    <dd>
  <p>The name of the MySQL database to use.</p>
    </dd>
    <dt><strong>dbport &lt;port&gt;</strong></dt>
    <dd>
  <p>The port number to use for the TCP connection to the MySQL server.</p>
    </dd>
    <dt><strong>dbsocket &lt;path&gt;</strong></dt>
    <dd>
  <p>The socket to be used for connecting to a local MySQL server.</p>
    </dd>
    <dt><strong>dbflag &lt;integer&gt;</strong></dt>
    <dd>
  <p>Client flags for the MySQL session. See the MySQL documentation for details.</p>
    </dd>
    <dt><strong>dbconnect &lt;connectstring&gt;</strong></dt>
    <dd>
  <p>The name or IP address of the host running the cluster manager. The default is "localhost".</p>
    </dd>
    <dt><strong>dbconnections &lt;integer&gt;</strong></dt>
    <dd>
  <p>The number of cluster connections to establish. Using up to 4 may improve performance under heavier load. The default is 1.</p>
<p class='spacer'>

    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SCHEMA CONFIGURATION</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>attrlen &lt;attribute&gt; &lt;length&gt;</strong></dt>
    <dd>
  <p>Specify the column length to use for a particular attribute. LDAP attributes are stored in individual columns of the SQL tables. The maximum column lengths for each column must be specified when creating these tables. If a length constraint was specified in the attribute's LDAP schema definition, that value will be used by default. If the schema didn't specify a constraint, the default is 128 bytes. Currently the maximum is 1024.</p>
    </dd>
    <dt><strong>index &lt;attr[,attr...]&gt;</strong></dt>
    <dd>
  <p>Specify a list of attributes for which indexing should be maintained. Currently there is no support for substring indexing; a single index structure provides presence, equality, and inequality indexing for the specified attributes.</p>
    </dd>
    <dt><strong>attrset &lt;set&gt; &lt;attrs&gt;</strong></dt>
    <dd>
  <p>Specify a list of attributes to be treated as an attribute set. This directive creates a table named <em>set</em> which will contain all of the listed attributes. Ordinarily an attribute resides in a table named by an object class that uses the attribute. However, attributes are only allowed to appear in a single table. For attributes that are derived from an inherited object class definition, the attribute will only be stored in the superior class's table. Attribute sets should be defined for any attributes that are used in multiple unrelated object classes, i.e., classes that are not connected by a simple inheritance chain.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACCESS CONTROL</h2>
        <div class="sectioncontent">

<p>The <strong>ndb</strong> backend honors most access control semantics as indicated in <strong>slapd.access</strong>(5).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>ETCDIR/slapd.conf</strong></dt>
    <dd>
  <p>default <strong>slapd</strong> configuration file</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>slapd.conf</strong>(5), <strong>slapd-config</strong>(5), <strong>slapd</strong>(8), <strong>slapadd</strong>(8), <strong>slapcat</strong>(8), <strong>slapindex</strong>(8), MySQL Cluster documentation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">

<p>Howard Chu, with assistance from Johan Andersson et al @ MySQL.</p>
        </div>
      </section>

<nav>
  <ul class="pager">
   <li class="previous"><a href="slapd-meta.5.html"><span aria-hidden="true">&larr;</span> slapd-meta.5: metadirectory backend to slapd</a></li>
   <li class="next"><a href="slapd-null.5.html">slapd-null.5: Null backend to slapd <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
