<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mmv: Memory mapped values for performance co-pilot</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Memory mapped values for performance co-pilot">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mmv<small> (5)</small></h1>
        <p class="lead">Memory mapped values for performance co-pilot</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/mmv.5.html">
      <span itemprop="name">mmv: Memory mapped values for performance co-pilot</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pcp/">
      <span itemprop="name">pcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/mmv.5.html">
      <span itemprop="name">mmv: Memory mapped values for performance co-pilot</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><em>$PCP_TMP_DIR/mmv/&lt;file&gt;</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>The files in \f2$PCP_TMP_DIR/mmv\f1 are generated by \f2mmv_stats_init\f1() function from \f3libpcp_mmv\f1 library. There could be multiple files in this directory, each file representing a single source of the performance metrics. The metrics are harvested by the \f2mmv\f1 PMDA which exports them to the rest of the Performance Co-Pilot infrastructure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE FORMAT</h2>
        <div class="sectioncontent">

<p>Each file starts with the following header:</p>
<table class="table table-striped">
<tr>
<th>Offset</th>
<th>Length</th>
<th>Name</th>
<th></th>
<th></th></tr>

<tr>
<td>0</td>
<td>4</td>
<td>tag == "MMVnbsp;"</td>
<td></td>
<td></td></tr>

<tr>
<td>4</td>
<td>4</td>
<td>Version</td>
<td></td>
<td></td></tr>

<tr>
<td>8</td>
<td>8</td>
<td>Generation 1</td>
<td></td>
<td></td></tr>

<tr>
<td>16</td>
<td>8</td>
<td>Generation 2</td>
<td></td>
<td></td></tr>

<tr>
<td>24</td>
<td>4</td>
<td>Number of TOC entries</td>
<td></td>
<td></td></tr>

<tr>
<td>28</td>
<td>4</td>
<td>Flags</td>
<td></td>
<td></td></tr>

<tr>
<td>32</td>
<td>4</td>
<td>Process identifier (PID)</td>
<td></td>
<td></td></tr>

<tr>
<td>36</td>
<td>4</td>
<td>Cluster identifier</td>
<td></td>
<td></td></tr>
</table>

<p class='spacer'>

<p class='spacer'>

<p>The generation numbers are timestamps at the time of file creation, and must match for the file to be considered by the MMV PMDA.</p>
<p class='spacer'>

<p>The flags can specify ways in which the client would like the MMV PMDA to behave - e.g. the MMV_FLAG_PROCESS flag specifies that only if the process identified by PID is currently running should those values be exported.</p>
<p class='spacer'>

<p>Finally, if set, the cluster identifier is a hint to the MMV PMDA as to what cluster should be used with this application when forming the individual metric identifiers. A performance metric identifier (see \f2PMDA\f1(3)) consists of the PMDA domain number, the cluster number, and the individual item numbers described in the Metrics section.</p>
<p class='spacer'>

<p>The header is followed by at least 2 TOC sections: one section for metrics and another for values. The TOC section has the following format:</p>
<table class="table table-striped">
<tr>
<th>Offset</th>
<th>Length</th>
<th>Value</th>
<th></th>
<th></th></tr>

<tr>
<td>0</td>
<td>4</td>
<td>Section Type (see \f2mmv_stats.h\f1)</td>
<td></td>
<td></td></tr>

<tr>
<td>4</td>
<td>4</td>
<td>Number of entries in the section</td>
<td></td>
<td></td></tr>

<tr>
<td>8</td>
<td>8</td>
<td>Section's offset from the start of the file</td>
<td></td>
<td></td></tr>
</table>

<p class='spacer'>

<p class='spacer'>

<p>The section types are:</p>
<p class='spacer'>

<p>1: Indoms (instance domain definitions)</p>
<p class='spacer'>

<p>2: Instances</p>
<p class='spacer'>

<p>3: Metrics (metric definitions)</p>
<p class='spacer'>

<p>4: Values</p>
<p class='spacer'>

<p>5: String</p>
<p class='spacer'>

<p>The only mandatory sections are Metrics and Values. Indoms and Instances sections only appear if there are metrics with multiple instances. String sections only appear if there are metrics with string values, or when Metrics or Indoms are defined with help text.</p>
<p class='spacer'>

<p>The entries in the Indoms section have the following format:</p>
<table class="table table-striped">
<tr>
<th>Offset</th>
<th>Length</th>
<th>Value</th>
<th></th>
<th></th></tr>

<tr>
<td>0</td>
<td>4</td>
<td>Unique serial number for this domain</td>
<td></td>
<td></td></tr>

<tr>
<td>4</td>
<td>4</td>
<td>Number of entries in the domain</td>
<td></td>
<td></td></tr>

<tr>
<td>8</td>
<td>8</td>
<td>Offset to first instance</td>
<td></td>
<td></td></tr>

<tr>
<td>16</td>
<td>8</td>
<td>Short help text offset</td>
<td></td>
<td></td></tr>

<tr>
<td>24</td>
<td>8</td>
<td>Long help text offset</td>
<td></td>
<td></td></tr>
</table>

<p class='spacer'>

<p class='spacer'>

<p>The entries in the Instances section have the following format:</p>
<table class="table table-striped">
<tr>
<th>Offset</th>
<th>Length</th>
<th>Value</th>
<th></th>
<th></th></tr>

<tr>
<td>0</td>
<td>8</td>
<td>Offset into the indom section</td>
<td></td>
<td></td></tr>

<tr>
<td>8</td>
<td>4</td>
<td>Unused padding (zero filled)</td>
<td></td>
<td></td></tr>

<tr>
<td>12</td>
<td>4</td>
<td>Internal instance identifier</td>
<td></td>
<td></td></tr>

<tr>
<td>16</td>
<td>64</td>
<td>External instance identifier</td>
<td></td>
<td></td></tr>
</table>

<p class='spacer'>

<p class='spacer'>

<p>The entries in the Metrics section have the following format:</p>
<table class="table table-striped">
<tr>
<th>Offset</th>
<th>Length</th>
<th>Value</th>
<th></th>
<th></th></tr>

<tr>
<td>0</td>
<td>64</td>
<td>Metric Name</td>
<td></td>
<td></td></tr>

<tr>
<td>64</td>
<td>4</td>
<td>Metric Item (see \f2PMDA\f1(3))</td>
<td></td>
<td></td></tr>

<tr>
<td>68</td>
<td>4</td>
<td>Metric Type (see \f2mmv_stats.h\f1)</td>
<td></td>
<td></td></tr>

<tr>
<td>72</td>
<td>4</td>
<td>Semantics (see \f2PMAPI\f1(3))</td>
<td></td>
<td></td></tr>

<tr>
<td>76</td>
<td>4</td>
<td>Dimensions (see \f2PMAPI\f1(3))</td>
<td></td>
<td></td></tr>

<tr>
<td>80</td>
<td>4</td>
<td>Instance Domain ID</td>
<td></td>
<td></td></tr>

<tr>
<td>84</td>
<td>4</td>
<td>Unused padding (zero filled)</td>
<td></td>
<td></td></tr>

<tr>
<td>88</td>
<td>8</td>
<td>Short help text offset</td>
<td></td>
<td></td></tr>

<tr>
<td>96</td>
<td>8</td>
<td>Long help text offset</td>
<td></td>
<td></td></tr>
</table>

<p class='spacer'>

<p class='spacer'>

<p>The entries in the Values section have the following format:</p>
<table class="table table-striped">
<tr>
<th>Offset</th>
<th>Length</th>
<th>Value</th>
<th></th>
<th></th></tr>

<tr>
<td>0</td>
<td>8</td>
<td>\f3pmAtomValue\f1 (see \f2PMAPI\f1(3))</td>
<td></td>
<td></td></tr>

<tr>
<td>8</td>
<td>8</td>
<td>Extra space for STRING and ELAPSED</td>
<td></td>
<td></td></tr>

<tr>
<td>16</td>
<td>8</td>
<td>Offset into the Metrics section</td>
<td></td>
<td></td></tr>

<tr>
<td>24</td>
<td>8</td>
<td>Offset into the Instances section</td>
<td></td>
<td></td></tr>
</table>

<p class='spacer'>

<p class='spacer'>

<p>Each entry in the strings section is a 256 byte character array, containing a single NULL-terminated character string. So each string has a maximum length of 256 bytes, which includes the terminating NULL.</p>
<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>PCPIntro</strong>(1), <strong>PMAPI</strong>(3), <a href="../man3/mmv_stats_init.3.html"><strong>mmv_stats_init</strong>(3)</a>, <strong>pcp.conf</strong>(5) and <a href="../man5/pcp.env.5.html"><strong>pcp.env</strong>(5)</a>.</p>
        </div>
      </section>

<nav>
  <ul class="pager">
   <li class="previous"><a href="memcache_table.5.html"><span aria-hidden="true">&larr;</span> memcache_table.5: Postfix memcache client configuration</a></li>
   <li class="next"><a href="modprobe.d.5.html">modprobe.d.5: Configuration directory for modprobe <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
