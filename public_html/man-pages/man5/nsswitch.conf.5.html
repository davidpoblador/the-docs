<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nsswitch.conf: Name service switch configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Name service switch configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nsswitch.conf (5) manual">
  <meta name="twitter:description" content="Name service switch configuration file">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nsswitch.conf<small> (5)</small></h1>
        <p class="lead">Name service switch configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nsswitch.conf.5.html">
      <span itemprop="name">nsswitch.conf: Name service switch configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/man-pages/">
      <span itemprop="name">man-pages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nsswitch.conf.5.html">
      <span itemprop="name">nsswitch.conf: Name service switch configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The Name Service Switch (NSS) configuration file, <em>/etc/nsswitch.conf</em>, is used by the GNU C Library to determine the sources from which to obtain name-service information in a range of categories, and in what order. Each category of information is identified by a database name.</p><p>The file is plain ASCII text, with columns separated by spaces or tab characters. The first column specifies the database name. The remaining columns describe the order of sources to query and a limited set of actions that can be performed by lookup result.</p><p>The following databases are understood by the GNU C Library:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>aliases</strong></p>
  </dt>
  <dd>
    <p>Mail aliases, used by <a href="../man3/getaliasent.3.html"><strong>getaliasent</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>ethers</strong></p>
  </dt>
  <dd>
    <p>Ethernet numbers.</p>
  </dd>
  <dt>
    <p><strong>group</strong></p>
  </dt>
  <dd>
    <p>Groups of users, used by <a href="../man3/getgrent.3.html"><strong>getgrent</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>hosts</strong></p>
  </dt>
  <dd>
    <p>Host names and numbers, used by <a href="../man3/gethostbyname.3.html"><strong>gethostbyname</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>initgroups</strong></p>
  </dt>
  <dd>
    <p>Supplementary group access list, used by <a href="../man3/getgrouplist.3.html"><strong>getgrouplist</strong>(3)</a> function.</p>
  </dd>
  <dt>
    <p><strong>netgroup</strong></p>
  </dt>
  <dd>
    <p>Network-wide list of hosts and users, used for access rules. C libraries before glibc 2.1 supported netgroups only over NIS.</p>
  </dd>
  <dt>
    <p><strong>networks</strong></p>
  </dt>
  <dd>
    <p>Network names and numbers, used by <a href="../man3/getnetent.3.html"><strong>getnetent</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>passwd</strong></p>
  </dt>
  <dd>
    <p>User passwords, used by <a href="../man3/getpwent.3.html"><strong>getpwent</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>protocols</strong></p>
  </dt>
  <dd>
    <p>Network protocols, used by <a href="../man3/getprotoent.3.html"><strong>getprotoent</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>publickey</strong></p>
  </dt>
  <dd>
    <p>Public and secret keys for Secure_RPC used by NFS and NIS+.</p>
  </dd>
  <dt>
    <p><strong>rpc</strong></p>
  </dt>
  <dd>
    <p>Remote procedure call names and numbers, used by <a href="../man3/getrpcbyname.3.html"><strong>getrpcbyname</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>services</strong></p>
  </dt>
  <dd>
    <p>Network services, used by <a href="../man3/getservent.3.html"><strong>getservent</strong>(3)</a> and related functions.</p>
  </dd>
  <dt>
    <p><strong>shadow</strong></p>
  </dt>
  <dd>
    <p>Shadow user passwords, used by <a href="../man3/getspnam.3.html"><strong>getspnam</strong>(3)</a> and related functions.</p>
  </dd>

</dl>
<p>Here is an example <em>/etc/nsswitch.conf</em> file:</p>
<dl class='dl-vertical'>
  <dt>
    <p>passwd:</p>
  </dt>
  <dd>
    <p>compat</p>
  </dd>
  <dt>
    <p>group:</p>
  </dt>
  <dd>
    <p>compat</p>
  </dd>
  <dt>
    <p>shadow:</p>
  </dt>
  <dd>
    <p>compat</p>
  </dd>
  <dt>
    <p>hosts:</p>
  </dt>
  <dd>
    <p>dns [!UNAVAIL=return] files</p>
  </dd>
  <dt>
    <p>networks:</p>
  </dt>
  <dd>
    <p>nis [NOTFOUND=return] files</p>
  </dd>
  <dt>
    <p>ethers:</p>
  </dt>
  <dd>
    <p>nis [NOTFOUND=return] files</p>
  </dd>
  <dt>
    <p>protocols:</p>
  </dt>
  <dd>
    <p>nis [NOTFOUND=return] files</p>
  </dd>
  <dt>
    <p>rpc:</p>
  </dt>
  <dd>
    <p>nis [NOTFOUND=return] files</p>
  </dd>
  <dt>
    <p>services:</p>
  </dt>
  <dd>
    <p>nis [NOTFOUND=return] files</p>
  </dd>

</dl>
<p>The first column is the database name. The remaining columns specify:</p><ul>
<li><p>One or more service specifications, for example, "files", "db", or "nis". The order of the services on the line determines the order in which those services will be queried, in turn, until a result is found.</p></li><li><p>Optional actions to perform if a particular result is obtained from the preceding service, for example, "[NOTFOUND=return]".</p></li>
</ul><p>The service specifications supported on your system depend on the presence of shared libraries, and are therefore extensible. Libraries called <em>/lib/libnss_SERVICE.so.</em><strong>X</strong> will provide the named <em>SERVICE</em>. On a standard installation, you can use "files", "db", "nis", and "nisplus". For the <strong>hosts</strong> database, you can additionally specify "dns". For the <strong>passwd</strong>, <strong>group</strong>, and <strong>shadow</strong> databases, you can additionally specify "compat" (see <strong>Compatibility mode</strong> below). The version number <strong>X</strong> may be 1 for glibc 2.0, or 2 for glibc 2.1 and later. On systems with additional libraries installed, you may have access to further services such as "hesiod", "ldap", "winbind" and "wins".</p><p>An action may also be specified following a service specification. The action modifies the behavior following a result obtained from the preceding data source. Action items take the general form:</p><p>[<em>STATUS</em>=<em>ACTION</em>]</p><p>[!<em>STATUS</em>=<em>ACTION</em>]</p><p>where</p><p><em>STATUS</em> =&gt; <strong>success</strong> | <strong>notfound</strong> | <strong>unavail</strong> | <strong>tryagain</strong></p><p><em>ACTION</em> =&gt; <strong>return</strong> | <strong>continue</strong> | <strong>merge</strong></p><p>The ! negates the test, matching all possible results except the one specified. The case of the keywords is not significant.</p><p>The <em>STATUS</em> value is matched against the result of the lookup function called by the preceding service specification, and can be one of:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>success</strong></p>
  </dt>
  <dd>
    <p>No error occurred and the requested entry is returned. The default action for this condition is "return".</p>
  </dd>
  <dt>
    <p><strong>notfound</strong></p>
  </dt>
  <dd>
    <p>The lookup succeeded, but the requested entry was not found. The default action for this condition is "continue".</p>
  </dd>
  <dt>
    <p><strong>unavail</strong></p>
  </dt>
  <dd>
    <p>The service is permanently unavailable. This can mean either that the required file cannot be read, or, for network services, that the server is not available or does not allow queries. The default action for this condition is "continue".</p>
  </dd>
  <dt>
    <p><strong>tryagain</strong></p>
  </dt>
  <dd>
    <p>The service is temporarily unavailable. This could mean a file is locked or a server currently cannot accept more connections. The default action for this condition is "continue".</p>
  </dd>

</dl>
<p>The <em>ACTION</em> value can be one of:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>return</strong></p>
  </dt>
  <dd>
    <p>Return a result now. Do not call any further lookup functions. However, for compatibility reasons, if this is the selected action for the <strong>group</strong> database and the <strong>notfound</strong> status, and the configuration file does not contain the <strong>initgroups</strong> line, the next lookup function is always called, without affecting the search result.</p>
  </dd>
  <dt>
    <p><strong>continue</strong></p>
  </dt>
  <dd>
    <p>Call the next lookup function.</p>
  </dd>
  <dt>
    <p><strong>merge</strong></p>
  </dt>
  <dd>
    <p><em>[SUCCESS=merge]</em> is used between two database entries. When a group is located in the first of the two group entries, processing will continue on to the next one. If the group is also found in the next entry (and the group name and GID are an exact match), the member list of the second entry will be added to the group object to be returned. Available since glibc 2.24.</p>
  </dd>

</dl>
<h3>Compatibility mode (compat)</h3>
<p>The NSS "compat" service is similar to "files" except that it additionally permits special entries in corresponding files for granting users or members of netgroups access to the system. The following entries are valid in this mode:</p><p>For <strong>passwd</strong> and <strong>shadow</strong> databases:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>+</strong><em>user</em></p>
  </dt>
  <dd>
    <p>Include the specified <em>user</em> from the NIS passwd/shadow map.</p>
  </dd>
  <dt>
    <p><strong>+@</strong><em>netgroup</em></p>
  </dt>
  <dd>
    <p>Include all users in the given <em>netgroup</em>.</p>
  </dd>
  <dt>
    <p><strong>-</strong><em>user</em></p>
  </dt>
  <dd>
    <p>Exclude the specified <em>user</em> from the NIS passwd/shadow map.</p>
  </dd>
  <dt>
    <p><strong>-@</strong><em>netgroup</em></p>
  </dt>
  <dd>
    <p>Exclude all users in the given <em>netgroup</em>.</p>
  </dd>
  <dt>
    <p><strong>+</strong></p>
  </dt>
  <dd>
    <p>Include every user, except previously excluded ones, from the NIS passwd/shadow map.</p>
  </dd>

</dl>
<p>For <strong>group</strong> database:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>+</strong><em>group</em></p>
  </dt>
  <dd>
    <p>Include the specified <em>group</em> from the NIS group map.</p>
  </dd>
  <dt>
    <p><strong>-</strong><em>group</em></p>
  </dt>
  <dd>
    <p>Exclude the specified <em>group</em> from the NIS group map.</p>
  </dd>
  <dt>
    <p><strong>+</strong></p>
  </dt>
  <dd>
    <p>Include every group, except previously excluded ones, from the NIS group map.</p>
  </dd>

</dl>
<p>By default, the source is "nis", but this may be overridden by specifying any NSS service except "compat" itself as the source for the pseudo-databases <strong>passwd_compat</strong>, <strong>group_compat</strong>, and <strong>shadow_compat</strong>.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>A service named <em>SERVICE</em> is implemented by a shared object library named <em>libnss_SERVICE.so.</em><strong>X</strong> that resides in <em>/lib</em>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/nsswitch.conf</em></p>
  </dt>
  <dd>
    <p>NSS configuration file.</p>
  </dd>
  <dt>
    <p><em>/lib/libnss_compat.so.</em><strong>X</strong></p>
  </dt>
  <dd>
    <p>implements "compat" source.</p>
  </dd>
  <dt>
    <p><em>/lib/libnss_db.so.</em><strong>X</strong></p>
  </dt>
  <dd>
    <p>implements "db" source.</p>
  </dd>
  <dt>
    <p><em>/lib/libnss_dns.so.</em><strong>X</strong></p>
  </dt>
  <dd>
    <p>implements "dns" source.</p>
  </dd>
  <dt>
    <p><em>/lib/libnss_files.so.</em><strong>X</strong></p>
  </dt>
  <dd>
    <p>implements "files" source.</p>
  </dd>
  <dt>
    <p><em>/lib/libnss_hesiod.so.</em><strong>X</strong></p>
  </dt>
  <dd>
    <p>implements "hesiod" source.</p>
  </dd>
  <dt>
    <p><em>/lib/libnss_nis.so.</em><strong>X</strong></p>
  </dt>
  <dd>
    <p>implements "nis" source.</p>
  </dd>
  <dt>
    <p><em>/lib/libnss_nisplus.so.</em><strong>X</strong></p>
  </dt>
  <dd>
    <p>implements "nisplus" source.</p>
  </dd>

</dl>
<p>The following files are read when "files" source is specified for respective databases:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>aliases</strong></p>
  </dt>
  <dd>
    <p><em>/etc/aliases</em></p>
  </dd>
  <dt>
    <p><strong>ethers</strong></p>
  </dt>
  <dd>
    <p><em>/etc/ethers</em></p>
  </dd>
  <dt>
    <p><strong>group</strong></p>
  </dt>
  <dd>
    <p><em>/etc/group</em></p>
  </dd>
  <dt>
    <p><strong>hosts</strong></p>
  </dt>
  <dd>
    <p><em>/etc/hosts</em></p>
  </dd>
  <dt>
    <p><strong>initgroups</strong></p>
  </dt>
  <dd>
    <p><em>/etc/group</em></p>
  </dd>
  <dt>
    <p><strong>netgroup</strong></p>
  </dt>
  <dd>
    <p><em>/etc/netgroup</em></p>
  </dd>
  <dt>
    <p><strong>networks</strong></p>
  </dt>
  <dd>
    <p><em>/etc/networks</em></p>
  </dd>
  <dt>
    <p><strong>passwd</strong></p>
  </dt>
  <dd>
    <p><em>/etc/passwd</em></p>
  </dd>
  <dt>
    <p><strong>protocols</strong></p>
  </dt>
  <dd>
    <p><em>/etc/protocols</em></p>
  </dd>
  <dt>
    <p><strong>publickey</strong></p>
  </dt>
  <dd>
    <p><em>/etc/publickey</em></p>
  </dd>
  <dt>
    <p><strong>rpc</strong></p>
  </dt>
  <dd>
    <p><em>/etc/rpc</em></p>
  </dd>
  <dt>
    <p><strong>services</strong></p>
  </dt>
  <dd>
    <p><em>/etc/services</em></p>
  </dd>
  <dt>
    <p><strong>shadow</strong></p>
  </dt>
  <dd>
    <p><em>/etc/shadow</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Within each process that uses <strong>nsswitch.conf</strong>, the entire file is read only once. If the file is later changed, the process will continue using the old configuration.</p><p>Traditionally, there was only a single source for service information, often in the form of a single configuration file (e.g., <em>/etc/passwd</em>). However, as other name services, such as the Network Information Service (NIS) and the Domain Name Service (DNS), became popular, a method was needed that would be more flexible than fixed search orders coded into the C library. The Name Service Switch mechanism, which was based on the mechanism used by Sun Microsystems in the Solaris 2 C library, introduced a cleaner solution to the problem.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nsswitch.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/getent.1.html"><strong>getent</strong>(1)</a>, <a href="../man5/nss.5.html"><strong>nss</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nss.5.html"><span aria-hidden="true">&larr;</span> nss.5: Name service switch configuration file</a></li>
   <li class="next"><a href="numa_maps.5.html">numa_maps.5: Overview of non-uniform memory architecture <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
