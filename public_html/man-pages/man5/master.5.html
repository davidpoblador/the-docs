<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>master - Postfix master process configuration file format</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Postfix master process configuration file format">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">master<small> (5)</small></h1>
        <p class="lead">Postfix master process configuration file format</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man5/"><span itemprop="title">File formats and conventions</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man5/master.5.html"><span itemprop="title">master</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>The Postfix mail system is implemented by small number of (mostly) client commands that are invoked by users, and by a larger number of services that run in the background.</p>
<p class='spacer'>

<p>Postfix services are implemented by daemon processes. These run in the background under control of the <strong>master</strong>(8) process.  The master.cf configuration file defines how a client program connects to a service, and what daemon program runs when a service is requested.  Most daemon processes are short-lived and terminate voluntarily after serving <strong>max_use</strong> clients, or after inactivity for <strong>max_idle</strong> or more units of time.</p>
<p class='spacer'>

<p>All daemons specified here must speak a Postfix-internal protocol. In order to execute non-Postfix software use the <strong>local</strong>(8), <strong>pipe</strong>(8) or <strong>spawn</strong>(8) services, or run the server under control by <strong>inetd</strong>(8) or equivalent.</p>
<p class='spacer'>

<p>After changing master.cf you must execute "<strong>postfix reload</strong>" to reload the configuration.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">

  <p>The general format of the master.cf file is as follows:</p>
  <dl class='dl-horizontal'>
    <dt>&bull;</dt>
    <dd>
  <p>Empty lines and whitespace-only lines are ignored, as are lines whose first non-whitespace character is a `#'.</p>
    </dd>
    <dt>&bull;</dt>
    <dd>
  <p>A logical line starts with non-whitespace text. A line that starts with whitespace continues a logical line.</p>
    </dd>
    <dt>&bull;</dt>
    <dd>
  <p>Each logical line defines a single Postfix service. Each service is identified by its name and type as described below.  When multiple lines specify the same service name and type, only the last one is remembered.  Otherwise, the order of master.cf service definitions does not matter.</p>
    </dd>
  </dl>
<p class='spacer'>

<p>Each logical line consists of eight fields separated by whitespace.  These are described below in the order as they appear in the master.cf file.</p>
<p class='spacer'>

  <p>Where applicable a field of "-" requests that the built-in default value be used. For boolean fields specify "y" or "n" to override the default value.</p>
  <dl class='dl-horizontal'>
    <dt><strong>Service name</strong></dt>
    <dd>
  <p>The service name syntax depends on the service type as described next.</p>
    </dd>
    <dt><strong>Service type</strong></dt>
    <dd>
      <p>Specify one of the following service types:</p>
      <dl class='dl-horizontal'>
        <dt><strong>inet</strong></dt>
        <dd>
      <p>The service listens on a TCP/IP socket and is accessible via the network.</p>
<p class='spacer'>

      <p>The service name is specified as <em>host:port</em>, denoting the host and port on which new connections should be accepted. The host part (and colon) may be omitted.  Either host or port may be given in symbolic form (host or service name) or in numeric form (IP address or port number). Host information may be enclosed inside "[]"; this form is necessary only with IPv6 addresses.</p>
<p class='spacer'>

      <p>Examples: a service named <strong>127.0.0.1:smtp</strong> or <strong>::1:smtp</strong> receives mail via the loopback interface only; and a service named <strong>10025</strong> accepts connections on TCP port 10025 via all interfaces configured with the <strong>inet_interfaces</strong> parameter.</p>
<p class='spacer'>

<p class='spacer'>

      <p>Note: with Postfix version 2.2 and later specify "<strong>inet_interfaces = loopback-only</strong>" in main.cf, instead of hard-coding loopback IP address information in master.cf or in main.cf.</p>
        </dd>
        <dt><strong>unix</strong></dt>
        <dd>
      <p>The service listens on a UNIX-domain socket and is accessible for local clients only.</p>
<p class='spacer'>

      <p>The service name is a pathname relative to the Postfix queue directory (pathname controlled with the <strong>queue_directory</strong> configuration parameter in main.cf).</p>
<p class='spacer'>

      <p>On Solaris 8 and earlier systems the <strong>unix</strong> type is implemented with streams sockets.</p>
        </dd>
        <dt><strong>fifo</strong></dt>
        <dd>
      <p>The service listens on a FIFO (named pipe) and is accessible for local clients only.</p>
<p class='spacer'>

      <p>The service name is a pathname relative to the Postfix queue directory (pathname controlled with the <strong>queue_directory</strong> configuration parameter in main.cf).</p>
        </dd>
        <dt><strong>pass</strong></dt>
        <dd>
      <p>The service listens on a UNIX-domain socket, and is accessible to local clients only. It receives one open connection (file descriptor passing) per connection request.</p>
<p class='spacer'>

      <p>The service name is a pathname relative to the Postfix queue directory (pathname controlled with the <strong>queue_directory</strong> configuration parameter in main.cf).</p>
<p class='spacer'>

      <p>On Solaris 8 and earlier systems the <strong>pass</strong> type is implemented with streams sockets.</p>
<p class='spacer'>

      <p>This feature is available as of Postfix version 2.5.</p>
        </dd>
      </dl>
    </dd>
    <dt><strong>Private (default: y)</strong></dt>
    <dd>
  <p>Whether or not access is restricted to the mail system. Internet (type <strong>inet</strong>) services can't be private.</p>
    </dd>
    <dt><strong>Unprivileged (default: y)</strong></dt>
    <dd>
  <p>Whether the service runs with root privileges or as the owner of the Postfix system (the owner name is controlled by the <strong>mail_owner</strong> configuration variable in the main.cf file).</p>
<p class='spacer'>

  <p>The <strong>local</strong>(8), <strong>pipe</strong>(8), <strong>spawn</strong>(8), and <strong>virtual</strong>(8) daemons require privileges.</p>
    </dd>
    <dt><strong>Chroot (default: y)</strong></dt>
    <dd>
  <p>Whether or not the service runs chrooted to the mail queue directory (pathname is controlled by the <strong>queue_directory</strong> configuration variable in the main.cf file).</p>
<p class='spacer'>

  <p>Chroot should not be used with the <strong>local</strong>(8), <strong>pipe</strong>(8), <strong>spawn</strong>(8), and <strong>virtual</strong>(8) daemons. Although the <strong>proxymap</strong>(8) server can run chrooted, doing so defeats most of the purpose of having that service in the first place.</p>
<p class='spacer'>

  <p>The files in the examples/chroot-setup subdirectory of the Postfix source archive show set up a Postfix chroot environment on a variety of systems. See also BASIC_CONFIGURATION_README for issues related to running daemons chrooted.</p>
    </dd>
    <dt><strong>Wake up time (default: 0)</strong></dt>
    <dd>
  <p>Automatically wake up the named service after the specified number of seconds. The wake up is implemented by connecting to the service and sending a wake up request.  A ? at the end of the wake-up time field requests that no wake up events be sent before the first time a service is used. Specify 0 for no automatic wake up.</p>
<p class='spacer'>

  <p>The <strong>pickup</strong>(8), <strong>qmgr</strong>(8) and <strong>flush</strong>(8) daemons require a wake up timer.</p>
    </dd>
    <dt><strong>Process limit (default: $default_process_limit)</strong></dt>
    <dd>
  <p>The maximum number of processes that may execute this service simultaneously. Specify 0 for no process count limit.</p>
<p class='spacer'>

  <p>NOTE: Some Postfix services must be configured as a single-process service (for example, <strong>qmgr</strong>(8)) and some services must be configured with no process limit (for example, <strong>cleanup</strong>(8)).  These limits must not be changed.</p>
    </dd>
    <dt><strong>Command name + arguments</strong></dt>
    <dd>
  <p>The command to be executed.  Characters that are special to the shell such as "&gt;" or "|" have no special meaning here, and quotes cannot be used to protect arguments containing whitespace.</p>
<p class='spacer'>

  <p>The command name is relative to the Postfix daemon directory (pathname is controlled by the <strong>daemon_directory</strong> configuration variable).</p>
<p class='spacer'>

  <p>The command argument syntax for specific commands is specified in the respective daemon manual page.</p>
<p class='spacer'>

      <p>The following command-line options have the same effect for all daemon programs:</p>
      <dl class='dl-horizontal'>
        <dt><strong>-D</strong></dt>
        <dd>
      <p>Run the daemon under control by the command specified with the <strong>debugger_command</strong> variable in the main.cf configuration file.  See DEBUG_README for hints and tips.</p>
        </dd>
        <dt>-o <em>name</em>=<em>value</em></dt>
        <dd>
      <p>Override the named main.cf configuration parameter. The parameter value can refer to other parameters as <em>$name</em> etc., just like in main.cf.  See <a href="../man5/postconf.5.html"><strong>postconf</strong>(5)</a> for syntax.</p>
<p class='spacer'>

      <p>NOTE 1: do not specify whitespace around the "=" or in parameter values. To specify a parameter value that contains whitespace, use commas instead of spaces, or specify the value in main.cf. Example:</p>
<p class='spacer'>

<pre>/etc/postfix/master.cf:
    submission inet .... smtpd
        -o smtpd_mumble=$submission_mumble

/etc/postfix/main.cf
    submission_mumble = text with whitespace...</pre>

<p class='spacer'>

      <p>NOTE 2: Over-zealous use of parameter overrides makes the Postfix configuration hard to understand and maintain.  At a certain point, it might be easier to configure multiple instances of Postfix, instead of configuring multiple personalities via master.cf.</p>
        </dd>
        <dt><strong>-v</strong></dt>
        <dd>
      <p>Increase the verbose logging level. Specify multiple <strong>-v</strong> options to make a Postfix daemon process increasingly verbose.</p>
        </dd>
      </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<strong>master</strong>(8), process manager
<a href="../man5/postconf.5.html"><strong>postconf</strong>(5)</a>, configuration parameters</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">README FILES</h2>
        <div class="sectioncontent">

      <p>Use "<strong>postconf readme_directory</strong>" or "<strong>postconf html_directory</strong>" to locate this information.</p>
<pre>BASIC_CONFIGURATION_README, basic configuration
DEBUG_README, Postfix debugging</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">

    <p>The Secure Mailer license must be distributed with this software.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR(S)</h2>
        <div class="sectioncontent">

<pre>Initial version by
Magnus Baeck
Lund Institute of Technology
Sweden

Wietse Venema
IBM T.J. Watson Research
P.O. Box 704
Yorktown Heights, NY 10598, USA</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
  <li class="previous"><a href="manpath.5.html"><span aria-hidden="true">&larr;</span> manpath.5: format of the /etc/manpath.config file</a></li><li class="next"><a href="media.5.html">media.5: userspace SELinux labeling interface and configuration file format for the media contexts backend . <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
