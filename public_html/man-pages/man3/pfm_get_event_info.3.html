<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pfm_get_event_info: Get event information</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Get event information">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pfm_get_event_info (3) manual">
  <meta name="twitter:description" content="Get event information">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/pfm_get_event_info.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pfm_get_event_info (3) manual" />
  <meta property="og:description" content="Get event information" />
  <meta property="fb:app_id" content="1241677679199500" />

</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pfm_get_event_info<small> (3)</small></h1>
        <p class="lead">Get event information</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pfm_get_event_info.3.html">
      <span itemprop="name">pfm_get_event_info: Get event information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/perfmon2/">
      <span itemprop="name">perfmon2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pfm_get_event_info.3.html">
      <span itemprop="name">pfm_get_event_info: Get event information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;perfmon/pfmlib.h&gt;</strong>

<strong>int pfm_get_event_info(int </strong><em>idx</em><strong>, pfm_os_t </strong><em>os</em><strong>, pfm_event_info_t *</strong><em>info</em><strong>);</strong>

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This function returns in <strong>info</strong> information about a specific event designated by its opaque unique identifier in <strong>idx</strong> for the operating system specified in <strong>os</strong>.</p><p>The <strong>pfm_event_info_t</strong> structure is defined as follows:</p>
<pre>
typedef struct {
        const char              *name;
        const char              *desc;
        const char              *equiv;
        size_t			size;
        uint64_t                code;
        pfm_pmu_t               pmu;
        pfm_dtype_t             dtype
        int                     idx;
        int                     nattrs;
        struct {
          unsigned int is_precise:1;
          unsigned int reserved_bits:31;
        };
} pfm_event_info_t;
</pre>
<p>The fields of this structure are defined as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>name</strong></p>
  </dt>
  <dd>
    <p>This is the name of the event. This is a read-only string.</p>
  </dd>
  <dt>
    <p><strong>desc</strong></p>
  </dt>
  <dd>
    <p>This is the description of the event. This is a read-only string. It may contain multiple sentences.</p>
  </dd>
  <dt>
    <p><strong>equiv</strong></p>
  </dt>
  <dd>
    <p>Certain events may be just variations of actual events. They may be provided as handy shortcuts to avoid supplying a long list of attributes. For those events, this field is not NULL and contains the complete equivalent event string.</p>
  </dd>
  <dt>
    <p><strong>code</strong></p>
  </dt>
  <dd>
    <p>This is the raw event code. It should not be confused with the encoding of the event. This field represents only the event selection code, it does not include any unit mask or attribute settings.</p>
  </dd>
  <dt>
    <p><strong>pmu</strong></p>
  </dt>
  <dd>
    <p>This is the identification of the PMU model this event belongs to. It is of type <strong>pfm_pmu_t</strong>. Using this value and the <strong>pfm_get_pmu_info</strong> function, it is possible to get PMU information.</p>
  </dd>
  <dt>
    <p><strong>dtype</strong></p>
  </dt>
  <dd>
    <p>This field returns the representation of the event data. By default, it is <strong>PFM_DATA_UINT64</strong>.</p><p><strong>idx</strong> This is the event unique opaque identifier. It is identical to the idx passed to the call and is provided for completeness.</p>
  </dd>
  <dt>
    <p><strong>nattrs</strong></p>
  </dt>
  <dd>
    <p>This is the number of attributes supported by this event. Attributes may be unit masks or modifiers. If the event has not attribute, then the value of this field is simply 0.</p>
  </dd>
  <dt>
    <p><strong>size</strong></p>
  </dt>
  <dd>
    <p>This field contains the size of the struct passed. This field is used to provide for extensibility of the struct without compromising backward compatibility. The value should be set to <strong>sizeof(pfm_event_info_t)</strong>. If instead, a value of <strong>0</strong> is specified, the library assumes the struct passed is identical to the first ABI version which size is <strong>PFM_EVENT_INFO_ABI0</strong>. Thus, if fields were added after the first ABI, they will not be set by the library. The library does check that bytes beyond what is implemented are zeroes.</p>
  </dd>
  <dt>
    <p><strong>is_precise</strong></p>
  </dt>
  <dd>
    <p>This bitfield indicates whether or not the event support precise sampling. Precise sampling is a hardware mechanism that avoids instruction address skid when using interrupt-based sampling. When the event has umasks, this field means that at least one umask supports precise sampling. On Intel X86 processors, this indicates whether the event supports Precise Event-Based Sampling (PEBS).</p>
  </dd>

</dl>
<p>The <strong>pfm_os_t</strong> enumeration provides the following choices:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>PFM_OS_NONE</strong></p>
  </dt>
  <dd>
    <p>The returned information pertains only to what the PMU hardware exports. No operating system attributes is taken into account.</p>
  </dd>
  <dt>
    <p><strong>PFM_OS_PERF_EVENT</strong></p>
  </dt>
  <dd>
    <p>The returned information includes the actual PMU hardware and the additional attributes exported by the perf_events kernel interface. The perf_event attributes pertain only the PMU hardware. In case perf_events is not detected, an error is returned.</p>
  </dd>
  <dt>
    <p><strong>PFM_OS_PERF_EVENT_EXT</strong></p>
  </dt>
  <dd>
    <p>The returned information includes all of what is already provided by <strong>PFM_OS_PERF_EVENT</strong> plus all the software attributes controlled by perf_events, such as sampling period, precise sampling.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN</h2>
        <div class="sectioncontent">
<p>If successful, the function returns <strong>PFM_SUCCESS</strong> and event information in <strong>info</strong>, otherwise it returns an error code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>PFMLIB_ERR_NOINIT</strong></p>
  </dt>
  <dd>
    <p>Library has not been initialized properly.</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_INVAL</strong></p>
  </dt>
  <dd>
    <p>The <strong>idx</strong> argument is invalid or <strong>info</strong> is <strong>NULL</strong> or <strong>size</strong> is not zero.</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_NOTSUPP</strong></p>
  </dt>
  <dd>
    <p>The requested <strong>os</strong> is not detected or supported.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Stephane Eranian &lt;eranian@gmail.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pfm_get_event_encoding.3.html"><span aria-hidden="true">&larr;</span> pfm_get_event_encoding.3: Get raw event encoding</a></li>
   <li class="next"><a href="pfm_get_event_next.3.html">pfm_get_event_next.3: Iterate over events <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
