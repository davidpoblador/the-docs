<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pfm_find_event: None</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="None">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pfm_find_event (3) manual">
  <meta name="twitter:description" content="None">
  <meta name="twitter:image" content="https://www.carta.tech/images/perfmon2-pfm_find_event-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/pfm_find_event.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pfm_find_event (3) manual" />
  <meta property="og:description" content="None" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/perfmon2-pfm_find_event-3.png" />

</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pfm_find_event<small> (3)</small></h1>
        <p class="lead">None</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pfm_find_event.3.html">
      <span itemprop="name">pfm_find_event: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/perfmon2/">
      <span itemprop="name">perfmon2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pfm_find_event.3.html">
      <span itemprop="name">pfm_find_event: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">NAME pfm_find_event - search for an event masks</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;perfmon/pfmlib.h&gt;</strong>

<strong>int pfm_find_event(const char *</strong><em>str</em><strong>);</strong>

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This function is used to convert an event string passed in <strong>str</strong> into an opaque event identifier, i.e., the return value.</p><p>Events are first manipulated a strings which contain the event name, sub-event names and optional filters and modifiers. This function analyzes the string and try to find the matching event.</p><p>The event string is a structured string and it is composed as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>[pmu_name::]event_name[:unit_mask][:modifier|:modifier=val]</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>The various components are separated by <strong>:</strong> or <strong>::</strong>, they are defined as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>pmu_name</strong></p>
  </dt>
  <dd>
    <p>This is an optional prefix to designate a specific PMU model. With the prefix the event which matches the event_name is used. In case multiple PMU models are activated, there may be conflict with identical event names to mean the same or different things. In that case, it is necessary to fully specify the event with a pmu_name. That string corresponds to what is returned by <strong>pfm_get_pmu_name()</strong>.</p>
  </dd>
  <dt>
    <p><strong>event_name</strong></p>
  </dt>
  <dd>
    <p>This is the event name and is required. The library is not case sensitive on event string. The event name must match <strong>completely</strong> the actual event name; it cannot be a substring.</p>
  </dd>
  <dt>
    <p><strong>unit_mask</strong></p>
  </dt>
  <dd>
    <p>The optional unit mask which can be considered like a sub-event of the major event. If a event has unit masks, and there is no default, then at least one unit mask must be passed in the string. Multiple unit masks may be specified for a single event.</p>
  </dd>
  <dt>
    <p><strong>modifier</strong></p>
  </dt>
  <dd>
    <p>A modifier is an optional filter which is provided by the hardware register hosting the event or by the underlying kernel infrastructure. Typical modifiers include privilege level filters. Some modifiers are simple boolean, in which case just passing their names is equivalent to setting their value to <strong>true</strong>. Other modifiers need a specific value, in which case it is provided after the equal sign. No space is tolerate around the equal sign. The list of modifiers depends on the host PMU and underlying kernel API. They are documented in PMU-specific documentation. Multiple modifiers may be passed. There is not order between unit masks and modifiers.</p>
  </dd>

</dl>
<p>The library uses the generic term <strong>attribute</strong> to designate both unit masks and modifiers.</p><p>Here are a few examples of event strings:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>amd64::RETIRED_INSTRUCTIONS:u</strong></p>
  </dt>
  <dd>
    <p>Event RETIRED_INSTRUCTION on AMD64 processor, measure at user privilege level only</p>
  </dd>
  <dt>
    <p><strong>RS_UOPS_DISPATCHED:c=1:i:u</strong></p>
  </dt>
  <dd>
    <p>Event RS_UOPS_DISPATCHED measured at user privilege level only, and with counter-mask set to 1</p>
  </dd>

</dl>
<p>For the purpose of this function, only the pmu_name and event_name are considered, everything else is parsed, thus must be valid, but is ignored.</p><p>The function searches only for one event per call. As a convenience, the function will identify the event up to the first comma. In other words, if <strong>str</strong> is equal to "EVENTA,EVENTB", then the function will only look at EVENTA and will not return an error because of invalid event string. This is handy when parsing constant event strings containing multiple, comma-separated, events.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN</h2>
        <div class="sectioncontent">
<p>The function returns the opaque event identifier that corresponds that the event string. In case of error, a negative error code is returned instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>PFMLIB_ERR_NOINIT</strong></p>
  </dt>
  <dd>
    <p>The library has not been initialized properly.</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_INVAL</strong></p>
  </dt>
  <dd>
    <p>The event string is NULL.</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_NOMEM</strong></p>
  </dt>
  <dd>
    <p>The library ran out of memory.</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_NOTFOUND</strong></p>
  </dt>
  <dd>
    <p>The event was not found</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_ATTR</strong></p>
  </dt>
  <dd>
    <p>Invalid event attribute</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_ATTR_VAL</strong></p>
  </dt>
  <dd>
    <p>Invalid event attribute value</p>
  </dd>
  <dt>
    <p><strong>PFMLIB_ERR_TOOMANY</strong></p>
  </dt>
  <dd>
    <p>Too many event attributes passed</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Stephane Eranian &lt;eranian@gmail.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="perror.3.html"><span aria-hidden="true">&larr;</span> perror.3: Print a system error message</a></li>
   <li class="next"><a href="pfm_get_event_attr_info.3.html">pfm_get_event_attr_info.3: Get event attribute information <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
