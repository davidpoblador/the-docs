<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>avc_cache_stats: Obtain userspace selinux avc statistics</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Obtain userspace selinux avc statistics">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">avc_cache_stats<small> (3)</small></h1>
        <p class="lead">Obtain userspace selinux avc statistics</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/avc_cache_stats.3.html">
      <span itemprop="name">avc_cache_stats: Obtain userspace selinux avc statistics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/selinux/">
      <span itemprop="name">selinux</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/avc_cache_stats.3.html">
      <span itemprop="name">avc_cache_stats: Obtain userspace selinux avc statistics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include <selinux/selinux.h></strong></p><p><strong>#include <selinux/avc.h></strong></p><p><strong>void avc_av_stats(void);</strong></p><p><strong>void avc_sid_stats(void);</strong></p><p><strong>void avc_cache_stats(struct avc_cache_stats *</strong><em>stats</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The userspace AVC maintains two internal hash tables, one to store security ID's and one to cache access decisions.</p><p><strong>avc_av_stats</strong>() and <strong>avc_sid_stats</strong>() produce log messages indicating the status of the access decision and SID tables, respectively.  The messages contain the number of entries in the table, number of hash buckets and number of buckets used, and maximum number of entries in a single bucket.</p><p><strong>avc_cache_stats</strong>() populates a structure whose fields reflect cache activity:</p>
<pre>
struct avc_cache_stats {
	unsigned	entry_lookups;
	unsigned	entry_hits;
	unsigned	entry_misses;
	unsigned	entry_discards;
	unsigned	cav_lookups;
	unsigned	cav_hits;
	unsigned	cav_probes;
	unsigned	cav_misses;
};
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><em>entry_lookups</em></p>
  </dt>
  <dd>
    <p>Number of queries made.</p>
  </dd>
  <dt>
    <p><em>entry_hits</em></p>
  </dt>
  <dd>
    <p>Number of times a decision was found in the <em>aeref</em> argument.</p>
  </dd>
  <dt>
    <p><em>entry_misses</em></p>
  </dt>
  <dd>
    <p>Number of times a decision was not found in the <em>aeref</em> argument.</p>
  </dd>
  <dt>
    <p><em>entry_discards</em></p>
  </dt>
  <dd>
    <p>Number of times a decision was not found in the <em>aeref</em> argument and the <em>aeref</em> argument was non-NULL.</p>
  </dd>
  <dt>
    <p><em>cav_lookups</em></p>
  </dt>
  <dd>
    <p>Number of cache lookups.</p>
  </dd>
  <dt>
    <p><em>cav_hits</em></p>
  </dt>
  <dd>
    <p>Number of cache hits.</p>
  </dd>
  <dt>
    <p><em>cav_misses</em></p>
  </dt>
  <dd>
    <p>Number of cache misses.</p>
  </dd>
  <dt>
    <p><em>cav_probes</em></p>
  </dt>
  <dd>
    <p>Number of entries examined while searching the cache.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>When the cache is flushed as a result of a call to <strong>avc_reset</strong>() or a policy change notification, the statistics returned by <strong>avc_cache_stats</strong>() are reset to zero.  The SID table, however, is left unchanged.</p><p>When a policy change notification is received, a call to <strong>avc_av_stats</strong>() is made before the cache is flushed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Eamon Walsh &lt;ewalsh@tycho.nsa.gov&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO avc_cache_stats&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/avc_init.3.html"><strong>avc_init</strong>(3)</a>, <a href="../man3/avc_has_perm.3.html"><strong>avc_has_perm</strong>(3)</a>, <a href="../man3/avc_context_to_sid.3.html"><strong>avc_context_to_sid</strong>(3)</a>, <a href="../man3/avc_add_callback.3.html"><strong>avc_add_callback</strong>(3)</a>, <a href="../man8/selinux.8.html"><strong>selinux</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="avc_reset.3.html"><span aria-hidden="true">&larr;</span> avc_reset.3: Userspace selinux avc setup and teardown</a></li>
   <li class="next"><a href="avc_sid_to_context.3.html">avc_sid_to_context.3: Obtain and manipulate selinux security id's <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
