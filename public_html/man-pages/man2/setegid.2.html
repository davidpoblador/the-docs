<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>setegid - set effective user or group ID</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set effective user or group id">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">setegid<small> (2)</small></h1>
        <p class="lead">Set effective user or group id</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="/"><span itemprop="title">Carta.tech</span></a>
	</li>
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man2/"><span itemprop="title">System calls</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man2/setegid.2.html"><span itemprop="title">setegid</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>#include &lt;sys/types.h&gt;</strong></p>
<p class='spacer'>

<p><strong>#include &lt;unistd.h&gt;</strong></p>
<p class='spacer'>

<p><strong>int seteuid(uid_t </strong><em>euid</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int setegid(gid_t </strong><em>egid</em><strong>);</strong></p>
<p class='spacer'>

<p>Feature Test Macro Requirements for glibc (see <a href="../man7/feature_test_macros.7.html"><strong>feature_test_macros</strong>(7)</a>):</p>
<p class='spacer'>

  <p><strong>seteuid</strong>(), <strong>setegid</strong>(): _POSIX_C_SOURCE&nbsp;&gt;=&nbsp;200112L</p>
<pre>    || /* Glibc versions &lt;= 2.19: */ _BSD_SOURCE</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>seteuid</strong>() sets the effective user ID of the calling process. Unprivileged user processes may only set the effective user ID to the real user ID, the effective user ID or the saved set-user-ID.</p>
<p class='spacer'>

<p>Precisely the same holds for <strong>setegid</strong>() with "group" instead of "user".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">

<p>On success, zero is returned. On error, -1 is returned, and <em>errno</em> is set appropriately.</p>
<p class='spacer'>

<p><em>Note</em>: there are cases where <strong>seteuid</strong>() can fail even when the caller is UID 0; it is a grave security error to omit checking for a failure return from <strong>seteuid</strong>().</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>EINVAL</strong></dt>
    <dd>
  <p>The target user or group ID is not valid in this user namespace.</p>
    </dd>
    <dt><strong>EPERM</strong></dt>
    <dd>
  <p>The calling process is not privileged (Linux: does not have the <strong>CAP_SETUID</strong> capability in the case of <strong>seteuid</strong>(), or the <strong>CAP_SETGID</strong> capability in the case of <strong>setegid</strong>()) and <em>euid</em> (respectively, <em>egid</em>) is not the real user (group) ID, the effective user (group) ID, or the saved set-user-ID (saved set-group-ID).</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">

<p>POSIX.1-2001, POSIX.1-2008, 4.3BSD.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<p>Setting the effective user (group) ID to the saved set-user-ID (saved set-group-ID) is possible since Linux 1.1.37 (1.1.38). On an arbitrary system one should check <strong>_POSIX_SAVED_IDS</strong>.</p>
<p class='spacer'>

<p>Under glibc 2.0 <strong>seteuid(</strong><em>euid</em><strong>)</strong> is equivalent to <strong>setreuid(-1,</strong><em> euid</em><strong>)</strong> and hence may change the saved set-user-ID. Under glibc 2.1 and later it is equivalent to <strong>setresuid(-1,</strong><em> euid</em><strong>, -1)</strong> and hence does not change the saved set-user-ID. Analogous remarks hold for <strong>setegid</strong>(), with the difference that the change in implementation from <strong>setregid(-1,</strong><em> egid</em><strong>)</strong> to <strong>setresgid(-1,</strong><em> egid</em><strong>, -1)</strong> occurred in glibc 2.2 or 2.3 (depending on the hardware architecture).</p>
<p class='spacer'>

<p>According to POSIX.1, <strong>seteuid</strong>() (<strong>setegid</strong>()) need not permit <em>euid</em> (<em>egid</em>) to be the same value as the current effective user (group) ID, and some implementations do not permit this.</p>
  <h3>C library/kernel differences</h3>
<p>On Linux, <strong>seteuid</strong>() and <strong>setegid</strong>() are implemented as library functions that call, respectively, <a href="../man2/setreuid.2.html"><strong>setreuid</strong>(2)</a> and <a href="../man2/setregid.2.html"><strong>setregid</strong>(2)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man2/geteuid.2.html"><strong>geteuid</strong>(2)</a>, <a href="../man2/setresuid.2.html"><strong>setresuid</strong>(2)</a>, <a href="../man2/setreuid.2.html"><strong>setreuid</strong>(2)</a>, <a href="../man2/setuid.2.html"><strong>setuid</strong>(2)</a>, <a href="../man7/capabilities.7.html"><strong>capabilities</strong>(7)</a>, <a href="../man7/credentials.7.html"><strong>credentials</strong>(7)</a>, <a href="../man7/user_namespaces.7.html"><strong>user_namespaces</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="setdomainname.2.html"><span aria-hidden="true">&larr;</span> setdomainname.2: get/set NIS domain name</a></li>
   <li class="next"><a href="seteuid.2.html">seteuid.2: set effective user or group ID <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
