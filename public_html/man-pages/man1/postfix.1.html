<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>postfix - Postfix control program</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Postfix control program">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">postfix<small> (1)</small></h1>
        <p class="lead">Postfix control program</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man1/"><span itemprop="title">Executable programs or shell commands</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man1/postfix.1.html"><span itemprop="title">postfix</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>postfix</strong> [<strong>-Dv</strong>] [-c <em>config_dir</em>] <em>command</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>This command is reserved for the superuser. To submit mail, use the Postfix <a href="../man1/sendmail.1.html"><strong>sendmail</strong>(1)</a> command.</p>
<p class='spacer'>

<p>The <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> command controls the operation of the Postfix mail system: start or stop the <strong>master</strong>(8) daemon, do a health check, and other maintenance.</p>
<p class='spacer'>

<p>By default, the <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> command sets up a standardized environment and runs the <strong>postfix-script</strong> shell script to do the actual work.</p>
<p class='spacer'>

<p>However, when support for multiple Postfix instances is configured, <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> executes the command specified with the <strong>multi_instance_wrapper</strong> configuration parameter. This command will execute the <em>command</em> for each applicable Postfix instance.</p>
<p class='spacer'>

  <p>The following commands are implemented:</p>
  <dl class='dl-horizontal'>
    <dt><strong>check</strong></dt>
    <dd>
  <p>Warn about bad directory/file ownership or permissions, and create missing directories.</p>
    </dd>
    <dt><strong>start</strong></dt>
    <dd>
  <p>Start the Postfix mail system. This also runs the configuration check described above.</p>
    </dd>
    <dt><strong>stop</strong></dt>
    <dd>
  <p>Stop the Postfix mail system in an orderly fashion. If possible, running processes are allowed to terminate at their earliest convenience.</p>
<p class='spacer'>

  <p>Note: in order to refresh the Postfix mail system after a configuration change, do not use the <strong>start</strong> and <strong>stop</strong> commands in succession. Use the <strong>reload</strong> command instead.</p>
    </dd>
    <dt><strong>abort</strong></dt>
    <dd>
  <p>Stop the Postfix mail system abruptly. Running processes are signaled to stop immediately.</p>
    </dd>
    <dt><strong>flush</strong></dt>
    <dd>
  <p>Force delivery: attempt to deliver every message in the deferred mail queue. Normally, attempts to deliver delayed mail happen at regular intervals, the interval doubling after each failed attempt.</p>
<p class='spacer'>

  <p>Warning: flushing undeliverable mail frequently will result in poor delivery performance of all other mail.</p>
    </dd>
    <dt><strong>reload</strong></dt>
    <dd>
  <p>Re-read configuration files. Running processes terminate at their earliest convenience.</p>
    </dd>
    <dt><strong>status</strong></dt>
    <dd>
  <p>Indicate if the Postfix mail system is currently running.</p>
    </dd>
    <dt><strong>set-permissions</strong> [<em>name</em>=<em>value ...]</em></dt>
    <dd>
  <p>Set the ownership and permissions of Postfix related files and directories, as specified in the <strong>postfix-files</strong> file.</p>
<p class='spacer'>

  <p>Specify <em>name</em>=<em>value</em> to override and update specific main.cf configuration parameters. Use this, for example, to change the <strong>mail_owner</strong> or <strong>setgid_group</strong> setting for an already installed Postfix system.</p>
<p class='spacer'>

  <p>This feature is available in Postfix 2.1 and later.  With Postfix 2.0 and earlier, use "<strong>$config_directory/post-install set-permissions</strong>".</p>
    </dd>
    <dt><strong>upgrade-configuration</strong> [<em>name</em>=<em>value ...]</em></dt>
    <dd>
  <p>Update the <strong>main.cf</strong> and <strong>master.cf</strong> files with information that Postfix needs in order to run: add or update services, and add or update configuration parameter settings.</p>
<p class='spacer'>

  <p>Specify <em>name</em>=<em>value</em> to override and update specific main.cf configuration parameters.</p>
<p class='spacer'>

  <p>This feature is available in Postfix 2.1 and later.  With Postfix 2.0 and earlier, use "<strong>$config_directory/post-install upgrade-configuration</strong>".</p>
    </dd>
  </dl>
<p class='spacer'>

  <p>The following options are implemented:</p>
  <dl class='dl-horizontal'>
    <dt>-c <em>config_dir</em></dt>
    <dd>
  <p>Read the <strong>main.cf</strong> and <strong>master.cf</strong> configuration files in the named directory instead of the default configuration directory. Use this to distinguish between multiple Postfix instances on the same host.</p>
<p class='spacer'>

  <p>With Postfix 2.6 and later, this option forces the <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> command to operate on the specified Postfix instance only. This behavior is inherited by <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> commands that run as a descendant of the current process.</p>
    </dd>
    <dt><strong>-D</strong> (with <strong>postfix start</strong> only)</dt>
    <dd>
  <p>Run each Postfix daemon under control of a debugger as specified via the <strong>debugger_command</strong> configuration parameter.</p>
    </dd>
    <dt><strong>-v</strong></dt>
    <dd>
  <p>Enable verbose logging for debugging purposes. Multiple <strong>-v</strong> options make the software increasingly verbose.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

  <p>The <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> command exports the following environment variables before executing the <strong>postfix-script</strong> file:</p>
  <dl class='dl-horizontal'>
    <dt><strong>MAIL_CONFIG</strong></dt>
    <dd>
  <p>This is set when the -c command-line option is present.</p>
<p class='spacer'>

  <p>With Postfix 2.6 and later, this environment variable forces the <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> command to operate on the specified Postfix instance only.  This behavior is inherited by <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> commands that run as a descendant of the current process.</p>
    </dd>
    <dt><strong>MAIL_VERBOSE</strong></dt>
    <dd>
  <p>This is set when the -v command-line option is present.</p>
    </dd>
    <dt><strong>MAIL_DEBUG</strong></dt>
    <dd>
  <p>This is set when the -D command-line option is present.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION PARAMETERS</h2>
        <div class="sectioncontent">

  <p>The following <strong>main.cf</strong> configuration parameters are exported as environment variables with the same names:</p>
  <dl class='dl-horizontal'>
    <dt><strong>command_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The location of all postfix administrative commands.</p>
    </dd>
    <dt><strong>daemon_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The directory with Postfix support programs and daemon programs.</p>
    </dd>
    <dt><strong>config_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The default location of the Postfix main.cf and master.cf configuration files.</p>
    </dd>
    <dt><strong>queue_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The location of the Postfix top-level queue directory.</p>
    </dd>
    <dt><strong>mail_owner (postfix)</strong></dt>
    <dd>
  <p>The UNIX system account that owns the Postfix queue and most Postfix daemon processes.</p>
    </dd>
    <dt><strong>setgid_group (postdrop)</strong></dt>
    <dd>
  <p>The group ownership of set-gid Postfix commands and of group-writable Postfix directories.</p>
    </dd>
    <dt><strong>sendmail_path (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>A Sendmail compatibility feature that specifies the location of the Postfix <a href="../man1/sendmail.1.html"><strong>sendmail</strong>(1)</a> command.</p>
    </dd>
    <dt><strong>newaliases_path (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>Sendmail compatibility feature that specifies the location of the <a href="../man1/newaliases.1.html"><strong>newaliases</strong>(1)</a> command.</p>
    </dd>
    <dt><strong>mailq_path (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>Sendmail compatibility feature that specifies where the Postfix <a href="../man1/mailq.1.html"><strong>mailq</strong>(1)</a> command is installed.</p>
    </dd>
    <dt><strong>html_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The location of Postfix HTML files that describe how to build, configure or operate a specific Postfix subsystem or feature.</p>
    </dd>
    <dt><strong>manpage_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>Where the Postfix manual pages are installed.</p>
    </dd>
    <dt><strong>readme_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The location of Postfix README files that describe how to build, configure or operate a specific Postfix subsystem or feature.</p>
    </dd>
  </dl>
<p class='spacer'>

  <p>Available in Postfix version 2.5 and later:</p>
  <dl class='dl-horizontal'>
    <dt><strong>data_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The directory with Postfix-writable data files (for example: caches, pseudo-random numbers).</p>
    </dd>
  </dl>
<p class='spacer'>

  <p>Other configuration parameters:</p>
  <dl class='dl-horizontal'>
    <dt><strong>config_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The default location of the Postfix main.cf and master.cf configuration files.</p>
    </dd>
    <dt><strong>import_environment (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The list of environment parameters that a Postfix process will import from a non-Postfix parent process.</p>
    </dd>
    <dt><strong>syslog_facility (mail)</strong></dt>
    <dd>
  <p>The syslog facility of Postfix logging.</p>
    </dd>
    <dt><strong>syslog_name (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The mail system name that is prepended to the process name in syslog records, so that "smtpd" becomes, for example, "postfix/smtpd".</p>
    </dd>
  </dl>
<p class='spacer'>

  <p>Available in Postfix version 2.6 and later:</p>
  <dl class='dl-horizontal'>
    <dt><strong>multi_instance_directories (empty)</strong></dt>
    <dd>
  <p>An optional list of non-default Postfix configuration directories; these directories belong to additional Postfix instances that share the Postfix executable files and documentation with the default Postfix instance, and that are started, stopped, etc., together with the default Postfix instance.</p>
    </dd>
    <dt><strong>multi_instance_wrapper (empty)</strong></dt>
    <dd>
  <p>The pathname of a multi-instance manager command that the <a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a> command invokes when the multi_instance_directories parameter value is non-empty.</p>
    </dd>
    <dt><strong>multi_instance_group (empty)</strong></dt>
    <dd>
  <p>The optional instance group name of this Postfix instance.</p>
    </dd>
    <dt><strong>multi_instance_name (empty)</strong></dt>
    <dd>
  <p>The optional instance name of this Postfix instance.</p>
    </dd>
    <dt><strong>multi_instance_enable (no)</strong></dt>
    <dd>
  <p>Allow this Postfix instance to be started, stopped, etc., by a multi-instance manager.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<p>Prior to Postfix version 2.6, all of the following files were in <strong>$config_directory</strong>. Some files are now in <strong>$daemon_directory</strong> so that they can be shared among multiple instances that run the same Postfix version.</p>
<p class='spacer'>

  <p>Use the command "<strong>postconf config_directory</strong>" or "<strong>postconf daemon_directory</strong>" to expand the names into their actual values.</p>
<pre>
$config_directory/main.cf, Postfix configuration parameters
$config_directory/master.cf, Postfix daemon processes
$daemon_directory/postfix-files, file/directory permissions
$daemon_directory/postfix-script, administrative commands
$daemon_directory/post-install, post-installation configuration</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<pre>Commands:
<a href="../man1/postalias.1.html"><strong>postalias</strong>(1)</a>, create/update/query alias database
<a href="../man1/postcat.1.html"><strong>postcat</strong>(1)</a>, examine Postfix queue file
<a href="../man1/postconf.1.html"><strong>postconf</strong>(1)</a>, Postfix configuration utility
<a href="../man1/postfix.1.html"><strong>postfix</strong>(1)</a>, Postfix control program
<a href="../man1/postkick.1.html"><strong>postkick</strong>(1)</a>, trigger Postfix daemon
<a href="../man1/postlock.1.html"><strong>postlock</strong>(1)</a>, Postfix-compatible locking
<a href="../man1/postlog.1.html"><strong>postlog</strong>(1)</a>, Postfix-compatible logging
<a href="../man1/postmap.1.html"><strong>postmap</strong>(1)</a>, Postfix lookup table manager
<a href="../man1/postmulti.1.html"><strong>postmulti</strong>(1)</a>, Postfix multi-instance manager
<a href="../man1/postqueue.1.html"><strong>postqueue</strong>(1)</a>, Postfix mail queue control
<a href="../man1/postsuper.1.html"><strong>postsuper</strong>(1)</a>, Postfix housekeeping
<a href="../man1/mailq.1.html"><strong>mailq</strong>(1)</a>, Sendmail compatibility interface
<a href="../man1/newaliases.1.html"><strong>newaliases</strong>(1)</a>, Sendmail compatibility interface
<a href="../man1/sendmail.1.html"><strong>sendmail</strong>(1)</a>, Sendmail compatibility interface

Postfix configuration:
<a href="../man5/bounce.5.html"><strong>bounce</strong>(5)</a>, Postfix bounce message templates
<a href="../man5/master.5.html"><strong>master</strong>(5)</a>, Postfix master.cf file syntax
<a href="../man5/postconf.5.html"><strong>postconf</strong>(5)</a>, Postfix main.cf file syntax
<a href="../man5/postfix-wrapper.5.html"><strong>postfix-wrapper</strong>(5)</a>, Postfix multi-instance API

Table-driven mechanisms:
<a href="../man5/access.5.html"><strong>access</strong>(5)</a>, Postfix SMTP access control table
<a href="../man5/aliases.5.html"><strong>aliases</strong>(5)</a>, Postfix alias database
<a href="../man5/canonical.5.html"><strong>canonical</strong>(5)</a>, Postfix input address rewriting
<a href="../man5/generic.5.html"><strong>generic</strong>(5)</a>, Postfix output address rewriting
<a href="../man5/header_checks.5.html"><strong>header_checks</strong>(5)</a>, <a href="../man5/body_checks.5.html"><strong>body_checks</strong>(5)</a>, Postfix content inspection
<a href="../man5/relocated.5.html"><strong>relocated</strong>(5)</a>, Users that have moved
<a href="../man5/transport.5.html"><strong>transport</strong>(5)</a>, Postfix routing table
<a href="../man5/virtual.5.html"><strong>virtual</strong>(5)</a>, Postfix virtual aliasing

Table lookup mechanisms:
<a href="../man5/cidr_table.5.html"><strong>cidr_table</strong>(5)</a>, Associate CIDR pattern with value
<a href="../man5/ldap_table.5.html"><strong>ldap_table</strong>(5)</a>, Postfix LDAP client
<a href="../man5/lmdb_table.5.html"><strong>lmdb_table</strong>(5)</a>, Postfix LMDB database driver
<a href="../man5/memcache_table.5.html"><strong>memcache_table</strong>(5)</a>, Postfix memcache client
<a href="../man5/mysql_table.5.html"><strong>mysql_table</strong>(5)</a>, Postfix MYSQL client
<a href="../man5/nisplus_table.5.html"><strong>nisplus_table</strong>(5)</a>, Postfix NIS+ client
<a href="../man5/pcre_table.5.html"><strong>pcre_table</strong>(5)</a>, Associate PCRE pattern with value
<a href="../man5/pgsql_table.5.html"><strong>pgsql_table</strong>(5)</a>, Postfix PostgreSQL client
<a href="../man5/regexp_table.5.html"><strong>regexp_table</strong>(5)</a>, Associate POSIX regexp pattern with value
<a href="../man5/socketmap_table.5.html"><strong>socketmap_table</strong>(5)</a>, Postfix socketmap client
<a href="../man5/sqlite_table.5.html"><strong>sqlite_table</strong>(5)</a>, Postfix SQLite database driver
<a href="../man5/tcp_table.5.html"><strong>tcp_table</strong>(5)</a>, Postfix client-server table lookup

Daemon processes:
<strong>anvil</strong>(8), Postfix connection/rate limiting
<strong>bounce</strong>(8), <strong>defer</strong>(8), <strong>trace</strong>(8), Delivery status reports
<strong>cleanup</strong>(8), canonicalize and enqueue message
<strong>discard</strong>(8), Postfix discard delivery agent
<strong>dnsblog</strong>(8), DNS black/whitelist logger
<strong>error</strong>(8), Postfix error delivery agent
<strong>flush</strong>(8), Postfix fast ETRN service
<strong>local</strong>(8), Postfix local delivery agent
<strong>master</strong>(8), Postfix master daemon
<strong>oqmgr</strong>(8), old Postfix queue manager
<strong>pickup</strong>(8), Postfix local mail pickup
<strong>pipe</strong>(8), deliver mail to non-Postfix command
<strong>postscreen</strong>(8), Postfix zombie blocker
<strong>proxymap</strong>(8), Postfix lookup table proxy server
<strong>qmgr</strong>(8), Postfix queue manager
<strong>qmqpd</strong>(8), Postfix QMQP server
<strong>scache</strong>(8), Postfix connection cache manager
<strong>showq</strong>(8), list Postfix mail queue
<strong>smtp</strong>(8), <strong>lmtp</strong>(8), Postfix SMTP+LMTP client
<strong>smtpd</strong>(8), Postfix SMTP server
<strong>spawn</strong>(8), run non-Postfix server
<strong>tlsmgr</strong>(8), Postfix TLS cache and randomness manager
<strong>tlsproxy</strong>(8), Postfix TLS proxy server
<strong>trivial-rewrite</strong>(8), Postfix address rewriting
<strong>verify</strong>(8), Postfix address verification
<strong>virtual</strong>(8), Postfix virtual delivery agent

Other:
<strong>syslogd</strong>(8), system logging</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">README FILES</h2>
        <div class="sectioncontent">

  <p>Use "<strong>postconf readme_directory</strong>" or "<strong>postconf html_directory</strong>" to locate this information.</p>
<pre>OVERVIEW, overview of Postfix commands and processes
BASIC_CONFIGURATION_README, Postfix basic configuration
ADDRESS_REWRITING_README, Postfix address rewriting
SMTPD_ACCESS_README, SMTP relay/access control
CONTENT_INSPECTION_README, Postfix content inspection
QSHAPE_README, Postfix queue analysis</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">

<p>The Secure Mailer license must be distributed with this software.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR(S)</h2>
        <div class="sectioncontent">

        </div>
      </section>
<nav>
  <ul class="pager">
  <li class="previous"><a href="postdrop.1.html"><span aria-hidden="true">&larr;</span> postdrop.1: Postfix mail posting utility</a></li><li class="next"><a href="postkick.1.html">postkick.1: kick a Postfix service <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
