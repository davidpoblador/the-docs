<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pmstat: High-level system performance overview</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="High-level system performance overview">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pmstat<small> (1)</small></h1>
        <p class="lead">High-level system performance overview</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pmstat.1.html">
      <span itemprop="name">pmstat: High-level system performance overview</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pcp/">
      <span itemprop="name">pcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pmstat.1.html">
      <span itemprop="name">pmstat: High-level system performance overview</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p>\f3pcp\f1 [\f2pcp&nbsp;options\f1] \f3vmstat\f1 [\f2interval\f1 [\f2samples\f1]]</p>
<p class='spacer'>

<p>\f3pmstat\f1 [\f3-gLlPxz\f1] [\f3-A\f1 \f2align\f1] [\f3-a\f1 \f2archive\f1] [\f3-h\f1 \f2host\f1] [\f3-H\f1 \f2file\f1] [\f3-n\f1 \f2pmnsfile\f1] [\f3-O\f1 \f2offset\f1] [\f3-p\f1 \f2port\f1] [\f3-S\f1 \f2starttime\f1] [\f3-s\f1 \f2samples\f1] [\f3-T\f1 \f2endtime\f1] [\f3-t\f1 \f2interval\f1] [\f3-Z\f1 \f2timezone\f1]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>pmstat</strong> provides a one line summary of system performance every <em>interval</em> unit of time (the default is 5 seconds). <strong>pmstat</strong> is intended to monitor system performance at the highest level, after which other tools may be used to examine subsystems in which potential performance problems may be observed in greater detail.</p>
<p class='spacer'>

<p><strong>pcp-vmstat</strong> is a simple wrapper for use with the <a href="../man1/pcp.1.html"><strong>pcp</strong>(1)</a> command, providing a more familiar command line format for some users. It also enables the extended reporting option by default, see the <em>-x</em> option below.</p>
<p class='spacer'>

<p>Multiple hosts may be monitored by supplying more than one host with multiple <strong>-h</strong> flags (for live monitoring) or by providing a name of the hostlist file, where each line contain one host name, with <strong>-H,</strong> or multiple <strong>-a</strong> flags (for retrospective monitoring from sets of archives).</p>
<p class='spacer'>

<p>The <strong>-t</strong> option may be used to change the default reporting <em>interval</em>. The <em>interval</em> argument follows the syntax described in <strong>PCPIntro</strong>(1), and in the simplest form may be an unsigned integer (the implied units in this case are seconds).</p>
<p class='spacer'>

<p>By default, <strong>pmstat</strong> fetches metrics by connecting to the Performance Metrics Collector Daemon (PMCD) on the local host.  If the <strong>-L</strong> option is specified, then <strong>pmcd</strong>(1) is bypassed, and metrics are fetched from PMDAs on the local host using the standalone <strong>PM_CONTEXT_LOCAL</strong> variant of <strong>pmNewContext</strong>(3). When the <strong>-h</strong> option is specified, <strong>pmstat</strong> connects to the <strong>pmcd</strong>(1) on <em>host</em> and fetches metrics from there. As mentioned above, multiple hosts may be monitored by supplying multiple <strong>-h</strong> flags.</p>
<p class='spacer'>

<p>Alternatively, if the <strong>-a</strong> option is used, the metrics are retrieved from the Performance Co-Pilot archive log files identified by <em>archive</em>, which is a comma-separated list of names, each of which may be the base name of an archive or the name of a directory containing one or more archives. Multiple sets of archives may be replayed by supplying multiple <strong>-a</strong> flags. When the <strong>-a</strong> flag is used, the <strong>-P</strong> flag may also be used to pause the output after each interval.</p>
<p class='spacer'>

<p>Standalone mode can only connect to the local host, using a set of archives implies a host name, and nominating a host precludes using an archive, so the options <strong>-L</strong>, <strong>-a</strong> and <strong>-h</strong> are mutually exclusive.</p>
<p class='spacer'>

<p>Normally <strong>pmstat</strong> operates on the default Performance Metrics Name Space (PMNS), however if the <strong>-n</strong> option is specified an alternative namespace is loaded from the file <em>pmnsfile</em>.</p>
<p class='spacer'>

<p>If the <strong>-s</strong> the option is specified, <em>samples</em> defines the number of samples to be retrieved and reported. If <em>samples</em> is 0 or <strong>-s</strong> is not specified, <strong>pmstat</strong> will sample and report continuously - this is the default behavior.</p>
<p class='spacer'>

<p>When processing a set of archives, <strong>pmstat</strong> may relinquish its own timing control, and operate as a ``slave'' of a <a href="../man1/pmtime.1.html"><strong>pmtime</strong>(1)</a> process that uses a GUI dialog to provide timing control. In this case, either the <strong>-g</strong> option should be used to start <strong>pmstat</strong> as the sole slave of a new <a href="../man1/pmtime.1.html"><strong>pmtime</strong>(1)</a> instance, or <strong>-p</strong> should be used to attach <strong>pmstat</strong> to an existing <a href="../man1/pmtime.1.html"><strong>pmtime</strong>(1)</a> instance via the IPC channel identified by the port argument.</p>
<p class='spacer'>

<p>The <strong>-S</strong>, <strong>-T</strong>, <strong>-O</strong> and <strong>-A</strong> options may be used to define a time window to restrict the samples retrieved, set an initial origin within the time window, or specify a ``natural'' alignment of the sample times; refer to <strong>PCPIntro</strong>(1) for a complete description of these options.</p>
<p class='spacer'>

<p>The <strong>-l</strong> option prints the last 7 characters of a hostname in summaries involving more than one host (when more than one <strong>-h</strong> option has been specified on the command line).</p>
<p class='spacer'>

<p>The <strong>-x</strong> option (extended CPU metrics) causes two additional CPU metrics to be reported, namely wait for I/O ("wa") and virtualisation steal time ("st").</p>
<p class='spacer'>

<p>The output from <strong>pmstat</strong> is directed to standard output, and the columns in the report are interpreted as follows:</p>
<p class='spacer'>

  <dl class='dl-vertical'>
    <dt><strong>loadavg</strong></dt>
    <dd>
  <p>The <em>1 minute</em> load average.</p>
    </dd>
    <dt><strong>memory</strong></dt>
    <dd>
    <p>The \f3swpd column indicates average swap space used during the interval, in Kbytes. The \f3free column indicates average free memory during the interval, in Kbytes. The \f3buff column indicates average buffer memory in use during the interval, in Kbytes. The \f3cache column indicates average cached memory in use during the interval, in Kbytes.</p>
<p class='spacer'>

  <p>If the values become large, they are reported as Mbytes <strong></strong>(<strong>m</strong> suffix) or Gbytes <strong></strong>(<strong>g</strong> suffix).</p>
    </dd>
    <dt><strong>swap</strong></dt>
    <dd>
    <p>The metrics in this area of the kernel instrumentation are of varying value.  We try to report the average number of \f3pages that are paged in (\f3pi) and out (\f3po) per second during the interval. If the corresponding page swapping metrics are unavailable, we report the average rate per second of swap \f3operations in (\f3si) and out (\f3so) during the interval. It is normal for the ``in'' values to be non-zero, but the system is suffering memory stress if the ``out'' values are non-zero over an extended period.</p>
<p class='spacer'>

  <p>If the values become large, they are reported as thousands of operations per second <strong></strong>(<strong>K</strong> suffix) or millions of operations per second <strong></strong>(<strong>M</strong> suffix).</p>
    </dd>
    <dt><strong>io</strong></dt>
    <dd>
    <p>The \f3bi and \f3bo columns indicate the average rate per second of block input and block output operations (respectfully) during the interval. Unless all file systems have a 1 Kbyte block size, these rates do not directly indicate Kbytes transferred.</p>
<p class='spacer'>

  <p>If the values become large, they are reported as thousands of operations per second <strong></strong>(<strong>K</strong> suffix) or millions of operations per second <strong></strong>(<strong>M</strong> suffix).</p>
    </dd>
    <dt><strong>system</strong></dt>
    <dd>
    <p>Interrupt rate (\f3in) and context switch rate (\f3cs). Rates are expressed as average operations per second during the interval. Note that the interrupt rate is normally at least <em>HZ</em> (the clock interrupt rate, usually 100) interrupts per second.</p>
<p class='spacer'>

  <p>If the values become large, they are reported as thousands of operations per second <strong></strong>(<strong>K</strong> suffix) or millions of operations per second <strong></strong>(<strong>M</strong> suffix).</p>
    </dd>
    <dt><strong>cpu</strong></dt>
    <dd>
  <p>Percentage of CPU time spent executing user and "nice user" code (\f3us), system and interrupt processing code (\f3sy), idle loop (\f3id).</p>
    </dd>
  </dl>
<p class='spacer'>

<p>If any values for the associated performance metrics are unavailable, the value appears as ``?'' in the output.</p>
<p class='spacer'>

<p>By default, <strong>pmstat</strong> reports the time of day according to the local timezone on the system where <strong>pmstat</strong> is run. The <strong>-Z</strong> option changes the timezone to <em>timezone</em> in the format of the environment variable <strong>TZ</strong> as described in <a href="../man7/environ.7.html"><strong>environ</strong>(7)</a>. The <strong>-z</strong> option changes the timezone to the local timezone at the host that is the source of the performance metrics, as identified via either the <strong>-h</strong> or <strong>-a</strong> options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>$PCP_VAR_DIR/pmns/</strong><em>*</em></dt>
    <dd>
  <p>default PMNS specification files</p>
    </dd>
    <dt><strong>$PCP_VAR_DIR/config/pmlogger/config.pmstat</strong></dt>
    <dd>
  <p><a href="../man1/pmlogger.1.html"><strong>pmlogger</strong>(1)</a> configuration for creating an archive suitable for replay with <strong>pmstat</strong></p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PCP ENVIRONMENT</h2>
        <div class="sectioncontent">

<p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<p>All are generated on standard error, and are intended to be self-explanatory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pmstat&hellip;</h2>
        <div class="sectioncontent">

<p><strong>PCPIntro</strong>(1), <a href="../man1/pmclient.1.html"><strong>pmclient</strong>(1)</a>, <a href="../man1/pmtime.1.html"><strong>pmtime</strong>(1)</a>, <strong>PMAPI</strong>(3), <strong>pmNewContext</strong>(3), <strong>pcp.conf</strong>(5) and <a href="../man5/pcp.env.5.html"><strong>pcp.env</strong>(5)</a>.</p>
        </div>
      </section>

<nav>
  <ul class="pager">
   <li class="previous"><a href="pmsleep.1.html"><span aria-hidden="true">&larr;</span> pmsleep.1: Portable subsecond-capable sleep</a></li>
   <li class="next"><a href="pmstore.1.html">pmstore.1: Modify performance metric values <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
