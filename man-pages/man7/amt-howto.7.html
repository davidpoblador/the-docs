<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amt-howto: Intel amt with linux mini howto</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Intel amt with linux mini howto">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amt-howto (7) manual">
  <meta name="twitter:description" content="Intel amt with linux mini howto">
  <meta name="twitter:image" content="https://www.carta.tech/images/amtterm-amt-howto-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/amt-howto.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amt-howto (7) manual" />
  <meta property="og:description" content="Intel amt with linux mini howto" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/amtterm-amt-howto-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amt-howto<small> (7)</small></h1>
        <p class="lead">Intel amt with linux mini howto</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amt-howto.7.html">
      <span itemprop="name">amt-howto: Intel amt with linux mini howto</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/amtterm/">
      <span itemprop="name">amtterm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amt-howto.7.html">
      <span itemprop="name">amt-howto: Intel amt with linux mini howto</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<h3>What is AMT and why I should care?</h3>
<p>AMT stands for "Active Management Technology".  It provides some remote management facilities.  They are handled by the hardware and firmware, thus they work independant from the operation system. Means: It works before Linux bootet up to the point where it activated the network interface.  It works even when your most recent test kernel deadlocked the machine.  Which makes it quite useful for development machines ...</p><p>Intel AMT is part of the vPro Platform.  Recent intel-chipset based business machines should have it.  My fairly new Intel SDV machine has it too.</p>
<h3>Documentation</h3>
<p>Look here for documentation beyond this mini howto:</p><p>http://www.intel.com/technology/platform-technology/intel-amt/</p><p>Most useful to get started: "Intel AMT Deployment and Reference Guide"</p>
<h3>Very short AMT enabling instructions.</h3>

<dl class='dl-vertical'>
  <dt>
    <p>Enter BIOS Setup.</p>
  </dt>
  <dd>
    <p>* Enable AMT</p>
  </dd>
  <dt>
    <p>Enter ME (Management Extention) Setup.  Ctrl-P hotkey works for me.</p>
  </dt>
  <dd>
    <p>* Login, factory default password is "admin".</p><p>* Change password.  Trivial ones don't work, must include upper- and lowercase letters, digits, special characters.</p><p>* Enable AMT Managment.</p>
  </dd>
  <dt>
    <p>Reboot, Enter ME Setup again with AMT enabled.</p>
  </dt>
  <dd>
    <p>* Configure AMT (hostname, network config, ...)</p><p>* Use SMB (Small Business) management mode.  The other one (Enterprise) requires Active Directory Service Infrastructure, you don't want that, at least not for your first steps ...</p>
  </dd>

</dl>

<h3>Testing AMT</h3>
<p>Take your browser, point it to http://machine:16992/.  If you configured AMT to use DHCP (which is the default) the OS and the management stack share the same IP address.</p><p>You must do that from a remote host as the NIC intercepts network packets for AMT, thus it doesn't work from the local machine as the packets never pass the NIC then.  If everything is fine you'll see a greeting page with a button for login.</p><p>You can login now, using "admin" as username and the password configured during setup.  You'll see some pages with informations about the machine.  You can also change AMT settings here.</p>
<h3>Control Machine</h3>
<p>You might have noticed already while browing the pages: There is a "Remote Control" page.  You can remotely reset and powercycle the machine there, thus recover the machine after booting a b0rken kernel, without having someone walk over to the machine and hit the reset button.</p>
<h3>Serial-over-LAN (SOL) console</h3>
<p>AMT also provides a virtual serial port which can be accessed via network.  That gives you a serial console without a serial cable to another machine.</p><p>If you have activated AMT and SOL the linux kernel should see an additional serial port, like this on my machine:</p>
<pre>
  [root@xeni ~]# dmesg | grep ttyS2
  0000:00:03.3: ttyS2 at I/O 0xe000 (irq = 169) is a 16550A
</pre>
<p>Edit initab, add a line like this:</p>
<pre>
  T2:2345:respawn:/sbin/getty ttyS2 115200 vt100-nav
</pre>
<p>You should add the serial port to /etc/securetty too so you are able to login as root.  Reload inittab ("init q").  Use amtterm to connect. Tap enter.  You should see a login prompt now and be able to login.</p><p>You can also use that device as console for the linux kernel, using the usual "console=ttyS2,115200" kernel command line argument, so you see the boot messages (and kernel Oopses, if any).</p><p>You can tell grub to use that serial device, so you can pick a working kernel for the next boot.  Usual commands from the grub manual, except that you need "--port=0xe000" instead of "--unit=0" due to the non-standard I/O port for the serial line (my machine, yours might use another port, check linux kernel boot messages).</p><p>The magic command for the Xen kernel is "com1=115200,8n1,0xe000,0" (again, you might have to replace the I/O port).  The final '0' disables the IRQ, otherwise the Xen kernel hangs at boot after enabling interrupts.</p>
<h3>Fun with Xen and AMT</h3>
<p>The AMT network stack seems to become slightly confused when running on a Xen host in DHCP mode.  Everything works fine as long as only Dom0 runs.  But if one starts a guest OS (with bridged networking) AMT suddenly changes the IP address to the one the guest aquired via DHCP.</p><p>It is probably a good idea to assign a separate static IP address to AMT then.  I didn't manage to switch my machine from DHCP to static IP yet though, the BIOS refuses to accept the settings.  The error message doesn't indicate why.</p>
<h3>More fun with AMT</h3>
<p>You might want to download the DTK (Developer Toolkit, source code is available too) and play with it.  The .exe is a self-extracting rar archive and can be unpacked on linux using the unrar utility.  The Switchbox comes with a linux binary (additionally to the Windows stuff).  The GUI tools are written in C#.  Trying to make them fly with mono didn't work for me though (mono version 1.2.3 as shipped with Fedora 7).</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amt-howto&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/amtterm.1.html"><strong>amtterm</strong>(1)</a>, <a href="../man1/gamt.1.html"><strong>gamt</strong>(1)</a>, <a href="../man1/amttool.1.html"><strong>amttool</strong>(1)</a></p><p>http://www.intel.com/technology/platform-technology/intel-amt/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WRITTEN BY</h2>
        <div class="sectioncontent">
<p>Gerd Hoffmann &lt;kraxel@redhat.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amora.7.html"><span aria-hidden="true">&larr;</span> amora.7: Amora (a remote mobile assistant) daemon</a></li>
   <li class="next"><a href="armscii-8.7.html">armscii-8.7: Armenian character set encoded in octal, decimal, and hexadecimal <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
