<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>filter: Cups file conversion filter interface</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cups file conversion filter interface">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="filter (7) manual">
  <meta name="twitter:description" content="Cups file conversion filter interface">
  <meta name="twitter:image" content="https://www.carta.tech/images/cups-filter-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/filter.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="filter (7) manual" />
  <meta property="og:description" content="Cups file conversion filter interface" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cups-filter-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">filter<small> (7)</small></h1>
        <p class="lead">Cups file conversion filter interface</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/filter.7.html">
      <span itemprop="name">filter: Cups file conversion filter interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cups/">
      <span itemprop="name">cups</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/filter.7.html">
      <span itemprop="name">filter: Cups file conversion filter interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>filter</strong> job user title num-copies options [ <em>filename</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The CUPS filter interface provides a standard method for adding support for new document types to CUPS. Each filter is capable of converting from one or more input formats to another format that can either be printed directly or piped into another filter to get it to a printable format.</p><p>Filters <strong>must</strong> be capable of reading from a filename on the command-line or from the standard input, copying the standard input to a temporary file as required by the file format. All output <strong>must</strong> be sent to the standard output.</p><p>The command name (argv[0]) is set to the name of the destination printer but is also available in the PRINTER environment variable.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNING</h2>
        <div class="sectioncontent">
<p>CUPS filters are not meant to be run directly by the user. Aside from the legacy System V interface issues (argv[0] is the printer name), CUPS filters also expect specific environment variables and file descriptors, and typically run in a user session that (on OS X) has additional restrictions that affect how it runs. Unless you are a developer and know what you are doing, please do not run filters directly. Instead, use the <a href="../man8/cupsfilter.8.html"><strong>cupsfilter</strong>(8)</a></em> program to use the appropriate filters to do the conversions you need.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Options passed on the command-line typically do not include the default choices the printer's PPD file. In addition, some options may be specified in multiple ways - "landscape" is a synonym for "orientation-requested=4", "media" is a synonym for "PageSize", "PageRegion", "InputSlot", and "MediaType", and "sides" is a synonym for the various "Duplex" options. Non-raster filters <strong>must</strong> support both explicit and implicit specification of PPD options - use the ppdMarkDefaults and cupsMarkOptions functions in the CUPS library to use the correct mapping, and ppdFindMarkedChoice to get the user-selected choice.</p><p>Raster filters should use option choices set through the raster page header, as those reflect the options in effect for a given page. Options specified on the command-line determine the default values for the entire job, which can be overridden on a per-page basis.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LOG MESSAGES</h2>
        <div class="sectioncontent">
<p>Messages sent to stderr are generally logged to printer-state-message attribute and the current <em>ErrorLog</em>. Each line begins with a standard prefix:</p>
<dl class='dl-vertical'>
  <dt>
    <p>ALERT: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "alert" log level.</p>
  </dd>
  <dt>
    <p>ATTR: attribute=value [attribute=value]</p>
  </dt>
  <dd>
    <p>Sets the named job or printer attribute(s). The following job attributes can be set: "job-media-progress". The following printer attributes can be set: "auth-info-required", "marker-colors", "marker-high-levels", "marker-levels", "marker-low-levels", "marker-message", "marker-names", "marker-types", "printer-alert", and "printer-alert-description".</p>
  </dd>
  <dt>
    <p>CRIT: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "critical" log level.</p>
  </dd>
  <dt>
    <p>DEBUG: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "debug" log level.</p>
  </dd>
  <dt>
    <p>DEBUG2: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "debug2" log level.</p>
  </dd>
  <dt>
    <p>EMERG: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "emergency" log level.</p>
  </dd>
  <dt>
    <p>ERROR: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "error" log level.</p>
  </dd>
  <dt>
    <p>INFO: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute. If the current <em>LogLevel</em> is set to "debug2", also adds the specified message to the current <em>ErrorLog</em> using the "info" log level.</p>
  </dd>
  <dt>
    <p>NOTICE: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "notice" log level.</p>
  </dd>
  <dt>
    <p>PAGE: page-number #-copies</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>PAGE: total #-pages</p>
  </dt>
  <dd>
    <p>Adds an entry to the current <em>PageLog</em>. The first form adds #-copies to the job-media-sheets-completed attribute. The second form sets the job-media-sheets-completed attribute to #-pages.</p>
  </dd>
  <dt>
    <p>PPD: Keyword=Value ... KeywordN=Value</p>
  </dt>
  <dd>
    <p>Sets the named keywords in the printer's PPD file. This is typically used to update default option keywords such as DefaultPageSize and the various installable options in the PPD file.</p>
  </dd>
  <dt>
    <p>STATE: printer-state-reason [printer-state-reason ...]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>STATE: + printer-state-reason [printer-state-reason ...]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>STATE: - printer-state-reason [printer-state-reason ...]</p>
  </dt>
  <dd>
    <p>Sets, adds, or removes printer-state-reason keywords to the current queue. Typically this is used to indicate media, ink, and toner conditions on a printer.</p>
  </dd>
  <dt>
    <p>WARNING: message</p>
  </dt>
  <dd>
    <p>Sets the printer-state-message attribute and adds the specified message to the current <em>ErrorLog</em> using the "warning" log level.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>The following environment variables are defined by the CUPS server when executing the filter:</p>
<dl class='dl-vertical'>
  <dt>
    <p>CHARSET</p>
  </dt>
  <dd>
    <p>The default text character set, typically utf-8.</p>
  </dd>
  <dt>
    <p>CLASS</p>
  </dt>
  <dd>
    <p>When a job is submitted to a printer class, contains the name of the destination printer class. Otherwise this environment variable will not be set.</p>
  </dd>
  <dt>
    <p>CONTENT_TYPE</p>
  </dt>
  <dd>
    <p>The MIME type associated with the file (e.g. application/postscript).</p>
  </dd>
  <dt>
    <p>CUPS_CACHEDIR</p>
  </dt>
  <dd>
    <p>The directory for semi-persistent cache files can be found.</p>
  </dd>
  <dt>
    <p>CUPS_DATADIR</p>
  </dt>
  <dd>
    <p>The directory where data files can be found.</p>
  </dd>
  <dt>
    <p>CUPS_FILETYPE</p>
  </dt>
  <dd>
    <p>The type of file being printed: "job-sheet" for a banner page and "document" for a regular print file.</p>
  </dd>
  <dt>
    <p>CUPS_MAX_MESSAGE</p>
  </dt>
  <dd>
    <p>The maximum size of a message sent to stderr, including any leading prefix and the trailing newline.</p>
  </dd>
  <dt>
    <p>CUPS_SERVERROOT</p>
  </dt>
  <dd>
    <p>The root directory of the server.</p>
  </dd>
  <dt>
    <p>DEVICE_URI</p>
  </dt>
  <dd>
    <p>The device-uri associated with the printer.</p>
  </dd>
  <dt>
    <p>FINAL_CONTENT_TYPE</p>
  </dt>
  <dd>
    <p>The MIME type associated with the printer (e.g. application/vnd.cups-postscript).</p>
  </dd>
  <dt>
    <p>LANG</p>
  </dt>
  <dd>
    <p>The default language locale (typically C or en).</p>
  </dd>
  <dt>
    <p>PATH</p>
  </dt>
  <dd>
    <p>The standard execution path for external programs that may be run by the filter.</p>
  </dd>
  <dt>
    <p>PPD</p>
  </dt>
  <dd>
    <p>The full pathname of the PostScript Printer Description (PPD) file for this printer.</p>
  </dd>
  <dt>
    <p>PRINTER</p>
  </dt>
  <dd>
    <p>The name of the printer.</p>
  </dd>
  <dt>
    <p>RIP_CACHE</p>
  </dt>
  <dd>
    <p>The recommended amount of memory to use for Raster Image Processors (RIPs).</p>
  </dd>
  <dt>
    <p>SOFTWARE</p>
  </dt>
  <dd>
    <p>The name and version number of the server (typically CUPS/1.2).</p>
  </dd>
  <dt>
    <p>TZ</p>
  </dt>
  <dd>
    <p>The timezone of the server.</p>
  </dd>
  <dt>
    <p>USER</p>
  </dt>
  <dd>
    <p>The user executing the filter, typically "lp" or "root"; consult the <a href="../man5/cupsd.conf.5.html"><strong>cupsd.conf</strong>(5)</a></em> file for the current setting.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p>While the filter interface is compatible with System V interface scripts, it will only work with the System V interface script as the only filter.  Typically the interface script will be provided via the <a href="../man8/lpadmin.8.html"><strong>lpadmin</strong>(8)</a></em> command using the <em>-i</em> option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO filter&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/backend.7.html"><strong>backend</strong>(7)</a></em>, <a href="../man8/cupsd.8.html"><strong>cupsd</strong>(8)</a></em>, <a href="../man8/cupsfilter.8.html"><strong>cupsfilter</strong>(8)</a></em>,</p><p>http://localhost:631/help</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2007-2013 by Apple Inc.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="filesystem.7.html"><span aria-hidden="true">&larr;</span> filesystem.7: Event signalling that filesystems have been mounted</a></li>
   <li class="next"><a href="filter_backends.7.html">filter_backends.7: Output drivers for the filtergen packet filter compiler <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
