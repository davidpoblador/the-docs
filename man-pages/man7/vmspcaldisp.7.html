<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vmspcaldisp: Determine spectral distortion models from flat field and arc lamp exposure.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Determine spectral distortion models from flat field and arc lamp exposure.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vmspcaldisp (7) manual">
  <meta name="twitter:description" content="Determine spectral distortion models from flat field and arc lamp exposure.">
  <meta name="twitter:image" content="https://www.carta.tech/images/cpl-plugin-vimos-doc-vmspcaldisp-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/vmspcaldisp.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vmspcaldisp (7) manual" />
  <meta property="og:description" content="Determine spectral distortion models from flat field and arc lamp exposure." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cpl-plugin-vimos-doc-vmspcaldisp-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vmspcaldisp<small> (7)</small></h1>
        <p class="lead">Determine spectral distortion models from flat field and arc lamp exposure.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/vmspcaldisp.7.html">
      <span itemprop="name">vmspcaldisp: Determine spectral distortion models from flat field and arc lamp exposure.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cpl-plugin-vimos-doc/">
      <span itemprop="name">cpl-plugin-vimos-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/vmspcaldisp.7.html">
      <span itemprop="name">vmspcaldisp: Determine spectral distortion models from flat field and arc lamp exposure.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>esorex <strong>vmspcaldisp</strong> [OPTIONS] FILE.sof</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This recipe is used to determine all the spectral distortions and transformations from an arc lamp exposure and a master flat field produced by the recipe vmspflat.</p><p>Input files:</p>
<pre>
  DO category:               Type:       Explanation:         Required:
  MOS_ARC_SPECTRUM           Raw         Arc lamp exposure       Y
  MASTER_BIAS                Calib       Master bias             Y
  MASTER_DARK                Calib       Master dark             .
</pre>

<pre>
  MOS_MASTER_SCREEN_FLAT     Calib       Normalised flat field   .
</pre>

<pre>
  MOS_COMBINED_SCREEN_FLAT   Calib       Combined flat field     .
</pre>

<pre>
  GRISM_TABLE                Calib       Grism table             Y
  LINE_CATALOG               Calib       Line catalog            Y
  EXTRACT_TABLE              Calib       Extraction table        .
</pre>

<pre>
  CCD_TABLE                  Calib       Bad pixel table         .
</pre>
<p>Output files:</p>
<pre>
  DO category:               Data type:  Explanation:
  EXTRACT_TABLE              FITS table  Extraction table
  MOS_ARC_SPECTRUM_EXTRACTED FITS image  Sky subtracted slit spectra
  (none)                     PAF         Distortion models
</pre>
<p>At least one raw arc lamp exposure should be present in the input SOF.</p><p>The normalised and the combined flat fields are the products of the recipe vmspflat run on flat field data obtained with the same mask.</p><p>Neither of them is required for running vmspcaldisp, but if a combined flat field is not given then no spectral curvature model can be computed, and a first-guess is used in its place. A normalised master flat field needs to be specified only if a flat field correction is requested.</p><p>The bad pixel table needs to be specified only if the cleaning of bad pixels is requested.</p><p>An extraction table generated from previous runs might be input to the recipe, in order to iterate the modeling of the spectral distortions.</p><p>The grism table contains necessary information to control the way spectra are extracted and the determination of the distortion models.</p><p>The vmspcaldisp recipe gets from the grism table the wavelength that should be used as reference (header entry PRO WLEN CEN), and the spectrum extension in CCD pixels above and below the position of the reference wavelength (header entries PRO SPECT LLEN LO and PRO SPECT LLEN HI). Other parameters, used in the construction of the extracted arc lamp slit spectra, are the start and the end wavelength of the image containing the extracted spectra (header entries PRO WLEN START and PRO WLEN END), and the step of the sampling along the dispersion direction (header entry PRO WLEN INC).</p><p>The primary recipe product is the extraction table, that contains information about the local modelling of spectral distortions.</p><p>A secondary product of the vmspcaldisp recipe is the image of extracted slit spectra, that allows a visual check of the distortion models quality. A last product is the PAF file carrying all the information related to the spectral distortions. This PAF file is copied (or moved) to the product directory, and it is identical to the IWS configuration file MOS_wavecal_G_Q.cmf where Q indicates the VIMOS quadrant number, and G the grism name) that is created in the directory where vmspcaldisp is launched.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--BiasMethod</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Bias removal method. (str; default: \'Zmaster\'). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.bias.removing.method</strong> [default = <em>Zmaster</em>].</p>
  </dd>
  <dt>
    <p><strong>--Fuzz</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Extra pixels from expected position of spectrum edge in spectral extraction. (long; default: 10). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.extraction.fuzz</strong> [default = <em>10</em>].</p>
  </dd>
  <dt>
    <p><strong>--RefineIDS</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Refine Inverse Dispersion Solution. (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.ids.refine</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--ExtractionWindow</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Size of search window around expected arc line positions. (long; default: 10). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.extraction.window</strong> [default = <em>10</em>].</p>
  </dd>
  <dt>
    <p><strong>--ApplyFlatField</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Flat field correction for input arc lamp frames. (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.flat.apply</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--CleanBadPixel</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Bad pixel correction on arc lamp image. (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.badpixel.clean</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--CleanCosmic</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Cosmic ray events cleaning in arc lamp image. (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.cosmics.clean</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--LineIdent</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Arc line identification method. (str; default: \'FirstGuess\'). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.line.ident.method</strong> [default = <em>FirstGuess</em>].</p>
  </dd>
  <dt>
    <p><strong>--LineIdentLevel</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Threshold for peak detection. (float; default: 500.0). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.line.ident.level</strong> [default = <em>500.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--ArcExtraction</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Arc lamp 2D extraction according to computed Local or Global IDS. (str; default: \'Local\'). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.extraction</strong> [default = <em>Local</em>].</p>
  </dd>
  <dt>
    <p><strong>--ModelSlit</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Model wavelength solution within each slit. (bool; default: True). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.slit.model</strong> [default = <em>True</em>].</p>
  </dd>
  <dt>
    <p><strong>--ModelSlitOrder</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Order of polynomial for wavelength solution modeling within each slit. (long; default: 0). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.slit.order</strong> [default = <em>0</em>].</p>
  </dd>
  <dt>
    <p><strong>--ComputeQC</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Compute QC1 parameters. (bool; default: True). The full name of this option for the EsoRex configuration file is <strong>vimos.Parameters.quality.enable</strong> [default = <em>True</em>].</p>
  </dd>

</dl>
<p>Note that it is possible to create a configuration file containing these options, along with suitable default values. Please refer to the details provided by the 'esorex --help' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO vmspcaldisp&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for the vimos pipeline can be downloaded as a PDF file using the following URL:</p><ul>
<li><p><strong>ftp://ftp.eso.org/pub/dfs/pipelines/vimos/vimos-pipeline-manual-6.9.pdf</strong></p></li>
</ul><p>An overview over the existing ESO pipelines can be found on the web page <strong>http://www.eso.org/sci/software/pipelines/</strong>.</p><p>Basic documentation about the EsoRex program can be found at the esorex (1) man page.</p><p>It is possible to call the pipelines from python using the python-cpl package. See <strong>http://packages.python.org/python-cpl/index.html</strong> for further information.</p><p>The other recipes of the vimos pipeline are <a href="../man7/vmifucombinecube.7.html"><strong>vmifucombinecube</strong>(7)</a>, <a href="../man7/vmifucalib.7.html"><strong>vmifucalib</strong>(7)</a>, <a href="../man7/vmimflatsky.7.html"><strong>vmimflatsky</strong>(7)</a>, <a href="../man7/vmspflat.7.html"><strong>vmspflat</strong>(7)</a>, <a href="../man7/vmmosobsstare.7.html"><strong>vmmosobsstare</strong>(7)</a>, <a href="../man7/vmimflatscreen.7.html"><strong>vmimflatscreen</strong>(7)</a>, <a href="../man7/vmimpreimaging.7.html"><strong>vmimpreimaging</strong>(7)</a>, <a href="../man7/vmimcalphot.7.html"><strong>vmimcalphot</strong>(7)</a>, <a href="../man7/vmmoscombine.7.html"><strong>vmmoscombine</strong>(7)</a>, <a href="../man7/vmimstandard.7.html"><strong>vmimstandard</strong>(7)</a>, <a href="../man7/vmmosobsjitter.7.html"><strong>vmmosobsjitter</strong>(7)</a>, <a href="../man7/vmifucombine.7.html"><strong>vmifucombine</strong>(7)</a>, <a href="../man7/vmimobsjitter.7.html"><strong>vmimobsjitter</strong>(7)</a>, <a href="../man7/vmspphot.7.html"><strong>vmspphot</strong>(7)</a>, <a href="../man7/vmdet.7.html"><strong>vmdet</strong>(7)</a>, <a href="../man7/vmmosscience.7.html"><strong>vmmosscience</strong>(7)</a>, <a href="../man7/vmmosstandard.7.html"><strong>vmmosstandard</strong>(7)</a>, <a href="../man7/vmifustandard.7.html"><strong>vmifustandard</strong>(7)</a>, <a href="../man7/vmbias.7.html"><strong>vmbias</strong>(7)</a>, <a href="../man7/vmmoscalib.7.html"><strong>vmmoscalib</strong>(7)</a>, <a href="../man7/vmimobsstare.7.html"><strong>vmimobsstare</strong>(7)</a>, <a href="../man7/vmdark.7.html"><strong>vmdark</strong>(7)</a>, <a href="../man7/vmifuscience.7.html"><strong>vmifuscience</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>vmspcaldisp 2.9.15</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>ESO VIMOS Pipeline Team and VIMOS Consortium &lt;usd-help@eso.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p>Please report any problems to usd-help@eso.org. Alternatively, you may send a report to the ESO User Support Department &lt;usd-help@eso.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This file is part of the VIMOS Instrument Pipeline Copyright (C) 2002-2005 European Southern Observatory</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="vmmosstandard.7.html"><span aria-hidden="true">&larr;</span> vmmosstandard.7: Reduce a mos standard star exposure.</a></li>
   <li class="next"><a href="vmspflat.7.html">vmspflat.7: Build master flat field from a set of raw mos flat fields. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
