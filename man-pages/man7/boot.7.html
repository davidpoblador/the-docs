<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>boot: General description of boot sequence</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="General description of boot sequence">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="boot (7) manual">
  <meta name="twitter:description" content="General description of boot sequence">
  <meta name="twitter:image" content="https://www.carta.tech/images/manpages-boot-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/boot.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="boot (7) manual" />
  <meta property="og:description" content="General description of boot sequence" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/manpages-boot-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">boot<small> (7)</small></h1>
        <p class="lead">General description of boot sequence</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/boot.7.html">
      <span itemprop="name">boot: General description of boot sequence</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/manpages/">
      <span itemprop="name">manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/boot.7.html">
      <span itemprop="name">boot: General description of boot sequence</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The boot sequence varies in details among systems but can be roughly divided to the following steps: (i) hardware boot, (ii) operating system (OS) loader, (iii) kernel startup, (iv) init and inittab, (v) boot scripts. We will describe each of these in more detail below.</p><h3>Hardware-boot</h3>
<p>After power-on or hard reset, control is given to a program stored on read-only memory (normally PROM). In PC we usually call this program the <strong>BIOS</strong>.</p><p>This program normally makes a basic self-test of the machine and accesses nonvolatile memory to read further parameters. This memory in the PC is battery-backed CMOS memory, so most people refer to it as the <strong>CMOS</strong>, although outside of the PC world, it is usually called <strong>nvram</strong> (nonvolatile ram).</p><p>The parameters stored in the nvram vary between systems, but as a minimum, the hardware boot program should know what is the boot device, or which devices to probe as possible boot devices.</p><p>Then the hardware boot stage accesses the boot device, loads the OS loader, which is located on a fixed position on the boot device, and transfers control to it.</p>
<dl class='dl-vertical'>
  <dt>
    <p>Note:</p>
  </dt>
  <dd>
    <p>We do not cover here booting from network. Those who want to investigate this subject may want to research: DHCP, TFTP, PXE, Etherboot.</p>
  </dd>

</dl>

<h3>OS loader</h3>
<p>In PC, the OS loader is located in the first sector of the boot device - this is the <strong>MBR</strong> (Master Boot Record).</p><p>In most systems, this primary loader is very limited due to various constraints. Even on non-PC systems there are some limitations to the size and complexity of this loader, but the size limitation of the PC MBR (512 bytes including the partition table) makes it almost impossible to squeeze a full OS loader into it.</p><p>Therefore, most operating systems make the primary loader call a secondary OS loader which may be located on a specified disk partition.</p><p>In Linux the OS loader is normally <a href="../man8/lilo.8.html"><strong>lilo</strong>(8)</a> or <a href="../man8/grub.8.html"><strong>grub</strong>(8)</a>. Both of them may install either as secondary loaders (where the DOS installed MBR points to them), or as a two part loader where they provide special MBR containing the bootstrap code to load the second part of the loader from the root partition.</p><p>The main job of the OS loader is to locate the kernel on the disk, load it and run it. Most OS loaders allow interactive use, to enable specification of alternative kernel (maybe a backup in case the last compiled one isn't functioning) and to pass optional parameters to the kernel.</p>
<h3>Kernel startup</h3>
<p>When the kernel is loaded, it initializes the devices (via their drivers), starts the swapper (it is a "kernel process", called kswapd in modern Linux kernels), and mounts the root filesystem (/).</p><p>Some of the parameters that may be passed to the kernel relate to these activities (e.g: You can override the default root filesystem). For further information on Linux kernel parameters read <a href="../man7/bootparam.7.html"><strong>bootparam</strong>(7)</a>.</p><p>Only then the kernel creates the first (user land) process which is numbered 1. This process executes the program <em>/sbin/init</em>, passing any parameters that weren't handled by the kernel already.</p>
<h3>init and inittab</h3>
<p>When init starts it reads <em>/etc/inittab</em> for further instructions. This file defines what should be run in different <em>run-levels</em>.</p><p>This gives the system administrator an easy management scheme, where each run-level is associated with a set of services (e.g, <strong>S</strong> is <em>single-user</em>, on <strong>2</strong> most network services start). The administrator may change the current run-level via <a href="../man8/init.8.html"><strong>init</strong>(8)</a> and query the current run-level via <a href="../man8/runlevel.8.html"><strong>runlevel</strong>(8)</a>.</p><p>However, since it is not convenient to manage individual services by editing this file, inittab only bootstraps a set of scripts that actually start/stop the individual services.</p>
<h3>Boot scripts</h3>

<dl class='dl-vertical'>
  <dt>
    <p>Note:</p>
  </dt>
  <dd>
    <p>The following description applies to System V release 4-based systems, which currently covers most commercial UNIX systems (Solaris, HP-UX, Irix, Tru64) as well as the major Linux distributions (Red Hat, Debian, Mandriva, SUSE, Ubuntu). Some systems (Slackware Linux, FreeBSD, OpenBSD) have a somewhat different scheme of boot scripts.</p>
  </dd>

</dl>
<p>For each managed service (mail, nfs server, cron, etc.) there is a single startup script located in a specific directory (<em>/etc/init.d</em> in most versions of Linux). Each of these scripts accepts as a single argument the word "start" -- causing it to start the service, or the word "stop" -- causing it to stop the service. The script may optionally accept other "convenience" parameters (e.g: "restart", to stop and then start, "status" to display the service status). Running the script without parameters displays the possible arguments.</p>
<h3>Sequencing directories</h3>
<p>To make specific scripts start/stop at specific run-levels and in specific order, there are <em>sequencing directories</em>. These are normally in <em>/etc/rc[0-6S].d</em>. In each of these directories there are links (usually symbolic) to the scripts in the <em>/etc/init.d</em> directory.</p><p>A primary script (usually <em>/etc/rc</em>) is called from <a href="../man5/inittab.5.html"><strong>inittab</strong>(5)</a> and calls the services scripts via the links in the sequencing directories. All links with names that begin with &apos;S&apos; are being called with the argument "start" (thereby starting the service). All links with names that begin with &apos;K&apos; are being called with the argument "stop" (thereby stopping the service).</p><p>To define the starting or stopping order within the same run-level, the names of the links contain order-numbers. Also, to make the names clearer, they usually end with the name of the service they refer to. Example: the link <em>/etc/rc2.d/S80sendmail</em> starts the sendmail service on runlevel 2. This happens after <em>/etc/rc2.d/S12syslog</em> is run but before <em>/etc/rc2.d/S90xfs</em> is run.</p><p>To manage the boot order and run-levels, we have to manage these links. However, on many versions of Linux, there are tools to help with this task (e.g: <a href="../man8/chkconfig.8.html"><strong>chkconfig</strong>(8)</a>).</p>
<h3>Boot configuration</h3>
<p>Usually the daemons started may optionally receive command-line options and parameters. To allow system administrators to change these parameters without editing the boot scripts themselves, configuration files are used. These are located in a specific directory (<em>/etc/sysconfig</em> on Red Hat systems) and are used by the boot scripts.</p><p>In older UNIX systems, these files contained the actual command line options for the daemons, but in modern Linux systems (and also in HP-UX), these files just contain shell variables. The boot scripts in <em>/etc/init.d</em> <strong>source</strong> the configuration files, and then use the variable values.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/init.d/</em>, <em>/etc/rc[S0-6].d/</em>, <em>/etc/sysconfig/</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO boot&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/inittab.5.html"><strong>inittab</strong>(5)</a>, <a href="../man7/bootparam.7.html"><strong>bootparam</strong>(7)</a>, <a href="../man8/init.8.html"><strong>init</strong>(8)</a>, <a href="../man8/runlevel.8.html"><strong>runlevel</strong>(8)</a>, <a href="../man8/shutdown.8.html"><strong>shutdown</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COLOPHON</h2>
        <div class="sectioncontent">
<p>This page is part of release 3.74 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at http://www.kernel.org/doc/man-pages/.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="bluemon-dbus.7.html"><span aria-hidden="true">&larr;</span> bluemon-dbus.7: Bluemon  dbus interface to bluemon(1)</a></li>
   <li class="next"><a href="bootparam.7.html">bootparam.7: Introduction to boot time parameters of the linux kernel <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
