<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>kmo_shift: Shift a cube spatially</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shift a cube spatially">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="kmo_shift (7) manual">
  <meta name="twitter:description" content="Shift a cube spatially">
  <meta name="twitter:image" content="https://www.carta.tech/images/cpl-plugin-kmos-doc-kmo_shift-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/kmo_shift.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="kmo_shift (7) manual" />
  <meta property="og:description" content="Shift a cube spatially" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cpl-plugin-kmos-doc-kmo_shift-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">kmo_shift<small> (7)</small></h1>
        <p class="lead">Shift a cube spatially</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/kmo_shift.7.html">
      <span itemprop="name">kmo_shift: Shift a cube spatially</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cpl-plugin-kmos-doc/">
      <span itemprop="name">cpl-plugin-kmos-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/kmo_shift.7.html">
      <span itemprop="name">kmo_shift: Shift a cube spatially</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>esorex <strong>kmo_shift</strong> [OPTIONS] FILE.sof</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This recipe shifts a cube spatially. A positive x-shift shifts the data to the left, a positive y-shift shifts upwards, where a shift of one pixel equals 0.2arcsec. The output will still have the same dimensions, but the borders will be filled with NaNs accordingly.</p><p>To adjust only the WCS without moving the data the --wcs-only parameter has to be set to TRUE. The WCS is updated in the same way as if the data would have moved as well. This means that the point at (x,y) has the same coordinates as the point (x+1,y+1) after updating the WCS (the WCS moved in the opposite direction).</p><h3>BASIC PARAMETERS</h3>
<p>--shifts This parameter must be supplied. It contains the amount of shift to apply. The unit is in arcsec. If the --shifts parameter contains only two values (x,y), all IFUs will be shifted by the same amount. If it contains 48 values (x1,y1;x2,y2;...;x24,y24), the IFUs are shifted individually.</p><p>--imethod The interpolation method to apply when the shift value isnâ€™t a multiple of the pixel scale. There are two methods available:</p>
<pre>
   * BCS: Bicubic spline
   * NN:  Nearest Neighbor
</pre>
<p>--ifu If a single IFU should be shifted, it can be defined using the --ifu parameter (--shifts parameter contains only two values).</p>
<h3>ADVANCED PARAMETERS</h3>
<p>--flux Specify if flux conservation should be applied.</p><p>--extrapolate By default no extrapolation is applied. This means that the output frame will shrink at most one pixel, because the data is shifted out of the frame. When turning extrapolation on, the size of the output frame stays the same as for the input frame.</p><p>--wcs-only By default data and WCS are shifted in sync. If this parameter is set to TRUE only the WCS is updated (i.e. if someone thinks that the IFU isn\'t pointing exactly to the correct coordinates.)</p>
<pre>
  Input files:
</pre>

<pre>
   DO                    KMOS
   category              Type   Explanation                    Required #Frames
   --------              -----  -----------                    -------- -------
   &lt;none or any&gt;         F3I    data frame                        Y        1
</pre>

<pre>
  Output files:
</pre>

<pre>
   DO                    KMOS
   category              Type   Explanation
   --------              -----  -----------
   SHIFT                 F3I    Shifted data cube
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--imethod</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Method to use for interpolation. ["BCS" (bicubic spline, default), "NN" (nearest neighbor)] (str; default: \'BCS\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_shift.imethod</strong> [default = <em>BCS</em>].</p>
  </dd>
  <dt>
    <p><strong>--extrapolate</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Applies only to \'method=BCS\' when doing sub-pixel shifts: FALSE: shifted IFU will be filled with NaN\'s at the borders,TRUE: shifted IFU will be extrapolated at the borders (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_shift.extrapolate</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--shifts</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>The shifts for each spatial dimension for all specified IFUs."x1,y1;x2,y2;..." (arcsec) (str; default: \'\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_shift.shifts</strong> [default = <em></em>].</p>
  </dd>
  <dt>
    <p><strong>--ifu</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The IFU to shift [1 to 24] or shift all IFUs Default value of 0 applies shift to all IFUs. (long; default: 0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_shift.ifu</strong> [default = <em>0</em>].</p>
  </dd>
  <dt>
    <p><strong>--flux</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Apply flux conservation: (TRUE (apply) or FALSE (don\'t apply) (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_shift.flux</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--wcs-only</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>FALSE: if data and wcs should be updated.TRUE: if only wcs should be corrected (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_shift.wcs-only</strong> [default = <em>False</em>].</p>
  </dd>

</dl>
<p>Note that it is possible to create a configuration file containing these options, along with suitable default values. Please refer to the details provided by the 'esorex --help' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO kmo_shift&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for the kmos pipeline can be downloaded as a PDF file using the following URL:</p><ul>
<li><p><strong>ftp://ftp.eso.org/pub/dfs/pipelines/kmos/kmos-pipeline-manual-2.9.pdf</strong></p></li>
</ul><p>An overview over the existing ESO pipelines can be found on the web page <strong>http://www.eso.org/sci/software/pipelines/</strong>.</p><p>Basic documentation about the EsoRex program can be found at the esorex (1) man page.</p><p>It is possible to call the pipelines from python using the python-cpl package. See <strong>http://packages.python.org/python-cpl/index.html</strong> for further information.</p><p>The other recipes of the kmos pipeline are <a href="../man7/kmo_copy.7.html"><strong>kmo_copy</strong>(7)</a>, <a href="../man7/kmo_fits_check.7.html"><strong>kmo_fits_check</strong>(7)</a>, <a href="../man7/kmo_sci_red.7.html"><strong>kmo_sci_red</strong>(7)</a>, <a href="../man7/kmo_fits_stack.7.html"><strong>kmo_fits_stack</strong>(7)</a>, <a href="../man7/kmo_noise_map.7.html"><strong>kmo_noise_map</strong>(7)</a>, <a href="../man7/kmo_rotate.7.html"><strong>kmo_rotate</strong>(7)</a>, <a href="../man7/kmo_extract_spec.7.html"><strong>kmo_extract_spec</strong>(7)</a>, <a href="../man7/kmo_multi_reconstruct.7.html"><strong>kmo_multi_reconstruct</strong>(7)</a>, <a href="../man7/kmo_sky_tweak.7.html"><strong>kmo_sky_tweak</strong>(7)</a>, <a href="../man7/kmos_gen_reflines.7.html"><strong>kmos_gen_reflines</strong>(7)</a>, <a href="../man7/kmo_stats.7.html"><strong>kmo_stats</strong>(7)</a>, <a href="../man7/kmo_arithmetic.7.html"><strong>kmo_arithmetic</strong>(7)</a>, <a href="../man7/kmos_dark.7.html"><strong>kmos_dark</strong>(7)</a>, <a href="../man7/kmo_fits_strip.7.html"><strong>kmo_fits_strip</strong>(7)</a>, <a href="../man7/kmo_combine.7.html"><strong>kmo_combine</strong>(7)</a>, <a href="../man7/kmo_std_star.7.html"><strong>kmo_std_star</strong>(7)</a>, <a href="../man7/kmo_illumination_flat.7.html"><strong>kmo_illumination_flat</strong>(7)</a>, <a href="../man7/kmo_make_image.7.html"><strong>kmo_make_image</strong>(7)</a>, <a href="../man7/kmos_flat.7.html"><strong>kmos_flat</strong>(7)</a>, <a href="../man7/kmo_fit_profile.7.html"><strong>kmo_fit_profile</strong>(7)</a>, <a href="../man7/kmo_sky_mask.7.html"><strong>kmo_sky_mask</strong>(7)</a>, <a href="../man7/kmos_illumination.7.html"><strong>kmos_illumination</strong>(7)</a>, <a href="../man7/kmos_wave_cal.7.html"><strong>kmos_wave_cal</strong>(7)</a>, <a href="../man7/kmo_reconstruct.7.html"><strong>kmo_reconstruct</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>kmo_shift 1.3.5</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Alex Agudo Berbel &lt;usd-help@eso.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p>Please report any problems to usd-help@eso.org. Alternatively, you may send a report to the ESO User Support Department &lt;usd-help@eso.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This file is part of the CRIRES Instrument Pipeline Copyright (C) 2002,2003 European Southern Observatory</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="kmo_sci_red.7.html"><span aria-hidden="true">&larr;</span> kmo_sci_red.7: Reconstruct obj/sky-pairs individually and combine them afterwards</a></li>
   <li class="next"><a href="kmo_sky_mask.7.html">kmo_sky_mask.7: Create a mask of spatial pixels that indicates which pixels can be considered as sky. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
