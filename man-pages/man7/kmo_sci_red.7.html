<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>kmo_sci_red: Reconstruct obj/sky-pairs individually and combine them afterwards</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Reconstruct obj/sky-pairs individually and combine them afterwards">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="kmo_sci_red (7) manual">
  <meta name="twitter:description" content="Reconstruct obj/sky-pairs individually and combine them afterwards">
  <meta name="twitter:image" content="https://www.carta.tech/images/cpl-plugin-kmos-doc-kmo_sci_red-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/kmo_sci_red.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="kmo_sci_red (7) manual" />
  <meta property="og:description" content="Reconstruct obj/sky-pairs individually and combine them afterwards" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cpl-plugin-kmos-doc-kmo_sci_red-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">kmo_sci_red<small> (7)</small></h1>
        <p class="lead">Reconstruct obj/sky-pairs individually and combine them afterwards</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/kmo_sci_red.7.html">
      <span itemprop="name">kmo_sci_red: Reconstruct obj/sky-pairs individually and combine them afterwards</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cpl-plugin-kmos-doc/">
      <span itemprop="name">cpl-plugin-kmos-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/kmo_sci_red.7.html">
      <span itemprop="name">kmo_sci_red: Reconstruct obj/sky-pairs individually and combine them afterwards</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>esorex <strong>kmo_sci_red</strong> [OPTIONS] FILE.sof</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Ideally at least two data frames have to be provided since we need for each IFU pointing to an object as well a sky frame for the same IFU.</p><p>If an OH spectrum is given in the SOF file the lambda axis will be corrected using the OH lines as reference.</p><p>Every IFU containing an object will be reconstructed and divided by telluric and illumination correction. By default these intermediate cubes are saved to disk. Frames just containing skies wonâ€™t produce an output here, so the number of output frames can be smaller than the number of input frames.</p><p>Then the reconstructed objects with the same object name are combined. These outputs are also saved to disk, the number of created files depends on the number of reconstructed objects of different name. If the user just wants to combine a certain object, the parameters --name or --ifus can be used.</p><p>For exposures taken with the templates KMOS_spec_obs_mapping8 and KMOS_spec_obs_mapping24 the recipe behaves a bit different: All active IFUs will be combined, regardless of the object names.</p><h3>BASIC PARAMETERS</h3>
<p>--imethod The interpolation method used for reconstruction.</p><p>--smethod The interpolation method used for shifting.</p><p>--name --ifus Since an object can be present only once per exposure and since it can be located in different IFUs for the existing exposures, there are two modes to identify the objects:</p>
<pre>
   * Combine by object names (default)
   In this case the object name must be provided via the --name parameter.
</pre>

<pre>
   The object name will be searched for in all primary headers of all
   provided frames in the keyword ESO OCS ARMx NAME.
</pre>

<pre>
   * Combine by index (advanced)
   In this case the --ifus parameter must be provided. The parameter must
   have the same number of entries as frames are provided, e.g.  "3;1;24"
   for 3 exposures. The index doesn\'t reference the extension in the frame
   but the real index of the IFU as defined in the EXTNAME keyword.
</pre>

<pre>
   (e.g. \'IFU.3.DATA\')
</pre>

<h3>ADVANCED PARAMETERS</h3>
<p>--flux Specify if flux conservation should be applied.</p><p>--background Specify if background removal should be applied.</p><p>--suppress_extension If set to TRUE, the arbitrary filename extensions are supressed. If multiple products with the same category are produced, they will be numered consecutively starting from 0.</p><p>--sky_tweak If set to TRUE sky substraction is not done by subtracting the corresponding detector images but subtracting a modified sky cube from the object cube.</p><p>It is not allowed that "--sky_tweak" and "--no_subtract" both are TRUE.</p><p>--tbsub If set to TRUE subtract the thermal background from the cube resulting from sky tweaking.</p><p>Default value is TRUE.</p><p>--obj_sky_table The automatic obj-sky-associations can be modified by indicating a file with the desired associations. Therefore the file written to disk by default (without setting this option) can be edited manually. The formatting must absolutely be retained, just the type codes (\'O\' and\'S\') and the associated frame indices should be altered</p>
<pre>
  Advanced reconstruction parameters
  ----------------------------------
</pre>
<p>--neighborhoodRange Defines the range to search for neighbors during reconstruction</p><p>--b_samples The number of samples in spectral direction for the reconstructed cube.</p><p>Ideally this number should be greater than 2048, the detector size.</p><p>--b_start --b_end Used to define manually the start and end wavelength for the reconstructed cube. By default the internally defined values are used.</p><p>--fast_mode If set to TRUE, the reconstructed cubes will be collapsed (using median) and only then be shifted and combined.</p><p>--pix_scale Change the pixel scale [arcsec]. Default of 0.2" results into cubes of 14x14pix, a scale of 0.1" results into cubes of 28x28pix, etc.</p><p>--no_subtract If set to TRUE, the found objects and references won\'t be sky subtracted. Additionally all IFUs will be reconstructed, even the ones containing skies.</p><p>This option sets the parameter no_combine to TRUE automatically.</p><p>--xcal_interpolation If true interpolate the pixel position in the slitlet (xcal) using the two closest rotator angles in the calibration file. Otherwise take the values of the closest rotator angle</p><p>--extrapolate By default no extrapolation is applied. This means that the intermediate reconstructed cubes will shrink at most one pixel, which is ok for templates like KMOS_spec_obs_nodtosky or KMOS_spec_obs_freedither. When the cubes will be arranged as a map, a grid is likely to occur between the IFUs. Therefore extrapolation during the shifting process can be switched on in order to get IFUs of original size. For frames taken with mapping templates, extrapolation is switched on automatically.</p><p>--velocity_offset Specifies the velocity offset correction in km/s for lambda scale.</p><p>Default is 0.0 km/s, i.e. no velocity correction.</p><p>--save_interims If set to TRUE the interim object and sky cubes used for sky tweaking are saved to FITS file in the same format as SCI_RECONSTRUCTED Default is FALSE.</p>
<pre>
  Advanced combining parameters
  ----------------------------------
</pre>
<p>--edge_nan Set borders of two sides of the cubes to NaN before combining them. This minimises unwanted border effects when dithering.</p><p>--no_combine If set to TRUE, the reconstructed cubes will not be combined.</p><p>--method There are following sources to get the shift parameters from:</p>
<pre>
   * \'header\' (default)
   The shifts are calculated according to the WCS information stored in the
   header of every IFU. The output frame will get larger, except the object
   is at the exact same position for all exposures. The size of the
   exposures can differ, but the orientation must be the same for all
   exposures.
</pre>

<pre>
   * \'none\'
   The cubes are directly recombined, not shifting at all. The output frame
   will have the same dimensions as the input cubes.
</pre>

<pre>
   If the size differs a warning will be emitted and the cubes will be
   aligned to the lower left corner. If the orientation differs a warning
   will be emitted, but the cubes are combined anyway.
</pre>

<pre>
   * \'center\'
   The shifts are calculated using a centering algorithm. The cube will be
   collapsed and a 2D profile will be fitted to it to identify the centre.
</pre>

<pre>
   With the parameter --fmethod the function to fit can be provided. The
   size of the exposures can differ, but the orientation must be the same
   for all exposures.
</pre>

<pre>
   * \'user\'
   Read the shifts from a user specified file. The path of the file must be
   provided using the --filename parameter. For every exposure (except the
   first one) two shift values are expected per line, they have to be
   separated with simple spaces. The values indicate pixel shifts and are
   referenced to the first frame. The 1st value is the shift in x-direction
   to the left, the 2nd the shift in y-direction upwards. The size of the
   exposures can differ, but the orientation must be the same for all
   exposures.
</pre>
<p>--fmethod see --method=\'center\' The type of function that should be fitted spatially to the collapsed image.</p><p>This fit is used to create a mask to extract the spectrum of the object.</p><p>Valid values are \'gauss\' and \'moffat\'.</p><p>--filename see --method=\'user\'</p><p>--cmethod Following methods of frame combination are available:</p>
<pre>
   * \'ksigma\' (Default)
   An iterative sigma clipping. For each position all pixels in the spectrum
   are examined. If they deviate significantly, they will be rejected
   according to the conditions:
       val &gt; mean + stdev * cpos_rej
   and
       val &lt; mean - stdev * cneg_rej
   where --cpos_rej, --cneg_rej and --citer are the corresponding
   configuration parameters. In the first iteration median and percentile
   level are used.
</pre>

<pre>
   * \'median\'
   At each pixel position the median is calculated.
</pre>

<pre>
   * \'average\'
   At each pixel position the average is calculated.
</pre>

<pre>
   * \'sum\'
   At each pixel position the sum is calculated.
</pre>

<pre>
   * \'min_max\'
   The specified number of minimum and maximum pixel values will be
   rejected.
</pre>

<pre>
   --cmax and --cmin apply to this method.
</pre>
<p>--cpos_rej --cneg_rej --citer see --cmethod=\'ksigma\'</p><p>--cmax --cmin see --cmethod=\'min_max\'</p>
<pre>
  Input files:
</pre>

<pre>
   DO                KMOS
   category          Type   Explanation                   Required #Frames
   --------          -----  -----------                   -------- -------
   SCIENCE           RAW    The science frames                Y      &gt;=1
   XCAL              F2D    x calibration frame               Y       1
   YCAL              F2D    y calibration frame               Y       1
   LCAL              F2D    Wavelength calib. frame           Y       1
   WAVE_BAND         F2L    Table with start-/end-wavelengths Y       1
   MASTER_FLAT       F2D    Master flat                       Y      0,1
   ILLUM_CORR        F2I    Illumination correction           N      0,1
   TELLURIC          F1I    normalised telluric spectrum      N      0,1
   OH_SPEC           F1S    Vector holding OH lines           N      0,1
</pre>

<pre>
  Output files:
</pre>

<pre>
   DO                KMOS
   category          Type   Explanation
   --------              -----  -----------
   SCI_COMBINED      F3I    Combined cubes with noise
   SCI_RECONSTRUCTED F3I    Reconstructed cube with noise
   EXP_MASK          F3I    Exposure time mask (not for mapping-templates!)
   SCI_INTERIM_OBJECT F3I    (optional) Intermediate reconstructed object
                            cubes used for sky tweaking, no noise
                            (set --sky_tweak and --save_interims)
   SCI_INTERIM_SKY   F3I    (optional) Intermediate reconstructed sky
                            cubes used for sky tweaking, no noise
                            (set --sky_tweak and --save_interims)
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--imethod</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Method to use for interpolation during reconstruction. ["NN" (nearest neighbour), "lwNN" (linear weighted nearest neighbor), "swNN" (square weighted nearest neighbor), "MS" (Modified Shepard\'s method)"CS" (Cubic spline)] (str; default: \'CS\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.imethod</strong> [default = <em>CS</em>].</p>
  </dd>
  <dt>
    <p><strong>--smethod</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Method to use for interpolation during shifting. ["NN" (nearest neighbour), "CS" (Cubic spline)] (str; default: \'CS\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.smethod</strong> [default = <em>CS</em>].</p>
  </dd>
  <dt>
    <p><strong>--method</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>The shifting method:   \'none\': no shifting, combined directly, \'header\': shift according to WCS (default), \'center\': centering algorithm, \'user\': read shifts from file (str; default: \'header\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.method</strong> [default = <em>header</em>].</p>
  </dd>
  <dt>
    <p><strong>--fmethod</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>The fitting method (applies only when method=\'center\'):   \'gauss\': fit a gauss function to collapsed image (default), \'moffat\': fit a moffat function to collapsed image (str; default: \'gauss\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.fmethod</strong> [default = <em>gauss</em>].</p>
  </dd>
  <dt>
    <p><strong>--name</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Name of the object to combine. (str; default: \'\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.name</strong> [default = <em></em>].</p>
  </dd>
  <dt>
    <p><strong>--ifus</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>The indices of the IFUs to combine. "ifu1;ifu2;..." (str; default: \'\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.ifus</strong> [default = <em></em>].</p>
  </dd>
  <dt>
    <p><strong>--pix_scale</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Change the pixel scale [arcsec]. Default of 0.2" results into cubes of 14x14pix, a scale of 0.1" results into cubes of 28x28pix, etc. (float; default: 0.2). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.pix_scale</strong> [default = <em>0.2</em>].</p>
  </dd>
  <dt>
    <p><strong>--suppress_extension</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Suppress arbitrary filename extension.(TRUE (apply) or FALSE (don\'t apply) (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.suppress_extension</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--neighborhoodRange</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Defines the range to search for neighbors in pixels (float; default: 1.001). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.neighborhoodRange</strong> [default = <em>1.001</em>].</p>
  </dd>
  <dt>
    <p><strong>--filename</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>The path to the file with the shift vectors.(Applies only to method=\'user\') (str; default: \'\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.filename</strong> [default = <em></em>].</p>
  </dd>
  <dt>
    <p><strong>--flux</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>TRUE: Apply flux conservation. FALSE: otherwise (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.flux</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--background</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>TRUE: Apply background removal. FALSE: otherwise (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.background</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--fast_mode</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>FALSE: cubes are shifted and combined,TRUE: cubes are collapsed and then shifted and combined (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.fast_mode</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--extrapolate</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Applies only to \'smethod=CS\' when doing sub-pixel shifts: FALSE: shifted IFU will be filled with NaN\'s at the borders,TRUE: shifted IFU will be extrapolated at the borders (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.extrapolate</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--xcal_interpolation</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>TRUE: Interpolate xcal between rotator angles. FALSE: otherwise (bool; default: True). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.xcal_interpolation</strong> [default = <em>True</em>].</p>
  </dd>
  <dt>
    <p><strong>--edge_nan</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Set borders of cubes to NaN before combining them.(TRUE (apply) or FALSE (don\'t apply) (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.edge_nan</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--no_combine</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Don\'t combine cubes after reconstruction.(TRUE (apply) or FALSE (don\'t apply) (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.no_combine</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--no_subtract</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Don\'t sky subtract object and references.(TRUE (apply) or FALSE (don\'t apply) (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.no_subtract</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--sky_tweak</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Use modified sky cube for sky subtraction.(TRUE (apply) or FALSE (don\'t apply) (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.sky_tweak</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--tbsub</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Subtract thermal background from input cube.(TRUE (apply) or FALSE (don\'t apply) (bool; default: True). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.tbsub</strong> [default = <em>True</em>].</p>
  </dd>
  <dt>
    <p><strong>--b_samples</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The number of samples in wavelength for the reconstructed cube (long; default: 2048). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.b_samples</strong> [default = <em>2048</em>].</p>
  </dd>
  <dt>
    <p><strong>--b_start</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The lowest wavelength [um] to use when reconstructing. Derived by default, depending on the band (float; default: -1.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.b_start</strong> [default = <em>-1.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--b_end</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The highest wavelength [um] to use when reconstructing. Derived by default, depending on the band (float; default: -1.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.b_end</strong> [default = <em>-1.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--obj_sky_table</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>The path to the file with the modified obj/sky associations. (str; default: \'\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.obj_sky_table</strong> [default = <em></em>].</p>
  </dd>
  <dt>
    <p><strong>--velocity_offset</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Specify velocity offset correction in km/s for lambda scale (float; default: 0.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.velocity_offset</strong> [default = <em>0.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--save_interims</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Save interim object and sky cubes. Can only be used together with --sky_tweak (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.save_interims</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--cmethod</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Apply "average", "median", "sum", "min_max." or "ksigma". (str; default: \'ksigma\'). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.cmethod</strong> [default = <em>ksigma</em>].</p>
  </dd>
  <dt>
    <p><strong>--cpos_rej</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The positive rejection threshold for kappa-sigma-clipping (sigma). (float; default: 3.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.cpos_rej</strong> [default = <em>3.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--cneg_rej</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The negative rejection threshold for kappa-sigma-clipping (sigma). (float; default: 3.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.cneg_rej</strong> [default = <em>3.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--citer</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The number of iterations for kappa-sigma-clipping. (long; default: 3). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.citer</strong> [default = <em>3</em>].</p>
  </dd>
  <dt>
    <p><strong>--cmax</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The number of maximum pixel values to clip with min/max-clipping. (long; default: 1). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.cmax</strong> [default = <em>1</em>].</p>
  </dd>
  <dt>
    <p><strong>--cmin</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The number of minimum pixel values to clip with min/max-clipping. (long; default: 1). The full name of this option for the EsoRex configuration file is <strong>kmos.kmo_sci_red.cmin</strong> [default = <em>1</em>].</p>
  </dd>

</dl>
<p>Note that it is possible to create a configuration file containing these options, along with suitable default values. Please refer to the details provided by the 'esorex --help' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO kmo_sci_red&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for the kmos pipeline can be downloaded as a PDF file using the following URL:</p><ul>
<li><p><strong>ftp://ftp.eso.org/pub/dfs/pipelines/kmos/kmos-pipeline-manual-2.9.pdf</strong></p></li>
</ul><p>An overview over the existing ESO pipelines can be found on the web page <strong>http://www.eso.org/sci/software/pipelines/</strong>.</p><p>Basic documentation about the EsoRex program can be found at the esorex (1) man page.</p><p>It is possible to call the pipelines from python using the python-cpl package. See <strong>http://packages.python.org/python-cpl/index.html</strong> for further information.</p><p>The other recipes of the kmos pipeline are <a href="../man7/kmo_copy.7.html"><strong>kmo_copy</strong>(7)</a>, <a href="../man7/kmo_fits_check.7.html"><strong>kmo_fits_check</strong>(7)</a>, <a href="../man7/kmo_fits_stack.7.html"><strong>kmo_fits_stack</strong>(7)</a>, <a href="../man7/kmo_noise_map.7.html"><strong>kmo_noise_map</strong>(7)</a>, <a href="../man7/kmo_rotate.7.html"><strong>kmo_rotate</strong>(7)</a>, <a href="../man7/kmo_extract_spec.7.html"><strong>kmo_extract_spec</strong>(7)</a>, <a href="../man7/kmo_multi_reconstruct.7.html"><strong>kmo_multi_reconstruct</strong>(7)</a>, <a href="../man7/kmo_sky_tweak.7.html"><strong>kmo_sky_tweak</strong>(7)</a>, <a href="../man7/kmo_shift.7.html"><strong>kmo_shift</strong>(7)</a>, <a href="../man7/kmos_gen_reflines.7.html"><strong>kmos_gen_reflines</strong>(7)</a>, <a href="../man7/kmo_stats.7.html"><strong>kmo_stats</strong>(7)</a>, <a href="../man7/kmo_arithmetic.7.html"><strong>kmo_arithmetic</strong>(7)</a>, <a href="../man7/kmos_dark.7.html"><strong>kmos_dark</strong>(7)</a>, <a href="../man7/kmo_fits_strip.7.html"><strong>kmo_fits_strip</strong>(7)</a>, <a href="../man7/kmo_combine.7.html"><strong>kmo_combine</strong>(7)</a>, <a href="../man7/kmo_std_star.7.html"><strong>kmo_std_star</strong>(7)</a>, <a href="../man7/kmo_illumination_flat.7.html"><strong>kmo_illumination_flat</strong>(7)</a>, <a href="../man7/kmo_make_image.7.html"><strong>kmo_make_image</strong>(7)</a>, <a href="../man7/kmos_flat.7.html"><strong>kmos_flat</strong>(7)</a>, <a href="../man7/kmo_fit_profile.7.html"><strong>kmo_fit_profile</strong>(7)</a>, <a href="../man7/kmo_sky_mask.7.html"><strong>kmo_sky_mask</strong>(7)</a>, <a href="../man7/kmos_illumination.7.html"><strong>kmos_illumination</strong>(7)</a>, <a href="../man7/kmos_wave_cal.7.html"><strong>kmos_wave_cal</strong>(7)</a>, <a href="../man7/kmo_reconstruct.7.html"><strong>kmo_reconstruct</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>kmo_sci_red 1.3.5</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Alex Agudo Berbel &lt;usd-help@eso.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p>Please report any problems to usd-help@eso.org. Alternatively, you may send a report to the ESO User Support Department &lt;usd-help@eso.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This file is part of the CRIRES Instrument Pipeline Copyright (C) 2002,2003 European Southern Observatory</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="kmo_rotate.7.html"><span aria-hidden="true">&larr;</span> kmo_rotate.7: Rotate a cube spatially</a></li>
   <li class="next"><a href="kmo_shift.7.html">kmo_shift.7: Shift a cube spatially <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
