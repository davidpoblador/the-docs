<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amanda-interactivity: Configuring interactivity with amanda amanda</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuring interactivity with amanda amanda">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amanda-interactivity (7) manual">
  <meta name="twitter:description" content="Configuring interactivity with amanda amanda">
  <meta name="twitter:image" content="https://www.carta.tech/images/amanda-common-amanda-interactivity-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/amanda-interactivity.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amanda-interactivity (7) manual" />
  <meta property="og:description" content="Configuring interactivity with amanda amanda" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/amanda-common-amanda-interactivity-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amanda-interactivity<small> (7)</small></h1>
        <p class="lead">Configuring interactivity with amanda amanda</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amanda-interactivity.7.html">
      <span itemprop="name">amanda-interactivity: Configuring interactivity with amanda amanda</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/amanda-common/">
      <span itemprop="name">amanda-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amanda-interactivity.7.html">
      <span itemprop="name">amanda-interactivity: Configuring interactivity with amanda amanda</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Amanda uses interactivity to ask user to load specific volumes when they are needed. This manual page describes the interactivity modules included with Amanda.</p><p>This is a <em>user-level</em> description of the API, and does not address details that are only of concern to developers of new interactivity plugins. For that purpose, consult the Amanda source code, perldoc &apos;Amanda::Interactivity&apos; and http://wiki.zmanda.com.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFINING INTERACTIVITY</h2>
        <div class="sectioncontent">
<p>Interactivity is specified in <a href="../man5/amanda.conf.5.html"><strong>amanda.conf</strong>(5)</a> as follows:</p>
<pre>
define interactivity $interactivity_name {
   comment "$comment"
   plugin "$pluginname"
   property "$PROPERTY_NAME" "$PROPERTY_VALUE"
   ...
}
</pre>
<p>and then referenced in the global section as</p>
<pre>
  interactivity "$interactivity_name"
</pre>
<p>Interactivity properties, like Amanda configuration parameters, are insensitive to case, and - (dash) and _ (underscore) may be used interchangeably.</p><p>See the individual plugin sections, below for properties applicable to each plugin.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERACTIVITY MODULES</h2>
        <div class="sectioncontent">
<p>Amanda provides three interactivity modules, <em>tty</em>, <em>email</em> and <em>tty_email</em>.</p><h3>TTY</h3>
<p>The <em>tty</em> interactivity module uses the tty to communicate with the user, it works only if a terminal is available, which is the case if amanda is executed from a command line.</p><p>When promted for a volume, the user must put the requested volume in the changer and type &lt;enter&gt;. User can type the name of another changer if the volume is available in that changer. Typing &apos;abort&apos; will abort the operation.</p>
<h3>EMAIL</h3>
<p>The <em>email</em> interactivity module uses email to send requests to the user, and reads replies from the filesystem.</p><p>The <em>email</em> module has many properties:</p><p>check-file</p><p>If set, amanda will check this file for user input.  The user can touch the file to tell amanda that the requested volume was inserted in the changer.  If the user writes the name of a changer into the file, Amanda will use that changer.  If the user writes the word &apos;abort&apos; into the file, the scan will be aborted.</p><p>check-file-delay</p><p>Default: 10. This integer property indicates the time in seconds between each check of the check-file.</p><p>mailto</p><p>Default: global value of <strong>mailto</strong>.  The email addresses to which the email should be sent.  If multiple addresses are given, they should be separated by spaces.</p><p>resend-delay</p><p>Default 0. The time in seconds between emails.  Amanda will resend the same email at this frequency, which can be useful if <strong>mailto</strong> is a pager or phone.  If set to 0, only one email is sent.</p>
<h3>TTY_EMAIL</h3>
<p>The <em>tty_email</em> interactivity module uses the <em>tty</em> module if a terminal is available and uses the <em>email</em> module otherwise. Its properties are a combination of properties from each module.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
  define interactivity "by-tty-or-email" {
    comment "Send email on runs from cron; use terminal on command line"
    plugin "tty_email"
    property "mailto" "admin1" "admin2" "me@home"
    property "resend-delay" "1800"               #every 30 minutes
    property "check-file" "/tmp/email_input"
    property "check-file-delay" "10"             #every 10 seconds
  }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amanda-interactivity&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>, <a href="../man5/amanda.conf.5.html"><strong>amanda.conf</strong>(5)</a></p><p>The Amanda Wiki: : http://wiki.zmanda.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Jean-Louis Martineau</strong> &lt;martineau@zmanda.com&gt;</p><p>Zmanda, Inc. (http://www.zmanda.com)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amanda-devices.7.html"><span aria-hidden="true">&larr;</span> amanda-devices.7: Configuring and using amanda devices</a></li>
   <li class="next"><a href="amanda-match.7.html">amanda-match.7: Common amanda match expression <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
