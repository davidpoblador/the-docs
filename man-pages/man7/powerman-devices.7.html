<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>powerman-devices: Powerman device configuration notes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Powerman device configuration notes">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="powerman-devices (7) manual">
  <meta name="twitter:description" content="Powerman device configuration notes">
  <meta name="twitter:image" content="https://www.carta.tech/images/powerman-powerman-devices-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/powerman-devices.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="powerman-devices (7) manual" />
  <meta property="og:description" content="Powerman device configuration notes" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/powerman-powerman-devices-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">powerman-devices<small> (7)</small></h1>
        <p class="lead">Powerman device configuration notes</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/powerman-devices.7.html">
      <span itemprop="name">powerman-devices: Powerman device configuration notes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/powerman/">
      <span itemprop="name">powerman</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/powerman-devices.7.html">
      <span itemprop="name">powerman-devices: Powerman device configuration notes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Following are notes on configuring various remote power controllers and related equipment supported by PowerMan.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CYCLADES TS-1000</h2>
        <div class="sectioncontent">
<p>A cyclades TS-1000 configured so that PowerMan can connect to serial-port-based remote power control devices using telnet is set up as follows:</p><p>Attach console cable between laptop running minicom and console port at 9600,8n1 and authenticate with default account: root/tslinux.</p><p>Edit the following files (assumes no off-subnet routing or name service required):</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/portslave/portslave.conf</em></p>
  </dt>
  <dd>
    
<pre>
conf.eth_ip      192.168.54.151
conf.eth_mask    255.255.255.0
conf.dhcp_client 0
#
all.speed        9600
all.datasize     8
all.stopbits     1
all.parity       none
all.flow         none
all.dcd          0
all.DTR_reset    1
all.protocol     socket_server
all.authtype     none
#all.ipno
all.socket_port  7001+
#
s1.tty           ttyS1
s2.tty           ttyS2
s3.tty           ttyS3
s4.tty           ttyS4
s5.tty           ttyS5
s6.tty           ttyS6
s7.tty           ttyS7
s8.tty           ttyS8
s9.tty           ttyS9
s10.tty          ttyS10
s11.tty          ttyS11
s12.tty          ttyS12
s13.tty          ttyS13
s14.tty          ttyS14
s15.tty          ttyS15
s16.tty          ttyS16
</pre>

  </dd>
  <dt>
    <p><em>/etc/hostname</em></p>
  </dt>
  <dd>
    <p>cyclades-ts-test</p>
  </dd>
  <dt>
    <p><em>/etc/hosts</em></p>
  </dt>
  <dd>
    
<pre>
127.0.0.1        localhost
192.168.54.151   cycaldes-ts-test
</pre>

  </dd>

</dl>
<p>Next, run <strong>signal_ras hup</strong> and <strong>saveconf</strong> and finally, power cycle the unit.  It should be possible to configure PowerMan to connect to hostname:7001 for port 1, hostname:7002 for port 2, etc..</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BAYTECH RPC-3 (non-NC models) (network port 23)</h2>
        <div class="sectioncontent">
<p>Attach console cable between laptop running minicom and console port at 9600,8n1.  Main menu should display.</p><p>From main menu, select 3)...Configuration, then set IP parameters.</p><p>From Configuration menu, select 5)...Access, then disable command confirmation, set admin password to baytech, and enable prompt for password.  Exit Access menu by typing return.</p><p>From Configuration menu, select 6)...Outlets.  Ensure that 1)...Outlet Status display is disabled, and 2)...Command Confirmation is disabled.</p><p>Exit back to main menu by typing return twice, then answer Y to the Accept changes? prompt.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BAYTECH RPC-28-NC (serial 9600,8n1)</h2>
        <div class="sectioncontent">
<p>Attach console cable between laptop running minicom and console port at 9600,8n1.  Type return to get RPC-28&gt; prompt. Type Help for a list of commands.</p><p>Select config.  Select 3)...Enable/Disable Confirmation and disable confirmation.  Select 4)...Enable/Disable Status Menu and disable status menu</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LNXI ICEBOX V2 (network port 1010)</h2>
        <div class="sectioncontent">
<p>Attach console cable between laptop running minicom and console port at 9600,8n1.  Enter default password of icebox.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>net ip 192.168.54.153</em></p>
  </dt>
  <dd>
    <p>Sets IP address.</p>
  </dd>
  <dt>
    <p><em>net mask 255.255.255.0</em></p>
  </dt>
  <dd>
    <p>Sets network mask</p>
  </dd>
  <dt>
    <p><em>net gw 192.168.54.254</em></p>
  </dt>
  <dd>
    <p>Set default gateway.  Note: this may need to be set to an address in the same subnet as the ice box regardless of whether it is to be used or not.</p>
  </dd>
  <dt>
    <p><em>reboot</em></p>
  </dt>
  <dd>
    <p>Reboots the icebox.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LNXI ICEBOX V3 (network port 1010)</h2>
        <div class="sectioncontent">
<p>Attach console cable between laptop running minicom and console port at 9600,8n1.  Authenticate with default account admin/icebox. Configuration is the same as the V2 ICE BOX.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">APC MASTERSWITCH MODEL AP9606 (network port 23)</h2>
        <div class="sectioncontent">
<p>Attach console cable between laptop running minicom and console port (may be labeled ``advanced port'') at 2400,8n1. Press enter, then authenticate with default account apc/apc.</p><p>Choose Network from main menu.</p><p>Choose TCP/IP from Network menu, then diable BOOTP, and accept changes. Set the IP address, subnet mask, and default gateway, and accept changes.</p><p>Pres ESC until the main menu appears, then select Logout.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WTI RPS10 (serial 9600,8n1)</h2>
        <div class="sectioncontent">
<p>Set address of box using the rotary dial on the back.  The Master module must be set to address 0.  Slave modules may be set to unique values from 1-9. The address corresponds to the plug name in the powerman.conf file.</p><p>Setup switches on each module should be set to 9600 baud (sw1 down), 5 sec toggle delay (sw2 down), power up to previous state (sw3 down).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WTI NPS (network port 23)</h2>
        <div class="sectioncontent">
<p>Attach console cable between laptop running minicom and console port at 9600,8n1.  Try password "wti" if prompted.</p><p>Select /N - View/set network parameters, then set the IP address, subnet mask, and gateway.</p><p>Select /G - General paramters, then disable command confirmation, enable command echo, and set disconnect timeout to the maximum value (30 minutes).</p><p>Set password to "wti".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CYCLADES PM8 and PM8i (serial 9600,8n1)</h2>
        <div class="sectioncontent">
<p>Attach console cable between laptop running minicom and serial port 9600,8n1.  Press enter, then authenticate with default account admin/pm8.</p><p>Run factory_defaults command.</p><p>The PM8 can run in a mode where it can be daisy chained from a Cyclades terminal server.  This mode is not yet supported by PowerMan.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Sun ILOM</h2>
        <div class="sectioncontent">
<p>The dedicated ILOM serial port (SER MGT RJ-45) runs at 9600,8n1 and the default login is root/changeme.  Use a Sun/NETRA/Cisco RJ45 adapter to connect to Cyclades TS.</p><p>The dedicated ILOM ethernet port (NET MGT RJ-45) can be configured for DHCP (the default) or static IP settings.  To configure static IP via the ILOM serial port, run:</p><ul>
<li>
<pre>
    cd /SP/network
    set pendingipdiscovery=static
    set pendingipaddress=xxx.xxx.xxx.xxx
    set pendingipnetmask=xxx.xxx.xxx.xxx
    set pendingipgateway=xxx.xxx.xxx.xxx
    set commitpending=true
</pre>
</li>
</ul><p>The ILOM network configuration can alternatively be set up via the system BIOS setup screen.  Hit F2 during boot to access BIOS setup, go to the "Advanced" tab, select "IPMI 2.0 configuration" and "set LAN configuration".  Make your changes and commit them.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IPMI (via Ipmipower)</h2>
        <div class="sectioncontent">
<p>IPMI based power control is supported via FreeIPMI's <strong>ipmipower.</strong> It is configured by running <strong>ipmipower</strong> in coprocess mode in powerman.conf</p><p>Due to semantic differences between IPMI and traditional remote power control devices, some power control operations may not seem to work properly by default with <strong>Powerman.</strong> For example, several IPMI power control operations are allowed to return prior to the operation fully completing.  A machine that has been powered off by IPMI may be later queried as being powered on. This is because IPMI may successfully return from a power off operation to the user, but the machine may elect to power itself off at a later time.  In order to get around several of these issues, it is recommended that the user configure <strong>ipmipower</strong> with the <strong>--wait-until-on</strong> and <strong>--wait-until-off</strong> options. With these options set, <strong>ipmipower</strong> will behave more like traditional remote power control devices.</p><p>In order to hide IPMI usernames and passwords from <strong>ps(1),</strong> it is also recommended that the user configure the username and password (and at your discretion, the above options) using the FreeIPMI configuration file and not in the powerman.conf file.  Please see the <strong>ipmipower</strong> section of the <a href="../man5/freeipmi.conf.5.html"><strong>freeipmi.conf</strong>(5)</a></strong> manpage for more information.</p><p>Because IPMI usernames and passwords are sensitive, the default FreeIPMI configuration file is only readable and writable by root.  This may conflict with the default <strong>powermand</strong> daemon settings, thus making the configuration file non-readable. Administrators may wish to run the <strong>powermand</strong> daemon as root or adjust the configuration file permissions as needed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HP iLO</h2>
        <div class="sectioncontent">
<p>The "hpilo" script supports the Integrated Lights-Out management processor in HP ProLiant servers, including both rack-mount and blade servers. Configure the iLO to allow Telnet access on port 23, and add a user "Admin" with password "Admin".  You may have to reduce the minimum password length on the Administration/Access/Options tab of the web interface.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HP MP</h2>
        <div class="sectioncontent">
<p>The "hpmp" script supports the Management Processor in HP non-cellular, rack-mount Integrity servers.  Configure the MP to allow Telnet access with the "CM:SA" command, and make sure there's a user "Admin" with password "Admin". If the MP enforces a minimum password length, you may have to use "uc -all default" to restore the default Admin/Admin user.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HP MP (cellular)</h2>
        <div class="sectioncontent">
<p>The "hpmpcell" script supports the Management Processor in HP mid-range cellular servers.  Configure the MP to allow Telnet access with the "CM:SA" command, and make sure there's a user "Admin" with password "Admin".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HP MP (Superdome)</h2>
        <div class="sectioncontent">
<p>The "hpmpdome" script supports the Management Processor in HP Superdome servers.  Configure the MP to allow Telnet access with the "CM:SA" command, and make sure there's a user "Admin" with password "Admin".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HP MP (Integrity blades)</h2>
        <div class="sectioncontent">
<p>The "hpmpblade" script supports the Management Processor in HP Integrity blade servers.  Configure the MP to allow Telnet access with the "CM:SA" command, and make sure there's a user "Admin" with password "Admin".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ORIGIN</h2>
        <div class="sectioncontent">
<p>PowerMan was originally developed by Andrew Uselton on LLNL's Linux clusters. This software is open source and distributed under the terms of the GNU GPL.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO powerman-devices&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/powerman.1.html"><strong>powerman</strong>(1)</a>, <a href="../man8/powermand.8.html"><strong>powermand</strong>(8)</a>, <a href="../man8/httppower.8.html"><strong>httppower</strong>(8)</a>, <a href="../man8/plmpower.8.html"><strong>plmpower</strong>(8)</a>, <a href="../man8/vpcd.8.html"><strong>vpcd</strong>(8)</a>, <a href="../man5/powerman.conf.5.html"><strong>powerman.conf</strong>(5)</a>, <a href="../man5/powerman.dev.5.html"><strong>powerman.dev</strong>(5)</a>, <a href="../man7/powerman-devices.7.html"><strong>powerman-devices</strong>(7)</a>.</p><p><strong>http://sourceforge.net/projects/powerman</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="power-status-changed.7.html"><span aria-hidden="true">&larr;</span> power-status-changed.7: Event signalling change of power status</a></li>
   <li class="next"><a href="prerex.sty.7.html">prerex.sty.7: A latex document style for prerequisite charts <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
