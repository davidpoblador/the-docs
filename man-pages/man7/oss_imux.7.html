<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>oss_imux: Input muplexer audio driver.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Input muplexer audio driver.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="oss_imux (7) manual">
  <meta name="twitter:description" content="Input muplexer audio driver.">
  <meta name="twitter:image" content="https://www.carta.tech/images/oss4-base-oss_imux-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/oss_imux.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="oss_imux (7) manual" />
  <meta property="og:description" content="Input muplexer audio driver." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/oss4-base-oss_imux-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">oss_imux<small> (7)</small></h1>
        <p class="lead">Input muplexer audio driver.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/oss_imux.7.html">
      <span itemprop="name">oss_imux: Input muplexer audio driver.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/oss4-base/">
      <span itemprop="name">oss4-base</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/oss_imux.7.html">
      <span itemprop="name">oss_imux: Input muplexer audio driver.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>IMUX is a virtual recording engine that permits up to 8 audio recording applications to run at the same time. Generally most soundcards permit only a single recording application to record the input source (via mic, line or CD). With IMUX, you can use up to 8 recording applications to record the same source in different sample rates, bits/sample and channels (mono/stereo). IMUX does all the rate and format conversion in software. The applications think that they are actually getting data from the physical device. For instance, if you want to record the input from a CDROM in .wav format at 48Khz/8/Mono and at the same time you want to record the same stream in .mp3 format in 44.1Khz 16 bit stereo, with IMUX, you can start the wave recording application on the first IMUX device and start the MP3 encoder on the second IMUX device and both applications will run simultaneously thinking that they are getting data from the physical soundcard.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>To add the IMUX driver you first need to ensure that there is a physical soundcard present and then you can run ossdetect <strong>-i</strong> to add it. You may want to select a master device by setting imux_masterdev, but the autodetection should provide a good default. After OSS restart, imux should be available.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>Connect an input source to the soundcard's line-in jack. Using the Mixer app like ossmix (or any OSS compliant mixer) set the recording source to Line-In (eg ossmix line.rec ON) Now you can start recording the input in multiple formats and at different sample rates. The simplest example is:</p>
<pre>
        ossrecord -s48000 -b16 -c2 -d/dev/oss/oss_imux0/pcmin0 test1.wav &
        ossrecord -s8000 -b8 -d/dev/oss/oss_imux0/pcmin0 test2.wav &

</pre>
<p>After a few minutes of recording you can stop them by placing the command in forground mode (type fg %1 or fg %2) and press ^c to stop.</p><p>You now have two wav format files. test1.wav is a 48KHz 16bit stereo file and test2.wav is a 8Khz 8bit Mono file.</p><p>You can now playback the files as follows:</p><ul>
<li><p>ossplay <strong>-v</strong> test1.wav and it should show you that the file is indeed 48Khz 16bit stereo.</p></li><li><p>ossplay <strong>-v</strong> test2.wav - you should see that this file is indeed a 8Khz 8bit mono file.</p></li>
</ul><p>What you have essentially accomplished is recording a single input stream into two different formats at the same time.</p><p>You can now extend this analogy to record the input in mp3 format and RealAudio format simultaneously.</p><p>The IMUX control panel can be displayed by typing ossxmix <strong>-d</strong>&lt;imux mixer number&gt; (for e.g. in the above example, IMUX mixer is #2 so we type ossxmix <strong>-d2</strong></p><p>There are record level control sliders for each input channel and it will show activity when a recording program is active on a particular channel.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<ul>
<li><p>imux_masterdev: Selects which physical device to use as the Master device for the IMUX driver. Values: <strong>-1</strong>: automatically selected by OSS, 1-N: Audio device index of the master device (as reported by ossinfo <strong>-a</strong>), Default: <strong>-1</strong>.</p></li><li><p>imux_rate: Specifies what is the base sampling rate used by the imux driver. Values: 5000-96000 Default: 48000</p></li><li><p>imux_devices: Specifies number of Input Multiplexer devices to setup. Values: 2-48 Default: 5</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/oss4/conf/oss_imux.conf Device configuration file</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>4Front Technologies</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="oss_ich.7.html"><span aria-hidden="true">&larr;</span> oss_ich.7: Intel ich/sis7012/nvidia/amd audio device driver.</a></li>
   <li class="next"><a href="oss_madi.7.html">oss_madi.7: Rme hdsp madi and aes32 audio driver <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
