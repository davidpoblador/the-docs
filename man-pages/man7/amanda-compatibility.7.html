<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amanda-compatibility: Compatibility between amanda versions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compatibility between amanda versions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amanda-compatibility (7) manual">
  <meta name="twitter:description" content="Compatibility between amanda versions">
  <meta name="twitter:image" content="https://www.carta.tech/images/amanda-common-amanda-compatibility-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/amanda-compatibility.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amanda-compatibility (7) manual" />
  <meta property="og:description" content="Compatibility between amanda versions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/amanda-common-amanda-compatibility-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amanda-compatibility<small> (7)</small></h1>
        <p class="lead">Compatibility between amanda versions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amanda-compatibility.7.html">
      <span itemprop="name">amanda-compatibility: Compatibility between amanda versions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/amanda-common/">
      <span itemprop="name">amanda-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amanda-compatibility.7.html">
      <span itemprop="name">amanda-compatibility: Compatibility between amanda versions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">NETWORK COMPATIBILITY</h2>
        <div class="sectioncontent">
<p>Amanda has used several on-the-wire protocols to communicate between the server and backup clients, and not all of them have been compatible.</p><p>Versions of Amanda prior to about 2.3 used a different protocol which is not compatible. 2.3 is very old so this is not of general interest.</p><p>The Amanda 2.4 series all use the same protocol. This protocol has support for extensibility. Generally upgrading clients or servers along the 2.4 branch does not cause difficulty.</p><p>Amanda 2.5.0 uses the same protocol as 2.4. One can use a 2.5.0 server with 2.4 clients and a 2.4 server with 2.5.0 clients.</p><p>Kerberos4 authentication in 2.5 is compatible with 2.4. In 2.5, kerberos4 encryption is broken, at least for the server.</p><p>Amanda 2.5.1 introduced a new recover protocol. Backup communication works with any combination of versions, but 2.5.1&apos;s amrecover cannot communicate with an older server. Use oldamrecover on 2.5.1 and higher clients when communicating with an older server.</p><p>Amanda 2.6.0 and later are completely compatible with 2.5.1.</p><p>To restore a dump created with the tapesplit_size option using amrecover, you need at least a 2.5 server and late-2.4 client. (Extracting that backup using only shell, mt and dd is also possible.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UPGRADES</h2>
        <div class="sectioncontent">
<p>The recommended course for Amanda upgrades is to upgrade the server first, and test backups and restores before upgrading clients. Consult the changes described below for the relevant span of versions to determine what adjustments, if any, are required. Also see the NEWS file shipped with each Amanda release for more detailed information.</p><h3>Amanda 3.2</h3>
<p>The following configuration configration keywords are deprecated. This is currently a warning, but will become an error soon.</p><p><strong>amrecover-do-fsf</strong> - amrecover always seeks to files when recovering</p><p><strong>amrecover-check-label</strong> - amrecover always checks the volume label when recovering</p><p>Dumptype parameters <strong>tape-splitsize</strong>, <strong>split-diskbuffer</strong>, and <strong>fallback-splitsize</strong> - see <strong>allow-split</strong> and tapetype parameters <strong>part-size</strong>, <strong>part-cache-type</strong>, <strong>part-cache-dir</strong>, and <strong>part-cache-max-size</strong>. See <a href="../man5/amanda.conf.5.html"><strong>amanda.conf</strong>(5)</a> for more information on these new parameters, noting particularly that all but the first are tapetype parameters, not dumptype parameters.</p><p>To convert most cases to the new parameters, set <strong>part-size</strong> to the old value of <strong>tape-splitsize</strong> and <strong>part-cache-dir</strong> to the old value of <strong>split-diskbuffer</strong>, if present. If <strong>split-diskbuffer</strong> was set, then set <strong>part-cache-type</strong> to <strong>disk</strong>, otherwise <strong>memory</strong>. Finally, if using memory caching, set <strong>part-cache-max-size</strong> to the previous value of <strong>fallback-splitsize</strong>. Be sure to remove all of the old keywords from your configuration.</p>
<h3>Amanda 3.1</h3>
<p>Although it is a significant rewrite, there are no incompatible changes in this release.</p><p>Old-style changer scripts are deprecated in this release. While they remain available, they may be removed in a future release. Consider upgrading to one of the new changer scripts. Users of <em>chg-zd-mtx</em> are particularly encouraged to consider the much more intelligent <em>chg-robot</em>. See <a href="../man7/amanda-changers.7.html"><strong>amanda-changers</strong>(7)</a> for more information.</p><p>The following configuration configration keywords are deprecated. This is currently a warning, but will become an error in a future version.</p><p>label_new_tapes - use autolabel</p>
<h3>Amanda 2.6.1</h3>
<p>There are no incompatible changes in this release, but consider switching to some of the new applications instead of the old GNUTAR and DUMP programs.</p><p>The following configuration configration keywords are deprecated. This is currently a warning, but will become an error soon.</p><p>tapebufs - use device-output-buffer-size instead</p><p>rawtapedev - use tapedev instead</p><p>file-pad - this is no longer optional, and all files are padded</p>
<h3>Amanda 2.6.0</h3>
<p>amverify and amverifyrun are removed and replaced with <a href="../man8/amcheckdump.8.html"><strong>amcheckdump</strong>(8)</a>. Both amdd and ammt are removed.</p><p>Some Amanda files are now installed in new amanda/ subdirectories: libraries are now installed in $libdir/amanda and internal programs are now installed in $libexecdir/amanda.</p><p>The amandates file, previously at /etc/amandates, is now at $localstatedir/amanda/amandates. You may want to move your existing /etc/amandates when you upgrade Amanda.</p><p>GLib is now required to build and run Amanda.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amanda-compatibility&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>, <a href="../man5/amanda.conf.5.html"><strong>amanda.conf</strong>(5)</a></p><p>The Amanda Wiki: : http://wiki.zmanda.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Dustin J. Mitchell</strong> &lt;dustin@zmanda.com&gt;</p><p>Zmanda, Inc. (http://www.zmanda.com)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amanda-changers.7.html"><span aria-hidden="true">&larr;</span> amanda-changers.7: Configuring and using amanda changers</a></li>
   <li class="next"><a href="amanda-devices.7.html">amanda-devices.7: Configuring and using amanda devices <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
