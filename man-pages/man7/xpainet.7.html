<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>xpainet: \s-1xpa\s0 communication between hosts</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="\s-1xpa\s0 communication between hosts">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="xpainet (7) manual">
  <meta name="twitter:description" content="\s-1xpa\s0 communication between hosts">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxpa-dev-xpainet-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/xpainet.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="xpainet (7) manual" />
  <meta property="og:description" content="\s-1xpa\s0 communication between hosts" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxpa-dev-xpainet-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">xpainet<small> (7)</small></h1>
        <p class="lead">\s-1xpa\s0 communication between hosts</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/xpainet.7.html">
      <span itemprop="name">xpainet: \s-1xpa\s0 communication between hosts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxpa-dev/">
      <span itemprop="name">libxpa-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/xpainet.7.html">
      <span itemprop="name">xpainet: \s-1xpa\s0 communication between hosts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>\s-1XPA\s0 uses standard inet sockets to support communication between two or more host computers.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>When the Communication Method is set to <strong>inet</strong> (as it is by default), \s-1XPA\s0 can be used to communicate between different computers on the Internet.  \s-1INET\s0 sockets utilize the \s-1IP\s0 address of the given machine and a (usually random) port number to communicate between processes on the same machine or between different machines on the Internet.  These standard Internet sockets are also used by programs such as Netscape, ftp. etc.</p><p>\s-1XPA\s0 supports a host-based Access Control mechanism to prevent unauthorized access of \s-1XPA\s0 access points by other computers on the Net.  By default, only the machine on which the \s-1XPA\s0 server is running can access \s-1XPA\s0 services. Therefore, setting up communication between a local \s-1XPA\s0 server machine and a remote client machine requires a two-part registration process:</p><ul>
<li><p>the \s-1XPA\s0 service on the local machine must be made known to the remote machine</p></li><li><p>the remote machine must be given permission to access the local \s-1XPA\s0 service</p></li>
</ul><p>Three methods by which this remote registration can be accomplished are described below.</p><p><strong>Manual Registration</strong></p><p>The first method is the most basic and does not require the remote client to have xpans running.  To use it, the local server simply gives a remote client machine access to one or more \s-1XPA\s0 access points using xpaset and the <strong>\-acl</strong> sub-command. For example, consider the \s-1XPA\s0 test program \*(L"stest\*(R" running on a local machine.  By default the access control for the access point named \*(L"xpa\*(R" is restricted to that machine:</p>
<pre>
  [sh]$ xpaget xpa \-acl
  *:* 123.456.78.910 gisa
  *:* localhost gisa
</pre>
<p>Using xpaset and the <strong>\-acl</strong> sub-command, a remote client machine can be given permission to perform xpaget, xpaset, xpaaccess, or xpainfo operations.  For example, to allow the xpaget operation, the following command can be issued on the local machine:</p><p>  [sh]$ xpaset \-p xpa \-acl "remote_machine g"</p><p>This results in the following access permissions on the local machine:</p><p>  [sh]$ xpaget xpa \-acl   XPA:xpa 234.567.89.012 g   *:* 123.456.78.910 gisa   *:* localhost gisa</p><p>The remote client can now use the local server's xpans name server to establish communication with the local \s-1XPA\s0 service. This can be done on a call-by-call basis using the <strong>\-i</strong> switch on xpaset, xpaget, etc:</p><p>  [sh]$ xpaget \-i "local_machine:12345" xpa   class: XPA   name: xpa   method: 88877766:2778   sendian: little   cendian: big</p><p>Alternatively, the \s-1XPA_NSINET\s0 variable on the remote machine can be set to point directly to xpans on the local machine, removing the need to override this value each time an \s-1XPA\s0 program is run:</p><p>  [csh]$ setenv XPA_NSINET &apos;karapet:$port&apos;   [csh]$ xpaget xpa   class: XPA   name: xpa   method: 88877766:2778   sendian: little   cendian: big</p><p>Here, '$port' means to use the default \s-1XPA\s0 name service port (14285). not a port environment variable.</p><p>Access permission for remote client machines can be stored in a file on the local machine pointed to by the <strong>\s-1XPA_ACLFILE\s0</strong> environment variable or using the <strong>\s-1XPA_DEFACL\s0</strong> environment variable. See &lt;A HREF=\*(L"./acl.html\*(R"&gt;\s-1XPA\s0 Access Control for more information.</p><p><strong>Remote Registration</strong></p><p>If xpans is running on the remote client machine, then a local xpaset command can be used with the <strong>\-remote</strong> sub-command to register the local \s-1XPA\s0 service in the remote name service, while at the same time giving the remote machine permission to access the local service.  For example, assume again that \*(L"stest\*(R" is running on the local machine and that xpans is also running on the remote machine. To register access of this local xpa on the remote machine, use the xpaset and the <strong>\-remote</strong> sub-command:</p><p>  [sh]$ ./xpaset \-p xpa \-remote &apos;remote_machine:$port&apos; +</p><p>To register the local xpa access point on the remote machine with xpaget access only, execute:</p><p>  [sh]$ ./xpaset \-p xpa \-remote &apos;remote_machine:$port&apos; g</p><p>Once the remote registration command is executed, the remote client machine will have an entry such as the following in its own xpans name service:</p><p>  [csh]$ xpaget xpans   XPA xpa gs 88877766:2839 eric</p><p>The xpa access point can now be utilized on the remote machine without further setup:</p><p>  [csh]$ xpaget xpa   class: XPA   name: xpa   method: 838e2f68:2839   sendian: little   cendian: big</p><p>To unregister remote access from the local machine, use the same command but with a '-' argument:</p><p>  [sh]$ xpaset \-p xpa \-remote &apos;remote_machine:$port&apos; -</p><p>The benefit of using remote registration is that communication with remote access points can be mixed with that of other access points on the remote machine.  Using Access Point Names and Templates, one \s-1XPA\s0 command can be used to send or receive messages to the remote and local services.</p><p><strong>\s-1XPANS\s0 Proxy Registration</strong></p><p>The two methods described above are useful when the local and remote machines are able to communicate freely to one another. This would be the case on most Local Area Networks (LANs) where all machines are behind the same firewall and there is no port blocking between machines on the same \s-1LAN\s0.  The situation is more complicated when the \s-1XPA\s0 server is behind a firewall, where outgoing connections are allowed, but incoming port blocking is implemented to prevent machines outside the firewall from connecting to machines inside the firewall. Such incoming port blocking will prevent xpaset and xpaget from connecting to an \s-1XPA\s0 server inside a firewall.</p><p>To allow locally fire-walled \s-1XPA\s0 services to register with remote machines, we have implemented a proxy service within the xpans name server. To register remote proxy service, xpaset and the <strong>\-remote</strong> sub-command is again used, but with an additional <strong>\-proxy</strong> argument added to the end of the command:</p><p>  [sh]$ ./xpaset \-p xpa \-remote &apos;remote_machine:$port&apos; g \-proxy</p><p>Once a remote proxy registration command is executed, the remote machine will have an entry such as the following in its own xpans name service:</p><p>  [csh]$ xpaget xpans   XPA xpa gs @88877766:2839 eric</p><p>The '@' sign in the name service entry indicates that xpans proxy processing is being used for this access point. Other than that, from the user's point of view, there is no difference in how this \s-1XPA\s0 access point is contacted using \s-1XPA\s0 programs (xpaset, xpaget, etc.) or libraries:</p><p>  [csh]$ xpaget xpa   class: XPA   name: xpa   method: 88877766:3053   sendian: little   cendian: big</p><p>Of course, the underlying processing of the \s-1XPA\s0 requests is very much different when xpans proxy is involved. Instead of an \s-1XPA\s0 program such contacting the \s-1XPA\s0 service directly, it contacts the local xpans. Acting as a proxy server, xpans communicates with the \s-1XPA\s0 service using the command channel established at registration time. Commands (including establishing a new data channel) are sent between xpans and the \s-1XPA\s0 service to set up a new message transfer, and then data is fed to/from the xpa request, through xpans, from/to the \s-1XPA\s0 service. In this way, it can be arranged so that connections between the fire-walled \s-1XPA\s0 service and the remote client are always initiated by the \s-1XPA\s0 service itself. Thus, incoming connections that would be blocked by the firewall are avoided. Note that there is a performance penalty for using the xpans/proxy service.  Aside from extra overhead to set up proxy communication, all data must be sent through the intermediate proxy process.</p><p>The xpans proxy scheme requires that the remote client allow the local \s-1XPA\s0 server machine to connect to the remote xpans/proxy server. If the remote client machine also is behind a port-blocking firewall, such connections will be disallowed. In this case, the only solution is to open up some ports on the remote client machine to allow incoming connections to xpans/proxy. Two ports must be opened (for command and data channel connections). By default, these two ports are 14285 and 14287. The port numbers can be changed using the <strong>\s-1XPA_NSINET\s0</strong> environment variable. This variable takes the form:</p><p>  setenv XPA_NSINET machine:port1[,port2[,port3]]</p><p>where port1 is the main connecting port, port2 is the \s-1XPA\s0 access port, and port3 is the secondary data connecting port. The second and third ports are optional and default to port1+1 and port1+2, respectively. It is port1 and port3 that must be left open for incoming connections.</p><p>For example, to change the port assignments so that xpans listens for registration commands on port 12345 and data commands on port 28573:</p><p>  setenv XPA_NSINET myhost:12345</p><p>Alternatively, all three ports can be assigned explicitly:</p><p>  setenv XPA_NSINET remote:12345,3000,12346</p><p>In this case 12345 and 12346 should be open for incoming connections. The \s-1XPA\s0 access port (which need not be open to the outside world) is set to 3000.</p><p>Finally, note that we currently have no mechanism to cope with Internet proxy servers (such as \s-1SOCKS\s0 servers). If an \s-1XPA\s0 service is running on a machine that cannot connect directly to outside machines, but goes through a proxy server instead, there currently is no way to register that \s-1XPA\s0 service with a remote machine.  We hope to implement support for \s-1SOCKS\s0 proxy in a future release.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO xpainet&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/xpa.7.html"><strong>xpa</strong>(7)</a> for a list of \s-1XPA\s0 help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="xpaenv.7.html"><span aria-hidden="true">&larr;</span> xpaenv.7: Environment variables for \s-1xpa\s0 messaging</a></li>
   <li class="next"><a href="xpaintro.7.html">xpaintro.7: Introduction to the \s-1xpa\s0 messaging system <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
