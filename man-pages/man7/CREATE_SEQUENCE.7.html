<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CREATE_SEQUENCE: Define a new sequence generator</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Define a new sequence generator">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CREATE_SEQUENCE (7) manual">
  <meta name="twitter:description" content="Define a new sequence generator">
  <meta name="twitter:image" content="https://www.carta.tech/images/postgresql-client-9.4-CREATE_SEQUENCE-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/CREATE_SEQUENCE.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CREATE_SEQUENCE (7) manual" />
  <meta property="og:description" content="Define a new sequence generator" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postgresql-client-9.4-CREATE_SEQUENCE-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CREATE_SEQUENCE<small> (7)</small></h1>
        <p class="lead">Define a new sequence generator</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/CREATE_SEQUENCE.7.html">
      <span itemprop="name">CREATE_SEQUENCE: Define a new sequence generator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postgresql-client-9.4/">
      <span itemprop="name">postgresql-client-9.4</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/CREATE_SEQUENCE.7.html">
      <span itemprop="name">CREATE_SEQUENCE: Define a new sequence generator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
CREATE [ TEMPORARY | TEMP ] SEQUENCE <em>name</em> [ INCREMENT [ BY ] <em>increment</em> ]
    [ MINVALUE <em>minvalue</em> | NO MINVALUE ] [ MAXVALUE <em>maxvalue</em> | NO MAXVALUE ]
    [ START [ WITH ] <em>start</em> ] [ CACHE <em>cache</em> ] [ [ NO ] CYCLE ]
    [ OWNED BY { <em>table_name</em>.<em>column_name</em> | NONE } ]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>CREATE SEQUENCE</strong> creates a new sequence number generator. This involves creating and initializing a new special single-row table with the name <em>name</em>. The generator will be owned by the user issuing the command.</p><p>If a schema name is given then the sequence is created in the specified schema. Otherwise it is created in the current schema. Temporary sequences exist in a special schema, so a schema name cannot be given when creating a temporary sequence. The sequence name must be distinct from the name of any other sequence, table, index, view, or foreign table in the same schema.</p><p>After a sequence is created, you use the functions <strong>nextval</strong>, <strong>currval</strong>, and <strong>setval</strong> to operate on the sequence. These functions are documented in Section 9.16, &ldquo;Sequence Manipulation Functions&rdquo;, in the documentation.</p><p>Although you cannot update a sequence directly, you can use a query like:</p>
<pre>
SELECT * FROM <em>name</em>;
</pre>
<p>to examine the parameters and current state of a sequence. In particular, the last_value field of the sequence shows the last value allocated by any session. (Of course, this value might be obsolete by the time it&apos;s printed, if other sessions are actively doing <strong>nextval</strong> calls.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p>TEMPORARY or TEMP</p><p>If specified, the sequence object is created only for this session, and is automatically dropped on session exit. Existing permanent sequences with the same name are not visible (in this session) while the temporary sequence exists, unless they are referenced with schema-qualified names.</p><p><em>name</em></p><p>The name (optionally schema-qualified) of the sequence to be created.</p><p><em>increment</em></p><p>The optional clause INCREMENT BY <em>increment</em> specifies which value is added to the current sequence value to create a new value. A positive value will make an ascending sequence, a negative one a descending sequence. The default value is 1.</p><p><em>minvalue</em></p><p>NO MINVALUE</p><p>The optional clause MINVALUE <em>minvalue</em> determines the minimum value a sequence can generate. If this clause is not supplied or <strong>NO MINVALUE</strong> is specified, then defaults will be used. The defaults are 1 and -263-1 for ascending and descending sequences, respectively.</p><p><em>maxvalue</em></p><p>NO MAXVALUE</p><p>The optional clause MAXVALUE <em>maxvalue</em> determines the maximum value for the sequence. If this clause is not supplied or <strong>NO MAXVALUE</strong> is specified, then default values will be used. The defaults are 263-1 and -1 for ascending and descending sequences, respectively.</p><p><em>start</em></p><p>The optional clause START WITH <em>start</em> allows the sequence to begin anywhere. The default starting value is <em>minvalue</em> for ascending sequences and <em>maxvalue</em> for descending ones.</p><p><em>cache</em></p><p>The optional clause CACHE <em>cache</em> specifies how many sequence numbers are to be preallocated and stored in memory for faster access. The minimum value is 1 (only one value can be generated at a time, i.e., no cache), and this is also the default.</p><p>CYCLE</p><p>NO CYCLE</p><p>The CYCLE option allows the sequence to wrap around when the <em>maxvalue</em> or <em>minvalue</em> has been reached by an ascending or descending sequence respectively. If the limit is reached, the next number generated will be the <em>minvalue</em> or <em>maxvalue</em>, respectively.</p><p>If NO CYCLE is specified, any calls to <strong>nextval</strong> after the sequence has reached its maximum value will return an error. If neither CYCLE or NO CYCLE are specified, NO CYCLE is the default.</p><p>OWNED BY <em>table_name</em>.<em>column_name</em></p><p>OWNED BY NONE</p><p>The OWNED BY option causes the sequence to be associated with a specific table column, such that if that column (or its whole table) is dropped, the sequence will be automatically dropped as well. The specified table must have the same owner and be in the same schema as the sequence. OWNED BY NONE, the default, specifies that there is no such association.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Use <strong>DROP SEQUENCE</strong> to remove a sequence.</p><p>Sequences are based on bigint arithmetic, so the range cannot exceed the range of an eight-byte integer (-9223372036854775808 to 9223372036854775807).</p><p>Unexpected results might be obtained if a <em>cache</em> setting greater than one is used for a sequence object that will be used concurrently by multiple sessions. Each session will allocate and cache successive sequence values during one access to the sequence object and increase the sequence object&apos;s last_value accordingly. Then, the next <em>cache</em>-1 uses of <strong>nextval</strong> within that session simply return the preallocated values without touching the sequence object. So, any numbers allocated but not used within a session will be lost when that session ends, resulting in &ldquo;holes&rdquo; in the sequence.</p><p>Furthermore, although multiple sessions are guaranteed to allocate distinct sequence values, the values might be generated out of sequence when all the sessions are considered. For example, with a <em>cache</em> setting of 10, session A might reserve values 1..10 and return <strong>nextval</strong>=1, then session B might reserve values 11..20 and return <strong>nextval</strong>=11 before session A has generated nextval=2. Thus, with a <em>cache</em> setting of one it is safe to assume that <strong>nextval</strong> values are generated sequentially; with a <em>cache</em> setting greater than one you should only assume that the <strong>nextval</strong> values are all distinct, not that they are generated purely sequentially. Also, last_value will reflect the latest value reserved by any session, whether or not it has yet been returned by <strong>nextval</strong>.</p><p>Another consideration is that a <strong>setval</strong> executed on such a sequence will not be noticed by other sessions until they have used up any preallocated values they have cached.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Create an ascending sequence called serial, starting at 101:</p>
<pre>
CREATE SEQUENCE serial START 101;
</pre>
<p>Select the next number from this sequence:</p>
<pre>
SELECT nextval(&apos;serial&apos;);

 nextval
---------
     101
</pre>
<p>Select the next number from this sequence:</p>
<pre>
SELECT nextval(&apos;serial&apos;);

 nextval
---------
     102
</pre>
<p>Use this sequence in an <strong>INSERT</strong> command:</p>
<pre>
INSERT INTO distributors VALUES (nextval(&apos;serial&apos;), &apos;nothing&apos;);
</pre>
<p>Update the sequence value after a <strong>COPY FROM</strong>:</p>
<pre>
BEGIN;
COPY distributors FROM &apos;input_file&apos;;
SELECT setval(&apos;serial&apos;, max(id)) FROM distributors;
END;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p><strong>CREATE SEQUENCE</strong> conforms to the SQL standard, with the following exceptions:</p><p>The standard&apos;s AS &lt;data type&gt; expression is not supported.</p><p>Obtaining the next value is done using the <strong>nextval()</strong> function instead of the standard&apos;s <strong>NEXT VALUE FOR</strong> expression.</p><p>The OWNED BY clause is a PostgreSQL extension.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO CREATE_SEQUENCE&hellip;</h2>
        <div class="sectioncontent">
<p>ALTER SEQUENCE (<a href="../man7/ALTER_SEQUENCE.7.html"><strong>ALTER_SEQUENCE</strong>(7)</a>), DROP SEQUENCE (<a href="../man7/DROP_SEQUENCE.7.html"><strong>DROP_SEQUENCE</strong>(7)</a>)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CREATE_SCHEMA.7.html"><span aria-hidden="true">&larr;</span> CREATE_SCHEMA.7: Define a new schema</a></li>
   <li class="next"><a href="CREATE_SERVER.7.html">CREATE_SERVER.7: Define a new foreign server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
