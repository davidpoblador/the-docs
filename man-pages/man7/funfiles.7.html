<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>funfiles: Funtools data files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Funtools data files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="funfiles (7) manual">
  <meta name="twitter:description" content="Funtools data files">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfuntools-dev-funfiles-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/funfiles.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="funfiles (7) manual" />
  <meta property="og:description" content="Funtools data files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfuntools-dev-funfiles-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">funfiles<small> (7)</small></h1>
        <p class="lead">Funtools data files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/funfiles.7.html">
      <span itemprop="name">funfiles: Funtools data files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfuntools-dev/">
      <span itemprop="name">libfuntools-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/funfiles.7.html">
      <span itemprop="name">funfiles: Funtools data files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>This document describes the data file formats (\s-1FITS\s0, array, raw events) as well as the file types (gzip, socket, etc.) supported by Funtools.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Funtools supports \s-1FITS\s0 images and binary tables, and binary files containing array (homogeneous) data or event (heterogeneous) data. IRAF-style brackets are appended to the filename to specify various kinds of information needed to characterize these data:</p>
<pre>
  file[ext|ind|ARRAY()|EVENTS(),section][filters]
  or
  file[ext|ind|ARRAY()|EVENTS(),section,filters]
</pre>
<p>where:</p><ul>
<li><p><strong>file</strong> is the Funtools file name</p></li><li><p><strong>ext</strong> is the \s-1FITS\s0 extension name</p></li><li><p><strong>ind</strong> is the \s-1FITS\s0 extension number</p></li><li><p><strong>\s-1</strong><strong>ARRAY\s0()</strong><strong></strong> is an array specification</p></li><li><p><strong>\s-1</strong><strong>EVENTS\s0()</strong><strong></strong> is an event specification</p></li><li><p><strong>section</strong> is the image section specification</p></li><li><p><strong>filters</strong> are spatial region and table (row) filters</p></li>
</ul><p><strong>Supported Data Formats</strong></p><p>Funtools programs (and the underlying libraries) support the following data file formats:</p><ul>
<li><p>\s-1FITS\s0 images (and image extensions)</p></li><li><p>\s-1FITS\s0 binary tables</p></li><li><p>binary files containing an array of homogeneous data</p></li><li><p>binary files containing events, i.e. records of heterogeneous data</p></li><li><p>column-based text files, which are documented here</p></li><li><p>non-disk files and lists of files</p></li>
</ul><p>Information needed to identify and characterize the event or image data can be specified on the command line using IRAF-style bracket notation appended to the filename:</p><p>  foo.fits                              # open FITS default extension   image.fits[3]                         # open FITS extension #3   events.fits[EVENTS]                   # open EVENTS extension   array.file[ARRAY(s1024)]              # open 1024x1024 short array   events.file[EVENTS(x:1024,y:1024...)] # open non-FITS event list</p><p>Note that in many Unix shells (e.g., csh and tcsh), filenames must be enclosed in quotes to protect the brackets from shell processing.</p><p><strong>\s-1FITS\s0 Images and Binary Tables</strong></p><p>When <em>FunOpen()</em> opens a \s-1FITS\s0 file without a bracket specifier, the default behavior is to look for a valid image in the primary \s-1HDU\s0. In the absence of a primary image, Funtools will try to open an extension named either <strong>\s-1EVENTS\s0</strong> or <strong>\s-1STDEVT\s0</strong>, if one of these exists. This default behavior supports both \s-1FITS\s0 image processing and standard X\-ray event list processing (which, after all, is what we at \s-1SAO/HEAD\s0 do).</p><p>In order to open a \s-1FITS\s0 binary table or image extension explicitly, it is necessary to specify either the extension name or the extension number in brackets:</p><p>  foo.fits[1]                      # open extension #1: the primary HDU   foo.fits[3]                      # open extension #3 of a FITS file   foo.fits[GTI]                    # open GTI extension of a FITS file</p><p>The ext argument specifies the name of the \s-1FITS\s0 extension (i.e. the value of the \s-1EXTENSION\s0 header parameter in a \s-1FITS\s0 extension), while the index specifies the value of the \s-1FITS\s0 \s-1EXTVER\s0 header parameter. Following \s-1FITS\s0 conventions, extension numbers start at 1.</p><p>When a \s-1FITS\s0 data file is opened for reading using <em>FunOpen()</em>, the specified extension is automatically located and is used to initialize the Funtools internal data structures.</p><p><strong>Non-FITS Raw Event Files</strong></p><p>In addition to \s-1FITS\s0 tables, Funtools programs and libraries can operate on non-FITS files containing heterogeneous event records. To specify such an event file, use:</p><ul>
<li><p>file[\s-1EVENTS\s0(event\-spec)]</p></li><li><p>file[\s-1<em>EVENTS\s0()</em>]</p></li>
</ul><p>where <strong>event-spec</strong> is a string that specified the names, data types, and optional image dimensions for each element of the event record:</p><ul>
<li><p>[name]:[n][type]:[(lodim:)hidim]</p></li>
</ul><p>Data types follow standard conventions for \s-1FITS\s0 binary tables, but include two extra unsigned types ('U' and 'V'):</p><ul>
<li><p><strong>B</strong> \*(-- unsigned 8\-bit char</p></li><li><p><strong>I</strong> \*(-- signed 16\-bit int</p></li><li><p><strong>J</strong> \*(-- signed 32\-bit int</p></li><li><p><strong>K</strong> \*(-- signed 64\-bit int</p></li><li><p><strong>E</strong> \*(-- 32\-bit float</p></li><li><p><strong>D</strong> \*(-- 64\-bit float</p></li><li><p><strong>U</strong> \*(-- unsigned 16\-bit int</p></li><li><p><strong>V</strong> \*(-- unsigned 32\-bit int</p></li>
</ul><p>An optional integer value <strong>n</strong> can be prefixed to the type to indicate that the element is an array of n values. For example:</p><p>  foo.fits[EVENTS(x:I,y:I,status:4J)]</p><p>defines x and y as 16\-bit ints and status as an array of 4 32\-bit ints.</p><p>Furthermore, image dimensions can be attached to the event specification in order to tell Funtools how to bin the events into an image. They follow the conventions for the \s-1FITS\s0 \s-1TLMIN/TLMAX\s0 keywords. If the low image dimension is not specified, it defaults to 1.  Thus:</p><ul>
<li><p>\s-1RAWX:J:1:100\s0</p></li><li><p>\s-1RAWX:J:100\s0</p></li>
</ul><p>both specify that the dimension of this column runs from 1 to 100.</p><p>\s-1NB:\s0 it is required that all padding be specified in the record definition. Thus, when writing out whole C structs instead of individual record elements, great care must be taken to include the compiler-added padding in the event definition.</p><p>For example, suppose a \s-1FITS\s0 binary table has the following set of column definitions:</p><p>  TTYPE1  = 'X                 ' / Label for field   TFORM1  = '1I                ' / Data type for field   TLMIN1  =                    1 / Min. axis value   TLMAX1  =                   10 / Max. axis value   TTYPE2  = 'Y                 ' / Label for field   TFORM2  = '1I                ' / Data type for field   TLMIN2  =                    2 / Min. axis value   TLMAX2  =                   11 / Max. axis value   TTYPE3  = 'PHA               ' / Label for field   TFORM3  = '1I                ' / Data type for field   TTYPE4  = 'PI                ' / Label for field   TFORM4  = '1J                ' / Data type for field   TTYPE5  = 'TIME              ' / Label for field   TFORM5  = '1D                ' / Data type for field   TTYPE6  = 'DX                ' / Label for field   TFORM6  = '1E                ' / Data type for field   TLMIN6  =                    1 / Min. axis value   TLMAX6  =                   10 / Max. axis value   TTYPE7  = 'DY                ' / Label for field   TFORM7  = '1E                ' / Data type for field   TLMIN7  =                    3 / Min. axis value   TLMAX7  =                   12 / Max. axis value</p><p>An raw event file containing these same data would have the event specification:</p><p>  EVENTS(X:I:10,Y:I:2:11,PHA:I,PI:J,TIME:D,DX:E:10,DY:E:3:12)</p><p>If no event specification string is included within the \s-1<em>EVENTS\s0()</em> operator, then the event specification is taken from the <strong>\s-1EVENTS\s0</strong> environment variable:</p><p>  setenv EVENTS "X:I:10,Y:I:10,PHA:I,PI:J,TIME:D,DX:E:10,DY:E:10"</p><p>In addition to knowing the data structure, it is necessary to know the <em>endian</em> ordering of the data, i.e., whether or not the data is in <em>bigendian</em> format, so that we can convert to the native format for this platform. This issue does not arise for \s-1FITS\s0 Binary Tables because all \s-1FITS\s0 files use big-endian ordering, regardless of platform. But for non-FITS data, big-endian data produced on a Sun workstation but read on a Linux \s-1PC\s0 needs to be byte\-swapped, since PCs use little-endian ordering. To specify an ordering, use the <em>bigendian=</em> or <em>endian=</em> keywords on the command-line or the \s-1EVENTS_BIGENDIAN\s0 or \s-1EVENTS_ENDIAN\s0 environment variables.  The value of the <em>bigendian</em> variables should be \*(L"true\*(R" or \*(L"false\*(R", while the value of the <em>endian</em> variables should be \*(L"little\*(R" or \*(L"big\*(R".</p><p>For example, a \s-1PC\s0 can access data produced by a Sun using:</p><p>  hrc.nepr[EVENTS(),bigendian=true] or   hrc.nepr[EVENTS(),endian=big] or   setenv EVENTS_BIGENDIAN true or   setenv EVENTS_ENDIAN big</p><p>If none of these are specified, the data are assumed to follow the format for that platform and no byte-swapping is performed.</p><p><strong>Non-FITS Array Files</strong></p><p>In addition to \s-1FITS\s0 images, Funtools programs and libraries can operate on non-FITS files containing arrays of homogeneous data. To specify an array file, use:</p><ul>
<li><p>file[\s-1ARRAY\s0(array\-spec)]</p></li><li><p>file[\s-1<em>ARRAY\s0()</em>]</p></li>
</ul><p>where array-spec is of the form:</p><ul>
<li><p>[type][dim1][.dim2][:skip][endian]</p></li>
</ul><p>and where [type] is:</p><ul>
<li><p>b   (8\-bit unsigned char)</p></li><li><p>s   (16\-bit short int)</p></li><li><p>u   (16\-bit unsigned short int)</p></li><li><p>i   (32\-bit int)</p></li><li><p>r,f (32\-bit float)</p></li><li><p>d   (64\-bit float)</p></li>
</ul><p>The dim1 specification is required, but dim2 is optional and defaults to dim1.  The skip specification is optional and defaults to 0.  The optional endian specification can be 'l' or 'b' and defaults to the endian type for the current machine.</p><p>If no array specification is included within the \s-1<em>ARRAY\s0()</em> operator, then the array specification is taken from the <strong>\s-1ARRAY\s0</strong> environment variable. For example:</p><p>  foo.arr[ARRAY(r512)]          # bitpix=-32 dim1=512 dim2=512   foo.arr[ARRAY(r512.400)]      # bitpix=-32 dim1=512 dim2=400   foo.arr[ARRAY(r512.400])      # bitpix=-32 dim1=512 dim2=400   foo.arr[ARRAY(r512.400:2880)] # bitpix=-32 dim1=512 dim2=400 skip=2880   foo.arr[ARRAY(r512l)]         # bitpix=-32 dim1=512 dim2=512 endian=little   setenv ARRAY "r512.400:2880"   foo.arr[ARRAY()]              # bitpix=-32 dim1=512 dim2=400 skip=2880</p><p><strong>Specifying Image Sections</strong></p><p>Once a data file (and possibly, a \s-1FITS\s0 extension) has been specified, the next (optional) part of a bracket specification can be used to select image <strong>section</strong> information, i.e., to specify the x,y limits of an image section, as well as the blocking factor to apply to that section. This information can be added to any file specification but only is used by Funtools image processing routines.</p><p>The format of the image section specification is one of the following:</p><ul>
<li><p>file[xy0:xy1,block]</p></li><li><p>file[x0:x1,y0:y1,block]</p></li><li><p>file[x0:x1,*,block]</p></li><li><p>file[*,y0:y1,block]</p></li><li><p>file[*,block]</p></li>
</ul><p>where the limit values can be ints or \*(L"*\*(R" for default. A single \*(L"*\*(R" can be used instead of val:val, as shown.  Note that blocking is applied to the section after it is extracted.</p><p>In addition to image sections specified by the lo and hi x,y limits, image sections using center positions can be specified:</p><ul>
<li><p>file[dim1@xcen,dim2@ycen]</p></li><li><p>file[xdim2@xcen@ycen]</p></li><li><p>file[dim1@xcen,dim2@ycen,block]</p></li><li><p>file[dim@xcen@ycen,block]</p></li>
</ul><p>Note that the (float) values for dim, dim1, dim2, xcen, ycen must be specified or else the expression does not make sense!</p><p>In all cases, block is optional and defaults to 1. An 's' or 'a' can be appended to signify \*(L"sum\*(R" or \*(L"average\*(R" blocking (default is \*(L"sum\*(R"). Section specifications are given in image coordinates by default. If you wish to specify physical coordinates, add a 'p' as the last character of the section specification, before the closing bracket. For example:</p><ul>
<li><p>file[\-8:\-7,\-8:\-7p]</p></li><li><p>file[\-8:\-7,\-8:\-7,2p]</p></li>
</ul><p>A section can be specified in any Funtools file name. If the operation to be applied to that file is an imaging operation, then the specification will be utilized. If the operation is purely a table operation, then the section specification is ignored.</p><p>Do not be confused by:</p><p>  foo.fits[2]   foo.fits[*,2]</p><p>The former specifies opening the second extension of the \s-1FITS\s0 file. The latter specifies application of block 2 to the image section.</p><p>Note that the section specification must come after any of \s-1FITS\s0 <strong>ext</strong> name or <strong>ind</strong> number, but all sensible defaults are supported:</p><ul>
<li><p>file[ext]</p></li><li><p>file[ext,index]</p></li><li><p>file[index]</p></li><li><p>file[ext,section]</p></li><li><p>file[ext,index,section]</p></li><li><p>file[index,section]</p></li><li><p>file[section]</p></li>
</ul><p><strong>Binning \s-1FITS\s0 Binary Tables and Non-FITS Event Files</strong></p><p>If a \s-1FITS\s0 binary table or a non-FITS raw event file is to be binned into a 2D image (e.g., using the funimage program), it is necessary to specify the two columns to be used for the binning, as well as the dimensions of the image.  Funtools first looks for a specifier of the form:</p><p> bincols=([xnam[:tlmin[:tlmax:[binsiz]]]],[ynam[:tlmin[:tlmax[:binsiz]]]])</p><p>in bracket syntax, and uses the column names thus specified. The tlmin, tlmax, and binsiz specifiers determine the image binning dimensions using:</p><p>  dim = (tlmax - tlmin)/binsiz     (floating point data)   dim = (tlmax - tlmin)/binsiz + 1 (integer data)</p><p>These tlmin, tlmax, and binsiz specifiers can be omitted if \s-1TLMIN\s0, \s-1TLMAX\s0, and \s-1TDBIN\s0 header parameters are present in the \s-1FITS\s0 binary table header, respectively. If only one parameter is specified, it is assumed to be tlmax, and tlmin defaults to 1. If two parameters are specified, they are assumed to be tlmin and tlmax.</p><p>For example, to bin an \s-1HRC\s0 event list columns \*(L"\s-1VPOS\s0\*(R" and \*(L"\s-1UPOS\s0\*(R", use:</p><p>  hrc.nepr[bincols=(VPOS,UPOS)]</p><p>or</p><p>  hrc.nepr[bincols=(VPOS:49152,UPOS:4096)]</p><p>Note that you can optionally specify the dimensions of these columns to cover cases where neither \s-1TLMAX\s0 keywords are defined in the header.  If either dimension is specified, then both must be specified.</p><p>You can set the \s-1FITS_BINCOLS\s0 or \s-1EVENTS_BINCOLS\s0 environment variable as an alternative to adding the \*(L"bincols=\*(R" specifier to each file name for \s-1FITS\s0 binary tables and raw event files, respectively.  If no binning keywords or environment variables are specified, or if the specified columns are not in the binary table, the Chandra parameters \s-1CPREF\s0 (or \s-1PREFX\s0) are searched for in the \s-1FITS\s0 binary table header. Failing this, columns named \*(L"X\*(R" and \*(L"Y\*(R" are sought.  If these are not found, the code looks for columns containing the characters \*(L"X\*(R" and \*(L"Y\*(R".  Thus, you can bin on \*(L"\s-1DETX\s0\*(R" and \*(L"\s-1DETX\s0\*(R" columns without specifying them, if these are the only column names containing the \*(L"X\*(R" and \*(L"Y\*(R" characters.</p><p>Ordinarily, each event or row contributes one count to an image pixel during the 2D binning process. Thus, if five events all have the same (x,y) position, the image pixel value for that position will have a value of five. It is possible to specify a variable contribution for each event by using the vcol=[colname] filter spec:</p><p> vcol=[colname]</p><p>The vcol colname is a column containing a numeric value in each event row that will be used as the contribution of the given event to its image pixel. For example, consider an event file that has the following content:</p><p>  x:e:4    y:e:4    v:e   ------   ------   ----   1        1        1.0   2        2        2.0   3        3        3.0   4        4        0.0   1        1        1.0   2        2        2.0   3        3        3.0   4        4        4.0</p><p>There are two events with x,y value of (1,1) so ordinarily a 2D image will have a value of 2 in the (1,1) pixel. If the v column is specified as the value column:</p><p>  foo.fits'[vcol=v]'</p><p>then each pixel will contain the additive sum of the associated (x,y) column values from the v column.  For example, image pixel (1,1) will contain 1. + 1. = 2, image pixel (2,2) will contain (2 + 2) = 4, etc.</p><p>An important variation on the use of a value column to specify the contribution an event makes to an image pixel is when the value column contains the reciprocal of the event contribution. For this case, the column name should be prefixed with a / (divide sign) thus:</p><p>  foo.fits'[vcol=/v]'</p><p>Each image pixel value will then be the sum of the reciprocals of the value column. A zero in the value column results in NaN (not a number). Thus, in the above example, image pixel (1.1) will contain 1/1 + 1/1 = 2, image pixel (2,2) will contain (1/2 + 1/2) = 1, etc. Image pixel (4,4) will contain (1/0 + 1/4) = NaN.</p><p>You can set the \s-1FITS_VCOL\s0 or \s-1EVENTS_VCOL\s0 environment variable as an alternative to adding the \*(L"vcol=\*(R" specifier to each file name for \s-1FITS\s0 binary tables and raw event files, respectively.</p><p>Finally, when binning events, the data type of the resulting 2D image must be specified. This can be done with the \*(L"bitpix=[n]\*(R" keyword in the bracket specification.  For example:</p><p>  events.fits[bincols=(VPOS,UPOS),bitpix=-32]</p><p>will create a floating point image binned on columns \s-1VPOS\s0 and \s-1UPOS\s0. If no bitpix keyword is specified, bitpix=32 is assumed.  As with bincols values, you also can use the \s-1FITS_BITPIX\s0 and \s-1EVENTS_BITPIX\s0 environment variables to set this value for \s-1FITS\s0 binary tables and raw event files, respectively.</p><p>The <strong>funimage</strong> program also allows you to create a 1D image projection along any column of a table by using the <strong>bincols=[column]</strong> filter specification and specifying a single column. For example, the following command projects a 1D image along the chipx column of a table:</p><p>  funimage ev.fits'[bincols=chipx]' im.fits</p><p>See funimage for more information about creating 1D and 2D images.</p><p>Finally, please note that Funtools supports most \s-1FITS\s0 standards. We will add missing support as required by the community. In general, however, we do not support non-standard extensions. For example, we sense the presence of the binary table 'variable length array' proposed extension and we pass it along when copying and filtering files, but we do not process it. We will add support for new standards as they become official.</p><p><strong>Table and Spatial Region Filters</strong></p><p>Note that, in addition extensions and image sections, Funtools bracket notation can be used to specify table and spatial region filters.  These filters are always placed after the image section information.  They can be specified in the same bracket or in a separate bracket immediately following:</p><ul>
<li><p>file[ext|ind|<em>ARRAY()</em>|<em>EVENTS()</em>,section][filters]</p></li><li><p>file[ext|ind|<em>ARRAY()</em>|<em>EVENTS()</em>,section,filters]</p></li>
</ul><p>where:</p><ul>
<li><p><strong>file</strong> is the Funtools file name</p></li><li><p><strong>\s-1</strong><strong>ARRAY\s0()</strong><strong></strong> is an array specification</p></li><li><p><strong>\s-1</strong><strong>EVENTS\s0()</strong><strong></strong> is an event list specification</p></li><li><p><strong>ext</strong> is the \s-1FITS\s0 extension name</p></li><li><p><strong>ind</strong> is the \s-1FITS\s0 extension number</p></li><li><p><strong>section</strong> is the image section to extract</p></li><li><p><strong>filters</strong> are spatial region and table (row) filters to apply</p></li>
</ul><p>The topics of table and region filtering are covered in detail in:</p><ul>
<li><p>Table Filtering</p></li><li><p>Spatial Region Filtering</p></li>
</ul><p><strong>Disk Files and Other Supported File Types</strong></p><p>The specified <strong>file</strong> usually is an ordinary disk file. In addition, gzip'ed files are supported in Funtools: gzip'ed input files are automatically uncompressed as they are read, and gzip'ed output files are compressed as they are written. \s-1NB:\s0 if a \s-1FITS\s0 binary table is written in gzip format, the number of rows in the table will be set to \-1. Such a file will work with Funtools programs but will not work with other \s-1FITS\s0 programs such as ds9.</p><p>The special keywords \*(L"stdin\*(R" and \*(L"stdout\*(R" designate Unix standard input and standard output, respectively. The string \*(L"-\*(R" (hyphen) will be taken to mean \*(L"stdin\*(R" if the file is opened for reading and \*(L"stdout\*(R" if the file is opened for writing.</p><p>A file also can be an \s-1INET\s0 socket on the same or another machine using the syntax:</p><p>  machine:port</p><p>Thus, for example:</p><p>  karapet:1428</p><p>specifies that I/O should be performed to/from port 1428 on the machine karapet.  If no machine name is specified, the default is to use the current machine:</p><p>  :1428</p><p>This means to open port 1428 on the current machine. Socket support allows you to generate a distributed pipe:</p><p>  on karapet:       funtask1 in.fits bynars:1428   on bynars:        funtask2 :1428 out.fits</p><p>The socket mechanism thus supports simple parallel processing using <strong>process decomposition</strong>. Note that parallel processing using <strong>data decomposition</strong> is supported via the <strong>section</strong> specifier (see below), and the <strong>row#</strong> specifier, which is part of Table Filtering.</p><p>A file also can be a pointer to shared memory using the syntax:</p><p>  shm:[id|@key][:size]</p><p>A shared memory segment is specified with a <strong>shm:</strong> prefix, followed by either the shared memory id or the shared memory key (where the latter is prefixed by the '@' character).  The size (in bytes) of the shared memory segment can then be appended (preceded by the ':' character). If the size specification is absent, the code will attempt to determine the length automatically.</p><p>If the open mode contains the string \*(L"w+\*(R", then the memory segment will be created if it does not exist. (It also will be released and deleted when the file is closed.) In the case where a memory segment is being created, the length of the segment is required.</p><p>A file also can be Unix piped command (i.e. a program to run) using the syntax:</p><p>  "pipe: command arg1 ... argn"</p><p>The output from the command must be a valid \s-1FITS\s0 file. It is important to use quotes to protect spaces so that command arguments are passed correctly. A silly example is:</p><p>  fundisp "pipe: funtable 'foo.fits[cir 512 512 .1]' stdout"</p><p>This seemed like a good idea at the time ...</p><p><strong>Lists of Files</strong></p><p>Funtools also will process a list of files as a single file using the syntax:</p><p>  "list: file1 file2 ... filen"</p><p>The files in the list are separated by whitespace. Any of the above file types can be used. For example, if two files, foo1.fits and foo2.fits, are part of the same observation, they can be processed as a single file (using their own filters):</p><p>  fundisp "list: foo1.fits[cir(512,512,10)] foo2.fits[cir(511,511,10)]"          X        Y      PHA       PI                  TIME       DX       DY   -------- -------- -------- -------- --------------------- -------- --------        512      512        6        7     79493997.45854475      578      574        512      512        8        9     79494575.58943175      579      573        512      512        5        6     79493631.03866175      578      575        512      512        5        5     79493290.86521725      578      575        512      512        8        9     79493432.00990875      579      573        511      511        5        5     79488631.09462625      580      575        511      511       10       11     79488780.60006675      580      573        511      511        4        4     79494562.35474326      580      575        511      511        6        6     79488203.01561825      580      575        511      511        6        6     79488017.99730176      580      575        511      511        4        4     79494332.45355175      580      575        511      511        9       10     79492685.94014275      581      574        511      511        5        5     79487708.71298325      580      575        511      511        8        9     79493719.00160225      581      573</p><p>Again, note that it is important to avoid spaces in the filters because the list separator also is whitespace. To protect whitespace in a filter, enclose the file specification in quotes:</p><p>  fundisp "list: 'foo1.fits[cir 512 512 .1]' foo2.fits[cir(511,511,.1)]"</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO funfiles&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="funenv.7.html"><span aria-hidden="true">&larr;</span> funenv.7: Funtools environment variables</a></li>
   <li class="next"><a href="funfilters.7.html">funfilters.7: Filtering rows in a table <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
