<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CREATE_OPERATOR: Define a new operator</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Define a new operator">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CREATE_OPERATOR (7) manual">
  <meta name="twitter:description" content="Define a new operator">
  <meta name="twitter:image" content="https://www.carta.tech/images/postgresql-client-9.4-CREATE_OPERATOR-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/CREATE_OPERATOR.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CREATE_OPERATOR (7) manual" />
  <meta property="og:description" content="Define a new operator" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postgresql-client-9.4-CREATE_OPERATOR-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CREATE_OPERATOR<small> (7)</small></h1>
        <p class="lead">Define a new operator</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/CREATE_OPERATOR.7.html">
      <span itemprop="name">CREATE_OPERATOR: Define a new operator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postgresql-client-9.4/">
      <span itemprop="name">postgresql-client-9.4</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/CREATE_OPERATOR.7.html">
      <span itemprop="name">CREATE_OPERATOR: Define a new operator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
CREATE OPERATOR <em>name</em> (
    PROCEDURE = <em>function_name</em>
    [, LEFTARG = <em>left_type</em> ] [, RIGHTARG = <em>right_type</em> ]
    [, COMMUTATOR = <em>com_op</em> ] [, NEGATOR = <em>neg_op</em> ]
    [, RESTRICT = <em>res_proc</em> ] [, JOIN = <em>join_proc</em> ]
    [, HASHES ] [, MERGES ]
)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>CREATE OPERATOR</strong> defines a new operator, <em>name</em>. The user who defines an operator becomes its owner. If a schema name is given then the operator is created in the specified schema. Otherwise it is created in the current schema.</p><p>The operator name is a sequence of up to NAMEDATALEN-1 (63 by default) characters from the following list:</p>
<pre>
+ - * / &lt; &gt; = ~ ! @ # % ^ & | ` ?
</pre>
<p>There are a few restrictions on your choice of name:</p><p>-- and /* cannot appear anywhere in an operator name, since they will be taken as the start of a comment.</p><p>A multicharacter operator name cannot end in + or -, unless the name also contains at least one of these characters:</p>
<pre>
~ ! @ # % ^ & | ` ?
</pre>
<p>For example, @- is an allowed operator name, but *- is not. This restriction allows PostgreSQL to parse SQL-compliant commands without requiring spaces between tokens.</p><p>The use of =&gt; as an operator name is deprecated. It may be disallowed altogether in a future release.</p><p>The operator != is mapped to &lt;&gt; on input, so these two names are always equivalent.</p><p>At least one of LEFTARG and RIGHTARG must be defined. For binary operators, both must be defined. For right unary operators, only LEFTARG should be defined, while for left unary operators only RIGHTARG should be defined.</p><p>The <em>function_name</em> procedure must have been previously defined using <strong>CREATE FUNCTION</strong> and must be defined to accept the correct number of arguments (either one or two) of the indicated types.</p><p>The other clauses specify optional operator optimization clauses. Their meaning is detailed in Section 35.13, &ldquo;Operator Optimization Information&rdquo;, in the documentation.</p><p>To be able to create an operator, you must have USAGE privilege on the argument types and the return type, as well as EXECUTE privilege on the underlying function. If a commutator or negator operator is specified, you must own these operators.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p><em>name</em></p><p>The name of the operator to be defined. See above for allowable characters. The name can be schema-qualified, for example CREATE OPERATOR myschema.+ (...). If not, then the operator is created in the current schema. Two operators in the same schema can have the same name if they operate on different data types. This is called overloading.</p><p><em>function_name</em></p><p>The function used to implement this operator.</p><p><em>left_type</em></p><p>The data type of the operator&apos;s left operand, if any. This option would be omitted for a left-unary operator.</p><p><em>right_type</em></p><p>The data type of the operator&apos;s right operand, if any. This option would be omitted for a right-unary operator.</p><p><em>com_op</em></p><p>The commutator of this operator.</p><p><em>neg_op</em></p><p>The negator of this operator.</p><p><em>res_proc</em></p><p>The restriction selectivity estimator function for this operator.</p><p><em>join_proc</em></p><p>The join selectivity estimator function for this operator.</p><p>HASHES</p><p>Indicates this operator can support a hash join.</p><p>MERGES</p><p>Indicates this operator can support a merge join.</p><p>To give a schema-qualified operator name in <em>com_op</em> or the other optional arguments, use the OPERATOR() syntax, for example:</p>
<pre>
COMMUTATOR = OPERATOR(myschema.===) ,
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Refer to Section 35.12, &ldquo;User-defined Operators&rdquo;, in the documentation for further information.</p><p>It is not possible to specify an operator&apos;s lexical precedence in <strong>CREATE OPERATOR</strong>, because the parser&apos;s precedence behavior is hard-wired. See Section 4.1.6, &ldquo;Operator Precedence&rdquo;, in the documentation for precedence details.</p><p>The obsolete options SORT1, SORT2, LTCMP, and GTCMP were formerly used to specify the names of sort operators associated with a merge-joinable operator. This is no longer necessary, since information about associated operators is found by looking at B-tree operator families instead. If one of these options is given, it is ignored except for implicitly setting MERGES true.</p><p>Use DROP OPERATOR (<a href="../man7/DROP_OPERATOR.7.html"><strong>DROP_OPERATOR</strong>(7)</a>) to delete user-defined operators from a database. Use ALTER OPERATOR (<a href="../man7/ALTER_OPERATOR.7.html"><strong>ALTER_OPERATOR</strong>(7)</a>) to modify operators in a database.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following command defines a new operator, area-equality, for the data type box:</p>
<pre>
CREATE OPERATOR === (
    LEFTARG = box,
    RIGHTARG = box,
    PROCEDURE = area_equal_procedure,
    COMMUTATOR = ===,
    NEGATOR = !==,
    RESTRICT = area_restriction_procedure,
    JOIN = area_join_procedure,
    HASHES, MERGES
);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p><strong>CREATE OPERATOR</strong> is a PostgreSQL extension. There are no provisions for user-defined operators in the SQL standard.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO CREATE_OPERATOR&hellip;</h2>
        <div class="sectioncontent">
<p>ALTER OPERATOR (<a href="../man7/ALTER_OPERATOR.7.html"><strong>ALTER_OPERATOR</strong>(7)</a>), CREATE OPERATOR CLASS (<a href="../man7/CREATE_OPERATOR_CLASS.7.html"><strong>CREATE_OPERATOR_CLASS</strong>(7)</a>), DROP OPERATOR (<a href="../man7/DROP_OPERATOR.7.html"><strong>DROP_OPERATOR</strong>(7)</a>)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CREATE_MATERIALIZED_VIEW.7.html"><span aria-hidden="true">&larr;</span> CREATE_MATERIALIZED_VIEW.7: Define a new materialized view</a></li>
   <li class="next"><a href="CREATE_OPERATOR_CLASS.7.html">CREATE_OPERATOR_CLASS.7: Define a new operator class <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
