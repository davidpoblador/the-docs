<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ocf_heartbeat_Filesystem: Manages filesystem mounts</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Manages filesystem mounts">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ocf_heartbeat_Filesystem (7) manual">
  <meta name="twitter:description" content="Manages filesystem mounts">
  <meta name="twitter:image" content="https://www.carta.tech/images/resource-agents-ocf_heartbeat_Filesystem-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/ocf_heartbeat_Filesystem.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ocf_heartbeat_Filesystem (7) manual" />
  <meta property="og:description" content="Manages filesystem mounts" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/resource-agents-ocf_heartbeat_Filesystem-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ocf_heartbeat_Filesystem<small> (7)</small></h1>
        <p class="lead">Manages filesystem mounts</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/ocf_heartbeat_Filesystem.7.html">
      <span itemprop="name">ocf_heartbeat_Filesystem: Manages filesystem mounts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/resource-agents/">
      <span itemprop="name">resource-agents</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/ocf_heartbeat_Filesystem.7.html">
      <span itemprop="name">ocf_heartbeat_Filesystem: Manages filesystem mounts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>Filesystem</strong> [start | stop | monitor | meta-data | validate-all]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Resource script for Filesystem. It manages a Filesystem on a shared storage medium.</p><p>The standard monitor operation of depth 0 (also known as probe) checks if the filesystem is mounted. If you want deeper tests, set OCF_CHECK_LEVEL to one of the following values:</p><p>10: read first 16 blocks of the device (raw read)</p><p>This doesn&apos;t exercise the filesystem at all, but the device on which the filesystem lives. This is noop for non-block devices such as NFS, SMBFS, or bind mounts.</p><p>20: test if a status file can be written and read</p><p>The status file must be writable by root. This is not always the case with an NFS mount, as NFS exports usually have the "root_squash" option set. In such a setup, you must either use read-only monitoring (depth=10), export with "no_root_squash" on your NFS server, or grant world write permissions on the directory where the status file is to be placed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED PARAMETERS</h2>
        <div class="sectioncontent">
<p><strong>device</strong></p><p>The name of block device for the filesystem, or -U, -L options for mount, or NFS mount specification.</p><p>(required, string, no default)</p><p><strong>directory</strong></p><p>The mount point for the filesystem.</p><p>(required, string, no default)</p><p><strong>fstype</strong></p><p>The type of filesystem to be mounted.</p><p>(required, string, no default)</p><p><strong>options</strong></p><p>Any extra options to be given as -o options to mount.</p><p>For bind mounts, add "bind" here and set fstype to "none". We will do the right thing for options such as "bind,ro".</p><p>(optional, string, no default)</p><p><strong>statusfile_prefix</strong></p><p>The prefix to be used for a status file for resource monitoring with depth 20. If you don&apos;t specify this parameter, all status files will be created in a separate directory.</p><p>(optional, string, default ".Filesystem_status/")</p><p><strong>run_fsck</strong></p><p>Specify how to decide whether to run fsck or not.</p><p>"auto" : decide to run fsck depending on the fstype(default) "force" : always run fsck regardless of the fstype "no" : do not run fsck ever.</p><p>(optional, string, default "auto")</p><p><strong>fast_stop</strong></p><p>Normally, we expect no users of the filesystem and the stop operation to finish quickly. If you cannot control the filesystem users easily and want to prevent the stop action from failing, then set this parameter to "no" and add an appropriate timeout for the stop operation.</p><p>(optional, boolean, default yes)</p><p><strong>force_clones</strong></p><p>The usage of a clone setup for local filesystems is forbidden by default. For special setups like glusterfs, cloning a mount of a local device with a filesystem like ext4 or xfs, independently on several nodes is a valid use-case.</p><p>Only set this to "true" if you know what you are doing!</p><p>(optional, boolean, default false)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED ACTIONS</h2>
        <div class="sectioncontent">
<p>This resource agent supports the following actions (operations):</p><p><strong>start</strong></p><p>Starts the resource. Suggested minimum timeout: 60.</p><p><strong>stop</strong></p><p>Stops the resource. Suggested minimum timeout: 60.</p><p><strong>notify</strong></p><p>Suggested minimum timeout: 60.</p><p><strong>monitor</strong></p><p>Performs a detailed status check. Suggested minimum timeout: 40. Suggested interval: 20.</p><p><strong>validate-all</strong></p><p>Performs a validation of the resource configuration. Suggested minimum timeout: 5.</p><p><strong>meta-data</strong></p><p>Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following is an example configuration for a Filesystem resource using the <strong>crm</strong>(8) shell:</p>
<pre>
primitive p_Filesystem ocf:heartbeat:Filesystem &#92;
  params &#92;
    device=<em>string</em> &#92;
    directory=<em>string</em> &#92;
    fstype=<em>string</em> &#92;
  op monitor depth="0" timeout="40" interval="20"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ocf_heartbeat_Filesystem&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>http://www.linux-ha.org/wiki/Filesystem_(resource_agent)</strong>\m[]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Linux-HA contributors (see the resource agent source for information about individual authors)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ocf_heartbeat_Evmsd.7.html"><span aria-hidden="true">&larr;</span> ocf_heartbeat_Evmsd.7: Controls clustered evms volume management (deprecated)</a></li>
   <li class="next"><a href="ocf_heartbeat_ICP.7.html">ocf_heartbeat_ICP.7: Manages an icp vortex clustered host drive <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
