<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ALTER_DOMAIN: Change the definition of a domain</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Change the definition of a domain">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ALTER_DOMAIN (7) manual">
  <meta name="twitter:description" content="Change the definition of a domain">
  <meta name="twitter:image" content="https://www.carta.tech/images/postgresql-client-9.4-ALTER_DOMAIN-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/ALTER_DOMAIN.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ALTER_DOMAIN (7) manual" />
  <meta property="og:description" content="Change the definition of a domain" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postgresql-client-9.4-ALTER_DOMAIN-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ALTER_DOMAIN<small> (7)</small></h1>
        <p class="lead">Change the definition of a domain</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/ALTER_DOMAIN.7.html">
      <span itemprop="name">ALTER_DOMAIN: Change the definition of a domain</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postgresql-client-9.4/">
      <span itemprop="name">postgresql-client-9.4</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/ALTER_DOMAIN.7.html">
      <span itemprop="name">ALTER_DOMAIN: Change the definition of a domain</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
ALTER DOMAIN <em>name</em>
    { SET DEFAULT <em>expression</em> | DROP DEFAULT }
ALTER DOMAIN <em>name</em>
    { SET | DROP } NOT NULL
ALTER DOMAIN <em>name</em>
    ADD <em>domain_constraint</em> [ NOT VALID ]
ALTER DOMAIN <em>name</em>
    DROP CONSTRAINT [ IF EXISTS ] <em>constraint_name</em> [ RESTRICT | CASCADE ]
ALTER DOMAIN <em>name</em>
     RENAME CONSTRAINT <em>constraint_name</em> TO <em>new_constraint_name</em>
ALTER DOMAIN <em>name</em>
    VALIDATE CONSTRAINT <em>constraint_name</em>
ALTER DOMAIN <em>name</em>
    OWNER TO <em>new_owner</em>
ALTER DOMAIN <em>name</em>
    RENAME TO <em>new_name</em>
ALTER DOMAIN <em>name</em>
    SET SCHEMA <em>new_schema</em>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ALTER DOMAIN</strong> changes the definition of an existing domain. There are several sub-forms:</p><p>SET/DROP DEFAULT</p><p>These forms set or remove the default value for a domain. Note that defaults only apply to subsequent <strong>INSERT</strong> commands; they do not affect rows already in a table using the domain.</p><p>SET/DROP NOT NULL</p><p>These forms change whether a domain is marked to allow NULL values or to reject NULL values. You can only SET NOT NULL when the columns using the domain contain no null values.</p><p>ADD <em>domain_constraint</em> [ NOT VALID ]</p><p>This form adds a new constraint to a domain using the same syntax as CREATE DOMAIN (<a href="../man7/CREATE_DOMAIN.7.html"><strong>CREATE_DOMAIN</strong>(7)</a>). When a new constraint is added to a domain, all columns using that domain will be checked against the newly added constraint. These checks can be suppressed by adding the new constraint using the NOT VALID option; the constraint can later be made valid using <strong>ALTER DOMAIN ... VALIDATE CONSTRAINT</strong>. Newly inserted or updated rows are always checked against all constraints, even those marked NOT VALID. NOT VALID is only accepted for CHECK constraints.</p><p>DROP CONSTRAINT [ IF EXISTS ]</p><p>This form drops constraints on a domain. If IF EXISTS is specified and the constraint does not exist, no error is thrown. In this case a notice is issued instead.</p><p>RENAME CONSTRAINT</p><p>This form changes the name of a constraint on a domain.</p><p>VALIDATE CONSTRAINT</p><p>This form validates a constraint previously added as NOT VALID, that is, verify that all data in columns using the domain satisfy the specified constraint.</p><p>OWNER</p><p>This form changes the owner of the domain to the specified user.</p><p>RENAME</p><p>This form changes the name of the domain.</p><p>SET SCHEMA</p><p>This form changes the schema of the domain. Any constraints associated with the domain are moved into the new schema as well.</p><p>You must own the domain to use <strong>ALTER DOMAIN</strong>. To change the schema of a domain, you must also have CREATE privilege on the new schema. To alter the owner, you must also be a direct or indirect member of the new owning role, and that role must have CREATE privilege on the domain&apos;s schema. (These restrictions enforce that altering the owner doesn&apos;t do anything you couldn&apos;t do by dropping and recreating the domain. However, a superuser can alter ownership of any domain anyway.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p><em>name</em></p><p>The name (possibly schema-qualified) of an existing domain to alter.</p><p><em>domain_constraint</em></p><p>New domain constraint for the domain.</p><p><em>constraint_name</em></p><p>Name of an existing constraint to drop or rename.</p><p><em>NOT VALID</em></p><p>Do not verify existing column data for constraint validity.</p><p>CASCADE</p><p>Automatically drop objects that depend on the constraint.</p><p>RESTRICT</p><p>Refuse to drop the constraint if there are any dependent objects. This is the default behavior.</p><p><em>new_name</em></p><p>The new name for the domain.</p><p><em>new_constraint_name</em></p><p>The new name for the constraint.</p><p><em>new_owner</em></p><p>The user name of the new owner of the domain.</p><p><em>new_schema</em></p><p>The new schema for the domain.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Currently, <strong>ALTER DOMAIN ADD CONSTRAINT</strong> and <strong>ALTER DOMAIN SET NOT NULL</strong> will fail if the named domain or any derived domain is used within a composite-type column of any table in the database. They should eventually be improved to be able to verify the new constraint for such nested columns.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To add a NOT NULL constraint to a domain:</p>
<pre>
ALTER DOMAIN zipcode SET NOT NULL;
</pre>
<p>To remove a NOT NULL constraint from a domain:</p>
<pre>
ALTER DOMAIN zipcode DROP NOT NULL;
</pre>
<p>To add a check constraint to a domain:</p>
<pre>
ALTER DOMAIN zipcode ADD CONSTRAINT zipchk CHECK (char_length(VALUE) = 5);
</pre>
<p>To remove a check constraint from a domain:</p>
<pre>
ALTER DOMAIN zipcode DROP CONSTRAINT zipchk;
</pre>
<p>To rename a check constraint on a domain:</p>
<pre>
ALTER DOMAIN zipcode RENAME CONSTRAINT zipchk TO zip_check;
</pre>
<p>To move the domain into a different schema:</p>
<pre>
ALTER DOMAIN zipcode SET SCHEMA customers;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p><strong>ALTER DOMAIN</strong> conforms to the SQL standard, except for the OWNER, RENAME, SET SCHEMA, and VALIDATE CONSTRAINT variants, which are PostgreSQL extensions. The NOT VALID clause of the ADD CONSTRAINT variant is also a PostgreSQL extension.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ALTER_DOMAIN&hellip;</h2>
        <div class="sectioncontent">
<p>CREATE DOMAIN (<a href="../man7/CREATE_DOMAIN.7.html"><strong>CREATE_DOMAIN</strong>(7)</a>), DROP DOMAIN (<a href="../man7/DROP_DOMAIN.7.html"><strong>DROP_DOMAIN</strong>(7)</a>)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ALTER_DEFAULT_PRIVILEGES.7.html"><span aria-hidden="true">&larr;</span> ALTER_DEFAULT_PRIVILEGES.7: Define default access privileges</a></li>
   <li class="next"><a href="ALTER_EVENT_TRIGGER.7.html">ALTER_EVENT_TRIGGER.7: Change the definition of an event trigger <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
