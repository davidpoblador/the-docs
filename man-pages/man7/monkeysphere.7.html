<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>monkeysphere: Ssh and tls authentication framework using openpgp web of trust</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ssh and tls authentication framework using openpgp web of trust">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="monkeysphere (7) manual">
  <meta name="twitter:description" content="Ssh and tls authentication framework using openpgp web of trust">
  <meta name="twitter:image" content="https://www.carta.tech/images/monkeysphere-monkeysphere-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/monkeysphere.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="monkeysphere (7) manual" />
  <meta property="og:description" content="Ssh and tls authentication framework using openpgp web of trust" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/monkeysphere-monkeysphere-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">monkeysphere<small> (7)</small></h1>
        <p class="lead">Ssh and tls authentication framework using openpgp web of trust</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/monkeysphere.7.html">
      <span itemprop="name">monkeysphere: Ssh and tls authentication framework using openpgp web of trust</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/monkeysphere/">
      <span itemprop="name">monkeysphere</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/monkeysphere.7.html">
      <span itemprop="name">monkeysphere: Ssh and tls authentication framework using openpgp web of trust</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Monkeysphere</strong> is a framework to leverage the OpenPGP web of trust for OpenSSH and TLS key-based authentication.  OpenPGP keys are tracked via GnuPG, and added to the authorized_keys and known_hosts files used by OpenSSH for connection authentication.  Monkeysphere can also be used by a validation agent to validate TLS connections (e.g. https).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IDENTITY CERTIFIERS</h2>
        <div class="sectioncontent">
<p>Each host that uses the <strong>Monkeysphere</strong> to authenticate its remote users needs some way to determine that those users are who they claim to be.  SSH permits key-based authentication, but we want instead to bind authenticators to human-comprehensible user identities.  This switch from raw keys to User IDs makes it possible for administrators to see intuitively who has access to an account, and it also enables end users to transition keys (and revoke compromised ones) automatically across all <strong>Monkeysphere</strong>-enabled hosts.  The User IDs and certifications that the <strong>Monkeysphere</strong> relies on are found in the OpenPGP Web of Trust.</p><p>However, in order to establish this binding, each host must know whose cerifications to trust.  Someone who a host trusts to certify User Identities is called an Identity Certifier.  A host must have at least one Identity Certifier in order to bind User IDs to keys.  Commonly, every ID Certifier would be trusted by the host to fully identify any User ID, but more nuanced approaches are possible as well.  For example, a given host could specify a dozen ID certifiers, but assign them all "marginal" trust.  Then any given User ID would need to be certified in the OpenPGP Web of Trust by at least three of those certifiers.</p><p>It is also possible to limit the scope of trust for a given ID Certifier to a particular domain.  That is, a host can be configured to fully (or marginally) trust a particular ID Certifier only when they certify identities within, say, example.org (based on the e-mail address in the User ID).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KEY ACCEPTABILITY</h2>
        <div class="sectioncontent">
<p>The monkeysphere commands work from a set of user IDs to determine acceptable keys for ssh and TLS authentication.  OpenPGP keys are considered acceptable if the following criteria are met:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>capability</strong></p>
  </dt>
  <dd>
    <p>The key must have the `authentication' (`a') usage flag set.</p>
  </dd>
  <dt>
    <p><strong>validity</strong></p>
  </dt>
  <dd>
    <p>The key itself must be valid, i.e. it must be well-formed, not expired, and not revoked.</p>
  </dd>
  <dt>
    <p><strong>certification</strong></p>
  </dt>
  <dd>
    <p>The relevant user ID must be signed by a trusted identity certifier.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOST IDENTIFICATION</h2>
        <div class="sectioncontent">
<p>The OpenPGP keys for hosts have associated `service names` (OpenPGP user IDs) that are based on URI specifications for the service.  Some examples:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ssh:</strong></p>
  </dt>
  <dd>
    <p>ssh://host.example.com[:port]</p>
  </dd>
  <dt>
    <p><strong>https:</strong></p>
  </dt>
  <dd>
    <p>https://host.example.com[:port]</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by: Jameson Rollins &lt;jrollins@finestructure.net&gt;, Daniel Kahn Gillmor &lt;dkg@fifthhorseman.net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO monkeysphere&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/monkeysphere.1.html"><strong>monkeysphere</strong>(1)</a>, <a href="../man8/monkeysphere-host.8.html"><strong>monkeysphere-host</strong>(8)</a>, <a href="../man8/monkeysphere-authentication.8.html"><strong>monkeysphere-authentication</strong>(8)</a>, <strong>openpgp2ssh</strong>(1), <strong>pem2openpgp</strong>(1), <a href="../man1/gpg.1.html"><strong>gpg</strong>(1)</a>, <strong>http://tools.ietf.org/html/rfc4880,</strong> <strong>ssh</strong>(1), <strong>http://tools.ietf.org/wg/secsh/draft-ietf-secsh-scp-sftp-ssh-uri/</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mon-collector.7.html"><span aria-hidden="true">&larr;</span> mon-collector.7: Command line interface for the data collectors of the monitoring system</a></li>
   <li class="next"><a href="montecarlo.7.html">montecarlo.7: Test function mos_montecarlo_polyfit() <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
