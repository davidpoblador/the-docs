<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lamssi_boot: Overview of lam's boot ssi modules</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Overview of lam's boot ssi modules">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lamssi_boot (7) manual">
  <meta name="twitter:description" content="Overview of lam's boot ssi modules">
  <meta name="twitter:image" content="https://www.carta.tech/images/lam-runtime-lamssi_boot-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/lamssi_boot.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lamssi_boot (7) manual" />
  <meta property="og:description" content="Overview of lam's boot ssi modules" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lam-runtime-lamssi_boot-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lamssi_boot<small> (7)</small></h1>
        <p class="lead">Overview of lam's boot ssi modules</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/lamssi_boot.7.html">
      <span itemprop="name">lamssi_boot: Overview of lam's boot ssi modules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lam-runtime/">
      <span itemprop="name">lam-runtime</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/lamssi_boot.7.html">
      <span itemprop="name">lamssi_boot: Overview of lam's boot ssi modules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The "kind" for boot SSI modules is "boot".  Specifically, the string "boot" (without the quotes) is the prefix that can be used as the prefix to arguments when passing values to boot modules at run time.  For example:</p>
<dl class='dl-vertical'>
  <dt>
    <p>lamboot -ssi boot rsh hostfile</p>
  </dt>
  <dd>
    <p>Specifies to use the "rsh" boot module, and lamboot across all the nodes listed in the file <em>hostfile</em>.</p>
  </dd>

</dl>
<p>LAM currently has several boot modules: bproc, globus, rsh (which includes ssh), slurm, and tm.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ADDITIONAL INFORMATION</h2>
        <div class="sectioncontent">
<p>The LAM/MPI User's Guide contains much detail about all of the boot modules.  All users are strongly encouraged to read it.  This man page is a summary of the available information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SELECTING A BOOT MODULE</h2>
        <div class="sectioncontent">
<p>Only one boot module may be selected per command execution.  Hence, the selection of which module occurs once when a given command initializes.  Once the module is chosen, it is used for the duration of the program run.</p><p>In most cases, LAM will automatically select the "best" module at run-time.  LAM will query all available modules at run time to obtain a list of priorities.  The module with the highest priority will be used.  If multiple modules return the same priority, LAM will select one at random.  Priorities are in the range of 0 to 100, with 0 being the lowest priority and 100 being the highest.  At run time, each module will examine the run-time environment and return a priority value that is appropriate.</p><p>For example, when running a PBS job, the <em>tm</em> module will return a sufficiently high priority value such that it will be selected and the other available modules will not.</p><p>Most modules allow run time parameters to override the priorities that they return that allow changing the order (and therefore ultimate selection) of the available boot modules.  See below.</p><p>Alternatively, a specific module may be selected by the user by specifying a value for the <em>boot</em> parameter (either by environment variable or by the <em>-ssi</em> command line parameter).  In this case, no other modules will be queried by LAM.  If the named module returns a valid priority, it will be used.  For example:</p>
<dl class='dl-vertical'>
  <dt>
    <p>lamboot -ssi boot rsh hostfile</p>
  </dt>
  <dd>
    <p>Tells LAM to only query the <em>rsh</em> boot module and see if it is available to run.</p>
  </dd>

</dl>
<p>If the boot module that is selected is unable to run (e.g., attempting to use the tm boot module when not running in a PBS job), an appropriate error message will be printed and execution will abort.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABLE MODULES</h2>
        <div class="sectioncontent">
<p>As with all SSI modules, it is possible to pass parameters at run time.  This section discusses the built-in LAM boot modules, as well as the run-time parameters that they accept.</p><p>In the discussion below, parameters to boot modules are discussed in terms of <em>name</em> and <em>value</em>. The <em>name</em> and <em>value</em> may be specified as command line arguments to the <em>lamboot</em>, <em>lamgrow</em>, <em>recon</em>, and <em>lamwipe</em> commands with the <em>-ssi</em> switch, or they may be set in environment variables of the form LAM_MPI_SSI_<em>name</em>=<em>value</em>. Note that using the <em>-ssi</em> command line switch will take precendence over any previously-set environment variables.</p><h3>bproc Boot Module</h3>
<p>The bproc boot module uses native bproc functionality (e.g., the <em>bproc_execmove</em> library call) to launch jobs on slaves nodes from the head node. Checks are made before launching to ensure that the nodes are available and are "owned" by the user and/or the user's group. Appropriate error messages will be displayed if the user is unable to execute on the target nodes.</p><p>Hostnames should be specified using bproc notation: -1 indicates the head node, and integer numbers starting with 0 represent slave nodes. The string "localhost" will automatically be converted to "-1".</p><p>The default behavior is to mark the bproc head node as "non-scheduledable", meaning that the expansion of "N" and "C" when used with <em>mpirun</em> and <em>lamexec</em> will exclude the bproc head node.  For example, "mpirun C my_mpi_program" will run copies of <em>my_mpi_program</em> on all lambooted slave nodes, but not the bproc head node.</p><p>Note that the bproc boot module is <em>only</em> usable from the bproc head node.</p><p>The <em>bproc</em> boot module only has one tunable parameter:</p>
<dl class='dl-vertical'>
  <dt>
    <p>boot_bproc_priority</p>
  </dt>
  <dd>
    <p>Using the priority argument can override LAM's automatic run-time boot module selection algorithms.  This parameter only has effect when the <em>tm</em> module is eligible to be run (i.e., when running on a bproc cluster).</p>
  </dd>

</dl>
<p>See the bproc notes in the user documentation for more details.</p>
<h3>globus Boot Module</h3>
<p>The globus boot module uses the globus-job-run command to launch executables on remote nodes.  It is currently limited to only allowing jobs that can use the fork job manager on the Globus gatekeeper. Other job managers are not yet supported.</p><p>LAM will effectively never select the <em>globus</em> boot module by default because it has an extremely low default priority; it must be manually selected with the boot SSI parameter or have its priority raised.  Additionally, LAM must be able to find the globus-job-run command in your <em>PATH</em>.</p><p>The boot schema requires hosts to be listed as the Globus contact string.  For example:</p><p>"host1:port1:/O=xxx/OU=yyy/CN=aaa bbb ccc"</p><p>Note the use of quotes because the CN includes spaces -- the entire contact name must be enclosed in quotes.  Additionally, since globus-job-run does not invoke the user's "dot" files on the remote nodes, no PATH or environment is setup.  Hence, the attribute <em>lam_install_path</em> must be specified for each contact string in the hostfile so that LAM knows where to find its executables on the remote nodes.  For example:</p><p>"host1:port1:/O=xxx/OU=yyy/CN=aaa bbb ccc" lam_install_path=/home/lam</p><p>The <em>globus</em> boot module only has one tunable parameter:</p>
<dl class='dl-vertical'>
  <dt>
    <p>boot_globus_priority</p>
  </dt>
  <dd>
    <p>Using the priority argument can override LAM's automatic run-time boot module selection algorithms.</p>
  </dd>

</dl>

<h3>rsh Boot Module</h3>
<p>The rsh boot module uses rsh or ssh (or any other command line agent that acts like rsh/ssh) to launch executables on remote nodes.  It requires that executables can be started on remote nodes without being prompted for a password, and without outputting anything to stderr.</p><p>The <em>rsh</em> boot module is always available, and unless overridden, always assigns itself a priority of 0.</p><p>The <em>rsh</em> module accepts a few run-time parameters:</p>
<dl class='dl-vertical'>
  <dt>
    <p>boot_rsh_agent</p>
  </dt>
  <dd>
    <p>Used to override the compiled-in default remote agent program that was selected when LAM is compiled.  For example, this parameter can be set to use "ssh" if LAM was compiled to use "rsh" by default.  Previous versions of LAM/MPI used the LAMRSH environment variable for this purpose.  While the LAMRSH environment variable still works, its use is deprecated in favor of the <em>boot_rsh_agent</em> SSI module argument.</p>
  </dd>
  <dt>
    <p>boot_rsh_priority</p>
  </dt>
  <dd>
    <p>Using the priority argument can override LAM's automatic run-time boot module selection algorithms.</p>
  </dd>
  <dt>
    <p>boot_rsh_username</p>
  </dt>
  <dd>
    <p>If the user has a different username on the remote machine, this parameter can be used to pass the <em>-l</em> argument to the underlying remote agent.  Note that this is a coarse-grained control -- this one username will be used for all remote nodes.  If more fine-grained control is required, the username should be specified in the boot schema file on a per-host basis.</p>
  </dd>

</dl>

<h3>slurm Boot Module</h3>
<p>The <em>slurm</em> boot module uses the <em>srun</em> command to launch the LAM daemons in a SLURM execution environment (i.e., it detects that it is running under SLURM and automatically sets its priority to 50).  It can be used in two different modes: batch (where a script is submitted to SLURM and it is run on the first node in the node allocation) and allocate (where the <em>-A</em> option is used to srun to obtain an interactive allocation).  The <em>slurm</em> boot module does <em>not</em> support running in a script that is launched by SLURM on all nodes in an allocation.</p><p>No boot schema file is required when using the <em>slurm</em> boot module; LAM will automatically determine the host and CPU count from SLURM itself.</p><p>The <em>slurm</em> boot module only has one tunable parameter:</p>
<dl class='dl-vertical'>
  <dt>
    <p>boot_slurm_priority</p>
  </dt>
  <dd>
    <p>Using the priority argument can override LAM's automatic run-time boot module selection algorithms.  This parameter only has effect when the <em>slurm</em> module is eligible to be run (i.e., when running in a SLURM allocation).</p>
  </dd>

</dl>

<h3>tm Boot Module</h3>
<p>The <em>tm</em> boot module uses the Task Management (TM) interface to launch executables on remote nodes.  Currently, only OpenPBS and PBSPro are the only two systems that implement the TM interface.  Hence, when LAM detects that it is running in a PBS job, it will automatically set the <em>tm</em> priority to 50.  When not running in a PBS job, the <em>tm</em> module will not be available.</p><p>The <em>tm</em> boot module only has one tunable parameter:</p>
<dl class='dl-vertical'>
  <dt>
    <p>boot_tm_priority</p>
  </dt>
  <dd>
    <p>Using the priority argument can override LAM's automatic run-time boot module selection algorithms.  This parameter only has effect when the <em>tm</em> module is eligible to be run (i.e., when running in a PBS job).</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lamssi_boot&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/lamssi.7.html"><strong>lamssi</strong>(7)</a>, <strong>mpirun</strong>(1), LAM User's Guide</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lamssi.7.html"><span aria-hidden="true">&larr;</span> lamssi.7: Introduction to lam system services interface (ssi)</a></li>
   <li class="next"><a href="lamssi_coll.7.html">lamssi_coll.7: Overview of lam's mpi collective ssi modules <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
