<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>uves_cal_orderpos: Defines echelle order positions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Defines echelle order positions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="uves_cal_orderpos (7) manual">
  <meta name="twitter:description" content="Defines echelle order positions">
  <meta name="twitter:image" content="https://www.carta.tech/images/cpl-plugin-uves-doc-uves_cal_orderpos-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/uves_cal_orderpos.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="uves_cal_orderpos (7) manual" />
  <meta property="og:description" content="Defines echelle order positions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cpl-plugin-uves-doc-uves_cal_orderpos-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">uves_cal_orderpos<small> (7)</small></h1>
        <p class="lead">Defines echelle order positions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/uves_cal_orderpos.7.html">
      <span itemprop="name">uves_cal_orderpos: Defines echelle order positions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cpl-plugin-uves-doc/">
      <span itemprop="name">cpl-plugin-uves-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/uves_cal_orderpos.7.html">
      <span itemprop="name">uves_cal_orderpos: Defines echelle order positions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>esorex <strong>uves_cal_orderpos</strong> [OPTIONS] FILE.sof</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The recipe defines the order positions in an echelle image. The orders are initially detected by means of a Hough transformation, the orders are then traced, and the positions are finally fitted with a global polynomial.</p><p>Expected input frames are narrow flat fields, ORDER_FLAT_xxx, or standard stars, STANDARD_xxx, where xxx is \'BLUE\' or \'RED\', and optionally for each chip a DRS setup table (DRS_TABLE_BLUE, DRS_TABLE_REDL, DRS_TABLE_REDU) or guess order table (ORDER_GUESS_TAB_BLUE, ORDER_GUESS_TAB_REDL, ORDER_GUESS_TAB_REDU, or, for backward compatibility, ORDER_TABLE_BLUE, ORDER_TABLE_REDL, ORDER_TABLE_REDU). The recipe processes only the first raw frame found.</p><p>Output is one (or two if input is a red frame) order table(s) (UVES: ORDER_TABLE_(BLUE|REDL|REDU); FLAMES: FIB_ORDEF_(REDL|REDU) contaning the columns: X                : Position along x Order            : Relative order number Y                : Order line centroid location Yfit             : The fitted order location dY               : Uncertainty of Y dYfit_Square     : Variance of Yfit Residual         : Y - Yfit Residual_Square  : Residual^2 OrderRMS         : Root mean squared residual of initial</p>
<pre>
                   one-dimensional linear fit of order
</pre>
<p>The bivariate fit polynomial itself is stored in table extension no. 2.</p><p>The 3rd table extension contains a table that defines the active fibre traces and their positions (for support of FLAMES/UVES)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--debug</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Whether or not to save intermediate results to local directory (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>uves.debug</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--plotter</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Any plots produced by the recipe are redirected to the command specified by this parameter. The plotting command must contain the substring \'gnuplot\' and must be able to parse gnuplot syntax on its standard input. Valid examples of such a command may include \'gnuplot -persist\' and \'cat &gt; mygnuplot$$.gp\'. A finer control of the plotting options can be obtained by writing an executable script, e.g. my_gnuplot.pl, that executes gnuplot after setting the desired gnuplot options (e.g. set terminal pslatex color). To turn off plotting, set this parameter to \'no\' (str; default: \'no\'). The full name of this option for the EsoRex configuration file is <strong>uves.plotter</strong> [default = <em>no</em>].</p>
  </dd>
  <dt>
    <p><strong>--process_chip</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>For RED arm data process the redl, redu, or both chip(s) (str; default: \'both\'). The full name of this option for the EsoRex configuration file is <strong>uves.process_chip</strong> [default = <em>both</em>].</p>
  </dd>
  <dt>
    <p><strong>--use_guess_tab</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>If a Guess order table is provided this parameter set how it is used:0: No usage, 1: use it to set lower/upper Y raws where order are searched 2: the order table try to fully match the guess (long; default: 1). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.use_guess_tab</strong> [default = <em>1</em>].</p>
  </dd>
  <dt>
    <p><strong>--radx</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Half X size of median filtering window (long; default: 2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.radx</strong> [default = <em>2</em>].</p>
  </dd>
  <dt>
    <p><strong>--rady</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Half Y size of median filtering window (long; default: 1). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.rady</strong> [default = <em>1</em>].</p>
  </dd>
  <dt>
    <p><strong>--mmethod</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Background subtraction method. If equal to \'median\' the background is sampled using the median of a sub-window. If \'minimum\', the minimum sub-window value is used. If \'no\', no background subtraction is done. (str; default: \'median\'). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.mmethod</strong> [default = <em>median</em>].</p>
  </dd>
  <dt>
    <p><strong>--backsubgrid</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Number of grid points (in x- and y-direction) used to estimate the background (mode=poly). (long; default: 50). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.backsubgrid</strong> [default = <em>50</em>].</p>
  </dd>
  <dt>
    <p><strong>--backsubradiusy</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The height (in pixels) of the background sampling window is (2*radiusy + 1). This parameter is not corrected for binning. (long; default: 2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.backsubradiusy</strong> [default = <em>2</em>].</p>
  </dd>
  <dt>
    <p><strong>--backsubkappa</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The value of kappa in the one-sided kappa-sigma clipping used to estimate the background (mode=poly). (float; default: 4.0). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.backsubkappa</strong> [default = <em>4.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--backsubdegx</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree (in x) of polynomial used to estimate the background (mode=poly). (long; default: 2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.backsubdegx</strong> [default = <em>2</em>].</p>
  </dd>
  <dt>
    <p><strong>--backsubdegy</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree (in y) of polynomial used to estimate the background (mode=poly). (long; default: 2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.preproc.backsubdegy</strong> [default = <em>2</em>].</p>
  </dd>
  <dt>
    <p><strong>--samplewidth</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Separation of sample traces (used by Hough transform) in input image (long; default: 50). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.hough.samplewidth</strong> [default = <em>50</em>].</p>
  </dd>
  <dt>
    <p><strong>--minslope</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Minimum possible line slope. This should be the \'physical\' slope on the chip, i.e. not taking binning factors into account, which is handled by the recipe (float; default: 0.0). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.hough.minslope</strong> [default = <em>0.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--maxslope</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Maximum possible line slope (float; default: 0.2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.hough.maxslope</strong> [default = <em>0.2</em>].</p>
  </dd>
  <dt>
    <p><strong>--sloperes</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Resolution (width in pixels) of Hough space (long; default: 120). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.hough.sloperes</strong> [default = <em>120</em>].</p>
  </dd>
  <dt>
    <p><strong>--pthres</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>In automatic mode, or if the number of orders to detect is read from a guess table, the detection of new lines stops when the intensity of a candidate line drops to less than \'pthres\' times the intensity of the previous detection.  (float; default: 0.2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.hough.pthres</strong> [default = <em>0.2</em>].</p>
  </dd>
  <dt>
    <p><strong>--tracestep</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The step size used when tracing the orders (long; default: 10). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.trace.tracestep</strong> [default = <em>10</em>].</p>
  </dd>
  <dt>
    <p><strong>--minthresh</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The minimum threshold value is (min + minthres*(max - min)). Here \'min\' and \'max\' are the lowest and highest pixel values in the central bin of the order (float; default: 0.2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.trace.minthresh</strong> [default = <em>0.2</em>].</p>
  </dd>
  <dt>
    <p><strong>--maxgap</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>If the order line drops below detection threshold, the order tracing algorithm will try to jump a gap of maximum size \'maxgap\' multiplied by the image width (float; default: 0.2). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.trace.maxgap</strong> [default = <em>0.2</em>].</p>
  </dd>
  <dt>
    <p><strong>--maxrms</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>When fitting the orders with straight lines, this is the maximum allowed RMS relative to the median RMS of all orders (float; default: 100.0). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.reject.maxrms</strong> [default = <em>100.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--defpol1</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The degree of the bivarite fit (cross dispersion direction). If negative, the degree is optimized to give the best fit (long; default: -1). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.reject.defpol1</strong> [default = <em>-1</em>].</p>
  </dd>
  <dt>
    <p><strong>--defpol2</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The degree of the bivarite fit (order number). If negative, the degree is optimized to give the best fit (long; default: -1). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.reject.defpol2</strong> [default = <em>-1</em>].</p>
  </dd>
  <dt>
    <p><strong>--kappa</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Used for kappa-sigma clipping of the final polynomial fit. If negative, no clipping is done (float; default: 4.0). The full name of this option for the EsoRex configuration file is <strong>uves_cal_orderpos.reject.kappa</strong> [default = <em>4.0</em>].</p>
  </dd>

</dl>
<p>Note that it is possible to create a configuration file containing these options, along with suitable default values. Please refer to the details provided by the 'esorex --help' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO uves_cal_orderpos&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for the uves pipeline can be downloaded as a PDF file using the following URL:</p><ul>
<li><p><strong>ftp://ftp.eso.org/pub/dfs/pipelines/uves/uves-pipeline-manual-5.4.3.pdf</strong></p></li>
</ul><p>An overview over the existing ESO pipelines can be found on the web page <strong>http://www.eso.org/sci/software/pipelines/</strong>.</p><p>Basic documentation about the EsoRex program can be found at the esorex (1) man page.</p><p>It is possible to call the pipelines from python using the python-cpl package. See <strong>http://packages.python.org/python-cpl/index.html</strong> for further information.</p><p>The other recipes of the uves pipeline are <a href="../man7/uves_cal_response.7.html"><strong>uves_cal_response</strong>(7)</a>, <a href="../man7/uves_cal_mflat_combine.7.html"><strong>uves_cal_mflat_combine</strong>(7)</a>, <a href="../man7/flames_utl_unpack.7.html"><strong>flames_utl_unpack</strong>(7)</a>, <a href="../man7/flames_cal_wavecal.7.html"><strong>flames_cal_wavecal</strong>(7)</a>, <a href="../man7/uves_cal_mkmaster.7.html"><strong>uves_cal_mkmaster</strong>(7)</a>, <a href="../man7/flames_obs_redchain.7.html"><strong>flames_obs_redchain</strong>(7)</a>, <a href="../man7/uves_cal_wavecal.7.html"><strong>uves_cal_wavecal</strong>(7)</a>, <a href="../man7/uves_cal_tflat.7.html"><strong>uves_cal_tflat</strong>(7)</a>, <a href="../man7/uves_cal_mflat.7.html"><strong>uves_cal_mflat</strong>(7)</a>, <a href="../man7/flames_cal_prep_sff_ofpos.7.html"><strong>flames_cal_prep_sff_ofpos</strong>(7)</a>, <a href="../man7/uves_utl_remove_crh_single.7.html"><strong>uves_utl_remove_crh_single</strong>(7)</a>, <a href="../man7/uves_obs_scired.7.html"><strong>uves_obs_scired</strong>(7)</a>, <a href="../man7/uves_cal_mbias.7.html"><strong>uves_cal_mbias</strong>(7)</a>, <a href="../man7/uves_utl_ima_arith.7.html"><strong>uves_utl_ima_arith</strong>(7)</a>, <a href="../man7/flames_obs_scired.7.html"><strong>flames_obs_scired</strong>(7)</a>, <a href="../man7/flames_cal_mkmaster.7.html"><strong>flames_cal_mkmaster</strong>(7)</a>, <a href="../man7/flames_cal_predict.7.html"><strong>flames_cal_predict</strong>(7)</a>, <a href="../man7/uves_cal_mdark.7.html"><strong>uves_cal_mdark</strong>(7)</a>, <a href="../man7/uves_cal_cd_align.7.html"><strong>uves_cal_cd_align</strong>(7)</a>, <a href="../man7/uves_obs_redchain.7.html"><strong>uves_obs_redchain</strong>(7)</a>, <a href="../man7/flames_cal_orderpos.7.html"><strong>flames_cal_orderpos</strong>(7)</a>, <a href="../man7/uves_cal_predict.7.html"><strong>uves_cal_predict</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>uves_cal_orderpos 5.4.3</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jonas M. Larsen &lt;cpl@eso.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p>Please report any problems to cpl@eso.org. Alternatively, you may send a report to the ESO User Support Department &lt;usd-help@eso.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This file is part of the FLAMES/UVES Pipeline Copyright (C) 2004, 2005, 2006, 2007 European Southern Observatory</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="uves_cal_mkmaster.7.html"><span aria-hidden="true">&larr;</span> uves_cal_mkmaster.7: Creates the master bias/dark/flat frame</a></li>
   <li class="next"><a href="uves_cal_predict.7.html">uves_cal_predict.7: Implements the uves physical model <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
