<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>INSERT: Create new rows in a table</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create new rows in a table">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="INSERT (7) manual">
  <meta name="twitter:description" content="Create new rows in a table">
  <meta name="twitter:image" content="https://www.carta.tech/images/postgresql-client-9.4-INSERT-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/INSERT.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="INSERT (7) manual" />
  <meta property="og:description" content="Create new rows in a table" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postgresql-client-9.4-INSERT-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">INSERT<small> (7)</small></h1>
        <p class="lead">Create new rows in a table</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/INSERT.7.html">
      <span itemprop="name">INSERT: Create new rows in a table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postgresql-client-9.4/">
      <span itemprop="name">postgresql-client-9.4</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/INSERT.7.html">
      <span itemprop="name">INSERT: Create new rows in a table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
[ WITH [ RECURSIVE ] <em>with_query</em> [, ...] ]
INSERT INTO <em>table_name</em> [ ( <em>column_name</em> [, ...] ) ]
    { DEFAULT VALUES | VALUES ( { <em>expression</em> | DEFAULT } [, ...] ) [, ...] | <em>query</em> }
    [ RETURNING * | <em>output_expression</em> [ [ AS ] <em>output_name</em> ] [, ...] ]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>INSERT</strong> inserts new rows into a table. One can insert one or more rows specified by value expressions, or zero or more rows resulting from a query.</p><p>The target column names can be listed in any order. If no list of column names is given at all, the default is all the columns of the table in their declared order; or the first <em>N</em> column names, if there are only <em>N</em> columns supplied by the VALUES clause or <em>query</em>. The values supplied by the VALUES clause or <em>query</em> are associated with the explicit or implicit column list left-to-right.</p><p>Each column not present in the explicit or implicit column list will be filled with a default value, either its declared default value or null if there is none.</p><p>If the expression for any column is not of the correct data type, automatic type conversion will be attempted.</p><p>The optional RETURNING clause causes <strong>INSERT</strong> to compute and return value(s) based on each row actually inserted. This is primarily useful for obtaining values that were supplied by defaults, such as a serial sequence number. However, any expression using the table&apos;s columns is allowed. The syntax of the RETURNING list is identical to that of the output list of <strong>SELECT</strong>.</p><p>You must have INSERT privilege on a table in order to insert into it. If a column list is specified, you only need INSERT privilege on the listed columns. Use of the RETURNING clause requires SELECT privilege on all columns mentioned in RETURNING. If you use the <em>query</em> clause to insert rows from a query, you of course need to have SELECT privilege on any table or column used in the query.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p><em>with_query</em></p><p>The WITH clause allows you to specify one or more subqueries that can be referenced by name in the <strong>INSERT</strong> query. See Section 7.8, &ldquo;WITH Queries (Common Table Expressions)&rdquo;, in the documentation and <a href="../man7/SELECT.7.html"><strong>SELECT</strong>(7)</a> for details.</p><p>It is possible for the <em>query</em> (<strong>SELECT</strong> statement) to also contain a WITH clause. In such a case both sets of <em>with_query</em> can be referenced within the <em>query</em>, but the second one takes precedence since it is more closely nested.</p><p><em>table_name</em></p><p>The name (optionally schema-qualified) of an existing table.</p><p><em>column_name</em></p><p>The name of a column in the table named by <em>table_name</em>. The column name can be qualified with a subfield name or array subscript, if needed. (Inserting into only some fields of a composite column leaves the other fields null.)</p><p>DEFAULT VALUES</p><p>All columns will be filled with their default values.</p><p><em>expression</em></p><p>An expression or value to assign to the corresponding column.</p><p>DEFAULT</p><p>The corresponding column will be filled with its default value.</p><p><em>query</em></p><p>A query (<strong>SELECT</strong> statement) that supplies the rows to be inserted. Refer to the <a href="../man7/SELECT.7.html"><strong>SELECT</strong>(7)</a> statement for a description of the syntax.</p><p><em>output_expression</em></p><p>An expression to be computed and returned by the <strong>INSERT</strong> command after each row is inserted. The expression can use any column names of the table named by <em>table_name</em>. Write * to return all columns of the inserted row(s).</p><p><em>output_name</em></p><p>A name to use for a returned column.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUTS</h2>
        <div class="sectioncontent">
<p>On successful completion, an <strong>INSERT</strong> command returns a command tag of the form</p>
<pre>
INSERT <em>oid</em> <em>count</em>
</pre>
<p>The <em>count</em> is the number of rows inserted. If <em>count</em> is exactly one, and the target table has OIDs, then <em>oid</em> is the OID assigned to the inserted row. Otherwise <em>oid</em> is zero.</p><p>If the <strong>INSERT</strong> command contains a RETURNING clause, the result will be similar to that of a <strong>SELECT</strong> statement containing the columns and values defined in the RETURNING list, computed over the row(s) inserted by the command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Insert a single row into table films:</p>
<pre>
INSERT INTO films VALUES
    (&apos;UA502&apos;, &apos;Bananas&apos;, 105, &apos;1971-07-13&apos;, &apos;Comedy&apos;, &apos;82 minutes&apos;);
</pre>
<p>In this example, the len column is omitted and therefore it will have the default value:</p>
<pre>
INSERT INTO films (code, title, did, date_prod, kind)
    VALUES (&apos;T_601&apos;, &apos;Yojimbo&apos;, 106, &apos;1961-06-16&apos;, &apos;Drama&apos;);
</pre>
<p>This example uses the DEFAULT clause for the date columns rather than specifying a value:</p>
<pre>
INSERT INTO films VALUES
    (&apos;UA502&apos;, &apos;Bananas&apos;, 105, DEFAULT, &apos;Comedy&apos;, &apos;82 minutes&apos;);
INSERT INTO films (code, title, did, date_prod, kind)
    VALUES (&apos;T_601&apos;, &apos;Yojimbo&apos;, 106, DEFAULT, &apos;Drama&apos;);
</pre>
<p>To insert a row consisting entirely of default values:</p>
<pre>
INSERT INTO films DEFAULT VALUES;
</pre>
<p>To insert multiple rows using the multirow <strong>VALUES</strong> syntax:</p>
<pre>
INSERT INTO films (code, title, did, date_prod, kind) VALUES
    (&apos;B6717&apos;, &apos;Tampopo&apos;, 110, &apos;1985-02-10&apos;, &apos;Comedy&apos;),
    (&apos;HG120&apos;, &apos;The Dinner Game&apos;, 140, DEFAULT, &apos;Comedy&apos;);
</pre>
<p>This example inserts some rows into table films from a table tmp_films with the same column layout as films:</p>
<pre>
INSERT INTO films SELECT * FROM tmp_films WHERE date_prod &lt; &apos;2004-05-07&apos;;
</pre>
<p>This example inserts into array columns:</p>
<pre>
-- Create an empty 3x3 gameboard for noughts-and-crosses
INSERT INTO tictactoe (game, board[1:3][1:3])
    VALUES (1, &apos;{{" "," "," "},{" "," "," "},{" "," "," "}}&apos;);
-- The subscripts in the above example aren&apos;t really needed
INSERT INTO tictactoe (game, board)
    VALUES (2, &apos;{{X," "," "},{" ",O," "},{" ",X," "}}&apos;);
</pre>
<p>Insert a single row into table distributors, returning the sequence number generated by the DEFAULT clause:</p>
<pre>
INSERT INTO distributors (did, dname) VALUES (DEFAULT, &apos;XYZ Widgets&apos;)
   RETURNING did;
</pre>
<p>Increment the sales count of the salesperson who manages the account for Acme Corporation, and record the whole updated row along with current time in a log table:</p>
<pre>
WITH upd AS (
  UPDATE employees SET sales_count = sales_count + 1 WHERE id =
    (SELECT sales_person FROM accounts WHERE name = &apos;Acme Corporation&apos;)
    RETURNING *
)
INSERT INTO employees_log SELECT *, current_timestamp FROM upd;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p><strong>INSERT</strong> conforms to the SQL standard, except that the RETURNING clause is a PostgreSQL extension, as is the ability to use WITH with <strong>INSERT</strong>. Also, the case in which a column name list is omitted, but not all the columns are filled from the VALUES clause or <em>query</em>, is disallowed by the standard.</p><p>Possible limitations of the <em>query</em> clause are documented under <a href="../man7/SELECT.7.html"><strong>SELECT</strong>(7)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="INET-ADDRESS-MIB.7.html"><span aria-hidden="true">&larr;</span> INET-ADDRESS-MIB.7: The erlang/otp mib module for textual conventions for representing internet addresses</a></li>
   <li class="next"><a href="LDP.7.html">LDP.7: Intro to the linux documentation project, with help, guides and documents <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
