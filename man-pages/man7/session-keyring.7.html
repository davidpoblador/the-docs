<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>session-keyring: Session shared process keyring</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Session shared process keyring">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="session-keyring (7) manual">
  <meta name="twitter:description" content="Session shared process keyring">
  <meta name="twitter:image" content="https://www.carta.tech/images/keyutils-session-keyring-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/session-keyring.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="session-keyring (7) manual" />
  <meta property="og:description" content="Session shared process keyring" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/keyutils-session-keyring-7.png" />

</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">session-keyring<small> (7)</small></h1>
        <p class="lead">Session shared process keyring</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/session-keyring.7.html">
      <span itemprop="name">session-keyring: Session shared process keyring</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/keyutils/">
      <span itemprop="name">keyutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/session-keyring.7.html">
      <span itemprop="name">session-keyring: Session shared process keyring</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>session keyring</strong> is a keyring used to anchor keys on behalf of a process.  It is typically created by the <strong>pam_keyinit</strong> module when a user logs in and a link will be added that refers to the <strong>user keyring</strong>.</p><p>A special serial number value, <strong>KEY_SPEC_SESSION_KEYRING</strong>, is defined that can be used in lieu of the calling process's session keyring's actual serial number.</p><p>From the keyctl utility, '<strong>@s</strong>' can be used instead of a numeric key ID in much the same way.</p><p>A process's session keyring is inherited across clone(), fork() and vfork() and is retained across execve() - even when the target executable is setuid or setgid.  The session keyring will be destroyed when the last process that refers to it exits.</p><p>If a process doesn't have a session keyring when it is accessed, then, under certain circumstances, the <strong>user session keyring</strong> will be attached as the session keyring and under others a new session keyring will be created.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIAL OPERATIONS</h2>
        <div class="sectioncontent">
<p>The keyutils library provides a number of special operations for manipulating session keyrings:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>keyctl_join_session_keyring</strong>()
  </dt>
  <dd>
    <p>This operation allows the caller to change their session keyring.  The caller can join an existing keyring by name, create a new keyring of the name given or ask the kernel to create a new session keyring with the name "_ses".</p>
  </dd>
  <dt>
    <strong>keyctl_session_to_parent</strong>()
  </dt>
  <dd>
    <p>This operation allows the caller to set the parent process's session keyring to the same as their own.  For this to succeed, the parent process must have identical security attributes and must be single threaded.</p>
  </dd>

</dl>
<p>These operations are also exposed through the keyctl utility as:</p><p><strong>keyctl</strong> session</p><p><strong>keyctl</strong> session - [&lt;prog&gt; &lt;arg1&gt; &lt;arg2&gt; ...]</p><p><strong>keyctl</strong> session &lt;name&gt; [&lt;prog&gt; &lt;arg1&gt; &lt;arg2&gt; ...]</p><p>and:</p><p><strong>keyctl</strong> new_session</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO session-keyring&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/keyctl.1.html"><strong>keyctl</strong>(1)</a>,</p><p><a href="../man3/keyctl.3.html"><strong>keyctl</strong>(3)</a>,</p><p><a href="../man3/keyctl_join_session_keyring.3.html"><strong>keyctl_join_session_keyring</strong>(3)</a>,</p><p><a href="../man3/keyctl_session_to_parent.3.html"><strong>keyctl_session_to_parent</strong>(3)</a>,</p><p><strong>pam_keyinit</strong>(8),</p><p><a href="../man7/keyrings.7.html"><strong>keyrings</strong>(7)</a>,</p><p><a href="../man7/thread-keyring.7.html"><strong>thread-keyring</strong>(7)</a>,</p><p><a href="../man7/process-keyring.7.html"><strong>process-keyring</strong>(7)</a>,</p><p><a href="../man7/user-keyring.7.html"><strong>user-keyring</strong>(7)</a>,</p><p><a href="../man7/user-session-keyring.7.html"><strong>user-session-keyring</strong>(7)</a></p><p><a href="../man7/persistent-keyring.7.html"><strong>persistent-keyring</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sem_overview.7.html"><span aria-hidden="true">&larr;</span> sem_overview.7: Overview of posix semaphores</a></li>
   <li class="next"><a href="shm_overview.7.html">shm_overview.7: Overview of posix shared memory <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
