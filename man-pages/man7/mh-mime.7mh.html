<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mh-mime: Overview of nmh(7) mime message composition and display</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Overview of nmh(7) mime message composition and display">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mh-mime (7mh) manual">
  <meta name="twitter:description" content="Overview of nmh(7) mime message composition and display">
  <meta name="twitter:image" content="https://www.carta.tech/images/nmh-mh-mime-7mh.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7mh/mh-mime.7mh.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mh-mime (7mh) manual" />
  <meta property="og:description" content="Overview of nmh(7) mime message composition and display" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nmh-mh-mime-7mh.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mh-mime<small> (7mh)</small></h1>
        <p class="lead">Overview of nmh(7) mime message composition and display</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7mh/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7mh/mh-mime.7mh.html">
      <span itemprop="name">mh-mime: Overview of nmh(7) mime message composition and display</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nmh/">
      <span itemprop="name">nmh</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7mh/mh-mime.7mh.html">
      <span itemprop="name">mh-mime: Overview of nmh(7) mime message composition and display</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The acronym MIME stands for Multipurpose Internet Mail Extensions, the format of Internet messages used to send multi-media content. The <strong>nmh</strong> command suite has support for the display and composition of MIME messages, but currently MIME support is not completely integrated into all tools.  This document provides an overview as to which tools support MIME message display, storage, and composition.</p><h3></h3>
<p>Local Character Set Conversion All of the <strong>nmh</strong> commands convert non-native character sets to the local character set, as specified by the operating system locale settings.  See <a href="../man1/locale.1.html"><strong>locale</strong>(1)</a> for more details on the environment variables used to set the local character set.  Character set conversion will only take place if <strong>nmh</strong> was built with <a href="../man3/iconv.3.html"><strong>iconv</strong>(3)</a> support.  See the <strong>mhparam</strong>(1) man page for how determine whether your <strong>nmh</strong> installation includes <a href="../man3/iconv.3.html"><strong>iconv</strong>(3)</a> support.</p><p>Depending on the source and target character set, it may not be possible to convert all characters to the local character set. In this case a substitution character will be used for the characters that cannot be converted.</p>
<h3></h3>
<p>Message Display The default format used by <a href="../man1/scan.1.html"><strong>scan</strong>(1)</a> will automatically decode MIME-encoded headers.  If you have a custom <strong>scan</strong> format, see the examples provided with the <strong>nmh</strong> distribution (found in the &ldquo;<em>/etc/nmh</em>&rdquo; directory) and <strong>mh-format</strong>(5) for details on how to make sure your MIME headers are properly decoded.</p><p>By default, if <strong>show</strong> detects that it is reading a MIME message it will invoke <strong>mhshow</strong>(1). The default behavior of <strong>mhshow</strong> is to only display text parts that are not marked as attachments.  See <strong>mhshow</strong>(1) for details on how to control what <strong>mhshow</strong> will display.</p>
<h3></h3>
<p>Message Interrogation and Storage The <strong>mhlist</strong>(1) command will display a listing of the MIME parts contained within a message.  That information can be used in conjunction with the <strong>mhstore</strong> command to save individual parts or content types of a message.  See <strong>mhlist</strong>(1) and <strong>mhstore</strong>(1) for more details on how these commands work.</p>
<h3></h3>
<p>Message Composition and Reply All messages sent by <strong>send</strong>(1) will automatically be processed by <strong>mhbuild</strong>(1) before being passed to <strong>post</strong>(1) for message submission. <strong>Mhbuild</strong> will use the locale settings to mark text content with the appropriate character set and apply any necessary encoding.  If you wish to include text in your message using a character set that does not match your locale, you will need to specify the character set using a <strong>mhbuild</strong> directive; see <strong>mhbuild</strong>(1) for more information.</p><p>For attaching files or composing other non-text content, there are two options: the attach system and <strong>mhbuild</strong> directives.</p><p>The attach system is best suited for content where one or more files are being attached to a message.  You can use the attach system by either using the <strong>attach</strong> command at the &ldquo;What now?&rdquo; prompt, or by inserting an &ldquo;Attach:&rdquo; header in the message draft containing the name of the file you wish to attach to the message (it should be noted all that the <strong>attach</strong> command does is place an &ldquo;Attach&rdquo; header in the message draft). <strong>Mhbuild</strong> will then automatically include the specified file(s) in the outgoing message.  See <strong>send</strong>(1) for details on how <strong>mhbuild</strong> determines the proper content type of attached files.</p><p>The other method of composing MIME messages is to use <strong>mhbuild</strong> directives.  This allows exact control over the contents and format of the MIME message, but has a more complicated syntax. <strong>mhbuild</strong>(1) contains details on the directive syntax and examples of directives for different media types.  It is important to note that when using <strong>mhbuild</strong> directives the user must run <strong>mhbuild</strong> outside of <strong>send</strong> to have it process directives; when being run by <strong>send</strong>, <strong>mhbuild</strong> is configured to not process directives so normal user text is not mistaken for a directive.  When using directives a user typically uses the <strong>mime</strong> command at the &ldquo;What now?&rdquo; prompt to process them.</p><p>When replying to messages using <strong>repl</strong>(1) the traditional MH method of including the original text in the reply does not interoperate with MIME messages.  As of this writing there is no native solution for addressing this issue, but the contrib directory (<em>/usr/share/doc/nmh/contrib</em>) contains a Perl program called <strong>replyfilter</strong> which will decode text parts and present them in an appropriate manner to be included in a message reply.  See the comments at the top of <strong>replyfilter</strong> for instructions on how to configure <strong>nmh</strong> to work with it.</p>
<h3></h3>
<p>Message Rewrite The <strong>mhfixmsg</strong>(1) command can apply various transformations to MIME messages, including decoding of text parts, converting the character set of text parts, and insertion of text/plain parts to correspond to text parts of other subtypes. <strong>mhfixmsg</strong> can also repair defects in MIME messages, such as mismatched top-level boundary indicators and invalid Content-Transfer-Encoding values.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mh-mime&hellip;</h2>
        <div class="sectioncontent">
<p><strong>comp</strong>(1), <a href="../man3/iconv.3.html"><strong>iconv</strong>(3)</a>, <strong>mh-format</strong>(5) <strong>mhbuild</strong>(1), <strong>mhfixmsg</strong>(1), <strong>mhparam</strong>(1), <strong>nmh</strong>(7), <strong>repl</strong>(1), <strong>whatnow</strong>(1),</p><p><em>/usr/share/doc/nmh/contrib/replyfilter</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>MIME support should be more integrated into all of the <strong>nmh</strong> tools than it currently is.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mh-chart.7mh.html"><span aria-hidden="true">&larr;</span> mh-chart.7mh: Chart of nmh commands</a></li>
   <li class="next"><a href="nmh.7mh.html">nmh.7mh: New mh message system <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
