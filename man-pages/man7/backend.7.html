<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>backend: Cups backend transmission interfaces</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cups backend transmission interfaces">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="backend (7) manual">
  <meta name="twitter:description" content="Cups backend transmission interfaces">
  <meta name="twitter:image" content="https://www.carta.tech/images/cups-daemon-backend-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/backend.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="backend (7) manual" />
  <meta property="og:description" content="Cups backend transmission interfaces" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cups-daemon-backend-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">backend<small> (7)</small></h1>
        <p class="lead">Cups backend transmission interfaces</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/backend.7.html">
      <span itemprop="name">backend: Cups backend transmission interfaces</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cups-daemon/">
      <span itemprop="name">cups-daemon</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/backend.7.html">
      <span itemprop="name">backend: Cups backend transmission interfaces</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>backend</strong></p><p><strong>backend</strong> job user title num-copies options [ <em>filename</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Backends are a special type of <a href="../man7/filter.7.html"><strong>filter</strong>(7)</a></em> which is used to send print data to and discover different devices on the system.</p><p>Like filters, backends must be capable of reading from a filename on the command-line or from the standard input, copying the standard input to a temporary file as required by the physical interface.</p><p>The command name (argv[0]) is set to the device URI of the destination printer. Starting with CUPS 1.1.22, any authentication information in argv[0] is removed, so backend developers are urged to use the DEVICE_URI environment variable whenever authentication information is required. The CUPS API includes a <em>cupsBackendDeviceURI</em> function for retrieving the correct device URI.</p><p>Back-channel data from the device should be relayed to the job filters by writing to file descriptor 3. The CUPS API includes the <em>cupsBackChannelWrite</em> function for this purpose.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNING</h2>
        <div class="sectioncontent">
<p>CUPS backends are not generally design to be run directly by the user. Aside from the device URI issue (argv[0] and DEVICE_URI environment variable contain the device URI), CUPS backends also expect specific environment variables and file descriptors, and typically run in a user session that (on OS X) has additional restrictions that affect how it runs. Backends can also be installed with restricted permissions (0500 or 0700) that tell the scheduler to run them as the "root" user instead of an unprivileged user (typically "lp") on the system.</p><p>Unless you are a developer and know what you are doing, please do not run backends directly. Instead, use the <em>lp(1)</em> or <a href="../man1/lpr.1.html"><strong>lpr</strong>(1)</a></em> programs to send a print job or <a href="../man8/lpinfo.8.html"><strong>lpinfo</strong>(8)</a></em> program to query for available printers using the backend. The one exception is the SNMP backend - see <strong>snmpbackend</strong>(8)</em> for more information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEVICE DISCOVERY</h2>
        <div class="sectioncontent">
<p>When run with no arguments, the backend should list the devices and schemes it supports or is advertising to stdout. The output consists of zero or more lines consisting of any of the following forms:</p>
<pre>
    device-class scheme "Unknown" "device-info"
    device-class device-uri "device-make-and-model" "device-info"
    device-class device-uri "device-make-and-model" "device-info" "device-id"
    device-class device-uri "device-make-and-model" "device-info" "device-id" "device-location"
</pre>
<p>The <em>device-class</em> field is one of the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <p>direct</p>
  </dt>
  <dd>
    <p>The device-uri refers to a specific direct-access device with no options, such as a parallel, USB, or SCSI device.</p>
  </dd>
  <dt>
    <p>file</p>
  </dt>
  <dd>
    <p>The device-uri refers to a file on disk.</p>
  </dd>
  <dt>
    <p>network</p>
  </dt>
  <dd>
    <p>The device-uri refers to a networked device and conforms to the general form for network URIs.</p>
  </dd>
  <dt>
    <p>serial</p>
  </dt>
  <dd>
    <p>The device-uri refers to a serial device with configurable baud rate and other options. If the device-uri contains a baud value, it represents the maximum baud rate supported by the device.</p>
  </dd>

</dl>
<p>The <em>scheme</em> field provides the URI scheme that is supported by the backend. Backends should use this form only when the backend supports any URI using that scheme. The <em>device-uri</em> field specifies the full URI to use when communicating with the device.</p><p>The <em>device-make-and-model</em> field specifies the make and model of the device, e.g. "Example Foojet 2000". If the make and model is not known, you must report "Unknown".</p><p>The <em>device-info</em> field specifies additional information about the device. Typically this includes the make and model along with the port number or network address, e.g. "Example Foojet 2000 USB #1".</p><p>The optional <em>device-id</em> field specifies the IEEE-1284 device ID string for the device, which is used to select a matching driver.</p><p>The optional <em>device-location</em> field specifies the physical location of the device, which is often used to pre-populate the printer-location attribute when adding a printer.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PERMISSIONS</h2>
        <div class="sectioncontent">
<p>Backends without world execute permissions are run as the root user. Otherwise, the backend is run using an unprivileged user account, typically "lp".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT CODES</h2>
        <div class="sectioncontent">
<p>The following exit codes are defined for backends; C API constants defined in the &lt;cups/backend.h&gt; header file are defined in parenthesis:</p>
<dl class='dl-vertical'>
  <dt>
    <p>0 (CUPS_BACKEND_OK)</p>
  </dt>
  <dd>
    <p>The print file was successfully transmitted to the device or remote server.</p>
  </dd>
  <dt>
    <p>1 (CUPS_BACKEND_FAILED)</p>
  </dt>
  <dd>
    <p>The print file was not successfully transmitted to the device or remote server. The scheduler will respond to this by canceling the job, retrying the job, or stopping the queue depending on the state of the error-policy attribute.</p>
  </dd>
  <dt>
    <p>2 (CUPS_BACKEND_AUTH_REQUIRED)</p>
  </dt>
  <dd>
    <p>The print file was not successfully transmitted because valid authentication information is required. The scheduler will respond to this by holding the job and adding the "cups-held-for-authentication" keyword to the "job-reasons" attribute.</p>
  </dd>
  <dt>
    <p>3 (CUPS_BACKEND_HOLD)</p>
  </dt>
  <dd>
    <p>The print file was not successfully transmitted because it cannot be printed at this time. The scheduler will respond to this by holding the job.</p>
  </dd>
  <dt>
    <p>4 (CUPS_BACKEND_STOP)</p>
  </dt>
  <dd>
    <p>The print file was not successfully transmitted because it cannot be printed at this time. The scheduler will respond to this by stopping the queue.</p>
  </dd>
  <dt>
    <p>5 (CUPS_BACKEND_CANCEL)</p>
  </dt>
  <dd>
    <p>The print file was not successfully transmitted because one or more attributes are not supported or the job was canceled at the printer. The scheduler will respond to this by canceling the job.</p>
  </dd>
  <dt>
    <p>6 (CUPS_BACKEND_RETRY)</p>
  </dt>
  <dd>
    <p>The print file was not successfully transmitted because of a temporary issue. The scheduler will retry the job at a future time - other jobs may print before this one.</p>
  </dd>
  <dt>
    <p>7 (CUPS_BACKEND_RETRY_CURRENT)</p>
  </dt>
  <dd>
    <p>The print file was not successfully transmitted because of a temporary issue. The scheduler will retry the job immediately without allowing intervening jobs.</p>
  </dd>

</dl>
<p>All other exit code values are reserved.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO backend&hellip;</h2>
        <div class="sectioncontent">
<p><strong>cups-snmp</strong>(8)</em>, <a href="../man8/cupsd.8.html"><strong>cupsd</strong>(8)</a></em>, <a href="../man5/cupsd.conf.5.html"><strong>cupsd.conf</strong>(5)</a></em>, <a href="../man7/filter.7.html"><strong>filter</strong>(7)</a></em>, <a href="../man8/lpinfo.8.html"><strong>lpinfo</strong>(8)</a></em>,</p><p>http://localhost:631/help</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2007-2013 by Apple Inc.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="audit.rules.7.html"><span aria-hidden="true">&larr;</span> audit.rules.7: A set of rules loaded in the kernel audit system</a></li>
   <li class="next"><a href="backend-spec.7.html">backend-spec.7: Interface between jw and its backends <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
