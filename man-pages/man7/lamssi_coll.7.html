<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lamssi_coll: Overview of lam's mpi collective ssi modules</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Overview of lam's mpi collective ssi modules">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lamssi_coll (7) manual">
  <meta name="twitter:description" content="Overview of lam's mpi collective ssi modules">
  <meta name="twitter:image" content="https://www.carta.tech/images/lam-runtime-lamssi_coll-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/lamssi_coll.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lamssi_coll (7) manual" />
  <meta property="og:description" content="Overview of lam's mpi collective ssi modules" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lam-runtime-lamssi_coll-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lamssi_coll<small> (7)</small></h1>
        <p class="lead">Overview of lam's mpi collective ssi modules</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/lamssi_coll.7.html">
      <span itemprop="name">lamssi_coll: Overview of lam's mpi collective ssi modules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lam-runtime/">
      <span itemprop="name">lam-runtime</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/lamssi_coll.7.html">
      <span itemprop="name">lamssi_coll: Overview of lam's mpi collective ssi modules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The "kind" for collectives SSI modules is "coll".  Specifically, the string "coll" (without the quotes) is the prefix that should be used with the <em>mpirun</em> command line with the <em>-ssi</em> switch.  For example:</p>
<dl class='dl-vertical'>
  <dt>
    <p>mpirun -ssi coll_base_crossover 4 C my_mpi_program</p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>LAM currently has three coll modules:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>lam_basic</em></p>
  </dt>
  <dd>
    <p>A full implementation of MPI collectives on intracommunicators.  The algorithms are the same as were in the LAM 6.5 series.  Collectives on intercommunicators are undefined, and will result in run-time errors.</p>
  </dd>
  <dt>
    <p><em>impi</em></p>
  </dt>
  <dd>
    <p>Collective functions for IMPI communicators.  These are mostly un-implemented; only the basics exist: <em>MPI_BARRIER</em> and <em>MPI_REDUCE</em>.</p>
  </dd>
  <dt>
    <p><em>shmem</em></p>
  </dt>
  <dd>
    <p>Shared memory collectives.</p>
  </dd>
  <dt>
    <p><em>smp</em></p>
  </dt>
  <dd>
    <p>SMP-aware collectives (based on the MagPIe algorithms).  The following algorithms provide SMP-aware performance on multiprocessors: <em>MPI_ALLREDUCE</em>, <em>MPI_ALLTOALL</em>, <em>MPI_ALLTOALLV</em>, <em>MPI_BARRIER</em>, <em>MPI_BCAST</em>, <em>MPI_GATHER</em>, <em>MPI_GATHERV</em>, <em>MPI_REDUCE</em>, <em>MPI_SCATTER</em>, and <em>MPI_SCATTERV</em>. Note that the reduction algorithms must be specifically enabled by marking the operations as associative before they will be used.  All other MPI collectives will fall back to their <em>lam_basic</em> equivalents.</p>
  </dd>

</dl>
<p>More collective modules are likely to be implemented in the future.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COLL MODULE PARAMETERS</h2>
        <div class="sectioncontent">
<p>In the discussion below, the parameters are discussed in terms of <em>kind</em> and <em>value</em>. Unlike other SSI module kinds, since coll modules are selected on a per-communicator basis, the <em>kind</em> and <em>value</em> may be specified as attributes to a parent communicator.</p><p>Need to write much more here.</p><h3>Selecting a coll module</h3>
<p>coll modules are selected on a per-communicator basis.  They are selected when the communicator is created, and remain the active coll module for the life of that communicator.  For example, different coll modules may be assigned to MPI_COMM_WORLD and MPI_COMM_SELF.  In most cases LAM/MPI will select the best coll module automatically.  For example, when a communicator spans multiple nodes and at least one node has multiple MPI processes, the <em>smp</em> module will automatically be selected.</p><p>However, the <em>LAM_MPI_SSI_COLL</em> keyval can be used to set an attribute on a communicator that is used to create a new communicator.  The attribute should have the value of the string name of the coll module to use.  If that module cannot be used, an MPI exception will occur.  This attribute is only examined on the parent communicator when a new communicator is created.</p>
<h3>coll SSI Parameters</h3>
<p>The coll modules accept several parameters:</p>
<dl class='dl-vertical'>
  <dt>
    <p>coll_associative</p>
  </dt>
  <dd>
    <p>Because of specific wording in the MPI standard, LAM/MPI can effectively not assume that any reduction operator is associative (at least, not without additional overhead).  Hence, LAM/MPI relies on the user to indicate that certain operations are associative.  If the user sets the <em>coll_associative</em> SSI parameter to 1, LAM/MPI may assume that the reduction operator is assocative, and may be able to optimize the overall reduction operation.  If it is 0 or undefined, LAM/MPI will assume that the reduction operation is <strong>not</strong> associative, and will use strict linear ordering of reduction operations (regardless of data locality).  This attribute is checked every time a reduction operator is invoked.  The User's Guide contains more information on this topic.</p>
  </dd>
  <dt>
    <p>coll_crossover</p>
  </dt>
  <dd>
    <p>This parameter determines the maximum number of processes in a communicator that will use linear algorithms.  This SSI parameter is only checked during <em>MPI_INIT</em>.</p>
  </dd>
  <dt>
    <p>coll_reduce_crossover</p>
  </dt>
  <dd>
    <p>During reduction operations, it makes sense to use the number of bytes to be transferred rather than the number of processes as a metric whether to use linear or logrithmic algorithms.  This parameter indicates the maxmimum number of bytes to be transferred by each process by a linear algorithm.  This SSI parameter is only checked during <em>MPI_INIT</em>.</p>
  </dd>

</dl>

<h3>Notes on the smp coll Module</h3>
<p>The <em>smp</em> coll module is based on the algorithms from the MagPIe project.  It is not yet complete; there are still more algorithms that can be optmized for SMP-aware execution -- by the time that LAM/MPI was frozen in preparation for release, only some of the algorithms had been completed.  It is expected that future versions of LAM/MPI will have more SMP-optimized algorithms.</p><p>The User's Guide contains much more detail about the <em>smp</em> module.  In particular, the <em>coll_associative</em> SSI parameter must be 1 for the SMP-aware reduction algorithms to be used.  If it is 0 or undefined, the corresponding <em>lam_basic</em> algorithms will be used.  The <em>coll_associative</em> attribute is checked at every invocation of the reduction algorithms.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lamssi_coll&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/lamssi.7.html"><strong>lamssi</strong>(7)</a>, <strong>mpirun</strong>(1), LAM User's Guide</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lamssi_boot.7.html"><span aria-hidden="true">&larr;</span> lamssi_boot.7: Overview of lam's boot ssi modules</a></li>
   <li class="next"><a href="lamssi_cr.7.html">lamssi_cr.7: Overview of lam's mpi checkpoint / restart ssi modules <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
