<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>xsh_predict: Compute a first guess dispersion solution and order table</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compute a first guess dispersion solution and order table">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="xsh_predict (7) manual">
  <meta name="twitter:description" content="Compute a first guess dispersion solution and order table">
  <meta name="twitter:image" content="https://www.carta.tech/images/cpl-plugin-xshoo-doc-xsh_predict-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/xsh_predict.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="xsh_predict (7) manual" />
  <meta property="og:description" content="Compute a first guess dispersion solution and order table" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cpl-plugin-xshoo-doc-xsh_predict-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">xsh_predict<small> (7)</small></h1>
        <p class="lead">Compute a first guess dispersion solution and order table</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/xsh_predict.7.html">
      <span itemprop="name">xsh_predict: Compute a first guess dispersion solution and order table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cpl-plugin-xshoo-doc/">
      <span itemprop="name">cpl-plugin-xshoo-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/xsh_predict.7.html">
      <span itemprop="name">xsh_predict: Compute a first guess dispersion solution and order table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>esorex <strong>xsh_predict</strong> [OPTIONS] FILE.sof</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This recipe creates a wavelength solution and an order table.</p>
<pre>
  Input Frames :
    - [UVB, VIS] One RAW frame (Format = RAW, Tag = FMTCHK_arm)
    - [NIR] Two RAW frames ((Format = RAW,  Tag = FMTCHK_arm_ON,FMTCHK_arm_OFF)
    - A spectral format table (Format = PRE, Tag = SPECTRAL_FORMAT_TAB_arm)
    - An arc line list (Format = TABLE, Tag = ARC_LINE_LIST_arm)
    - [UVB,VIS,OPTIONAL] A master bias (Format = PRE, Tag = MASTER_BIAS_arm)
    - [UVB,VIS,OPTIONAL] A master dark (Format = PRE, Tag = MASTER_DARK_arm)
    - [OPTIONAL] A reference badpixel map (Format = QUP, Tag = BP_MAP_RP_arm)
    - [OPTIONAL] A non-linear badpixel map (Format = QUP, Tag = BP_MAP_NL_arm)
    - [OPTIONAL] Reference list to monitor line intensity (Tag = ARC_LINE_LIST_INTMON_arm)
     - [poly mode] A theoretical map (Format = TABLE, Tag = THEO_TAB_SING_arm)
    - [physical model mode] A model cfg table (Format = TABLE, Tag = XSH_MOD_CFG_TAB_arm)
  Products :
    - [poly mode] A wavelength solution (Format = TABLE, PRO.CATG = WAVE_TAB_GUESS_arm)
    - An order table, PRO.CATG = ORDER_TAB_GUESS_arm
      (if at least degree+1 points are found in each order).
</pre>

<pre>
      - A line identification residual table, PRO.CATG = FMTCHK_RESID_TAB_LINES_arm
    - The bias subtracted formatcheck frame, PRO.CATG = FMTCHK_ON_arm
    - [physical model mode]An optimized model configuration table, PRO.CATG = XSH_MOD_CFG_OPT_FMT_ARM
  Prepare the frames.
</pre>

<pre>
  For UVB,VIS :
    Subtract Master Bias.
</pre>

<pre>
    Subtract Master Dark
  For NIR:
    Subtract ON OFF
  Compute guess order table and wavelength solution
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--keep-temp</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>If \'no\', temporary files are deleted. (str; default: \'no\'). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.keep-temp</strong> [default = <em>no</em>].</p>
  </dd>
  <dt>
    <p><strong>--debug-level</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Additional xshooter debug level. One of \'none\', \'low\', \'medium\', \'high\' (str; default: \'none\'). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.debug-level</strong> [default = <em>none</em>].</p>
  </dd>
  <dt>
    <p><strong>--time-stamp</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Add timestamp to product file name. (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.time-stamp</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--decode-bp</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Integer representation of the bits to be considered bad when decoding the bad pixel mask pixel values. (long; default: 2144337919). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.decode-bp</strong> [default = <em>2144337919</em>].</p>
  </dd>
  <dt>
    <p><strong>--pre-overscan-corr</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>pre-overscan correction.0: no correction1: mean overscan correction2: mean prescan correction3: (mean pre+mean overscan)/2 correction (long; default: 1). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.pre-overscan-corr</strong> [default = <em>1</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-fit-win-hsize</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Half window size (HWS) in pixels for the line 2D fitting window (total window size = 2*HWS+1) (long; default: 6). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-fit-win-hsize</strong> [default = <em>6</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-search-win-hsize</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Half window size (HWS) in pixels for the line search box around the expected position (total window size = 2*HWS+1) [bin units] (long; default: 3). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-search-win-hsize</strong> [default = <em>3</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-running-median-hsize</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Half window size in pixels (HWS) for the running median box (long; default: 0). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-running-median-hsize</strong> [default = <em>0</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-wavesol-deg-lambda</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree in lambda in the polynomial solution X=f(lambda,order,slit) and Y=f(lambda,order,slit) (POLY mode) (long; default: 5). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-wavesol-deg-lambda</strong> [default = <em>5</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-wavesol-deg-order</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree in order in the polynomial solution X=f(lambda,order,slit) and Y=f(lambda,order,slit) (POLY mode) (long; default: 5). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-wavesol-deg-order</strong> [default = <em>5</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-ordertab-deg-y</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree in Y in the polynomial order tracing X=f(Y) (long; default: 2). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-ordertab-deg-y</strong> [default = <em>2</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-min-sn</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Minimum signal-to-noise ratio to filter lines [xsh_predict: UVB,VIS=5,NIR=4; xsh_2dmap: UVB=3, VIS=6, NIR=10] (float; default: 5.0). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-min-sn</strong> [default = <em>5.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-find-lines-center</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Method used to find the center of the lines: gaussian, barycenter. Gaussian method applies a Gaussian fit to the line. Barycenter method computes the line centroid. (str; default: \'gaussian\'). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-find-lines-center</strong> [default = <em>gaussian</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-clip-sigma</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Kappa value in sigma clipping during the polynomial solution fit (POLY mode) (float; default: 2.0). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-clip-sigma</strong> [default = <em>2.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-clip-niter</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Number of iterations in sigma clipping during the polynomial solution fit (POLY mode) (long; default: 10). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-clip-niter</strong> [default = <em>10</em>].</p>
  </dd>
  <dt>
    <p><strong>--detectarclines-clip-frac</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Minimal fractions of bad pixel allowed in sigma clipping duringthe polynomial solution fit (POLY mode) (float; default: 0.7). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.detectarclines-clip-frac</strong> [default = <em>0.7</em>].</p>
  </dd>
  <dt>
    <p><strong>--model-maxit</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Number/10 of annealing iterations if in physical model mode. (long; default: 1000). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.model-maxit</strong> [default = <em>1000</em>].</p>
  </dd>
  <dt>
    <p><strong>--model-anneal-factor</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Multiplier applied to the automatic parameter ranges (i.e. when scenario!=0). For routine operations should be 1.0. (physical model mode). (float; default: 1.0). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.model-anneal-factor</strong> [default = <em>1.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--model-scenario</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>selects preset flag and range combinations appropriate to common scenarios:   0 - No scenario, input cfg flags and limits used.  1 - scenario appropriate for the startup recipe (large ranges for parameters affecting single ph exposures, dist coeff fixed).  2 - Like 1, but includes parameters affecting all ph positions.  3 - Scenario for use in fine tuning cfg to match routine single pinhole exposures. All parameters affecting 1ph exposures except dist coeffs are included and parameter ranges are small. (For use by predict in 1ph case).  4 - Like 3 but includes parameters  affecting all ph positions (Standard for use by predict in 9ph case and 2dmap).   (long; default: 3). The full name of this option for the EsoRex configuration file is <strong>xsh.xsh_predict.model-scenario</strong> [default = <em>3</em>].</p>
  </dd>

</dl>
<p>Note that it is possible to create a configuration file containing these options, along with suitable default values. Please refer to the details provided by the 'esorex --help' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO xsh_predict&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for the xshoo pipeline can be downloaded as a PDF file using the following URL:</p><ul>
<li><p><strong>ftp://ftp.eso.org/pub/dfs/pipelines/xshoo/xshoo-pipeline-manual-12.1.pdf</strong></p></li>
</ul><p>An overview over the existing ESO pipelines can be found on the web page <strong>http://www.eso.org/sci/software/pipelines/</strong>.</p><p>Basic documentation about the EsoRex program can be found at the esorex (1) man page.</p><p>It is possible to call the pipelines from python using the python-cpl package. See <strong>http://packages.python.org/python-cpl/index.html</strong> for further information.</p><p>The other recipes of the xshoo pipeline are <a href="../man7/xsh_cfg_recover.7.html"><strong>xsh_cfg_recover</strong>(7)</a>, <a href="../man7/xsh_lingain.7.html"><strong>xsh_lingain</strong>(7)</a>, <a href="../man7/xsh_geom_ifu.7.html"><strong>xsh_geom_ifu</strong>(7)</a>, <a href="../man7/xsh_wavecal.7.html"><strong>xsh_wavecal</strong>(7)</a>, <a href="../man7/xsh_scired_slit_nod.7.html"><strong>xsh_scired_slit_nod</strong>(7)</a>, <a href="../man7/xsh_respon_slit_nod.7.html"><strong>xsh_respon_slit_nod</strong>(7)</a>, <a href="../man7/xsh_mdark.7.html"><strong>xsh_mdark</strong>(7)</a>, <a href="../man7/xsh_respon_slit_offset.7.html"><strong>xsh_respon_slit_offset</strong>(7)</a>, <a href="../man7/xsh_orderpos.7.html"><strong>xsh_orderpos</strong>(7)</a>, <a href="../man7/xsh_scired_ifu_stare_drl.7.html"><strong>xsh_scired_ifu_stare_drl</strong>(7)</a>, <a href="../man7/xsh_scired_ifu_stare.7.html"><strong>xsh_scired_ifu_stare</strong>(7)</a>, <a href="../man7/xsh_flexcomp.7.html"><strong>xsh_flexcomp</strong>(7)</a>, <a href="../man7/xsh_scired_ifu_offset_drl.7.html"><strong>xsh_scired_ifu_offset_drl</strong>(7)</a>, <a href="../man7/xsh_util_physmod.7.html"><strong>xsh_util_physmod</strong>(7)</a>, <a href="../man7/xsh_respon_slit_stare.7.html"><strong>xsh_respon_slit_stare</strong>(7)</a>, <a href="../man7/xsh_2dmap.7.html"><strong>xsh_2dmap</strong>(7)</a>, <a href="../man7/xsh_mflat.7.html"><strong>xsh_mflat</strong>(7)</a>, <a href="../man7/xsh_mbias.7.html"><strong>xsh_mbias</strong>(7)</a>, <a href="../man7/xsh_scired_ifu_offset.7.html"><strong>xsh_scired_ifu_offset</strong>(7)</a>, <a href="../man7/xsh_scired_slit_stare.7.html"><strong>xsh_scired_slit_stare</strong>(7)</a>, <a href="../man7/xsh_scired_slit_offset.7.html"><strong>xsh_scired_slit_offset</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>xsh_predict 2.5.2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>P.Goldoni, L.Guglielmi, R. Haigron, F. Royer, P. Bristow, D. Bramich, A. Modigliani &lt;amodigli@eso.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p>Please report any problems to amodigli@eso.org. Alternatively, you may send a report to the ESO User Support Department &lt;usd-help@eso.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This file is part of the X-shooter Instrument Pipeline Copyright (C) 2006 European Southern Observatory</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="xsh_orderpos.7.html"><span aria-hidden="true">&larr;</span> xsh_orderpos.7: Create the orders centre traces table file</a></li>
   <li class="next"><a href="xsh_respon_slit_nod.7.html">xsh_respon_slit_nod.7: Reduce std star frames in slit configuration and nod mode <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
