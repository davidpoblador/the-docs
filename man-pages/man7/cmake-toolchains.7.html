<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cmake-toolchains: Cmake toolchains reference</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cmake toolchains reference">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cmake-toolchains (7) manual">
  <meta name="twitter:description" content="Cmake toolchains reference">
  <meta name="twitter:image" content="https://www.carta.tech/images/cmake-data-cmake-toolchains-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/cmake-toolchains.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cmake-toolchains (7) manual" />
  <meta property="og:description" content="Cmake toolchains reference" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cmake-data-cmake-toolchains-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cmake-toolchains<small> (7)</small></h1>
        <p class="lead">Cmake toolchains reference</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/cmake-toolchains.7.html">
      <span itemprop="name">cmake-toolchains: Cmake toolchains reference</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cmake-data/">
      <span itemprop="name">cmake-data</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/cmake-toolchains.7.html">
      <span itemprop="name">cmake-toolchains: Cmake toolchains reference</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">INTRODUCTION</h2>
        <div class="sectioncontent">
<p>CMake uses a toolchain of utilities to compile, link libraries and create archives, and other tasks to drive the build. The toolchain utilities available are determined by the languages enabled. In normal builds, CMake automatically determines the toolchain for host builds based on system introspection and defaults. In cross-compiling scenarios, a toolchain file may be specified with information about compiler and utility paths.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LANGUAGES</h2>
        <div class="sectioncontent">
<p>Languages are enabled by the <strong>project()</strong> command.  Language-specific built-in variables, such as <strong>CMAKE_CXX_COMPILER</strong>, <strong>CMAKE_CXX_COMPILER_ID</strong> etc are set by invoking the <strong>project()</strong> command.  If no project command is in the top-level CMakeLists file, one will be implicitly generated. By default the enabled languages are C and CXX:</p>
<pre>
project(C_Only C)
</pre>
<p>A special value of NONE can also be used with the <strong>project()</strong> command to enable no languages:</p>
<pre>
project(MyProject NONE)
</pre>
<p>The <strong>enable_language()</strong> command can be used to enable languages after the <strong>project()</strong> command:</p>
<pre>
enable_language(CXX)
</pre>
<p>When a language is enabled, CMake finds a compiler for that language, and determines some information, such as the vendor and version of the compiler, the target architecture and bitwidth, the location of corresponding utilities etc.</p><p>The <strong>ENABLED_LANGUAGES</strong> global property contains the languages which are currently enabled.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VARIABLES AND PROPERTIES</h2>
        <div class="sectioncontent">
<p>Several variables relate to the language components of a toolchain which are enabled. <strong>CMAKE_&lt;LANG&gt;_COMPILER</strong> is the full path to the compiler used for <strong>&lt;LANG&gt;</strong>. <strong>CMAKE_&lt;LANG&gt;_COMPILER_ID</strong> is the identifier used by CMake for the compiler and <strong>CMAKE_&lt;LANG&gt;_COMPILER_VERSION</strong> is the version of the compiler.</p><p>The <strong>CMAKE_&lt;LANG&gt;_FLAGS</strong> variables and the configuration-specific equivalents contain flags that will be added to the compile command when compiling a file of a particular language.</p><p>As the linker is invoked by the compiler driver, CMake needs a way to determine which compiler to use to invoke the linker. This is calculated by the <strong>LANGUAGE</strong> of source files in the target, and in the case of static libraries, the language of the dependent libraries. The choice CMake makes may be overridden with the <strong>LINKER_LANGUAGE</strong> target property.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TOOLCHAIN FEATURES</h2>
        <div class="sectioncontent">
<p>CMake provides the <strong>try_compile()</strong> command and wrapper macros such as <strong>CheckCXXSourceCompiles</strong>, <strong>CheckCXXSymbolExists</strong> and <strong>CheckIncludeFile</strong> to test capability and availability of various toolchain features. These APIs test the toolchain in some way and cache the result so that the test does not have to be performed again the next time CMake runs.</p><p>Some toolchain features have built-in handling in CMake, and do not require compile-tests. For example, <strong>POSITION_INDEPENDENT_CODE</strong> allows specifying that a target should be built as position-independent code, if the compiler supports that feature. The <strong>&lt;LANG&gt;_VISIBILITY_PRESET</strong> and <strong>VISIBILITY_INLINES_HIDDEN</strong> target properties add flags for hidden visibility, if supported by the compiler.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CROSS COMPILING</h2>
        <div class="sectioncontent">
<p>If <a href="../man1/cmake.1.html"><strong>cmake</strong>(1)</a></strong> is invoked with the command line parameter <strong>-DCMAKE_TOOLCHAIN_FILE=path/to/file</strong>, the file will be loaded early to set values for the compilers. A typical cross-compiling toolchain has content such as:</p>
<pre>
set(CMAKE_SYSTEM_NAME Linux)

set(CMAKE_SYSROOT /home/devel/rasp-pi-rootfs)
set(CMAKE_STAGING_PREFIX /home/devel/stage)

set(CMAKE_C_COMPILER /home/devel/gcc-4.7-linaro-rpi-gnueabihf/bin/arm-linux-gnueabihf-gcc)
set(CMAKE_CXX_COMPILER /home/devel/gcc-4.7-linaro-rpi-gnueabihf/bin/arm-linux-gnueabihf-g++)

set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
set(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)
</pre>
<p>The <strong>CMAKE_SYSTEM_NAME</strong> is the CMake-identifier of the target platform to build for.</p><p>The <strong>CMAKE_SYSROOT</strong> is optional, and may be specified if a sysroot is available.</p><p>The <strong>CMAKE_STAGING_PREFIX</strong> is also optional. It may be used to specify a path on the host to install to. The <strong>CMAKE_INSTALL_PREFIX</strong> is always the runtime installation location, even when cross-compiling.</p><p>The <strong>CMAKE_&lt;LANG&gt;_COMPILER</strong> variables may be set to full paths, or to names of compilers to search for in standard locations. In cases where CMake does not have enough information to extract information from the compiler, the <strong>CMakeForceCompiler</strong> module can be used to bypass some of the checks.</p><p>CMake <strong>find_*</strong> commands will look in the sysroot, and the <strong>CMAKE_FIND_ROOT_PATH</strong> entries by default in all cases, as well as looking in the host system root prefix. Although this can be controlled on a case-by-case basis, when cross-compiling, it can be useful to exclude looking in either the host or the target for particular artifacts. Generally, includes, libraries and packages should be found in the target system prefixes, whereas executables which must be run as part of the build should be found only on the host and not on the target. This is the purpose of the <strong>CMAKE_FIND_ROOT_PATH_MODE_*</strong> variables.</p><p>Some compilers are inherently cross compilers, such as Clang and the QNX QCC compiler. The <strong>CMAKE_&lt;LANG&gt;_COMPILER_TARGET</strong> can be set to pass a value to those supported compilers when compiling:</p>
<pre>
set(CMAKE_SYSTEM_NAME Linux)

set(triple arm-linux-gnueabihf)

set(CMAKE_C_COMPILER clang)
set(CMAKE_C_COMPILER_TARGET ${triple})
set(CMAKE_CXX_COMPILER clang++)
set(CMAKE_CXX_COMPILER_TARGET ${triple})
</pre>
<p>Or, for QCC:</p>
<pre>
set(CMAKE_SYSTEM_NAME QNX)

set(arch gcc_ntoarmv7le)

set(CMAKE_C_COMPILER qcc)
set(CMAKE_C_COMPILER_TARGET ${arch})
set(CMAKE_CXX_COMPILER QCC)
set(CMAKE_CXX_COMPILER_TARGET ${arch})
</pre>
<p>Similarly, some compilers do not ship their own supplementary utilities such as linkers, but provide a way to specify the location of the external toolchain which will be used by the compiler driver. The <strong>CMAKE_&lt;LANG&gt;_COMPILER_EXTERNAL_TOOLCHAIN</strong> variable can be set in a toolchain file to pass the path to the compiler driver.</p><p>The <strong>CMAKE_CROSSCOMPILING</strong> variable is set to true when CMake is cross-compiling.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2000-2014 Kitware, Inc.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cmake-qt.7.html"><span aria-hidden="true">&larr;</span> cmake-qt.7: Cmake qt features reference</a></li>
   <li class="next"><a href="cmus-tutorial.7.html">cmus-tutorial.7: C* music player tutorial <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
