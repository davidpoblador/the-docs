<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>funcombine: Combining region and table filters</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Combining region and table filters">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="funcombine (7) manual">
  <meta name="twitter:description" content="Combining region and table filters">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfuntools-dev-funcombine-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/funcombine.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="funcombine (7) manual" />
  <meta property="og:description" content="Combining region and table filters" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfuntools-dev-funcombine-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">funcombine<small> (7)</small></h1>
        <p class="lead">Combining region and table filters</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/funcombine.7.html">
      <span itemprop="name">funcombine: Combining region and table filters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfuntools-dev/">
      <span itemprop="name">libfuntools-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/funcombine.7.html">
      <span itemprop="name">funcombine: Combining region and table filters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>This document discusses the conventions for combining region and table filters, especially with regards to the comma operator.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Comma Conventions</strong></p><p>Filter specifications consist of a series of boolean expressions, separated by commas. These expressions can be table filters, spatial region filters, or combinations thereof. Unfortunately, common usage requires that the comma operator must act differently in different situations. Therefore, while its use is intuitive in most cases, commas can be a source of confusion.</p><p>According to long-standing usage in \s-1IRAF\s0, when a comma separates two table filters, it takes on the meaning of a boolean <strong>and</strong>. Thus:</p>
<pre>
  foo.fits[pha==1,pi==2]
</pre>
<p>is equivalent to:</p><p>  foo.fits[pha==1 && pi==2]</p><p>When a comma separates two spatial region filters, however, it has traditionally taken on the meaning of a boolean <strong>or</strong>. Thus:</p><p>  foo.fits[circle(10,10,3),ellipse(20,20,8,5)]</p><p>is equivalent to:</p><p>  foo.fits[circle(10,10,3) || ellipse(20,20,8,5)]</p><p>(except that in the former case, each region is given a unique id in programs such as funcnts).</p><p>Region and table filters can be combined:</p><p>  foo.fits[circle(10,10,3),pi=1:5]</p><p>or even:</p><p>  foo.fits[pha==1&&circle(10,10,3),pi==2&&ellipse(20,20,8,5)]</p><p>In these cases, it is not obvious whether the command should utilize an <strong>or</strong> or <strong>and</strong> operator. We therefore arbitrarily chose to implement the following rule:</p><ul>
<li><p>if both expressions contain a region, the operator used is <strong>or</strong>.</p></li><li><p>if one (or both) expression(s) does not contain a region, the operator used is <strong>and</strong>.</p></li>
</ul><p>This rule handles the cases of pure regions and pure column filters properly. It unambiguously assigns the boolean <strong>and</strong> to all mixed cases. Thus:</p><p>  foo.fits[circle(10,10,3),pi=1:5]</p><p>and</p><p>  foo.fits[pi=1:5,circle(10,10,3)]</p><p>both are equivalent to:</p><p>  foo.fits[circle(10,10,3) && pi=1:5]</p><p>[\s-1NB:\s0 This arbitrary rule <strong>replaces the previous arbitrary rule</strong> (pre\-funtools 1.2.3) which stated:</p><ul>
<li><p>if the 2nd expression contains a region, the operator used is <strong>or</strong>.</p></li><li><p>if the 2nd expression does not contain a region, the operator used is <strong>and</strong>.</p></li>
</ul><p>In that scenario, the <strong>or</strong> operator was implied by:</p><p>  pha==4,circle 5 5 1</p><p>while the <strong>and</strong> operator was implied by</p><p>  circle 5 5 1,pha==4</p><p>Experience showed that this non-commutative treatment of the comma operator was confusing and led to unexpected results.]</p><p>The comma rule must be considered provisional: comments and complaints are welcome to help clarify the matter. Better still, we recommend that the comma operator be avoided in such cases in favor of an explicit boolean operator.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO funcombine&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ftm.7.html"><span aria-hidden="true">&larr;</span> ftm.7: Feature test macros</a></li>
   <li class="next"><a href="funenv.7.html">funenv.7: Funtools environment variables <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
