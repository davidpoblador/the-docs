<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DELETE: Delete rows of a table</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Delete rows of a table">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="DELETE (7) manual">
  <meta name="twitter:description" content="Delete rows of a table">
  <meta name="twitter:image" content="https://www.carta.tech/images/postgresql-client-9.4-DELETE-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/DELETE.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="DELETE (7) manual" />
  <meta property="og:description" content="Delete rows of a table" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postgresql-client-9.4-DELETE-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">DELETE<small> (7)</small></h1>
        <p class="lead">Delete rows of a table</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/DELETE.7.html">
      <span itemprop="name">DELETE: Delete rows of a table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postgresql-client-9.4/">
      <span itemprop="name">postgresql-client-9.4</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/DELETE.7.html">
      <span itemprop="name">DELETE: Delete rows of a table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
[ WITH [ RECURSIVE ] <em>with_query</em> [, ...] ]
DELETE FROM [ ONLY ] <em>table_name</em> [ * ] [ [ AS ] <em>alias</em> ]
    [ USING <em>using_list</em> ]
    [ WHERE <em>condition</em> | WHERE CURRENT OF <em>cursor_name</em> ]
    [ RETURNING * | <em>output_expression</em> [ [ AS ] <em>output_name</em> ] [, ...] ]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>DELETE</strong> deletes rows that satisfy the WHERE clause from the specified table. If the WHERE clause is absent, the effect is to delete all rows in the table. The result is a valid, but empty table.</p><p><strong>Tip</strong></p><p><a href="../man7/TRUNCATE.7.html"><strong>TRUNCATE</strong>(7)</a> is a PostgreSQL extension that provides a faster mechanism to remove all rows from a table.</p><p>There are two ways to delete rows in a table using information contained in other tables in the database: using sub-selects, or specifying additional tables in the USING clause. Which technique is more appropriate depends on the specific circumstances.</p><p>The optional RETURNING clause causes <strong>DELETE</strong> to compute and return value(s) based on each row actually deleted. Any expression using the table&apos;s columns, and/or columns of other tables mentioned in USING, can be computed. The syntax of the RETURNING list is identical to that of the output list of <strong>SELECT</strong>.</p><p>You must have the DELETE privilege on the table to delete from it, as well as the SELECT privilege for any table in the USING clause or whose values are read in the <em>condition</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p><em>with_query</em></p><p>The WITH clause allows you to specify one or more subqueries that can be referenced by name in the <strong>DELETE</strong> query. See Section 7.8, &ldquo;WITH Queries (Common Table Expressions)&rdquo;, in the documentation and <a href="../man7/SELECT.7.html"><strong>SELECT</strong>(7)</a> for details.</p><p><em>table_name</em></p><p>The name (optionally schema-qualified) of the table to delete rows from. If ONLY is specified before the table name, matching rows are deleted from the named table only. If ONLY is not specified, matching rows are also deleted from any tables inheriting from the named table. Optionally, * can be specified after the table name to explicitly indicate that descendant tables are included.</p><p><em>alias</em></p><p>A substitute name for the target table. When an alias is provided, it completely hides the actual name of the table. For example, given DELETE FROM foo AS f, the remainder of the <strong>DELETE</strong> statement must refer to this table as f not foo.</p><p><em>using_list</em></p><p>A list of table expressions, allowing columns from other tables to appear in the WHERE condition. This is similar to the list of tables that can be specified in the FROM Clause of a <strong>SELECT</strong> statement; for example, an alias for the table name can be specified. Do not repeat the target table in the <em>using_list</em>, unless you wish to set up a self-join.</p><p><em>condition</em></p><p>An expression that returns a value of type boolean. Only rows for which this expression returns true will be deleted.</p><p><em>cursor_name</em></p><p>The name of the cursor to use in a WHERE CURRENT OF condition. The row to be deleted is the one most recently fetched from this cursor. The cursor must be a non-grouping query on the <strong>DELETE</strong>&apos;s target table. Note that WHERE CURRENT OF cannot be specified together with a Boolean condition. See <a href="../man7/DECLARE.7.html"><strong>DECLARE</strong>(7)</a> for more information about using cursors with WHERE CURRENT OF.</p><p><em>output_expression</em></p><p>An expression to be computed and returned by the <strong>DELETE</strong> command after each row is deleted. The expression can use any column names of the table named by <em>table_name</em> or table(s) listed in USING. Write * to return all columns.</p><p><em>output_name</em></p><p>A name to use for a returned column.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUTS</h2>
        <div class="sectioncontent">
<p>On successful completion, a <strong>DELETE</strong> command returns a command tag of the form</p>
<pre>
DELETE <em>count</em>
</pre>
<p>The <em>count</em> is the number of rows deleted. Note that the number may be less than the number of rows that matched the <em>condition</em> when deletes were suppressed by a BEFORE DELETE trigger. If <em>count</em> is 0, no rows were deleted by the query (this is not considered an error).</p><p>If the <strong>DELETE</strong> command contains a RETURNING clause, the result will be similar to that of a <strong>SELECT</strong> statement containing the columns and values defined in the RETURNING list, computed over the row(s) deleted by the command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>PostgreSQL lets you reference columns of other tables in the WHERE condition by specifying the other tables in the USING clause. For example, to delete all films produced by a given producer, one can do:</p>
<pre>
DELETE FROM films USING producers
  WHERE producer_id = producers.id AND producers.name = &apos;foo&apos;;
</pre>
<p>What is essentially happening here is a join between films and producers, with all successfully joined films rows being marked for deletion. This syntax is not standard. A more standard way to do it is:</p>
<pre>
DELETE FROM films
  WHERE producer_id IN (SELECT id FROM producers WHERE name = &apos;foo&apos;);
</pre>
<p>In some cases the join style is easier to write or faster to execute than the sub-select style.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Delete all films but musicals:</p>
<pre>
DELETE FROM films WHERE kind &lt;&gt; &apos;Musical&apos;;
</pre>
<p>Clear the table films:</p>
<pre>
DELETE FROM films;
</pre>
<p>Delete completed tasks, returning full details of the deleted rows:</p>
<pre>
DELETE FROM tasks WHERE status = &apos;DONE&apos; RETURNING *;
</pre>
<p>Delete the row of tasks on which the cursor c_tasks is currently positioned:</p>
<pre>
DELETE FROM tasks WHERE CURRENT OF c_tasks;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p>This command conforms to the SQL standard, except that the USING and RETURNING clauses are PostgreSQL extensions, as is the ability to use WITH with <strong>DELETE</strong>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="DECLARE.7.html"><span aria-hidden="true">&larr;</span> DECLARE.7: Define a cursor</a></li>
   <li class="next"><a href="DISCARD.7.html">DISCARD.7: Discard session state <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
