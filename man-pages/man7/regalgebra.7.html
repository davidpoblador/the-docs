<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>regalgebra: Boolean algebra on spatial regions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Boolean algebra on spatial regions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="regalgebra (7) manual">
  <meta name="twitter:description" content="Boolean algebra on spatial regions">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfuntools-dev-regalgebra-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/regalgebra.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="regalgebra (7) manual" />
  <meta property="og:description" content="Boolean algebra on spatial regions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfuntools-dev-regalgebra-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">regalgebra<small> (7)</small></h1>
        <p class="lead">Boolean algebra on spatial regions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/regalgebra.7.html">
      <span itemprop="name">regalgebra: Boolean algebra on spatial regions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfuntools-dev/">
      <span itemprop="name">libfuntools-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/regalgebra.7.html">
      <span itemprop="name">regalgebra: Boolean algebra on spatial regions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>This document describes the boolean arithmetic defined for region expressions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>When defining a region, several shapes can be  combined using boolean operations.  The boolean operators are (in order of precedence):</p>
<pre>
  Symbol        Operator                Associativity
  ------        --------                -------------
  !             not                     right to left
  &             and                     left to right
  ^             exclusive or            left to right
  |             inclusive or            left to right
</pre>
<p>For example,  to  create a mask  consisting  of a large  circle with a smaller  box   removed,  one  can  use   the   <strong>and</strong> and <strong>not</strong> operators:</p><p>  CIRCLE(11,11,15) & !BOX(11,11,3,6)</p><p>and the resulting mask is:</p><p>         1234567890123456789012345678901234567890          ----------------------------------------        1:1111111111111111111111..................        2:1111111111111111111111..................        3:11111111111111111111111.................        4:111111111111111111111111................        5:111111111111111111111111................        6:1111111111111111111111111...............        7:1111111111111111111111111...............        8:1111111111111111111111111...............        9:111111111...1111111111111...............       10:111111111...1111111111111...............       11:111111111...1111111111111...............       12:111111111...1111111111111...............       13:111111111...1111111111111...............       14:111111111...1111111111111...............       15:1111111111111111111111111...............       16:1111111111111111111111111...............       17:111111111111111111111111................       18:111111111111111111111111................       19:11111111111111111111111.................       20:1111111111111111111111..................       21:1111111111111111111111..................       22:111111111111111111111...................       23:..11111111111111111.....................       24:...111111111111111......................       25:.....11111111111........................       26:........................................       27:........................................       28:........................................       29:........................................       30:........................................       31:........................................       32:........................................       33:........................................       34:........................................       35:........................................       36:........................................       37:........................................       38:........................................       39:........................................       40:........................................</p><p>A three-quarter circle can be defined as:</p><p>  CIRCLE(20,20,10) & !PIE(20,20,270,360)</p><p>and looks as follows:</p><p>         1234567890123456789012345678901234567890          ----------------------------------------        1:........................................        2:........................................        3:........................................        4:........................................        5:........................................        6:........................................        7:........................................        8:........................................        9:........................................       10:........................................       11:...............111111111................       12:..............11111111111...............       13:............111111111111111.............       14:............111111111111111.............       15:...........11111111111111111............       16:..........1111111111111111111...........       17:..........1111111111111111111...........       18:..........1111111111111111111...........       19:..........1111111111111111111...........       20:..........1111111111111111111...........       21:..........1111111111....................       22:..........1111111111....................       23:..........1111111111....................       24:..........1111111111....................       25:...........111111111....................       26:............11111111....................       27:............11111111....................       28:..............111111....................       29:...............11111....................       30:........................................       31:........................................       32:........................................       33:........................................       34:........................................       35:........................................       36:........................................       37:........................................       38:........................................       39:........................................       40:........................................</p><p>Two non-intersecting ellipses can be made into the same region:</p><p>  ELL(20,20,10,20,90) | ELL(1,1,20,10,0)</p><p>and looks as follows:</p><p>         1234567890123456789012345678901234567890          ----------------------------------------        1:11111111111111111111....................        2:11111111111111111111....................        3:11111111111111111111....................        4:11111111111111111111....................        5:1111111111111111111.....................        6:111111111111111111......................        7:1111111111111111........................        8:111111111111111.........................        9:111111111111............................       10:111111111...............................       11:...........11111111111111111............       12:........111111111111111111111111........       13:.....11111111111111111111111111111......       14:....11111111111111111111111111111111....       15:..11111111111111111111111111111111111...       16:.1111111111111111111111111111111111111..       17:111111111111111111111111111111111111111.       18:111111111111111111111111111111111111111.       19:111111111111111111111111111111111111111.       20:111111111111111111111111111111111111111.       21:111111111111111111111111111111111111111.       22:111111111111111111111111111111111111111.       23:111111111111111111111111111111111111111.       24:.1111111111111111111111111111111111111..       25:..11111111111111111111111111111111111...       26:...11111111111111111111111111111111.....       27:.....11111111111111111111111111111......       28:.......111111111111111111111111.........       29:...........11111111111111111............       30:........................................       31:........................................       32:........................................       33:........................................       34:........................................       35:........................................       36:........................................       37:........................................       38:........................................       39:........................................       40:........................................</p><p>You can use several boolean operations in a single region expression, to create arbitrarily complex regions.  With the important exception below, you can apply the operators in any order, using parentheses if necessary to override the natural precedences of the operators.</p><p>\s-1NB:\s0 Using a panda shape is always much more efficient than explicitly specifying \*(L"pie & annulus\*(R", due to the ability of panda to place a limit on the number of pixels checked in the pie shape.  If you are going to specify the intersection of pie and annulus, use panda instead.</p><p>As described in \*(L"help regreometry\*(R", the <strong>\s-1PIE\s0</strong> slice goes to the edge of the field. To limit its scope, <strong>\s-1PIE\s0</strong> usually is is combined with other shapes, such as circles and annuli, using boolean operations.  In this context, it is worth noting that that there is a difference between <strong>\-PIE</strong> and <strong>&!PIE</strong>. The former is a global exclude of all pixels in the <strong>\s-1PIE\s0</strong> slice, while the latter is a local excludes of pixels affecting only the region(s) with which the <strong>\s-1PIE\s0</strong> is combined.  For example, the following region uses <strong>&!PIE</strong> as a local exclude of a single circle. Two other circles are also defined and are unaffected by the local exclude:</p><p>        CIRCLE(1,8,1)         CIRCLE(8,8,7)&!PIE(8,8,60,120)&!PIE(8,8,240,300)         CIRCLE(15,8,2)</p><p>          1 2 3 4 5 6 7 8 9 0 1 2 3 4 5           - - - - - - - - - - - - - - -       15: . . . . . . . . . . . . . . .       14: . . . . 2 2 2 2 2 2 2 . . . .       13: . . . 2 2 2 2 2 2 2 2 2 . . .       12: . . 2 2 2 2 2 2 2 2 2 2 2 . .       11: . . 2 2 2 2 2 2 2 2 2 2 2 . .       10: . . . . 2 2 2 2 2 2 2 . . . .        9: . . . . . . 2 2 2 . . . . 3 3        8: 1 . . . . . . . . . . . . 3 3        7: . . . . . . 2 2 2 . . . . 3 3        6: . . . . 2 2 2 2 2 2 2 . . . .        5: . . 2 2 2 2 2 2 2 2 2 2 2 . .        4: . . 2 2 2 2 2 2 2 2 2 2 2 . .        3: . . . 2 2 2 2 2 2 2 2 2 . . .        2: . . . . 2 2 2 2 2 2 2 . . . .        1: . . . . . . . . . . . . . . .</p><p>Note that the two other regions are not affected by the <strong>&!PIE</strong>, which only affects the circle with which it is combined.</p><p>On the other hand, a <strong>\-PIE</strong> is an global exclude that does affect other regions with which it overlaps:</p><p>        CIRCLE(1,8,1)         CIRCLE(8,8,7)         -PIE(8,8,60,120)         -PIE(8,8,240,300)         CIRCLE(15,8,2)</p><p>          1 2 3 4 5 6 7 8 9 0 1 2 3 4 5           - - - - - - - - - - - - - - -       15: . . . . . . . . . . . . . . .       14: . . . . 2 2 2 2 2 2 2 . . . .       13: . . . 2 2 2 2 2 2 2 2 2 . . .       12: . . 2 2 2 2 2 2 2 2 2 2 2 . .       11: . . 2 2 2 2 2 2 2 2 2 2 2 . .       10: . . . . 2 2 2 2 2 2 2 . . . .        9: . . . . . . 2 2 2 . . . . . .        8: . . . . . . . . . . . . . . .        7: . . . . . . 2 2 2 . . . . . .        6: . . . . 2 2 2 2 2 2 2 . . . .        5: . . 2 2 2 2 2 2 2 2 2 2 2 . .        4: . . 2 2 2 2 2 2 2 2 2 2 2 . .        3: . . . 2 2 2 2 2 2 2 2 2 . . .        2: . . . . 2 2 2 2 2 2 2 . . . .        1: . . . . . . . . . . . . . . .</p><p>The two smaller circles are entirely contained within the two exclude <strong>\s-1PIE\s0</strong> slices and therefore are excluded from the region.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO regalgebra&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="re_format.7.html"><span aria-hidden="true">&larr;</span> re_format.7: Posix.2 regular expressions</a></li>
   <li class="next"><a href="regbounds.7.html">regbounds.7: Region boundaries <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
