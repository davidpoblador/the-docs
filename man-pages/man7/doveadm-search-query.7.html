<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>doveadm-search-query: Overview of search queries for doveadm mailbox  commands</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Overview of search queries for doveadm mailbox  commands">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="doveadm-search-query (7) manual">
  <meta name="twitter:description" content="Overview of search queries for doveadm mailbox  commands">
  <meta name="twitter:image" content="https://www.carta.tech/images/dovecot-core-doveadm-search-query-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/doveadm-search-query.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="doveadm-search-query (7) manual" />
  <meta property="og:description" content="Overview of search queries for doveadm mailbox  commands" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dovecot-core-doveadm-search-query-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">doveadm-search-query<small> (7)</small></h1>
        <p class="lead">Overview of search queries for doveadm mailbox  commands</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/doveadm-search-query.7.html">
      <span itemprop="name">doveadm-search-query: Overview of search queries for doveadm mailbox  commands</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dovecot-core/">
      <span itemprop="name">dovecot-core</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/doveadm-search-query.7.html">
      <span itemprop="name">doveadm-search-query: Overview of search queries for doveadm mailbox  commands</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Several <a href="../man1/doveadm.1.html"><strong>doveadm</strong>(1)</a> commands use a <em>search_query</em> in order to act only on matching messages. This manual page describes all <em>SEARCH</em>KEYS<em>,</em> which can be used in a <em>search_query</em>.</p><p>Each <em>search_query</em> consists at least of one <em>SEARCH</em>KEY<em>.</em> Most of the <em>SEARCH KEYS</em> require an argument. All <em>SEARCH&nbsp;KEYS</em> are case-insensitive. The shortest valid <em>search_query</em> is <strong>ALL</strong>. For example:</p>
<pre>
doveadm search ALL
</pre>
<p>Multiple search query expressions will be combined with the <strong>AND</strong> operator by default. To find all messages that are new and greater than 50 kilobyte, one can use:</p>
<pre>
doveadm search NEW LARGER 50k
</pre>
<p><strong>OR</strong>-ed <em>SEARCH KEYS</em> have to be written in parenthesis, when mixing ANDs and ORs. Shells commonly require escaping for parentheses. To find messages that were saved on the &quot;13th of April  2007&quot; AND have the \(rsSeen and/or \(rsFlagged flag set, one can use for example:</p>
<pre>
doveadm search SAVEDON 2007-04-13 \(rs( SEEN OR FLAGGED \(rs)
</pre>
<p>It&apos;s also possible to specify the mailbox, in which should be searched. Use either the keyword <strong>mailbox</strong> and the name of the mailbox or the keyword <strong>mailbox-guid</strong> and the mailbox&apos;s globally unique identifier in the <em>search_query</em>. To find all messages in the mailbox with the GUID &quot;44f68b13ce97044b837f000035ca9452&quot; use:</p>
<pre>
doveadm search mailbox-guid 44f68b13ce97044b837f000035ca9452 ALL
</pre>
<p>To list all deleted messages in the &quot;Trash&quot; folder use:</p>
<pre>
doveadm search mailbox Trash DELETED
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEARCH KEYS</h2>
        <div class="sectioncontent">
<p>The following search keys from the specification of IMAP version 4 revision 1 (see: RFC 3501, section 6.4.4) are supported:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ALL</strong></p>
  </dt>
  <dd>
    <p>Matches all messages.</p>
  </dd>
  <dt>
    <p><strong>ANSWERED</strong></p>
  </dt>
  <dd>
    <p>Matches messages with the IMAP flag \(rsAnswered set.</p>
  </dd>
  <dt>
    <p><strong>BCC</strong><em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which contain <em>pattern</em> in the BCC field of the message&apos;s IMAP envelope structure.</p>
  </dd>
  <dt>
    <p><strong>BEFORE</strong><em></em><strong>date</strong><em>specification</em></p>
  </dt>
  <dd>
    <p>Matches messages with an internal date before <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><strong>BODY</strong><em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which contain <em>pattern</em> in the body part.</p>
  </dd>
  <dt>
    <p><strong>CC</strong><em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which contain <em>pattern</em> in the CC field of the message&apos;s IMAP envelope structure.</p>
  </dd>
  <dt>
    <p><strong>DELETED</strong></p>
  </dt>
  <dd>
    <p>Matches messages with the IMAP flag \(rsDeleted set.</p>
  </dd>
  <dt>
    <p><strong>DRAFT</strong></p>
  </dt>
  <dd>
    <p>Matches messages with the IMAP flag \(rsDraft set.</p>
  </dd>
  <dt>
    <p><strong>FLAGGED</strong></p>
  </dt>
  <dd>
    <p>Matches messages with the IMAP flag \(rsFlagged set.</p>
  </dd>
  <dt>
    <p><strong>FROM</strong><em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which contain <em>pattern</em> in the FROM field of the message&apos;s IMAP envelope structure.</p>
  </dd>
  <dt>
    <p><strong>HEADER</strong> <em>field</em> <em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which either have the named header <em>field</em>, when empty <em>pattern</em> was given. Or messages, where the given header <em>field</em>&apos;s value contains the specified <em>pattern</em>.</p>
  </dd>
  <dt>
    <p><strong>KEYWORD</strong><em>keyword</em></p>
  </dt>
  <dd>
    <p>Matches messages with the given IMAP <em>keyword</em> (e.g. \(DoForwarded) flag set.</p>
  </dd>
  <dt>
    <p><strong>LARGER</strong><em>size</em></p>
  </dt>
  <dd>
    <p>Matches messages that are larger than the specified <em>size</em>.</p>
  </dd>
  <dt>
    <p><strong>MAILBOX</strong><em>name</em></p>
  </dt>
  <dd>
    <p>Matches messages in the mailbox with the specified <em>name</em>.</p>
  </dd>
  <dt>
    <p><strong>MAILBOX-GUID</strong><em>guid</em></p>
  </dt>
  <dd>
    <p>Matches messages in the mailbox with the specified <em>guid</em>.</p>
  </dd>
  <dt>
    <p><strong>NEW</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which have the IMAP flag \(rsRecent set <strong>but not</strong> the IMAP flag \(rsSeen.</p>
  </dd>
  <dt>
    <p><strong>NOT</strong><em>search</em><strong>key</strong></p>
  </dt>
  <dd>
    <p>Inverse matching - matches massages, where the search doesn&apos;t match the specified <em>search&nbsp;key</em> or its value.</p>
  </dd>
  <dt>
    <p><strong>OLD</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which do not have the IMAP flag \(rsRecent set.</p>
  </dd>
  <dt>
    <p><strong>ON</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages whose internal date matches the given <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><em>search</em><strong>key</strong><em>OR</em><strong>search</strong><em>key</em></p>
  </dt>
  <dd>
    <p>Matches messages where one of the OR-ed search keys matches.</p><p>Note: IMAP4rev1 uses the syntax: <strong>OR</strong><em>search</em><strong>key</strong><em>search</em><strong>key</strong></p>
  </dd>
  <dt>
    <p><strong>RECENT</strong></p>
  </dt>
  <dd>
    <p>Matches messages with the IMAP flag \(rsRecent set.</p>
  </dd>
  <dt>
    <p><strong>SEEN</strong></p>
  </dt>
  <dd>
    <p>Matches messages with the IMAP flag \(rsSeen set.</p>
  </dd>
  <dt>
    <p><strong>SENTBEFORE</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages with a Date: header before <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><strong>SENTON</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages with a Date: header matching the given <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><strong>SENTSINCE</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages with a Date: header matching or after the given <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><strong>SINCE</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages whose internal date is within or after the given <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><strong>SMALLER</strong><em>size</em></p>
  </dt>
  <dd>
    <p>Matches messages with a size smaller than the given <em>size</em>.</p>
  </dd>
  <dt>
    <p><strong>SUBJECT</strong><em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which contain <em>pattern</em> in the SUBJECT field of the message&apos;s IMAP envelope structure.</p>
  </dd>
  <dt>
    <p><strong>TEXT</strong><em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which contain <em>pattern</em> in the message body.</p>
  </dd>
  <dt>
    <p><strong>TO</strong><em>pattern</em></p>
  </dt>
  <dd>
    <p>Matches messages, which contain <em>pattern</em> in the TO field of the message&apos;s IMAP envelope structure.</p>
  </dd>
  <dt>
    <p><strong>UID</strong><em>sequence</em></p>
  </dt>
  <dd>
    <p>Matches messages with the given UID(s). A <em>sequence</em> may be a single UID. Can be a sequence range, written as <em>from</em>:<em>to</em>, e.g.<strong>100</strong>:<strong>125</strong>. As comma separated list of UIDs, e.g. <strong>11,50,4</strong>. It&apos;s also possible to combine multiple sequences, e.g. <strong>1,3,5,7,10:20</strong>.</p>
  </dd>
  <dt>
    <p><strong>UNANSWERED</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which do not have the IMAP flag \(rsAnswered set.</p>
  </dd>
  <dt>
    <p><strong>UNDELETED</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which do not have the IMAP flag \(rsDeleted set.</p>
  </dd>
  <dt>
    <p><strong>UNDRAFT</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which do not have the IMAP flag \(rsDraft set.</p>
  </dd>
  <dt>
    <p><strong>UNFLAGGED</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which do not have the IMAP flag \(rsFlagged set.</p>
  </dd>
  <dt>
    <p><strong>UNKEYWORD</strong><em>keyword</em></p>
  </dt>
  <dd>
    <p>Matches messages, which do not have the given IMAP <em>keyword</em> flag set</p>
  </dd>
  <dt>
    <p><strong>UNSEEN</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which do not have the IMAP flag \(rsSeen set.</p>
  </dd>

</dl>
<h3>DOVEADM SEARCH KEYS</h3>
<p>Additional search keys, provided by <a href="../man1/doveadm.1.html"><strong>doveadm</strong>(1)</a>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>SAVEDBEFORE</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages, which were saved before <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><strong>SAVEDON</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages whose save date matches the given <em>date</em>specification<em>.</em></p>
  </dd>
  <dt>
    <p><strong>SAVEDSINCE</strong><em>date</em><strong>specification</strong></p>
  </dt>
  <dd>
    <p>Matches messages with a save date matching or after the given <em>date</em>specification<em>.</em></p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATE SPECIFICATION</h2>
        <div class="sectioncontent">
<p><a href="../man1/doveadm.1.html"><strong>doveadm</strong>(1)</a> supports a few additional <em>date specification</em> formats. They can be used anywhere, where a <em>date specification</em> value is obligatory.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>day</em><strong>-</strong><em>month</em><strong>-</strong><em>year</em></p>
  </dt>
  <dd>
    <p>Default IMAP4rev1 date format.</p><p><em>day</em>, the day of month: <strong>1</strong>-<strong>31</strong>.</p><p><em>month</em>, the abbreviated month name: <strong>Jan</strong>, <strong>Feb</strong>, <strong>Mar</strong>, <strong>Apr</strong>, <strong>May</strong>, <strong>Jun</strong>, <strong>Jul</strong>, <strong>Aug</strong>, <strong>Sep</strong>, <strong>Oct</strong>, <strong>Nov</strong><strong>or</strong> <strong>Dec</strong>.</p><p><em>year</em>, four digits of year, e.g. <strong>2007</strong>.</p><p>For example the &quot;13th of April 2007&quot; will be represented as <strong>13-Apr-2007</strong>.</p>
  </dd>
  <dt>
    <p><em>interval</em></p>
  </dt>
  <dd>
    <p>Combination of a positive integer <em>number</em> and a <em>time</em>unit<em>.</em></p><p>Available <em>time&nbsp;units</em> are: <strong>weeks</strong> (abbr: <strong>w</strong>), <strong>days</strong> (abbr: <strong>d</strong>), <strong>hours</strong> (abbr: <strong>h</strong>), <strong>mins</strong> (abbr: <strong>m</strong>) and <strong>secs</strong> (abbr: <strong>s</strong>).</p><p>To match messages from last week, you may specify for example: <strong>since</strong>1w<strong>,</strong> <strong>since</strong>1weeks<strong></strong>or <strong>since</strong>7days<strong>.</strong></p>
  </dd>
  <dt>
    <p><em>Unix timestamp</em></p>
  </dt>
  <dd>
    <p>A 10 digit Unix timestamp, seconds since the 1st of January 1970, 00:00:00 UTC. For example the &quot;13th of April 2007&quot; will be represented as <strong>1176418800</strong>.</p>
  </dd>
  <dt>
    <p><em>YYYY-MM-DD</em></p>
  </dt>
  <dd>
    <p>Extended ISO-8601 calendar date format. For example the &quot;13th of April 2007&quot; will be represented as <strong>2007-04-13</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIZE</h2>
        <div class="sectioncontent">
<p><a href="../man1/doveadm.1.html"><strong>doveadm</strong>(1)</a> provides also an additional <em>size</em> representation format. The following formats can be used anywhere, where a <em>size</em> value is obligatory.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>octets</em></p>
  </dt>
  <dd>
    <p>The message size in octets, as specified in the IMAP4rev1 specification.</p>
  </dd>
  <dt>
    <p><em>size</em></p>
  </dt>
  <dd>
    <p>The message size in <strong>B</strong><strong>(byte),</strong> <strong>k</strong><strong>(kilobyte),</strong> <strong>M</strong><strong>(megabyte),</strong> <strong>G</strong><strong>(gigabyte)</strong>or <strong>T</strong><strong>(terabyte).</strong></p><p>To match messages, bigger than 1 megabyte, you may specify for example: <strong>larger</strong>1M<strong></strong>or <strong>larger</strong>1024k<strong>.</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO doveadm-search-query&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/doveadm.1.html"><strong>doveadm</strong>(1)</a>, <a href="../man1/doveadm-search.1.html"><strong>doveadm-search</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ditroff.7.html"><span aria-hidden="true">&larr;</span> ditroff.7: Classical device independent roff</a></li>
   <li class="next"><a href="dovecot-antispam.7.html">dovecot-antispam.7: The dovecot antispam plugin. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
