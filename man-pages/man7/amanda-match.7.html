<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amanda-match: Common amanda match expression</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Common amanda match expression">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amanda-match (7) manual">
  <meta name="twitter:description" content="Common amanda match expression">
  <meta name="twitter:image" content="https://www.carta.tech/images/amanda-common-amanda-match-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/amanda-match.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amanda-match (7) manual" />
  <meta property="og:description" content="Common amanda match expression" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/amanda-common-amanda-match-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amanda-match<small> (7)</small></h1>
        <p class="lead">Common amanda match expression</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amanda-match.7.html">
      <span itemprop="name">amanda-match: Common amanda match expression</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/amanda-common/">
      <span itemprop="name">amanda-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/amanda-match.7.html">
      <span itemprop="name">amanda-match: Common amanda match expression</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Several Amanda commands allow the user to specify dumps using "match expressions". This manual page describes the syntax of these expressions.</p><p>In some places, only certain match expressions are allowed. However, several commands take a dump specification ("dumpspec") consisting of a sequence of several expressions intended to match particular dumps in the catalog. Other applications take a DLE specification which indicates a set of DLEs to be operated on. These formats are described below.</p><p>An expression can be disabled be preceding it with the &apos;=&apos; character, in that case, an exact match is used.</p><p>Many program have an &apos;--exact-match&apos; argument that disable expression and exact match are used.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOST & DISK EXPRESSIONS</h2>
        <div class="sectioncontent">
<p>The hosts and disks match by word. Each word is a glob expression, and words are separated by the character &apos;.&apos; for host expressions and &apos;/&apos; for disk expressions. You can anchor the expression on the left with a &apos;^&apos; or on the right with a &apos;$&apos;. The matcher is case insensitive for hosts but case sensitive for disks. A match succeeds if all words in the expression match contiguous words in the host or disk.</p><p>If the disk is a UNC ("&#92;&#92;windows&#92;share") then all &apos;&#92;&apos; are converted to &apos;/&apos; before the match. Using &apos;&#92;&apos; is complicated because of the extra quoting required by the shell and amanda. It&apos;s easier to use &apos;/&apos; because it requires less quoting ("//windows/share")</p><p>The special characters follow. Note that the shell interprets some of these characters, so when used on the command line, they must be escaped appropriately for the shell.</p><p>dot (.)</p><p>word separator for a host</p><p>/</p><p>word separator for a disk</p><p>&#92;</p><p>word separator for a UNC disk</p><p>^</p><p>anchor at left of word</p><p>$</p><p>anchor at right of word</p><p>?</p><p>match exactly one character except the separator</p><p>*</p><p>match zero or more characters except the separator</p><p>**</p><p>match zero or more characters including the separator</p><p>[...]</p><p>match exactly one of the characters enclosed by the brackets.</p><p>[!...]</p><p>match exactly one character that is not enclosed by the brackets.</p><h3>Examples</h3>
<p>hosta</p><p>Will match hosta, foo.hosta.org, and hoSTA.dOMAIna.ORG but not hostb.</p><p>host</p><p>Will match host but not hosta.</p><p>host?</p><p>Will match hosta and hostb, but not host or hostabc.</p><p>ho*na</p><p>Will match hoina but not ho.aina.org.</p><p>ho**na</p><p>Will match hoina and ho.aina.org.</p><p>^hosta</p><p>Will match hosta but not foo.hosta.org.</p><p>sda*</p><p>Will match /dev/sda1 and /dev/sda12.</p><p>/opt</p><p>Will match the disk opt but not the host opt.</p><p>(note dots:) .opt.</p><p>Will match the host opt but not the disk opt.</p><p>/</p><p>Will match the disk / but no other disk.</p><p>/usr</p><p>Will match the disks /usr and /usr/local.</p><p>/usr$</p><p>Will match the disks /usr but not /usr/local.</p><p>share</p><p>Will match the disks &#92;&#92;windows1&#92;share and &#92;&#92;windows2&#92;share.</p><p>share*</p><p>Will match the disks &#92;&#92;windows&#92;share1 and &#92;&#92;windows&#92;share2.</p><p>//windows/share</p><p>Will match the disk &#92;&#92;windows&#92;share.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATESTAMP EXPRESSIONS</h2>
        <div class="sectioncontent">
<p>A datestamp expression is either a prefix of the datestamp, or a range expression (separated by &apos;-&apos;) matching several prefixes. A leading ^ is removed, while arailing $ will force an exact match.</p><h3>Examples</h3>
<p>20001212-14</p><p>match all dates beginning with 20001212, 20001213 or 20001214</p><p>20001212-4</p><p>same as previous</p><p>20001212-24</p><p>match all dates between 20001212 and 20001224</p><p>2000121</p><p>match all dates that start with 2000121 (20001210-20001219)</p><p>2</p><p>match all dates that start with 2 (20000101-29991231)</p><p>2000-10</p><p>match all dates between 20000101-20101231</p><p>200010$</p><p>match only 200010</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LEVEL EXPRESSIONS</h2>
        <div class="sectioncontent">
<p>Level expressions are either prefix matches e.g., "1", which matches "1", "10", and "123", absolute matches e.g., "3$" which only matches "3", or a range e.g., "3-5" which only matches levels 3, 4, and 5.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DUMP SPECIFICATIONS</h2>
        <div class="sectioncontent">
<p>A dump specification is used to select one or more dumps from the catalog. It consists of a sequence of match expressions in the order host, disk, datestamp, and level. Note that some commands do not take a level argument, out of historical accident. Note, too, that the datestamp expression matches the time that the dump was made on the Amanda client, rather than the date it was moved to tape.</p><h3>Examples</h3>
<p>amtool MyConfig ^vpdesktop$</p><p>all dumps of host "vpdesktop"</p><p>amtool MyConfig &apos;*&apos; /var/stage</p><p>All dumps of /var/stage on any host</p><p>amtool MyConfig www1 /var/www &apos;*&apos; www2 /var/www &apos;*&apos;</p><p>All dumps of /var/www on www1 and www2 (assuming amtool does not require a level argument)</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DLE SPECIFICATIONS</h2>
        <div class="sectioncontent">
<p>A DLE specification is used to select one or more DLEs. It consists of a sequence of match expressions. The first must be a host, and subsequent expressions will be experimentally matched against both hosts and disks in the <a href="../man5/disklist.5.html"><strong>disklist</strong>(5)</a>, preferring hosts. This dynamic matching process can lead to odd behavior in extreme cases (e.g., where a disk and a host have the same name), but for most uses does exactly what is expected.</p><h3>Examples</h3>
<p>amtool MyConfig vpdesktop /home/anderson</p><p>/home/anderson on host vpdesktop</p><p>amtool MyConfig &apos;*&apos; ^/etc &apos;*&apos; ^/var</p><p>All DLEs matching ^/var or ^/etc on any host</p><p>amtool MyConfig web1 www web2 www</p><p>If no host matches "www", all DLEs matching www on hosts web1 and web2. If a host matches "www", then all DLEs on hosts www, web1, and web2.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amanda-match&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>, <a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>, <a href="../man8/amfetchdump.8.html"><strong>amfetchdump</strong>(8)</a>, <a href="../man8/amrestore.8.html"><strong>amrestore</strong>(8)</a>, <a href="../man8/amadmin.8.html"><strong>amadmin</strong>(8)</a>, <a href="../man8/amvault.8.html"><strong>amvault</strong>(8)</a>, <a href="../man8/amflush.8.html"><strong>amflush</strong>(8)</a>, <a href="../man8/amdump.8.html"><strong>amdump</strong>(8)</a></p><p>The Amanda Wiki: : http://wiki.zmanda.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Dustin J. Mitchell</strong> &lt;dustin@zmanda.com&gt;</p><p>Zmanda, Inc. (http://www.zmanda.com)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amanda-interactivity.7.html"><span aria-hidden="true">&larr;</span> amanda-interactivity.7: Configuring interactivity with amanda amanda</a></li>
   <li class="next"><a href="amanda-scripts.7.html">amanda-scripts.7: Configuring and using the script api <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
