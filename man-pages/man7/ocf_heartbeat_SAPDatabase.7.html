<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ocf_heartbeat_SAPDatabase: Manages a sap database instance as an ha resource.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Manages a sap database instance as an ha resource.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ocf_heartbeat_SAPDatabase (7) manual">
  <meta name="twitter:description" content="Manages a sap database instance as an ha resource.">
  <meta name="twitter:image" content="https://www.carta.tech/images/resource-agents-ocf_heartbeat_SAPDatabase-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/ocf_heartbeat_SAPDatabase.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ocf_heartbeat_SAPDatabase (7) manual" />
  <meta property="og:description" content="Manages a sap database instance as an ha resource." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/resource-agents-ocf_heartbeat_SAPDatabase-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ocf_heartbeat_SAPDatabase<small> (7)</small></h1>
        <p class="lead">Manages a sap database instance as an ha resource.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/ocf_heartbeat_SAPDatabase.7.html">
      <span itemprop="name">ocf_heartbeat_SAPDatabase: Manages a sap database instance as an ha resource.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/resource-agents/">
      <span itemprop="name">resource-agents</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/ocf_heartbeat_SAPDatabase.7.html">
      <span itemprop="name">ocf_heartbeat_SAPDatabase: Manages a sap database instance as an ha resource.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>SAPDatabase</strong> [start | stop | status | monitor | meta-data | validate-all]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Resource script for SAP databases. It manages a SAP database of any type as an HA resource.</p><p>The purpose of the resource agent is to start, stop and monitor the database instance of a SAP system. Together with the RDBMS system it will also control the related network service for the database. Like the Oracle Listener and the xserver of MaxDB. The resource agent expects a standard SAP installation of the database and therefore needs less parameters to configure. The resource agent supports the following databases:</p><p>- Oracle 10.2 and 11.2</p><p>- DB/2 UDB for Windows and Unix 9.x</p><p>- SAP-DB / MaxDB 7.x</p><p>- Sybase ASE 15.7</p><p>- SAP HANA Database since 1.00 - with SAP node 1625203 (http://sdn.sap.com)</p><p>In fact this resource agent does not run any database commands directly. It uses the SAP standard process SAPHostAgent to control the database. The SAPHostAgent must be installed on each cluster node locally. It will not work, if you try to run the SAPHostAgent also as a HA resource. Please follow SAP note 1031096 for the installation of SAPHostAgent. The required minimum version of SAPHostAgent is: Release: 7.20 Patch Number: 90 or compile time after: Dec 17 2011</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED PARAMETERS</h2>
        <div class="sectioncontent">
<p><strong>SID</strong></p><p>The unique database system identifier. e.g. P01</p><p>(unique, required, string, no default)</p><p><strong>DIR_EXECUTABLE</strong></p><p>The full qualified path where to find saphostexec and saphostctrl. Usually you can leave this empty. Then the default: /usr/sap/hostctrl/exe is used.</p><p>(optional, string, default "/usr/sap/hostctrl/exe")</p><p><strong>DBTYPE</strong></p><p>The name of the database vendor you use. Set either: ADA, DB6, ORA, SYB, HDB</p><p>(required, string, no default)</p><p><strong>DBINSTANCE</strong></p><p>Must be used for special database implementations, when database instance name is not equal to the SID (e.g. Oracle DataGuard)</p><p>(unique, optional, string, no default)</p><p><strong>NETSERVICENAME</strong></p><p>Deprecated - do not use anymore. This parameter will be deleted in one of the next releases.</p><p>(optional, string, no default)</p><p><strong>DBJ2EE_ONLY</strong></p><p>Deprecated - do not use anymore. This parameter will be deleted in one of the next releases.</p><p>(optional, boolean, default false)</p><p><strong>JAVA_HOME</strong></p><p>Deprecated - do not use anymore. This parameter will be deleted in one of the next releases.</p><p>(optional, string, no default)</p><p><strong>STRICT_MONITORING</strong></p><p>This controls how the resource agent monitors the database. If set to true, it will use &apos;saphostctrl -function GetDatabaseStatus&apos; to test the database state. If set to false, only operating system processes are monitored.</p><p>(optional, boolean, default false)</p><p><strong>AUTOMATIC_RECOVER</strong></p><p>If you set this to true, &apos;saphostctrl -function StartDatabase&apos; will always be called with the &apos;-force&apos; option.</p><p>(optional, boolean, default false)</p><p><strong>MONITOR_SERVICES</strong></p><p>Defines which services are monitored by the SAPDatabase resource agent, if STRICT_MONITORING is set to true. Service names must correspond with the output of the &apos;saphostctrl -function GetDatabaseStatus&apos; command.</p><p>(optional, string, default "Instance|Database|Listener")</p><p><strong>DIR_BOOTSTRAP</strong></p><p>Deprecated - do not use anymore. This parameter will be deleted in one of the next releases.</p><p>(optional, string, no default)</p><p><strong>DIR_SECSTORE</strong></p><p>Deprecated - do not use anymore. This parameter will be deleted in one of the next releases.</p><p>(optional, string, no default)</p><p><strong>DB_JARS</strong></p><p>Deprecated - do not use anymore. This parameter will be deleted in one of the next releases.</p><p>(optional, string, no default)</p><p><strong>PRE_START_USEREXIT</strong></p><p>The full qualified path where to find a script or program which should be executed before this resource gets started.</p><p>(optional, string, no default)</p><p><strong>POST_START_USEREXIT</strong></p><p>The full qualified path where to find a script or program which should be executed after this resource got started.</p><p>(optional, string, no default)</p><p><strong>PRE_STOP_USEREXIT</strong></p><p>The full qualified path where to find a script or program which should be executed before this resource gets stopped.</p><p>(optional, string, no default)</p><p><strong>POST_STOP_USEREXIT</strong></p><p>The full qualified path where to find a script or program which should be executed after this resource got stopped.</p><p>(optional, string, no default)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED ACTIONS</h2>
        <div class="sectioncontent">
<p>This resource agent supports the following actions (operations):</p><p><strong>start</strong></p><p>Starts the resource. Suggested minimum timeout: 1800.</p><p><strong>stop</strong></p><p>Stops the resource. Suggested minimum timeout: 1800.</p><p><strong>status</strong></p><p>Performs a status check. Suggested minimum timeout: 60.</p><p><strong>monitor</strong></p><p>Performs a detailed status check. Suggested minimum timeout: 60. Suggested interval: 120.</p><p><strong>validate-all</strong></p><p>Performs a validation of the resource configuration. Suggested minimum timeout: 5.</p><p><strong>meta-data</strong></p><p>Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5.</p><p><strong>methods</strong></p><p>Suggested minimum timeout: 5.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following is an example configuration for a SAPDatabase resource using the <strong>crm</strong>(8) shell:</p>
<pre>
primitive p_SAPDatabase ocf:heartbeat:SAPDatabase &#92;
  params &#92;
    SID=<em>string</em> &#92;
    DBTYPE=<em>string</em> &#92;
  op monitor depth="0" timeout="60" interval="120"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ocf_heartbeat_SAPDatabase&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>http://www.linux-ha.org/wiki/SAPDatabase_(resource_agent)</strong>\m[]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Linux-HA contributors (see the resource agent source for information about individual authors)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ocf_heartbeat_Route.7.html"><span aria-hidden="true">&larr;</span> ocf_heartbeat_Route.7: Manages network routes</a></li>
   <li class="next"><a href="ocf_heartbeat_SAPInstance.7.html">ocf_heartbeat_SAPInstance.7: Manages a sap instance as an ha resource. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
