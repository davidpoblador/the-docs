<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gammu-smsd-sql: Gammu-smsd(1) backend using sql abstraction layer to use any supported database as a message storage</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gammu-smsd(1) backend using sql abstraction layer to use any supported database as a message storage">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gammu-smsd-sql (7) manual">
  <meta name="twitter:description" content="Gammu-smsd(1) backend using sql abstraction layer to use any supported database as a message storage">
  <meta name="twitter:image" content="https://www.carta.tech/images/gammu-smsd-gammu-smsd-sql-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/gammu-smsd-sql.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gammu-smsd-sql (7) manual" />
  <meta property="og:description" content="Gammu-smsd(1) backend using sql abstraction layer to use any supported database as a message storage" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gammu-smsd-gammu-smsd-sql-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gammu-smsd-sql<small> (7)</small></h1>
        <p class="lead">Gammu-smsd(1) backend using sql abstraction layer to use any supported database as a message storage</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/gammu-smsd-sql.7.html">
      <span itemprop="name">gammu-smsd-sql: Gammu-smsd(1) backend using sql abstraction layer to use any supported database as a message storage</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gammu-smsd/">
      <span itemprop="name">gammu-smsd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/gammu-smsd-sql.7.html">
      <span itemprop="name">gammu-smsd-sql: Gammu-smsd(1) backend using sql abstraction layer to use any supported database as a message storage</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>SQL service stores all its data in database. It can use one of these SQL backends (configuration option <strong>Driver</strong> in smsd section):</p><ul>
<li><p><strong>native_mysql</strong> for <em>gammu-smsd-mysql</em></p></li><li><p><strong>native_pgsql</strong> for <em>gammu-smsd-pgsql</em></p></li><li><p><strong>odbc</strong> for <em>gammu-smsd-odbc</em></p></li><li></li>
</ul>
<dl class='dl-vertical'>
  <dt>
    <p><strong>drivers supported by DBI for </strong><em>gammu-smsd-dbi</em><strong>, which include:</strong></p>
  </dt>
  <dd>
    <ul>
<li><p><strong>sqlite3</strong> - for SQLite 3</p></li><li><p><strong>mysql</strong> - for MySQL</p></li><li><p><strong>pgsql</strong> - for PostgeSQL</p></li><li><p><strong>freetds</strong> - for MS SQL Server or Sybase</p></li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SQL CONNECTION PARAMETERS</h2>
        <div class="sectioncontent">
<p>Common for all backends:</p>
<dl class='dl-vertical'>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>User</strong> - user connecting to database</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>Password</strong> - password for connecting to database</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>Host</strong> - database host or data source name</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>Database</strong> - database name</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>Driver</strong> - <strong>native_mysql</strong>, <strong>native_pgsql</strong>, <strong>odbc</strong> or DBI one</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>SQL</strong> - SQL dialect to use</p><p>Specific for DBI:</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>DriversPath</strong> - path to DBI drivers</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>DBDir</strong> - sqlite/sqlite3 directory with database</p>
  </dd>
  <dt>
    See also
  </dt>
  <dd>
    <p>The variables are fully described in <em>gammurc</em> documentation.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SQL QUERIES</h2>
        <div class="sectioncontent">
<p>Almost all queries are configurable. You can edit them in <strong>[sql]</strong> section. There are several variables used in SQL queries. We can separate them into three groups:</p><ul>
<li><p>phone specific, which can be used in every query, see <em>Phone Specific Parameters</em></p></li><li><p>SMS specific, which can be used in queries which works with SMS messages, see <em>SMS Specific Parameters</em></p></li><li><p>query specific, which are numeric and are specific only for given query (or set of queries), see <em>Configurable queries</em></p></li>
</ul><h3>Phone Specific Parameters</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>%I</strong><strong></strong></p>
  </dt>
  <dd>
    <p>IMEI of phone</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%P</strong><strong></strong></p>
  </dt>
  <dd>
    <p>PHONE ID (hostname)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%N</strong><strong></strong></p>
  </dt>
  <dd>
    <p>client name (eg. Gammu 1.12.3)</p>
  </dd>

</dl>

<h3>SMS Specific Parameters</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>%R</strong><strong></strong></p>
  </dt>
  <dd>
    <p>remote number [1]</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%C</strong><strong></strong></p>
  </dt>
  <dd>
    <p>delivery datetime</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%e</strong><strong></strong></p>
  </dt>
  <dd>
    <p>delivery status on receiving or status error on sending</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%t</strong><strong></strong></p>
  </dt>
  <dd>
    <p>message reference</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%d</strong><strong></strong></p>
  </dt>
  <dd>
    <p>receiving datetime for received sms</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%E</strong><strong></strong></p>
  </dt>
  <dd>
    <p>encoded text of SMS</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%c</strong><strong></strong></p>
  </dt>
  <dd>
    <p>SMS coding (ie 8bit or UnicodeNoCompression)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%F</strong><strong></strong></p>
  </dt>
  <dd>
    <p>sms centre number</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%u</strong><strong></strong></p>
  </dt>
  <dd>
    <p>UDH header</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%x</strong><strong></strong></p>
  </dt>
  <dd>
    <p>class</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%T</strong><strong></strong></p>
  </dt>
  <dd>
    <p>decoded SMS text</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%A</strong><strong></strong></p>
  </dt>
  <dd>
    <p>CreatorID of SMS (sending sms)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%V</strong><strong></strong></p>
  </dt>
  <dd>
    <p>relative validity</p>
<dl class='dl-vertical'>
  <dt>
    [1]
  </dt>
  <dd>
    <p>Sender number for received messages (insert to inbox or delivery notifications), destination otherwise.</p>
  </dd>

</dl>

  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURABLE QUERIES</h2>
        <div class="sectioncontent">
<p>All configurable queries can be set in <strong>[sql]</strong> section. Sequence of rows in selects are mandatory.</p><p>All default queries noted here are noted for MySQL. Actual time and time addition are selected for default queries during initialization.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>delete_phone</strong></p>
  </dt>
  <dd>
    <p>Deletes phone from database.</p><p>Default value:</p>
<pre>
DELETE FROM phones WHERE IMEI = %I
</pre>

  </dd>
  <dt>
    <p><strong>insert_phone</strong></p>
  </dt>
  <dd>
    <p>Inserts phone to database.</p><p>Default value:</p>
<pre>
INSERT INTO phones (IMEI, ID, Send, Receive, InsertIntoDB, TimeOut, Client, Battery, Signal)
VALUES (%I, %P, %1, %2, NOW(), (NOW() + INTERVAL 10 SECOND) + 0, %N, -1, -1)
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>enable send (yes or no) - configuration option Send</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>enable receive (yes or no)  - configuration option Receive</p>
  </dd>
  <dt>
    <p><strong>save_inbox_sms_select</strong></p>
  </dt>
  <dd>
    <p>Select message for update delivery status.</p><p>Default value:</p>
<pre>
SELECT ID, Status, SendingDateTime, DeliveryDateTime, SMSCNumber FROM sentitems
WHERE DeliveryDateTime IS NULL AND SenderID = %P AND TPMR = %t AND DestinationNumber = %R
</pre>

  </dd>
  <dt>
    <p><strong>save_inbox_sms_update_delivered</strong></p>
  </dt>
  <dd>
    <p>Update message delivery status if message was delivered.</p><p>Default value:</p>
<pre>
UPDATE sentitems SET DeliveryDateTime = %C, Status = %1, StatusError = %e WHERE ID = %2 AND TPMR = %t
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>delivery status returned by GSM network</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>save_inbox_sms_update</strong></p>
  </dt>
  <dd>
    <p>Update message if there is an delivery error.</p><p>Default value:</p>
<pre>
UPDATE sentitems SET Status = %1, StatusError = %e WHERE ID = %2 AND TPMR = %t
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>delivery status returned by GSM network</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>save_inbox_sms_insert</strong></p>
  </dt>
  <dd>
    <p>Insert received message.</p><p>Default value:</p>
<pre>
INSERT INTO inbox (ReceivingDateTime, Text, SenderNumber, Coding, SMSCNumber, UDH,
Class, TextDecoded, RecipientID) VALUES (%d, %E, %R, %c, %F, %u, %x, %T, %P)
</pre>

  </dd>
  <dt>
    <p><strong>update_received</strong></p>
  </dt>
  <dd>
    <p>Update statistics after receiving message.</p><p>Default value:</p>
<pre>
UPDATE phones SET Received = Received + 1 WHERE IMEI = %I
</pre>

  </dd>
  <dt>
    <p><strong>refresh_send_status</strong></p>
  </dt>
  <dd>
    <p>Update messages in outbox.</p><p>Default value:</p>
<pre>
UPDATE outbox SET SendingTimeOut = (NOW() + INTERVAL 60 SECOND) + 0
WHERE ID = %1 AND (SendingTimeOut &lt; NOW() OR SendingTimeOut IS NULL)
</pre>
<p>The default query calculates sending timeout based on <strong>LoopSleep</strong> value.</p><p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>find_outbox_sms_id</strong></p>
  </dt>
  <dd>
    <p>Find sms messages for sending.</p><p>Default value:</p>
<pre>
SELECT ID, InsertIntoDB, SendingDateTime, SenderID FROM outbox
WHERE SendingDateTime &lt; NOW() AND SendingTimeOut &lt;  NOW() AND
SendBefore &gt;= CURTIME() AND SendAfter &lt;= CURTIME() AND
( SenderID is NULL OR SenderID = &apos;&apos; OR SenderID = %P ) ORDER BY InsertIntoDB ASC LIMIT %1
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>limit of sms messages sended in one walk in loop</p>
  </dd>
  <dt>
    <p><strong>find_outbox_body</strong></p>
  </dt>
  <dd>
    <p>Select body of message.</p><p>Default value:</p>
<pre>
SELECT Text, Coding, UDH, Class, TextDecoded, ID, DestinationNumber, MultiPart,
RelativeValidity, DeliveryReport, CreatorID FROM outbox WHERE ID=%1
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>find_outbox_multipart</strong></p>
  </dt>
  <dd>
    <p>Select remaining parts of sms message.</p><p>Default value:</p>
<pre>
SELECT Text, Coding, UDH, Class, TextDecoded, ID, SequencePosition
FROM outbox_multipart WHERE ID=%1 AND SequencePosition=%2
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Number of multipart message</p>
  </dd>
  <dt>
    <p><strong>delete_outbox</strong></p>
  </dt>
  <dd>
    <p>Remove messages from outbox after threir successful send.</p><p>Default value:</p>
<pre>
DELETE FROM outbox WHERE ID=%1
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>delete_outbox_multipart</strong></p>
  </dt>
  <dd>
    <p>Remove messages from outbox_multipart after threir successful send.</p><p>Default value:</p>
<pre>
DELETE FROM outbox_multipart WHERE ID=%1
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>create_outbox</strong></p>
  </dt>
  <dd>
    <p>Create message (insert to outbox).</p><p>Default value:</p>
<pre>
INSERT INTO outbox (CreatorID, SenderID, DeliveryReport, MultiPart,
InsertIntoDB, Text, DestinationNumber, RelativeValidity, Coding, UDH, Class,
TextDecoded) VALUES (%1, %P, %2, %3, NOW(), %E, %R, %V, %c, %u, %x, %T)
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>creator of message</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>delivery status report - yes/default</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%3</strong><strong></strong></p>
  </dt>
  <dd>
    <p>multipart - FALSE/TRUE</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%4</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Part (part number)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%5</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>create_outbox_multipart</strong></p>
  </dt>
  <dd>
    <p>Create message remaining parts.</p><p>Default value:</p>
<pre>
INSERT INTO outbox_multipart (SequencePosition, Text, Coding, UDH, Class,
TextDecoded, ID) VALUES (%4, %E, %c, %u, %x, %T, %5)
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>creator of message</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>delivery status report - yes/default</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%3</strong><strong></strong></p>
  </dt>
  <dd>
    <p>multipart - FALSE/TRUE</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%4</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Part (part number)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%5</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of message</p>
  </dd>
  <dt>
    <p><strong>add_sent_info</strong></p>
  </dt>
  <dd>
    <p>Insert to sentitems.</p><p>Default value:</p>
<pre>
INSERT INTO sentitems (CreatorID,ID,SequencePosition,Status,SendingDateTime,
SMSCNumber, TPMR, SenderID,Text,DestinationNumber,Coding,UDH,Class,TextDecoded,
InsertIntoDB,RelativeValidity)
VALUES (%A, %1, %2, %3, NOW(), %F, %4, %P, %E, %R, %c, %u, %x, %T, %5, %V)
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>ID of sms message</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>part number (for multipart sms)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%3</strong><strong></strong></p>
  </dt>
  <dd>
    <p>message state (SendingError, Error, SendingOK, SendingOKNoReport)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%4</strong><strong></strong></p>
  </dt>
  <dd>
    <p>message reference (TPMR)</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%5</strong><strong></strong></p>
  </dt>
  <dd>
    <p>time when inserted in db</p>
  </dd>
  <dt>
    <p><strong>update_sent</strong></p>
  </dt>
  <dd>
    <p>Update sent statistics after sending message.</p><p>Default value:</p>
<pre>
UPDATE phones SET Sent= Sent + 1 WHERE IMEI = %I
</pre>

  </dd>
  <dt>
    <p><strong>refresh_phone_status</strong></p>
  </dt>
  <dd>
    <p>Update phone status (battery, signal).</p><p>Default value:</p>
<pre>
UPDATE phones SET TimeOut= (NOW() + INTERVAL 10 SECOND) + 0,
Battery = %1, Signal = %2 WHERE IMEI = %I
</pre>
<p>Query specific parameters:</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%1</strong><strong></strong></p>
  </dt>
  <dd>
    <p>battery percent</p>
  </dd>
  <dt>
    <p><strong></strong><strong>%2</strong><strong></strong></p>
  </dt>
  <dd>
    <p>signal percent</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Michal Čihař &lt;michal@cihar.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2009-2012, Michal Čihař &lt;michal@cihar.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gammu-smsd-run.7.html"><span aria-hidden="true">&larr;</span> gammu-smsd-run.7: Documentation for runonreceive directive</a></li>
   <li class="next"><a href="gammu-smsd-tables.7.html">gammu-smsd-tables.7: Description of tables for database backends of gammu-smsd(1)  the backends themselves are described in their sections, this document describes general database structure and required tables.  more sms daemons can share single database. if you do not specify phoneid in their configuration, all are treated equally and you have no guarantee which one sends outgoing message. if you configure phoneid and use it when inserting message to the outbox table (gammu-smsd-inject does this), each sms daemon will have separate outbox queue. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
