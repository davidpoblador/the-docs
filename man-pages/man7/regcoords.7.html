<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>regcoords: Spatial region coordinates</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Spatial region coordinates">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="regcoords (7) manual">
  <meta name="twitter:description" content="Spatial region coordinates">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfuntools-dev-regcoords-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/regcoords.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="regcoords (7) manual" />
  <meta property="og:description" content="Spatial region coordinates" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfuntools-dev-regcoords-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">regcoords<small> (7)</small></h1>
        <p class="lead">Spatial region coordinates</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/regcoords.7.html">
      <span itemprop="name">regcoords: Spatial region coordinates</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfuntools-dev/">
      <span itemprop="name">libfuntools-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/regcoords.7.html">
      <span itemprop="name">regcoords: Spatial region coordinates</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>This document describes the specification of coordinate systems, and the interpretation of coordinate values, for spatial region filtering.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Pixel coordinate systems</strong></p><p>The default coordinate system for regions is \s-1PHYSICAL\s0, which means that region position and size values are taken from the original data. (Note that this is a change from the original \s-1IRAF/PROS\s0 implementation, in which the \s-1IMAGE\s0 coordinate system was the default.) \s-1PHYSICAL\s0 coordinates always refer to pixel positions on the original image (using \s-1IRAF\s0 \s-1LTM\s0 and \s-1LTV\s0 keywords).  With \s-1PHYSICAL\s0 coordinates, if a set of coordinates specifies the position of an object in an original \s-1FITS\s0 file, the same coordinates will specify the same object in any \s-1FITS\s0 derived from the original.  Physical coordinates are invariant with blocking of \s-1FITS\s0 files or taking sections of images, even when a blocked section is written to a new file.</p><p>Thus, although a value in pixels refers, by default, to the \s-1PHYSICAL\s0 coordinate system, you may specify that position values refer to the image coordinate system using the <strong>global</strong> or <strong>local</strong> properties commands:</p>
<pre>
  global coordsys image
  circle 512 512 100
</pre>
<p>The <strong>global</strong> command changes the coordinate system for all regions that follow, while the <strong>local</strong> command changes the coordinate system only for the region immediately following:</p><p>  local coordsys image   circle 512 512 100   circle 1024 1024 200</p><p>This changes the coordinate system only for the region that follows. In the above example, the second region uses the global coordinate system (\s-1PHYSICAL\s0 by default).</p><p><strong>World Coordinate Systems</strong></p><p>If World Coordinate System information is contained in the data file being filtered, it also is possible to define regions using a sky coordinate system. Supported systems include:</p><p>  name                  description   ----                  -----------   PHYSICAL              pixel coords of original file using LTM/LTV   IMAGE                 pixel coords of current file   FK4, B1950            sky coordinate systems   FK5, J2000            sky coordinate systems   GALACTIC              sky coordinate systems   ECLIPTIC              sky coordinate systems   ICRS                  currently same as J2000   LINEAR                linear wcs as defined in file</p><p>In addition, two mosaic coordinate systems have been defined that utilize the (evolving) \s-1IRAF\s0 mosaic keywords:</p><p>  name                  description   ----                  -----------   AMPLIFIER             mosaic coords of original file using ATM/ATV   DETECTOR              mosaic coords of original file using DTM/DTV</p><p>Again, to use one of these coordinate systems, the <strong>global</strong> or <strong>local</strong> properties commands are used:</p><p>  global coordsys galactic</p><p><strong>\s-1WCS\s0 Positions and Sizes</strong></p><p>In addition to pixels, positional values in a WCS-enabled region can be specified using sexagesimal or degrees format:</p><p>  position arguments    description   ------------------    -----------   [num]                 context-dependent (see below)   [num]d                degrees   [num]r                radians   [num]p                physical pixels   [num]i                image pixels   [num]:[num]:[num]     hms for 'odd' position arguments   [num]:[num]:[num]     dms for 'even' position arguments   [num]h[num]m[num]s    explicit hms   [num]d[num]m[num]s    explicit dms</p><p>If ':' is used as sexagesimal separator, the value is considered to be specifying hours/minutes/seconds if it is the first argument of a positional pair, and degrees/minutes/seconds for the second argument of a pair (except for galactic coordinates, which always use degrees):</p><p>  argument      description   -----------   -----------   10:20:30.0    10 hours, 20 minutes, 30 seconds for 1st positional argument                 10 degrees, 20 minutes, 30 seconds for 2nd positional argument   10h20m30.0    10 hours, 20 minutes, 30 seconds   10d20m30.0    10 degrees, 20 minutes, 30 seconds   10.20d        10.2 degrees</p><p>Similarly, the units of size values are defined by the formating character(s) attached to a number:</p><p>  size arguments        description   --------------        -----------   [num]                 context-dependent (see below)   [num]"                arc seconds   [num]'                arc minutes   [num]d                degrees   [num]r                radians   [num]p                physical pixels   [num]i                image pixels</p><p>For example:</p><p>  argument      description   -----------   -----------   10            ten pixels   10'           ten minutes of arc   10"           ten seconds of arc   10d           ten degrees   10p           ten pixels   0.5r          half of a radian</p><p>An example of using sky coordinate systems follows:</p><p>  global coordsys B1950   -box 175.54d 20.01156d 10' 10'   local coordsys J2000   pie 179.57d 22.4d 0 360 n=4 && annulus 179.57d 22.4d 3' 24' n=5</p><p>At the \s-1FK4\s0 1950 coordinates 175.54d \s-1RA\s0, 20.01156d \s-1DEC\s0 exclude a 10 minute by 10 minute box.  Then at the \s-1FK5\s0 2000 coordinates 179.57d \s-1RA\s0 22.4d \s-1DEC\s0 draw a radial profile regions pattern with 4 quadrants and 5 annuli ranging from 3 minutes to 24 minutes in diameter.  In this example, the default coordinate system is overridden by the commands in the regions spec.</p><p>\s-1NB - \s0 The Meaning of Pure Numbers Are Context Sensitive</p><p>When a \*(L"pure number\*(R" (i.e. one without a format directive such as 'd' for 'degrees') is specified as a position or size, its interpretation depends on the context defined by the 'coordsys' keyword. In general, the rule is:</p><p>All pure numbers have implied units corresponding to the current coordinate system.</p><p>If no coordinate system is explicitly specified, the default system is implicitly assumed to be \s-1PHYSICAL\s0.  In practice this means that for \s-1IMAGE\s0 and \s-1PHYSICAL\s0 systems, pure numbers are pixels.  Otherwise, for all systems other than \s-1LINEAR\s0, pure numbers are degrees. For \s-1LINEAR\s0 systems, pure numbers are in the units of the linear system. This rule covers both positions and sizes.</p><p>As a corollary, when a sky-formatted number is used with the \s-1IMAGE\s0 or \s-1PHYSICAL\s0 coordinate system (which includes the default case of no coordsys being specified), the formatted number is assumed to be in the units of the \s-1WCS\s0 contained in the current file. If no sky \s-1WCS\s0 is specified, an error results.</p><p>Examples:</p><p>  circle(512,512,10)   ellipse 202.44382d 47.181656d 0.01d 0.02d</p><p>In the absence of a specified coordinate system, the circle uses the default \s-1PHYSICAL\s0 units of pixels, while the ellipse explicitly uses degrees, presumably to go with the \s-1WCS\s0 in the current file.</p><p> global coordsys=fk5  global color=green font="system 10 normal"  circle 202.44382 47.181656 0.01  circle 202.44382 47.181656 10p  ellipse(512p,512p,10p,15p,20)</p><p>Here, the circles use the \s-1FK5\s0 units of degrees (except for the explicit use of pixels in the second radius), while the ellipse explicitly specifies pixels. The ellipse angle is in degrees.</p><p>Note that Chandra data format appears to use \*(L"coordsys=physical\*(R" implicitly.  Therefore, for most Chandra applications, valid regions can be generated safely by asking ds9 to save/display regions in pixels using the \s-1PHYSICAL\s0 coordsys.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO regcoords&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="regbounds.7.html"><span aria-hidden="true">&larr;</span> regbounds.7: Region boundaries</a></li>
   <li class="next"><a href="regdiff.7.html">regdiff.7: Differences between funtools and iraf regions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
