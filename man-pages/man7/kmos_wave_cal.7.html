<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>kmos_wave_cal: Create a wavelength calibration frame</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a wavelength calibration frame">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="kmos_wave_cal (7) manual">
  <meta name="twitter:description" content="Create a wavelength calibration frame">
  <meta name="twitter:image" content="https://www.carta.tech/images/cpl-plugin-kmos-doc-kmos_wave_cal-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/kmos_wave_cal.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="kmos_wave_cal (7) manual" />
  <meta property="og:description" content="Create a wavelength calibration frame" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cpl-plugin-kmos-doc-kmos_wave_cal-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">kmos_wave_cal<small> (7)</small></h1>
        <p class="lead">Create a wavelength calibration frame</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/kmos_wave_cal.7.html">
      <span itemprop="name">kmos_wave_cal: Create a wavelength calibration frame</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cpl-plugin-kmos-doc/">
      <span itemprop="name">cpl-plugin-kmos-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/kmos_wave_cal.7.html">
      <span itemprop="name">kmos_wave_cal: Create a wavelength calibration frame</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>esorex <strong>kmos_wave_cal</strong> [OPTIONS] FILE.sof</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This recipe creates the wavelength calibration frame needed for all three detectors. It must be called after the kmo_flat recipe, which generates the two spatial calibration frames needed in this recipe. As input a lamp-on frame, a lamp-off frame, the spatial calibration frames and the list with the reference arclines are required.</p><p>An additional output frame is the resampled image of the reconstructed arc frame. All slitlets of all IFUs are aligned one next to the other. This frame serves for quality control. One can immediately see if the calibration was successful.</p><p>The lists of reference arclines are supposed to contain the lines for both available calibration arc-lamps, i.e. Argon and Neon. The list is supposed to be a F2L KMOS FITS file with three columns: 	1. Reference wavelength 	2. Relative strength 	3. String either containing “Ar” or “Ne” The recipe extracts, based on the header keywords, either the applying argon and/or neon emission lines. Below are the plots of the emission lines for both argon and neon. The marked lines are the ones used for wavelength calibration.</p><p>Furthermore frames can be provided for several rotator angles. In this case the resulting calibration frames for each detector are repeatedly saved as extension for every angle.</p><h3>BASIC PARAMETERS</h3>
<p>--order The polynomial order to use for the fit of the wavelength solution.</p><p>0: (default) The appropriate order is chosen automatically depending on the waveband (4 for IZ band, 5 for HK, 6 for the others)</p>
<h3>ADVANCED PARAMETERS</h3>
<p>--b_samples The number of samples in spectral direction for the reconstructed cube.</p><p>Ideally this number should be greater than 2048, the detector size.</p><p>--b_start --b_end Used to define manually the start and end wavelength for the reconstructed cube. By default the internally defined values are used.</p><p>--suppress_extension If set to TRUE, the arbitrary filename extensions are supressed. If multiple products with the same category are produced, they will be numered consecutively starting from 0.</p><p>Input files:</p>
<pre>
   DO category       Type   Explanation                    Required #Frames
   -----------       -----  -----------                    -------- -------
   ARC_ON            RAW    Arclamp-on exposure                Y        &gt;=1
   ARC_OFF           RAW    Arclamp-off exposure               Y          1
   XCAL              F2D    x calibration frame                Y          1
   YCAL              F2D    y calibration frame                Y          1
   ARC_LIST          F2L    List of arclines                   Y          1
   FLAT_EDGE         F2L    Fitted edge parameters             Y          1
   REF_LINES         F2L    Reference line table               Y          1
   WAVE_BAND         F2L    Table with start-/end-wavelengths  Y          1
</pre>
<p>Output files:</p>
<pre>
   DO category       Type   Explanation
   -----------       -----  -----------
   LCAL              F2D    Wavelength calibration frame
                            (3 Extensions)
   DET_IMG_WAVE      F2D    reconstructed arclamp-on exposure
                            (4 extensions: 3 detector images +
                            the arclines list table)
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--order</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The fitting polynomial order used for the wavelength solution. By default, 4 for IZ band, 5 for HK, 6 for the others (long; default: 0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmos_wave_cal.order</strong> [default = <em>0</em>].</p>
  </dd>
  <dt>
    <p><strong>--suppress_extension</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Suppress arbitrary filename extension (bool; default: False). The full name of this option for the EsoRex configuration file is <strong>kmos.kmos_wave_cal.suppress_extension</strong> [default = <em>False</em>].</p>
  </dd>
  <dt>
    <p><strong>--b_samples</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>The number of samples in wavelength for the reconstructed cube (long; default: 2048). The full name of this option for the EsoRex configuration file is <strong>kmos.kmos_wave_cal.b_samples</strong> [default = <em>2048</em>].</p>
  </dd>
  <dt>
    <p><strong>--b_start</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The lowest wavelength [um] to use when reconstructing. Derived by default, depending on the band (float; default: -1.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmos_wave_cal.b_start</strong> [default = <em>-1.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--b_end</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>The highest wavelength [um] to use when reconstructing. Derived by default, depending on the band (float; default: -1.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmos_wave_cal.b_end</strong> [default = <em>-1.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--det</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Only reduce the specified detector (long; default: 0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmos_wave_cal.detector</strong> [default = <em>0</em>].</p>
  </dd>
  <dt>
    <p><strong>--angle</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Only reduce the specified angle (float; default: 370.0). The full name of this option for the EsoRex configuration file is <strong>kmos.kmos_wave_cal.angle</strong> [default = <em>370.0</em>].</p>
  </dd>

</dl>
<p>Note that it is possible to create a configuration file containing these options, along with suitable default values. Please refer to the details provided by the 'esorex --help' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO kmos_wave_cal&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for the kmos pipeline can be downloaded as a PDF file using the following URL:</p><ul>
<li><p><strong>ftp://ftp.eso.org/pub/dfs/pipelines/kmos/kmos-pipeline-manual-2.9.pdf</strong></p></li>
</ul><p>An overview over the existing ESO pipelines can be found on the web page <strong>http://www.eso.org/sci/software/pipelines/</strong>.</p><p>Basic documentation about the EsoRex program can be found at the esorex (1) man page.</p><p>It is possible to call the pipelines from python using the python-cpl package. See <strong>http://packages.python.org/python-cpl/index.html</strong> for further information.</p><p>The other recipes of the kmos pipeline are <a href="../man7/kmo_copy.7.html"><strong>kmo_copy</strong>(7)</a>, <a href="../man7/kmo_fits_check.7.html"><strong>kmo_fits_check</strong>(7)</a>, <a href="../man7/kmo_sci_red.7.html"><strong>kmo_sci_red</strong>(7)</a>, <a href="../man7/kmo_fits_stack.7.html"><strong>kmo_fits_stack</strong>(7)</a>, <a href="../man7/kmo_noise_map.7.html"><strong>kmo_noise_map</strong>(7)</a>, <a href="../man7/kmo_rotate.7.html"><strong>kmo_rotate</strong>(7)</a>, <a href="../man7/kmo_extract_spec.7.html"><strong>kmo_extract_spec</strong>(7)</a>, <a href="../man7/kmo_multi_reconstruct.7.html"><strong>kmo_multi_reconstruct</strong>(7)</a>, <a href="../man7/kmo_sky_tweak.7.html"><strong>kmo_sky_tweak</strong>(7)</a>, <a href="../man7/kmo_shift.7.html"><strong>kmo_shift</strong>(7)</a>, <a href="../man7/kmos_gen_reflines.7.html"><strong>kmos_gen_reflines</strong>(7)</a>, <a href="../man7/kmo_stats.7.html"><strong>kmo_stats</strong>(7)</a>, <a href="../man7/kmo_arithmetic.7.html"><strong>kmo_arithmetic</strong>(7)</a>, <a href="../man7/kmos_dark.7.html"><strong>kmos_dark</strong>(7)</a>, <a href="../man7/kmo_fits_strip.7.html"><strong>kmo_fits_strip</strong>(7)</a>, <a href="../man7/kmo_combine.7.html"><strong>kmo_combine</strong>(7)</a>, <a href="../man7/kmo_std_star.7.html"><strong>kmo_std_star</strong>(7)</a>, <a href="../man7/kmo_illumination_flat.7.html"><strong>kmo_illumination_flat</strong>(7)</a>, <a href="../man7/kmo_make_image.7.html"><strong>kmo_make_image</strong>(7)</a>, <a href="../man7/kmos_flat.7.html"><strong>kmos_flat</strong>(7)</a>, <a href="../man7/kmo_fit_profile.7.html"><strong>kmo_fit_profile</strong>(7)</a>, <a href="../man7/kmo_sky_mask.7.html"><strong>kmo_sky_mask</strong>(7)</a>, <a href="../man7/kmos_illumination.7.html"><strong>kmos_illumination</strong>(7)</a>, <a href="../man7/kmo_reconstruct.7.html"><strong>kmo_reconstruct</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>kmos_wave_cal 1.3.5</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Alex Agudo Berbel, Yves Jung &lt;usd-help@eso.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p>Please report any problems to usd-help@eso.org. Alternatively, you may send a report to the ESO User Support Department &lt;usd-help@eso.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This file is part of the CRIRES Instrument Pipeline Copyright (C) 2002,2003 European Southern Observatory</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="kmos_illumination.7.html"><span aria-hidden="true">&larr;</span> kmos_illumination.7: Create a frame to correct spatial non-uniformity of flatfield</a></li>
   <li class="next"><a href="koi8-r.7.html">koi8-r.7: Russian character set encoded in octal, decimal, and hexadecimal <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
