<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hwloc: General information about hwloc ("hardware locality").</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="General information about hwloc ("hardware locality").">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="hwloc (7) manual">
  <meta name="twitter:description" content="General information about hwloc ("hardware locality").">
  <meta name="twitter:image" content="https://www.carta.tech/images/hwloc-nox-hwloc-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/hwloc-nox-hwloc.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="hwloc (7) manual" />
  <meta property="og:description" content="General information about hwloc ("hardware locality")." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/hwloc-nox-hwloc-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">hwloc<small> (7)</small></h1>
        <p class="lead">General information about hwloc ("hardware locality").</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/hwloc.7.html">
      <span itemprop="name">hwloc: General information about hwloc ("hardware locality").</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/hwloc-nox/">
      <span itemprop="name">hwloc-nox</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/hwloc.7.html">
      <span itemprop="name">hwloc: General information about hwloc ("hardware locality").</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>hwloc provides command line tools and a C API to obtain the hierarchical map of key computing elements, such as: NUMA memory nodes, shared caches, processor sockets, processor cores, and processor "threads".  hwloc also gathers various attributes such as cache and memory information, and is portable across a variety of different operating systems and platforms.</p><h3>Definitions</h3>
<p>Hwloc has some specific definitions for terms that are used in this man page and other hwloc documentation.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Hwloc CPU set:</strong></p>
  </dt>
  <dd>
    <p>A set of processors included in an hwloc object, expressed as a bitmask indexed by the physical numbers of the CPUs (as announced by the OS). The hwloc definition of "CPU set" does not carry any the same connotations as Linux's "CPU set" (e.g., process affinity, etc.).</p>
  </dd>
  <dt>
    <p><strong>Linux CPU set:</strong></p>
  </dt>
  <dd>
    <p>See http://www.mjmwired.net/kernel/Documentation/cpusets.txt for a discussion of Linux CPU sets.  A super-short-ignoring-many-details description (taken from that page) is:</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p> "Cpusets provide a mechanism for assigning a set of CPUs and Memory Nodes to a set of tasks."</p>
  </dd>
  <dt>
    <p><strong>Linux Cgroup:</strong></p>
  </dt>
  <dd>
    <p>See http://www.mjmwired.net/kernel/Documentation/cgroups.txt for a discussion of Linux control groups.  A super-short-ignoring-many-details description (taken from that page) is:</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p> "Control Groups provide a mechanism for aggregating/partitioning sets of tasks, and all their future children, into hierarchical groups with specialized behaviour."</p>
  </dd>

</dl>
<p>To be clear, hwloc supports all of the above concepts.  It is simply worth noting that they are 3 different things.</p>
<h3>Location Specification</h3>
<p>Locations refer to specific regions within a topology.  Before reading the rest of this man page, it may be useful to read <a href="../man1/lstopo.1.html"><strong>lstopo</strong>(1)</a> and/or run lstopo on your machine to see the reported topology tree.  Seeing and understanding a topology tree will definitely help in understanding the concepts that are discussed below.</p><p>Locations can be specified in multiple ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Tuples:</strong></p>
  </dt>
  <dd>
    <p>Tuples of hwloc "objects" and associated indexes can be specified in the form <em>object:index</em>. Hwloc objects represent types of mapped items (e.g., sockets, cores, etc.) in a topology tree; indexes are non-negative integers that specify a unique physical object in a topology tree.  Both concepts are described in detail, below.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Chaining multiple tuples together in the more general form <em>object1:index[.object2:index2[...]]</em> is permissable.  While the first tuple's object may appear anywhere in the topology, the Nth tuple's object must have a shallower topology depth than the (N+1)th tuple's object.  Put simply: as you move right in a tuple chain, objects must go deeper in the topology tree. When using logical indexes (which is the default), indexes specified in chained tuples are relative to the scope of the parent object.  For example, "socket:0.core:1" refers to the second core in the first socket. When using OS/physical indexes, the first object matching the given index is used.</p>
  </dd>
  <dt>
    <p><strong>Hex:</strong></p>
  </dt>
  <dd>
    <p>Locations can also be specified as hexidecimal bitmasks prefixed with "0x".  Commas must be used to separate the hex digits into blocks of 8, such as "0xffc0140,0x00020110". Leading zeros in each block do not need to be specified. For example, "0xffc0140,0x20110" is equivalent to the prior example, and "0x0000000f" is exactly equivalent to "0xf".  Intermediate blocks of 8 digits that are all zeoro can be left empty; "0xff0,,0x13" is equivalent to "0xff0,0x00000000,0x13". If the location is prefixed with the special string "0xf...f", then all unspecified bits are set (as if the set were infinite). For example, "0xf...f,0x1" sets both the first bit and all bits starting with the 33rd.  The string "0xf...f" -- with no other specified values -- sets all bits.</p>
  </dd>
  <dt>
    <p><strong>I/O devices:</strong></p>
  </dt>
  <dd>
    <p>Locations may also be a PCI or OS object. The corresponding value is the set of CPUs that are close to the physical device. For example, "<strong>pci=02:03.1</strong>" is equivalent to the set of processors that are close to the hostbridge above PCI device with bus ID "02:03.1". "<strong>os=eth0</strong>" is equivalent to all processors close to the network interface whose software name is "eth0".</p>
  </dd>

</dl>
<p>Multiple locations can be specified on the command lines (delimited by whitespace); the first token of the execution command is assumed to either follow "--" (if specified) or the first token that is unrecognized as a location.</p><p>By default, if multiple locations are specified, they are added, meaning that the binding will be wider in the sense that the process may run on more objects.</p><p>If prefixed with "~", the given location will be cleared instead of added to the current list of locations.  If prefixed with "x", the given location will be and'ed instead of added to the current list.  If prefixed with "^", the given location will be xor'ed.</p><p>"all" and "root" are special locations consisting in the root object in tree. It contains the entire current topology. More complex operations may be performed by using <em>hwloc-calc</em> to compute intermediate values.</p>
<h3>Hwloc Objects</h3>
<p>Objects in tuples can be any of the following strings (listed from "biggest" to "smallest"):</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>machine</strong></p>
  </dt>
  <dd>
    <p>A set of processors and memory.</p>
  </dd>
  <dt>
    <p><strong>node</strong></p>
  </dt>
  <dd>
    <p>A NUMA node; a set of processors around memory which the processors can directly access.</p>
  </dd>
  <dt>
    <p><strong>socket</strong></p>
  </dt>
  <dd>
    <p>Typically a physical package or chip, it is a grouping of one or more processors.</p>
  </dd>
  <dt>
    <p><strong>cache</strong></p>
  </dt>
  <dd>
    <p>A cache memory. If several kinds of caches exist in the system, a specific one may be identified by its level (e.g. <strong>l1cache</strong>) and optionally by its type (e.g. <strong>l1icache</strong>).</p>
  </dd>
  <dt>
    <p><strong>core</strong></p>
  </dt>
  <dd>
    <p>A single, physical processing unit which may still contain multiple logical processors, such as hardware threads.</p>
  </dd>
  <dt>
    <p><strong>pu</strong></p>
  </dt>
  <dd>
    <p>Short for <em>processor unit</em> (not <em>process</em>!). The smallest physical execution unit that hwloc recognizes.  For example, there may be multiple PUs on a core (e.g., hardware threads).</p>
  </dd>

</dl>
<p>The additional <strong>system</strong> type can be used when several machines form an overall single system image (SSI), such as Kerrighed.</p><p>I/O devices are not listed here since they are not identified using tuples as explained in <strong>Location Specification</strong>.</p><p>Finally, note that an object can be denoted by its numeric "depth" in the topology graph.</p>
<h3>Hwloc Indexes</h3>
<p>Indexes are integer values that uniquely specify a given object of a specific type.  Indexes can be expressed either as <em>logical</em> values or <em>physical</em> values.  Most hwloc utilities accept logical indexes by default. Passing <strong>--physical</strong> switches to physical/OS indexes. Both logical and physical indexes are described on this man page.</p><p><em>Logical</em> indexes are relative to the object order in the output from the lstopo command.  They always start with 0 and increment by 1 for each successive object.</p><p><em>Physical</em> indexes are how the operating system refers to objects.  Note that while physical indexes are non-negative integer values, the hardware and/or operating system may choose arbitrary values -- they may not start with 0, and successive objects may not have consecutive values.</p><p>For example, if the first few lines of lstopo -p output are the following:</p>
<pre>
  Machine (47GB)
    NUMANode P#0 (24GB) + Socket P#0 + L3 (12MB)
      L2 (256KB) + L1 (32KB) + Core P#0 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#1 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#2 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#8 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#9 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#10 + PU P#0
    NUMANode P#1 (24GB) + Socket P#1 + L3 (12MB)
      L2 (256KB) + L1 (32KB) + Core P#0 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#1 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#2 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#8 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#9 + PU P#0
      L2 (256KB) + L1 (32KB) + Core P#10 + PU P#0
</pre>
<p>In this example, the first core on the second socket is logically number 6 (i.e., logically the 7th core, starting from 0).  Its physical index is 0, but note that another core <em>also</em> has a physical index of 0.  Hence, physical indexes may only be relevant within the scope of their parent (or set of ancestors). In this example, to uniquely identify logical core 6 with physical indexes, you must specify (at a minimum) both a socket and a core: socket 1, core 0.</p><p>Index values, regardless of whether they are logical or physical, can be expressed in several different forms (where X, Y, and N are positive integers):</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>X</strong></p>
  </dt>
  <dd>
    <p>The object with index value X.</p>
  </dd>
  <dt>
    <p><strong>X-Y</strong></p>
  </dt>
  <dd>
    <p>All the objects with index values &gt;= X and &lt;= Y.</p>
  </dd>
  <dt>
    <p><strong>X-</strong></p>
  </dt>
  <dd>
    <p>All the objects with index values &gt;= X.</p>
  </dd>
  <dt>
    <p><strong>X:N</strong></p>
  </dt>
  <dd>
    <p>N objects starting with index X, possibly wrapping around the end of the level.</p>
  </dd>
  <dt>
    <p><strong>all</strong></p>
  </dt>
  <dd>
    <p>A special index value indicating all valid index values.</p>
  </dd>
  <dt>
    <p><strong>odd</strong></p>
  </dt>
  <dd>
    <p>A special index value indicating all valid odd index values.</p>
  </dd>
  <dt>
    <p><strong>even</strong></p>
  </dt>
  <dd>
    <p>A special index value indicating all valid even index values.</p>
  </dd>

</dl>
<p><em>REMEMBER</em>: hwloc's command line tools accept <em>logical</em> indexes for location values by default. Use <strong>--physical</strong> and <strong>--logical</strong> to switch from one mode to another.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO hwloc&hellip;</h2>
        <div class="sectioncontent">
<p>Hwloc's command line tool documentation: <a href="../man1/lstopo.1.html"><strong>lstopo</strong>(1)</a>, <a href="../man1/hwloc-bind.1.html"><strong>hwloc-bind</strong>(1)</a>, <a href="../man1/hwloc-calc.1.html"><strong>hwloc-calc</strong>(1)</a>, <a href="../man1/hwloc-distrib.1.html"><strong>hwloc-distrib</strong>(1)</a>, <a href="../man1/hwloc-ps.1.html"><strong>hwloc-ps</strong>(1)</a>.</p><p>Hwloc has many C API functions, each of which have their own man page. Some top-level man pages are also provided, grouping similar functions together.  A few good places to start might include: <a href="../man3/hwlocality_objects.3.html"><strong>hwlocality_objects</strong>(3)</a>, <strong>hwlocality_types</strong>(3), <a href="../man3/hwlocality_creation.3.html"><strong>hwlocality_creation</strong>(3)</a>, <strong>hwlocality_cpuset</strong>(3), <strong>hwlocality_information</strong>(3), and <strong>hwlocality_binding</strong>(3).</p><p>For a listing of all available hwloc man pages, look at all "hwloc*" files in the man1 and man3 directories.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="hwloc-hwloc.7.html"><span aria-hidden="true">&larr;</span> hwloc.7: General information about hwloc ("hardware locality").</a></li>
   <li class="next"><a href="ibacm.7.html">ibacm.7: Infiniband communication management assistant <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
