<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vmmoscalib: Determination of the extraction mask</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Determination of the extraction mask">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vmmoscalib (7) manual">
  <meta name="twitter:description" content="Determination of the extraction mask">
  <meta name="twitter:image" content="https://www.carta.tech/images/cpl-plugin-vimos-doc-vmmoscalib-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/vmmoscalib.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vmmoscalib (7) manual" />
  <meta property="og:description" content="Determination of the extraction mask" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cpl-plugin-vimos-doc-vmmoscalib-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vmmoscalib<small> (7)</small></h1>
        <p class="lead">Determination of the extraction mask</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/vmmoscalib.7.html">
      <span itemprop="name">vmmoscalib: Determination of the extraction mask</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cpl-plugin-vimos-doc/">
      <span itemprop="name">cpl-plugin-vimos-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/vmmoscalib.7.html">
      <span itemprop="name">vmmoscalib: Determination of the extraction mask</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>esorex <strong>vmmoscalib</strong> [OPTIONS] FILE.sof</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This recipe is used to identify reference lines on MOS arc lamp exposures, and trace the spectral edges on the corresponding flat field exposures. This information is used to determine the spectral extraction mask to be applied in the scientific data reduction, performed with the recipe vimos_science. The input arc lamp and flat field exposures are assumed to be obtained quasi-simultaneously, so that they would be described by exactly the same instrument distortions.</p><p>A line catalog must be specified, containing the wavelengths of the reference arc lamp lines used for the wavelength calibration. A grism table (typically depending on the instrument mode, and in particular on the grism used) may also be specified: this table contains a default recipe parameter setting to control the way spectra are extracted for a specific instrument mode, as it is used for automatic run of the pipeline on Paranal and in Garching. If this table is specified, it will modify the default recipe parameter setting, with the exception of those parameters which have been explicitly modifyed on the command line.</p><p>If a grism table is not specified, the input recipe parameters values will always be read from the command line, or from an esorex configuration file if present, or from their generic default values (that are rarely meaningful). Finally a master bias frame must be input to this recipe.</p><p>In the table below the MOS_CURV_COEFF, MOS_CURV_TRACES, MOS_SPATIAL_MAP MOS_ARC_SPECTRUM_EXTRACTED, MOS_SPECTRA_DETECTION, MOS_SLIT_MAP, and MOS_SLIT_LOCATION, are never created in case of long-slit-like data.</p><p>The products MOS_SPECTRA_DETECTION, MOS_SLIT_MAP, and MOS_DISP_RESIDUALS, are just created if the --check parameter is set to true. The product GLOBAL_DISTORTION_TABLE is just created if more than 12 separate spectra are found in the CCD.</p><p>Input files:</p>
<pre>
  DO category:               Type:       Explanation:         Required:
  MOS_SCREEN_FLAT            Raw         Flat field exposures    Y
  MOS_ARC_SPECTRUM           Raw         Arc lamp exposure       Y
  MASTER_BIAS or BIAS        Calib       Bias frame              Y
  LINE_CATALOG               Calib       Line catalog            Y
  CONFIG_TABLE               Calib       Grism table             .
</pre>
<p>Output files:</p>
<pre>
  DO category:               Data type:  Explanation:
  MOS_COMBINED_SCREEN_FLAT   FITS image  Combined (sum) flat field
  MOS_MASTER_SCREEN_FLAT     FITS image  Normalised flat field
  MOS_ARC_SPECTRUM_EXTRACTED FITS image  Wavelength calibrated arc spectrum
  MOS_DISP_COEFF             FITS table  Inverse dispersion coefficients
  MOS_DISP_RESIDUALS         FITS image  Residuals in wavelength calibration
  MOS_DISP_RESIDUALS_TABLE   FITS table  Residuals in wavelength calibration
  MOS_DELTA_IMAGE            FITS image  Offset vs linear wavelength calib
  MOS_WAVELENGTH_MAP         FITS image  Wavelength for each pixel on CCD
  MOS_SPECTRA_DETECTION      FITS image  Check for preliminary detection
  MOS_SLIT_MAP               FITS image  Map of central wavelength on CCD
  MOS_CURV_TRACES            FITS table  Spectral curvature traces
  MOS_CURV_COEFF             FITS table  Spectral curvature coefficients
  MOS_SPATIAL_MAP            FITS image  Spatial position along slit on CCD
  MOS_SPECTRAL_RESOLUTION    FITS table  Resolution at reference arc lines
  MOS_SLIT_LOCATION          FITS table  Slits on product frames and CCD
  GLOBAL_DISTORTION_TABLE    FITS table  Global distortions table
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--dispersion</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Expected spectral dispersion (Angstrom/pixel) (float; default: 0.0). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.dispersion</strong> [default = <em>0.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--peakdetection</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Initial peak detection threshold (ADU) (float; default: 0.0). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.peakdetection</strong> [default = <em>0.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--wdegree</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree of wavelength calibration polynomial (long; default: 0). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.wdegree</strong> [default = <em>0</em>].</p>
  </dd>
  <dt>
    <p><strong>--wradius</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Search radius if iterating pattern-matching with first-guess method (pixel) (long; default: 4). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.wradius</strong> [default = <em>4</em>].</p>
  </dd>
  <dt>
    <p><strong>--wreject</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Rejection threshold in dispersion relation fit (pixel) (float; default: 0.7). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.wreject</strong> [default = <em>0.7</em>].</p>
  </dd>
  <dt>
    <p><strong>--wmodelss</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Interpolation mode of wavelength solution (0 = no interpolation, 1 = fill gaps, 2 = global model) (long; default: 2). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.wmodelss</strong> [default = <em>2</em>].</p>
  </dd>
  <dt>
    <p><strong>--wmodemos</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Interpolation mode of wavelength solution (0 = no interpolation, 1 = local (slit) solution, 2 = global model) (long; default: 1). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.wmodemos</strong> [default = <em>1</em>].</p>
  </dd>
  <dt>
    <p><strong>--wcolumn</strong> <em>&lt;str&gt;</em></p>
  </dt>
  <dd>
    <p>Name of line catalog table column with wavelengths (str; default: \'WLEN\'). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.wcolumn</strong> [default = <em>WLEN</em>].</p>
  </dd>
  <dt>
    <p><strong>--cdegree</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree of spectral curvature polynomial (long; default: 0). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.cdegree</strong> [default = <em>0</em>].</p>
  </dd>
  <dt>
    <p><strong>--cmode</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Interpolation mode of curvature solution applicable to MOS-like data (0 = no interpolation, 1 = fill gaps, 2 = global model) (long; default: 1). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.cmode</strong> [default = <em>1</em>].</p>
  </dd>
  <dt>
    <p><strong>--startwavelength</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Start wavelength in spectral extraction (float; default: 0.0). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.startwavelength</strong> [default = <em>0.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--endwavelength</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>End wavelength in spectral extraction (float; default: 0.0). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.endwavelength</strong> [default = <em>0.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--reference</strong> <em>&lt;float&gt;</em></p>
  </dt>
  <dd>
    <p>Reference wavelength for calibration (float; default: 0.0). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.reference</strong> [default = <em>0.0</em>].</p>
  </dd>
  <dt>
    <p><strong>--slit_ident</strong> <em>&lt;bool&gt;</em></p>
  </dt>
  <dd>
    <p>Attempt slit identification (bool; default: True). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.slit_ident</strong> [default = <em>True</em>].</p>
  </dd>
  <dt>
    <p><strong>--sdegree</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree of flat field fitting polynomial along spatial direction (used for LSS-like data only) (long; default: -1). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.sdegree</strong> [default = <em>-1</em>].</p>
  </dd>
  <dt>
    <p><strong>--ddegree</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Degree of flat field fitting polynomial along dispersion direction (not used for long-slit-like data) (long; default: -1). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.ddegree</strong> [default = <em>-1</em>].</p>
  </dd>
  <dt>
    <p><strong>--dradius</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Smooth box radius for flat field along dispersion direction (long; default: 10). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.dradius</strong> [default = <em>10</em>].</p>
  </dd>
  <dt>
    <p><strong>--sradius</strong> <em>&lt;long&gt;</em></p>
  </dt>
  <dd>
    <p>Smooth box radius for flat field along spatial direction (long; default: 10). The full name of this option for the EsoRex configuration file is <strong>vimos.vmmoscalib.sradius</strong> [default = <em>10</em>].</p>
  </dd>

</dl>
<p>Note that it is possible to create a configuration file containing these options, along with suitable default values. Please refer to the details provided by the 'esorex --help' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO vmmoscalib&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for the vimos pipeline can be downloaded as a PDF file using the following URL:</p><ul>
<li><p><strong>ftp://ftp.eso.org/pub/dfs/pipelines/vimos/vimos-pipeline-manual-6.9.pdf</strong></p></li>
</ul><p>An overview over the existing ESO pipelines can be found on the web page <strong>http://www.eso.org/sci/software/pipelines/</strong>.</p><p>Basic documentation about the EsoRex program can be found at the esorex (1) man page.</p><p>It is possible to call the pipelines from python using the python-cpl package. See <strong>http://packages.python.org/python-cpl/index.html</strong> for further information.</p><p>The other recipes of the vimos pipeline are <a href="../man7/vmifucombinecube.7.html"><strong>vmifucombinecube</strong>(7)</a>, <a href="../man7/vmifucalib.7.html"><strong>vmifucalib</strong>(7)</a>, <a href="../man7/vmimflatsky.7.html"><strong>vmimflatsky</strong>(7)</a>, <a href="../man7/vmspflat.7.html"><strong>vmspflat</strong>(7)</a>, <a href="../man7/vmmosobsstare.7.html"><strong>vmmosobsstare</strong>(7)</a>, <a href="../man7/vmimflatscreen.7.html"><strong>vmimflatscreen</strong>(7)</a>, <a href="../man7/vmimpreimaging.7.html"><strong>vmimpreimaging</strong>(7)</a>, <a href="../man7/vmimcalphot.7.html"><strong>vmimcalphot</strong>(7)</a>, <a href="../man7/vmmoscombine.7.html"><strong>vmmoscombine</strong>(7)</a>, <a href="../man7/vmimstandard.7.html"><strong>vmimstandard</strong>(7)</a>, <a href="../man7/vmmosobsjitter.7.html"><strong>vmmosobsjitter</strong>(7)</a>, <a href="../man7/vmifucombine.7.html"><strong>vmifucombine</strong>(7)</a>, <a href="../man7/vmimobsjitter.7.html"><strong>vmimobsjitter</strong>(7)</a>, <a href="../man7/vmspphot.7.html"><strong>vmspphot</strong>(7)</a>, <a href="../man7/vmdet.7.html"><strong>vmdet</strong>(7)</a>, <a href="../man7/vmmosscience.7.html"><strong>vmmosscience</strong>(7)</a>, <a href="../man7/vmmosstandard.7.html"><strong>vmmosstandard</strong>(7)</a>, <a href="../man7/vmspcaldisp.7.html"><strong>vmspcaldisp</strong>(7)</a>, <a href="../man7/vmifustandard.7.html"><strong>vmifustandard</strong>(7)</a>, <a href="../man7/vmbias.7.html"><strong>vmbias</strong>(7)</a>, <a href="../man7/vmimobsstare.7.html"><strong>vmimobsstare</strong>(7)</a>, <a href="../man7/vmdark.7.html"><strong>vmdark</strong>(7)</a>, <a href="../man7/vmifuscience.7.html"><strong>vmifuscience</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>vmmoscalib 2.9.15</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Carlo Izzo &lt;usd-help@eso.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p>Please report any problems to usd-help@eso.org. Alternatively, you may send a report to the ESO User Support Department &lt;usd-help@eso.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This file is currently part of the VIMOS Instrument Pipeline Copyright (C) 2002-2006 European Southern Observatory</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="vmimstandard.7.html"><span aria-hidden="true">&larr;</span> vmimstandard.7: Reduce an imaging standard star exposure.</a></li>
   <li class="next"><a href="vmmoscombine.7.html">vmmoscombine.7: Combine reduced mos observations from different obs. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
