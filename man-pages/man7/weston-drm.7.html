<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>weston-drm: The drm backend for weston</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The drm backend for weston">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="weston-drm (7) manual">
  <meta name="twitter:description" content="The drm backend for weston">
  <meta name="twitter:image" content="https://www.carta.tech/images/weston-weston-drm-7.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man7/weston-drm.7.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="weston-drm (7) manual" />
  <meta property="og:description" content="The drm backend for weston" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/weston-weston-drm-7.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">weston-drm<small> (7)</small></h1>
        <p class="lead">The drm backend for weston</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/">
      <span itemprop="name">Miscellaneous</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/weston-drm.7.html">
      <span itemprop="name">weston-drm: The drm backend for weston</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/weston/">
      <span itemprop="name">weston</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man7/weston-drm.7.html">
      <span itemprop="name">weston-drm: The drm backend for weston</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>weston-launch</strong></p><p><strong>weston --backend=drm-backend.so</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The DRM backend is the native Weston backend for systems that support the Linux kernel DRM, kernel mode setting (KMS), and evdev input devices. It is the recommended backend for desktop PCs, and aims to provide the full Wayland experience with the "every frame is perfect" concept. It also relies on the Mesa GBM interface.</p><p>With the DRM backend, <strong>weston</strong> runs without any underlying windowing system. The backend uses the Linux KMS API to detect connected monitors. Monitor hot-plugging is supported. Input devices are found automatically by <a href="../man7/udev.7.html"><strong>udev</strong>(7)</a>. Compositing happens mainly in GL&nbsp;ES&nbsp;2, initialized through EGL. It is also possible to take advantage of hardware cursors and overlays, when they exist and are functional. Full-screen surfaces will be scanned out directly without compositing, when possible. Hardware accelerated clients are supported via EGL.</p><p>The backend chooses the DRM graphics device first based on seat id. If seat identifiers are not set, it looks for the graphics device that was used in boot. If that is not found, it finally chooses the first DRM device returned by <a href="../man7/udev.7.html"><strong>udev</strong>(7)</a>. Combining multiple graphics devices are not supported yet.</p><p>The DRM backend relies on <strong>weston-launch</strong> for managing input device access and DRM master status, so that <strong>weston</strong> can be run without root privileges. On switching away from the virtual terminal (VT) hosting Weston, all input devices are closed and the DRM master capability is dropped, so that other servers, including <a href="../man1/Xorg.1.html"><strong>Xorg</strong>(1)</a>, can run on other VTs. On switching back to Weston's VT, input devices and DRM master are re-acquired through the parent process <strong>weston-launch</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>The DRM backend uses the following entries from <strong>weston.ini</strong>.</p><h3>Section output</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>name</strong>=<em>connector</em></p>
  </dt>
  <dd>
    <p>The KMS connector name identifying the output, for instance <em>LVDS1</em>.</p>
  </dd>
  <dt>
    <p><strong>mode</strong>=<em>mode</em></p>
  </dt>
  <dd>
    <p>Specify the video mode for the output. The argument <em>mode</em> can be one of the words <strong>off</strong> to turn the output off,  <strong>preferred</strong> to use the monitor's preferred video mode, or  <strong>current</strong> to use the current video mode and avoid a mode switch. It can also be a resolution as <em>width</em><strong>x</strong><em>height</em>, or a detailed mode line as below.</p>
  </dd>
  <dt>
    <p><strong>mode</strong>=<em>dotclock hdisp hsyncstart hsyncend htotal  vdisp vsyncstart vsyncend vtotal hflag vflag</em></p>
  </dt>
  <dd>
    <p>Use the given detailed mode line as the video mode for this output. The definition is the same as in <a href="../man5/xorg.conf.5.html"><strong>xorg.conf</strong>(5)</a>, and <a href="../man1/cvt.1.html"><strong>cvt</strong>(1)</a> can generate detailed mode lines.</p>
  </dd>
  <dt>
    <p><strong>transform</strong>=<em>transform</em></p>
  </dt>
  <dd>
    <p>Transform for the output, which can be rotated in 90-degree steps and possibly flipped. Possible values are <strong>normal</strong>, <strong>90</strong>, <strong>180</strong>, <strong>270</strong>,  <strong>flipped</strong>, <strong>flipped-90</strong>, <strong>flipped-180</strong>, and <strong>flipped-270</strong>.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>When the DRM backend is loaded, <strong>weston</strong> will understand the following additional command line options.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--connector</strong>=<em>connectorid</em></p>
  </dt>
  <dd>
    <p>Use the connector with id number <em>connectorid</em> as the only initial output.</p>
  </dd>
  <dt>
    <p><strong>--current-mode</strong></p>
  </dt>
  <dd>
    <p>By default, use the current video mode of all outputs, instead of switching to the monitor preferred mode.</p>
  </dd>
  <dt>
    <p><strong>--seat</strong>=<em>seatid</em></p>
  </dt>
  <dd>
    <p>Use graphics and input devices designated for seat <em>seatid</em> instead of the default seat <strong>seat0</strong>.</p>
  </dd>
  <dt>
    <p><strong>--tty</strong>=<em>x</em></p>
  </dt>
  <dd>
    <p>Launch Weston on tty <em>x</em> instead of using the current tty.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>WESTON_TTY_FD</strong></p>
  </dt>
  <dd>
    <p>The file descriptor (integer) of the opened tty where <strong>weston</strong> will run. Set by <strong>weston-launch</strong>.</p>
  </dd>
  <dt>
    <p><strong>WESTON_LAUNCHER_SOCK</strong></p>
  </dt>
  <dd>
    <p>The file descriptor (integer) where <strong>weston-launch</strong> is listening. Automatically set by <strong>weston-launch</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO weston-drm&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/weston.1.html"><strong>weston</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="waffle_feature_test_macros.7.html"><span aria-hidden="true">&larr;</span> waffle_feature_test_macros.7: Macros to control definitions exposed by waffles headers</a></li>
   <li class="next"><a href="wicked.7.html">wicked.7: A lua library for dynamic widgets in awesome <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
