<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>struct_input_dev: Represents an input device</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Represents an input device">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="struct_input_dev (9) manual">
  <meta name="twitter:description" content="Represents an input device">
  <meta name="twitter:image" content="https://www.carta.tech/images/linux-manual-3.16-struct_input_dev-9.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man9/struct_input_dev.9.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="struct_input_dev (9) manual" />
  <meta property="og:description" content="Represents an input device" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/linux-manual-3.16-struct_input_dev-9.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">struct_input_dev<small> (9)</small></h1>
        <p class="lead">Represents an input device</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man9/">
      <span itemprop="name">Kernel routines</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man9/struct_input_dev.9.html">
      <span itemprop="name">struct_input_dev: Represents an input device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/linux-manual-3.16/">
      <span itemprop="name">linux-manual-3.16</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man9/struct_input_dev.9.html">
      <span itemprop="name">struct_input_dev: Represents an input device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
struct input_dev {
  const char * name;
  const char * phys;
  const char * uniq;
  struct input_id id;
  unsigned long propbit[BITS_TO_LONGS(INPUT_PROP_CNT)];
  unsigned long evbit[BITS_TO_LONGS(EV_CNT)];
  unsigned long keybit[BITS_TO_LONGS(KEY_CNT)];
  unsigned long relbit[BITS_TO_LONGS(REL_CNT)];
  unsigned long absbit[BITS_TO_LONGS(ABS_CNT)];
  unsigned long mscbit[BITS_TO_LONGS(MSC_CNT)];
  unsigned long ledbit[BITS_TO_LONGS(LED_CNT)];
  unsigned long sndbit[BITS_TO_LONGS(SND_CNT)];
  unsigned long ffbit[BITS_TO_LONGS(FF_CNT)];
  unsigned long swbit[BITS_TO_LONGS(SW_CNT)];
  unsigned int hint_events_per_packet;
  unsigned int keycodemax;
  unsigned int keycodesize;
  void * keycode;
  int (* setkeycode) (struct input_dev *dev,const struct input_keymap_entry *ke,unsigned int *old_keycode);
  int (* getkeycode) (struct input_dev *dev,struct input_keymap_entry *ke);
  struct ff_device * ff;
  unsigned int repeat_key;
  struct timer_list timer;
  int rep[REP_CNT];
  struct input_mt * mt;
  struct input_absinfo * absinfo;
  unsigned long key[BITS_TO_LONGS(KEY_CNT)];
  unsigned long led[BITS_TO_LONGS(LED_CNT)];
  unsigned long snd[BITS_TO_LONGS(SND_CNT)];
  unsigned long sw[BITS_TO_LONGS(SW_CNT)];
  int (* open) (struct input_dev *dev);
  void (* close) (struct input_dev *dev);
  int (* flush) (struct input_dev *dev, struct file *file);
  int (* event) (struct input_dev *dev, unsigned int type, unsigned int code, int value);
  struct input_handle __rcu * grab;
  spinlock_t event_lock;
  struct mutex mutex;
  unsigned int users;
  bool going_away;
  struct device dev;
  struct list_head h_list;
  struct list_head node;
  unsigned int num_vals;
  unsigned int max_vals;
  struct input_value * vals;
  bool devres_managed;
};
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MEMBERS</h2>
        <div class="sectioncontent">
<p>name</p><p>name of the device</p><p>phys</p><p>physical path to the device in the system hierarchy</p><p>uniq</p><p>unique identification code for the device (if device has it)</p><p>id</p><p>id of the device (struct input_id)</p><p>propbit[BITS_TO_LONGS(INPUT_PROP_CNT)]</p><p>bitmap of device properties and quirks</p><p>evbit[BITS_TO_LONGS(EV_CNT)]</p><p>bitmap of types of events supported by the device (EV_KEY, EV_REL, etc.)</p><p>keybit[BITS_TO_LONGS(KEY_CNT)]</p><p>bitmap of keys/buttons this device has</p><p>relbit[BITS_TO_LONGS(REL_CNT)]</p><p>bitmap of relative axes for the device</p><p>absbit[BITS_TO_LONGS(ABS_CNT)]</p><p>bitmap of absolute axes for the device</p><p>mscbit[BITS_TO_LONGS(MSC_CNT)]</p><p>bitmap of miscellaneous events supported by the device</p><p>ledbit[BITS_TO_LONGS(LED_CNT)]</p><p>bitmap of leds present on the device</p><p>sndbit[BITS_TO_LONGS(SND_CNT)]</p><p>bitmap of sound effects supported by the device</p><p>ffbit[BITS_TO_LONGS(FF_CNT)]</p><p>bitmap of force feedback effects supported by the device</p><p>swbit[BITS_TO_LONGS(SW_CNT)]</p><p>bitmap of switches present on the device</p><p>hint_events_per_packet</p><p>average number of events generated by the device in a packet (between EV_SYN/SYN_REPORT events). Used by event handlers to estimate size of the buffer needed to hold events.</p><p>keycodemax</p><p>size of keycode table</p><p>keycodesize</p><p>size of elements in keycode table</p><p>keycode</p><p>map of scancodes to keycodes for this device</p><p>setkeycode</p><p>optional method to alter current keymap, used to implement sparse keymaps. If not supplied default mechanism will be used. The method is being called while holding event_lock and thus must not sleep</p><p>getkeycode</p><p>optional legacy method to retrieve current keymap.</p><p>ff</p><p>force feedback structure associated with the device if device supports force feedback effects</p><p>repeat_key</p><p>stores key code of the last key pressed; used to implement software autorepeat</p><p>timer</p><p>timer for software autorepeat</p><p>rep[REP_CNT]</p><p>current values for autorepeat parameters (delay, rate)</p><p>mt</p><p>pointer to multitouch state</p><p>absinfo</p><p>array of struct input_absinfo elements holding information about absolute axes (current value, min, max, flat, fuzz, resolution)</p><p>key[BITS_TO_LONGS(KEY_CNT)]</p><p>reflects current state of device&apos;s keys/buttons</p><p>led[BITS_TO_LONGS(LED_CNT)]</p><p>reflects current state of device&apos;s LEDs</p><p>snd[BITS_TO_LONGS(SND_CNT)]</p><p>reflects current state of sound effects</p><p>sw[BITS_TO_LONGS(SW_CNT)]</p><p>reflects current state of device&apos;s switches</p><p>open</p><p>this method is called when the very first user calls <strong>input_open_device</strong>. The driver must prepare the device to start generating events (start polling thread, request an IRQ, submit URB, etc.)</p><p>close</p><p>this method is called when the very last user calls <strong>input_close_device</strong>.</p><p>flush</p><p>purges the device. Most commonly used to get rid of force feedback effects loaded into the device when disconnecting from it</p><p>event</p><p>event handler for events sent _to_ the device, like EV_LED or EV_SND. The device is expected to carry out the requested action (turn on a LED, play sound, etc.) The call is protected by <em>event_lock</em> and must not sleep</p><p>grab</p><p>input handle that currently has the device grabbed (via EVIOCGRAB ioctl). When a handle grabs a device it becomes sole recipient for all input events coming from the device</p><p>event_lock</p><p>this spinlock is is taken when input core receives and processes a new event for the device (in <strong>input_event</strong>). Code that accesses and/or modifies parameters of a device (such as keymap or absmin, absmax, absfuzz, etc.) after device has been registered with input core must take this lock.</p><p>mutex</p><p>serializes calls to <strong>open</strong>, <strong>close</strong> and <strong>flush</strong> methods</p><p>users</p><p>stores number of users (input handlers) that opened this device. It is used by <strong>input_open_device</strong> and <strong>input_close_device</strong> to make sure that dev-&gt;<strong>open</strong> is only called when the first user opens device and dev-&gt;<strong>close</strong> is called when the very last user closes the device</p><p>going_away</p><p>marks devices that are in a middle of unregistering and causes input_open_device*() fail with -ENODEV.</p><p>dev</p><p>driver model&apos;s view of this device</p><p>h_list</p><p>list of input handles associated with the device. When accessing the list dev-&gt;mutex must be held</p><p>node</p><p>used to place the device onto input_dev_list</p><p>num_vals</p><p>number of values queued in the current frame</p><p>max_vals</p><p>maximum number of values queued in a frame</p><p>vals</p><p>array of values queued in the current frame</p><p>devres_managed</p><p>indicates that devices is managed with devres framework and needs not be explicitly unregistered or freed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="struct_ieee80211_vif.9.html"><span aria-hidden="true">&larr;</span> struct_ieee80211_vif.9: Per-interface data</a></li>
   <li class="next"><a href="struct_input_handle.9.html">struct_input_handle.9: Links input device with an input handler <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
