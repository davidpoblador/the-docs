<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>struct_usb_device: Kernels representation of a usb device</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Kernels representation of a usb device">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="struct_usb_device (9) manual">
  <meta name="twitter:description" content="Kernels representation of a usb device">
  <meta name="twitter:image" content="https://www.carta.tech/images/linux-manual-3.16-struct_usb_device-9.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man9/struct_usb_device.9.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="struct_usb_device (9) manual" />
  <meta property="og:description" content="Kernels representation of a usb device" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/linux-manual-3.16-struct_usb_device-9.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">struct_usb_device<small> (9)</small></h1>
        <p class="lead">Kernels representation of a usb device</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man9/">
      <span itemprop="name">Kernel routines</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man9/struct_usb_device.9.html">
      <span itemprop="name">struct_usb_device: Kernels representation of a usb device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/linux-manual-3.16/">
      <span itemprop="name">linux-manual-3.16</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man9/struct_usb_device.9.html">
      <span itemprop="name">struct_usb_device: Kernels representation of a usb device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
struct usb_device {
  int devnum;
  char devpath[16];
  u32 route;
  enum usb_device_state state;
  enum usb_device_speed speed;
  struct usb_tt * tt;
  int ttport;
  unsigned int toggle[2];
  struct usb_device * parent;
  struct usb_bus * bus;
  struct usb_host_endpoint ep0;
  struct device dev;
  struct usb_device_descriptor descriptor;
  struct usb_host_bos * bos;
  struct usb_host_config * config;
  struct usb_host_config * actconfig;
  struct usb_host_endpoint * ep_in[16];
  struct usb_host_endpoint * ep_out[16];
  char ** rawdescriptors;
  unsigned short bus_mA;
  u8 portnum;
  u8 level;
  unsigned can_submit:1;
  unsigned persist_enabled:1;
  unsigned have_langid:1;
  unsigned authorized:1;
  unsigned authenticated:1;
  unsigned wusb:1;
  unsigned lpm_capable:1;
  unsigned usb2_hw_lpm_capable:1;
  unsigned usb2_hw_lpm_besl_capable:1;
  unsigned usb2_hw_lpm_enabled:1;
  unsigned usb2_hw_lpm_allowed:1;
  unsigned usb3_lpm_enabled:1;
  int string_langid;
  char * product;
  char * manufacturer;
  char * serial;
  struct list_head filelist;
  int maxchild;
  u32 quirks;
  atomic_t urbnum;
  unsigned long active_duration;
#ifdef CONFIG_PM
  unsigned long connect_time;
  unsigned do_remote_wakeup:1;
  unsigned reset_resume:1;
  unsigned port_is_suspended:1;
#endif
  struct wusb_dev * wusb_dev;
  int slot_id;
  enum usb_device_removable removable;
  struct usb2_lpm_parameters l1_params;
  struct usb3_lpm_parameters u1_params;
  struct usb3_lpm_parameters u2_params;
  unsigned lpm_disable_count;
};
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MEMBERS</h2>
        <div class="sectioncontent">
<p>devnum</p><p>device number; address on a USB bus</p><p>devpath[16]</p><p>device ID string for use in messages (e.g., /port/...)</p><p>route</p><p>tree topology hex string for use with xHCI</p><p>state</p><p>device state: configured, not attached, etc.</p><p>speed</p><p>device speed: high/full/low (or error)</p><p>tt</p><p>Transaction Translator info; used with low/full speed dev, highspeed hub</p><p>ttport</p><p>device port on that tt hub</p><p>toggle[2]</p><p>one bit for each endpoint, with ([0] = IN, [1] = OUT) endpoints</p><p>parent</p><p>our hub, unless we&apos;re the root</p><p>bus</p><p>bus we&apos;re part of</p><p>ep0</p><p>endpoint 0 data (default control pipe)</p><p>dev</p><p>generic device interface</p><p>descriptor</p><p>USB device descriptor</p><p>bos</p><p>USB device BOS descriptor set</p><p>config</p><p>all of the device&apos;s configs</p><p>actconfig</p><p>the active configuration</p><p>ep_in[16]</p><p>array of IN endpoints</p><p>ep_out[16]</p><p>array of OUT endpoints</p><p>rawdescriptors</p><p>raw descriptors for each config</p><p>bus_mA</p><p>Current available from the bus</p><p>portnum</p><p>parent port number (origin 1)</p><p>level</p><p>number of USB hub ancestors</p><p>can_submit</p><p>URBs may be submitted</p><p>persist_enabled</p><p>USB_PERSIST enabled for this device</p><p>have_langid</p><p>whether string_langid is valid</p><p>authorized</p><p>policy has said we can use it; (user space) policy determines if we authorize this device to be used or not. By default, wired USB devices are authorized. WUSB devices are not, until we authorize them from user space. FIXME -- complete doc</p><p>authenticated</p><p>Crypto authentication passed</p><p>wusb</p><p>device is Wireless USB</p><p>lpm_capable</p><p>device supports LPM</p><p>usb2_hw_lpm_capable</p><p>device can perform USB2 hardware LPM</p><p>usb2_hw_lpm_besl_capable</p><p>device can perform USB2 hardware BESL LPM</p><p>usb2_hw_lpm_enabled</p><p>USB2 hardware LPM is enabled</p><p>usb2_hw_lpm_allowed</p><p>Userspace allows USB 2.0 LPM to be enabled</p><p>usb3_lpm_enabled</p><p>USB3 hardware LPM enabled</p><p>string_langid</p><p>language ID for strings</p><p>product</p><p>iProduct string, if present (static)</p><p>manufacturer</p><p>iManufacturer string, if present (static)</p><p>serial</p><p>iSerialNumber string, if present (static)</p><p>filelist</p><p>usbfs files that are open to this device</p><p>maxchild</p><p>number of ports if hub</p><p>quirks</p><p>quirks of the whole device</p><p>urbnum</p><p>number of URBs submitted for the whole device</p><p>active_duration</p><p>total time device is not suspended</p><p>connect_time</p><p>time device was first connected</p><p>do_remote_wakeup</p><p>remote wakeup should be enabled</p><p>reset_resume</p><p>needs reset instead of resume</p><p>port_is_suspended</p><p>the upstream port is suspended (L2 or U3)</p><p>wusb_dev</p><p>if this is a Wireless USB device, link to the WUSB specific data for the device.</p><p>slot_id</p><p>Slot ID assigned by xHCI</p><p>removable</p><p>Device can be physically removed from this port</p><p>l1_params</p><p>best effor service latency for USB2 L1 LPM state, and L1 timeout.</p><p>u1_params</p><p>exit latencies for USB3 U1 LPM state, and hub-initiated timeout.</p><p>u2_params</p><p>exit latencies for USB3 U2 LPM state, and hub-initiated timeout.</p><p>lpm_disable_count</p><p>Ref count used by <strong>usb_disable_lpm</strong> and <strong>usb_enable_lpm</strong> to keep track of the number of functions that require USB 3.0 Link Power Management to be disabled for this usb_device. This count should only be manipulated by those functions, with the bandwidth_mutex is held.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Usbcore drivers should not set usbdev-&gt;state directly. Instead use <strong>usb_set_device_state</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="struct_usb_configuration.9.html"><span aria-hidden="true">&larr;</span> struct_usb_configuration.9: Represents one gadget configuration</a></li>
   <li class="next"><a href="struct_usb_device_driver.9.html">struct_usb_device_driver.9: Identifies usb device driver to usbcore <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
