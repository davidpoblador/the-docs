<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mgettydefs: Speed and terminal settings used by mgetty</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Speed and terminal settings used by mgetty">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mgettydefs (4) manual">
  <meta name="twitter:description" content="Speed and terminal settings used by mgetty">
  <meta name="twitter:image" content="https://www.carta.tech/images/mgetty-mgettydefs-4.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man4/mgettydefs.4.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mgettydefs (4) manual" />
  <meta property="og:description" content="Speed and terminal settings used by mgetty" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mgetty-mgettydefs-4.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mgettydefs<small> (4)</small></h1>
        <p class="lead">Speed and terminal settings used by mgetty</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/">
      <span itemprop="name">Special files</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/mgettydefs.4.html">
      <span itemprop="name">mgettydefs: Speed and terminal settings used by mgetty</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mgetty/">
      <span itemprop="name">mgetty</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/mgettydefs.4.html">
      <span itemprop="name">mgettydefs: Speed and terminal settings used by mgetty</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>/etc/gettydefs</strong> file contains information used by <strong>mgetty</strong>(1) to set up the speed and terminal settings for a line. It also supplies information on what the <em>login</em> prompt should look like.</p><p>Many versions of UNIX have a version of <strong>getty</strong>(1) that also reads <strong>/etc/gettydefs</strong>. Both <em>mgetty</em> and <em>getty</em> expect similar formats in <strong>/etc/gettydefs</strong> except that, when used by <em>mgetty</em>, extended functionality is available. Even so, the additional functions are simply ignored by standard <em>getty</em>, so they can co-exist using the same file. Note, however, that <em>mgetty</em> can be compiled to use a file different from <strong>/etc/gettydefs</strong> if your <em>getty</em> gets upset about the extensions. This manual page documents <strong>/etc/gettydefs</strong> and describes the extended functionality available when used by <strong>mgetty</strong>(1). This document will refer to <strong>getty</strong>(1) except where <em>mgetty</em>'s behaviour is different.</p><p>Each entry in <strong>/etc/gettydefs</strong> has the following format:</p><ul>
<li><p>label# initial-flags # final-flags # login-prompt #next-label</p></li>
</ul><p>Each entry is followed by a blank line. The login prompt field can contain quoted characters which will be converted to other values. The sequences and their substitutions are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&#92;n</strong></p>
  </dt>
  <dd>
    <p>newline</p>
  </dd>
  <dt>
    <p><strong>&#92;r</strong></p>
  </dt>
  <dd>
    <p>carriage return</p>
  </dd>
  <dt>
    <p><strong>&#92;g</strong></p>
  </dt>
  <dd>
    <p>beep</p>
  </dd>
  <dt>
    <p><strong>&#92;b</strong></p>
  </dt>
  <dd>
    <p>backspace</p>
  </dd>
  <dt>
    <p><strong>&#92;v</strong></p>
  </dt>
  <dd>
    <p>vertical tab (VT)</p>
  </dd>
  <dt>
    <p><strong>&#92;f</strong></p>
  </dt>
  <dd>
    <p>formfeed</p>
  </dd>
  <dt>
    <p><strong>&#92;t</strong></p>
  </dt>
  <dd>
    <p>tab</p>
  </dd>
  <dt>
    <p><strong>&#92;L</strong></p>
  </dt>
  <dd>
    <p>portname</p>
  </dd>
  <dt>
    <p><strong>&#92;C</strong></p>
  </dt>
  <dd>
    <p>time in <a href="../man3/ctime.3.html"><strong>ctime</strong>(3)</a> format.</p>
  </dd>
  <dt>
    <p><strong>&#92;N</strong></p>
  </dt>
  <dd>
    <p>number of users currently logged in</p>
  </dd>
  <dt>
    <p><strong>&#92;U</strong></p>
  </dt>
  <dd>
    <p>number of users currently logged in</p>
  </dd>
  <dt>
    <p><strong>&#92;D</strong></p>
  </dt>
  <dd>
    <p>date in DD/MM format</p>
  </dd>
  <dt>
    <p><strong>&#92;T</strong></p>
  </dt>
  <dd>
    <p>time in hh:mm:ss format</p>
  </dd>
  <dt>
    <p><strong>&#92;I</strong></p>
  </dt>
  <dd>
    <p>modem CONNECT attributes</p>
  </dd>
  <dt>
    <p><strong>&#92;sequence</strong></p>
  </dt>
  <dd>
    <p>where "sequence" is a valid strtol format, such as: &#92;0nnn (octal), &#92;0xnnn (hex), or &#92;nnn (decimal).</p>
  </dd>

</dl>
<p>Note that standard <em>getty</em> usually only supports &#92;b, &#92;r and &#92;n.</p><p>The various fields are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>label</em></p>
  </dt>
  <dd>
    <p>This is the string against which <em>getty</em> tries to match its second argument. It is often the speed, such as <strong>1200</strong>, at which the terminal is supposed to run, but it need not be (see below).</p>
  </dd>
  <dt>
    <p><em>initial-flags</em></p>
  </dt>
  <dd>
    <p>These flags are the initial <a href="../man2/ioctl.2.html"><strong>ioctl</strong>(2)</a> settings to which the terminal is to be set if a terminal type is not specified to <em>getty</em>. The flags that <em>getty</em> understands are the ones listed in <a href="../man7/termio.7.html"><strong>termio</strong>(7)</a>). <em>mgetty</em> is usually compiled for <strong>termios</strong>(7) and often has a more complete set than <em>getty</em>.</p>
  </dd>
  <dt>
    <p>Normally only the speed flag is required in the</p>
  </dt>
  <dd>
    <p><em>initial-flags</em>. <em>getty</em> automatically sets the terminal to raw input mode and takes care of the other flags. If the "-s" option is used with <strong>mgetty</strong>(1) the speed setting is ignored. The <em>initial-flag</em> settings remain in effect until <em>getty</em> executes <a href="../man1/login.1.html"><strong>login</strong>(1)</a>.</p>
  </dd>
  <dt>
    <p><em>final-flags</em></p>
  </dt>
  <dd>
    <p>These flags take the same values as the <em>initial-flags</em> and are set just before <em>getty</em> executes <em>login</em>. The speed flag is again required, except with <em>mgetty</em> if the -s flag was supplied. Two other commonly specified <em>final-flags</em> are <small></small> <strong>TAB3</strong>, so that tabs are sent to the terminal as spaces, and <small></small> <strong>HUPCL</strong>, so that the line is hung up on the final close.</p>
  </dd>
  <dt>
    <p><em>login-prompt</em></p>
  </dt>
  <dd>
    <p>This entire field is printed as the <em>login-prompt</em>. Unlike the above fields where white space (a space, tab or new-line) is ignored, they are included in the <em>login-prompt</em> field. This field is ignored if the "-p" option has been specified to <strong>mgetty</strong>(1).</p>
  </dd>
  <dt>
    <p><em>next-label</em></p>
  </dt>
  <dd>
    <p>specifies the label to use if the user user types a <em>&lt;break&gt;</em> character, or <em>getty</em> detects a reception error. <em>Getty</em> searches for the entry with <em>next-label</em> as its <em>label</em> field and set up the terminal for those settings. Usually, a series of speeds are linked together in this fashion, into a closed set; for instance, <strong>2400</strong> linked to <strong>1200</strong>, which in turn is linked to <strong>300</strong>, which finally is linked to <strong>2400</strong>. <em>next-label</em> is ignored with <strong>mgetty</strong>(1).</p>
  </dd>

</dl>
<p>Several additional composite settings are available for <em>initial-flags</em> and <em>final-flags</em>. The following composite flags are supported by <em>mgetty</em> and are usually supported by <em>getty</em>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>SANE</strong></p>
  </dt>
  <dd>
    <p>equivalent to ``stty sane''. (BRKINT, IGNPAR, ISTRIP, ICRNL, IXON, OPOST, CS8, CREAD, ISIG, ICANON, ECHO, ECHOK)</p>
  </dd>
  <dt>
    <p><strong>ODDP</strong></p>
  </dt>
  <dd>
    <p>Odd parity (CS7, PARENB, PARODD)</p>
  </dd>
  <dt>
    <p><strong>PARITY</strong>,<strong>EVENP</strong></p>
  </dt>
  <dd>
    <p>even parity (CS7, PARENB)</p>
  </dd>
  <dt>
    <p><strong>-ODDP</strong>,<strong>-PARITY</strong>,<strong>-EVENP</strong></p>
  </dt>
  <dd>
    <p>no parity (resets PARENB, PARODD, and sets CS8)</p>
  </dd>
  <dt>
    <p><strong>RAW</strong></p>
  </dt>
  <dd>
    <p>raw I/O (no canonical processing) (turns off OPOST, ICANON)</p>
  </dd>
  <dt>
    <p><strong>-RAW</strong>,<strong>COOKED</strong></p>
  </dt>
  <dd>
    <p>enable canonical processing (turns on OPOST, ICANON)</p>
  </dd>
  <dt>
    <p><strong>NL</strong></p>
  </dt>
  <dd>
    <p>Ignore newlines. (ICRNL, ONLCR)</p>
  </dd>
  <dt>
    <p><strong>-NL</strong></p>
  </dt>
  <dd>
    <p>Respect newlines (turns INLCR, IGNCR, ICRNL, ONLCR, OCRNL, ONLRET off)</p>
  </dd>
  <dt>
    <p><strong>LCASE</strong></p>
  </dt>
  <dd>
    <p>Ignore case - treat all as lowercase. (IUCLC, OLCUC, XCASE) Is set if mgetty believes login is entirely uppercase.</p>
  </dd>
  <dt>
    <p><strong>-LCASE</strong></p>
  </dt>
  <dd>
    <p>Repect case (turns off IUCLC, OLCUC and XCASE)</p>
  </dd>
  <dt>
    <p><strong>TABS</strong></p>
  </dt>
  <dd>
    <p>output tabs as tabs</p>
  </dd>
  <dt>
    <p><strong>-TABS</strong>,<strong>TAB3</strong></p>
  </dt>
  <dd>
    <p>output tabs as spaces</p>
  </dd>
  <dt>
    <p><strong>EK</strong></p>
  </dt>
  <dd>
    <p>Sets VERASE to "#" and VKILL to CKILL respectively. (note that while many gettys default VERASE to "#". <em>mgetty</em> defaults VERASE to backspace.)</p>
  </dd>

</dl>
<p>Additionally, <em>mgetty</em> (but not <em>getty</em>) can set any of the control characters listed in the <strong>c_cc</strong> termio(termios) structure by the use of two tokens:</p><p>&lt;character name&gt; &lt;value&gt;</p><p>Eg:</p><p>VERASE ^h</p><p>The value can be set as ``^&lt;character&gt;'', ``&#92;nnn'' or ``&#92;&lt;character&gt;'' (normal UNIX &#92; escapes).</p><p>See the <a href="../man7/termio.7.html"><strong>termio</strong>(7)</a> or <strong>termios</strong>(7) manual pages to a list of which ``V'' variables can be changed. Note that many of these can be changed in the c_cc array, but won't have any effect.</p><p>If <em>getty</em> is called without a second argument, the first entry of <strong>/etc/gettydefs</strong> is used by <em>getty</em>, thus making the first entry of <strong>/etc/gettydefs</strong> the default entry. It is also used if <em>getty</em> cannot find the specified <em>label</em>. <em>Mgetty</em> use a default label of ``n'', but this can be changed in the configuration. If <strong>/etc/gettydefs</strong> itself is missing, there is one entry built into the command which brings up a terminal at <strong>300</strong> (configuration parameter in <em>mgetty</em>) baud.</p><p>It is strongly recommended that after making or modifying <strong>/etc/gettydefs</strong>, it be run through <em>getty</em> with the check option to be sure there are no errors.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following two lines show an example of 300/1200 baud toggle, which is useful for dial-up ports:</p><ul>
<li><p>1200# B1200 HUPCL # B1200 SANE IXANY TAB3 #login: #300</p><p>300# B300 HUPCL # B300 SANE IXANY TAB3 #login: #1200</p></li>
</ul><p>The following line shows a typical 9600 baud entry for a hard-wired connection (not currently supported for <em>mgetty</em>):</p><ul>
<li><p>9600# B9600 # B9600 SANE IXANY IXANY ECHOE TAB3 #login: #9600</p></li>
</ul><p>The following line is a typical smart-modem setup, suitable for <em>mgetty</em>:</p><ul>
<li>
<pre>
19200mg#
    B19200 #
    B19200 SANE VERASE &#92;b VINTR &#92;003 HUPCL #
    &#92;n&#92;D &#92;T &#92;N Users @!login: #19200mg
</pre>
</li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/gettydefs</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mgettydefs&hellip;</h2>
        <div class="sectioncontent">
<p><strong>mgetty</strong>(8), <a href="../man8/getty.8.html"><strong>getty</strong>(8)</a>, <a href="../man1/login.1.html"><strong>login</strong>(1)</a>, <a href="../man2/ioctl.2.html"><strong>ioctl</strong>(2)</a>, <a href="../man7/termio.7.html"><strong>termio</strong>(7)</a>, <strong>termios</strong>(7).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mga.4.html"><span aria-hidden="true">&larr;</span> mga.4: Matrox video driver</a></li>
   <li class="next"><a href="miff.4.html">miff.4: Magick image file format <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
