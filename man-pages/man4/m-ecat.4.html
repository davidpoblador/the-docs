<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>m-ecat: Cti ecat 6/7 medical image format (medcon)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cti ecat 6/7 medical image format (medcon)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="m-ecat (4) manual">
  <meta name="twitter:description" content="Cti ecat 6/7 medical image format (medcon)">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmdc2-dev-m-ecat-4.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man4/m-ecat.4.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="m-ecat (4) manual" />
  <meta property="og:description" content="Cti ecat 6/7 medical image format (medcon)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmdc2-dev-m-ecat-4.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">m-ecat<small> (4)</small></h1>
        <p class="lead">Cti ecat 6/7 medical image format (medcon)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/">
      <span itemprop="name">Special files</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/m-ecat.4.html">
      <span itemprop="name">m-ecat: Cti ecat 6/7 medical image format (medcon)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmdc2-dev/">
      <span itemprop="name">libmdc2-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/m-ecat.4.html">
      <span itemprop="name">m-ecat: Cti ecat 6/7 medical image format (medcon)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This is a painful format. You should check the source code for more info. There is only read support for ECAT 7. Below you will find the specs for the ECAT 6 format. The ECAT 7 format differs a little in header definitions and there is only one matrix entry per volume, while for ECAT 6 files there is one matrix entry per plane. All ECAT 6 image data is written in one file with `.img' extension.</p><p>----------------------------------------------------------------------- Important Definitions -----------------------------------------------------------------------</p>
<pre>
typedef struct mat_main_header {
        char            original_file_name[20];
        Int16           sw_version;
        Int16           data_type;
        Int16           system_type;
        Int16           file_type;
        char            node_id[10];
        Int16           scan_start_day,
                        scan_start_month,
                        scan_start_year,
                        scan_start_hour,
                        scan_start_minute,
                        scan_start_second;
        char            isotope_code[8];
        float           isotope_halflife;
        char            radiopharmaceutical[32];
        float           gantry_tilt,
                        gantry_rotation,
                        bed_elevation;
        Int16           rot_source_speed,
                        wobble_speed,
                        transm_source_type;
        float           axial_fov,
                        transaxial_fov;
        Int16           transaxial_samp_mode,
                        coin_samp_mode,
                        axial_samp_mode;
        float           calibration_factor;
        Int16           calibration_units,
                        compression_code;
        char            study_name[12],
                        patient_id[16],
                        patient_name[32],
                        patient_sex,
                        patient_age[10],
                        patient_height[10],
                        patient_weight[10],
                        patient_dexterity,
                        physician_name[32],
                        operator_name[32],
                        study_description[32];
        Int16           acquisition_type,
                        bed_type,
                        septa_type;
        char            facility_name[20];
        Int16           num_planes,
                        num_frames,
                        num_gates,
                        num_bed_pos;
        float           init_bed_position,
                        bed_offset[15],
                        plane_separation;
        Int16           lwr_sctr_thres,
                        lwr_true_thres,
                        upr_true_thres;
        float           collimator;
        char            user_process_code[10];
        Int16           acquisition_mode;

} Main_header;

#define MH_64_SIZE 446

typedef struct mat_scan_subheader {
        Int16           data_type,
                        dimension_1,
                        dimension_2,
                        smoothing,
                        processing_code;
        float           sample_distance,
                        isotope_halflife;
        Int16           frame_duration_sec;
        Int32           gate_duration,
                        r_wave_offset;
        float           scale_factor;
        Int16           scan_min,
                        scan_max;
        Int32           prompts,
                        delayed,
                        multiples,
                        net_trues;
        float           cor_singles[16],
                        uncor_singles[16],
                        tot_avg_cor,
                        tot_avg_uncor;
        Int32           total_coin_rate,
                        frame_start_time,
                        frame_duration;
        float           loss_correction_fctr;
        Int32           phy_planes[8];

} Scan_subheader;

#define SSH_64_SIZE 236

typedef struct mat_image_subheader {
        Int16           data_type,
                        num_dimensions,
                        dimension_1,
                        dimension_2;
        float           x_origin,
                        y_origin,
                        recon_scale,    /* Image ZOOM from reconstruction */
                        quant_scale;    /* Scale Factor */
        Int16           image_min,
                        image_max;
        float           pixel_size,
                        slice_width;
        Int32           frame_duration,
                        frame_start_time;
        Int16           slice_location,
                        recon_start_hour,
                        recon_start_minute,
                        recon_start_sec;
        Int32           gate_duration;
        Int16           filter_code;
        Int32           scan_matrix_num,
                        norm_matrix_num,
                        atten_cor_matrix_num;
        float           image_rotation,
                        plane_eff_corr_fctr,
                        decay_corr_fctr,
                        loss_corr_fctr,
                        intrinsic_tilt ;
        Int16           processing_code,
                        quant_units,
                        recon_start_day,
                        recon_start_month,
                        recon_start_year;
        float           ecat_calibration_fctr,
                        well_counter_cal_fctr,
                        filter_params[6];
        char            annotation[40];

} Image_subheader;

#define ISH_64_SIZE 172

typedef struct mat_norm_subheader {
        Int16           data_type,
                        dimension_1,
                        dimension_2;
        float           scale_factor;
        Int16           norm_hour,
                        norm_minute,
                        norm_second,
                        norm_day,
                        norm_month,
                        norm_year;
        float           fov_source_width;
        float           ecat_calib_factor;

} Norm_subheader;

#define NSH_64_SIZE 30

typedef struct mat_attn_subheader {
        Int16           data_type,
                        attenuation_type,
                        dimension_1,
                        dimension_2;
        float           scale_factor,
                        x_origin,
                        y_origin,
                        x_radius,
                        y_radius,
                        tilt_angle,
                        attenuation_coeff,
                        sample_distance;

} Attn_subheader;

#define ASH_64_SIZE 40

-----------------------------------------------------------------------


What does the format support or not support:

===========================================================================
Item            Supported                             Not Supported
===========================================================================
Color Map     : grayscale                                   -
File Endian   : big                                       little
Pixeltypes    : VAX Int16 (write)  | All (read)             -
===========================================================================
Scaling factors  : quantify & calibrate factors/image  are supported
---------------------------------------------------------------------------
Dimensions/Image : different dimensions for each image are NOT supported
---------------------------------------------------------------------------
Pixeltypes/Image : different pixeltypes for each image are NOT supported
===========================================================================
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The MedCon program also supports the reading of sinogram, attenuation and normalization files for conversion purposes but it does not support writing those file types. In fact, they will be considered as reconstructed data!</p><p>The format supports more pixeltypes. The reason for our restriction of writing only the Int16 type was our ECAT software that only supports the Int16 type.</p><p>We consider three kinds of images (planes) in an ECAT file:</p><p>(1) plain pixel values [no unit]              (ppv = ppv)</p>
<pre>
  - the planes/images are NOT normalized
</pre>
<p>(2) quantified  values [counts/second/pixel]  (qpv = ppv * quant_scale)</p>
<pre>
  - the planes/images are normalized
</pre>
<p>(3) calibrated  values [uCi/ml]               (cpv = qpv * calibr_fctr)</p>
<pre>
  - the planes/images are normalized
</pre>
<p>The float values in the header are stored as VAX format.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
/usr/local/xmedcon/source/m-ecat64.h      The header file.
/usr/local/xmedcon/source/m-ecat64.c      The source file.
/usr/local/xmedcon/source/m-matrix64.h    CTI header file.
/usr/local/xmedcon/source/m-matrix64.c    CTI source file.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO m-ecat&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/medcon.1.html"><strong>medcon</strong>(1)</a>, <a href="../man1/xmedcon.1.html"><strong>xmedcon</strong>(1)</a>, <a href="../man1/xmedcon-config.1.html"><strong>xmedcon-config</strong>(1)</a></p><p><a href="../man4/m-acr.4.html"><strong>m-acr</strong>(4)</a>, <a href="../man4/m-anlz.4.html"><strong>m-anlz</strong>(4)</a>, <a href="../man4/m-gif.4.html"><strong>m-gif</strong>(4)</a>, <a href="../man4/m-inw.4.html"><strong>m-inw</strong>(4)</a>, <a href="../man4/m-intf.4.html"><strong>m-intf</strong>(4)</a></p><p><a href="../man3/medcon.3.html"><strong>medcon</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><em>(X)MedCon</em> project was originally written by Erik Nolf (eNlf) for the former PET-Centre at Ghent University (Belgium).</p><table class="table table-striped">
<tr>
<th>e-mail:</th>
<th>enlf-at-users.sourceforge.net</th>
<th>www:</th>
<th>http://xmedcon.sourceforge.net</th></tr>
</table>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="m-anlz.4.html"><span aria-hidden="true">&larr;</span> m-anlz.4: Analyze (spm) medical image format (medcon)</a></li>
   <li class="next"><a href="m-gif.4.html">m-gif.4: Gif87a and annimated gif89a format (medcon) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
