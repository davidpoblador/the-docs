<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>isdninfo: Isdn status device</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Isdn status device">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="isdninfo (4) manual">
  <meta name="twitter:description" content="Isdn status device">
  <meta name="twitter:image" content="https://www.carta.tech/images/isdnutils-base-isdninfo-4.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man4/isdninfo.4.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="isdninfo (4) manual" />
  <meta property="og:description" content="Isdn status device" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/isdnutils-base-isdninfo-4.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">isdninfo<small> (4)</small></h1>
        <p class="lead">Isdn status device</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/">
      <span itemprop="name">Special files</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/isdninfo.4.html">
      <span itemprop="name">isdninfo: Isdn status device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/isdnutils-base/">
      <span itemprop="name">isdnutils-base</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/isdninfo.4.html">
      <span itemprop="name">isdninfo: Isdn status device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;linux/isdn.h&gt;</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>/dev/isdninfo</em> is a character device with major number <strong>45</strong> and minor number <strong>255</strong>. It delivers status information from the Linux <small>ISDN</small> subsystem to user level.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA FORMAT</h2>
        <div class="sectioncontent">
<p>When reading from this device, the current status of the Linux <small>ISDN</small> subsystem is delivered in <strong>6</strong> lines of text. Each line starts with a tag string followed by a colon and whitespace. After that the status values are appended separated by whitespace.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>idmap</strong></p>
  </dt>
  <dd>
    <p>is the tag of the first line. In this line for every virtual channel, the Id-string of the corresponding lowlevel driver is shown. If no driver is loaded, a - (hyphen) is shown.</p>
  </dd>
  <dt>
    <p><strong>chmap</strong></p>
  </dt>
  <dd>
    <p>is the tag of line 2. In this line for every virtual channel, the channel number of the corresponding lowlevel driver is shown. If no driver is loaded, -1 is shown.</p>
  </dd>
  <dt>
    <p><strong>drmap</strong></p>
  </dt>
  <dd>
    <p>is the tag of line 3. In this line for every virtual channel, the index number of the corresponding lowlevel driver is shown. If no driver is loaded, -1 is shown.</p>
  </dd>
  <dt>
    <p><strong>usage</strong></p>
  </dt>
  <dd>
    <p>is the tag of line 4. In this line for every virtual channel, the current usage is shown. The following usage constants are defined:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ISDN_USAGE_NONE</strong> (0)</p>
  </dt>
  <dd>
    <p>Unused channel</p>
  </dd>
  <dt>
    <p><strong>ISDN_USAGE_RAW</strong> (1)</p>
  </dt>
  <dd>
    <p>Channel used by raw device (currently unsupported)</p>
  </dd>
  <dt>
    <p><strong>ISDN_USAGE_MODEM</strong> (2)</p>
  </dt>
  <dd>
    <p>Channel used by some ttyI</p>
  </dd>
  <dt>
    <p><strong>ISDN_USAGE_NET</strong> (3)</p>
  </dt>
  <dd>
    <p>Channel used by an ISDN net-interface</p>
  </dd>
  <dt>
    <p><strong>ISDN_USAGE_VOICE</strong> (4)</p>
  </dt>
  <dd>
    <p>Channel used by some ttyI in voice mode.</p>
  </dd>
  <dt>
    <p><strong>ISDN_USAGE_EXCLUSIVE</strong> (64)</p>
  </dt>
  <dd>
    <p>Channel exclusively preserved for a net-interface. This value is logically or'ed with one of the other codes.</p>
  </dd>
  <dt>
    <p><strong>ISDN_USAGE_OUTGOING</strong> (128)</p>
  </dt>
  <dd>
    <p>Channel is used outgoing. This value is logically or'ed with one of the other codes. It is set, when dialling is started and reset, when either dialling failed or after hangup. Therefore, it is <strong>not</strong> always an indicator for an established connection. To get a reliable indicator for an established connection, the driver flags (see below) have to be inspected also.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>flags</strong></p>
  </dt>
  <dd>
    <p>is the tag of line 5. In this line for every driver slot, it's B-Channel status is shown. If no driver is registered in a slot, a ? is shown. For every established B-Channel of the driver, a bit is set in the shown value. The driver's first channel is mapped to bit 0, the second channel to bit 1 and so on.</p>
  </dd>
  <dt>
    <p><strong>phone</strong></p>
  </dt>
  <dd>
    <p>is the tag of line 6. In this line for every virtual channel, the remote phone number is shown if the channel is active. A ??? is shown, if the channel is inactive.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BLOCKING BEHAVIOUR</h2>
        <div class="sectioncontent">
<p>After opening the device, at most 6 lines can be read by a user process. After that, the user process is blocked. Whenever a status change happens, the process is allowed to read 6 more lines, starting with line one.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IOCTL FUNCTIONS</h2>
        <div class="sectioncontent">
<p>Currently, there are two ioctl calls supported:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>IIOCGETDVR</strong></p>
  </dt>
  <dd>
    <p>Get Revision information.</p><p>Returns an unsigned long value <em>v</em>, representing various user level interface revisions, where</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>(</strong><em>v</em><strong> & 0xff)</strong></p>
  </dt>
  <dd>
    <p>is the revision of the modem-register info, available via ioctl on <em>/dev/isdnctrl</em>.</p>
  </dd>
  <dt>
    <p><strong>((</strong><em>v</em><strong> &gt;&gt; 8) & 0xff)</strong></p>
  </dt>
  <dd>
    <p>is the revision of the net-interface config data, available via ioctl on <em>/dev/isdnctrl</em>. and</p>
  </dd>
  <dt>
    <p><strong>((</strong><em>v</em><strong> &gt;&gt; 16) & 0xff)</strong></p>
  </dt>
  <dd>
    <p>is the revision of the data delivered via <em>/dev/isdninfo</em> itself.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>IIOCGETCPS</strong></p>
  </dt>
  <dd>
    <p>Get transfer statistics.</p><p>Returns the number of bytes transferred so far for all virtual channels. The third parameter should be a pointer to an array of unsigned long of size ISDN_MAX_CHANNELS * 2. This array is filled with the byte counter values upon return.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER CONSTANTS</h2>
        <div class="sectioncontent">
<p>There are some more useful constants defined in <em>/usr/include/linux/isdn.h</em>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ISDN_TTY_MAJOR</strong></p>
  </dt>
  <dd>
    <p>The major device number of <em>/dev/ttyI</em>.</p>
  </dd>
  <dt>
    <p><strong>ISDN_TTYAUX_MAJOR</strong></p>
  </dt>
  <dd>
    <p>The major device number of <em>/dev/cui</em>.</p>
  </dd>
  <dt>
    <p><strong>ISDN_MAJOR</strong></p>
  </dt>
  <dd>
    <p>The major device number of <em>/dev/isdnctrl</em>, <em>/dev/isdninfo</em>, <em>/dev/ippp</em> and <em>/dev/isdn</em></p>
  </dd>
  <dt>
    <p><strong>ISDN_MAX_DRIVERS</strong></p>
  </dt>
  <dd>
    <p>The number of driver slots.</p>
  </dd>
  <dt>
    <p><strong>ISDN_MAX_CHANNELS</strong></p>
  </dt>
  <dd>
    <p>The number of virtual channels.</p>
  </dd>
  <dt>
    <p><strong>ISDN_MINOR_CTRL</strong></p>
  </dt>
  <dd>
    <p>The minor device number of <em>/dev/isdnctrl0</em>.</p>
  </dd>
  <dt>
    <p><strong>ISDN_MINOR_CTRLMAX</strong></p>
  </dt>
  <dd>
    <p>The minor device number of <em>/dev/isdnctrl63</em>.</p>
  </dd>
  <dt>
    <p><strong>ISDN_MINOR_PPP</strong></p>
  </dt>
  <dd>
    <p>The minor device number of <em>/dev/ippp0</em>.</p>
  </dd>
  <dt>
    <p><strong>ISDN_MINOR_PPPMAX</strong></p>
  </dt>
  <dd>
    <p>The minor device number of <em>/dev/ippp64</em>.</p>
  </dd>
  <dt>
    <p><strong>ISDN_MINOR_STATUS</strong></p>
  </dt>
  <dd>
    <p>The minor device number of <em>/dev/isdninfo</em>.</p>
  </dd>

</dl>
<p>Other constants, necessary for ioctl's on <em>/dev/isdnctrl</em> are listed in <a href="../man4/isdnctrl.4.html"><strong>isdnctrl</strong>(4)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Fritz Elfert &lt;fritz@isdn4linux.de&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO isdninfo&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man4/isdnctrl.4.html"><strong>isdnctrl</strong>(4)</a>, <strong>icnctrl</strong>(4).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="isdnctrl.4.html"><span aria-hidden="true">&larr;</span> isdnctrl.4: Isdn control device</a></li>
   <li class="next"><a href="joystick.4.html">joystick.4: Joystick input driver <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
