<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>afnix-xpe: Xml processing environment service</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Xml processing environment service">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="afnix-xpe (4) manual">
  <meta name="twitter:description" content="Xml processing environment service">
  <meta name="twitter:image" content="https://www.carta.tech/images/afnix-afnix-xpe-4.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man4/afnix-xpe.4.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="afnix-xpe (4) manual" />
  <meta property="og:description" content="Xml processing environment service" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/afnix-afnix-xpe-4.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">afnix-xpe<small> (4)</small></h1>
        <p class="lead">Xml processing environment service</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/">
      <span itemprop="name">Special files</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/afnix-xpe.4.html">
      <span itemprop="name">afnix-xpe: Xml processing environment service</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/afnix/">
      <span itemprop="name">afnix</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man4/afnix-xpe.4.html">
      <span itemprop="name">afnix-xpe: Xml processing environment service</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">XML PROCESSING ENVIRONMENT SERVICE</h2>
        <div class="sectioncontent">
<p>The XML Processing Environment service is an original implementation that provides the support for processing xml document that could be accessed locally or remotely. In particular, the processing environment supports the XML include facility.</p><p><strong>XML content</strong></p><p>The XmlContent class is an extension of the XML document object that provides the service for loading a XML document locally or from the Internet. The class operates with an uri, which permits to selects the appropriate loader from the uri scheme.</p><p><em>Content creation</em></p><p>The XmlContent operates with an uri that permits to select the appropriate loader. If the uri scheme is a file scheme, the content is retrieved locally. If the uri scheme is http, the content is retrieved by establishing a http connection over the Internet.</p>
<pre>
# create a document from a local file
const xdoc (
  afnix:xpe:XmlContent "file:///home/afnix/file.xml")
</pre>
<p>When the uri scheme is a file, the uri authority is empty (hence the double //) and the path indicates the file to parse. The XmlContent object is derived from the XmlDocument object which contains the parsed tree with the XmlRoot object.</p>
<pre>
# create a document from a http connection
const xdoc (
  afnix:xpe:XmlContent
  "http://www.afnix.org/index.xht")
</pre>
<p>When the uri scheme is a http scheme, the document is downloaded by establishing an http connection with the uri authority. When the http header is received, the content is parsed to create a valid xml document. If the http response header indicates that the page has moved and a new location is provided, the object manages automatically to follow such location.</p><p><em>Content and document name</em></p><p>Since the XmlContent object is derived from the XmlContent object, the content object is defined with a uri name and a document name. Under normal circumstances, the document name is derived from the content name by normalizing it. The content name is the object constructor name, while the document name is the normalized document name. The get-name method returns the content name while the get-document-name method returns the document name.</p>
<pre>
# create a document by name
const xdoc (afnix:xpe:XmlContent "file" "file.xml")
</pre>
<p>In the previous example, a xml content object is created by name with a document name. It is the document name that gets normalized. Therefore in the previous example, the file.xml document name is normalized into a file uri. The normalization rule always favor the file scheme. This means that without a scheme, the file scheme is automatically added.</p><p><em>Content type</em></p><p>Many times, the content type cannot be detected from the uri name. Once opened, if the content header provides a clue about the content type, the opened input stream get adjusted automatically to reflect this fact. However, this situation does not occurs often and with http scheme, the content type header response does not often provides the character encoding associated with the stream. For this reason, the XmlContent constructor provides a mechanism to accept the encoding mode.</p>
<pre>
# create a new content by name and encoding mode
const xdoc (
  afnix:xpe:XmlContent "file" "file.xml" "UTF-8")
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">XML PROCESSING ENVIRONMENT SERVICE REFERENCE</h2>
        <div class="sectioncontent">
<p><strong>XmlContent</strong></p><p>The XmlContent class is an extension of the xml document class that operates at the uri level. If the uri is a local file the xml document is created from an input file stream. If the uri is an url, the content is fetched automatically. The class constructors permit to separate the content name from the document name and also to specify the content encoding.</p><p><em>Predicate</em></p><p>xml-content-p</p><p><em>Inheritance</em></p><p>XmlDocumentMime</p><p><em>Constructors</em></p><p><strong>XmlContent (String)</strong></p><p>The XmlContent constructor creates a xml document by name. The document name is the normalized uri name that always favor a file scheme in the absence of it.</p><p><strong>XmlContent (String String)</strong></p><p>The XmlContent constructor creates a xml document by name. The first argument is the content name. The second argument is the document name which is normalized to form the uri name used to load the document.</p><p><strong>XmlContent (String String String)</strong></p><p>The XmlContent constructor creates a xml document by name and encoding mode. The first argument is the content name. The second argument is the document name which is normalized to form the uri name used to load the document. The third argument is the content character encoding.</p><p><em>Methods</em></p><p><strong>get-document-uri -&gt; String (none)</strong></p><p>The get-document-uri method returns the document normalized uri.</p><p><strong>get-document-name -&gt; String (none)</strong></p><p>The get-document-name method returns the object document name. This method complements the get-name method which returns the object name.</p><p><strong>XmlFeature</strong></p><p>The XmlFeature class is a xml processor base class that defines a processing feature. A processing feature is defined by name and information with a processing level. The default processing level is null. When the processor is called, it calls sequentially and in ascending order all features.</p><p><em>Predicate</em></p><p>xhtml-feature-p</p><p><em>Inheritance</em></p><p>Nameable</p><p><em>Methods</em></p><p><strong>get-info -&gt; String (none)</strong></p><p>The get-info method returns the xml feature information string. The feature name is available from the get-name provided by the Nameable base class.</p><p><strong>set-processing-level -&gt; none (Integer)</strong></p><p>The set-processing-level method sets the feature processing level. The integer argument is the level to set.</p><p><strong>get-processing-level -&gt; Integer (none)</strong></p><p>The get-processing-level method returns the feature processing level.</p><p><strong>processing-level-p -&gt; Boolean (Integer)</strong></p><p>The processing-level-p predicate returns true if the integer argument equal the feature processing level.</p><p><strong>process -&gt; XmlContent (XmlContent)</strong></p><p>The process method process the input xml content and returns a new xml content. The method is automatically called by the xml processor.</p><p><strong>XmlProcessor</strong></p><p>The XmlProcessor class is a global class designed to operate on a xml content. The xml processor provides several features that can be enabled prior the document processor. Once the features are defined, the 'process' method can be called and a new xml content can be produced.</p><p><em>Predicate</em></p><p>xml-processor-p</p><p><em>Inheritance</em></p><p>Object</p><p><em>Constructors</em></p><p><strong>XmlProcessor (none)</strong></p><p>The XmlProcessor constructor creates a default xml processor without any feature.</p><p><em>Methods</em></p><p><strong>feature-length -&gt; Integer (none)</strong></p><p>The feature-length method returns the number of features defined in the xml processor.</p><p><strong>add-feature -&gt; none (XmlFeature)</strong></p><p>The add-feature method adds a feature object to the processor. The feature processing level does not have to be sorted prior the insertion. Adding multiple feature creates a processor chain.</p><p><strong>get-feature -&gt; XmlFeature (Integer)</strong></p><p>The get-feature method return a processor feature by index.</p><p><strong>process -&gt; XmlFeature (XmlFeature)</strong></p><p>The process method create a new xml content by calling processing feature chain. The feature chain consists of feature object sorted in ascending order. If the processor contains only one feature, calling the process method is equivalent to call the XmlFeature same method.</p><p><strong>XmlInclude</strong></p><p>The XmlInclude class is a xml processor feature class designed to handle the "XInclude" schema that permits to include xml document. The feature operates recursively by scanning the document for a "xi:include" tag and replacing the content by the appropriate tree. The feature operates recursively unless specified otherwise.</p><p><em>Predicate</em></p><p>xml-include-p</p><p><em>Inheritance</em></p><p>XmlFeature</p><p><em>Constructors</em></p><p><strong>XmlInclude (none)</strong></p><p>The XmlInclude constructor creates a default xml include feature. The default feature processing level is 10.</p><p><strong>XmlInclude (Integer)</strong></p><p>The XmlInclude constructor creates a xml include feature with a processing level. The integer argument is the feature processing level to set.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="afnix-wax.4.html"><span aria-hidden="true">&larr;</span> afnix-wax.4: Web application extension service</a></li>
   <li class="next"><a href="aiptek.4.html">aiptek.4: Aiptek usb digital tablet input driver for linux <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
