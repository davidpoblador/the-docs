<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>upsd: Ups information server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ups information server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="upsd (8) manual">
  <meta name="twitter:description" content="Ups information server">
  <meta name="twitter:image" content="https://www.carta.tech/images/nut-server-upsd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/upsd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="upsd (8) manual" />
  <meta property="og:description" content="Ups information server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nut-server-upsd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">upsd<small> (8)</small></h1>
        <p class="lead">Ups information server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/upsd.8.html">
      <span itemprop="name">upsd: Ups information server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nut-server/">
      <span itemprop="name">nut-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/upsd.8.html">
      <span itemprop="name">upsd: Ups information server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>upsd</strong> -h</p><p><strong>upsd</strong> [<em>OPTIONS</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>upsd</strong> is responsible for serving the data from the drivers to the clients. It connects to each driver and maintains a local cache of the current state. Queries from the clients are served from this cache, so delays are minimal.</p><p>It also conveys administrative messages from the clients back to the drivers, such as starting tests, or setting values.</p><p>Communication between <strong>upsd</strong> and clients is handled on a TCP port. Configuration details for this port are described in <strong>upsd.conf</strong>(8).</p><p>This program is essential, and must be running at all times to actually make any use out of the drivers and clients.</p><p>Controls in the configuration files allow you to limit access to the server, but you should also use a firewall for extra protection. Client processes such as <a href="../man8/upsmon.8.html"><strong>upsmon</strong>(8)</a> trust <strong>upsd</strong> for status information about the UPS hardware, so keep it secure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-c</strong> <em>command</em></p><p>Send <em>command</em> to the background process as a signal. Valid commands are:</p><p><strong>reload</strong></p><p>reread configuration files</p><p><strong>stop</strong></p><p>stop process and exit</p><p><strong>-D</strong></p><p>Raise the debug level. Use this multiple times for additional details.</p><p><strong>-h</strong></p><p>Display the help text.</p><p><strong>-r</strong> <em>directory</em></p><p>upsd will <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a> to <em>directory</em> shortly after startup and before parsing any configuration files with this option set. You can use this to create a "jail" for greater security.</p><p>You must coordinate this with your drivers, as upsd must be able to find the state path within <em>directory</em>. See <a href="../man8/upsdrvctl.8.html"><strong>upsdrvctl</strong>(8)</a> and <a href="../man8/nutupsdrv.8.html"><strong>nutupsdrv</strong>(8)</a>.</p><p><strong>-u</strong> <em>user</em></p><p>Switch to user <em>user</em> after startup if started as root. This overrides whatever you may have compiled in with configure --with-user.</p><p><strong>-V</strong></p><p>Display the version of the program.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELOADING</h2>
        <div class="sectioncontent">
<p>upsd can reload its configuration files without shutting down the process if you send it a SIGHUP or start it again with -c reload. This only works if the background process is able to read those files.</p><p>If you think that upsd can\(cqt reload, check your syslogs for error messages. If it\(cqs complaining about not being able to read the files, then you need to adjust your system to make it possible. Either change the permissions on the files, or run upsd as another user that will be able to read them.</p><p>DO NOT make your upsd.conf or upsd.users world-readable, as those files hold important authentication information. In the wrong hands, it could be used by some evil person to spoof your master upsmon and command your systems to shut down.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>upsd expects the drivers to either update their status regularly or at least answer periodic queries, called pings. If a driver doesn\(cqt answer, upsd will declare it "stale" and no more information will be provided to the clients.</p><p>If upsd complains about staleness when you start it, then either your driver or configuration files are probably broken. Be sure that the driver is actually running, and that the UPS definition in <a href="../man5/ups.conf.5.html"><strong>ups.conf</strong>(5)</a> is correct. Also make sure that you start your driver(s) before starting upsd.</p><p>Data can also be marked stale if the driver can no longer communicate with the UPS. In this case, the driver should also provide diagnostic information in the syslog. If this happens, check the serial or USB cabling, or inspect the network path in the case of a SNMP UPS.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACCESS CONTROL</h2>
        <div class="sectioncontent">
<p>If the server is build with tcp-wrappers support enabled, it will check if the NUT username is allowed to connect from the client address through the /etc/hosts.allow and /etc/hosts.deny files. Note that this will only be done for commands that require to be logged into the server. Further details are described in <a href="../man5/hosts_access.5.html"><strong>hosts_access</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>The general upsd configuration file is <a href="../man5/upsd.conf.5.html"><strong>upsd.conf</strong>(5)</a>. The administrative functions like SET and INSTCMD for users are defined and controlled in <a href="../man5/upsd.users.5.html"><strong>upsd.users</strong>(5)</a>. UPS definitions are found in <a href="../man5/ups.conf.5.html"><strong>ups.conf</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p><strong>NUT_CONFPATH</strong> is the path name of the directory that contains upsd.conf and other configuration files. If this variable is not set, <strong>upsd</strong> uses a built-in default, which is often /usr/local/ups/etc.</p><p><strong>NUT_STATEPATH</strong> is the path name of the directory in which <strong>upsd</strong> keeps state information. If this variable is not set, <strong>upsd</strong> uses a built-in default, which is often /var/state/ups. The <strong>STATEPATH</strong> directive in <a href="../man5/upsd.conf.5.html"><strong>upsd.conf</strong>(5)</a> overrides this variable.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO upsd&hellip;</h2>
        <div class="sectioncontent">
<h3>Clients:</h3>
<p><a href="../man8/upsc.8.html"><strong>upsc</strong>(8)</a>, <a href="../man8/upscmd.8.html"><strong>upscmd</strong>(8)</a>, <a href="../man8/upsrw.8.html"><strong>upsrw</strong>(8)</a>, <a href="../man8/upslog.8.html"><strong>upslog</strong>(8)</a>, <a href="../man8/upsmon.8.html"><strong>upsmon</strong>(8)</a></p>
<h3>CGI programs:</h3>
<p><a href="../man8/upsset.cgi.8.html"><strong>upsset.cgi</strong>(8)</a>, <a href="../man8/upsstats.cgi.8.html"><strong>upsstats.cgi</strong>(8)</a>, <a href="../man8/upsimage.cgi.8.html"><strong>upsimage.cgi</strong>(8)</a></p>
<h3>Drivers:</h3>
<p><a href="../man8/nutupsdrv.8.html"><strong>nutupsdrv</strong>(8)</a>, <a href="../man8/apcsmart.8.html"><strong>apcsmart</strong>(8)</a>, <a href="../man8/belkin.8.html"><strong>belkin</strong>(8)</a>, <a href="../man8/belkinunv.8.html"><strong>belkinunv</strong>(8)</a>, <a href="../man8/bestuferrups.8.html"><strong>bestuferrups</strong>(8)</a>, <a href="../man8/bestups.8.html"><strong>bestups</strong>(8)</a>, <strong>cyberpower</strong>(8), <strong>energizerups</strong>(8), <a href="../man8/etapro.8.html"><strong>etapro</strong>(8)</a>, <a href="../man8/everups.8.html"><strong>everups</strong>(8)</a>, <a href="../man8/genericups.8.html"><strong>genericups</strong>(8)</a>, <a href="../man8/isbmex.8.html"><strong>isbmex</strong>(8)</a>, <a href="../man8/liebert.8.html"><strong>liebert</strong>(8)</a>, <a href="../man8/masterguard.8.html"><strong>masterguard</strong>(8)</a>, <a href="../man8/mge-shut.8.html"><strong>mge-shut</strong>(8)</a>, <a href="../man8/mge-utalk.8.html"><strong>mge-utalk</strong>(8)</a>, <a href="../man8/oneac.8.html"><strong>oneac</strong>(8)</a>, <a href="../man8/powercom.8.html"><strong>powercom</strong>(8)</a>, <a href="../man8/safenet.8.html"><strong>safenet</strong>(8)</a>, <a href="../man8/snmp-ups.8.html"><strong>snmp-ups</strong>(8)</a>, <a href="../man8/tripplite.8.html"><strong>tripplite</strong>(8)</a>, <a href="../man8/tripplitesu.8.html"><strong>tripplitesu</strong>(8)</a>, <a href="../man8/victronups.8.html"><strong>victronups</strong>(8)</a>,</p>
<h3>Internet resources:</h3>
<p>The NUT (Network UPS Tools) home page: http://www.networkupstools.org/</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="upscode2.8.html"><span aria-hidden="true">&larr;</span> upscode2.8: Driver for upscode ii compatible ups equipment</a></li>
   <li class="next"><a href="upsdrvctl.8.html">upsdrvctl.8: Ups driver controller <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
