<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tcpcryptd: Implement the tcpcrypt protocol by transparently modifying network i/o</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Implement the tcpcrypt protocol by transparently modifying network i/o">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tcpcryptd (8) manual">
  <meta name="twitter:description" content="Implement the tcpcrypt protocol by transparently modifying network i/o">
  <meta name="twitter:image" content="https://www.carta.tech/images/tcpcryptd-tcpcryptd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/tcpcryptd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tcpcryptd (8) manual" />
  <meta property="og:description" content="Implement the tcpcrypt protocol by transparently modifying network i/o" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/tcpcryptd-tcpcryptd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tcpcryptd<small> (8)</small></h1>
        <p class="lead">Implement the tcpcrypt protocol by transparently modifying network i/o</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/tcpcryptd.8.html">
      <span itemprop="name">tcpcryptd: Implement the tcpcrypt protocol by transparently modifying network i/o</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/tcpcryptd/">
      <span itemprop="name">tcpcryptd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/tcpcryptd.8.html">
      <span itemprop="name">tcpcryptd: Implement the tcpcrypt protocol by transparently modifying network i/o</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>tcpcryptd</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>A list of all options is produced by:</p><p><strong>tcpcryptd -h</strong></p><p>Configuration of packet-diversion rules allows the system administrator to control which TCP connections are protected by <strong>tcpcryptd</strong>. The daemon receives packets for transformation via a "divert port", configurable with <strong>-p</strong> <em>port</em>.</p><p>The daemon communicates with user programs via a "control socket", configurable with <strong>-u</strong> <em>socket_address</em>. If <em>socket_address</em> begins with "/", it is interpreted as a filesystem path pointing to a unix-domain socket; if it is of the form ":<em>port</em>", it is interpreted as the internet address localhost:<em>port</em>.</p><p>Verbosity may be increased with multiple <strong>-v</strong> options.</p><p>A "phone-home" test will be performed at daemon startup to confirm end-to-end functionality of the implementation (by default, with the authors\[aq] server), but may be redirected to another test-server with <strong>-s</strong> <em>hostname</em> or disabled completely with <strong>-f</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>tcpcryptd</strong> daemon transforms TCP segments via a kernel "divert" port in order to implement "opportunistic encryption" according to the <em>tcpcrypt</em> protocol.</p><p>For a peer that signals in the connection handshake that it has support for the <em>tcpcrypt</em> protocol, ephemeral keys are exchanged and used to protect the confidentiality and integrity of the connection\[aq]s application data. (The protocol protects the integrity of parts of the TCP header as well.) When a peer does not indicate support for the protocol, the daemon will pass the remainder of the connection unperturbed (and thus unprotected).</p><p>Application software need not be modified to take advantage of this facility, which provides confidentiality in the face of passive network attackers (those who cannot modify network data in transit). But in order to protect communication from active attackers, the application must intentionally authenticate the connection as described below.</p><h3>Authentication</h3>
<p>The <em>tcpcrypt</em> protocol does not itself protect communications against "active attackers", that is, those who are able to modify network packets in transit. Such an attacker may perform a "man in the middle" attack that allows her to behave as the endpoint of the encrypted connection and thus compromise its security.</p><p>However, applications aware of <em>tcpcrypt</em> may authenticate the connection in whatever manner they choose, aided by an identifier for the connection that is derived from the protocol and made available by <strong>tcpcryptd</strong>:</p><p>A <em>session id</em> is derived from the ephemeral keys used to encrypt each connection protected by <em>tcpcrypt</em>. This identifier is (probabalistically) unique over all connections, is not secret, and may be extracted by applications via the user library <strong>libtcpcrypt</strong>. Session ids for all active connections may also be listed with the netstat-like utility <a href="../man8/tcnetstat.8.html"><strong>tcnetstat</strong>(8)</a>.</p><p>Connection peers may ensure they are communicating securely with each other (enjoying confidentiality and integrity in the face of active network attackers) by confirming that the <em>tcpcrypt</em> session ids derived at each end are identical. For example, they may bind the session id together with a shared secret such as a password, sign it with public keys, use a voice connection to speak a fingerprint of it, or simply record it for later confirmation.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tcpcryptd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/tcnetstat.8.html"><strong>tcnetstat</strong>(8)</a>, &lt;http://tcpcrypt.org/&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="tcnetstat.8.html"><span aria-hidden="true">&larr;</span> tcnetstat.8: Print information about network connections protected by tcpcrypt</a></li>
   <li class="next"><a href="tcpd.8.html">tcpd.8: Access control facility for internet services <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
