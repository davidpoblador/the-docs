<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>update-passwd: Safely update /etc/passwd, /etc/shadow and /etc/group</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Safely update /etc/passwd, /etc/shadow and /etc/group">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="update-passwd (8) manual">
  <meta name="twitter:description" content="Safely update /etc/passwd, /etc/shadow and /etc/group">
  <meta name="twitter:image" content="https://www.carta.tech/images/base-passwd-update-passwd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/update-passwd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="update-passwd (8) manual" />
  <meta property="og:description" content="Safely update /etc/passwd, /etc/shadow and /etc/group" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/base-passwd-update-passwd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">update-passwd<small> (8)</small></h1>
        <p class="lead">Safely update /etc/passwd, /etc/shadow and /etc/group</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/update-passwd.8.html">
      <span itemprop="name">update-passwd: Safely update /etc/passwd, /etc/shadow and /etc/group</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/base-passwd/">
      <span itemprop="name">base-passwd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/update-passwd.8.html">
      <span itemprop="name">update-passwd: Safely update /etc/passwd, /etc/shadow and /etc/group</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>update-passwd</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>update-passwd</strong> handles updates of /etc/passwd, /etc/shadow and /etc/group on running Debian systems. It compares the current files to master copies, distributed in the base-passwd package, and updates all entries in the global system range (that is, 0&ndash;99).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>update-passwd</strong> follows the usual GNU command line syntax, with long options starting with two dashes (\(oq-\(cq).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-p</strong>,<strong>--passwd-master=FILE</strong></p>
  </dt>
  <dd>
    <p>Use FILE as the master copy of the passwd database. The default value is <em>/usr/share/base-passwd/passwd.master</em>.</p>
  </dd>
  <dt>
    <p><strong>-g</strong>,<strong>--group-master=FILE</strong></p>
  </dt>
  <dd>
    <p>Use FILE as the master copy of the group database. The default value is <em>/usr/share/base-passwd/group.master</em>.</p>
  </dd>
  <dt>
    <p><strong>-P</strong>,<strong>--passwd=FILE</strong></p>
  </dt>
  <dd>
    <p>Use FILE as the system passwd database. The default value is <em>/etc/passwd</em>.</p>
  </dd>
  <dt>
    <p><strong>-S</strong>,<strong>--shadow=FILE</strong></p>
  </dt>
  <dd>
    <p>Use FILE as the system shadow database. The default value is <em>/etc/shadow</em>.</p>
  </dd>
  <dt>
    <p><strong>-G</strong>,<strong>--group=FILE</strong></p>
  </dt>
  <dd>
    <p>Use FILE as the system group database. The default value is <em>/etc/group</em>.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>,<strong>--sanity-check</strong></p>
  </dt>
  <dd>
    <p>Only perform sanity-checks but don't do anything.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>,<strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Give detailed information about what we are doing. A second -v gives additional detail.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>,<strong>--dry-run</strong></p>
  </dt>
  <dd>
    <p>Don't do anything but only show what we would do.</p>
  </dd>
  <dt>
    <p><strong>-L</strong>,<strong>--no-locking</strong></p>
  </dt>
  <dd>
    <p>Don't attempt to lock the account database. This should only be used for debugging purposes. <strong>I repeat: do not do this unless you are really sure you need this!</strong></p>
  </dd>
  <dt>
    <p><strong>-h</strong>,<strong>--help</strong></p>
  </dt>
  <dd>
    <p>Show a summary of how to use <strong>update-passwd</strong>.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>,<strong>--version</strong></p>
  </dt>
  <dd>
    <p>Show the version number</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>DEBIAN_HAS_FRONTEND</p>
  </dt>
  <dd>
    <p>If this environment variable is sent and the <strong>--dry-run</strong> flag was not given, <strong>update-passwd</strong> uses debconf to prompt for whether to make changes. Each proposed change will produce a separate prompt. User or group removals, UID or GID changes, and home directory changes will be asked with high priority. User or group additions and shell changes will be asked with medium priority. Questions about whether to move entries above the NIS compat inclusion entry or whether to change the GECOS of a user are asked at low priority.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>At this moment <strong>update-passwd</strong> does not verify the shadow-file. It should check if the entries in the passwd are also in shadow and vice versa, and that passwords are not present in both files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Wichert Akkerman &lt;wakkerma@debian.org&gt;</p><p>This program was written for the Debian project, and is copyright 1999&ndash;2002 Wichert Akkerman and copyright 2002, 2003 Colin Watson. It is distributed under version 2 of the GNU General Public License.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="update-oui.8.html"><span aria-hidden="true">&larr;</span> update-oui.8: Download new version of the oui and iab lists</a></li>
   <li class="next"><a href="update-pciids.8.html">update-pciids.8: Download new version of the pci id list <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
