<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>atftpd: Trivial file transfer protocol server.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Trivial file transfer protocol server.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="atftpd (8) manual">
  <meta name="twitter:description" content="Trivial file transfer protocol server.">
  <meta name="twitter:image" content="https://www.carta.tech/images/atftpd-atftpd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/atftpd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="atftpd (8) manual" />
  <meta property="og:description" content="Trivial file transfer protocol server." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/atftpd-atftpd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">atftpd<small> (8)</small></h1>
        <p class="lead">Trivial file transfer protocol server.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/atftpd.8.html">
      <span itemprop="name">atftpd: Trivial file transfer protocol server.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/atftpd/">
      <span itemprop="name">atftpd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/atftpd.8.html">
      <span itemprop="name">atftpd: Trivial file transfer protocol server.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>atftpd</strong> [<em>options</em>]<em> directory</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>atftpd</strong> is a TFTP (RFC1350) server. By default it is started by inetd on most sytems, but may run as a stand alone daemon. This server is multi-threaded and supports all options described in RFC2347 (option extension), RFC2348 (blksize), RFC2349 (tsize and timeout) and RFC2090 (multicast option). It also supports mtftp as defined in the PXE specification.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>This program supports both the usual GNU command line syntax, with long options starting with two dashes ('-') as well as short options. A description of the options is included below.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-t, --tftpd-timeout &lt;value&gt;</strong></p>
  </dt>
  <dd>
    <p>Number of seconds of inactivity before the server exits. This value has meaning only when the server is started by inetd. In daemon mode, the server never exits. Default is 300 seconds.</p>
  </dd>
  <dt>
    <p><strong>-r, --retry-timeout &lt;value&gt;</strong></p>
  </dt>
  <dd>
    <p>How many seconds to wait for a reply before retransmitting a packet. Default is 5 seconds. This can be overridden by the TFTP client with the 'timeout' option.</p>
  </dd>
  <dt>
    <p><strong>-m, --maxthread &lt;value&gt;</strong></p>
  </dt>
  <dd>
    <p>Maximum number of concurrent threads allowed. Default is 100.</p>
  </dd>
  <dt>
    <p><strong>-v, --verbose[=value]</strong></p>
  </dt>
  <dd>
    <p>Increase or set the logging level. No arguments will increase by one the current value. Default is LOG_NOTICE, see <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> for log level. Valid value range from 0 (LOG_EMERG) to 7 (LOG_DEBUG).</p>
  </dd>
  <dt>
    <p><strong>--trace</strong></p>
  </dt>
  <dd>
    <p>When verbose level is set to 7, this will output debug information for each packet sent or received from the network.</p>
  </dd>
  <dt>
    <p><strong>--no-timeout</strong></p>
  </dt>
  <dd>
    <p>disable 'timeout' from RFC2349. This will prevent the server from acknowledging the 'timeout' option requested by the client.</p>
  </dd>
  <dt>
    <p><strong>--no-tsize</strong></p>
  </dt>
  <dd>
    <p>disable 'tsize' from RFC2349. This will prevent the server from acknowledging the 'tsize' option requested by the client.</p>
  </dd>
  <dt>
    <p><strong>--no-blksize</strong></p>
  </dt>
  <dd>
    <p>disable 'blksize' from RFC2348. This will prevent the server from acknowledging the 'blksize' request by the client.</p>
  </dd>
  <dt>
    <p><strong>--no-multicast</strong></p>
  </dt>
  <dd>
    <p>disable 'multicast' from RFC2090. This will prevent the server from acknowledging the 'multicast' request by the client.</p>
  </dd>
  <dt>
    <p><strong>--logfile &lt;logfile&gt;</strong></p>
  </dt>
  <dd>
    <p>Log to a specific file instead of only syslog. 'nobody' (or any user used to run the server) must have permissions on the given file. Assuming the file is /var/log/atftpd.log, simply run: "touch /var/log/atftpd.log" and then "chown nobody.nogroup /var/log/atftpd.log". When the server is run in daemon mode, /dev/stdout or /dev/stderr can be used.  Specifying a single dash as the filename will send logs to stdout (file descriptor 1).</p>
  </dd>
  <dt>
    <p><strong>--pidfile</strong></p>
  </dt>
  <dd>
    <p>Write the PID of the server to the specified file. This may be useful when automatically starting and stopping one or more instance of the server.</p>
  </dd>
  <dt>
    <p><strong>--daemon</strong></p>
  </dt>
  <dd>
    <p>Run as a daemon. Do not use this option if atftpd is started by inetd.</p>
  </dd>
  <dt>
    <p><strong>--no-fork</strong></p>
  </dt>
  <dd>
    <p>When --daemon is specified, this option will prevent the server from forking to background. It is useful for debugging purpose or specialized usage.</p>
  </dd>
  <dt>
    <p><strong>--user &lt;user[.group]&gt;</strong></p>
  </dt>
  <dd>
    <p>By default, the server change identity to the user nobody and group nogroup. Specify an alternate user.group with this option.</p>
  </dd>
  <dt>
    <p><strong>--group &lt;group&gt;</strong></p>
  </dt>
  <dd>
    <p>Alternate way of specifying the group. If group is specified with --user and --group, the last option will be used.</p>
  </dd>
  <dt>
    <p><strong>--port &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Specify the port on which atftpd listens. Useful when --daemon is specified. Default is standard tftp port as determined by <em>getservbyname</em>\|(3).</p>
  </dd>
  <dt>
    <p><strong>--bind-address &lt;IP address&gt;</strong></p>
  </dt>
  <dd>
    <p>Specify the IP address which atftpd binds to. Useful when --daemon is specified. Default is to bind to all interfaces. Only one address can be specified, the server can only listen to one or all interfaces.</p>
  </dd>
  <dt>
    <p><strong>--mcast-ttl</strong></p>
  </dt>
  <dd>
    <p>Specify the TTL to be used for multicast datagram. By default a value of 1 is used. Note that TTL has a special meaning in multicast as it is used to determine the scope of the packets. The value of 1 means the packets don't leave the local network, see ip(4). Scope may also be determine by the address as described RFC2365.</p>
  </dd>
  <dt>
    <p><strong>--mcast-addr</strong></p>
  </dt>
  <dd>
    <p>Specify the IP address range to be used for multicast transfer. Format string may comprise range and list of values: "239.255.0.0-31,128-132,200". Default value is "239.255.0.0-255". This address range is proposed in RFC2365 for local scope.</p>
  </dd>
  <dt>
    <p><strong>--mcast-port</strong></p>
  </dt>
  <dd>
    <p>Specify the UDP port to use for multicast transfer. Format string may contain range and list of port number: "1758-2000,8000-9000". default value is "1758".</p>
  </dd>
  <dt>
    <p><strong>--pcre &lt;file&gt;</strong></p>
  </dt>
  <dd>
    <p>Specify a pattern/replacement file to use. This allow to replace requested file name based on Perl Compatible Regular Expression. See README.PCRE.</p>
  </dd>
  <dt>
    <p><strong>--pcre-test &lt;file&gt;</strong></p>
  </dt>
  <dd>
    <p>Test a pattern/replacement file. When using this option, the server will not start as usual but just read file name from stdin and printout the substitution.</p>
  </dd>
  <dt>
    <p><strong>--mtftp &lt;file&gt;</strong></p>
  </dt>
  <dd>
    <p>This will start a mtftp server thread for each valid entry in the supplied file. See PXE specification for detail about mtftp. An example file is provided in the source distribution.</p>
  </dd>
  <dt>
    <p><strong>--mtftp-port &lt;port&gt;</strong></p>
  </dt>
  <dd>
    <p>Port the mtftp server shall listen to for incomming request.</p>
  </dd>
  <dt>
    <p><strong>--no-source-port-checking</strong></p>
  </dt>
  <dd>
    <p>In some specific cases of networks using load balancer or other equipment performing NAT (network address translation), some needs to disable source port checking because port number as been translated. If you want to use this feature, you must know why you need it and the implication. Be aware that this option violate the RFC1350. This option has effect only for non-multicast transfer.</p>
  </dd>
  <dt>
    <p><strong>--mcast-switch-client</strong></p>
  </dt>
  <dd>
    <p>This option allow the server to proceed with the next multicast client as soon as the current client timeout. When the current master client fails to send an acknowledge (ACK) to the server, the server will send an option acknowledge (OACK) to the master client with the field MC (master client) set to false and send an OACK to the next multicast client with MC set to true. Without this option, the server will retry the current master client up to 5 times and then mark it done, proceding with the next one.</p>
  </dd>
  <dt>
    <p><strong>-V, --version</strong></p>
  </dt>
  <dd>
    <p>Show version of program.</p>
  </dd>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Show summary of options.</p>
  </dd>
  <dt>
    <p><strong>path</strong></p>
  </dt>
  <dd>
    <p>This is the root directory used by the TFTP server. All requested files from a TFTP client must reside in this directory. If not specified, the directory defaults to /tftpboot. Since atftpd run as the nobody user, the permission of the directory must be set properly to allow file reading and writing.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STATS</h2>
        <div class="sectioncontent">
<p>Starting with release 0.2, the server collects some statistics. Currently the server compute system load, time between connections and some thread statistics like number of file sent, received, number of abort... To see those stats in the logs, you need to set --verbose=6 (LOG_NOTICE) or higher.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>TFTP by itself has no provision for security. There is no user authentication and TFTP clients get access to all files within the specified root directory for which the server has permission.</p><p>Some level of security can be gained using atftp libwrap support. Adding proper entry to /etc/hosts.allow and /etc/hosts.deny will restrict access to trusted hosts. Daemon name to use in these files is in.tftpd.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PCRE</h2>
        <div class="sectioncontent">
<p>The atftpd server provides a way to dynamically replace requested file name by a new one based on Perl compatible regular expression. Pairs of pattern/replacement are read from the specified files. Upon reception of a read request, the server will first try to open the file name requested. If it fails, then it will search for a replacement based on the content of the pattern file. If this still fails, then an error will be sent to the client. This feature is available only for read request. It makes no sense doing this substitution for client writing files to the server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MTFTP</h2>
        <div class="sectioncontent">
<p>The mtftp name refer to multicasrt tftp as define by the PXE specification. See pxespec.txt for the source of the specification. Note that this is not the same as RFC2090. PXE compliant boot implements mtftp, not RFC2090.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO atftpd&hellip;</h2>
        <div class="sectioncontent">
<p><strong>inetd</strong>(8),<a href="../man5/hosts_access.5.html"><strong>hosts_access</strong>(5)</a>,<strong>libpcre</strong>(7), RFC1350, RFC2090, RFC2347, RFC2348, RFC2349 and pxespec.pdf.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by Remi Lefebvre &lt;remi@debian.org&gt; and Jean-Pierre Lefebvre &lt;helix@step.polymtl.ca&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="atd.8.html"><span aria-hidden="true">&larr;</span> atd.8: Run jobs queued for later execution</a></li>
   <li class="next"><a href="athcool.8.html">athcool.8: Control power-saving mode on amd athlon/duron cpus <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
