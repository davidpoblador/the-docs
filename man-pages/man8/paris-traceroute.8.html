<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>paris-traceroute: Print the ip-level routes between two internet hosts.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Print the ip-level routes between two internet hosts.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="paris-traceroute (8) manual">
  <meta name="twitter:description" content="Print the ip-level routes between two internet hosts.">
  <meta name="twitter:image" content="https://www.carta.tech/images/paris-traceroute-paris-traceroute-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/paris-traceroute.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="paris-traceroute (8) manual" />
  <meta property="og:description" content="Print the ip-level routes between two internet hosts." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/paris-traceroute-paris-traceroute-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">paris-traceroute<small> (8)</small></h1>
        <p class="lead">Print the ip-level routes between two internet hosts.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/paris-traceroute.8.html">
      <span itemprop="name">paris-traceroute: Print the ip-level routes between two internet hosts.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/paris-traceroute/">
      <span itemprop="name">paris-traceroute</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/paris-traceroute.8.html">
      <span itemprop="name">paris-traceroute: Print the ip-level routes between two internet hosts.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>paris-traceroute</strong> [ <strong>-fhilnqvV</strong> ] [ <strong>-b</strong> <em>initial_id</em> ]</p><p>[ <strong>-d</strong> <em>dest_port</em> ] [ <strong>-a</strong> <em>algorithm</em> ] [ <strong>-f</strong> <em>first_ttl</em> ]</p><p>[ <strong>-L</strong> <em>packetlen</em> ] [ <strong>-m</strong> <em>max_ttl</em> ]</p><p>[ <strong>-M</strong> <em>max_missing_hops</em> ] [ <strong>-p</strong> <em>protocol</em> ]</p><p>[ <strong>-q</strong> <em>nqueries</em> ] [ <strong>-s</strong> <em>source_port</em> ] [ <strong>-t</strong> <em>tos</em> ]</p><p>[ <strong>-T</strong> <em>delaymsecs</em> ] [ <strong>-w</strong> <em>waittime</em> ]</p><p><em>host</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Paris traceroute is a new version of the well-known network diagnosis tool. It addresses problems caused by load balancers with the initial <strong>traceroute</strong>(8) implementation. By controlling the flow identifier of the probes, it is able to follow accurate paths in networks with load balancers. It is also able to find all the load balanced paths to the destination. Finally, it enriches its output with information extracted from the received packets, allowing a more precise analysis of the discovered paths.</p><p>Options are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Set the probing algorithm:</p>
  </dd>
  <dt>
    <p><small></small></p>
  </dt>
  <dd>
    <p><strong>hopbyhop</strong> Send q (configured with the <strong>-q</strong> flag) probes with the same TTL, then wait for all the replies or a timeout. Increment the TTL and reiter the operation until we reach the destination. All packets hold the same flow identifier.</p>
  </dd>
  <dt>
    <p><small></small></p>
  </dt>
  <dd>
    <p><strong>packetbypacket</strong> It is the classic <strong>traceroute</strong>(8) algorithm: send one probe at a time, then wait for a reply or a timeout. Reiter the operation until we reach the destination.</p>
  </dd>
  <dt>
    <p><small></small></p>
  </dt>
  <dd>
    <p><strong>concurrent</strong> Send all the probes from min_ttl to max_ttl and wait for all replies or a timeout.</p>
  </dd>
  <dt>
    <p><small></small></p>
  </dt>
  <dd>
    <p><strong>scout</strong> Send a scout probe with a ttl max to the destination. If the destination can be reached, compute the number of hops used to reach the destination and start the concurrent algorithm with a max_ttl equal to this number of hops. If the destination cannot be reached, the hopbyhop algorithm will be used instead. This algorithm is only usable with UDP probes.</p>
  </dd>
  <dt>
    <p><small></small></p>
  </dt>
  <dd>
    <p><strong>exhaustive</strong> Print all the possible "load balanced" paths to the destination. (See section <strong>EXHAUSTIVE ALGORITHM</strong> )</p>
  </dd>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p>Set the initial probe identifier.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Set the the UDP/TCP destination port (default: 33457).</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Set the initial ttl (default: 1).</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print help.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>Print the "IP Identifier" value of the responses. It is used to identify the different interfaces of a router, or uncover NAT boxes.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>Display the ttl value of the reply. Useful to study asymmetric routing and NAT boxes.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Set the data length to be used in outgoing packets. (default: 0).</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Set the maximum ttl (default: 30).</p>
  </dd>
  <dt>
    <p><strong>-M</strong></p>
  </dt>
  <dd>
    <p>Set the maximum number of consecutive unresponsive hops which causes the program to abort (default 3).</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Print hop addresses numerically. The default is to print also hostnames.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Set the protocol to use (possible values: udp, tcp, icmp).</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Set the number of probes per hop (default: 3).</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>Set the UDP/TCP source port (default: 33456).</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>Set the Type of Service (default: 0). This field is taken into account by many per-flow load balancers: in presence of such a load balancer, packets having different TOS values are likely to follow a different paths.</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>Set the time to wait between probes, in milliseconds (default 50ms).</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print debug messages.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print the program version.</p>
  </dd>
  <dt>
    <p><strong>-w</strong></p>
  </dt>
  <dd>
    <p>Set the time to wait for a response, in milliseconds (default 5000ms).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXHAUSTIVE ALGORITHM</h2>
        <div class="sectioncontent">
<p>With the deployment of load balancing, there is no longer only one path between two Internet hosts. This algorithm sends enough probes at each hop to find all the possible interfaces. Unlike the other algorithms, it varies the flow identifier of the probes in a controlled manner, to ensure the discovery of all the interfaces with a high confidence degree. It also categorizes load balancers as "per-packet" (pseudo-random, round-robin packet balancing) or "per-flow" (packets belonging to the same flow follow the same path).</p><p>In case of per-flow load balancing, it prints additional information to track flows. The following trace shows the enriched output:</p>
<pre>
14  1.1.1.1:0,1,3  539.065 ms  1.1.1.2:2,4,5  492.152 ms
15  2.2.2.2:0,1,3  563.163 ms  2.2.2.3:2,4,5  470.919 ms
</pre>
<p>Integers listed after the interface addresses are "flow identifiers": they are used to identify a flow in the set of interfaces found by the algorithm. For example, flow #0 traverses interfaces 1.1.1.1 and 2.2.2.2. This is the same for flows 1 and 3 while flows 2, 4 and 5 traverse 1.1.1.2 and 2.2.2.3.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT</h2>
        <div class="sectioncontent">
<p>The following information are extracted from the response packets and displayed:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Response TTL</strong></p>
  </dt>
  <dd>
    <p>The TTL of the responses (from the routers and the destination) is optionally displayed in square brackets (Use the <strong>-l flag</strong> ).</p>
  </dd>
  <dt>
    <p><strong>Original TTL</strong></p>
  </dt>
  <dd>
    <p>This is the TTL of the probe when it was received and dropped by the router. If the original TTL is different than 1, it is displayed with a <em>!Tx</em> symbol, where <em>x</em> is the value of the TTL. For example, <em>!T0</em> indicates that the value of the TTL was 0 when the probe reached the router that discarded it.</p>
  </dd>
  <dt>
    <p><strong>IP Identifier</strong></p>
  </dt>
  <dd>
    <p>This the identifier of the IP error packet sent by the router. This field is set with the value of an internal 16-bit counter usually incremented for each packet sent. This value is optionally displayed inside brackets. For instance <em>{1234}</em> indicates that the probe had its identifier set to 1234.</p>
  </dd>
  <dt>
    <p><strong>MPLS labels</strong></p>
  </dt>
  <dd>
    <p>If the packet contains ICMP extensions for MPLS, the MPLS label stack is diplayed in an additionnal line just after the current hop line. Labels of the same stack are separated with a "|" character.</p>
  </dd>
  <dt>
    <p><strong>Other ICMP error messages</strong></p>
  </dt>
  <dd>
    <p>Paris traceroutes uses the same convensions as <strong>traceroute</strong>(8) to display unexpected ICMP messages (i.e. different than TIME_EXCEEDED, PORT_UNREACHABLE and ECHO_REPLY).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO paris-traceroute&hellip;</h2>
        <div class="sectioncontent">
<p><strong>traceroute</strong>(8), <strong>pathchar</strong>(8), <strong>netstat</strong>(1), <a href="../man8/ping.8.html"><strong>ping</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The initial version of <strong>traceroute</strong>(8) was implemented by Van Jacobson from a suggestion by Steve Deering. Paris traceroute was implemented by Xavier Cuvellier. Debugged and enhanced by Brice Augustin.</p><p>The current version is available at:</p><p><em>http://www.paris-traceroute.net</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please send bug reports to brice.augustin@rp.lip6.fr.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="paperconfig.8.html"><span aria-hidden="true">&larr;</span> paperconfig.8: Configure the system default paper size</a></li>
   <li class="next"><a href="parprouted.8.html">parprouted.8: Proxy arp ip bridging daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
