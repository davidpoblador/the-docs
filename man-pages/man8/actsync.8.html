<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>actsync: Synchronize newsgroups</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Synchronize newsgroups">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="actsync (8) manual">
  <meta name="twitter:description" content="Synchronize newsgroups">
  <meta name="twitter:image" content="https://www.carta.tech/images/inn-actsync-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/actsync.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="actsync (8) manual" />
  <meta property="og:description" content="Synchronize newsgroups" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/inn-actsync-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">actsync<small> (8)</small></h1>
        <p class="lead">Synchronize newsgroups</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/actsync.8.html">
      <span itemprop="name">actsync: Synchronize newsgroups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/inn/">
      <span itemprop="name">inn</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/actsync.8.html">
      <span itemprop="name">actsync: Synchronize newsgroups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>actsync</strong> [<strong>-b</strong><em> hostid</em>] [<strong>-d</strong><em> hostid</em>] [<strong>-g</strong><em> max</em>] [<strong>-i</strong><em> ignore_file</em>]</p><p>	   [<strong>-I</strong><em> hostid</em>] [<strong>-k</strong>] [<strong>-l</strong><em> hostid</em>] [<strong>-m</strong>] [<strong>-n</strong><em> name</em>]</p><p>	   [<strong>-o</strong><em> fmt</em>] [<strong>-p</strong><em> min_%_unchg</em>] [<strong>-q</strong><em> hostid</em>] [<strong>-s</strong><em> size</em>]</p><p>	   [<strong>-s spool_dir</strong>] [<strong>-t</strong><em> hostid</em>] [<strong>-T</strong>] [<strong>-v</strong><em> verbose_lvl</em>]</p><p>	   [<strong>-z</strong><em> sec</em>] [<em>host1</em>] <em>host2</em></p><p><strong>actsyncd</strong> [<strong>-x</strong>] <em>actsync.cfg</em> [<em>debug_level</em> [<em>debug_outfmt</em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><a href="../man8/actsync.8.html"><strong>Actsync</strong>(8)</a> permits one to synchronize, compare or merge two <a href="../man5/active.5.html"><strong>active</strong>(5)</a> files. With this utility one may add, change or remove newsgroups on the local news server to make it similar to the list the newsgroups found on another system or file. The synchronization need not be exact. Local differences in newsgroup lists may be maintained and preserved. Certain newsgroup errors may be detected and optionally corrected.</p><p>There are several reasons to run <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> (or <strong>actsyncd</strong>(8)), on a periodic basis. Among the reasons are:</p><p>A control message to add, change or remove a newsgroup may fail to reach your site.</p><p>Your <a href="../man5/control.ctl.5.html"><strong>control.ctl</strong>(5)</a> is out of date or incomplete.</p><p>News articles for a new newsgroup arrive ahead (sometimes days ahead) of the control message.</p><p>Control messages may be forged, thus bypassing the restrictions found in <a href="../man5/control.ctl.5.html"><strong>control.ctl</strong>(5)</a>.</p><p>Your <a href="../man5/active.5.html"><strong>active</strong>(5)</a> file may have been trashed.</p><p>If either <em>host1</em> or <em>host2</em> begin with a <strong>``.''</strong> or <strong>``/''</strong>, then they assumed to be a name of a file containing information in the <a href="../man5/active.5.html"><strong>active</strong>(5)</a> format. The <a href="../man1/getlist.1.html"><strong>getlist</strong>(1)</a> utility may be used to obtain copy a remote system's active file. Newsgroup information from a file may be treated as if it was obtained from a host. In this man page <em>host1</em> and <em>host2</em> are called hosts, even though they may be file names.</p><p>If a host argument does not begin with <strong>``.''</strong> or <strong>``/''</strong>, is assumed to be a hostname or Internet address. In this case, <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> will attempt to use the <strong>NNTP</strong> protocol to obtain a copy of the the specified system's active file.</p><p>Regardless how the active file information is obtained, the actions of <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> remain the same.</p><p>If only one host is specified, it is assumed to be <em>host2</em>. If <em>host1</em>, is not specified, it assumed to be the default local <strong>NNTP</strong> server as specified by the <strong>NNTPSERVER</strong> environment variable, or by the <strong>server</strong> value found in <a href="../man5/inn.conf.5.html"><strong>inn.conf</strong>(5)</a>.</p><p>The newsgroup synchronization by default, involves all newsgroups found on both hosts. One may also synchronize on a subset of newsgroups by directing <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> to ignore certain newsgroups from both systems.</p><p>The <strong>actsyncd</strong>(8) daemon provides a convenient interface to configure and run <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a>. If a host is not initially reachable, the daemon will thrice retry 3 times, waiting 5 minutes before each set of 3 retries. This daemon runs in the foreground, sending output to standard output and standard error.</p><p>If the <strong>-x</strong> flag is given to <strong>actsyncd</strong>(8), then a <em>ctlinnd</em>xexec will be used instead of a <em>ctlinnd</em>reload to load the newly modified active file.</p><p>The configuration filename for the daemon is given in the <em>actsync.cfg</em> argument. The <em>actsync.cfg</em> file is required to have 4 lines:</p>
<pre>
<strong>host=</strong><em>host2</em>
<strong>spool=</strong><em>/var/spool/news</em>
<strong>ignore_file=</strong><em>ignore_file</em>
<strong>flags=</strong><em>actsyncd</em> (8) options
</pre>
<p>The keyword must start at the beginning of the line, and there may be no whitespace before the <strong>``=''</strong> character. Blank lines are ignored. Comments start with <strong>``#''</strong> and are ignored. All other lines may produce undefined results.</p><p>The <strong>host</strong> config file line refers to the <em>host2</em> value to sync off of. The <strong>spool</strong> config file lines determines where top the news spool tree is to be found. The <strong>ignore_file</strong> config file line names the ignore file to be used by <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a>. The <strong>flags</strong> config file line refers to all flags that you wish to pass to <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a>.</p><p>Note that the <strong>-i ignore_file</strong> option, the <strong>-o format</strong> option and the <strong>-S spool_dir</strong> option should not be given in the <strong>flags=</strong> line because they are automatically taken care of by <strong>actsyncd</strong>(8).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The options to <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong><em> hostid</em></p>
  </dt>
  <dd>
    <p>This flag causes <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> to ignore newsgroups with ``bork.bork.bork'' style names. That is, newsgroups whose last 3 components are identical. For example, the following newsgroups have bork style names:</p>
<pre>
alt.helms.dork.dork.dork
alt.auto.accident.sue.sue.sue
alt.election.vote.vote.vote
</pre>
<p>The value <em>hostid</em> determines on which hosts this action is performed:</p>
<pre>
0	neither host
1	local default server
2	remove server
12	both servers
21	both servers
</pre>
<p>The default is <strong>-b 0</strong>, no bork newsgroups are ignored.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em> hostid</em></p>
  </dt>
  <dd>
    <p>This flag causes <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> to ignore newsgroups that have all numeric path components. The <strong>hostid</strong> value is interpreted the same as in <strong>-b</strong>. For example, the following newsgroups have numeric path components:</p>
<pre>
alt.prime.chongo.23209
391581.times.2.to_the.216193.power.-1
99.bottles.of.treacle.on.the.wall
linfield.class.envio_bio.101.d
</pre>
<p>The newsgroups directory of a newsgroups with a all numeric component could conflict with an article from another group. For example, the directory for the first newsgroup listed above is the same path as article number 23209 from the newsgroup:</p>
<pre>
alt.prime.chongo
</pre>
<p>The default is <strong>-d 0</strong>, all numeric newsgroups from both hosts will be processed.</p>
  </dd>
  <dt>
    <p><strong>-g</strong><em> max</em></p>
  </dt>
  <dd>
    <p>Ignore any newsgroup with more than <strong>max</strong> levels.  For example, <strong>-g</strong><em> 6</em> would ignore:</p>
<pre>
alt.feinstien.votes.to.trash.freedom.of.speech
alt.senator.exon.enemy.of.the.internet
alt.crypto.export.laws.dumb.dumb.dumb
</pre>
<p>but would not ignore:</p>
<pre>
alt.feinstien.acts.like.a.republican
alt.exon.admendment
alt.crypto.export.laws
</pre>
<p>If <strong>max</strong> is 0, then the max level feature is disabled.</p><p>By default, the max level feature is disabled.</p>
  </dd>
  <dt>
    <p><strong>-i</strong><em> ignore_file</em></p>
  </dt>
  <dd>
    <p>The <em>ignore_file</em> allows one to have a fine degree of control over which newsgroups are ignored. It contains a set of rules that specifies which newsgroups will be checked and which will be ignored.</p><p>By default, these rules apply to both hosts. This can be modified by using the <strong>-I</strong><em> hostid</em> flag.</p><p>By default, all newsgroups are checked. If no <em>ignore_file</em> if specified, or if the ignore file contains no rule lines, all newsgroups will be checked.</p><p>Blank lines, and text after a <strong>``#''</strong> are considered comments and are ignored.</p><p>Rule lines consist of tokens separated by whitespace. Rule lines may be one of two forms:</p>
<pre>
<strong>c	newsgroup	[type ...]</strong>
<strong>i	newsgroup	[type ...]</strong>
</pre>
<p>If the rule begins with a <strong>c</strong> then the rule requests certain newsgroups to be checked. If the rule begins with an <strong>i</strong> then the rule requests certain newsgroups to be ignored. The <strong>newsgroup</strong> field may be a specific newsgroup, or a <a href="../man3/wildmat.3.html"><strong>wildmat</strong>(3)</a> pattern.</p><p>If one or more <strong>type</strong>s are specified, then the rule applies to the newsgroup only if is of the specified type. Types refer to the 4th field of the <a href="../man5/active.5.html"><strong>active</strong>(5)</a> file. A type may be one of:</p>
<pre>
<strong>y</strong>
<strong>n</strong>
<strong>m</strong>
<strong>j</strong>
<strong>x</strong>
<strong>=group.name</strong>
</pre>
<p>Unlike active files, the <strong>group.name</strong> may be a newsgroup name or a <a href="../man3/wildmat.3.html"><strong>wildmat</strong>(3)</a> pattern. Also, <strong>``=''</strong> is equivalent to <strong>``=*''</strong>.</p><p>For given rule line may, one may not repeat a given pattern type. For example, one may not have more than one type that begins with <strong>``=''</strong>, per line. However, one may achieve the effect of multiple <strong>``=''</strong> types by using multiple rule lines for the same group.</p><p>By default, all newsgroups are candidates to be checked. If an ignore file is used, each newsgroup in turn is checked against the ignore file. If multiple lines match a given newsgroup, the last line in the ignore file is used.</p><p>For example, consider the following ignore file lines:</p>
<pre>
i *.general
c *.general m
i nsa.general
</pre>
<p>The newsgroup: <strong>ba.general</strong> would be ignored if it was not moderated. The newsgroup: <strong>mod.general</strong> would be checked if it was moderated. The newsgroup: <strong>nsa.general</strong> would be ignored even if it was moderated.</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em> hostid</em></p>
  </dt>
  <dd>
    <p>This flag restricts which hosts, the ignore file applies. The <strong>hostid</strong> value is interpreted the same as in <strong>-b</strong>.</p><p>This flag may be useful in conjustion with the <strong>-m</strong> merge flag. For example:</p><p>actsync -i actsync.ign -I 2 -m host1 host2</p><p>will keep all newsgroups currently on host1. It will also will only compare host1 groups with non-ignored newsgroups from host2.</p><p>The default is <strong>-I 12</strong>, newsgroups from both hosts to be ignored per the <em>-I  hostid</em> flag.</p>
  </dd>
  <dt>
    <p><strong>-k</strong></p>
  </dt>
  <dd>
    <p>By default, any newsgroup on <em>host1</em> that is in error will be considered for removal. This causes <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> simply ignore such newsgroups. This flag, in combination with <em>-m</em> will prevent any newsgroup from being scheduled for removal.</p>
  </dd>
  <dt>
    <p><strong>-l</strong> hostid</p>
  </dt>
  <dd>
    <p>Flag problem newsgroups of type <strong>``=''</strong> from <strong>host1</strong> or <strong>host2</strong> as errors. The <strong>hostid</strong> value is interpreted the same as in <strong>-b</strong>. Newsgroups of type <strong>``=''</strong> are newsgroups active entries that have 4th field that begins with <strong>``=''</strong>. I.e., a newsgroup that is equivalent to another newsgroup.</p><p>A newsgroup that is equivalent to itself, or that is in a equivalence chain that loops around to itself is a problem. A newsgroup that is in a chain that is longer than <strong>16</strong> is a problem group. A newsgroup that is equivalent to a non-existent newsgroup is a problem. A newsgroup that is equivalent to a newsgroup that is has a error of some kind a problem. However, a newsgroup that is equivalent to an ignored newsgroup is not a problem.</p><p>By default, problem newsgroups from both hosts are marked as errors.</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Merge newsgroups instead of sync. By default, if a newsgroup exists on <strong>host1</strong> but not <strong>host2</strong>, it will be scheduled to be removed. This flag disables this process, permitting newsgroups unique to <strong>host1</strong> to be kept.</p>
  </dd>
  <dt>
    <p><strong>-n  name</strong></p>
  </dt>
  <dd>
    <p>Newsgroups that are created, are created via the <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> command. By default, the creator name used is <strong>actsync</strong>. This flag changes the creator name to <strong>name</strong>.</p>
  </dd>
  <dt>
    <p><strong>-o  fmt</strong></p>
  </dt>
  <dd>
    <p>Determine the output / action format of this utility. The <strong>fmt</strong> may one of:</p>
<pre>
<strong>a</strong>	output in <a href="../man5/active.5.html"><strong>active</strong>(5)</a> format,
<strong>a1</strong>	output in <a href="../man5/active.5.html"><strong>active</strong>(5)</a> format,
	    and output host1 non-error ignored groups
<strong>ak</strong>	output in <a href="../man5/active.5.html"><strong>active</strong>(5)</a> format, but use host2
	    hi & low (2nd & 3rd active fields) values
	    for any newsgroup being created
<strong>aK</strong>	output in <a href="../man5/active.5.html"><strong>active</strong>(5)</a> format, but use host2
	    hi & low (2nd & 3rd active fields) values
	    for all newsgroups found in host2
<strong>a1k</strong>	output in <a href="../man5/active.5.html"><strong>active</strong>(5)</a> format, but use host2
	    hi & low (2nd & 3rd active fields) values
	    for any newsgroup being created,
	and output host1 non-error ignored groups
<strong>a1K</strong>	output in <a href="../man5/active.5.html"><strong>active</strong>(5)</a> format, but use host2
	    hi & low (2nd & 3rd active fields) values
	    for all newsgroups found in host2,
	and output host1 non-error ignored groups
<strong>ak1</strong>	same as <strong>a1k</strong>
<strong>aK1</strong>	same as <strong>a1K</strong>
<strong>c</strong>	output in <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> format
<strong>x</strong>	no output, directly exec <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands
<strong>xi</strong>	no output, directly exec <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands,
	    in an interactive mode
</pre>
<p>The <strong>a</strong>, <strong>a1</strong>, <strong>ak</strong>, <strong>aK</strong>, <strong>a1k</strong>, <strong>a1K</strong>, <strong>ak1</strong> and <strong>aK1</strong> style formats allow one to form a new active file instead of producing <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands. They use hi & low values of <strong>0000000000</strong> and <strong>0000000001</strong> respectively for newsgroups that are created. The <strong>ak</strong> and <strong>aK</strong> variants change the the hi & low (2nd & 3rd active fields). In the case of <strong>ak</strong>, newsgroups created take their hi & low values from <strong>host2</strong>. In the case of <strong>aK</strong>, all newsgroups found on host2 take their hi & low values from <strong>host2</strong>.</p><p>The <strong>c</strong> format produces <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands. No actions are taken because <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> simply prints <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands on standard output. The sync (or merge if <em>-m</em>) with <strong>host2</strong> may be accomplished by piping this output into <em>sh</em>(1). A paranoid person might prefer to use <strong>x</strong> or <strong>xi</strong> in case a newsgroup name or type contains bogus characters that might be interpreted by <em>sh</em>(1). Even so, this output format is useful to let you see how <strong>host1</strong> may be synced (or merge) with <strong>host2</strong>.</p><p>The sync (or merge if <em>-m</em>) may be accomplished directly by use of the <strong>x</strong>. With this format, <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> uses the <strong>execl</strong>(2) system call to directly executes <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands. Because of the exec, there is no risk of bogus newsgroups containing bogus characters causing a shell to do bogus (or dangerous) things. The output of such execs may be seen of the verbosity level is at least <strong>2</strong>.</p><p>The <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> utility will pause for <strong>4</strong> seconds before each command is executed if <strong>-o</strong><em> x</em> is selected. See the <strong>-z</strong> sec flag below.</p><p>The <strong>xi</strong> format interactively prompts on standard output and reads directives on standard input. One may pick and choose changes using this format.</p><p>Care should be taken when producing <a href="../man5/active.5.html"><strong>active</strong>(5)</a> formatted output. One should check to be sure that <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> exited with a zero status prior to using such output. Also one should realize that such output will not contain lines ignored by the <strong>-i</strong><em> ignore_file</em> process even if <strong>-p</strong><em> 100</em> is used.</p><p>By default, <strong>-o</strong><em> c</em> is assumed.</p>
  </dd>
  <dt>
    <p><strong>-p</strong><em> min_%_unchg</em></p>
  </dt>
  <dd>
    <p>By default, the <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> utility has safeguards against performing massive changes. If fewer than <strong>min_%_unchg</strong> percent of the non-ignored lines from <strong>host1</strong> remain unchanged, no actions (output, execution, etc.) are performed and <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> exits with a non-zero exit status. The <strong>min_%_unchg</strong> may be a floating point value such as <strong>66.666</strong>.</p><p>A change is considered a <strong>host1</strong> line that was found to be in error, was removed, was added or was changed. Changing the 2nd or 3rd active fields via <strong>-o</strong><em>ak</em> or <strong>-o</strong><em> aK</em> are not considered changes by <strong>-p</strong>.</p><p>To force <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> to accept any amount of change, use the <strong>-p</strong><em> 0</em> option. To force <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> to reject any changes, use the <strong>-p</strong><em> 100</em> option.</p><p>Care should be taken when producing <a href="../man5/active.5.html"><strong>active</strong>(5)</a> formatted output. One should check to be sure that <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> exited with a zero status prior to using such output. Also one should realize that such output will not contain lines ignored by the <strong>-i</strong><em> ignore_file</em> process even if <strong>-p</strong><em> 100</em> is used.</p><p>By default, 96% of the lines not ignored in host1 must be unchanged. That is, by default, <strong>-p</strong><em> 90</em> is assumed.</p>
  </dd>
  <dt>
    <p><strong>-q</strong><em> hostid</em></p>
  </dt>
  <dd>
    <p>By default, all newsgroup errors are reported on standard errors. This flag quiets errors from <strong>host1</strong> or <strong>host2</strong>. The <strong>hostid</strong> value is interpreted the same as in <strong>-b</strong>.</p>
  </dd>
  <dt>
    <p><strong>-s</strong> size</p>
  </dt>
  <dd>
    <p>If <strong>size</strong>&gt;0, then ignore newsgroups with names longer than <strong>size</strong>, and ignore newsgroups equivalenced to names longer than <strong>size</strong>. Length checking is perform on both the local and remote hosts.</p><p>By default, <strong>size</strong> is 0 and thus no length checking is performed.</p>
  </dd>
  <dt>
    <p><strong>-S</strong> spool_dir</p>
  </dt>
  <dd>
    <p>For each new newsgroup (i.e., selected groups found on host2 that were not found on host), the newsgroup directory under <strong>spool_dir</strong> will be examined. If this newsgroup directory exists, then the hi & low (2nd & 3rd active fields) values of the active entry will be changed to reflect the range articles found.</p><p>This flag is only useful with <strong>-o</strong> a, <strong>-o</strong> a1, <strong>-o</strong> ak, <strong>-o</strong> aK, <strong>-o</strong> alk, <strong>-o</strong> alK, <strong>-o</strong> ak1 or <strong>-o</strong> aK1. The <strong>-S</strong> spool_dir will override any hi & low (2nd & 3rd active fields) values that would normally have been used. This is an important and <strong>very much recommended</strong> option as it will prevent article number collisions on newsgroups that have been removed previous but still have unexpired articles in them.</p>
  </dd>
  <dt>
    <p><strong>-t</strong> hostid</p>
  </dt>
  <dd>
    <p>Ignore improper newsgroups with only a top component from <strong>host1</strong> or <strong>host2</strong>. The <strong>hostid</strong> value is interpreted the same as in <strong>-b</strong>. The following newsgroups are considered proper newsgroups for top only names:</p>
<pre>
control
general
junk
test
to
</pre>
<p>For example, the following newsgroup names are improper because they only contain a top level component:</p>
<pre>
dole_for_pres
dos
microsoft
windoes95
</pre>
<p>By default, all improper top level only newsgroups from the remote ( <strong>-t</strong><em> 2</em> ) are ignored.</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>This flag causes <strong>host2</strong> newsgroups from new hierarchies to be ignored. Normally if only <strong>host2</strong> has the newsgroup <strong>chongo.was.here</strong> then it will be created for <strong>host1</strong>. However if <strong>host1</strong> does not have any '<strong>chongo.*</strong>' newsgroups and this flag is given, then <strong>chongo.was.here</strong> will be ignored and will not be created on <strong>host1</strong>.</p>
  </dd>
  <dt>
    <p><strong>-v</strong><em> verbose_lvl</em></p>
  </dt>
  <dd>
    <p>No default, <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> is not verbose. This flag controls the verbosity level as follows:</p>
<pre>
<strong>0</strong>	no debug or status reports (default)
<strong>1</strong>	print summary,
	    if work was needed or done
<strong>2</strong>	print actions, exec output & summary,
	    if work was needed or done
<strong>3</strong>	print actions, exec output & summary
<strong>4</strong>	full debug output
</pre>

  </dd>
  <dt>
    <p><strong>-z</strong><em> sec</em></p>
  </dt>
  <dd>
    <p>If <strong>-o</strong><em> x</em> is selected, <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> will pause for <strong>sec</strong> seconds before each command is executed. This helps prevent <a href="../man8/innd.8.html"><strong>innd</strong>(8)</a> from being busyed-out if a large number of <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands are needed. One can disable this sleeping by using <strong>-z</strong><em> 0</em><strong>.</strong></p><p>By default, <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> will pause for <strong>4</strong> seconds before each command is executed if <strong>-o</strong><em> x</em> is selected.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Determine the difference (but don't change anything) between your newsgroup set and uunet's set:</p><p>actsync news.uu.net</p><p>Same as above, with full debug and progress reports:</p><p>actsync -v 4 news.uu.net</p><p>Force a site to have the same newsgroups some other site:</p><p>actsync -o x master</p><p>This may be useful to sync a slave site to its master, or to sync internal site to a gateway.</p><p>Compare your site with uunet, disregarding local groups and certain local differences with uunet. Produce a report if any differences were encountered:</p><p>actsync -v 2 -i actsync.ign news.uu.net</p><p>where <strong>actsync.ign</strong> contains:</p>
<pre>
# Don't compare to.* groups as they will differ.
#
i	to.*

# These are our local groups that nobody else
# (should) carry.  So ignore them for the sake
# of the compare.
#
i	nsa.*

# These groups are local favorites, so keep them
# even if uunet does not carry them.
#
i	ca.dump.bob.dorman
i	ca.keep.bob.dorman
i	alt.tv.dinosaurs.barney.die.die.die
i	alt.tv.dinosaurs.barney.love.love.love
i	alt.sounds.*	=alt.binaries.sounds.*

</pre>
<p>To interactively sync against news.uu.net, using the same ignore file:</p><p>actsync -o xi -v 2 -i actsync.ign news.uu.net</p><p>Based on newsgroups that you decided to keep, one could make changes to the <strong>actsync.ign</strong> file:</p>
<pre>
# Don't compare to.* groups as they will differ.
#
i	to.*

# These are our local groups that nobody else
# (should) carry.  So ignore them for the sake
# of the compare.
#
i	nsa.*

# These groups are local favorites, so keep them
# even if uunet does not carry them.
#
i	ca.dump.bob.dorman
i	alt.tv.dinosaurs.barney.die.die.die
i	alt.sounds.* 	=alt.binaries.sounds.*

# Don't sync test groups, except for ones that are
# moderated or that are under the gnu hierarchy.
i	*.test
c	*.test	m	# check moderated test groups
c	gnu.*.test
c	gnu.test	# just in case it ever exists

</pre>
<p>Automatic processing may be setup by using the following <strong>actsync.cfg</strong> file:</p>
<pre>
# host to sync off of (host2)
host=news.uu.net

# location of the ignore file
ignore_file=/usr/local/news/actsync.ign

# where nwes articles are kept
spool=/var/spool/news

# <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> flags
#
# Automatic execs, report if something was done,
#	otherwise don't say anything, don't report
#	uunet active file problems, just ignore
#	the effect entries.
flags=-o x -v 2 -q 2
</pre>
<p>and then by running:</p><p>actsyncd /usr/local/news/actsync.cfg</p><p>One may produce a trial <strong>actsyncd</strong>(8) run without changing anything on the server by supplying the <strong>debug_level</strong> arg:</p><p>actsyncd /usr/local/news/actsync.cfg 2</p><p>The <strong>debug_level</strong> causes <strong>actsyncd</strong>(8) to run <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> with an <strong>-v debug_level</strong> (overriding any <strong>-v</strong> flag on the <strong>flags</strong> line), prevents any changes from being made to the <a href="../man5/active.5.html"><strong>active</strong>(5)</a> file, writes a new active file to <em>standard output</em> and writes debug messages to <em>standard error</em>.</p><p>If the <strong>debug_outfmt</strong> arg is also given to <strong>actsyncd</strong>(8) then the data written to <em>standard output</em> will be in <strong>-o fBdebug_outfmt</strong> instead of in <strong>-o a1</strong> format. The following /bin/sh command:</p><p>actsyncd /usr/local/news/actsync.cfg 4 c &gt;cmd 2&gt;dbg</p><p>Will operate in debug mode, not change the <a href="../man5/active.5.html"><strong>active</strong>(5)</a> file, write <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> style commands to <strong>cmd</strong> and write debug statements to <strong>dbg</strong>.</p><p>To check only the major hierarchies against news.uu,net, use the following <strong>actsync.ign</strong> file:</p>
<pre>
# by default, ignore everything
i *

# check the major groups
c	comp.*
c	gnu.*
c	sci.*
c	alt.*
c	misc.*
c	news.*
c	rec.*
c	soc.*
c	talk.*
</pre>
<p>and running:</p><p>actsync -i actsync.ign news.uu.net</p><p>To determine the differences between your old active and your current default server:</p><p>actsync /usr/local/news/active.old -</p><p>To report but not fix any newsgroup problems with the current active file:</p><p>actsync - -</p><p>To detect any newsgroup errors on your local server, and to remove any <strong>*.bork.bork.bork</strong> style silly newsgroup names:</p><p>actsync -b 2 - -</p><p>The active file produced by:</p><p>actsync ... flags ... -o x erehwon.honey.edu</p><p>or by:</p><p>actsync ... flags ... -o c erehwon.honey.edu | sh</p><p>is effectively the same as the active file produced by:</p>
<pre>
ctlinnd pause 'running actsync'
rm -f active.new
actsync ... flags ... -o a1 erehwon.honey.edu &gt; active.new
rm -f active.old
ln active active.old
mv active.new active
ctlinnd reload active 'running actsync'
ctlinnd go 'running actsync'
</pre>
<p>It should be noted that the above 'pause', 'actsync', 'reload' and 'go' method is faster.  However, in order to avoid article number collisions on newsgroups that have been removed previous but still have unexpired articles in them, it is <strong>very much recommended</strong> that the <strong>-S</strong> spool_dir be used with any of the <strong>-o</strong>a* flags. Thus, a much better and safer version of the above would be:</p>
<pre>
ctlinnd pause 'running actsync'
rm -f active.new
actsync ... flags ... -o a1 -S /var/spool/news erehwon.honey.edu &gt; active.new
rm -f active.old
ln active active.old
mv active.new active
ctlinnd reload active 'running actsync'
ctlinnd go 'running actsync'
</pre>
<p>The above process is similar to what <strong>actsyncd</strong>(8) does by default.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAUTION</h2>
        <div class="sectioncontent">
<p>Careless use of this tool may result in the addition change or removal of newsgroups that you don't want. You should avoid using the x output format until you are sure it will do what you want.</p><p>A number of <a href="../man8/innd.8.html"><strong>innd</strong>(8)</a> servers will corrupt the active file when lots of newgroups and rmgroups are performed. This is not a <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> bug, it is a server bug. Using the pause, actsync, reload and go method noted above is much more likely to avoid this problem.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>If a newsgroup appears multiple times, <a href="../man8/actsync.8.html"><strong>actsync</strong>(8)</a> will treat all copies as errors. However, if the group is marked for removal, only one rmgroup will be issued.</p><p>The timeout for <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a> commands is fixed at 30 seconds when running in ``x'' or ``xi'' output format. Perhaps the timeout value should be controlled via a command line option?</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO actsync&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/active.5.html"><strong>active</strong>(5)</a>,</p><p><a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a>,</p><p><strong>getlist</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>Written by Landon Curt Noll &lt;chongo@toad.com&gt; for InterNetNews.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="acpid.8.html"><span aria-hidden="true">&larr;</span> acpid.8: Advanced configuration and power interface event daemon</a></li>
   <li class="next"><a href="adcli.8.html">adcli.8: Tool for performing actions on an active directory domain <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
