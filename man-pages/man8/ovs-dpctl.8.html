<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ovs-dpctl: Administer open vswitch datapaths</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Administer open vswitch datapaths">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ovs-dpctl (8) manual">
  <meta name="twitter:description" content="Administer open vswitch datapaths">
  <meta name="twitter:image" content="https://www.carta.tech/images/openvswitch-switch-ovs-dpctl-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ovs-dpctl.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ovs-dpctl (8) manual" />
  <meta property="og:description" content="Administer open vswitch datapaths" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/openvswitch-switch-ovs-dpctl-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ovs-dpctl<small> (8)</small></h1>
        <p class="lead">Administer open vswitch datapaths</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ovs-dpctl.8.html">
      <span itemprop="name">ovs-dpctl: Administer open vswitch datapaths</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openvswitch-switch/">
      <span itemprop="name">openvswitch-switch</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ovs-dpctl.8.html">
      <span itemprop="name">ovs-dpctl: Administer open vswitch datapaths</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ovs-dpctl</strong> [<em>options</em>] <em>command </em>[<em>switch</em>] [<em>args</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>ovs-dpctl</strong> program can create, modify, and delete Open vSwitch datapaths.  A single machine may host any number of datapaths.</p><p>A newly created datapath is associated with only one network device, a virtual network device sometimes called the datapath's ``local port''. A newly created datapath is not, however, associated with any of the host's other network devices.  To intercept and process traffic on a given network device, use the <strong>add-if</strong> command to explicitly add that network device to the datapath.</p><p>If <a href="../man8/ovs-vswitchd.8.html"><strong>ovs-vswitchd</strong>(8)</a> is in use, use <a href="../man8/ovs-vsctl.8.html"><strong>ovs-vsctl</strong>(8)</a> instead of <strong>ovs-dpctl</strong>.</p><p>Most <strong>ovs-dpctl</strong> commands that work with datapaths take an argument that specifies the name of the datapath.  Datapath names take the form [<em>type</em><strong>@</strong>]<em>name</em>, where <em>name</em> is the network device associated with the datapath's local port.  If <em>type</em> is given, it specifies the datapath provider of <em>name</em>, otherwise the default provider <strong>system</strong> is assumed.</p><p>The following commands manage datapaths.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>add-dp </strong><em>dp</em> [<em>netdev</em>[<strong>,</strong><em>option</em>]...]</p>
  </dt>
  <dd>
    <p>Creates datapath <em>dp</em>, with a local port also named <em>dp</em>. This will fail if a network device <em>dp</em> already exists.</p><ul>
<li><p>If <em>netdev</em>s are specified, <strong>ovs-dpctl</strong> adds them to the new datapath, just as if <strong>add-if</strong> was specified.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>del-dp </strong><em>dp</em></p>
  </dt>
  <dd>
    <p>Deletes datapath <em>dp</em>.  If <em>dp</em> is associated with any network devices, they are automatically removed.</p>
  </dd>
  <dt>
    <p><strong>add-if </strong><em>dp netdev</em>[<strong>,</strong><em>option</em>]...</p>
  </dt>
  <dd>
    <p>Adds each <em>netdev</em> to the set of network devices datapath <em>dp</em> monitors, where <em>dp</em> is the name of an existing datapath, and <em>netdev</em> is the name of one of the host's network devices, e.g. <strong>eth0</strong>.  Once a network device has been added to a datapath, the datapath has complete ownership of the network device's traffic and the network device appears silent to the rest of the system.</p>
<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    <p>A <em>netdev</em> may be followed by a comma-separated list of options. The following options are currently supported:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>type=</strong><em>type</em>
  </dt>
  <dd>
    <p>Specifies the type of port to add.  The default type is <strong>system</strong>.</p>
  </dd>
  <dt>
    <strong>port_no=</strong><em>port</em>
  </dt>
  <dd>
    <p>Requests a specific port number within the datapath.  If this option is not specified then one will be automatically assigned.</p>
  </dd>
  <dt>
    <em>key</em><strong>=</strong><em>value</em>
  </dt>
  <dd>
    <p>Adds an arbitrary key-value option to the port's configuration.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><a href="../man5/ovs-vswitchd.conf.db.5.html"><strong>ovs-vswitchd.conf.db</strong>(5)</a> documents the available port types and options.</p>
  </dd>
  <dt>
    <strong>set-if </strong><em>dp port</em>[<strong>,</strong><em>option</em>]...
  </dt>
  <dd>
    <p>Reconfigures each <em>port</em> in <em>dp</em> as specified.  An <em>option</em> of the form <em>key</em><strong>=</strong><em>value</em> adds the specified key-value option to the port or overrides an existing key's value.  An <em>option</em> of the form <em>key</em><strong>=</strong>, that is, without a value, deletes the key-value named <em>key</em>.  The type and port number of a port cannot be changed, so <strong>type</strong> and <strong>port_no</strong> are only allowed if they match the existing configuration.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>del-if </strong><em>dp netdev</em>...</p>
  </dt>
  <dd>
    <p>Removes each <em>netdev</em> from the list of network devices datapath <em>dp</em> monitors.</p>
  </dd>
  <dt>
    <p><strong>dump-dps</strong></p>
  </dt>
  <dd>
    <p>Prints the name of each configured datapath on a separate line.</p>
  </dd>
  <dt>
    <p>[<strong>-s</strong> | <strong>--statistics</strong>] <strong>show </strong>[<em>dp</em>...]</p>
  </dt>
  <dd>
    <p>Prints a summary of configured datapaths, including their datapath numbers and a list of ports connected to each datapath.  (The local port is identified as port 0.)  If <strong>-s</strong> or <strong>--statistics</strong> is specified, then packet and byte counters are also printed for each port.</p><ul>
<li><p>The datapath numbers consists of flow stats and mega flow mask stats.</p></li><li><p>The "lookups" row displays three stats related to flow lookup triggered by processing incoming packets in the datapath. "hit" displays number of packets matches existing flows. "missed" displays the number of packets not matching any existing flow and require user space processing. "lost" displays number of packets destined for user space process but subsequently dropped before reaching userspace. The sum of "hit" and "miss" equals to the total number of packets datapath processed.</p></li><li><p>The "flows" row displays the number of flows in datapath.</p></li><li><p>The "masks" row displays the mega flow mask stats. This row is omitted for datapath not implementing mega flow. "hit" displays the total number of masks visited for matching incoming packets. "total" displays number of masks in the datapath. "hit/pkt" displays the average number of masks visited per packet; the ratio between "hit" and total number of packets processed by the datapath".</p></li><li><p>If one or more datapaths are specified, information on only those datapaths are displayed.  Otherwise, <strong>ovs-dpctl</strong> displays information about all configured datapaths.</p></li>
</ul>
  </dd>

</dl>
<h3>DEBUGGING COMMANDS</h3>
<p>The following commands are primarily useful for debugging Open vSwitch.  The flow table entries (both matches and actions) that they work with are not OpenFlow flow entries.  Instead, they are different and considerably simpler flows maintained by the Open vSwitch kernel module.  Use <a href="../man8/ovs-ofctl.8.html"><strong>ovs-ofctl</strong>(8)</a>, instead, to work with OpenFlow flow entries.</p><p>The <em>dp</em> argument to each of these commands is optional when exactly one datapath exists, in which case that datapath is the default.  When multiple datapaths exist, then a datapath name is required.</p>
<dl class='dl-vertical'>
  <dt>
    [<strong>-m </strong>| <strong>--more</strong>] <strong>dump-flows</strong> [<em>dp</em>] [<strong>filter=</strong><em>filter</em>]
  </dt>
  <dd>
    <p>Prints to the console all flow entries in datapath <em>dp</em>'s flow table.  Without <strong>-m</strong> or <strong>--more</strong>, output omits match fields that a flow wildcards entirely; with <strong>-m</strong> or <strong>--more</strong>, output includes all wildcarded fields.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If <strong>filter=</strong><em>filter</em> is specified, only displays the flows that match the <em>filter</em>. <em>filter</em> is a flow in the form similiar to that accepted by <a href="../man8/ovs-ofctl.8.html"><strong>ovs-ofctl</strong>(8)</a>'s <strong>add-flow</strong> command. (This is not an OpenFlow flow: besides other differences, it never contains wildcards.) The <em>filter</em> is also useful to match wildcarded fields in the datapath flow. As an example, <strong>filter='tcp,tp_src=100'</strong> will match the datapath flow containing '<strong>tcp(src=80/0xff00,dst=8080/0xff)</strong>'.</p>
  </dd>
  <dt>
    <strong>add-flow</strong> [<em>dp</em>] <em>flow actions</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Adds or modifies a flow in <em>dp</em>'s flow table that, when a packet matching <em>flow</em> arrives, causes <em>actions</em> to be executed.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>add-flow</strong> command succeeds only if <em>flow</em> does not already exist in <em>dp</em>.  Contrariwise, <strong>mod-flow</strong> without <strong>--may-create</strong> only modifies the actions for an existing flow. With <strong>--may-create</strong>, <strong>mod-flow</strong> will add a new flow or modify an existing one.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If <strong>-s</strong> or <strong>--statistics</strong> is specified, then <strong>mod-flows</strong> prints the modified flow's statistics.  A flow's statistics are the number of packets and bytes that have passed through the flow, the elapsed time since the flow last processed a packet (if ever), and (for TCP flows) the union of the TCP flags processed through the flow.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>With <strong>--clear</strong>, <strong>mod-flows</strong> zeros out the flow's statistics.  The statistics printed if <strong>-s</strong> or <strong>--statistics</strong> is also specified are those from just before clearing the statistics.</p>
  </dd>
  <dt>
    [<strong>-s</strong> | <strong>--statistics</strong>] <strong>del-flow</strong> [<em>dp</em>] <em>flow</em>
  </dt>
  <dd>
    <p>Deletes the flow from <em>dp</em>'s flow table that matches <em>flow</em>. If <strong>-s</strong> or <strong>--statistics</strong> is specified, then <strong>mod-flows</strong> prints the deleted flow's statistics.</p>
  </dd>
  <dt>
    <strong>del-flows</strong> [<em>dp</em>]
  </dt>
  <dd>
    <p>Deletes all flow entries from datapath <em>dp</em>'s flow table.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-s</strong>
  </dt>
  <dd>
    <p>Causes the <strong>show</strong> command to print packet and byte counters for each port within the datapaths that it shows.</p>
  </dd>
  <dt>
    <strong>-m</strong>
  </dt>
  <dd>
    <p>Increases the verbosity of <strong>dump-flows</strong> output.</p>
  </dd>
  <dt>
    <strong>-t</strong>
  </dt>
  <dd>
    <p>Limits <strong>ovs-dpctl</strong> runtime to approximately <em>secs</em> seconds.  If the timeout expires, <strong>ovs-dpctl</strong> will exit with a <strong>SIGALRM</strong> signal.</p>
  </dd>
  <dt>
    <strong>-v</strong>[<em>spec</em>]
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Sets logging levels.  Without any <em>spec</em>, sets the log level for every module and facility to <strong>dbg</strong>.  Otherwise, <em>spec</em> is a list of words separated by spaces or commas or colons, up to one from each category below:</p>
<dl class='dl-vertical'>
  <dt>
    *
  </dt>
  <dd>
    <p>A valid module name, as displayed by the <strong>vlog/list</strong> command on <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a>, limits the log level change to the specified module.</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>syslog</strong>, <strong>console</strong>, or <strong>file</strong>, to limit the log level change to only to the system log, to the console, or to a file, respectively.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows platform, <strong>syslog</strong> is accepted as a word and is only useful along with the <strong>--syslog-target</strong> option (the word has no effect otherwise).</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>off</strong>, <strong>emer</strong>, <strong>err</strong>, <strong>warn</strong>, <strong>info</strong>, or <strong>dbg</strong>, to control the log level.  Messages of the given severity or higher will be logged, and messages of lower severity will be filtered out.  <strong>off</strong> filters out all messages.  See <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a definition of each log level.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Case is not significant within <em>spec</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Regardless of the log levels set for <strong>file</strong>, logging to a file will not take place unless <strong>--log-file</strong> is also specified (see below).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For compatibility with older versions of OVS, <strong>any</strong> is accepted as a word but has no effect.</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>Sets the maximum logging verbosity level, equivalent to <strong>--verbose=dbg</strong>.</p>
  </dd>
  <dt>
    <strong>-vPATTERN:</strong><em>facility</em><strong>:</strong><em>pattern</em>
  </dt>
  <dd>
    <p>Sets the log pattern for <em>facility</em> to <em>pattern</em>.  Refer to <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a description of the valid syntax for <em>pattern</em>.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--log-file</strong>[<strong>=</strong><em>file</em>]</p>
  </dt>
  <dd>
    <p>Enables logging to a file.  If <em>file</em> is specified, then it is used as the exact name for the log file.  The default log file name used if <em>file</em> is omitted is <strong>/var/log/openvswitch/\*(PN.log</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>--syslog-target=</strong><em>host</em><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>Send syslog messages to UDP <em>port</em> on <em>host</em>, in addition to the system syslog.  The <em>host</em> must be a numerical IP address, not a hostname.</p>
  </dd>
  <dt>
    <strong>-h</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Prints a brief help message to the console.</p>
  </dd>
  <dt>
    <strong>-V</strong>
  </dt>
  <dd>
    <p>Prints version information to the console.</p>
  </dd>

</dl>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ovs-dpctl&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a>, <a href="../man8/ovs-vswitchd.8.html"><strong>ovs-vswitchd</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ovs-ctl.8.html"><span aria-hidden="true">&larr;</span> ovs-ctl.8: Ovs startup helper script</a></li>
   <li class="next"><a href="ovs-dpctl-top.8.html">ovs-dpctl-top.8: Top like behavior for ovs-dpctl dump-flows <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
