<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>smem: Report memory usage with shared memory divided proportionally.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Report memory usage with shared memory divided proportionally.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="smem (8) manual">
  <meta name="twitter:description" content="Report memory usage with shared memory divided proportionally.">
  <meta name="twitter:image" content="https://www.carta.tech/images/smem-smem-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/smem.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="smem (8) manual" />
  <meta property="og:description" content="Report memory usage with shared memory divided proportionally." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/smem-smem-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">smem<small> (8)</small></h1>
        <p class="lead">Report memory usage with shared memory divided proportionally.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smem.8.html">
      <span itemprop="name">smem: Report memory usage with shared memory divided proportionally.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/smem/">
      <span itemprop="name">smem</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smem.8.html">
      <span itemprop="name">smem: Report memory usage with shared memory divided proportionally.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>smem</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>smem</strong> reports physical memory usage, taking shared memory pages into account.  Unshared memory is reported as the USS (Unique Set Size). Shared memory is divided evenly among the processes sharing that memory. The unshared memory (USS) plus a process's proportion of shared memory is reported as the PSS (Proportional Set Size).  The USS and PSS only include physical memory usage.  They do not include memory that has been swapped out to disk.</p><p>Memory can be reported by process, by user, by mapping, or systemwide. Both text mode and graphical output are available.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>GENERAL OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Show help.</p>
  </dd>

</dl>

<h3>SOURCE DATA</h3>
<p>By default, smem will pull most of the data it needs from the /proc filesystem of the system it is running on.  The --source option lets you used a tarred set of /proc data saved earlier, possibly on a different machine.  The --kernel and --realmem options let you specify a couple things that smem cannot discover on its own.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-K </strong><em>KERNEL</em><strong>, --kernel=</strong><em>KERNEL</em></p>
  </dt>
  <dd>
    <p>Path to an uncompressed kernel image.  This lets smem include the size of the kernel's code and statically allocated data in the systemwide (-w) output.  (To obtain an uncompressed image of a kernel on disk, you may need to build the kernel yourself, then locate file vmlinux in the source tree.)</p>
  </dd>
  <dt>
    <p><strong>-R </strong><em>REALMEM</em><strong>, --realmem=</strong><em>REALMEM</em></p>
  </dt>
  <dd>
    <p>Amount of physical RAM.  This lets smem detect the amount of memory used by firmware/hardware in the systemwide (-w) output.  If provided, it will also be used as the total memory size to base percentages on. Example: --realmem=1024M</p>
  </dd>
  <dt>
    <p><strong>-S </strong><em>SOURCE</em><strong>, --source=</strong><em>SOURCE</em></p>
  </dt>
  <dd>
    <p>/proc data source.  This lets you specify an alternate source of the /proc data.  For example, you can capture data from an embedded system using smemcap, and parse the data later on a different machine.  If the --source option is not included, smem reports memory usage on the running system.</p>
  </dd>

</dl>

<h3>REPORT BY</h3>
<p>If none of the following options are included, smem reports memory usage by process.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-m, --mappings</strong></p>
  </dt>
  <dd>
    <p>Report memory usage by mapping.</p>
  </dd>
  <dt>
    <p><strong>-u, --users</strong></p>
  </dt>
  <dd>
    <p>Report memory usage by user.</p>
  </dd>
  <dt>
    <p><strong>-w, --system</strong></p>
  </dt>
  <dd>
    <p>Report systemwide memory usage summary.</p>
  </dd>

</dl>

<h3>FILTER BY</h3>
<p>If none of these options are included, memory usage is reported for all processes, users, or mappings.  (Note: If you are running as a non-root user, and if you are not using the --source options, then you will only see data from processes whose /proc/ information you have access to.)</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-M </strong><em>MAPFILTER</em><strong>, --mapfilter=</strong><em>MAPFILTER</em></p>
  </dt>
  <dd>
    <p>Mapping filter regular expression.</p>
  </dd>
  <dt>
    <p><strong>-P </strong><em>PROCESSFILTER</em><strong>, --processfilter=</strong><em>PROCESSFILTER</em></p>
  </dt>
  <dd>
    <p>Process filter regular expression.</p>
  </dd>
  <dt>
    <p><strong>-U </strong><em>USERFILTER</em><strong>, --userfilter=</strong><em>USERFILTER</em></p>
  </dt>
  <dd>
    <p>User filter regular expression.</p>
  </dd>

</dl>

<h3>OUTPUT FORMATTING</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c </strong><em>COLUMNS</em><strong>, --columns=</strong><em>COLUMNS</em></p>
  </dt>
  <dd>
    <p>Columns to show.</p>
  </dd>
  <dt>
    <p><strong>-H, --no-header</strong></p>
  </dt>
  <dd>
    <p>Disable header line.</p>
  </dd>
  <dt>
    <p><strong>-k, --abbreviate</strong></p>
  </dt>
  <dd>
    <p>Show unit suffixes.</p>
  </dd>
  <dt>
    <p><strong>-n, --numeric</strong></p>
  </dt>
  <dd>
    <p>Show numeric user IDs instead of usernames.</p>
  </dd>
  <dt>
    <p><strong>-p, --percent</strong></p>
  </dt>
  <dd>
    <p>Show percentages.</p>
  </dd>
  <dt>
    <p><strong>-r, --reverse</strong></p>
  </dt>
  <dd>
    <p>Reverse sort.</p>
  </dd>
  <dt>
    <p><strong>-s </strong><em>SORT</em><strong>, --sort=</strong><em>SORT</em></p>
  </dt>
  <dd>
    <p>Field to sort on.</p>
  </dd>
  <dt>
    <p><strong>-t, --totals</strong></p>
  </dt>
  <dd>
    <p>Show totals.</p>
  </dd>

</dl>

<h3>OUTPUT TYPE</h3>
<p>These options specify graphical output styles.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--bar=</strong><em>BAR</em></p>
  </dt>
  <dd>
    <p>Show bar graph.</p>
  </dd>
  <dt>
    <p><strong>--pie=</strong><em>PIE</em></p>
  </dt>
  <dd>
    <p>Show pie graph.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REQUIREMENTS</h2>
        <div class="sectioncontent">
<p><strong>smem</strong> requires:</p><ul>
<li><p>Linux kernel providing 'Pss' metric in /proc/&lt;pid&gt;/smaps (generally 2.6.27 or newer).</p></li><li><p>Python 2.x (at least 2.4 or so).</p></li><li><p>The matplotlib library (only if you want to generate graphical charts).</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EMBEDDED USAGE</h2>
        <div class="sectioncontent">
<p>To capture memory statistics on resource-constrained systems, the the <strong>smemcap</strong> package includes a utility named <strong>smemcap</strong>. <strong>smemcap</strong> captures all /proc entries required by <strong>smem</strong> and outputs them as an uncompressed .tar file to STDOUT. <strong>smem</strong> can analyze the output using the <strong>--source</strong> option. <strong>smemcap</strong> is small and does not require Python.</p><p>To use <strong>smemcap</strong>:</p>
<dl class='dl-vertical'>
  <dt>
    1.
  </dt>
  <dd>
    <p>Install package smemcap on target system.</p>
  </dd>
  <dt>
    2.
  </dt>
  <dd>
    <p>Run <strong>smemcap</strong> on the target system and save the output:</p><p>smemcap &gt; memorycapture.tar</p>
  </dd>
  <dt>
    3.
  </dt>
  <dd>
    <p>Copy the output to another machine and run smem on it:</p><p>smem -S memorycapture.tar</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/proc/$pid/cmdline</em></p><p><em>/proc/$pid/smaps</em></p><p><em>/proc/$pid/stat</em></p><p><em>/proc/meminfo</em></p><p><em>/proc/version</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESOURCES</h2>
        <div class="sectioncontent">
<p>Main Web Site: http://www.selenic.com/smem</p><p>Source code repository: http://selenic.com/repo/smem</p><p>Mailing list: http://selenic.com/mailman/listinfo/smem</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO smem&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/free.1.html"><strong>free</strong>(1)</a>, <a href="../man1/pmap.1.html"><strong>pmap</strong>(1)</a>, <a href="../man5/proc.5.html"><strong>proc</strong>(5)</a>, <strong>ps</strong>(1), <strong>top</strong>(1), <a href="../man8/vmstat.8.html"><strong>vmstat</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2008-2009 Matt Mackall.  Free use of this software is granted under the terms of the GNU General Public License version 2 or later.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>smem</strong> was written by Matt Mackall.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="smdiag.8.html"><span aria-hidden="true">&larr;</span> smdiag.8: Linux soundcard packet radio modem driver diagnostics utility</a></li>
   <li class="next"><a href="smemcap.8.html">smemcap.8: Capture memory usage data for later processing by smem. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
