<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>courieruucp: Sample courier mail filter</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sample courier mail filter">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="courieruucp (8) manual">
  <meta name="twitter:description" content="Sample courier mail filter">
  <meta name="twitter:image" content="https://www.carta.tech/images/courier-mta-courieruucp-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/courieruucp.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="courieruucp (8) manual" />
  <meta property="og:description" content="Sample courier mail filter" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/courier-mta-courieruucp-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">courieruucp<small> (8)</small></h1>
        <p class="lead">Sample courier mail filter</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/courieruucp.8.html">
      <span itemprop="name">courieruucp: Sample courier mail filter</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/courier-mta/">
      <span itemprop="name">courier-mta</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/courieruucp.8.html">
      <span itemprop="name">courieruucp: Sample courier mail filter</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>makeuucpneighbors</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The Courier mail server is capable of sending and receiving mail via UUCP. Courier does not implement UUCP directly, but instead uses third-party UUCP software, which you must install separately. Courier&apos;s UUCP support is provided automatically by the courieruucp module, which is compiled and installed by default.</p><p>Courier sends mail via UUCP by issuing a request via <strong>uux</strong> to execute the <strong>rmail</strong> command on the remote UUCP node. Courier passes the message envelope sender to <strong>rmail</strong> via the <strong>-f</strong> flag, and lists the message envelope recipients as the remaining arguments. Message envelope addresses and E-mail addresses in the headers of the message will be appropriately rewritten.</p><p>Courier will only send mail via UUCP if it knows about the recipient&apos;s UUCP node. The configuration file /etc/courier/uucpneighbors is a plain text configuration file. The <strong>makeuucpneighbors</strong> script compiles this configuration file into a binary database that is read by Courier. Changes to /etc/courier/uucpneighbors do not take effect until <strong>makeuucpneighbors</strong> is executed, and Courier is restarted.</p><p>/etc/courier/uucpneighbors may also be a subdirectory instead of a plain text file, in which case the contents of all text files in this subdirectory is automatically concatenated by the <strong>makeuucpneighbors</strong> script.</p><h3>Contents of /etc/courier/uucpme</h3>
<p>This configuration file must be initialized to contain the UUCP node name that this machine is known to its neighbors. If /etc/courier/uucpme does not exist, Courier uses the first node name of the hostname specified by the /etc/courier/me configuration file.</p>
<h3>Contents of /etc/courier/uucpneighbors</h3>
<p>Note that in addition to creating this configuration file you must also configure your UUCP software to appropriately route UUCP mail to the specified nodes, which is a completely separate task. Blank lines in this file are ignored. Lines that start with the # character are comments, and are also ignored. The remaining lines are in the following format:</p>
<pre>
node&lt;TAB&gt;flags
</pre>
<p><em>node</em> is a UUCP node, such as "apple" or "food!fruits!apple". &lt;TAB&gt; is a single tab character, and <em>flags</em> is zero or more of single character flags described below. The tab character can be ommited if there are no <em>flags</em>.</p><p>If there is an entry for <em>node</em> in /etc/courier/uucpneighbors then Courier will accept mail for any address of the form "node!user", but not "node!nodule!user". In order to accept mail for "node!nodule!user" you must enter both "node" and "node!nodule", unless you use the <strong>F</strong> or the <strong>G</strong> flag.</p><p>The flags are as follows:</p><p>F</p><p>Unrestricted forwarding. This flag will accept any UUCP path that starts with the specified node. Example:</p>
<pre>
food&lt;TAB&gt;F
</pre>
<p>This will accept "food!fruits!apple", "food!fruits!banana", "food!drinks!orangejuice", and so on. You may simply list all your immediate UUCP neighbors using the F flag, and accept mail to any address that&apos;s reachable via any neighbor.</p><p>G</p><p>This is a gateway. This flag is identical to the F flag, except that <strong>rmail</strong> is executed on the specified node. Normally, Courier will issue a <strong>uux</strong> request to run <strong>rmail</strong> on the last node, for example "<strong>uux food!fruits!rmail apple</strong>". Using G instead of F will run <strong>rmail</strong> on the listed node, for example "<strong>uux food!rmail fruits!apple</strong>".</p><p>R</p><p>This is a relay. This flag is used where neither F or G flags are appropriate, but you want to run <strong>rmail</strong> on this node. For example:</p>
<pre>
food!fruits
food&lt;TAB&gt;R
</pre>
<p>In this example mail to "food!fruits!apple" is sent by executing "<strong>uux food!rmail fruits!apple</strong>". If the R flag is not specified, then Courier will request "<strong>uux food!fruits!rmail apple</strong>".</p>
<h3>Contents of /etc/courier/module.uucp</h3>
<p>This is the standard Courier module configuration file.</p><p>MAXDELS</p><p>Maximum simultaneous UUCP deliveries. This setting is a bit misleading. From Courier&apos;s viewpoint, a delivery consists only of running <strong>uux</strong> to queue up the message via UUCP. Once <strong>uux</strong> returns, the message is delivered, as far as Courier is concerned. UUCP is responsible for getting the message the rest of the way. Therefore, UUCP deliveries tend to be fairly quick, and it is not necessary to configure a large number of concurrent <strong>courieruucp</strong> processes, since each one will terminate quickly. Once <strong>uux</strong> terminates, the UUCP software is responsible for queueing and sending the message.</p><p>MAXHOST</p><p>Maximum simultaneous UUCP deliveries to the same UUCP node. Since UUCP deliveries tend to be fairly quick, it is not usually necessary to use <strong>MAXHOST</strong> to limit concurrent deliveries to the same UUCP node, so <strong>MAXHOST</strong> should generally be set to the same value as <strong>MAXDELS</strong>.</p><p>MAXRCPT</p><p>Maximum recipients per message. When the same message is sent to multiple recipients on the same UUCP node, Courier is capable of asking to run <strong>rmail</strong> only one, and listing all the recipients together. <strong>MAXRCPT</strong> specifies the upper limit on the number of recipients that are batched together. You want to set a limit based on any limitations on the length of command lines that&apos;s imposed by the operating system. Sending the same message to different UUCP nodes is always handled as separate deliveries.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HEADER AND ADDRESS REWRITING</h2>
        <div class="sectioncontent">
<p>Courier is certainly capable of relaying mail between the Internet - via ESMTP - and UUCP-land, rewriting headers and addresses appropriately. The address rewriting rules are fixed, but they are expected to work in nearly every case. If you find yourself in some oddball situation, you&apos;ll just have to invest the time to add custom header rewriting code.</p><p>If you are example.com, and your UUCP node is example, then &lt;user@example.com&gt; gets rewritten as example!user.</p><p>Internet mail may be sent via ESMTP to your UUCP neighbor apple!john by sending it to &lt;apple!john@example.com&gt;. When that&apos;s forwarded via UUCP the return address of &lt;someone@domain.com&gt; will be rewritten as example!domain.com!someone.</p><p>apple!john will get the mail with this return address, which should be repliable back to the sender. Courier&apos;s UUCP module will receive the UUCP address domain.com!someone, and translate it back as &lt;someone@domain.com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Courier does not support defining multiple UUCP node names in /etc/courier/uucpme.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO courieruucp&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong></strong><a href="../man8/esmtpd.8.html"><strong>esmtpd</strong>(8)</a>\m[]\s-2\u[1]\d\s+2, \m[blue]<strong></strong><strong>couriertcpd</strong>(8)\m[]\s-2\u[2]\d\s+2, \m[blue]<strong></strong><a href="../man8/courier.8.html"><strong>courier</strong>(8)</a>\m[]\s-2\u[3]\d\s+2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Sam Varshavchik</strong></p><p>Author</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p><a href="../man8/esmtpd.8.html"><strong>esmtpd</strong>(8)</a></p><p>[set $man.base.url.for.relative.links]/esmtpd.html</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p><strong>couriertcpd</strong>(8)</p><p>[set $man.base.url.for.relative.links]/couriertcpd.html</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p><a href="../man8/courier.8.html"><strong>courier</strong>(8)</a></p><p>[set $man.base.url.for.relative.links]/courier.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="courierpop3login.8.html"><span aria-hidden="true">&larr;</span> courierpop3login.8: The courier pop3 server</a></li>
   <li class="next"><a href="cowbuilder.8.html">cowbuilder.8: A pbuilder wrapper for cowdancer. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
