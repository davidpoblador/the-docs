<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>samba-tool: Main samba administration tool.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Main samba administration tool.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="samba-tool (8) manual">
  <meta name="twitter:description" content="Main samba administration tool.">
  <meta name="twitter:image" content="https://www.carta.tech/images/samba-common-bin-samba-tool-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/samba-tool.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="samba-tool (8) manual" />
  <meta property="og:description" content="Main samba administration tool." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/samba-common-bin-samba-tool-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">samba-tool<small> (8)</small></h1>
        <p class="lead">Main samba administration tool.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/samba-tool.8.html">
      <span itemprop="name">samba-tool: Main samba administration tool.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/samba-common-bin/">
      <span itemprop="name">samba-common-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/samba-tool.8.html">
      <span itemprop="name">samba-tool: Main samba administration tool.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>samba-tool [-h] [-W&nbsp;myworkgroup] [-U&nbsp;user] [-d&nbsp;debuglevel] [--v]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This tool is part of the <a href="../man7/samba.7.html"><strong>samba</strong>(7)</a> suite.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>-h|--help</p><p>Show this help message and exit</p><p>--realm=REALM</p><p>Set the realm name</p><p>--simple-bind-dn=DN</p><p>DN to use for a simple bind</p><p>--password=PASSWORD</p><p>Password</p><p>-U USERNAME|--username=USERNAME</p><p>Username</p><p>-W WORKGROUP|--workgroup=WORKGROUP</p><p>Workgroup</p><p>-N|--no-pass</p><p>Don&apos;t ask for a password</p><p>-k KERBEROS|--kerberos=KERBEROS</p><p>Use Kerberos</p><p>--ipaddress=IPADDRESS</p><p>IP address of the server</p><p>-d|--debuglevel=level</p><p><em>level</em> is an integer from 0 to 10. The default value if this parameter is not specified is 1.</p><p>The higher this value, the more detail will be logged to the log files about the activities of the server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reasonable level for day-to-day running - it generates a small amount of information about operations carried out.</p><p>Levels above 1 will generate considerable amounts of log data, and should only be used when investigating a problem. Levels above 3 are designed for use only by developers and generate HUGE amounts of log data, most of which is extremely cryptic.</p><p>Note that specifying this parameter here will override the \m[blue]<strong>log level</strong>\m[] parameter in the smb.conf file.</p><p>-V|--version</p><p>Prints the program version number.</p><p>-s|--configfile=&lt;configuration file&gt;</p><p>The file specified contains the configuration details required by the server. The information in this file includes server-specific information such as what printcap file to use, as well as descriptions of all the services that the server is to provide. See smb.conf for more information. The default configuration file name is determined at compile time.</p><p>-l|--log-basename=logdirectory</p><p>Base directory name for log/debug files. The extension <strong>".progname"</strong> will be appended (e.g. log.smbclient, log.smbd, etc...). The log file is never removed by the client.</p><p>--option=&lt;name&gt;=&lt;value&gt;</p><p>Set the <a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a> option "&lt;name&gt;" to value "&lt;value&gt;" from the command line. This overrides compiled-in defaults and options read from the configuration file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<h3>dbcheck</h3>
<p>Check the local AD database for errors.</p>
<h3>delegation</h3>
<p>Manage Delegations.</p>
<h3>delegation add-service accountname principal [options]</h3>
<p>Add a service principal as msDS-AllowedToDelegateTo.</p>
<h3>delegation del-service accountname principal [options]</h3>
<p>Delete a service principal as msDS-AllowedToDelegateTo.</p>
<h3>delegation for-any-protocol accountname [(on|off)] [options]</h3>
<p>Set/unset UF_TRUSTED_TO_AUTHENTICATE_FOR_DELEGATION (S4U2Proxy) for an account.</p>
<h3>delegation for-any-service accountname [(on|off)] [options]</h3>
<p>Set/unset UF_TRUSTED_FOR_DELEGATION for an account.</p>
<h3>delegation show accountname [options]	</h3>
<p>Show the delegation setting of an account.</p>
<h3>dns</h3>
<p>Manage Domain Name Service (DNS).</p>
<h3>dns add server zone name A|AAAA|PTR|CNAME|NS|MX|SRV|TXT data</h3>
<p>Add a DNS record.</p>
<h3>dns delete server zone name A|AAAA|PTR|CNAME|NS|MX|SRV|TXT data</h3>
<p>Delete a DNS record.</p>
<h3>dns query server zone name A|AAAA|PTR|CNAME|NS|MX|SRV|TXT|ALL [options] data</h3>
<p>Query a name.</p>
<h3>dns roothints server [name] [options]</h3>
<p>Query root hints.</p>
<h3>dns serverinfo server [options]</h3>
<p>Query server information.</p>
<h3>dns update server zone name A|AAAA|PTR|CNAME|NS|MX|SRV|TXT olddata newdata</h3>
<p>Update a DNS record.</p>
<h3>dns zonecreate server zone [options]</h3>
<p>Create a zone.</p>
<h3>dns zonedelete server zone [options]</h3>
<p>Delete a zone.</p>
<h3>dns zoneinfo server zone [options]</h3>
<p>Query zone information.</p>
<h3>dns zonelist server [options]</h3>
<p>List zones.</p>
<h3>domain</h3>
<p>Manage Domain.</p>
<h3>domain classicupgrade [options] classic_smb_conf</h3>
<p>Upgrade from Samba classic (NT4-like) database to Samba AD DC database.</p>
<h3>domain dcpromo dnsdomain [DC|RODC] [options]</h3>
<p>Promote an existing domain member or NT4 PDC to an AD DC.</p>
<h3>domain demote</h3>
<p>Demote ourselves from the role of domain controller.</p>
<h3>domain exportkeytab keytab [options]</h3>
<p>Dumps Kerberos keys of the domain into a keytab.</p>
<h3>domain info ip_address [options]</h3>
<p>Print basic info about a domain and the specified DC.</p>
<h3>domain join dnsdomain [DC|RODC|MEMBER|SUBDOMAIN] [options]</h3>
<p>Join a domain as either member or backup domain controller.</p>
<h3>domain level show|raise options [options]</h3>
<p>Show/raise domain and forest function levels.</p>
<h3>domain passwordsettings show|set options [options]</h3>
<p>Show/set password settings.</p>
<h3>domain provision</h3>
<p>Promote an existing domain member or NT4 PDC to an AD DC.</p>
<h3>drs</h3>
<p>Manage Directory Replication Services (DRS).</p>
<h3>drs bind</h3>
<p>Show DRS capabilities of a server.</p>
<h3>drs kcc</h3>
<p>Trigger knowledge consistency center run.</p>
<h3>drs options</h3>
<p>Query or change <em>options</em> for NTDS Settings object of a domain controller.</p>
<h3>drs replicate destination_DC source_DC NC [options]</h3>
<p>Replicate a naming context between two DCs.</p>
<h3>drs showrepl</h3>
<p>Show replication status.</p>
<h3>dsacl</h3>
<p>Administer DS ACLs</p>
<h3>dsacl set</h3>
<p>Modify access list on a directory object.</p>
<h3>fsmo</h3>
<p>Manage Flexible Single Master Operations (FSMO).</p>
<h3>fsmo seize [options]</h3>
<p>Seize the role.</p>
<h3>fsmo show</h3>
<p>Show the roles.</p>
<h3>fsmo transfer [options]</h3>
<p>Transfer the role.</p>
<h3>gpo</h3>
<p>Manage Group Policy Objects (GPO).</p>
<h3>gpo create displayname [options]</h3>
<p>Create an empty GPO.</p>
<h3>gpo del gpo [options]</h3>
<p>Delete GPO.</p>
<h3>gpo dellink container_dn gpo [options]</h3>
<p>Delete GPO link from a container.</p>
<h3>gpo fetch gpo [options]</h3>
<p>Download a GPO.</p>
<h3>gpo getinheritance container_dn [options]</h3>
<p>Get inheritance flag for a container.</p>
<h3>gpo getlink container_dn [options]</h3>
<p>List GPO Links for a container.</p>
<h3>gpo list username [options]</h3>
<p>List GPOs for an account.</p>
<h3>gpo listall</h3>
<p>List all GPOs.</p>
<h3>gpo listcontainers gpo [options]</h3>
<p>List all linked containers for a GPO.</p>
<h3>gpo setinheritance container_dn block|inherit [options]</h3>
<p>Set inheritance flag on a container.</p>
<h3>gpo setlink container_dn gpo [options]</h3>
<p>Add or Update a GPO link to a container.</p>
<h3>gpo show gpo [options]</h3>
<p>Show information for a GPO.</p>
<h3>group</h3>
<p>Manage groups.</p>
<h3>group add groupname [options]</h3>
<p>Create a new AD group.</p>
<h3>group addmembers groupname members [options]</h3>
<p>Add members to an AD group.</p>
<h3>group delete groupname [options]</h3>
<p>Delete an AD group.</p>
<h3>group list</h3>
<p>List all groups.</p>
<h3>group listmembers groupname [options]</h3>
<p>List all members of the specified AD group.</p>
<h3>group removemembers groupname members [options]</h3>
<p>Remove members from the specified AD group.</p>
<h3>ldapcmp \fIURL1\fR \fIURL2\fR \fIdomain|configuration|schema|dnsdomain|dnsforest\fR [options]</h3>
<p>Compare two LDAP databases.</p>
<h3>ntacl</h3>
<p>Manage NT ACLs.</p>
<h3>ntacl get file [options]</h3>
<p>Get ACLs on a file.</p>
<h3>ntacl set acl file [options]</h3>
<p>Set ACLs on a file.</p>
<h3>ntacl sysvolcheck</h3>
<p>Check sysvol ACLs match defaults (including correct ACLs on GPOs).</p>
<h3>ntacl sysvolreset</h3>
<p>Reset sysvol ACLs to defaults (including correct ACLs on GPOs).</p>
<h3>rodc</h3>
<p>Manage Read-Only Domain Controller (RODC).</p>
<h3>rodc preload SID|DN|accountname [options]</h3>
<p>Preload one account for an RODC.</p>
<h3>sites</h3>
<p>Manage sites.</p>
<h3>sites create site [options]</h3>
<p>Create a new site.</p>
<h3>sites remove site [options]</h3>
<p>Delete an esxisting site.</p>
<h3>spn</h3>
<p>Manage Service Principal Names (SPN).</p>
<h3>spn add name user [options]</h3>
<p>Create a new SPN.</p>
<h3>spn delete name [user] [options]</h3>
<p>Delete an existing SPN.</p>
<h3>spn list user [options]</h3>
<p>List SPNs of a given user.</p>
<h3>testparm</h3>
<p>Check the syntax of the configuration file.</p>
<h3>time</h3>
<p>Retrieve the time on a server.</p>
<h3>user</h3>
<p>Manage users.</p>
<h3>user add username [password]</h3>
<p>Create a new user. Please note that this subcommand is deprecated and available for compatibility reasons only. Please use samba-tool user create instead.</p>
<h3>user create username [password]</h3>
<p>Create a new user in the Active Directory Domain.</p>
<h3>user delete username [options]</h3>
<p>Delete an existing user account.</p>
<h3>user disable username</h3>
<p>Disable an user account.</p>
<h3>user enable username</h3>
<p>Enable an user account.</p>
<h3>user list</h3>
<p>List all users.</p>
<h3>user password [options]</h3>
<p>Change password for an user account (the one provided in authentication).</p>
<h3>user setexpiry username [options]</h3>
<p>Set the expiration of an user account.</p>
<h3>user setpassword username [options]</h3>
<p>Sets or resets the password of an user account.</p>
<h3>vampire [options] \fIdomain\fR</h3>
<p>Join and synchronise a remote AD domain to the local server. Please note that samba-tool vampire is deprecated, please use samba-tool domain join instead.</p>
<h3>help</h3>
<p>Gives usage information.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This man page is complete for version 4 of the Samba suite.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.</p><p>The samba-tool manpage was written by Karolin Seeger.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="samba-regedit.8.html"><span aria-hidden="true">&larr;</span> samba-regedit.8: Ncurses based tool to manage the samba registry</a></li>
   <li class="next"><a href="samhain.8.html">samhain.8: Check file integrity <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
