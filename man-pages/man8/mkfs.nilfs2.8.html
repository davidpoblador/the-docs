<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mkfs.nilfs2: Create a nilfs2 filesystem</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a nilfs2 filesystem">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mkfs.nilfs2 (8) manual">
  <meta name="twitter:description" content="Create a nilfs2 filesystem">
  <meta name="twitter:image" content="https://www.carta.tech/images/nilfs-tools-mkfs.nilfs2-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/mkfs.nilfs2.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mkfs.nilfs2 (8) manual" />
  <meta property="og:description" content="Create a nilfs2 filesystem" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nilfs-tools-mkfs.nilfs2-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mkfs.nilfs2<small> (8)</small></h1>
        <p class="lead">Create a nilfs2 filesystem</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mkfs.nilfs2.8.html">
      <span itemprop="name">mkfs.nilfs2: Create a nilfs2 filesystem</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nilfs-tools/">
      <span itemprop="name">nilfs-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mkfs.nilfs2.8.html">
      <span itemprop="name">mkfs.nilfs2: Create a nilfs2 filesystem</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mkfs -t nilfs2</strong> [ <strong>-b</strong> <em>block-size</em> ] [ <strong>-B</strong> <em>blocks-per-segment</em> ] [ <strong>-c</strong> ] [ <strong>-f</strong> ] [ <strong>-K</strong> ] [ <strong>-L</strong> <em>volume-label</em> ] [ <strong>-m</strong> <em>reserved-segments-percentage</em> ] [ <strong>-n</strong> ] [ <strong>-O</strong> <em>feature</em>[,...] ] [ <strong>-h</strong> ] [ <strong>-q</strong> ] [ <strong>-v</strong> ] [ <strong>-V</strong> ] <em>device</em></p><p><strong>mkfs.nilfs2</strong> [ <strong>-b</strong> <em>block-size</em> ] [ <strong>-B</strong> <em>blocks-per-segment</em> ] [ <strong>-c</strong> ] [ <strong>-f</strong> ] [ <strong>-K</strong> ] [ <strong>-L</strong> <em>volume-label</em> ] [ <strong>-m</strong> <em>reserved-segments-percentage</em> ] [ <strong>-n</strong> ] [ <strong>-O</strong> <em>feature</em>[,...] ] [ <strong>-h</strong> ] [ <strong>-q</strong> ] [ <strong>-v</strong> ] [ <strong>-V</strong> ] <em>device</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mkfs.nilfs2</strong> is used to create a nilfs2 filesystem (usually in a disk partition). <em>device</em> is the special file corresponding to the device (e.g. <em>/dev/sdXX</em>). Usually <strong>mkfs.nilfs2</strong> is invoked from the <a href="../man8/mkfs.8.html"><strong>mkfs</strong>(8)</a> front-end program.</p><p>The exit code returned by <strong>mkfs.nilfs2</strong> is 0 on success and 1 on failure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong><em> block-size</em></p>
  </dt>
  <dd>
    <p>Specify the size of blocks in bytes.  The valid block size is 1024, 2048, 4096, 8192 bytes, ..., and the maximum block size is restricted to the system page size.  For most machines, it is 4096 bytes.  The default block size is 4096 bytes.</p>
  </dd>
  <dt>
    <p><strong>-B</strong><em> blocks-per-segment</em></p>
  </dt>
  <dd>
    <p>Specify the number of blocks in a segment, where the segment (also called full segment) is an allocation unit of disk space of NILFS. This parameter gives the size of segment and consequently determines how many segments are aligned in the specified device.  The default number of blocks per segment is 2048 (= 8MB with 4KB blocks).</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Check the device for bad blocks before building the filesystem.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Force overwrite when an existing filesystem is detected on the device. By default, <strong>mkfs.nilfs2</strong> will not write to the device if it suspects  that  there is a filesystem on the device already.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Display help message and exit.</p>
  </dd>
  <dt>
    <p><strong>-K</strong></p>
  </dt>
  <dd>
    <p>Keep, do not attempt to discard blocks at mkfs time (discarding blocks initially is useful on solid state drives and sparse / thinly-provisioned storage).</p>
  </dd>
  <dt>
    <p><strong>-L</strong><em> new-volume-label</em></p>
  </dt>
  <dd>
    <p>Set the volume label for the filesystem to <em>new-volume-label</em>. The maximum length of the volume label is 80 bytes.</p>
  </dd>
  <dt>
    <p><strong>-m</strong><em> reserved-segments-percentage</em></p>
  </dt>
  <dd>
    <p>Specify the percentage of the segments reserved for garbage collection.  The default percentage is 5%.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Cause <strong>mkfs.nilfs2</strong> to not actually create a filesystem, but display what it would be do if it were to create a filesystem.</p>
  </dd>
  <dt>
    <p><strong>-O </strong><em>feature</em>[,...]</p>
  </dt>
  <dd>
    <p>Create a filesystem with the given features (filesystem options), overriding the default filesystem options.</p><p>The filesystem feature set is comprised of a list of features, separated by commas, that are to be enabled.  To disable a feature, simply prefix the feature name with a caret ('^') character.  The pseudo-filesystem feature "none" will clear all filesystem features.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>block_count</strong></p>
  </dt>
  <dd>
    <p>Enable block count per checkpoint.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Quiet execution.  Useful if <strong>mkfs.nilfs2</strong> is run in a script.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose execution.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print the version number of <strong>mkfs.nilfs2</strong> and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This version of <strong>mkfs.nilfs2</strong> has been written by Ryusuke Konishi &lt;konishi.ryusuke@lab.ntt.co.jp&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p><strong>mkfs.nilfs2</strong> is part of the nilfs-utils package and is available from http://nilfs.sourceforge.net.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mkfs.nilfs2&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/nilfs.8.html"><strong>nilfs</strong>(8)</a>, <a href="../man8/mkfs.8.html"><strong>mkfs</strong>(8)</a>, <a href="../man8/badblocks.8.html"><strong>badblocks</strong>(8)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mkfs.msdos.8.html"><span aria-hidden="true">&larr;</span> mkfs.msdos.8: Create an ms-dos filesystem under linux</a></li>
   <li class="next"><a href="mkfs.ntfs.8.html">mkfs.ntfs.8: Create an ntfs file system <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
