<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sheep: Distributed block storage system for qemu</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distributed block storage system for qemu">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sheep (8) manual">
  <meta name="twitter:description" content="Distributed block storage system for qemu">
  <meta name="twitter:image" content="https://www.carta.tech/images/sheepdog-sheep-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/sheep.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sheep (8) manual" />
  <meta property="og:description" content="Distributed block storage system for qemu" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sheepdog-sheep-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sheep<small> (8)</small></h1>
        <p class="lead">Distributed block storage system for qemu</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sheep.8.html">
      <span itemprop="name">sheep: Distributed block storage system for qemu</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sheepdog/">
      <span itemprop="name">sheepdog</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sheep.8.html">
      <span itemprop="name">sheep: Distributed block storage system for qemu</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sheep [options] [PATH]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sheep</strong> - Sheepdog is a distributed storage system for QEMU. It provides highly available block level storage volumes to virtual machines. Sheepdog supports advanced volume management features such as snapshot, cloning, and thin provisioning. The architecture of Sheepdog is fully symmetric; there is no central node such as a meta-data server.</p><p>The server daemon is called <a href="../man8/sheep.8.html"><strong>sheep</strong>(8)</a>.  A command line utility is available via <a href="../man8/dog.8.html"><strong>dog</strong>(8)</a>.  QEMU virtual machines use the sheep daemon via a block driver available in <strong>qemu</strong>(1).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b, --bindaddr</strong></p>
  </dt>
  <dd>
    <p>specify IP address of interface to listen on</p><p>Example:</p>
<pre>
  $ sheep -b 192.168.1.1 ...
</pre>
<p>This tries to teach sheep listen to NIC of 192.168.1.1.</p><p>Example:</p>
<pre>
  $ sheep -b 0.0.0.0 ...
</pre>
<p>This tries to teach sheep listen to all the NICs available. It can be useful when you want sheep to response dog without specified address and port.</p>
  </dd>
  <dt>
    <p><strong>-c, --cluster</strong></p>
  </dt>
  <dd>
    <p>specify the cluster driver (default: corosync)</p><p>Available arguments:</p>
<pre>
  local: use local driver
  corosync: use corosync driver
  zookeeper: use zookeeper driver, need extra arguments
</pre>

<pre>
  zookeeper arguments: address-list,tiemout=value (default as 3000)
</pre>
<p>Example:</p>
<pre>
  $ sheep -c zookeeper:IP1:PORT1,IP2:PORT2,IP3:PORT3,timeout=1000 ...
</pre>
<p>This tries to use 3 node zookeeper cluster, which can be reached by IP1:PORT1, IP2:PORT2, IP3:PORT3 to manage membership and broadcast message and set the timeout of node heartbeat as 1000 milliseconds</p>
  </dd>
  <dt>
    <p><strong>-D, --directio</strong></p>
  </dt>
  <dd>
    <p>use direct IO for backend store</p>
  </dd>
  <dt>
    <p><strong>-g, --gateway</strong></p>
  </dt>
  <dd>
    <p>make the progam run as a gateway mode</p>
  </dd>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>display this help and exit</p>
  </dd>
  <dt>
    <p><strong>-i, --ioaddr</strong></p>
  </dt>
  <dd>
    <p>use separate network card to handle IO requests (default: disabled)</p><p>Example:</p>
<pre>
  $ sheep -i host=192.168.1.1,port=7002 ...
</pre>
<p>This tries to add a dedicated IO NIC of 192.168.1.1:7002 to transfer data. If IO NIC is down, sheep will fallback to non IO NIC to transfer data.</p>
  </dd>
  <dt>
    <p><strong>-j, --journal</strong></p>
  </dt>
  <dd>
    <p>use jouranl file to log all the write operations. (default: disabled)</p><p>Available arguments:</p>
<pre>
  size=: size of the journal in megabyes
  dir=: path to the location of the journal (default: $STORE)
  skip: if specified, skip the recovery at startup
</pre>
<p>Example:</p>
<pre>
  $ sheep -j dir=/journal,size=1G
</pre>
<p>This tries to use /journal as the journal storage of the size 1G</p>
  </dd>
  <dt>
    <p><strong>-l, --log</strong></p>
  </dt>
  <dd>
    <p>specify the log level, the log directory and the log format(log level default: 6 [SDOG_INFO])</p><p>Example:</p>
<pre>
  $ sheep -l dir=/var/log/,level=debug,format=server ...
</pre>
<p>Available arguments:</p>
<pre>
  dir=: path to the location of sheep.log
  level=: log level of sheep.log
  format=: log format type
  dst=: log destination type
</pre>
<p>if dir is not specified, use metastore directory</p><p>Available log levels:</p>
<pre>
  Level      Description
  emerg      system has failed and is unusable
  alert      action must be taken immediately
  crit       critical conditions
  err        error conditions
  warning    warning conditions
  notice     normal but significant conditions
  info       informational notices
  debug      debugging messages
</pre>
<p>default log level is info</p><p>Available log format:</p>
<pre>
  FormatType      Description
  default         raw format
  server          raw format with timestamp
  json            json format
</pre>
<p>Available log destination:</p>
<pre>
  DestinationType    Description
  default            dedicated file in a directory used by sheep
  syslog             syslog of the system
  stdout             standard output
</pre>

  </dd>
  <dt>
    <p><strong>-n, --nosync</strong></p>
  </dt>
  <dd>
    <p>drop O_SYNC for write of backend</p>
  </dd>
  <dt>
    <p><strong>-p, --port</strong></p>
  </dt>
  <dd>
    <p>specify the TCP port on which to listen (default: 7000)</p>
  </dd>
  <dt>
    <p><strong>-P, --pidfile</strong></p>
  </dt>
  <dd>
    <p>create a pid file</p>
  </dd>
  <dt>
    <p><strong>-r, --http</strong></p>
  </dt>
  <dd>
    <p>enable http service. (default: disabled)</p><p>Available arguments:</p>
<pre>
  host=: specify a host to communicate with http server (default: localhost)
  port=: specify a port to communicate with http server (default: 8000)
  swift: enable swift API
</pre>
<p>Example:</p>
<pre>
  $ sheep -r host=localhost,port=7001,swift ...
</pre>
<p>This tries to enable Swift API and use localhost:7001 to communicate with http server.</p>
  </dd>
  <dt>
    <p><strong>-u, --upgrade</strong></p>
  </dt>
  <dd>
    <p>upgrade to the latest data layout</p>
  </dd>
  <dt>
    <p><strong>-v, --version</strong></p>
  </dt>
  <dd>
    <p>show the version</p><p>Sheepdog daemon version 0.8.3</p>
  </dd>
  <dt>
    <p><strong>-w, --cache</strong></p>
  </dt>
  <dd>
    <p>enable object cache</p><p>Available arguments:</p>
<pre>
  size=: size of the cache in megabyes
  dir=: path to the location of the cache (default: $STORE/cache)
  directio: use directio mode for cache IO, if not specified use buffered IO
</pre>
<p>Example:</p>
<pre>
  $ sheep -w size=200G,dir=/my_ssd,directio ...
</pre>
<p>This tries to use /my_ssd as the cache storage with 200G allocted to the cache in directio mode</p>
  </dd>
  <dt>
    <p><strong>-y, --myaddr</strong></p>
  </dt>
  <dd>
    <p>specify the address advertised to other sheep</p><p>Example:</p>
<pre>
  $ sheep -y 192.168.1.1:7000 ...
</pre>
<p>This tries to tell other nodes through what address they can talk to this sheep.</p>
  </dd>
  <dt>
    <p><strong>-z, --zone</strong></p>
  </dt>
  <dd>
    <p>specify the zone id (default: determined by listen address)</p><p>Example:</p>
<pre>
  $ sheep -z 1 ...
</pre>
<p>This tries to set the zone ID of this sheep to 1 and sheepdog won't store more than one copy of any object into this same zone</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PATH</h2>
        <div class="sectioncontent">
<p>Proper LSB systems will store sheepdog files in /var/lib/sheepdog.  The init script uses this directory by default.  The directory must be on a filesystem with xattr support.  In the case of ext3, user_xattr should be added to the mount options.</p><p>mount -o remount,user_xattr /var/lib/sheepdog</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p><strong>sheepdog</strong> requires QEMU 0.13.z or later and Corosync 1.y.z.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>/var/lib/sheepdog - Directory containing block storage information</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sheep&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/dog.8.html"><strong>dog</strong>(8)</a>,</strong> <strong>qemu</strong>(1),</strong> <a href="../man8/sheepfs.8.html"><strong>sheepfs</strong>(8)</a>,</strong> <a href="../man8/corosync_overview.8.html"><strong>corosync_overview</strong>(8)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>This software is developed by the sheepdog community which may be reached via mailing list at &lt;sheepdog@lists.wpkg.org&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shadowconfig.8.html"><span aria-hidden="true">&larr;</span> shadowconfig.8: Toggle shadow passwords on and off</a></li>
   <li class="next"><a href="sheepfs.8.html">sheepfs.8: A pseudo file system exports both sheepdog's internal state as well as sheepdog's storage <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
