<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bitesize: Show disk i/o size as a histogram. uses linux perf_events.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Show disk i/o size as a histogram. uses linux perf_events.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="bitesize (8) manual">
  <meta name="twitter:description" content="Show disk i/o size as a histogram. uses linux perf_events.">
  <meta name="twitter:image" content="https://www.carta.tech/images/perf-tools-unstable-bitesize-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/bitesize.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="bitesize (8) manual" />
  <meta property="og:description" content="Show disk i/o size as a histogram. uses linux perf_events." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/perf-tools-unstable-bitesize-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">bitesize<small> (8)</small></h1>
        <p class="lead">Show disk i/o size as a histogram. uses linux perf_events.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/bitesize.8.html">
      <span itemprop="name">bitesize: Show disk i/o size as a histogram. uses linux perf_events.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/perf-tools-unstable/">
      <span itemprop="name">perf-tools-unstable</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/bitesize.8.html">
      <span itemprop="name">bitesize: Show disk i/o size as a histogram. uses linux perf_events.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>bitesize</strong> [-h] [-b buckets] [seconds]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This can be used to characterize the distribution of block device (disk) I/O sizes. To study block device I/O in more detail, see <a href="../man8/iosnoop.8.html"><strong>iosnoop</strong>(8)</a>.</p><p>This uses multiple counting tracepoints with different filters, one for each histogram bucket. While this is summarized in-kernel, the use of multiple tracepoints does add addiitonal overhead, which is more evident if you add more buckets. In the future this functionality will be available in an efficient way in the kernel, and this tool can be rewritten.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REQUIREMENTS</h2>
        <div class="sectioncontent">
<p>Linux perf_events: add linux-tools-common, run "perf", then add any additional packages it requests. This also requires the block:block_rq_issue tracepoint, which should already be available in recent kernels.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>-h</p>
  </dt>
  <dd>
    <p>Usage message.</p>
  </dd>
  <dt>
    <p>-b buckets</p>
  </dt>
  <dd>
    <p>Specify a list of bucket points for the histogram as a string (eg, "10 500 1000"). The histogram will include buckets for less-than the minimum, and greater-than-or-equal-to the maximum.  If a single value is specified, two statistics only are gathered: for less-than and for greater-than-or-equal-to. The overhead is relative to the number of buckets, so only specifying a single value costs the lowest overhead.</p>
  </dd>
  <dt>
    <p>seconds</p>
  </dt>
  <dd>
    <p>Number of seconds to trace. If not specified, this runs until Ctrl-C.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Trace read() syscalls until Ctrl-C, and show histogram of requested size:</p>
  </dt>
  <dd>
    <p># <strong>bitesize syscalls:sys_enter_read count</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FIELDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Kbytes</p>
  </dt>
  <dd>
    <p>Kbyte range of the histogram bucket.</p>
  </dd>
  <dt>
    <p>I/O</p>
  </dt>
  <dd>
    <p>Number of I/O that occurred in this range while tracing.</p>
  </dd>
  <dt>
    <p>Distribution</p>
  </dt>
  <dd>
    <p>ASCII histogram representation of the I/O column.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OVERHEAD</h2>
        <div class="sectioncontent">
<p>While the counts are performed in-kernel, there is one tracepoint used per histogram bucket, so the overheads are higher than usual (relative to the number of buckets) than function counting using perf stat. The lowest overhead is when -b is used to specify one bucket only, bifurcating statistics.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE</h2>
        <div class="sectioncontent">
<p>This is from the perf-tools collection.</p><ul>
<li><p>https://github.com/brendangregg/perf-tools</p></li>
</ul><p>Also look under the examples directory for a text file containing example usage, output, and commentary for this tool.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OS</h2>
        <div class="sectioncontent">
<p>Linux</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STABILITY</h2>
        <div class="sectioncontent">
<p>Unstable - in development.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Brendan Gregg</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO bitesize&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/iosnoop.8.html"><strong>iosnoop</strong>(8)</a>, <a href="../man8/iolatency.8.html"><strong>iolatency</strong>(8)</a>, <a href="../man1/iostat.1.html"><strong>iostat</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="bird-bgp-birdc6.8.html"><span aria-hidden="true">&larr;</span> birdc6.8: Bird internet routing daemon  birdc - bird internet routing daemon remote control  bird6 - bird internet routing daemon, ipv6 version  birdc6 - bird internet routing daemon remote control, ipv6 version</a></li>
   <li class="next"><a href="bitlbee.8.html">bitlbee.8: Irc gateway to im chat networks <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
