<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dummy-ups: Driver for multi-purpose ups emulation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Driver for multi-purpose ups emulation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dummy-ups (8) manual">
  <meta name="twitter:description" content="Driver for multi-purpose ups emulation">
  <meta name="twitter:image" content="https://www.carta.tech/images/nut-server-dummy-ups-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/dummy-ups.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dummy-ups (8) manual" />
  <meta property="og:description" content="Driver for multi-purpose ups emulation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nut-server-dummy-ups-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dummy-ups<small> (8)</small></h1>
        <p class="lead">Driver for multi-purpose ups emulation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dummy-ups.8.html">
      <span itemprop="name">dummy-ups: Driver for multi-purpose ups emulation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nut-server/">
      <span itemprop="name">nut-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dummy-ups.8.html">
      <span itemprop="name">dummy-ups: Driver for multi-purpose ups emulation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">NOTE</h2>
        <div class="sectioncontent">
<p>This man page only documents the specific features of the dummy-ups driver. For information about the core driver, see <a href="../man8/nutupsdrv.8.html"><strong>nutupsdrv</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program is a multi-purpose UPS emulation tool. Its behavior depends on the running mode:</p><h3>Dummy Mode</h3>
<p><strong>dummy-ups</strong> looks like a standard device driver to <a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a> and allows one to change any value for testing purposes. It is both interactive, controllable through the <strong>upsrw</strong>(1) and <strong>upscmd</strong>(1) commands (or equivalent graphical tool), and batchable through script files. It can be configured, launched and used as any other real driver. This mode is mostly useful for development and testing purposes.</p>
<h3>Repeater Mode</h3>
<p><strong>dummy-ups</strong> acts as a NUT client, simply forwarding data. This can be useful for supervision purposes. This can also allow some load sharing between several UPS instances, using a point-to-point communication with the UPS.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IMPLEMENTATION</h2>
        <div class="sectioncontent">
<p>The port specification depends on the running mode, and allows the driver to select the right mode.</p><h3>Dummy Mode</h3>
<p>Port is a definition file name for <strong>dummy-ups</strong>. This can either be an absolute or a relative path name. In the latter case the NUT sysconfig directory (ie /etc/nut, /usr/local/ups/etc, ...) is prepended.</p><p>For instance:</p>
<pre>
[dummy]
        driver = dummy-ups
        port = evolution500.dev
        desc = "dummy-ups in dummy mode"
</pre>
<p>This file is generally named "something.dev". It contains a list of all valid data and associated values, and has the same format as an <a href="../man8/upsc.8.html"><strong>upsc</strong>(8)</a> dump (&lt;varname&gt;: &lt;value&gt;). So you can easily create definition files from an existing UPS using "upsc &gt; file.dev". It can also be empty, in which case only a basic set of data is available: device.<strong>, driver.</strong>, ups.mfr, ups.model, ups.status</p><p>Samples definition files are available in the "data" directory of the nut source tree, and generally in the sysconfig directory of your system distribution.</p><p>Since <strong>dummy-ups</strong> will loop on reading this file, you can dynamically modify it to interact with the driver. This will avoid message spam into your system log files, if you are using NUT default configuration.</p><p>You can also use the "TIMER &lt;seconds&gt;" instruction to create scheduled events sequences. For example, the following sequence will loop on switching ups.status between "OL", "OB" and "OB LB" every minute:</p>
<pre>
ups.status: OL
TIMER 60
ups.status: OB
TIMER 60
ups.status: LB
TIMER 60
</pre>
<p>It is wise to end the script with a TIMER. Otherwise dummy-ups will directly go back to the beginning of the file.</p>
<h3>Repeater Mode</h3>
<p>Port is the name of a remote UPS, using the NUT form, ie:</p>
<pre>
&lt;upsname&gt;[@&lt;hostname&gt;[:&lt;port&gt;]]
</pre>
<p>For instance:</p>
<pre>
[repeater]
            driver = dummy-ups
            port = ups@hostname
            desc = "dummy-ups in repeater mode"
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERACTION</h2>
        <div class="sectioncontent">
<p>Once the driver is loaded in dummy mode, you can change any variables, except those of the driver.* and server.* collections. You can do this by either editing the definition file, or use the <strong>upsrw</strong>(1) and <strong>upscmd</strong>(1) commands.</p><p>Note that in simulation mode, new variables can be added on the fly, by adding these to the definition file. Conversely, if you need to remove variable (such as transient ones, like ups.alarm), simply update these by setting an empty value. As a result, they will get removed from the data.</p><p>In repeater mode, the driver acts according to the capabilities of the UPS, and so support the same instant commands and settable values.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BACKGROUND</h2>
        <div class="sectioncontent">
<p>This driver was written in one evening to replace the previous dummycons testing driver. It was too limited and required to work from a terminal to interact.</p><p><strong>dummy-ups</strong> is useful for NUT client development, and other testing purpose.</p><p>It also helps the NUT Quality Assurance effort, by automating some tests on the NUT framework.</p><p>It now offers a repeater mode. This will help in building the Meta UPS approach, which allows one to build a virtual device, composed of several other devices (either UPS, PDUs).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Instant commands are not yet supported in Dummy Mode, and data need name/value checking enforcement, as well as boundaries or enumeration definition.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Arnaud Quette</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dummy-ups&hellip;</h2>
        <div class="sectioncontent">
<p><strong>upscmd</strong>(1), <strong>upsrw</strong>(1), <a href="../man5/ups.conf.5.html"><strong>ups.conf</strong>(5)</a>, <a href="../man8/nutupsdrv.8.html"><strong>nutupsdrv</strong>(8)</a></p><h3>Internet Resources:</h3>
<p>The NUT (Network UPS Tools) home page: http://www.networkupstools.org/</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dtop.8.html"><span aria-hidden="true">&larr;</span> dtop.8: Display diod performance</a></li>
   <li class="next"><a href="dummy_server.8.html">dummy_server.8: A simple server that binds to a user-specified port and does nothing <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
