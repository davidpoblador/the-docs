<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>acpid: Advanced configuration and power interface event daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Advanced configuration and power interface event daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="acpid (8) manual">
  <meta name="twitter:description" content="Advanced configuration and power interface event daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/acpid-acpid-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/acpid.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="acpid (8) manual" />
  <meta property="og:description" content="Advanced configuration and power interface event daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/acpid-acpid-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">acpid<small> (8)</small></h1>
        <p class="lead">Advanced configuration and power interface event daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/acpid.8.html">
      <span itemprop="name">acpid: Advanced configuration and power interface event daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/acpid/">
      <span itemprop="name">acpid</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/acpid.8.html">
      <span itemprop="name">acpid: Advanced configuration and power interface event daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>acpid</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>acpid</strong> is designed to notify user-space programs of ACPI events. <strong>acpid</strong> should be started during the system boot, and will run as a background process, by default.  It will open an events file (<em>/proc/acpi/event</em> by default) and attempt to read whole lines which represent ACPI events.  If the events file does not exist, <strong>acpid</strong> will attempt to connect to the Linux kernel via the input layer and netlink.  When an ACPI event is received from one of these sources, <strong>acpid</strong> will examine a list of rules, and execute the rules that match the event. <strong>acpid</strong> will ignore all incoming ACPI events if a lock file exists (<em>/var/lock/acpid</em> by default).</p><p><em>Rules</em> are defined by simple configuration files.  <strong>acpid</strong> will look in a configuration directory (<em>/etc/acpi/events</em> by default), and parse all regular files with names that consist entirely of upper and lower case letters, digits, underscores, and hyphens (similar to <a href="../man8/run-parts.8.html"><strong>run-parts</strong>(8)</a>). Each file must define two things: an <em>event</em> and an <em>action</em>.  Any blank lines, or lines where the first character is a hash ('#') are ignored.  Extraneous lines are flagged as warnings, but are not fatal.  Each line has three tokens: the key, a literal equal sign, and the value.  The key can be up to 63 characters, and is case-insensitive (but whitespace matters).  The value can be up to 511 characters, and is case and whitespace sensitive.</p><p>The event value is a regular expression (see <a href="../man3/regcomp.3.html"><strong>regcomp</strong>(3)</a>), against which events are matched.</p><p>The action value is a commandline, which will be invoked via <em>/bin/sh</em> whenever an event matching the rule in question occurs.  The commandline may include shell-special characters, and they will be preserved.  The only special characters in an action value are "%" escaped.  The string "%e" will be replaced by the literal text of the event for which the action was invoked. This string may contain spaces, so the commandline must take care to quote the "%e" if it wants a single token.  The string "%%" will be replaced by a literal "%".  All other "%" escapes are reserved, and will cause a rule to not load.</p><p>This feature allows multiple rules to be defined for the same event (though no ordering is guaranteed), as well as one rule to be defined for multiple events. To force <strong>acpid</strong> to reload the rule configuration, send it a SIGHUP.</p><p>The pseudo-action <em>&lt;drop&gt;</em> causes the event to be dropped completely and no further processing undertaken; clients connecting via the UNIX domain socket (see below) will not be notified of the event. This may be useful on some machines, such as certain laptops which generate spurious battery events at frequent intervals. The name of this pseudo-action may be redefined with a commandline option.</p><p>In addition to rule files, <strong>acpid</strong> also accepts connections on a UNIX domain socket (<em>/var/run/acpid.socket</em> by default).  Any application may connect to this socket.  Once connected, <strong>acpid</strong> will send the text of all ACPI events to the client.  The client has the responsibility of filtering for messages about which it cares.  <strong>acpid</strong> will not close the client socket except in the case of a SIGHUP or <strong>acpid</strong> exiting.</p><p>For faster startup, this socket can be passed in as stdin so that <strong>acpid</strong> need not create the socket.  In addition, if a socket is passed in as stdin, <strong>acpid</strong> will not daemonize.  It will be run in foreground.  This behavior is provided to support <a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a>.</p><p><strong>acpid</strong> will log all of its activities, as well as the stdout and stderr of any actions, to syslog.</p><p>All the default files and directories can be changed with commandline options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c</strong><em></em>, <em></em><strong>--confdir</strong><em> directory</em></p>
  </dt>
  <dd>
    <p>This option changes the directory in which <strong>acpid</strong> looks for rule configuration files.  Default is <em>/etc/acpi/events</em>.</p>
  </dd>
  <dt>
    <p><strong>-C</strong><em></em>, <em></em><strong>--clientmax</strong><em> number</em></p>
  </dt>
  <dd>
    <p>This option changes the maximum number of non-root socket connections which can be made to the <strong>acpid</strong> socket.  Default is <em>256</em>.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em></em>, <em></em><strong>--debug</strong></p>
  </dt>
  <dd>
    <p>This option increases the <strong>acpid</strong> debug level by one.  If the debug level is non-zero, <strong>acpid</strong> will run in the foreground, and will log to stderr, in addition to the regular syslog.</p>
  </dd>
  <dt>
    <p><strong>-e</strong><em></em>, <em></em><strong>--eventfile</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>This option changes the event file from which <strong>acpid</strong> reads events. Default is <em>/proc/acpi/event</em>.</p>
  </dd>
  <dt>
    <p><strong>-n</strong><em></em>, <em></em><strong>--netlink</strong></p>
  </dt>
  <dd>
    <p>This option forces <strong>acpid</strong> to use the Linux kernel input layer and netlink interface for ACPI events.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em></em>, <em></em><strong>--foreground</strong></p>
  </dt>
  <dd>
    <p>This option keeps <strong>acpid</strong> in the foreground by not forking at startup.</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em></em>, <em></em><strong>--logevents</strong></p>
  </dt>
  <dd>
    <p>This option tells <strong>acpid</strong> to log information about all events and actions.</p>
  </dd>
  <dt>
    <p><strong>-L</strong><em></em>, <em></em><strong>--lockfile</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>This option changes the lock file used to stop event processing. Default is <em>/var/lock/acpid</em>.</p>
  </dd>
  <dt>
    <p><strong>-g</strong><em></em>, <em></em><strong>--socketgroup</strong><em> groupname</em></p>
  </dt>
  <dd>
    <p>This option changes the group ownership of the UNIX domain socket to which <strong>acpid</strong> publishes events.</p>
  </dd>
  <dt>
    <p><strong>-m</strong><em></em>, <em></em><strong>--socketmode</strong><em> mode</em></p>
  </dt>
  <dd>
    <p>This option changes the permissions of the UNIX domain socket to which <strong>acpid</strong> publishes events.  Default is <em>0666</em>.</p>
  </dd>
  <dt>
    <p><strong>-s</strong><em></em>, <em></em><strong>--socketfile</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>This option changes the name of the UNIX domain socket which <strong>acpid</strong> opens. Default is <em>/var/run/acpid.socket</em>.</p>
  </dd>
  <dt>
    <p><strong>-S</strong><em></em>, <em></em><strong>--nosocket</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>This option tells <strong>acpid</strong> not to open a UNIX domain socket.  This overrides the <em>-s</em> option, and negates all other socket options.</p>
  </dd>
  <dt>
    <p><strong>-p</strong><em></em>, <em></em><strong>--pidfile</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>This option tells <strong>acpid</strong> to use the specified file as its pidfile.  If the file exists, it will be removed and over-written. Default is <em>/var/run/acpid.pid</em>.</p>
  </dd>
  <dt>
    <p><strong>-r</strong><em></em>, <em></em><strong>--dropaction</strong><em> action</em></p>
  </dt>
  <dd>
    <p>This option defines the pseudo-action which tells <strong>acpid</strong> to abort all processing of an event, including client notifications. Default is <em>&lt;drop&gt;</em>.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em></em>, <em></em><strong>--tpmutefix</strong></p>
  </dt>
  <dd>
    <p>This option enables special handling of the mute button for certain ThinkPad models with mute LEDs that get out of sync with the mute state when the mute button is held down.  With this option, the mute button will generate the following events in sync with the number of presses (and, by extension, the state of the LED):</p><ul>
<li><p>button/mute MUTE (key pressed) K</p><p>button/mute MUTE (key released) K</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-v</strong><em></em>, <em></em><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print version information and exit.</p>
  </dd>
  <dt>
    <p><strong>-h</strong><em></em>, <em></em><strong>--help</strong></p>
  </dt>
  <dd>
    <p>Show help and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>This example will shut down your system if you press the power button.</p><p>Create a file named /etc/acpi/events/power that contains the following:</p><ul>
<li><p>event=button/power</p><p>action=/etc/acpi/power.sh "%e"</p></li>
</ul><p>Then create a file named /etc/acpi/power.sh that contains the following:</p><ul>
<li><p>/sbin/shutdown -h now "Power button pressed"</p></li>
</ul><p>Now, when <strong>acpid</strong> is running, a press of the power button will cause the rule in /etc/acpi/events/power to trigger the script in /etc/acpi/power.sh. The script will then shut down the system.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TROUBLESHOOTING</h2>
        <div class="sectioncontent">
<p><strong>acpid</strong> is a simple program that runs scripts in response to ACPI events from the kernel.  When there's trouble, the problem is rarely with <strong>acpid</strong> itself.  The following are some suggestions for finding the most common sources of ACPI-related problems.</p><p>When troubleshooting <strong>acpid</strong>, it is important to be aware that other parts of a system might be handling ACPI events. <a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a> is capable of handling the power switch and various other events that are commonly handled by <strong>acpid</strong>.  See the description of HandlePowerKey in <a href="../man5/logind.conf.5.html"><strong>logind.conf</strong>(5)</a> for more.  Some window managers also take over <strong>acpid</strong>'s normal handling of the power button and other events.</p><p><a href="../man8/kacpimon.8.html"><strong>kacpimon</strong>(8)</a> can be used to verify that the expected ACPI events are coming in.  See the man page for <a href="../man8/kacpimon.8.html"><strong>kacpimon</strong>(8)</a> for the proper procedure. If the events aren't coming in, you've probably got a kernel driver issue.</p><p>If the expected events are coming in, then you'll need to check and see if your window manager is responsible for handling these events.  Some are, some aren't.  (E.g. in Ubuntu 14.04 (Unity/GNOME), there are settings for the laptop lid in the System Settings &gt; Power &gt; "When the lid is closed" fields.) If your window manager is responsible for handling the problematic event, and you've got it configured properly, then you may have a window manager issue.</p><p>Lastly, take a look in <em>/etc/acpi/events</em> (see above).  Is there a configuration file in there for the event in question (e.g. /etc/acpi/events/lidbtn for laptop lid open/close events)?  Is it properly connected to a script (e.g. /etc/acpi/lid.sh)?  Is that script working?  It's not unusual for an <strong>acpid</strong> script to check and see if there is a window manager running, then do nothing if there is.  This means it is up to the window manager to handle this event.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p><strong>acpid</strong> should work on any linux kernel released since 2003.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>/proc/acpi/event</strong></p><p><strong>/dev/input/event*</strong></p><p><strong>/etc/acpi/</strong></p><p><strong>/var/run/acpid.socket</strong></p><p><strong>/var/run/acpid.pid</strong></p><p><strong>/var/lock/acpid</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There are no known bugs.  To file bug reports, see <strong>PROJECT WEBSITE</strong> below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO acpid&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/regcomp.3.html"><strong>regcomp</strong>(3)</a>, sh(1), <a href="../man2/socket.2.html"><strong>socket</strong>(2)</a>, <a href="../man2/connect.2.html"><strong>connect</strong>(2)</a>, <strong>init</strong>(1), <a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a>, <a href="../man8/acpi_listen.8.html"><strong>acpi_listen</strong>(8)</a>, <a href="../man8/kacpimon.8.html"><strong>kacpimon</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROJECT WEBSITE</h2>
        <div class="sectioncontent">
<p>http://sourceforge.net/projects/acpid2/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Ted Felix &lt;ted@tedfelix.com&gt;</p><p>Tim Hockin &lt;thockin@hockin.org&gt;</p><p>Andrew Henroid</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="acpi_listen.8.html"><span aria-hidden="true">&larr;</span> acpi_listen.8: Acpi event listener</a></li>
   <li class="next"><a href="actsync.8.html">actsync.8: Synchronize newsgroups <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
