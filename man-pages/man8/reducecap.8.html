<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>reducecap: The reducecap utility is used to lower the capability ceiling of a process and child process.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The reducecap utility is used to lower the capability ceiling of a process and child process.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="reducecap (8) manual">
  <meta name="twitter:description" content="The reducecap utility is used to lower the capability ceiling of a process and child process.">
  <meta name="twitter:image" content="https://www.carta.tech/images/util-vserver-reducecap-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/reducecap.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="reducecap (8) manual" />
  <meta property="og:description" content="The reducecap utility is used to lower the capability ceiling of a process and child process." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/util-vserver-reducecap-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">reducecap<small> (8)</small></h1>
        <p class="lead">The reducecap utility is used to lower the capability ceiling of a process and child process.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/reducecap.8.html">
      <span itemprop="name">reducecap: The reducecap utility is used to lower the capability ceiling of a process and child process.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/util-vserver/">
      <span itemprop="name">util-vserver</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/reducecap.8.html">
      <span itemprop="name">reducecap: The reducecap utility is used to lower the capability ceiling of a process and child process.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>reducecap [<em>options</em>] &lt;<em>command arguments</em>&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The reducecap utility is used to lower the capability ceiling of a process and child process. Even setuid program won't be able to grab more capabilities.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--secure</strong> Removes all dangerous capabilities from the process executed.Specificly it removes:</p>
  </dt>
  <dd>
    <p>CAP_LINUX_IMMUTABLE CAP_NET_BROADCAST CAP_NET_ADMIN, CAP_NET_RAW CAP_IPC_LOCK CAP_IPC_OWNER CAP_SYS_MODULE CAP_SYS_RAWIO CAP_SYS_PACCT CAP_SYS_ADMIN CAP_SYS_BOOT CAP_SYS_NICE CAP_SYS_RESOURCE CAP_SYS_TIME CAP_MKNOD.</p><p>Leaving the following capabilities: CAP_CHOWN CAP_DAC_OVERRIDE CAP_DAC_READ_SEARCH CAP_FOWNER CAP_FSETID CAP_KILL CAP_SETGID CAP_SETUID CAP_NET_BIND_SERVICE CAP_SYS_CHROOT CAP_SYS_PTRACE CAP_SYS_TTY_CONFIG CAP_LEASE CAP_QUOTACTL</p>
  </dd>
  <dt>
    <p><strong>--show</strong> Shows the current process capabilities.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--flag</strong></p>
  </dt>
  <dd>
    <p>sets the security context flags. The option may be repeated several times. Here are the values:</p><p>lock: The security context can't be changed. The process is trapped 	  in this context. This is generally used for vservers because yoy 	  do not want them to hide in new security context.</p><p>sched: Each process in a security context contribute (lower) to the general 	priority of every processes in the context. Mostly, all processes 	in a security context take as much CPU together as one process 	not bound to this flag. Said again differently, a vserver having 	100 active processes won't get more CPU than another vserver 	with a single active process.</p><p>nproc: The "ulimit -u N" setting becomes global to the security context. It means 	the security context is not allowed to have more than N processes.</p><p>private: No other processes, even root in security context 0, is allowed to 	enter this security context. Once a security context is setup 	with this flag, it is on its own. This also means that root 	in security context 0 won't be able to kill or interact with those 	processes.</p><p>hideinfo: Hides various information in /proc.</p>
  </dd>
  <dt>
    <p><strong>--LINUX_IMMUTABLE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--NET_BIND_SERVICE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--NET_BROADCAST</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--NET_ADMIN</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--NET_RAW</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--IPC_LOCK</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--IPC_OWNER</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_MODULE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_RAWIO</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_PACCT</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_ADMIN</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_BOOT</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_NICE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_RESOURCE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--SYS_TIME</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--MKNOD</strong></p>
  </dt>
  <dd>
    <p>All these options remove one capability. These options may be used after the <strong>--secure</strong> option to remove more capabilities.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/usr/sbin/reducecap</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p># You are not root now # What is the current capability ceiling cat /proc/self/status # The capBset line presents mostly 1s. /usr/sbin/reducecap --secure /bin/sh cat /proc/self/status # The capBset now shows many more 0s. # The capEff shows all 0s, you have no privilege now # We su to root su cat /proc/self/status # capEff is much better now, but there are still many 0s # Now we try to see if we are really root tail /var/log/messages # So far so good, we see the content /sbin/ifconfig eth0 /sbin/ifconfig eth0 down # No way, we can't configure the interface. In fact # we have lost most privilege normally assigned to root exit</p><p>Please contribute some more, if you feel it's important.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>This Man page was written by Klavs Klavsen &lt;kl@vsen.dk&gt; and based upon the helpful output from the program itself and the documentation on the Virtual Server site &lt;http://www.solucorp.qc.ca/miscprj/s_context.hc?prjstate=1&nodoc=0&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO reducecap&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/chcontext.8.html"><strong>chcontext</strong>(8)</a> <strong>rebootmgr</strong>(8) <a href="../man8/chbind.8.html"><strong>chbind</strong>(8)</a> <a href="../man8/vps.8.html"><strong>vps</strong>(8)</a> <a href="../man8/vpstree.8.html"><strong>vpstree</strong>(8)</a> <a href="../man8/vrpm.8.html"><strong>vrpm</strong>(8)</a> <a href="../man8/vserver.8.html"><strong>vserver</strong>(8)</a> <a href="../man8/vserver-stat.8.html"><strong>vserver-stat</strong>(8)</a> <a href="../man8/vtop.8.html"><strong>vtop</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="redsocks.8.html"><span aria-hidden="true">&larr;</span> redsocks.8: Redirect any tcp connection to a socks or http proxy</a></li>
   <li class="next"><a href="ree.8.html">ree.8: Extract rom extensions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
