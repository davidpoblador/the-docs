<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>really: Gain privilege or run commands a different user</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gain privilege or run commands a different user">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="really (8) manual">
  <meta name="twitter:description" content="Gain privilege or run commands a different user">
  <meta name="twitter:image" content="https://www.carta.tech/images/chiark-really-really-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/really.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="really (8) manual" />
  <meta property="og:description" content="Gain privilege or run commands a different user" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/chiark-really-really-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">really<small> (8)</small></h1>
        <p class="lead">Gain privilege or run commands a different user</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/really.8.html">
      <span itemprop="name">really: Gain privilege or run commands a different user</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/chiark-really/">
      <span itemprop="name">chiark-really</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/really.8.html">
      <span itemprop="name">really: Gain privilege or run commands a different user</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>really</strong> [<em>options</em>] [<em>command args... </em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>really</strong> checks whether the caller is allowed, and if it is it changes its uids and gids (and perhaps root directory) according to the command line options and executes the specified command.</p><p>If no options are specified, the uid will be set to 0 and the gids and root directory will be left unchanged.</p><p>If no command is specified, <strong>really</strong> will run <strong>$SHELL -i</strong>.</p><p>A caller is allowed if it has write access to <strong>/etc/inittab</strong> and is also member of the group <strong>root</strong>. This is most easily achieved by making inittab group-writeable by some suitable group containing all the appropriate users, and making <strong>/etc/inittab</strong> group-owned by that group and group-writeable.  The root group is perhaps a good choice if it isn't being used for anything else.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-u</strong> <em>username</em> | <strong>--user</strong> <em>username</em></p>
  </dt>
  <dd>
    <p>Sets the uid, gid, and supplementary group list, according to <em>username</em>'s entry in the password and group databases.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> <em>username</em> | <strong>--useronly</strong> <em>username</em></p>
  </dt>
  <dd>
    <p>Sets only the uid according to <em>username</em>'s entry in the password database.</p>
  </dd>
  <dt>
    <p><strong>-I</strong> <em>uid</em> | <strong>--uidonly</strong> <em>uid</em></p>
  </dt>
  <dd>
    <p>Sets the uid to the numeric value <em>uid</em> (which need not correspond to any existing user in the password database).</p>
  </dd>
  <dt>
    <p><strong>-g</strong> <em>groupname</em> | <strong>--group</strong> <em>groupname</em></p>
  </dt>
  <dd>
    <p><em>groupname</em> is looked up in the group database and its gid is appended to the process's supplementary groups list.  If this is the first gid specified it will also be set as the primary gid.</p>
  </dd>
  <dt>
    <p><strong>-G</strong> <em>gid</em> | <strong>--gid</strong> <em>gid</em></p>
  </dt>
  <dd>
    <p><em>gid</em> is appended to the process's supplementary groups list. (<em>gid</em> need not correspond to any existing group in the group database.)  If this is the first gid specified it will also be set as the primary gid.</p>
  </dd>
  <dt>
    <p><strong>-z</strong> | <strong>--groupsclear</strong></p>
  </dt>
  <dd>
    <p>Clears the process's supplementary groups list.  When using this option you must also specify <strong>-g</strong> or <strong>-G</strong>. The process's groups will then be exactly those specified.  The relative position of <strong>-z</strong> in the argument list is not relevant.</p>
  </dd>
  <dt>
    <p><strong>-R</strong> <em>root-dir</em> | <strong>--chroot</strong> <em>root-dir</em></p>
  </dt>
  <dd>
    <p>The program will have its root directory set to <em>root-dir</em>.</p><p><strong>Do not use this option unless you know what you are doing</strong>: Unlike <a href="../man8/chroot.8.html"><strong>chroot</strong>(8)</a>, the current working directory will remain unchanged. This means that if the current directory isn't underneath the specified new root, the program will still be able to access files outside the new root by using relative pathnames.  If this isn't what you want, please use the chroot utility instead.</p>
  </dd>
  <dt>
    <p><strong>--</strong></p>
  </dt>
  <dd>
    <p>Indicates the end of the options.  The next argument (if present) will be interpreted as the command name, even if it starts with a hyphen.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY CONSIDERATIONS</h2>
        <div class="sectioncontent">
<p><strong>really</strong> is designed so that installing it setuid root is extremely unlikely to compromise the security of any system.  It will check using <a href="../man2/access.2.html"><strong>access</strong>(2)</a> whether the real user is allowed to write to <strong>/etc/inittab</strong> and if this check fails <strong>really</strong> will exit without even attempting to parse its command line.</p><p><strong>really</strong> is <strong>not</strong> designed to be resistant to malicious command line arguments.  Do not allow untrusted processes to pass options to really, or to specify the command to be run.  Whether it is safe to allow relatively untrusted processes to pass options to the command which is to be run depends on the behaviour of that command and its security status.</p><p>Attempting to use <strong>really</strong> to drop privilege is dangerous unless the calling environment is very well understood.  There are many inherited process properties and resources which might be used by the callee to escalate its privilege to that of the (root-equivalent) caller.  For this function, it is usually better to use <strong>userv</strong> if possible.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p><strong>really</strong> does not manipulate the environment at all.  The calling program is run in exactly the same environment as the caller passes to <strong>really</strong>. In particular, <strong>really</strong> will not add <strong>sbin</strong> directories to <strong>PATH</strong> so <strong>really</strong>-enabled accounts will usually need to have these directories on their configured <strong>PATH</strong> to start with.</p><p><strong>SHELL</strong> is used to find the default shell to use in interactive mode (ie, when no command is specified).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This version of <strong>really</strong> was written by Ian Jackson &lt;ian@chiark.greenend.org.uk&gt;.</p><p>It and this manpage are Copyright (C) 1992-5,2004,2013 Ian Jackson &lt;ian@chiark.greenend.org.uk&gt;.</p><p><strong>really</strong> is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3, or (at your option) any later version.</p><p><strong>really</strong> is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this file; if not, consult the Free Software Foundation's website at www.fsf.org, or the GNU Project website at www.gnu.org.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p><strong>really</strong> is currently part of <strong>chiark-utils</strong> and is available for download from ftp.chiark.greenend.org.uk in /users/ian/chiark-utils/, in source and pre-compiled binary form, and also from Ian Jackson's cvsweb.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO really&hellip;</h2>
        <div class="sectioncontent">
<p><strong>userv</strong>(1), <a href="../man2/access.2.html"><strong>access</strong>(2)</a>, <a href="../man2/setresuid.2.html"><strong>setresuid</strong>(2)</a>, <a href="../man2/setresgid.2.html"><strong>setresgid</strong>(2)</a>, <a href="../man2/setgroups.2.html"><strong>setgroups</strong>(2)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="realksh.c.8.html"><span aria-hidden="true">&larr;</span> realksh.c.8: A shell for running kernel-mode c code</a></li>
   <li class="next"><a href="realm.8.html">realm.8: Manage enrollment in realms <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
