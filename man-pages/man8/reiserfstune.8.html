<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>reiserfstune: The tunning tool for the reiserfs filesystem.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The tunning tool for the reiserfs filesystem.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="reiserfstune (8) manual">
  <meta name="twitter:description" content="The tunning tool for the reiserfs filesystem.">
  <meta name="twitter:image" content="https://www.carta.tech/images/reiserfsprogs-reiserfstune-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/reiserfstune.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="reiserfstune (8) manual" />
  <meta property="og:description" content="The tunning tool for the reiserfs filesystem." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/reiserfsprogs-reiserfstune-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">reiserfstune<small> (8)</small></h1>
        <p class="lead">The tunning tool for the reiserfs filesystem.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/reiserfstune.8.html">
      <span itemprop="name">reiserfstune: The tunning tool for the reiserfs filesystem.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/reiserfsprogs/">
      <span itemprop="name">reiserfsprogs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/reiserfstune.8.html">
      <span itemprop="name">reiserfstune: The tunning tool for the reiserfs filesystem.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>reiserfstune</strong> [ <strong>-f</strong> ] [ <strong>-h</strong> | <strong>--help</strong> ] [ <strong>-j</strong> | <strong>--journal-device</strong> <em>FILE</em> ] [ <strong>--no-journal-available</strong> ] [ <strong>--journal-new-device</strong> <em>FILE</em> ] [ <strong>--make-journal-standard</strong> ] [ <strong>-s</strong> | <strong>--journal-new-size</strong> <em>N</em> ] [ <strong>-o</strong> | <strong>--journal-new-offset</strong> <em>N</em> ] [ <strong>-t</strong> | <strong>--max-transaction-size</strong> <em>N</em> ] [ <strong>-b</strong> | <strong>--add-badblocks</strong> <em>file</em> ] [ <strong>-B</strong> | <strong>--badblocks</strong> <em>file</em> ] [ <strong>-u</strong> | <strong>--uuid </strong><em>UUID</em> ] [ <strong>-l</strong> | <strong>--label </strong><em>LABEL</em> ] [ <strong>-c</strong> | <strong>--check-interval </strong><em>interval-in-days</em> ] [ <strong>-C</strong> | <strong>--time-last-checked </strong><em>timestamp</em> ] [ <strong>-m</strong> | <strong>--max-mnt-count </strong><em>count</em> ] [ <strong>-M</strong> | <strong>--mnt-count </strong><em>count</em> ] <em>device</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>reiserfstune</strong> is used for tuning the ReiserFS. It can change two journal parameters (the journal size and the maximum transaction size), and it can move the journal's location to a new specified block device. (The old ReiserFS's journal may be kept unused, or discarded at the user's option.) Besides that <strong>reiserfstune</strong> can store the bad block list to the ReiserFS and set UUID and LABEL. Note: At the time of writing the relocated journal was implemented for a special release of ReiserFS, and was not expected to be put into the mainstream kernel until approximately Linux 2.5.  This means that if you have the stock kernel you must apply a special patch. Without this patch the kernel will refuse to mount the newly modified file system.  We will charge $25 to explain this to you if you ask us why it doesn't work.</p><p>Perhaps the most interesting application of this code is to put the journal on a solid state disk.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>device</em></p>
  </dt>
  <dd>
    <p>is the special file corresponding to the newly specified block device (e.g /dev/hdXX for IDE disk partition or /dev/sdXX for the SCSI disk partition).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong> | <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print usage information and exit.</p>
  </dd>
  <dt>
    <p><strong>-j</strong> | <strong>--journal-device</strong> <em>FILE</em></p>
  </dt>
  <dd>
    <p><em>FILE</em> is the file name of the block device the file system has the current journal (the one prior to running reiserfstune) on. This option is required when the journal is already on a separate device from the main data device (although it can be avoided with <strong>--no-journal-available</strong>). If you don't specify journal device by this option, reiserfstune suppose that journal is on main device.</p>
  </dd>
  <dt>
    <p><strong>--no-journal-available</strong></p>
  </dt>
  <dd>
    <p>allows <strong>reiserfstune</strong> to continue when the current journal's block device is no longer available.  This might happen if a disk goes bad and you remove it (and run fsck).</p>
  </dd>
  <dt>
    <p><strong>--journal-new-device </strong><em>FILE</em></p>
  </dt>
  <dd>
    <p><em>FILE</em> is the file name of the block device which will contain the new journal for the file system. If you don't specify this, reiserfstune supposes that journal device remains the same.</p>
  </dd>
  <dt>
    <p><strong> -s</strong> | <strong>--journal-new-size </strong><em>N</em></p>
  </dt>
  <dd>
    <p><em>N</em> is the size parameter for the new journal. When journal is to be on a separate device - its size defaults to number of blocks that device has. When journal is to be on the same device as the filesytem - its size defaults to amount of blocks allocated for journal by <em>mkreiserfs</em> when it created the filesystem. Minimum is 513 for both cases.</p>
  </dd>
  <dt>
    <p><strong> -o</strong> | <strong>--journal-new-offset </strong><em>N</em></p>
  </dt>
  <dd>
    <p><em>N</em> is an offset in blocks where journal will starts from when journal is to be on a separate device. Default is 0. Has no effect when journal is to be on the same device as the filesystem.  Most users have no need to use this feature.  It can be used when you want the journals from multiple filesystems to reside on the same device, and you don't want to or cannot partition that device.</p>
  </dd>
  <dt>
    <p><strong> -t</strong> | <strong>--maximal-transaction-size </strong><em>N</em></p>
  </dt>
  <dd>
    <p><em>N</em> is the maximum transaction size parameter for the new journal. The default, and max possible, value is 1024 blocks. It should be less than half the size of the journal. If specifed incorrectly, it will be adjusted.</p>
  </dd>
  <dt>
    <p><strong> -b</strong> | <strong>--add-badblocks</strong> <em>file</em></p>
  </dt>
  <dd>
    <p><em>File</em> is the file name of the file that contains the list of blocks to be marked as bad on the fs. The list is added to the fs list of bad blocks.</p>
  </dd>
  <dt>
    <p><strong> -B</strong> | <strong>--badblocks</strong> <em>file</em></p>
  </dt>
  <dd>
    <p><em>File</em> is the file name of the file that contains the list of blocks to be marked as bad on the fs. The bad block list on the fs is cleared before the list specified in the <em>File</em> is added to the fs.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> | <strong>--force</strong></p>
  </dt>
  <dd>
    <p>Normally <strong>reiserfstune</strong> will refuse to change a journal of a file system that was created before this journal relocation code. This is because if you change the journal, you cannot go back (without special option <strong>--make-journal-standard</strong>) to an old kernel that lacks this feature and be able to use your filesytem.  This option forces it to do that. Specified more than once it allows to avoid asking for confirmation.</p>
  </dd>
  <dt>
    <p><strong>--make-journal-standard</strong></p>
  </dt>
  <dd>
    <p>As it was mentioned above, if your file system has non-standard journal, it can not be mounted on the kernel without journal relocation code. The thing can be changed, the only condition is that there is reserved area on main device of the standard journal size 8193 blocks  (it will be so for instance if you convert standard journal to non-standard). Just specify this option when you relocate journal back, or without relocation if you already have it on main device.</p>
  </dd>
  <dt>
    <p><strong>-u</strong> | <strong>--uuid </strong><em>UUID</em></p>
  </dt>
  <dd>
    <p>Set  the  universally  unique  identifier (<strong> UUID </strong>) of the filesystem to <em>UUID</em> (see also <strong>uuidgen</strong>(8)</strong>). The  format  of  the  UUID  is  a series  of  hex  digits  separated  by  hypthens,  like  this: "c1b9d5a2-f162-11cf-9ece-0020afc76f16".</p>
  </dd>
  <dt>
    <p><strong>-l</strong> | <strong>--label </strong><em>LABEL</em></p>
  </dt>
  <dd>
    <p>Set  the  volume  label  of  the filesystem. <em>LABEL</em> can be at most 16 characters long; if it is longer than 16 characters, reiserfstune will truncate it.</p>
  </dd>
  <dt>
    <p><strong>-c</strong> | <strong>--check-interval </strong><em>interval-in-days</em></p>
  </dt>
  <dd>
    <p>Adjust the maximal time between two filesystem checks.  A value of "disable" will disable the time-dependent checking. A value of "default" will restore the compile-time default.</p><p>It is strongly recommended that either <strong>-m</strong> (mount-count dependent) or <strong>-c</strong> (time-dependent) checking be enabled to force periodic full <a href="../man8/fsck.reiserfs.8.html"><strong>fsck.reiserfs</strong>(8)</a></strong> checking of the filesystem. Failure to do so may lead to filesystem corruption (due to bad disks, cables, memory, or kernel bugs) going unnoticed, ultimately resulting in data loss or corruption.</p>
  </dd>
  <dt>
    <p><strong>-C</strong> | <strong>--time-last-checked </strong><em>timestamp</em></p>
  </dt>
  <dd>
    <p>Set the time the filesystem was last checked using fsck.reiserfs. This can be useful in scripts which use a Logical Volume Manager to make a consistent snapshot of a filesystem, and then check the filesystem during off hours to make sure it hasn't been corrupted due to hardware problems, etc. If the filesystem was clean, then this option can be used to set the last checked time on the original filesystem. The format of time-last-checked is the international date format, with an optional time specifier, i.e. YYYYMMDD[HH[MM[SS]]]. The keyword <strong>now</strong> is also accepted, in which case the last checked time will be set to the current time.</p>
  </dd>
  <dt>
    <p><strong>-m</strong> | <strong>--max-mnt-count </strong><em>max-mount-count</em></p>
  </dt>
  <dd>
    <p>Adjust the number of mounts after which the filesystem  will  be checked by <a href="../man8/fsck.reiserfs.8.html"><strong>fsck.reiserfs</strong>(8)</a>.</strong> If max-mount-count is "disable", the number of times the filesystem is mounted will be disregarded by <a href="../man8/fsck.reiserfs.8.html"><strong>fsck.reiserfs</strong>(8)</a></strong> and the kernel. A value of "default" will restore the compile-time default.</p><p>Staggering  the  mount-counts  at which filesystems are forcibly checked will avoid all filesystems being  checked  at  one  time when using journaled filesystems.</p><p>You  should  strongly  consider  the  consequences  of disabling mount-count-dependent  checking  entirely.   Bad  disk   drives, cables,  memory,  and kernel bugs could all corrupt a filesystem without marking the filesystem dirty or in error.   If  you  are using  journaling on your filesystem, your filesystem will never be marked dirty, so it will not normally be checked.  A filesys‐ tem error detected by the kernel will still force an fsck on the next reboot, but it may already be too late to prevent data loss at that point.</p><p>This option requires a kernel which supports incrementing the count on each mount. This feature has not been incorporated into kernel versions older than 2.6.25.</p><p>See also the <strong>-c</strong> option for time-dependent checking.</p>
  </dd>
  <dt>
    <p><strong>-M</strong> | <strong>--mnt-count </strong><em>count</em></p>
  </dt>
  <dd>
    <p>Set the number of times the filesystem has been mounted.  If set to a greater value than the max-mount-counts  parameter  set  by the <strong>-m</strong> option, <a href="../man8/fsck.reiserfs.8.html"><strong>fsck.reiserfs</strong>(8)</a></strong> will check the filesystem at the next reboot.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">POSSIBLE SCENARIOS OF USING REISERFSTUNE:</h2>
        <div class="sectioncontent">
<p>1. You have ReiserFS on /dev/hda1, and you wish to have it working with its journal on the device /dev/journal</p>
<pre>
boot kernel patched with special "relocatable journal support" patch
reiserfstune /dev/hda1 --journal-new-device /dev/journal -f
mount /dev/hda1 and use.
You would like to change max transaction size to 512 blocks
reiserfstune -t 512 /dev/hda1
You would like to use your file system on another kernel that doesn't
contain relocatable journal support.
umount /dev/hda1
reiserfstune /dev/hda1 -j /dev/journal --journal-new-device /dev/hda1 --make-journal-standard
mount /dev/hda1 and use.

2. You would like to have ReiserFS on /dev/hda1 and to be able to
switch between different journals including journal located on the
device containing the filesystem.
boot kernel patched with special "relocatable journal support" patch
mkreiserfs /dev/hda1
you got solid state disk (perhaps /dev/sda, they typically look like scsi disks)
reiserfstune --journal-new-device /dev/sda1 -f /dev/hda1
Your scsi device dies, it is three in the morning, you have an extra IDE device
lying around
reiserfsck --no-journal-available /dev/hda1
or
reiserfsck --rebuild-tree --no-journal-available /dev/hda1
reiserfstune --no-journal-available --journal-new-device /dev/hda1 /dev/hda1
using /dev/hda1 under patched kernel
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This version of <strong>reiserfstune</strong> has been written by Vladimir Demidov &lt;vova@namesys.com&gt; and Edward Shishkin &lt;edward@namesys.com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report bugs to the ReiserFS developers &lt;reiserfs-devel@vger.kerne.org&gt;, providing as much information as possible--your hardware, kernel, patches, settings, all printed messages; check the syslog file for any related information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO reiserfstune&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/reiserfsck.8.html"><strong>reiserfsck</strong>(8)</a>, <a href="../man8/debugreiserfs.8.html"><strong>debugreiserfs</strong>(8)</a>, <a href="../man8/mkreiserfs.8.html"><strong>mkreiserfs</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="reiserfsck.8.html"><span aria-hidden="true">&larr;</span> reiserfsck.8: The checking tool for the reiserfs filesystem.</a></li>
   <li class="next"><a href="reject.8.html">reject.8: Accept/reject jobs sent to a destination <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
