<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mandos-ctl: Control the operation of the mandos server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Control the operation of the mandos server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mandos-ctl (8) manual">
  <meta name="twitter:description" content="Control the operation of the mandos server">
  <meta name="twitter:image" content="https://www.carta.tech/images/mandos-mandos-ctl-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/mandos-ctl.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mandos-ctl (8) manual" />
  <meta property="og:description" content="Control the operation of the mandos server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mandos-mandos-ctl-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mandos-ctl<small> (8)</small></h1>
        <p class="lead">Control the operation of the mandos server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mandos-ctl.8.html">
      <span itemprop="name">mandos-ctl: Control the operation of the mandos server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mandos/">
      <span itemprop="name">mandos</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mandos-ctl.8.html">
      <span itemprop="name">mandos-ctl: Control the operation of the mandos server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mandos-ctl</strong> [<strong>--enable</strong> | <strong>-e</strong></p><p> |<strong>--disable</strong> | <strong>-d</strong>]</p><p>[<strong>--bump-timeout</strong> | <strong>-b</strong>]</p><p>[<strong>--start-checker</strong>]</p><p>[<strong>--stop-checker</strong>]</p><p>[<strong>--remove</strong> | <strong>-r</strong>]</p><p>[<strong>--checker&nbsp;</strong><strong></strong><em>COMMAND</em> | <strong>-c&nbsp;</strong><strong></strong><em>COMMAND</em>]</p><p>[<strong>--timeout&nbsp;</strong><strong></strong><em>TIME</em> | <strong>-t&nbsp;</strong><strong></strong><em>TIME</em>]</p><p>[<strong>--extended-timeout&nbsp;</strong><strong></strong><em>TIME</em>]</p><p>[<strong>--interval&nbsp;</strong><strong></strong><em>TIME</em> | <strong>-i&nbsp;</strong><strong></strong><em>TIME</em>]</p><p>[<strong>--approve-by-default</strong></p><p> |<strong>--deny-by-default</strong>]</p><p>[<strong>--approval-delay&nbsp;</strong><strong></strong><em>TIME</em>]</p><p>[<strong>--approval-duration&nbsp;</strong><strong></strong><em>TIME</em>]</p><p>[<strong>--interval&nbsp;</strong><strong></strong><em>TIME</em> | <strong>-i&nbsp;</strong><strong></strong><em>TIME</em>]</p><p>[<strong>--host&nbsp;</strong><strong></strong><em>STRING</em> | <strong>-H&nbsp;</strong><strong></strong><em>STRING</em>]</p><p>[<strong>--secret&nbsp;</strong><strong></strong><em>FILENAME</em> | <strong>-s&nbsp;</strong><strong></strong><em>FILENAME</em>]</p><p>[<strong>--approve</strong> | <strong>-A</strong></p><p> |<strong>--deny</strong> | <strong>-D</strong>]</p><p>{<strong>--all</strong> | <strong>-a</strong> | <em>CLIENT</em>...} <strong>mandos-ctl</strong> [<strong>--verbose</strong> | <strong>-v</strong>] [<em>CLIENT</em>...] <strong>mandos-ctl</strong> {<strong>--is-enabled</strong> | <strong>-V</strong>} <em>CLIENT</em> <strong>mandos-ctl</strong> {<strong>--help</strong> | <strong>-h</strong>} <strong>mandos-ctl</strong> {<strong>--version</strong> | <strong>-v</strong>} <strong>mandos-ctl</strong> <strong>--check</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mandos-ctl</strong> is a program to control the operation of the Mandos server <strong>mandos</strong>(8).</p><p>This program can be used to change client settings, approve or deny client requests, and to remove clients from the server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PURPOSE</h2>
        <div class="sectioncontent">
<p>The purpose of this is to enable <em>remote and unattended rebooting</em> of client host computer with an <em>encrypted root file system</em>. See the section called &ldquo;OVERVIEW&rdquo; for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>--help</strong>, <strong>-h</strong></p><p>Show a help message and exit</p><p><strong>--enable</strong>, <strong>-e</strong></p><p>Enable client(s). An enabled client will be eligble to receive its secret.</p><p><strong>--disable</strong>, <strong>-d</strong></p><p>Disable client(s). A disabled client will not be eligble to receive its secret, and no checkers will be started for it.</p><p><strong>--bump-timeout</strong></p><p>Bump the timeout of the specified client(s), just as if a checker had completed successfully for it/them.</p><p><strong>--start-checker</strong></p><p>Start a new checker now for the specified client(s).</p><p><strong>--stop-checker</strong></p><p>Stop any running checker for the specified client(s).</p><p><strong>--remove</strong>, <strong>-r</strong></p><p>Remove the specified client(s) from the server.</p><p><strong>--checker </strong><strong></strong><em>COMMAND</em>, <strong>-c </strong><strong></strong><em>COMMAND</em></p><p>Set the <em>checker</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--timeout </strong><strong></strong><em>TIME</em>, <strong>-t </strong><strong></strong><em>TIME</em></p><p>Set the <em>timeout</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--extended-timeout </strong><strong></strong><em>TIME</em></p><p>Set the <em>extended_timeout</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--interval </strong><strong></strong><em>TIME</em>, <strong>-i </strong><strong></strong><em>TIME</em></p><p>Set the <em>interval</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--approve-by-default</strong>, <strong>--deny-by-default</strong></p><p>Set the <em>approved_by_default</em> option of the specified client(s) to True or False, respectively; see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--approval-delay </strong><strong></strong><em>TIME</em></p><p>Set the <em>approval_delay</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--approval-duration </strong><strong></strong><em>TIME</em></p><p>Set the <em>approval_duration</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--host </strong><strong></strong><em>STRING</em>, <strong>-H </strong><strong></strong><em>STRING</em></p><p>Set the <em>host</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--secret </strong><strong></strong><em>FILENAME</em>, <strong>-s </strong><strong></strong><em>FILENAME</em></p><p>Set the <em>secfile</em> option of the specified client(s); see <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>.</p><p><strong>--approve</strong>, <strong>-A</strong></p><p>Approve client(s) if currently waiting for approval.</p><p><strong>--deny</strong>, <strong>-D</strong></p><p>Deny client(s) if currently waiting for approval.</p><p><strong>--all</strong>, <strong>-a</strong></p><p>Make the client-modifying options modify <em>all</em> clients.</p><p><strong>--verbose</strong>, <strong>-v</strong></p><p>Show all client settings, not just a subset.</p><p><strong>--is-enabled</strong>, <strong>-V</strong></p><p>Check if a single client is enabled or not, and exit with a successful exit status only if the client is enabled.</p><p><strong>--check</strong></p><p>Run self-tests. This includes any unit tests, etc.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW</h2>
        <div class="sectioncontent">
<p>This is part of the Mandos system for allowing computers to have encrypted root file systems and at the same time be capable of remote and/or unattended reboots. The computers run a small client program in the initial RAM disk environment which will communicate with a server over a network. All network communication is encrypted using TLS. The clients are identified by the server using an OpenPGP key; each client has one unique to it. The server sends the clients an encrypted password. The encrypted password is decrypted by the clients using the same OpenPGP key, and the password is then used to unlock the root file system, whereupon the computers can continue booting normally.</p><p>This program is a small utility to generate new OpenPGP keys for new Mandos clients, and to generate sections for inclusion in clients.conf on the server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>If the <strong>--is-enabled</strong> option is used, the exit status will be 0 only if the specified client is enabled.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>To list all clients:</p><p><strong>mandos-ctl</strong></p><p>To list <em>all</em> settings for the clients named &ldquo;foo1.example.org&rdquo; and &ldquo;foo2.example.org&rdquo;:</p><p><strong>mandos-ctl --verbose foo1.example.org foo2.example.org</strong></p><p>To enable all clients:</p><p><strong>mandos-ctl --enable --all</strong></p><p>To change timeout and interval value for the clients named &ldquo;foo1.example.org&rdquo; and &ldquo;foo2.example.org&rdquo;:</p><p><strong>mandos-ctl --timeout="5m" --interval="1m" foo1.example.org foo2.example.org</strong></p><p>To approve all clients currently waiting for it:</p><p><strong>mandos-ctl --approve --all</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>This program must be permitted to access the Mandos server via the D-Bus interface. This normally requires the root user, but could be configured otherwise by reconfiguring the D-Bus server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mandos-ctl&hellip;</h2>
        <div class="sectioncontent">
<p><strong>intro</strong>(8mandos), <strong>mandos</strong>(8), <a href="../man5/mandos-clients.conf.5.html"><strong>mandos-clients.conf</strong>(5)</a>, <strong>mandos-monitor</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2010-2012 Teddy Hogeborn, Bj\(:orn P\(oahlsson</p><p>This manual page is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p><p>This manual page is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program. If not, see \m[blue]<strong>http://www.gnu.org/licenses/</strong>\m[].</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mandb.8.html"><span aria-hidden="true">&larr;</span> mandb.8: Create or update the manual page index caches</a></li>
   <li class="next"><a href="mandos-keygen.8.html">mandos-keygen.8: Generate key and password for mandos client and server. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
