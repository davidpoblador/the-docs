<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dtc_install_centos: Bootstrap a centos install to use in a chroot or vm</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Bootstrap a centos install to use in a chroot or vm">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dtc_install_centos (8) manual">
  <meta name="twitter:description" content="Bootstrap a centos install to use in a chroot or vm">
  <meta name="twitter:image" content="https://www.carta.tech/images/dtc-xen-dtc_install_centos-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/dtc_install_centos.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dtc_install_centos (8) manual" />
  <meta property="og:description" content="Bootstrap a centos install to use in a chroot or vm" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dtc-xen-dtc_install_centos-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dtc_install_centos<small> (8)</small></h1>
        <p class="lead">Bootstrap a centos install to use in a chroot or vm</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dtc_install_centos.8.html">
      <span itemprop="name">dtc_install_centos: Bootstrap a centos install to use in a chroot or vm</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dtc-xen/">
      <span itemprop="name">dtc-xen</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dtc_install_centos.8.html">
      <span itemprop="name">dtc_install_centos: Bootstrap a centos install to use in a chroot or vm</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dtc_install_centos &lt;install root&gt; &lt;yum environment&gt;</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This shell script is part of the dtc-xen package, generally to be used by the dtc panel to install a new a Xen VPS server. This script is called by dtc_reinstall_os when the user chooses to install the CentOS operating system.</p><p>How it works: it generates a temporary yum configuration in the yum environment directory, that directs yum to act inside the install root instead of in the base system; then it kindly requests yum to install the basesystem, centos-release and yum packages onto it.  Yum then uses the configuration to download the required (usually, security-updated) packages and then perform the RPM installation process under the install root.</p><p>It requires both RPM and yum.  It does work under Debian (it was developed in Ubuntu first).  It should also work on RPM-based systems without destroying the system-wide RPM and yum configurations.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTION</h2>
        <div class="sectioncontent">
<p><strong>&lt;install root&gt;</strong></p><p>Target directory where CentOS will be deployed.  Must exist beforehand.</p><p><strong>&lt;yum environment&gt;</strong></p><p>Directory where yum will store the repository manifests and configuration. Will be automatically created.  Cached RPMs and manifests will be left, as usual, in a directory var/cache/yum inside the install root.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p><strong>dtc_install_centos /root/yum /xen/13</strong></p><p>This will setup the operating system in /xen/13, with the CentOS configuration folder in /root/yum.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>It's limited to CentOS 5 at the moment.</p><p>It must be run as root.</p><p>Under some circumstances, the installation process itself may kill processes running on the host machine.  The chroot yum does should be sufficient to avoid this, but we haven't been able, yet, to ascertain why this fails sometimes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dtc_install_centos&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/dtc_reinstall_os.8.html"><strong>dtc_reinstall_os</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This documentation describes <strong>dtc_install_os</strong> version 0.3.1.</p><p>See <strong>http://www.gplhost.com/software-dtc-xen.html</strong> for updates.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dtc_change_bsd_kernel.8.html"><span aria-hidden="true">&larr;</span> dtc_change_bsd_kernel.8: Rewrites the xen startup script with selected kernel</a></li>
   <li class="next"><a href="dtc_kill_vps_disk.8.html">dtc_kill_vps_disk.8: Destroy lvm disks for freeing space <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
