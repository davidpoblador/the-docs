<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amfetchdump: Extract backup images from multiple amanda tapes.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extract backup images from multiple amanda tapes.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amfetchdump (8) manual">
  <meta name="twitter:description" content="Extract backup images from multiple amanda tapes.">
  <meta name="twitter:image" content="https://www.carta.tech/images/amanda-client-amfetchdump-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/amfetchdump.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amfetchdump (8) manual" />
  <meta property="og:description" content="Extract backup images from multiple amanda tapes." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/amanda-client-amfetchdump-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amfetchdump<small> (8)</small></h1>
        <p class="lead">Extract backup images from multiple amanda tapes.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amfetchdump.8.html">
      <span itemprop="name">amfetchdump: Extract backup images from multiple amanda tapes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/amanda-client/">
      <span itemprop="name">amanda-client</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amfetchdump.8.html">
      <span itemprop="name">amfetchdump: Extract backup images from multiple amanda tapes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>amfetchdump</strong> [-c | -C | -l] [-p | -n] [-a] [-O&nbsp;<em>directory</em>] [-d&nbsp;<em>device</em>] [-h | --header-file&nbsp;<em>filename</em> | --header-fd&nbsp;<em>fd</em>] [--decompress | --no-decompress | --server-decompress | --client-decompress] [--extract&nbsp;--directory<em>&nbsp;directory</em>&nbsp;[--data-path<em>&nbsp;amanda</em> | <em>directtcp</em>]&nbsp;[--application-property&nbsp;<em>NAME=VALUE</em>]*] [--decrypt | --no-decrypt | --server-decrypt | --client-decrypt] [--exact_match] [<strong>-o</strong>&nbsp;<em>configoption</em>...] <em>config</em> <em>hostname</em> [<em>disk</em>&nbsp;[&nbsp;<em>date</em>&nbsp;[&nbsp;<em>level</em>&nbsp;[&nbsp;<em>hostname</em>&nbsp;[...]&nbsp;]&nbsp;]&nbsp;]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Amfetchdump</strong> pulls one or more matching dumps from tape or from the holding disk, handling the reassembly of multi-tape split dump files as well as any tape autochanger operations. The dump are by default decompressed and decrypted.</p><p>It will automatically use the Amanda catalog to locate available dumps on tape, in the same way that the <strong>find</strong> feature of <a href="../man8/amadmin.8.html"><strong>amadmin</strong>(8)</a> lists available dumps.</p><p>The <em>hostname</em>, <em>diskname</em>, <em>datestamp</em>, and <em>level</em> dump specifications are further described in <a href="../man7/amanda-match.7.html"><strong>amanda-match</strong>(7)</a>. Note that at minimum a <em>hostname</em> must be specified.</p><p>Unless <strong>-p</strong> is used, backup images are extracted to files in the current directory named:</p><p>If a changer error occurs, or the <strong>-d</strong> option is given, then amfetchdump prompts for each required volume.</p><p><em>hostname.diskname.datestamp.dumplevel</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-p</strong></p><p>Pipe exactly one complete dump file to <em>stdout</em>, instead of writing the file to disk. This will restore only the first matching dumpfile (where "first" is determined by the dump log search facility).</p><p><strong>-h</strong></p><p>Output the amanda header as a 32K block to same output as the image.</p><p><strong>--header-fd</strong> <em>fd</em></p><p>Output the amanda header to the numbered file descriptor.</p><p><strong>--header-file</strong> <em>filename</em></p><p>Output the amanda header to the filename.</p><p><strong>-d</strong> <em>device_or_changer</em></p><p>Restore from this device or changer instead of the default, prompting for each volume.</p><p><strong>-O</strong> <em>directory</em></p><p>Output restored files to this directory, instead of to the current working directory.</p><p><strong>-c</strong></p><p>Compress output, fastest method available.</p><p><strong>-C</strong></p><p>Compress output, smallest file size method available.</p><p><strong>--decompress</strong></p><p>Always do the decompression, this is the default.</p><p><strong>--no-decompress</strong></p><p>Never do the decompression.</p><p><strong>--server-decompress</strong></p><p>Do the decompression only if the compression was done on the server.</p><p><strong>--client-decompress</strong></p><p>Do the decompression only if the compression was done on the client.</p><p><strong>--decrypt</strong></p><p>Always do the decryption, this is the default.</p><p><strong>--no-decrypt</strong></p><p>Never do the decryption.</p><p><strong>--server-decrypt</strong></p><p>Do the decryption only if the encryption was done on the server.</p><p><strong>--client-decrypt</strong></p><p>Do the decryption only if the encryption was done on the client.</p><p><strong>--exact-match</strong></p><p>The host and disk are parsed as exact values</p><p><strong>--extract</strong></p><p>Extract the backup on the server in the <em>directory</em> directory.</p><p><strong>--directory</strong> <em>directory</em></p><p>Where to extract the backup with the <strong>--extract</strong> option.</p><p>Warning: All files in that directory can be removed.</p><p><strong>--data-path</strong> amanda|directtcp</p><p>The data path to use with <strong>--extract</strong>, the default is to use the fatest data path.</p><p><strong>--application-property</strong> <em>NAME=VALUE</em></p><p>Application property to send to the application with <strong>--extract.</strong></p><p><strong>-l</strong></p><p>Leave dumps in the compressed/uncompressed and encrypted/unencrypted state in which they were found on tape. It is a synonym for <strong>--no-decompression</strong> <strong>--no-decryption</strong></p><p><strong>-a</strong></p><p>Assume that all tapes are already available, via tape changer or otherwise, instead of prompting the operator to ensure that all tapes are loaded.</p><p><strong>-n</strong></p><p>Do not reassemble split dump files at all, just restore each piece as an individual file.</p><p><strong>-o</strong> <em>configoption</em></p><p>See the "<strong>CONFIGURATION OVERRIDE</strong>" section in <a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>All the examples here assume your configuration is called <em>SetA</em>.</p><p>Here&apos;s a simple case, restoring all known dumps of the host vanya to the current working directory.</p>
<pre>
$ amfetchdump SetA vanya
</pre>
<p>A more likely scenario involves restoring a particular dump from a particular date. We&apos;ll pipe this one to <strong>GNU-tar</strong> as well, to automatically extract the dump.</p>
<pre>
$ amfetchdump -p SetA vanya /home 20051020 | gtar -xvpf -
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p><strong>Amfetchdump</strong> is dependent on accessing your server&apos;s config, tape changer, and (normally) dump logs. As such, it&apos;s not necessarily the most useful tool when those have all been wiped out and you desperately need to pull things from your tape. Pains have been taken to make it as capable as possible, but for seriously minimialist restores, look to <a href="../man8/amrestore.8.html"><strong>amrestore</strong>(8)</a> or <strong>dd</strong>(8) instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amfetchdump&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>, <a href="../man7/amanda-match.7.html"><strong>amanda-match</strong>(7)</a>, <a href="../man8/amadmin.8.html"><strong>amadmin</strong>(8)</a>, <a href="../man8/amrestore.8.html"><strong>amrestore</strong>(8)</a></p><p>The Amanda Wiki: : http://wiki.zmanda.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>John Stange</strong> &lt;building@nap.edu&gt;</p><p>National Academies Press</p><p><strong>Ian Turner</strong> &lt;ian@zmanda.com&gt;</p><p>Zmanda, Inc. (http://www.zmanda.com)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amdump_client.8.html"><span aria-hidden="true">&larr;</span> amdump_client.8: Back up all disks in an amanda configuration</a></li>
   <li class="next"><a href="amflush.8.html">amflush.8: Flush amanda backup files from holding disk to tape <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
