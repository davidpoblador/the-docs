<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sg_sanitize: Remove all user data from disk with scsi sanitize command</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Remove all user data from disk with scsi sanitize command">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sg_sanitize (8) manual">
  <meta name="twitter:description" content="Remove all user data from disk with scsi sanitize command">
  <meta name="twitter:image" content="https://www.carta.tech/images/sg3-utils-sg_sanitize-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/sg_sanitize.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sg_sanitize (8) manual" />
  <meta property="og:description" content="Remove all user data from disk with scsi sanitize command" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sg3-utils-sg_sanitize-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sg_sanitize<small> (8)</small></h1>
        <p class="lead">Remove all user data from disk with scsi sanitize command</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sg_sanitize.8.html">
      <span itemprop="name">sg_sanitize: Remove all user data from disk with scsi sanitize command</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sg3-utils/">
      <span itemprop="name">sg3-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sg_sanitize.8.html">
      <span itemprop="name">sg_sanitize: Remove all user data from disk with scsi sanitize command</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sg_sanitize</strong> [<em>--ause</em>] [<em>--block</em>] [<em>--count=OC</em>] [<em>--crypto</em>] [<em>--early</em>] [<em>--fail</em>] [<em>--help</em>] [<em>--invert</em>] [<em>--ipl=LEN</em>] [<em>--overwrite</em>] [<em>--pattern=PF</em>] [<em>--quick</em>] [<em>--test=TE</em>] [<em>--verbose</em>] [<em>--version</em>] [<em>--wait</em>] <em>DEVICE</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This utility invokes the SCSI SANITIZE command. This command was first introduced in the SBC-3 revision 27 draft. The purpose of the sanitize operation is to alter the information in the cache and on the medium of a logical unit (e.g. a disk) so that the recovery of user data is not possible. If that user data cannot be erased, or is in the process of being erased, then the sanitize operation prevents access to that user data.</p><p>Once a SCSI SANITIZE command has successfully started, then user data from that disk is no longer available. Even if the disk is power cycled, the sanitize operation will continue after power is re-instated until it is complete.</p><p>This utility requires either the <em>--block</em>, <em>--crypto</em>, <em>--fail</em> or <em>--overwrite</em> option. With the <em>--block</em>, <em>--crypto</em> or <em>--overwrite</em> option the user is given 15 seconds to reconsider whether they wish to erase all the data on a disk, unless the <em>--quick</em> option is given in which case the sanitize operation starts immediately. The disk's INQUIRY response strings are printed out just in case the wrong <em>DEVICE</em> has been given.</p><p>If the <em>--early</em> option is given this utility will exit soon after starting the SANITIZE command with the IMMED bit set. The user can monitor the progress of the sanitize operation with the "sg_request --num=9999 --progress" which sends a REQUEST SENSE command every 30 seconds. Otherwise if the <em>--wait</em> option is given then this utility will wait until the SANITIZE command completes (or fails) and that can be many hours.</p><p>If neither the <em>--early</em> nor <em>--wait</em> option is given then the SANITIZE command is started with the IMMED bit set. After that this utility sends a REQUEST SENSE command every 60 seconds until there are no more progress indications.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Arguments to long options are mandatory for short options as well. The options are arranged in alphabetical order based on the long option name.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-A</strong>, <strong>--ause</strong></p>
  </dt>
  <dd>
    <p>sets the AUSE bit in the cdb. AUSE is an acronym for "allow unrestricted sanitize exit". Default action is to leave the bit cleared.</p>
  </dd>
  <dt>
    <p><strong>-B</strong>, <strong>--block</strong></p>
  </dt>
  <dd>
    <p>perform a "block erase" sanitize operation.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--count</strong>=<em>OC</em></p>
  </dt>
  <dd>
    <p>where <em>OC</em> is the "overwrite count" associated with the "overwrite" sanitize operation. <em>OC</em> can be a value between 1 and 31 and 1 is the default.</p>
  </dd>
  <dt>
    <p><strong>-C</strong>, <strong>--crypto</strong></p>
  </dt>
  <dd>
    <p>perform a "cryptographic erase" sanitize operation.</p>
  </dd>
  <dt>
    <p><strong>-e</strong>, <strong>--early</strong></p>
  </dt>
  <dd>
    <p>the default action of this utility is to poll the disk every 60 seconds to fetch the progress indication until the sanitize is finished. When this option is given this utility will exit "early" as soon as the sanitize has commenced. This option and <em>--wait</em> cannot both be given.</p>
  </dd>
  <dt>
    <p><strong>-F</strong>, <strong>--fail</strong></p>
  </dt>
  <dd>
    <p>perform an "exit failure mode" sanitize operation. Typically requires the preceding SANITIZE command to have set the AUSE bit.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>print out the usage information then exit.</p>
  </dd>
  <dt>
    <p><strong>-i</strong>, <strong>--ipl</strong>=<em>LEN</em></p>
  </dt>
  <dd>
    <p>set the initialization pattern length to <em>LEN</em> bytes. By default it is set to the length of the pattern file (<em>PF</em>). Only active when the <em>--overwrite</em> option is also given. It is the number of bytes from the <em>PF</em> file that will be used as the initialization pattern. The minimum size is 1 byte and the maximum is the logical block size of the <em>DEVICE</em> (and not to exceed 65535). If <em>LEN</em> exceeds the <em>PF</em> file size then the initialization pattern is padded with zeros.</p>
  </dd>
  <dt>
    <p><strong>-I</strong>, <strong>--invert</strong></p>
  </dt>
  <dd>
    <p>set the INVERT bit in the overwrite service action parameter list. This only affects the "overwrite" sanitize operation. The default is a clear INVERT bit. When the INVERT bit is set then the initialization pattern is inverted between consecutive overwrite passes.</p>
  </dd>
  <dt>
    <p><strong>-O</strong>, <strong>--overwrite</strong></p>
  </dt>
  <dd>
    <p>perform an "overwrite" sanitize operation. When this option is given then the <em>--pattern=PF</em> option is required.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--pattern</strong>=<em>PF</em></p>
  </dt>
  <dd>
    <p>where <em>PF</em> is the filename of a file containing the initialization pattern required by an "overwrite" sanitize operation. The length of this file will be used as the length of the initialization pattern unless the <em>--ipl=LEN</em> option is given. The length of the initialization pattern must be from 1 to the logical block size of the <em>DEVICE</em>.</p>
  </dd>
  <dt>
    <p><strong>-Q</strong>, <strong>--quick</strong></p>
  </dt>
  <dd>
    <p>the default action (i.e. when the option is not given) is to give the user 15 seconds to reconsider doing a sanitize operation on the <em>DEVICE</em>. When this option is given that step (i.e. the 15 second warning period) is skipped.</p>
  </dd>
  <dt>
    <p><strong>-T</strong>, <strong>--test</strong>=<em>TE</em></p>
  </dt>
  <dd>
    <p>set the TEST field in the overwrite service action parameter list. This only affects the "overwrite" sanitize operation. The default is to place 0 in that field.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>increase the level of verbosity, (i.e. debug output).</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>print the version string and then exit.</p>
  </dd>
  <dt>
    <p><strong>-w</strong>, <strong>--wait</strong></p>
  </dt>
  <dd>
    <p>the default action (i.e. without this option and the <em>--early</em> option) is to start the SANITIZE command with the IMMED bit set then poll for the progress indication with the REQUEST SENSE command until the sanitize operation is complete (or fails). When this option is given (and the <em>--early</em> option is not given) then the SANITIZE command is started with the IMMED bit clear. For a large disk this might take hours. [A cryptographic erase operation could potentially be very quick.]</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The SCSI SANITIZE command is closely related to the ATA SANITIZE command, both are relatively new with the ATA command being the first one defined. The SCSI to ATA Translation (SAT) definition for the SCSI SANITIZE command appeared in the SAT-3 revision 4 draft.</p><p>The SCSI SANITIZE command is related to the SCSI FORMAT UNIT command. It is likely that a block erase sanitize operation would take a similar amount of time as a format on the same disk (e.g. 9 hours for a 2 Terabyte disk). The primary goal of a format is the configuration of the disk at the end of a format (e.g. different logical block size or protection information added). Removal of user data is only a side effect of a format. With the SCSI SANITIZE command, removal of user data is the primary goal. If a sanitize operation is interrupted (e.g. the disk is power cycled) then after power up any remaining user data will not be available and the sanitize operation will continue. When a format is interrupted (e.g. the disk is power cycled) the drafts say very little about the state of the disk. In practice some of the original user data may remain and the format may need to be restarted.</p><p>Finding out whether a disk (SCSI or ATA) supports SANITIZE can be a challenge. If the user really needs to find out and no other information is available then try 'sg_sanitize --fail -vvv &lt;device&gt;' and observe the sense data returned may be the safest approach. Using the <em>--fail</em> variant of this utility should have no effect unless it follows an already failed sanitize operation. If the SCSI REPORT SUPPORTED OPERATION CODES command (see sg_opcodes) is supported then using it would be a better approach for finding if sanitize is supported.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>These examples use Linux device names. For suitable device names in other supported Operating Systems see the <a href="../man8/sg3_utils.8.html"><strong>sg3_utils</strong>(8)</a> man page.</p><p>As a precaution if this utility is called with no options then apart from printing a usage message, nothing happens:</p>
<pre>
   sg_sanitize /dev/sdm
</pre>
<p>To do a "block erase" sanitize the <em>--block</em> option is required. The user will be given a 15 second period to reconsider, the SCSI SANITIZE command will be started with the IMMED bit set, then this utility will poll for a progress indication with a REQUEST SENSE command until the sanitize operation is finished:</p>
<pre>
   sg_sanitize --block /dev/sdm
</pre>
<p>To start a "block erase" sanitize and return from this utility once it is started (but not yet completed) use the <em>--early</em> option:</p>
<pre>
   sg_sanitize --block --early /dev/sdm
</pre>
<p>If the 15 second reconsideration time is not required add the <em>--quick</em> option:</p>
<pre>
   sg_sanitize --block --quick --early /dev/sdm
</pre>
<p>To do an "overwrite" sanitize a pattern file is required:</p>
<pre>
   sg_sanitize --overwrite --pattern=rand.img /dev/sdm
</pre>
<p>If the length of that "rand.img" is 512 bytes (a typically logical block size) then to use only the first 17 bytes (repeatedly) in the "overwrite" sanitize operation:</p>
<pre>
   sg_sanitize --overwrite --pattern=rand.img --ipl=17 /dev/sdm
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The exit status of sg_sanitize is 0 when it is successful. Otherwise see the <a href="../man8/sg3_utils.8.html"><strong>sg3_utils</strong>(8)</a> man page. Unless the <em>--wait</em> option is given, the exit status may not reflect the success of otherwise of the format.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Written by Douglas Gilbert.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;dgilbert at interlog dot com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2011-2013 Douglas Gilbert</p><p>This software is distributed under a FreeBSD license. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sg_sanitize&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/sg_requests.8.html"><strong>sg_requests</strong>(8)</a>, <strong>sg_format</strong>(8)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sg_safte.8.html"><span aria-hidden="true">&larr;</span> sg_safte.8: Access scsi accessed fault-tolerant enclosure (saf-te) device</a></li>
   <li class="next"><a href="sg_sat_identify.8.html">sg_sat_identify.8: Send ata identify device command via scsi to ata translation (sat) layer <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
