<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ifmail: Convert rfc-822 and rfc-1036 mail/news to ftn fidonet packets.  ifnews - convert rfc-1036 usenet news to ftn fidonet packets.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert rfc-822 and rfc-1036 mail/news to ftn fidonet packets.  ifnews - convert rfc-1036 usenet news to ftn fidonet packets.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ifmail (8) manual">
  <meta name="twitter:description" content="Convert rfc-822 and rfc-1036 mail/news to ftn fidonet packets.  ifnews - convert rfc-1036 usenet news to ftn fidonet packets.">
  <meta name="twitter:image" content="https://www.carta.tech/images/ifgate-ifmail-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ifmail.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ifmail (8) manual" />
  <meta property="og:description" content="Convert rfc-822 and rfc-1036 mail/news to ftn fidonet packets.  ifnews - convert rfc-1036 usenet news to ftn fidonet packets." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ifgate-ifmail-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ifmail<small> (8)</small></h1>
        <p class="lead">Convert rfc-822 and rfc-1036 mail/news to ftn fidonet packets.  ifnews - convert rfc-1036 usenet news to ftn fidonet packets.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ifmail.8.html">
      <span itemprop="name">ifmail: Convert rfc-822 and rfc-1036 mail/news to ftn fidonet packets.  ifnews - convert rfc-1036 usenet news to ftn fidonet packets.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ifgate/">
      <span itemprop="name">ifgate</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ifmail.8.html">
      <span itemprop="name">ifmail: Convert rfc-822 and rfc-1036 mail/news to ftn fidonet packets.  ifnews - convert rfc-1036 usenet news to ftn fidonet packets.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Synopsis</h2>
        <div class="sectioncontent">
<p><strong>ifmail</strong> [-h]  [-x verbosity]  [-I file]  [-n]  [-r Address] [-g grade]  receipent ...</p><p><strong>ifnews</strong> [-h]  [-x verbosity]  [-I file]  [-r Address] [-g grade]  [receipent]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Description</h2>
        <div class="sectioncontent">
<p><strong>Ifmail</strong> converts RFC-822 compliant mail and RFC-1036 compliant news to FTN packets. It must run setuid owner of fidonet related stuff. The current packet naming is BinkleyTerm, with file/directory names in lowcase. Naming conventions are implemented in a separate source file, pktname.c, to make modifications easier.</p><p>The default mode is the mail mode of operation. In mail mode, you must specify recepient address(es) on the command line, in the form:</p><p>"Eugene.Crosser@p14.f6.n5020.z2.fidonet.org".</p><p>The first recepient address is used as the routing address, if no routing address is specified.  In news mode then the $NEWSSITE environment variable is used as the routing address.</p><p>When the news mode is in effect, (i.e. "-n" key is specified or the program is called by alias "ifnews") a news article (or batch) is expected on stdin.</p><p><strong>Ifmail</strong> will try to preserve as much information as possible in "X-FTN-..." headers and "^ARFC-..." kludges, and restore messages more or less accurately to their original form when double-gatewaying.</p><p>A dbm-based alias database is supported, so if a message passes from a newsgroup to an echo, the author's free form name and domain address are stored, and when a netmail reply comes from fidonet to that free form name, it is passed as a mail message to the remembered domain address.</p><p><strong>ATTENTION:</strong> This mechanism will not work if you specify fidonet-style address as the "visible name" in your MTA. However you can edit /etc/aliases to add lines of the pattern: <strong>John.Smith:	jsmith</strong> Or you can set GECOS matching in sendmail.cf (OGTrue)</p><p>Several addresses may be specified in the config file, netmail from fidonet addressed to any of those addresses is assumed local and resolved through the aforementioned database, otherwise the mail will be routed through the normal MTA (and presumably packed to some other fidonet node). If there is a "To:" line at the beginning of the fido message, the address is taken from it <strong>(ONLY THE FIRST ADDRESS!).</strong></p><p>When an RFC message is split, unique MSGIDs are generated for all parts after the first one. In any case, the original "Message-ID:" header is preserved in the "^ARFC-Message-ID:" kludge and used if the message comes back to usenet on some (other) gateway.</p><p>On the way from news to echo, if the node to which the packet is being created is present in an "X-FTN-SEEN-BY:" header, the message is not included in the packet. SEEN-BY lines in the messages included into the packet consist of (1) your node primary address, (2) copy of "X-FTN-SEEN-BY:" header(s), (3) ftn addresses that could be parsed from the CNews file "$NEWSCTL/log" in the line with the corresponding Message-ID. For the latter to work, you should have a Cnews compatible log file available for reading and have an "ndbm" package. This works with INN too.</p><p><strong>ATTENTION:</strong> your feed name in the cnews "sys" file should be fNNN.nMMM or pNNN.fMMM.nLLL, without zone and domain, see the examples included with the source distribution.</p><p>In some cases, though, you will need to specify zone and/or domain of the feed, e.g. if you are exporting echomail to several networks.  In such case, specify the "cutdown" fNNN.nMMM notation after the slash, to prevent exporting back (Refer the your news systems manual).  This trick may also be useful if your hub presents non-primary AKA in the echomail it gives you.</p><p><strong>Ifmail</strong> does make some attempt to process file attaches, but only locally. Not passing to the Internet and back, but if a fileattach netmail message is routed from one fidonet node to another, it probably will take the attached file with it.</p><p>There is also a feature to define "forbidden" groups. If a usenet message is crossposted to some of the gated groups _and_ to some of the forbidden groups it will not be passed to any fidonet echoes. Messages with "Control:" headers are also not passed to FidoNet.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-h</strong> 	Display a short help message.</p><p><strong>-x verbosity</strong> 	Set the debug verbosity <strong>verbosity</strong> may be a number from 0 to 32 to set 'on' bits from 1 to number, or a string of letters where 'a' = bit 1, 'b' = bit 2, etc. up to bit 26.</p><p><strong>-N</strong> 	Put resultant packets to /tmp/ifmail.</p><p><strong>-I File</strong> 	Use the alternate configuration file <strong>File.</strong></p><p><strong>-n</strong> 	Set news mode for processing RFC-1036 Usenet news rather than RFC-822 electronic mail.</p><p><strong>-s</strong> 	Set secure mode: this enables ifmail to check the nodelist before gating the message from RFC-822 electronic mail to FTN-style netmail.</p><p><strong>-r Address</strong> 	Route packets to the Fidonet address <strong>Address.</strong> <strong>Address</strong> should be in the format "[pNN.]fNN.nNN[.zNN[.domain]]".</p><p><strong>-g Grade</strong> 	Set the type of Fidonet packet to create.  Where <strong>Grade</strong> is one of:</p><p>	N = Normal (Default)</p><p>	C = Crash</p><p>	H = Hold</p><p><strong>-c Charset</strong> 	Forces the use of the given <strong>Charset,</strong> it is useful when you know that a given link can only handle one charset for its incoming mail. This switch override all the charset handling done internally. It needs <strong>-DDIRTY_CHRS</strong> at compile time to be active.</p><p><strong>-l Level</strong> 	Sets the <strong>Level</strong> for ^aRFC- kludges. If not set 1 is the default. it determines the amount of info from rfc headers that is kept when gating.</p><p>	-1: really nothing is gated, not recommended at all !</p><p>	0: only intended for points or end-leaf nodes that have only an FTN link</p><p>	1: normal level inteded for normal gateways and nodes (points)</p><p>	2: keeps almost everything, including lots of non relevant headers.</p><p>	3: hey! same as 2 but in plain text, no ^aRFC- kludge is used.</p><p>I recommend you to leave the default value of 1 if you don't <strong>really</strong> know what you are doing.</p><p><strong>-b</strong> 	Don't split the messages when writting to PKT. Use this option only if you know your partner uses a tosser that can handle messages of arbitrary size (or at least 64KB big). Note that strict compliance to <strong>fidonet</strong> standards imply handling messages of arbitrary size.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>$IFLIBDIR/config</strong> 	Runtime configuration file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ifmail&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ifcico.8.html"><strong>ifcico</strong>(8)</a>, <strong>ifpack</strong>(8), <strong>ifunpack</strong>(8), <a href="../man8/iftoss.8.html"><strong>iftoss</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Acknowledgements</h2>
        <div class="sectioncontent">
<p>Some ideas taken from Fidogate/RFmail package, written by Teemu Torma and hacked by Martin Junius.  Some modeules taken from INN package. Thanks to Michael Bravo &lt;mbravo@tctube.spb.su&gt; (who was the first) and many others for testing.</p><p>1993, 1994 Eugene Crosser</p><p>This is free software. You can do what you wish with it as long as this copyright notice is preserved.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="iflinkstatus.8.html"><span aria-hidden="true">&larr;</span> iflinkstatus.8: Returns the status of hardware network links</a></li>
   <li class="next"><a href="ifmetric.8.html">ifmetric.8: An ipv4 route metrics manipulation tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
