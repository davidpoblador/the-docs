<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pxe-kexec: Read pxe configuration file and kexec entries</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Read pxe configuration file and kexec entries">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pxe-kexec (8) manual">
  <meta name="twitter:description" content="Read pxe configuration file and kexec entries">
  <meta name="twitter:image" content="https://www.carta.tech/images/pxe-kexec-pxe-kexec-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/pxe-kexec.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pxe-kexec (8) manual" />
  <meta property="og:description" content="Read pxe configuration file and kexec entries" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pxe-kexec-pxe-kexec-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pxe-kexec<small> (8)</small></h1>
        <p class="lead">Read pxe configuration file and kexec entries</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/pxe-kexec.8.html">
      <span itemprop="name">pxe-kexec: Read pxe configuration file and kexec entries</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pxe-kexec/">
      <span itemprop="name">pxe-kexec</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/pxe-kexec.8.html">
      <span itemprop="name">pxe-kexec: Read pxe configuration file and kexec entries</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>pxe-kexec [options] [<em>tftp_server</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<h3>Overview</h3>
<p><strong>pxe-kexec</strong> is a tool that fetches \s-1PXE\s0 configuration from a \s-1TFTP\s0 server, reads that \s-1PXE\s0 configuration file, prompts the user for an boot entry, downloads the specified kernel and initrd and finally tries to boot the kernel.</p><p>The normal process to boot with <em>kexec</em>\|(8) is that pxe-kexec loads the kernel and invokes <em>reboot</em>\|(8). The shutdown script of the Linux distribution then executes \*(L"kexec -e\*(R" at the very end. That is not implemented everywhere. Therefore, pxe-kexec has a whitelist of Linux distributions that support reboot with kexec. If the distribution is not on that whitelist, the program quits with a warning. To bypass that warning, please use the \*(L"--igore-whitelist\*(R" parameter. You can also use the \*(L"--force\*(R" parameter to execute \*(L"kexec -e\*(R" to immediately boot the selected kernel, without invoking <em>shutdown</em>\|(8)/<em>reboot</em>\|(8).</p><p>pxe-kexec meant to be used in an environment where pre-defined \s-1PXE\s0 configurations exist but the user wants to use <em>kexec</em>\|(8) instead of rebooting.</p><p>Normally, the <em>tftp_server</em> must be specified as first argument. If there's no \s-1TFTP\s0 server specified, pxe-kexec looks in the \s-1DHCP\s0 info file for the \s-1DHCP\s0 server and uses this one as \s-1TFTP\s0 server. This only works when the \s-1TFTP\s0 server is running on the same machine as the \s-1DHCP\s0 server.</p><p><strong>==&gt; Please also read the section called \*(L"Update Info\*(R" &lt;==</strong></p>
<h3>Whitelist</h3>
<p>As mentioned previously, a whitelist of Linux distributions that support kexec-based rebooting is maintained. Currently following distributions are on the whitelist:</p><ul>
<li><p>openSUSE, starting with version 11.0</p></li><li><p>Ubuntu, starting with version 9.04</p></li><li><p>Red Hat Enterprise Linux and CentOS, starting with version 5.3</p></li><li><p>Fedora Linux, starting with version 11</p></li><li><p>\s-1ARCH\s0 Linux</p></li>
</ul><p>Don't hesitate to send the author an email to add the distribution to the whitelist. Please include the output of \*(L"pxe-kexec --print-distribution\*(R" in that mail.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Following options can be specified:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-h</strong> | <strong>--help</strong>
  </dt>
  <dd>
    <p>Prints a short help.</p>
  </dd>
  <dt>
    <strong>-v</strong> | <strong>--version</strong>
  </dt>
  <dd>
    <p>Prints the version number to standard output.</p>
  </dd>
  <dt>
    <strong>-f</strong> | <strong>--force</strong>
  </dt>
  <dd>
    <p>Immediately load the kernel without invoking <em>reboot</em>\|(8). This does not execute shutdown scripts, i.e. does not terminate daemons, network connections etc.</p>
  </dd>
  <dt>
    <strong>-L</strong> | <strong>--load-only</strong>
  </dt>
  <dd>
    <p>When that option is specified, the new kernel is only loaded. No reboot is triggered and \*(L"kexec -e\*(R" is also not executed.</p>
  </dd>
  <dt>
    <strong>-w</strong> | <strong>--ignore-whitelist</strong>
  </dt>
  <dd>
    <p>Don't check if the detected Linux distribution is on the whitelist of distributions that have <em>kexec</em>\|(8) in their shutdown script. Please don't use that parameter without letting the author know which distribution you use and how to detect that distribution. Then the distribution can be added to the whitelist and other users profit from that experience.</p>
  </dd>
  <dt>
    <strong>-l</strong> <em>label</em> | <strong>--label</strong> <em>label</em>
  </dt>
  <dd>
    <p>Specifies the label that should be booted. Use that option if you already know which <em>label</em> you want to boot. This option implies \*(L"--quiet\*(R".</p>
  </dd>
  <dt>
    <strong>-i</strong> | <strong>--interface</strong> <em>netif</em>
  </dt>
  <dd>
    <p>Uses <em>netif</em> instead of the first (non-loopback and up) interface that is found. Example: \*(L"eth5\*(R".</p>
  </dd>
  <dt>
    <strong>-n</strong> | <strong>--noconfirm</strong>
  </dt>
  <dd>
    <p>Don't ask the user for confirmation before booting an entry. Use that option with care!</p>
  </dd>
  <dt>
    <strong>-Y</strong> | <strong>--dry-run</strong>
  </dt>
  <dd>
    <p>Don't execute call to kexec and don't switch the virtual console before running \*(L"kexec -e\*(R". Instead, print the information which program would be executed with which arguments to standard error.</p>
  </dd>
  <dt>
    <strong>-q</strong> | <strong>--quiet</strong>
  </dt>
  <dd>
    <p>Don't display the \s-1PXE\s0 messages that are added in the \s-1PXE\s0 configuration with the <em>say</em> keyword. Also don't display messages which \s-1PXE\s0 configuration files the downloader tries to fetch.</p>
  </dd>
  <dt>
    <strong>-p</strong> | <strong>--print-distribution</strong>
  </dt>
  <dd>
    <p>Only prints the detected Linux distribution and exits. For example:</p>
<pre>
    Type        : Ubuntu
    Name        : Ubuntu
    Release     : 9.04
    Codename    : jaunty
    Description : Ubuntu 9.04
</pre>
<p>This option is very useful if your distribution is not on the whitelist of Linux distributions that support <em>kexec</em>\|(8) in the reboot scripts and you want to create a bugreport. This command does not require root privileges.</p>
  </dd>
  <dt>
    <strong>-D</strong> | <strong>--debug</strong>
  </dt>
  <dd>
    <p>Enable debugging output. That's good for finding (and fixing!) bugs.</p>
  </dd>
  <dt>
    <strong>-d</strong> | <strong>--nodelete</strong>
  </dt>
  <dd>
    <p>Keep downloaded files.</p>
  </dd>
  <dt>
    <strong>-F</strong> | <strong>--ftp</strong>
  </dt>
  <dd>
    <p>Always use \s-1FTP\s0 instead of \s-1TFTP\s0. Useful for servers that share \s-1TFTP\s0 root and \s-1FTP\s0 root. (Passive) \s-1FTP\s0 has the advantage that it passes firewalls better than \s-1TFTP\s0.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UPDATE INFO</h2>
        <div class="sectioncontent">
<h3>Updating from 0.1.x to 0.2</h3>
<p>Compared to version 0.1.x, the syntax has changed:</p><ul>
<li><p>The default label must now be set with the <strong>-l</strong> <em>label</em> option instead of the 2nd argument. Example:   % pxe-kexec mydhcp.mydomain.com SLES10-install-auto is now   % pxe-kexec -l SLES10-install-auto mydhcp.mydomain.com</p></li><li><p>pxe-kexec now uses the reboot mechanism by default: The kernel is loaded, then the reboot is triggered and the reboot script of the Linux distribution finally boots the kernel. This has the advantage of a clear shutdown. The program keeps a database of Linux distributions that support kexec-based reboot. If the currently active distribution is not on the whitelist, an error is printed. (That whitelist can be ignored with \*(L"--ignore-whitelist\*(R".)</p></li><li><p>To use the previous behaviour, i.e. just execute \*(L"kexec -e\*(R" in pxe-kexec at the end, you can still use the \*(L"--force\*(R" parameter. Example:   % pxe-kexec mydhcp.mydomain.com is now   % pxe-kexec --force mydhcp.mydomain.com</p></li><li><p>If you want to have the old \*(L"dry-run\*(R" behaviour back, which in fact only missed the last \*(L"kexec -e\*(R" step, you can use the option \*(L"--load-only\*(R". Example:   % pxe-kexec --dry-run mydhcp.mydomain.com is now  % pxe-kexec --load-only mydhcp.mydomain.com</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>pxe-kexec </strong><strong>mydhcp.mydomain.com</strong><strong></strong>
  </dt>
  <dd>
    <p>Try to fetch the \s-1PXE\s0 configuration from <em>mydhcp.mydomain.com</em>, display the <em>say</em> messages from that configuration, prompt for an entry, letting the user confirm that entry and finally load that entry via <em>kexec</em>\|(8) and reboot via <em>reboot</em>\|(8). This only works if you distribution supports kexec-based rebooting, i.e. it is in the internal whitelist.</p>
  </dd>
  <dt>
    <strong>pxe-kexec -n </strong><strong>mydhcp.mydomain.com</strong><strong></strong>
  </dt>
  <dd>
    <p>Same as the previous example, but omit the final confirmation step.</p>
  </dd>
  <dt>
    <strong>pxe-kexec -l </strong><strong>SLES10-install-auto</strong><strong> </strong><strong>mydhcp.mydomain.com</strong><strong> </strong>
  </dt>
  <dd>
    <p>Same as the first example, but don't prompt the user for the label to boot. Directly boot the <em>SLES10-install-auto</em> label, but letting the user confirm that he really wants to boot this!</p>
  </dd>
  <dt>
    <strong>pxe-kexec -n -l </strong><strong>SLES10-install-auto</strong><strong> </strong><strong>mydhcp.mydomain.com</strong><strong></strong>
  </dt>
  <dd>
    <p>Same as the previous example, but without confirmation.</p>
  </dd>
  <dt>
    <strong>pxe-kexec -f </strong><strong>mydhcp.mydomain.com</strong><strong></strong>
  </dt>
  <dd>
    <p>Same as the first example, but execute \*(L"kexec -e\*(R" at the end instead of invoking <em>reboot</em>\|(8).</p>
  </dd>
  <dt>
    <strong>pxe-kexec -l </strong><strong>mydhcp.mydomain.com</strong><strong></strong>
  </dt>
  <dd>
    <p>Same as the first example, but don't trigger a reboot. Instead, the kernel is just loaded. If your distribution supports kexec-based rebooting, the kernel will be loaded on next reboot. You can also run \*(L"kexec -e\*(R" manually at any time.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The <strong>pxe-kexec</strong> program and documentation has been written by Bernhard Walle &lt;bernhard@bwalle.de&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>This program has no bugs. If you find a feature that should be removed, please report to &lt;bernhard@bwalle.de&gt; if you don't want to create an account.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pxe-kexec&hellip;</h2>
        <div class="sectioncontent">
<p><em>kexec</em>\|(8)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pwupdate.8.html"><span aria-hidden="true">&larr;</span> pwupdate.8: Updates passwd and shadow nis map</a></li>
   <li class="next"><a href="pxfw.8.html">pxfw.8: Firmware flashing tool for plextor cd/dvd devices <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
