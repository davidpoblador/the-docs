<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>expire: Usenet article and history expiration program</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Usenet article and history expiration program">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="expire (8) manual">
  <meta name="twitter:description" content="Usenet article and history expiration program">
  <meta name="twitter:image" content="https://www.carta.tech/images/inn-expire-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/expire.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="expire (8) manual" />
  <meta property="og:description" content="Usenet article and history expiration program" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/inn-expire-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">expire<small> (8)</small></h1>
        <p class="lead">Usenet article and history expiration program</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/expire.8.html">
      <span itemprop="name">expire: Usenet article and history expiration program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/inn/">
      <span itemprop="name">inn</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/expire.8.html">
      <span itemprop="name">expire: Usenet article and history expiration program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>expire</strong> [ <strong>-d</strong><em> dir</em> ] [ <strong>-e</strong> ] [ <strong>-f</strong><em> file</em> ] [ <strong>-g</strong><em> file</em> ] [ <strong>-h</strong><em> file</em> ] [ <strong>-i</strong> ] [ <strong>-l</strong> ] [ <strong>-n</strong> ] [ <strong>-p</strong> ] [ <strong>-q</strong> ] [ <strong>-r</strong><em> reason</em> ] [ <strong>-s</strong> ] [ <strong>-t</strong> ] [ <strong>-v</strong><em> level</em> ] [ <strong>-w</strong><em> number</em> ] [ <strong>-x</strong> ] [ <strong>-z</strong><em> file</em> ] [ <em>expire.ctl</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Expire</em> scans the <a href="../man5/history.5.html"><strong>history</strong>(5)</a> text file <em>/var/lib/news/history</em> and uses the information recorded in it to purge old news articles.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>If the ``-d'' flag is used, then the new history file and database is created in the specified directory, <em>dir</em>. This is useful when the filesystem does not have sufficient space to hold both the old and new history files. When this flag is used, <em>expire</em> leaves the server paused and creates a zero-length file named after the new history file, with an extension of ``.done'' to indicate that it has successfully completed the expiration. The calling script should install the new history file and un-pause the server. The ``<strong>-r</strong>'' flag should be used with this flag.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>If the ``-e'' flag is used, then as soon as the first cross posting of the article expires, all copies of it are removed.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>To specify an alternate history file, use the ``<strong>-f</strong>'' flag.</p>
  </dd>
  <dt>
    <p><strong>-g</strong></p>
  </dt>
  <dd>
    <p>If the ``-g'' flag is given, then a one-line summary equivalent to the output of ``-v1'' and preceeded by the current time, will be appended to the specified <em>file</em>.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>To specify an alternate input text history file, use the ``<strong>-h</strong>'' flag. <em>Expire</em> uses the old <em>dbz</em>(3z) database to determine the size of the new one.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>To ignore the old database, use the ``<strong>-i</strong>'' flag.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p><em>Expire</em> normally just unlinks each file if it should be expired. If the ``<strong>-l</strong>'' flag is used, then all articles after the first one are treated as if they could be symbolic links to the first one. In this case, the first article will not be removed as long as any other cross-posts of the article remain.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>If <em>innd</em> is not running, use the ``<strong>-n</strong>'' flag and <em>expire</em> will not send the ``pause'' or ``go'' commands. (For more details on the commands, see <a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a>). Note that <em>expire</em> only needs exclusive access for a very short time &ndash; long enough to see if any new articles arrived since it first hit the end of the file, and to rename the new files to the working files.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p><em>Expire</em> makes its decisions on the time the article arrived, as found in the <em>history</em> file. This means articles are often kept a little longer than with other expiration programs that base their decisions on the article's posting date. To use the article's posting date, use the ``-p'' flag.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p><em>Expire</em> normally complains about articles that are posted to newsgroups not mentioned in the active file. To suppress this action, use the ``<strong>-q</strong>'' flag.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p><em>Expire</em> normally sends a ``pause'' command to the local <a href="../man8/innd.8.html"><strong>innd</strong>(8)</a> daemon when it needs exclusive access to the history file, using the string ``Expiring'' as the reason. To give a different reason, use the ``<strong>-r</strong>'' flag. The process ID will be appended to the reason. When <em>expire</em> is finished and the new history file is ready, it sends a ``go'' command.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>If the ``<strong>-s</strong>'' flag is used, then <em>expire</em> will print a summary when it exits showing the approximate number of kilobytes used by all deleted articles.</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>If the ``<strong>-t</strong>'' flag is used, then <em>expire</em> will generate a list of the files that should be removed on its standard output, and the new history file will be left in <em>history.n</em> and <em>history.n.dir</em> and <em>history.n.pag</em>. This flag be useful for debugging when used with the ``<strong>-n</strong>'' and ``<strong>-s</strong>'' flags.  Note that if the ``<strong>-f</strong>'' flag is used, then the name specified with that flag will be used instead of <em>history</em>.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>The ``<strong>-v</strong>'' flag is used to increase the verbosity of the program, generating messages to standard output. The <em>level</em> should be a number, where higher numbers result in more output. Level one will print totals of the various actions done (not valid if a new history file is not written), level two will print report on each individual file, while level five results in more than one line of output for every line processed.</p>
  </dd>
  <dt>
    <p><strong>-w</strong></p>
  </dt>
  <dd>
    <p>Use the ``-w'' flag to ``warp'' time so that <em>expire</em> thinks it is running at some time other then the current time. The value should be a signed floating point number of the number of days to use as the offset.</p>
  </dd>
  <dt>
    <p><strong>-x</strong></p>
  </dt>
  <dd>
    <p>If the ``<strong>-x</strong>'' flag is used, then <em>expire</em> will not create any new history files.  This is most useful when combined with the ``<strong>-n</strong>'', `<strong>`-s</strong>'', and `<strong>`-t</strong>'' flags to see how different expiration policies would change the amount of disk space used.</p>
  </dd>
  <dt>
    <p><strong>-z</strong></p>
  </dt>
  <dd>
    <p>If the ``<strong>-z</strong>'' flag is used, then articles are not removed, but their names are appended to the specified <em>file</em>. See the description of <em>expirerm</em> in <a href="../man8/news.daily.8.html"><strong>news.daily</strong>(8)</a>.</p>
  </dd>

</dl>
<p>If a filename is specified, it is taken as the control file and parsed according to the rules in <a href="../man5/expire.ctl.5.html"><strong>expire.ctl</strong>(5)</a>. A single dash (``-'') may be used to read the file from standard input. If no file is specified, the file <em>/etc/news/expire.ctl</em> is read.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>Written by Rich $alz &lt;rsalz@uunet.uu.net&gt; for InterNetNews. This is revision &#92;$3, dated &#92;$4.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO expire&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ctlinnd.8.html"><strong>ctlinnd</strong>(8)</a>, dbz(3z), <a href="../man5/expire.ctl.5.html"><strong>expire.ctl</strong>(5)</a>, <a href="../man5/history.5.html"><strong>history</strong>(5)</a>, <a href="../man8/innd.8.html"><strong>innd</strong>(8)</a>, <a href="../man3/inndcomm.3.html"><strong>inndcomm</strong>(3)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="exiwhat.8.html"><span aria-hidden="true">&larr;</span> exiwhat.8: Finding out what exim processes are doing</a></li>
   <li class="next"><a href="expireover.8.html">expireover.8: Expire entries from the news overview database <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
