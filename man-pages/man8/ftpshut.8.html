<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ftpshut: Shut down all proftpd servers at a given time</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shut down all proftpd servers at a given time">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ftpshut (8) manual">
  <meta name="twitter:description" content="Shut down all proftpd servers at a given time">
  <meta name="twitter:image" content="https://www.carta.tech/images/proftpd-basic-ftpshut-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ftpshut.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ftpshut (8) manual" />
  <meta property="og:description" content="Shut down all proftpd servers at a given time" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/proftpd-basic-ftpshut-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ftpshut<small> (8)</small></h1>
        <p class="lead">Shut down all proftpd servers at a given time</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ftpshut.8.html">
      <span itemprop="name">ftpshut: Shut down all proftpd servers at a given time</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/proftpd-basic/">
      <span itemprop="name">proftpd-basic</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ftpshut.8.html">
      <span itemprop="name">ftpshut: Shut down all proftpd servers at a given time</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ftpshut</strong> [ <strong>-R</strong> ] [ <strong>-l</strong><em> min </em> ] [ <strong>-d</strong><em> min </em> ] <em>time</em> [ <em>warning-message </em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>ftpshut</strong> command provides an automated shutdown procedure that a superuser can use to automagically disconnect current proftpd connections, and deny new connections.  The command creates a control file as <strong>/etc/shutmsg</strong> to inform proftpd processes about an impending shutdown.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>time</strong></p>
  </dt>
  <dd>
    <p>The time at which the ftp servers will be brought down.  It may be the word `now', indicating an immediate shutdown, or a future time in one of two formats: <em>+number</em> or <em>HHMM.</em> The first form brings the servers down in <em>number</em> minutes, while the second form indicates an exact time of day, using a 24-hour clock format.</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>Instructs ftpshut to <em>remove</em> the /etc/shutmsg file, restoring proftpd to its normal service.  If this option is used, this will be the only operation performed by <em>ftpshut</em></p>
  </dd>
  <dt>
    <p><strong>-l min</strong></p>
  </dt>
  <dd>
    <p>Specifies the number of minutes before shutdown that new ftp access will be disabled.  If the -l option is not specified, a default of 10 minutes (or immediately, if less than 10 minutes remains until shutdown) is used.</p>
  </dd>
  <dt>
    <p><strong>-d min</strong></p>
  </dt>
  <dd>
    <p>Specifies the number of minutes before shutdown that existing ftp connections will be disconnected.  If the -d option is not specified, a default of 5 minutes (or immediately, if less than 5 minutes remains until shutdown) is used.</p>
  </dd>
  <dt>
    <p><strong>warning-message</strong></p>
  </dt>
  <dd>
    <p>Optionally provide a message which will be sent to new connections (if denied) and existing connections (when disconnected).  The message can contain the following magic cookies, which will be replaced as follows before being sent to new or existing connections:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>%s</strong></p>
  </dt>
  <dd>
    <p>time proftpd is being shut down</p>
  </dd>
  <dt>
    <p><strong>%r</strong></p>
  </dt>
  <dd>
    <p>time new connections will be denied</p>
  </dd>
  <dt>
    <p><strong>%d</strong></p>
  </dt>
  <dd>
    <p>time current connections will be dropped</p>
  </dd>
  <dt>
    <p><strong>%C</strong></p>
  </dt>
  <dd>
    <p>current working directory (where applicable)</p>
  </dd>
  <dt>
    <p><strong>%L</strong></p>
  </dt>
  <dd>
    <p>local host name (or virtualhost name)</p>
  </dd>
  <dt>
    <p><strong>%R</strong></p>
  </dt>
  <dd>
    <p>remote host name</p>
  </dd>
  <dt>
    <p><strong>%T</strong></p>
  </dt>
  <dd>
    <p>local time (format Thu Nov 15 17:12:42 1990)</p>
  </dd>
  <dt>
    <p><strong>%U</strong></p>
  </dt>
  <dd>
    <p>username given at login time</p>
  </dd>

</dl>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>Proftpd servers can only be shutdown via ftpshut if a master daemon is running in <em>standalone</em> mode.  Servers running in <em>inetd</em> mode will honor the shutdown message file created by ftpshut, however currently running servers may be <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a>ed, and unable to read the shutdown message control file.</p><p>It is possible to set an absolute shutdown time which is <strong>earlier</strong> than the current time.  If this is the case, proftpd will not shutdown until the indicated time on the following day.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>/usr/sbin/ftpshut</strong></p><p><strong>/etc/shutmsg</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>ProFTPD is written and maintained by a number of people, full credits can be found on <strong>http://www.proftpd.org/credits.html</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ftpshut&hellip;</h2>
        <div class="sectioncontent">
<p><strong>inetd</strong>(8),</strong><strong>ftp</strong>(1),<a href="../man8/proftpd.8.html"><strong>proftpd</strong>(8)</a>,</strong><a href="../man1/ftpwho.1.html"><strong>ftpwho</strong>(1)</a>,<a href="../man1/ftpcount.1.html"><strong>ftpcount</strong>(1)</a></strong></p><p>Full documentation on ProFTPD, including configuration and FAQs, is available at <strong>http://www.proftpd.org/</strong></p><p>For help/support, try the ProFTPD mailing lists, detailed on <strong>http://www.proftpd.org/lists.html</strong></p><p>Report bugs at <strong>http://bugs.proftpd.org/</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ftpscrub.8.html"><span aria-hidden="true">&larr;</span> ftpscrub.8: Scrub the proftpd scoreboard file of stale entries</a></li>
   <li class="next"><a href="ftpstats.8.html">ftpstats.8: Ftp log summarizer <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
