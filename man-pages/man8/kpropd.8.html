<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>kpropd: Kerberos v5 slave kdc update server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Kerberos v5 slave kdc update server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="kpropd (8) manual">
  <meta name="twitter:description" content="Kerberos v5 slave kdc update server">
  <meta name="twitter:image" content="https://www.carta.tech/images/krb5-kdc-kpropd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/kpropd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="kpropd (8) manual" />
  <meta property="og:description" content="Kerberos v5 slave kdc update server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/krb5-kdc-kpropd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">kpropd<small> (8)</small></h1>
        <p class="lead">Kerberos v5 slave kdc update server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/kpropd.8.html">
      <span itemprop="name">kpropd: Kerberos v5 slave kdc update server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/krb5-kdc/">
      <span itemprop="name">krb5-kdc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/kpropd.8.html">
      <span itemprop="name">kpropd: Kerberos v5 slave kdc update server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>kpropd</strong> [<strong>-r</strong> <em>realm</em>] [<strong>-a</strong> <em>acl_file</em>] [<strong>-f</strong> <em>slave_dumpfile</em>] [<strong>-F</strong> <em>principal_database</em>] [<strong>-p</strong> <em>kdb5_util_prog</em>] [<strong>-P</strong> <em>port</em>] [<strong>-d</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>kpropd</em> command runs on the slave KDC server.  It listens for update requests made by the <a href="../man8/kprop.8.html"><strong>kprop</strong>(8)</a></em> program.  If incremental propagation is enabled, it periodically requests incremental updates from the master KDC.</p><p>When the slave receives a kprop request from the master, kpropd accepts the dumped KDC database and places it in a file, and then runs <a href="../man8/kdb5_util.8.html"><strong>kdb5_util</strong>(8)</a></em> to load the dumped database into the active database which is used by <a href="../man8/krb5kdc.8.html"><strong>krb5kdc</strong>(8)</a></em>.  This allows the master Kerberos server to use <a href="../man8/kprop.8.html"><strong>kprop</strong>(8)</a></em> to propagate its database to the slave servers.  Upon a successful download of the KDC database file, the slave Kerberos server will have an up-to-date KDC database.</p><p>Where incremental propagation is not used, kpropd is commonly invoked out of <strong>inetd</strong>(8) as a nowait service.  This is done by adding a line to the <strong>/etc/inetd.conf</strong> file which looks like this:</p>
<pre>
kprop  stream  tcp  nowait  root  /usr/local/sbin/kpropd  kpropd
</pre>
<p>kpropd can also run as a standalone daemon, backgrounding itself and waiting for connections on port 754 (or the port specified with the <strong>-P</strong> option if given).  Standalone mode is required for incremental propagation.  Starting in release 1.11, kpropd automatically detects whether it was run from inetd and runs in standalone mode if it is not.  Prior to release 1.11, the <strong>-S</strong> option is required to run kpropd in standalone mode; this option is now accepted for backward compatibility but does nothing.</p><p>Incremental propagation may be enabled with the <strong>iprop_enable</strong> variable in <a href="../man5/kdc.conf.5.html"><strong>kdc.conf</strong>(5)</a></em>.  If incremental propagation is enabled, the slave periodically polls the master KDC for updates, at an interval determined by the <strong>iprop_slave_poll</strong> variable.  If the slave receives updates, kpropd updates its log file with any updates from the master.  <a href="../man8/kproplog.8.html"><strong>kproplog</strong>(8)</a></em> can be used to view a summary of the update entry log on the slave KDC.  If incremental propagation is enabled, the principal <strong>kiprop/slavehostname@REALM</strong> (where <em>slavehostname</em> is the name of the slave KDC host, and <em>REALM</em> is the name of the Kerberos realm) must be present in the slave&apos;s keytab file.</p><p><a href="../man8/kproplog.8.html"><strong>kproplog</strong>(8)</a></em> can be used to force full replication when iprop is enabled.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>-r</strong><strong> </strong><em>realm</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specifies the realm of the master server.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-f</strong><strong> </strong><em>file</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specifies the filename where the dumped principal database file is to be stored; by default the dumped database file is <strong>/etc</strong><strong>/krb5kdc</strong><strong>/from_master</strong>.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-p</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Allows the user to specify the pathname to the <a href="../man8/kdb5_util.8.html"><strong>kdb5_util</strong>(8)</a></em> program; by default the pathname used is <strong>/usr/sbin</strong><strong>/kdb5_util</strong>.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-d</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Turn on debug mode.  In this mode, kpropd will not detach itself from the current job and run in the background.  Instead, it will run in the foreground and print out debugging messages during the database propagation.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-P</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Allow for an alternate port number for kpropd to listen on.  This is only useful in combination with the <strong>-S</strong> option.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-a</strong><strong> </strong><em>acl_file</em><strong></strong></p>
  </dt>
  <dd>
    <p>Allows the user to specify the path to the kpropd.acl file; by default the path used is <strong>/etc</strong><strong>/krb5kdc</strong><strong>/kpropd.acl</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>kpropd uses the following environment variables:</p><ul>
<li><p><strong>KRB5_CONFIG</strong></p></li><li><p><strong>KRB5_KDC_PROFILE</strong></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>kpropd.acl</strong></p>
  </dt>
  <dd>
    <p>Access file for kpropd; the default location is <strong>/usr/local/var/krb5kdc/kpropd.acl</strong>.  Each entry is a line containing the principal of a host from which the local machine will allow Kerberos database propagation via <a href="../man8/kprop.8.html"><strong>kprop</strong>(8)</a></em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO kpropd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/kprop.8.html"><strong>kprop</strong>(8)</a></em>, <a href="../man8/kdb5_util.8.html"><strong>kdb5_util</strong>(8)</a></em>, <a href="../man8/krb5kdc.8.html"><strong>krb5kdc</strong>(8)</a></em>, <strong>inetd</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>MIT</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>1985-2013, MIT</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="kprop.8.html"><span aria-hidden="true">&larr;</span> kprop.8: Propagate a kerberos v5 principal database to a slave server</a></li>
   <li class="next"><a href="kproplog.8.html">kproplog.8: Display the contents of the kerberos principal update log <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
