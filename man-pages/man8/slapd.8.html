<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>slapd: Stand-alone ldap daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Stand-alone ldap daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="slapd (8) manual">
  <meta name="twitter:description" content="Stand-alone ldap daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/slapd-slapd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/slapd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="slapd (8) manual" />
  <meta property="og:description" content="Stand-alone ldap daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/slapd-slapd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">slapd<small> (8)</small></h1>
        <p class="lead">Stand-alone ldap daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/slapd.8.html">
      <span itemprop="name">slapd: Stand-alone ldap daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/slapd/">
      <span itemprop="name">slapd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/slapd.8.html">
      <span itemprop="name">slapd: Stand-alone ldap daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/usr/sbin/slapd</strong> [ .BR -4 | -6 ] [ .BR -T &nbsp;{ acl \||\| a [ dd ]\||\| auth \||\| c [ at ]\||\| <strong>d</strong>[<strong>n</strong>]\||\|<strong>i</strong>[<strong>ndex</strong>]\||\|<strong>p</strong>[<strong>asswd</strong>]\||\|<strong>s</strong>[<strong>chema</strong>]\||\|<strong>t</strong>[<strong>est</strong>]}] [ .BI -d &nbsp;debug-level] [ .BI -f &nbsp;slapd-config-file] [ .BI -F &nbsp;slapd-config-directory] [ .BI -h &nbsp;URLs] [ .BI -n &nbsp;service-name] [ .BI -s &nbsp;syslog-level] [ .BI -l &nbsp;syslog-local-user] [ .BI -o &nbsp;option[ = value]] [ .BI -r &nbsp;directory] [ .BI -u &nbsp;user] [ .BI -g &nbsp;group] [ .BI -c &nbsp;cookie]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Slapd</strong> is the stand-alone LDAP daemon. It listens for LDAP connections on any number of ports (default <strong>389</strong>), responding to the LDAP operations it receives over these connections. <strong>slapd</strong> is typically invoked at boot time, usually out of <strong>/etc/rc.local</strong>. Upon startup, <strong>slapd</strong> normally forks and disassociates itself from the invoking tty. If configured in the config file (or config directory), the <strong>slapd</strong> process will print its process ID (see <a href="../man2/getpid.2.html"><strong>getpid</strong>(2)</a>) to a <strong>.pid</strong> file, as well as the command line options during invocation to an <strong>.args</strong> file (see <a href="../man5/slapd.conf.5.html"><strong>slapd.conf</strong>(5)</a>). If the <strong>-d</strong> flag is given, even with a zero argument, <strong>slapd</strong> will not fork and disassociate from the invoking tty.</p><p>See the "OpenLDAP Administrator's Guide" for more details on <strong>slapd</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-4</strong></p>
  </dt>
  <dd>
    <p>Listen on IPv4 addresses only.</p>
  </dd>
  <dt>
    <p><strong>-6</strong></p>
  </dt>
  <dd>
    <p>Listen on IPv6 addresses only.</p>
  </dd>
  <dt>
    <p><strong>-T</strong><em></em><strong>tool</strong></p>
  </dt>
  <dd>
    <p>Run in Tool mode. The <em>tool</em> argument selects whether to run as <em>slapadd</em>, <em>slapcat</em>, <em>slapdn</em>, <em>slapindex</em>, <em>slappasswd</em>, <em>slapschema</em>, or <em>slaptest</em> (<em>slapacl</em> and <em>slapauth</em> need the entire <strong>acl</strong> and <strong>auth</strong> option value to be spelled out, as <strong>a</strong> is reserved to <em>slapadd</em>). This option should be the first option specified when it is used; any remaining options will be interpreted by the corresponding slap tool program, according to the respective man pages. Note that these tool programs will usually be symbolic links to <strong>slapd</strong>. This option is provided for situations where symbolic links are not provided or not usable.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em></em><strong>debug-level</strong></p>
  </dt>
  <dd>
    <p>Turn on debugging as defined by <em>debug-level</em>. If this option is specified, even with a zero argument, <strong>slapd</strong> will not fork or disassociate from the invoking terminal.  Some general operation and status messages are printed for any value of <em>debug-level</em>. <em>debug-level</em> is taken as a bit string, with each bit corresponding to a different kind of debugging information.  Comma-separated arrays of friendly names can be specified to select debugging output of the corresponding debugging information.  All the names recognized by the <em>loglevel</em> directive described in <a href="../man5/slapd.conf.5.html"><strong>slapd.conf</strong>(5)</a> are supported. If <em>debug-level</em> is <strong>?</strong>, a list of installed debug-levels is printed, and slapd exits.</p><p>Remember that if you turn on packet logging, packets containing bind passwords will be output, so if you redirect the log to a logfile, that file should be read-protected.</p>
  </dd>
  <dt>
    <p><strong>-s</strong><em></em><strong>syslog-level</strong></p>
  </dt>
  <dd>
    <p>This option tells <strong>slapd</strong> at what debug-level debugging statements should be logged to the <strong>syslog</strong>(8) facility. The value <em>syslog-level</em> can be set to any value or combination allowed by the <strong>-d</strong> switch. Slapd logs all messages selected by <em>syslog-leveli</em> at the <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> severity debug-level <strong>DEBUG</strong>, on the unit specified with <strong>-l</strong>.</p>
  </dd>
  <dt>
    <p><strong>-n</strong><em></em><strong>service-name</strong></p>
  </dt>
  <dd>
    <p>Specifies the service name for logging and other purposes.  Defaults to basename of argv[0], i.e.: "slapd".</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em></em><strong>syslog-local-user</strong></p>
  </dt>
  <dd>
    <p>Selects the local user of the <strong>syslog</strong>(8) facility. Value can be <strong>LOCAL0</strong>, through <strong>LOCAL7</strong>, as well as <strong>USER</strong> and <strong>DAEMON</strong>. The default is <strong>LOCAL4</strong>. However, this option is only permitted on systems that support local users with the <strong>syslog</strong>(8) facility. Logging to <strong>syslog</strong>(8) occurs at the "DEBUG" severity debug-level.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em></em><strong>slapd-config-file</strong></p>
  </dt>
  <dd>
    <p>Specifies the slapd configuration file. The default is <strong>/etc/ldap/slapd.conf</strong>.</p>
  </dd>
  <dt>
    <p><strong>-F</strong><em></em><strong>slapd-config-directory</strong></p>
  </dt>
  <dd>
    <p>Specifies the slapd configuration directory. The default is <strong>/etc/ldap/slapd.d</strong>. If both <strong>-f</strong> and <strong>-F</strong> are specified, the config file will be read and converted to config directory format and written to the specified directory. If neither option is specified, slapd will attempt to read the default config directory before trying to use the default config file. If a valid config directory exists then the default config file is ignored. All of the slap tools that use the config options observe this same behavior.</p>
  </dd>
  <dt>
    <p><strong>-h</strong><em></em><strong>URLlist</strong></p>
  </dt>
  <dd>
    <p><strong>slapd</strong> will by default serve <strong>ldap:///</strong> (LDAP over TCP on all interfaces on default LDAP port).  That is, it will bind using INADDR_ANY and port <strong>389</strong>. The <strong>-h</strong> option may be used to specify LDAP (and other scheme) URLs to serve. For example, if slapd is given <strong>-h &quot;ldap://127.0.0.1:9009/ ldaps:/// ldapi:///&quot;</strong>, it will listen on 127.0.0.1:9009 for LDAP, 0.0.0.0:636 for LDAP over TLS, and LDAP over IPC (Unix domain sockets).  Host 0.0.0.0 represents INADDR_ANY (any interface). A space separated list of URLs is expected.  The URLs should be of the LDAP, LDAPS, or LDAPI schemes, and generally without a DN or other optional parameters (excepting as discussed below). Support for the latter two schemes depends on selected configuration options.  Hosts may be specified by name or IPv4 and IPv6 address formats. Ports, if specified, must be numeric.  The default ldap:// port is <strong>389</strong> and the default ldaps:// port is <strong>636</strong>.</p><p>For LDAP over IPC, <strong>name</strong> is the name of the socket, and no <strong>port</strong> is required, nor allowed; note that directory separators must be URL-encoded, like any other characters that are special to URLs; so the socket</p>
<pre>
        /usr/local/var/ldapi
</pre>
<p>must be specified as</p>
<pre>
        ldapi://%2Fusr%2Flocal%2Fvar%2Fldapi
</pre>
<p>The default location for the IPC socket is /var/run/ldapi</p><p>The listener permissions are indicated by "x-mod=-rwxrwxrwx", "x-mod=0777" or "x-mod=777", where any of the "rwx" can be "-" to suppress the related permission, while any of the "7" can be any legal octal digit, according to <a href="../man1/chmod.1.html"><strong>chmod</strong>(1)</a>. The listeners can take advantage of the "x-mod" extension to apply rough limitations to operations, e.g. allow read operations ("r", which applies to search and compare), write operations ("w", which applies to add, delete, modify and modrdn), and execute operations ("x", which means bind is required). "User" permissions apply to authenticated users, while "other" apply to anonymous users; "group" permissions are ignored. For example, "ldap:///????x-mod=-rw-------" means that read and write is only allowed for authenticated connections, and bind is required for all operations. This feature is experimental, and requires to be manually enabled at configure time.</p>
  </dd>
  <dt>
    <p><strong>-r</strong><em></em><strong>directory</strong></p>
  </dt>
  <dd>
    <p>Specifies a directory to become the root directory.  slapd will change the current working directory to this directory and then <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a> to this directory.  This is done after opening listeners but before reading any configuration file or initializing any backend.  When used as a security mechanism, it should be used in conjunction with <strong>-u</strong> and <strong>-g</strong> options.</p>
  </dd>
  <dt>
    <p><strong>-u</strong><em></em><strong>user</strong></p>
  </dt>
  <dd>
    <p><strong>slapd</strong> will run slapd with the specified user name or id, and that user's supplementary group access list as set with <a href="../man3/initgroups.3.html"><strong>initgroups</strong>(3)</a>.  The group ID is also changed to this user's gid, unless the <strong>-g</strong> option is used to override.  Note when used with <strong>-r</strong>, slapd will use the user database in the change root environment.</p><p>Note that on some systems, running as a non-privileged user will prevent passwd back-ends from accessing the encrypted passwords.  Note also that any shell back-ends will run as the specified non-privileged user.</p>
  </dd>
  <dt>
    <p><strong>-g</strong><em></em><strong>group</strong></p>
  </dt>
  <dd>
    <p><strong>slapd</strong> will run with the specified group name or id.  Note when used with <strong>-r</strong>, slapd will use the group database in the change root environment.</p>
  </dd>
  <dt>
    <p><strong>-c</strong><em></em><strong>cookie</strong></p>
  </dt>
  <dd>
    <p>This option provides a cookie for the syncrepl replication consumer. The cookie is a comma separated list of <em>name=value</em> pairs. Currently supported syncrepl cookie fields are <strong>rid</strong>, <strong>sid</strong>, and <strong>csn</strong>. <strong>rid</strong> identifies a replication thread within the consumer server and is used to find the syncrepl specification in <a href="../man5/slapd.conf.5.html"><strong>slapd.conf</strong>(5)</a> or <a href="../man5/slapd-config.5.html"><strong>slapd-config</strong>(5)</a> having the matching replication identifier in its definition. The <strong>rid</strong> must be provided in order for any other specified values to be used. <strong>sid</strong> is the server id in a multi-master/mirror-mode configuration. <strong>csn</strong> is the commit sequence number received by a previous synchronization and represents the state of the consumer replica content which the syncrepl engine will synchronize to the current provider content. In case of <em>mirror-mode</em> or <em>multi-master</em> replication agreement, multiple <strong>csn</strong> values, semicolon separated, can appear. Use only the <strong>rid</strong> part to force a full reload.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em></em><strong>option</strong>[<em>=</em><strong>value</strong>]</p>
  </dt>
  <dd>
    <p>This option provides a generic means to specify options without the need to reserve a separate letter for them.</p><p>It supports the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>slp=</strong>{<strong>on</strong>\||\|<strong>off</strong>\||\|<strong></strong><em>slp-attrs</em><strong></strong>}</p>
  </dt>
  <dd>
    <p>When SLP support is compiled into slapd, disable it (<strong>off</strong>),  enable it by registering at SLP DAs without specific SLP attributes (<strong>on</strong>), or with specific SLP attributes <em>slp-attrs</em> that must be an SLP attribute list definition according to the SLP standard.</p><p>For example, <strong>"slp=(tree=production),(server-type=OpenLDAP),(server-version=2.4.15)"</strong> registers at SLP DAs with the three SLP attributes tree, server-type and server-version that have the values given above. This allows to specifically query the SLP DAs for LDAP servers holding the <em>production</em> tree in case multiple trees are available.</p>
  </dd>

</dl>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To start <em>slapd</em> and have it fork and detach from the terminal and start serving the LDAP databases defined in the default config file, just type:</p>
<pre>
	/usr/sbin/slapd
</pre>
<p>To start <strong>slapd</strong> with an alternate configuration file, and turn on voluminous debugging which will be printed on standard error, type:</p>
<pre>
	/usr/sbin/slapd -f /var/tmp/slapd.conf -d 255
</pre>
<p>To test whether the configuration file is correct or not, type:</p>
<pre>
	/usr/sbin/slapd -Tt
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO slapd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ldap.3.html"><strong>ldap</strong>(3)</a>, <a href="../man5/slapd.conf.5.html"><strong>slapd.conf</strong>(5)</a>, <a href="../man5/slapd-config.5.html"><strong>slapd-config</strong>(5)</a>, <a href="../man5/slapd.access.5.html"><strong>slapd.access</strong>(5)</a>, <a href="../man8/slapacl.8.html"><strong>slapacl</strong>(8)</a>, <a href="../man8/slapadd.8.html"><strong>slapadd</strong>(8)</a>, <a href="../man8/slapauth.8.html"><strong>slapauth</strong>(8)</a>, <a href="../man8/slapcat.8.html"><strong>slapcat</strong>(8)</a>, <a href="../man8/slapdn.8.html"><strong>slapdn</strong>(8)</a>, <a href="../man8/slapindex.8.html"><strong>slapindex</strong>(8)</a>, <a href="../man8/slappasswd.8.html"><strong>slappasswd</strong>(8)</a>, <a href="../man8/slapschema.8.html"><strong>slapschema</strong>(8)</a>, <a href="../man8/slaptest.8.html"><strong>slaptest</strong>(8)</a>.</p><p>"OpenLDAP Administrator's Guide" (http://www.OpenLDAP.org/doc/admin/)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>See http://www.openldap.org/its/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p><strong>OpenLDAP Software</strong> is developed and maintained by The OpenLDAP Project &lt;http://www.openldap.org/&gt;. <strong>OpenLDAP Software</strong> is derived from University of Michigan LDAP 3.3 Release.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="slapcat.8.html"><span aria-hidden="true">&larr;</span> slapcat.8: Slapd database to ldif utility</a></li>
   <li class="next"><a href="slapdn.8.html">slapdn.8: Check a list of string-represented ldap dns based on schema syntax <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
