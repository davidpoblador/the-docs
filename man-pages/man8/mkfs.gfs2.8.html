<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mkfs.gfs2: Make a gfs2 filesystem</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Make a gfs2 filesystem">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mkfs.gfs2 (8) manual">
  <meta name="twitter:description" content="Make a gfs2 filesystem">
  <meta name="twitter:image" content="https://www.carta.tech/images/gfs2-utils-mkfs.gfs2-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/mkfs.gfs2.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mkfs.gfs2 (8) manual" />
  <meta property="og:description" content="Make a gfs2 filesystem" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gfs2-utils-mkfs.gfs2-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mkfs.gfs2<small> (8)</small></h1>
        <p class="lead">Make a gfs2 filesystem</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mkfs.gfs2.8.html">
      <span itemprop="name">mkfs.gfs2: Make a gfs2 filesystem</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gfs2-utils/">
      <span itemprop="name">gfs2-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mkfs.gfs2.8.html">
      <span itemprop="name">mkfs.gfs2: Make a gfs2 filesystem</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mkfs.gfs2</strong> [<em>OPTION</em>]... <em>DEVICE</em> <em>[ block-count ]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>mkfs.gfs2 is used to create a Global File System.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong> <em>BlockSize</em></p>
  </dt>
  <dd>
    <p>Set the filesystem block size to <em>BlockSize</em> (must be a power of two).  The minimum block size is 512.  The FS block size cannot exceed the machine's memory page size.  On the most architectures (i386, x86_64, s390, s390x), the memory page size is 4096 bytes.  On other architectures it may be bigger.  The default block size is 4096 bytes. In general, GFS2 filesystems should not deviate from the default value.</p>
  </dd>
  <dt>
    <p><strong>-c</strong> <em>MegaBytes</em></p>
  </dt>
  <dd>
    <p>Initial size of each journal's quota change file</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Enable debugging output.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print  out  a  help  message  describing  available options, then exit.</p>
  </dd>
  <dt>
    <p><strong>-J</strong> <em>MegaBytes</em></p>
  </dt>
  <dd>
    <p>The size of the journals in Megabytes. The default journal size is 128 megabytes.  The minimum size is 8 megabytes.</p>
  </dd>
  <dt>
    <p><strong>-j</strong> <em>Number</em></p>
  </dt>
  <dd>
    <p>The number of journals for gfs2_mkfs to create.  You need at least one journal per machine that will mount the filesystem.  If this option is not specified, one journal will be created.</p>
  </dd>
  <dt>
    <p><strong>-K</strong></p>
  </dt>
  <dd>
    <p>Keep, do not attempt to discard blocks at mkfs time (discarding blocks initially is useful on solid state devices and  sparse  /  thin-provisioned storage).</p>
  </dd>
  <dt>
    <p><strong>-O</strong></p>
  </dt>
  <dd>
    <p>This option prevents gfs2_mkfs from asking for confirmation before writing the filesystem.</p>
  </dd>
  <dt>
    <p><strong>-p</strong> <em>LockProtoName</em></p>
  </dt>
  <dd>
    <p>LockProtoName is the name of the  locking  protocol to use.  Acceptable locking protocols are <em>lock_dlm</em> (for shared storage) or if you are using GFS2 as a local filesystem (<strong>1 node only</strong>), you can specify the <em>lock_nolock</em> protocol.  If this option is not specified, <em>lock_dlm</em> protocol will be assumed.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Be quiet.  Don't print anything.</p>
  </dd>
  <dt>
    <p><strong>-r</strong> <em>MegaBytes</em></p>
  </dt>
  <dd>
    <p>gfs2_mkfs will try to make Resource Groups about this big. Minimum RG size is 32 MB.  Maximum RG size is 2048 MB. A large RG size may increase performance on very large file systems. If not specified, mkfs.gfs2 will choose the RG size based on the size of the file system: average size file systems will have 256 MB RGs, and bigger file systems will have bigger RGs for better performance.</p>
  </dd>
  <dt>
    <p><strong>-t</strong> <em>LockTableName</em></p>
  </dt>
  <dd>
    <p>The lock table field appropriate to the lock module you're using. It is <em>clustername:fsname</em>. Clustername must match that in cluster.conf; only members of this cluster are permitted to use this file system. Fsname is a unique file system name used to distinguish this GFS2 file system from others created (1 to 16 characters).  Lock_nolock doesn't use this field.</p>
  </dd>
  <dt>
    <p><strong>-u</strong> <em>MegaBytes</em></p>
  </dt>
  <dd>
    <p>Initial size of each journal's unlinked tag file</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print program version information, then exit.</p>
  </dd>
  <dt>
    <p>[ <em>block-count</em> ]</p>
  </dt>
  <dd>
    <p>Make the file system this many blocks in size.  If not specified, the entire length of the specified device is used.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>gfs2_mkfs -t mycluster:mygfs2 -p lock_dlm -j 2 /dev/vg0/mygfs2</p>
  </dt>
  <dd>
    <p>This will make a Global File System on the block device "/dev/vg0/mygfs2".  It will belong to "mycluster" and register itself as wanting locking for "mygfs2".  It will use DLM for locking and make two journals.</p>
  </dd>
  <dt>
    <p>gfs2_mkfs -t mycluster:mygfs2 -p lock_nolock -j 3 /dev/vg0/mygfs2</p>
  </dt>
  <dd>
    <p>This will make a Global File System on the block device "/dev/vg0/mygfs2".  It will belong to "mycluster" and but have no cluster locking.  It will have three journals.</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mkfs.fat.8.html"><span aria-hidden="true">&larr;</span> mkfs.fat.8: Create an ms-dos filesystem under linux</a></li>
   <li class="next"><a href="mkfs.logfs.8.html">mkfs.logfs.8: Create a logfs filesystem. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
