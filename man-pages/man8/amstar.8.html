<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amstar: Amanda application to interface with star</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Amanda application to interface with star">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amstar (8) manual">
  <meta name="twitter:description" content="Amanda application to interface with star">
  <meta name="twitter:image" content="https://www.carta.tech/images/amanda-common-amstar-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/amstar.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amstar (8) manual" />
  <meta property="og:description" content="Amanda application to interface with star" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/amanda-common-amstar-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amstar<small> (8)</small></h1>
        <p class="lead">Amanda application to interface with star</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amstar.8.html">
      <span itemprop="name">amstar: Amanda application to interface with star</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/amanda-common/">
      <span itemprop="name">amanda-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amstar.8.html">
      <span itemprop="name">amstar: Amanda application to interface with star</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Amstar is an Amanda Application API script. It should not be run by users directly. It uses star to backup and restore data.</p><p>The <strong>diskdevice</strong> in the disklist (DLE) must be the directory to backup.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INCLUDE - EXCLUDE</h2>
        <div class="sectioncontent">
<p>amstar doesn&apos;t support include. Both &apos;exclude list&apos; and &apos;exclude file&apos; are supported. There is a maximum of 100 patterns (limit of star).</p><p>Moving directories into and out of directories on the exclude list causes incremental backups to not contain the files in the moved directories until the next full backup unless the moved files are modified after the move.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROPERTIES</h2>
        <div class="sectioncontent">
<p>This section lists the properties that control amstar&apos;s functionality. See <a href="../man7/amanda-applications.7.html"><strong>amanda-applications</strong>(7)</a> for information on application properties and how they are configured.</p><p>ACL</p><p>If "YES" (the default), amstar will store files acl by passing the <em>-acl</em> argument to star. If "NO", then the <em>-acl</em> option is not given to star, and it will not try to backup the acl.</p><p>COMMAND-OPTIONS</p><p>If set, theses options are passed asis to star. Each option must be a different value of the property. Some option can break how amanda do backup, use it with care.</p><p>Use:</p>
<pre>
  property "COMMAND-OPTIONS" "--foo" "bar"
</pre>
<p>Do not use:</p>
<pre>
  property "COMMAND-OPTIONS" "--foo bar"
</pre>
<p>DIRECTORY</p><p>If set, gnutar will backup from that directory instead of the <em>diskdevice</em> set by the DLE. On restore, the data is restore in that directpory instead of the current working directory.</p><p>ONE-FILE-SYSTEM</p><p>The default is "YES". This property is deprecated and the default value can&apos;t be changed. star requires it when it works in dump mode.  This corresponds to the <em>-xdev</em> option of star.</p><p>SPARSE</p><p>If "YES" (the default), star will store sparse files efficiently. If "NO", then the <em>-sparse</em> option is not given to star, and it will not try to detect sparse files.</p><p>STAR-DLE-TARDUMP</p><p>If "YES", amstar will use a different tardump file for each DLE. The default is "NO".  This property is needed with older versions of star doing many dumps in parallel, because of a race condition in updating the tardump file.</p><p>STAR-PATH</p><p>The path to the star binary. The default is set when Amanda is built by the --with-star configure option.</p><p>STAR-TARDUMP</p><p>The directory where star stores the database it uses to generate incremental dumps.  The default is /etc/tardumps.</p><p>NORMAL</p><p>List all regex (POSIX Extended Regular Expression syntax) that are normal output from star. These output are in the "FAILED DUMP DETAILS" section of the email report if the dump result is STRANGE or FAILED. Default values:</p>
<pre>
  "^could not open conf file"
  "^Type of this level "
  "^Date of this level "
  "^Date of last level "
  "^Dump record  level "
  "^Throughput"
  "^.*is sparse$"
  "^star: dumped [0-9][0-9]* (tar )?files"
  "^.*The following problems occurred during .* processing.*$"
  "^.*Processed all possible files, despite earlier errors.*$"
  "^.*not written due to problems during backup.*$"
</pre>
<p>To treat one of these default patterns differently, specify it explicitly in a different property.</p><p>IGNORE</p><p>List all regex (POSIX Extended Regular Expression syntax) that amanda ignore. These output are never in the email report.</p><p>STRANGE</p><p>List all regex (POSIX Extended Regular Expression syntax) that are strange output from star. All star output that doesn&apos;t match a normal or ignore regex are strange by default. The result of the dump is STRANGE if star produce a strange output. These output are in the "FAILED DUMP DETAILS" section of the email report.</p>
<pre>
  "^Perform a level 0 dump first.*$"
</pre>
<p>To treat one of these default patterns differently, specify it explicitly in a different property.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amstar&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>, <a href="../man5/amanda.conf.5.html"><strong>amanda.conf</strong>(5)</a>, <a href="../man7/amanda-applications.7.html"><strong>amanda-applications</strong>(7)</a></p><p>The Amanda Wiki: : http://wiki.zmanda.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>Jean-Louis Martineau</strong> &lt;martineau@zmanda.com&gt;</p><p>Zmanda, Inc. (http://www.zmanda.com)</p><p><strong>Dustin J. Mitchell</strong> &lt;dustin@zmanda.com&gt;</p><p>Zmanda, Inc. (http://www.zmanda.com)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amservice.8.html"><span aria-hidden="true">&larr;</span> amservice.8: Run an amanda service on a client</a></li>
   <li class="next"><a href="amstatus.8.html">amstatus.8: Display the state of an amanda run <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
