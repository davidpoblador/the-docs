<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>acngfs: Virtual file system for use with apt-cacher-ng</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Virtual file system for use with apt-cacher-ng">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="acngfs (8) manual">
  <meta name="twitter:description" content="Virtual file system for use with apt-cacher-ng">
  <meta name="twitter:image" content="https://www.carta.tech/images/apt-cacher-ng-acngfs-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/acngfs.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="acngfs (8) manual" />
  <meta property="og:description" content="Virtual file system for use with apt-cacher-ng" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/apt-cacher-ng-acngfs-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">acngfs<small> (8)</small></h1>
        <p class="lead">Virtual file system for use with apt-cacher-ng</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/acngfs.8.html">
      <span itemprop="name">acngfs: Virtual file system for use with apt-cacher-ng</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/apt-cacher-ng/">
      <span itemprop="name">apt-cacher-ng</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/acngfs.8.html">
      <span itemprop="name">acngfs: Virtual file system for use with apt-cacher-ng</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
acngfs&nbsp;BaseURL&nbsp;ProxyHost&nbsp;[CachePath]&nbsp;MountPoint&nbsp;[-o&nbsp;FUSE&nbsp;Mount&nbsp;Options]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>acngfs is a FUSE based filesystem which represents files downloadable via HTTP as part of a local filesystem. It has been developed for very specific purposes and is not intended to be a general purpose HTTP filesystem.</p><p>The main use case for <em>acngfs</em> is a situation where:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>&bull;</strong>
  </dt>
  <dd>
    <p>The files must not be stored on extra space on the user's system (e.g. because of insufficient disk space to make a temporary copy of downloaded files)</p>
  </dd>
  <dt>
    <strong>&bull;</strong>
  </dt>
  <dd>
    <p>Local programs (e.g. apt, dpkg) need to read the packages from a local filesystem</p>
  </dd>
  <dt>
    <strong>&bull;</strong>
  </dt>
  <dd>
    <p>When reading, certain files might need to be fetched in background (or updated) and this process needs to be triggered somehow</p>
  </dd>
  <dt>
    <strong>&bull;</strong>
  </dt>
  <dd>
    <p>Network latency and speed are not relevant, e.g. accessing apt-cacher-ng via localhost connection</p>
  </dd>
  <dt>
    <strong>&bull;</strong>
  </dt>
  <dd>
    <p>The proxy service can work efficiently with many requests for small data ranges (apt-cacher-ng, for example)</p>
  </dd>
  <dt>
    <strong>&bull;</strong>
  </dt>
  <dd>
    <p>Pattern matching on paths is sufficient to distinguish file and directory names</p>
  </dd>

</dl>
<p>If the apt-cacher-ng instance happens to run on the same system as acngfs or its cache repository is mounted via fast remote file system, this cache repository can be optionally specified as alternative source path. In this cache, acngfs will attempt to read files directly from this filesystem where possible, reducing network latency and avoiding additional load of apt-cacher-ng server. The directory levels of BaseURL and CachePath should match.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Typical use may be to let apt/dpkg use package file like they are present on the local filesystem so there is no need to download them. In sources.list, the source appears as a file:/ type URL, like:</p><p><strong>deb file:/var/local/acngfs_debian unstable main contrib</strong></p><p>and the filesystem backend is prepared with a command like:</p><p><strong>/usr/lib/apt-cacher-ng/acngfs http://ftp.uni-kl.de/debian cacheBox:3142 /var/local/acngfs_debian -o allow_root</strong></p><p>or for a locally installed apt-cacher-ng with common Debian cache repository stored in /var/cache/apt-cacher-ng/debrep:</p><p><strong>/usr/lib/apt-cacher-ng/acngfs http://ftp.uni-kl.de/debian localhost:3142 /var/cache/apt-cacher-ng/debrep /var/local/acngfs_debian -o allow_root</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The command-line options supported by <strong>acngfs</strong> are:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>BaseURL</strong>
  </dt>
  <dd>
    <p>Remote mirror to be used as real source, like <strong>http://ftp2.de.debian.org/debian</strong>. NOTE: the mirror subdirectory part (like <strong>debian</strong>) should be added either to <strong>BaseURL</strong> or to the path in sources.list, not to both.</p>
  </dd>
  <dt>
    <strong>ProxyURL</strong>
  </dt>
  <dd>
    <p>Complete or simplified host and port specification of the proxy server, <strong>http://localhost:3142</strong>.</p>
  </dd>
  <dt>
    <strong>CachePath</strong>
  </dt>
  <dd>
    <p>Optional hint, a directory path pointing to the internal cache subdirectory of apt-cacher-ng where it stores data downloaded from <strong>BaseURL</strong>. For more details see <strong>apt-cacher-ng</strong> manual, chapter "Advanced configuration".</p>
  </dd>
  <dt>
    <strong>mountpoint</strong>
  </dt>
  <dd>
    <p>Directory representing the URL in the local filesytem.</p>
  </dd>
  <dt>
    <strong>--help</strong>
  </dt>
  <dd>
    <p>Print a help summary and additional FUSE application options</p>
  </dd>
  <dt>
    <strong>FuseOptions</strong>
  </dt>
  <dd>
    <p>Various options for the FUSE subsystem to control filesystem behaviour. See --help output and FUSE documentation for more details.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>/usr/lib/apt-cacher-ng/acngfs</strong>
  </dt>
  <dd>
    <p>Executable binary documented in this manual page</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Permissions of the files are important when using mounting when sharing data with other users (including root!). To mount as user and let root use the package management tools (apt, dpkg), one may need to use FUSE options like in the following example:</p><p><strong>acngfs http://ftp.uni-kl.de/debian http://localhost:3142 /mnt/misc -o allow_root</strong></p><p>See FUSE documentation for details about file permissions representation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Software is still experimental, use at your own risk!</p><p>There are natural limitations on capabilities of the FS: no directory browsing is allowed (only blind descending), permissions of files are inherited from the mount point as well as other properties of the filesystem.</p><p>Should be used with apt-cacher-ng version 0.2pre2 or newer; otherwise it could flood log files with many requests from small file chunks.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO acngfs&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/apt-cacher-ng.8.html"><strong>apt-cacher-ng</strong>(8)</a>, <a href="../man1/fusermount.1.html"><strong>fusermount</strong>(1)</a></p><p>For more information on Apt-Cacher NG, read the User Manual which can be found either in the doc/pdf directory of the software source package or installed in the documentation directory of apt-cacher-ng by your distribution.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="accton.8.html"><span aria-hidden="true">&larr;</span> accton.8: Turns process accounting on or off</a></li>
   <li class="next"><a href="acpi_listen.8.html">acpi_listen.8: Acpi event listener <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
