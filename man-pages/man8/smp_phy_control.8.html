<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>smp_phy_control: Invoke phy control smp function</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Invoke phy control smp function">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="smp_phy_control (8) manual">
  <meta name="twitter:description" content="Invoke phy control smp function">
  <meta name="twitter:image" content="https://www.carta.tech/images/smp-utils-smp_phy_control-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/smp_phy_control.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="smp_phy_control (8) manual" />
  <meta property="og:description" content="Invoke phy control smp function" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/smp-utils-smp_phy_control-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">smp_phy_control<small> (8)</small></h1>
        <p class="lead">Invoke phy control smp function</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smp_phy_control.8.html">
      <span itemprop="name">smp_phy_control: Invoke phy control smp function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/smp-utils/">
      <span itemprop="name">smp-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smp_phy_control.8.html">
      <span itemprop="name">smp_phy_control: Invoke phy control smp function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>smp_phy_control</strong> [<em>--attached=ADN</em>] [<em>--expected=EX</em>] [<em>--help</em>] [<em>--hex</em>] [<em>--interface=PARAMS</em>] [<em>--max=MA</em>] [<em>--min=MI</em>] [<em>--op=OP</em>] [<em>--phy=ID</em>] [<em>--pptv=TI</em>] [<em>--pwrdis=PDC</em>] [<em>--raw</em>] [<em>--sa=SAS_ADDR</em>] [<em>--sas_pa=CO</em>] [<em>--sas_sl=CO</em>] [<em>--sata_pa=CO</em>] [<em>--sata_sl=CO</em>] [<em>--verbose</em>] [<em>--version</em>] <em>SMP_DEVICE[,N]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Sends a SAS Serial Management Protocol (SMP) PHY CONTROL function request to an SMP target. The SMP target is identified by the <em>SMP_DEVICE</em> and the <em>SAS_ADDR</em>. Depending on the interface, the <em>SAS_ADDR</em> may be deduced from the <em>SMP_DEVICE</em>. The mpt interface uses <em>SMP_DEVICE</em> to identify a HBA (an SMP initiator) and needs the additional <em>,N</em> to differentiate between HBAs if there are multiple present.</p><p>The PHY CONTROL function is used to change the state of a phy within an SMP target. SMP targets are typically SAS expanders which have multiple phys. Certain operation values (e.g. 'lr' (link reset) and 'hr' (hard reset)) change the state of the attached phy. Sending such operation values to the phy in the SMP target that is attached to the originator (i.e. the SMP initiator) may lead to a bad response.</p><p>Invoking this utility with no arguments (other than <em>SMP_DEVICE</em> which might be in an environment variable and <em>--sa=SAS_ADDR</em> which might be in an environment variable or not needed) is harmless. In other words a phy's state is only changed when either <em>--max=MA</em>, <em>--min=MI</em>, <em>--op=OP</em> or <em>--pptv=TI</em> is given with a non default value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Mandatory arguments to long options are mandatory for short options as well.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong>, <strong>--attached</strong>=<em>ADN</em></p>
  </dt>
  <dd>
    <p>specifies the attached device name (<em>ADN</em>). The default value is 0 . The <em>ADN</em> is in decimal but is likely to be a SAS address which is typically shown in hexadecimal. To specify a number in hexadecimal either prefix it with '0x' or put a trailing 'h' on it. This option is ignored by the expander unless the '--op=sadn' option is also given.</p>
  </dd>
  <dt>
    <p><strong>-E</strong>, <strong>--expected</strong>=<em>EX</em></p>
  </dt>
  <dd>
    <p>set the 'expected expander change count' field in the SMP request. The value <em>EX</em> is from 0 to 65535 inclusive with 0 being the default value. When <em>EX</em> is greater than zero then if the value doesn't match the expander change count of the SMP target (i.e. the expander) when the request arrives then the target ignores the request and sets a function result of "invalid expander change count" in the response.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>output the usage message then exit.</p>
  </dd>
  <dt>
    <p><strong>-H</strong>, <strong>--hex</strong></p>
  </dt>
  <dd>
    <p>output the response (less the CRC field) in hexadecimal.</p>
  </dd>
  <dt>
    <p><strong>-I</strong>, <strong>--interface</strong>=<em>PARAMS</em></p>
  </dt>
  <dd>
    <p>interface specific parameters. In this case "interface" refers to the path through the operating system to the SMP initiator. See the smp_utils man page for more information.</p>
  </dd>
  <dt>
    <p><strong>-M</strong>, <strong>--max</strong>=<em>MA</em></p>
  </dt>
  <dd>
    <p>permits the programmed maximum physical link rate to be changed on the gven phy. Permitted values are:</p>
<pre>
  <strong>0</strong>  : no change
</pre>

<pre>
  <strong>8</strong>  : 1.5 Gbps
</pre>

<pre>
  <strong>9</strong>  : 3 Gbps
</pre>

<pre>
  <strong>10</strong> : 6 Gbps
</pre>

<pre>
  <strong>11</strong> : 12 Gbps
</pre>
<p>Default value is 0.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--min</strong>=<em>MI</em></p>
  </dt>
  <dd>
    <p>permits the programmed minimum physical link rate to be changed on the given phy. Permitted values are:</p>
<pre>
  <strong>0</strong>  : no change
</pre>

<pre>
  <strong>8</strong>  : 1.5 Gbps
</pre>

<pre>
  <strong>9</strong>  : 3 Gbps
</pre>

<pre>
  <strong>10</strong> : 6 Gbps
</pre>

<pre>
  <strong>11</strong> : 12 Gbps
</pre>
<p>Default value is 0.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--op</strong>=<em>OP</em></p>
  </dt>
  <dd>
    <p>specifies the operation to be performed on the given phy. The <em>OP</em> argument can be either numeric or a string. If a number is given, it is put into the 'phy operation' field of the request. Allowable strings are abbreviations of which only the first two characters need to match. Each line in the following list contains a numeric value, a string and then a brief explanation:</p>
<pre>
  <strong>0</strong> : <strong>nop</strong>  : no operation
</pre>

<pre>
  <strong>1</strong> : <strong>lr</strong>   : link reset
</pre>

<pre>
  <strong>2</strong> : <strong>hr</strong>   : hard reset
</pre>

<pre>
  <strong>3</strong> : <strong>dis</strong>  : disable phy
</pre>

<pre>
  <strong>5</strong> : <strong>cel</strong>  : clear error log
</pre>

<pre>
  <strong>6</strong> : <strong>ca</strong>   : clear affiliation
</pre>

<pre>
  <strong>7</strong> : <strong>tspss</strong>: transmit SATA port selection signal
</pre>

<pre>
  <strong>8</strong> : <strong>citnl</strong>: clear STP I_T nexus loss (bit)
</pre>

<pre>
  <strong>9</strong> : <strong>sadn</strong> : set attached device name
</pre>
<p>The default value is 0 (no operation).</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--phy</strong>=<em>ID</em></p>
  </dt>
  <dd>
    <p>phy identifier. <em>ID</em> is a value between 0 and 254. Default is 0.</p>
  </dd>
  <dt>
    <p><strong>-P</strong>, <strong>--pptv</strong>=<em>TI</em></p>
  </dt>
  <dd>
    <p>partial pathway timeout value. The units are microseconds and the permitted values are between 0 and 15 inclusive. 7 microseconds is recommended by sas2r07.</p>
  </dd>
  <dt>
    <p><strong>-D</strong>, <strong>--pwrdis</strong>=<em>PDC</em></p>
  </dt>
  <dd>
    <p>where <em>PDC</em> is the power disable control value. The default value is 0 which means no change. The value of 1 is reserved; 2, if supported, instructs the management device server to negate the POWER DISABLE signal; while 3, if supported, instructs it to assert that signal. This applies to the phy given by <em>ID</em> (which defaults to 0).</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--raw</strong></p>
  </dt>
  <dd>
    <p>send the response (less the CRC field) to stdout in binary. All error messages are sent to stderr.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--sa</strong>=<em>SAS_ADDR</em></p>
  </dt>
  <dd>
    <p>specifies the SAS address of the SMP target device. Typically this is an expander. This option may not be needed if the <em>SMP_DEVICE</em> has the target's SAS address within it. The <em>SAS_ADDR</em> is in decimal but most SAS addresses are shown in hexadecimal. To give a number in hexadecimal either prefix it with '0x' or put a trailing 'h' on it.</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--sas_pa</strong>=<em>CO</em></p>
  </dt>
  <dd>
    <p>set the Enable SAS Partial field to <em>CO</em> which is two bits wide. The defined values for <em>CO</em> are 0 for no change; 1 for manage partial phy power conditions; 2 for disable partial phy power conditions.</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--sas_sl</strong>=<em>CO</em></p>
  </dt>
  <dd>
    <p>set the Enable SAS Slumber field to <em>CO</em> which is two bits wide. The defined values for <em>CO</em> are 0 for no change; 1 for manage slumber phy power conditions; 2 for disable slumber phy power conditions.</p>
  </dd>
  <dt>
    <p><strong>-Q</strong>, <strong>--sata_pa</strong>=<em>CO</em></p>
  </dt>
  <dd>
    <p>set the Enable SATA Partial field to <em>CO</em> which is two bits wide. The defined values for <em>CO</em> are 0 for no change; 1 for manage partial phy power conditions; 2 for disable partial phy power conditions.</p>
  </dd>
  <dt>
    <p><strong>-L</strong>, <strong>--sata_sl</strong>=<em>CO</em></p>
  </dt>
  <dd>
    <p>set the Enable SATA Slumber field to <em>CO</em> which is two bits wide. The defined values for <em>CO</em> are 0 for no change; 1 for manage slumber phy power conditions; 2 for disable slumber phy power conditions.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>increase the verbosity of the output. Can be used multiple times</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>print the version string and then exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Once an expander phy has been disabled with <em>--op=dis</em> then it can be later re-enabled with a link reset or hard reset (e.g. <em>--op=lr</em>).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>See "Examples" section in http://sg.danny.cz/sg/smp_utils.html</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p>The SMP PHY CONTROL function was introduced in SAS-1 .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Written by Douglas Gilbert.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;dgilbert at interlog dot com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2006-2013 Douglas Gilbert</p><p>This software is distributed under a FreeBSD license. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO smp_phy_control&hellip;</h2>
        <div class="sectioncontent">
<p><strong>smp_utils, smp_discover(smp_utils)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="smp_ena_dis_zoning.8.html"><span aria-hidden="true">&larr;</span> smp_ena_dis_zoning.8: Invoke enable disable zoning smp function</a></li>
   <li class="next"><a href="smp_phy_test.8.html">smp_phy_test.8: Invoke phy test funtion smp function <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
