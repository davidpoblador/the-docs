<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dmsetup: Dmsetup  low level logical volume management</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Dmsetup  low level logical volume management">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dmsetup (8) manual">
  <meta name="twitter:description" content="Dmsetup  low level logical volume management">
  <meta name="twitter:image" content="https://www.carta.tech/images/dmsetup-dmsetup-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/dmsetup.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dmsetup (8) manual" />
  <meta property="og:description" content="Dmsetup  low level logical volume management" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dmsetup-dmsetup-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dmsetup<small> (8)</small></h1>
        <p class="lead">Dmsetup  low level logical volume management</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dmsetup.8.html">
      <span itemprop="name">dmsetup: Dmsetup  low level logical volume management</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dmsetup/">
      <span itemprop="name">dmsetup</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dmsetup.8.html">
      <span itemprop="name">dmsetup: Dmsetup  low level logical volume management</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dmsetup clear</strong> <em>device_name</em></p><p><strong>dmsetup create</strong> <em>device_name</em> [<strong>-u</strong> <em>uuid</em>] [<strong>-n</strong>|<strong>--notable</strong>|<strong>--table</strong> &lt;<em>table</em>&gt;|</p><p><em>table_file</em>] [{<strong>--addnodeoncreate</strong>|<strong>--addnodeonresume</strong>}] [<strong>--readahead</strong> [<em>\+</em>]&lt;<em>sectors</em>&gt;|<em>auto</em>|<em>none</em>]</p><p><strong>dmsetup deps</strong> [<strong>-o</strong> <em>options</em>] [<em>device_name</em>]</p><p><strong>dmsetup help</strong> [<strong>-c</strong>|<strong>-C</strong>|<strong>--columns</strong>]</p><p><strong>dmsetup info</strong> [<em>device_name</em>]</p><p><strong>dmsetup info</strong> <strong>-c</strong>|<strong>-C</strong>|<strong>--columns</strong> [<strong>--noheadings</strong>] [<strong>--separator</strong> <em>separator</em>]</p><p>[<strong>-o</strong> <em>fields</em>] [<strong>-O</strong>|<strong>--sort</strong> <em>sort_fields</em>] [<strong>-S</strong>|<strong>--select</strong> <em>Selection</em>] [<em>device_name</em>]</p><p><strong>dmsetup load</strong> <em>device_name</em> [<strong>--table</strong> &lt;<em>table</em>&gt;|<em>table_file</em>]</p><p><strong>dmsetup ls</strong> [<strong>--target</strong> <em>target_type</em>] [<strong>--exec</strong> <em>command</em>] [<strong>--tree</strong>]</p><p>[<strong>-o</strong> <em>options</em>]</p><p><strong>dmsetup message</strong> <em>device_name sector message</em></p><p><strong>dmsetup mknodes</strong> [<em>device_name</em>]</p><p><strong>dmsetup mangle</strong> [<em>device_name</em>]</p><p><strong>dmsetup reload</strong> <em>device_name</em> [<strong>--table</strong> &lt;<em>table</em>&gt;|<em>table_file</em>]</p><p><strong>dmsetup wipe_table</strong> <em>device_name</em></p><p><strong>dmsetup remove</strong> [<strong>-f</strong>|<strong>--force</strong>] [<strong>--retry</strong>] [<strong>--deferred</strong>] <em>device_name</em></p><p><strong>dmsetup remove_all</strong> [<strong>-f</strong>|<strong>--force</strong>] [<strong>--deferred</strong>]</p><p><strong>dmsetup rename</strong> <em>device_name new_name</em></p><p><strong>dmsetup rename</strong> <em>device_name</em> <strong>--setuuid</strong> <em>uuid</em></p><p><strong>dmsetup resume</strong> <em>device_name</em> [{<strong>--addnodeoncreate</strong>|<strong>--addnodeonresume</strong>}]</p><p>[<strong>--readahead</strong> [<em>\+</em>]&lt;<em>sectors</em>&gt;|<em>auto</em>|<em>none</em>]</p><p><strong>dmsetup setgeometry</strong> <em>device_name cyl head sect start</em></p><p><strong>dmsetup splitname</strong> <em>device_name</em> [<em>subsystem</em>]</p><p><strong>dmsetup status</strong> [<strong>--target</strong> <em>target_type</em>] [<strong>--noflush</strong>] [<em>device_name</em>]</p><p><strong>dmsetup suspend</strong> [<strong>--nolockfs</strong>] [<strong>--noflush</strong>] <em>device_name</em></p><p><strong>dmsetup table</strong> [<strong>--target</strong> <em>target_type</em>] [<strong>--showkeys</strong>] [<em>device_name</em>]</p><p><strong>dmsetup targets</strong></p><p><strong>dmsetup udevcomplete</strong> <em>cookie</em></p><p><strong>dmsetup udevcomplete_all</strong> [<em>age_in_minutes</em>]</p><p><strong>dmsetup udevcookies</strong></p><p><strong>dmsetup udevcreatecookie</strong></p><p><strong>dmsetup udevflags</strong> <em>cookie</em></p><p><strong>dmsetup udevreleasecookie</strong> [<em>cookie</em>]</p><p><strong>dmsetup version</strong></p><p><strong>dmsetup wait</strong> [<strong>--noflush</strong>] <em>device_name</em> [<em>event_nr</em>]</p><p><strong>devmap_name</strong> <em>major minor</em></p><p><strong>devmap_name</strong> <em>major:minor</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>dmsetup manages logical devices that use the device-mapper driver. Devices are created by loading a table that specifies a target for each sector (512 bytes) in the logical device.</p><p>The first argument to dmsetup is a command. The second argument is the logical device name or uuid.</p><p>Invoking the command as <strong>devmap_name</strong> is equivalent to</p><p><strong>dmsetup info -c --noheadings -j </strong><em>major</em><strong> -m </strong><em>minor</em><strong>.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--addnodeoncreate</strong></p>
  </dt>
  <dd>
    <p>Ensure /dev/mapper node exists after dmsetup create.</p>
  </dd>
  <dt>
    <p><strong>--addnodeonresume</strong></p>
  </dt>
  <dd>
    <p>Ensure /dev/mapper node exists after dmsetup resume (default with udev).</p>
  </dd>
  <dt>
    <p><strong>--checks</strong></p>
  </dt>
  <dd>
    <p>Perform additional checks on the operations requested and report potential problems.  Useful when debugging scripts. In some cases these checks may slow down operations noticeably.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>|<strong>-C</strong>|<strong>--columns</strong></p>
  </dt>
  <dd>
    <p>Display output in columns rather than as Field: Value lines.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>|<strong>--help</strong></p>
  </dt>
  <dd>
    <p>Outputs a summary of the commands available, optionally including the list of report fields (synonym with <strong>help</strong> command).</p>
  </dd>
  <dt>
    <p><strong>--inactive</strong></p>
  </dt>
  <dd>
    <p>When returning any table information from the kernel report on the inactive table instead of the live table. Requires kernel driver version 4.16.0 or above.</p>
  </dd>
  <dt>
    <p><em></em><strong>--manglename</strong><em>{</em>none<em>|</em>hex<em>|</em>auto<em>}</em></p>
  </dt>
  <dd>
    <p>Mangle any character not on a whitelist using mangling_mode when processing device-mapper device names and UUIDs. The names and UUIDs are mangled on input and unmangled on output where the mangling mode is one of: <em>none</em> (no mangling), <em>hex</em> (always do the mangling) and <em>auto</em> (only do the mangling if not mangled yet, do nothing if already mangled, error on mixed) Default mode is <em>auto</em>. Character whitelist: 0-9, A-Z, a-z, #+-.:=@_. This whitelist is also supported by udev. Any character not on a whitelist is replaced with its hex value (two digits) prefixed by &#92;x. Mangling mode could be also set through <strong>DM_DEFAULT_NAME_MANGLING_MODE</strong> environment variable.</p>
  </dd>
  <dt>
    <p><strong>-j</strong>|<strong>--major</strong><em>major</em></p>
  </dt>
  <dd>
    <p>Specify the major number.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>|<strong>--minor</strong><em>minor</em></p>
  </dt>
  <dd>
    <p>Specify the minor number.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>|<strong>--notable</strong></p>
  </dt>
  <dd>
    <p>When creating a device, don't load any table.</p>
  </dd>
  <dt>
    <p><strong>--noheadings</strong></p>
  </dt>
  <dd>
    <p>Suppress the headings line when using columnar output.</p>
  </dd>
  <dt>
    <p><strong>--noopencount</strong></p>
  </dt>
  <dd>
    <p>Tell the kernel not to supply the open reference count for the device.</p>
  </dd>
  <dt>
    <p><strong>--noudevrules</strong></p>
  </dt>
  <dd>
    <p>Do not allow udev to manage nodes for devices in device-mapper directory.</p>
  </dd>
  <dt>
    <p><strong>--noudevsync</strong></p>
  </dt>
  <dd>
    <p>Do not synchronise with udev when creating, renaming or removing devices.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>|<strong>--options</strong></p>
  </dt>
  <dd>
    <p>Specify which fields to display.</p>
  </dd>
  <dt>
    <p><em></em><strong>--readahead</strong><em>[</em>\+<em>]&lt;</em>sectors<em>&gt;|</em>auto<em>|</em>none</p>
  </dt>
  <dd>
    <p>Specify read ahead size in units of sectors. The default value is <em>auto</em> which allows the kernel to choose a suitable value automatically.  The <em>\+</em> prefix lets you specify a minimum value which will not be used if it is smaller than the value chosen by the kernel. The value <em>none</em> is equivalent to specifying zero.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>|<strong>--readonly</strong></p>
  </dt>
  <dd>
    <p>Set the table being loaded read-only.</p>
  </dd>
  <dt>
    <p><strong>-S</strong>|<strong>--select</strong><strong></strong><em>Selection</em></p>
  </dt>
  <dd>
    <p>Display only rows that match Selection criteria. All rows are displayed with the additional "selected" column (-o selected) showing 1 if the row matches the Selection and 0 otherwise. The Selection criteria are defined by specifying column names and their valid values while making use of supported comparison operators. As a quick help and to see full list of column names that can be used in Selection and the set of supported selection operators, check the output of <strong>dmsetup info -c -S help</strong> command.</p>
  </dd>
  <dt>
    <p><em></em><strong>--table</strong><em>&lt;</em>table<em>&gt;</em></p>
  </dt>
  <dd>
    <p>Specify a one-line table directly on the command line.</p>
  </dd>
  <dt>
    <p><strong>--udevcookie </strong><em>cookie</em></p>
  </dt>
  <dd>
    <p>Use cookie for udev synchronisation. Note: Same cookie should be used for same type of operations i.e. creation of multiple different devices. It's not adviced to combine different operations on the single device.</p>
  </dd>
  <dt>
    <p><strong>-u</strong>|<strong>--uuid</strong></p>
  </dt>
  <dd>
    <p>Specify the uuid.</p>
  </dd>
  <dt>
    <p><strong>-y</strong>|<strong>--yes</strong></p>
  </dt>
  <dd>
    <p>Answer yes to all prompts automatically.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>|<strong>--verbose</strong><strong>[</strong>-v<strong>|</strong>--verbose<strong>]</strong></p>
  </dt>
  <dd>
    <p>Produce additional output.</p>
  </dd>
  <dt>
    <p><strong>--verifyudev</strong></p>
  </dt>
  <dd>
    <p>If udev synchronisation is enabled, verify that udev operations get performed correctly and try to fix up the device nodes afterwards if not.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display the library and kernel driver version.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>clear</strong></p>
  </dt>
  <dd>
    <p><em>device_name</em></p><p>Destroys the table in the inactive table slot for device_name.</p>
  </dd>
  <dt>
    <p><strong>create</strong></p>
  </dt>
  <dd>
    <p><em>device_name</em> [<strong>-u</strong> <em>uuid</em>] [<strong>-n</strong>|<strong>--notable</strong>|<strong>--table</strong> &lt;<em></em><em>table</em>&gt;|<em>table_file</em>] [{<strong>--addnodeoncreate</strong>|<strong>--addnodeonresume</strong>}] [<strong>--readahead</strong> [<em>+</em>]&lt;<em>sectors</em>&gt;|<em>auto</em>|<em>none</em>]</p><p>Creates a device with the given name. If table_file or &lt;table&gt; is supplied, the table is loaded and made live. Otherwise a table is read from standard input unless <strong>--notable</strong> is used. The optional uuid can be used in place of device_name in subsequent dmsetup commands. If successful a device will appear as /dev/mapper/&lt;device-name&gt;. See below for information on the table format.</p>
  </dd>
  <dt>
    <p><strong>deps</strong></p>
  </dt>
  <dd>
    <p>[<strong>-o</strong> <em>options</em>] [<em>device_name</em>]</p><p>Outputs a list of devices referenced by the live table for the specified device. Device names on output can be customised by following options: devno (major and minor pair, used by default), blkdevname (block device name), devname (map name for device-mapper devices, equal to blkdevname otherwise).</p>
  </dd>
  <dt>
    <p><strong>help</strong></p>
  </dt>
  <dd>
    <p>[<strong>-c</strong>|<strong>-C</strong>|<strong>--columns</strong>]</p><p>Outputs a summary of the commands available, optionally including the list of report fields.</p>
  </dd>
  <dt>
    <p><strong>info</strong></p>
  </dt>
  <dd>
    <p>[<em>device_name</em>]</p><p>Outputs some brief information about the device in the form:</p><p> State: SUSPENDED|ACTIVE, READ-ONLY  Tables present: LIVE and/or INACTIVE  Open reference count  Last event sequence number (used by <strong>wait</strong>)  Major and minor device number  Number of targets in the live table  UUID</p>
  </dd>
  <dt>
    <p><strong>info</strong></p>
  </dt>
  <dd>
    <p><strong>-c</strong>|<strong>-C</strong>|<strong>--columns</strong> [<strong>--noheadings</strong>] [<strong>--separator</strong> <em>separator</em>] [<strong>-o</strong> <em>fields</em>] [<strong>-O</strong>|<strong>--sort</strong> <em>sort_fields</em>] [<em>device_name</em>]</p><p>Output you can customise. Fields are comma-separated and chosen from the following list: name, major, minor, attr, open, segments, events, uuid. Attributes are: (L)ive, (I)nactive, (s)uspended, (r)ead-only, read-(w)rite. Precede the list with '+' to append to the default selection of columns instead of replacing it. Precede any sort_field with - for a reverse sort on that column.</p>
  </dd>
  <dt>
    <p><strong>ls</strong></p>
  </dt>
  <dd>
    <p>[<strong>--target</strong> <em>target_type</em>] [<strong>--exec</strong> <em>command</em>] [<strong>--tree</strong>] [<strong>-o</strong> <em>options</em>]</p><p>List device names.  Optionally only list devices that have at least one target of the specified type.  Optionally execute a command for each device.  The device name is appended to the supplied command. Device names on output can be customised by following options: devno (major and minor pair, used by default), blkdevname (block device name), devname (map name for device-mapper devices, equal to blkdevname otherwise). <strong>--tree</strong> displays dependencies between devices as a tree. It accepts a comma-separate list of options. Some specify the information displayed against each node: device/nodevice; blkdevname; active, open, rw, uuid. Others specify how the tree is displayed: ascii, utf, vt100; compact, inverted, notrunc.</p><p><strong>load</strong>|<strong>reload</strong> <em>device_name</em> [<strong>--table</strong> &lt;<em>table</em>&gt;|<em>table_file</em>]</p><p>Loads &lt;table&gt; or table_file into the inactive table slot for device_name. If neither is supplied, reads a table from standard input.</p><p><strong>wipe_table</strong> <em>device_name</em></p><p>Wait for any I/O in-flight through the device to complete, then replace the table with a new table that fails any new I/O sent to the device.  If successful, this should release any devices held open by the device's table(s).</p><p><strong>message</strong> <em>device_name sector message</em></p><p>Send message to target. If sector not needed use 0.</p><p><strong>mknodes</strong> [<em>device_name</em>]</p><p>Ensure that the node in /dev/mapper for device_name is correct. If no device_name is supplied, ensure that all nodes in /dev/mapper correspond to mapped devices currently loaded by the device-mapper kernel driver, adding, changing or removing nodes as necessary.</p><p><strong>mangle</strong> [<em>device_name</em>]</p><p>Ensure existing device-mapper device name and UUID is in the correct mangled form containing only whitelisted characters (supported by udev) and do a rename if necessary. Any character not on the whitelist will be mangled based on the <strong>--manglename</strong> setting. Automatic rename works only for device names and not for device UUIDs because the kernel does not allow changing the UUID of active devices. Any incorrect UUIDs are reported only and they must be manually corrected by deactivating the device first and then reactivating it with proper mangling mode used (see also <strong>--manglename</strong>).</p><p><strong>remove</strong> [<strong>-f</strong>|<strong>--force</strong>] [<strong>--retry</strong>] [<strong>--deferred</strong>] <em>device_name</em></p><p>Removes a device.  It will no longer be visible to dmsetup.  Open devices cannot be removed, but adding <strong>--force</strong> will replace the table with one that fails all I/O.  <strong>--deferred</strong> will enable deferred removal of open devices - the device will be removed when the last user closes it. The deferred removal feature is supported since version 4.27.0 of the device-mapper driver available in upstream kernel version 3.13.  (Use <strong>dmsetup version</strong> to check this.)  If an attempt to remove a device fails, perhaps because a process run from a quick udev rule temporarily opened the device, the <strong>--retry</strong> option will cause the operation to be retried for a few seconds before failing. Do NOT combine <strong>--force</strong> and <strong>--udevcookie</strong>, as udev may start to process udev rules in the middle of error target replacement and result in nondeterministic result.</p><p><strong>remove_all</strong> [<strong>-f</strong>|<strong>--force</strong>] [<strong>--deferred</strong>]</p><p>Attempts to remove all device definitions i.e. reset the driver.  This also runs <strong>mknodes</strong> afterwards.  Use with care!  Open devices cannot be removed, but adding <strong>--force</strong> will replace the table with one that fails all I/O. <strong>--deferred</strong> will enable deferred removal of open devices - the device will be removed when the last user closes it.  The deferred removal feature is supported since version 4.27.0 of the device-mapper driver available in upstream kernel version 3.13.</p><p><strong>rename</strong> <em>device_name new_name</em></p><p>Renames a device.</p><p><strong>rename</strong> <em>device_name</em> <strong>--setuuid</strong> <em>uuid</em></p><p>Sets the uuid of a device that was created without a uuid. After a uuid has been set it cannot be changed.</p>
  </dd>
  <dt>
    <p><strong>resume</strong></p>
  </dt>
  <dd>
    <p><em>device_name</em> [{<strong>--addnodeoncreate</strong>|<strong>--addnodeonresume</strong>}] [<strong>--readahead</strong> [<em>+</em>]&lt;<em>sectors</em>&gt;|<em>auto</em>|<em>none</em>]</p><p>Un-suspends a device. If an inactive table has been loaded, it becomes live. Postponed I/O then gets re-queued for processing.</p>
  </dd>
  <dt>
    <p><strong>setgeometry </strong><em>device_name cyl head sect start</em></p>
  </dt>
  <dd>
    <p>Sets the device geometry to C/H/S.</p><p><strong>splitname</strong> <em>device_name</em> [<em>subsystem</em>]</p><p>Splits given device name into subsystem constituents. The default subsystem is LVM. LVM currently generates device names by concatenating the names of the Volume Group, Logical Volume and any internal Layer with a hyphen as separator. Any hyphens within the names are doubled to escape them. The precise encoding might change without notice in any future release, so we recommend you always decode using the current version of this command.</p>
  </dd>
  <dt>
    <p><strong>status</strong></p>
  </dt>
  <dd>
    <p>[<strong>--target</strong> <em>target_type</em>] [<strong>--noflush</strong>] [<em>device_name</em>]</p><p>Outputs status information for each of the device's targets. With <strong>--target</strong>, only information relating to the specified target type any is displayed.  With <strong>--noflush</strong>, the thin target (from version 1.3.0) doesn't commit any outstanding changes to disk before reporting its statistics.</p><p><strong>suspend</strong> [<strong>--nolockfs</strong>] [<strong>--noflush</strong>] <em>device_name</em></p><p>Suspends a device.  Any I/O that has already been mapped by the device but has not yet completed will be flushed.  Any further I/O to that device will be postponed for as long as the device is suspended. If there's a filesystem on the device which supports the operation, an attempt will be made to sync it first unless <strong>--nolockfs</strong> is specified. Some targets such as recent (October 2006) versions of multipath may support the <strong>--noflush</strong> option.  This lets outstanding I/O that has not yet reached the device to remain unflushed.</p>
  </dd>
  <dt>
    <p><strong>table</strong></p>
  </dt>
  <dd>
    <p>[<strong>--target</strong> <em>target_type</em>] [<strong>--showkeys</strong>] [<em>device_name</em>]</p><p>Outputs the current table for the device in a format that can be fed back in using the create or load commands. With <strong>--target</strong>, only information relating to the specified target type is displayed. Encryption keys are suppressed in the table output for the crypt target unless the <strong>--showkeys</strong> parameter is supplied.</p>
  </dd>
  <dt>
    <p><strong>targets</strong></p>
  </dt>
  <dd>
    <p>Displays the names and versions of the currently-loaded targets.</p><p><strong>udevcomplete</strong> <em>cookie</em></p><p>Wake any processes that are waiting for udev to complete processing the specified cookie.</p><p><strong>udevcomplete_all</strong> [<em>age_in_minutes</em>]</p><p>Remove all cookies older than the specified number of minutes. Any process waiting on a cookie will be resumed immediately.</p><p><strong>udevcookies</strong></p><p>List all existing cookies. Cookies are system-wide semaphores with keys prefixed by two predefined bytes (0x0D4D).</p>
  </dd>
  <dt>
    <p><strong>udevcreatecookie</strong></p>
  </dt>
  <dd>
    <p>Creates a new cookie to synchronize actions with udev processing. The output is a cookie value. Normally we don't need to create cookies since dmsetup creates and destroys them for each action automatically. However, we can generate one explicitly to group several actions together and use only one cookie instead. We can define a cookie to use for each relevant command by using <strong>--udevcookie</strong> option. Alternatively, we can export this value into the environment of the dmsetup process as <strong>DM_UDEV_COOKIE</strong> variable and it will be used automatically with all subsequent commands until it is unset. Invoking this command will create system-wide semaphore that needs to be cleaned up explicitly by calling udevreleasecookie command.</p><p><strong>udevflags</strong> <em>cookie</em></p><p>Parses given cookie value and extracts any udev control flags encoded. The output is in environment key format that is suitable for use in udev rules. If the flag has its symbolic name assigned then the output is DM_UDEV_FLAG_&lt;flag_name&gt;='1', DM_UDEV_FLAG&lt;flag_position&gt;='1' otherwise. Subsystem udev flags don't have symbolic names assigned and these ones are always reported as DM_SUBSYSTEM_UDEV_FLAG&lt;flag_position&gt;='1'. There are 16 udev flags altogether.</p><p><strong>udevreleasecookie</strong> [<em>cookie</em>]</p><p>Waits for all pending udev processing bound to given cookie value and clean up the cookie with underlying semaphore. If the cookie is not given directly, the command will try to use a value defined by <strong>DM_UDEV_COOKIE</strong> environment variable.</p>
  </dd>
  <dt>
    <p><strong>version</strong></p>
  </dt>
  <dd>
    <p>Outputs version information.</p>
  </dd>
  <dt>
    <p><strong>wait</strong></p>
  </dt>
  <dd>
    <p>[<strong>--noflush</strong>] <em>device_name</em> [<em>event_nr</em>]</p><p>Sleeps until the event counter for device_name exceeds event_nr. Use <strong>-v</strong> to see the event number returned. To wait until the next event is triggered, use <strong>info</strong> to find the last event number. With <strong>--noflush</strong>, the thin target (from version 1.3.0) doesn't commit any outstanding changes to disk before reporting its statistics.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TABLE FORMAT</h2>
        <div class="sectioncontent">
<p>Each line of the table specifies a single target and is of the form:</p><p><em>logical_start_sector num_sectors</em> <strong>target_type</strong> &lt;<em>target_args</em>&gt;</p><p>Simple target types and &lt;target_args&gt; include: <strong>linear</strong> <em>destination_device start_sector</em></p><p>The traditional linear mapping. <strong>striped</strong> <em>num_stripes chunk_size</em> [<em>destination</em> <em>start_sector</em>]+</p><p>Creates a striped area.</p><p>e.g. striped 2 32 /dev/hda1 0 /dev/hdb1 0 will map the first chunk (16k) as follows:</p><p> LV chunk 1 -&gt; hda1, chunk 1  LV chunk 2 -&gt; hdb1, chunk 1  LV chunk 3 -&gt; hda1, chunk 2  LV chunk 4 -&gt; hdb1, chunk 2  etc.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>error</strong></p>
  </dt>
  <dd>
    <p>Errors any I/O that goes to this area.  Useful for testing or for creating devices with holes in them.</p>
  </dd>
  <dt>
    <p><strong>zero</strong></p>
  </dt>
  <dd>
    <p>Returns blocks of zeroes on reads.  Any data written is discarded silently. This is a block-device equivalent of the /dev/zero character-device data sink described in <a href="../man4/null.4.html"><strong>null</strong>(4)</a>.</p>
  </dd>

</dl>
<p>More complex targets include:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>crypt</strong></p>
  </dt>
  <dd>
    <p>Transparent encryption of block devices using the kernel crypto API.</p>
  </dd>
  <dt>
    <p><strong>delay</strong></p>
  </dt>
  <dd>
    <p>Delays reads and/or writes to different devices.  Useful for testing.</p>
  </dd>
  <dt>
    <p><strong>flakey</strong></p>
  </dt>
  <dd>
    <p>Creates a similar mapping to the linear target but exhibits unreliable behaviour periodically. Useful for simulating failing devices when testing.</p>
  </dd>
  <dt>
    <p><strong>mirror</strong></p>
  </dt>
  <dd>
    <p>Mirrors data across two or more devices. <strong>multipath</strong></p><p>Mediates access through multiple paths to the same device.</p>
  </dd>
  <dt>
    <p><strong>raid</strong></p>
  </dt>
  <dd>
    <p>Offers an interface to the kernel's software raid driver, md. <strong>snapshot</strong></p><p>Supports snapshots of devices.</p>
  </dd>

</dl>
<p>To find out more about the various targets and their table formats and status lines, please read the files in the Documentation/device-mapper directory in the kernel source tree. (Your distribution might include a copy of this information in the documentation directory for the device-mapper package.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p># A table to join two disks together</p><p>0 1028160 linear /dev/hda 0</p><p>1028160 3903762 linear /dev/hdb 0</p><p># A table to stripe across the two disks,</p><p># and add the spare space from</p><p># hdb to the back of the volume</p><p>0 2056320 striped 2 32 /dev/hda 0 /dev/hdb 0</p><p>2056320 2875602 linear /dev/hdb 1028160</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>DM_DEV_DIR</strong></p>
  </dt>
  <dd>
    <p>The device directory name. Defaults to "/dev" and must be an absolute path.</p>
  </dd>
  <dt>
    <p><strong>DM_UDEV_COOKIE</strong></p>
  </dt>
  <dd>
    <p>A cookie to use for all relevant commands to synchronize with udev processing. It is an alternative to using <strong>--udevcookie</strong> option.</p>
  </dd>
  <dt>
    <p><strong>DM_DEFAULT_NAME_MANGLING_MODE</strong></p>
  </dt>
  <dd>
    <p>A default mangling mode. Defaults to "<em>auto</em>" and it is an alternative to using <strong>--manglename</strong> option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Original version: Joe Thornber (thornber@redhat.com)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dmsetup&hellip;</h2>
        <div class="sectioncontent">
<p>LVM2 resource page https://www.sourceware.org/lvm2/</p><p>Device-mapper resource page: http://sources.redhat.com/dm/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dmraid.8.html"><span aria-hidden="true">&larr;</span> dmraid.8: Discover, configure and activate software (ata)raid</a></li>
   <li class="next"><a href="dn2rdn.8.html">dn2rdn.8: Directory server script to check for outdated index versions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
