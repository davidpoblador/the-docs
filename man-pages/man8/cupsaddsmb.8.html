<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cupsaddsmb: Export printers to samba for windows clients</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Export printers to samba for windows clients">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cupsaddsmb (8) manual">
  <meta name="twitter:description" content="Export printers to samba for windows clients">
  <meta name="twitter:image" content="https://www.carta.tech/images/cups-client-cupsaddsmb-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/cupsaddsmb.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cupsaddsmb (8) manual" />
  <meta property="og:description" content="Export printers to samba for windows clients" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cups-client-cupsaddsmb-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cupsaddsmb<small> (8)</small></h1>
        <p class="lead">Export printers to samba for windows clients</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cupsaddsmb.8.html">
      <span itemprop="name">cupsaddsmb: Export printers to samba for windows clients</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cups-client/">
      <span itemprop="name">cups-client</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cupsaddsmb.8.html">
      <span itemprop="name">cupsaddsmb: Export printers to samba for windows clients</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cupsaddsmb</strong> [ -H <em>samba-server</em> ] [ -U <em>samba-user[%samba-password]</em> ] [ -h <em>cups-server[:port]</em> ] [ -v ] -a</p><p><strong>cupsaddsmb</strong> [ -H <em>samba-server</em> ] [ -U <em>samba-user[%samba-password]</em> ] [ -h <em>cups-server[:port]</em> ] [ -v ] printer [ ... printer ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>cupsaddsmb</em> exports printers to the SAMBA software (version 2.2.0 or higher) for use with Windows clients. Depending on the SAMBA configuration, you may need to provide a password to export the printers. This program requires the Windows printer driver files described below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><em>cupsaddsmb</em> supports the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p>-H samba-server</p>
  </dt>
  <dd>
    <p>Specifies the SAMBA server which defaults to the CUPS server.</p>
  </dd>
  <dt>
    <p>-U samba-user[%samba-password]</p>
  </dt>
  <dd>
    <p>Specifies the SAMBA print admin username which defaults to your current username. If the username contains a percent (%) character, then the text following the percent is treated as the SAMBA password to use.</p>
  </dd>
  <dt>
    <p>-a</p>
  </dt>
  <dd>
    <p>Exports all known printers. Otherwise only the named printers are exported.</p>
  </dd>
  <dt>
    <p>-h cups-server[:port]</p>
  </dt>
  <dd>
    <p>Specifies a different CUPS server to use.</p>
  </dd>
  <dt>
    <p>-v</p>
  </dt>
  <dd>
    <p>Specifies that verbose information should be shown. This is useful for debugging SAMBA configuration problems.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SAMBA CONFIGURATION</h2>
        <div class="sectioncontent">
<p><em>cupsaddsmb</em> uses the new RPC-based printing support in SAMBA 2.2.x to provide printer drivers and PPD files to Windows client machines. In order to use this functionality, you must first configure the SAMBA <a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a></em> file to support printing through CUPS and provide a printer driver download share, as follows:</p>
<pre>
    [global]
	load printers = yes
	printing = cups
	printcap name = cups

    [printers]
	comment = All Printers
	path = /var/spool/samba
	browseable = no
	public = yes
	guest ok = yes
	writable = no
	printable = yes

    [print$]
	comment = Printer Drivers
	path = /etc/samba/drivers
	browseable = yes
	guest ok = no
	read only = yes
	write list = root
</pre>
<p>This configuration assumes a FHS-compliant installation of SAMBA; adjust the [printers] and [print$] share paths accordingly on your system as needed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MICROSOFT POSTSCRIPT DRIVERS FOR WINDOWS</h2>
        <div class="sectioncontent">
<p>The base driver for Windows 2000 and higher is the Microsoft PostScript driver, which is available on any system running Windows 2000 or higher in the %WINDIR%&#92;SYSTEM32&#92;SPOOL&#92;DRIVERS&#92;W32X86&#92;3 folder for 32-bit drivers and %WINDIR%&#92;SYSTEM32&#92;SPOOL&#92;DRIVERS&#92;X64&#92;3 folder for 64-bit drivers.</p><p>However, currently only Windows 2000 and higher is supported by the Microsoft driver, so you will also need to get the Adobe driver to support Windows 95, 98, and Me clients. The Adobe and Microsoft drivers for Windows 2000 are identical.</p><p>Once you have extracted the driver files, copy the 32-bit drivers to the <em>/usr/share/cups/drivers</em> directory and the 64-bit drivers to the <em>/usr/share/cups/drivers/x64</em> directory exactly as named below:</p>
<pre>
    [Windows 2000 and higher]
    ps5ui.dll
    pscript.hlp
    pscript.ntf
    pscript5.dll
</pre>
<p><strong>Note:</strong> Unlike Windows, case is significant - make sure that you use the lowercase filenames shown above, otherwise <em>cupsaddsmb</em> will fail to export the drivers.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ADOBE POSTSCRIPT DRIVERS FOR WINDOWS 95, 98, AND ME</h2>
        <div class="sectioncontent">
<p><em>cupsaddsmb</em> can use the Adobe PostScript printer driver for Windows 95, 98, and ME, which are available for download from the Adobe web site (http://www.adobe.com).</p><p>The Adobe driver does not support the page-label, job-billing, or job-hold-until options.</p><p>Once you have installed the driver on a Windows system, copy the following files to the <em>/usr/share/cups/drivers</em> directory exactly as named below:</p>
<pre>
    [Windows 95, 98, and Me]
    ADFONTS.MFM
    ADOBEPS4.DRV
    ADOBEPS4.HLP
    ICONLIB.DLL
    PSMON.DLL
</pre>
<p><strong>Note:</strong> Unlike Windows, case is significant - make sure that you use the UPPERCASE filenames shown above, otherwise <em>cupsaddsmb</em> will fail to export the drivers.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KNOWN ISSUES</h2>
        <div class="sectioncontent">
<p>Getting the full set of Windows driver files should be easier.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cupsaddsmb&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/smbd.8.html"><strong>smbd</strong>(8)</a></em>, <a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a></em>, http://localhost:631/help</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2007-2013 by Apple Inc.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cupsaccept.8.html"><span aria-hidden="true">&larr;</span> cupsaccept.8: Accept/reject jobs sent to a destination</a></li>
   <li class="next"><a href="cupsctl.8.html">cupsctl.8: Configure cupsd.conf options <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
