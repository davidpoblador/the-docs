<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ovs-vswitchd: Open vswitch daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Open vswitch daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ovs-vswitchd (8) manual">
  <meta name="twitter:description" content="Open vswitch daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/openvswitch-switch-ovs-vswitchd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ovs-vswitchd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ovs-vswitchd (8) manual" />
  <meta property="og:description" content="Open vswitch daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/openvswitch-switch-ovs-vswitchd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ovs-vswitchd<small> (8)</small></h1>
        <p class="lead">Open vswitch daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ovs-vswitchd.8.html">
      <span itemprop="name">ovs-vswitchd: Open vswitch daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openvswitch-switch/">
      <span itemprop="name">openvswitch-switch</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ovs-vswitchd.8.html">
      <span itemprop="name">ovs-vswitchd: Open vswitch daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ovs-vswitchd </strong>[<em>database</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A daemon that manages and controls any number of Open vSwitch switches on the local machine.</p><p>The <em>database</em> argument specifies how <strong>ovs-vswitchd</strong> connects to <strong>ovsdb-server</strong>.  The default is <strong>unix:/var/run/openvswitch/db.sock</strong>. The following forms are accepted:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>ssl:</strong><em>ip</em><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>The specified SSL <em>port</em> on the host at the given <em>ip</em>, which must be expressed as an IP address (not a DNS name) in IPv4 or IPv6 address format.  If <em>ip</em> is an IPv6 address, then wrap <em>ip</em> with square brackets, e.g.: <strong>ssl:[::1]:6632</strong>. The <strong>--private-key</strong>, <strong>--certificate</strong>, and <strong>--ca-cert</strong> options are mandatory when this form is used.</p>
  </dd>
  <dt>
    <strong>tcp:</strong><em>ip</em><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>Connect to the given TCP <em>port</em> on <em>ip</em>, where <em>ip</em> can be IPv4 or IPv6 address. If <em>ip</em> is an IPv6 address, then wrap <em>ip</em> with square brackets, e.g.: <strong>tcp:[::1]:6632</strong>.</p>
  </dd>
  <dt>
    <strong>unix:</strong><em>file</em>
  </dt>
  <dd>
    <p>On POSIX, connect to the Unix domain server socket named <em>file</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows, connect to a localhost TCP port whose value is written in <em>file</em>.</p>
  </dd>
  <dt>
    <strong>pssl:</strong><em>port</em>[<strong>:</strong><em>ip</em>]
  </dt>
  <dd>
    <p>Listen on the given SSL <em>port</em> for a connection.  By default, connections are not bound to a particular local IP address and it listens only on IPv4 (but not IPv6) addresses, but specifying <em>ip</em> limits connections to those from the given <em>ip</em>, either IPv4 or IPv6 address.  If <em>ip</em> is an IPv6 address, then wrap <em>ip</em> with square brackets, e.g.: <strong>pssl:6632:[::1]</strong>.  The <strong>--private-key</strong>, <strong>--certificate</strong>, and <strong>--ca-cert</strong> options are mandatory when this form is used.</p>
  </dd>
  <dt>
    <strong>ptcp:</strong><em>port</em>[<strong>:</strong><em>ip</em>]
  </dt>
  <dd>
    <p>Listen on the given TCP <em>port</em> for a connection.  By default, connections are not bound to a particular local IP address and it listens only on IPv4 (but not IPv6) addresses, but <em>ip</em> may be specified to listen only for connections to the given <em>ip</em>, either IPv4 or IPv6 address.  If <em>ip</em> is an IPv6 address, then wrap <em>ip</em> with square brackets, e.g.: <strong>ptcp:6632:[::1]</strong>.</p>
  </dd>
  <dt>
    <strong>punix:</strong><em>file</em>
  </dt>
  <dd>
    <p>On POSIX, listen on the Unix domain server socket named <em>file</em> for a connection.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows, listen on a kernel chosen TCP port on the localhost. The kernel chosen TCP port value is written in <em>file</em>.</p>
  </dd>

</dl>
<p><strong>ovs-vswitchd</strong> retrieves its configuration from <em>database</em> at startup.  It sets up Open vSwitch datapaths and then operates switching across each bridge described in its configuration files.  As the database changes, <strong>ovs-vswitchd</strong> automatically updates its configuration to match.</p><p><strong>ovs-vswitchd</strong> switches may be configured with any of the following features:</p><ul>
<li><p>L2 switching with MAC learning.</p></li><li><p>NIC bonding with automatic fail-over and source MAC-based TX load balancing ("SLB").</p></li><li><p>802.1Q VLAN support.</p></li><li><p>Port mirroring, with optional VLAN tagging.</p></li><li><p>NetFlow v5 flow logging.</p></li><li><p>sFlow(R) monitoring.</p></li><li><p>Connectivity to an external OpenFlow controller, such as NOX.</p></li>
</ul><p>Only a single instance of <strong>ovs-vswitchd</strong> is intended to run at a time. A single <strong>ovs-vswitchd</strong> can manage any number of switch instances, up to the maximum number of supported Open vSwitch datapaths.</p><p><strong>ovs-vswitchd</strong> does all the necessary management of Open vSwitch datapaths itself.  Thus, external tools, such <a href="../man8/ovs-dpctl.8.html"><strong>ovs-dpctl</strong>(8)</a>, are not needed for managing datapaths in conjunction with <strong>ovs-vswitchd</strong>, and their use to modify datapaths when <strong>ovs-vswitchd</strong> is running can interfere with its operation.  (<strong>ovs-dpctl</strong> may still be useful for diagnostics.)</p><p>An Open vSwitch datapath kernel module must be loaded for <strong>ovs-vswitchd</strong> to be useful.  Please refer to the <strong>INSTALL.Linux</strong> file included in the Open vSwitch distribution for instructions on how to build and load the Open vSwitch kernel module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>--mlockall</strong>
  </dt>
  <dd>
    <p>Causes <strong>ovs-vswitchd</strong> to call the <strong>mlockall()</strong> function, to attempt to lock all of its process memory into physical RAM, preventing the kernel from paging any of its memory to disk.  This helps to avoid networking interruptions due to system memory pressure.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Some systems do not support <strong>mlockall()</strong> at all, and other systems only allow privileged users, such as the superuser, to use it. <strong>ovs-vswitchd</strong> emits a log message if <strong>mlockall()</strong> is unavailable or unsuccessful.</p>
  </dd>

</dl>
<h3>Daemon Options</h3>
<p>The following options are valid on POSIX based platforms.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--pidfile</strong>[<strong>=</strong><em>pidfile</em>]</p>
  </dt>
  <dd>
    <p>Causes a file (by default, <strong>\*(PN.pid</strong>) to be created indicating the PID of the running process.  If the <em>pidfile</em> argument is not specified, or if it does not begin with <strong>/</strong>, then it is created in <strong>/var/run/openvswitch</strong>.</p><ul>
<li><p>If <strong>--pidfile</strong> is not specified, no pidfile is created.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--overwrite-pidfile</strong></p>
  </dt>
  <dd>
    <p>By default, when <strong>--pidfile</strong> is specified and the specified pidfile already exists and is locked by a running process, <strong>\*(PN</strong> refuses to start.  Specify <strong>--overwrite-pidfile</strong> to cause it to instead overwrite the pidfile.</p><ul>
<li><p>When <strong>--pidfile</strong> is not specified, this option has no effect.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--detach</strong></p>
  </dt>
  <dd>
    <p>Causes <strong>\*(PN</strong> to detach itself from the foreground session and run as a background process. \*(DD</p>
  </dd>
  <dt>
    <p><strong>--monitor</strong></p>
  </dt>
  <dd>
    <p>Creates an additional process to monitor the <strong>\*(PN</strong> daemon.  If the daemon dies due to a signal that indicates a programming error (<strong>SIGABRT</strong>, <strong>SIGALRM</strong>, <strong>SIGBUS</strong>, <strong>SIGFPE</strong>, <strong>SIGILL</strong>, <strong>SIGPIPE</strong>, <strong>SIGSEGV</strong>, <strong>SIGXCPU</strong>, or <strong>SIGXFSZ</strong>) then the monitor process starts a new copy of it.  If the daemon dies or exits for another reason, the monitor process exits.</p><ul>
<li><p>This option is normally used with <strong>--detach</strong>, but it also functions without it.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--no-chdir</strong></p>
  </dt>
  <dd>
    <p>By default, when <strong>--detach</strong> is specified, <strong>\*(PN</strong> changes its current working directory to the root directory after it detaches.  Otherwise, invoking <strong>\*(PN</strong> from a carelessly chosen directory would prevent the administrator from unmounting the file system that holds that directory.</p><ul>
<li><p>Specifying <strong>--no-chdir</strong> suppresses this behavior, preventing <strong>\*(PN</strong> from changing its current working directory.  This may be useful for collecting core files, since it is common behavior to write core dumps into the current working directory and the root directory is not a good directory to use.</p></li><li><p>This option has no effect when <strong>--detach</strong> is not specified.</p></li>
</ul>
  </dd>

</dl>

<h3>Service Options</h3>
<p>The following options are valid only on Windows platform.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--service</strong></p>
  </dt>
  <dd>
    <p>Causes <strong>\*(PN</strong> to run as a service in the background. The service should already have been created through external tools like <strong>SC.exe</strong>.</p>
  </dd>
  <dt>
    <p><strong>--service-monitor</strong></p>
  </dt>
  <dd>
    <p>Causes the <strong>\*(PN</strong> service to be automatically restarted by the Windows services manager if the service dies or exits for unexpected reasons.</p><ul>
<li><p>When <strong>--service</strong> is not specified, this option has no effect.</p></li>
</ul>
  </dd>

</dl>

<h3>Public Key Infrastructure Options</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>-p</strong> <em>privkey.pem</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Specifies a PEM file containing the private key used as <strong>\*(PN</strong>'s identity for outgoing SSL connections.</p>
  </dd>
  <dt>
    <strong>-c</strong> <em>cert.pem</em>
  </dt>
  <dd>
    <p>Specifies a PEM file containing a certificate that certifies the private key specified on <strong>-p</strong> or <strong>--private-key</strong> to be trustworthy.  The certificate must be signed by the certificate authority (CA) that the peer in SSL connections will use to verify it.</p>
  </dd>
  <dt>
    <strong>-C</strong> <em>cacert.pem</em>
  </dt>
  <dd>
    <p>Specifies a PEM file containing the CA certificate that <strong>\*(PN</strong> should use to verify certificates presented to it by SSL peers.  (This may be the same certificate that SSL peers use to verify the certificate specified on <strong>-c</strong> or <strong>--certificate</strong>, or it may be a different one, depending on the PKI design in use.)</p>
  </dd>
  <dt>
    <strong>-C none</strong>
  </dt>
  <dd>
    <p>Disables verification of certificates presented by SSL peers.  This introduces a security risk, because it means that certificates cannot be verified to be those of known trusted hosts.</p>
  </dd>
  <dt>
    <strong>--bootstrap-ca-cert=</strong><em>cacert.pem</em>
  </dt>
  <dd>
    <p>When <em>cacert.pem</em> exists, this option has the same effect as <strong>-C</strong> or <strong>--ca-cert</strong>.  If it does not exist, then <strong>\*(PN</strong> will attempt to obtain the CA certificate from the SSL peer on its first SSL connection and save it to the named PEM file.  If it is successful, it will immediately drop the connection and reconnect, and from then on all SSL connections must be authenticated by a certificate signed by the CA certificate thus obtained.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>This option exposes the SSL connection to a man-in-the-middle</strong> attack obtaining the initial CA certificate, but it may be useful for bootstrapping.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This option is only useful if the SSL peer sends its CA certificate as part of the SSL certificate chain.  The SSL protocol does not require the server to send the CA certificate.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This option is mutually exclusive with <strong>-C</strong> and <strong>--ca-cert</strong>.</p>
  </dd>
  <dt>
    <strong>-v</strong>[<em>spec</em>]
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Sets logging levels.  Without any <em>spec</em>, sets the log level for every module and facility to <strong>dbg</strong>.  Otherwise, <em>spec</em> is a list of words separated by spaces or commas or colons, up to one from each category below:</p>
<dl class='dl-vertical'>
  <dt>
    *
  </dt>
  <dd>
    <p>A valid module name, as displayed by the <strong>vlog/list</strong> command on <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a>, limits the log level change to the specified module.</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>syslog</strong>, <strong>console</strong>, or <strong>file</strong>, to limit the log level change to only to the system log, to the console, or to a file, respectively.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows platform, <strong>syslog</strong> is accepted as a word and is only useful along with the <strong>--syslog-target</strong> option (the word has no effect otherwise).</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>off</strong>, <strong>emer</strong>, <strong>err</strong>, <strong>warn</strong>, <strong>info</strong>, or <strong>dbg</strong>, to control the log level.  Messages of the given severity or higher will be logged, and messages of lower severity will be filtered out.  <strong>off</strong> filters out all messages.  See <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a definition of each log level.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Case is not significant within <em>spec</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Regardless of the log levels set for <strong>file</strong>, logging to a file will not take place unless <strong>--log-file</strong> is also specified (see below).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For compatibility with older versions of OVS, <strong>any</strong> is accepted as a word but has no effect.</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>Sets the maximum logging verbosity level, equivalent to <strong>--verbose=dbg</strong>.</p>
  </dd>
  <dt>
    <strong>-vPATTERN:</strong><em>facility</em><strong>:</strong><em>pattern</em>
  </dt>
  <dd>
    <p>Sets the log pattern for <em>facility</em> to <em>pattern</em>.  Refer to <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a description of the valid syntax for <em>pattern</em>.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--log-file</strong>[<strong>=</strong><em>file</em>]</p>
  </dt>
  <dd>
    <p>Enables logging to a file.  If <em>file</em> is specified, then it is used as the exact name for the log file.  The default log file name used if <em>file</em> is omitted is <strong>/var/log/openvswitch/\*(PN.log</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>--syslog-target=</strong><em>host</em><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>Send syslog messages to UDP <em>port</em> on <em>host</em>, in addition to the system syslog.  The <em>host</em> must be a numerical IP address, not a hostname.</p>
  </dd>
  <dt>
    <strong>-h</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Prints a brief help message to the console.</p>
  </dd>
  <dt>
    <strong>-V</strong>
  </dt>
  <dd>
    <p>Prints version information to the console.</p>
  </dd>

</dl>

  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RUNTIME MANAGEMENT COMMANDS</h2>
        <div class="sectioncontent">
<p><a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> can send commands to a running <strong>ovs-vswitchd</strong> process.  The currently supported commands are described below.  The command descriptions assume an understanding of how to configure Open vSwitch.</p><h3>GENERAL COMMANDS</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>exit</strong>
  </dt>
  <dd>
    <p>Causes <strong>ovs-vswitchd</strong> to gracefully terminate.</p>
  </dd>
  <dt>
    <strong>qos/show</strong> <em>interface</em>
  </dt>
  <dd>
    <p>Queries the kernel for Quality of Service configuration and statistics associated with the given <em>interface</em>.</p>
  </dd>
  <dt>
    <strong>bfd/show</strong> [<em>interface</em>]
  </dt>
  <dd>
    <p>Displays detailed information about Bidirectional Forwarding Detection configured on <em>interface</em>.  If <em>interface</em> is not specified, then displays detailed information about all interfaces with BFD enabled.</p>
  </dd>
  <dt>
    <strong>bfd/set-forwarding</strong> [<em>interface</em>] <em>status</em>
  </dt>
  <dd>
    <p>Force the fault status of the BFD module on <em>interface</em> (or all interfaces if none is given) to be <em>status</em>.  <em>status</em> can be "true", "false", or "normal" which reverts to the standard behavior.</p>
  </dd>
  <dt>
    <strong>cfm/show</strong> [<em>interface</em>]
  </dt>
  <dd>
    <p>Displays detailed information about Connectivity Fault Management configured on <em>interface</em>.  If <em>interface</em> is not specified, then displays detailed information about all interfaces with CFM enabled.</p>
  </dd>
  <dt>
    <strong>cfm/set-fault</strong> [<em>interface</em>] <em>status</em>
  </dt>
  <dd>
    <p>Force the fault status of the CFM module on <em>interface</em> (or all interfaces if none is given) to be <em>status</em>.  <em>status</em> can be "true", "false", or "normal" which reverts to the standard behavior.</p>
  </dd>
  <dt>
    <strong>stp/tcn</strong> [<em>bridge</em>]
  </dt>
  <dd>
    <p>Forces a topology change event on <em>bridge</em> if it's running STP.  This may cause it to send Topology Change Notifications to its peers and flush its MAC table..  If no <em>bridge</em> is given, forces a topology change event on all bridges.</p>
  </dd>

</dl>

<h3>BRIDGE COMMANDS</h3>
<p>These commands manage bridges.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>fdb/flush</strong> [<em>bridge</em>]
  </dt>
  <dd>
    <p>Flushes <em>bridge</em> MAC address learning table, or all learning tables if no <em>bridge</em> is given.</p>
  </dd>
  <dt>
    <strong>fdb/show</strong> <em>bridge</em>
  </dt>
  <dd>
    <p>Lists each MAC address/VLAN pair learned by the specified <em>bridge</em>, along with the port on which it was learned and the age of the entry, in seconds.</p>
  </dd>
  <dt>
    <strong>bridge/reconnect</strong> [<em>bridge</em>]
  </dt>
  <dd>
    <p>Makes <em>bridge</em> drop all of its OpenFlow controller connections and reconnect.  If <em>bridge</em> is not specified, then all bridges drop their controller connections and reconnect.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This command might be useful for debugging OpenFlow controller issues.</p>
  </dd>
  <dt>
    <strong>bridge/dump-flows</strong> <em>bridge</em>
  </dt>
  <dd>
    <p>Lists all flows in <em>bridge</em>, including those normally hidden to commands such as <strong>ovs-ofctl dump-flows</strong>.  Flows set up by mechanisms such as in-band control and fail-open are hidden from the controller since it is not allowed to modify or override them.</p>
  </dd>

</dl>

<h3>BOND COMMANDS</h3>
<p>These commands manage bonded ports on an Open vSwitch's bridges.  To understand some of these commands, it is important to understand a detail of the bonding implementation called ``source load balancing'' (SLB).  Instead of directly assigning Ethernet source addresses to slaves, the bonding implementation computes a function that maps an 48-bit Ethernet source addresses into an 8-bit value (a ``MAC hash'' value).  All of the Ethernet addresses that map to a single 8-bit value are then assigned to a single slave.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>bond/list</strong>
  </dt>
  <dd>
    <p>Lists all of the bonds, and their slaves, on each bridge.</p>
  </dd>
  <dt>
    <strong>bond/show</strong> [<em>port</em>]
  </dt>
  <dd>
    <p>Lists all of the bond-specific information (updelay, downdelay, time until the next rebalance) about the given bonded <em>port</em>, or all bonded ports if no <em>port</em> is given.  Also lists information about each slave: whether it is enabled or disabled, the time to completion of an updelay or downdelay if one is in progress, whether it is the active slave, the hashes assigned to the slave.  Any LACP information related to this bond may be found using the <strong>lacp/show</strong> command.</p>
  </dd>
  <dt>
    <strong>bond/migrate</strong> <em>port</em> <em>hash</em> <em>slave</em>
  </dt>
  <dd>
    <p>Only valid for SLB bonds.  Assigns a given MAC hash to a new slave. <em>port</em> specifies the bond port, <em>hash</em> the MAC hash to be migrated (as a decimal number between 0 and 255), and <em>slave</em> the new slave to be assigned.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The reassignment is not permanent: rebalancing or fail-over will cause the MAC hash to be shifted to a new slave in the usual manner.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>A MAC hash cannot be migrated to a disabled slave.</p>
  </dd>
  <dt>
    <strong>bond/set-active-slave</strong> <em>port</em> <em>slave</em>
  </dt>
  <dd>
    <p>Sets <em>slave</em> as the active slave on <em>port</em>.  <em>slave</em> must currently be enabled.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The setting is not permanent: a new active slave will be selected if <em>slave</em> becomes disabled.</p>
  </dd>
  <dt>
    <strong>bond/enable-slave</strong> <em>port</em> <em>slave</em>
  </dt>
  <dd>
    <p>Enables (or disables) <em>slave</em> on the given bond <em>port</em>, skipping any updelay (or downdelay).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This setting is not permanent: it persists only until the carrier status of <em>slave</em> changes.</p>
  </dd>
  <dt>
    <strong>bond/hash</strong> <em>mac</em> [<em>vlan</em>] [<em>basis</em>]
  </dt>
  <dd>
    <p>Returns the hash value which would be used for <em>mac</em> with <em>vlan</em> and <em>basis</em> if specified.</p>
  </dd>
  <dt>
    <strong>lacp/show</strong> [<em>port</em>]
  </dt>
  <dd>
    <p>Lists all of the LACP related information about the given <em>port</em>: active or passive, aggregation key, system id, and system priority.  Also lists information about each slave: whether it is enabled or disabled, whether it is attached or detached, port id and priority, actor information, and partner information.  If <em>port</em> is not specified, then displays detailed information about all interfaces with CFM enabled.</p>
  </dd>

</dl>

<h3>DATAPATH COMMANDS</h3>
<p>These commands manage logical datapaths.  They are are similar to the equivalent <strong>ovs-dpctl</strong> commands.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>dpif/dump-dps</strong>
  </dt>
  <dd>
    <p>Prints the name of each configured datapath on a separate line.</p>
  </dd>
  <dt>
    <strong>dpif/show</strong>
  </dt>
  <dd>
    <p>Prints a summary of configured datapaths, including statistics and a list of connected ports.  The port information includes the OpenFlow port number, datapath port number, and the type.  (The local port is identified as OpenFlow port 65534.)</p>
  </dd>
  <dt>
    <strong>dpif/dump-flows</strong> [<strong>-m</strong>] <em>dp</em>
  </dt>
  <dd>
    <p>Prints to the console all flow entries in datapath <em>dp</em>'s flow table. Without <strong>-m</strong>, output omits match fields that a flow wildcards entirely; with <strong>-m</strong> output includes all wildcarded fields.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This command is primarily useful for debugging Open vSwitch.  The flow table entries that it displays are not OpenFlow flow entries.  Instead, they are different and considerably simpler flows maintained by the datapath module.  If you wish to see the OpenFlow flow entries, use <strong>ovs-ofctl dump-flows</strong>.</p>
  </dd>
  <dt>
    <strong>dpif/del-flows </strong><em>dp</em>
  </dt>
  <dd>
    <p>Deletes all flow entries from datapath <em>dp</em>'s flow table and underlying datapath implementation (e.g., kernel datapath module).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This command is primarily useful for debugging Open vSwitch.  As discussed in <strong>dpif/dump-flows</strong>, these entries are not OpenFlow flow entries.</p>
  </dd>

</dl>

<h3>OFPROTO COMMANDS</h3>
<p>These commands manage the core OpenFlow switch implementation (called <strong>ofproto</strong>).</p>
<dl class='dl-vertical'>
  <dt>
    <strong>ofproto/list</strong>
  </dt>
  <dd>
    <p>Lists the names of the running ofproto instances.  These are the names that may be used on <strong>ofproto/trace</strong>.</p>
  </dd>
  <dt>
    <strong>ofproto/trace</strong> [<em>dpname</em>] <em>odp_flow</em> [<strong>-generate </strong>| <em>packet</em>]
  </dt>
  <dd>
    <p>Traces the path of an imaginary packet through <em>switch</em> and reports the path that it took.  The initial treatment of the packet varies based on the command:</p><ul>
<li><p><strong>ofproto/trace</strong> looks the packet up in the OpenFlow flow table, as if the packet had arrived on an OpenFlow port.</p></li><li><p><strong>ofproto/trace-packet-out</strong> applies the specified OpenFlow <em>actions</em>, as if the packet, flow, and actions had been specified in an OpenFlow ``packet-out'' request.</p></li>
</ul>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The packet's headers (e.g. source and destination) and metadata (e.g. input port), together called its ``flow,'' are usually all that matter for the purpose of tracing a packet.  You can specify the flow in the following ways:</p>
<dl class='dl-vertical'>
  <dt>
    <em>dpname</em> <em>odp_flow</em>
  </dt>
  <dd>
    <p><em>odp_flow</em> is a flow in the form printed by <a href="../man8/ovs-dpctl.8.html"><strong>ovs-dpctl</strong>(8)</a>'s <strong>dump-flows</strong> command.  If all of your bridges have the same type, which is the common case, then you can omit <em>dpname</em>, but if you have bridges of different types (say, both <strong>ovs-netdev</strong> and <strong>ovs-system</strong>), then you need to specify a <em>dpname</em> to disambiguate.</p>
  </dd>
  <dt>
    <em>bridge</em> <em>br_flow</em>
  </dt>
  <dd>
    <p><em>br_flow</em> is a flow in the form similar to that accepted by <a href="../man8/ovs-ofctl.8.html"><strong>ovs-ofctl</strong>(8)</a>'s <strong>add-flow</strong> command.  (This is not an OpenFlow flow: besides other differences, it never contains wildcards.)  <em>bridge</em> names of the bridge through which <em>br_flow</em> should be traced.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Most commonly, one specifies only a flow, using one of the forms above, but sometimes one might need to specify an actual packet instead of just a flow:</p>
<dl class='dl-vertical'>
  <dt>
    Side effects.
  </dt>
  <dd>
    <p>Some actions have side effects.  For example, the <strong>normal</strong> action can update the MAC learning table, and the <strong>learn</strong> action can change OpenFlow tables.  The trace commands only perform side effects when a packet is specified.  If you want side effects to take place, then you must supply a packet.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>(Output actions are obviously side effects too, but the trace commands never execute them, even when one specifies a packet.)</p>
  </dd>
  <dt>
    Incomplete information.
  </dt>
  <dd>
    <p>Most of the time, Open vSwitch can figure out everything about the path of a packet using just the flow, but in some special circumstances it needs to look at parts of the packet that are not included in the flow.  When this is the case, and you do not supply a packet, then a trace command will tell you it needs a packet.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If you wish to include a packet as part of a trace operation, there are two ways to do it:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-generate</strong>
  </dt>
  <dd>
    <p>This option, added to one of the ways to specify a flow already described, causes Open vSwitch to internally generate a packet with the flow described and then to use that packet.  If your goal is to execute side effects, then <strong>-generate</strong> is the easiest way to do it, but <strong>-generate</strong> is not a good way to fill in incomplete information, because it generates packets based on only the flow information, which means that the packets really do not have any more information than the flow.</p>
  </dd>
  <dt>
    <em>packet</em>
  </dt>
  <dd>
    <p>This form supplies an explicit <em>packet</em> as a sequence of hex digits.  An Ethernet frame is at least 14 bytes long, so there must be at least 28 hex digits.  Obviously, it is inconvenient to type in the hex digits by hand, so the <a href="../man1/ovs-pcap.1.html"><strong>ovs-pcap</strong>(1)</a> and <a href="../man1/ovs-tcpundump.1.html"><strong>ovs-tcpundump</strong>(1)</a> utilities provide easier ways.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>With this form, packet headers are extracted directly from <em>packet</em>, so the <em>odp_flow</em> or <em>br_flow</em> should specify only metadata. The metadata can be:</p>
<dl class='dl-vertical'>
  <dt>
    <em>skb_priority</em>
  </dt>
  <dd>
    <p>Packet QoS priority.</p>
  </dd>
  <dt>
    <em>pkt_mark</em>
  </dt>
  <dd>
    <p>Mark of the packet.</p>
  </dd>
  <dt>
    <em>tun_id</em>
  </dt>
  <dd>
    <p>The tunnel ID on which the packet arrived.</p>
  </dd>
  <dt>
    <em>in_port</em>
  </dt>
  <dd>
    <p>The port on which the packet arrived.</p>
  </dd>

</dl>

  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The in_port value is kernel datapath port number for the first format and OpenFlow port number for the second format. The numbering of these two types of port usually differs and there is no relationship.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>ofproto-trace-packet-out</strong> accepts an additional <strong>-consistent</strong> option.  With this option specified, the command rejects <em>actions</em> that are inconsistent with the specified packet. (An example of an inconsistency is attempting to strip the VLAN tag from a packet that does not have a VLAN tag.)  Open vSwitch ignores most forms of inconsistency in OpenFlow 1.0 and rejects inconsistencies in later versions of OpenFlow.  The option is necessary because the command does not ordinarily imply a particular OpenFlow version.  One exception is that, when <em>actions</em> includes an action that only OpenFlow 1.1 and later supports (such as <strong>push_vlan</strong>), <strong>-consistent</strong> is automatically enabled.</p>
  </dd>
  <dt>
    <strong>ofproto/self-check</strong> [<em>switch</em>]
  </dt>
  <dd>
    <p>Runs an internal consistency check on <em>switch</em>, if specified, otherwise on all ofproto instances, and responds with a brief summary of the results.  If the summary reports any errors, then the Open vSwitch logs should contain more detailed information.  Please pass along errors reported by this command to the Open vSwitch developers as bugs.</p>
  </dd>

</dl>

<h3>VLOG COMMANDS</h3>
<p>These commands manage <strong>\*(PN</strong>'s logging settings.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>vlog/set</strong> [<em>spec</em>]
  </dt>
  <dd>
    <p>Sets logging levels.  Without any <em>spec</em>, sets the log level for every module and facility to <strong>dbg</strong>.  Otherwise, <em>spec</em> is a list of words separated by spaces or commas or colons, up to one from each category below:</p>
<dl class='dl-vertical'>
  <dt>
    *
  </dt>
  <dd>
    <p>A valid module name, as displayed by the <strong>vlog/list</strong> command on <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a>, limits the log level change to the specified module.</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>syslog</strong>, <strong>console</strong>, or <strong>file</strong>, to limit the log level change to only to the system log, to the console, or to a file, respectively.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows platform, <strong>syslog</strong> is accepted as a word and is only useful along with the <strong>--syslog-target</strong> option (the word has no effect otherwise).</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>off</strong>, <strong>emer</strong>, <strong>err</strong>, <strong>warn</strong>, <strong>info</strong>, or <strong>dbg</strong>, to control the log level.  Messages of the given severity or higher will be logged, and messages of lower severity will be filtered out.  <strong>off</strong> filters out all messages.  See <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a definition of each log level.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Case is not significant within <em>spec</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Regardless of the log levels set for <strong>file</strong>, logging to a file will not take place unless <strong>\*(PN</strong> was invoked with the <strong>--log-file</strong> option.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For compatibility with older versions of OVS, <strong>any</strong> is accepted as a word but has no effect.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <strong>vlog/set PATTERN:</strong><em>facility</em><strong>:</strong><em>pattern</em>
  </dt>
  <dd>
    <p>Sets the log pattern for <em>facility</em> to <em>pattern</em>.  Refer to <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a description of the valid syntax for <em>pattern</em>.</p>
  </dd>
  <dt>
    <strong>vlog/list</strong>
  </dt>
  <dd>
    <p>Lists the supported logging modules and their current levels.</p>
  </dd>
  <dt>
    <strong>vlog/reopen</strong>
  </dt>
  <dd>
    <p>Causes <strong>\*(PN</strong> to close and reopen its log file.  (This is useful after rotating log files, to cause a new log file to be used.)</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This has no effect unless <strong>\*(PN</strong> was invoked with the <strong>--log-file</strong> option.</p>
  </dd>
  <dt>
    <strong>vlog/disable-rate-limit </strong>[<em>module</em>]...
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>By default, <strong>\*(PN</strong> limits the rate at which certain messages can be logged.  When a message would appear more frequently than the limit, it is suppressed.  This saves disk space, makes logs easier to read, and speeds up execution, but occasionally troubleshooting requires more detail.  Therefore, <strong>vlog/disable-rate-limit</strong> allows rate limits to be disabled at the level of an individual log module.  Specify one or more module names, as displayed by the <strong>vlog/list</strong> command.  Specifying either no module names at all or the keyword <strong>any</strong> disables rate limits for every log module.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>vlog/enable-rate-limit</strong> command, whose syntax is the same as <strong>vlog/disable-rate-limit</strong>, can be used to re-enable a rate limit that was previously disabled.</p>
  </dd>

</dl>

<h3>MEMORY COMMANDS</h3>
<p>These commands report memory usage.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>memory/show</strong>
  </dt>
  <dd>
    <p>Displays some basic statistics about <strong>\*(PN</strong>'s memory usage. <strong>\*(PN</strong> also logs this information soon after startup and periodically as its memory consumption grows.</p>
  </dd>

</dl>

<h3>COVERAGE COMMANDS</h3>
<p>These commands manage <strong>\*(PN</strong>'s ``coverage counters,'' which count the number of times particular events occur during a daemon's runtime. In addition to these commands, <strong>\*(PN</strong> automatically logs coverage counter values, at <strong>INFO</strong> level, when it detects that the daemon's main loop takes unusually long to run.</p><p>Coverage counters are useful mainly for performance analysis and debugging.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>coverage/show</strong>
  </dt>
  <dd>
    <p>Displays the averaged per-second rates for the last few seconds, the last minute and the last hour, and the total counts of all of the coverage counters.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPENFLOW IMPLEMENTATION</h2>
        <div class="sectioncontent">
<p>This section documents aspects of OpenFlow for which the OpenFlow specification requires documentation.</p><h3>Packet buffering.</h3>
<p>The OpenFlow specification, version 1.2, says:</p><ul>
<li><p>Switches that implement buffering are expected to expose, through documentation, both the amount of available buffering, and the length of time before buffers may be reused.</p></li>
</ul><p>Open vSwitch maintains a separate set of 256 packet buffers for each OpenFlow connection.  Any given packet buffer is preserved until it is referenced by an <strong>OFPT_FLOW_MOD</strong> or <strong>OFPT_PACKET_OUT</strong> request or for 5 seconds, whichever comes first.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITS</h2>
        <div class="sectioncontent">
<p>We believe these limits to be accurate as of this writing.  These limits assume the use of the Linux kernel datapath.</p><ul>
<li><p><strong>ovs-vswitchd</strong> started through <a href="../man8/ovs-ctl.8.html"><strong>ovs-ctl</strong>(8)</a> provides a limit of 7500 file descriptors.  The limits on the number of bridges and ports is decided by the availability of file descriptors.  With the Linux kernel datapath, creation of a single bridge consumes 3 file descriptors and adding a port consumes 1 file descriptor.  Performance will degrade beyond 1,024 ports per bridge due to fixed hash table sizing.  Other platforms may have different limitations.</p></li><li><p>2,048 MAC learning entries per bridge, by default.  (This is configurable via <strong>other-config:mac-table-size</strong> in the <strong>Bridge</strong> table.  See <a href="../man5/ovs-vswitchd.conf.db.5.html"><strong>ovs-vswitchd.conf.db</strong>(5)</a> for details.)</p></li><li><p>Kernel flows are limited only by memory available to the kernel. Performance will degrade beyond 1,048,576 kernel flows per bridge with a 32-bit kernel, beyond 262,144 with a 64-bit kernel. (<strong>ovs-vswitchd</strong> should never install anywhere near that many flows.)</p></li><li><p>OpenFlow flows are limited only by available memory.  Performance is linear in the number of unique wildcard patterns.  That is, an OpenFlow table that contains many flows that all match on the same fields in the same way has a constant-time lookup, but a table that contains many flows that match on different fields requires lookup time linear in the number of flows.</p></li><li><p>255 ports per bridge participating in 802.1D Spanning Tree Protocol.</p></li><li><p>32 mirrors per bridge.</p></li><li><p>15 bytes for the name of a port.  (This is a Linux kernel limitation.)</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ovs-vswitchd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a>, <a href="../man1/ovsdb-server.1.html"><strong>ovsdb-server</strong>(1)</a>, <strong>INSTALL.Linux</strong> in the Open vSwitch distribution.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ovs-vsctl.8.html"><span aria-hidden="true">&larr;</span> ovs-vsctl.8: Utility for querying and configuring ovs-vswitchd</a></li>
   <li class="next"><a href="ownership.8.html">ownership.8: Compaq ownership tag retriever <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
