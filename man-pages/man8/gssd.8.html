<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gssd: Rpcsec_gss daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Rpcsec_gss daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gssd (8) manual">
  <meta name="twitter:description" content="Rpcsec_gss daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/nfs-common-gssd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/gssd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gssd (8) manual" />
  <meta property="og:description" content="Rpcsec_gss daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nfs-common-gssd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gssd<small> (8)</small></h1>
        <p class="lead">Rpcsec_gss daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/gssd.8.html">
      <span itemprop="name">gssd: Rpcsec_gss daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nfs-common/">
      <span itemprop="name">nfs-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/gssd.8.html">
      <span itemprop="name">gssd: Rpcsec_gss daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>rpc.gssd</strong> [<strong>-DfMnlvr</strong>] [<strong>-k</strong> <em>keytab</em>] [<strong>-p</strong> <em>pipefsdir</em>] [<strong>-d</strong> <em>ccachedir</em>] [<strong>-t</strong> <em>timeout</em>] [<strong>-R</strong> <em>realm</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTRODUCTION</h2>
        <div class="sectioncontent">
<p>The RPCSEC_GSS protocol, defined in RFC 5403, is used to provide strong security for RPC-based protocols such as NFS.</p><p>Before exchanging RPC requests using RPCSEC_GSS, an RPC client must establish a GSS <em>security context</em>. A security context is shared state on each end of a network transport that enables GSS-API security services.</p><p>Security contexts are established using <em>security credentials</em>. A credential grants temporary access to a secure network service, much as a railway ticket grants temporary access to use a rail service.</p><p>A user typically obtains a credential by providing a password to the <a href="../man1/kinit.1.html"><strong>kinit</strong>(1)</a> command, or via a PAM library at login time. A credential acquired with a <em>user principal</em> is known as a <em>user credential</em> (see <strong>kerberos</strong>(1) for more on principals).</p><p>For certain operations, a credential is required which represents no user, is otherwise unprivileged, and is always available. This is referred to as a <em>machine credential</em>.</p><p>Machine credentials are typically established using a <em>service principal</em>, whose encrypted password, called its <em>key</em>, is stored in a file, called a <em>keytab</em>, to avoid requiring a user prompt. A machine credential effectively does not expire because the system can renew it as needed without user intervention.</p><p>Once obtained, credentials are typically stored in local temporary files with well-known pathnames.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>To establish GSS security contexts using these credential files, the Linux kernel RPC client depends on a userspace daemon called <strong>rpc.gssd</strong>. The <strong>rpc.gssd</strong> daemon uses the rpc_pipefs filesystem to communicate with the kernel.</p><h3>User Credentials</h3>
<p>When a user authenticates using a command such as <a href="../man1/kinit.1.html"><strong>kinit</strong>(1)</a>, the resulting credential is stored in a file with a well-known name constructed using the user's UID.</p><p>To interact with an NFS server on behalf of a particular Kerberos-authenticated user, the Linux kernel RPC client requests that <strong>rpc.gssd</strong> initialize a security context with the credential in that user's credential file.</p><p>Typically, credential files are placed in <em>/tmp</em>. However, <strong>rpc.gssd</strong> can search for credential files in more than one directory. See the description of the <strong>-d</strong> option for details.</p>
<h3>Machine Credentials</h3>
<p>A user credential is established by a user and is then shared with the kernel and <strong>rpc.gssd</strong>. A machine credential is established by <strong>rpc.gssd</strong> for the kernel when there is no user. Therefore <strong>rpc.gssd</strong> must already have the materials on hand to establish this credential without requiring user intervention.</p><p><strong>rpc.gssd</strong> searches the local system's keytab for a principal and key to use to establish the machine credential. By default, <strong>rpc.gssd</strong> assumes the file <em>/etc/krb5.keytab</em> contains principals and keys that can be used to obtain machine credentials.</p><p><strong>rpc.gssd</strong> searches in the following order for a principal to use. The first matching credential is used. For the search, &lt;hostname&gt; and &lt;REALM&gt; are replaced with the local system's hostname and Kerberos realm.</p>
<pre>
   &lt;HOSTNAME&gt;$@&lt;REALM&gt;
</pre>

<pre>
   root/&lt;hostname&gt;@&lt;REALM&gt;
</pre>

<pre>
   nfs/&lt;hostname&gt;@&lt;REALM&gt;
</pre>

<pre>
   host/&lt;hostname&gt;@&lt;REALM&gt;
</pre>

<pre>
   root/&lt;anyname&gt;@&lt;REALM&gt;
</pre>

<pre>
   nfs/&lt;anyname&gt;@&lt;REALM&gt;
</pre>

<pre>
   host/&lt;anyname&gt;@&lt;REALM&gt;
</pre>
<p>The &lt;anyname&gt; entries match on the service name and realm, but ignore the hostname. These can be used if a principal matching the local host's name is not found.</p><p>Note that the first principal in the search order is a user principal that enables Kerberized NFS when the local system is joined to an Active Directory domain using Samba. A password for this principal must be provided in the local system's keytab.</p><p>You can specify another keytab by using the <strong>-k</strong> option if <em>/etc/krb5.keytab</em> does not exist or does not provide one of these principals.</p>
<h3>Credentials for UID 0</h3>
<p>UID 0 is a special case. By default <strong>rpc.gssd</strong> uses the system's machine credentials for UID 0 accesses that require GSS authentication. This limits the privileges of the root user when accessing network resources that require authentication.</p><p>Specify the <strong>-n</strong> option when starting <strong>rpc.gssd</strong> if you'd like to force the root user to obtain a user credential rather than use the local system's machine credential.</p><p>When <strong>-n</strong> is specified, the kernel continues to request a GSS context established with a machine credential for NFSv4 operations, such as SETCLIENTID or RENEW, that manage state. If <strong>rpc.gssd</strong> cannot obtain a machine credential (say, the local system has no keytab), NFSv4 operations that require machine credentials will fail.</p>
<h3>Encryption types</h3>
<p>A realm administrator can choose to add keys encoded in a number of different encryption types to the local system's keytab. For instance, a host/ principal might have keys for the <strong>aes256-cts-hmac-sha1-96</strong>, <strong>aes128-cts-hmac-sha1-96</strong>, <strong>des3-cbc-sha1</strong>, and <strong>arcfour-hmac</strong> encryption types. This permits <strong>rpc.gssd</strong> to choose an appropriate encryption type that the target NFS server supports.</p><p>These encryption types are stronger than legacy single-DES encryption types. To interoperate in environments where servers support only weak encryption types, you can restrict your client to use only single-DES encryption types by specifying the <strong>-l</strong> option when starting <strong>rpc.gssd</strong>.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>DNS Reverse lookups are not used for determining the server names pass to GSSAPI. This option will reverses that and forces the use of DNS Reverse resolution of the server's IP address to retrieve the server name to use in GSAPI authentication.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Runs <strong>rpc.gssd</strong> in the foreground and sends output to stderr (as opposed to syslogd)</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>When specified, UID 0 is forced to obtain user credentials which are used instead of the local system's machine credentials.</p>
  </dd>
  <dt>
    <p><strong>-k </strong><em>keytab</em></p>
  </dt>
  <dd>
    <p>Tells <strong>rpc.gssd</strong> to use the keys found in <em>keytab</em> to obtain machine credentials. The default value is <em>/etc/krb5.keytab</em>.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>When specified, restricts <strong>rpc.gssd</strong> to sessions to weak encryption types such as <strong>des-cbc-crc</strong>. This option is available only when the local system's Kerberos library supports settable encryption types.</p>
  </dd>
  <dt>
    <p><strong>-p </strong><em>path</em></p>
  </dt>
  <dd>
    <p>Tells <strong>rpc.gssd</strong> where to look for the rpc_pipefs filesystem.  The default value is <em>/var/lib/nfs/rpc_pipefs</em>.</p>
  </dd>
  <dt>
    <p><strong>-d </strong><em>search-path</em></p>
  </dt>
  <dd>
    <p>This option specifies a colon separated list of directories that <strong>rpc.gssd</strong> searches for credential files.  The default value is <em>/tmp:/run/user/%U</em>. The literal sequence "%U" can be specified to substitue the UID of the user for whom credentials are being searched.</p>
  </dd>
  <dt>
    <p><strong>-M</strong></p>
  </dt>
  <dd>
    <p>By default, machine credentials are stored in files in the first directory in the credential directory search path (see the <strong>-d</strong> option).  When <strong>-M</strong> is set, <strong>rpc.gssd</strong> stores machine credentials in memory instead.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Increases the verbosity of the output (can be specified multiple times).</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>If the RPCSEC_GSS library supports setting debug level, increases the verbosity of the output (can be specified multiple times).</p>
  </dd>
  <dt>
    <p><strong>-R </strong><em>realm</em></p>
  </dt>
  <dd>
    <p>Kerberos tickets from this <em>realm</em> will be preferred when scanning available credentials cache files to be used to create a context.  By default, the default realm, as configured in the Kerberos configuration file, is preferred.</p>
  </dd>
  <dt>
    <p><strong>-t </strong><em>timeout</em></p>
  </dt>
  <dd>
    <p>Timeout, in seconds, for kernel GSS contexts. This option allows you to force new kernel contexts to be negotiated after <em>timeout</em> seconds, which allows changing Kerberos tickets and identities frequently. The default is no explicit timeout, which means the kernel context will live the lifetime of the Kerberos service ticket used in its creation.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gssd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/rpc.svcgssd.8.html"><strong>rpc.svcgssd</strong>(8)</a>, <strong>kerberos</strong>(1), <a href="../man1/kinit.1.html"><strong>kinit</strong>(1)</a>, <a href="../man5/krb5.conf.5.html"><strong>krb5.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Dug Song &lt;dugsong@umich.edu&gt;</p><p>Andy Adamson &lt;andros@umich.edu&gt;</p><p>Marius Aamodt Eriksen &lt;marius@umich.edu&gt;</p><p>J. Bruce Fields &lt;bfields@umich.edu&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gsmsmsstore.8.html"><span aria-hidden="true">&larr;</span> gsmsmsstore.8: Sms store manipulation program</a></li>
   <li class="next"><a href="gt4-interface-install.8.html">gt4-interface-install.8: Install the lcas/lcmaps mapper gsi call-out <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
