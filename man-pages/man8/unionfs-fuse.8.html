<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>unionfs-fuse: A userspace unionfs implementation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A userspace unionfs implementation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="unionfs-fuse (8) manual">
  <meta name="twitter:description" content="A userspace unionfs implementation">
  <meta name="twitter:image" content="https://www.carta.tech/images/unionfs-fuse-unionfs-fuse-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/unionfs-fuse.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="unionfs-fuse (8) manual" />
  <meta property="og:description" content="A userspace unionfs implementation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/unionfs-fuse-unionfs-fuse-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">unionfs-fuse<small> (8)</small></h1>
        <p class="lead">A userspace unionfs implementation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/unionfs-fuse.8.html">
      <span itemprop="name">unionfs-fuse: A userspace unionfs implementation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/unionfs-fuse/">
      <span itemprop="name">unionfs-fuse</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/unionfs-fuse.8.html">
      <span itemprop="name">unionfs-fuse: A userspace unionfs implementation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>unionfs-fuse</strong> <strong>[-o </strong><em>option1</em><strong> -o </strong><em>option2</em><strong> ... -o </strong><em>optionN</em><strong> ]</strong></p>
<pre>
             <strong>top_branch:lower_branch:...:lowest_branch </strong>
             <strong>mount_point</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>unionfs-fuse</strong> overlays several directory into one single mount point.</p><p>It first tries to access the file on the top branch and if the file does not exist there, it continues on lower level branches. If the user tries to modify a file on a lower level read-only branch the file is copied to to a higher level read-write branch if the <strong>copy-on-write (cow) </strong> mode was enabled.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Below is a summary of unionfs-fuse options</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-o cow</strong></p>
  </dt>
  <dd>
    <p>Enable copy-on-write</p>
  </dd>
  <dt>
    <p><strong>-o stats</strong></p>
  </dt>
  <dd>
    <p>Show statistics in the file 'stats' under the mountpoint.</p>
  </dd>
  <dt>
    <p><strong>-o statfs_omit_ro</strong></p>
  </dt>
  <dd>
    <p>By default blocks of all branches are counted in statfs() calls (e.g. by 'df'). On setting this option read-only branches will be omitted for the summary of blocks. This may sound weird but it actually fixes "wrong" percentage of free space.</p>
  </dd>
  <dt>
    <p><strong>-o noinitgroups</strong></p>
  </dt>
  <dd>
    <p>Since version 0.23 without any effect, just left over for compatibility. Might be removed in future versions.</p>
  </dd>
  <dt>
    <p><strong>-o chroot=path</strong></p>
  </dt>
  <dd>
    <p>Path to chroot into. By using this option unionfs-fuse may be used for live CDs or live USB sticks, etc. So it can serve "/" as filesystem. If you do not specify this option and try to use it for "/" it will deadlock on calling 'pivot_root'. If you do set this option, you also need to specify the branches relativly to the given chroot directory. See examples/S01a-unionfs-fuse-live-cd.sh for an example.</p>
  </dd>
  <dt>
    <p><strong>-o max_files=number</strong></p>
  </dt>
  <dd>
    <p>Maximum number of open files. Most system have a default of 1024 open files per process. For example if unionfs-fuse servs "/" applications like KDE or GNOME might have much more open files, which will make the unionfs-fuse process to exceed this limit. Suggested for "/" is &gt;16000 or even &gt;32000 files. If this limit exceeds unionfs-fuse will not be able to open further files.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Options to libfuse</h2>
        <div class="sectioncontent">
<p>There are several further options available, which don't directly apply to unionfs, but to libfuse. Please run "unionfs-fuse --help" to see these. We already set the "-o default-permissions" options on our own.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
 unionfs-fuse -o cow,max_files=32768 &#92;
              -o allow_other,use_ino,suid,dev,nonempty &#92;
              /u/host/etc=RW:/u/group/etc=RO:/u/common/etc=RO &#92;
              /u/union/etc
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Meta data</h2>
        <div class="sectioncontent">
<p>Like other filesystems unionfs-fuse also needs to store meta data. Well, presently only information about deleted files and directories need to be stored, but in future releases more information might be required, e.g. inode-numbers for persistent inode information. Meta data information are saved and looked for in the .unionfs/ directories of each branch-root. So in the example above, these are /u/host/etc/.unionfs, /u/group/etc/.unionfs and /u/common/etc/.unionfs. Within these directories a complete directory structure may be found. Example: If the admin decides to delete the file /etc/test/testfile, which only exists in /u/unionfs/etc/test/testfile, unionfs-fuse can't delete this file, since it is on a read-only branch. So instead the whiteout file /u/host/etc/.unionfs/test/testfile_HIDDEN~ will be created. So on accessing the union filesystem, test/testfile will not be visible. Please also note that whiteout files/directories will only hide the files in lower level branches. So for example whiteouts in the group directory (/u/group/etc/.unionfs of the example above) will only hide file of the common branch (/u/common/etc), but not these of the group and host branches. Especially for diskless-booted environments it is rather useful for the admin to create whiteout files him/her-self. For example one should blacklist network re-initializations, /etc/mtab, /etc/nologin of the server and several cron-scripts. This can be easily achieved by creating whiteout files for these scripts in the group meta directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KNOWN ISSUES</h2>
        <div class="sectioncontent">
<p>1) Another issue is that presently there is no support for read-only branches when copy-on-write is disabled, thus, -ocow is NOT specified! Support for that might be added in later releases.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>unionfs-fuse</strong> Original implemention by Radek Podgorny &lt;radek@podgorny.cz&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Radek Podgorny &lt;radek\@podgorny.cz&gt;, Bernd Schubert &lt;bernd-schubert\@gmx.de&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THANKS</h2>
        <div class="sectioncontent">
<p>Many thanks to the author of the FUSE filesystem Miklos Szeredi.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="uniconfd.8.html"><span aria-hidden="true">&larr;</span> uniconfd.8: A daemon program for the uniconf configuration system</a></li>
   <li class="next"><a href="unique.8.html">unique.8: Removes duplicates from a wordlist <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
