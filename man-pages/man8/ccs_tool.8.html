<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ccs_tool: The tool used to make online queries to the cluster configuration.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The tool used to make online queries to the cluster configuration.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ccs_tool (8) manual">
  <meta name="twitter:description" content="The tool used to make online queries to the cluster configuration.">
  <meta name="twitter:image" content="https://www.carta.tech/images/cman-ccs_tool-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ccs_tool.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ccs_tool (8) manual" />
  <meta property="og:description" content="The tool used to make online queries to the cluster configuration." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cman-ccs_tool-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ccs_tool<small> (8)</small></h1>
        <p class="lead">The tool used to make online queries to the cluster configuration.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ccs_tool.8.html">
      <span itemprop="name">ccs_tool: The tool used to make online queries to the cluster configuration.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cman/">
      <span itemprop="name">cman</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ccs_tool.8.html">
      <span itemprop="name">ccs_tool: The tool used to make online queries to the cluster configuration.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ccs_tool</strong> [<em>OPTION</em>].. &lt;<strong>command</strong>&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ccs_tool</strong> is part of the Cluster Configuration System (CCS). It used to peform different kind of queries to the cluster configuration and has support for some cluster.conf editing functions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Help.  Print out the usage.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print the version information.</p><p>sub-commands have their own options, see below for more detail</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>query</strong> <em>&lt;xpath query&gt;</em></p>
  </dt>
  <dd>
    <p>Perform an xpath query on running cluster configuration.</p>
  </dd>
  <dt>
    <p><strong>addnode</strong> [options] <em>&lt;node&gt; [&lt;fenceoption=value&gt;]...</em></p>
  </dt>
  <dd>
    <p>Adds a new node to the cluster configuration file. Fencing device options are specified as key=value pairs (as many as required) and are entered into the configuration file as is. See the documentation for your fencing agent for more details (eg a powerswitch fence device may need to know which port the node is connected to).</p><p><em>Options:</em></p><p>-v &lt;votes&gt;        Number of votes for this node (mandatory)</p><p>-n &lt;nodeid&gt;       Node id for this node (optional)</p><p>-i &lt;interface&gt;    Network interface to use for this node. Mandatory if the cluster is using multicast as transport. Forbidden if not.</p><p>-m &lt;multicast&gt;    Multicast address for cluster. Only allowed on the first node to be added to the file. Subsequent nodes will use either multicast or broadcast depending on the properties of the first node.</p><p>-f &lt;fencedevice&gt;  Name of fence device to use for this node. The fence device section must already have been added to the file, probably using the addfence command.</p><p>-c &lt;file&gt;         Config file to use. Defaults to /etc/cluster/cluster.conf</p><p>-o &lt;file&gt;         Output file. Defaults to the same as -c</p>
  </dd>
  <dt>
    <p><strong>delnode</strong> [options] <em>&lt;node&gt;</em></p>
  </dt>
  <dd>
    <p>Delete a node from the cluster configuration file. Note: there is no "edit" command so to change the properties of a node you must delete it and add it back in with the new properties.</p><p><em>Options:</em></p><p>-c &lt;file&gt;         Config file to use. Defaults to /etc/cluster/cluster.conf</p><p>-o &lt;file&gt;         Output file. Defaults to the same as -c</p>
  </dd>
  <dt>
    <p><strong>addfence</strong> [options] <em>&lt;name&gt; &lt;agent&gt; [&lt;option&gt;=&lt;value&gt;]...</em></p>
  </dt>
  <dd>
    <p>Adds a new fence device section to the cluster configuration file. &lt;agent&gt; is the name of the fence agent that controls the device. the options following are entered as key-value pairs. See the fence agent documentation for details about these. eg: you may need to enter the IP address and username/password for a powerswitch fencing device.</p><p><em>Options:</em></p><p>-c &lt;file&gt;         Config file to use. Defaults to /etc/cluster/cluster.conf</p><p>-o &lt;file&gt;         Output file. Defaults to the same as -c</p>
  </dd>
  <dt>
    <p><strong>delfence</strong> [options] <em>&lt;node&gt;</em></p>
  </dt>
  <dd>
    <p>Deletes a fencing device from the cluster configuration file. delfence will allow you to remove a fence device that is in use by nodes. This is to allow changes to be made, but be aware that it may produce an invalid configuration file if you don't add it back in again.</p><p><em>Options:</em></p><p>-c &lt;file&gt;         Config file to use. Defaults to /etc/cluster/cluster.conf</p><p>-o &lt;file&gt;         Output file. Defaults to the same as -c</p>
  </dd>
  <dt>
    <p><strong>lsnode [options] </strong></p>
  </dt>
  <dd>
    <p>List the nodes in the configuration file. This is (hopefully obviously) not necessarily the same as the nodes currently in the cluster, but it should be a superset.</p><p><em>Options:</em></p><p>-v                Verbose. Lists all the properties of the node, and the node-specific properties of the fence device too.</p><p>-c &lt;file&gt;         Config file to use. Defaults to /etc/cluster/cluster.conf</p>
  </dd>
  <dt>
    <p><strong>lsfence [options] </strong></p>
  </dt>
  <dd>
    <p>List all the fence devices in the cluster configuration file.</p><p><em>Options:</em></p><p>-v                Verbose. Lists all the properties of the fence device rather than just the names and agents.</p><p>-c &lt;file&gt;         Config file to use. Defaults to /etc/cluster/cluster.conf</p>
  </dd>
  <dt>
    <p><strong>create [options] </strong> <em>&lt;clustername&gt;</em></p>
  </dt>
  <dd>
    <p>Create a new, skeleton, configuration file. Note that "create" on its own will not create a valid configuration file. Fence agents and nodes will need to be added to it before handing it over to ccsd. The new configuration file will have a version number of 1. Subsequent addnode/delnode/addfence/delfence operations will increment the version number by 1 each time.</p><p><em>Options:</em></p><p>-c &lt;file&gt;         Config file to create. Defaults to /etc/cluster/cluster.conf</p>
  </dd>
  <dt>
    <p><strong>addnodeids</strong></p>
  </dt>
  <dd>
    <p>Adds node ID numbers to all the nodes in cluster.conf. In RHEL4, node IDs were optional and assigned by cman when a node joined the cluster. In RHEL5 they must be pre-assigned in cluster.conf. This command will not change any node IDs that are already set in cluster.conf, it will simply add unique node ID numbers to nodes that do not already have them.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ccs_tool&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/cluster.conf.5.html"><strong>cluster.conf</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ccs_config_validate.8.html"><span aria-hidden="true">&larr;</span> ccs_config_validate.8: Ccs_config_validate</a></li>
   <li class="next"><a href="ccs_update_schema.8.html">ccs_update_schema.8: Tool to generate cluster relaxng schema for cluster config validation. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
