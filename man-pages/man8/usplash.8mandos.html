<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>usplash: Mandos plugin to use usplash to get a password.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mandos plugin to use usplash to get a password.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="usplash (8mandos) manual">
  <meta name="twitter:description" content="Mandos plugin to use usplash to get a password.">
  <meta name="twitter:image" content="https://www.carta.tech/images/mandos-client-usplash-8mandos.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8mandos/usplash.8mandos.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="usplash (8mandos) manual" />
  <meta property="og:description" content="Mandos plugin to use usplash to get a password." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mandos-client-usplash-8mandos.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">usplash<small> (8mandos)</small></h1>
        <p class="lead">Mandos plugin to use usplash to get a password.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8mandos/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8mandos/usplash.8mandos.html">
      <span itemprop="name">usplash: Mandos plugin to use usplash to get a password.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mandos-client/">
      <span itemprop="name">mandos-client</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8mandos/usplash.8mandos.html">
      <span itemprop="name">usplash: Mandos plugin to use usplash to get a password.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>usplash</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program prompts for a password using <strong>usplash</strong>(8) and outputs any given password to standard output. If no <strong>usplash</strong>(8) process can be found, this program will immediately exit with an exit code indicating failure.</p><p>This program is not very useful on its own. This program is really meant to run as a plugin in the Mandos client-side system, where it is used as a fallback and alternative to retrieving passwords from a Mandos server.</p><p>If this program is killed (presumably by <strong>plugin-runner</strong>(8mandos) because some other plugin provided the password), it cannot tell <strong>usplash</strong>(8) to abort requesting a password, because <strong>usplash</strong>(8) does not support this. Therefore, this program will then <em>kill</em> the running <strong>usplash</strong>(8) process and start a <em>new</em> one using the same command line arguments as the old one was using.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>This program takes no options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>If exit status is 0, the output from the program is the password as it was read. Otherwise, if exit status is other than 0, the program was interrupted or encountered an error, and any output so far could be corrupt and/or truncated, and should therefore be ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p><strong>cryptsource</strong>, <strong>crypttarget</strong></p><p>If set, these environment variables will be assumed to contain the source device name and the target device mapper name, respectively, and will be shown as part of the prompt.</p><p>These variables will normally be inherited from <strong>plugin-runner</strong>(8mandos), which will normally have inherited them from /scripts/local-top/cryptroot in the initial RAM disk environment, which will have set them from parsing kernel arguments and /conf/conf.d/cryptroot (also in the initial RAM disk environment), which in turn will have been created when the initial RAM disk image was created by /usr/share/initramfs-tools/hooks/cryptroot, by extracting the information of the root file system from /etc/crypttab.</p><p>This behavior is meant to exactly mirror the behavior of <strong>askpass</strong>, the default password prompter.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/dev/.initramfs/usplash_fifo</p><p>This is the FIFO to where this program will write the commands for <strong>usplash</strong>(8). See <a href="../man7/fifo.7.html"><strong>fifo</strong>(7)</a>.</p><p>/dev/.initramfs/usplash_outfifo</p><p>This is the FIFO where this program will read the password from <strong>usplash</strong>(8). See <a href="../man7/fifo.7.html"><strong>fifo</strong>(7)</a>.</p><p>/proc</p><p>To find the running <strong>usplash</strong>(8), this directory will be searched for numeric entries which will be assumed to be directories. In all those directories, the exe and cmdline entries will be used to determine the name of the running binary, effective user and group ID, and the command line arguments. See <a href="../man5/proc.5.html"><strong>proc</strong>(5)</a>.</p><p>/sbin/usplash</p><p>This is the name of the binary which will be searched for in the process list. See <strong>usplash</strong>(8).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Killing <strong>usplash</strong>(8) and starting a new one is ugly, but necessary as long as it does not support aborting a password request.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Note that normally, this program will not be invoked directly, but instead started by the Mandos <strong>plugin-runner</strong>(8mandos).</p><p>This program takes no options.</p><p><strong>usplash</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>If this program is killed by a signal, it will kill the process ID which at the start of this program was determined to run <strong>usplash</strong>(8) as root (see also the section called &ldquo;FILES&rdquo;). There is a very slight risk that, in the time between those events, that process ID was freed and then taken up by another process; the wrong process would then be killed. Now, this program can only be killed by the user who started it; see <strong>plugin-runner</strong>(8mandos). This program should therefore be started by a completely separate non-privileged user, and no other programs should be allowed to run as that special user. This means that it is not recommended to use the user "nobody" to start this program, as other possibly less trusted programs could be running as "nobody", and they would then be able to kill this program, triggering the killing of the process ID which may or may not be <strong>usplash</strong>(8).</p><p>The only other thing that could be considered worthy of note is this: This program is meant to be run by <strong>plugin-runner</strong>(8mandos), and will, when run standalone, outside, in a normal environment, immediately output on its standard output any presumably secret password it just received. Therefore, when running this program standalone (which should never normally be done), take care not to type in any real secret password by force of habit, since it would then immediately be shown as output.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO usplash&hellip;</h2>
        <div class="sectioncontent">
<p><strong>intro</strong>(8mandos), <a href="../man5/crypttab.5.html"><strong>crypttab</strong>(5)</a>, <a href="../man7/fifo.7.html"><strong>fifo</strong>(7)</a>, <strong>plugin-runner</strong>(8mandos), <a href="../man5/proc.5.html"><strong>proc</strong>(5)</a>, <strong>usplash</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2008-2009, 2011-2012 Teddy Hogeborn, Bj\(:orn P\(oahlsson</p><p>This manual page is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p><p>This manual page is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program. If not, see \m[blue]<strong>http://www.gnu.org/licenses/</strong>\m[].</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="splashy.8mandos.html"><span aria-hidden="true">&larr;</span> splashy.8mandos: Mandos plugin to use splashy to get a password.</a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
