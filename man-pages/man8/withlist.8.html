<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>withlist: General framework for interacting with a mailman mailing list object.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="General framework for interacting with a mailman mailing list object.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="withlist (8) manual">
  <meta name="twitter:description" content="General framework for interacting with a mailman mailing list object.">
  <meta name="twitter:image" content="https://www.carta.tech/images/mailman-withlist-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/withlist.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="withlist (8) manual" />
  <meta property="og:description" content="General framework for interacting with a mailman mailing list object." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mailman-withlist-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">withlist<small> (8)</small></h1>
        <p class="lead">General framework for interacting with a mailman mailing list object.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/withlist.8.html">
      <span itemprop="name">withlist: General framework for interacting with a mailman mailing list object.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mailman/">
      <span itemprop="name">mailman</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/withlist.8.html">
      <span itemprop="name">withlist: General framework for interacting with a mailman mailing list object.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>withlist [options] listname [args ...]</p><p>There are two ways to use this script: interactively or programmatically. Using it interactively allows you to play with, examine and modify a MailList object from Python's interactive interpreter.  When running interactively, a MailList object called `m' will be available in the global namespace.  It also loads the class MailList into the global namespace.</p><p>Programmatically, you can write a function to operate on a MailList object, and this script will take care of the housekeeping (see below for examples). In that case, the general usage syntax is:</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-l</strong><strong>, </strong><strong>--lock</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Lock the list when opening.  Normally the list is opened unlocked (e.g. for read-only operations).  You can always lock the file after the fact by typing `m.Lock()'</p><p>Note that if you use this option, you should explicitly call m.Save() before exiting, since the interpreter's clean up procedure will not automatically save changes to the MailList object (but it will unlock the list).</p>
  </dd>
  <dt>
    <p><strong>-i</strong><strong>, </strong><strong>--interactive</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Leaves you at an interactive prompt after all other processing is complete.  This is the default unless the <strong>-r</strong><strong> option is given.</strong></p>
  </dd>
  <dt>
    <p><strong>-r</strong><strong> </strong><em>[module.]callable</em><em>, </em><strong>--run</strong><strong> </strong><em>[module.]callable</em><em></em></p>
  </dt>
  <dd>
    <p>This can be used to run a script with the opened MailList object. This works by attempting to import <em>module</em> (which must already be accessible on your sys.path), and then calling <em>callable</em> from the module.  <em>callable</em> can be a class or function; it is called with the MailList object as the first argument.  If additional args are given on the command line, they are passed as subsequent positional args to the callable.</p><p>Note that <em>module.</em> is optional; if it is omitted then a module with the name <em>callable</em> will be imported.</p><p>The global variable `r' will be set to the results of this call.</p>
  </dd>
  <dt>
    <p><strong>-a</strong><strong>, </strong><strong>--all</strong><strong></strong></p>
  </dt>
  <dd>
    <p>This option only works with the <strong>-r</strong> option.  Use this if you want to execute the script on all mailing lists.  When you use <strong>-a</strong> you should not include a listname argument on the command line.  The variable `r' will be a list of all the results.</p>
  </dd>
  <dt>
    <p><strong>-q</strong><strong>, </strong><strong>--quiet</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Suppress all status messages.</p>
  </dd>
  <dt>
    <p><strong>-h</strong><strong>, </strong><strong>--help</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Print a small help text and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Here's an example of how to use the <strong>-r</strong> option.  Say you have a file in the Mailman installation directory called `listaddr.py', with the following two functions:</p>
<pre>
  def listaddr(mlist):
      print mlist.GetListEmail()
</pre>

<pre>
  def requestaddr(mlist):
      print mlist.GetRequestEmail()
</pre>
<p>Now, from the command line you can print the list's posting address by running the following from the command line:</p>
<pre>
  % bin/withlist -r listaddr mylist
  Loading list: mylist (unlocked)
  Importing listaddr ...
  Running listaddr.listaddr() ...
  mylist@example.com
</pre>
<p>And you can print the list's request address by running:</p>
<pre>
  % bin/withlist -r listaddr.requestaddr mylist
  Loading list: mylist (unlocked)
  Importing listaddr ...
  Running listaddr.requestaddr() ...
  mylist-request@example.com
</pre>
<p>As another example, say you wanted to change the password for a particular user on a particular list.  You could put the following function in a file called `changepw.py':</p>
<pre>
  from Mailman.Errors import NotAMemberError
</pre>

<pre>
  def changepw(mlist, addr, newpasswd):
      try:
          mlist.setMemberPassword(addr, newpasswd)
          mlist.Save()
      except NotAMemberError:
          print 'No address matched:', addr
</pre>
<p> and run this from the command line:  % bin/withlist -l -r changepw mylist somebody@example.org foobar</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Author of Mailman is the Mailman Cabal, see http://www.list.org/ for information. This manpage is written for Debian by Bernd S. Brentrup &lt;bsb@debian.org&gt;, but may be used by others.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO withlist&hellip;</h2>
        <div class="sectioncontent">
<p>Mailman documentation on http://www.list.org/ and in /usr/share/doc/mailman.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="wire-test.8.html"><span aria-hidden="true">&larr;</span> wire-test.8: Test your network interfaces and local ip address</a></li>
   <li class="next"><a href="wlancfg.8.html">wlancfg.8: Manupulate linux-wlan-ng mib values <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
