<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tcpsvd: Tcp/ip service daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tcp/ip service daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tcpsvd (8) manual">
  <meta name="twitter:description" content="Tcp/ip service daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/ipsvd-tcpsvd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/tcpsvd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tcpsvd (8) manual" />
  <meta property="og:description" content="Tcp/ip service daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ipsvd-tcpsvd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tcpsvd<small> (8)</small></h1>
        <p class="lead">Tcp/ip service daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/tcpsvd.8.html">
      <span itemprop="name">tcpsvd: Tcp/ip service daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ipsvd/">
      <span itemprop="name">ipsvd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/tcpsvd.8.html">
      <span itemprop="name">tcpsvd: Tcp/ip service daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>tcpsvd</strong> [-hpEvv] [-c <em>n</em>] [-C <em>n</em>:<em>msg</em>] [-b <em>n</em>] [-u <em>user</em>] [-l <em>name</em>] [-i <em>dir</em>|-x <em>cdb</em>] [ -t <em>sec</em>] <em>host</em> <em>port</em> <em>prog</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>tcpsvd</strong> creates a TCP/IP socket, binds it to the address <em>host</em>:<em>port</em>, and listens on the socket for incoming connections.</p><p>On each incoming connection, <strong>tcpsvd</strong> conditionally runs a program, with standard input reading from the socket, and standard output writing to the socket, to handle this connection. <strong>tcpsvd</strong> keeps listening on the socket for new connections, and can handle multiple connections simultaneously.</p><p><strong>tcpsvd</strong> optionally checks for special instructions depending on the IP address or hostname of the client that initiated the connection, see <a href="../man5/ipsvd-instruct.5.html"><strong>ipsvd-instruct</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>host</em></p>
  </dt>
  <dd>
    <p><em>host</em> either is a hostname, or a dotted-decimal IP address, or 0. If <em>host</em> is 0, <strong>tcpsvd</strong> accepts connections to any local IP address.</p>
  </dd>
  <dt>
    <p><em>port</em></p>
  </dt>
  <dd>
    <p><strong>tcpsvd</strong> accepts connections to <em>host</em>:<em>port</em>. <em>port</em> may be a name from /etc/services or a number.</p>
  </dd>
  <dt>
    <p><em>prog</em></p>
  </dt>
  <dd>
    <p><em>prog</em> consists of one or more arguments. For each connection, <strong>tcpsvd</strong> normally runs <em>prog</em>, with file descriptor 0 reading from the network, and file descriptor 1 writing to the network. By default it also sets up TCP-related environment variables, see <a href="../man5/tcp-environ.5.html"><strong>tcp-environ</strong>(5)</a></p>
  </dd>
  <dt>
    <p><strong>-i </strong><em>dir</em></p>
  </dt>
  <dd>
    <p>read instructions for handling new connections from the instructions directory <em>dir</em>. See <a href="../man5/ipsvd-instruct.5.html"><strong>ipsvd-instruct</strong>(5)</a> for details.</p>
  </dd>
  <dt>
    <p><strong>-x </strong><em>cdb</em></p>
  </dt>
  <dd>
    <p>read instructions for handling new connections from the constant database <em>cdb</em>. The constant database normally is created from an instructions directory by running <a href="../man8/ipsvd-cdb.8.html"><strong>ipsvd-cdb</strong>(8)</a>.</p>
  </dd>
  <dt>
    <p><strong>-t </strong><em>sec</em></p>
  </dt>
  <dd>
    <p>timeout. This option only takes effect if the -i option is given. While checking the instructions directory, check the time of last access of the file that matches the clients address or hostname if any, discard and remove the file if it wasn't accessed within the last <em>sec</em> seconds; <strong>tcpsvd</strong> does not discard or remove a file if the user's write permission is not set, for those files the timeout is disabled. Default is 0, which means that the timeout is disabled.</p>
  </dd>
  <dt>
    <p><strong>-l </strong><em>name</em></p>
  </dt>
  <dd>
    <p>local hostname. Do not look up the local hostname in DNS, but use <em>name</em> as hostname. This option must be set if <strong>tcpsvd</strong> listens on port 53 to avoid loops.</p>
  </dd>
  <dt>
    <p><strong>-u </strong><em>[:]user[:group]</em></p>
  </dt>
  <dd>
    <p>drop permissions. Set uid and gid to the <em>user</em>'s uid and gid, as found in <em>/etc/passwd</em>, before running <em>prog</em>. If <em>user</em> is followed by a colon and a <em>group</em>, set the gid to <em>group</em>'s gid, as found in <em>/etc/group</em>, instead of <em>user</em>'s gid. If <em>group</em> consists of a colon-separated list of group names, set the group ids of all listed groups. If <em>user</em> is prefixed with a colon, the <em>user</em> and all <em>group</em> arguments are interpreted as uid and gids respectively, and not looked up in the password or group file. All supplementary groups are removed.</p>
  </dd>
  <dt>
    <p><strong>-c </strong><em>n</em></p>
  </dt>
  <dd>
    <p>concurrency. Handle up to <em>n</em> connections simultaneously. Default is 30. If there are <em>n</em> connections active, <strong>tcpsvd</strong> defers acceptance of a new connection until an active connection is closed.</p>
  </dd>
  <dt>
    <p><strong>-C </strong><em>n</em>[:<em>msg</em>]</p>
  </dt>
  <dd>
    <p>per host concurrency. Allow only up to <em>n</em> connections from the same IP address simultaneously. If there are <em>n</em> active connections from one IP address, new incoming connections from this IP address are closed immediately. If <em>n</em> is followed by :<em>msg</em>, the message <em>msg</em> is written to the client if possible, before closing the connection. By default <em>msg</em> is empty. See <a href="../man5/ipsvd-instruct.5.html"><strong>ipsvd-instruct</strong>(5)</a> for supported escape sequences in <em>msg</em>.</p><p>For each accepted connection, the current per host concurrency is available through the environment variable <em>TCPCONCURRENCY</em>. <em>n</em> and <em>msg</em> can be overwritten by <a href="../man7/ipsvd.7.html"><strong>ipsvd</strong>(7)</a> instructions, see <a href="../man5/ipsvd-instruct.5.html"><strong>ipsvd-instruct</strong>(5)</a>. By default <strong>tcpsvd</strong> doesn't keep track of connections.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Look up the client's hostname in DNS.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>paranoid. After looking up the client's hostname in DNS, look up the IP addresses in DNS for that hostname, and forget about the hostname if none of the addresses match the client's IP address. You should set this option if you use hostname based instructions. The -p option implies the -h option.</p>
  </dd>
  <dt>
    <p><strong>-b </strong><em>n</em></p>
  </dt>
  <dd>
    <p>backlog. Allow a backlog of approximately <em>n</em> TCP SYNs. On some systems <em>n</em> is silently limited. Default is 20.</p>
  </dd>
  <dt>
    <p><strong>-E</strong></p>
  </dt>
  <dd>
    <p>no special environment. Do not set up TCP-related environment variables.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>verbose. Print verbose messsages to standard output.</p>
  </dd>
  <dt>
    <p><strong>-vv</strong></p>
  </dt>
  <dd>
    <p>more verbose. Print more verbose messages to standard output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tcpsvd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/ipsvd.7.html"><strong>ipsvd</strong>(7)</a>, <strong>sslsvd</strong>(8), <a href="../man8/udpsvd.8.html"><strong>udpsvd</strong>(8)</a>, <a href="../man5/ipsvd-instruct.5.html"><strong>ipsvd-instruct</strong>(5)</a>, <a href="../man8/ipsvd-cdb.8.html"><strong>ipsvd-cdb</strong>(8)</a>, <strong>sslio</strong>(8)</p><p>http://smarden.org/ipsvd/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Gerrit Pape &lt;pape@smarden.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="tcpspy.8.html"><span aria-hidden="true">&larr;</span> tcpspy.8: Tcp/ip connection monitor</a></li>
   <li class="next"><a href="tcptraceroute.db.8.html">tcptraceroute.db.8: Print the route packets trace to network host <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
