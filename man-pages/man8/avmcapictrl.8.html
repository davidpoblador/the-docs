<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>avmcapictrl: Add, reset or remove active avm cards and load firmware</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Add, reset or remove active avm cards and load firmware">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="avmcapictrl (8) manual">
  <meta name="twitter:description" content="Add, reset or remove active avm cards and load firmware">
  <meta name="twitter:image" content="https://www.carta.tech/images/capiutils-avmcapictrl-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/avmcapictrl.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="avmcapictrl (8) manual" />
  <meta property="og:description" content="Add, reset or remove active avm cards and load firmware" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/capiutils-avmcapictrl-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">avmcapictrl<small> (8)</small></h1>
        <p class="lead">Add, reset or remove active avm cards and load firmware</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/avmcapictrl.8.html">
      <span itemprop="name">avmcapictrl: Add, reset or remove active avm cards and load firmware</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/capiutils/">
      <span itemprop="name">capiutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/avmcapictrl.8.html">
      <span itemprop="name">avmcapictrl: Add, reset or remove active avm cards and load firmware</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>avmcapictrl add &lt;portbase&gt; &lt;irq&gt; &lt;type&gt;</p><p>avmcapictrl load &lt;bootcode&gt; [&lt;contrnr&gt; [&lt;protocol&gt;</p>
<pre>
    [P2P | &lt;dn1&gt;:&lt;spid1&gt; [&lt;dn2&gt;:&lt;spid2&gt;]]]]
</pre>
<p>avmcapictrl reset [contrnr]</p><p>avmcapictrl remove [contrnr]</p><p>avmcapictrl trace [contrnr] [off|short|on|full|shortnodata|nodata]</p><p>avmcapictrl addcard &lt;driver&gt; &lt;portbase&gt; &lt;irq&gt; [ &lt;membase&gt; [ &lt;cardnr&gt; ] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>avmcapictrl</em> is used to register active AVM ISA cards to the kernelcapi system and therewith to the ISDN system. You need it also to upload the firmware to any active AVM card. If an error occurs please also check the kernel error messages using the command <strong>dmesg</strong>(8).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>add &lt;portbase&gt; &lt;irq&gt; &lt;type&gt;</strong></p>
  </dt>
  <dd>
    <p>is used to add an ISA card to the kernel-capi2.0 system. The <em>portbase</em> can have the values 0x150, 0x250, 0x300 and 0x340 for the B1 ISA cards, look at the jumper on the card. For a T1-ISA (HEMA) card you can select a wide range of ports.</p><p><em>irq</em> can be selected from the following values:</p><p>3, 4, 5, 6, 7, 9, 10, 11, 12 and 15.</p><p><em>type</em> can be B1 or T1.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>load &lt;bootcode&gt; [&lt;contrnr&gt; [&lt;protocol&gt;</strong></p>
  </dt>
  <dd>
    <p><strong>[P2P | &lt;dn1&gt;:&lt;spid1&gt; [&lt;dn2&gt;:&lt;spid2&gt;]]]]</strong> is used to load the firmware to a card <em>bootcode</em> is a t4-file. The actual versions of the t4-files for the different D channel protocols can be found at ftp://ftp.in-berlin.de/pub/capi4linux/firmware/b1/</p><p>You need different t4-files for different D channel protocols: b1-1tr6.t4 for 1TR6, b1.t4 for DSS1 and</p><p>b1-usa.t4 for 5ESS and NI1 (DSS1 is also supported).</p><p>For M1/M2 PCMCIA cards you need m1-s10.t4 or m1-s4.t4 depending on the handy type used.</p><p><em>contrnr</em> is the number of the controller (card) starting from 1.</p><p><em>protocol</em> can be DSS1, CT1, VN3, AUSTEL, 5ESS or NI1.</p><p><em>P2P</em> point to point</p><p><em>DN1:SPID1 DN2:SPID2</em> is for the american protocols 5ESS and NI1.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>reset [contrnr]</strong></p>
  </dt>
  <dd>
    <p>is used to reset a card if loading has failed. This function only makes sense if a card is not successfully loaded.</p><p><em>contrnr</em> is the number of the controller (card) starting from 1.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>remove [contrnr]</strong></p>
  </dt>
  <dd>
    <p>is used to remove a card previously added. You can also remove cards added automatically (for example a B1-PCI card).</p><p><em>contrnr</em> is the number of the controller (card) starting from 1.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>trace [contrnr] [off|short|on|full|shortnodata|nodata]</strong></p>
  </dt>
  <dd>
    <p>is used to trace CAPI2.0 messages. The trace will be done as kernel messages, see <strong>dmesg</strong>(8).</p><p><em>contrnr</em> is the number of the controller (card) starting from 1.</p><p><em>off</em> switch off tracing</p><p><em>short</em> switch on "one line per CAPI2.0 message" tracing</p><p><em>on | full</em> switch on "full decode" tracing</p><p><em>shortnodata</em> switch on "one line per CAPI2.0 message" tracing, but exclude DATA_B3_IND and DATA_B3_REQ messages.</p><p><em>on | full</em> switch on full decode tracing, but exclude DATA_B3_IND and DATA_B3_REQ messages.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>addcard &lt;driver&gt; &lt;portbase&gt; &lt;irq&gt; [ &lt;membase&gt; [ &lt;cardnr&gt; ] ]</strong></p>
  </dt>
  <dd>
    <p>is used to add a card, this is more generic than <em>add.</em></p><p><em>driver</em> currently b1isa or t1isa</p><p><em>portbase</em> can have the values 0x150, 0x250, 0x300 and 0x340 for the b1isa driver, look at the jumper on the card. For t1isa driver you can select an wide range of ports.</p><p><em>irq</em> can be selected from the following values: 3, 4, 5, 6, 7, 9, 10, 11, 12 and 15.</p><p><em>membase</em> memory address if needed by driver</p><p><em>cardnr</em> only useful with driver t1isa</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Carsten Paeth &lt;calle@calle.in-berlin.de&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO avmcapictrl&hellip;</h2>
        <div class="sectioncontent">
<p><em>ttyI (4),</em> <em>isdnctrl (8),</em> <em>isdninfo (4).</em> <em>dmesg (8).</em> <em>syslogd (8).</em></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="avisd.8.html"><span aria-hidden="true">&larr;</span> avisd.8: Run the avis router</a></li>
   <li class="next"><a href="avr-evtd.8.html">avr-evtd.8: Linkstation avr event daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
