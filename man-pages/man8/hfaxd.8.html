<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hfaxd: \*(fx client-server protocol server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="\*(fx client-server protocol server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="hfaxd (8) manual">
  <meta name="twitter:description" content="\*(fx client-server protocol server">
  <meta name="twitter:image" content="https://www.carta.tech/images/hylafax-server-hfaxd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/hfaxd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="hfaxd (8) manual" />
  <meta property="og:description" content="\*(fx client-server protocol server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/hylafax-server-hfaxd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">hfaxd<small> (8)</small></h1>
        <p class="lead">\*(fx client-server protocol server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/hfaxd.8.html">
      <span itemprop="name">hfaxd: \*(fx client-server protocol server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/hylafax-server/">
      <span itemprop="name">hylafax-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/hfaxd.8.html">
      <span itemprop="name">hfaxd: \*(fx client-server protocol server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/usr/sbin/hfaxd</strong> [ <strong>-d</strong> ] [ <strong>-q</strong> <em>dir</em> ] [ <strong>-o</strong> <em>port</em> ] [ <strong>-O</strong> ] [ <strong>-l</strong> <em>bindaddress</em> ] [ <strong>-i</strong> <em>port</em> ] [ <strong>-I</strong> ] [ <strong>-s</strong> <em>port</em> ] [ <strong>-S</strong> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>hfaxd</em> is the \*(Fx program that implements the server portion of:</p><ul>
<li><p>the client-server protocol and</p></li><li><p>the Simple Network Paging Protocol (\s-1SNPP\s+1) used to submit message pager jobs to the IXO/TAP and UCP support.</p></li>
</ul><p>Additional client-server protocols are planned and <em>hfaxd</em> is intended to be the ``carrier'' through which they are supported.</p><p><em>hfaxd</em> is typically used in one of two ways; either as a standalone process that is started at system boot time to listen for client connections on one or more ports (in which case the -i, -o, or -s option must be used), or as a subservient process to the <strong>inetd</strong>(8) program. The two forms of use may however be combined so long as the same service is not provided both by the standalone <em>hfaxd</em> and through <em>inetd</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HYLAFAX (NEW) CLIENT-SERVER PROTOCOL SUPPORT</h2>
        <div class="sectioncontent">
<p>If <em>hfaxd</em> is started with the <strong>-i</strong> option it will service clients using the \*(Fx client-server protocol. This protocol is strongly related to the Internet File Transfer Protocol (\s-1FTP\s+1); so much so in fact that \s-1FTP\s+1 client programs that include support for ``quoted commands'' may be used to communicate with <em>hfaxd</em> using the new protocol. (It should also be possible to use \s-1FTP\s+1-aware World Wide Web browsers such as Mosaic and Netscape Navigator to access \*(Fx servers through the new protocol; but the current format for information returned in directory listings confuses them.)</p><p>The <em>hfaxd</em> server currently recognizes the following protocol requests; case is not distinguished. Entries marked with a \(S1 can be used only when the client has established administrative privileges with \s-1ADMIN\s+1.</p>
<pre>
<strong>Request	Description</strong>
ABOR	abort previous command
ACCT	specify account (ignored)
ADMIN	specify password for administrative privileges
ALLO	allocate storage (vacuously)
ANSWER\(S1	request that call be answered
APPE	append to a file
CDUP	change to parent of current working directory
CHMOD	change mode of a file
CHOWN\(S1	change owner of a file
CWD	change working directory
DELE	delete a file
DISABLE\(S1	disable outbound use of modem
ENABLE\(S1	enable outbound use of modem
HELP	give help information
FILEFMT	specify/query format for returning file status
FILESORTFMT	specify/query format for sorting file status listing
FORM	specify data transfer <em>format</em>
IDLE	set idle-timer (in seconds)
JDELE	delete done or suspended job
JINTR	interrupt job
JKILL	kill job
JNEW	create new job
JOB	set/query current job
JOBFMT	specify/query format for returning job status
JOBSORTFMT	specify/query format for sorting job status listing
JPARM	specify/query job state parameter
JREST	reset current job state
JSUBM	submit job to scheduler
JSUSP	suspend job from scheduling
JWAIT	wait for job to complete
JGDELE	delete group of jobs
JGKILL	kill group of jobs
JGINTR	interrupt group of jobs
JGNEW	place current job in a new job group
JGPARM	set state parameter in a group of jobs
JGREST	reset current state for a group of jobs
JGRP	set/query current job group
JGSUBM	submit group of jobs to scheduler
JGSUSP	suspend group of jobs from scheduling
JGWAIT	wait for group of jobs to complete
LIST	list files in a directory
MDTM	show last modification time of file
MODE	specify data transfer <em>mode</em>
MDMFMT	specify/query format for returning modem status
MDMSORTFMT	specify/query format for sorting modem status listing
NLST	give name list of files in directory
NOOP	do nothing
PASS	specify password
PASV	prepare for server-to-server transfer
PORT	specify data connection port
PWD	print the current working directory
QUIT	terminate session
RCVFMT	specify/query format for returning received facsimile status
RCVSORTFMT	specify/query format for sorting received facsimile status listing
REIN	reinitiate server state
REST	restart incomplete transfer
RETP	retrieve the next page in a file
RETR	retrieve a file
SHUT	schedule server shutdown
SITE	non-standard commands (see next section)
SIZE	return size of file
STAT	return status of server or file
STOR	store a file
STOT	store a temporary file with a unique name
STOU	store a file with a unique name
STRU	specify data transfer <em>structure</em>
SYST	show operating system type of server system
TYPE	specify data transfer <em>type</em>
TZONE	specify timezone handling for dates and times
USER	specify user name
VRFY	verify dialstring handling and/or least-cost routing
</pre>
<p>The following non-standard or experimental commands are supported through the \s-1SITE\s+1 request.</p>
<pre>
<strong>Request	Description</strong>
ADDMODEM\(S1	add/configure new modem for use
ADDUSER\(S1	add client access control entry
CONFIG\(S1	send configuration parameter setting to server
DELMODEM\(S1	deconfigure/remove modem
DELUSER\(S1	remove client access control entry
TRIGGER	register realtime event trigger
HELP	give help information, e.g., SITE HELP
</pre>
<p>In addition \s-1FTP\s+1 requests that are specified in Internet RFC 959 but not listed here are recognized, but not implemented.</p><p>The <em>hfaxd</em> server will abort an active data transfer only when the \s-1ABOR\s+1 command is preceded by a Telnet "Interrupt Process" (IP) signal and a Telnet "Synch" signal in the command Telnet stream, as described in Internet \s-1RFC\s+1 959. If a \s-1STAT\s+1 command is received during a data transfer, preceded by a Telnet IP and Synch, transfer status will be returned.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIMPLE NETWORK PAGING PROTOCOL (SNPP) SUPPORT</h2>
        <div class="sectioncontent">
<p>If <em>hfaxd</em> is started with the <strong>-s</strong> option it will service clients using the Simple Network Pager Protocol (\s-1SNPP\s+1) as specified in \s-1RFC\s+1 1861 (which obsoletes <small>RFC</small> 1645).</p><p>The <em>hfaxd</em> server currently recognizes the \s-1SNPP\s+1 protocol requests listed below. Requests marked with a \(S1 are non-standard extensions to <small>RFC</small> 1861 that may be added to <small>SNPP</small> at some future time. Case is not distinguished and only the first four characters of requests are used in identifying commands.</p>
<pre>
<strong>Request	Description</strong>
2WAY	preface a 2-way transaction
ABOR\(S1	abort previous command
ACKR	set read acknowledgement handling for subsequent requests
ALER	set the alter-level for subsequent requests
CALL	set the caller-ID for subsequent requests
COVE	set the alternate coverage area for subsequent requests
DATA	specify a multi-line message
EXPT	set the expiration time for subsequent requests
HELP	give help information
HOLD	set the time at which subsequent requests are to be delivered
KTAG	kill a previously submitted request
LEVE	set the service level for subsequent requests
LOGI	login to server
MCRE	specify multiple response text and code
MESS	specify a single-line message
MSTA	return the status of a previously submitted request
NOQU	disable message queueing
PAGE	specify the destination pager
PING	locate/validate a pager
QUIT	terminate session
RESE	reset server state
RTYP	set the reply type code for subsequent requests
SEND	send message(s)
SITE\(S1	site-specific commands (see next section)
STAT\(S1	return server status
SUBJ	set the message text for subsequent requests
</pre>
<p>The <em>hfaxd</em> server will abort an active <small>SEND</small> operation when an <small>ABOR</small> command is preceded by a Telnet "Interrupt Process" (\s-1IP\s+1) signal and a Telnet "Synch" signal in the command Telnet stream.</p><p>The following non-standard or experimental commands are also supported through the <small>SITE</small> request.</p>
<pre>
<strong>Request	Description</strong>
FROMUSER	specify the sender's identity
IDLE	set idle-timer (in seconds)
JPARM	query job parameter status
JQUEUE	control whether or not job is queued
LASTTIME	set the time to terminate an unfinished job
MAILADDR	set the e-mail address to use for notification
MAXDIALS	set the maximum number of times to dial the phone
MAXTRIES	set the maximum number of times to try sending the page
MODEM	set the modem or class of modems to use
NOTIFY	set the e-mail notification
RETRYTIME	set the time to delay between job retries
SCHEDPRI	set the scheduling priority for the job
HELP	give help information, e.g., SITE HELP
</pre>
<p>Note that <em>hfaxd</em> requires that <small>SNPP</small> clients login first with the <small>LOGI</small> directive while <small>RFC</small> 1861 permits clients to submit pages anonymously.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLIENT ACCESS CONTROL</h2>
        <div class="sectioncontent">
<p><em>hfaxd</em> controls client access according to the information in the file <strong>/var/spool/hylafax/etc/hosts.hfaxd</strong>. This file defines the set of users and machines that may receive service and, optionally, defines password challenges to use in authenticating clients. Clients may be permitted access to services with or without a password challenge. Access may also be restricted based on the host machine that a request for service originates from. Consult <a href="../man5/hosts.hfaxd.5.html"><strong>hosts.hfaxd</strong>(5)</a> for information on the format and content of this file. The \s-1SITE ADDUSER\s+1 protocol request is provided for adding new users to a server (available only to clients with administrative privileges).</p><p>Server resources are controlled based on clients' identities. Jobs and documents, both received and submitted, are protected by the server. Typically clients are permitted access to anything they own or that is publicly accessible. There are also administrative privileges that clients may acquire and which permit them wide access to objects that reside on the server.</p><p>A complete client-server protocol specification is still outstanding.</p><p><em>hfaxd</em> operates with its root directory set to the top of the \*(Fx spooling area; /var/spool/hylafax. This is done so that clients see a virtual file hierarchy that is completely contained within the \*(Fx operating environment on the server machine. Administrators however must be aware of this action when specifying files in the <em>hfaxd</em> configuration file: absolute pathnames relative to the root of the spooling should be used to specify filenames.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SERVER ACCESS CONTROL</h2>
        <div class="sectioncontent">
<p>The file <strong>/var/spool/hylafax/etc/shutdown</strong>, when present, specifies when to restrict access to a server machine. When this file is present and contains valid information <em>hfaxd</em> will permit only users with administrative privileges to access the server. Any other users that request service will be denied access and negative server responses will include any shutdown message specified in the shutdown file. Consult <a href="../man5/hylafax-shutdown.5.html"><strong>hylafax-shutdown</strong>(5)</a> for information on the format and content of this file.</p><p>The \s-1SHUT\s+1 protocol request can be used to schedule a server shutdown; it is available only to clients with administrative privileges. To make a shutdown server available again the shutdown file can be deleted with the \s-1DELE\s+1 protocol request (<em>this is to be replaced with an ``unshut''</em> protocol request so that implementation details are not part of the protocol).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILES</h2>
        <div class="sectioncontent">
<p><em>hfaxd</em> reads configuration information from the file <strong>/etc/hylafax/hfaxd.conf</strong> each time a new server process is started (i.e. for each new client). This file uses the same conventions used by other \*(Fx configuration files; as described in <a href="../man5/hylafax-config.5.html"><strong>hylafax-config</strong>(5)</a>. The following configuration parameters are recognized; items marked ``(\s-1SNPP\s+1)'' are used only by the \s-1SNPP\s+1 support.</p>
<pre>
<strong>Tag	Type	Default	Description</strong>
AllowSortFormat	boolean	\s-1true\s+1	Allow client to request sorting formats
FaxContact	string	\s-1<em>see below</em>\s+1	contact address to show in help text
FileFmt	string	\s-1<em>see below</em>\s+1	format string for file status results
FileSortFmt	string	\s-1-\s+1	format string for sorting file status listing
IdleTimeout	integer	\s-1900\s+1	client idle timeout in seconds
JobFmt	string	\s-1<em>see below</em>\s+1	format string for job status results
JobSortFmt	string	\s-1-\s+1	format string for sorting job status listing
JobProtection	octal	\s-10444\s+1	permissions for job qfiles in sendq/doneq
KillTimeMap	string	\s-1<em>see below</em>\s+1	mapping from service level to job kill time (\s-1SNPP\s+1)
LogFacility	string	\s-1daemon\s+1	<em>syslog</em> facility name for tracing messages
MaxAdminAttempts	integer	\s-15\s+1	maximum admin attempts before disconnecting
MaxConsecutiveBadCmds	integer	\s-110\s+1	maximum invalid commands before disconnecting
MaxIdleTimeout	integer	\s-17200\s+1	maximum client idle timeout permitted
MaxLoginAttempts	integer	\s-15\s+1	maximum login attempts before disconnecting
MaxMsgLength	integer	128	maximum pager message length (\s-1SNPP\s+1)
ModemFmt	string	\s-1<em>see below</em>\s+1	format string for modem status results
ModemSortFmt	string	\s-1-\s+1	format string for sorting modem status listing
PagerIDMapFile	string	\s-1/var/spool/hylafax/etc/pagermap\s+1	name of file for mapping pager IDs (\s-1SNPP\s+1)
PriorityMap	string	\s-1<em>see below</em>\s+1	mapping from service level to job priority (\s-1SNPP\s+1)
PublicJobQ	boolean	\s-1true\s+1	Allow public listing access to the sendq/doneq
PublicRecvQ	boolean	\s-1true\s+1	Allow public listing access to the recvq
RcvFmt	string	\s-1<em>see below</em>\s+1	format string for received facsimile status results
RcvSortFmt	string	\s-1-\s+1	format string for sorting received facsimile status results listing
RetryTimeMap	string	\s-1<em>see below</em>\s+1	mapping from service level to job retry time (\s-1SNPP\s+1)
ServerTracing	integer	\s-11\s+1	server tracing control vector
ShutdownFile	string	\s-1/var/spool/hylafax/etc/shutdown\s+1	name of shutdown control file
UserAccessFile	string	\s-1/var/spool/hylafax/etc/hosts.hfaxd\s+1	name of access control file
XferLogFile	string	\s-1/var/spool/hylafax/etc/clientlog\s+1	name of file for logging client data transfers
</pre>
<p>The configuration parameters are explained below:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>AllowSortFormat</strong></p>
  </dt>
  <dd>
    <p>This controls whether the server accept the *SORTFMT commands which the client issues to change the server sort the listings.</p>
  </dd>
  <dt>
    <p><strong>FaxContact</strong></p>
  </dt>
  <dd>
    <p>The e-mail address to display as a point of contact in the help text returned to a client in response to the \s-1HELP\s+1 or \s-1SITE HELP\s+1 commands. By default this is ``FaxMaster@<em>hostname</em>'', where <em>hostname</em> is the fully qualified name for the machine where the server is running.</p>
  </dd>
  <dt>
    <p><strong>FileFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when returning file status information with the \s-1LIST\s+1 and \s-1STAT\s+1 commands. Formats are specified using <em>printf</em>(3S) style conventions but using the field identifiers listed below. Each item can include field width, precision, left-justification, 0-filling, etc. just as for <em>printf</em>; e.g. %-8p for an 8-character wide, left-justified, blank-padded field containing the file protection flags.</p><ul>
<li>
<pre>
<strong>Format	Description</strong>
a	Last access time
c	Creation time
d	Device number (octal)
f	Filename
g	Group identifier (decimal)
i	Inode number (decimal)
l	Link count (decimal)
m	Last modification time
o	Owner (based on file \s-1GID\s+1)
p	Fax-style protection flags (no group bits)
q	\s-1UNIX\s+1-style protection flags
r	Root device number (octal)
s	File size in bytes (decimal)
u	User identifier (decimal)
</pre>
</li><li><p>The default format string is ``%-7p %3l %8o %8s %-12.12m %.48f''. It is recommended that all items include a field width so that client applications that construct headers from the format string can constrain the width of column title strings.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>FileSortFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when sorting the listing for directories using the LIST command.  Follows the FileFmt formatting rules.</p>
  </dd>
  <dt>
    <p><strong>IdleTimeout</strong></p>
  </dt>
  <dd>
    <p>The initial/default timeout to use in timing out idle clients. This value defines the maximum amount of time (in seconds) that <em>hfaxd</em> will wait for a command from a client before terminating the connection. Unprivileged clients may alter the idle timeout up to the value of <em>MaxIdleTimeout</em>; privileged clients may set the timeout to any value.</p>
  </dd>
  <dt>
    <p><strong>JobFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when returning job status information for jobs in the <strong>sendq</strong> and <strong>doneq</strong> directories. Formats are specified using <em>printf</em>(3S) style conventions but using the field identifiers listed below. Each item can include field width, precision, left-justification, 0-filling, etc. just as for <em>printf</em>; e.g. %-3j for a 3-character wide, left-justified, blank-padded field containing the job state.</p><ul>
<li>
<pre>
<strong>Format	Description</strong>
A	Destination SubAddress
B	Destination Password
C	Destination company name
D	Total # dials/maximum # dials
E	Desired signalling rate
F	Client-specific tagline format string
G	Desired min-scanline time
H	Desired data format
I	Client-specified scheduling priority
J	Client-specified job tag string
K	Desired use of ECM
L	Destination geographic location
M	Notification e-mail address
N	Desired use of private tagline (one-character symbol)
O	Whether to use continuation cover page (one-character symbol)
P	# pages transmitted/total # pages to transmit
Q	Client-specified minimum acceptable signalling rate
R	Destination person (receiver)
S	Sender's identity
T	Total # tries/maximum # tries
U	Page chopping threshold (inches)
V	Job done operation
W	Communication identifier
X	Job type (one-character symbol)
Y	Scheduled date and time
Z	Scheduled time in seconds since the UNIX epoch
a	Job state (one-character symbol)
b	# consecutive failed tries
c	Client machine name
d	Total # dials
e	Public (external) format of dialstring
f	# consecutive failed dials
g	Group identifier
h	Page chop handling (one-character symbol)
i	Current scheduling priority
j	Job identifier
k	Job kill time
l	Page length in mm
m	Assigned modem
n	E-mail notification handling (one-character symbol)
o	Job owner
p	# pages transmitted
q	Job retry time (MM::SS)
r	Document resolution in lines/inch
s	Job status information from last failure
t	Total # tries attempted
u	Maximum # tries
v	Client-specified dialstring
w	Page width in mm
x	Maximum # dials
y	Total # pages to transmit
z	Time to send job
</pre>
</li><li><p>The default format string is ``%-4j %3i %1a %6.6o %-12.12e %5P %5D %7z %.25s''. This string constrains each status line to be less than 80 characters. It is recommended that all items include a field width so that client applications, such as <a href="../man1/faxstat.1.html"><strong>faxstat</strong>(1)</a> that construct headers from the format string can constrain the width of column title strings.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>JobSortFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when sorting the listing for jobs in the sendq and doneq directories.  Follows the JobFmt formatting rules.</p>
  </dd>
  <dt>
    <p><strong>JobProtection</strong></p>
  </dt>
  <dd>
    <p>The file mode setting for job qfiles in the \*(Fx queues (sendq and doneq). The default setting of ``0644'' allows all users to view all job parameters in the send/done queues.  If <em>PublicJobQ</em> is set to false, then this file mode determines the permissions of the clients to see the jobs, following the \*(Fx permission model of the group bits controlling uid permissions and the other bits controlling other permissions.</p>
  </dd>
  <dt>
    <p><strong>KillTimeMap</strong></p>
  </dt>
  <dd>
    <p>The mapping from \s-1SNPP\s+1 service level (0-11) to job expiration time (kill time). A mapping is specified as a string of space-separate numbers where each value is the number of minutes to permit a job to run. The default mapping is ``5 5 5 15 60 240 720 1440 1440 1440 1440 1440'' which expires a job in 5 minutes for service levels 0-2, 15 minutes for level three, 60 minutes for level four, etc.</p>
  </dd>
  <dt>
    <p><strong>LogFacility</strong></p>
  </dt>
  <dd>
    <p>The symbolic name for the <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> facility to use when logging error messages and informational/debugging messages requested through the <strong>ServerTracing</strong> parameter. The list of facility names is found in the system include file <strong>&lt;syslog.h&gt;</strong>; comparisons are case-insensitive.</p>
  </dd>
  <dt>
    <p><strong>MaxAdminAttempts</strong></p>
  </dt>
  <dd>
    <p>The maximum number of unsuccessful attempts gain administrative privileges with the \s-1ADMIN\s+1 command that <em>hfaxd</em> will permit a client before terminating the connection. Note that the count of attempts is reset if/when the client successfully gains administrative privileges.</p>
  </dd>
  <dt>
    <p><strong>MaxConsecutiveBadCmds</strong></p>
  </dt>
  <dd>
    <p>The maximum number of consecutive unrecognized, unimplemented, syntactically incorrect, or otherwise unacceptable commands to permit a client before terminating the connection. This control has two purposes: to handle naive or malicious clients from sending long streams of nonsense commands to a server, and to insure that clients are forcibly terminated when a server is marked shutdown.</p>
  </dd>
  <dt>
    <p><strong>MaxIdleTimeout</strong></p>
  </dt>
  <dd>
    <p>The maximum value that a client may set the idle timeout to. This value is not enforced if the client has administrative privileges.</p>
  </dd>
  <dt>
    <p><strong>MaxLoginAttempts</strong></p>
  </dt>
  <dd>
    <p>The maximum number of unsuccessful attempts to login with the \s-1USER\s+1 and \s-1PASS\s+1 commands that <em>hfaxd</em> will permit a client before terminating the connection.</p>
  </dd>
  <dt>
    <p><strong>MaxMsgLength</strong></p>
  </dt>
  <dd>
    <p>The maximum number of characters to accept in a pager message specified with the \s-1DATA\s+1 or \s-1MESS\s+1 commands. Messages longer than this value are rejected.</p>
  </dd>
  <dt>
    <p><strong>ModemFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when returning modem status information for modems listed in the <strong>status</strong> directory. Formats are specified using <em>printf</em>(3S) style conventions but using the field identifiers listed below. Each item can include field width, precision, left-justification, 0-filling, etc. just as for <em>printf</em>; e.g. %-8h for an 8-character wide, left-justified, blank-padded field containing the name of the host the server is running on.</p><ul>
<li>
<pre>
<strong>Format	Description</strong>
h	Server hostname
l	Local identifier string
m	Canonical modem name
n	FAX phone number
r	Maximum pages that can be received in a single call
s	Status information string
t	Server and session tracing levels (xxxxx:yyyyy)
v	Modem speaker volume as one-character symbol
z	A ``*'' if a <em>faxgetty</em>\|(8) process is running; otherwise `` '' (space)
</pre>
</li><li><p>The default format string is ``Modem %m (%n): %s''.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>ModemSortFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when sorting the listsin for  modem status information in the status directory.</p>
  </dd>
  <dt>
    <p><strong>PagerIDMapFile</strong></p>
  </dt>
  <dd>
    <p>The absolute pathname of the file that contains directions for mapping pager identifiers to \s-1IXO/TAP\s+1 or \s-1UCP\s+1 service providers (and optionally a pager identification number). Consult <a href="../man5/pagermap.5.html"><strong>pagermap</strong>(5)</a> for information on the format and content of this file. (Note that absolute pathnames are relative to the root of the spooling area).</p>
  </dd>
  <dt>
    <p><strong>PriorityMap</strong></p>
  </dt>
  <dd>
    <p>The mapping from \s-1SNPP\s+1 service level (0-11) to job scheduling priority. A mapping is specified as a string of space-separate numbers where each value is the priority to assign to a job. The default mapping is ``63 127 127 127 127 127 127 127 127 127 127 127'' which assigns a high priority to service level zero and normal (default) priority to all other service levels.</p>
  </dd>
  <dt>
    <p><strong>PublicJobQ</strong></p>
  </dt>
  <dd>
    <p>By default, HylaFAX has always made the listings of the sendq/doneq include all jobs to any client connected to hfaxd.  By setting this to false, hfaxd will also enforce it's normal access restrictions on the listing of jobs in the sendq/doneq.  These access restrictions are based on the file mode (see <em>JobProtection</em> ) and the logged in uid (see <em>hosts.hfaxd</em> )</p>
  </dd>
  <dt>
    <p><strong>PublicRecvQ</strong></p>
  </dt>
  <dd>
    <p>By default, HylaFAX has always made the listings of the recvq include all faxes to any client connected to hfaxd.  By setting this to false, hfaxd will also enforce it's normal access restrictions on the listing of faxes in the recvq.  These access restrictions are based on the file mode <em>faxgetty</em> (and it's related <em>FaxDispatch</em> ) set for the fax, and the logged in uid (see <em>hosts.hfaxd</em> )</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>RcvFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when returning status information for received facsimile in the <strong>recvq</strong> directory. Formats are specified using <em>printf</em>(3S) style conventions but using the field identifiers listed below. Each item can include field width, precision, left-justification, 0-filling, etc. just as for <em>printf</em>; e.g. %-3b for a 3-character wide, left-justified, blank-padded field containing the signalling rate.</p><ul>
<li>
<pre>
<strong>Format	Description</strong>
a	SubAddress received from sender (if any)
b	Signalling rate used during receive
d	Data format used during receive
e	Error description if an error occurred during receive
f	Document filename (relative to the <strong>recvq</strong> directory)
h	Time spent receiving document (HH:MM:SS)
l	Page length in mm
m	Fax-style protection mode string (``-rwxrwx'')
n	File size (number of bytes)
o	File owner
p	Number of pages in document
q	\s-1UNIX\s+1-style protection flags
r	Resolution of received data
s	Sender identity (\s-1TSI\s+1)
t	Compact representation of the time when the receive happened
w	Page width in mm
z	A ``*'' if receive is going on; otherwise `` '' (space)
</pre>
</li><li><p>The default format string is ``%-7m %4p%1z %-8.8o %14.14s %7t %f''. This string constrains each status line to be less than 80 characters. It is recommended that all items include a field width so that client applications, such as <a href="../man1/faxstat.1.html"><strong>faxstat</strong>(1)</a> that construct headers from the format string can constrain the width of column title strings.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>RcvSortFmt</strong></p>
  </dt>
  <dd>
    <p>The format string to use when sorting the listing for received facsimile in the recvq directory.  Follows the RcvFmt formatting rules.</p>
  </dd>
  <dt>
    <p><strong>RetryTimeMap</strong></p>
  </dt>
  <dd>
    <p>The mapping from \s-1SNPP\s+1 service level (0-11) to job retry time. A mapping is specified as a string of space-separate numbers where each value is the number of seconds to delay between delivery attempts. A value of zero causes retries to be scheduled using the default algorithm used by the \*(Fx job scheduler. The default mapping is ``30 60 60 180 0 0 0 0 0 0 0 0'' which retries a level 0 job after a 30 second delay, levels 1 and 2 after 60 seconds, level 3 after 3 minutes, and other jobs are retried according to the usual scheduling algorithm.</p>
  </dd>
  <dt>
    <p><strong>ServerTracing</strong></p>
  </dt>
  <dd>
    <p>A number that controls the generation of tracing information by a server. <em>areas</em> that are individually controlled. To enable tracing of multiple areas of operation, the flag associated with each area should be bit-or'd to form the value for this tag.</p>
<pre>
<strong>Flag	Description</strong>
1 (0x00001)	General server operation
2 (0x00002)	Client-server protocol requests and responses
4 (0x00004)	File transfers from client to server
8 (0x00008)	File transfers from server to client
16 (0x00010)	Client logins
32 (0x00020)	All network connections
64 (0x00040)	\s-1FIFO\s+1 messages to and from <em>faxq</em>\|(8)
128 (0x00080)	\s-1TIFF\s+1 Library errors and warnings
256 (0x00100)	Configuration file processing

</pre>
<ul>
<li><p>Tracing messages are directed to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> using the <em>facility</em> specified with the <strong>LogFacility</strong> configuration parameter. Note that <strong>syslogd</strong>(8) must be configured to capture <em>facility.info</em>, <em>facility.debug</em>, <em>facility.warning</em>, and <em>facility.err</em> messages.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>ShutdownFile</strong></p>
  </dt>
  <dd>
    <p>The absolute pathname of the server shutdown file; see <a href="../man5/hylafax-shutdown.5.html"><strong>hylafax-shutdown</strong>(5)</a> for information on the format and content of this file. (Note that absolute pathnames are relative to the root of the spooling area).</p>
  </dd>
  <dt>
    <p><strong>UserAccessFile</strong></p>
  </dt>
  <dd>
    <p>The absolute pathname of the user access control file; see <a href="../man5/hosts.hfaxd.5.html"><strong>hosts.hfaxd</strong>(5)</a> for information on the format and content of this file. (Note that absolute pathnames are relative to the root of the spooling area).</p>
  </dd>
  <dt>
    <p><strong>XferLogFile</strong></p>
  </dt>
  <dd>
    <p>The absolute pathname of the file to use for logging client-server file transfers (when enabled through the <strong>ServerTracing</strong> parameter). (Note that absolute pathnames are relative to the root of the spooling area).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-q</strong><em> dir</em></p>
  </dt>
  <dd>
    <p>The specified directory is treated as the spooling area. The default spooling area, <em>/var/spool/hylafax</em>, is defined at the time the software is built.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Stop <em>hfaxd</em> from <em>detaching</em> itself from the controlling terminal. This option is normally used only when running <em>hfaxd</em> under a debugger or when <em>hfaxd</em> is started up from the <strong>inetd</strong>(8) process.</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em> bindaddress</em></p>
  </dt>
  <dd>
    <p>Bind to the specified <em>bindaddress</em> the tcp port. Please note that this argument need to be specified before the <strong>-i</strong> otherwise it will be ignored. A better approach to improve security would be to run hfaxd from xinetd, binding its service to the specific port. This will also make hylafax benefits from tcp wrappers and other options provided by xinetd.</p>
  </dd>
  <dt>
    <p><strong>-i</strong><em> port</em></p>
  </dt>
  <dd>
    <p>Listen on the specified <em>port</em> for service requests and respond with the client-server protocol. The port may be specified either symbolically, e.g. ``hylafax'' or numerically. This flag may be specified multiple times to request service on multiple different ports.  Each time this flag is specified, it will listen on the specified port, bound to the last <strong>-l</strong><em> bindaddress</em> specified.  If no <strong>-l</strong><em> bindaddress</em> was specified, it will bind to the system configured default wildcard address, which could be any of IPv6, or IPv4, or both.</p>
  </dd>
  <dt>
    <p><strong>-s</strong><em> port</em></p>
  </dt>
  <dd>
    <p>Listen on the specified <em>port</em> for service requests and respond with the Simple Network Paging (SNPP) protocol. The port may be specified either symbolically, e.g. ``snpp'' or numerically. This flag may be specified multiple times to request service on multiple different ports.</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p>Service the client-server protocol using the standard input and output. This option is useful when <em>hfaxd</em> is started up by <strong>inetd</strong>(8).</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Service the Simple Network Paging (SNPP) protocol using the standard input and output. This option is useful when <em>hfaxd</em> is started up by <strong>inetd</strong>(8).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>Diagnostics generated by <em>hfaxd</em> are logged using <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
/etc/hylafax/hfaxd.conf	server configuration file
/var/spool/hylafax	spooling area
/var/spool/hylafax/FIFO	for submitting the job
/var/spool/hylafax/sendq	where job description is placed
/var/spool/hylafax/sendq/seqf	for assigning job identifiers
/var/spool/hylafax/docq/seqf	for assigning document identifiers
/var/spool/hylafax/tmp	temporary location of job-related files
/var/spool/hylafax/docq	where document files are placed
/var/spool/hylafax/recvq	where received facsimile are found
/var/spool/hylafax/archive	where archived jobs are placed
/var/spool/hylafax/log	for server log files
/var/spool/hylafax/client	for \s-1FIFO\s+1 files used in communicating with <em>faxq</em>
/var/spool/hylafax/status	for server status information
/var/spool/hylafax/config.<em>device</em>	for returning server status
/var/spool/hylafax/etc/hosts.hfaxd	host access control list
/var/spool/hylafax/etc/shutdown	server shutdown control
/var/spool/hylafax/etc/pagermap	\s-1SNPP\s+1 pager ID mapping file
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>To be filled in.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO hfaxd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/sendfax.1.html"><strong>sendfax</strong>(1)</a>, <a href="../man1/sendpage.1.html"><strong>sendpage</strong>(1)</a>, <a href="../man1/faxalter.1.html"><strong>faxalter</strong>(1)</a>, <a href="../man1/faxrm.1.html"><strong>faxrm</strong>(1)</a>, <a href="../man1/faxstat.1.html"><strong>faxstat</strong>(1)</a>, <a href="../man8/faxq.8.html"><strong>faxq</strong>(8)</a>, <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> <a href="../man5/hylafax-server.5.html"><strong>hylafax-server</strong>(5)</a>, <a href="../man5/hosts.hfaxd.5.html"><strong>hosts.hfaxd</strong>(5)</a>, <a href="../man5/status.5.html"><strong>status</strong>(5)</a>, <a href="../man5/hylafax-shutdown.5.html"><strong>hylafax-shutdown</strong>(5)</a>,</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="heartbeat.8.html"><span aria-hidden="true">&larr;</span> heartbeat.8: Heartbeat subsystem for high-availability linux</a></li>
   <li class="next"><a href="hg-ssh.8.html">hg-ssh.8: Restricted ssh login shell for mercurial <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
