<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>opendmarc: Dmarc email policy filter for mtas</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Dmarc email policy filter for mtas">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="opendmarc (8) manual">
  <meta name="twitter:description" content="Dmarc email policy filter for mtas">
  <meta name="twitter:image" content="https://www.carta.tech/images/opendmarc-opendmarc-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/opendmarc.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="opendmarc (8) manual" />
  <meta property="og:description" content="Dmarc email policy filter for mtas" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/opendmarc-opendmarc-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">opendmarc<small> (8)</small></h1>
        <p class="lead">Dmarc email policy filter for mtas</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/opendmarc.8.html">
      <span itemprop="name">opendmarc: Dmarc email policy filter for mtas</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/opendmarc/">
      <span itemprop="name">opendmarc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/opendmarc.8.html">
      <span itemprop="name">opendmarc: Dmarc email policy filter for mtas</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>opendmarc</strong> [-A] [-c configfile] [-f] [-l] [-n] [-p socketspec] [-P pidfile] [-t file[,file[...]]] [-u userid[:group]] [-v] [-V]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>opendmarc</strong> implements the prooposed <strong>DMARC</strong> specification for authentication of message and reporting of observed traffic.</p><p><strong>opendmarc</strong> uses the <em>milter</em> interface, originally distributed as part of version 8.11 of <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a>,</strong> to provide a DMARC processing service for mail transiting a milter-aware MTA.</p><p>Most, if not all, of the command line options listed below can also be set using a configuration file.  See the <em>-c</em> option for details.</p><p><strong>opendmarc</strong> relies on addition of Authentication-Results fields by upsteam filters on trusted hosts to collect input to the DMARC algorithm.  It does not itself do DKIM or SPF evaluation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>-A</em></p>
  </dt>
  <dd>
    <p>Automatically re-start on failures.  Use with caution; if the filter fails instantly after it starts, this can cause a tight <a href="../man2/fork.2.html"><strong>fork</strong>(2)</a></em> loop.  This can be mitigated using some values in the configuration file to limit restarting.  See <a href="../man5/opendmarc.conf.5.html"><strong>opendmarc.conf</strong>(5)</a>.</em></p>
  </dd>
  <dt>
    <p><em>-c configfile</em></p>
  </dt>
  <dd>
    <p>Read the named configuration file.  See the <a href="../man5/opendmarc.conf.5.html"><strong>opendmarc.conf</strong>(5)</a></em> man page for details.  Values in the configuration file are overridden when their equivalents are provided on the command line until a configuration reload occurs.  The OPERATION section describes how reloads are triggered. The default is to read a configuration file from <em>/etc/opendmarc.conf</em> if one exists, or otherwise to apply defaults to all values.</p>
  </dd>
  <dt>
    <p><em>-f</em></p>
  </dt>
  <dd>
    <p>Normally <em>opendmarc</em> forks and exits immediately, leaving the service running in the background. This flag suppresses that behaviour so that it runs in the foreground.</p>
  </dd>
  <dt>
    <p><em>-l</em></p>
  </dt>
  <dd>
    <p>Log via calls to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></em> any interesting activity.</p>
  </dd>
  <dt>
    <p><em>-n</em></p>
  </dt>
  <dd>
    <p>Parse the configuration file and command line arguments, reporting any errors found, and then exit.  The exit value will be 0 if the filter would start up without complaint, or non-zero otherwise.</p>
  </dd>
  <dt>
    <p><em>-p socketspec</em></p>
  </dt>
  <dd>
    <p>Specifies the socket that should be established by the filter to receive connections from <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></em> in order to provide service. <em>socketspec</em> is in one of two forms: <em>local:path</em> which creates a UNIX domain socket at the specified <em>path,</em> or <em>inet:port[@host]</em> or <em>inet6:port[@host]</em> which creates a TCP socket on the specified <em>port</em> within the specified protocol family.  If the <em>host</em> is not given as either a hostname or an IP address, the socket will be listening on all interfaces.  If neither socket type is specified, <em>local</em> is assumed, meaning the parameter is interpreted as a path at which the socket should be created.  If an IP address is used, it must be enclosed in square brackets.  This parameter is mandatory.</p>
  </dd>
  <dt>
    <p><em>-P pidfile</em></p>
  </dt>
  <dd>
    <p>Specifies a file into which the filter should write its process ID at startup.</p>
  </dd>
  <dt>
    <p><em>-t file[,file[,...]]</em></p>
  </dt>
  <dd>
    <p>Reads email messages from the named files and processes them as if they were received by the filter.  The service is not started, and actions normally sent back to the MTA will instead be printed on standard output.</p>
  </dd>
  <dt>
    <p><em>-u userid[:group]</em></p>
  </dt>
  <dd>
    <p>Attempts to be come the specified <em>userid</em> before starting operations.  The process will be assigned all of the groups and primary group ID of the named <em>userid</em> unless an alternate <em>group</em> is specified.  See the FILE PERMISSIONS section for more information.</p>
  </dd>
  <dt>
    <p><em>-v</em></p>
  </dt>
  <dd>
    <p>Increase verbose output during test mode (see <em>-t</em> above).  May be specified more than once to request increasing amounts of output.</p>
  </dd>
  <dt>
    <p><em>-V</em></p>
  </dt>
  <dd>
    <p>Print the version number and supported canonicalization and signature algorithms, and then exit without doing anything else.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNALS</h2>
        <div class="sectioncontent">
<p>Upon receiving SIGUSR1, if the filter was started with a configuration file, it will be re-read and the new values used.  Note that any command line overrides provided at startup time will be lost when this is done.  Also, the following configuration file values (and their corresponding command line items, if any) are not reloaded through this process: AutoRestart (-A), AutoRestartCount, AutoRestartRate, Background, MilterDebug, PidFile (-P), Socket (-p), UMask, UserID (-u).  The filter does not automatically check the configuration file for changes and reload.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This man page covers version 1.3.0 of <em>opendmarc.</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2012, The Trusted Domain Project.  All rights reserved.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO opendmarc&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/opendmarc.conf.5.html"><strong>opendmarc.conf</strong>(5)</a>, <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></em></p><p>Sendmail Operations Guide</p><p>RFC4408 - Sender Policy Framework</p><p>RFC5321 - Simple Mail Transfer Protocol</p><p>RFC5322 - Internet Messages</p><p>RFC5451 - Message Header Field for Indicating Message Authentication Status</p><p>RFC6376 - DomainKeys Identified Mail</p><p>RFC6591 - Authentication Failure Reporting Using the Abuse Reporting Format</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="opendkim-testmsg.8.html"><span aria-hidden="true">&larr;</span> opendkim-testmsg.8: Dkim message tst</a></li>
   <li class="next"><a href="opendmarc-check.8.html">opendmarc-check.8: Dmarc record check tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
