<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>openais_overview: None</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="None">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="openais_overview (8) manual">
  <meta name="twitter:description" content="None">
  <meta name="twitter:image" content="https://www.carta.tech/images/openais-openais_overview-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/openais_overview.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="openais_overview (8) manual" />
  <meta property="og:description" content="None" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/openais-openais_overview-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">openais_overview<small> (8)</small></h1>
        <p class="lead">None</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/openais_overview.8.html">
      <span itemprop="name">openais_overview: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openais/">
      <span itemprop="name">openais</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/openais_overview.8.html">
      <span itemprop="name">openais_overview: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW</h2>
        <div class="sectioncontent">
<p>The openais project is a project to implement a production quality "Revised BSD" licensed implementation of the most recent SA Forum's Application Interface Specification.  The Application Interface Specification is a software API and policies which are used to develop applications that maintain service during faults.  The API consists of Availability Management Framework (AMF) which provides application failover, Cluster Membership (CLM), Checkpointing (CKPT), Eventing (EVT), Messaging (MSG), and Distributed Locking (DLOCK).</p><p>Currently Messaging is unimplemented.</p><p>Faults occur for various reasons:</p><p>* Application Faults</p><p>* Middleware Faults</p><p>* Operating System Faults</p><p>* Hardware Faults</p><p>The major focus of high availability in the past has been to mask hardware faults. Faults in other components of the system have gone unsolved until AIS. AIS can mask many types of faults in applications, middleware, operating systems, or even hardware by providing a simple framework for allowing developers to create redundant applications. These redundant applications can be distributed over multiple nodes such that if any one node faults, another node can recover.</p><p>Application programmers develop applications to periodically record their state using the checkpointing service. When an active application fails, a standby application recovers the state of the application. This technique, called stateful application failover, provides the fundamental difference between openais and other systems that have come before it. With stateful application failover, the end-application user doesn't have to reload the application or redial a telephone. The full state is recorded, so the end-application user sees no interruption in service.</p><p>Because programmers can now distribute applications across multiple processes or nodes, a mechanism must exist for them to communicate. This mechanism is provided by two services. The event service provides a publish/subscribe model for events. The messaging service provides end to end messaging. Finally a mechanism to synchronize access is provided by the distributed lock service.</p><p>The openais project also provides a group messaging toolkit called EVS. The EVS service implements a messaging model known as Extended Virtual Synchrony.  This model allows one sender to transmit to many receivers. Certain guarantees are provided for message and membership delivery which make virtual synchrony ideal for developing distributed applications.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QUICKSTART</h2>
        <div class="sectioncontent">
<p>The openais executive must be configured.  In the directory conf in the source distribution are several files that must be copied to the /etc/ais directory.  If openais is packaged by a distro, this may be complete.</p><p>The directory contains the file openais.conf.  Please read the <a href="../man5/openais.conf.5.html"><strong>openais.conf</strong>(5)</a> man page for details on the configuration options.  The openais project will work out of the box with the default configuration options, although the administrator may desire different options.</p><p>An user and group of the name "ais" must be added to the system.  If openais is packaged from a distro, this step should already be completed. This can be achieved by executing:</p><p>[root@slickdeal root]# adduser ais -g ais</p><p>The openais executive uses cryptographic techniques to ensure authenticity and privacy of the messages.  In order for openais to be secure and operate, a private key must be generated and shared to all processors.</p><p>First generate the key on one of the nodes:</p><p>unix# ais-keygen openais authentication key generator.</p><p>Gathering 1024 bits for key from /dev/random.</p><p>Writing openais key to /etc/ais/authkey.</p><p>After this operation, a private key will be in the file /etc/ais/authkey. This private key must be copied to every processor in the cluster.  If the private key isn't the same for every node, those nodes with nonmatching private keys will not be able to join the same configuration.</p><p>Copy the key to some security transportable storage or use ssh to transmit the key from node to node.  Then install the key with the command:</p><p>unix#: install -D --group=0 --owner=0 --mode=0400 /path_to_authkey/authkey /etc/ais/authkey</p><p>If a message "Invalid digest" appears from the openais executive, the keys are not consistent between processors.</p><p>Finally run the openais executive.  If openais is packaged from a distro, it may be set to start on system start.  It may also be turned off by default in which case the init script for openais must be enabled.</p><p>After running aisexec, a list of all processors IP addresses running the ais executive and configured on the same multicast address will appear.  If they don't appear, there may be a problem with multicast in the distro or hardware. If this happens, participation in the openais mailing list may help solve the problem.  The email address is openais@lists.osdl.org.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING LIBRARIES</h2>
        <div class="sectioncontent">
<p>The openais AIS libraries have header files which must be included in the developer's application.  Once the header file is included, the developer can reference the AIS interfaces.</p><p>The openais project recommends to distros to place include files in /usr/include/openais.  The following include lines must be added to the application to use each of the following services:</p><p>#include &lt;openais/saClm.h&gt; For the Cluster Membership B.01.01 service.</p><p>#include &lt;openais/saCkpt.h&gt; For the Checkpointing B.01.01 service.</p><p>#include &lt;openais/saEvt.h&gt; For the Eventing B.01.01 service.</p><p>#include &lt;openais/ais_amf.h&gt; For the AMF A.01.01 service.</p><p>The openais project recommends to distros to place library files in /usr/lib.  The following link lines must be added to the LDFLAGS section of the makefile.</p><p>-lsaClm For the Cluster Membership B.01.01 service</p><p>-lsaCkpt For the Checkpointing B.01.01 service</p><p>-lsaEvt For the Eventing B.01.01 service</p><p>-lsaAmf For the AMF A.01.01 service</p><p>-lais Specify this to get access to all AIS libraries without specifying each library individually.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IPv6</h2>
        <div class="sectioncontent">
<p>The openais project supports both IPv4 and IPv6 network addresses.  The entire cluster must use either IPv4 or IPv6 for the cluster communication mechanism. In order to use IPv6, IPv6 addresses must be specified in the bindnetaddr and mcastaddr fields in the configuration file.  The nodeid field must also be set.</p><p>An example of this is: nodeid: 2 bindnetaddr: fec0::1:a800:4ff:fe00:20 mcastaddr: ff05::1</p><p>To configure a host for IPv6, use the ifconfig program to add interfaces: box20: ifconfig eth0 add fec0::1:a800:4ff:fe00:20/64 box30: ifconfig eth0 add fec0::1:a800:4ff:fe00:30/64</p><p>If the /64 is not specified, a route for the IPv6 network will not be configured which will cause significant problems.  Make sure a route is available for IPv6 traffic.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARCHITECTURE</h2>
        <div class="sectioncontent">
<p>The AIS libraries are a thin IPC interface to the openais executive.  The openais executive provides services for the SA Forum AIS libraries as well as the EVS and CPG libraries.</p><p>The openais executive uses the Totem extended virtual synchrony protocol.  The advantage to the end user is excellent performance characteristics and a proven protocol with excellent reliability.  This protocol connects the processors in a configuration together so they may communicate.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>The openais executive process uses four environment variables during startup. If these environment variables are not set, defaults will be used.</p>
<dl class='dl-vertical'>
  <dt>
    <p>OPENAIS_MAIN_CONFIG_FILE</p>
  </dt>
  <dd>
    <p>This specifies the fully qualified path to the openais configuration file.</p><p>The default is /etc/ais/openais.conf.</p>
  </dd>
  <dt>
    <p>OPENAIS_AMF_CONFIG_FILE</p>
  </dt>
  <dd>
    <p>This specifies the fully qualified path to the openais Availability Management Framework configuration file.</p><p>The default is /etc/ais/amf.conf.</p>
  </dd>
  <dt>
    <p>OPENAIS_DEFAULT_CONFIG_IFACE</p>
  </dt>
  <dd>
    <p>This specifies the LCRSO that is used to parse the configuration file.  This allows other configuration file parsers to be implemented within the system.</p><p>The default is to use the default openais configuration file parser which parses the format specified in openais.conf (5).</p>
  </dd>
  <dt>
    <p>OPENAIS_TOTEM_AUTHKEY_FILE</p>
  </dt>
  <dd>
    <p>This specifies the fully qualified path to the shared key used to authenticate and encrypt data used within the Totem protocol.</p><p>The default is /etc/ais/authkey.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>The openais executive optionally encrypts all messages sent over the network using the SOBER-128 stream cipher.  The openais executive uses HMAC and SHA1 to authenticate all messages.  The openais executive library uses SOBER-128 as a pseudo random number generator.  The EVS library feeds the PRNG using the /dev/random Linux device.</p><p>If membership messages can be captured by intruders, it is possible to execute a denial of service attack on the cluster.  In this scenario, the cluster is likely already compromised and a DOS attack is the least of the administration's worries.</p><p>The security in openais does not offer perfect forward secrecy because the keys are reused.  It may be possible for an intruder by capturing packets in an automated fashion to determine the shared key.  No such automated attack has been published as of yet.  In this scenario, the cluster is likely already compromised to allow the long-term capture of transmitted data.</p><p>For security reasons, the openais executive binary aisexec should NEVER be setuid or setgid in the filesystem.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SAFTEST COMPLIANCE</h2>
        <div class="sectioncontent">
<p>The openais libraries are now nearly compliant with every aspect of the SA Forum's AIS specification.  The AMF service, however, is not compliant with the B.01.01 specification.  The remaining services pass most of the tests of the saftest suite against the B.01.01 specification.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The messaging service is partially implemented and not suitable for deployment. The distributed locking service is buggy and not suitable for deployment. The Availability Management Framework is under development and not suitable for deployment..</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO openais_overview&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/openais.conf.5.html"><strong>openais.conf</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="open_init_pty.8.html"><span aria-hidden="true">&larr;</span> open_init_pty.8: Run an program under a pseudo terminal</a></li>
   <li class="next"><a href="opendkim.8.html">opendkim.8: Dkim signing and verifying filter for mtas <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
