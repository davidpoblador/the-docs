<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ovs-ofctl: Administer openflow switches</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Administer openflow switches">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ovs-ofctl (8) manual">
  <meta name="twitter:description" content="Administer openflow switches">
  <meta name="twitter:image" content="https://www.carta.tech/images/openvswitch-common-ovs-ofctl-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ovs-ofctl.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ovs-ofctl (8) manual" />
  <meta property="og:description" content="Administer openflow switches" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/openvswitch-common-ovs-ofctl-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ovs-ofctl<small> (8)</small></h1>
        <p class="lead">Administer openflow switches</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ovs-ofctl.8.html">
      <span itemprop="name">ovs-ofctl: Administer openflow switches</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openvswitch-common/">
      <span itemprop="name">openvswitch-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ovs-ofctl.8.html">
      <span itemprop="name">ovs-ofctl: Administer openflow switches</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ovs-ofctl</strong> [<em>options</em>] <em>command </em>[<em>switch</em>] [<em>args</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>ovs-ofctl</strong> program is a command line tool for monitoring and administering OpenFlow switches.  It can also show the current state of an OpenFlow switch, including features, configuration, and table entries. It should work with any OpenFlow switch, not just Open vSwitch.</p><h3>OpenFlow Switch Management Commands</h3>
<p>These commands allow <strong>ovs-ofctl</strong> to monitor and administer an OpenFlow switch.  It is able to show the current state of a switch, including features, configuration, and table entries.</p><p>Most of these commands take an argument that specifies the method for connecting to an OpenFlow switch.  The following connection methods are supported:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>ssl:</strong><em>ip</em>[<strong>:</strong><em>port</em>]
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>The specified <em>port</em> on the host at the given <em>ip</em>, which must be expressed as an IP address (not a DNS name) in IPv4 or IPv6 address format.  Wrap IPv6 addresses in square brackets, e.g. <strong>tcp:[::1]:6633</strong>.  For <strong>ssl</strong>, the <strong>--private-key</strong>, <strong>--certificate</strong>, and <strong>--ca-cert</strong> options are mandatory.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If <em>port</em> is not specified, it currently defaults to 6633.  In the future, the default will change to 6653, which is the IANA-defined value.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>unix:</strong><em>file</em></p>
  </dt>
  <dd>
    <p>On POSIX, a Unix domain server socket named <em>file</em>.</p>
<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows, a localhost TCP port written in <em>file</em>.</p>
  </dd>
  <dt>
    <em>file</em>
  </dt>
  <dd>
    <p>This is short for <strong>unix:</strong><em>file</em>, as long as <em>file</em> does not contain a colon.</p>
  </dd>
  <dt>
    <em>bridge</em>
  </dt>
  <dd>
    <p>This is short for <strong>unix:/var/run/openvswitch/</strong><em>bridge</em><strong>.mgmt</strong>, as long as <em>bridge</em> does not contain a colon.</p>
  </dd>
  <dt>
    [<em>type</em><strong>@</strong>]<em>dp</em>
  </dt>
  <dd>
    <p>Attempts to look up the bridge associated with <em>dp</em> and open as above.  If <em>type</em> is given, it specifies the datapath provider of <em>dp</em>, otherwise the default provider <strong>system</strong> is assumed.</p>
  </dd>

</dl>

  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>show </strong><em>switch</em></p>
  </dt>
  <dd>
    <p>Prints to the console information on <em>switch</em>, including information on its flow tables and ports.</p>
  </dd>
  <dt>
    <p><strong>dump-tables </strong><em>switch</em></p>
  </dt>
  <dd>
    <p>Prints to the console statistics for each of the flow tables used by <em>switch</em>.</p>
  </dd>
  <dt>
    <p><strong>dump-table-features </strong><em>switch</em></p>
  </dt>
  <dd>
    <p>Prints to the console features for each of the flow tables used by <em>switch</em>.</p>
  </dd>
  <dt>
    <p><strong>dump-ports </strong><em>switch</em> [<em>netdev</em>]</p>
  </dt>
  <dd>
    <p>Prints to the console statistics for network devices associated with <em>switch</em>.  If <em>netdev</em> is specified, only the statistics associated with that device will be printed.  <em>netdev</em> can be an OpenFlow assigned port number or device name, e.g. <strong>eth0</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>dump-ports-desc </strong><em>switch</em> [<em>port</em>]
  </dt>
  <dd>
    <p>Prints to the console detailed information about network devices associated with <em>switch</em>.  To dump only a specific port, specify its number as <em>port</em>.  Otherwise, if <em>port</em> is omitted, or if it is specified as <strong>ANY</strong>, then all ports are printed.  This is a subset of the information provided by the <strong>show</strong> command.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If the connection to <em>switch</em> negotiates OpenFlow 1.0, 1.2, or 1.2, this command uses an OpenFlow extension only implemented in Open vSwitch (version 1.7 and later).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Only OpenFlow 1.5 and later support dumping a specific port.  Earlier versions of OpenFlow always dump all ports.</p>
  </dd>
  <dt>
    <strong>mod-port </strong><em>switch</em> <em>port</em> <em>action</em>
  </dt>
  <dd>
    <p>Modify characteristics of port <strong>port</strong> in <em>switch</em>.  <em>port</em> may be an OpenFlow port number or name or the keyword <strong>LOCAL</strong> (the preferred way to refer to the OpenFlow local port).  The <em>action</em> may be any one of the following:</p><p>Enable or disable the interface.  This is equivalent to <strong>ifconfig</strong> up or <strong>ifconfig down</strong> on a Unix system.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>stp</strong>
  </dt>
  <dd>
    <p>Enable or disable 802.1D spanning tree protocol (STP) on the interface.  OpenFlow implementations that don't support STP will refuse to enable it.</p>
  </dd>
  <dt>
    <strong>receive</strong>
  </dt>
  <dd>
    <p>Enable or disable OpenFlow processing of packets received on this interface.  When packet processing is disabled, packets will be dropped instead of being processed through the OpenFlow table.  The <strong>receive</strong> or <strong>no-receive</strong> setting applies to all packets except 802.1D spanning tree packets, which are separately controlled by <strong>receive-stp</strong> or <strong>no-receive-stp</strong>.</p>
  </dd>
  <dt>
    <strong>forward</strong>
  </dt>
  <dd>
    <p>Allow or disallow forwarding of traffic to this interface.  By default, forwarding is enabled.</p>
  </dd>
  <dt>
    <strong>flood</strong>
  </dt>
  <dd>
    <p>Controls whether an OpenFlow <strong>flood</strong> action will send traffic out this interface.  By default, flooding is enabled.  Disabling flooding is primarily useful to prevent loops when a spanning tree protocol is not in use.</p>
  </dd>
  <dt>
    <strong>packet-in</strong>
  </dt>
  <dd>
    <p>Controls whether packets received on this interface that do not match a flow table entry generate a ``packet in'' message to the OpenFlow controller.  By default, ``packet in'' messages are enabled.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>show</strong> command displays (among other information) the configuration that <strong>mod-port</strong> changes.</p>
  </dd>
  <dt>
    <strong>get-frags </strong><em>switch</em>
  </dt>
  <dd>
    <p>Prints <em>switch</em>'s fragment handling mode.  See <strong>set-frags</strong>, below, for a description of each fragment handling mode.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>show</strong> command also prints the fragment handling mode among its other output.</p>
  </dd>
  <dt>
    <strong>set-frags </strong><em>switch frag_mode</em>
  </dt>
  <dd>
    <p>Configures <em>switch</em>'s treatment of IPv4 and IPv6 fragments.  The choices for <em>frag_mode</em> are:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>normal</strong>
  </dt>
  <dd>
    <p>Fragments pass through the flow table like non-fragmented packets. The TCP ports, UDP ports, and ICMP type and code fields are always set to 0, even for fragments where that information would otherwise be available (fragments with offset 0).  This is the default fragment handling mode for an OpenFlow switch.</p>
  </dd>
  <dt>
    <strong>drop</strong>
  </dt>
  <dd>
    <p>Fragments are dropped without passing through the flow table.</p>
  </dd>
  <dt>
    <strong>reassemble</strong>
  </dt>
  <dd>
    <p>The switch reassembles fragments into full IP packets before passing them through the flow table.  Open vSwitch does not implement this fragment handling mode.</p>
  </dd>
  <dt>
    <strong>nx-match</strong>
  </dt>
  <dd>
    <p>Fragments pass through the flow table like non-fragmented packets. The TCP ports, UDP ports, and ICMP type and code fields are available for matching for fragments with offset 0, and set to 0 in fragments with nonzero offset.  This mode is a Nicira extension.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>See the description of <strong>ip_frag</strong>, below, for a way to match on whether a packet is a fragment and on its fragment offset.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>dump-flows </strong><em>switch </em>[<em>flows</em>]</p>
  </dt>
  <dd>
    <p>Prints to the console all flow entries in <em>switch</em>'s tables that match <em>flows</em>.  If <em>flows</em> is omitted, all flows in the switch are retrieved.  See <strong>Flow Syntax</strong>, below, for the syntax of <em>flows</em>.  The output format is described in <strong>Table Entry Output</strong>.</p><ul>
<li><p>By default, <strong>ovs-ofctl</strong> prints flow entries in the same order that the switch sends them, which is unlikely to be intuitive or consistent.  See the description of <strong>--sort</strong> and <strong>--rsort</strong>, under <strong>OPTIONS</strong> below, to influence the display order.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>dump-aggregate </strong><em>switch </em>[<em>flows</em>]</p>
  </dt>
  <dd>
    <p>Prints to the console aggregate statistics for flows in <em>switch</em>'s tables that match <em>flows</em>.  If <em>flows</em> is omitted, the statistics are aggregated across all flows in the switch's flow tables.  See <strong>Flow Syntax</strong>, below, for the syntax of <em>flows</em>. The output format is described in <strong>Table Entry Output</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>queue-stats </strong><em>switch </em>[<em>port </em>[<em>queue</em>]]
  </dt>
  <dd>
    <p>Prints to the console statistics for the specified <em>queue</em> on <em>port</em> within <em>switch</em>.  <em>port</em> can be an OpenFlow port number or name, the keyword <strong>LOCAL</strong> (the preferred way to refer to the OpenFlow local port), or the keyword <strong>ALL</strong>.  Either of <em>port</em> or <em>queue</em> or both may be omitted (or equivalently the keyword <strong>ALL</strong>).  If both are omitted, statistics are printed for all queues on all ports.  If only <em>queue</em> is omitted, then statistics are printed for all queues on <em>port</em>; if only <em>port</em> is omitted, then statistics are printed for <em>queue</em> on every port where it exists.</p>
  </dd>

</dl>

  </dd>

</dl>

<h3>OpenFlow 1.1+ Group Table Commands</h3>
<p>The following commands work only with switches that support OpenFlow 1.1 or later.  Because support for OpenFlow 1.1 and later is still experimental in Open vSwitch, it is necessary to explicitly enable these protocol versions in <strong>ovs-ofctl</strong> (using <strong>-O</strong>) and in the switch itself (with the <strong>protocols</strong> column in the <strong>Bridge</strong> table).  For more information, see ``Q: What versions of OpenFlow does Open vSwitch support?'' in the Open vSwitch FAQ.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>dump-groups </strong><em>switch</em> [<em>group</em>]
  </dt>
  <dd>
    <p>Prints group entries in <em>switch</em>'s tables to console.  To dump only a specific group, specify its number as <em>group</em>.  Otherwise, if <em>group</em> is omitted, or if it is specified as <strong>ALL</strong>, then all groups are printed.  Each line of output is a group entry as described in <strong>Group Syntax</strong> below.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Only OpenFlow 1.5 and later support dumping a specific group.  Earlier versions of OpenFlow always dump all groups.</p>
  </dd>
  <dt>
    <strong>dump-group-features </strong><em>switch</em>
  </dt>
  <dd>
    <p>Prints to the console the group features of the <em>switch</em>.</p>
  </dd>
  <dt>
    <strong>dump-group-stats </strong><em>switch </em>[<em>groups</em>]
  </dt>
  <dd>
    <p>Prints to the console statistics for the specified <em>groups in the</em> <em>switch</em>'s tables.  If <em>groups</em> is omitted then statistics for all groups are printed.  See <strong>Group Syntax</strong>, below, for the syntax of <em>groups</em>.</p>
  </dd>
  <dt>
    <strong>mod-table </strong><em>switch</em> <em>table_id</em>  <em>flow_miss_handling</em>
  </dt>
  <dd>
    <p>An OpenFlow 1.0 switch looks up each packet that arrives at the switch in table 0, then in table 1 if there is no match in table 0, then in table 2, and so on until the packet finds a match in some table. Finally, if no match was found, the switch sends the packet to the controller</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>OpenFlow 1.1 and later offer more flexibility.  This command configures the flow table miss handling configuration for table <em>table_id</em> in <em>switch</em>.  <em>table_id</em> may be an OpenFlow table number between 0 and 254, inclusive, or the keyword <strong>ALL</strong> to modify all tables.  <em>flow_miss_handling</em> may be any one of the following:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>drop</strong>
  </dt>
  <dd>
    <p>Drop the packet.</p>
  </dd>
  <dt>
    <strong>continue</strong>
  </dt>
  <dd>
    <p>Continue to the next table in the pipeline.  (This is how an OpenFlow 1.0 switch always handles packets that do not match any flow, in tables other than the last one.)</p>
  </dd>
  <dt>
    <strong>controller</strong>
  </dt>
  <dd>
    <p>Send to controller.  (This is how an OpenFlow 1.0 switch always handles packets that do not match any flow in the last table.)</p>
  </dd>

</dl>

  </dd>

</dl>

<h3>OpenFlow 1.3+ Switch Meter Table Commands</h3>
<p>These commands manage the meter table in an OpenFlow switch.  In each case, <em>meter</em> specifies a meter entry in the format described in <strong>Meter Syntax</strong>, below.</p><p>OpenFlow 1.3 introduced support for meters, so these commands only work with switches that support OpenFlow 1.3 or later.  The caveats described for groups in the previous section also apply to meters.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>add-meter </strong><em>switch meter</em>
  </dt>
  <dd>
    <p>Add a meter entry to <em>switch</em>'s tables. The <em>meter</em> syntax is described in section <strong>Meter Syntax</strong>, below.</p>
  </dd>
  <dt>
    <strong>mod-meter </strong><em>switch meter</em>
  </dt>
  <dd>
    <p>Modify an existing meter.</p>
  </dd>
  <dt>
    <strong>del-meters </strong><em>switch</em>
  </dt>
  <dd>
    <p>Delete entries from <em>switch</em>'s meter table.  <em>meter</em> can specify a single meter with syntax <strong>meter=</strong><em>id</em>, or all meters with syntax <strong>meter=all</strong>.</p>
  </dd>
  <dt>
    <strong>dump-meters </strong><em>switch</em>
  </dt>
  <dd>
    <p>Print meter configuration.  <em>meter</em> can specify a single meter with syntax <strong>meter=</strong><em>id</em>, or all meters with syntax <strong>meter=all</strong>.</p>
  </dd>
  <dt>
    <strong>meter-stats </strong><em>switch</em> [<em>meter</em>]
  </dt>
  <dd>
    <p>Print meter statistics.  <em>meter</em> can specify a single meter with syntax <strong>meter=</strong><em>id</em>, or all meters with syntax <strong>meter=all</strong>.</p>
  </dd>
  <dt>
    <strong>meter-features </strong><em>switch</em>
  </dt>
  <dd>
    <p>Print meter features.</p>
  </dd>

</dl>

<h3>OpenFlow Switch Flow Table Commands</h3>
<p>These commands manage the flow table in an OpenFlow switch.  In each case, <em>flow</em> specifies a flow entry in the format described in <strong>Flow Syntax</strong>, below, and <em>file</em> is a text file that contains zero or more flows in the same syntax, one per line.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>add-flow </strong><em>switch flow</em>
  </dt>
  <dd>
    <p>Add each flow entry to <em>switch</em>'s tables.</p>
  </dd>
  <dt>
    [<strong>--strict</strong>] <strong>mod-flows </strong><em>switch flow</em>
  </dt>
  <dd>
    <p>Modify the actions in entries from <em>switch</em>'s tables that match the specified flows.  With <strong>--strict</strong>, wildcards are not treated as active for matching purposes.</p>
  </dd>
  <dt>
    <strong>del-flows </strong><em>switch</em>
  </dt>
  <dd>
    <p>Deletes entries from <em>switch</em>'s flow table.  With only a <em>switch</em> argument, deletes all flows.  Otherwise, deletes flow entries that match the specified flows.  With <strong>--strict</strong>, wildcards are not treated as active for matching purposes.</p>
  </dd>
  <dt>
    [<strong>--readd</strong>] <strong>replace-flows </strong><em>switch file</em>
  </dt>
  <dd>
    <p>Reads flow entries from <em>file</em> (or <strong>stdin</strong> if <em>file</em> is <strong>-</strong>) and queries the flow table from <em>switch</em>.  Then it fixes up any differences, adding flows from <em>flow</em> that are missing on <em>switch</em>, deleting flows from <em>switch</em> that are not in <em>file</em>, and updating flows in <em>switch</em> whose actions, cookie, or timeouts differ in <em>file</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>With <strong>--readd</strong>, <strong>ovs-ofctl</strong> adds all the flows from <em>file</em>, even those that exist with the same actions, cookie, and timeout in <em>switch</em>.  This resets all the flow packet and byte counters to 0, which can be useful for debugging.</p>
  </dd>
  <dt>
    <strong>diff-flows </strong><em>source1 source2</em>
  </dt>
  <dd>
    <p>Reads flow entries from <em>source1</em> and <em>source2</em> and prints the differences.  A flow that is in <em>source1</em> but not in <em>source2</em> is printed preceded by a <strong>-</strong>, and a flow that is in <em>source2</em> but not in <em>source1</em> is printed preceded by a <strong>+</strong>.  If a flow exists in both <em>source1</em> and <em>source2</em> with different actions, cookie, or timeouts, then both versions are printed preceded by <strong>-</strong> and <strong>+</strong>, respectively.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><em>source1</em> and <em>source2</em> may each name a file or a switch.  If a name begins with <strong>/</strong> or <strong>.</strong>, then it is considered to be a file name.  A name that contains <strong>:</strong> is considered to be a switch. Otherwise, it is a file if a file by that name exists, a switch if not.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For this command, an exit status of 0 means that no differences were found, 1 means that an error occurred, and 2 means that some differences were found.</p>
  </dd>
  <dt>
    <strong>packet-out </strong><em>switch in_port actions packet</em>...
  </dt>
  <dd>
    <p>Connects to <em>switch</em> and instructs it to execute the OpenFlow <em>actions</em> on each <em>packet</em>.  For the purpose of executing the actions, the packets are considered to have arrived on <em>in_port</em>, which may be an OpenFlow port number or name (e.g. <strong>eth0</strong>), the keyword <strong>LOCAL</strong> (the preferred way to refer to the OpenFlow ``local'' port), or the keyword <strong>NONE</strong> to indicate that the packet was generated by the switch itself.</p>
  </dd>

</dl>

<h3>OpenFlow Switch Group Table Commands</h3>
<p>These commands manage the group table in an OpenFlow switch.  In each case, <em>group</em> specifies a group entry in the format described in <strong>Group Syntax</strong>, below, and <em>file</em> is a text file that contains zero or more groups in the same syntax, one per line.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>add-group </strong><em>switch group</em>
  </dt>
  <dd>
    <p>Add each group entry to <em>switch</em>'s tables.</p>
  </dd>
  <dt>
    <strong>mod-group </strong><em>switch group</em>
  </dt>
  <dd>
    <p>Modify the action buckets in entries from <em>switch</em>'s tables for each group entry.</p>
  </dd>
  <dt>
    <strong>del-groups </strong><em>switch</em>
  </dt>
  <dd>
    <p>Deletes entries from <em>switch</em>'s group table.  With only a <em>switch</em> argument, deletes all groups.  Otherwise, deletes the group for each group entry.</p>
  </dd>

</dl>

<h3>OpenFlow Switch Monitoring Commands</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>snoop </strong><em>switch</em>
  </dt>
  <dd>
    <p>Connects to <em>switch</em> and prints to the console all OpenFlow messages received.  Unlike other <strong>ovs-ofctl</strong> commands, if <em>switch</em> is the name of a bridge, then the <strong>snoop</strong> command connects to a Unix domain socket named <strong>/var/run/openvswitch/</strong><em>bridge</em><strong>.snoop</strong>.  <strong>ovs-vswitchd</strong> listens on such a socket for each bridge and sends to it all of the OpenFlow messages sent to or received from its configured OpenFlow controller. Thus, this command can be used to view OpenFlow protocol activity between a switch and its controller.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When a switch has more than one controller configured, only the traffic to and from a single controller is output.  If none of the controllers is configured as a master or a slave (using a Nicira extension to OpenFlow 1.0 or 1.1, or a standard request in OpenFlow 1.2 or later), then a controller is chosen arbitrarily among them.  If there is a master controller, it is chosen; otherwise, if there are any controllers that are not masters or slaves, one is chosen arbitrarily; otherwise, a slave controller is chosen arbitrarily.  This choice is made once at connection time and does not change as controllers reconfigure their roles.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If a switch has no controller configured, or if the configured controller is disconnected, no traffic is sent, so monitoring will not show any traffic.</p>
  </dd>
  <dt>
    <strong>monitor </strong><em>switch</em> [<em>miss-len</em>] [<strong>invalid_ttl</strong>] [<strong>watch:</strong>[<em>spec</em>...]]
  </dt>
  <dd>
    <p>Connects to <em>switch</em> and prints to the console all OpenFlow messages received.  Usually, <em>switch</em> should specify the name of a bridge in the <strong>ovs-vswitchd</strong> database.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If <em>miss-len</em> is provided, <strong>ovs-ofctl</strong> sends an OpenFlow ``set configuration'' message at connection setup time that requests <em>miss-len</em> bytes of each packet that misses the flow table.  Open vSwitch does not send these and other asynchronous messages to an <strong>ovs-ofctl monitor</strong> client connection unless a nonzero value is specified on this argument.  (Thus, if <em>miss-len</em> is not specified, very little traffic will ordinarily be printed.)</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If <strong>invalid_ttl</strong> is passed, <strong>ovs-ofctl</strong> sends an OpenFlow ``set configuration'' message at connection setup time that requests <strong>INVALID_TTL_TO_CONTROLLER</strong>, so that <strong>ovs-ofctl monitor</strong> can receive ``packet-in'' messages when TTL reaches zero on <strong>dec_ttl</strong> action.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>watch:</strong>[<strong></strong><em>spec</em>...] causes <strong>ovs-ofctl</strong> to send a ``monitor request'' Nicira extension message to the switch at connection setup time.  This message causes the switch to send information about flow table changes as they occur.  The following comma-separated <em>spec</em> syntax is available:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>!initial</strong>
  </dt>
  <dd>
    <p>Do not report the switch's initial flow table contents.</p>
  </dd>
  <dt>
    <strong>!add</strong>
  </dt>
  <dd>
    <p>Do not report newly added flows.</p>
  </dd>
  <dt>
    <strong>!delete</strong>
  </dt>
  <dd>
    <p>Do not report deleted flows.</p>
  </dd>
  <dt>
    <strong>!modify</strong>
  </dt>
  <dd>
    <p>Do not report modifications to existing flows.</p>
  </dd>
  <dt>
    <strong>!own</strong>
  </dt>
  <dd>
    <p>Abbreviate changes made to the flow table by <strong>ovs-ofctl</strong>'s own connection to the switch.  (These could only occur using the <strong>ofctl/send</strong> command described below under <strong>RUNTIME MANAGEMENT</strong> COMMANDS.)</p>
  </dd>
  <dt>
    <strong>!actions</strong>
  </dt>
  <dd>
    <p>Do not report actions as part of flow updates.</p>
  </dd>
  <dt>
    <strong>table=</strong><em>number</em>
  </dt>
  <dd>
    <p>Limits the monitoring to the table with the given <em>number</em> between 0 and 254.  By default, all tables are monitored.</p>
  </dd>
  <dt>
    <strong>out_port=</strong><em>port</em>
  </dt>
  <dd>
    <p>If set, only flows that output to <em>port</em> are monitored.  The <em>port</em> may be an OpenFlow port number or keyword (e.g. <strong>LOCAL</strong>).</p>
  </dd>
  <dt>
    <em>field</em><strong>=</strong><em>value</em>
  </dt>
  <dd>
    <p>Monitors only flows that have <em>field</em> specified as the given <em>value</em>.  Any syntax valid for matching on <strong>dump-flows</strong> may be used.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This command may be useful for debugging switch or controller implementations.  With <strong>watch:</strong>, it is particularly useful for observing how a controller updates flow tables.</p>
  </dd>

</dl>

<h3>OpenFlow Switch and Controller Commands</h3>
<p>The following commands, like those in the previous section, may be applied to OpenFlow switches, using any of the connection methods described in that section.  Unlike those commands, these may also be applied to OpenFlow controllers.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>probe </strong><em>target</em></p>
  </dt>
  <dd>
    <p>Sends a single OpenFlow echo-request message to <em>target</em> and waits for the response.  With the <strong>-t</strong> or <strong>--timeout</strong> option, this command can test whether an OpenFlow switch or controller is up and running.</p>
  </dd>
  <dt>
    <p><strong>ping </strong><em>target </em>[<em>n</em>]</p>
  </dt>
  <dd>
    <p>Sends a series of 10 echo request packets to <em>target</em> and times each reply.  The echo request packets consist of an OpenFlow header plus <em>n</em> bytes (default: 64) of randomly generated payload.  This measures the latency of individual requests.</p>
  </dd>
  <dt>
    <p><strong>benchmark </strong><em>target n count</em></p>
  </dt>
  <dd>
    <p>Sends <em>count</em> echo request packets that each consist of an OpenFlow header plus <em>n</em> bytes of payload and waits for each response.  Reports the total time required.  This is a measure of the maximum bandwidth to <em>target</em> for round-trips of <em>n</em>-byte messages.</p>
  </dd>

</dl>

<h3>Other Commands</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>ofp-parse</strong> <em>file</em>
  </dt>
  <dd>
    <p>Reads <em>file</em> (or <strong>stdin</strong> if <em>file</em> is <strong>-</strong>) as a series of OpenFlow messages in the binary format used on an OpenFlow connection, and prints them to the console.  This can be useful for printing OpenFlow messages captured from a TCP stream.</p>
  </dd>
  <dt>
    <strong>ofp-parse-pcap</strong> <em>file</em> [<em>port</em>...]
  </dt>
  <dd>
    <p>Reads <em>file</em>, which must be in the PCAP format used by network capture tools such as <strong>tcpdump</strong> or <strong>wireshark</strong>, extracts all the TCP streams for OpenFlow connections, and prints the OpenFlow messages in those connections in human-readable format on <strong>stdout</strong>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>OpenFlow connections are distinguished by TCP port number. Non-OpenFlow packets are ignored.  By default, data on TCP ports 6633 and 6653 are considered to be OpenFlow.  Specify one or more <em>port</em> arguments to override the default.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This command cannot usefully print SSL encrypted traffic.  It does not understand IPv6.</p>
  </dd>

</dl>

<h3>Flow Syntax</h3>
<p>Some <strong>ovs-ofctl</strong> commands accept an argument that describes a flow or flows.  Such flow descriptions comprise a series <em>field</em><strong>=</strong><em>value</em> assignments, separated by commas or white space.  (Embedding spaces into a flow description normally requires quoting to prevent the shell from breaking the description into multiple arguments.)</p><p>Flow descriptions should be in <strong>normal form</strong>.  This means that a flow may only specify a value for an L3 field if it also specifies a particular L2 protocol, and that a flow may only specify an L4 field if it also specifies particular L2 and L3 protocol types.  For example, if the L2 protocol type <strong>dl_type</strong> is wildcarded, then L3 fields <strong>nw_src</strong>, <strong>nw_dst</strong>, and <strong>nw_proto</strong> must also be wildcarded.  Similarly, if <strong>dl_type</strong> or <strong>nw_proto</strong> (the L3 protocol type) is wildcarded, so must be <strong>tp_dst</strong> and <strong>tp_src</strong>, which are L4 fields.  <strong>ovs-ofctl</strong> will warn about flows not in normal form.</p><p>The following field assignments describe how a flow matches a packet. If any of these assignments is omitted from the flow syntax, the field is treated as a wildcard; thus, if all of them are omitted, the resulting flow matches all packets.  The string <strong>*</strong> may be specified to explicitly mark any of these fields as a wildcard. (<strong>*</strong> should be quoted to protect it from shell expansion.)</p>
<dl class='dl-vertical'>
  <dt>
    <strong>in_port=</strong><em>port</em>
  </dt>
  <dd>
    <p>Matches OpenFlow port <em>port</em>, which may be an OpenFlow port number or keyword (e.g. <strong>LOCAL</strong>). <strong>ovs-ofctl show</strong>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>(The <strong>resubmit</strong> action can search OpenFlow flow tables with arbitrary <strong>in_port</strong> values, so flows that match port numbers that do not exist from an OpenFlow perspective can still potentially be matched.)</p>
  </dd>
  <dt>
    <strong>dl_vlan=</strong><em>vlan</em>
  </dt>
  <dd>
    <p>Matches IEEE 802.1q Virtual LAN tag <em>vlan</em>.  Specify <strong>0xffff</strong> as <em>vlan</em> to match packets that are not tagged with a Virtual LAN; otherwise, specify a number between 0 and 4095, inclusive, as the 12-bit VLAN ID to match.</p>
  </dd>
  <dt>
    <strong>dl_vlan_pcp=</strong><em>priority</em>
  </dt>
  <dd>
    <p>Matches IEEE 802.1q Priority Code Point (PCP) <em>priority</em>, which is specified as a value between 0 and 7, inclusive.  A higher value indicates a higher frame priority level.</p>
  </dd>
  <dt>
    <strong>dl_src=</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em>
  </dt>
  <dd>
    <p>Matches an Ethernet source (or destination) address specified as 6 pairs of hexadecimal digits delimited by colons (e.g. <strong>00:0A:E4:25:6B:B0</strong>).</p>
  </dd>
  <dt>
    <strong>dl_src=</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>/</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em>
  </dt>
  <dd>
    <p>Matches an Ethernet destination address specified as 6 pairs of hexadecimal digits delimited by colons (e.g. <strong>00:0A:E4:25:6B:B0</strong>), with a wildcard mask following the slash. Open vSwitch 1.8 and later support arbitrary masks for source and/or destination. Earlier versions only support masking the destination with the following masks:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>01:00:00:00:00:00</strong>
  </dt>
  <dd>
    <p>Match only the multicast bit.  Thus, <strong>dl_dst=01:00:00:00:00:00/01:00:00:00:00:00</strong> matches all multicast (including broadcast) Ethernet packets, and <strong>dl_dst=00:00:00:00:00:00/01:00:00:00:00:00</strong> matches all unicast Ethernet packets.</p>
  </dd>
  <dt>
    <strong>fe:ff:ff:ff:ff:ff</strong>
  </dt>
  <dd>
    <p>Match all bits except the multicast bit.  This is probably not useful.</p>
  </dd>
  <dt>
    <strong>ff:ff:ff:ff:ff:ff</strong>
  </dt>
  <dd>
    <p>Exact match (equivalent to omitting the mask).</p>
  </dd>
  <dt>
    <strong>00:00:00:00:00:00</strong>
  </dt>
  <dd>
    <p>Wildcard all bits (equivalent to <strong>dl_dst=*</strong>.)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>dl_type=</strong><em>ethertype</em>
  </dt>
  <dd>
    <p>Matches Ethernet protocol type <em>ethertype</em>, which is specified as an integer between 0 and 65535, inclusive, either in decimal or as a hexadecimal number prefixed by <strong>0x</strong> (e.g. <strong>0x0806</strong> to match ARP packets).</p>
  </dd>
  <dt>
    <strong>nw_src=</strong><em>ip</em>[<strong>/</strong><em>netmask</em>]
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is 0x0800 (possibly via shorthand, e.g. <strong>ip</strong> or <strong>tcp</strong>), matches IPv4 source (or destination) address <em>ip</em>, which may be specified as an IP address or host name (e.g. <strong>192.168.1.1</strong> or <strong>www.example.com</strong>).  The optional <em>netmask</em> allows restricting a match to an IPv4 address prefix. The netmask may be specified as a dotted quad (e.g. <strong>192.168.1.0/255.255.255.0</strong>) or as a CIDR block (e.g. <strong>192.168.1.0/24</strong>).  Open vSwitch 1.8 and later support arbitrary dotted quad masks; earlier versions support only CIDR masks, that is, the dotted quads that are equivalent to some CIDR block.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type=0x0806</strong> or <strong>arp</strong> is specified, matches the <strong>ar_spa</strong> or <strong>ar_tpa</strong> field, respectively, in ARP packets for IPv4 and Ethernet.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type=0x8035</strong> or <strong>rarp</strong> is specified, matches the <strong>ar_spa</strong> or <strong>ar_tpa</strong> field, respectively, in RARP packets for IPv4 and Ethernet.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is wildcarded or set to a value other than 0x0800, 0x0806, or 0x8035, the values of <strong>nw_src</strong> and <strong>nw_dst</strong> are ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    <strong>nw_proto=</strong><em>proto</em>
  </dt>
  <dd>
    <p>When <strong>ip</strong> or <strong>dl_type=0x0800</strong> is specified, matches IP protocol type <em>proto</em>, which is specified as a decimal number between 0 and 255, inclusive (e.g. 1 to match ICMP packets or 6 to match TCP packets).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>ipv6</strong> or <strong>dl_type=0x86dd</strong> is specified, matches IPv6 header type <em>proto</em>, which is specified as a decimal number between 0 and 255, inclusive (e.g. 58 to match ICMPv6 packets or 6 to match TCP).  The header type is the terminal header as described in the <strong>DESIGN</strong> document.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>arp</strong> or <strong>dl_type=0x0806</strong> is specified, matches the lower 8 bits of the ARP opcode.  ARP opcodes greater than 255 are treated as 0.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>rarp</strong> or <strong>dl_type=0x8035</strong> is specified, matches the lower 8 bits of the ARP opcode.  ARP opcodes greater than 255 are treated as 0.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is wildcarded or set to a value other than 0x0800, 0x0806, 0x8035 or 0x86dd, the value of <strong>nw_proto</strong> is ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    <strong>nw_tos=</strong><em>tos</em>
  </dt>
  <dd>
    <p>Matches IP ToS/DSCP or IPv6 traffic class field <em>tos</em>, which is specified as a decimal number between 0 and 255, inclusive.  Note that the two lower reserved bits are ignored for matching purposes.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is wildcarded or set to a value other than 0x0800 or 0x86dd, the value of <strong>nw_tos</strong> is ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    <strong>ip_dscp=</strong><em>dscp</em>
  </dt>
  <dd>
    <p>Matches IP ToS/DSCP or IPv6 traffic class field <em>dscp</em>, which is specified as a decimal number between 0 and 63, inclusive.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is wildcarded or set to a value other than 0x0800 or 0x86dd, the value of <strong>ip_dscp</strong> is ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    <strong>nw_ecn=</strong><em>ecn</em>
  </dt>
  <dd>
    <p>Matches <em>ecn</em> bits in IP ToS or IPv6 traffic class fields, which is specified as a decimal number between 0 and 3, inclusive.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is wildcarded or set to a value other than 0x0800 or 0x86dd, the value of <strong>nw_ecn</strong> is ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    <strong>nw_ttl=</strong><em>ttl</em>
  </dt>
  <dd>
    <p>Matches IP TTL or IPv6 hop limit value <em>ttl</em>, which is specified as a decimal number between 0 and 255, inclusive.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is wildcarded or set to a value other than 0x0800 or 0x86dd, the value of <strong>nw_ttl</strong> is ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>tp_src=</strong><em>port</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> and <strong>nw_proto</strong> specify TCP or UDP or SCTP, <strong>tp_src</strong> and <strong>tp_dst</strong> match the UDP or TCP or SCTP source or destination port <em>port</em>, respectively, which is specified as a decimal number between 0 and 65535, inclusive (e.g. 80 to match packets originating from a HTTP server).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> and <strong>nw_proto</strong> take other values, the values of these settings are ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    <strong>tp_src=</strong><em>port</em><strong>/</strong><em>mask</em>
  </dt>
  <dd>
    <p>Bitwise match on TCP (or UDP or SCTP) source or destination port, respectively.  The <em>port</em> and <em>mask</em> are 16-bit numbers written in decimal or in hexadecimal prefixed by <strong>0x</strong>.  Each 1-bit in <em>mask</em> requires that the corresponding bit in <em>port</em> must match.  Each 0-bit in <em>mask</em> causes the corresponding bit to be ignored.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Bitwise matches on transport ports are rarely useful in isolation, but a group of them can be used to reduce the number of flows required to match on a range of transport ports.  For example, suppose that the goal is to match TCP source ports 1000 to 1999, inclusive.  One way is to insert 1000 flows, each of which matches on a single source port. Another way is to look at the binary representations of 1000 and 1999, as follows:</p><p><strong>01111101000</strong></p><p><strong>11111001111</strong></p><p>and then to transform those into a series of bitwise matches that accomplish the same results:</p><p><strong>01111101xxx</strong></p><p><strong>0111111xxxx</strong></p><p><strong>10xxxxxxxxx</strong></p><p><strong>110xxxxxxxx</strong></p><p><strong>1110xxxxxxx</strong></p><p><strong>11110xxxxxx</strong></p><p><strong>1111100xxxx</strong></p><p>which become the following when written in the syntax required by <strong>ovs-ofctl</strong>:</p><p><strong>tcp,tp_src=0x03e8/0xfff8</strong></p><p><strong>tcp,tp_src=0x03f0/0xfff0</strong></p><p><strong>tcp,tp_src=0x0400/0xfe00</strong></p><p><strong>tcp,tp_src=0x0600/0xff00</strong></p><p><strong>tcp,tp_src=0x0700/0xff80</strong></p><p><strong>tcp,tp_src=0x0780/0xffc0</strong></p><p><strong>tcp,tp_src=0x07c0/0xfff0</strong></p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Only Open vSwitch 1.6 and later supports bitwise matching on transport ports.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Like the exact-match forms of <strong>tp_src</strong> and <strong>tp_dst</strong> described above, the bitwise match forms apply only when <strong>dl_type</strong> and <strong>nw_proto</strong> specify TCP or UDP or SCTP.</p>
  </dd>
  <dt>
    <strong>tcp_flags=</strong><em>flags</em><strong>/</strong><em>mask</em>
  </dt>
  <dd>
    <p>Bitwise match on TCP flags.  The <em>flags</em> and <em>mask</em> are 16-bit numbers written in decimal or in hexadecimal prefixed by <strong>0x</strong>. Each 1-bit in <em>mask</em> requires that the corresponding bit in <em>flags</em> must match.  Each 0-bit in <em>mask</em> causes the corresponding bit to be ignored.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Alternatively, the flags can be specified by their symbolic names (listed below), each preceded by either <strong>+</strong> for a flag that must be set, or <strong>-</strong> for a flag that must be unset, without any other delimiters between the flags.  Flags not mentioned are wildcarded. For example, <strong>tcp,tcp_flags=+syn-ack</strong> matches TCP SYNs that are not ACKs.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>TCP protocol currently defines 9 flag bits, and additional 3 bits are reserved (must be transmitted as zero), see RFCs 793, 3168, and 3540. The flag bits are, numbering from the least significant bit:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>0: fin</strong>
  </dt>
  <dd>
    <p>No more data from sender.</p>
  </dd>
  <dt>
    <strong>1: syn</strong>
  </dt>
  <dd>
    <p>Synchronize sequence numbers.</p>
  </dd>
  <dt>
    <strong>2: rst</strong>
  </dt>
  <dd>
    <p>Reset the connection.</p>
  </dd>
  <dt>
    <strong>3: psh</strong>
  </dt>
  <dd>
    <p>Push function.</p>
  </dd>
  <dt>
    <strong>4: ack</strong>
  </dt>
  <dd>
    <p>Acknowledgement field significant.</p>
  </dd>
  <dt>
    <strong>5: urg</strong>
  </dt>
  <dd>
    <p>Urgent pointer field significant.</p>
  </dd>
  <dt>
    <strong>6: ece</strong>
  </dt>
  <dd>
    <p>ECN Echo.</p>
  </dd>
  <dt>
    <strong>7: cwr</strong>
  </dt>
  <dd>
    <p>Congestion Windows Reduced.</p>
  </dd>
  <dt>
    <strong>8: ns</strong>
  </dt>
  <dd>
    <p>Nonce Sum.</p>
  </dd>
  <dt>
    <strong>9-11:</strong>
  </dt>
  <dd>
    <p>Reserved.</p>
  </dd>
  <dt>
    <strong>12-15:</strong>
  </dt>
  <dd>
    <p>Not matchable, must be zero.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>icmp_type=</strong><em>type</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> and <strong>nw_proto</strong> specify ICMP or ICMPv6, <em>type</em> matches the ICMP type and <em>code</em> matches the ICMP code.  Each is specified as a decimal number between 0 and 255, inclusive.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> and <strong>nw_proto</strong> take other values, the values of these settings are ignored (see <strong>Flow Syntax</strong> above).</p>
  </dd>
  <dt>
    <strong>table=</strong><em>number</em>
  </dt>
  <dd>
    <p>For flow dump commands, limits the flows dumped to those in the table with the given <em>number</em> between 0 and 254.  If not specified (or if 255 is specified as <em>number</em>), then flows in all tables are dumped.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For flow table modification commands, behavior varies based on the OpenFlow version used to connect to the switch:</p>
<dl class='dl-vertical'>
  <dt>
    OpenFlow 1.0
  </dt>
  <dd>
    <p>OpenFlow 1.0 does not support <strong>table</strong> for modifying flows. <strong>ovs-ofctl</strong> will exit with an error if <strong>table</strong> (other than <strong>table=255</strong>) is specified for a switch that only supports OpenFlow 1.0.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>In OpenFlow 1.0, the switch chooses the table into which to insert a new flow.  The Open vSwitch software switch always chooses table 0. Other Open vSwitch datapaths and other OpenFlow implementations may choose different tables.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The OpenFlow 1.0 behavior in Open vSwitch for modifying or removing flows depends on whether <strong>--strict</strong> is used.  Without <strong>--strict</strong>, the command applies to matching flows in all tables. With <strong>--strict</strong>, the command will operate on any single matching flow in any table; it will do nothing if there are matches in more than one table.  (The distinction between these behaviors only matters if non-OpenFlow 1.0 commands were also used, because OpenFlow 1.0 alone cannot add flows with the same matching criteria to multiple tables.)</p>
  </dd>
  <dt>
    OpenFlow 1.0 with table_id extension
  </dt>
  <dd>
    <p>Open vSwitch implements an OpenFlow extension that allows the controller to specify the table on which to operate.  <strong>ovs-ofctl</strong> automatically enables the extension when <strong>table</strong> is specified and OpenFlow 1.0 is used.  <strong>ovs-ofctl</strong> automatically detects whether the switch supports the extension.  As of this writing, this extension is only known to be implemented by Open vSwitch.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>With this extension, <strong>ovs-ofctl</strong> operates on the requested table when <strong>table</strong> is specified, and acts as described for OpenFlow 1.0 above when no <strong>table</strong> is specified (or for <strong>table=255</strong>).</p>
  </dd>
  <dt>
    OpenFlow 1.1
  </dt>
  <dd>
    <p>OpenFlow 1.1 requires flow table modification commands to specify a table.  When <strong>table</strong> is not specified (or <strong>table=255</strong> is specified), <strong>ovs-ofctl</strong> defaults to table 0.</p>
  </dd>
  <dt>
    OpenFlow 1.2 and later
  </dt>
  <dd>
    <p>OpenFlow 1.2 and later allow flow deletion commands, but not other flow table modification commands, to operate on all flow tables, with the behavior described above for OpenFlow 1.0.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>metadata=</strong><em>value</em>[<strong>/</strong><em>mask</em>]
  </dt>
  <dd>
    <p>Matches <em>value</em> either exactly or with optional <em>mask</em> in the metadata field. <em>value</em> and <em>mask</em> are 64-bit integers, by default in decimal (use a <strong>0x</strong> prefix to specify hexadecimal). Arbitrary <em>mask</em> values are allowed: a 1-bit in <em>mask</em> indicates that the corresponding bit in <em>value</em> must match exactly, and a 0-bit wildcards that bit. Matching on metadata was added in Open vSwitch 1.8.</p>
  </dd>

</dl>
<p>The following shorthand notations are also available:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>ip</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x0800</strong>.</p>
  </dd>
  <dt>
    <strong>icmp</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x0800,nw_proto=1</strong>.</p>
  </dd>
  <dt>
    <strong>tcp</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x0800,nw_proto=6</strong>.</p>
  </dd>
  <dt>
    <strong>udp</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x0800,nw_proto=17</strong>.</p>
  </dd>
  <dt>
    <strong>sctp</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x0800,nw_proto=132</strong>.</p>
  </dd>
  <dt>
    <strong>arp</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x0806</strong>.</p>
  </dd>
  <dt>
    <strong>rarp</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x8035</strong>.</p>
  </dd>

</dl>
<p>The following field assignments require support for the NXM (Nicira Extended Match) extension to OpenFlow.  When one of these is specified, <strong>ovs-ofctl</strong> will automatically attempt to negotiate use of this extension.  If the switch does not support NXM, then <strong>ovs-ofctl</strong> will report a fatal error.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>vlan_tci=</strong><em>tci</em>[<strong>/</strong><em>mask</em>]
  </dt>
  <dd>
    <p>Matches modified VLAN TCI <em>tci</em>.  If <em>mask</em> is omitted, <em>tci</em> is the exact VLAN TCI to match; if <em>mask</em> is specified, then a 1-bit in <em>mask</em> indicates that the corresponding bit in <em>tci</em> must match exactly, and a 0-bit wildcards that bit.  Both <em>tci</em> and <em>mask</em> are 16-bit values that are decimal by default; use a <strong>0x</strong> prefix to specify them in hexadecimal.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The value that <strong>vlan_tci</strong> matches against is 0 for a packet that has no 802.1Q header.  Otherwise, it is the TCI value from the 802.1Q header with the CFI bit (with value <strong>0x1000</strong>) forced to 1.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Examples:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>vlan_tci=0</strong>
  </dt>
  <dd>
    <p>Match only packets without an 802.1Q header.</p>
  </dd>
  <dt>
    <strong>vlan_tci=0xf123</strong>
  </dt>
  <dd>
    <p>Match packets tagged with priority 7 in VLAN 0x123.</p>
  </dd>
  <dt>
    <strong>vlan_tci=0x1123/0x1fff</strong>
  </dt>
  <dd>
    <p>Match packets tagged with VLAN 0x123 (and any priority).</p>
  </dd>
  <dt>
    <strong>vlan_tci=0x5000/0xf000</strong>
  </dt>
  <dd>
    <p>Match packets tagged with priority 2 (in any VLAN).</p>
  </dd>
  <dt>
    <strong>vlan_tci=0/0xfff</strong>
  </dt>
  <dd>
    <p>Match packets with no 802.1Q header or tagged with VLAN 0 (and any priority).</p>
  </dd>
  <dt>
    <strong>vlan_tci=0x5000/0xe000</strong>
  </dt>
  <dd>
    <p>Match packets with no 802.1Q header or tagged with priority 2 (in any VLAN).</p>
  </dd>
  <dt>
    <strong>vlan_tci=0/0xefff</strong>
  </dt>
  <dd>
    <p>Match packets with no 802.1Q header or tagged with VLAN 0 and priority 0.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Some of these matching possibilities can also be achieved with <strong>dl_vlan</strong> and <strong>dl_vlan_pcp</strong>.</p>
  </dd>
  <dt>
    <strong>ip_frag=</strong><em>frag_type</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> specifies IP or IPv6, <em>frag_type</em> specifies what kind of IP fragments or non-fragments to match.  The following values of <em>frag_type</em> are supported:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>no</strong>
  </dt>
  <dd>
    <p>Matches only non-fragmented packets.</p>
  </dd>
  <dt>
    <strong>yes</strong>
  </dt>
  <dd>
    <p>Matches all fragments.</p>
  </dd>
  <dt>
    <strong>first</strong>
  </dt>
  <dd>
    <p>Matches only fragments with offset 0.</p>
  </dd>
  <dt>
    <strong>later</strong>
  </dt>
  <dd>
    <p>Matches only fragments with nonzero offset.</p>
  </dd>
  <dt>
    <strong>not_later</strong>
  </dt>
  <dd>
    <p>Matches non-fragmented packets and fragments with zero offset.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>ip_frag</strong> match type is likely to be most useful in <strong>nx-match</strong> mode.  See the description of the <strong>set-frags</strong> command, above, for more details.</p>
  </dd>
  <dt>
    <strong>arp_spa=</strong><em>ip</em>[<strong>/</strong><em>netmask</em>]
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> specifies either ARP or RARP, <strong>arp_spa</strong> and <strong>arp_tpa</strong> match the source and target IPv4 address, respectively. An address may be specified as an IP address or host name (e.g. <strong>192.168.1.1</strong> or <strong>www.example.com</strong>).  The optional <em>netmask</em> allows restricting a match to an IPv4 address prefix. The netmask may be specified as a dotted quad (e.g. <strong>192.168.1.0/255.255.255.0</strong>) or as a CIDR block (e.g. <strong>192.168.1.0/24</strong>).</p>
  </dd>
  <dt>
    <strong>arp_sha=</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> specifies either ARP or RARP, <strong>arp_sha</strong> and <strong>arp_tha</strong> match the source and target hardware address, respectively.  An address is specified as 6 pairs of hexadecimal digits delimited by colons (e.g. <strong>00:0A:E4:25:6B:B0</strong>).</p>
  </dd>
  <dt>
    <strong>arp_sha=</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>/</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> specifies either ARP or RARP, <strong>arp_sha</strong> and <strong>arp_tha</strong> match the source and target hardware address, respectively.  An address is specified as 6 pairs of hexadecimal digits delimited by colons (e.g. <strong>00:0A:E4:25:6B:B0</strong>), with a wildcard mask following the slash.</p>
  </dd>
  <dt>
    <strong>ipv6_src=</strong><em>ipv6</em>[<strong>/</strong><em>netmask</em>]
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is 0x86dd (possibly via shorthand, e.g., <strong>ipv6</strong> or <strong>tcp6</strong>), matches IPv6 source (or destination) address <em>ipv6</em>, which may be specified as defined in RFC 2373.  The preferred format is <em>x</em><strong>:</strong><em>x</em><strong>:</strong><em>x</em><strong>:</strong><em>x</em><strong>:</strong><em>x</em><strong>:</strong><em>x</em><strong>:</strong><em>x</em><strong>:</strong><em>x</em>, where <em>x</em> are the hexadecimal values of the eight 16-bit pieces of the address.  A single instance of <strong>::</strong> may be used to indicate multiple groups of 16-bits of zeros.  The optional <em>netmask</em> allows restricting a match to an IPv6 address prefix.  A netmask is specified as an IPv6 address (e.g. <strong>2001:db8:3c4d:1::/ffff:ffff:ffff:ffff::</strong>) or a CIDR block (e.g. <strong>2001:db8:3c4d:1::/64</strong>).  Open vSwitch 1.8 and later support arbitrary masks; earlier versions support only CIDR masks, that is, CIDR block and IPv6 addresses that are equivalent to CIDR blocks.</p>
  </dd>
  <dt>
    <strong>ipv6_label=</strong><em>label</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is 0x86dd (possibly via shorthand, e.g., <strong>ipv6</strong> or <strong>tcp6</strong>), matches IPv6 flow label <em>label</em>.</p>
  </dd>
  <dt>
    <strong>nd_target=</strong><em>ipv6</em>[<strong>/</strong><em>netmask</em>]
  </dt>
  <dd>
    <p>When <strong>dl_type</strong>, <strong>nw_proto</strong>, and <strong>icmp_type</strong> specify IPv6 Neighbor Discovery (ICMPv6 type 135 or 136), matches the target address <em>ipv6</em>.  <em>ipv6</em> is in the same format described earlier for the <strong>ipv6_src</strong> and <strong>ipv6_dst</strong> fields.</p>
  </dd>
  <dt>
    <strong>nd_sll=</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong>, <strong>nw_proto</strong>, and <strong>icmp_type</strong> specify IPv6 Neighbor Solicitation (ICMPv6 type 135), matches the source link-layer address option.  An address is specified as 6 pairs of hexadecimal digits delimited by colons.</p>
  </dd>
  <dt>
    <strong>nd_tll=</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em><strong>:</strong><em>xx</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong>, <strong>nw_proto</strong>, and <strong>icmp_type</strong> specify IPv6 Neighbor Advertisement (ICMPv6 type 136), matches the target link-layer address option.  An address is specified as 6 pairs of hexadecimal digits delimited by colons.</p>
  </dd>
  <dt>
    <strong>mpls_bos=</strong><em>bos</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is 0x8847 or 0x8848 (possibly via shorthand e.g., <strong>mpls</strong> or <strong>mplsm</strong>), matches the bottom-of-stack bit of the outer-most MPLS label stack entry. Valid values are 0 and 1.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If 1 then for a packet with a well-formed MPLS label stack the bottom-of-stack bit indicates that the outer label stack entry is also the inner-most label stack entry and thus that is that there is only one label stack entry present.  Conversely, if 0 then for a packet with a well-formed MPLS label stack the bottom-of-stack bit indicates that the outer label stack entry is not the inner-most label stack entry and thus there is more than one label stack entry present.</p>
  </dd>
  <dt>
    <strong>mpls_label=</strong><em>label</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is 0x8847 or 0x8848 (possibly via shorthand e.g., <strong>mpls</strong> or <strong>mplsm</strong>), matches the label of the outer MPLS label stack entry. The label is a 20-bit value that is decimal by default; use a <strong>0x</strong> prefix to specify them in hexadecimal.</p>
  </dd>
  <dt>
    <strong>mpls_tc=</strong><em>tc</em>
  </dt>
  <dd>
    <p>When <strong>dl_type</strong> is 0x8847 or 0x8848 (possibly via shorthand e.g., <strong>mpls</strong> or <strong>mplsm</strong>), matches the traffic-class of the outer MPLS label stack entry. Valid values are between 0 (lowest) and 7 (highest).</p>
  </dd>
  <dt>
    <strong>tun_id=</strong><em>tunnel-id</em>[<strong>/</strong><em>mask</em>]
  </dt>
  <dd>
    <p>Matches tunnel identifier <em>tunnel-id</em>.  Only packets that arrive over a tunnel that carries a key (e.g. GRE with the RFC 2890 key extension and a nonzero key value) will have a nonzero tunnel ID. If <em>mask</em> is omitted, <em>tunnel-id</em> is the exact tunnel ID to match; if <em>mask</em> is specified, then a 1-bit in <em>mask</em> indicates that the corresponding bit in <em>tunnel-id</em> must match exactly, and a 0-bit wildcards that bit.</p>
  </dd>
  <dt>
    <strong>tun_src=</strong><em>ip</em>[<strong>/</strong><em>netmask</em>]
  </dt>
  <dd>
    <p>Matches tunnel IPv4 source (or destination) address <em>ip</em>. Only packets that arrive over a tunnel will have nonzero tunnel addresses. The address may be specified as an IP address or host name (e.g. <strong>192.168.1.1</strong> or <strong>www.example.com</strong>).  The optional <em>netmask</em> allows restricting a match to a masked IPv4 address. The netmask may be specified as a dotted quad (e.g. <strong>192.168.1.0/255.255.255.0</strong>) or as a CIDR block (e.g. <strong>192.168.1.0/24</strong>).</p>
  </dd>
  <dt>
    <strong>reg</strong><em>idx</em><strong>=</strong><em>value</em>[<strong>/</strong><em>mask</em>]
  </dt>
  <dd>
    <p>Matches <em>value</em> either exactly or with optional <em>mask</em> in register number <em>idx</em>.  The valid range of <em>idx</em> depends on the switch.  <em>value</em> and <em>mask</em> are 32-bit integers, by default in decimal (use a <strong>0x</strong> prefix to specify hexadecimal). Arbitrary <em>mask</em> values are allowed: a 1-bit in <em>mask</em> indicates that the corresponding bit in <em>value</em> must match exactly, and a 0-bit wildcards that bit.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>When a packet enters an OpenFlow switch, all of the registers are set to 0.  Only explicit Nicira extension actions change register values.</p>
  </dd>
  <dt>
    <strong>pkt_mark=</strong><em>value</em>[<strong>/</strong><em>mask</em>]
  </dt>
  <dd>
    <p>Matches packet metadata mark <em>value</em> either exactly or with optional <em>mask</em>. The mark is associated data that may be passed into other system components in order to facilitate interaction between subsystems. On Linux this corresponds to the skb mark but the exact implementation is platform-dependent.</p>
  </dd>

</dl>
<p>Defining IPv6 flows (those with <strong>dl_type</strong> equal to 0x86dd) requires support for NXM.  The following shorthand notations are available for IPv6-related flows:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>ipv6</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x86dd</strong>.</p>
  </dd>
  <dt>
    <strong>tcp6</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x86dd,nw_proto=6</strong>.</p>
  </dd>
  <dt>
    <strong>udp6</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x86dd,nw_proto=17</strong>.</p>
  </dd>
  <dt>
    <strong>sctp6</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x86dd,nw_proto=132</strong>.</p>
  </dd>
  <dt>
    <strong>icmp6</strong>
  </dt>
  <dd>
    <p>Same as <strong>dl_type=0x86dd,nw_proto=58</strong>.</p>
  </dd>

</dl>
<p>Finally, field assignments to <strong>duration</strong>, <strong>n_packets</strong>, or <strong>n_bytes</strong> are ignored to allow output from the <strong>dump-flows</strong> command to be used as input for other commands that parse flows.</p><p>The <strong>add-flow</strong>, <strong>add-flows</strong>, and <strong>mod-flows</strong> commands require an additional field, which must be the final field specified:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>actions=</strong>[<em>action</em>][<strong>,</strong><em>action</em>...]
  </dt>
  <dd>
    <p>Specifies a comma-separated list of actions to take on a packet when the flow entry matches.  If no <em>action</em> is specified, then packets matching the flow are dropped.  The following forms of <em>action</em> are supported:</p>
<dl class='dl-vertical'>
  <dt>
    <em>port</em>
  </dt>
  <dd>
    <p>Outputs the packet to OpenFlow port number <em>port</em>.  If <em>port</em> is the packet's input port, the packet is not output.</p>
  </dd>
  <dt>
    <strong>output:</strong><em>src</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>
  </dt>
  <dd>
    <p>Outputs the packet to the OpenFlow port number read from <em>src</em>, which must be an NXM field as described above.  For example, <strong>output:NXM_NX_REG0[16..31]</strong> outputs to the OpenFlow port number written in the upper half of register 0.  If the port number is the packet's input port, the packet is not output.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This form of <strong>output</strong> was added in Open vSwitch 1.3.0.  This form of <strong>output</strong> uses an OpenFlow extension that is not supported by standard OpenFlow switches.</p>
  </dd>
  <dt>
    <strong>normal</strong>
  </dt>
  <dd>
    <p>Subjects the packet to the device's normal L2/L3 processing.  (This action is not implemented by all OpenFlow switches.)</p>
  </dd>
  <dt>
    <strong>flood</strong>
  </dt>
  <dd>
    <p>Outputs the packet on all switch physical ports other than the port on which it was received and any ports on which flooding is disabled (typically, these would be ports disabled by the IEEE 802.1D spanning tree protocol).</p>
  </dd>
  <dt>
    <strong>all</strong>
  </dt>
  <dd>
    <p>Outputs the packet on all switch physical ports other than the port on which it was received.</p>
  </dd>
  <dt>
    <strong>local</strong>
  </dt>
  <dd>
    <p>Outputs the packet on the ``local port,'' which corresponds to the network device that has the same name as the bridge.</p>
  </dd>
  <dt>
    <strong>in_port</strong>
  </dt>
  <dd>
    <p>Outputs the packet on the port from which it was received.</p>
  </dd>
  <dt>
    <strong>controller(</strong><em>key</em><strong>=</strong><em>value</em>...<strong>)</strong>
  </dt>
  <dd>
    <p>Sends the packet to the OpenFlow controller as a ``packet in'' message.  The supported key-value pairs are:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>max_len=</strong><em>nbytes</em>
  </dt>
  <dd>
    <p>Limit to <em>nbytes</em> the number of bytes of the packet to send to the controller.  By default the entire packet is sent.</p>
  </dd>
  <dt>
    <strong>reason=</strong><em>reason</em>
  </dt>
  <dd>
    <p>Specify <em>reason</em> as the reason for sending the message in the ``packet in'' message.  The supported reasons are <strong>action</strong> (the default), <strong>no_match</strong>, and <strong>invalid_ttl</strong>.</p>
  </dd>
  <dt>
    <strong>id=</strong><em>controller-id</em>
  </dt>
  <dd>
    <p>Specify <em>controller-id</em>, a 16-bit integer, as the connection ID of the OpenFlow controller or controllers to which the ``packet in'' message should be sent.  The default is zero.  Zero is also the default connection ID for each controller connection, and a given controller connection will only have a nonzero connection ID if its controller uses the <strong>NXT_SET_CONTROLLER_ID</strong> Nicira extension to OpenFlow.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Any <em>reason</em> other than <strong>action</strong> and any nonzero <em>controller-id</em> uses a Nicira vendor extension that, as of this writing, is only known to be implemented by Open vSwitch (version 1.6 or later).</p>
  </dd>
  <dt>
    <strong>controller</strong>
  </dt>
  <dd>
    <p>Shorthand for <strong>controller()</strong> or <strong>controller(max_len=</strong><em>nbytes</em><strong>)</strong>, respectively.</p>
  </dd>
  <dt>
    <strong>enqueue(</strong><em>port</em><strong>,</strong><em>queue</em><strong>)</strong>
  </dt>
  <dd>
    <p>Enqueues the packet on the specified <em>queue</em> within port <em>port</em>, which must be an OpenFlow port number or keyword (e.g. <strong>LOCAL</strong>).  The number of supported queues depends on the switch; some OpenFlow implementations do not support queuing at all.</p>
  </dd>
  <dt>
    <strong>drop</strong>
  </dt>
  <dd>
    <p>Discards the packet, so no further processing or forwarding takes place. If a drop action is used, no other actions may be specified.</p>
  </dd>
  <dt>
    <strong>mod_vlan_vid</strong>:<em>vlan_vid</em>
  </dt>
  <dd>
    <p>Modifies the VLAN id on a packet.  The VLAN tag is added or modified as necessary to match the value specified.  If the VLAN tag is added, a priority of zero is used (see the <strong>mod_vlan_pcp</strong> action to set this).</p>
  </dd>
  <dt>
    <strong>mod_vlan_pcp</strong>:<em>vlan_pcp</em>
  </dt>
  <dd>
    <p>Modifies the VLAN priority on a packet.  The VLAN tag is added or modified as necessary to match the value specified.  Valid values are between 0 (lowest) and 7 (highest).  If the VLAN tag is added, a vid of zero is used (see the <strong>mod_vlan_vid</strong> action to set this).</p>
  </dd>
  <dt>
    <strong>strip_vlan</strong>
  </dt>
  <dd>
    <p>Strips the VLAN tag from a packet if it is present.</p>
  </dd>
  <dt>
    <strong>push_vlan</strong>:<em>ethertype</em>
  </dt>
  <dd>
    <p>Push a new VLAN tag onto the packet.  Ethertype is used as the the Ethertype for the tag. Only ethertype 0x8100 should be used. (0x88a8 which the spec allows isn't supported at the moment.) A priority of zero and the tag of zero are used for the new tag.</p>
  </dd>
  <dt>
    <strong>push_mpls</strong>:<em>ethertype</em>
  </dt>
  <dd>
    <p>Changes the packet's Ethertype to <em>ethertype</em>, which must be either <strong>0x8847</strong> or <strong>0x8848</strong>, and pushes an MPLS LSE.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If the packet does not already contain any MPLS labels then an initial label stack entry is pushed.  The label stack entry's label is 2 if the packet contains IPv6 and 0 otherwise, its default traffic control value is the low 3 bits of the packet's DSCP value (0 if the packet is not IP), and its TTL is copied from the IP TTL (64 if the packet is not IP).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If the packet does already contain an MPLS label, pushes a new outermost label as a copy of the existing outermost label.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>A limitation of the implementation is that processing of actions will stop if <strong>push_mpls</strong> follows another <strong>push_mpls</strong> unless there is a <strong>pop_mpls</strong> in between.</p>
  </dd>
  <dt>
    <strong>pop_mpls</strong>:<em>ethertype</em>
  </dt>
  <dd>
    <p>Strips the outermost MPLS label stack entry. Currently the implementation restricts <em>ethertype</em> to a non-MPLS Ethertype and thus <strong>pop_mpls</strong> should only be applied to packets with an MPLS label stack depth of one. A further limitation is that processing of actions will stop if <strong>pop_mpls</strong> follows another <strong>pop_mpls</strong> unless there is a <strong>push_mpls</strong> in between.</p>
  </dd>
  <dt>
    <strong>mod_dl_src</strong><strong>:</strong><em>mac</em>
  </dt>
  <dd>
    <p>Sets the source Ethernet address to <em>mac</em>.</p>
  </dd>
  <dt>
    <strong>mod_dl_dst</strong><strong>:</strong><em>mac</em>
  </dt>
  <dd>
    <p>Sets the destination Ethernet address to <em>mac</em>.</p>
  </dd>
  <dt>
    <strong>mod_nw_src</strong><strong>:</strong><em>ip</em>
  </dt>
  <dd>
    <p>Sets the IPv4 source address to <em>ip</em>.</p>
  </dd>
  <dt>
    <strong>mod_nw_dst</strong><strong>:</strong><em>ip</em>
  </dt>
  <dd>
    <p>Sets the IPv4 destination address to <em>ip</em>.</p>
  </dd>
  <dt>
    <strong>mod_tp_src</strong><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>Sets the TCP or UDP or SCTP source port to <em>port</em>.</p>
  </dd>
  <dt>
    <strong>mod_tp_dst</strong><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>Sets the TCP or UDP or SCTP destination port to <em>port</em>.</p>
  </dd>
  <dt>
    <strong>mod_nw_tos</strong><strong>:</strong><em>tos</em>
  </dt>
  <dd>
    <p>Sets the DSCP bits in the IPv4 ToS/DSCP or IPv6 traffic class field to <em>tos</em>, which must be a multiple of 4 between 0 and 255.  This action does not modify the two least significant bits of the ToS field (the ECN bits).</p>
  </dd>
  <dt>
    <strong>mod_nw_ecn</strong><strong>:</strong><em>ecn</em>
  </dt>
  <dd>
    <p>Sets the ECN bits in the IPv4 ToS or IPv6 traffic class field to <em>ecn</em>, which must be a value between 0 and 3, inclusive.  This action does not modify the six most significant bits of the field (the DSCP bits).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Requires OpenFlow 1.1 or later.</p>
  </dd>
  <dt>
    <strong>mod_nw_ttl</strong><strong>:</strong><em>ttl</em>
  </dt>
  <dd>
    <p>Sets the IPv4 TTL or IPv6 hop limit field to <em>ttl</em>, which is specified as a decimal number between 0 and 255, inclusive.  Switch behavior when setting <em>ttl</em> to zero is not well specified, though.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Requires OpenFlow 1.1 or later.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The following actions are Nicira vendor extensions that, as of this writing, are only known to be implemented by Open vSwitch:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>resubmit</strong><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>Re-searches this OpenFlow flow table (or the table whose number is specified by <em>table</em>) with the <strong>in_port</strong> field replaced by <em>port</em> (if <em>port</em> is specified) and executes the actions found, if any, in addition to any other actions in this flow entry.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Recursive <strong>resubmit</strong> actions are obeyed up to an implementation-defined maximum depth.  Open vSwitch 1.0.1 and earlier did not support recursion; Open vSwitch before 1.2.90 did not support <em>table</em>.</p>
  </dd>
  <dt>
    <strong>set_tunnel</strong><strong>:</strong><em>id</em>
  </dt>
  <dd>
    <p>If outputting to a port that encapsulates the packet in a tunnel and supports an identifier (such as GRE), sets the identifier to <em>id</em>. If the <strong>set_tunnel</strong> form is used and <em>id</em> fits in 32 bits, then this uses an action extension that is supported by Open vSwitch 1.0 and later.  Otherwise, if <em>id</em> is a 64-bit value, it requires Open vSwitch 1.1 or later.</p>
  </dd>
  <dt>
    <strong>set_queue</strong><strong>:</strong><em>queue</em>
  </dt>
  <dd>
    <p>Sets the queue that should be used to <em>queue</em> when packets are output.  The number of supported queues depends on the switch; some OpenFlow implementations do not support queuing at all.</p>
  </dd>
  <dt>
    <strong>pop_queue</strong>
  </dt>
  <dd>
    <p>Restores the queue to the value it was before any <strong>set_queue</strong> actions were applied.</p>
  </dd>
  <dt>
    <strong>dec_ttl</strong>
  </dt>
  <dd>
    <p>Decrement TTL of IPv4 packet or hop limit of IPv6 packet.  If the TTL or hop limit is initially zero or decrementing would make it so, no decrement occurs, as packets reaching TTL zero must be rejected.  Instead, a ``packet-in'' message with reason code <strong>OFPR_INVALID_TTL</strong> is sent to each connected controller that has enabled receiving them, if any.  Processing the current set of actions then stops.  However, if the current set of actions was reached through ``resubmit'' then remaining actions in outer levels resume processing.  This action also optionally supports the ability to specify a list of valid controller ids.  Each of controllers in the list will receive the ``packet_in'' message only if they have registered to receive the invalid ttl packets.  If controller ids are not specified, the ``packet_in'' message will be sent only to the controllers having controller id zero which have registered for the invalid ttl packets.</p>
  </dd>
  <dt>
    <strong>set_mpls_label</strong>:<em>label</em>
  </dt>
  <dd>
    <p>Set the label of the outer MPLS label stack entry of a packet. <em>label</em> should be a 20-bit value that is decimal by default; use a <strong>0x</strong> prefix to specify them in hexadecimal.</p>
  </dd>
  <dt>
    <strong>set_mpls_tc</strong>:<em>tc</em>
  </dt>
  <dd>
    <p>Set the traffic-class of the outer MPLS label stack entry of a packet. <em>tc</em> should be a in the range 0 to 7 inclusive.</p>
  </dd>
  <dt>
    <strong>set_mpls_ttl</strong>:<em>ttl</em>
  </dt>
  <dd>
    <p>Set the TTL of the outer MPLS label stack entry of a packet. <em>ttl</em> should be in the range 0 to 255 inclusive.</p>
  </dd>
  <dt>
    <strong>dec_mpls_ttl</strong>
  </dt>
  <dd>
    <p>Decrement TTL of the outer MPLS label stack entry of a packet.  If the TTL is initially zero or decrementing would make it so, no decrement occurs. Instead, a ``packet-in'' message with reason code <strong>OFPR_INVALID_TTL</strong> is sent to the main controller (id zero), if it has enabled receiving them. Processing the current set of actions then stops.  However, if the current set of actions was reached through ``resubmit'' then remaining actions in outer levels resume processing.</p>
  </dd>
  <dt>
    <strong>note:</strong>[<em>hh</em>]...
  </dt>
  <dd>
    <p>Does nothing at all.  Any number of bytes represented as hex digits <em>hh</em> may be included.  Pairs of hex digits may be separated by periods for readability. The <strong>note</strong> action's format doesn't include an exact length for its payload, so the provided bytes will be padded on the right by enough bytes with value 0 to make the total number 6 more than a multiple of 8.</p>
  </dd>
  <dt>
    <strong>move:</strong><em>src</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]-&gt;</strong><em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>
  </dt>
  <dd>
    <p>Copies the named bits from field <em>src</em> to field <em>dst</em>. <em>src</em> and <em>dst</em> must be NXM field names as defined in <strong>nicira-ext.h</strong>, e.g. <strong>NXM_OF_UDP_SRC</strong> or <strong>NXM_NX_REG0</strong>. Each <em>start</em> and <em>end</em> pair, which are inclusive, must specify the same number of bits and must fit within its respective field. Shorthands for <strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong> exist: use <strong>[</strong><em>bit</em><strong>]</strong> to specify a single bit or <strong>[]</strong> to specify an entire field.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Examples: <strong>move:NXM_NX_REG0[0..5]-&gt;NXM_NX_REG1[26..31]</strong> copies the six bits numbered 0 through 5, inclusive, in register 0 into bits 26 through 31, inclusive; <strong>move:NXM_NX_REG0[0..15]-&gt;NXM_OF_VLAN_TCI[]</strong> copies the least significant 16 bits of register 0 into the VLAN TCI field.</p>
  </dd>
  <dt>
    <strong>load:</strong><em>value</em><strong>-&gt;</strong><em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>
  </dt>
  <dd>
    <p>Writes <em>value</em> to bits <em>start</em> through <em>end</em>, inclusive, in field <em>dst</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Example: <strong>load:55-&gt;NXM_NX_REG2[0..5]</strong> loads value 55 (bit pattern <strong>110111</strong>) into bits 0 through 5, inclusive, in register 2.</p>
  </dd>
  <dt>
    <strong>push:</strong><em>src</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>
  </dt>
  <dd>
    <p>Pushes <em>start</em> to <em>end</em> bits inclusive, in fields on top of the stack.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Example: <strong>push:NXM_NX_REG2[0..5]</strong> push the value stored in register 2 bits 0 through 5, inclusive, on to the internal stack.</p>
  </dd>
  <dt>
    <strong>pop:</strong><em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>
  </dt>
  <dd>
    <p>Pops from the top of the stack, retrieves the <em>start</em> to <em>end</em> bits inclusive, from the value popped and store them into the corresponding bits in <em>dst</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Example: <strong>pop:NXM_NX_REG2[0..5]</strong> pops the value from top of the stack. Set register 2 bits 0 through 5, inclusive, based on bits 0 through 5 from the value just popped.</p>
  </dd>
  <dt>
    <strong>set_field:</strong><em>value</em><strong>-&gt;</strong><em>dst</em>
  </dt>
  <dd>
    <p>Writes the literal <em>value</em> into the field <em>dst</em>, which should be specified as a name used for matching.  (This is similar to <strong>load</strong> but more closely matches the set-field action defined in OpenFlow 1.2 and above.)</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Example: <strong>set_field:00:11:22:33:44:55-&gt;eth_src</strong>.</p>
  </dd>
  <dt>
    <strong>multipath(</strong><em>fields</em><strong>, </strong><em>basis</em><strong>, </strong><em>algorithm</em><strong>, </strong><em>n_links</em><strong>, </strong><em>arg</em><strong>, </strong><em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>])</strong>
  </dt>
  <dd>
    <p>Hashes <em>fields</em> using <em>basis</em> as a universal hash parameter, then the applies multipath link selection <em>algorithm</em> (with parameter <em>arg</em>) to choose one of <em>n_links</em> output links numbered 0 through <em>n_links</em> minus 1, and stores the link into <em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>, which must be an NXM field as described above.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Currently, <em>fields</em> must be either <strong>eth_src</strong> or <strong>symmetric_l4</strong> and <em>algorithm</em> must be one of <strong>modulo_n</strong>, <strong>hash_threshold</strong>, <strong>hrw</strong>, and <strong>iter_hash</strong>.  Only the <strong>iter_hash</strong> algorithm uses <em>arg</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Refer to <strong>nicira-ext.h</strong> for more details.</p>
  </dd>
  <dt>
    <strong>bundle(</strong><em>fields</em><strong>, </strong><em>basis</em><strong>, </strong><em>algorithm</em><strong>, </strong><em>slave_type</em><strong>, slaves:[</strong><em>s1</em><strong>, </strong><em>s2</em><strong>, ...])</strong>
  </dt>
  <dd>
    <p>Hashes <em>fields</em> using <em>basis</em> as a universal hash parameter, then applies the bundle link selection <em>algorithm</em> to choose one of the listed slaves represented as <em>slave_type</em>.  Currently the only supported <em>slave_type</em> is <strong>ofport</strong>.  Thus, each <em>s1</em> through <em>sN</em> should be an OpenFlow port number. Outputs to the selected slave.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Currently, <em>fields</em> must be either <strong>eth_src</strong> or <strong>symmetric_l4</strong> and <em>algorithm</em> must be one of <strong>hrw</strong> and <strong>active_backup</strong>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Example: <strong>bundle(eth_src,0,hrw,ofport,slaves:4,8)</strong> uses an Ethernet source hash with basis 0, to select between OpenFlow ports 4 and 8 using the Highest Random Weight algorithm.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Refer to <strong>nicira-ext.h</strong> for more details.</p>
  </dd>
  <dt>
    <strong>bundle_load(</strong><em>fields</em><strong>, </strong><em>basis</em><strong>, </strong><em>algorithm</em><strong>, </strong><em>slave_type</em><strong>, </strong><em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>], slaves:[</strong><em>s1</em><strong>, </strong><em>s2</em><strong>, ...])</strong>
  </dt>
  <dd>
    <p>Has the same behavior as the <strong>bundle</strong> action, with one exception.  Instead of outputting to the selected slave, it writes its selection to <em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>, which must be an NXM field as described above.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Example: <strong>bundle_load(eth_src, 0, hrw, ofport, NXM_NX_REG0[],</strong> slaves:4, 8) uses an Ethernet source hash with basis 0, to select between OpenFlow ports 4 and 8 using the Highest Random Weight algorithm, and writes the selection to <strong>NXM_NX_REG0[]</strong>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Refer to <strong>nicira-ext.h</strong> for more details.</p>
  </dd>
  <dt>
    <strong>learn(</strong><em>argument</em>[<strong>,</strong><em>argument</em>]...<strong>)</strong>
  </dt>
  <dd>
    <p>This action adds or modifies a flow in an OpenFlow table, similar to <strong>ovs-ofctl --strict mod-flows</strong>.  The arguments specify the flow's match fields, actions, and other properties, as follows.  At least one match criterion and one action argument should ordinarily be specified.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>idle_timeout=</strong><em>seconds</em>
  </dt>
  <dd>
    <p>These key-value pairs have the same meaning as in the usual <strong>ovs-ofctl</strong> flow syntax.</p>
  </dd>
  <dt>
    <strong>fin_idle_timeout=</strong><em>seconds</em>
  </dt>
  <dd>
    <p>Adds a <strong>fin_timeout</strong> action with the specified arguments to the new flow.  This feature was added in Open vSwitch 1.5.90.</p>
  </dd>
  <dt>
    <strong>table=</strong><em>number</em>
  </dt>
  <dd>
    <p>The table in which the new flow should be inserted.  Specify a decimal number between 0 and 254.  The default, if <strong>table</strong> is unspecified, is table 1.</p>
  </dd>
  <dt>
    <em>field</em><strong>=</strong><em>value</em>
  </dt>
  <dd>
    <p>Adds a match criterion to the new flow.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The first form specifies that <em>field</em> must match the literal <em>value</em>, e.g. <strong>dl_type=0x0800</strong>.  All of the fields and values for <strong>ovs-ofctl</strong> flow syntax are available with their usual meanings.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The second form specifies that <em>field</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong> in the new flow must match <em>src</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong> taken from the flow currently being processed.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The third form is a shorthand for the second form.  It specifies that <em>field</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong> in the new flow must match <em>field</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong> taken from the flow currently being processed.</p>
  </dd>
  <dt>
    <strong>load:</strong><em>value</em><strong>-&gt;</strong><em>dst</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>
  </dt>
  <dd>
    <p>Adds a <strong>load</strong> action to the new flow.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The first form loads the literal <em>value</em> into bits <em>start</em> through <em>end</em>, inclusive, in field <em>dst</em>.  Its syntax is the same as the <strong>load</strong> action described earlier in this section.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The second form loads <em>src</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>, a value from the flow currently being processed, into bits <em>start</em> through <em>end</em>, inclusive, in field <em>dst</em>.</p>
  </dd>
  <dt>
    <strong>output:</strong><em>field</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>
  </dt>
  <dd>
    <p>Add an <strong>output</strong> action to the new flow's actions, that outputs to the OpenFlow port taken from <em>field</em><strong>[</strong><em>start</em><strong>..</strong><em>end</em><strong>]</strong>, which must be an NXM field as described above.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For best performance, segregate learned flows into a table (using <strong>table=</strong><em>number</em>) that is not used for any other flows except possibly for a lowest-priority ``catch-all'' flow, that is, a flow with no match criteria.  (This is why the default <strong>table</strong> is 1, to keep the learned flows separate from the primary flow table 0.)</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <strong>apply_actions(</strong>[<em>action</em>][<strong>,</strong><em>action</em>...]<strong>)</strong>
  </dt>
  <dd>
    <p>Applies the specific action(s) immediately. The syntax of actions are same to <strong>actions=</strong> field.</p>
  </dd>
  <dt>
    <strong>clear_actions</strong>
  </dt>
  <dd>
    <p>Clears all the actions in the action set immediately.</p>
  </dd>
  <dt>
    <strong>write_actions(</strong>[<em>action</em>][<strong>,</strong><em>action</em>...]<strong>)</strong>
  </dt>
  <dd>
    <p>Add the specific actions to the action set.  The syntax of <em>actions</em> is the same as in the <strong>actions=</strong> field.  The action set is carried between flow tables and then executed at the end of the pipeline.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The actions in the action set are applied in the following order, as required by the OpenFlow specification, regardless of the order in which they were added to the action set.  Except as specified otherwise below, the action set only holds at most a single action of each type.  When more than one action of a single type is written to the action set, the one written later replaces the earlier action:</p>
<dl class='dl-vertical'>
  <dt>
    1.
  </dt>
  <dd>
    <p><strong>strip_vlan</strong> <strong>pop_mpls</strong></p>
  </dd>
  <dt>
    2.
  </dt>
  <dd>
    <p><strong>push_mpls</strong></p>
  </dd>
  <dt>
    3.
  </dt>
  <dd>
    <p><strong>push_vlan</strong></p>
  </dd>
  <dt>
    4.
  </dt>
  <dd>
    <p><strong>dec_ttl</strong> <strong>dec_mpls_ttl</strong></p>
  </dd>
  <dt>
    5.
  </dt>
  <dd>
    <p><strong>load</strong> <strong>mod_dl_dst</strong> <strong>mod_dl_src</strong> <strong>mod_nw_dst</strong> <strong>mod_nw_src</strong> <strong>mod_nw_tos</strong> <strong>mod_nw_ecn</strong> <strong>mod_nw_ttl</strong> <strong>mod_tp_dst</strong> <strong>mod_tp_src</strong> <strong>mod_vlan_pcp</strong> <strong>mod_vlan_vid</strong> <strong>set_field</strong> <strong>set_tunnel</strong> <strong>set_tunnel64</strong> The action set can contain any number of these actions, with cumulative effect.  That is, when multiple actions modify the same part of a field, the later modification takes effect, and when they modify different parts of a field (or different fields), then both modifications are applied.</p>
  </dd>
  <dt>
    6.
  </dt>
  <dd>
    <p><strong>set_queue</strong></p>
  </dd>
  <dt>
    7.
  </dt>
  <dd>
    <p><strong>group</strong> <strong>output</strong> If both actions are present, then <strong>group</strong> is executed and <strong>output</strong> is ignored, regardless of the order in which they were added to the action set.  (If neither action is present, the action set has no real effect, because the modified packet is not sent anywhere and thus the modifications are not visible.)</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Only the actions listed above may be written to the action set.</p>
  </dd>
  <dt>
    <strong>write_metadata</strong><strong>:</strong><em>value</em>[/<em>mask</em>]
  </dt>
  <dd>
    <p>Updates the metadata field for the flow. If <em>mask</em> is omitted, the metadata field is set exactly to <em>value</em>; if <em>mask</em> is specified, then a 1-bit in <em>mask</em> indicates that the corresponding bit in the metadata field will be replaced with the corresponding bit from <em>value</em>. Both <em>value</em> and <em>mask</em> are 64-bit values that are decimal by default; use a <strong>0x</strong> prefix to specify them in hexadecimal.</p>
  </dd>
  <dt>
    <strong>meter</strong>:<em>meter_id</em>
  </dt>
  <dd>
    <p>Apply the <em>meter_id</em> before any other actions. If a meter band rate is exceeded, the packet may be dropped, or modified, depending on the meter band type. See the description of the <strong>Meter Table Commands</strong>, above, for more details.</p>
  </dd>
  <dt>
    <strong>goto_table</strong>:<em>table</em>
  </dt>
  <dd>
    <p>Indicates the next table in the process pipeline.</p>
  </dd>
  <dt>
    <strong>fin_timeout(</strong><em>argument</em>[<strong>,</strong><em>argument</em>]<strong>)</strong>
  </dt>
  <dd>
    <p>This action changes the idle timeout or hard timeout, or both, of this OpenFlow rule when the rule matches a TCP packet with the FIN or RST flag.  When such a packet is observed, the action reduces the rule's timeouts to those specified on the action.  If the rule's existing timeout is already shorter than the one that the action specifies, then that timeout is unaffected.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><em>argument</em> takes the following forms:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>idle_timeout=</strong><em>seconds</em>
  </dt>
  <dd>
    <p>Causes the flow to expire after the given number of seconds of inactivity.</p>
  </dd>
  <dt>
    <strong>hard_timeout=</strong><em>seconds</em>
  </dt>
  <dd>
    <p>Causes the flow to expire after the given number of seconds, regardless of activity.  (<em>seconds</em> specifies time since the flow's creation, not since the receipt of the FIN or RST.)</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This action was added in Open vSwitch 1.5.90.</p>
  </dd>
  <dt>
    <strong>sample(</strong><em>argument</em>[<strong>,</strong><em>argument</em>]...<strong>)</strong>
  </dt>
  <dd>
    <p>Samples packets and sends one sample for every sampled packet.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><em>argument</em> takes the following forms:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>probability=</strong><em>packets</em>
  </dt>
  <dd>
    <p>The number of sampled packets out of 65535.  Must be greater or equal to 1.</p>
  </dd>
  <dt>
    <strong>collector_set_id=</strong><em>id</em>
  </dt>
  <dd>
    <p>The unsigned 32-bit integer identifier of the set of sample collectors to send sampled packets to.  Defaults to 0.</p>
  </dd>
  <dt>
    <strong>obs_domain_id=</strong><em>id</em>
  </dt>
  <dd>
    <p>When sending samples to IPFIX collectors, the unsigned 32-bit integer Observation Domain ID sent in every IPFIX flow record.  Defaults to 0.</p>
  </dd>
  <dt>
    <strong>obs_point_id=</strong><em>id</em>
  </dt>
  <dd>
    <p>When sending samples to IPFIX collectors, the unsigned 32-bit integer Observation Point ID sent in every IPFIX flow record.  Defaults to 0.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Refer to <strong>ovs-vswitchd.conf.db</strong>(8) for more details on configuring sample collector sets.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This action was added in Open vSwitch 1.10.90.</p>
  </dd>
  <dt>
    <strong>exit</strong>
  </dt>
  <dd>
    <p>This action causes Open vSwitch to immediately halt execution of further actions.  Those actions which have already been executed are unaffected.  Any further actions, including those which may be in other tables, or different levels of the <strong>resubmit</strong> call stack, are ignored.  Actions in the action set is still executed (specify <strong>clear_actions</strong> before <strong>exit</strong> to discard them).</p>
  </dd>

</dl>

  </dd>

</dl>
<p>An opaque identifier called a cookie can be used as a handle to identify a set of flows:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>cookie=</strong><em>value</em>
  </dt>
  <dd>
    <p>A cookie can be associated with a flow using the <strong>add-flow</strong>, <strong>add-flows</strong>, and <strong>mod-flows</strong> commands.  <em>value</em> can be any 64-bit number and need not be unique among flows.  If this field is omitted, a default cookie value of 0 is used.</p>
  </dd>
  <dt>
    <strong>cookie=</strong><em>value</em><strong>/</strong><em>mask</em>
  </dt>
  <dd>
    <p>When using NXM, the cookie can be used as a handle for querying, modifying, and deleting flows.  <em>value</em> and <em>mask</em> may be supplied for the <strong>del-flows</strong>, <strong>mod-flows</strong>, <strong>dump-flows</strong>, and <strong>dump-aggregate</strong> commands to limit matching cookies.  A 1-bit in <em>mask</em> indicates that the corresponding bit in <em>cookie</em> must match exactly, and a 0-bit wildcards that bit.  A mask of -1 may be used to exactly match a cookie.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>mod-flows</strong> command can update the cookies of flows that match a cookie by specifying the <em>cookie</em> field twice (once with a mask for matching and once without to indicate the new value):</p>
<dl class='dl-vertical'>
  <dt>
    <strong>ovs-ofctl mod-flows br0 cookie=1,actions=normal</strong>
  </dt>
  <dd>
    <p>Change all flows' cookies to 1 and change their actions to <strong>normal</strong>.</p>
  </dd>
  <dt>
    <strong>ovs-ofctl mod-flows br0 cookie=1/-1,cookie=2,actions=normal</strong>
  </dt>
  <dd>
    <p>Update cookies with a value of 1 to 2 and change their actions to <strong>normal</strong>.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The ability to match on cookies was added in Open vSwitch 1.5.0.</p>
  </dd>

</dl>
<p>The following additional field sets the priority for flows added by the <strong>add-flow</strong> and <strong>add-flows</strong> commands.  For <strong>mod-flows</strong> and <strong>del-flows</strong> when <strong>--strict</strong> is specified, priority must match along with the rest of the flow specification.  For <strong>mod-flows</strong> without <strong>--strict</strong>, priority is only significant if the command creates a new flow, that is, non-strict <strong>mod-flows</strong> does not match on priority and will not change the priority of existing flows.  Other commands do not allow priority to be specified.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>priority=</strong><em>value</em>
  </dt>
  <dd>
    <p>The priority at which a wildcarded entry will match in comparison to others.  <em>value</em> is a number between 0 and 65535, inclusive.  A higher <em>value</em> will match before a lower one.  An exact-match entry will always have priority over an entry containing wildcards, so it has an implicit priority value of 65535.  When adding a flow, if the field is not specified, the flow's priority will default to 32768.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>OpenFlow leaves behavior undefined when two or more flows with the same priority can match a single packet.  Some users expect ``sensible'' behavior, such as more specific flows taking precedence over less specific flows, but OpenFlow does not specify this and Open vSwitch does not implement it.  Users should therefore take care to use priorities to ensure the behavior that they expect.</p>
  </dd>

</dl>
<p>The <strong>add-flow</strong>, <strong>add-flows</strong>, and <strong>mod-flows</strong> commands support the following additional options.  These options affect only new flows.  Thus, for <strong>add-flow</strong> and <strong>add-flows</strong>, these options are always significant, but for <strong>mod-flows</strong> they are significant only if the command creates a new flow, that is, their values do not update or affect existing flows.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>idle_timeout=</strong><em>seconds</em>
  </dt>
  <dd>
    <p>Causes the flow to expire after the given number of seconds of inactivity.  A value of 0 (the default) prevents a flow from expiring due to inactivity.</p>
  </dd>
  <dt>
    <strong>hard_timeout=</strong><em>seconds</em>
  </dt>
  <dd>
    <p>Causes the flow to expire after the given number of seconds, regardless of activity.  A value of 0 (the default) gives the flow no hard expiration deadline.</p>
  </dd>
  <dt>
    <strong>send_flow_rem</strong>
  </dt>
  <dd>
    <p>Marks the flow with a flag that causes the switch to generate a ``flow removed'' message and send it to interested controllers when the flow later expires or is removed.</p>
  </dd>
  <dt>
    <strong>check_overlap</strong>
  </dt>
  <dd>
    <p>Forces the switch to check that the flow match does not overlap that of any different flow with the same priority in the same table.  (This check is expensive so it is best to avoid it.)</p>
  </dd>

</dl>
<p>The <strong>dump-flows</strong>, <strong>dump-aggregate</strong>, <strong>del-flow</strong> and <strong>del-flows</strong> commands support one additional optional field:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>out_port=</strong><em>port</em></p>
  </dt>
  <dd>
    <p>If set, a matching flow must include an output action to <em>port</em>, which must be an OpenFlow port number or name (e.g. <strong>local</strong>).</p>
  </dd>

</dl>

<h3>Table Entry Output</h3>
<p>The <strong>dump-tables</strong> and <strong>dump-aggregate</strong> commands print information about the entries in a datapath's tables.  Each line of output is a flow entry as described in <strong>Flow Syntax</strong>, above, plus some additional fields:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>duration=</strong><em>secs</em>
  </dt>
  <dd>
    <p>The time, in seconds, that the entry has been in the table. <em>secs</em> includes as much precision as the switch provides, possibly to nanosecond resolution.</p>
  </dd>
  <dt>
    <strong>n_packets</strong>
  </dt>
  <dd>
    <p>The number of packets that have matched the entry.</p>
  </dd>
  <dt>
    <strong>n_bytes</strong>
  </dt>
  <dd>
    <p>The total number of bytes from packets that have matched the entry.</p>
  </dd>

</dl>
<p>The following additional fields are included only if the switch is Open vSwitch 1.6 or later and the NXM flow format is used to dump the flow (see the description of the <strong>--flow-format</strong> option below). The values of these additional fields are approximations only and in particular <strong>idle_age</strong> will sometimes become nonzero even for busy flows.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>hard_age=</strong><em>secs</em>
  </dt>
  <dd>
    <p>The integer number of seconds since the flow was added or modified. <strong>hard_age</strong> is displayed only if it differs from the integer part of <strong>duration</strong>.  (This is separate from <strong>duration</strong> because <strong>mod-flows</strong> restarts the <strong>hard_timeout</strong> timer without zeroing <strong>duration</strong>.)</p>
  </dd>
  <dt>
    <strong>idle_age=</strong><em>secs</em>
  </dt>
  <dd>
    <p>The integer number of seconds that have passed without any packets passing through the flow.</p>
  </dd>

</dl>

<h3>Group Syntax</h3>
<p>Some <strong>ovs-ofctl</strong> commands accept an argument that describes a group or groups.  Such flow descriptions comprise a series <em>field</em><strong>=</strong><em>value</em> assignments, separated by commas or white space.  (Embedding spaces into a group description normally requires quoting to prevent the shell from breaking the description into multiple arguments.). Unless noted otherwise only the last instance of each field is honoured.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>group_id=</strong><em>id</em>
  </dt>
  <dd>
    <p>The integer group id of group. When this field is specified in <strong>del-groups</strong> or <strong>dump-groups</strong>, the keyword "all" may be used to designate all groups. This field is required.</p>
  </dd>
  <dt>
    <strong>type=</strong><em>type</em>
  </dt>
  <dd>
    <p>The type of the group.  This <strong>add-group</strong>, <strong>add-groups</strong> and <strong>del-groups</strong> command require this field.  The following keywords designated the allowed types:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>all</strong>
  </dt>
  <dd>
    <p>Execute all buckets in the group.</p>
  </dd>
  <dt>
    <strong>select</strong>
  </dt>
  <dd>
    <p>Execute one bucket in the group. The switch should select the bucket in such a way that should implement equal load sharing is achieved.  The switch may optionally select the bucket based on bucket weights.</p>
  </dd>
  <dt>
    <strong>indirect</strong>
  </dt>
  <dd>
    <p>Executes the one bucket in the group.</p>
  </dd>
  <dt>
    <strong>ff</strong>
  </dt>
  <dd>
    <p>Executes the first live bucket in the group which is associated with a live port or group.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>bucket</strong>=<em>bucket_parameters</em>
  </dt>
  <dd>
    <p>The <strong>add-group</strong>, <strong>add-groups</strong> and <strong>mod-group</strong> commands require at least one bucket field. Bucket fields must appear after all other fields. Multiple bucket fields to specify multiple buckets. The order in which buckets are specified corresponds to their order in the group. If the type of the group is "indirect" then only one group may be specified. <em>bucket_parameters</em> consists of a list of <em>field</em><strong>=</strong><em>value</em> assignments, separated by commas or white space followed by a comma-separated list of actions. The syntax of actions are same to <strong>actions=</strong> field described in <strong>Flow Syntax</strong> above. The fields for <em>bucket_parameters</em> are:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>weight=</strong><em>value</em>
  </dt>
  <dd>
    <p>The relative weight of the bucket as an integer. This may be used by the switch during bucket select for groups whose <strong>type</strong> is <strong>select</strong>.</p>
  </dd>
  <dt>
    <strong>watch_port=</strong><em>port</em>
  </dt>
  <dd>
    <p>Port used to determine liveness of group. This or the <strong>watch_group</strong> field is required for groups whose <strong>type</strong> is <strong>ff</strong> or <strong>fast_failover</strong>.</p>
  </dd>
  <dt>
    <strong>watch_group=</strong><em>group_id</em>
  </dt>
  <dd>
    <p>Group identifier of group used to determine liveness of group. This or the <strong>watch_port</strong> field is required for groups whose <strong>type</strong> is <strong>ff</strong> or <strong>fast_failover</strong>.</p>
  </dd>

</dl>

  </dd>

</dl>

<h3>Meter Syntax</h3>
<p>The meter table commands accept an argument that describes a meter. Such meter descriptions comprise a series <em>field</em><strong>=</strong><em>value</em> assignments, separated by commas or white space. (Embedding spaces into a group description normally requires quoting to prevent the shell from breaking the description into multiple arguments.). Unless noted otherwise only the last instance of each field is honoured.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>meter=</strong><em>id</em>
  </dt>
  <dd>
    <p>The integer meter id of the meter. When this field is specified in <strong>del-meter</strong>, <strong>dump-meter</strong>, or <strong>meter-stats</strong>, the keyword "all" may be used to designate all meters. This field is required, exept for <strong>meter-stats</strong>, which dumps all stats when this field is not specified.</p>
  </dd>
  <dt>
    <strong>kbps</strong>
  </dt>
  <dd>
    <p>The unit for the meter band rate parameters, either kilobits per second, or packets per second, respectively.  One of these must be specified.  The burst size unit corresponds to the rate unit by dropping the "per second", i.e., burst is in units of kilobits or packets, respectively.</p>
  </dd>
  <dt>
    <strong>burst</strong>
  </dt>
  <dd>
    <p>Specify burst size for all bands, or none of them, if this flag is not given.</p>
  </dd>
  <dt>
    <strong>stats</strong>
  </dt>
  <dd>
    <p>Collect meter and band statistics.</p>
  </dd>
  <dt>
    <strong>bands</strong>=<em>band_parameters</em>
  </dt>
  <dd>
    <p>The <strong>add-meter</strong> and <strong>mod-meter</strong> commands require at least one band specification. Bands must appear after all other fields.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>type=</strong><em>type</em>
  </dt>
  <dd>
    <p>The type of the meter band.  This keyword starts a new band specification. Each band specifies a rate above which the band is to take some action. The action depends on the band type.  If multiple bands' rate is exceeded, then the band with the highest rate among the exceeded bands is selected. The following keywords designate the allowed meter band types:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>drop</strong>
  </dt>
  <dd>
    <p>Drop packets exceeding the band's rate limit.</p>
  </dd>

</dl>

  </dd>
  <dt>
    The other <em>band_parameters</em> are:
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>rate=</strong><em>value</em>
  </dt>
  <dd>
    <p>The relative rate limit for this band, in kilobits per second or packets per second, depending on the meter flags defined above.</p>
  </dd>
  <dt>
    <strong>burst_size=</strong><em>port</em>
  </dt>
  <dd>
    <p>The maximum burst allowed for the band.  If unspecified, the switch is free to select some reasonable value depending on it's configuration.</p>
  </dd>

</dl>

  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--strict</strong></p>
  </dt>
  <dd>
    <p>Uses strict matching when running flow modification commands.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-O </strong>[<em>version</em>[<strong>,</strong><em>version</em>]...]
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Sets the OpenFlow protocol versions that are allowed when establishing an OpenFlow session.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The following versions are considered to be ready for general use. These protocol versions are enabled by default:</p><ul>
<li><p><strong>OpenFlow10</strong>, for OpenFlow 1.0.</p></li>
</ul>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Support for the following protocol versions is provided for testing and development purposes.  They are not enabled by default:</p><ul>
<li><p><strong>OpenFlow11</strong>, for OpenFlow 1.1.</p></li><li><p><strong>OpenFlow12</strong>, for OpenFlow 1.2.</p></li><li><p><strong>OpenFlow13</strong>, for OpenFlow 1.3.</p></li>
</ul>
  </dd>
  <dt>
    <strong>-F </strong><em>format</em>[<strong>,</strong><em>format</em>...]
  </dt>
  <dd>
    <p><strong>ovs-ofctl</strong> supports the following individual flow formats, any number of which may be listed as <em>format</em>:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>OpenFlow10-table_id</strong>
  </dt>
  <dd>
    <p>This is the standard OpenFlow 1.0 flow format.  All OpenFlow switches and all versions of Open vSwitch support this flow format.</p>
  </dd>
  <dt>
    <strong>OpenFlow10+table_id</strong>
  </dt>
  <dd>
    <p>This is the standard OpenFlow 1.0 flow format plus a Nicira extension that allows <strong>ovs-ofctl</strong> to specify the flow table in which a particular flow should be placed.  Open vSwitch 1.2 and later supports this flow format.</p>
  </dd>
  <dt>
    <strong>NXM-table_id</strong> (Nicira Extended Match)
  </dt>
  <dd>
    <p>This Nicira extension to OpenFlow is flexible and extensible.  It supports all of the Nicira flow extensions, such as <strong>tun_id</strong> and registers.  Open vSwitch 1.1 and later supports this flow format.</p>
  </dd>
  <dt>
    <strong>NXM+table_id</strong> (Nicira Extended Match)
  </dt>
  <dd>
    <p>This combines Nicira Extended match with the ability to place a flow in a specific table.  Open vSwitch 1.2 and later supports this flow format.</p>
  </dd>
  <dt>
    <strong>OXM-OpenFlow12</strong>
  </dt>
  <dd>
    <p>These are the standard OXM (OpenFlow Extensible Match) flow format in OpenFlow 1.2, 1.3, and 1.4, respectively.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>ovs-ofctl</strong> also supports the following abbreviations for collections of flow formats:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>any</strong>
  </dt>
  <dd>
    <p>Any supported flow format.</p>
  </dd>
  <dt>
    <strong>OpenFlow10</strong>
  </dt>
  <dd>
    <p><strong>OpenFlow10-table_id</strong> or <strong>OpenFlow10+table_id</strong>.</p>
  </dd>
  <dt>
    <strong>NXM</strong>
  </dt>
  <dd>
    <p><strong>NXM-table_id</strong> or <strong>NXM+table_id</strong>.</p>
  </dd>
  <dt>
    <strong>OXM</strong>
  </dt>
  <dd>
    <p><strong>OXM-OpenFlow12</strong>, <strong>OXM-OpenFlow13</strong>, or <strong>OXM-OpenFlow14</strong>.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For commands that modify the flow table, <strong>ovs-ofctl</strong> by default negotiates the most widely supported flow format that supports the flows being added.  For commands that query the flow table, <strong>ovs-ofctl</strong> by default uses the most advanced format supported by the switch.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This option, where <em>format</em> is a comma-separated list of one or more of the formats listed above, limits <strong>ovs-ofctl</strong>'s choice of flow format.  If a command cannot work as requested using one of the specified flow formats, <strong>ovs-ofctl</strong> will report a fatal error.</p>
  </dd>
  <dt>
    <strong>-P </strong><em>format</em>
  </dt>
  <dd>
    <p><strong>ovs-ofctl</strong> supports the following packet_in formats, in order of increasing capability:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>openflow10</strong>
  </dt>
  <dd>
    <p>This is the standard OpenFlow 1.0 packet in format. It should be supported by all OpenFlow switches.</p>
  </dd>
  <dt>
    <strong>nxm</strong> (Nicira Extended Match)
  </dt>
  <dd>
    <p>This packet_in format includes flow metadata encoded using the NXM format.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Usually, <strong>ovs-ofctl</strong> prefers the <strong>nxm</strong> packet_in format, but will allow the switch to choose its default if <strong>nxm</strong> is unsupported.  When <em>format</em> is one of the formats listed in the above table, <strong>ovs-ofctl</strong> will insist on the selected format.  If the switch does not support the requested format, <strong>ovs-ofctl</strong> will report a fatal error.  This option only affects the <strong>monitor</strong> command.</p>
  </dd>
  <dt>
    <strong>--timestamp</strong>
  </dt>
  <dd>
    <p>Print a timestamp before each received packet.  This option only affects the <strong>monitor</strong>, <strong>snoop</strong>, and <strong>ofp-parse-pcap</strong> commands.</p>
  </dd>
  <dt>
    <strong>-m</strong>
  </dt>
  <dd>
    <p>Increases the verbosity of OpenFlow messages printed and logged by <strong>ovs-ofctl</strong> commands.  Specify this option more than once to increase verbosity further.</p>
  </dd>
  <dt>
    <strong>--sort</strong>[<strong>=</strong><em>field</em>]
  </dt>
  <dd>
    <p>Display output sorted by flow <em>field</em> in ascending (<strong>--sort</strong>) or descending (<strong>--rsort</strong>) order, where <em>field</em> is any of the fields that are allowed for matching or <strong>priority</strong> to sort by priority.  When <em>field</em> is omitted, the output is sorted by priority.  Specify these options multiple times to sort by multiple fields.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Any given flow will not necessarily specify a value for a given field.  This requires special treatement:</p><ul>
<li><p>A flow that does not specify any part of a field that is used for sorting is sorted after all the flows that do specify the field.  For example, <strong>--sort=tcp_src</strong> will sort all the flows that specify a TCP source port in ascending order, followed by the flows that do not specify a TCP source port at all.</p></li><li><p>A flow that only specifies some bits in a field is sorted as if the wildcarded bits were zero.  For example, <strong>--sort=nw_src</strong> would sort a flow that specifies <strong>nw_src=192.168.0.0/24</strong> the same as <strong>nw_src=192.168.0.0</strong>.</p></li>
</ul>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>These options currently affect only <strong>dump-flows</strong> output. The following options are valid on POSIX based platforms.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--pidfile</strong>[<strong>=</strong><em>pidfile</em>]</p>
  </dt>
  <dd>
    <p>Causes a file (by default, <strong>\*(PN.pid</strong>) to be created indicating the PID of the running process.  If the <em>pidfile</em> argument is not specified, or if it does not begin with <strong>/</strong>, then it is created in <strong>/var/run/openvswitch</strong>.</p><ul>
<li><p>If <strong>--pidfile</strong> is not specified, no pidfile is created.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--overwrite-pidfile</strong></p>
  </dt>
  <dd>
    <p>By default, when <strong>--pidfile</strong> is specified and the specified pidfile already exists and is locked by a running process, <strong>\*(PN</strong> refuses to start.  Specify <strong>--overwrite-pidfile</strong> to cause it to instead overwrite the pidfile.</p><ul>
<li><p>When <strong>--pidfile</strong> is not specified, this option has no effect.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--detach</strong></p>
  </dt>
  <dd>
    <p>Causes <strong>\*(PN</strong> to detach itself from the foreground session and run as a background process. \*(DD</p>
  </dd>
  <dt>
    <p><strong>--monitor</strong></p>
  </dt>
  <dd>
    <p>Creates an additional process to monitor the <strong>\*(PN</strong> daemon.  If the daemon dies due to a signal that indicates a programming error (<strong>SIGABRT</strong>, <strong>SIGALRM</strong>, <strong>SIGBUS</strong>, <strong>SIGFPE</strong>, <strong>SIGILL</strong>, <strong>SIGPIPE</strong>, <strong>SIGSEGV</strong>, <strong>SIGXCPU</strong>, or <strong>SIGXFSZ</strong>) then the monitor process starts a new copy of it.  If the daemon dies or exits for another reason, the monitor process exits.</p><ul>
<li><p>This option is normally used with <strong>--detach</strong>, but it also functions without it.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--no-chdir</strong></p>
  </dt>
  <dd>
    <p>By default, when <strong>--detach</strong> is specified, <strong>\*(PN</strong> changes its current working directory to the root directory after it detaches.  Otherwise, invoking <strong>\*(PN</strong> from a carelessly chosen directory would prevent the administrator from unmounting the file system that holds that directory.</p>
<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    <p>Specifying <strong>--no-chdir</strong> suppresses this behavior, preventing <strong>\*(PN</strong> from changing its current working directory.  This may be useful for collecting core files, since it is common behavior to write core dumps into the current working directory and the root directory is not a good directory to use.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This option has no effect when <strong>--detach</strong> is not specified.</p>
  </dd>
  <dt>
    <strong>--unixctl=</strong><em>socket</em>
  </dt>
  <dd>
    <p>Sets the name of the control socket on which <strong>\*(PN</strong> listens for runtime management commands (see <strong>RUNTIME MANAGEMENT COMMANDS</strong>, below).  If <em>socket</em> does not begin with <strong>/</strong>, it is interpreted as relative to <strong>/var/run/openvswitch</strong>.  If <strong>--unixctl</strong> is not used at all, the default socket is <strong>/var/run/openvswitch/\*(PN.</strong><em>pid</em><strong>.ctl</strong>, where <em>pid</em> is <strong>\*(PN</strong>'s process ID.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows, uses a kernel chosen TCP port on the localhost to listen for runtime management commands.  The kernel chosen TCP port value is written in a file whose absolute path is pointed by <em>socket</em>. If <strong>--unixctl</strong> is not used at all, the file is created as <strong>\*(PN.ctl</strong> in the configured <em>OVS_RUNDIR</em> directory.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Specifying <strong>none</strong> for <em>socket</em> disables the control socket feature.</p>
  </dd>

</dl>

  </dd>

</dl>
<h3>Public Key Infrastructure Options</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>-p</strong> <em>privkey.pem</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Specifies a PEM file containing the private key used as <strong>\*(PN</strong>'s identity for outgoing SSL connections.</p>
  </dd>
  <dt>
    <strong>-c</strong> <em>cert.pem</em>
  </dt>
  <dd>
    <p>Specifies a PEM file containing a certificate that certifies the private key specified on <strong>-p</strong> or <strong>--private-key</strong> to be trustworthy.  The certificate must be signed by the certificate authority (CA) that the peer in SSL connections will use to verify it.</p>
  </dd>
  <dt>
    <strong>-C</strong> <em>cacert.pem</em>
  </dt>
  <dd>
    <p>Specifies a PEM file containing the CA certificate that <strong>\*(PN</strong> should use to verify certificates presented to it by SSL peers.  (This may be the same certificate that SSL peers use to verify the certificate specified on <strong>-c</strong> or <strong>--certificate</strong>, or it may be a different one, depending on the PKI design in use.)</p>
  </dd>
  <dt>
    <strong>-C none</strong>
  </dt>
  <dd>
    <p>Disables verification of certificates presented by SSL peers.  This introduces a security risk, because it means that certificates cannot be verified to be those of known trusted hosts.</p>
  </dd>
  <dt>
    <strong>-v</strong>[<em>spec</em>]
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Sets logging levels.  Without any <em>spec</em>, sets the log level for every module and facility to <strong>dbg</strong>.  Otherwise, <em>spec</em> is a list of words separated by spaces or commas or colons, up to one from each category below:</p>
<dl class='dl-vertical'>
  <dt>
    *
  </dt>
  <dd>
    <p>A valid module name, as displayed by the <strong>vlog/list</strong> command on <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a>, limits the log level change to the specified module.</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>syslog</strong>, <strong>console</strong>, or <strong>file</strong>, to limit the log level change to only to the system log, to the console, or to a file, respectively.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>On Windows platform, <strong>syslog</strong> is accepted as a word and is only useful along with the <strong>--syslog-target</strong> option (the word has no effect otherwise).</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p><strong>off</strong>, <strong>emer</strong>, <strong>err</strong>, <strong>warn</strong>, <strong>info</strong>, or <strong>dbg</strong>, to control the log level.  Messages of the given severity or higher will be logged, and messages of lower severity will be filtered out.  <strong>off</strong> filters out all messages.  See <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a definition of each log level.</p>
  </dd>

</dl>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Case is not significant within <em>spec</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Regardless of the log levels set for <strong>file</strong>, logging to a file will not take place unless <strong>--log-file</strong> is also specified (see below).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>For compatibility with older versions of OVS, <strong>any</strong> is accepted as a word but has no effect.</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>Sets the maximum logging verbosity level, equivalent to <strong>--verbose=dbg</strong>.</p>
  </dd>
  <dt>
    <strong>-vPATTERN:</strong><em>facility</em><strong>:</strong><em>pattern</em>
  </dt>
  <dd>
    <p>Sets the log pattern for <em>facility</em> to <em>pattern</em>.  Refer to <a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> for a description of the valid syntax for <em>pattern</em>.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--log-file</strong>[<strong>=</strong><em>file</em>]</p>
  </dt>
  <dd>
    <p>Enables logging to a file.  If <em>file</em> is specified, then it is used as the exact name for the log file.  The default log file name used if <em>file</em> is omitted is <strong>/var/log/openvswitch/\*(PN.log</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>--syslog-target=</strong><em>host</em><strong>:</strong><em>port</em>
  </dt>
  <dd>
    <p>Send syslog messages to UDP <em>port</em> on <em>host</em>, in addition to the system syslog.  The <em>host</em> must be a numerical IP address, not a hostname.</p>
  </dd>
  <dt>
    <strong>-h</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    &#92;$1
  </dt>
  <dd>
    <p>Prints a brief help message to the console.</p>
  </dd>
  <dt>
    <strong>-V</strong>
  </dt>
  <dd>
    <p>Prints version information to the console.</p>
  </dd>

</dl>

  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RUNTIME MANAGEMENT COMMANDS</h2>
        <div class="sectioncontent">
<p><a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a> can send commands to a running <strong>ovs-ofctl</strong> process.  The supported commands are listed below.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>exit</strong>
  </dt>
  <dd>
    <p>Causes <strong>ovs-ofctl</strong> to gracefully terminate.  This command applies only when executing the <strong>monitor</strong> or <strong>snoop</strong> commands.</p>
  </dd>
  <dt>
    <strong>ofctl/set-output-file </strong><em>file</em>
  </dt>
  <dd>
    <p>Causes all subsequent output to go to <em>file</em> instead of stderr. This command applies only when executing the <strong>monitor</strong> or <strong>snoop</strong> commands.</p>
  </dd>
  <dt>
    <strong>ofctl/send </strong><em>ofmsg</em>...
  </dt>
  <dd>
    <p>Sends each <em>ofmsg</em>, specified as a sequence of hex digits that express an OpenFlow message, on the OpenFlow connection.  This command is useful only when executing the <strong>monitor</strong> command.</p>
  </dd>
  <dt>
    <strong>ofctl/barrier</strong>
  </dt>
  <dd>
    <p>Sends an OpenFlow barrier request on the OpenFlow connection and waits for a reply.  This command is useful only for the <strong>monitor</strong> command.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following examples assume that <strong>ovs-vswitchd</strong> has a bridge named <strong>br0</strong> configured.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ovs-ofctl dump-tables br0</strong></p>
  </dt>
  <dd>
    <p>Prints out the switch's table stats.  (This is more interesting after some traffic has passed through.)</p>
  </dd>
  <dt>
    <p><strong>ovs-ofctl dump-flows br0</strong></p>
  </dt>
  <dd>
    <p>Prints the flow entries in the switch.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ovs-ofctl&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ovs-appctl.8.html"><strong>ovs-appctl</strong>(8)</a>, <a href="../man8/ovs-vswitchd.8.html"><strong>ovs-vswitchd</strong>(8)</a> <strong>ovs-vswitchd.conf.db</strong>(8)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ovs-dpctl-top.8.html"><span aria-hidden="true">&larr;</span> ovs-dpctl-top.8: Top like behavior for ovs-dpctl dump-flows</a></li>
   <li class="next"><a href="ovs-parse-backtrace.8.html">ovs-parse-backtrace.8: Parses ovs-appctl backtrace output <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
