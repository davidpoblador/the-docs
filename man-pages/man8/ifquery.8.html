<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ifquery: Bring a network interface up  ifdown - take a network interface down  ifquery - parse interface configuration</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Bring a network interface up  ifdown - take a network interface down  ifquery - parse interface configuration">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ifquery (8) manual">
  <meta name="twitter:description" content="Bring a network interface up  ifdown - take a network interface down  ifquery - parse interface configuration">
  <meta name="twitter:image" content="https://www.carta.tech/images/ifupdown-ifquery-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ifquery.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ifquery (8) manual" />
  <meta property="og:description" content="Bring a network interface up  ifdown - take a network interface down  ifquery - parse interface configuration" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ifupdown-ifquery-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ifquery<small> (8)</small></h1>
        <p class="lead">Bring a network interface up  ifdown - take a network interface down  ifquery - parse interface configuration</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ifquery.8.html">
      <span itemprop="name">ifquery: Bring a network interface up  ifdown - take a network interface down  ifquery - parse interface configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ifupdown/">
      <span itemprop="name">ifupdown</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ifquery.8.html">
      <span itemprop="name">ifquery: Bring a network interface up  ifdown - take a network interface down  ifquery - parse interface configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ifup</strong> [<strong>-nv</strong>] [<strong>--no-act</strong>] [<strong>--verbose</strong>] [<strong>-i</strong> <em>FILE</em>|<strong>--interfaces=</strong><em>FILE</em>] [<strong>--allow</strong> <em>CLASS</em>] <strong>-a</strong>|<em>IFACE</em>...</p><p><strong>ifup</strong> <strong>-h</strong>|<strong>--help</strong></p><p><strong>ifup</strong> <strong>-V</strong>|<strong>--version</strong></p><p><strong>ifdown</strong> [<strong>-nv</strong>] [<strong>--no-act</strong>] [<strong>--verbose</strong>] [<strong>-i</strong> <em>FILE</em>|<strong>--interfaces=</strong><em>FILE</em>] [<strong>--allow</strong> <em>CLASS</em>] <strong>-a</strong>|<em>IFACE</em>...</p><p><strong>ifquery</strong> [<strong>-nv</strong>] [<strong>--no-act</strong>] [<strong>--verbose</strong>] [<strong>-i</strong> <em>FILE</em>|<strong>--interfaces=</strong><em>FILE</em>] [<strong>--allow</strong> <em>CLASS</em>] <strong>-a</strong>|<em>IFACE</em>...</p><p><strong>ifquery</strong> <strong>-l</strong>|<strong>--list</strong> [<strong>-nv</strong>] [<strong>--no-act</strong>] [<strong>--verbose</strong>] [<strong>-i</strong> <em>FILE</em>|<strong>--interfaces=</strong><em>FILE</em>] [<strong>--allow</strong> <em>CLASS</em>] <strong>-a</strong>|<em>IFACE</em>...</p><p><strong>ifquery</strong> <strong>--state</strong> [<em>IFACE</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>ifup</strong> and <strong>ifdown</strong> commands may be used to configure (or, respectively, deconfigure) network interfaces based on interface definitions in the file <em>/etc/network/interfaces</em>.  <strong>ifquery</strong> command may be used to parse interfaces configuration.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>A summary of options is included below.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong>, <strong>--all</strong></p>
  </dt>
  <dd>
    <p>If given to <strong>ifup</strong>, affect all interfaces marked <strong>auto</strong>. Interfaces are brought up in the order in which they are defined in <em>/etc/network/interfaces</em>. Combined with <strong>--allow</strong>, acts on all interfaces of a specified class instead. If given to <strong>ifdown</strong>, affect all defined interfaces. Interfaces are brought down in the order in which they are currently listed in the state file. Only interfaces defined in <em>/etc/network/interfaces</em> will be brought down.</p>
  </dd>
  <dt>
    <p><strong>--force</strong></p>
  </dt>
  <dd>
    <p>Force configuration or deconfiguration of the interface.</p>
  </dd>
  <dt>
    <p><strong>--ignore-errors</strong></p>
  </dt>
  <dd>
    <p>If any of the commands of scripts fails, continue.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Show summary of options.</p>
  </dd>
  <dt>
    <p><strong>--allow=</strong><em>CLASS</em></p>
  </dt>
  <dd>
    <p>Only allow interfaces listed in an <em>allow-CLASS</em> line in <em>/etc/network/interfaces</em> to be acted upon.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> <em>FILE</em>, <strong>--interfaces=</strong><em>FILE</em></p>
  </dt>
  <dd>
    <p>Read interface definitions from <em>FILE</em> instead of from <em>/etc/network/interfaces</em>.</p>
  </dd>
  <dt>
    <p><strong>-X</strong><em> PATTERN</em>, <strong>--exclude=</strong><em>PATTERN</em></p>
  </dt>
  <dd>
    <p>Exclude interfaces from the list of interfaces to operate on by the <em>PATTERN</em>. <em>PATTERN</em> uses a usual shell glob syntax. If shell wildcards are not used, it must match the exact interface name. This option may be specified multiple times resulting in more than one pattern being excluded.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em> OPTION</em><strong></strong><strong>=</strong><em>VALUE</em></p>
  </dt>
  <dd>
    <p>Set <em>OPTION</em> to <em>VALUE</em> as though it were in <em>/etc/network/interfaces</em>.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--no-act</strong></p>
  </dt>
  <dd>
    <p>Don't configure any interfaces or run any "up" or "down" commands.</p>
  </dd>
  <dt>
    <p><strong>--no-mappings</strong></p>
  </dt>
  <dd>
    <p>Don't run any mappings.  See <a href="../man5/interfaces.5.html"><strong>interfaces</strong>(5)</a> for more information about the mapping feature.</p>
  </dd>
  <dt>
    <p><strong>--no-scripts</strong></p>
  </dt>
  <dd>
    <p>Don't run any scripts under /etc/network/if-*.d/</p>
  </dd>
  <dt>
    <p><strong>--no-loopback</strong></p>
  </dt>
  <dd>
    <p>Disable special handling of the loopback interface. By default, the loopback interface (<em>lo</em> on Linux) is predefined internally as an auto interface, so it's brought up on <strong>ifup -a</strong> automatically. In the case the loopback device is redefined by user, the interface is configured just once anyway. If, however, another interface is also defined as loopback, it's configured as usual. Specifying this option disables this behaviour, so the loopback interface won't be configured automatically.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Show copyright and version information.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Show commands as they are executed.</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--list</strong></p>
  </dt>
  <dd>
    <p>For <strong>ifquery</strong>, list all the interfaces which match the specified class. If no class specified, prints all the interfaces listed as <strong>auto</strong>.</p>
  </dd>
  <dt>
    <p><strong>--state</strong></p>
  </dt>
  <dd>
    <p>For <strong>ifquery</strong>, dump the state of the interfaces. When no interfaces specified, lists all interfaces brought up together with logical interfaces assigned to them and exits with a status code indicating success. If one or more interfaces specified, display state of these interfaces only; successful code is returned if all of interfaces given as arguments are up. Otherwise, 0 is returned.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>ifup -a</strong></p>
  </dt>
  <dd>
    <p>Bring up all the interfaces defined with <em>auto</em> in <em>/etc/network/interfaces</em></p>
  </dd>
  <dt>
    <p><strong>ifup eth0</strong></p>
  </dt>
  <dd>
    <p>Bring up interface <strong>eth0</strong></p>
  </dd>
  <dt>
    <p><strong>ifup eth0=home</strong></p>
  </dt>
  <dd>
    <p>Bring up interface <strong>eth0</strong> as logical interface <strong>home</strong></p>
  </dd>
  <dt>
    <p><strong>ifdown -a</strong></p>
  </dt>
  <dd>
    <p>Bring down all interfaces that are currently up.</p>
  </dd>
  <dt>
    <p><strong>ifquery -l</strong></p>
  </dt>
  <dd>
    <p>Print names of all interfaces specified with the <strong>auto</strong> keyword.</p>
  </dd>
  <dt>
    <p><strong>ifquery -l --allow=hotplug</strong></p>
  </dt>
  <dd>
    <p>Print names of all interfaces specified with the <strong>allow-hotplug</strong> keyword.</p>
  </dd>
  <dt>
    <p><strong>ifquery eth0</strong></p>
  </dt>
  <dd>
    <p>Display the interface options as specified in the <strong>ifupdown</strong> configuration. Each key-value pair is printed out on individual line using "<strong>: </strong>" as separator.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p><strong>ifup</strong>, <strong>ifdown</strong>, and <strong>ifquery</strong> are actually the same program called by different names.</p><p>The program does not configure network interfaces directly; it runs low level utilities such as <strong>ip</strong> to do its dirty work.</p><p>When invoked, <strong>ifdown</strong> checks if <strong>ifup</strong> is still running. In that case, <strong>SIGTERM</strong> is sent to ifup.</p><p>During interface deconfiguration, <strong>ifdown</strong> ignores errors the same way as if <strong>--ignore-errors</strong> was specified.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/network/interfaces</em></p>
  </dt>
  <dd>
    <p>definitions of network interfaces See <a href="../man5/interfaces.5.html"><strong>interfaces</strong>(5)</a> for more information.</p>
  </dd>
  <dt>
    <p><em>/run/network/ifstate</em></p>
  </dt>
  <dd>
    <p>current state of network interfaces</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KNOWN BUGS/LIMITATIONS</h2>
        <div class="sectioncontent">
<p>The program keeps records of whether network interfaces are up or down. Under exceptional circumstances these records can become inconsistent with the real states of the interfaces. For example, an interface that was brought up using <strong>ifup</strong> and later deconfigured using <strong>ifconfig</strong> will still be recorded as up. To fix this you can use the <strong>--force</strong> option to force <strong>ifup</strong> or <strong>ifdown</strong> to run configuration or deconfiguration commands despite what it considers the current state of the interface to be.</p><p>The file <em>/run/network/ifstate</em> must be writable for <strong>ifup</strong> or <strong>ifdown</strong> to work properly. If that location is not writable (for example, because the root filesystem is mounted read-only for system recovery) then <em>/run/network/ifstate</em> should be made a symbolic link to a writable location. If that is not possible then you can use the <strong>--force</strong> option to run configuration or deconfiguration commands without updating the file.</p><p>Note that the program does not run automatically: <strong>ifup</strong> alone does not bring up interfaces that appear as a result of hardware being installed and <strong>ifdown</strong> alone does not bring down interfaces that disappear as a result of hardware being removed. To automate the configuration of network interfaces you need to install other packages such as <a href="../man7/udev.7.html"><strong>udev</strong>(7)</a> or <a href="../man8/ifplugd.8.html"><strong>ifplugd</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The ifupdown suite was written by Anthony Towns &lt;aj@azure.humbug.org.au&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ifquery&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/interfaces.5.html"><strong>interfaces</strong>(5)</a>, <strong>ip</strong>(8), <a href="../man8/ifconfig.8.html"><strong>ifconfig</strong>(8)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ifpps.8.html"><span aria-hidden="true">&larr;</span> ifpps.8: Top-like networking and system statistics</a></li>
   <li class="next"><a href="ifrename.8.html">ifrename.8: Rename network interfaces based on various static criteria <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
