<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>smp_conf_zone_perm_tbl: Invoke configure zone permission table function</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Invoke configure zone permission table function">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="smp_conf_zone_perm_tbl (8) manual">
  <meta name="twitter:description" content="Invoke configure zone permission table function">
  <meta name="twitter:image" content="https://www.carta.tech/images/smp-utils-smp_conf_zone_perm_tbl-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/smp_conf_zone_perm_tbl.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="smp_conf_zone_perm_tbl (8) manual" />
  <meta property="og:description" content="Invoke configure zone permission table function" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/smp-utils-smp_conf_zone_perm_tbl-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">smp_conf_zone_perm_tbl<small> (8)</small></h1>
        <p class="lead">Invoke configure zone permission table function</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smp_conf_zone_perm_tbl.8.html">
      <span itemprop="name">smp_conf_zone_perm_tbl: Invoke configure zone permission table function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/smp-utils/">
      <span itemprop="name">smp-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smp_conf_zone_perm_tbl.8.html">
      <span itemprop="name">smp_conf_zone_perm_tbl: Invoke configure zone permission table function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>smp_conf_zone_perm_tbl</strong> [<em>--deduce</em>] [<em>--expected=EX</em>] [<em>--help</em>] [<em>--hex</em>] [<em>--interface=PARAMS</em>] [<em>--numzg=NG</em>] <em>--permf=FN</em> [<em>--raw</em>] [<em>--sa=SAS_ADDR</em>] [<em>--save=SAV</em>] [<em>--start=SS</em>] [<em>--verbose</em>] [<em>--version</em>] <em>SMP_DEVICE[,N]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Sends one or more SAS Serial Management Protocol (SMP) CONFIGURE ZONE PERMISSION TABLE function requests to an SMP target. The SMP target is identified by the <em>SMP_DEVICE</em> and the <em>--sa=SAS_ADDR</em>. Depending on the interface, the <em>SAS_ADDR</em> may be deduced from the <em>SMP_DEVICE</em>. The mpt interface uses <em>SMP_DEVICE</em> to identify an HBA (an SMP initiator) and needs the additional <em>,N</em> to differentiate between HBAs if there are multiple present.</p><p>The zone permission table has a row for each source zone group and a column for each destination zone group. Each element in the table (ZP[s,d]) is a single bit indicating whether the source zone group can access the destination zone group (the bit is set: 1) or not (the bit is clear: 0). There are two different table sizes: 128 and 256 zone groups. Descriptors provided to this function request are either 16 bytes (128 bits) or 32 bytes (256 bits) long. Each descriptor is basically a row in the zone permission table.</p><p>Apart from being row in the zone permission table each descriptor is transposed and applied to the corresponding destination column. This "maintains symmetry about the ZP[s,s] table axis" in the words of the draft. Also descriptors are applied in the order that they appear in the request (i.e. ascending source zone group numbers).</p><p>The maximum number of descriptors that one CONFIGURE ZONE PERMISSION TABLE function request can hold is limited to 63 if there are 128 zone groups; and is limited to 31 if there are 256 zone groups. A full zone table will contain 128 (or 256) descriptors so to configure a full table requires multiple CONFIGURE ZONE PERMISSION TABLE requests.</p><p>The number of zone permission configuration descriptors is determined by reading the <em>FN</em> file associated with the <em>--permf=FN</em> option. If there are more descriptors than can fit in one CONFIGURE ZONE PERMISSION TABLE function request then multiple requests are sent. All descriptors found in the <em>FN</em> file will be sent unless an earlier function response indicates there has been an error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Mandatory arguments to long options are mandatory for short options as well.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-d</strong>, <strong>--deduce</strong></p>
  </dt>
  <dd>
    <p>deduce number of zone groups from number of bytes on active <em>FN</em> lines. With 128 zone groups each active line will contain 16 (or less) bytes. With this option if any active line in <em>FN</em> contains more than 16 bytes then 256 zone groups are assumed, otherwise 128 zone groups are assumed. This option cannot be given with the <em>--numzg=NG</em> option (as they may contradict one another).</p>
  </dd>
  <dt>
    <p><strong>-E</strong>, <strong>--expected</strong>=<em>EX</em></p>
  </dt>
  <dd>
    <p>set the 'expected expander change count' field in the SMP request. The value <em>EX</em> is from 0 to 65535 inclusive with 0 being the default value. When <em>EX</em> is greater than zero then if the value doesn't match the expander change count of the SMP target (i.e. the expander) when the request arrives then the target ignores the request and sets a function result of "invalid expander change count" in the response.</p>
  </dd>
  <dt>
    <p><strong>-f</strong>, <strong>--start</strong>=<em>SS</em></p>
  </dt>
  <dd>
    <p>starting (first) source zone group (default: zone group 0). If multiple function requests are sent, this field in subsequent function requests will be adjusted to reflect those descriptors already sent. Note that the <em>SS</em> value may be picked up from <em>FN</em> and if this option and that value are not the same, an error is generated.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>output the usage message then exit.</p>
  </dd>
  <dt>
    <p><strong>-H</strong>, <strong>--hex</strong></p>
  </dt>
  <dd>
    <p>output the response (less the CRC field) in hexadecimal.</p>
  </dd>
  <dt>
    <p><strong>-I</strong>, <strong>--interface</strong>=<em>PARAMS</em></p>
  </dt>
  <dd>
    <p>interface specific parameters. In this case "interface" refers to the path through the operating system to the SMP initiator. See the smp_utils man page for more information.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--numzg</strong>=<em>ZG</em></p>
  </dt>
  <dd>
    <p>number of zone groups. <em>ZG</em> can be 0 (default) or 1. 0 implies 128 zone groups while 1 implies 256 zone groups. This option cannot be used with the <em>--deduce</em> option.</p>
  </dd>
  <dt>
    <p><strong>-P</strong>, <strong>--permf</strong>=<em>FN</em></p>
  </dt>
  <dd>
    <p>FN is a file containing zone permission configuration descriptors in ASCII hexadecimal; either as bytes separated by space, tab, comma or newline, or as longer strings of hexadecimal bytes in which every 2 digits represents a byte. Empty lines and those starting with "#" are ignored. A line with "--start=&lt;num&gt;" will be taken as the starting source zone group number (i.e. &lt;num&gt; becomes <em>SS</em>) unless it contradicts the command line <em>--start=SS</em> option. Otherwise lines starting with "-" are ignored.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--raw</strong></p>
  </dt>
  <dd>
    <p>send the response (less the CRC field) to stdout in binary. All error messages are sent to stderr.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--sa</strong>=<em>SAS_ADDR</em></p>
  </dt>
  <dd>
    <p>specifies the SAS address of the SMP target device. The mpt interface needs this option and it will typically be an expander's SAS address. The <em>SAS_ADDR</em> is in decimal but most SAS addresses are shown in hexadecimal. To give a number in hexadecimal either prefix it with '0x' or put a trailing 'h' on it.</p>
  </dd>
  <dt>
    <p><strong>-S</strong>, <strong>--save</strong>=<em>SAV</em></p>
  </dt>
  <dd>
    <p>set the 'save' field in the SMP request. <em>SAV</em> may take these values: 0 for updating the shadow values (default), 1 for updating the saved values, 2 for updating shadow values and if available the saved values, 3 for updating both saved and shadow values.</p>
  </dd>
  <dt>
    <p><strong>-f</strong>, <strong>--start</strong>=<em>SS</em></p>
  </dt>
  <dd>
    <p>See entry above, listed in order by its short option letter (i.e. <em>-f</em>).</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>increase the verbosity of the output. Can be used multiple times.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>print the version string and then exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>For simplicity, each active line in the <em>FN</em> file should contain 16 or 32 bytes. 16 bytes if there are 128 zone groups or 32 bytes if there are 256 zone groups.</p><p>SCSI is big endian. So for 128 zone groups, the first byte placed in the zone permission configuration descriptor is ZP[0,127-120]. If the <em>--start=SS</em> option is given then the first byte is ZP[<em>SS</em>,127-120]. For 256 zone groups, the first bytes are ZP[0,255-248] and ZP[<em>SS</em>,255-248] respectively.</p><p>There is an annex called "Zone permission configuration descriptor examples" in recent SAS-2 and later drafts (Annex H in spl2r03.pdf).</p><p>There are some examples of the <em>--permf=FN</em> format in the examples directory. Not all SAS-2 expanders properly implement descriptor transpose and only place the descriptor in the row corresponding to the source zone group.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p>The SMP CONFIGURE ZONE PERMISSION TABLE function was introduced in SAS-2 .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Written by Douglas Gilbert.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;dgilbert at interlog dot com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2011 Douglas Gilbert</p><p>This software is distributed under a FreeBSD license. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO smp_conf_zone_perm_tbl&hellip;</h2>
        <div class="sectioncontent">
<p><strong>smp_utils, smp_conf_zone_phy_info, smp_zone_activate(smp_utils)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="smp_conf_zone_man_pass.8.html"><span aria-hidden="true">&larr;</span> smp_conf_zone_man_pass.8: Invoke configure zone manager password function</a></li>
   <li class="next"><a href="smp_conf_zone_phy_info.8.html">smp_conf_zone_phy_info.8: Invoke configure zone phy information function <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
