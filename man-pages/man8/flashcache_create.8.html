<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>flashcache_create: Create a new flashcache volume</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a new flashcache volume">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="flashcache_create (8) manual">
  <meta name="twitter:description" content="Create a new flashcache volume">
  <meta name="twitter:image" content="https://www.carta.tech/images/flashcache-utils-flashcache_create-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/flashcache_create.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="flashcache_create (8) manual" />
  <meta property="og:description" content="Create a new flashcache volume" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/flashcache-utils-flashcache_create-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">flashcache_create<small> (8)</small></h1>
        <p class="lead">Create a new flashcache volume</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/flashcache_create.8.html">
      <span itemprop="name">flashcache_create: Create a new flashcache volume</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/flashcache-utils/">
      <span itemprop="name">flashcache-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/flashcache_create.8.html">
      <span itemprop="name">flashcache_create: Create a new flashcache volume</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>flashcache_create</strong> initializes a new flashcache volume from unformated block devices. It creates flashcache meta data and provides new volumes though their volume mappings.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>flashcache_create -p <em>back</em>|<em>around</em>|<em>thru</em> [-s <em>cache size</em>] [-b <em>block size</em>] [-v] <em>cachedevname</em> <em>cache_devname</em> <em>disk_devname</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>verbose</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p><em>cache mode</em>. Required argument. Specify any supported option: (write-)<strong>back</strong>, (write-)<strong>thru</strong> or (write-)<strong>around</strong>. Their respective implications are denoted below.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p><em>cache size</em>. Optional argument. By default, flashcache will use the auto-detected full cache device size. When present, the given cache size is used instead. The expected units are sectors, however any value can be suffixed by "k", "m" or "g" to interpret the argument in kilo-, mega- or gigabytes respectively.</p>
  </dd>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p><em>block size</em>. Optional argument. Defaults to 4KB. Must be a power of 2. The default units is sectors. However, <em>k</em> can be specified as unit type as well. (A 4KB blocksize is the correct choice for the vast majority of applications.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>force create. Bypass all sanity checks (for example for the sector size).</p>
  </dd>

</dl>
<p>Use with care.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CACHING MODES</h2>
        <div class="sectioncontent">
<p>The following caching modes are supported:</p><p><em>Writethrough</em> (<strong>thru</strong>) - safest mode, all writes are cached to the cache device but are also being written to disk immediately. If the used cache device has a lower write performance than the backend disk (many early generation SSD drives manufactured between 2008-2010 are known for such a poor write performance) enabling the writethrough mode may decrease the system write performance. All disk reads are cached (tunable through flashcache\[aq]s <em>/proc</em> interface).</p><p><em>Writearound</em> (<strong>ardound</strong>) - again, very safe, writes are not written to the cache device, but directly to the backend disk instead. Disk blocks will only be cached after they are read. All disk reads are cached (tunable through flashcache\[aq]s <em>/proc</em> interface).</p><p><em>Writeback</em> (<strong>back</strong>) - fastest mode but less safe. Writes only go to the cache device initially, and are being written to the backend disk later, depending on configured system policie. All disk reads are cached (tunable through flashcache\[aq]s <em>/proc</em> interface).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CACHE PERSISTENCE</h2>
        <div class="sectioncontent">
<p>Writethru and Writearound caches are not persistent across a device removal or a reboot. Only Writeback caches are persistent across device removals and reboots. This reinforces \[aq]writeback is fastest\[aq], \[aq]writethrough is safest\[aq].</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>flashcache_create</strong> -p back -s 1g -b 4k cachedev /dev/sdc /dev/sdb</p>
  </dt>
  <dd>
    <p>Creates a 1GB writeback cache volume with a 4KB block size on the cache device /dev/sdc to cache the disk volume /dev/sdb. The name of the device created is "cachedev".</p>
  </dd>
  <dt>
    <p><strong></strong><strong>flashcache_create</strong> -p thru -s 2097152 -b 8 cachedev /dev/sdc /dev/sdb</p>
  </dt>
  <dd>
    <p>Same as above but creates a write through cache with units specified in sectors instead. The name of the device created is "cachedev".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO flashcache_create&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/flashcache_load.8.html"><strong>flashcache_load</strong>(8)</a>, <a href="../man8/flashcache_destroy.8.html"><strong>flashcache_destroy</strong>(8)</a></p><p><em>README</em> and other documents in <strong>/usr/share/doc/flashcache-utils</strong>. In particular, see <strong>flashcache-sa-guide.txt</strong> for configuring the flashcache kernel module through its <em>/proc</em> interface.</p><p>The flashcache source code and all documentation may be downloaded from &lt;https://github.com/facebook/flashcache/&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Flashcache is developed by Mohan Srinivasan &lt;mohan@fb.com&gt;</p><p>This man page was written by Dmitry Smirnov &lt;onlyjob@member.fsf.org&gt; for Debian GNU/Linux (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fixup-memberof.pl.8.html"><span aria-hidden="true">&larr;</span> fixup-memberof.pl.8: Directory server perl script for memberof attributes.</a></li>
   <li class="next"><a href="flashcache_destroy.8.html">flashcache_destroy.8: Destroy an existing flashcache volume <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
