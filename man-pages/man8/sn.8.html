<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sn: The sn news system.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The sn news system.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sn (8) manual">
  <meta name="twitter:description" content="The sn news system.">
  <meta name="twitter:image" content="https://www.carta.tech/images/sn-sn-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/sn.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sn (8) manual" />
  <meta property="og:description" content="The sn news system." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sn-sn-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sn<small> (8)</small></h1>
        <p class="lead">The sn news system.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sn.8.html">
      <span itemprop="name">sn: The sn news system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sn/">
      <span itemprop="name">sn</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sn.8.html">
      <span itemprop="name">sn: The sn news system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>If you think of a news spool as a black box, then <strong>sn</strong> is a bunch of programs to put articles in the box (<strong>snstore</strong>), to view articles in it (<strong>snntpd</strong>, <strong>sncat</strong>), remove old articles (<strong>snexpire</strong>,<strong>sncancel</strong>), generate a list of what's in it (<strong>snscan,</strong> <strong>snprimedb</strong>), or display that list (<strong>sndumpdb</strong>). In addition it can go find the articles to put in the box (<strong>snget</strong>).</p><p>The <strong>sn</strong> system is designed for small sites, spooling a few dozen to a few hundred newsgroups.  It is not meant for sites carrying a full news feed. <strong>sn</strong> is suitable as a replacement for <strong>leafnode</strong> (ftp.troll.no, by Arnt Gulbrandsen).  It doesn't have <strong>leafnode</strong>'s intelligence when it comes to retrieving upstream articles, but is less demanding on the filesystem and takes up less disk space.</p><p><strong>sn</strong> supports local news groups.</p><p><strong>sn</strong> tries to create <em>aliases</em> for crossposts instead of storing the article multiple times.</p><p><strong>sn</strong> can compress articles to save disk space.  Compressing and uncompressing take place transparently.</p><p><strong>sn</strong> doesn't use configuration files.  Instead, you write small shell scripts to customize <strong>sn</strong>'s behaviour.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REQUIREMENTS</h2>
        <div class="sectioncontent">
<p><strong>sn</strong> has been tested only against Linux ver. 2.0.  It makes heavy use of <a href="../man2/mmap.2.html"><strong>mmap</strong>(2)</a> in MAP_SHARED and MAP_WRITE mode, so it won't work on pre-1.3.45 or so.  I (harold-sn@nb.com.sg) am interested in bug reports, comments, and suggestions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NEWS SPOOL STRUCTURE</h2>
        <div class="sectioncontent">
<p>The news spool is <em>/var/spool/sn</em>, which all <strong>sn</strong> programs need in order to run. It contains the group directories in <em>news</em>.<em>group</em>.<em>name</em> format rather than the traditional <em>news</em>/<em>group</em>/<em>name</em>. Each such directory contains article files, named serially from <strong>1</strong>, <strong>2</strong>, etc.  Each article file consists of up to 10 articles, which reduces the number of files and inodes required. These article files are <a href="../man2/mmap.2.html"><strong>mmap</strong>(2)</a>ed before use, and they are cached to reduce search time. <strong>sn</strong> tries to keep the headers of these articles bunched together, to reduce the memory footprint.</p><p>In addition to the article files, each newsgroup directory also contains files which control the behaviour of the <strong>sn</strong> system.  All control files have filenames beginning with a dot, and they all reside in the group directory in which they are to have effect. In particular, if the group directory does not have a subdirectory <em>.outgoing</em> in it, it is considered a local news group.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>When retrieving articles, there is a window of time between when an article is first marked as wanted and when it is committed to the news spool.  Within this window it is possible to have the same article committed by a separate process.  This defeats the aliasing feature so you could end up with more than one copy of an identical article.</p><p>The ID database will only store one instance of an articles {ID,group,serial} tuple.  After the second copy is committed to the spool, <strong>snstore</strong> will try to commit it in the ID database, and will fail.  So it is possible that after the article has been expired, another copy will still remain, but be inaccessible if requested by its ID.</p><p><strong>sn</strong> doesn't sync the ID database after each write, so it could get corrupted.  If you suspect it is corrupted, delete the files /var/spool/sn/<em>.table</em>, /var/spool/sn/<em>.chain</em>, and /var/spool/sn/<em>.newsgroup</em>, making sure <strong>snntpd</strong> and <strong>snget</strong> aren't running or scheduled to do so. Then run</p><p>cd /var/spool/sn; snscan -n * |snprimedb</p><p>This will recreate the ID database.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROGRAMS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>sncat</strong></p>
  </dt>
  <dd>
    <p>prints out the specified articles.  This is useful if you want to transport the spool to another system.</p>
  </dd>
  <dt>
    <p><strong>sndumpdb</strong></p>
  </dt>
  <dd>
    <p>dumps the ID database.  It is not normally used.</p>
  </dd>
  <dt>
    <p><strong>snexpire</strong></p>
  </dt>
  <dd>
    <p>expires articles in the spool.</p>
  </dd>
  <dt>
    <p><strong>snfetch</strong></p>
  </dt>
  <dd>
    <p>is the back end of the article fetcher.  You can use <strong>suck</strong> (a separate package) instead.</p>
  </dd>
  <dt>
    <p><strong>snget</strong></p>
  </dt>
  <dd>
    <p>is the front end of the article fetcher.</p>
  </dd>
  <dt>
    <p><strong>snmail</strong></p>
  </dt>
  <dd>
    <p>converts a normal email message into a news article.  It can be used to turn a mailing list into a local newsgroup.</p>
  </dd>
  <dt>
    <p><strong>snnewgroup</strong></p>
  </dt>
  <dd>
    <p>is a script to create newsgroup directories.</p>
  </dd>
  <dt>
    <p><strong>sndelgroup</strong></p>
  </dt>
  <dd>
    <p>is a script to delete newsgroup directories and flush the ID database of references to those articles.</p>
  </dd>
  <dt>
    <p><strong>snntpd</strong></p>
  </dt>
  <dd>
    <p>is the news server (an nnrpd).</p>
  </dd>
  <dt>
    <p><strong>snprimedb</strong></p>
  </dt>
  <dd>
    <p>feeds the ID database from formatted standard input.  This database is what permits articles to be specified by their ID.  This program is not used in normal operation.</p>
  </dd>
  <dt>
    <p><strong>snscan</strong></p>
  </dt>
  <dd>
    <p>scans the specified articles and outputs a line consisting of the article's ID, newsgroup, and serial number within the newsgroup. This output is suitable for feeding to <strong>snprimedb</strong>. This program is not used in normal operation.</p>
  </dd>
  <dt>
    <p><strong>snsend</strong></p>
  </dt>
  <dd>
    <p>takes articles on standard input and distributes them according to the type of newsgroup.</p>
  </dd>
  <dt>
    <p><strong>snstore</strong></p>
  </dt>
  <dd>
    <p>Like <strong>snsend</strong>, but considers all newsgroups as local, so stores all articles locally only.</p>
  </dd>
  <dt>
    <p><strong>sncancel</strong></p>
  </dt>
  <dd>
    <p>cancels articles, so they are no longer available locally.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONVENTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>Exit codes</strong></p>
  </dt>
  <dd>
    <p>All <strong>sn</strong> programs exit 0 on success, <em>1</em> on invocation error; <em>2</em> on system error; <em>3</em> on format or protocol error.  Other exit codes are possible.</p>
  </dd>
  <dt>
    <p><strong>Options</strong></p>
  </dt>
  <dd>
    <p><strong>sn</strong> programs take -<em>d</em> to enable verbose messages (may be repeated), and -<em>V</em>, which displays the version and exits.  Where a network timeout is appropriate, this is specified with -<em>t</em>timeout<em>,</em> in seconds. -<em>P</em> indicates the pid should be included in any status output. Other options are possible.</p>
  </dd>
  <dt>
    <p><strong>Environment</strong></p>
  </dt>
  <dd>
    <p><strong>sn</strong> programs will take the contents of the <strong>SNROOT</strong> environment variable as the news spool rather than /var/spool/sn.  If a program will need to run another, it appends /usr/sbin to its <strong>PATH</strong> variable if /usr/sbin is not already present.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sn&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/sncat.8.html"><strong>sncat</strong>(8)</a>, <a href="../man8/sndumpdb.8.html"><strong>sndumpdb</strong>(8)</a>, <a href="../man8/snexpire.8.html"><strong>snexpire</strong>(8)</a>, <a href="../man8/snfetch.8.html"><strong>snfetch</strong>(8)</a>, <a href="../man8/snget.8.html"><strong>snget</strong>(8)</a>, <a href="../man8/snmail.8.html"><strong>snmail</strong>(8)</a>, <a href="../man8/snnewgroup.8.html"><strong>snnewgroup</strong>(8)</a>, <a href="../man8/sndelgroup.8.html"><strong>sndelgroup</strong>(8)</a>, <a href="../man8/snntpd.8.html"><strong>snntpd</strong>(8)</a>, <a href="../man8/snprimedb.8.html"><strong>snprimedb</strong>(8)</a>, <a href="../man8/snscan.8.html"><strong>snscan</strong>(8)</a>, <a href="../man8/snstore.8.html"><strong>snstore</strong>(8)</a>, <a href="../man8/snsend.8.html"><strong>snsend</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="smtpfront-reject.8.html"><span aria-hidden="true">&larr;</span> smtpfront-reject.8: Smtp front ends</a></li>
   <li class="next"><a href="snapper.8.html">snapper.8: Command-line program for filesystem snapshot management <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
