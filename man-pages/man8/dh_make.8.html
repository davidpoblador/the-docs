<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dh_make: Prepare debian packaging for an original source archive</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Prepare debian packaging for an original source archive">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dh_make (8) manual">
  <meta name="twitter:description" content="Prepare debian packaging for an original source archive">
  <meta name="twitter:image" content="https://www.carta.tech/images/dh-make-dh_make-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/dh_make.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dh_make (8) manual" />
  <meta property="og:description" content="Prepare debian packaging for an original source archive" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dh-make-dh_make-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dh_make<small> (8)</small></h1>
        <p class="lead">Prepare debian packaging for an original source archive</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dh_make.8.html">
      <span itemprop="name">dh_make: Prepare debian packaging for an original source archive</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dh-make/">
      <span itemprop="name">dh-make</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dh_make.8.html">
      <span itemprop="name">dh_make: Prepare debian packaging for an original source archive</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dh_make</strong> [-nlsmiadhry] [-c license] [-e address] [-f file] [-t directory] [-o directory] [-p name] [--copyright license] [--email address] [--native] [--file file] [--library] [--single] [--indep] [--multi] [--kmod] [--kpatch] [--addmissing] [--yes] [--templates directory] [--defaultless] [--overlay directory] [--packagename name] [--rulesformat format] [--help] [--version]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dh_make</strong> is a tool to convert a regular source code package into one formatted according to the requirements of the Debian Policy. <strong>dh_make</strong> must be invoked within a directory containing the source code, which must be named &lt;packagename&gt;-&lt;version&gt;. The &lt;packagename&gt; must be all lowercase, digits and dashes. If the directory name does not conform to this scheme, you must rename it before using <strong>dh_make.</strong> Alternatively, you may be able to use the <strong>--packagename</strong> option to force the package name.</p><h3>PACKAGE CLASSES</h3>
<p>Classes can be set with the single direct options (such as --s for single) or with the -C,--packageclass option (-C=s for single).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Single binary (s)</strong></p>
  </dt>
  <dd>
    <p>The package will generate a single binary .deb package. It is the standard case, so if you don't know what to do, choose this.</p>
  </dd>
  <dt>
    <p><strong>Arch-Independent (i)</strong></p>
  </dt>
  <dd>
    <p>The package will generate a single package that is arch-independent.</p>
  </dd>
  <dt>
    <p><strong>Multiple binary (m)</strong></p>
  </dt>
  <dd>
    <p>The package will generate multiple binary .deb packages from one source package. Choose this for larger packages that need to be split.</p>
  </dd>
  <dt>
    <p><strong>Library (l)</strong></p>
  </dt>
  <dd>
    <p>The package will generate at least two binaries. One library package containing just the lib in <em>/usr/lib</em> and another *-dev_*.deb package containing documentation and C headers.</p>
  </dd>
  <dt>
    <p><strong>Kernel module (k)</strong></p>
  </dt>
  <dd>
    <p>The package will generate a binary-all kernel module -source package for use with the <a href="../man1/make-kpkg.1.html"><strong>make-kpkg</strong>(1)</a> command. It also generates a binary package for additional utilities, daemons, etc. that may come with the source.</p>
  </dd>
  <dt>
    <p><strong>Kernel patch</strong></p>
  </dt>
  <dd>
    <p>The package will generate a package that can be used for kernel patches.</p>
  </dd>

</dl>

<h3>ACTIONS PERFORMED</h3>
<p>Unless <strong>--native</strong> was given, <strong>dh_make</strong> makes sure a original source archive (&lt;packagename&gt;_&lt;version&gt;.orig.tar.gz) exists. The archive can either end with .gz or one of the other supported compression extensions such as bz2 or lzma. If no such file exists, the file specified with <strong>-f</strong> is copied in place. If no <strong>-f</strong> is supplied either but <strong>--createorig</strong> is, the current directory is created into a news archive <em>../&lt;packagename&gt;-&lt;version&gt;.orig.tar.gz</em> The original archive is needed for other Debian tools to generate the diffs to the original sources required by the Debian packaging format. Unless there are reasons against it, this file should be the pristine upstream archive.</p><p>Then <strong>dh_make</strong> proceeds to generate a "debian" subdirectory and the necessary control files in the program source directory. Those control files are customized with the packagename and version extracted from the directory name.</p><p><strong>dh_make</strong> makes several attempts to obtain the username. It first checks for the environment variables <strong>$DEBFULLNAME</strong>, <strong>$LOGNAME</strong> is used to find a name in the <em>/etc/passwd</em> file, and through NIS, YP and LDAP.</p><p>The e-mail address can either be specified with the -fB--email option or <strong>dh_make</strong> will attempt to find it. It will first check the environment variables <strong>$DEBEMAIL</strong> and then <strong>$EMAIL. If they are not set then</strong> <strong>dh_make</strong> will search an available LDAP directory using <a href="../man1/ldapsearch.1.html"><strong>ldapsearch</strong>(1)</a> using <strong>$LOGNAME</strong> as the uid to search under.  Finally it will use <strong>$LOGNAME</strong> and <em>/etc/mailname</em> to generate an email address.</p><p><strong>dh_make</strong> will also generate example files that are also customized for the package generated. You can remove all files with *.ex if you wish. You can also delete the README.Debian file if you don't have anything to put in it. Renaming the example files to their name without the .ex at the end (and editing them if necessary) will activate that feature of debhelper.</p><p>If the <strong>--templates</strong> or <strong>-o</strong> (<strong>--overlay</strong>) option is used <strong>dh_make</strong> will apply a customizing template to the "debian" directory. See the templates described in the FILES section of this manpage for samples.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c</strong>, <strong>--copyright</strong><em>license</em></p>
  </dt>
  <dd>
    <p>Use <em>license</em> type in copyright file.  <em>license</em> can be gpl, gpl2, gpl3, lgpl, lgpl2 lgpl3, artistic, apache, bsd or mit. If this field is not specified the copyright file has a space to fill in which sort of license is used. The field is case-insensitive so -c GPL works as well as -c gpl. gpl and lgpl will give you version 3 of the corresponding license, apache implies Apache v2.0. If you need a different version, change the license file afterwards or use the gpl2 and lgpl2 options.</p>
  </dd>
  <dt>
    <p><strong>-e</strong>, <strong>--email</strong><em>address</em></p>
  </dt>
  <dd>
    <p>Use <em>address</em> as the e-mail address in the Maintainer: field of debian/control file.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--native</strong></p>
  </dt>
  <dd>
    <p>Create a native Debian packages, i.e. do not generate a .orig archive, since it will be generated when building with dpkg-buildpackage. The version number will not have a Debian revision number (e.g. -1) appended to it.</p>
  </dd>
  <dt>
    <p><strong>-f</strong>, <strong>--file</strong><em>file</em></p>
  </dt>
  <dd>
    <p>Use <em>file</em> as the original source archive, and skip the copying of the current program tree to program.orig.</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--library</strong></p>
  </dt>
  <dd>
    <p>Automatically set the package class to Library, skipping the question.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--single</strong></p>
  </dt>
  <dd>
    <p>Automatically set the package class to Single binary, skipping the question.</p>
  </dd>
  <dt>
    <p><strong>-i</strong>, <strong>--indep</strong></p>
  </dt>
  <dd>
    <p>Automatically set the package class to arch-independent binary, skipping the question.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--multi</strong></p>
  </dt>
  <dd>
    <p>Automatically set the package class to Multiple binary, skipping the question.</p>
  </dd>
  <dt>
    <p><strong>-k</strong>, <strong>--kmod</strong></p>
  </dt>
  <dd>
    <p>Automatically set the package class to Kernel module, skipping the question.</p>
  </dd>
  <dt>
    <p><strong>--kpatch</strong></p>
  </dt>
  <dd>
    <p>Automatically set package class to kpatch, skipping the question.</p>
  </dd>
  <dt>
    <p><strong>-a</strong>, <strong>--addmissing</strong></p>
  </dt>
  <dd>
    <p>Adds missing example and control files on an existing debian source directory.</p>
  </dd>
  <dt>
    <p><strong>-t</strong>, <strong>--templates</strong><em>directory</em></p>
  </dt>
  <dd>
    <p>Applies the customizing templates in <em>directory</em> to the debian directory.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--overlay</strong><em>directory</em></p>
  </dt>
  <dd>
    <p>Applies a customization template to an existing debian directory.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--packagename</strong><em>name</em></p>
  </dt>
  <dd>
    <p>Force the package name to be <em>name</em>, good for packages with hyphens in their name or other strangeness. You can also make the parameter <em>name</em>\_<em>version</em> which will set both the package name and version and bypass and directory checking.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--defaultless</strong></p>
  </dt>
  <dd>
    <p>Skips applying the default templates to the target debian directory.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display the name, version, available options and authors, and exit successfully.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--rulesformat</strong><em>format</em></p>
  </dt>
  <dd>
    <p>Set the format for the debian/rules file to <em>format</em>. The options are the default Debhelper v7 minimal rules (dh7), the old rules format (old) or CDBS format (cdbs).</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Show the program name and version, and exit successfully.</p>
  </dd>
  <dt>
    <p><strong>-y</strong>, <strong>--yes</strong></p>
  </dt>
  <dd>
    <p>Automatic yes to prompts and run non-interactively.  The package class needs to be set for <strong>dh\_make</strong> to run fully automatically.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>The following environment settings are used by <strong>dh\_make</strong>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>DEBEMAIL</strong></p>
  </dt>
  <dd>
    <p>Email address to use in control and changelog entries.</p>
  </dd>
  <dt>
    <p><strong>DEBFULLNAME</strong></p>
  </dt>
  <dd>
    <p>You full name, eg "John Doe" which will appear in the control and changelog entries.</p>
  </dd>
  <dt>
    <p><strong>EMAIL</strong></p>
  </dt>
  <dd>
    <p>Email address to use in control and changelog entries, only used if <strong>DEBEMAIL</strong> is no set.</p>
  </dd>
  <dt>
    <p><strong>LOGNAME</strong></p>
  </dt>
  <dd>
    <p>Default username used for looking up email and full name in other directories.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/usr/share/debhelper/dh_make</em></p>
  </dt>
  <dd>
    <p>Directory that contains all the template files, separated in six directories:</p>
  </dd>
  <dt>
    <p><em>debian/</em></p>
  </dt>
  <dd>
    <p>with files for all package classes,</p>
  </dd>
  <dt>
    <p><em>debians/</em></p>
  </dt>
  <dd>
    <p>with files specific to the Single binary class,</p>
  </dd>
  <dt>
    <p><em>debianm/</em></p>
  </dt>
  <dd>
    <p>with files specific to the Multiple binary class,</p>
  </dd>
  <dt>
    <p><em>debianl/</em></p>
  </dt>
  <dd>
    <p>with files specific to the Library class, and finally,</p>
  </dd>
  <dt>
    <p><em>native/</em></p>
  </dt>
  <dd>
    <p>with files specific to the native Debian packages.</p>
  </dd>
  <dt>
    <p><em>licenses/</em></p>
  </dt>
  <dd>
    <p>template files for the more common licenses used in Debian packages</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To get <strong>dh\_make</strong> to use the defaults and ask you various questions about the package</p>
<pre>
dh_make

</pre>
<p>Create your single class package using the with the GPL license:</p>
<pre>
dh_make -s -c gpl

</pre>
<p>A more involved example where you set your name in the environment, contact  email and license in the options and specify the upstream file:</p>
<pre>
DEBFULLNAME="John Doe"

dh_make --email contact@example.com --copyright=bsd &#92;

&nbsp;--file ../foo.tar.gz

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><strong>dh_make</strong> may not detect your username and email address correctly when using sudo.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dh_make&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>,<a href="../man1/dpkg-buildpackage.1.html"><strong>dpkg-buildpackage</strong>(1)</a>,<strong>dh</strong>(1),<a href="../man1/make-kpkg.1.html"><strong>make-kpkg</strong>(1)</a>,<strong>debhelper</strong>(7)</p><p>You may also want to read the Debian Policy (in <em>/usr/share/doc/debian-policy </em>) and the New Maintainers' Guide (in <em>/usr/share/doc/maint-guide</em>).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="depmod.8.html"><span aria-hidden="true">&larr;</span> depmod.8: Generate modules.dep and map files.</a></li>
   <li class="next"><a href="dhclient.8.html">dhclient.8: Dynamic host configuration protocol client <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
