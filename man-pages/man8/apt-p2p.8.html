<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>apt-p2p: Apt-p2p  apt helper for peer-to-peer downloads of debian packages</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Apt-p2p  apt helper for peer-to-peer downloads of debian packages">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="apt-p2p (8) manual">
  <meta name="twitter:description" content="Apt-p2p  apt helper for peer-to-peer downloads of debian packages">
  <meta name="twitter:image" content="https://www.carta.tech/images/apt-p2p-apt-p2p-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/apt-p2p.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="apt-p2p (8) manual" />
  <meta property="og:description" content="Apt-p2p  apt helper for peer-to-peer downloads of debian packages" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/apt-p2p-apt-p2p-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">apt-p2p<small> (8)</small></h1>
        <p class="lead">Apt-p2p  apt helper for peer-to-peer downloads of debian packages</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/apt-p2p.8.html">
      <span itemprop="name">apt-p2p: Apt-p2p  apt helper for peer-to-peer downloads of debian packages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/apt-p2p/">
      <span itemprop="name">apt-p2p</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/apt-p2p.8.html">
      <span itemprop="name">apt-p2p: Apt-p2p  apt helper for peer-to-peer downloads of debian packages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>Normally apt-p2p is run from init.d using <strong>twistd</strong>, in which case no apt-p2p options can be specified on the command-line, and all configuration variables are read from the default config file locations of $HOME/.apt-p2p/apt-p2p.conf and /etc/apt-p2p/apt-p2p.conf. The command is then:</p><p><strong>twistd</strong> -y /path/to/apt-p2p [<strong>twistd options</strong> ...]</p><p>For a detailed listing of the <strong>twistd</strong> options, see <strong>twistd</strong><strong>(1)</strong></p><p>apt-p2p can also be run without <strong>twistd</strong> by executing:</p><p><strong>apt-p2p</strong> [<strong>options</strong> ...]</p><p>In this case, you can specify the options documented below on the command-line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>apt-p2p</strong> is a helper for downloading Debian packages files with APT. It will download any needed files from other Apt-P2P peers in a peer-to-peer manner, and so reduce the strain on the Debian mirrors.</p><h3>APT SETUP</h3>
<p>In order for APT to send it's requests to apt-p2p, the sources.list entries must be modified to point to the local apt-p2p address. Unless you have changed the default port, then adding "localhost:9977/" to the beginning of each entry should be sufficient. For example, if your sources.list contains a line like this:</p><p>deb http://ftp.us.debian.org/debian etch main contrib non-free</p><p>then replace it with this:</p><p>deb http://localhost:9977/ftp.us.debian.org/debian etch main contrib non-free</p><p>You can do the same with 'deb-src' lines as well, and apt-p2p will be used to download and share your source packages as well.</p>
<h3>PORT FORWARDING</h3>
<p>It is VERY important that Apt-P2P's ports be reachable by other peers. This is needed both to share files with others, and to connect to others through the DHT to find peers for files. If you aren't accessible by others, you will not only not share anything, but your performance during downloading will be affected.</p><p>Apt-P2P uses a default port of 9977, over both TCP and UDP, for it's communication. You can change this port in the /etc/apt-p2p/apt-p2p.conf file, and use different ports for TCP and UDP, if desired. Whatever port you use, make sure to forward it through your NAT or firewall to improve your performance and share with others. Information on port forwarding can be found here:</p><p><em> (link to URL http://portforward.com/) </em></p>
<h3>PRIVATE NETWORKS</h3>
<p>Apt-P2P is not designed to function as a downloader for multiple clients on a private network. Apt-P2P checks the source of incoming requests and only responds to those from the localhost. For more information:</p><p><em> (link to URL http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=481243) </em></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>These programs follow the usual GNU command line syntax, with short options starting with a single dash ('-'), and long options starting with two dashes ('--'). A summary of options is included below.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-c </strong><em>filename</em>,<em> </em><strong>--configfile=</strong><em>filename</em><em></em>
  </dt>
  <dd>
    <p>the <em>filename</em> to use for the configuration file, options found in this file are combined with those in $HOME/.apt-p2p/apt-p2p.conf and /etc/apt-p2p/apt-p2p.conf (see <strong>apt-p2p.conf</strong><strong>(5)</strong> for the format of the file)</p>
  </dd>
  <dt>
    <strong>-l </strong><em>filename</em>,<em> </em><strong>--logfile=</strong><em>filename</em><em></em>
  </dt>
  <dd>
    <p>the <em>filename</em> to print log messages to, or '-' to log to standard output, if not specified then /var/log/apt-p2p.log will be used</p>
  </dd>
  <dt>
    <strong>-h</strong>, <strong>--help</strong>
  </dt>
  <dd>
    <p>print a help message describing the invocation of the program</p>
  </dd>
  <dt>
    <strong>-v</strong>, <strong>--version</strong>
  </dt>
  <dd>
    <p>print the version of the program</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO apt-p2p&hellip;</h2>
        <div class="sectioncontent">
<p><strong>apt-p2p.conf</strong><strong>(5)</strong>, <strong>twistd</strong><strong>(1)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by Cameron Dale &lt;camrdale@gmail.com&gt; for the <strong>Debian</strong> system (but may be used by others).  Permission is granted to copy, distribute and/or modify this document under the terms of the GNU General Public License, Version 2 or any later version published by the Free Software Foundation.</p><p>On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common-licenses/GPL.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="apt-offline.8.html"><span aria-hidden="true">&larr;</span> apt-offline.8: Offline apt package manager</a></li>
   <li class="next"><a href="apt-secure.8.html">apt-secure.8: Archive authentication support for apt <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
