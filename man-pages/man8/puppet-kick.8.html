<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>puppet-kick: Remotely control puppet agent</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Remotely control puppet agent">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="puppet-kick (8) manual">
  <meta name="twitter:description" content="Remotely control puppet agent">
  <meta name="twitter:image" content="https://www.carta.tech/images/puppet-common-puppet-kick-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/puppet-kick.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="puppet-kick (8) manual" />
  <meta property="og:description" content="Remotely control puppet agent" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/puppet-common-puppet-kick-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">puppet-kick<small> (8)</small></h1>
        <p class="lead">Remotely control puppet agent</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/puppet-kick.8.html">
      <span itemprop="name">puppet-kick: Remotely control puppet agent</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/puppet-common/">
      <span itemprop="name">puppet-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/puppet-kick.8.html">
      <span itemprop="name">puppet-kick: Remotely control puppet agent</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>Trigger a puppet agent run on a set of hosts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>puppet kick [-a|--all] [-c|--class <em>class</em>] [-d|--debug] [-f|--foreground] [-h|--help] [--host <em>host</em>] [--no-fqdn] [--ignoreschedules] [-t|--tag <em>tag</em>] [--test] [-p|--ping] <em>host</em> [<em>host</em> [...]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This script can be used to connect to a set of machines running \'puppet agent\' and trigger them to run their configurations. The most common usage would be to specify a class of hosts and a set of tags, and \'puppet kick\' would look up in LDAP all of the hosts matching that class, then connect to each host and trigger a run of all of the objects with the specified tags.</p><p>If you are not storing your host configurations in LDAP, you can specify hosts manually.</p><p>You will most likely have to run \'puppet kick\' as root to get access to the SSL certificates.</p><p>\'puppet kick\' reads \'puppet master\'\'s configuration file, so that it can copy things like LDAP settings.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE NOTES</h2>
        <div class="sectioncontent">
<p>Puppet kick needs the puppet agent on the target machine to be running as a daemon, be configured to listen for incoming network connections, and have an appropriate security configuration.</p><p>The specific changes required are:</p>
<dl class='dl-vertical'>
  <dt>
    *
  </dt>
  <dd>
    <p>Set <strong>listen = true</strong> in the agent\'s <strong>puppet.conf</strong> file (or <strong>--listen</strong> on the command line)</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p>Configure the node\'s firewall to allow incoming connections on port 8139</p>
  </dd>
  <dt>
    *
  </dt>
  <dd>
    <p>Insert the following stanza at the top of the node\'s <strong>auth.conf</strong> file:</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
<pre>
  # Allow puppet kick access
  path    /run
  method  save
  auth    any
  allow   workstation.example.com
</pre>

  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>
<p>This example would allow the machine <strong>workstation.example.com</strong> to trigger a Puppet run; adjust the "allow" directive to suit your site. You may also use <strong>allow *</strong> to allow anyone to trigger a Puppet run, but that makes it possible to interfere with your site by triggering excessive Puppet runs.</p><p>See <strong>http://docs.puppetlabs.com/guides/rest_auth_conf.html</strong> for more details about security settings.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Note that any configuration parameter that\'s valid in the configuration file is also a valid long argument. For example, \'ssldir\' is a valid configuration parameter, so you can specify \'--ssldir <em>directory</em>\' as an argument.</p><p>See the configuration file documentation at http://docs.puppetlabs.com/references/latest/configuration.html for the full list of acceptable parameters. A commented list of all configuration options can also be generated by running puppet master with \'--genconfig\'.</p>
<dl class='dl-vertical'>
  <dt>
    <p>--all</p>
  </dt>
  <dd>
    <p>Connect to all available hosts. Requires LDAP support at this point.</p>
  </dd>
  <dt>
    <p>--class</p>
  </dt>
  <dd>
    <p>Specify a class of machines to which to connect. This only works if you have LDAP configured, at the moment.</p>
  </dd>
  <dt>
    <p>--debug</p>
  </dt>
  <dd>
    <p>Enable full debugging.</p>
  </dd>
  <dt>
    <p>--foreground</p>
  </dt>
  <dd>
    <p>Run each configuration in the foreground; that is, when connecting to a host, do not return until the host has finished its run. The default is false.</p>
  </dd>
  <dt>
    <p>--help</p>
  </dt>
  <dd>
    <p>Print this help message</p>
  </dd>
  <dt>
    <p>--host</p>
  </dt>
  <dd>
    <p>A specific host to which to connect. This flag can be specified more than once.</p>
  </dd>
  <dt>
    <p>--ignoreschedules</p>
  </dt>
  <dd>
    <p>Whether the client should ignore schedules when running its configuration. This can be used to force the client to perform work it would not normally perform so soon. The default is false.</p>
  </dd>
  <dt>
    <p>--parallel</p>
  </dt>
  <dd>
    <p>How parallel to make the connections. Parallelization is provided by forking for each client to which to connect. The default is 1, meaning serial execution.</p>
  </dd>
  <dt>
    <p>--puppetport</p>
  </dt>
  <dd>
    <p>Use the specified TCP port to connect to agents. Defaults to 8139.</p>
  </dd>
  <dt>
    <p>--tag</p>
  </dt>
  <dd>
    <p>Specify a tag for selecting the objects to apply. Does not work with the --test option.</p>
  </dd>
  <dt>
    <p>--test</p>
  </dt>
  <dd>
    <p>Print the hosts you would connect to but do not actually connect. This option requires LDAP support at this point.</p>
  </dd>
  <dt>
    <p>--ping</p>
  </dt>
  <dd>
    <p>Do an ICMP echo against the target host. Skip hosts that don\'t respond to ping.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
$ sudo puppet kick -p 10 -t remotefile -t webserver host1 host2
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Luke Kanies</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2011 Puppet Labs, LLC Licensed under the Apache 2.0 License</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="puppet-key.8.html"><span aria-hidden="true">&larr;</span> puppet-key.8: Create, save, and remove certificate keys.</a></li>
   <li class="next"><a href="puppet-man.8.html">puppet-man.8: Display puppet manual pages. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
