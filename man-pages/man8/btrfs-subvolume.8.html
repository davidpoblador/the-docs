<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>btrfs-subvolume: Control btrfs subvolume(s)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Control btrfs subvolume(s)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="btrfs-subvolume (8) manual">
  <meta name="twitter:description" content="Control btrfs subvolume(s)">
  <meta name="twitter:image" content="https://www.carta.tech/images/btrfs-tools-btrfs-subvolume-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/btrfs-subvolume.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="btrfs-subvolume (8) manual" />
  <meta property="og:description" content="Control btrfs subvolume(s)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/btrfs-tools-btrfs-subvolume-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">btrfs-subvolume<small> (8)</small></h1>
        <p class="lead">Control btrfs subvolume(s)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/btrfs-subvolume.8.html">
      <span itemprop="name">btrfs-subvolume: Control btrfs subvolume(s)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/btrfs-tools/">
      <span itemprop="name">btrfs-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/btrfs-subvolume.8.html">
      <span itemprop="name">btrfs-subvolume: Control btrfs subvolume(s)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>btrfs subvolume</strong> <em>&lt;subcommand&gt;</em> [<em>&lt;args&gt;</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>btrfs subvolume</strong> is used to control the filesystem to create/delete/list/show subvolumes and snapshots.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBVOLUME AND SNAPSHOT</h2>
        <div class="sectioncontent">
<p>A subvolume in btrfs is not like an LVM logical volume, which is quite independent from each other, a btrfs subvolume has its hierarchy and relations between other subvolumes.</p><p>A subvolume in btrfs can be accessed in two ways.</p><p>From the parent subvolume</p><p>When accessing from the parent subvolume, the subvolume can be used just like a directory. It can have child subvolumes and its own files/directories.</p><p>Separate mounted filesystem</p><p>When <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a> using <em>subvol</em> or <em>subvolid</em> mount option, one can access files/directories/subvolumes inside it, but nothing in parent subvolumes.</p><p>Also every btrfs filesystem has a default subvolume as its initially top-level subvolume, whose subvolume id is 5(FS_TREE).</p><p>A btrfs snapshot is much like a subvolume, but shares its data(and metadata) with other subvolume/snapshot. Due to the capabilities of COW, modifications inside a snapshot will only show in a snapshot but not in its source subvolume.</p><p>Although in btrfs, subvolumes/snapshots are treated as directories, only subvolume/snapshot can be the source of a snapshot, snapshot can not be made from normal directories.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBCOMMAND</h2>
        <div class="sectioncontent">
<p><strong>create</strong> [-i <em>&lt;qgroupid&gt;</em>] <em>&lt;name&gt;</em></p><p>Create a subvolume <em>&lt;name&gt;</em> in <em>&lt;dest&gt;</em>.</p><p>If <em>&lt;dest&gt;</em> is not given, subvolume <em>&lt;name&gt;</em> will be created in the currently directory.</p><p><strong>Options</strong></p><p>-i <em>&lt;qgroupid&gt;</em></p><p>Add the newly created subvolume to a qgroup. This option can be given multiple times.</p><p><strong>delete</strong> [options] <em>&lt;subvolume&gt;</em> [<em>&lt;subvolume&gt;</em>...]</p><p>Delete the subvolume(s) from the filesystem.</p><p>If <em>&lt;subvolume&gt;</em> is not a subvolume, btrfs returns an error but continues if there are more arguments to process.</p><p>The corresponding directory is removed instantly but the data blocks are removed later. The deletion does not involve full commit by default due to performance reasons (as a consequence, the subvolume may appear again after a crash). Use one of the <em>--commit</em> options to wait until the operation is safely stored on the media.</p><p><strong>Options</strong></p><p>-c|--commit-after</p><p>wait for transaction commit at the end of the operation</p><p>-C|--commit-each</p><p>wait for transaction commit after delet each subvolume</p><p><strong>list</strong> [options] [-G <em>&lt;value&gt;</em>] [-C <em>&lt;value&gt;</em>] [--sort=rootid,gen,ogen,path] <em>&lt;path&gt;</em></p><p>List the subvolumes present in the filesystem <em>&lt;path&gt;</em>.</p><p>For every subvolume the following information is shown by default.</p><p>ID <em>&lt;ID&gt;</em> top level <em>&lt;ID&gt;</em> path <em>&lt;path&gt;</em> where path is the relative path of the subvolume to the top level subvolume. The subvolume\(cqs ID may be used by the subvolume set-default command, or at mount time via the subvolid= option. If <strong>-p</strong> is given, then parent <em>&lt;ID&gt;</em> is added to the output between ID and top level. The parent\(cqs ID may be used at mount time via the <strong>subvolrootid=</strong> option.</p><p><strong>Options</strong></p><p>-p</p><p>print parent ID.</p><p>-a</p><p>print all the subvolumes in the filesystem and distinguish between absolute and relative path with respect to the given <em>&lt;path&gt;</em>.</p><p>-c</p><p>print the ogeneration of the subvolume, aliases: ogen or origin generation.</p><p>-g</p><p>print the generation of the subvolume.</p><p>-o</p><p>print only subvolumes below specified <em>&lt;path&gt;</em>.</p><p>-u</p><p>print the UUID of the subvolume.</p><p>-q</p><p>print the parent uuid of subvolumes (and snapshots).</p><p>-R</p><p>print the UUID of the sent subvolume, where the subvolume is the result of a receive operation</p><p>-t</p><p>print the result as a table.</p><p>-s</p><p>only snapshot subvolumes in the filesystem will be listed.</p><p>-r</p><p>only readonly subvolumes in the filesystem will be listed.</p><p>-G <em>&lt;value&gt;</em></p><p>list subvolumes in the filesystem that its generation is &gt;=, &apos;\(la or = value. &apos;+&apos; means &gt;&apos;= value, &apos;-&apos; means &lt;= value, If there is neither &apos;+&apos; nor &apos;-&apos;, it means = value.</p><p>-C <em>&lt;value&gt;</em></p><p>list subvolumes in the filesystem that its ogeneration is &gt;=, &lt;= or = value. The usage is the same to <em>-g</em> option.</p><p>--sort=rootid,gen,ogen,path</p><p>list subvolumes in order by specified items. you can add &apos;+&apos; or &apos;-&apos; in front of each items, &apos;+&apos; means ascending, &apos;-&apos; means descending. The default is ascending.</p><p>for --sort you can combine some items together by &apos;,&apos;, just like -sort=+ogen,-gen,path,rootid.</p><p><strong>snapshot</strong> [-r] <em>&lt;source&gt;</em> <em>&lt;dest&gt;</em>|<em>&lt;name&gt;</em></p><p>Create a writable/readonly snapshot of the subvolume <em>&lt;source&gt;</em> with the name <em>&lt;name&gt;</em> in the <em>&lt;dest&gt;</em> directory.</p><p>If only <em>&lt;dest&gt;</em> is given, the subvolume will be named the basename of <em>&lt;source&gt;</em>. If <em>&lt;source&gt;</em> is not a subvolume, btrfs returns an error. If <em>-r</em> is given, the snapshot will be readonly.</p><p><strong>get-default</strong> <em>&lt;path&gt;</em></p><p>Get the default subvolume of the filesystem <em>&lt;path&gt;</em>.</p><p>The output format is similar to <strong>subvolume list</strong> command.</p><p><strong>set-default</strong> <em>&lt;id&gt;</em> <em>&lt;path&gt;</em></p><p>Set the subvolume of the filesystem <em>&lt;path&gt;</em> which is mounted as default.</p><p>The subvolume is identified by <em>&lt;id&gt;</em>, which is returned by the <strong>subvolume list</strong> command.</p><p><strong>find-new</strong> <em>&lt;subvolume&gt;</em> <em>&lt;last_gen&gt;</em></p><p>List the recently modified files in a subvolume, after <em>&lt;last_gen&gt;</em> ID.</p><p><strong>show</strong> <em>&lt;path&gt;</em></p><p>Show information of a given subvolume in the <em>&lt;path&gt;</em>.</p><p><strong>sync</strong> <em>&lt;path&gt;</em> [subvolid...]</p><p>Wait until given subvolume(s) are completely removed from the filesystem after deletion. If no subvolume id is given, wait until all ongoing deletion requests are complete. This may take long if new deleted subvolumes appear during the sleep interval.</p><p><strong>Options</strong></p><p>-s <em>&lt;N&gt;</em></p><p>sleep N seconds between checks (default: 1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p><strong>btrfs subvolume</strong> returns a zero exit status if it succeeds. Non zero is returned in case of failure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p><strong>btrfs</strong> is part of btrfs-progs. Please refer to the btrfs wiki \m[blue]<strong>http://btrfs.wiki.kernel.org</strong>\m[] for further details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO btrfs-subvolume&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/mkfs.btrfs.8.html"><strong>mkfs.btrfs</strong>(8)</a>, <a href="../man8/btrfs-subvolume.8.html"><strong>btrfs-subvolume</strong>(8)</a>, <a href="../man8/btrfs-quota.8.html"><strong>btrfs-quota</strong>(8)</a>, <a href="../man8/btrfs-qgroup.8.html"><strong>btrfs-qgroup</strong>(8)</a>,</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="btrfs-show-super.8.html"><span aria-hidden="true">&larr;</span> btrfs-show-super.8: Show btrfs superblock information stored in devices</a></li>
   <li class="next"><a href="btrfs-zero-log.8.html">btrfs-zero-log.8: Clear out log tree <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
