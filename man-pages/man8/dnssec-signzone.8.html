<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dnssec-signzone: Dnssec zone signing tool</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Dnssec zone signing tool">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dnssec-signzone (8) manual">
  <meta name="twitter:description" content="Dnssec zone signing tool">
  <meta name="twitter:image" content="https://www.carta.tech/images/bind9utils-dnssec-signzone-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/dnssec-signzone.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dnssec-signzone (8) manual" />
  <meta property="og:description" content="Dnssec zone signing tool" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/bind9utils-dnssec-signzone-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dnssec-signzone<small> (8)</small></h1>
        <p class="lead">Dnssec zone signing tool</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dnssec-signzone.8.html">
      <span itemprop="name">dnssec-signzone: Dnssec zone signing tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/bind9utils/">
      <span itemprop="name">bind9utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/dnssec-signzone.8.html">
      <span itemprop="name">dnssec-signzone: Dnssec zone signing tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dnssec-signzone</strong> [<strong>-a</strong>] [<strong>-c&nbsp;</strong><strong></strong><em>class</em>] [<strong>-d&nbsp;</strong><strong></strong><em>directory</em>] [<strong>-D</strong>] [<strong>-E&nbsp;</strong><strong></strong><em>engine</em>] [<strong>-e&nbsp;</strong><strong></strong><em>end-time</em>] [<strong>-f&nbsp;</strong><strong></strong><em>output-file</em>] [<strong>-g</strong>] [<strong>-h</strong>] [<strong>-K&nbsp;</strong><strong></strong><em>directory</em>] [<strong>-k&nbsp;</strong><strong></strong><em>key</em>] [<strong>-L&nbsp;</strong><strong></strong><em>serial</em>] [<strong>-l&nbsp;</strong><strong></strong><em>domain</em>] [<strong>-i&nbsp;</strong><strong></strong><em>interval</em>] [<strong>-I&nbsp;</strong><strong></strong><em>input-format</em>] [<strong>-j&nbsp;</strong><strong></strong><em>jitter</em>] [<strong>-N&nbsp;</strong><strong></strong><em>soa-serial-format</em>] [<strong>-o&nbsp;</strong><strong></strong><em>origin</em>] [<strong>-O&nbsp;</strong><strong></strong><em>output-format</em>] [<strong>-P</strong>] [<strong>-p</strong>] [<strong>-R</strong>] [<strong>-r&nbsp;</strong><strong></strong><em>randomdev</em>] [<strong>-S</strong>] [<strong>-s&nbsp;</strong><strong></strong><em>start-time</em>] [<strong>-T&nbsp;</strong><strong></strong><em>ttl</em>] [<strong>-t</strong>] [<strong>-u</strong>] [<strong>-v&nbsp;</strong><strong></strong><em>level</em>] [<strong>-X&nbsp;</strong><strong></strong><em>extended&nbsp;end-time</em>] [<strong>-x</strong>] [<strong>-z</strong>] [<strong>-3&nbsp;</strong><strong></strong><em>salt</em>] [<strong>-H&nbsp;</strong><strong></strong><em>iterations</em>] [<strong>-A</strong>] {zonefile} [key...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dnssec-signzone</strong> signs a zone. It generates NSEC and RRSIG records and produces a signed version of the zone. The security status of delegations from the signed zone (that is, whether the child zones are secure or not) is determined by the presence or absence of a <em>keyset</em> file for each child zone.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>-a</p><p>Verify all generated signatures.</p><p>-c <em>class</em></p><p>Specifies the DNS class of the zone.</p><p>-C</p><p>Compatibility mode: Generate a <em>keyset-</em><em></em><em>zonename</em> file in addition to <em>dsset-</em><em></em><em>zonename</em> when signing a zone, for use by older versions of <strong>dnssec-signzone</strong>.</p><p>-d <em>directory</em></p><p>Look for <em>dsset-</em> or <em>keyset-</em> files in <strong>directory</strong>.</p><p>-D</p><p>Output only those record types automatically managed by <strong>dnssec-signzone</strong>, i.e. RRSIG, NSEC, NSEC3 and NSEC3PARAM records. If smart signing (<strong>-S</strong>) is used, DNSKEY records are also included. The resulting file can be included in the original zone file with <strong>$INCLUDE</strong>. This option cannot be combined with <strong>-O raw</strong> or serial number updating.</p><p>-E <em>engine</em></p><p>Uses a crypto hardware (OpenSSL engine) for the crypto operations it supports, for instance signing with private keys from a secure key store. When compiled with PKCS#11 support it defaults to pkcs11; the empty name resets it to no engine.</p><p>-g</p><p>Generate DS records for child zones from <em>dsset-</em> or <em>keyset-</em> file. Existing DS records will be removed.</p><p>-K <em>directory</em></p><p>Key repository: Specify a directory to search for DNSSEC keys. If not specified, defaults to the current directory.</p><p>-k <em>key</em></p><p>Treat specified key as a key signing key ignoring any key flags. This option may be specified multiple times.</p><p>-l <em>domain</em></p><p>Generate a DLV set in addition to the key (DNSKEY) and DS sets. The domain is appended to the name of the records.</p><p>-s <em>start-time</em></p><p>Specify the date and time when the generated RRSIG records become valid. This can be either an absolute or relative time. An absolute start time is indicated by a number in YYYYMMDDHHMMSS notation; 20000530144500 denotes 14:45:00 UTC on May 30th, 2000. A relative start time is indicated by +N, which is N seconds from the current time. If no <strong>start-time</strong> is specified, the current time minus 1 hour (to allow for clock skew) is used.</p><p>-e <em>end-time</em></p><p>Specify the date and time when the generated RRSIG records expire. As with <strong>start-time</strong>, an absolute time is indicated in YYYYMMDDHHMMSS notation. A time relative to the start time is indicated with +N, which is N seconds from the start time. A time relative to the current time is indicated with now+N. If no <strong>end-time</strong> is specified, 30 days from the start time is used as a default. <strong>end-time</strong> must be later than <strong>start-time</strong>.</p><p>-X <em>extended end-time</em></p><p>Specify the date and time when the generated RRSIG records for the DNSKEY RRset will expire. This is to be used in cases when the DNSKEY signatures need to persist longer than signatures on other records; e.g., when the private component of the KSK is kept offline and the KSK signature is to be refreshed manually.</p><p>As with <strong>start-time</strong>, an absolute time is indicated in YYYYMMDDHHMMSS notation. A time relative to the start time is indicated with +N, which is N seconds from the start time. A time relative to the current time is indicated with now+N. If no <strong>extended end-time</strong> is specified, the value of <strong>end-time</strong> is used as the default. (<strong>end-time</strong>, in turn, defaults to 30 days from the start time.) <strong>extended end-time</strong> must be later than <strong>start-time</strong>.</p><p>-f <em>output-file</em></p><p>The name of the output file containing the signed zone. The default is to append <em>.signed</em> to the input filename. If <strong>output-file</strong> is set to "-", then the signed zone is written to the standard output, with a default output format of "full".</p><p>-h</p><p>Prints a short summary of the options and arguments to <strong>dnssec-signzone</strong>.</p><p>-i <em>interval</em></p><p>When a previously-signed zone is passed as input, records may be resigned. The <strong>interval</strong> option specifies the cycle interval as an offset from the current time (in seconds). If a RRSIG record expires after the cycle interval, it is retained. Otherwise, it is considered to be expiring soon, and it will be replaced.</p><p>The default cycle interval is one quarter of the difference between the signature end and start times. So if neither <strong>end-time</strong> or <strong>start-time</strong> are specified, <strong>dnssec-signzone</strong> generates signatures that are valid for 30 days, with a cycle interval of 7.5 days. Therefore, if any existing RRSIG records are due to expire in less than 7.5 days, they would be replaced.</p><p>-I <em>input-format</em></p><p>The format of the input zone file. Possible formats are <strong>"text"</strong> (default) and <strong>"raw"</strong>. This option is primarily intended to be used for dynamic signed zones so that the dumped zone file in a non-text format containing updates can be signed directly. The use of this option does not make much sense for non-dynamic zones.</p><p>-j <em>jitter</em></p><p>When signing a zone with a fixed signature lifetime, all RRSIG records issued at the time of signing expires simultaneously. If the zone is incrementally signed, i.e. a previously-signed zone is passed as input to the signer, all expired signatures have to be regenerated at about the same time. The <strong>jitter</strong> option specifies a jitter window that will be used to randomize the signature expire time, thus spreading incremental signature regeneration over time.</p><p>Signature lifetime jitter also to some extent benefits validators and servers by spreading out cache expiration, i.e. if large numbers of RRSIGs don't expire at the same time from all caches there will be less congestion than if all validators need to refetch at mostly the same time.</p><p>-L <em>serial</em></p><p>When writing a signed zone to 'raw' format, set the "source serial" value in the header to the specified serial number. (This is expected to be used primarily for testing purposes.)</p><p>-n <em>ncpus</em></p><p>Specifies the number of threads to use. By default, one thread is started for each detected CPU.</p><p>-N <em>soa-serial-format</em></p><p>The SOA serial number format of the signed zone. Possible formats are <strong>"keep"</strong> (default), <strong>"increment"</strong> and <strong>"unixtime"</strong>.</p><p><strong>"keep"</strong></p><p>Do not modify the SOA serial number.</p><p><strong>"increment"</strong></p><p>Increment the SOA serial number using RFC 1982 arithmetics.</p><p><strong>"unixtime"</strong></p><p>Set the SOA serial number to the number of seconds since epoch.</p><p>-o <em>origin</em></p><p>The zone origin. If not specified, the name of the zone file is assumed to be the origin.</p><p>-O <em>output-format</em></p><p>The format of the output file containing the signed zone. Possible formats are <strong>"text"</strong> (default) <strong>"full"</strong>, which is text output in a format suitable for processing by external scripts, and <strong>"raw"</strong> or <strong>"raw=N"</strong>, which store the zone in a binary format for rapid loading by <strong>named</strong>. <strong>"raw=N"</strong> specifies the format version of the raw zone file: if N is 0, the raw file can be read by any version of <strong>named</strong>; if N is 1, the file can be read by release 9.9.0 or higher. The default is 1.</p><p>-p</p><p>Use pseudo-random data when signing the zone. This is faster, but less secure, than using real random data. This option may be useful when signing large zones or when the entropy source is limited.</p><p>-P</p><p>Disable post sign verification tests.</p><p>The post sign verification test ensures that for each algorithm in use there is at least one non revoked self signed KSK key, that all revoked KSK keys are self signed, and that all records in the zone are signed by the algorithm. This option skips these tests.</p><p>-Q</p><p>Remove signatures from keys that are no longer active.</p><p>Normally, when a previously-signed zone is passed as input to the signer, and a DNSKEY record has been removed and replaced with a new one, signatures from the old key that are still within their validity period are retained. This allows the zone to continue to validate with cached copies of the old DNSKEY RRset. The <strong>-Q</strong> forces <strong>dnssec-signzone</strong> to remove signatures from keys that are no longer active. This enables ZSK rollover using the procedure described in RFC 4641, section 4.2.1.1 ("Pre-Publish Key Rollover").</p><p>-R</p><p>Remove signatures from keys that are no longer published.</p><p>This option is similar to <strong>-Q</strong>, except it forces <strong>dnssec-signzone</strong> to signatures from keys that are no longer published. This enables ZSK rollover using the procedure described in RFC 4641, section 4.2.1.2 ("Double Signature Zone Signing Key Rollover").</p><p>-r <em>randomdev</em></p><p>Specifies the source of randomness. If the operating system does not provide a <em>/dev/random</em> or equivalent device, the default source of randomness is keyboard input. <em>randomdev</em> specifies the name of a character device or file containing random data to be used instead of the default. The special value <em>keyboard</em> indicates that keyboard input should be used.</p><p>-S</p><p>Smart signing: Instructs <strong>dnssec-signzone</strong> to search the key repository for keys that match the zone being signed, and to include them in the zone if appropriate.</p><p>When a key is found, its timing metadata is examined to determine how it should be used, according to the following rules. Each successive rule takes priority over the prior ones:</p><p>If no timing metadata has been set for the key, the key is published in the zone and used to sign the zone.</p><p>If the key's publication date is set and is in the past, the key is published in the zone.</p><p>If the key's activation date is set and in the past, the key is published (regardless of publication date) and used to sign the zone.</p><p>If the key's revocation date is set and in the past, and the key is published, then the key is revoked, and the revoked key is used to sign the zone.</p><p>If either of the key's unpublication or deletion dates are set and in the past, the key is NOT published or used to sign the zone, regardless of any other metadata.</p><p>-T <em>ttl</em></p><p>Specifies a TTL to be used for new DNSKEY records imported into the zone from the key repository. If not specified, the default is the TTL value from the zone's SOA record. This option is ignored when signing without <strong>-S</strong>, since DNSKEY records are not imported from the key repository in that case. It is also ignored if there are any pre-existing DNSKEY records at the zone apex, in which case new records' TTL values will be set to match them, or if any of the imported DNSKEY records had a default TTL value. In the event of a a conflict between TTL values in imported keys, the shortest one is used.</p><p>-t</p><p>Print statistics at completion.</p><p>-u</p><p>Update NSEC/NSEC3 chain when re-signing a previously signed zone. With this option, a zone signed with NSEC can be switched to NSEC3, or a zone signed with NSEC3 can be switch to NSEC or to NSEC3 with different parameters. Without this option, <strong>dnssec-signzone</strong> will retain the existing chain when re-signing.</p><p>-v <em>level</em></p><p>Sets the debugging level.</p><p>-x</p><p>Only sign the DNSKEY RRset with key-signing keys, and omit signatures from zone-signing keys. (This is similar to the <strong>dnssec-dnskey-kskonly yes;</strong> zone option in <strong>named</strong>.)</p><p>-z</p><p>Ignore KSK flag on key when determining what to sign. This causes KSK-flagged keys to sign all records, not just the DNSKEY RRset. (This is similar to the <strong>update-check-ksk no;</strong> zone option in <strong>named</strong>.)</p><p>-3 <em>salt</em></p><p>Generate an NSEC3 chain with the given hex encoded salt. A dash (<em>salt</em>) can be used to indicate that no salt is to be used when generating the NSEC3 chain.</p><p>-H <em>iterations</em></p><p>When generating an NSEC3 chain, use this many iterations. The default is 10.</p><p>-A</p><p>When generating an NSEC3 chain set the OPTOUT flag on all NSEC3 records and do not generate NSEC3 records for insecure delegations.</p><p>Using this option twice (i.e., <strong>-AA</strong>) turns the OPTOUT flag off for all records. This is useful when using the <strong>-u</strong> option to modify an NSEC3 chain which previously had OPTOUT set.</p><p>zonefile</p><p>The file containing the zone to be signed.</p><p>key</p><p>Specify which keys should be used to sign the zone. If no keys are specified, then the zone will be examined for DNSKEY records at the zone apex. If these are found and there are matching private keys, in the current directory, then these will be used for signing.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following command signs the <strong>example.com</strong> zone with the DSA key generated by <strong>dnssec-keygen</strong> (Kexample.com.+003+17247). Because the <strong>-S</strong> option is not being used, the zone's keys must be in the master file (<em>db.example.com</em>). This invocation looks for <em>dsset</em> files, in the current directory, so that DS records can be imported from them (<strong>-g</strong>).</p>
<pre>
% dnssec-signzone -g -o example.com db.example.com &#92;
Kexample.com.+003+17247
db.example.com.signed
%
</pre>
<p>In the above example, <strong>dnssec-signzone</strong> creates the file <em>db.example.com.signed</em>. This file should be referenced in a zone statement in a <em>named.conf</em> file.</p><p>This example re-signs a previously signed zone with default parameters. The private keys are assumed to be in the current directory.</p>
<pre>
% cp db.example.com.signed db.example.com
% dnssec-signzone -o example.com db.example.com
db.example.com.signed
%
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dnssec-signzone&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/dnssec-keygen.8.html"><strong>dnssec-keygen</strong>(8)</a>, BIND 9 Administrator Reference Manual, RFC 4033, RFC 4641.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Internet Systems Consortium</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2004-2009, 2011, 2013 Internet Systems Consortium, Inc. ("ISC")</p><p>Copyright &copy; 2000-2003 Internet Software Consortium.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dnssec-settime.8.html"><span aria-hidden="true">&larr;</span> dnssec-settime.8: Set the key timing metadata for a dnssec key</a></li>
   <li class="next"><a href="dnssec-trigger.8.html">dnssec-trigger.8: Check dns servers for dnssec support and adjust to compensate. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
