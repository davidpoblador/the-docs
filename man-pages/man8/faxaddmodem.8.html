<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>faxaddmodem: Configure a modem for use with \*(fx</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configure a modem for use with \*(fx">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="faxaddmodem (8) manual">
  <meta name="twitter:description" content="Configure a modem for use with \*(fx">
  <meta name="twitter:image" content="https://www.carta.tech/images/hylafax-server-faxaddmodem-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/faxaddmodem.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="faxaddmodem (8) manual" />
  <meta property="og:description" content="Configure a modem for use with \*(fx" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/hylafax-server-faxaddmodem-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">faxaddmodem<small> (8)</small></h1>
        <p class="lead">Configure a modem for use with \*(fx</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/faxaddmodem.8.html">
      <span itemprop="name">faxaddmodem: Configure a modem for use with \*(fx</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/hylafax-server/">
      <span itemprop="name">hylafax-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/faxaddmodem.8.html">
      <span itemprop="name">faxaddmodem: Configure a modem for use with \*(fx</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/usr/sbin/faxaddmodem</strong> [ <strong>-s</strong> <em>speed</em> ] [ <strong>-f</strong> ] [ <em>tty</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>faxaddmodem</em> is an interactive shell script that does the necessary setup work to configure a modem for use by the \*(Fx software. To enable use of the configured modem one must either use the <a href="../man8/faxmodem.8.html"><strong>faxmodem</strong>(8)</a> program or configure the <a href="../man8/init.8.html"><strong>init</strong>(8)</a> program to startup a <a href="../man8/faxgetty.8.html"><strong>faxgetty</strong>(8)</a> process for the newly configured modem. In either case the <a href="../man8/faxq.8.html"><strong>faxq</strong>(8)</a> program must also be running if outbound services are to be provided.</p><p>If the serial port name is not specified on the command line <em>faxaddmodem</em> will prompt for it.</p><p>The configuration work done by <em>faxaddmodem</em> falls into two main areas: creating the necessary files to run a facsimile server process, and defining the contents of the configuration database file. The <em>hylafax-config (5)</em> manual page has an in-depth description of the contents of the configuration file and should be consulted when installing a modem.</p><p>Many aspects of configuring a modem are operating system-specific; <em>faxaddmodem</em> uses a collection of support routines and parameters that are generated by the <a href="../man8/faxsetup.8.html"><strong>faxsetup</strong>(8)</a> program. If <em>faxsetup</em> has not been run on a machine prior to running then <em>faxaddmodem</em> will abort.</p><p><em>faxaddmodem</em> can be used to install a new modem or re-configure an existing modem. In the latter case it will propagate all the server-related configuration parameters from the existing configuration file to the new configuration file. These parameter include items such as the phone number, area code, and tracing control parameters. Modem-related configuration parameters are, however, not propagated. Instead <em>faxaddmodem</em> deduces the type of modem attached to the specified serial port and then sets up the configuration parameters using a set of <em>prototype</em> configuration files that have been tested with like modems. If a modem is to be installed for which there is no existing prototype file, <em>faxaddmodem</em> will work from a comprehensive template of parameters that can be edited either during or after the installation process.</p><p><em>faxaddmodem</em> deduces the type of modem attached to the serial port by sending commands to the modem at a fixed speed. By default, this speed is deduced by sending commands to the modem at successively decreasing speeds until a valid response is received. Alternatively, a fixed speed can be specified from the command line with the <strong>-s</strong> option.</p><p>Because <em>faxaddmodem</em> needs to read and write the modem that is to be installed it will not proceed with an installation if the modem is locked for use by another process.  If the modem is not locked and the <strong>-f</strong> option is used, then the system's <a href="../man1/fuser.1.html"><strong>fuser</strong>(1)</a> command will be invoked to ensure that faxaddmodem is the only process using the modem.</p><p>Finally, note that an installation can be safely aborted at any time by hitting the interrupt key. <em>faxaddmodem</em> delays making installation-related changes until after everything has been setup.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-s</strong><em> speed</em></p>
  </dt>
  <dd>
    <p>Communicate with the modem at a fixed <em>speed</em>; this may be any value recognized by the <a href="../man1/stty.1.html"><strong>stty</strong>(1)</a> command.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Use the <a href="../man1/fuser.1.html"><strong>fuser</strong>(1)</a> command for exclusive access to the device.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROTOTYPE CONFIGURATION FILES</h2>
        <div class="sectioncontent">
<p><em>faxaddmodem</em> uses prototype configuration files that have been created for known modems. These prototype files are kept in the <strong>config</strong> subdirectory and, by convention, have names that identify a brand or type of modem and the <small>DTE-DCE</small> flow control scheme the prototype files configures. The <a href="../man8/faxaddmodem.8.html"><strong>faxaddmodem</strong>(8)</a> program that is used to configure a modem for use with \*(Fx selects a prototype configuration file using information retrieved from the modem and comments embedded in the prototype files. For Class 1 and Class 1.0 modems the product ID code returned by the command ``\s-1ATI0\s+1'' and the response from the command ``\s-1ATI3\s+1'' are used to select a prototype configuration file, while for Class 2 modems the manufacturer and model as returned by ``\s-1AT+FMFR?\s+1'' and ``\s-1AT+FMDL?\s+1'', respectively, are used (or ``\s-1AT+FMI?\s+1'' and ``\s-1AT+FMM?\s+1'' for Class 2.0 and Class 2.1 modems).</p><p>A Class 1 prototype configuration file is identified for use by <em>faxaddmodem</em> by searching for a comment of the form:</p>
<pre>
# CONFIG:CLASS1:144:.*:RTSCTS: Manufacturer='AT&T' Model=Dataport

</pre>
<p>In this example ``144'' is the product ID code for an \s-1AT&T\s+1 DataPort modem, ``.*'' is a regular expression matched against the result string returned by the ``\s-1ATI3\s+1'' command, and ``\s-1RTSCTS\s+1'' indicates the modem is configured to use hardware flow control during fax operation. The remainder of the line is evaluated by the <em>sh</em>(1) and used to specify the modem's manufacturer and model (since Class 1 modems do not have standard commands to query this information).</p><p>Class 2, 2.0, and 2.1 prototype configuration files match the string ``<em>manufacturer</em>-<em>model</em>-<em>flowcontrol</em>'' against a <em>sh</em>(1) glob pattern specified in the configuration file, where <em>manufacturer</em> and <em>model</em> are the strings returned by querying the modem and <em>flowcontrol</em> is either ``\s-1RTSCTS\s+1'' for hardware flow control or ``\s-1XONXOFF\s+1'' for software flow control. For example:</p><p># CONFIG: CLASS2: ZyXEL*-RTSCTS</p><p># CONFIG: CLASS2.0: USRobotics*-XONXOFF</p><p>are configuration comments that appear in the prototype file for a \s-1ZyXEL 1496E\s+1 with Class 2 support, and for a US Robotics Courier modem with Class 2.0 firmware.</p><p>The <em>faxaddmodem</em> program merges server-specific configuration parameters into a prototype configuration according to comments placed in the prototype file. All lines between ``\s-1BEGIN-SERVER\s+1'' and ``\s-1END-SERVER\s+1'' comments are placed with the appropriate server configuration parameters. Note that this means modem-related configuration parameters must be placed outside this area of the file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
/var/spool/hylafax/etc/setup.cache	master configuration parameters
/var/spool/hylafax/etc/setup.modem	modem-related configuration support
/var/spool/hylafax/config	prototype configuration files
/usr/sbin/ondelay	program to open device without waiting for carrier
/usr/sbin/lockname	\s-1SVR4 UUCP\s+1 lockfile name generator
</pre>
<p>Consult <a href="../man5/hylafax-server.5.html"><strong>hylafax-server</strong>(5)</a> for a complete discussion of the structure and content of the spooling area.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO faxaddmodem&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/hylafax-server.5.html"><strong>hylafax-server</strong>(5)</a>, <a href="../man5/hylafax-config.5.html"><strong>hylafax-config</strong>(5)</a>, <a href="../man8/faxsetup.8.html"><strong>faxsetup</strong>(8)</a>, <a href="../man8/faxq.8.html"><strong>faxq</strong>(8)</a>, <a href="../man8/faxgetty.8.html"><strong>faxgetty</strong>(8)</a>, <a href="../man8/faxmodem.8.html"><strong>faxmodem</strong>(8)</a>, <a href="../man8/faxconfig.8.html"><strong>faxconfig</strong>(8)</a>, <a href="../man8/faxsend.8.html"><strong>faxsend</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="faxabort.8.html"><span aria-hidden="true">&larr;</span> faxabort.8: Tell a \*(fx server to abort a receive</a></li>
   <li class="next"><a href="faxadduser.8.html">faxadduser.8: Add a fax user to the permissions file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
