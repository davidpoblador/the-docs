<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vzctl: Perform various operations on an openvz container</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perform various operations on an openvz container">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vzctl (8) manual">
  <meta name="twitter:description" content="Perform various operations on an openvz container">
  <meta name="twitter:image" content="https://www.carta.tech/images/vzctl-vzctl-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/vzctl.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vzctl (8) manual" />
  <meta property="og:description" content="Perform various operations on an openvz container" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/vzctl-vzctl-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vzctl<small> (8)</small></h1>
        <p class="lead">Perform various operations on an openvz container</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/vzctl.8.html">
      <span itemprop="name">vzctl: Perform various operations on an openvz container</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/vzctl/">
      <span itemprop="name">vzctl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/vzctl.8.html">
      <span itemprop="name">vzctl: Perform various operations on an openvz container</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>&#92;$1</strong> [<em>flags</em>] <strong>create</strong> <em>CTID</em> <em>--parameter value</em> [...] [<em>flags</em>] <strong>start</strong> <em>CTID</em> [<em>flags</em>] <strong>stop</strong> <em>CTID</em> [<em>flags</em>] <strong>restart</strong> <em>CTID</em> [<em>flags</em>] <strong>suspend</strong> | <strong>resume</strong> <em>CTID</em> [<em>flags</em>] <strong>snapshot</strong> <em>CTID</em> [<em>flags</em>] <strong>snapshot-switch</strong> <em>CTID</em> <strong>--id</strong> <em>uuid</em> [<em>flags</em>] <strong>snapshot-delete</strong> <em>CTID</em> <strong>--id</strong> <em>uuid</em> [<em>flags</em>] <strong>snapshot-mount</strong> <em>CTID</em> <strong>--id</strong> <em>uuid</em> <strong>--target</strong> <em>dir</em> [<em>flags</em>] <strong>snapshot-umount</strong> <em>CTID</em> <strong>--id</strong> <em>uuid</em> [<em>flags</em>] <strong>snapshot-list</strong> <em>CTID</em> [<strong>-H</strong>] [<strong>-o</strong> <em>field</em>[,<em>field</em>...] [<strong>--id</strong> <em>uuid</em>] [<em>flags</em>] <strong>set</strong> <em>CTID</em> <em>--parameter value</em> [...] [<em>flags</em>] <strong>set</strong> <em>CTID</em> <strong>--reset_ub</strong> [<em>flags</em>] <strong>destroy</strong> | <strong>delete</strong> | <strong>mount</strong> | <strong>umount</strong> | <strong>status</strong> | <strong>quotaon</strong> | <strong>quotaoff</strong> | <strong>quotainit</strong> <em>CTID</em> [<em>flags</em>] <strong>console</strong> <em>CTID</em> [<em>ttynum</em>] [<em>flags</em>] <strong>convert</strong> <em>CTID</em> [<em>flags</em>] <strong>compact</strong> <em>CTID</em> [<em>flags</em>] <strong>exec</strong> | <strong>exec2</strong> <em>CTID</em> <em>command</em> [<em>arg</em> ...] [<em>flags</em>] <strong>enter</strong> <em>CTID</em> [<em>flags</em>] <strong>runscript</strong> <em>CTID</em> <em>script</em> <strong>--help</strong> | <strong>--version</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Utility <strong>vzctl</strong> runs on the host system (otherwise known as Hardware Node, or HN) and performs direct manipulations with containers (CTs).</p><p>Containers can be referred to by either numeric <em>CTID</em> or by name (see <strong>--name</strong> option). Note that CT ID &lt;= 100 are reserved for OpenVZ internal purposes. A numeric ID should not be more than <strong>2147483644</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>Flags</h3>
<p>These flags come before a command, and can be used with any command. They affect logging to console (terminal) only, and do not affect logging to a log file.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>--quiet</strong>
  </dt>
  <dd>
    <p>Disables output. Note that scripts run by vzctl are still able to produce some output.</p>
  </dd>
  <dt>
    <strong>--verbose</strong>
  </dt>
  <dd>
    <p>Increments logging level up from the default. Can be used multiple times. Default value is set to the value of <strong>VERBOSE</strong> parameter in the global configuration file <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a>, or to <strong>0</strong> if not set by <strong>VERBOSE</strong> parameter.</p>
  </dd>

</dl>

<h3>Setting container parameters</h3>
<p><em>CTID</em> [<strong>--ifname </strong><em>dev</em></p><ul>
<li><p>This command sets various container parameters. If the container is currently running, <strong>vzctl</strong> applies these parameters to the container. The following options can be used with <strong>set</strong> command.</p></li>
</ul>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--save</strong></p>
  </dt>
  <dd>
    <p>If this flag is given, parameters are saved in container configuration file <a href="../man5/ctid.conf.5.html"><strong>ctid.conf</strong>(5)</a>.</p>
  </dd>
  <dt>
    <p><strong>--force</strong></p>
  </dt>
  <dd>
    <p>If this flag is given together with <strong>--save</strong>, parameters are saved even if the current kernel doesn't support OpenVZ. Note this flag does not make sense without <strong>--save</strong>, so <strong>--save</strong> is required.</p>
  </dd>
  <dt>
    <p><strong>--reset_ub</strong></p>
  </dt>
  <dd>
    <p>If this flag is given, <strong>vzctl</strong> applies all User Beancounter parameters from the configuration file to a running container. This is helpful in case configuration file is modified manually. Please note this flag is exclusive, i.e. it can not be combined with any other options or flags.</p>
  </dd>
  <dt>
    <p><strong>--setmode</strong> <strong>restart</strong> | <strong>ignore</strong></p>
  </dt>
  <dd>
    <p>A few parameters can only be applied by restarting the container. By default, <strong>vzctl</strong> prints a warning if such parameters are supplied and a container is running. Use <strong>--setmode restart</strong> together with <strong>--save</strong> flag to restart a container in such a case, or <strong>--setmode ignore</strong> to suppress the warning.</p>
  </dd>
  <dt>
    <p><strong>--onboot</strong> <strong>yes</strong> | <strong>no</strong></p>
  </dt>
  <dd>
    <p>Sets whether the container will be started during system boot. The container will be started on boot by <strong>vz</strong> initscript if either this parameter is set to <strong>yes</strong>, or the container was running just before last reboot, and this parameter is not set to <strong>no</strong>. Default value is unset, meaning the container will be started if it was running before the last reboot.</p>
  </dd>
  <dt>
    <p><strong>--bootorder</strong> <em>number</em></p>
  </dt>
  <dd>
    <p>Sets the boot order priority for this CT. The higher the <em>number</em> is, the earlier in the boot process this container starts. By default this parameter is unset, which is considered to be the lowest priority, so containers with unset <strong>bootorder</strong> will start last.</p>
  </dd>
  <dt>
    <p><strong>--root</strong> <em>path</em></p>
  </dt>
  <dd>
    <p>Sets the path to root directory (<strong>VE_ROOT</strong>) for this container. This is essentially a mount point for container's root directory. Argument can contain literal string <strong>$VEID</strong>, which will be substituted with the numeric CT ID.</p>
  </dd>
  <dt>
    <p><strong>--private</strong> <em>path</em></p>
  </dt>
  <dd>
    <p>Sets the path to private directory (<strong>VE_PRIVATE</strong>) for this container. This is a directory in which all the container's files are stored. Argument can contain literal string <strong>$VEID</strong>, which will be substituted with the numeric CT ID.</p>
  </dd>
  <dt>
    <p><strong>--mount_opts</strong> <em>option</em>[<strong>,</strong><em>option</em>...]</p>
  </dt>
  <dd>
    <p>Sets additional mount options for container file system. Only applicable for <strong>ploop</strong> layout, ignored otherwise.</p>
  </dd>
  <dt>
    <p><strong>--userpasswd</strong> <em>user</em>:<em>password</em></p>
  </dt>
  <dd>
    <p>Sets password for the given user in a container, creating the user if it does not exists. Note that this option is not saved in configuration file at all (so <strong>--save</strong> flag is useless), it is applied directly to the container, by running distribution-specific programs inside the container. It is not recommended to combine this option with any other options.</p><p>In case container was not running, it is automatically started then all the appropriate changes are applied, then it is stopped.</p><p>Note that container should be created before using this option.</p>
  </dd>
  <dt>
    <p><strong>--disabled</strong> <strong>yes</strong> | <strong>no</strong></p>
  </dt>
  <dd>
    <p>Disable container start. To force the start of a disabled container, use <strong>vzctl start --force</strong>.</p>
  </dd>
  <dt>
    <p><strong>--name</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Add a name for a container. The <em>name</em> can later be used in subsequent calls to <strong>vzctl</strong> in place of <em>CTID</em>. Note this option can not be used without <strong>--save</strong>.</p>
  </dd>
  <dt>
    <p><strong>--description</strong> <em>string</em></p>
  </dt>
  <dd>
    <p>Add a textual description for a container.</p>
  </dd>
  <dt>
    <p><strong>--ostemplate</strong> <em>string</em></p>
  </dt>
  <dd>
    <p>Sets a new value of <strong>OSTEMPLATE</strong> parameter in container configuration file <a href="../man5/ctid.conf.5.html"><strong>ctid.conf</strong>(5)</a>. Requires <strong>--save</strong> flag. Useful after a change/upgrade of a distribution running inside container, as vzctl uses the value of OSTEMPLATE to run distribution-specific scripts.</p>
  </dd>
  <dt>
    <p><strong>--stop-timeout</strong> <em>seconds</em></p>
  </dt>
  <dd>
    <p>Sets a time to wait for container to stop on <strong>vzctl stop</strong> before forcibly killing it, in seconds. Note this option can not be used without <strong>--save</strong> flag.</p><p>Special value of <strong>0</strong> means to use compiled-in default.</p>
  </dd>
  <dt>
    <p><strong>--ipadd</strong> <em>addr</em></p>
  </dt>
  <dd>
    <p>Adds an IP address <em>addr</em> to a given container. Address can optionally have a netmask specified in the CIDR notation (e.g. <strong>10.1.2.3/25</strong>). Note that this option is incremental, so <em>addr</em> are added to already existing ones.</p>
  </dd>
  <dt>
    <p><strong>--ipdel</strong> <em>addr</em> | <strong>all</strong></p>
  </dt>
  <dd>
    <p>Removes IP address <em>addr</em> from a container. If you want to remove all the addresses, use <strong>--ipdel all</strong>.</p>
  </dd>
  <dt>
    <p><strong>--hostname</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Sets container hostname. <strong>vzctl</strong> writes it to the appropriate file inside a container (distribution-dependent).</p>
  </dd>
  <dt>
    <p><strong>--nameserver</strong> <em>addr</em></p>
  </dt>
  <dd>
    <p>Sets DNS server IP address for a container. If you want to set several nameservers, you should do it at once, so use <strong>--nameserver</strong> option multiple times in one call to <strong>vzctl</strong>, as all the name server values set in previous calls to <strong>vzctl</strong> are overwritten.</p><p>A special value of <strong>inherit</strong> can be used to auto-propagate nameserver value(s) from the host system's <strong>/etc/resolv.conf</strong> file.</p>
  </dd>
  <dt>
    <p><strong>--searchdomain</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Sets DNS search domains for a container. If you want to set several search domains, you should do it at once, so use <strong>--searchdomain</strong> option multiple times in one call to <strong>vzctl</strong>, as all the search domain values set in previous calls to <strong>vzctl</strong> are overwritten.</p><p>A special value of <strong>inherit</strong> can be used to auto-propagate search domain value(s) from the host system's <strong>/etc/resolv.conf</strong> file.</p>
  </dd>
  <dt>
    <p><strong>--netif_add</strong> <em>ifname[</em>,<em>mac</em>,<em>host_ifname</em>,<em>host_mac</em>,<em>bridge]</em></p>
  </dt>
  <dd>
    <p>Adds a virtual Ethernet device (veth) to a given container. Here <em>ifname</em> is the Ethernet device name in the container, <em>mac</em> is its MAC address, <em>host_ifname</em> is the Ethernet device name on the host, and <em>host_mac</em> is its MAC address. MAC addresses should be in the format like XX:XX:XX:XX:XX:XX. <em>bridge</em> is an optional parameter which can be used in custom network start scripts to automatically add the interface to a bridge. All parameters except <em>ifname</em> are optional and are automatically generated if not specified.</p>
  </dd>
  <dt>
    <p><strong>--netif_del</strong> <em>dev_name</em> | <strong>all</strong></p>
  </dt>
  <dd>
    <p>Removes virtual Ethernet device from a container. If you want to remove all devices, use <strong>all</strong>.</p>
  </dd>

</dl>
<p>The following options can be used to reconfigure the already-created virtual Ethernet interface. To select the interface to configure, use <strong>--ifname</strong> <em>name</em> option.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--mac</strong> <em>XX:XX:XX:XX:XX:XX</em></p>
  </dt>
  <dd>
    <p>MAC address of interface inside a container.</p>
  </dd>
  <dt>
    <p><strong>--host_ifname</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>interface name for virtual interface in the host system.</p>
  </dd>
  <dt>
    <p><strong>--host_mac</strong> <em>XX:XX:XX:XX:XX:XX</em></p>
  </dt>
  <dd>
    <p>MAC address of interface in the host system.</p><p>If you want an independent communication with the Container through the bridge, you should specify a multicast MAC address here (FE:FF:FF:FF:FF:FF).</p>
  </dd>
  <dt>
    <p><strong>--bridge</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Bridge name. Custom network start scripts can use this value to automatically add the interface to a bridge.</p>
  </dd>
  <dt>
    <p><strong>--mac_filter</strong> <strong>on</strong> | <strong>off</strong></p>
  </dt>
  <dd>
    <p>Enables/disables MAC address filtering for the Container veth device and the possibility of configuring the MAC address of this device from inside the Container. If the filtering is turned on:</p><p> &bull; the veth device accepts only those packets that have a MAC address in their headers corresponding to that of this device (excluding all broadcast and multicast packets);</p><p> &bull; it is impossible to modify the veth MAC address from inside the Container.</p><p>By default, this functionality is enabled for all veth devices existing inside the Container.</p>
  </dd>

</dl>
<p>The following options sets memory and swap limits for VSwap-enabled kernels (kernel version 042stab042 or greater).</p><p>Argument is in bytes, unless otherwise specified by an optional suffix. Available suffixes are:</p><p>&bull; <strong>T</strong>, <strong>t</strong>	- terabytes;</p><p>&bull; <strong>G</strong>, <strong>g</strong>	- gigabytes;</p><p>&bull; <strong>M</strong>, <strong>m</strong>	- megabytes;</p><p>&bull; <strong>K</strong>, <strong>k</strong>	- kilobytes;</p><p>&bull; <strong>P</strong>, <strong>p</strong>	- memory pages (arch-specific, usually 4KB);</p><p>&bull; <strong>B</strong>, <strong>b</strong>	- bytes (this is the default).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--ram</strong> <em>bytes</em></p>
  </dt>
  <dd>
    <p>Sets physical memory (RAM) available to a container. Actually, the option is a shortcut for setting <strong>--physpages</strong> limit (the barrier is set to 0).</p>
  </dd>
  <dt>
    <p><strong>--swap</strong> <em>bytes</em></p>
  </dt>
  <dd>
    <p>Set swap space available to a container. Actually, the option is a shortcut for setting <strong>--swappages</strong> limit (the barrier is set to 0).</p>
  </dd>
  <dt>
    <p><strong>--vm_overcommit</strong> <em>float</em></p>
  </dt>
  <dd>
    <p>Set VM overcommitment value to <em>float</em>. If set, it is used to calculate <strong>privmmpages</strong> parameter in case it is not set explicitly (see below). Default value is <strong>0</strong>, meaning unlimited privvmpages.</p>
  </dd>

</dl>
<p><strong>vzctl</strong> checks if running kernel is VSwap capable, and refuses to use these parameters otherwise. This behavior can be overriden by using <strong>--force</strong> flag before parameters.</p><p>In VSwap mode, all beancounters other than RAM and swap become optional. Note though that if some optional beancounters are not set, they are calculated and set by vzctl implicitly, using the following formulae:</p><p><strong>&bull; lockedpages.barrier = oomguarpages.barrier = ram</strong></p><p><strong>&bull; lockedpages.limit = oomguarpages.limit = unlimited</strong></p><p><strong>&bull; vmguarpages.barrier = vmguarpages.limit = ram + swap</strong></p><p><strong>&bull; privvmpages.barrier = privvmpages.limit = (ram + swap) * vm_overcommit</strong></p><p>(if <strong>vm_overcommit</strong> is <strong>0</strong> or not set, <strong>privvmpages</strong> is set to "unlimited")</p><p>Here is an example of setting container 777 to have 512 megabytes of RAM and 1 gigabyte of swap:</p>
<pre>
   vzctl set 777 --ram 512M --swap 1G --save
</pre>
<p>The following options sets barrier and limit for various user beancounters.</p><p>Note that for VSwap-enabled kernels (version 042stab042 or greater) these limits are optional, you must only set <strong>--ram</strong> and <strong>--swap</strong> (see above). For older kernels, these limits are obligatory.</p><p>Each option requires one or two arguments. In case of one argument, <strong>vzctl</strong> sets barrier and limit to the same value. In case of two colon-separated arguments, the first is a barrier, and the second is a limit. Each argument is either a number, a number with a suffix, or a special value <strong>unlimited</strong>.</p><p>Arguments are in items, pages or bytes. Note that page size is architecture-specific, it is 4096 bytes on x86 and x86_64 platforms.</p><p>You can also specify different suffixes for User Beancounter parameters (except for those which names start with <strong>num</strong>). For example, <strong>vzctl set</strong> <em>CTID</em> <strong>--privvmpages 5M:6M</strong> should set <strong>privvmpages</strong>' barrier to 5 megabytes and its limit to 6 megabytes.</p><p>Available suffixes are:</p><p>&bull; <strong>T</strong>, <strong>t</strong>	- terabytes;</p><p>&bull; <strong>G</strong>, <strong>g</strong>	- gigabytes;</p><p>&bull; <strong>M</strong>, <strong>m</strong>	- megabytes;</p><p>&bull; <strong>K</strong>, <strong>k</strong>	- kilobytes;</p><p>&bull; <strong>P</strong>, <strong>p</strong>	- memory pages (arch-specific, usually 4KB);</p><p>&bull; <strong>B</strong>, <strong>b</strong>	- bytes.</p><p>You can also specify the literal word <strong>unlimited</strong> in place of a number. In that case the corresponding value will be set to <strong>LONG_MAX</strong>, i. e. the maximum possible value.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--numproc</strong> <em>items</em>[:<em>items</em>]</p>
  </dt>
  <dd>
    <p>Maximum number of processes and kernel-level threads. Setting the barrier and the limit to different values does not make practical sense.</p>
  </dd>
  <dt>
    <p><strong>--numtcpsock</strong> <em>items</em>[:<em>items</em>]</p>
  </dt>
  <dd>
    <p>Maximum number of TCP sockets. This parameter limits the number of TCP connections and, thus, the number of clients the server application can handle in parallel. Setting the barrier and the limit to different values does not make practical sense.</p>
  </dd>
  <dt>
    <p><strong>--numothersock</strong> <em>items</em>[:<em>items</em>]</p>
  </dt>
  <dd>
    <p>Maximum number of non-TCP sockets (local sockets, UDP and other types of sockets). Setting the barrier and the limit to different values does not make practical sense.</p>
  </dd>
  <dt>
    <p><strong>--vmguarpages</strong> <em>pages</em>[:<em>pages</em>]</p>
  </dt>
  <dd>
    <p>Memory allocation guarantee. This parameter controls how much memory is available to a container. The barrier is the amount of memory that container's applications are guaranteed to be able to allocate. The meaning of the limit is currently unspecified; it should be set to <strong>unlimited</strong>.</p>
  </dd>
  <dt>
    <p><strong>--kmemsize</strong> <em>bytes</em>[:<em>bytes</em>]</p>
  </dt>
  <dd>
    <p>Maximum amount of kernel memory used. This parameter is related to <strong>--numproc</strong>. Each process consumes certain amount of kernel memory - 16 KB at least, 30-50 KB typically. Very large processes may consume a bit more. It is important to have a certain safety gap between the barrier and the limit of this parameter: equal barrier and limit may lead to the situation where the kernel will need to kill container's applications to keep the <strong>kmemsize</strong> usage under the limit.</p>
  </dd>
  <dt>
    <p><strong>--tcpsndbuf</strong> <em>bytes</em>[:<em>bytes</em>]</p>
  </dt>
  <dd>
    <p>Maximum size of TCP send buffers. Barrier should be not less than 64 KB, and difference between barrier and limit should be equal to or more than value of <strong>numtcpsock</strong> multiplied by 2.5 KB.</p>
  </dd>
  <dt>
    <p><strong>--tcprcvbuf</strong> <em>bytes</em>[:<em>bytes</em>]</p>
  </dt>
  <dd>
    <p>Maximum size of TCP receive buffers. Barrier should be not less than 64 KB, and difference between barrier and limit should be equal to or more than value of <strong>numtcpsock</strong> multiplied by 2.5 KB.</p>
  </dd>
  <dt>
    <p><strong>--othersockbuf</strong> <em>bytes</em>[:<em>bytes</em>]</p>
  </dt>
  <dd>
    <p>Maximum size of other (non-TCP) socket send buffers. If container's processes needs to send very large datagrams, the barrier should be set accordingly. Increased limit is necessary for high performance of communications through local (UNIX-domain) sockets.</p>
  </dd>
  <dt>
    <p><strong>--dgramrcvbuf</strong> <em>bytes</em>[:<em>bytes</em>]</p>
  </dt>
  <dd>
    <p>Maximum size of other (non-TCP) socket receive buffers. If container's processes needs to receive very large datagrams, the barrier should be set accordingly. The difference between the barrier and the limit is not needed.</p>
  </dd>
  <dt>
    <p><strong>--oomguarpages</strong> <em>pages</em>[:<em>pages</em>]</p>
  </dt>
  <dd>
    <p>Guarantees against OOM kill. Under this beancounter the kernel accounts the total amount of memory and swap space used by the container's processes. The barrier of this parameter is the out-of-memory guarantee. If the <strong>oomguarpages</strong> usage is below the barrier, processes of this container are guaranteed not to be killed in out-of-memory situations. The meaning of limit is currently unspecified; it should be set to <strong>unlimited</strong>.</p>
  </dd>
  <dt>
    <p><strong>--lockedpages</strong> <em>pages</em>[:<em>pages</em>]</p>
  </dt>
  <dd>
    <p>Maximum number of pages acquired by <a href="../man2/mlock.2.html"><strong>mlock</strong>(2)</a>.</p>
  </dd>
  <dt>
    <p><strong>--privvmpages</strong> <em>pages</em>[:<em>pages</em>]</p>
  </dt>
  <dd>
    <p>Allows controlling the amount of memory allocated by the applications. For shared (mapped as <strong>MAP_SHARED</strong>) pages, each container really using a memory page is charged for the fraction of the page (depending on the number of others using it). For "potentially private" pages (mapped as <strong>MAP_PRIVATE</strong>), container is charged either for a fraction of the size or for the full size if the allocated address space. In the latter case, the physical pages associated with the allocated address space may be in memory, in swap or not physically allocated yet.</p><p>The barrier and the limit of this parameter control the upper boundary of the total size of allocated memory. Note that this upper boundary does not guarantee that container will be able to allocate that much memory. The primary mechanism to control memory allocation is the <strong>--vmguarpages</strong> guarantee.</p>
  </dd>
  <dt>
    <p><strong>--shmpages</strong> <em>pages</em>[:<em>pages</em>]</p>
  </dt>
  <dd>
    <p>Maximum IPC SHM segment size. Setting the barrier and the limit to different values does not make practical sense.</p>
  </dd>
  <dt>
    <p><strong>--numfile</strong> <em>items</em>[:<em>items</em>]</p>
  </dt>
  <dd>
    <p>Maximum number of open files. In most cases the barrier and the limit should be set to the same value. Setting the barrier to <strong>0</strong> effectively disables pre-charging optimization for this beancounter in the kernel, which leads to the held value being precise but could slightly degrade file open performance.</p>
  </dd>
  <dt>
    <p><strong>--numflock</strong> <em>items</em>[:<em>items</em>]</p>
  </dt>
  <dd>
    <p>Maximum number of file locks. Safety gap should be between barrier and limit.</p>
  </dd>
  <dt>
    <p><strong>--numpty</strong> <em>items</em>[:<em>items</em>]</p>
  </dt>
  <dd>
    <p>Number of pseudo-terminals (PTY). Note that in OpenVZ each container can have not more than 255 PTYs. Setting the barrier and the limit to different values does not make practical sense.</p>
  </dd>
  <dt>
    <p><strong>--numsiginfo</strong> <em>items</em>[:<em>items</em>]</p>
  </dt>
  <dd>
    <p>Number of siginfo structures. Setting the barrier and the limit to different values does not make practical sense.</p>
  </dd>
  <dt>
    <p><strong>--dcachesize</strong> <em>bytes</em>[:<em>bytes</em>]</p>
  </dt>
  <dd>
    <p>Maximum size of filesystem-related caches, such as directory entry and inode caches. Exists as a separate parameter to impose a limit causing file operations to sense memory shortage and return an errno to applications, protecting from memory shortages during critical operations that should not fail. Safety gap should be between barrier and limit.</p>
  </dd>
  <dt>
    <p><strong>--numiptent</strong> <em>num</em>[:<em>num</em>]</p>
  </dt>
  <dd>
    <p>Number of iptables (netfilter) entries. Setting the barrier and the limit to different values does not make practical sense.</p>
  </dd>
  <dt>
    <p><strong>--physpages</strong> <em>pages</em>[:<em>pages</em>]</p>
  </dt>
  <dd>
    <p>On VSwap-enabled kernels, this limits the amount of physical memory (RAM) available to a container. The barrier should be set to <strong>0</strong>, and the limit to a total size of RAM that can be used used by a container.</p><p>For older kernels, this is an accounting-only parameter, showing the usage of RAM by this container. Barrier should be set to <strong>0</strong>, and limit should be set to <strong>unlimited</strong>.</p>
  </dd>
  <dt>
    <p><strong>--swappages</strong> <em>pages</em>[:<em>pages</em>]</p>
  </dt>
  <dd>
    <p>For VSwap-enabled kernels (042stab042 or greater), this parameter limits the amount of swap space available to a container. The barrier should be set to <strong>0</strong>, and the limit to a total size of swap that can be used by a container.</p><p>For older (pre-VSwap) kernels, the limit is used to show a total amount of swap space available inside the container. The barrier of this parameter is ignored. The default value is <strong>unlimited</strong>, meaning total swap will be reported as 0.</p>
  </dd>

</dl>
<p>These parameters control CPU usage by container.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--cpuunits</strong> <em>num</em></p>
  </dt>
  <dd>
    <p>CPU weight for a container. Argument is positive non-zero number, passed to and used in the kernel fair scheduler. The larger the number is, the more CPU time this container gets. Maximum value is 500000, minimal is 8. Number is relative to weights of all the other running containers. If <strong>cpuunits</strong> are not specified, default value of 1000 is used.</p><p>You can set CPU weight for CT0 (host system itself) as well (use <strong>vzctl set 0 --cpuunits </strong><em>num</em>). Usually, OpenVZ initscript (<strong>/etc/init.d/vz</strong>) takes care of setting this.</p>
  </dd>
  <dt>
    <p><strong>--cpulimit</strong> <em>num</em>[<strong>%</strong>]</p>
  </dt>
  <dd>
    <p>Limit of CPU usage for the container, in per cent. Note if the computer has 2 CPUs, it has total of 200% CPU time. Default CPU limit is <strong>0</strong> (no CPU limit).</p>
  </dd>
  <dt>
    <p><strong>--cpus</strong> <em>num</em></p>
  </dt>
  <dd>
    <p>sets number of CPUs available in the container.</p>
  </dd>
  <dt>
    <p><strong>--cpumask</strong> <em>cpus</em> | <strong>auto</strong> | <strong>all</strong></p>
  </dt>
  <dd>
    <p>Sets list of allowed CPUs for the container. Input format is a comma-separated list of decimal numbers and/or ranges. Consecutively set bits are shown as two hyphen-separated decimal numbers, the smallest and largest bit numbers set in the range. For example, if you want the container to execute on CPUs 0, 1, 2, 7, you should pass <strong>0-2,7</strong>. Default value is <strong>all</strong> (the container can execute on any CPU). If used with the <strong>--nodemask</strong> option, value of <strong>auto</strong> assigns all CPUs from the specified NUMA node to a container.</p>
  </dd>
  <dt>
    <p><strong>--nodemask</strong> <em>nodes</em> | <strong>all</strong></p>
  </dt>
  <dd>
    <p>Sets list of allowed NUMA nodes for the container. Input format is the same as for <strong>--cpumask</strong>. Note that <strong>--nodemask</strong> must be used with the <strong>--cpumask</strong> option.</p>
  </dd>

</dl>
<p>For VSwap-enabled kernels (042stab042 or greater), this parameter is ignored. For older kernels, it controls the output of /proc/meminfo inside a container.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--meminfo</strong> <strong>none</strong></p>
  </dt>
  <dd>
    <p>No /proc/meminfo virtualization (the same as on host system).</p>
  </dd>
  <dt>
    <p><strong>--meminfo</strong> <em>mode</em>:<em>value</em></p>
  </dt>
  <dd>
    <p>Configure total memory output in a container. Reported free memory is evaluated accordingly to the mode being set. Reported swap is evaluated according to the settings of <strong>--swappages</strong> parameter.</p><p>You can use the following modes for <em>mode</em>:</p><p> &bull; <strong>pages</strong>:<em>value</em> - sets total memory in pages;</p><p> &bull; <strong>privvmpages</strong>:<em>value</em> - sets total memory as <strong>privvmpages</strong> * <em>value</em>.</p><p>Default is <strong>privvmpages:1</strong>.</p>
  </dd>
  <dt>
    <p><strong>--netfilter</strong>disabled<strong>|</strong>stateless<strong>|</strong>stateful<strong>|</strong>full</p>
  </dt>
  <dd>
    <p>Restrict access to netfilter/iptables modules for a container. This option replaces obsoleted <strong>--iptables</strong>.</p><p>Note that changing this parameter requires container restart, so consider using <strong>--setmode</strong> option.</p><p>The following arguments can be used:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&bull; disabled</strong></p>
  </dt>
  <dd>
    <p>no modules are allowed</p>
  </dd>
  <dt>
    <p><strong>&bull; stateless</strong></p>
  </dt>
  <dd>
    <p>all modules except NAT and conntracks are allowed (i.e. filter and mangle); this is the default</p>
  </dd>
  <dt>
    <p><strong>&bull; stateful</strong></p>
  </dt>
  <dd>
    <p>all modules except NAT are allowed</p>
  </dd>
  <dt>
    <p><strong>&bull; full</strong></p>
  </dt>
  <dd>
    <p>all modules are allowed</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--iptables</strong> <em>name</em>[<strong>,</strong>...]</p>
  </dt>
  <dd>
    <p><strong>Note</strong> this option is obsoleted, <strong>--netfilter</strong> should be used instead.</p><p>Allow to use the functionality of <em>name</em> iptables module inside the container. Multiple comma-separated <em>name</em>s can be specified.</p><p>The default list of enabled iptables modules is defined by the <strong>IPTABLES</strong> variable in <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a>.</p><p>You can use the following values for <em>name</em>: <strong>iptable_filter</strong>, <strong>iptable_mangle</strong>, <strong>ipt_limit</strong>, <strong>ipt_multiport</strong>, <strong>ipt_tos</strong>, <strong>ipt_TOS</strong>, <strong>ipt_REJECT</strong>, <strong>ipt_TCPMSS</strong>, <strong>ipt_tcpmss</strong>, <strong>ipt_ttl</strong>, <strong>ipt_LOG</strong>, <strong>ipt_length</strong>, <strong>ip_conntrack</strong>, <strong>ip_conntrack_ftp</strong>, <strong>ip_conntrack_irc</strong>, <strong>ipt_conntrack</strong>, <strong>ipt_state</strong>, <strong>ipt_helper</strong>, <strong>iptable_nat</strong>, <strong>ip_nat_ftp</strong>, <strong>ip_nat_irc</strong>, <strong>ipt_REDIRECT</strong>, <strong>xt_mac</strong>, <strong>ipt_recent</strong>, <strong>ipt_owner</strong>.</p>
  </dd>
  <dt>
    <p><strong>--netdev_add</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>move network device from the host system to a specified container</p>
  </dd>
  <dt>
    <p><strong>--netdev_del</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>delete network device from a specified container</p>
  </dd>
  <dt>
    <p><strong>--diskquota</strong> <strong>yes</strong> | <strong>no</strong></p>
  </dt>
  <dd>
    <p>allows to enable or disable disk quota for a container. By default, a global value (<strong>DISK_QUOTA</strong>) from <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a> is used.</p><p>Note that this parameter is ignored for <strong>ploop</strong> layout.</p>
  </dd>
  <dt>
    <p><strong>--diskspace</strong> <em>num</em>[:<em>num</em>]</p>
  </dt>
  <dd>
    <p>For <strong>simfs</strong> layout, sets soft and hard disk quota limits. First parameter is soft limit, second is hard limit.</p><p>For <strong>ploop</strong> layout, initiates the procedure of resizing the ploop image file to the new size. Since there is no soft/hard limit concept in ploop, second <em>num</em>, if specified, is ignored.</p><p>By default, ploop resize is done online, i.e. on a mounted ploop. This is a preferred way of doing resize. Although, in a rare case a container was using lots of disk space and should now be resized to a much smaller size, an offline resize might be more appropriate. In this case, make sure the container is stopped and unmounted and use additional <strong>--offline-resize</strong> option</p><p>Note that ploop resize is NOT performed on container start, so for consistency <strong>--diskspace</strong> must be used together with <strong>--save</strong> flag.</p><p>Suffixes <strong>G</strong>, <strong>M</strong>, <strong>K</strong> can also be specified (see <strong>Resource limits</strong> section for more info on suffixes). If suffix is not specified, value is in kilobytes.</p>
  </dd>
  <dt>
    <p><strong>--diskinodes</strong> <em>num</em>[:<em>num</em>]</p>
  </dt>
  <dd>
    <p>sets soft and hard disk quota limits, in i-nodes. First parameter is soft limit, second is hard limit.</p><p>Note that this parameter is ignored for <strong>ploop</strong> layout.</p>
  </dd>
  <dt>
    <p><strong>--quotatime</strong> <em>seconds</em></p>
  </dt>
  <dd>
    <p>sets quota grace period. Container is permitted to exceed its soft limits for the grace period, but once it has expired, the soft limit is enforced as a hard limit.</p><p>Note that this parameter is ignored for <strong>ploop</strong> layout.</p>
  </dd>
  <dt>
    <p><strong>--quotaugidlimit</strong> <em>num</em></p>
  </dt>
  <dd>
    <p>Enables or disables in-container per-user and per-group disk quotas. If the value is set to <strong>0</strong> or not set, disk quotas inside the container is disabled and not accounted.</p><p>For <strong>simfs</strong> layout containers, non-zero value sets maximum number of user/group IDs for which disk quota is accounted.</p><p>For <strong>ploop</strong> layout containers, any non-zero value enables disk quota inside the container; the number of user/group IDs used by disk quota is not limited by OpenVZ.</p><p>Note that enabling or disabling in-container disk quotas requires container restart, so consider using <strong>--setmode</strong> option.</p>
  </dd>
  <dt>
    <p><strong>--capability</strong> <em>capname</em>:<strong>on</strong>|<strong>off</strong>[<strong>,</strong>...]</p>
  </dt>
  <dd>
    <p>Sets a capability for a container. Multiple comma-separated capabilities can be specified.</p><p>Note that setting a capability when the container is running does not take immediate effect; restart the container in order for the changes to take effect (consider using <strong>--setmode</strong> option).</p><p>A container has the default set of capabilities, thus any operation on capabilities is "logical AND" with the default capability mask.</p><p>You can use the following values for <em>capname</em>: <strong>chown</strong>, <strong>dac_override</strong>, <strong>dac_read_search</strong>, <strong>fowner</strong>, <strong>fsetid</strong>, <strong>kill</strong>, <strong>setgid</strong>, <strong>setuid</strong>, <strong>setpcap</strong>, <strong>linux_immutable</strong>, <strong>net_bind_service</strong>, <strong>net_broadcast</strong>, <strong>net_admin</strong>, <strong>net_raw</strong>, <strong>ipc_lock</strong>, <strong>ipc_owner</strong>, <strong>sys_module</strong>, <strong>sys_rawio</strong>, <strong>sys_chroot</strong>, <strong>sys_ptrace</strong>, <strong>sys_pacct</strong>, <strong>sys_admin</strong>, <strong>sys_boot</strong>, <strong>sys_nice</strong>, <strong>sys_resource</strong>, <strong>sys_time</strong>, <strong>sys_tty_config</strong>, <strong>mknod</strong>, <strong>lease</strong>, <strong>setveid</strong>, <strong>ve_admin</strong>. For detailed description, see <a href="../man7/capabilities.7.html"><strong>capabilities</strong>(7)</a>.</p><p><strong>WARNING</strong>: setting some of those capabilities may have far reaching security implications, so do not do it unless you know what you are doing. Also note that setting <strong>setpcap:on</strong> for a container will most probably lead to inability to start it.</p>
  </dd>
  <dt>
    <p><strong>--devnodes</strong> <em>device</em>:[<strong>r</strong>][<strong>w</strong>][<strong>q</strong>]|<strong>none</strong></p>
  </dt>
  <dd>
    <p>Give the container an access (<strong>r</strong> - read, <strong>w</strong> - write, <strong>q</strong> - disk quota management, <strong>none</strong> - no access) to a device designated by the special file /dev/<em>device</em>. Device file is created in a container by <strong>vzctl</strong>. Example:</p>
<pre>
   vzctl set 777 --devnodes sdb:rwq
</pre>

  </dd>
  <dt>
    <p><strong>--devices</strong> <strong>b</strong>|<strong>c</strong>:<em>major</em>:<em>minor</em>|<strong>all</strong>:[<strong>r</strong>][<strong>w</strong>][<strong>q</strong>]|<strong>none</strong></p>
  </dt>
  <dd>
    <p>Give the container an access to a <strong>b</strong>lock or <strong>c</strong>haracter device designated by its <em>major</em> and <em>minor</em> numbers. Device file have to be created manually.</p>
  </dd>
  <dt>
    <p><strong>--pci_add</strong> [<em>domain</em>:]<em>bus</em>:<em>slot</em>.<em>func</em></p>
  </dt>
  <dd>
    <p>Give the container an access to a specified PCI device. All numbers are hexadecimal (as printed by <a href="../man8/lspci.8.html"><strong>lspci</strong>(8)</a> in the first column).</p>
  </dd>
  <dt>
    <p><strong>--pci_del</strong> [<em>domain</em>:]<em>bus</em>:<em>slot</em>.<em>func</em></p>
  </dt>
  <dd>
    <p>Delete a PCI device from the container.</p><p>Note that <strong>vps-pci</strong> configuration script is executed by <strong>vzctl</strong> then configuring PCI devices. The script is usually located at <strong>/usr/lib/vzctl/vzctl/scripts/</strong>.</p>
  </dd>
  <dt>
    <p><strong>--features</strong> <em>name</em>:<strong>on</strong>|<strong>off</strong>[<strong>,</strong>...]</p>
  </dt>
  <dd>
    <p>Enable or disable a specific container feature. Known features are: <strong>sysfs</strong>, <strong>nfs</strong>, <strong>sit</strong>, <strong>ipip</strong>, <strong>ppp</strong>, <strong>ipgre</strong>, <strong>bridge</strong>, <strong>nfsd</strong>. A few features can be specified at once, comma-separated.</p>
  </dd>
  <dt>
    <p><strong>--applyconfig</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Read container parameters from the container sample configuration file <strong>/etc/vz/conf/ve-</strong><em>name</em><strong>.conf-sample</strong>, and apply them, if <strong>--save</strong> option specified save to the container config file. The following parameters are not changed: <strong>HOSTNAME</strong>, <strong>IP_ADDRESS</strong>, <strong>OSTEMPLATE</strong>, <strong>VE_ROOT</strong>, and <strong>VE_PRIVATE</strong>.</p>
  </dd>
  <dt>
    <p><strong>--applyconfig_map</strong> <em>group</em></p>
  </dt>
  <dd>
    <p>Apply container config parameters selected by <em>group</em>. Now the only possible value for <em>group</em> is <strong>name</strong>: to restore container name based on <strong>NAME</strong> variable in container configuration file.</p>
  </dd>
  <dt>
    <p><strong>--ioprio</strong> <em>priority</em></p>
  </dt>
  <dd>
    <p>Assigns disk I/O priority to container. <em>Priority</em> range is <strong>0-7</strong>. The greater <em>priority</em> is, the more time for I/O activity container has. By default each container has <em>priority</em> of <strong>4</strong>.</p>
  </dd>
  <dt>
    <p><strong>--iolimit</strong> <em>limit</em>[<strong>B</strong>|<strong>K</strong>|<strong>M</strong>|<strong>G</strong>]</p>
  </dt>
  <dd>
    <p>Assigns disk I/O bandwidth limit for a container. Value is either a number with an optional suffix, or a literal string <strong>unlimited</strong>. Value of <strong>0</strong> means "unlimited". By default a container has no I/O limit. Maximum allowed limit is 2 gigabytes per second; values exceeding the limit are truncated.</p><p>If no suffix is provided, the <em>limit</em> is assumed to be in megabytes per second. Available suffixes are:</p><p>&bull; <strong>b</strong>, <strong>B</strong> -- bytes per second;</p><p>&bull; <strong>k</strong>, <strong>K</strong> -- kilobytes per second;</p><p>&bull; <strong>m</strong>, <strong>M</strong> -- megabytes per second (default);</p><p>&bull; <strong>g</strong>, <strong>G</strong> -- gigabytes per second;</p>
  </dd>
  <dt>
    <p><strong>--iopslimit</strong> <em>iops</em></p>
  </dt>
  <dd>
    <p>Assigns IOPS limit for a container, in number of input/output operations per second. Value is a number or a literal string <strong>unlimited</strong>. Value of <strong>0</strong> means "unlimited". By default a container has no IOPS limit.</p>
  </dd>

</dl>

<h3>Suspending and resuming</h3>
<p>Checkpointing is a feature of OpenVZ kernel which allows to save a complete in-kernel state of a running container, and to restore it later.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>suspend</strong>|<strong>chkpnt</strong> <em>CTID</em> [<strong>--dumpfile</strong> <em>name</em>]</p>
  </dt>
  <dd>
    <p>This command suspends a container to a dump file If an option <strong>--dumpfile</strong> is not set, default dump file name <strong>/var/lib/vz/dump/Dump.</strong><em>CTID</em> is used.</p>
  </dd>
  <dt>
    <p><strong>resume</strong>|<strong>restore</strong> <em>CTID</em> [<strong>--dumpfile</strong> <em>name</em>]</p>
  </dt>
  <dd>
    <p>This command restores a container from the dump file created by the <strong>suspend</strong> command.</p>
  </dd>

</dl>

<h3>Snapshotting</h3>
<p>Snapshotting is a feature based on checkpointing and ploop shapshots. It allows to save a complete state of container file system. Plus, if the container is running, it's in-memory state (as in checkpointing). Note that snapshot functionality is only working for containers on ploop device.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>snapshot</strong> <em>CTID</em> [<strong>--id </strong><em>uuid</em>] [<strong>--name </strong><em>name</em>] [<strong>--description </strong><em>desc</em>] [<strong>--skip-suspend</strong>] [<strong>--skip-config</strong>]</p>
  </dt>
  <dd>
    <p>Creates a container snapshot, i.e. saves the current container state, including its file system state, running processes state, and configuration file.</p><p>If a container is running, and <strong>--skip-suspend</strong> option is not specified, a container is checkpointed and then restored, and CT memory dump becomes the part of snapshot.</p><p>Unless <strong>--skip-config</strong> option is given, container configuration file is saved to the snapshot.</p><p>If <em>uuid</em> is not specified, it is auto-generated. Options <strong>--name</strong> and <strong>--description</strong> can be used to specify the snapshot name and description, respectively. Name is displayed by <strong>snapshot-list</strong>.</p>
  </dd>
  <dt>
    <p><strong>snapshot-switch</strong> <em>CTID</em> [<strong>--skip-resume</strong> | <strong>--must-resume</strong>] [<strong>--skip-config</strong>] <strong>--id</strong> <em>uuid</em></p>
  </dt>
  <dd>
    <p>Switches the container to a snapshot identified by <em>uuid</em>, restoring its file system state, configuration (if available) and its running state (if available).</p><p><strong>Note that the current state of a container (including</strong> <strong>its file system state and its configuration file) is lost!</strong></p><p>Option <strong>--skip-resume</strong> is used to ignore a CT memory dump file in a snapshot, as a result the container will end up being in a stopped state (same as if a snapshot has been taken with <strong>--skip-suspend</strong>).</p><p>If option <strong>--must-resume</strong> is set, absense of a memory dump is treated as an error, and the inability to restore from the memory dump is treated as an error rather than warning.</p><p>Option option <strong>--skip-config</strong> is used to ignore the CT configuration file in a snapshot, i.e. the current configuration file will be left as is.</p>
  </dd>
  <dt>
    <p><strong>snapshot-delete</strong> <em>CTID</em> <strong>--id</strong> <em>uuid</em></p>
  </dt>
  <dd>
    <p>Removes a specified snapshot.</p>
  </dd>
  <dt>
    <p><strong>snapshot-mount</strong> <em>CTID</em> <strong>--id</strong> <em>uuid</em> <strong>--target</strong> <em>directory</em></p>
  </dt>
  <dd>
    <p>Mounts a snapshot specified by <em>uuid</em> to a <em>directory</em>. Note this mount is read-only.</p>
  </dd>
  <dt>
    <p><strong>snapshot-umount</strong> <em>CTID</em> <strong>--id</strong> <em>uuid</em></p>
  </dt>
  <dd>
    <p>Unmounts a specified snapshot.</p>
  </dd>
  <dt>
    <p><strong>snapshot-list</strong> <em>CTID</em> [<strong>-H</strong>] [<strong>-o</strong> <em>field</em>[,<em>field</em>...] [<strong>--id</strong> <em>uuid</em>]</p>
  </dt>
  <dd>
    <p>List container's snapshots.</p><p>You can suppress displaying header using <strong>-H</strong> option.</p><p>You can use the <strong>-o</strong> option to display only the specified <em>field</em>(s). List of available fields can be obtained using <strong>-L</strong> option.</p>
  </dd>

</dl>

<h3>Performing container actions</h3>
<p><em>CTID</em></p>
<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    <p>Creates a new container area. This operation should be done once, before the first start of the container.</p><p>By default, an OS template denoted by <strong>DEF_OSTEMPLATE</strong> parameter of <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a> is used to create a container. This can be overwritten by <strong>--ostemplate</strong> option.</p><p>By default, a new container configuration file is created from a sample configuration denoted by value of <strong>CONFIGFILE</strong> parameter of <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a>. If the container configuration file already exists, it will not be modified.</p><p>The value of <strong>CONFIGFILE</strong> can be overwritten by using the <strong>--config</strong> <em>name</em> option. This option can not be used if the container configuration file already exists.</p><p>A new container can either be created using <strong>simfs</strong> filesystem or on a <strong>ploop</strong> device. The default is set by value of <strong>VE_LAYOUT</strong> parameter of <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a> and can be overwritten by <strong>--layout</strong> option. In case <strong>ploop</strong> is used, one can additionally specify ploop disk image format after a colon. Possible ploop formats are <strong>expanded</strong>, <strong>plain</strong> and <strong>raw</strong>. Default is <strong>expanded</strong>. Using value other than <strong>expanded</strong> is not recommended and is currently not supported.</p><p>You can use <strong>--diskspace</strong> and <strong>--diskinodes</strong> options to specify container file system size. Note that for <strong>ploop</strong> layout, you will not be able to change inodes value later.</p><p>If <strong>DISKSPACE</strong> is not specified either in the sample configuration file used for creation or in global configuration file <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a>, <strong>--diskspace</strong> parameter is required for <strong>ploop</strong> layout.</p><p>Suffixes <strong>G</strong>, <strong>M</strong>, <strong>K</strong> can also be specified (see <strong>Resource limits</strong> section for more info on suffixes).</p><p>You can use <strong>--root</strong> <em>path</em> option to sets the path to the mount point for the container root directory (default is <strong>VE_ROOT</strong> specified in <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a> file). Argument can contain literal string <strong>$VEID</strong>, which will be substituted with the numeric CT ID.</p><p>You can use <strong>--private</strong> <em>path</em> option to set the path to directory in which all the files and directories specific to this very container are stored (default is <strong>VE_PRIVATE</strong> specified in <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a> file). Argument can contain literal string <strong>$VEID</strong>, which will be substituted with the numeric CT ID.</p><p>You can use <strong>--ipadd</strong> <em>addr</em> option to assign an IP address to a container. Note that this option can be used multiple times.</p><p>You can use <strong>--hostname</strong> <em>name</em> option to set a host name for a container.</p><p>When running with an upstream Linux Kernel that supports user namespaces (&gt;= 3.8), the parameters <strong>--local_uid</strong> and <strong>--local_gid</strong> can be used to select which <em>uid</em> and <em>gid</em> respectively will be used as a base user in the host system. Note that user namespaces provide a 1:1 mapping between container users and host users. If these options are not specified, the values <strong>LOCAL_UID</strong> and <strong>LOCAL_GID</strong> from global configuration file <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a> are used. An explicit <strong>--local_uid</strong> value of 0 will disable user namespace support, and run the container as a privileged user. In this case, <strong>--local_gid</strong> is ignored.</p><p><strong>Warning:</strong> use <strong>--local_uid</strong> and <strong>--local_gid</strong> with care, specially when migrating containers. In all situations, the container's files in the filesystem needs to be correctly owned by the host-side users.</p>
  </dd>
  <dt>
    <strong>destroy</strong> | <strong>delete</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Removes a container private area by deleting all files, directories and the configuration file of this container.</p>
  </dd>
  <dt>
    <strong>start</strong> <em>CTID</em> [<strong>--wait</strong>] [<strong>--force</strong>] [<strong>--skip-fsck</strong>] [<strong>--skip-remount</strong>]
  </dt>
  <dd>
    <p>Mounts (if necessary) and starts a container. Unless <strong>--wait</strong> option is specified, <strong>vzctl</strong> will return immediately; otherwise an attempt to wait till the default runlevel is reached will be made by <strong>vzctl</strong>.</p><p>Specify <strong>--force</strong> if you want to start a container which is disabled (see <strong>--disabled</strong>).</p><p>Specify <strong>--skip-fsck</strong> to skip fsck for ploop-based container filesystem (this option is used by vz initscript).</p><p>By default, if a container to be started happens to be already mounted, it is unmounted and mounted again. This behavior can be turned off by using <strong>--skip-remount</strong> flag.</p><p>Note that this command can lead to execution of <strong>premount</strong>, <strong>mount</strong> and <strong>start</strong> action scripts (see <strong>ACTION SCRIPTS</strong> below).</p>
  </dd>
  <dt>
    <strong>stop</strong> <em>CTID</em> [<strong>--fast</strong>] [<strong>--skip-umount</strong>]
  </dt>
  <dd>
    <p>Stops a container and unmounts it (unless <strong>--skip-umount</strong> is given). Normally, <a href="../man8/halt.8.html"><strong>halt</strong>(8)</a> is executed inside a container; option <strong>--fast</strong> makes <strong>vzctl</strong> use <a href="../man2/reboot.2.html"><strong>reboot</strong>(2)</a> syscall instead which is faster but can lead to unclean container shutdown.</p><p>Note that <strong>vzctl stop</strong> is not asyncronous, in other words vzctl waits for container's init to exit (unless <strong>--fast</strong> is given), which can take up to a few minutes. Default wait timeout is 120 seconds; it can be changed globally, by setting <strong>STOP_TIMEOUT</strong> in <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a>, or per container (<strong>STOP_TIMEOUT</strong> in <a href="../man5/ctid.conf.5.html"><strong>ctid.conf</strong>(5)</a>, see <strong>--stop-timeout</strong>).</p><p>Note that this command can lead to execution of <strong>stop</strong>, <strong>umount</strong> and <strong>postumount</strong> action scripts (see <strong>ACTION SCRIPTS</strong> below).</p>
  </dd>
  <dt>
    <strong>restart</strong> <em>CTID</em> [<strong>--wait</strong>] [<strong>--force</strong>] [<strong>--fast</strong>] [<strong>--skip-fsck</strong>]
  </dt>
  <dd>
    <p>Restarts a container, i.e. stops it if it is running, and starts again. Accepts all the <strong>start</strong> and <strong>stop</strong> options.</p><p>Note that this command can lead to execution of some action scripts (see <strong>ACTION SCRIPTS</strong> below).</p>
  </dd>
  <dt>
    <strong>status</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Shows a container status. This is a line with five or six words, separated by spaces.</p><p>First word is literally <strong>CTID</strong>.</p><p>Second word is the numeric <em>CT ID</em>.</p><p>Third word is showing whether this container exists or not, it can be either <strong>exist</strong> or <strong>deleted</strong>.</p><p>Fourth word is showing the status of the container filesystem, it can be either <strong>mounted</strong> or <strong>unmounted</strong>.</p><p>Fifth word shows if the container is running, it can be either <strong>running</strong> or <strong>down</strong>.</p><p>Sixth word, if exists, is <strong>suspended</strong>. It appears if a dump file exists for a stopped container (see <strong>suspend</strong>).</p><p>This command can also be usable from scripts.</p>
  </dd>
  <dt>
    <strong>mount</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Mounts container private area. Note that this command can lead to execution of <strong>premount</strong> and <strong>mount</strong> action scripts (see <strong>ACTION SCRIPTS</strong> below).</p>
  </dd>
  <dt>
    <strong>umount</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Unmounts container private area. Note that this command can lead to execution of <strong>umount</strong> and <strong>postumount</strong> action scripts (see <strong>ACTION SCRIPTS</strong> below).</p><p>Note that <strong>stop</strong> does <strong>umount</strong> automatically.</p>
  </dd>
  <dt>
    <strong>convert</strong> <em>CTID</em> [<strong>--layout ploop</strong>[<strong>:</strong>{<strong>expanded</strong>|<strong>plain</strong>|<strong>raw</strong>}]]
  </dt>
  <dd>
    <p>Convert CT private area to reside on a ploop device (available in kernel version 042stab052.8 and greater). Conversion should be performed when a container is stopped, plus disk space quota should be set.</p>
  </dd>
  <dt>
    <strong>compact</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Compact container image. This only makes sense for ploop layout.</p>
  </dd>
  <dt>
    <strong>quotaon</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Turn disk quota on. Not that <strong>mount</strong> and <strong>start</strong> does that automatically.</p>
  </dd>
  <dt>
    <strong>quotaoff</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Turn disk quota off. Not that <strong>umount</strong> and <strong>stop</strong> does that automatically.</p>
  </dd>
  <dt>
    <strong>quotainit</strong> <em>CTID</em>
  </dt>
  <dd>
    <p>Initialize disk quota (i.e. run <strong>vzquota init</strong>) with the parameters taken from the CT configuration file <a href="../man5/ctid.conf.5.html"><strong>ctid.conf</strong>(5)</a>.</p>
  </dd>
  <dt>
    <strong>exec</strong> <em>CTID</em> <em>command</em>
  </dt>
  <dd>
    <p>Executes <em>command</em> in a container. Environment variables are not set inside the container. Signal handlers may differ from default settings. If <em>command</em> is <strong>-</strong>, commands are read from stdin.</p>
  </dd>
  <dt>
    <strong>exec2</strong> <em>CTID</em> <em>command</em>
  </dt>
  <dd>
    <p>The same as <strong>exec</strong>, but return code is that of <em>command</em>.</p>
  </dd>
  <dt>
    <strong>runscript</strong> <em>CTID</em> <em>script</em>
  </dt>
  <dd>
    <p>Run specified shell script in the container. Argument <em>script</em> is a file on the host system which contents is read by vzctl and executed in the context of the container. For a running container, the command jumps into the container and executes the script. For a stopped container, it enters the container, mounts container's root filesystem, executes the script, and unmounts CT root. In the latter case, the container is not really started, no file systems other than root (such as <strong>/proc</strong>) are mounted, no startup scripts are executed etc. Thus the environment in which the script is running is far from normal and is only usable for very basic operations.</p>
  </dd>
  <dt>
    <strong>enter</strong> <em>CTID</em> [<strong>--exec </strong><em>command</em> [<em>arg</em> ...]]
  </dt>
  <dd>
    <p>Enters into a container (giving a container's root shell). This option is a back-door for host root only. The proper way to have CT root shell is to use <strong>ssh</strong>(1).</p><p>Option <strong>--exec</strong> is used to run <em>command</em> with arguments after entering into container. This is useful if command to be run requires a terminal (so <strong>vzctl exec</strong> can not be used) and for some reason you can not use <strong>ssh</strong>(1).</p><p>You need to log out manually from the shell to finish session (even if you specified <strong>--exec</strong>).</p>
  </dd>
  <dt>
    <strong>console</strong> <em>CTID</em> [<em>ttynum</em>]
  </dt>
  <dd>
    <p>Attach to a container console. Optional <em>ttynum</em> argument is tty number (such as <strong>4</strong> for <strong>tty4</strong>), default is <strong>1</strong> which is used for container's <strong>/dev/console</strong>.</p><p>Note the consoles are persistent, meaning that:</p><p>&bull; it can be attached to even if the container is not running;</p><p>&bull; there is no automatic detachment upon the container stop;</p><p>&bull; detaching from the console leaves anything running in this console as is.</p><p>The following escape sequences are recognized by <strong>vzctl console</strong>. Note that these sequences are only recognized at the beginning of a line.</p><p>&bull; <strong>Esc</strong> then <strong>.</strong> to detach from the console.</p><p>&bull; <strong>Esc</strong> then <strong>!</strong> to kill anything running on the console (SAK). This is helpful when one expects a login prompt but there isn't one.</p>
  </dd>

</dl>

<h3>Other options</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>--help</strong>
  </dt>
  <dd>
    <p>Prints help message with a brief list of possible options.</p>
  </dd>
  <dt>
    <strong>--version</strong>
  </dt>
  <dd>
    <p>Prints <strong>vzctl</strong> version.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACTION SCRIPTS</h2>
        <div class="sectioncontent">
<p><strong>vzctl</strong> has an ability to execute user-defined scripts when a specific <strong>vzctl</strong> command is run for a container. The following <strong>vzctl</strong> commands can trigger execution of action scripts: <strong>start</strong>, <strong>stop</strong>, <strong>restart</strong>, <strong>mount</strong> and <strong>umount</strong>.</p><p>Action scripts are located in the <strong>/etc/vz/conf/</strong> directory. There are global and per-CT scripts. Global scripts have a literal prefix of <strong>vps.</strong> and are executed for all containers. Per-CT scripts have a <em>CTID</em><strong>.</strong> numeric prefix and are executed for the given container only.</p><p>Please note scripts are executed in a host system (CT0) context, with the exception of <strong>.start</strong> and <strong>.stop</strong> scripts, which are executed in a container context.</p><p>The following action scripts are currently defined:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>vps.premount</strong>, <em>CTID</em><strong>.premount</strong>
  </dt>
  <dd>
    <p>Global and per-CT mount scripts which are executed for a container before it is mounted. Scripts are executed in the host system context, while a CT is not yet mounted or running. Global script, if exists, is executed first.</p>
  </dd>
  <dt>
    <strong>vps.mount</strong>, <em>CTID</em><strong>.mount</strong>
  </dt>
  <dd>
    <p>Global and per-CT mount scripts which are executed for a container right after it is mounted. Otherwise they are the same as <strong>.premount</strong> scripts.</p>
  </dd>
  <dt>
    <em>CTID</em><strong>.start</strong>
  </dt>
  <dd>
    <p>Right after <strong>vzctl</strong> has started a container, it executes this script in a container context.</p>
  </dd>
  <dt>
    <em>CTID</em><strong>.stop</strong>
  </dt>
  <dd>
    <p>Right before <strong>vzctl</strong> has stopped a container, it executes this script in a container context.</p>
  </dd>
  <dt>
    <strong>vps.umount</strong>, <em>CTID</em><strong>.umount</strong>
  </dt>
  <dd>
    <p>Global and per-CT umount scripts which are executed for a container before it is unmounted. Scripts are executed in the host system context, while a CT is mounted. Global script, if exists, is executed first.</p>
  </dd>
  <dt>
    <strong>vps.postumount</strong>, <em>CTID</em><strong>.postumount</strong>
  </dt>
  <dd>
    <p>Global and per-CT umount scripts which are executed for a container right after it is unmounted. Otherwise they are the same as <strong>.umount</strong> scripts.</p>
  </dd>

</dl>
<p>The environment passed to all the <strong>*mount</strong> scripts is the standard environment of the parent (i.e. <strong>vzctl</strong>) with two additional variables: <strong>$VEID</strong> and <strong>$VE_CONFFILE</strong>. The first one holds the ID of the container, and the second one holds the full path to the container configuration file. If the script needs to get other CT configuration parameters, such as <strong>$VE_ROOT</strong>, it needs to get those from global and per-CT configuration files.</p><p>Here is an example of a mount script, which makes host system's /mnt/disk available to container(s). Script name can either be <strong>/etc/vz/conf/vps.mount</strong> or <strong>/etc/vz/conf/</strong><em>CTID</em><strong>.mount</strong>.</p>
<pre>
   # If one of these files does not exist then something
   # is really broken
   [ -f /etc/vz/vz.conf ] || exit 1
   [ -f $VE_CONFFILE ] || exit 1
   # Source both files. Note the order is important.
   . /etc/vz/vz.conf
   . $VE_CONFFILE
   SRC=/mnt/disk
   DST=/mnt/disk
   mount -n -t simfs $SRC ${VE_ROOT}${DST} -o $SRC
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>Returns 0 upon success, or an appropriate error code in case of an error:</p>
<dl class='dl-vertical'>
  <dt>
    1
  </dt>
  <dd>
    <p>Failed to set a UBC parameter</p>
  </dd>
  <dt>
    2
  </dt>
  <dd>
    <p>Failed to set a fair scheduler parameter</p>
  </dd>
  <dt>
    3
  </dt>
  <dd>
    <p>Generic system error</p>
  </dd>
  <dt>
    5
  </dt>
  <dd>
    <p>The running kernel is not an OpenVZ kernel (or some OpenVZ modules are not loaded)</p>
  </dd>
  <dt>
    6
  </dt>
  <dd>
    <p>Not enough system resources</p>
  </dd>
  <dt>
    7
  </dt>
  <dd>
    <p><strong>ENV_CREATE</strong> ioctl failed</p>
  </dd>
  <dt>
    8
  </dt>
  <dd>
    <p>Command executed by <strong>vzctl exec</strong> returned non-zero exit code</p>
  </dd>
  <dt>
    9
  </dt>
  <dd>
    <p>Container is locked by another <strong>vzctl</strong> invocation</p>
  </dd>
  <dt>
    10
  </dt>
  <dd>
    <p>Global OpenVZ configuration file <a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a> not found</p>
  </dd>
  <dt>
    11
  </dt>
  <dd>
    <p>A vzctl helper script file not found</p>
  </dd>
  <dt>
    12
  </dt>
  <dd>
    <p>Permission denied</p>
  </dd>
  <dt>
    13
  </dt>
  <dd>
    <p>Capability setting failed</p>
  </dd>
  <dt>
    14
  </dt>
  <dd>
    <p>Container configuration file <a href="../man5/ctid.conf.5.html"><strong>ctid.conf</strong>(5)</a> not found</p>
  </dd>
  <dt>
    15
  </dt>
  <dd>
    <p>Timeout on <strong>vzctl exec</strong></p>
  </dd>
  <dt>
    16
  </dt>
  <dd>
    <p>Error during <strong>vzctl suspend</strong></p>
  </dd>
  <dt>
    17
  </dt>
  <dd>
    <p>Error during <strong>vzctl resume</strong></p>
  </dd>
  <dt>
    18
  </dt>
  <dd>
    <p>Error from <strong>setluid()</strong> syscall</p>
  </dd>
  <dt>
    20
  </dt>
  <dd>
    <p>Invalid command line parameter</p>
  </dd>
  <dt>
    21
  </dt>
  <dd>
    <p>Invalid value for command line parameter</p>
  </dd>
  <dt>
    22
  </dt>
  <dd>
    <p>Container root directory (<strong>VE_ROOT</strong>) not set</p>
  </dd>
  <dt>
    23
  </dt>
  <dd>
    <p>Container private directory (<strong>VE_PRIVATE</strong>) not set</p>
  </dd>
  <dt>
    24
  </dt>
  <dd>
    <p>Container template directory (<strong>TEMPLATE</strong>) not set</p>
  </dd>
  <dt>
    28
  </dt>
  <dd>
    <p>Not all required UBC parameters are set, unable to start container</p>
  </dd>
  <dt>
    29
  </dt>
  <dd>
    <p>OS template is not specified, unable to create container</p>
  </dd>
  <dt>
    31
  </dt>
  <dd>
    <p>Container not running</p>
  </dd>
  <dt>
    32
  </dt>
  <dd>
    <p>Container already running</p>
  </dd>
  <dt>
    33
  </dt>
  <dd>
    <p>Unable to stop container</p>
  </dd>
  <dt>
    34
  </dt>
  <dd>
    <p>Unable to add IP address to container</p>
  </dd>
  <dt>
    40
  </dt>
  <dd>
    <p>Container not mounted</p>
  </dd>
  <dt>
    41
  </dt>
  <dd>
    <p>Container already mounted</p>
  </dd>
  <dt>
    43
  </dt>
  <dd>
    <p>Container private area not found</p>
  </dd>
  <dt>
    44
  </dt>
  <dd>
    <p>Container private area already exists</p>
  </dd>
  <dt>
    46
  </dt>
  <dd>
    <p>Not enough disk space</p>
  </dd>
  <dt>
    47
  </dt>
  <dd>
    <p>Bad/broken container (<strong>/sbin/init</strong> or <strong>/bin/sh</strong> not found)</p>
  </dd>
  <dt>
    48
  </dt>
  <dd>
    <p>Unable to create a new container private area</p>
  </dd>
  <dt>
    49
  </dt>
  <dd>
    <p>Unable to create a new container root area</p>
  </dd>
  <dt>
    50
  </dt>
  <dd>
    <p>Unable to mount container</p>
  </dd>
  <dt>
    51
  </dt>
  <dd>
    <p>Unable to unmount container</p>
  </dd>
  <dt>
    52
  </dt>
  <dd>
    <p>Unable to delete a container</p>
  </dd>
  <dt>
    53
  </dt>
  <dd>
    <p>Container private area not exist</p>
  </dd>
  <dt>
    60
  </dt>
  <dd>
    <p><strong>vzquota on</strong> failed</p>
  </dd>
  <dt>
    61
  </dt>
  <dd>
    <p><strong>vzquota init</strong> failed</p>
  </dd>
  <dt>
    62
  </dt>
  <dd>
    <p><strong>vzquota setlimit</strong> failed</p>
  </dd>
  <dt>
    63
  </dt>
  <dd>
    <p>Parameter <strong>DISKSPACE</strong> not set</p>
  </dd>
  <dt>
    64
  </dt>
  <dd>
    <p>Parameter <strong>DISKINODES</strong> not set</p>
  </dd>
  <dt>
    65
  </dt>
  <dd>
    <p>Error setting in-container disk quotas</p>
  </dd>
  <dt>
    66
  </dt>
  <dd>
    <p><strong>vzquota off</strong> failed</p>
  </dd>
  <dt>
    67
  </dt>
  <dd>
    <p>ugid quota not initialized</p>
  </dd>
  <dt>
    71
  </dt>
  <dd>
    <p>Incorrect IP address format</p>
  </dd>
  <dt>
    74
  </dt>
  <dd>
    <p>Error changing password</p>
  </dd>
  <dt>
    78
  </dt>
  <dd>
    <p>IP address already in use</p>
  </dd>
  <dt>
    79
  </dt>
  <dd>
    <p>Container action script returned an error</p>
  </dd>
  <dt>
    82
  </dt>
  <dd>
    <p>Config file copying error</p>
  </dd>
  <dt>
    86
  </dt>
  <dd>
    <p>Error setting devices (<strong>--devices</strong> or <strong>--devnodes</strong>)</p>
  </dd>
  <dt>
    89
  </dt>
  <dd>
    <p>IP address not available</p>
  </dd>
  <dt>
    91
  </dt>
  <dd>
    <p>OS template not found</p>
  </dd>
  <dt>
    99
  </dt>
  <dd>
    <p>Ploop is not supported by either the running kernel or vzctl.</p>
  </dd>
  <dt>
    100
  </dt>
  <dd>
    <p>Unable to find container IP address</p>
  </dd>
  <dt>
    104
  </dt>
  <dd>
    <p><strong>VE_NETDEV</strong> ioctl error</p>
  </dd>
  <dt>
    105
  </dt>
  <dd>
    <p>Container start disabled</p>
  </dd>
  <dt>
    106
  </dt>
  <dd>
    <p>Unable to set iptables on a running container</p>
  </dd>
  <dt>
    107
  </dt>
  <dd>
    <p>Distribution-specific configuration file not found</p>
  </dd>
  <dt>
    109
  </dt>
  <dd>
    <p>Unable to apply a config</p>
  </dd>
  <dt>
    129
  </dt>
  <dd>
    <p>Unable to set meminfo parameter</p>
  </dd>
  <dt>
    130
  </dt>
  <dd>
    <p>Error setting veth interface</p>
  </dd>
  <dt>
    131
  </dt>
  <dd>
    <p>Error setting container name</p>
  </dd>
  <dt>
    133
  </dt>
  <dd>
    <p>Waiting for container start failed</p>
  </dd>
  <dt>
    139
  </dt>
  <dd>
    <p>Error saving container configuration file</p>
  </dd>
  <dt>
    148
  </dt>
  <dd>
    <p>Error setting container IO parameters (ioprio)</p>
  </dd>
  <dt>
    150
  </dt>
  <dd>
    <p>Ploop image file not found</p>
  </dd>
  <dt>
    151
  </dt>
  <dd>
    <p>Error creating ploop image</p>
  </dd>
  <dt>
    152
  </dt>
  <dd>
    <p>Error mounting ploop image</p>
  </dd>
  <dt>
    153
  </dt>
  <dd>
    <p>Error unmounting ploop image</p>
  </dd>
  <dt>
    154
  </dt>
  <dd>
    <p>Error resizing ploop image</p>
  </dd>
  <dt>
    155
  </dt>
  <dd>
    <p>Error converting container to ploop layout</p>
  </dd>
  <dt>
    156
  </dt>
  <dd>
    <p>Error creating ploop snapshot</p>
  </dd>
  <dt>
    157
  </dt>
  <dd>
    <p>Error merging ploop snapshot</p>
  </dd>
  <dt>
    158
  </dt>
  <dd>
    <p>Error deleting ploop snapshot</p>
  </dd>
  <dt>
    159
  </dt>
  <dd>
    <p>Error switching  ploop snapshot</p>
  </dd>
  <dt>
    166
  </dt>
  <dd>
    <p>Error compacting ploop image</p>
  </dd>
  <dt>
    167
  </dt>
  <dd>
    <p>Error listing ploop snapsots</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To create and start "basic" container with ID of 1000 using <strong>centos-5</strong> OS template and IP address of 192.168.10.200:</p>
<pre>
   vzctl create 1000 --ostemplate centos-5 --config basic
   vzctl set 1000 --ipadd 192.168.10.200 --save
   vzctl start 1000
</pre>
<p>To set number of processes barrier/limit to 80/100, and PTY barrier/limit to 16/20 PTYs:</p>
<pre>
   vzctl set 1000 --numproc 80:100 -t 16:20 --save
</pre>
<p>To execute command <strong>ls -la</strong> in this container:</p>
<pre>
   vzctl exec 1000 /bin/ls -la
</pre>
<p>To execute command pipe <strong>ls -l / | sort</strong> in this container:</p>
<pre>
   vzctl exec 1000 'ls -l / | sort'
</pre>
<p>To enter this container and execute command <strong>apt-get install vim</strong>:</p>
<pre>
   vzctl enter 1000 --exec apt-get install vim
</pre>
<p>Note that in the above example you will need to log out from the container's shell after apt-get finishes.</p><p>To enter this container, execute command <strong>apt-get install vim</strong> and logout after successful installation (or stay inside the container if installation process failed) use <strong>&&</strong>:</p>
<pre>
   vzctl enter 1000 --exec "apt-get install vim && logout"
</pre>
<p>To enter this container, execute command <strong>apt-get install vim</strong> and logout independently of exit code of installation process use <strong>;</strong>:</p>
<pre>
   vzctl enter 1000 --exec "apt-get install vim ; logout"
</pre>
<p>Note that you need to quote the command if you use <strong>&&</strong> or <strong>;</strong>.</p><p>To stop this container:</p>
<pre>
   vzctl stop 1000
</pre>
<p>To permanently remove this container:</p>
<pre>
   vzctl destroy 1000
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/vz/vz.conf /etc/vz/conf/<em>CTID</em><strong></strong>.conf /etc/vz/conf/vps.{premount,mount,umount,postumount} /etc/vz/conf/<em>CTID</em><strong></strong>.{premount,mount,start,stop,umount,postumount} /proc/vz/veinfo /proc/vz/vzquota /proc/user_beancounters /proc/bc/* /proc/fairsched</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO vzctl&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/vz.conf.5.html"><strong>vz.conf</strong>(5)</a>, <a href="../man5/ctid.conf.5.html"><strong>ctid.conf</strong>(5)</a>, <a href="../man8/arpsend.8.html"><strong>arpsend</strong>(8)</a>, <a href="../man8/vzcalc.8.html"><strong>vzcalc</strong>(8)</a>, <a href="../man8/vzcfgvalidate.8.html"><strong>vzcfgvalidate</strong>(8)</a>, <a href="../man8/vzcpucheck.8.html"><strong>vzcpucheck</strong>(8)</a>, <a href="../man8/vzifup-post.8.html"><strong>vzifup-post</strong>(8)</a>, <a href="../man8/vzlist.8.html"><strong>vzlist</strong>(8)</a>, <a href="../man8/vzmemcheck.8.html"><strong>vzmemcheck</strong>(8)</a>, <a href="../man8/vzmigrate.8.html"><strong>vzmigrate</strong>(8)</a>, <a href="../man8/vzpid.8.html"><strong>vzpid</strong>(8)</a>, <a href="../man8/vzquota.8.html"><strong>vzquota</strong>(8)</a>, <a href="../man8/vzsplit.8.html"><strong>vzsplit</strong>(8)</a>, <a href="../man8/vzubc.8.html"><strong>vzubc</strong>(8)</a>, <strong>http://wiki.openvz.org/UBC</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2000-2013, Parallels, Inc. Licensed under GNU GPL.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="vzcpucheck.8.html"><span aria-hidden="true">&larr;</span> vzcpucheck.8: Show information about the cpu power and utilization.</a></li>
   <li class="next"><a href="vzdqcheck.8.html">vzdqcheck.8: Count disk usage <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
