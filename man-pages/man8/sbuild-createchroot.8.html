<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sbuild-createchroot: Create sbuild chroot</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create sbuild chroot">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sbuild-createchroot (8) manual">
  <meta name="twitter:description" content="Create sbuild chroot">
  <meta name="twitter:image" content="https://www.carta.tech/images/sbuild-sbuild-createchroot-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/sbuild-createchroot.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sbuild-createchroot (8) manual" />
  <meta property="og:description" content="Create sbuild chroot" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sbuild-sbuild-createchroot-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sbuild-createchroot<small> (8)</small></h1>
        <p class="lead">Create sbuild chroot</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sbuild-createchroot.8.html">
      <span itemprop="name">sbuild-createchroot: Create sbuild chroot</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sbuild/">
      <span itemprop="name">sbuild</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sbuild-createchroot.8.html">
      <span itemprop="name">sbuild-createchroot: Create sbuild chroot</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sbuild-createchroot</strong> [<strong>-h</strong>\[or]<strong>--help</strong> \[or] <strong>-V</strong>\[or]<strong>--version</strong>] [<strong>--verbose</strong>] [<strong>--arch=</strong><em>arch</em><strong></strong>] [<strong>--chroot-suffix=</strong><em>suffix</em><strong></strong>] [<strong>--foreign</strong>] [<strong>--resolve-deps</strong> \[or] <strong>--no-resolve-deps</strong>] [<strong>--keep-debootstrap-dir</strong>] [<strong>--debootstrap=</strong><em>debootstrap</em><strong></strong>] [<strong>--include=</strong><em>package1[,package2,[packagen]]</em><strong></strong>] [<strong>--exclude=</strong><em>package1[,package2,[packagen]]</em><strong></strong>] [<strong>--components=</strong><em>component1[,component2,[componentn]]</em><strong></strong>] [<strong>--keyring=</strong><em>keyring-file</em><strong></strong>] [<strong>--setup-only</strong>] [<strong>--make-sbuild-tarball=</strong><em>file</em><strong></strong>] [<strong>--keep-sbuild-chroot-dir</strong>] <strong>SUITE TARGET-DIRECTORY DEBIAN-MIRROR-URI</strong> [<strong>SCRIPT</strong>]</p><p><strong>buildd-create-chroot</strong> <strong>USER SUITE TARGET-DIRECTORY DEBIAN-MIRROR-URI</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sbuild-createchroot</strong> runs <strong>debootstrap</strong>(1) to create a chroot suitable for building packages with sbuild.  Note that while debootstrap may be used directly, sbuild-createchroot performs additional setup tasks such as adding additional packages and configuring various files in the chroot.  Invoking sbuild-createchroot is functionally equivalent to running <strong>debootstrap&nbsp;--variant=buildd</strong> --include=fakeroot,build-essential, then editing <em>/etc/apt/sources.list</em> and <em>/etc/hosts</em> by hand.</p><p>The newly-created chroot is set up to work with <a href="../man1/schroot.1.html"><strong>schroot</strong>(1)</a> by creating a chroot definition file under <em>/etc/schroot/chroot.d</em>.  This should be edited to finish the chroot configuration after sbuild-createchroot has completed.</p><p><strong>buildd-create-chroot</strong>, like <strong>sbuild-createchroot</strong>, runs <strong>debootstrap</strong>(1) to create a chroot for package building.  However, this creates a chroot specifically for <a href="../man1/buildd.1.html"><strong>buildd</strong>(1)</a> with an additional mandatory option to specify a user who will be granted sudo access inside the chroot.  This script mainly differs in its additional customisation of <em>/etc/apt/sources.list</em> to use incoming.debian.org and security-master.debian.org.  It also removes some packages from the newly-created chroot.  Unless you are setting up an official Debian build daemon, <strong>sbuild-createchroot</strong> should be used instead.  The extra functionality will be merged into <strong>sbuild-createchroot</strong> in the future.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>Actions</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display this manual.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print version information.</p>
  </dd>

</dl>

<h3>General options</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Print all messages.</p>
  </dd>

</dl>

<h3>Debootstrap options</h3>
<p>Note that <strong>debootstrap</strong>(1) is the canonical reference for the meaning of the options; they are passed directly to debootstrap.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--arch=</strong><em>arch</em><strong></strong></p>
  </dt>
  <dd>
    <p>Set the target architecture.  This may be used if dpkg is not already installed.  See also <em>--foreign</em>, below.</p>
  </dd>
  <dt>
    <p><strong>--chroot-suffix=</strong><em>suffix</em><strong></strong></p>
  </dt>
  <dd>
    <p>Add a custom suffix to the chroot name. Defaults to '-schroot'.</p>
  </dd>
  <dt>
    <p><strong>--foreign</strong></p>
  </dt>
  <dd>
    <p>Only perform the initial unpack phase of bootstrapping.  This is required if the target and host architectures do not match.  Note that debootstrap requires running by hand to complete installation; run the debootstrap <em>/debootstrap/debootstrap</em> installed in <em>TARGET-DIRECTORY</em> to complete the installation.</p>
  </dd>
  <dt>
    <p><strong>--resolve-deps</strong></p>
  </dt>
  <dd>
    <p>Automatically resolve missing dependencies.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>--no-resolve-deps</strong></p>
  </dt>
  <dd>
    <p>Do not automatically resolve missing dependencies.</p>
  </dd>
  <dt>
    <p><strong>--keep-debootstrap-dir</strong></p>
  </dt>
  <dd>
    <p>Don't delete the <em>/debootstrap</em> directory in <em>TARGET-DIRECTORY</em> after completing the installation.</p>
  </dd>
  <dt>
    <p><strong>--debootstrap=</strong><em>debootstrap</em><strong></strong></p>
  </dt>
  <dd>
    <p>Define a custom debootstrap variant. Defaults to 'debootstrap'.</p>
  </dd>
  <dt>
    <p><strong>--include=</strong><em>package1[,package2,[packagen]]</em><strong></strong></p>
  </dt>
  <dd>
    <p>Comma separated list of packages which will be added to the list of packages to download and extract.</p>
  </dd>
  <dt>
    <p><strong>--exclude=</strong><em>package1[,package2,[packagen]]</em><strong></strong></p>
  </dt>
  <dd>
    <p>Comma separated list of packages which will be removed from the list of packages to download and extract. Note that this can remove essential packages, so use with extreme care.</p>
  </dd>
  <dt>
    <p><strong>--components=</strong><em>component1[,component2,[componentn]]</em><strong></strong></p>
  </dt>
  <dd>
    <p>Comma separated list of archive components to use (e.g. \[oq]main\[cq], \[oq]contrib\[cq], \[oq]non-free\[cq]).  Defaults to \[oq]main\[cq].</p>
  </dd>
  <dt>
    <p><strong>--keyring=</strong><em>keyring-file</em><strong></strong></p>
  </dt>
  <dd>
    <p>Download signatures for retrieved <em>Release</em> files and check them against <em>keyring-file</em>.  By default <em>/etc/apt/trusted.gpg</em> is used.  Set to an empty string to disable signature checking.</p>
  </dd>
  <dt>
    <p><strong>SUITE</strong></p>
  </dt>
  <dd>
    <p>The distribution to bootstrap (e.g. \[oq]sarge\[cq], \[oq]etch\[cq], \[oq]lenny\[cq], \[oq]sid\[cq]).  A complete list may be found in <em>/usr/share/debootstrap/scripts</em>.</p>
  </dd>
  <dt>
    <p><strong>TARGET-DIRECTORY</strong></p>
  </dt>
  <dd>
    <p>The directory to create the chroot in.  The directory will be created if it does not already exist.</p>
  </dd>
  <dt>
    <p><strong>DEBIAN-MIRROR-URI</strong></p>
  </dt>
  <dd>
    <p>An http://, file:///, or ssh:/// URI pointing to a suitable archive mirror.</p>
  </dd>
  <dt>
    <p><strong>SCRIPT</strong></p>
  </dt>
  <dd>
    <p>debootstrap script to run.  Not typically required.</p>
  </dd>

</dl>

<h3>sbuild-createchroot behaviour</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--setup-only</strong></p>
  </dt>
  <dd>
    <p>Don't run debootstrap.  Only perform the setup tasks on an already existing chroot.  This is useful for converting an existing chroot for use with sbuild which has already been created using a tool such as debootstrap.</p>
  </dd>
  <dt>
    <p><strong>--make-sbuild-tarball=</strong><em>file</em><strong></strong></p>
  </dt>
  <dd>
    <p>Create a bootstrapped file type chroot ready for use with sbuild and save it as <em>file</em>. The compression format used for the tarball is dependent on the file extension used in <em>file</em>. See the <strong>TARBALL FILE</strong> section for more details.</p>
  </dd>
  <dt>
    <p><strong>--keep-sbuild-chroot-dir</strong></p>
  </dt>
  <dd>
    <p>Don't delete the directory used for creating a file type chroot. This option does nothing if not creating a file type chroot.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TARBALL FILE</h2>
        <div class="sectioncontent">
<p>When creating an sbuild tarball <em>file</em>, the compression format used to generate the tarball depends on the entension used in <em>file</em>. Here is a listing of the extensions that will be detected and what format the tarball will be generated as.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>*.tar</strong></p>
  </dt>
  <dd>
    <p>Generates an uncompressed tarball.</p>
  </dd>
  <dt>
    <p><strong>*.tar.gz|*.tgz</strong></p>
  </dt>
  <dd>
    <p>Generates a compressed tarball using gzip.</p>
  </dd>
  <dt>
    <p><strong>*.tar.bz2|*.tbz</strong></p>
  </dt>
  <dd>
    <p>Generates a compressed tarball using bzip2.</p>
  </dd>
  <dt>
    <p><strong>*.tar.lz|*.tlz</strong></p>
  </dt>
  <dd>
    <p>Generates a compressed tarball using lzip.</p>
  </dd>
  <dt>
    <p><strong>*.tar.xz|*.txz</strong></p>
  </dt>
  <dd>
    <p>Generates a compressed tarball using xz.</p>
  </dd>

</dl>
<p>If no extension is specified, sbuild-createchroot will rename <em>file</em> to <em>file.tar.gz</em> and generate <em>file.tar.gz</em> as a compressed tarball using gzip.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To create a plain type sid (unstable) chroot in <em>/srv/chroot/unstable</em> using the <em>ftp.uk.debian.org</em> Debian mirror:</p><p>% <strong>sudo sbuild-createchroot sid /srv/chroot/unstable </strong><strong>&#92;</strong></p><p><strong>    http://ftp.uk.debian.org/debian</strong>\[CR]</p><p>To create a bootstrapped file type sid (unstable) chroot ready for use with sbuild and saved in <em>/var/cache/sbuild/sbuild.tar.gz</em> using the <em>ftp.uk.debian.org</em> Debian mirror and using a temporary directory as the target:</p><p>% <strong>sudo sbuild-createchroot </strong><strong>&#92;</strong></p>
<pre>
    --make-sbuild-tarball=/var/cache/sbuild/sbuild.tar.gz &#92;
</pre>

<pre>
    sid `mktemp -d` &#92;
</pre>
<p><strong>    http://ftp.uk.debian.org/debian</strong>\[CR]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>sbuild-createchroot was previously known as <strong>buildd.chroot</strong>. buildd.chroot performed exactly the same tasks, but additionally created a number of directories in the chroot for use by sbuild.  This is now done by <a href="../man1/schroot.1.html"><strong>schroot</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">

<pre>
Roger Leigh.
Francesco P. Lovergine.
Andres Mejia.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">

<pre>
Copyright \[co] 2004 Francesco P. Lovergine &lt;frankie@debian.org&gt;.
Copyright \[co] 2007-2008 Roger Leigh &lt;rleigh@debian.org&gt;.
Copyright \[co] 2010 Andres Mejia &lt;mcitadel@gmail.com&gt;.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sbuild-createchroot&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/debootstrap.8.html"><strong>debootstrap</strong>(8)</a>, <a href="../man1/schroot.1.html"><strong>schroot</strong>(1)</a>, <a href="../man1/sbuild.1.html"><strong>sbuild</strong>(1)</a>, <strong>sbuild-setup</strong>(7).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sbuild-adduser.8.html"><span aria-hidden="true">&larr;</span> sbuild-adduser.8: Add an sbuild user</a></li>
   <li class="next"><a href="scanbd.8.html">scanbd.8: Scanbd- scanner button monitoring daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
