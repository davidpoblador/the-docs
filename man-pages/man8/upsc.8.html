<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>upsc: Example lightweight ups client</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Example lightweight ups client">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="upsc (8) manual">
  <meta name="twitter:description" content="Example lightweight ups client">
  <meta name="twitter:image" content="https://www.carta.tech/images/nut-client-upsc-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/upsc.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="upsc (8) manual" />
  <meta property="og:description" content="Example lightweight ups client" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nut-client-upsc-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">upsc<small> (8)</small></h1>
        <p class="lead">Example lightweight ups client</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/upsc.8.html">
      <span itemprop="name">upsc: Example lightweight ups client</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nut-client/">
      <span itemprop="name">nut-client</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/upsc.8.html">
      <span itemprop="name">upsc: Example lightweight ups client</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>upsc</strong> -l | -L [<em>host</em>]</p><p><strong>upsc</strong> <em>ups</em> [<em>variable</em>]</p><p><strong>upsc</strong> -c <em>ups</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>upsc</strong> is provided as a quick way to poll the status of a UPS server. It can be used inside shell scripts and other programs that need UPS data but don\(cqt want to include the full interface.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-l</strong> <em>host</em></p><p>List all UPS names configured at <em>host</em>, one name per line. The hostname defaults to "localhost". You may optionally add a colon and a port number.</p><p><strong>-L</strong> <em>host</em></p><p>As above, list all UPS names configured at <em>host</em>, including their description provided by the remote <a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a> from <a href="../man5/ups.conf.5.html"><strong>ups.conf</strong>(5)</a>. The hostname defaults to "localhost". You may optionally add a colon and a port number to override the default port.</p><p><strong>-c</strong> <em>ups</em></p><p>Lists each client connected on <em>ups</em>, one name per line.</p><p><em>ups</em></p><p>Display the status of that UPS. The format for this option is <em>upsname[@hostname[:port]]</em>. The default hostname is "localhost".</p><p><em>variable</em></p><p>Display the value of this variable only. By default, upsc retrieves the list of variables from the server and then displays the value for each. This may be useful in shell scripts to save an additional pipe into grep.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To list all variables on an UPS named "myups" on a host called "mybox", with <a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a> running on port 1234:</p>
<pre>
$ upsc myups@mybox:1234
battery.charge: 100.0
battery.voltage: 13.9
battery.voltage.nominal: 13.6
. . .
</pre>
<p>To list the UPSes configured on this system, along with their descriptions:</p>
<pre>
$ upsc -L
apc: Back-UPS 500
ppro2: Patriot Pro II
</pre>
<p>To retrieve the status for all UPSes connected to mybox, using Bourne-shell syntax:</p>
<pre>
$ for UPS in `upsc -l mybox:1234`; do
    upsc $UPS ups.status
done
</pre>
<p>To list clients connected on "myups":</p>
<pre>
$ upsc -c myups
127.0.0.1
::1
192.168.1.2
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SCRIPTED MODE</h2>
        <div class="sectioncontent">
<p>If you run this program inside a shell script or similar to get the list of devices and variables, you should only consider using output from stdout, not stderr.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>upsc will either print a list of UPS names, a list of all supported variables and their values on the UPS, or an error message. If you receive an error, make sure you have specified a valid UPS on the command line, that <a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a> is really running on the other host and that no firewalls are blocking you.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>Earlier versions of this program used the <em>upsfetch</em> library and UDP sockets to talk to upsd. This version of upsc uses the new <em>upsclient</em> library, which only talks TCP. This is why <em>upsct</em> no longer exists.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO upsc&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERNET RESOURCES</h2>
        <div class="sectioncontent">
<p>The NUT (Network UPS Tools) home page: http://www.networkupstools.org/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="upowerd.8.html"><span aria-hidden="true">&larr;</span> upowerd.8: Upower daemon</a></li>
   <li class="next"><a href="upscmd.8.html">upscmd.8: Ups administration program for instant commands <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
