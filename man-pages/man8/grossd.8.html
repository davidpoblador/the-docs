<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>grossd: Greylisting of suspicious sources - the server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Greylisting of suspicious sources - the server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="grossd (8) manual">
  <meta name="twitter:description" content="Greylisting of suspicious sources - the server">
  <meta name="twitter:image" content="https://www.carta.tech/images/gross-grossd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/grossd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="grossd (8) manual" />
  <meta property="og:description" content="Greylisting of suspicious sources - the server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gross-grossd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">grossd<small> (8)</small></h1>
        <p class="lead">Greylisting of suspicious sources - the server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/grossd.8.html">
      <span itemprop="name">grossd: Greylisting of suspicious sources - the server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gross/">
      <span itemprop="name">gross</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/grossd.8.html">
      <span itemprop="name">grossd: Greylisting of suspicious sources - the server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>grossd</strong> [<strong>-dCDhnrV</strong>] [<strong>-f</strong> <em>config</em>] [{<strong>-p</strong>|<strong>-P</strong>} <em>pidfile</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>grossd</strong> is a greylisting server, and more.  It's blazingly fast and amazingly resource efficient.  It can be configured to query DNSBL databases, and enforce greylisting only for hosts that are found on those databases. It can block hosts that match multiple databases.  It can be replicated and run parallel on two servers.  It supports Sun Java System Messaging Server, Postfix and Exim.  Sendmail Milter implementation needs testing.</p><h3>Theory of operation</h3>
<p>Gross consists of <strong>grossd</strong>, the greylisting daemon, and a client library for \s-1SJSMS\s+1. The server also implements Postfix content filtering protocol.</p><p>Upon receiving a request from a client, <strong>grossd</strong> first validates it. The request includes a triplet (`smtp-client-ip', `sender-address', `recipient-address'). A hash is then calculated and matched against the Bloom filters.  If a match is found, and test result does not exceed <strong>block_threshold</strong> value, <strong>grossd</strong> sends an \s-1OK\s+1 (\s-1STATUS_TRUST\s+1) message.</p><p>If the triplet is not in the Bloom filters (has not been seen recently,) <strong>grossd</strong> then runs configured checks against the client information. Based on check results <strong>grossd</strong> returns the client a result.  Possible results are \s-1STATUS_TRUST\s+1, \s-1STATUS_BLOCK\s+1 and \s-1STATUS_GREY\s+1.  The final response is query protocol specific.</p><p>The Bloom filters are updated according the <strong>update</strong> configuration option.  A Bloom filter is a very efficient way to store data.  It's a probabilistic data structure, which means that there is a possibility of error when querying the database.  False positives are possible, but false negatives are not.  This means that there is a possibility that grossd will falsely give an \s-1STATUS_TRUST\s+1 response when a connection should be greylisted.  By sizing the bloom filters, you can control the error possibility to meet your needs.  The right bloom filter size depends on the number of entries in the database, that is, the retention time versus the number of handled connections.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-C</strong>
  </dt>
  <dd>
    <p>Create the statefile and exit.  The <strong>statefile</strong> configuration option must be specified in the configuration file.</p>
  </dd>
  <dt>
    <strong>-D</strong>
  </dt>
  <dd>
    <p>Make debugging output more verbose.  It can be set twice for maximum verbosity.</p>
  </dd>
  <dt>
    <strong>-d</strong>
  </dt>
  <dd>
    <p>Run <strong>grossd</strong> on foreground without daemonizing the process. <strong>grossd</strong> will output to terminal instead of using syslog.</p>
  </dd>
  <dt>
    <strong>-f</strong> <em>config</em>
  </dt>
  <dd>
    <p>Specifies the name of the configuration file.  The default is <em>/etc/etc/grossd.conf</em></p>
  </dd>
  <dt>
    <strong>-h</strong>
  </dt>
  <dd>
    <p>Output short usage information and exit.</p>
  </dd>
  <dt>
    <strong>-n</strong>
  </dt>
  <dd>
    <p>Enable dry-run.</p>
  </dd>
  <dt>
    <strong>-P</strong> <em>pidfile</em>
  </dt>
  <dd>
    <p>Bail out if the pidfile already exists.  Create pidfile after the check.</p>
  </dd>
  <dt>
    <strong>-p</strong> <em>pidfile</em>
  </dt>
  <dd>
    <p>Create the pidfile.  Overwrite if it already exists.</p>
  </dd>
  <dt>
    <strong>-r</strong>
  </dt>
  <dd>
    <p>Disable replication.</p>
  </dd>
  <dt>
    <strong>-V</strong>
  </dt>
  <dd>
    <p>Output version information and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/grossd.conf</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY CONSIDERATIONS</h2>
        <div class="sectioncontent">
<p>Run <strong>grossd</strong> under some unprivileged user id.  If started as root <strong>grossd</strong> will <strong>setuid()</strong> itself to nobody's user id.  There are no known security flaws but you must not expose <strong>grossd</strong> to the Internet.  It could be used for a DoS against a domain's \s-1DNS\s+1 servers by an attacker as there is no authentication in grossd.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p><strong>grossd</strong> daemon exits 0 if success, and &gt;0 if an error occurs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO grossd&hellip;</h2>
        <div class="sectioncontent">
<p>Regarding the configuration both the daemon and \s-1MTA\s+1's, refer to <em>grossd.conf</em>\|(5)</p><p>Gross project site: &lt;http://code.google.com/p/gross/&gt;</p><p>Bloom filters: &lt;http://en.wikipedia.org/wiki/Bloom_filter&gt;</p><p>\s-1DNS\s+1 queries are done asynchronously using c-ares library &lt;http://daniel.haxx.se/projects/c-ares/&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Eino Tuominen and Antti Siira</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="grml2usb.8.html"><span aria-hidden="true">&larr;</span> grml2usb.8: Install grml iso(s) on usb device for booting</a></li>
   <li class="next"><a href="group_tool.8.html">group_tool.8: Run common fence_tool, dlm_tool, gfs_control commands <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
