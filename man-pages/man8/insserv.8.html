<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>insserv: Boot sequence organizer using lsb init.d script dependency information</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Boot sequence organizer using lsb init.d script dependency information">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="insserv (8) manual">
  <meta name="twitter:description" content="Boot sequence organizer using lsb init.d script dependency information">
  <meta name="twitter:image" content="https://www.carta.tech/images/insserv-insserv-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/insserv.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="insserv (8) manual" />
  <meta property="og:description" content="Boot sequence organizer using lsb init.d script dependency information" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/insserv-insserv-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">insserv<small> (8)</small></h1>
        <p class="lead">Boot sequence organizer using lsb init.d script dependency information</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/insserv.8.html">
      <span itemprop="name">insserv: Boot sequence organizer using lsb init.d script dependency information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/insserv/">
      <span itemprop="name">insserv</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/insserv.8.html">
      <span itemprop="name">insserv: Boot sequence organizer using lsb init.d script dependency information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>insserv</strong> [<strong>-v</strong>] [<strong>-c</strong>&lt;config&gt;<strong>]</strong> [<strong>-p</strong>&lt;path&gt;<strong>]</strong> [<strong>-d</strong>] [<strong>-f</strong>] [[<em>/</em>]<em>path/to/init.d/</em>]<em>script</em><em>...</em></p><p><strong>insserv</strong> [<strong>-v</strong>] [<strong>-c</strong>&lt;config&gt;<strong>]</strong> [<strong>-p</strong>&lt;path&gt;<strong>]</strong> [[<em>/</em>]<em>path/to/init.d/</em>]<em>script</em>[<em>,start=&lt;lvl1,lvl2,...&gt;,stop=&lt;lvl1,lvl2,...&gt;</em>]</p><p><strong>insserv</strong> [<strong>-v</strong>] [<strong>-c</strong>&lt;config&gt;<strong>]</strong> [<strong>-p</strong>&lt;path&gt;<strong>]</strong> <strong>-r</strong> [<strong>-d</strong>] [<strong>-f</strong>] [[<em>/</em>]<em>path/to/init.d/</em>]<em>script</em><em>...</em></p><p><strong>insserv</strong> <strong>-h</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>insserv</strong> is a low level tool used by <strong>update-rc.d</strong> which enables an installed system init script (`boot script') by reading the comment header of the script, e.g.:</p>
<pre>
 ### BEGIN INIT INFO
 # Provides:          boot_facility_1 [ boot_facility_2 ...]
 # Required-Start:    boot_facility_1 [ boot_facility_2 ...]
 # Required-Stop:     boot_facility_1 [ boot_facility_2 ...]
 # Should-Start:      boot_facility_1 [ boot_facility_2 ...]
 # Should-Stop:       boot_facility_1 [ boot_facility_2 ...]
 # X-Start-Before:    boot_facility_1 [ boot_facility_2 ...]
 # X-Stop-After:      boot_facility_1 [ boot_facility_2 ...]
 # Default-Start:     run_level_1 [ run_level_2 ...]
 # Default-Stop:      run_level_1 [ run_level_2 ...]
 # X-Interactive:     true
 # Short-Description: single_line_description
 # Description:       multiline_description
 ### END INIT INFO
</pre>
<p>and calculating the dependencies between all scripts. It is not recommended to execute insserv directly unless you know exactly what you're doing, doing so may render your boot system inoperable. <strong>update-rc.d</strong> is the recommended interface for managing init scripts. Please be aware that the line</p>
<pre>
 # Required-Stop:  boot_facility_1 [ boot_facility_2 ...]
</pre>
<p>declares facilities which must be available during shutdown of the service declared in the <strong>Provides</strong> tag.  Same holds true for</p>
<pre>
 # Should-Stop:    boot_facility_1 [ boot_facility_2 ...]
</pre>
<p>which declares facilities which should be available during shutdown of the service declared in the <strong>Provides</strong> tag. In both cases the script system should avoid stopping services which are declared by these two Stop tags until the script including these tags is stopped.</p><p>The optional X-Interactive keyword implies that the script using this keyword should be started alone in a concurrent boot configuration because it interact with the user at the console.  Only the value `true' is recognised.  All other are ignored.</p><p>The optional <strong>X-Start-Before</strong> keyword implies that the script using this keyword should be started <strong>before</strong> the specified service names. Whereas the optional <strong>X-Stop-After</strong> keyword implies that the script using this keyword should be stopped <strong>after</strong> the specified service names. Both implies that those services now depend on the specifying script. With known dependencies and runlevel(s) <strong>insserv</strong> sets and reorders the corresponding symbolic links of the concerned runlevels directories.</p><p><strong>insserv</strong> scans for <strong>System Facilities</strong> in the configuration file <em>/etc/insserv.conf</em> and each file in the directory <em>/etc/insserv.conf.d/</em>. Each line which begins with <strong>$</strong> and a following name defines a system facility accordingly to the Linux Standard Base Specification (LSB), All names followed by such a system facility will declare the required dependencies of the facility. Here is an example for <em>/etc/insserv.conf</em>:</p>
<pre>
 # All local filesystems are mounted
 # (done during boot phase)
 $local_fs       boot

 # Low level networking
 $network        network route

 # Named is operational
 $named          named

 # All remote filesystems are mounted
 # (in some cases /usr may be remote).
 $remote_fs      $local_fs nfs

 # System logger is operational
 $syslog         syslog

 # All network daemons are running (This was removed in LSB 1.2)
 $netdaemons     portmap inetd

 # Services which need to be interactive
 &lt;interactive&gt;   boot.crypto
</pre>
<p>Names starting with a `+' sign are marked as optional. If the service with the name after the plus sign is available it will be used, if not available it is ignored silently.  Words beginning with <strong>&lt;</strong> and ending with <strong>&gt;</strong> are keywords.  Currently <strong>&lt;interactive&gt;</strong> is the only know keyword for marking a service as an interactive one, e.g. a service which requires a passphrase or password input during boot or runlevel change.  The special facility <strong>$null</strong> is used to enforce an empty dependency in case of <strong>Should-Stop</strong> and <strong>Required-Stop</strong>.</p><p>In addition to the defined <strong>System Facilities</strong> in the configuration file <em>/etc/insserv.conf</em>, <strong>insserv</strong> also knows the special facility <strong>$all</strong>. This facility indicates that a service should be inserted at the end of all services at starting and at the very beginning at stopping.  Clearly all services using this facility will be grouped into one starting or stopping order.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Currently there exists nine options for <strong>insserv</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-v</strong>,<strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Write out what is currently going on.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>&lt;config&gt;<strong>,</strong>--config<strong>&lt;config&gt;</strong></p>
  </dt>
  <dd>
    <p>Specify path to the insserv.conf file and the insserv.conf.d directory.  Useful for testing.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>&lt;path&gt;<strong>,</strong>--override<strong>&lt;path&gt;</strong></p>
  </dt>
  <dd>
    <p>LSB comment headers found in this path will override existing LSB comment headers of scripts in the init.d directory (default path is <em>/etc/insserv/overrides/</em>).</p>
  </dd>
  <dt>
    <p><strong>-p</strong>&lt;path&gt;<strong>,</strong>--path<strong>&lt;path&gt;</strong></p>
  </dt>
  <dd>
    <p>Specify path to init.d directory.  Useful for testing.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>,<strong>--dryrun</strong></p>
  </dt>
  <dd>
    <p>Do not update symlinks.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>,<strong>--remove</strong></p>
  </dt>
  <dd>
    <p>Remove the listed scripts from all runlevels.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>,<strong>--default</strong></p>
  </dt>
  <dd>
    <p>Use default runlevels as defined in the scripts. This may restore an edited runlevel link scheme.</p>
  </dd>
  <dt>
    <p><strong>-f</strong>,<strong>--force</strong></p>
  </dt>
  <dd>
    <p>Ignore if a required service is missed. Beside this if start and or stop levels are specified on the command line the default levels of the script will be ignored.</p>
  </dd>
  <dt>
    <p><strong>-u</strong>&lt;path&gt;<strong>,</strong>--upstart-job<strong>&lt;path&gt;</strong></p>
  </dt>
  <dd>
    <p>Path to replace existing upstart job path.  (default path is <em>/lib/init/upstart-job</em>).</p>
  </dd>
  <dt>
    <p><strong>-s</strong>,<strong>--showall</strong></p>
  </dt>
  <dd>
    <p>Output runlevel and sequence information. Do not update symlinks.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>,<strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print out short usage message.</p>
  </dd>

</dl>
<p>But you may use the argument syntax described in the following section.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>[[<em>/</em>]<em>path/to/init.d/</em>]</p>
  </dt>
  <dd>
    <p>Relative or absolute path to the init scripts base directory. This defaults to <em>/etc/init.d/</em> in compliance with the LSB specification. In this case <strong>insserv</strong> does not add or remove a script to the runlevels declared in the script headers, but may re-order the runlevels if the order of the currently enabled scripts has changed (see option <strong>-d</strong>). Note that if a relative path is used <strong>insserv</strong> has to be called from the root directory.</p>
  </dd>
  <dt>
    <p>[[<em>/</em>]<em>path/to/init.d/</em>]<em>script</em>...</p>
  </dt>
  <dd>
    <p>List of scripts which have to be added to the runlevels. If a path is used it should point to the absolute or relative location of the boot scripts. <strong>insserv</strong> checks for the existence of these scripts. For the runlevels the information found in the script is used.</p>
  </dd>
  <dt>
    <p>[[<em>/</em>]<em>path/to/init.d/</em>]<em>script</em>[<em>,start=&lt;lvl1,lvl2,...&gt;</em>]</p>
  </dt>
  <dd>
    <p>List of scripts which have to be added to the specified runlevels to be started with. You may use this extension to override the default values for start and stop runlevels of the script. Note that <strong>lvl1</strong>,<strong>lvl2</strong>,<strong>...</strong> are the known runlevels explained above. The extension <em>,stop=&lt;lvl1,lvl2,...&gt;</em> is also possible.</p>
  </dd>
  <dt>
    <p><strong>-r</strong><em>[[</em>/<em>]</em>path/to/init.d/<em>]</em>script<em>...</em></p>
  </dt>
  <dd>
    <p>List of scripts which should be removed from the runlevels. If a path is used it should point to the absolute or relative location of the boot scripts. <strong>insserv</strong> checks for the existence of these scripts.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OVERRIDES</h2>
        <div class="sectioncontent">
<p>Beside using the extensions <em>,start=&lt;lvl1,lvl2,...&gt;</em> and <em>,stop=&lt;lvl1,lvl2,...&gt;</em> it is possible to use override files replace a LSB comment header or simple provide a missing LSB comment header.  This can be done by placing a file with the new LSB comment header using the same name as the boot or init script in the directory <em>/etc/insserv/overrides/</em>. For third party boot scripts without LSB header it is possible to add a file with the same name in the directory <em>/usr/share/insserv/overrides/</em> to make them completely LSB compliant.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UPSTART JOB COMPATIBILITY</h2>
        <div class="sectioncontent">
<p>To allow upstart jobs to work as init.d scripts, insserv will recognize a symlink from path/to/init.d/script to /lib/init/upstart-job as upstart jobs, and instead of reading the header from the file will run the script with the argument lsb-header to get the script header.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT CODES</h2>
        <div class="sectioncontent">
<p>The exit codes have the following conditions:</p>
<dl class='dl-vertical'>
  <dt>
    0
  </dt>
  <dd>
    <p>Service was successfully installed or removed</p>
  </dd>
  <dt>
    1
  </dt>
  <dd>
    <p>Service was not installed or removed</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTE</h2>
        <div class="sectioncontent">
<p>Please be aware that the following patterns of boot script file names will be not accepted by <strong>insserv:</strong></p>
<pre>
        *.dpkg*
        *.rpm*
        *.ba*
        *.old
        *.new
        *.org
        *.orig
        *.save
        *.swp
        *.core
        *~
</pre>
<p>with the wildcard character <strong>*</strong>. Beside this all boot script file names beginning with one of the following characters</p>
<pre>
        $.#%_+-&#92;*[]^:()~
</pre>
<p>will be ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Boot scripts sometimes lack a LSB comment header. Contact a package maintainer or developer of the software which provides the script to have a LSB comment header added to it.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/insserv.conf</em></p>
  </dt>
  <dd>
    <p>configuration file for <strong>insserv</strong> which defines the LSB System Facilities.</p>
  </dd>
  <dt>
    <p><em>/etc/insserv.conf.d/</em></p>
  </dt>
  <dd>
    <p>directory for further configuration files for declaring LSB System Facilities.</p>
  </dd>
  <dt>
    <p><em>/etc/insserv/overrides/</em></p>
  </dt>
  <dd>
    <p>path to replace existing LSB comment headers with the comment headers found in this path.</p>
  </dd>
  <dt>
    <p><em>/etc/init.d/</em></p>
  </dt>
  <dd>
    <p>path to the init script base directory as required by the Linux Standard Base Specification (LSB).</p>
  </dd>

</dl>
<p><em>/etc/init.d/.depend.boot</em>,</p><p><em>/etc/init.d/.depend.start</em>,</p><p><em>/etc/init.d/.depend.stop</em> The <a href="../man1/make.1.html"><strong>make</strong>(1)</a> like dependency files produced by <strong>insserv</strong> for <em>booting</em>, <em>starting</em>, and <em>stopping</em> with the help of <strong>startpar</strong>(8).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO insserv&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/init.8.html"><strong>init</strong>(8)</a>, <strong>startpar</strong>(8), <a href="../man8/update-rc.d.8.html"><strong>update-rc.d</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2000-2009 Werner Fink,</p><p>2009 SuSE Linux Products GmbH Nuernberg, Germany.</p><p>2000-2003 SuSE GmbH Nuernberg, Germany,</p><p>2007-2009 SuSE Linux Products GmbH Nuernberg, Germany.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Werner Fink &lt;feedback@suse.de&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTRIBUTORS</h2>
        <div class="sectioncontent">
<p>Petter Reinholdtsen</p><p>Kel Modderman</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="insmod.8.html"><span aria-hidden="true">&larr;</span> insmod.8: Simple program to insert a module into the linux kernel</a></li>
   <li class="next"><a href="install-keymap.8.html">install-keymap.8: Install-keymap  expand a given keymap and install it as boot-time keymap <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
