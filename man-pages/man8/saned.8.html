<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>saned: Sane network daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sane network daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="saned (8) manual">
  <meta name="twitter:description" content="Sane network daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/sane-utils-saned-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/saned.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="saned (8) manual" />
  <meta property="og:description" content="Sane network daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sane-utils-saned-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">saned<small> (8)</small></h1>
        <p class="lead">Sane network daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/saned.8.html">
      <span itemprop="name">saned: Sane network daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sane-utils/">
      <span itemprop="name">sane-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/saned.8.html">
      <span itemprop="name">saned: Sane network daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>saned</strong> <strong>[ -a</strong> <em>[ username ]</em> <strong>| -d</strong> <em>[ n ]</em> <strong>| -s</strong> <em>[ n ]</em> <strong>| -h</strong> <strong>]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>saned</strong> is the SANE (Scanner Access Now Easy) daemon that allows remote clients to access image acquisition devices available on the local host.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The <strong>-a</strong> flag requests that <strong>saned</strong> run in standalone daemon mode. In this mode, <strong>saned</strong> will detach from the console and run in the background, listening for incoming client connections; <strong>inetd</strong> is not required for <strong>saned</strong> operations in this mode. If the optional <strong>username</strong> is given after <strong>-a</strong> , <strong>saned</strong> will drop root privileges and run as this user (and group).</p><p>The <strong>-d</strong> and <strong>-s</strong> flags request that <strong>saned</strong> run in debug mode (as opposed to <strong>inetd</strong>(8) daemon mode).  In this mode, <strong>saned</strong> explicitly waits for a connection request.  When compiled with debugging enabled, these flags may be followed by a number to request debug info. The larger the number, the more verbose the debug output. E.g., <strong>-d128</strong> will request printing of all debug info. Debug level 0 means no debug output at all. The default value is 2. If flag <strong>-d</strong> is used, the debug messages will be printed to stderr while <strong>-s</strong> requests using syslog.</p><p>If <strong>saned</strong> is run from inetd, xinetd or systemd, no option can be given.</p><p>The <strong>-h</strong> flag displays a short help message.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>First and foremost: <strong>saned</strong> is not intended to be exposed to the internet or other non-trusted networks. Make sure that access is limited by tcpwrappers and/or a firewall setup. Don't depend only on <strong>saned</strong>'s own authentication. Don't run <strong>saned</strong> as root if it's not necessary. And do <strong>not</strong> install <strong>saned</strong> as setuid root.</p><p>The <em>saned.conf</em> configuration file contains both options for the daemon and the access list.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>data_portrange</strong> = <em>min_port</em> - <em>max_port</em></p>
  </dt>
  <dd>
    <p>Specify the port range to use for the data connection. Pick a port range between 1024 and 65535; don't pick a too large port range, as it may have performance issues. Use this option if your <strong>saned</strong> server is sitting behind a firewall. If that firewall is a Linux machine, we strongly recommend using the Netfilter <em>nf_conntrack_sane</em> module instead.</p>
  </dd>

</dl>
<p>The access list is a list of host names, IP addresses or IP subnets (CIDR notation) that are permitted to use local SANE devices. IPv6 addresses must be enclosed in brackets, and should always be specified in their compressed form. Connections from localhost are always permitted. Empty lines and lines starting with a hash mark (#) are ignored. A line containing the single character ``+'' is interpreted to match any hostname. This allows any remote machine to use your scanner and may present a security risk, so this shouldn't be used unless you know what you're doing.</p><p>A sample configuration file is shown below:</p><p># Daemon options</p><p>data_portrange = 10000 - 10100</p><p># Access list</p><p>scan-client.somedomain.firm</p><p># this is a comment</p><p>192.168.0.1</p><p>192.168.2.12/29</p><p>[::1]</p><p>[2001:db8:185e::42:12]/64</p><p>The case of the host names does not matter, so AHost.COM is considered identical to ahost.com.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SERVER DAEMON CONFIGURATION</h2>
        <div class="sectioncontent">
<p>For <strong>saned</strong> to work properly in its default mode of operation, it is also necessary to add the appropriate configuration for <em>(x)inetd or systemd.</em> (see below). Note that your inetd must support IPv6 if you want to connect to saned over IPv6 ; xinetd, openbsd-inetd and systemd are known to support IPv6, check the documentation for your inetd daemon.</p><p>In the sections below the configuration for <em>inetd, xinetd</em> and <em>systemd</em> are described in more detail.</p><p>For the configurations below it is necessary to add a line of the following form to <em>/etc/services</em>:</p><p>sane-port 6566/tcp # SANE network scanner daemon</p><p>The official IANA short name for port 6566 is "sane-port". The older name "sane" is now deprecated.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INETD CONFIGURATION</h2>
        <div class="sectioncontent">
<p>It is required to add a single line to the inetd configuration file <em>(/etc/inetd.conf)</em></p><p>The configuration line normally looks like this:</p><p>sane-port stream tcp nowait saned.saned /usr/sbin/saned saned</p><p>However, if your system uses <a href="../man8/tcpd.8.html"><strong>tcpd</strong>(8)</a> for additional security screening, you may want to disable saned access control by putting ``+'' in <em>saned.conf</em> and use a line of the following form in <em>/etc/inetd.conf</em> instead:</p><p>sane-port stream tcp nowait saned.saned /usr/sbin/tcpd /usr/sbin/saned</p><p>Note that both examples assume that there is a <strong>saned</strong> group and a <strong>saned</strong> user.  If you follow this example, please make sure that the access permissions on the special device are set such that <strong>saned</strong> can access the scanner (the program generally needs read and write access to scanner devices).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">XINETD CONFIGURATION</h2>
        <div class="sectioncontent">
<p>If xinetd is installed on your system instead of inetd the following example for <em>/etc/xinetd.conf</em> may be helpful:</p>
<pre>
# default: off
# description: The sane server accepts requests
# for network access to a local scanner via the
# network.
service sane-port
{
   port        = 6566
   socket_type = stream
   wait        = no
   user        = saned
   group       = saned
   server      = /usr/sbin/saned
}
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYSTEMD CONFIGURATION</h2>
        <div class="sectioncontent">
<p>for systemd we need to add 2 configuation files in <em>/etc/systemd/system.</em></p><p>The first file we need to add here is called <em>saned.socket.</em> It shall have the following contents:</p>
<pre>
[Unit]
Description=saned incoming socket

[Socket]
ListenStream=6566
Accept=yes
MaxConnections=1

[Install]
WantedBy=sockets.target
</pre>
<p>The second file to be added is <em>saned@.service</em> with the following contents:</p>
<pre>
[Unit]
Description=Scanner Service
Requires=saned.socket

[Service]
ExecStart=/usr/sbin/saned
User=saned
Group=saned
StandardInput=null
StandardOutput=syslog
StandardError=syslog
# Environment=SANE_CONFIG_DIR=/etc/sane.d SANE_DEBUG_DLL=255
</pre>
<p>Is you need to set an environment variable for saned like <strong>SANE_CONFIG_DIR</strong> you will have to remove the # on the last line and set the variable appropriately.  Multiple variables can be set by separating the assignments by spaces as shown in the example above.</p><p>Unlike <em>(x)inetd</em> systemd allows debugging output from backends set using <strong>SANE_DEBUG_&lt;backend_name&gt;</strong> to be captured. With the service unit as described above, the debugging output is forwarded to the system log.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/hosts.equiv</em></p>
  </dt>
  <dd>
    <p>The hosts listed in this file are permitted to access all local SANE devices.  Caveat: this file imposes serious security risks and its use is not recommended.</p>
  </dd>
  <dt>
    <p><em>/etc/sane.d/saned.conf</em></p>
  </dt>
  <dd>
    <p>Contains a list of hosts permitted to access local SANE devices (see also description of <strong>SANE_CONFIG_DIR</strong> below).</p>
  </dd>
  <dt>
    <p><em>/etc/sane.d/saned.users</em></p>
  </dt>
  <dd>
    <p>If this file contains lines of the form</p><p>user:password:backend</p><p>access to the listed backends is restricted. A backend may be listed multiple times for different user/password combinations. The server uses MD5 hashing if supported by the client.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>SANE_CONFIG_DIR</strong></p>
  </dt>
  <dd>
    <p>This environment variable specifies the list of directories that may contain the configuration file.  Under UNIX, the directories are separated by a colon (`:'), under OS/2, they are separated by a semi-colon (`;').  If this variable is not set, the configuration file is searched in two default directories: first, the current working directory (".") and then in /etc/sane.d.  If the value of the environment variable ends with the directory separator character, then the default directories are searched after the explicitly specified directories.  For example, setting <strong>SANE_CONFIG_DIR</strong> to "/tmp/config:" would result in directories "tmp/config", ".", and "/etc/sane.d" being searched (in this order).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO saned&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/sane.7.html"><strong>sane</strong>(7)</a>, <a href="../man1/scanimage.1.html"><strong>scanimage</strong>(1)</a>, <a href="../man1/xscanimage.1.html"><strong>xscanimage</strong>(1)</a>, <a href="../man1/xcam.1.html"><strong>xcam</strong>(1)</a>, <strong>sane-dll</strong>(5), <a href="../man5/sane-net.5.html"><strong>sane-net</strong>(5)</a>, <strong>sane-"backendname"</strong>(5)</p><p><em>http://www.penguin-breeder.org/?page=sane-net</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>David Mosberger</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="samusrgrp.8.html"><span aria-hidden="true">&larr;</span> samusrgrp.8: Add or remove users from groups in sam database files</a></li>
   <li class="next"><a href="saquery.8.html">saquery.8: Saquery - <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
