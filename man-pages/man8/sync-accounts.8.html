<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sync-accounts: Synchronise accounts and passwords</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Synchronise accounts and passwords">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sync-accounts (8) manual">
  <meta name="twitter:description" content="Synchronise accounts and passwords">
  <meta name="twitter:image" content="https://www.carta.tech/images/chiark-scripts-sync-accounts-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/sync-accounts.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sync-accounts (8) manual" />
  <meta property="og:description" content="Synchronise accounts and passwords" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/chiark-scripts-sync-accounts-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sync-accounts<small> (8)</small></h1>
        <p class="lead">Synchronise accounts and passwords</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sync-accounts.8.html">
      <span itemprop="name">sync-accounts: Synchronise accounts and passwords</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/chiark-scripts/">
      <span itemprop="name">chiark-scripts</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sync-accounts.8.html">
      <span itemprop="name">sync-accounts: Synchronise accounts and passwords</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sync-accounts</strong> [<em>options</em>] [<em>source</em> ...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sync-accounts</strong> is a tool for copying account information into the local system's password and group databases, or equivalent, from other systems.  It can be used to slave individual accounts, whole systems, or various partial combinations.</p><p>By default, when invoked, sync-accounts reads is configuration file and updates all of the local details it is configured to synchronise, from all relevant sources.</p><p>If one or more <em>source</em>s are named as command-line arguments, only information from those sources is installed locally.</p><p>See <a href="../man5/sync-accounts.5.html"><strong>sync-accounts</strong>(5)</a></strong> for detailed information about sync-accounts's behaviour and configuration.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-C</strong><em>config-file</em></p>
  </dt>
  <dd>
    <p>Reads <em>config-file</em> instead of <strong>/etc/sync-accounts</strong>.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Instead of updating local information, sync-accounts displays a summary of which accounts are synchronised or not, and from where.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Causes sync-accounts not to actually install the new information in the local password and group databases.  Instead, updated versions are written to the files <strong>passwd</strong> and <strong>group</strong> in the current directory.  With <strong>-n</strong> new accounts are not created at all.  The system databases are not locked.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>sync-accounts is not resistant to malicious data in the local password and group databases, or its configuration file or command line arguments.</p><p>Malicious data in source information will not be able to take control of sync-accounts, but will be copied to the local databases if sync-accounts is configured to do so.</p><p>To update the local databases, sync-accounts must be run as root. For -q and -n sync-accounts still needs to be able to successfuly invoke the commands specified in the configuration for getpasswd and getgroup.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>All went well and there were no warnings.</p>
  </dd>
  <dt>
    <p>any other</p>
  </dt>
  <dd>
    <p>There were problems.  The local databases may or may not have been updated.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/sync-accounts</strong></p>
  </dt>
  <dd>
    <p>Default configuration file.  (Override with <strong>-C</strong>.)</p>
  </dd>
  <dt>
    <p><strong>sync-accounts-createuser</strong></p>
  </dt>
  <dd>
    <p>Default command invoked by sync-accounts to create local users.</p>
  </dd>
  <dt>
    <p><strong>/home</strong></p>
  </dt>
  <dd>
    <p>Default location for created users' home directories.</p>
  </dd>
  <dt>
    <p><strong>/bin/sh</strong></p>
  </dt>
  <dd>
    <p>Default shell for created users.</p>
  </dd>
  <dt>
    <p><strong>/etc/passwd</strong>, <strong>/etc/group</strong>, <strong>/etc/shadow</strong>, <strong>/etc/master.passwd</strong></p>
  </dt>
  <dd>
    <p>Local account databases, depending on configuration.</p>
  </dd>
  <dt>
    <p><strong>/etc/shadow-non-existent</strong></p>
  </dt>
  <dd>
    <p>Must not exist.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>EDITOR</strong>, <strong>VISUAL</strong></p>
  </dt>
  <dd>
    <p>Manipulated by sync-\accounts when it is reinvoking itself via vipw or vigr, according to <strong>lockpasswd runvia</strong> or <strong>lockgroup runvia</strong>.</p>
  </dd>
  <dt>
    <p><strong>SYNC_ACCOUNTS_*</strong></p>
  </dt>
  <dd>
    <p>Used by sync-accounts for its own purposes.  Do not set these variables.</p>
  </dd>

</dl>
<p>Setting variables used by <a href="../man8/vipw.8.html"><strong>vipw</strong>(8)</a> and <strong>vigr</strong>(8), apart from <strong>EDITOR</strong> and/or<strong>VISUAL</strong> will affect the operation of sync-accounts. Avoid messing with these if possible.</p><p><strong>PATH</strong> is used to find subprograms such as <strong>sync-accounts-createuser</strong> and <strong>vipw</strong>/<strong>vigr</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Using sync-accounts does not give particularly prompt propagation of changed account information.</p><p>There is no simple mechanism for automatically getting the right configuration details for accessing the local system's password and group databases.</p><p>All the systems sharing account information using sync-accounts need to be using compatible encrypted-password schemes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>sync-accounts</strong> and this manpage are part of the <strong>sync-accounts</strong> package which was written by Ian Jackson &lt;ian@chiark.greenend.org.uk&gt;. They are Copyright 1999-2000,2002 Ian Jackson &lt;ian@davenant.greenend.org.uk&gt;, and Copyright 2000-2001 nCipher Corporation Ltd.</p><p>The sync-accounts package is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3, or (at your option) any later version.</p><p>This is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, consult the Free Software Foundation's website at www.fsf.org, or the GNU Project website at www.gnu.org.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sync-accounts&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/sync-accounts.5.html"><strong>sync-accounts</strong>(5)</a>,  <a href="../man8/grab-account.8.html"><strong>grab-account</strong>(8)</a>,  <a href="../man8/sync-accounts-createuser.8.html"><strong>sync-accounts-createuser</strong>(8)</a>,  <a href="../man5/passwd.5.html"><strong>passwd</strong>(5)</a>,  <a href="../man5/group.5.html"><strong>group</strong>(5)</a>,  <a href="../man5/shadow.5.html"><strong>shadow</strong>(5)</a>,  <strong>master.passwd</strong>(5),  <a href="../man8/vipw.8.html"><strong>vipw</strong>(8)</a>,  <strong>vigr</strong>(8)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="synaptic.8.html"><span aria-hidden="true">&larr;</span> synaptic.8: Graphical management of software packages</a></li>
   <li class="next"><a href="sync-accounts-createuser.8.html">sync-accounts-createuser.8: Helper/hook program for sync-accounts <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
