<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>schedtool: Query and set cpu scheduling parameters</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Query and set cpu scheduling parameters">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="schedtool (8) manual">
  <meta name="twitter:description" content="Query and set cpu scheduling parameters">
  <meta name="twitter:image" content="https://www.carta.tech/images/schedtool-schedtool-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/schedtool.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="schedtool (8) manual" />
  <meta property="og:description" content="Query and set cpu scheduling parameters" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/schedtool-schedtool-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">schedtool<small> (8)</small></h1>
        <p class="lead">Query and set cpu scheduling parameters</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/schedtool.8.html">
      <span itemprop="name">schedtool: Query and set cpu scheduling parameters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/schedtool/">
      <span itemprop="name">schedtool</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/schedtool.8.html">
      <span itemprop="name">schedtool: Query and set cpu scheduling parameters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>schedtool</strong>
[<strong>-0</strong>|<strong>-N</strong>] [<strong>-1</strong>|<strong>-F</strong>] [<strong>-2</strong>|<strong>-R</strong>] [<strong>-3</strong>|<strong>-B</strong>] [<strong>-4</strong>|<strong>-I</strong>] [<strong>-5</strong>|<strong>-D</strong>]
[<strong>-M</strong> <em>policy</em>]
[<strong>-a</strong> <em>affinity</em>]
[<strong>-p</strong> <em>prio</em>]
[<strong>-n</strong> <em>nice_level</em>]
[<strong>-e</strong> <em>command [arg ...]</em>]
[<strong>-r</strong>]
[<strong>-v</strong>]
[<strong>-h</strong>]
[LIST OF <em>PIDs</em>]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>schedtool</strong> can set all CPU scheduling parameters Linux is capable of or display information for given processes.</p><p>Long-running, non-interactive tasks may benefit from SCHED_BATCH as timeslices are longer, less system-time is wasted by computing the next runnable process and the caches stay stable.</p><p>Audio/video or other near-realtime applications may run with less skipping if set to SCHED_RR. Use the static priority-switch <strong>-p</strong> to designate inter-process-hierarchies.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>schedtool</strong> now supports setting the CPU-affinity introduced in linux 2.5.8.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-N</strong> or <strong>-0</strong> set all <em>PIDs</em> to SCHED_NORMAL/OTHER</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-F</strong> or <strong>-1</strong> to SCHED_FIFO   root-credentials required</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-R</strong> or <strong>-2</strong> to SCHED_RR     root-credentials required</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-B</strong> or <strong>-3</strong> to SCHED_BATCH</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-I</strong> or <strong>-4</strong> to SCHED_ISO</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-D</strong> or <strong>-5</strong> to SCHED_IDLEPRIO</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-M</strong> <em>policy</em> for manual/raw mode; policy is the number of the scheduling policy (see above for 0-4). This option is mostly for kernel guys that want to test their new implementations.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-p</strong> <em>prio</em> specify static priority <strong>required</strong> for SCHED_FIFO and SCHED_RR. Usually ranged from 1-99.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-a</strong> <em>affinity</em> set the PID's <em>affinity</em> to this bitmask (hexadecimal); alternatively, a list mode is supported.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-n</strong> <em>nice_level</em> set the PID's nice level; see <a href="../man2/nice.2.html"><strong>nice</strong>(2)</a>, <a href="../man1/nice.1.html"><strong>nice</strong>(1)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-e</strong> <em>command [arg ...]</em> execute <em>command</em> with given scheduling parameters (overwrites schedtool's process image). See EXAMPLES.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-r</strong> display min and max priority for each policy.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-v</strong> be verbose.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><strong>-h</strong> help</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To query the $SHELL's policies:</p>
<pre>
    #&gt; schedtool $$

To query some <em>PIDs</em>, namely 1 2 and 3:

    #&gt; schedtool 1 2 3

</pre>
<p>To <strong>execute</strong> mplayer in <strong>SCHED_RR</strong> with priority 20. The priority arg is needed for both SCHED_RR and SCHED_FIFO.</p>
<pre>
    #&gt; schedtool -R -p 20 -e mplayer -quiet some_file.avi

</pre>
<p>To set current shell to <strong>SCHED_BATCH</strong>, which all programs the shell starts will inherit:</p>
<pre>
    #&gt; schedtool -3 $$

</pre>
<p>To set all processes with the name 'cpu_hog' to SCHED_BATCH:</p>
<pre>
    #&gt; schedtool -3 `pidof cpu_hog`

</pre>
<p>To set a process' <em>affinity</em> to only the first CPU (CPU0):</p>
<pre>
    #&gt; schedtool -a 0x1 &lt;PID&gt;

Using the list mode and affinty of CPU0 and CPU3:

    #&gt; schedtool -a 0,3 &lt;PID&gt;

</pre>
<p>A combination of an <em>affinity</em> and a <em>policy</em>-argument is - of course - always possible.</p>
<pre>
   #&gt; schedtool -B -a 0x1 &lt;PID&gt;

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AFFINITY MASK</h2>
        <div class="sectioncontent">
<p>The <em>affinity</em>-argument determines on which CPUs a process is allowed to run. It consists of a simple bitmask represented in hexadecimal. CPU0 is denoted by the least-significant bit, CPU1 by the second least-significant and so on, thus giving:</p>
<pre>
    <strong>0x1</strong> -&gt; only run on CPU0
</pre>

<pre>
    <strong>0x2</strong> -&gt; only run on CPU1
</pre>

<pre>
    <strong>0x4</strong> -&gt; only run on CPU2
</pre>

<pre>
    <strong>0x8</strong> -&gt; only run on CPU3 ... and so on.
</pre>
<p>Multi-target CPUs may be specified using bitwise OR of the values:</p>
<pre>
    <strong>0x7</strong> -&gt; run on CPUs 0, 1, 2 but <strong>NOT</strong> on 4
</pre>

<pre>
    <strong>0x3</strong> -&gt; run only on CPUs 0 and 1
</pre>
<p>The default is to run a process on all CPUs, giving a mask of</p>
<pre>
    <strong>0xf</strong> for all 4 CPUs
</pre>

<pre>
    <strong>0xff</strong> for all 8 CPUs
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AFFINITY MASK - LIST MODE</h2>
        <div class="sectioncontent">
<p>Alternatively a list mode is supported where you can specify the CPUs delimited by ",". The following runs &lt;PID&gt; on CPU0 and CPU1 (equivalent to <strong>0x3</strong>):</p>
<pre>
   #&gt; schedtool -a <strong>0,1</strong> &lt;PID&gt;

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">POLICY OVERVIEW</h2>
        <div class="sectioncontent">
<p><strong>SCHED_NORMAL / SCHED_OTHER</strong> This is the default policy and for the average program with some interaction. Does preemption of other processes.</p><p><strong>SCHED_FIFO</strong> First-In, First Out Scheduler, used only for real-time contraints. Processes in this class are usually not preempted by others, they need to free themselves from the CPU via sched_yield() and as such you need special designed applications. <strong>Use with extreme care.</strong> <strong>ROOT-credentials required.</strong></p><p><strong>SCHED_RR</strong> Round-Robin Scheduler, also used for real-time constraints. CPU-time is assigned in an round-robin fashion with a much smaller timeslice than with SCHED_NORMAL and processes in this group are favoured over SCHED_NORMAL. Usable for audio/video applications near peak rate of the system. <strong>ROOT-credentials required.</strong></p><p><strong>SCHED_BATCH</strong> [ since 2.6.16 in mainline ] SCHED_BATCH was designed for non-interactive, CPU-bound applications. It uses longer timeslices (to better exploit the cache), but can be interrupted anytime by other processes in other classes to guaratee interaction of the system. Processes in this class are selected last but may result in a considerable speed-up (up to 300%). No interactive boosting is done.</p><p><strong>SCHED_ISO</strong> [ patch needed ] SCHED_ISO was designed to give users a SCHED_RR-similar class. To quote Con Kolivas: "This is a non-expiring scheduler policy designed to guarantee a timeslice within a reasonable latency while preventing starvation. Good for gaming, video at the limits of hardware, video capture etc."</p><p><strong>SCHED_IDLEPRIO</strong> [ patch needed ] SCHED_IDLEPRIO is similar to SCHED_BATCH, but was explicitely designed to consume only the time the CPU is idle. No interactive boosting is done. If you used SCHED_BATCH in the -ck kernels this is what you want since 2.6.16</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HINTS</h2>
        <div class="sectioncontent">
<p>PID 0 means "current process", in our case, schedtool. May occur when using the -e switch.</p><p>Be careful with SCHED_FIFO! You may lock out other processes from the CPU, including your shell.</p><p>For SCHED_BATCH you <em>certainly</em> need the a recent 2.6 kernel.</p><p>A short overview is given in SCHED_DESIGN and the <strong>README</strong> contains thourough discussion. The <strong>INSTALL</strong> file also lists all prerequisites and where you can get patches.</p><p>Affinity 0x0 should never be used.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO schedtool&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man2/sched_setscheduler.2.html"><strong>sched_setscheduler</strong>(2)</a>, <a href="../man2/sched_setaffinity.2.html"><strong>sched_setaffinity</strong>(2)</a>, <a href="../man2/nice.2.html"><strong>nice</strong>(2)</a>, <a href="../man1/nice.1.html"><strong>nice</strong>(1)</a>, <strong>renice</strong>(3).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>You need some knowledge about the kernel and scheduling. The author is a grumpy little elitist.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Freek</p><p>Please contact me via freshmeat.net's "contact author"-feature (http://freshmeat.net/projects/schedtool).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="scepclient.8.html"><span aria-hidden="true">&larr;</span> scepclient.8: Client for the scep protocol</a></li>
   <li class="next"><a href="schema-reload.pl.8.html">schema-reload.pl.8: Directory server perl script for updating the schema. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
