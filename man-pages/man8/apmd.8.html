<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>apmd: Advanced power management (apm) daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Advanced power management (apm) daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="apmd (8) manual">
  <meta name="twitter:description" content="Advanced power management (apm) daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/apmd-apmd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/apmd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="apmd (8) manual" />
  <meta property="og:description" content="Advanced power management (apm) daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/apmd-apmd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">apmd<small> (8)</small></h1>
        <p class="lead">Advanced power management (apm) daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/apmd.8.html">
      <span itemprop="name">apmd: Advanced power management (apm) daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/apmd/">
      <span itemprop="name">apmd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/apmd.8.html">
      <span itemprop="name">apmd: Advanced power management (apm) daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>apmd</strong> <strong>[ -TVWciqv ]</strong> <strong>[ -P </strong><em>program</em><strong> ]</strong> <strong>[ -T </strong><em>seconds</em><strong> ]</strong> <strong>[ -c </strong><em>seconds</em><strong> ]</strong> <strong>[ -p </strong><em>percent</em><strong> ]</strong> <strong>[ -v </strong><em>level</em><strong> ]</strong> <strong>[ -w </strong><em>percent</em><strong> ]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>apmd</strong> is an monitoring daemon for the Advanced Power Management (APM) subsystem. The APM subsystem consists of power-management hardware, firmware usually referred to as the APM BIOS and a driver in the operating system kernel. The daemon can execute a program (usually a shell script) when events are reported by the APM subsystem, and will log, via <strong>syslogd</strong>(8), certain changes in power status. When the available battery power becomes very low it can alert the user.</p><p>When the APM subsystem notifies the daemon of a pending suspend or standby request, <strong>apmd</strong> will run a proxy program, log the event, <a href="../man2/sync.2.html"><strong>sync</strong>(2)</a> data to the disk and then tell the APM subsystem to continue its operation.</p><p>Preparations for power management events are made mainly by the proxy <em>program</em> specified using the -P option. The proxy program is invoked with one or two arguments:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>start</strong></p>
  </dt>
  <dd>
    <p>Invoked when the daemon starts.</p>
  </dd>
  <dt>
    <p><strong>stop</strong></p>
  </dt>
  <dd>
    <p>Invoked when the daemon stops.</p>
  </dd>
  <dt>
    <p><strong>standby ( system | user )</strong></p>
  </dt>
  <dd>
    <p>Invoked when the APM subsystem reports that standby has been initiated. The second parameter indicates whether firmware ("system") or software ("user") was the originator of the event.</p><p>The "standby" mode conserves power but leaves the machine able to respond almost immediately to user activity. Most laptops can't stay in standby mode on battery power for more than a few hours or a day. Normally, nothing special needs to be done to prepare for "standing by".</p>
  </dd>
  <dt>
    <p><strong>suspend ( system | user )</strong></p>
  </dt>
  <dd>
    <p>Invoked when the APM subsystem reports that suspension has been initiated. The second parameter indicates whether firmware ("system") or software ("user") was the originator of the event.</p><p>The "suspend" mode aggressively conserves power.  Usually this involves shutting off power to all devices except the CPU core and memory, which are put into a very low power mode.  Most laptops can stay suspended, using battery power alone, for several days.  ("Hibernation" is a kind of super-suspend, where all that state is written to disk and the machine uses no power. Hibernation is treated like suspension by the APM subsystem.)</p><p>Before suspending, PCMCIA devices may need to be disabled using <strong>cardctl</strong>(8), and some modular device drivers may need to be unloaded if they have not been designed to support power management.</p>
  </dd>
  <dt>
    <p><strong>resume ( suspend | standby | critical )</strong></p>
  </dt>
  <dd>
    <p>Invoked when the APM subsystem reports that computer has resumed normal operation. The second parameter indicates the kind of event from which the system is resuming. (A "critical" suspend is a suspension that the APM subsystem performs in an emergency.  Some kernels do not pass this event to user space.  If <strong>apmd</strong> receives the event, it acknowledges the event and exits immediately without logging or running the proxy program.)</p><p>When resuming, PCMCIA devices may need to be re-enabled using <strong>cardctl</strong>(8), and some modular drivers may need to be reloaded. Note that in the case of a critical suspend, the system state may not have been completely saved.</p>
  </dd>
  <dt>
    <p><strong>change power</strong></p>
  </dt>
  <dd>
    <p>Invoked when the APM subsystem reports a change in power status, such as a switch from mains to battery power.</p>
  </dd>
  <dt>
    <p><strong>change battery</strong></p>
  </dt>
  <dd>
    <p>Invoked when the APM subsystem reports that the charge of one or more batteries is low.  A few minutes of battery power may remain.</p>
  </dd>
  <dt>
    <p><strong>change capability</strong></p>
  </dt>
  <dd>
    <p>Invoked when the APM subsystem reports some change in power management capabilities. It may have been caused by operation of a setup utility, or by the installation or removal of devices.</p>
  </dd>

</dl>
<p><strong>apmd</strong> emits various messages, most of which are self-explanatory. Battery status log entries contain three fields, separated by commas. The first field indicates how full the battery is as a percentage of its capacity. The second field indicates whether the battery is charging, not charging, or discharging. When possible, <strong>apmd</strong> adds in parentheses its estimate of the rate of charging or discharging. The third field indicates how much time the battery can or could be used to power the computer. This information is provided by the APM subsystem. When possible, <strong>apmd</strong> adds in parentheses its own estimate of the battery life (if discharging) or of the time required to charge the battery fully (if charging).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-P </strong>program,<strong> --proxy </strong>program</p>
  </dt>
  <dd>
    <p>Specifies the proxy program to execute when events are received. See above for information about the arguments supplied to this program.</p>
  </dd>
  <dt>
    <p><strong>-T [</strong>seconds<strong>] , --proxy-timeout [</strong>seconds<strong>]</strong></p>
  </dt>
  <dd>
    <p>Sets a time-out for the proxy. Without this option (or with this option and a negative argument) <strong>apmd</strong> waits indefinitely for the proxy to finish. If the proxy enters an infinite loop or wait then the machine may appear to have crashed. If this option is given a positive integer argument then <strong>apmd</strong> will wait only that many seconds for the proxy to finish, after which it will log a warning, kill the proxy, and continue processing the event. The default is 30 seconds.</p>
  </dd>
  <dt>
    <p><strong>-V, --version</strong></p>
  </dt>
  <dd>
    <p>Prints the version of the <strong>apmd</strong> program.</p>
  </dd>
  <dt>
    <p><strong>-W, --wall</strong></p>
  </dt>
  <dd>
    <p>In addition to logging low battery status (as determined either by the <strong>-w</strong> level or by the firmware) using <a href="../man2/syslog.2.html"><strong>syslog</strong>(2)</a>, <strong>apmd</strong> will, given this option, also use <a href="../man1/wall.1.html"><strong>wall</strong>(1)</a> to alert all users.  This is most useful if <strong>syslogd</strong>(8) is not set up to write ALERT messages to all users.  If both methods are used, more warnings will be made during the critical time period.</p>
  </dd>
  <dt>
    <p><strong>-c [</strong>seconds<strong>] , --check [</strong>seconds<strong>]</strong></p>
  </dt>
  <dd>
    <p>Controls how many seconds to wait for an event. Without this option (or with this option and a negative argument) apmd waits indefinitely for an event. If this option is given a positive integer argument then <strong>apmd</strong> will wait only that many seconds before checking the battery level and possibly sending out a warning, calling the proxy or making an entry in the log. The default is 30 seconds.</p>
  </dd>
  <dt>
    <p><strong>-i, --ignore-bios-battery-low</strong></p>
  </dt>
  <dd>
    <p>Causes <strong>apmd</strong> to ignore a LOW BATTERY signal sent by the APM subsystem. Some firmware signals a low battery at the wrong time. Note that LOW BATTERY events may still be generated by <strong>apmd</strong> itself based on the warning level.</p>
  </dd>
  <dt>
    <p><strong>-p </strong>percent,<strong> --percentage </strong>percent</p>
  </dt>
  <dd>
    <p>Controls how often the battery status is logged.  A new line is printed each time the battery content changes by <em>percent_change</em> if logging is enabled. The default is 5. Use a value greater than 100 to disable periodic logging of the battery level.</p>
  </dd>
  <dt>
    <p><strong>-q, --quiet-bios-battery-low</strong></p>
  </dt>
  <dd>
    <p>Causes <strong>apmd</strong> not to generate a warning when a LOW BATTERY signal is received from the APM subsystem.  The firmware on some machines produces an audible warning when power is about to be used up, so an extra warning may not be needed.</p>
  </dd>
  <dt>
    <p><strong>-v [</strong>level<strong>] , --verbose [</strong>level<strong>]</strong></p>
  </dt>
  <dd>
    <p>The daemon can generate messages of varying degrees of unimportance. Each message is assigned one of the priority levels defined for the <strong>syslogd</strong>(8) subsystem, ranging from 0 (EMERG, least unimportant) to 7 (DEBUG, most unimportant).  This option sets the threshold level above which messages are suppressed.  Without an argument it increments the threshold by 1, thus making <strong>apmd</strong> more verbose. The default is 5 (NOTICE).</p>
  </dd>
  <dt>
    <p><strong>-w </strong>percent,<strong> --warn </strong>percent</p>
  </dt>
  <dd>
    <p>When the battery is not being charged and the battery content falls below the specified percent of capacity, and no such event has yet occurred in the current discharge cycle, <strong>apmd</strong> will log a warning at the ALERT log level to <a href="../man2/syslog.2.html"><strong>syslog</strong>(2)</a> and generate a LOW BATTERY event. If the <strong>-W</strong> or <strong>--wall</strong> option was given, the daemon will also use <a href="../man1/wall.1.html"><strong>wall</strong>(1)</a> to alert all users of impending doom. The default warning level is 10. Use a negative value to disable this feature.</p>
  </dd>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Causes <strong>apmd</strong> to print a brief command summary and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>This daemon supports all APM events described in the APM BIOS specification version 1.2; however it fails to support some of the advanced features of APM 1.2, such as reporting the conditions of multiple batteries. (Multiple batteries are currently treated as if they were just one large one.)</p><p>Estimates of charge and discharge rates and times can be very inaccurate.</p><p>There is no interaction yet with ACPI support as found in newer PC hardware.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/dev/apm_bios</em></p>
  </dt>
  <dd>
    <p>Device through which apmd communicates with the Linux APM driver.</p>
  </dd>
  <dt>
    <p><em>/proc/apm</em></p>
  </dt>
  <dd>
    <p>APM driver status information</p>
  </dd>
  <dt>
    <p><em>/etc/apmd_proxy</em></p>
  </dt>
  <dd>
    <p>Proxy program that is run if none is specified.</p>
  </dd>
  <dt>
    <p><em>/etc/apm/apmd_proxy</em></p>
  </dt>
  <dd>
    <p>Proxy program that is run if none is specified. (Debian)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This program was written by Rik Faith (faith@cs.unc.edu) and may be freely distributed under the terms of the GNU General Public License.  There is ABSOLUTELY NO WARRANTY for this program.  The current maintainer is Avery Pennarun (apenwarr@worldvisions.ca).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO apmd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/apm.1.html"><strong>apm</strong>(1)</a>, <a href="../man1/xapm.1.html"><strong>xapm</strong>(1)</a>, <strong>cardctl</strong>(8), <strong>syslogd</strong>(8).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="apcupsd.8.html"><span aria-hidden="true">&larr;</span> apcupsd.8: Daemon for most apcc's ups support under linux and unix</a></li>
   <li class="next"><a href="apphbd.8.html">apphbd.8: Application heartbeat monitor for high-availability linux <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
