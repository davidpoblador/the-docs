<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>smcinit: Initialize the smsc irda controler on various laptops</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Initialize the smsc irda controler on various laptops">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="smcinit (8) manual">
  <meta name="twitter:description" content="Initialize the smsc irda controler on various laptops">
  <meta name="twitter:image" content="https://www.carta.tech/images/irda-utils-smcinit-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/smcinit.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="smcinit (8) manual" />
  <meta property="og:description" content="Initialize the smsc irda controler on various laptops" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/irda-utils-smcinit-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">smcinit<small> (8)</small></h1>
        <p class="lead">Initialize the smsc irda controler on various laptops</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smcinit.8.html">
      <span itemprop="name">smcinit: Initialize the smsc irda controler on various laptops</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/irda-utils/">
      <span itemprop="name">irda-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/smcinit.8.html">
      <span itemprop="name">smcinit: Initialize the smsc irda controler on various laptops</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>smcinit <strong>[OPTIONS]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Toshiba Satellite 1800, Satellite 5100, Tecra 9100 laptops and may be many other models are provided with a SMCS LPC47N227 SuperIO chip which is IrDA SIR/FIR capable. The IrDA subsystem of the SuperIO chip is supported by the <strong>smc-ircc</strong> Linux kernel module. Unfortunately the BIOS neither configurates the SuperIO chip IrDA subsystem (SIR port, FIR port, dma, irq, IrDA mode, power) nor sets the PCI-ISA bridge to decode any usable port. Linux kernel is thus prevented to detect the second UART making impossible to use it in SIR mode. For the same reason, the FIR mode <strong>smc-ircc</strong> is able to detect the SuperIO chip but, once found the IrDA subsystem unconfigured, fails to install.</p><p>While this problem will be fixed in Linux 2.6.x kernel series, the 2.4.x users are frustrated. Daniele Peri, Rob Miller and Paul Hampson mananged to build little utilities that initialize the LPC47N227 SuperIO allowing smc-ircc IrDA kernel driver to detect and use the SMSC chip.</p><p>My sole work was to put these utilities as one package, easy to install and use.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-V, --version</strong></p>
  </dt>
  <dd>
    <p>Show program version and exit</p>
  </dd>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Show a little help on options and exit</p>
  </dd>
  <dt>
    <p><strong>-v, --verbose</strong></p>
  </dt>
  <dd>
    <p>Increase the details about actions performed</p>
  </dd>
  <dt>
    <p><strong>-t, --tty=device</strong></p>
  </dt>
  <dd>
    <p>If specified, the serial <strong>device</strong> will be unbound from the kernel stock serial driver. It is there to replace an external call to <strong>setserial</strong>(1)</strong> to unset the UART of the device. There is no default value.</p>
  </dd>
  <dt>
    <p><strong>-s, --sirio=IO</strong></p>
  </dt>
  <dd>
    <p>Set the SIR (serial infrared) I/O port address to <strong>IO</strong>. Default value is <em>0x3f8</em>.</p>
  </dd>
  <dt>
    <p><strong>-f, --firio=IO</strong></p>
  </dt>
  <dd>
    <p>Set the FIR (fast infrared) I/O port address to <strong>IO</strong>. Default value is <em>0x130</em>.</p>
  </dd>
  <dt>
    <p><strong>-i, --firirq=IRQ</strong></p>
  </dt>
  <dd>
    <p>Set the FIR (fast infrared) IRQ line to <strong>IRQ</strong>. Default value is <em>3</em>.</p>
  </dd>
  <dt>
    <p><strong>-d, --firdma=DMA</strong></p>
  </dt>
  <dd>
    <p>Set the FIR (fast infrared) DMA channel to <strong>DMA</strong>. Default value is <em>3</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>When system startup a script is run from <em>/etc/init.d</em> and which run appropriate SMC intialization utility. This is done before PCMCIA startup because on Tecra 9100 and other models the <strong>orinoco_cs</strong> wireless driver will block the I/O region used 47N227 SuperIO.</p><p>The only configuration file is <em>/etc/sysconfig/smcinit</em> and the variable SMCCONFIG can be set to "1800" or "5100". By default "5100" value is used.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>1800</strong></p>
  </dt>
  <dd>
    <p>for Toshiba Satellite 1800</p>
  </dd>
  <dt>
    <p><strong>5100</strong></p>
  </dt>
  <dd>
    <p>for Toshiba Satellite 5100 and Toshiba Tecra 9100</p>
  </dd>

</dl>
<p>The next step is to configure the kernel IrDA stack package to attach the smc-ircc driver. This is Linux distribution specific. The main thing is that the device should be set to "irda0". Run the following command:</p>
<pre>
irattach irda0 -s
</pre>
<p>Distribution specific configuration:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>SuSE</strong></p>
  </dt>
  <dd>
    <p>Edit the <em>/etc/sysconfig/irda</em> and set IRDA_PORT=irda0</p>
  </dd>
  <dt>
    <p><strong>RedHat</strong></p>
  </dt>
  <dd>
    <p>Edit the <em>/etc/sysconfig/irda</em> and set DEVICE=irda0</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The <strong>smc-ircc</strong> driver is preloaded in kernel. I tested the package only on Tecra 9100 without any additional step, but for Toshiba Satellite 1800 Daniele Peri sugest to put the following line in your <em>/etc/modules.conf</em> (on one line):</p>
<pre>
options smc-ircc ircc_dma=3 ircc_irq=7 ircc_cfg=0x2e &#92;
        ircc_sir=0x2e8 ircc_fir=0x2f8
</pre>
<p>After that run the command:</p>
<pre>
prompt# depmod -a
</pre>
<p>If the laptop enter suspend mode, then resume operation the <strong>smc-ircc</strong> driver will stop working. You need to stop IrDA service, then SMCINIT, start SMCINIT, and finally start IrDA service. Simply put, the kernel driver must be unloaded, then  reloaded.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/sysconfig/smcinit</em></p>
  </dt>
  <dd>
    <p>Configuration file for SMCINIT startup script. It's shell script.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This document is made by Claudiu Costin &lt;claudiuc@kde.org&gt; The utilities authors are Daniele Peri, Rob Miller and Paul Hampson. Thomas Pinz made improvements to <strong>tosh-smcinit</strong> (the former <strong>tosh5100-smcinit</strong>) to expand the number of Toshiba Satellite models supported.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO smcinit&hellip;</h2>
        <div class="sectioncontent">
<p><strong>smcinit</strong>(7),</p><p><strong>tosh1800-smcinit</strong>(8),</p><p><strong>irattach</strong>(1),</p><p><strong>irdadump</strong>(1),</p><p><strong>http://irda.sourceforge.net/smcinit/</strong> the SMCINIT package home page.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="smbta-util.8.html"><span aria-hidden="true">&larr;</span> smbta-util.8: Control encryption in vfs smb_traffic_analyzer</a></li>
   <li class="next"><a href="smdiag.8.html">smdiag.8: Linux soundcard packet radio modem driver diagnostics utility <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
