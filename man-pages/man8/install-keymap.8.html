<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>install-keymap: Install-keymap  expand a given keymap and install it as boot-time keymap</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Install-keymap  expand a given keymap and install it as boot-time keymap">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="install-keymap (8) manual">
  <meta name="twitter:description" content="Install-keymap  expand a given keymap and install it as boot-time keymap">
  <meta name="twitter:image" content="https://www.carta.tech/images/console-common-install-keymap-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/install-keymap.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="install-keymap (8) manual" />
  <meta property="og:description" content="Install-keymap  expand a given keymap and install it as boot-time keymap" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/console-common-install-keymap-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">install-keymap<small> (8)</small></h1>
        <p class="lead">Install-keymap  expand a given keymap and install it as boot-time keymap</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/install-keymap.8.html">
      <span itemprop="name">install-keymap: Install-keymap  expand a given keymap and install it as boot-time keymap</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/console-common/">
      <span itemprop="name">console-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/install-keymap.8.html">
      <span itemprop="name">install-keymap: Install-keymap  expand a given keymap and install it as boot-time keymap</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>install-keymap</strong> [<em>keymap-name</em> | NONE | KERNEL]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>install-keymap</strong> usually takes a <em>keymap-name</em> as argument.  The file is passed to <strong>loadkeys</strong> for loading, so that valid values for this argument are the same than that of arguments to <strong>loadkeys</strong>.  <strong>install-keymap</strong> expands include-like statements in that file, and puts the result in <strong>/etc/console/boottime.kmap.gz</strong>, which will be loaded into the kernel at boot-time.</p><p>One may also specify <strong>KERNEL</strong> instead of a keymap name, causing <strong>/etc/console/boottime.kmap.gz</strong>     to be removed, making sure that no custom keymap will replace the kernel's builtin keymap at next reboot.</p><p>An argument of <strong>NONE</strong> tells the command to do nothing.  It can be used by caller scripts to avoid handling this special case and needlessly duplicate code.</p><p>The purpose of this processing is to solve an annoying problem, of 2 apparently conflicting issues.  The first one is an important goal of keymap management in Debian, namely ensuring that whenever the user or admin is expected to use the keyboard, the keymap selected as boot-time keymap is in use; this means the keymap has to be loaded before a shell is ever proposed, which means very early in the booting process, and especially before all local filesystems are mounted (<strong>/etc/rcS.d/S10checkroot.sh</strong> can spawn <strong>sulogin</strong>).</p><p>The second issue is that for flexibility we allow that <strong>/usr</strong> or <strong>/usr/share</strong> may live on their own partition(s), and thus <strong>/usr/share/keymaps</strong>, where keymap files live, may not be available for reading at the time we need a keymap file.  And no, we won't put 1Mb of keymaps in the root partition just for this.</p><p>And the problem is, most keymap files are not self-contained, so it does not help to just copy the selected file into the root partition.  The best known solution so far is to expand the keymap file so that it becomes self-contained, and put it in the root partition.  That's what this tool does.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>/etc/console/boottime.kmap.gz</strong>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Where the boot-time keymap is stored</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO install-keymap&hellip;</h2>
        <div class="sectioncontent">
<p>loadkeys (8).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This program and manual page were written by Yann Dirson dirson@debian.org for the <strong>Debian GNU/Linux</strong> system, but as it should not include any Debian-specific code, it may be used by others.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="insserv.8.html"><span aria-hidden="true">&larr;</span> insserv.8: Boot sequence organizer using lsb init.d script dependency information</a></li>
   <li class="next"><a href="install-mbr.8.html">install-mbr.8: Install a master boot record manager <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
