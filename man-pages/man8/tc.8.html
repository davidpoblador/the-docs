<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tc: Show / manipulate traffic control settings</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Show / manipulate traffic control settings">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tc (8) manual">
  <meta name="twitter:description" content="Show / manipulate traffic control settings">
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tc (8) manual" />
  <meta property="og:description" content="Show / manipulate traffic control settings" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tc<small> (8)</small></h1>
        <p class="lead">Show / manipulate traffic control settings</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/tc.8.html">
      <span itemprop="name">tc: Show / manipulate traffic control settings</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/iproute2/">
      <span itemprop="name">iproute2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/tc.8.html">
      <span itemprop="name">tc: Show / manipulate traffic control settings</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>tc</strong> [ <em>OPTIONS</em> ] <strong>qdisc [ add | change | replace | link | delete ] dev</strong> DEV <strong></strong> [ parent qdisc-id <strong>| root ]</strong> <strong>[ handle</strong> qdisc-id ] qdisc [ qdisc specific parameters ]</p><p><strong>tc</strong> [ <em>OPTIONS</em> ] <strong>class [ add | change | replace | delete ] dev</strong> DEV <strong>parent</strong> qdisc-id <strong>[ classid</strong> class-id ] qdisc [ qdisc specific parameters ]</p><p><strong>tc</strong> [ <em>OPTIONS</em> ] <strong>filter [ add | change | replace | delete ] dev</strong> DEV <strong>[ parent</strong> qdisc-id <strong>| root ] protocol</strong> protocol <strong>prio</strong> priority filtertype [ filtertype specific parameters ] <strong>flowid</strong> flow-id</p><p><strong>tc</strong> [ <em>OPTIONS</em> ] [ <em>FORMAT</em> ] <strong>qdisc show [ dev</strong> DEV <strong>]</strong></p><p><strong>tc</strong> [ <em>OPTIONS</em> ] [ <em>FORMAT</em> ] <strong>class show dev</strong> DEV</p><p><strong>tc</strong> [ <em>OPTIONS</em> ] <strong>filter show dev</strong> DEV</p><p><em>OPTIONS</em> := { <strong>[ -force ] -b</strong>[<em>atch</em>] <strong>[ filename ] </strong>| <strong>[ </strong><strong>-n</strong>[<em>etns</em>] name <strong>] </strong>| <strong>[ </strong><strong>-nm </strong>| <strong>-nam</strong>[<em>es</em>] <strong>] </strong>| <strong>[ </strong>{ <strong>-cf </strong>| <strong>-c</strong>[<em>onf</em>] } <strong>[ filename ] </strong><strong>] </strong>}</p><p><em>FORMAT</em> := { <strong>-s</strong>[<em>tatistics</em>] | <strong>-d</strong>[<em>etails</em>] | <strong>-r</strong>[<em>aw</em>] | <strong>-p</strong>[<em>retty</em>] | <strong>-i</strong>[<em>ec</em>] | <strong>-g</strong>[<em>raph</em>] }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Tc</strong> is used to configure Traffic Control in the Linux kernel. Traffic Control consists of the following:</p>
<dl class='dl-vertical'>
  <dt>
    <p>SHAPING</p>
  </dt>
  <dd>
    <p>When traffic is shaped, its rate of transmission is under control. Shaping may be more than lowering the available bandwidth - it is also used to smooth out bursts in traffic for better network behaviour. Shaping occurs on egress.</p>
  </dd>
  <dt>
    <p>SCHEDULING</p>
  </dt>
  <dd>
    <p>By scheduling the transmission of packets it is possible to improve interactivity for traffic that needs it while still guaranteeing bandwidth to bulk transfers. Reordering is also called prioritizing, and happens only on egress.</p>
  </dd>
  <dt>
    <p>POLICING</p>
  </dt>
  <dd>
    <p>Whereas shaping deals with transmission of traffic, policing pertains to traffic arriving. Policing thus occurs on ingress.</p>
  </dd>
  <dt>
    <p>DROPPING</p>
  </dt>
  <dd>
    <p>Traffic exceeding a set bandwidth may also be dropped forthwith, both on ingress and on egress.</p>
  </dd>

</dl>
<p>Processing of traffic is controlled by three kinds of objects: qdiscs, classes and filters.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QDISCS</h2>
        <div class="sectioncontent">
<p><strong>qdisc</strong> is short for 'queueing discipline' and it is elementary to understanding traffic control. Whenever the kernel needs to send a packet to an interface, it is <strong>enqueued</strong> to the qdisc configured for that interface. Immediately afterwards, the kernel tries to get as many packets as possible from the qdisc, for giving them to the network adaptor driver.</p><p>A simple QDISC is the 'pfifo' one, which does no processing at all and is a pure First In, First Out queue. It does however store traffic when the network interface can't handle it momentarily.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLASSES</h2>
        <div class="sectioncontent">
<p>Some qdiscs can contain classes, which contain further qdiscs - traffic may then be enqueued in any of the inner qdiscs, which are within the <strong>classes.</strong> When the kernel tries to dequeue a packet from such a <strong>classful qdisc</strong> it can come from any of the classes. A qdisc may for example prioritize certain kinds of traffic by trying to dequeue from certain classes before others.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILTERS</h2>
        <div class="sectioncontent">
<p>A <strong>filter</strong> is used by a classful qdisc to determine in which class a packet will be enqueued. Whenever traffic arrives at a class with subclasses, it needs to be classified. Various methods may be employed to do so, one of these are the filters. All filters attached to the class are called, until one of them returns with a verdict. If no verdict was made, other criteria may be available. This differs per qdisc.</p><p>It is important to notice that filters reside <strong>within</strong> qdiscs - they are not masters of what happens.</p><p>The available filters are:</p>
<dl class='dl-vertical'>
  <dt>
    <p>basic</p>
  </dt>
  <dd>
    <p>Filter packets based on an ematch expression. See <a href="../man8/tc-ematch.8.html"><strong>tc-ematch</strong>(8)</a> for details.</p>
  </dd>
  <dt>
    <p>bpf</p>
  </dt>
  <dd>
    <p>Filter packets using (e)BPF, see <a href="../man8/tc-bpf.8.html"><strong>tc-bpf</strong>(8)</a> for details.</p>
  </dd>
  <dt>
    <p>cgroup</p>
  </dt>
  <dd>
    <p>Filter packets based on the control group of their process. See <a href="../man8/tc-cgroup.8.html"><strong>tc-cgroup</strong>(8)</a> for details.</p>
  </dd>
  <dt>
    <p>flow, flower</p>
  </dt>
  <dd>
    <p>Flow-based classifiers, filtering packets based on their flow (identified by selectable keys). See <a href="../man8/tc-flow.8.html"><strong>tc-flow</strong>(8)</a> and <a href="../man8/tc-flower.8.html"><strong>tc-flower</strong>(8)</a> for details.</p>
  </dd>
  <dt>
    <p>fw</p>
  </dt>
  <dd>
    <p>Filter based on fwmark. Directly maps fwmark value to traffic class. See <a href="../man8/tc-fw.8.html"><strong>tc-fw</strong>(8)</a>.</p>
  </dd>
  <dt>
    <p>route</p>
  </dt>
  <dd>
    <p>Filter packets based on routing table. See <a href="../man8/tc-route.8.html"><strong>tc-route</strong>(8)</a> for details.</p>
  </dd>
  <dt>
    <p>rsvp</p>
  </dt>
  <dd>
    <p>Match Resource Reservation Protocol (RSVP) packets.</p>
  </dd>
  <dt>
    <p>tcindex</p>
  </dt>
  <dd>
    <p>Filter packets based on traffic control index. See <a href="../man8/tc-tcindex.8.html"><strong>tc-tcindex</strong>(8)</a>.</p>
  </dd>
  <dt>
    <p>u32</p>
  </dt>
  <dd>
    <p>Generic filtering on arbitrary packet data, assisted by syntax to abstract common operations. See <a href="../man8/tc-u32.8.html"><strong>tc-u32</strong>(8)</a> for details.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLASSLESS QDISCS</h2>
        <div class="sectioncontent">
<p>The classless qdiscs are:</p>
<dl class='dl-vertical'>
  <dt>
    <p>choke</p>
  </dt>
  <dd>
    <p>CHOKe (CHOose and Keep for responsive flows, CHOose and Kill for unresponsive flows) is a classless qdisc designed to both identify and penalize flows that monopolize the queue. CHOKe is a variation of RED, and the configuration is similar to RED.</p>
  </dd>
  <dt>
    <p>codel</p>
  </dt>
  <dd>
    <p>CoDel (pronounced "coddle") is an adaptive "no-knobs" active queue management algorithm (AQM) scheme that was developed to address the shortcomings of RED and its variants.</p>
  </dd>
  <dt>
    <p>[p|b]fifo</p>
  </dt>
  <dd>
    <p>Simplest usable qdisc, pure First In, First Out behaviour. Limited in packets or in bytes.</p>
  </dd>
  <dt>
    <p>fq</p>
  </dt>
  <dd>
    <p>Fair Queue Scheduler realises TCP pacing and scales to millions of concurrent flows per qdisc.</p>
  </dd>
  <dt>
    <p>fq_codel</p>
  </dt>
  <dd>
    <p>Fair Queuing Controlled Delay is queuing discipline that combines Fair Queuing with the CoDel AQM scheme. FQ_Codel uses a stochastic model to classify incoming packets into different flows and is used to provide a fair share of the bandwidth to all the flows using the queue. Each such flow is managed by the CoDel queuing discipline. Reordering within a flow is avoided since Codel internally uses a FIFO queue.</p>
  </dd>
  <dt>
    <p>gred</p>
  </dt>
  <dd>
    <p>Generalized Random Early Detection combines multiple RED queues in order to achieve multiple drop priorities. This is required to realize Assured Forwarding (RFC 2597).</p>
  </dd>
  <dt>
    <p>hhf</p>
  </dt>
  <dd>
    <p>Heavy-Hitter Filter differentiates between small flows and the opposite, heavy-hitters. The goal is to catch the heavy-hitters and move them to a separate queue with less priority so that bulk traffic does not affect the latency of critical traffic.</p>
  </dd>
  <dt>
    <p>ingress</p>
  </dt>
  <dd>
    <p>This is a special qdisc as it applies to incoming traffic on an interface, allowing for it to be filtered and policed.</p>
  </dd>
  <dt>
    <p>mqprio</p>
  </dt>
  <dd>
    <p>The Multiqueue Priority Qdisc is a simple queuing discipline that allows mapping traffic flows to hardware queue ranges using priorities and a configurable priority to traffic class mapping. A traffic class in this context is a set of contiguous qdisc classes which map 1:1 to a set of hardware exposed queues.</p>
  </dd>
  <dt>
    <p>multiq</p>
  </dt>
  <dd>
    <p>Multiqueue is a qdisc optimized for devices with multiple Tx queues. It has been added for hardware that wishes to avoid head-of-line blocking.  It will cycle though the bands and verify that the hardware queue associated with the band is not stopped prior to dequeuing a packet.</p>
  </dd>
  <dt>
    <p>netem</p>
  </dt>
  <dd>
    <p>Network Emulator is an enhancement of the Linux traffic control facilities that allow to add delay, packet loss, duplication and more other characteristics to packets outgoing from a selected network interface.</p>
  </dd>
  <dt>
    <p>pfifo_fast</p>
  </dt>
  <dd>
    <p>Standard qdisc for 'Advanced Router' enabled kernels. Consists of a three-band queue which honors Type of Service flags, as well as the priority that may be assigned to a packet.</p>
  </dd>
  <dt>
    <p>pie</p>
  </dt>
  <dd>
    <p>Proportional Integral controller-Enhanced (PIE) is a control theoretic active queue management scheme. It is based on the proportional integral controller but aims to control delay.</p>
  </dd>
  <dt>
    <p>red</p>
  </dt>
  <dd>
    <p>Random Early Detection simulates physical congestion by randomly dropping packets when nearing configured bandwidth allocation. Well suited to very large bandwidth applications.</p>
  </dd>
  <dt>
    <p>rr</p>
  </dt>
  <dd>
    <p>Round-Robin qdisc with support for multiqueue network devices. Removed from Linux since kernel version 2.6.27.</p>
  </dd>
  <dt>
    <p>sfb</p>
  </dt>
  <dd>
    <p>Stochastic Fair Blue is a classless qdisc to manage congestion based on packet loss and link utilization history while trying to prevent non-responsive flows (i.e. flows that do not react to congestion marking or dropped packets) from impacting performance of responsive flows. Unlike RED, where the marking probability has to be configured, BLUE tries to determine the ideal marking probability automatically.</p>
  </dd>
  <dt>
    <p>sfq</p>
  </dt>
  <dd>
    <p>Stochastic Fairness Queueing reorders queued traffic so each 'session' gets to send a packet in turn.</p>
  </dd>
  <dt>
    <p>tbf</p>
  </dt>
  <dd>
    <p>The Token Bucket Filter is suited for slowing traffic down to a precisely configured rate. Scales well to large bandwidths.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURING CLASSLESS QDISCS</h2>
        <div class="sectioncontent">
<p>In the absence of classful qdiscs, classless qdiscs can only be attached at the root of a device. Full syntax:</p><p><strong>tc qdisc add dev</strong> DEV <strong>root</strong> QDISC QDISC-PARAMETERS</p><p>To remove, issue</p><p><strong>tc qdisc del dev</strong> DEV <strong>root</strong></p><p>The <strong>pfifo_fast</strong> qdisc is the automatic default in the absence of a configured qdisc.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLASSFUL QDISCS</h2>
        <div class="sectioncontent">
<p>The classful qdiscs are:</p>
<dl class='dl-vertical'>
  <dt>
    <p>ATM</p>
  </dt>
  <dd>
    <p>Map flows to virtual circuits of an underlying asynchronous transfer mode device.</p>
  </dd>
  <dt>
    <p>CBQ</p>
  </dt>
  <dd>
    <p>Class Based Queueing implements a rich linksharing hierarchy of classes. It contains shaping elements as well as prioritizing capabilities. Shaping is performed using link idle time calculations based on average packet size and underlying link bandwidth. The latter may be ill-defined for some interfaces.</p>
  </dd>
  <dt>
    <p>DRR</p>
  </dt>
  <dd>
    <p>The Deficit Round Robin Scheduler is a more flexible replacement for Stochastic Fairness Queuing. Unlike SFQ, there are no built-in queues -- you need to add classes and then set up filters to classify packets accordingly.  This can be useful e.g. for using RED qdiscs with different settings for particular traffic. There is no default class -- if a packet cannot be classified, it is dropped.</p>
  </dd>
  <dt>
    <p>DSMARK</p>
  </dt>
  <dd>
    <p>Classify packets based on TOS field, change TOS field of packets based on classification.</p>
  </dd>
  <dt>
    <p>HFSC</p>
  </dt>
  <dd>
    <p>Hierarchical Fair Service Curve guarantees precise bandwidth and delay allocation for leaf classes and allocates excess bandwidth fairly. Unlike HTB, it makes use of packet dropping to achieve low delays which interactive sessions benefit from.</p>
  </dd>
  <dt>
    <p>HTB</p>
  </dt>
  <dd>
    <p>The Hierarchy Token Bucket implements a rich linksharing hierarchy of classes with an emphasis on conforming to existing practices. HTB facilitates guaranteeing bandwidth to classes, while also allowing specification of upper limits to inter-class sharing. It contains shaping elements, based on TBF and can prioritize classes.</p>
  </dd>
  <dt>
    <p>PRIO</p>
  </dt>
  <dd>
    <p>The PRIO qdisc is a non-shaping container for a configurable number of classes which are dequeued in order. This allows for easy prioritization of traffic, where lower classes are only able to send if higher ones have no packets available. To facilitate configuration, Type Of Service bits are honored by default.</p>
  </dd>
  <dt>
    <p>QFQ</p>
  </dt>
  <dd>
    <p>Quick Fair Queueing is an O(1) scheduler that provides near-optimal guarantees, and is the first to achieve that goal with a constant cost also with respect to the number of groups and the packet length. The QFQ algorithm has no loops, and uses very simple instructions and data structures that lend themselves very well to a hardware implementation.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THEORY OF OPERATION</h2>
        <div class="sectioncontent">
<p>Classes form a tree, where each class has a single parent. A class may have multiple children. Some qdiscs allow for runtime addition of classes (CBQ, HTB) while others (PRIO) are created with a static number of children.</p><p>Qdiscs which allow dynamic addition of classes can have zero or more subclasses to which traffic may be enqueued.</p><p>Furthermore, each class contains a <strong>leaf qdisc</strong> which by default has <strong>pfifo</strong> behaviour, although another qdisc can be attached in place. This qdisc may again contain classes, but each class can have only one leaf qdisc.</p><p>When a packet enters a classful qdisc it can be <strong>classified</strong> to one of the classes within. Three criteria are available, although not all qdiscs will use all three:</p>
<dl class='dl-vertical'>
  <dt>
    <p>tc filters</p>
  </dt>
  <dd>
    <p>If tc filters are attached to a class, they are consulted first for relevant instructions. Filters can match on all fields of a packet header, as well as on the firewall mark applied by ipchains or iptables.</p>
  </dd>
  <dt>
    <p>Type of Service</p>
  </dt>
  <dd>
    <p>Some qdiscs have built in rules for classifying packets based on the TOS field.</p>
  </dd>
  <dt>
    <p>skb-&gt;priority</p>
  </dt>
  <dd>
    <p>Userspace programs can encode a class-id in the 'skb-&gt;priority' field using the SO_PRIORITY option.</p>
  </dd>

</dl>
<p>Each node within the tree can have its own filters but higher level filters may also point directly to lower classes.</p><p>If classification did not succeed, packets are enqueued to the leaf qdisc attached to that class. Check qdisc specific manpages for details, however.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NAMING</h2>
        <div class="sectioncontent">
<p>All qdiscs, classes and filters have IDs, which can either be specified or be automatically assigned.</p><p>IDs consist of a <strong>major</strong> number and a <strong>minor</strong> number, separated by a colon - <strong>major</strong>:<strong>minor</strong>. Both <strong>major</strong> and <strong>minor</strong> are hexadecimal numbers and are limited to 16 bits. There are two special values: root is signified by <strong>major</strong> and <strong>minor</strong> of all ones, and unspecified is all zeros.</p>
<dl class='dl-vertical'>
  <dt>
    <p>QDISCS</p>
  </dt>
  <dd>
    <p>A qdisc, which potentially can have children, gets assigned a <strong>major</strong> number, called a 'handle', leaving the <strong>minor</strong> number namespace available for classes. The handle is expressed as '10:'. It is customary to explicitly assign a handle to qdiscs expected to have children.</p>
  </dd>
  <dt>
    <p>CLASSES</p>
  </dt>
  <dd>
    <p>Classes residing under a qdisc share their qdisc <strong>major</strong> number, but each have a separate <strong>minor</strong> number called a 'classid' that has no relation to their parent classes, only to their parent qdisc. The same naming custom as for qdiscs applies.</p>
  </dd>
  <dt>
    <p>FILTERS</p>
  </dt>
  <dd>
    <p>Filters have a three part ID, which is only needed when using a hashed filter hierarchy.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p>The following parameters are widely used in TC. For other parameters, see the man pages for individual qdiscs.</p>
<dl class='dl-vertical'>
  <dt>
    <p>RATES</p>
  </dt>
  <dd>
    <p>Bandwidths or rates. These parameters accept a floating point number, possibly followed by a unit (both SI and IEC units supported).</p>
<dl class='dl-vertical'>
  <dt>
    <p>bit or a bare number</p>
  </dt>
  <dd>
    <p>Bits per second</p>
  </dd>
  <dt>
    <p>kbit</p>
  </dt>
  <dd>
    <p>Kilobits per second</p>
  </dd>
  <dt>
    <p>mbit</p>
  </dt>
  <dd>
    <p>Megabits per second</p>
  </dd>
  <dt>
    <p>gbit</p>
  </dt>
  <dd>
    <p>Gigabits per second</p>
  </dd>
  <dt>
    <p>tbit</p>
  </dt>
  <dd>
    <p>Terabits per second</p>
  </dd>
  <dt>
    <p>bps</p>
  </dt>
  <dd>
    <p>Bytes per second</p>
  </dd>
  <dt>
    <p>kbps</p>
  </dt>
  <dd>
    <p>Kilobytes per second</p>
  </dd>
  <dt>
    <p>mbps</p>
  </dt>
  <dd>
    <p>Megabytes per second</p>
  </dd>
  <dt>
    <p>gbps</p>
  </dt>
  <dd>
    <p>Gigabytes per second</p>
  </dd>
  <dt>
    <p>tbps</p>
  </dt>
  <dd>
    <p>Terabytes per second</p>
  </dd>

</dl>
<p>To specify in IEC units, replace the SI prefix (k-, m-, g-, t-) with IEC prefix (ki-, mi-, gi- and ti-) respectively.</p><p>TC store rates as a 32-bit unsigned integer in bps internally, so we can specify a max rate of 4294967295 bps.</p>
  </dd>
  <dt>
    <p>TIMES</p>
  </dt>
  <dd>
    <p>Length of time. Can be specified as a floating point number followed by an optional unit:</p>
<dl class='dl-vertical'>
  <dt>
    <p>s, sec or secs</p>
  </dt>
  <dd>
    <p>Whole seconds</p>
  </dd>
  <dt>
    <p>ms, msec or msecs</p>
  </dt>
  <dd>
    <p>Milliseconds</p>
  </dd>
  <dt>
    <p>us, usec, usecs or a bare number</p>
  </dt>
  <dd>
    <p>Microseconds.</p>
  </dd>

</dl>
<p>TC defined its own time unit (equal to microsecond) and stores time values as 32-bit unsigned integer, thus we can specify a max time value of 4294967295 usecs.</p>
  </dd>
  <dt>
    <p>SIZES</p>
  </dt>
  <dd>
    <p>Amounts of data. Can be specified as a floating point number followed by an optional unit:</p>
<dl class='dl-vertical'>
  <dt>
    <p>b or a bare number</p>
  </dt>
  <dd>
    <p>Bytes.</p>
  </dd>
  <dt>
    <p>kbit</p>
  </dt>
  <dd>
    <p>Kilobits</p>
  </dd>
  <dt>
    <p>kb or k</p>
  </dt>
  <dd>
    <p>Kilobytes</p>
  </dd>
  <dt>
    <p>mbit</p>
  </dt>
  <dd>
    <p>Megabits</p>
  </dd>
  <dt>
    <p>mb or m</p>
  </dt>
  <dd>
    <p>Megabytes</p>
  </dd>
  <dt>
    <p>gbit</p>
  </dt>
  <dd>
    <p>Gigabits</p>
  </dd>
  <dt>
    <p>gb or g</p>
  </dt>
  <dd>
    <p>Gigabytes</p>
  </dd>

</dl>
<p>TC stores sizes internally as 32-bit unsigned integer in byte, so we can specify a max size of 4294967295 bytes.</p>
  </dd>
  <dt>
    <p>VALUES</p>
  </dt>
  <dd>
    <p>Other values without a unit. These parameters are interpreted as decimal by default, but you can indicate TC to interpret them as octal and hexadecimal by adding a '0' or '0x' prefix respectively.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TC COMMANDS</h2>
        <div class="sectioncontent">
<p>The following commands are available for qdiscs, classes and filter:</p>
<dl class='dl-vertical'>
  <dt>
    <p>add</p>
  </dt>
  <dd>
    <p>Add a qdisc, class or filter to a node. For all entities, a <strong>parent</strong> must be passed, either by passing its ID or by attaching directly to the root of a device. When creating a qdisc or a filter, it can be named with the <strong>handle</strong> parameter. A class is named with the <strong>classid</strong> parameter.</p>
  </dd>
  <dt>
    <p>delete</p>
  </dt>
  <dd>
    <p>A qdisc can be deleted by specifying its handle, which may also be 'root'. All subclasses and their leaf qdiscs are automatically deleted, as well as any filters attached to them.</p>
  </dd>
  <dt>
    <p>change</p>
  </dt>
  <dd>
    <p>Some entities can be modified 'in place'. Shares the syntax of 'add', with the exception that the handle cannot be changed and neither can the parent. In other words, <strong></strong> change cannot move a node.</p>
  </dd>
  <dt>
    <p>replace</p>
  </dt>
  <dd>
    <p>Performs a nearly atomic remove/add on an existing node id. If the node does not exist yet it is created.</p>
  </dd>
  <dt>
    <p>link</p>
  </dt>
  <dd>
    <p>Only available for qdiscs and performs a replace where the node must exist already.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong>,<strong> -b filename</strong>,<strong> -batch</strong>,<strong> -batch filename</strong></p>
  </dt>
  <dd>
    <p>read commands from provided file or standard input and invoke them. First failure will cause termination of tc.</p>
  </dd>
  <dt>
    <p><strong>-force</strong></p>
  </dt>
  <dd>
    <p>don't terminate tc on errors in batch mode. If there were any errors during execution of the commands, the application return code will be non zero.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>,<strong> -net</strong>,<strong> -netns </strong>&lt;NETNS&gt;</p>
  </dt>
  <dd>
    <p>switches <strong>tc</strong> to the specified network namespace <em>NETNS</em>. Actually it just simplifies executing of:</p><p><strong>ip netns exec</strong> <em>NETNS</em> <strong>tc</strong> [ <em>OPTIONS</em> ] <em>OBJECT</em> { <em>COMMAND</em> |  <strong>help</strong> }</p><p>to</p><p><strong>tc</strong> -n[etns] <em>NETNS</em> [ <em>OPTIONS</em> ] <em>OBJECT</em> { <em>COMMAND</em> |  <strong>help</strong> }</p>
  </dd>
  <dt>
    <p><strong>-cf</strong>,<strong> -conf </strong>&lt;FILENAME&gt;</p>
  </dt>
  <dd>
    <p>specifies path to the config file. This option is used in conjunction with other options (e.g. <strong>-nm</strong>).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMAT</h2>
        <div class="sectioncontent">
<p>The show command has additional formatting options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-s</strong>,<strong> -stats</strong>,<strong> -statistics</strong></p>
  </dt>
  <dd>
    <p>output more statistics about packet usage.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>,<strong> -details</strong></p>
  </dt>
  <dd>
    <p>output more detailed information about rates and cell sizes.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>,<strong> -raw</strong></p>
  </dt>
  <dd>
    <p>output raw hex values for handles.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>,<strong> -pretty</strong></p>
  </dt>
  <dd>
    <p>decode filter offset and mask values to equivalent filter commands based on TCP/IP.</p>
  </dd>
  <dt>
    <p><strong>-iec</strong></p>
  </dt>
  <dd>
    <p>print rates in IEC units (ie. 1K = 1024).</p>
  </dd>
  <dt>
    <p><strong>-g</strong>,<strong> -graph</strong></p>
  </dt>
  <dd>
    <p>shows classes as ASCII graph. Prints generic stats info under each class if <strong>-s</strong> option was specified. Classes can be filtered only by <strong>dev</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-nm</strong>,<strong> -name</strong></p>
  </dt>
  <dd>
    <p>resolve class name from <strong>/etc/iproute2/tc_cls</strong> file or from file specified by <strong>-cf</strong> option. This file is just a mapping of <strong>classid</strong> to class name:</p><p># Here is comment</p><p>1:40   voip # Here is another comment</p><p>1:50   web</p><p>1:60   ftp</p><p>1:2    home</p><p><strong>tc</strong> will not fail if <strong>-nm</strong> was specified without <strong>-cf</strong> option but <strong>/etc/iproute2/tc_cls</strong> file does not exist, which makes it possible to pass <strong>-nm</strong> option for creating <strong>tc</strong> alias.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>tc -g class show dev eth0</p><p>Shows classes as ASCII graph on eth0 interface.</p><p>tc -g -s class show dev eth0</p><p>Shows classes as ASCII graph with stats info under each class.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p><strong>tc</strong> was written by Alexey N. Kuznetsov and added in Linux 2.2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tc&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/tc-basic.8.html"><strong>tc-basic</strong>(8)</a>, <a href="../man8/tc-bfifo.8.html"><strong>tc-bfifo</strong>(8)</a>, <a href="../man8/tc-bpf.8.html"><strong>tc-bpf</strong>(8)</a>, <a href="../man8/tc-cbq.8.html"><strong>tc-cbq</strong>(8)</a>, <a href="../man8/tc-cgroup.8.html"><strong>tc-cgroup</strong>(8)</a>, <a href="../man8/tc-choke.8.html"><strong>tc-choke</strong>(8)</a>, <a href="../man8/tc-codel.8.html"><strong>tc-codel</strong>(8)</a>, <a href="../man8/tc-drr.8.html"><strong>tc-drr</strong>(8)</a>, <a href="../man8/tc-ematch.8.html"><strong>tc-ematch</strong>(8)</a>, <a href="../man8/tc-flow.8.html"><strong>tc-flow</strong>(8)</a>, <a href="../man8/tc-flower.8.html"><strong>tc-flower</strong>(8)</a>, <a href="../man8/tc-fq.8.html"><strong>tc-fq</strong>(8)</a>, <a href="../man8/tc-fq_codel.8.html"><strong>tc-fq_codel</strong>(8)</a>, <a href="../man8/tc-fw.8.html"><strong>tc-fw</strong>(8)</a>, <a href="../man7/tc-hfsc.7.html"><strong>tc-hfsc</strong>(7)</a>, <a href="../man8/tc-hfsc.8.html"><strong>tc-hfsc</strong>(8)</a>, <a href="../man8/tc-htb.8.html"><strong>tc-htb</strong>(8)</a>, <a href="../man8/tc-mqprio.8.html"><strong>tc-mqprio</strong>(8)</a>, <a href="../man8/tc-pfifo.8.html"><strong>tc-pfifo</strong>(8)</a>, <a href="../man8/tc-pfifo_fast.8.html"><strong>tc-pfifo_fast</strong>(8)</a>, <a href="../man8/tc-red.8.html"><strong>tc-red</strong>(8)</a>, <a href="../man8/tc-route.8.html"><strong>tc-route</strong>(8)</a>, <a href="../man8/tc-sfb.8.html"><strong>tc-sfb</strong>(8)</a>, <a href="../man8/tc-sfq.8.html"><strong>tc-sfq</strong>(8)</a>, <a href="../man8/tc-stab.8.html"><strong>tc-stab</strong>(8)</a>, <a href="../man8/tc-tbf.8.html"><strong>tc-tbf</strong>(8)</a>, <a href="../man8/tc-tcindex.8.html"><strong>tc-tcindex</strong>(8)</a>, <a href="../man8/tc-u32.8.html"><strong>tc-u32</strong>(8)</a>,</p><p>User documentation at <strong>http://lartc.org/</strong>, but please direct bugreports and patches to: <strong>&lt;netdev@vger.kernel.org&gt;</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Manpage maintained by bert hubert (ahu@ds9a.nl)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="system-config-selinux.8.html"><span aria-hidden="true">&larr;</span> system-config-selinux.8: Selinux management tool</a></li>
   <li class="next"><a href="tc-basic.8.html">tc-basic.8: Basic traffic control filter <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
