<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mount.nilfs2: Mount a nilfs2 file system</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mount a nilfs2 file system">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mount.nilfs2 (8) manual">
  <meta name="twitter:description" content="Mount a nilfs2 file system">
  <meta name="twitter:image" content="https://www.carta.tech/images/nilfs-tools-mount.nilfs2-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/mount.nilfs2.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mount.nilfs2 (8) manual" />
  <meta property="og:description" content="Mount a nilfs2 file system" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nilfs-tools-mount.nilfs2-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mount.nilfs2<small> (8)</small></h1>
        <p class="lead">Mount a nilfs2 file system</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mount.nilfs2.8.html">
      <span itemprop="name">mount.nilfs2: Mount a nilfs2 file system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nilfs-tools/">
      <span itemprop="name">nilfs-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mount.nilfs2.8.html">
      <span itemprop="name">mount.nilfs2: Mount a nilfs2 file system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mount -t nilfs2</strong> [<strong>-finrvw</strong>] [<strong>-o</strong> <em>options</em> [<strong>,</strong>...]] <em>device</em> <em>dir</em></p><p><strong>mount -t nilfs2</strong> [<strong>-finrvw</strong>] [<strong>-o</strong> <em>options</em> [<strong>,</strong>...]] <em>device</em> | <em>dir</em></p><p><strong>mount.nilfs2</strong> [<strong>-fnrvw</strong>] [<strong>-o</strong> <em>options</em> [<strong>,</strong>...]] <em>device</em> <em>dir</em></p><p><strong>mount.nilfs2</strong> [<strong>-V</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mount.nilfs2</strong> serves to attach a NILFS2 file system on the specified directory <em>dir</em>. It is intended to be executed from <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>, and will invoke the garbage collector <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a> after an actual mount system call has succeeded.  Conversely, <a href="../man8/umount.nilfs2.8.html"><strong>umount.nilfs2</strong>(8)</a> will shutdown the garbage collector before detaching the file system.</p><p>The standard command line interface is the first form:</p><p><strong>mount -t nilfs2</strong><em> </em>[<em>options</em>]<em> device dir</em></p><p>This tells the kernel to attach the NILFS2 file system on <em>device</em> at the directory <em>dir</em>.  With the second form, the mount program tries to find out a missing <em>device</em> or <em>dir</em> argument from the <em>/etc/fstab</em> table.</p><p>The third form, which directly invokes <strong>mount.nilfs2</strong>, is also usable since <strong>mount.nilfs2</strong> maintains by itself the system mount state such as the list of mounted file systems described in <em>/etc/mtab</em>. However, the first or the second form is usually recommended because some expansive options are not supported by the third form.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The full set of options used by an invocation of <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a> is determined by extracting the options from the <em>fstab</em> table, then applying any options specified by the <strong>-o</strong> argument, and finally applying a <strong>-r</strong> or <strong>-w</strong> option, when present.</p><p>See <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a> for the full set of options.  Commonly used options are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Output version.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Fakes mounting the file system, meaning that the actual system call will be skipped.  This option is used to add entries for devices that were mounted earlier with the <strong>-n</strong> option. It can also be used for invoking <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a> skipped previously.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>Don't call <strong>mount.nilfs2</strong>.  This disables garbage collection and handling of pseudo mount options.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Mount without writing in <em>/etc/mtab</em>.  This is necessary for example when <em>/etc</em> is on a read-only file system.  With this option, invocation of <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a> is skipped. To add entries to mtab and invoke the garbage collector later, the <strong>-f</strong> option is available.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Mount the file system read-only.  A synonym is <strong>"-o ro"</strong>.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose mode.</p>
  </dd>
  <dt>
    <p><strong>-w</strong></p>
  </dt>
  <dd>
    <p>Mount the file system read/write. This is the default. A synonym is <strong>"-o rw"</strong>.</p>
  </dd>
  <dt>
    <p><strong>-o</strong></p>
  </dt>
  <dd>
    <p>Options are specified with a <strong>-o</strong> flag followed by a comma separated string of options.  Some of these options are only useful when they appear in the <em>/etc/fstab</em> file.  For standard filesystem options, see <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NILFS2 SPECIFIC MOUNT OPTIONS</h2>
        <div class="sectioncontent">
<p>The following options apply only to the NILFS2 filesystem.  They all follow the <strong>-o</strong> flag.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>barrier</strong> / <strong>nobarrier</strong></p>
  </dt>
  <dd>
    <p>These options enable/disable (default is enabled) barrier writes for the block I/O to a lower device.  The barrier write serves an important role to ensure consistency of filesystems after a system crash or power failure.  NILFS2 uses this feature by default to assure the reliability.  For devices not supporting the barrier write, it will be disabled automatically and a warning will be logged.</p>
  </dd>
  <dt>
    <p><strong>cp=</strong><em>checkpoint-number</em></p>
  </dt>
  <dd>
    <p>Specify the <em>checkpoint-number</em> of the snapshot to be mounted. Checkpoints and snapshots are listed by <a href="../man1/lscp.1.html"><strong>lscp</strong>(1)</a>.  Only the checkpoints marked as snapshot are mountable with this option.  Note that the read-only mount option must be specified together.</p>
  </dd>
  <dt>
    <p><strong>errors=continue</strong> / <strong>errors=remount-ro</strong> / <strong>errors=panic</strong></p>
  </dt>
  <dd>
    <p>Define the behaviour when an error is encountered.  (Either ignore errors and just mark the file system erroneous and continue, or remount the file system read-only, or panic and halt the system.)  The default is remount-ro.  In earlier kernels than Linux 2.6.35, continue was the default.</p>
  </dd>
  <dt>
    <p><strong>pp=</strong><em>protection-period</em></p>
  </dt>
  <dd>
    <p>Specify the <em>protection-period</em> for the cleaner daemon (in seconds). nilfs_cleanerd never deletes recent checkpoints whose elapsed time from its creation is smaller than <em>protection-period</em>.</p>
  </dd>
  <dt>
    <p><strong>nogc</strong></p>
  </dt>
  <dd>
    <p>Disable garbage collection. The cleaner daemon will not be started. It can be be started manually, but in that case it must also be stopped manually before unmounting.</p>
  </dd>
  <dt>
    <p><strong>order=relaxed</strong> / <strong>order=strict</strong></p>
  </dt>
  <dd>
    <p>Specify order semantics for file data.  Metadata is always written to follow the POSIX semantics about the order of filesystem operations.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>relaxed</strong></p>
  </dt>
  <dd>
    <p>Apply relaxed order semantics that allows modified data blocks to be written to disk without making a checkpoint if no metadata update is going.  This mode is equivalent to the ordered data mode of the ext3 filesystem except for the updates on data blocks still conserve atomicity.  This will improve synchronous write performance for overwriting.  This is the default mode.</p>
  </dd>
  <dt>
    <p><strong>strict</strong></p>
  </dt>
  <dd>
    <p>Apply strict in-order semantics that preserves sequence of all file operations including overwriting of data blocks.  That means, it is guaranteed that no overtaking of events occurs in the recovered file system after a crash.  Unlike journaling filesystems, NILFS2 does not write a same block twice to disk.  So there is no significant performance degradation in comparison with the relaxed mode except for file overwriting.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>norecovery</strong></p>
  </dt>
  <dd>
    <p>Disable recovery of the filesystem on mount.  This disables every write access on the device for read-only mounts or snapshots.  This option will fail for r/w mounts on an unclean volume.</p>
  </dd>
  <dt>
    <p><strong>discard</strong> / <strong>nodiscard</strong></p>
  </dt>
  <dd>
    <p>These options enable/disable (default is disabled) the use of discard/TRIM commands.  The discard/TRIM commands are sent to the underlying block device when blocks are freed.  This is useful for SSD devices and sparse/thinly-provisioned LUNs. (since 2.6.34).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN CODES</h2>
        <div class="sectioncontent">
<p>The return codes of <strong>mount.nilfs2</strong> conform to those of <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>; the following codes could be returned (the bits can be ORed):</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>success</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>incorrect invocation or permissions</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>system error (out of memory, cannot fork, no more loop devices)</p>
  </dd>
  <dt>
    <p><strong>4</strong></p>
  </dt>
  <dd>
    <p>internal bug</p>
  </dd>
  <dt>
    <p><strong>8</strong></p>
  </dt>
  <dd>
    <p>user interrupt</p>
  </dd>
  <dt>
    <p><strong>16</strong></p>
  </dt>
  <dd>
    <p>problems writing or locking /etc/mtab</p>
  </dd>
  <dt>
    <p><strong>32</strong></p>
  </dt>
  <dd>
    <p>mount failure</p>
  </dd>
  <dt>
    <p><strong>64</strong></p>
  </dt>
  <dd>
    <p>some mount succeeded</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>mount.nilfs2</strong> is written by Ryusuke Konishi &lt;konishi.ryusuke@lab.ntt.co.jp&gt; for NILFS2, based on the mount program included in the util-linux package.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p><strong>mount.nilfs2</strong> is part of the nilfs-utils package and is available from http://nilfs.sourceforge.net.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mount.nilfs2&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/nilfs.8.html"><strong>nilfs</strong>(8)</a>, <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>, <a href="../man8/umount.nilfs2.8.html"><strong>umount.nilfs2</strong>(8)</a>, <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a>, <a href="../man1/lscp.1.html"><strong>lscp</strong>(1)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mount.nfs.8.html"><span aria-hidden="true">&larr;</span> mount.nfs.8: Mount a network file system</a></li>
   <li class="next"><a href="mount.ntfs.8.html">mount.ntfs.8: Third generation read/write ntfs driver <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
