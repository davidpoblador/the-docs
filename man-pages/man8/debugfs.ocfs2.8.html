<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>debugfs.ocfs2: Ocfs2 file system debugger.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ocfs2 file system debugger.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="debugfs.ocfs2 (8) manual">
  <meta name="twitter:description" content="Ocfs2 file system debugger.">
  <meta name="twitter:image" content="https://www.carta.tech/images/ocfs2-tools-debugfs.ocfs2-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/debugfs.ocfs2.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="debugfs.ocfs2 (8) manual" />
  <meta property="og:description" content="Ocfs2 file system debugger." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ocfs2-tools-debugfs.ocfs2-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">debugfs.ocfs2<small> (8)</small></h1>
        <p class="lead">Ocfs2 file system debugger.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/debugfs.ocfs2.8.html">
      <span itemprop="name">debugfs.ocfs2: Ocfs2 file system debugger.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ocfs2-tools/">
      <span itemprop="name">ocfs2-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/debugfs.ocfs2.8.html">
      <span itemprop="name">debugfs.ocfs2: Ocfs2 file system debugger.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>debugfs.ocfs2</strong> [<strong>-f</strong> <em>cmdfile</em>] [<strong>-R</strong> <em>command</em>] [<strong>-s</strong> <em>backup</em>] [<strong>-nwV?</strong>] [<em>device</em>]</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>debugfs.ocfs2</strong> <strong>-l</strong> [<em>tracebit</em> ... [<strong>allow</strong>|<strong>off</strong>|<strong>deny</strong>]] ...</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>debugfs.ocfs2</strong> <strong>-d, --decode</strong> <em>lockname</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>debugfs.ocfs2</strong> <strong>-e, --encode</strong><strong> </strong><em>lock_type block_num [generation | parent]</em></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>debugfs.ocfs2</strong> program is an interactive file system debugger useful in displaying on-disk <strong>OCFS2</strong> filesystem structures on the specified <em>device</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-d, --decode</strong> <em>lockname</em></p>
  </dt>
  <dd>
    <p>Display the information encoded in the <em>lockname</em>.</p>
  </dd>
  <dt>
    <p><strong>-e, --encode</strong> <em>lock_type block_num [generation | parent]</em></p>
  </dt>
  <dd>
    <p>Display the lockname obtained by encoding the arguments provided.</p>
  </dd>
  <dt>
    <p><strong>-f, --file</strong> <em>cmdfile</em></p>
  </dt>
  <dd>
    <p>Executes the debugfs commands in <em>cmdfile</em>.</p>
  </dd>
  <dt>
    <p><strong>-i, --image</strong></p>
  </dt>
  <dd>
    <p>Specifies device is an o2image file created by <em>o2image</em> tool.</p>
  </dd>
  <dt>
    <p><strong>-l</strong> [<em>tracebit</em> ... [<strong>allow</strong>|<strong>off</strong>|<strong>deny</strong>]] ...</p>
  </dt>
  <dd>
    <p>Control <strong>OCFS2</strong> filesystem tracing by enabling and disabling trace bits. Do <em>debugfs.ocfs2 -l</em> to get the list of all trace bits.</p>
  </dd>
  <dt>
    <p><strong>-n, --noprompt</strong></p>
  </dt>
  <dd>
    <p>Hide prompt.</p>
  </dd>
  <dt>
    <p><strong>-R, --request</strong> <em>command</em></p>
  </dt>
  <dd>
    <p>Executes a single debugfs command.</p>
  </dd>
  <dt>
    <p><strong>-s, --superblock</strong> <em>backup-number</em></p>
  </dt>
  <dd>
    <p><em>mkfs.ocfs2</em> makes upto 6 backup copies of the superblock at offsets 1G, 4G, 16G, 64G, 256G and 1T depending on the size of the volume. Use this option to specify the backup, 1 thru 6, to use to open the volume.</p>
  </dd>
  <dt>
    <p><strong>-w, --write</strong></p>
  </dt>
  <dd>
    <p>Opens the filesystem in <em>RW</em> mode. By default the filesystem is opened in <em>RO</em> mode.</p>
  </dd>
  <dt>
    <p><strong>-V, --version</strong></p>
  </dt>
  <dd>
    <p>Display version and exit.</p>
  </dd>
  <dt>
    <p><strong>-?, --help</strong></p>
  </dt>
  <dd>
    <p>Displays help and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIFYING FILES</h2>
        <div class="sectioncontent">
<p>Many <strong>debugfs.ocfs2</strong> commands take a <em>filespec</em> as an argument to specify an inode (as opposed to a pathname) in the filesystem which is currently opened by <strong>debugfs.ocfs2</strong>. The <em>filespec</em> argument may be specified in two forms. The first form is an inode number or lockname surrounded by angle brackets, e.g., &lt;32&gt;. The second form is a pathname; if the pathname is prefixed by a forward slash ('/'), then it is interpreted relative to the root of the filesystem which is currently opened by <strong>debugfs.ocfs2</strong>. If not, the path is interpreted relative to the current working directory as maintained by <strong>debugfs.ocfs2</strong>, which can be modified using the command <em>cd</em>. If the pathname is prefixed by a double forward slash ('//'), then it is interpreted relative to the root of the system directory of the filesystem opened by <strong>debugfs.ocfs2</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LOCKNAMES</h2>
        <div class="sectioncontent">
<p>Locknames are specially formatted strings used by the file system to uniquely identify objects in the filesystem. Most locknames used by <em>OCFS2</em> are generated using the inode number and its generation number and can be decoded using the <em>decode</em> command or used directly in place of an inode number in commands requiring a <em>filespec</em>. Like inode numbers, locknames need to be enclosed in angle brackets, e.g., &lt;M000000000000000040c40c044069cf&gt;. Use the <em>encode</em> command to generate all possible locknames for an object.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<p>This is a list of the commands which debugfs.ocfs2 supports.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>bmap filespec logical_block</em></p>
  </dt>
  <dd>
    <p>Display the physical block number corresponding to the logical block number <em>logical_block</em> in the inode <em>filespec</em>.</p>
  </dd>
  <dt>
    <p><em>cat filespec</em></p>
  </dt>
  <dd>
    <p>Dump the contents of inode <em>filespec</em> to stdout.</p>
  </dd>
  <dt>
    <p><em>cd filespec</em></p>
  </dt>
  <dd>
    <p>Change the current working directory to <em>filespec</em>.</p>
  </dd>
  <dt>
    <p><em>chroot filespec</em></p>
  </dt>
  <dd>
    <p>Change the root directory to be the directory <em>filespec</em>.</p>
  </dd>
  <dt>
    <p><em>close</em></p>
  </dt>
  <dd>
    <p>Close the currently opened filesystem.</p>
  </dd>
  <dt>
    <p><em>controld dump</em></p>
  </dt>
  <dd>
    <p>Display information obtained from ocfs2_controld.</p>
  </dd>
  <dt>
    <p><em>curdev</em></p>
  </dt>
  <dd>
    <p>Show the currently open device.</p>
  </dd>
  <dt>
    <p><em>decode &lt;lockname&gt;</em></p>
  </dt>
  <dd>
    <p>Display the inode number encoded in the <em>lockname</em>.</p>
  </dd>
  <dt>
    <p><em>dirblocks &lt;filespec&gt;</em></p>
  </dt>
  <dd>
    <p>Display the directory blocks associated with the given <em>filespec</em>.</p>
  </dd>
  <dt>
    <p><em>dlm_locks [-f &lt;file&gt;] [-l] [&lt;lockname(s)&gt;]...</em></p>
  </dt>
  <dd>
    <p>Display the status of all lock resources in the <em>o2dlm</em> domain that the file system is a member of. This command expects the debugfs filesystem to be mounted as <em>mount -t debugfs debugfs /sys/kernel/debug</em>. Use <em>lockname(s)</em> to limit the output to the given lock resources, <em>-l</em> to include contents of the lock value block and <em>-f &lt;file&gt;</em> to specify a saved copy of /sys/kernel/debug/o2dlm/&lt;DOMAIN&gt;/locking_state.</p>
  </dd>
  <dt>
    <p><em>dump [-p] filespec outfile</em></p>
  </dt>
  <dd>
    <p>Dump the contents of the inode <em>filespec</em> to the output file <em>outfile</em>. If the <em>-p</em> is given, set the owner, group, timestamps and permissions information on <em>outfile</em> to match those of <em>filespec</em>.</p>
  </dd>
  <dt>
    <p><em>dx_dump filespec</em></p>
  </dt>
  <dd>
    <p>Display the indexed directory information for the given directory.</p>
  </dd>
  <dt>
    <p><em>dx_leaf &lt;block#&gt;</em></p>
  </dt>
  <dd>
    <p>Display the contents of the given indexed directory leaf block.</p>
  </dd>
  <dt>
    <p><em>dx_root &lt;block#&gt;</em></p>
  </dt>
  <dd>
    <p>Display the contents of the given indexed directory root block.</p>
  </dd>
  <dt>
    <p><em>dx_space filespec</em></p>
  </dt>
  <dd>
    <p>Display the directory free space list.</p>
  </dd>
  <dt>
    <p><em>encode filespec</em></p>
  </dt>
  <dd>
    <p>Display the lockname for the <em>filespec</em>.</p>
  </dd>
  <dt>
    <p><em>extent block#</em></p>
  </dt>
  <dd>
    <p>Display the contents of the extent structure at <em>block#</em>.</p>
  </dd>
  <dt>
    <p><em>findpath [&lt;lockname&gt;|&lt;inode#&gt;]</em></p>
  </dt>
  <dd>
    <p>Display the pathname for the inode specified by <em>lockname</em> or <em>inode#</em>. This command does not display all the hard-linked paths for the inode.</p>
  </dd>
  <dt>
    <p><em>frag filespec</em></p>
  </dt>
  <dd>
    <p>Display the inode's number of extents to clusters ratio.</p>
  </dd>
  <dt>
    <p><em>fs_locks [-f &lt;file&gt;] [-l] [-B] [&lt;lockname(s)&gt;]...</em></p>
  </dt>
  <dd>
    <p>Display the status of all locks known by the file system. This command expects the debugfs filesystem to be mounted as <em>mount -t debugfs debugfs /sys/kernel/debug</em>. Use <em>lockname(s)</em> to limit the output to the given lock resources, <em>-B</em> to limit the output to only the busy locks, <em>-l</em> to include contents of the lock value block and <em>-f &lt;file&gt;</em> to specify a saved copy of /sys/kernel/debug/ocfs2/&lt;UUID&gt;/locking_state.</p>
  </dd>
  <dt>
    <p><em>group block#</em></p>
  </dt>
  <dd>
    <p>Display the contents of the group descriptor at <em>block#</em>.</p>
  </dd>
  <dt>
    <p><em>hb</em></p>
  </dt>
  <dd>
    <p>Display the contents of the heartbeat system file.</p>
  </dd>
  <dt>
    <p><em>help, ?</em></p>
  </dt>
  <dd>
    <p>Print the list of commands understood by <strong>debugfs.ocfs2</strong>.</p>
  </dd>
  <dt>
    <p><em>icheck block# ...</em></p>
  </dt>
  <dd>
    <p>Display the inodes that use the one or more blocks specified on the command line. If the inode is a regular file, also display the corresponding logical block offset.</p>
  </dd>
  <dt>
    <p><em>lcd directory</em></p>
  </dt>
  <dd>
    <p>Change the current working directory of the <strong>debugfs.ocfs2</strong> process to the <em>directory</em> on the native filesystem.</p>
  </dd>
  <dt>
    <p><em>locate [&lt;lockname&gt;|&lt;inode#&gt;] ...</em></p>
  </dt>
  <dd>
    <p>Display all pathnames for the inode(s) specified by <em>lockname</em>s or <em>inode#</em>s.</p>
  </dd>
  <dt>
    <p><em>logdump node#</em></p>
  </dt>
  <dd>
    <p>Display the contents of the journal for node <em>node#</em>.</p>
  </dd>
  <dt>
    <p><em>ls [-l] filespec</em></p>
  </dt>
  <dd>
    <p>Print the listing  of the files in the directory <em>filespec</em>. The <em>-l</em> flag will list files in the long format.</p>
  </dd>
  <dt>
    <p><em>ncheck [&lt;lockname&gt;|&lt;inode#&gt;] ...</em></p>
  </dt>
  <dd>
    <p>See <em>locate</em>.</p>
  </dd>
  <dt>
    <p><em>open device</em></p>
  </dt>
  <dd>
    <p>Open the filesystem on <em>device</em>.</p>
  </dd>
  <dt>
    <p><em>quit, q</em></p>
  </dt>
  <dd>
    <p>Quit <strong>debugfs.ocfs2</strong>.</p>
  </dd>
  <dt>
    <p><em>rdump [-v] filespec outdir</em></p>
  </dt>
  <dd>
    <p>Recursively dump directory <em>filespec</em> and all its contents (including regular files, symbolic links and other directories) into the <em>outdir</em> which should be an existing directory on the native filesystem.</p>
  </dd>
  <dt>
    <p><em>refcount [-e] filespec</em></p>
  </dt>
  <dd>
    <p>Display the refcount block, and optionally its tree, of the specified inode.</p>
  </dd>
  <dt>
    <p><em>slotmap</em></p>
  </dt>
  <dd>
    <p>Display the contents of the <em>slotmap</em> system file.</p>
  </dd>
  <dt>
    <p><em>stat [-t|-T] filespec</em></p>
  </dt>
  <dd>
    <p>Display the contents of the inode structure for the <em>filespec</em>.  The <em>-t</em> ("traverse") option selects traversal of the inode's metadata. The extent tree, chain list, or other extra metadata will be dumped.  This is the default.  The <em>-T</em> option turns off traversal to reduce the I/O required when basic inode information is needed.</p>
  </dd>
  <dt>
    <p><em>stats [-h] [-s backup-number]</em></p>
  </dt>
  <dd>
    <p>Display the contents of the superblock. Use <em>-s</em> to display a specific backup superblock. Use <em>-h</em> to hide the inode.</p>
  </dd>
  <dt>
    <p><em>xattr [-v] &lt;filespec&gt;</em></p>
  </dt>
  <dd>
    <p>Display extended attributes associated with the given <em>filespec</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENT</h2>
        <div class="sectioncontent">
<p>This tool has been modelled after <strong>debugfs</strong>, a debugging tool for ext2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO debugfs.ocfs2&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/mkfs.ocfs2.8.html"><strong>mkfs.ocfs2</strong>(8)</a></strong> <a href="../man8/fsck.ocfs2.8.html"><strong>fsck.ocfs2</strong>(8)</a></strong> <a href="../man8/tunefs.ocfs2.8.html"><strong>tunefs.ocfs2</strong>(8)</a></strong> <a href="../man8/mounted.ocfs2.8.html"><strong>mounted.ocfs2</strong>(8)</a></strong> <a href="../man8/ocfs2console.8.html"><strong>ocfs2console</strong>(8)</a></strong> <a href="../man8/o2image.8.html"><strong>o2image</strong>(8)</a></strong> <a href="../man7/o2cb.7.html"><strong>o2cb</strong>(7)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Oracle Corporation</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2004, 2010 Oracle. All rights reserved.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="debugfs.8.html"><span aria-hidden="true">&larr;</span> debugfs.8: Ext2/ext3/ext4 file system debugger</a></li>
   <li class="next"><a href="debugfs.reiser4.8.html">debugfs.reiser4.8: The program for debugging reiser4 filesystem. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
