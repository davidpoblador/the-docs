<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pam_keyinit - Kernel session keyring initialiser module</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Kernel session keyring initialiser module">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pam_keyinit<small> (8)</small></h1>
        <p class="lead">Kernel session keyring initialiser module</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man8/"><span itemprop="title">System administration commands</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man8/pam_keyinit.8.html"><span itemprop="title">pam_keyinit</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>pam_keyinit.so</strong> [debug] [force] [revoke]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>The pam_keyinit PAM module ensures that the invoking process has a session keyring other than the user default session keyring.</p>
<p class='spacer'>

<p>The session component of the module checks to see if the process&apos;s session keyring is the user default, and, if it is, creates a new anonymous session keyring with which to replace it.</p>
<p class='spacer'>

<p>If a new session keyring is created, it will install a link to the user common keyring in the session keyring so that keys common to the user will be automatically accessible through it.</p>
<p class='spacer'>

<p>The session keyring of the invoking process will thenceforth be inherited by all its children unless they override it.</p>
<p class='spacer'>

<p>This module is intended primarily for use by login processes. Be aware that after the session keyring has been replaced, the old session keyring and the keys it contains will no longer be accessible.</p>
<p class='spacer'>

<p>This module should not, generally, be invoked by programs like <strong>su</strong>, since it is usually desirable for the key set to percolate through to the alternate context. The keys have their own permissions system to manage this.</p>
<p class='spacer'>

<p>This module should be included as early as possible in a PAM configuration, so that other PAM modules can attach tokens to the keyring.</p>
<p class='spacer'>

<p>The keyutils package is used to manipulate keys more directly. This can be obtained from:</p>
<p class='spacer'>

<p>\m[blue]<strong>Keyutils</strong>\m[]\s-2\u[1]\d\s+2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p><strong>debug</strong> Log debug information with <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>.</p>
<p class='spacer'>

<p><strong>force</strong> Causes the session keyring of the invoking process to be replaced unconditionally.</p>
<p class='spacer'>

<p><strong>revoke</strong> Causes the session keyring of the invoking process to be revoked when the invoking process exits if the session keyring was created for this process in the first place.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MODULE TYPES PROVIDED</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>Only the <strong>session</strong> module type is provided.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>PAM_SUCCESS This module will usually return this value</p>
<p class='spacer'>

<p>PAM_AUTH_ERR Authentication failure.</p>
<p class='spacer'>

<p>PAM_BUF_ERR Memory buffer error.</p>
<p class='spacer'>

<p>PAM_IGNORE The return value should be ignored by PAM dispatch.</p>
<p class='spacer'>

<p>PAM_SERVICE_ERR Cannot determine the user name.</p>
<p class='spacer'>

<p>PAM_SESSION_ERR This module will return this value if its arguments are invalid or if a system error such as ENOMEM occurs.</p>
<p class='spacer'>

<p>PAM_USER_UNKNOWN User not known.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>Add this line to your login entries to start each login session with its own session keyring:</p>
<p class='spacer'>

<pre>session  required  pam_keyinit.so
</pre>

<p class='spacer'>

<p>This will prevent keys from one session leaking into another session for the same user.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p><a href="../man5/pam.conf.5.html"><strong>pam.conf</strong>(5)</a>, <a href="../man5/pam.d.5.html"><strong>pam.d</strong>(5)</a>, <strong>pam</strong>(7)<a href="../man1/keyctl.1.html"><strong>keyctl</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>pam_keyinit was written by David Howells, &lt;dhowells@redhat.com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

  <dl class='dl-horizontal'>
    <dt> 1.</dt>
    <dd>
  <p>Keyutils http://people.redhat.com/~dhowells/keyutils/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
  <li class="previous"><a href="pam_issue.8.html"><span aria-hidden="true">&larr;</span> pam_issue.8: PAM module to add issue file to user prompt</a></li><li class="next"><a href="pam_lastlog.8.html">pam_lastlog.8: PAM module to display date of last login and perform inactive account lock out <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
