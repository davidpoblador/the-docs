<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>chntpw: Utility to overwrite passwords of windows systems</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Utility to overwrite passwords of windows systems">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="chntpw (8) manual">
  <meta name="twitter:description" content="Utility to overwrite passwords of windows systems">
  <meta name="twitter:image" content="https://www.carta.tech/images/chntpw-chntpw-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/chntpw.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="chntpw (8) manual" />
  <meta property="og:description" content="Utility to overwrite passwords of windows systems" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/chntpw-chntpw-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">chntpw<small> (8)</small></h1>
        <p class="lead">Utility to overwrite passwords of windows systems</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/chntpw.8.html">
      <span itemprop="name">chntpw: Utility to overwrite passwords of windows systems</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/chntpw/">
      <span itemprop="name">chntpw</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/chntpw.8.html">
      <span itemprop="name">chntpw: Utility to overwrite passwords of windows systems</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>chntpw</strong> [<em>options</em>] &lt;<em>samfile</em>&gt; [<em>systemfile</em>] [<em>securityfile</em>] [<em>otherreghive</em>] [...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents briefly the <strong>chntpw</strong> command. This manual page was written for the Debian distribution because the original program does not have a manual page.</p><p><strong>chntpw</strong> is a utility to view some information and reset user passwords in a Windows NT/2000 SAM userdatabase file used by Microsoft Windows Operating System (in NT3.x and later versions). This file is usually located at &#92;WINDOWS&#92;system32&#92;config&#92;SAM on the Windows file system. It is not necessary to know the previous passwords to reset them.  In addition it contains a simple registry editor and  ahex-editor with which the information contained in a registry file can be browsed and modified.</p><p>This program should be able to handle both 32 and 64 bit Microsoft Windows and all versions from NT3.x up to Win8.1.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Show a summary of options.</p>
  </dd>
  <dt>
    <p><strong>-u username</strong></p>
  </dt>
  <dd>
    <p>Username or username ID (RID) to change. The default is 'Administrator'.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>List all users in the SAM database and exit.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>Interactive Menu system: list all users (as per -l option) and then ask for the user to change.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Registry editor with limited capabilities (but it does include write support). For a slightly more powerful editor see <strong>reged</strong></p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Use buffer debugger instead (hex editor)</p><p><strong>-L</strong> Log all changed filenames to /tmp/changed. When this option is set the program automatically saves the changes in the hive files without prompting the user.</p><p>Be careful when using the <strong>-L</strong> option as a root user in a multiuser system. The filename is fixed and this can be used by malicious users (dropping a symlink with the same name) to overwrite system files.</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>Do not allocate more information, only allow the editing of existing values with same size.</p>
  </dd>
  <dt>
    <p><strong>-E</strong></p>
  </dt>
  <dd>
    <p>Do not expand the hive file (safe mode).</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print verbose information and debug messages.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>ntfs-3g /dev/sda1 /media/win ; cd /media/win/WINDOWS/system32/config/</strong></p>
  </dt>
  <dd>
    <p>Mount the Windows file system and enters the directory <strong>&#92;&#92;WINDOWS&#92;&#92;system32&#92;&#92;config</strong> where Windows stores the SAM database.</p>
  </dd>
  <dt>
    <p><strong>chntpw SAM system</strong></p>
  </dt>
  <dd>
    <p>Opens registry hives <strong>SAM</strong> and <strong>system</strong> and change administrator account. This will work even if the name has been changed or it has been localized (since different language versions of NT use different administrator names).</p>
  </dd>
  <dt>
    <p><strong>chntpw -l SAM</strong></p>
  </dt>
  <dd>
    <p>Lists the users defined in the <strong>SAM</strong> registry file.</p>
  </dd>
  <dt>
    <p><strong>chntpw -u jabbathehutt SAM</strong></p>
  </dt>
  <dd>
    <p>Prompts for password for <strong>jabbathehutt</strong> and changes it in the <strong>SAM</strong> registry file, if found (otherwise do nothing).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KNOWN BUGS</h2>
        <div class="sectioncontent">
<p>This program uses undocumented structures in the SAM database. Use with caution (i.e. make sure you make a backup of the file before any changes are done).</p><p>Password changing is only possible if the program has been specifically compiled with some cryptographic functions. This feature, however, only works properly in Windows NT and Windows 2000 systems. It might not work properly in Windows XP, Vista, Win7, Win8 and later systems.</p><p>In the Debian distribution this feature is not enabled.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO chntpw&hellip;</h2>
        <div class="sectioncontent">
<p><strong>reged, samusrgrp, sampasswd</strong></p><p>If you are looking for an automated procedure for password recovery, you might want to check the bootdisks (can be used in CD and USB drives) provided by the upstream author at <strong>http://pogostick.net/~pnh/ntpasswd/</strong></p><p>You will find more information available on how this program works, including in-depth details on how the registry works, in the text files <em>/usr/share/doc/chntpw/README.txt</em> and <em>/usr/share/doc/chntpw/MANUAL.txt</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This program was written by Petter N Hagen.</p><p>This manual page was written by Javier Fernandez-Sanguino &lt;jfs@debian.org&gt;, for the Debian GNU/Linux system (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="chkconfig.8.html"><span aria-hidden="true">&larr;</span> chkconfig.8: Enable or disable system services</a></li>
   <li class="next"><a href="choptest.8.html">choptest.8: \*(fx page chopping test program <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
