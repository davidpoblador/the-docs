<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sethdlc: Get/set linux hdlc packet radio modem driver port information</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Get/set linux hdlc packet radio modem driver port information">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sethdlc (8) manual">
  <meta name="twitter:description" content="Get/set linux hdlc packet radio modem driver port information">
  <meta name="twitter:image" content="https://www.carta.tech/images/ax25-tools-sethdlc-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/sethdlc.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sethdlc (8) manual" />
  <meta property="og:description" content="Get/set linux hdlc packet radio modem driver port information" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ax25-tools-sethdlc-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sethdlc<small> (8)</small></h1>
        <p class="lead">Get/set linux hdlc packet radio modem driver port information</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sethdlc.8.html">
      <span itemprop="name">sethdlc: Get/set linux hdlc packet radio modem driver port information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ax25-tools/">
      <span itemprop="name">ax25-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sethdlc.8.html">
      <span itemprop="name">sethdlc: Get/set linux hdlc packet radio modem driver port information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sethdlc</strong> <strong>[ -bdhs ]</strong> <strong>[-i device]</strong></p><p><strong>sethdlc [-i device] -c</strong> cal</p><p><strong>sethdlc&nbsp;-p</strong> <strong>[-i&nbsp;device]</strong> <strong>[&nbsp;mode&nbsp;</strong>mode<strong>&nbsp;]</strong> <strong>[&nbsp;io&nbsp;</strong>iobase<strong>&nbsp;]</strong> <strong>[&nbsp;irq&nbsp;</strong>irq<strong>&nbsp;]</strong> <strong>[&nbsp;dma&nbsp;</strong>dma<strong>&nbsp;]</strong> <strong>[&nbsp;dma2&nbsp;</strong>dma2<strong>&nbsp;]</strong> <strong>[&nbsp;serio&nbsp;</strong>seriobase<strong>&nbsp;]</strong> <strong>[&nbsp;pario&nbsp;</strong>pariobase<strong>&nbsp;]</strong> <strong>[&nbsp;midiio&nbsp;</strong>midiiobase<strong>&nbsp;]</strong> <strong>[&nbsp;options&nbsp;</strong>options<strong>&nbsp;]</strong></p><p><strong>sethdlc&nbsp;-a</strong> <strong>[-i&nbsp;device]</strong> <strong>[&nbsp;txd&nbsp;</strong>txdelay<strong>&nbsp;]</strong> <strong>[&nbsp;txtail&nbsp;</strong>txtail<strong>&nbsp;]</strong> <strong>[&nbsp;slot&nbsp;</strong>slottime<strong>&nbsp;]</strong> <strong>[&nbsp;ppersist&nbsp;</strong>ppersistence<strong>&nbsp;]</strong> <strong>[&nbsp;full&nbsp;]</strong> <strong>[&nbsp;half&nbsp;]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sethdlc</strong> is a program designed to set and/or report the configuration information associated with a soundcard radio modem port.  This information includes the modem type, what I/O port, IRQ and DMA channel a particular modem port is using, and where to output a transmitter keying (PTT) signal.</p><p>With the <strong>-p</strong> option, <strong>sethdlc</strong> sets and/or reports the port configuration.</p><p>With the <strong>-a</strong> option, <strong>sethdlc</strong> sets and/or reports the AX.25 channel access parameters. These parameters can also be set with the <em>kissparms</em> utility.</p><p>With the <strong>-c</strong> option, <strong>sethdlc</strong> instructs the driver to send a calibration pattern for <em>cal</em> seconds.</p><p>Without the <strong>-p,</strong> <strong>-a</strong> and <strong>-c</strong> option, <strong>sethdlc</strong> will stay in the foreground and display received packets. The AX.25 header and eventually a FlexNet compressed header are decoded. CTRL-C terminates <strong>sethdlc.</strong> Specifying additional options, <strong>sethdlc</strong> may display additional information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>sethdlc</strong> accepts the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p>Trace the bits at the output of the demodulator, after RX clock recovery. This option is only available if <strong>sethdlc</strong> and the soundcard modem kernel driver is compiled with debugging support on. This is useful for driver debugging.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Trace DCD, PTT and other status information on stdout. <strong>sethdlc</strong> displays two times per second a line containing this information.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Display an overview of the available command line parameters and exit.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>The <em>device</em> argument specifies the HDLC modem device which should be configured or interrogated.  It will usually have the following form: <em>bc[0-3]</em> for the baycom driver and <em>sm[0-3]</em> for the soundcard modem driver.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>Trace the bits at the demodulator output, <em>before</em> the RX clock recovery, to stdout. This option is only available the modem driver is compiled with debugging support on. It may not be available on some modem, such as the <em>par96</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p>The following parameters can be assigned to a soundcard radio modem port.</p><p>All numerical parameter values are assumed to be in decimal unless preceded by "0x".</p><p>The <strong>mode</strong> parameter sets the type of hardware and the operating mode of the driver. <em>ser12</em> and <em>par96</em> are valid modes for the <strong>baycom</strong> driver. A star "<em>*</em>" may be added to enable software DCD. The <strong>mode</strong> string format of the <strong>soundmodem</strong> driver is as follows: <em>hw:mode</em>. <em>hw</em> may be either <em>sbc</em>, <em>wss</em> or <em>wssfdx</em>. The first one specifies SoundBlaster compatible soundcards, the second one WindowsSoundSystem compatible hardware, and the third one WSS fullduplex operation (which currently works with Crystal Semiconductor Chipsets CS423[126]). The <em>mode</em> portion may be <em>afsk1200</em> or <em>fsk9600</em>. Optionally, the receive and transmit modes may be different (<em>hw:txmode.rxmode</em>).</p><p>The <strong>ioport</strong> parameter sets the I/O port address. Typical values for the <em>ser12</em> modem are 0x3f8, 0x2f8, 0x3e8 or 0x2e8, for the <em>par96</em> modem 0x378, 0x278 or 0x3bc, for the <em>sbc</em> modems 0x220 and for the <em>wss</em> modems 0x530, 0x608, 0xe80 or 0xf40.</p><p>The <strong>irq</strong> parameter sets the hardware IRQ number. Typical values for the <em>ser12</em> modem are 4 and 3, for the <em>par96</em> modem 7 or 5, for the <em>sbc</em> modems are 7 or 5 and for the <em>wss</em> modems, any free IRQ from the set 2, 7, 9, 10, 11 will do. The driver automatically configures the WSS soundcard to the correct IRQ.</p><p>The <strong>dma</strong> parameter sets the hardware DMA number. Typical values for the <em>sbc</em> modems are 1 or 0 and for the <em>wss</em> modems, any free DMA from 0 to 3 (except 2) will do. The driver automatically configures the WSS soundcard to the correct DMA. The Baycom modems do not need DMA.</p><p>The <strong>dma2</strong> parameter sets the second hardware DMA number. This is only needed for full duplex operation with the <strong>soundmodem</strong> driver.</p><p>The <strong>seriobase</strong> parameter optionally sets the address of a serial port, where the driver will output a PTT signal at the TxD and RTS pins, and a DCD signal at the DTR pin. As Baycom modems do have their own PTT pin, this parameter is not used by the Baycom modem driver.</p><p>The <strong>pariobase</strong> parameter optionally sets the address of a LPT port where the driver will output a PTT signal on the DATA0 line and a DCD signal on the DATA1 line. As Baycom modems do have their own PTT pin, this parameter is not used by the Baycom modem driver.</p><p>The <strong>midiiobase</strong> parameter optionally sets the address of a MPU401 compatible MIDI port, where the driver will output a PTT signal. Since the MIDI port is effectively an UART and therefore cannot output a DC signal, the output must be fed through a retriggerable monoflop with a period of about 15ms. See <em>http://www.ife.ee.ethz.ch/~sailer/pcf/ptt_circ/ptt.html</em> for a sample schematic diagram. As Baycom modems do have their own PTT pin, this parameter is not used by the Baycom modem driver.</p><p>The <strong>txdelay</strong> sets the transmitter keyup delay time. Unlike <em>kissparms</em>, the unit is <em>tens of ms</em>. This is the time the transmitter needs to switch its PA on and for its frequency synthesizer to settle. Typical values for a handheld transceiver are 200ms (i.e. 20), and for a good crystal driven transceiver 20ms (i.e. 2).</p><p>The <strong>txtail</strong> sets the time PTT is held after the last packet. Unlike <em>kissparms</em>, the unit is <em>tens of ms</em>. Do not set this value to 0. Most modems need some extra time to actually clock the last bits out to the transmitter.</p><p>The <strong>slottime</strong> parameter specifies how often the channel access algorithm is executed. Unlike <em>kissparms</em>, the unit is <em>tens of ms</em>. Unless you have very specific requirements, set this to 100ms (i.e. 10).</p><p>The <strong>ppersist</strong> sets how "eagerly" the station starts to transmit as soon as the channel gets free. The optimum value is 256 divided by the number of stations on the channel. (This should really be done automatically by the L2)</p><p><strong>full</strong> sets the modem to full duplex mode. Note that some modems do not actually support full duplex mode, in this case this parameter makes the modem start its transmission as soon as it gets packets from the upper layer, without waiting for the channel to become free. This is needed by some implementations of alternative channel access algorithms, e.g. <em>DAMA</em>.</p><p><strong>half</strong> sets the modem to half duplex mode.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSIDERATIONS OF CONFIGURING BAYCOM PORTS</h2>
        <div class="sectioncontent">
<p>It is important to note that sethdlc merely tells the Linux kernel where it should expect to find the I/O port and IRQ lines of a particular serial port.  It does <em>not</em> configure the hardware to use a particular I/O port.  In order to do that, you will need to physically program the serial board, usually by setting some jumpers or by switching some DIP switches.</p><p>This section will provide some pointers in helping you decide how you would like to configure your baycom ports.</p><p>The "standard MS-DOS" port associations are given below:</p>
<pre>
COM1, port 0x3f8, irq 4
COM2, port 0x2f8, irq 3
COM3, port 0x3e8, irq 4
COM4, port 0x2e8, irq 3
LPT1, port 0x378, irq 7
LPT1 (on hercules graphics adapter), port 0x3bc, irq 7
LPT1, port 0x278, irq 5
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSIDERATIONS OF CONFIGURING SOUNDCARD RADIO MODEM PORTS</h2>
        <div class="sectioncontent">
<p>Some cards need to be initialized before they act as a WSS or SoundBlaster compatible card. This driver does <em>not</em> do this. You can use the standard linux sound driver, if compiled as a module. Just load the sound driver (insmod sound) and remove it again (rmmod sound). The card should then be configured for either soundblaster or WSS compatibility. If this does not work for some reason, you'll have to write your own soundcard configuration utility. This is not as complicated as it sounds; it can be done from user space (but requiring root privileges) using <em>ioperm</em> and/or <em>iopl</em>.</p><p>It is important that the audio levels of your radio match those of the soundcard. To help achieve this, there are two utilities: <em>smdiag</em> and <em>smmixer</em>. See their respective manpage.</p><p>The sound driver and the soundcard modem driver are mutually exclusive, i.e. they cannot both access the same soundcard at the same time. Even worse, the sound driver reserves the soundcard as soon as it gets loaded. The souncard modem driver however reserves the card only when the interface is started, i.e. during ifconfig sm[0-3] up.</p><p>9600 baud may not currently work on SoundBlaster cards with DSP revision 4.x, i.e. SB16 and SB32 AWE. This is because they seem to not be fully backwards compatible.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAUTION</h2>
        <div class="sectioncontent">
<p>CAUTION: Using an invalid port can lock up your machine.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sethdlc&hellip;</h2>
        <div class="sectioncontent">

<pre>
<strong>smdiag</strong>&nbsp;(8), <strong>smmixer</strong>&nbsp;(8), <strong>kissparms</strong>&nbsp;(8),
linux/drivers/net/hdlcdrv.c,
linux/drivers/net/baycom.c,
linux/drivers/net/soundmodem.c
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>sethdlc was written by Thomas Sailer, HB9JNX/AE4WA (t.sailer@alumni.ethz.ch). Inspired by setserial.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="setfont.8.html"><span aria-hidden="true">&larr;</span> setfont.8: Load ega/vga console screen font</a></li>
   <li class="next"><a href="setkeycodes.8.html">setkeycodes.8: Load kernel scancode-to-keycode mapping table entries <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
