<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hlfsd: Home-link file system daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Home-link file system daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="hlfsd (8) manual">
  <meta name="twitter:description" content="Home-link file system daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/am-utils-hlfsd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/hlfsd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="hlfsd (8) manual" />
  <meta property="og:description" content="Home-link file system daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/am-utils-hlfsd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">hlfsd<small> (8)</small></h1>
        <p class="lead">Home-link file system daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/hlfsd.8.html">
      <span itemprop="name">hlfsd: Home-link file system daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/am-utils/">
      <span itemprop="name">am-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/hlfsd.8.html">
      <span itemprop="name">hlfsd: Home-link file system daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>hlfsd</strong> [ <strong>-fhnpvC</strong> ] [ <strong>-a</strong><em> alt_dir</em> ] [ <strong>-c</strong><em> cache-interval</em> ] [ <strong>-g</strong><em> group</em> ] [ <strong>-i</strong><em> reload-interval</em> ] [ <strong>-l</strong><em> logfile</em> ] [ <strong>-o</strong><em> mount-options</em> ] [ <strong>-x</strong><em> log-options</em> ] [ <strong>-D</strong><em> debug-options</em> ] [ <strong>-P</strong><em> password-file</em> ] [ <em>linkname</em> [<em> subdir </em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Hlfsd</strong> is a daemon which implements a filesystem containing a symbolic link to subdirectory within a user's home directory, depending on the user which accessed that link.  It was primarily designed to redirect incoming mail to users' home directories, so that it can read from anywhere.</p><p><strong>Hlfsd</strong> operates by mounting itself as an <small>NFS</small> server for the directory containing <em>linkname</em>, which defaults to <strong>/hlfs/home</strong>. Lookups within that directory are handled by <strong>hlfsd</strong>, which uses the password map to determine how to resolve the lookup. The directory will be created if it doesn't already exist.  The symbolic link will be to the accessing user's home directory, with <em>subdir</em> appended to it.  If not specified, <em>subdir</em> defaults to <strong>.hlfsdir</strong>. This directory will also be created if it does not already exist.</p><p>A SIGTERM sent to <strong>hlfsd</strong> will cause it to shutdown.  A SIGHUP will flush the internal caches, and reload the password map.  It will also close and reopen the log file, to enable the original log file to be removed or rotated.  A SIGUSR1 will cause it to dump its internal table of user IDs and home directories to the file <strong>/usr/tmp/hlfsd.dump.XXXXXX</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong><em> alt_dir</em></p>
  </dt>
  <dd>
    <p>Alternate directory.  The name of the directory to which the symbolic link returned by <strong>hlfsd</strong> will point, if it cannot access the home directory of the user.  This defaults to <strong>/var/hlfs</strong>. This directory will be created  if it doesn't exist.  It is expected that either users will read these files, or the system administrators will run a script to resend this "lost mail" to its owner.</p>
  </dd>
  <dt>
    <p><strong>-c</strong><em> cache-interval</em></p>
  </dt>
  <dd>
    <p>Caching interval. <strong>Hlfsd</strong> will cache the validity of home directories for this interval, in seconds.  Entries which have been verified within the last <em>cache-interval</em> seconds will not be verified again, since the operation could be expensive, and the entries are most likely still valid. After the interval has expired, <strong>hlfsd</strong> will re-verify the validity of the user's home directory, and reset the cache time-counter.  The default value for <em>cache-interval</em> is 300 seconds (5 minutes).</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Force fast startup.  This option tells <strong>hlfsd</strong> to skip startup-time consistency checks such as existence of mount directory, alternate spool directory, symlink to be hidden under the mount directory, their permissions and validity.</p>
  </dd>
  <dt>
    <p><strong>-g</strong><em> group</em></p>
  </dt>
  <dd>
    <p>Set the special group HLFS_GID to <em>group</em>. Programs such as <strong>from</strong> or <strong>comsat</strong>, which access the mailboxes of other users) must be setgid HLFS_GID to work properly.  The default group is "hlfs".  If no group is provided, and there is no group "hlfs", this feature is disabled.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Help.  Print a brief help message, and exit.</p>
  </dd>
  <dt>
    <p><strong>-i</strong><em> reload-interval</em></p>
  </dt>
  <dd>
    <p>Map-reloading interval.  Each <em>reload-interval</em> seconds, <strong>hlfsd</strong> will reload the password map. <strong>Hlfsd</strong> needs the password map for the UIDs and home directory pathnames. <strong>Hlfsd</strong> schedules a SIGALRM to reload the password maps.  A SIGHUP sent to <strong>hlfsd</strong> will force it to reload the maps immediately.   The default value for <em>reload-interval</em> is 900 seconds (15 minutes.)</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em> logfile</em></p>
  </dt>
  <dd>
    <p>Specify a log file to which <strong>hlfsd</strong> will record events.  If <em>logfile</em> is the string <strong>syslog</strong> then the log messages will be sent to the system log daemon by <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>, using the LOG_DAEMON facility. This is also the default.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>No verify. <strong>Hlfsd</strong> will not verify the validity of the symbolic link it will be returning, or that the user's home directory contains sufficient disk-space for spooling.  This can speed up <strong>hlfsd</strong> at the cost of possibly returning symbolic links to home directories which are not currently accessible or are full. By default, <strong>hlfsd</strong> validates the symbolic-link in the background. The <strong>-n</strong> option overrides the meaning of the <strong>-c</strong> option, since no caching is necessary.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em> mount-options</em></p>
  </dt>
  <dd>
    <p>Mount options.  Mount options which <strong>hlfsd</strong> will use to mount itself on top of <em>dirname.</em> By default, <em>mount-options</em> is set to "ro".  If the system supports symbolic-link caching, default options are set to "ro,nocache".</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Print PID. Outputs the process-id of <strong>hlfsd</strong> to standard output where it can be saved into a file.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Version.  Displays version information to standard error.</p>
  </dd>
  <dt>
    <p><strong>-x</strong><em> log-options</em></p>
  </dt>
  <dd>
    <p>Specify run-time logging options.  The options are a comma separated list chosen from: fatal, error, user, warn, info, map, stats, all.</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Force <strong>hlfsd</strong> to run on systems that cannot turn off the NFS attribute-cache.  Use of this option on those systems is discouraged, as it may result in loss or mis-delivery of mail.  The option is ignored on systems that can turn off the attribute-cache.</p>
  </dd>
  <dt>
    <p><strong>-D</strong><em> log-options</em></p>
  </dt>
  <dd>
    <p>Select from a variety of debugging options.  Prefixing an option with the string <strong>no</strong> reverses the effect of that option.  Options are cumulative. The most useful option is <strong>all</strong>. Since this option is only used for debugging other options are not documented here.  A fuller description is available in the program source.  A SIGUSR1 sent to <strong>hlfsd</strong> will cause it to dump its internal password map to the file <strong>/usr/tmp/hlfsd.dump.XXXXXX</strong>.</p>
  </dd>
  <dt>
    <p><strong>-P</strong><em> password-file</em></p>
  </dt>
  <dd>
    <p>Read the user-name, user-id, and home directory information from the file <em>password-file.</em> Normally, <strong>hlfsd</strong> will use <a href="../man3/getpwent.3.html"><strong>getpwent</strong>(3)</a> to read the password database.  This option allows you to override the default database, and is useful if you want to map users' mail files to a directory other than their home directory.  Only the username, uid, and home-directory fields of the file <em>password-file</em> are read and checked.  All other fields are ignored.  The file <em>password-file</em> must otherwise be compliant with Unix System 7 colon-delimited format <strong>passwd</strong>(4).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/hlfs</strong></p>
  </dt>
  <dd>
    <p>directory under which <strong>hlfsd</strong> mounts itself and manages the symbolic link <strong>home</strong>.</p>
  </dd>
  <dt>
    <p><strong>.hlfsdir</strong></p>
  </dt>
  <dd>
    <p>default sub-directory in the user's home directory, to which the <strong>home</strong> symbolic link returned by <strong>hlfsd</strong> points.</p>
  </dd>
  <dt>
    <p><strong>/var/hlfs</strong></p>
  </dt>
  <dd>
    <p>directory to which <strong>home</strong> symbolic link returned by <strong>hlfsd</strong> points if it is unable to verify the that user's home directory is accessible.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO hlfsd&hellip;</h2>
        <div class="sectioncontent">
<p><strong>mail</strong>(1),</strong> <a href="../man3/getgrent.3.html"><strong>getgrent</strong>(3)</a>, <a href="../man3/getpwent.3.html"><strong>getpwent</strong>(3)</a>, <strong>mnttab</strong>(4), <strong>passwd</strong>(4), <strong>mtab</strong>(5), <a href="../man8/amd.8.html"><strong>amd</strong>(8)</a>, <a href="../man8/automount.8.html"><strong>automount</strong>(8)</a>, <a href="../man8/cron.8.html"><strong>cron</strong>(8)</a>,</strong> <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>, <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a>, <a href="../man8/umount.8.html"><strong>umount</strong>(8)</a>.</p><p><em>HLFSD: Delivering Email to Your $HOME</em>, in <em>Proc. LISA-VII, The 7th Usenix System Administration Conference</em>, November 1993.</p><p>``am-utils'' <a href="../man1/info.1.html"><strong>info</strong>(1)</a> entry.</p><p><em>Linux NFS and Automounter Administration</em> by Erez Zadok, ISBN 0-7821-2739-8, (Sybex, 2001).</p><p><em>http://www.am-utils.org</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Erez Zadok &lt;ezk@cs.sunysb.edu&gt;, Computer Science Department, Stony Brook University, Stony Brook, New York, USA. and Alexander Dupuy &lt;dupuy@smarts.com&gt;, System Management ARTS, White Plains, New York, USA.</p><p>Other authors and contributors to am-utils are listed in the <strong>AUTHORS</strong> file distributed with am-utils.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="hisaxctrl.8.html"><span aria-hidden="true">&larr;</span> hisaxctrl.8: Configure hisax-module</a></li>
   <li class="next"><a href="horst.8.html">horst.8: Highly optimized radio scanning tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
