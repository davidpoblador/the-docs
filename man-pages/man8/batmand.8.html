<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>batmand: Better approach to mobile ad\(hyhoc networking</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Better approach to mobile ad\(hyhoc networking">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="batmand (8) manual">
  <meta name="twitter:description" content="Better approach to mobile ad\(hyhoc networking">
  <meta name="twitter:image" content="https://www.carta.tech/images/batmand-batmand-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/batmand.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="batmand (8) manual" />
  <meta property="og:description" content="Better approach to mobile ad\(hyhoc networking" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/batmand-batmand-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">batmand<small> (8)</small></h1>
        <p class="lead">Better approach to mobile ad\(hyhoc networking</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/batmand.8.html">
      <span itemprop="name">batmand: Better approach to mobile ad\(hyhoc networking</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/batmand/">
      <span itemprop="name">batmand</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/batmand.8.html">
      <span itemprop="name">batmand: Better approach to mobile ad\(hyhoc networking</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>batmand</strong> [<em>options</em>]<em>interface</em>[<em>interface</em>...<em>]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>B.A.T.M.A.N</strong> means better approach to mobile ad\(hyhoc networking, this is a new routing protocol for multi\(hyhop ad\(hyhoc mesh networks. Go to http://www.open-mesh.org/ to get more information.</p><p>The following document will explain how to use the <strong>batman daemon</strong>.</p><p>The batmand binary can be run in 2 different ways. First you need to start the daemon with "batmand [options] interface" (daemon mode) and then you can connect to that daemon to issue further commands with "batmand -c [options]" (client mode). Some of the options below are always available, some are not. See the example section to get an idea.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a add announced network(s)</strong></p>
  </dt>
  <dd>
    <p>Add networks to the daemons list of available connections to another network(s). This option can be used multiple times and can be used to add networks dynamically while the daemon is running. The parameter has to be in the form of ip\(hyaddress/netmask.</p>
  </dd>
  <dt>
    <p><strong>-A delete announced network(s)</strong></p>
  </dt>
  <dd>
    <p>Delete networks to the daemons list of available connections to another network(s). This option can be used multiple times and can only be used while the daemon is running. The parameter has to be in the form of ip\(hyaddress/netmask.</p>
  </dd>
  <dt>
    <p><strong>-b run debug connection in batch mode</strong></p>
  </dt>
  <dd>
    <p>The debug information are updated after a period of time by default, so if you use "-b" it will execute once and then stop. This option is useful for script integration of the debug output and is only available in client mode together with "-d 1" or "-d 2".</p>
  </dd>
  <dt>
    <p><strong>-c connect via unix socket</strong></p>
  </dt>
  <dd>
    <p>Use this option to switch to client mode. Deploy it without any arguments to get the current configuration even if changed at runtime.</p>
  </dd>
  <dt>
    <p><strong>-d debug level</strong></p>
  </dt>
  <dd>
    <p>The debug level can be set to five values.</p><p>default: 0 -&gt; debug disabled</p><p>allowed values: 1 -&gt; list neighbors</p><p> 2 -&gt; list gateways  3 -&gt; observe batman  4 -&gt; observe batman (verbose)  5 -&gt; memory debug / cpu usage</p><p>Note that debug level 5 can be disabled at compile time.</p>
  </dd>
  <dt>
    <p><strong>-g gateway class</strong></p>
  </dt>
  <dd>
    <p>The gateway class is used to tell other nodes in the network your available internet bandwidth. Just enter any number (optionally followed by "kbit" or "mbit") and the daemon will guess your appropriate gateway class. Use "/" to separate the down\(hy and upload rates. You can omit the upload rate and batmand will assume an upload of download / 5.</p><p>default: 0 -&gt; gateway disabled</p><p>allowed values: 5000</p><p> 5000kbit  5mbit  5mbit/1024  5mbit/1024kbit  5mbit/1mbit</p>
  </dd>
  <dt>
    <p><strong>-h short help</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-H verbose help</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-o orginator interval in ms</strong></p>
  </dt>
  <dd>
    <p>A node transmits broadcast messages (we call them originator message or OGM) to inform the neighboring nodes about it's existence. Originator interval is the time to wait after sending one message and before sending the next message. The default value is 1000 ms (1 second). In a mobile network, you may want to detect network changes very quickly, so you need to send message very often, for example, use a value of 500 ms. In a static network, you can save bandwidth by using a higher value. This option is only available in daemon mode.</p>
  </dd>
  <dt>
    <p><strong>-p preferred gateway</strong></p>
  </dt>
  <dd>
    <p>Set the internet gateway by yourself. Note: This automatically switches your daemon to "internet search modus" with "-r 1" unless "-r" is given. If the preferred gateway is not found the gateway selection will use the current routing class to choose a gateway.</p>
  </dd>
  <dt>
    <p><strong>-r routing class</strong></p>
  </dt>
  <dd>
    <p>The routing class can be set to four values \(hy it enables "internet search modus". The daemon will choose an internet gateway based on certain criteria (unless "-p" is specified):</p><p>default: 0 -&gt; set no default route</p><p>allowed values: 1 -&gt; use fast connection</p><p> 2  -&gt; use stable connection  3  -&gt; use fast\(hyswitch connection  XX -&gt; use late\(hyswitch connection</p><p>In level 1, B.A.T.M.A.N tries to find the best available connection by watching the uplinks throughput and the link quality. In level 2, B.A.T.M.A.N compares the link quality of the internet node and chooses the one with the best link quality. In level 3, B.A.T.M.A.N compares the link quality of the internet node and chooses the one with the best link quality but switches to another gateway as soon as a better connection is found. In level XX (number between 3 and 256) B.A.T.M.A.N compares the link quality of the internet node and chooses the one with the best link quality but switches to another gateway as soon as this gateway has a TQ value which is XX better than the currently selected gateway.</p>
  </dd>
  <dt>
    <p><strong>-s visualization server</strong></p>
  </dt>
  <dd>
    <p>Since no topology database is computed by the protocol an additional solution to create topology graphs has been implemented, the vis server. Batman daemons may send their local view about their single\(hyhop neighbors to the vis server. It collects the information and provides data in a format similar to OLSR's topology information output. Therefore existing solutions to draw topology graphs developed for OLSR can be used to visualize mesh\(hyclouds using B.A.T.M.A.N.</p>
  </dd>
  <dt>
    <p><strong>-v print version</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--disable-client-nat</strong></p>
  </dt>
  <dd>
    <p>Since version 0.3.2 batmand uses iptables to set the NAT rules on the gateX interface of the batman client (-r XX). That option disables this feature of batmand and switches the internet tunnel mode to "half tunnels" (the packets towards the gateway are tunneled but not the packets that are coming back) unless NAT was enabled manually. Be sure to know what you are doing! Without NAT the gateway needs to have a route to the client or the packets will be dropped silently.</p>
  </dd>
  <dt>
    <p><strong>--policy-routing-script</strong></p>
  </dt>
  <dd>
    <p>This option disables the policy routing feature of batmand \(hy all routing changes are send to the script which can make use of this information or not. Firmware and package maintainers can use this option to tightly integrate batmand into their own routing policies. This option is only available in daemon mode.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>batmand eth1 wlan0:test</strong></p>
  </dt>
  <dd>
    <p>Start batman daemon on interface "eth1" and on alias interface "wlan0:test"</p>
  </dd>
  <dt>
    <p><strong>batmand -o 2000 -a 192.168.100.1/32 -a 10.0.0.0/24 eth1</strong></p>
  </dt>
  <dd>
    <p>Start batman daemon on interface "eth1" with originator interval of 2000 ms while announcing 192.168.100.1 and 10.0.0.0/24.</p>
  </dd>
  <dt>
    <p><strong>batmand -s 192.168.1.1 -d 1 eth1</strong></p>
  </dt>
  <dd>
    <p>Start batman daemon on interface "eth1", sending topology information to 192.168.1.1 and with debug level 1 (does not fork into the background).</p>
  </dd>
  <dt>
    <p><strong>batmand eth1 && batmand -c -d 1 -b</strong></p>
  </dt>
  <dd>
    <p>Start batman daemon on interface "eth1". Connect in client mode to get the debug level 1 output once (batch mode).</p>
  </dd>
  <dt>
    <p><strong>batmand -g 2000kbit/500kbit eth1 && batmand -c -r 1</strong></p>
  </dt>
  <dd>
    <p>Start batman daemon on interface "eth1" as internet gateway. Connect in client mode to disable the internet gateway and enable internet search mode.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>batmand was written by Marek Lindner &lt;mareklindner-at-neomailbox.ch&gt;, Axel Neumann &lt;axel-at-open-mesh.net&gt;, Stefan Sperling &lt;stsp-at-stsp.in-berlin.de&gt;, Corinna 'Elektra' Aichele &lt;onelektra-at-gmx.net&gt;, Thomas Lopatic  &lt;thomas-at-lopatic.de&gt;, Felix Fietkau &lt;nbd-at-nbd.name&gt;, Ludger Schmudde &lt;lui-at-schmudde.com&gt;, Simon Wunderlich &lt;sw-at-simonwunderlich.de&gt;, Andreas Langer &lt;an.langer-at-gmx.de&gt;.</p><p>This manual page was written by Wesley Tsai &lt;wesleyboy42@gmail.com&gt;, for the Debian GNU/Linux system.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="batctl.8.html"><span aria-hidden="true">&larr;</span> batctl.8: B.a.t.m.a.n. advanced control and management tool</a></li>
   <li class="next"><a href="baycomepp.8.html">baycomepp.8: Baycom epp modem driver <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
