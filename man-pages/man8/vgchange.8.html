<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vgchange: Vgchange  change attributes of a volume group</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Vgchange  change attributes of a volume group">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vgchange (8) manual">
  <meta name="twitter:description" content="Vgchange  change attributes of a volume group">
  <meta name="twitter:image" content="https://www.carta.tech/images/lvm2-vgchange-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/vgchange.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vgchange (8) manual" />
  <meta property="og:description" content="Vgchange  change attributes of a volume group" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lvm2-vgchange-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vgchange<small> (8)</small></h1>
        <p class="lead">Vgchange  change attributes of a volume group</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/vgchange.8.html">
      <span itemprop="name">vgchange: Vgchange  change attributes of a volume group</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lvm2/">
      <span itemprop="name">lvm2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/vgchange.8.html">
      <span itemprop="name">vgchange: Vgchange  change attributes of a volume group</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>vgchange</strong> [<strong>--addtag</strong> <em>Tag</em>] [<strong>--alloc</strong> <em>AllocationPolicy</em>] [<strong>-A</strong>|<strong>--autobackup</strong> {<em>y</em>|<em>n</em>}] [<strong>-a</strong>|<strong>--activate</strong> [<em>a</em>|<em>e</em>|<em>l</em>] {<em>y</em>|<em>n</em>}] [<strong>--activationmode</strong> <em>{</em>complete<em>|</em>degraded<em>|</em>partial<em>}</em>] [<strong>-K</strong>|<strong>--ignoreactivationskip</strong>] [<strong>--monitor</strong> {<em>y</em>|<em>n</em>}] [<strong>--poll</strong> {<em>y</em>|<em>n</em>}] [<strong>-c</strong>|<strong>--clustered</strong> {<em>y</em>|<em>n</em>}] [<strong>-u</strong>|<strong>--uuid</strong>] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-d</strong>|<strong>--debug</strong>] [<strong>--deltag</strong> <em>Tag</em>] [<strong>--detachprofile</strong>] [<strong>-h</strong>|<strong>--help</strong>] [<strong>--ignorelockingfailure</strong>] [<strong>--ignoremonitoring</strong>] [<strong>--ignoreskippedcluster</strong>] [<strong>--sysinit</strong>] [<strong>--noudevsync</strong>] [<strong>-l</strong>|<strong>--logicalvolume</strong> <em>MaxLogicalVolumes</em>] [<strong>-p</strong>|<strong>--maxphysicalvolumes</strong> <em>MaxPhysicalVolumes</em>] [<strong>--metadataprofile</strong> <em>ProfileName</em>] [<strong>--</strong>[<strong>vg</strong>]<strong>metadatacopies</strong>] <em>NumberOfCopies</em>|<em>unmanaged</em>|<em>all</em>] [<strong>-P</strong>|<strong>--partial</strong>] [<strong>-s</strong>|<strong>--physicalextentsize</strong> <em>PhysicalExtentSize</em>[<em>bBsSkKmMgGtTpPeE</em>]] [<strong>--refresh</strong>] [<strong>-t</strong>|<strong>--test</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>] [<strong>-x</strong>|<strong>--resizeable</strong> {<em>y</em>|<em>n</em>}] [<em>VolumeGroupName</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>vgchange allows you to change the attributes of one or more volume groups. Its main purpose is to activate and deactivate <em>VolumeGroupName</em>, or all volume groups if none is specified.  Only active volume groups are subject to changes and allow access to their logical volumes. [Not yet implemented: During volume group activation, if <strong>vgchange</strong> recognizes snapshot logical volumes which were dropped because they ran out of space, it displays a message informing the administrator that such snapshots should be removed (see <a href="../man8/lvremove.8.html"><strong>lvremove</strong>(8)</a>). ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>See <a href="../man8/lvm.8.html"><strong>lvm</strong>(8)</a> for common options.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-A</strong>, <strong>--autobackup</strong> {<strong></strong><em>y</em>|<strong></strong><em>n</em>}</p>
  </dt>
  <dd>
    <p>Controls automatic backup of metadata after the change.  See <a href="../man8/vgcfgbackup.8.html"><strong>vgcfgbackup</strong>(8)</a>. Default is yes.</p>
  </dd>
  <dt>
    <p><strong>-a</strong>, <strong>--activate</strong> [<strong></strong><em>a</em>|<strong></strong><em>e</em>|<strong></strong><em>l</em>]{<strong></strong><em>y</em>|<strong></strong><em>n</em>}</p>
  </dt>
  <dd>
    <p>Controls the availability of the logical volumes in the volume group for input/output. In other words, makes the logical volumes known/unknown to the kernel. If autoactivation option is used (-aay), each logical volume in the volume group is activated only if it matches an item in the activation/auto_activation_volume_list set in lvm.conf. If this list is not set, then all volumes are considered for activation. The -aay option should be also used during system boot so it's possible to select which volumes to activate using the activation/auto_activation_volume_list settting.</p><ul>
<li><p>Activation of a logical volume creates a symbolic link /dev/VolumeGroupName/LogicalVolumeName pointing to the device node. This link is removed on deactivation. All software and scripts should access the device through this symbolic link and present this as the name of the device. The location and name of the underlying device node may depend on the distribution and configuration (e.g. udev) and might change from release to release.</p></li><li><p>If clustered locking is enabled, add 'e' to activate/deactivate exclusively on one node or 'l' to activate/deactivate only on the local node. Logical volumes with single-host snapshots are always activated exclusively because they can only be used on one node at once.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--activationmode</strong> {<strong></strong><em>complete</em>|<strong></strong><em>degraded</em>|<strong></strong><em>partial</em>}</p>
  </dt>
  <dd>
    <p>The activation mode determines whether logical volumes are allowed to activate when there are physical volumes missing (e.g. due to a device failure).  <em>complete is the most restrictive; allowing only those</em> logical volumes to be activated that are not affected by the missing PVs.  <em>degraded allows RAID logical volumes to be activated even if</em> they have PVs missing.  (Note that the "mirror" segment type is not considered a RAID logical volume.  The "raid1" segment type should be used instead.)  Finally, <em>partial allows any logical volume to</em> be activated even if portions are missing due to a missing or failed PV.  This last option should only be used when performing recovery or repair operations.  <em>degraded is the default mode.  To change it, modify</em> <strong>activation_mode</strong> in <a href="../man5/lvm.conf.5.html"><strong>lvm.conf</strong>(5)</a>.</p>
  </dd>
  <dt>
    <p><strong>-K</strong>, <strong>--ignoreactivationskip</strong></p>
  </dt>
  <dd>
    <p>Ignore the flag to skip Logical Volumes during activation.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--clustered</strong> {<strong></strong><em>y</em>|<strong></strong><em>n</em>}</p>
  </dt>
  <dd>
    <p>If clustered locking is enabled, this indicates whether this Volume Group is shared with other nodes in the cluster or whether it contains only local disks that are not visible on the other nodes. If the cluster infrastructure is unavailable on a particular node at a particular time, you may still be able to use Volume Groups that are not marked as clustered.</p>
  </dd>
  <dt>
    <p><strong>--detachprofile</strong></p>
  </dt>
  <dd>
    <p>Detach any metadata configuration profiles attached to given Volume Groups. See <a href="../man5/lvm.conf.5.html"><strong>lvm.conf</strong>(5)</a> for more information about <strong>metadata profiles</strong>.</p>
  </dd>
  <dt>
    <p><strong>-u</strong>, <strong>--uuid</strong></p>
  </dt>
  <dd>
    <p>Generate new random UUID for specified Volume Groups.</p>
  </dd>
  <dt>
    <p><strong>--monitor</strong> {<strong></strong><em>y</em>|<strong></strong><em>n</em>}</p>
  </dt>
  <dd>
    <p>Start or stop monitoring a mirrored or snapshot logical volume with dmeventd, if it is installed. If a device used by a monitored mirror reports an I/O error, the failure is handled according to <strong>mirror_image_fault_policy</strong> and <strong>mirror_log_fault_policy</strong> set in <a href="../man5/lvm.conf.5.html"><strong>lvm.conf</strong>(5)</a>.</p>
  </dd>
  <dt>
    <p><strong>--poll</strong> {<strong></strong><em>y</em>|<strong></strong><em>n</em>}</p>
  </dt>
  <dd>
    <p>Without polling a logical volume's backgrounded transformation process will never complete.  If there is an incomplete pvmove or lvconvert (for example, on rebooting after a crash), use <strong>--poll y</strong> to restart the process from its last checkpoint.  However, it may not be appropriate to immediately poll a logical volume when it is activated, use <strong>--poll n</strong> to defer and then <strong>--poll y</strong> to restart the process.</p>
  </dd>
  <dt>
    <p><strong>--sysinit</strong></p>
  </dt>
  <dd>
    <p>Indicates that <a href="../man8/vgchange.8.html"><strong>vgchange</strong>(8)</a> is being invoked from early system initialisation scripts (e.g. rc.sysinit or an initrd), before writeable filesystems are available. As such, some functionality needs to be disabled and this option acts as a shortcut which selects an appropriate set of options. Currently this is equivalent to using <strong>--ignorelockingfailure</strong>, <strong>--ignoremonitoring</strong>, <strong>--poll n</strong> and setting <strong>LVM_SUPPRESS_LOCKING_FAILURE_MESSAGES</strong> environment variable.</p><p>If <strong>--sysinit</strong> is used in conjunction with <a href="../man8/lvmetad.8.html"><strong>lvmetad</strong>(8)</a> enabled and running, autoactivation is preferred over manual activation via direct vgchange call. Logical volumes are autoactivated according to auto_activation_volume_list set in <a href="../man5/lvm.conf.5.html"><strong>lvm.conf</strong>(5)</a>.</p>
  </dd>
  <dt>
    <p><strong>--noudevsync</strong></p>
  </dt>
  <dd>
    <p>Disable udev synchronisation. The process will not wait for notification from udev. It will continue irrespective of any possible udev processing in the background.  You should only use this if udev is not running or has rules that ignore the devices LVM2 creates.</p>
  </dd>
  <dt>
    <p><strong>--ignoremonitoring</strong></p>
  </dt>
  <dd>
    <p>Make no attempt to interact with dmeventd unless <strong>--monitor</strong> is specified. Do not use this if dmeventd is already monitoring a device.</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--logicalvolume</strong> <strong></strong><em>MaxLogicalVolumes</em></p>
  </dt>
  <dd>
    <p>Changes the maximum logical volume number of an existing inactive volume group.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--maxphysicalvolumes</strong> <strong></strong><em>MaxPhysicalVolumes</em></p>
  </dt>
  <dd>
    <p>Changes the maximum number of physical volumes that can belong to this volume group. For volume groups with metadata in lvm1 format, the limit is 255. If the metadata uses lvm2 format, the value 0 removes this restriction: there is then no limit.  If you have a large number of physical volumes in a volume group with metadata in lvm2 format, for tool performance reasons, you should consider some use of <strong>--pvmetadatacopies 0</strong> as described in <a href="../man8/pvcreate.8.html"><strong>pvcreate</strong>(8)</a></strong>, and/or use <strong>--vgmetadatacopies</strong>.</p>
  </dd>
  <dt>
    <p><strong>--metadataprofile</strong> <strong></strong><em>ProfileName</em></p>
  </dt>
  <dd>
    <p>Uses and attaches ProfileName configuration profile to the volume group metadata. Whenever the volume group is processed next time, the profile is automatically applied. The profile is inherited by all logical volumes in the volume group unless the logical volume itself has its own profile attached. See <a href="../man5/lvm.conf.5.html"><strong>lvm.conf</strong>(5)</a> for more information about <strong>metadata profiles</strong>.</p>
  </dd>
  <dt>
    <p><strong>--</strong>[<strong>vg</strong>]<strong>metadatacopies</strong> <strong></strong><em>NumberOfCopies</em>|<strong></strong><em>unmanaged</em>|<strong></strong><em>all</em></p>
  </dt>
  <dd>
    <p>Sets the desired number of metadata copies in the volume group.  If set to a non-zero value, LVM will automatically manage the 'metadataignore' flags on the physical volumes (see <strong>pvchange</strong> or <strong>pvcreate --metadataignore</strong>) in order to achieve <em>NumberOfCopies</em> copies of metadata.  If set to <em>unmanaged</em>, LVM will not automatically manage the 'metadataignore' flags.  If set to <em>all</em>, LVM will first clear all of the 'metadataignore' flags on all metadata areas in the volume group, then set the value to <em>unmanaged</em>. The <strong>vgmetadatacopies</strong> option is useful for volume groups containing large numbers of physical volumes with metadata as it may be used to minimize metadata read and write overhead.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--physicalextentsize</strong> <strong></strong><em>PhysicalExtentSize</em>[<strong></strong><em>BbBsSkKmMgGtTpPeE</em>]</p>
  </dt>
  <dd>
    <p>Changes the physical extent size on physical volumes of this volume group. A size suffix (k for kilobytes up to t for terabytes) is optional, megabytes is the default if no suffix is present. The value must be at least 1 sector for LVM2 format (where the sector size is the largest sector size of the PVs currently used in the VG) or 8KiB for LVM1 format and it must be a power of 2. The default is 4 MiB.</p><p>Before increasing the physical extent size, you might need to use lvresize, pvresize and/or pvmove so that everything fits.  For example, every contiguous range of extents used in a logical volume must start and end on an extent boundary.</p><p>If the volume group metadata uses lvm1 format, extents can vary in size from 8KiB to 16GiB and there is a limit of 65534 extents in each logical volume. The default of 4 MiB leads to a maximum logical volume size of around 256GiB.</p><p>If the volume group metadata uses lvm2 format those restrictions do not apply, but having a large number of extents will slow down the tools but have no impact on I/O performance to the logical volume.  The smallest PE is 1KiB.</p><p>The 2.4 kernel has a limitation of 2TiB per block device.</p>
  </dd>
  <dt>
    <p><strong>--refresh</strong></p>
  </dt>
  <dd>
    <p>If any logical volume in the volume group is active, reload its metadata. This is not necessary in normal operation, but may be useful if something has gone wrong or if you're doing clustering manually without a clustered lock manager.</p>
  </dd>
  <dt>
    <p><strong>-x</strong>, <strong>--resizeable</strong> {<strong></strong><em>y</em>|<strong></strong><em>n</em>}</p>
  </dt>
  <dd>
    <p>Enables or disables the extension/reduction of this volume group with/by physical volumes.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Examples</h2>
        <div class="sectioncontent">
<p>To activate all known volume groups in the system:</p><p><strong>vgchange -a y</strong></p><p>To change the maximum number of logical volumes of inactive volume group vg00 to 128.</p><p><strong>vgchange -l 128 /dev/vg00</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO vgchange&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/lvchange.8.html"><strong>lvchange</strong>(8)</a>, <a href="../man8/lvm.8.html"><strong>lvm</strong>(8)</a>, <a href="../man8/vgcreate.8.html"><strong>vgcreate</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="vgcfgrestore.8.html"><span aria-hidden="true">&larr;</span> vgcfgrestore.8: Vgcfgrestore  restore volume group descriptor area</a></li>
   <li class="next"><a href="vgck.8.html">vgck.8: Vgck  check volume group metadata <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
