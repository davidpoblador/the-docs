<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amcrypt-ossl-asym: Crypt program for amanda asymmetric data encryption using openssl</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Crypt program for amanda asymmetric data encryption using openssl">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amcrypt-ossl-asym (8) manual">
  <meta name="twitter:description" content="Crypt program for amanda asymmetric data encryption using openssl">
  <meta name="twitter:image" content="https://www.carta.tech/images/amanda-common-amcrypt-ossl-asym-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/amcrypt-ossl-asym.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amcrypt-ossl-asym (8) manual" />
  <meta property="og:description" content="Crypt program for amanda asymmetric data encryption using openssl" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/amanda-common-amcrypt-ossl-asym-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amcrypt-ossl-asym<small> (8)</small></h1>
        <p class="lead">Crypt program for amanda asymmetric data encryption using openssl</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amcrypt-ossl-asym.8.html">
      <span itemprop="name">amcrypt-ossl-asym: Crypt program for amanda asymmetric data encryption using openssl</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/amanda-common/">
      <span itemprop="name">amanda-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amcrypt-ossl-asym.8.html">
      <span itemprop="name">amcrypt-ossl-asym: Crypt program for amanda asymmetric data encryption using openssl</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>amcrypt-ossl-asym</strong> [-d]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>amcrypt-ossl-asym</strong> uses <strong>OpenSSL</strong> to encrypt and decrypt data. OpenSSL is available from www.openssl.org. OpenSSL offers a wide variety of cipher choices ( <strong>amcrypt-ossl-asym</strong> defaults to 256-bit AES) and can use hardware cryptographic accelerators on several platforms.</p><p><strong>amcrypt-ossl-asym</strong> will search for the OpenSSL program in the following directories: /bin:/usr/bin:/usr/local/bin:/usr/ssl/bin:/usr/local/ssl/bin.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERATING PUBLIC AND PRIVATE KEYS</h2>
        <div class="sectioncontent">
<p>RSA keys can be generated with the standard OpenSSL commands, e.g.:</p>
<pre>
$ cd /var/lib/amanda
$ openssl genrsa -aes128 -out backup-privkey.pem 1024
Generating RSA private key, 1024 bit long modulus
[...]
Enter pass phrase for backup-privkey.pem: <em>ENTER YOUR PASS PHRASE</em>
Verifying - Enter pass phrase for backup-key.pem: <em>ENTER YOUR PASS PHRASE</em>

$ openssl rsa -in backup-privkey.pem -pubout -out backup-pubkey.pem
Enter pass phrase for backup-privkey.pem: <em>ENTER YOUR PASS PHRASE</em>
Writing RSA key
</pre>
<p>To generate a private key without a passphrase, omit the <strong>-aes128</strong> option. See <strong>openssl_genrsa</strong>(1) for more key generation options.</p><p>Note that it is always possible to generate the public key from the private key.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KEY AND PASSPHRASE MANAGEMENT</h2>
        <div class="sectioncontent">
<p><strong>amcrypt-ossl-asym</strong> uses the <em>public key</em> to encrypt data. The security of the data does not depend on the confidentiality of the public key. The <em>private key</em> is used to decrypt data, and must be protected. Encrypted backup data cannot be recovered without the private key. The private key may optionally be encrypted with a passphrase.</p><p>While the public key must be online at all times to perorm backups, the private key and optional passphrase are only needed to restore data. It is recommended that the latter be stored offline all other times. For example, you could keep the private key on removable media, and copy it into place for a restore; or you could keep the private key online, encrypted with a passphrase that is present only for a restore.</p><p>OpenSSL&apos;s key derivation routines use a salt to guard against dictionary attacks on the pass phrase; still it is important to pick a pass phrase that is hard to guess. The Diceware method (see www.diceware.com) can be used to create passphrases that are difficult to guess and easy to remember.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/var/lib/amanda/backup-privkey.pem</p><p>File containing the RSA private key. It should not be readable by any user other than the Amanda user.</p><p>/var/lib/amanda/backup-pubkey.pem</p><p>File containing the RSA public key.</p><p>/var/lib/amanda/.am_passphrase</p><p>File containing the passphrase. It should not be readable by any user other than the Amanda user.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amcrypt-ossl-asym&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/amanda.8.html"><strong>amanda</strong>(8)</a>, <a href="../man5/amanda.conf.5.html"><strong>amanda.conf</strong>(5)</a>, <strong>openssl</strong>(1), <a href="../man8/amcrypt-ossl.8.html"><strong>amcrypt-ossl</strong>(8)</a></p><p>The Amanda Wiki: : http://wiki.zmanda.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Kevin Till</strong> &lt;kevin.till@zmanda.com&gt;</p><p>Zmanda, Inc. (http://www.zmanda.com)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>www.openssl.org</p><p>http://www.openssl.org/</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>www.diceware.com</p><p>http://www.diceware.com/</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amcrypt-ossl.8.html"><span aria-hidden="true">&larr;</span> amcrypt-ossl.8: Crypt program for amanda symmetric data encryption using openssl</a></li>
   <li class="next"><a href="amcryptsimple.8.html">amcryptsimple.8: Reference simple crypt program for amanda symmetric data encryption <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
