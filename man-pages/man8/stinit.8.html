<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>stinit: Initialize scsi magnetic tape drives</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Initialize scsi magnetic tape drives">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="stinit (8) manual">
  <meta name="twitter:description" content="Initialize scsi magnetic tape drives">
  <meta name="twitter:image" content="https://www.carta.tech/images/mt-st-stinit-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/stinit.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="stinit (8) manual" />
  <meta property="og:description" content="Initialize scsi magnetic tape drives" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mt-st-stinit-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">stinit<small> (8)</small></h1>
        <p class="lead">Initialize scsi magnetic tape drives</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/stinit.8.html">
      <span itemprop="name">stinit: Initialize scsi magnetic tape drives</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mt-st/">
      <span itemprop="name">mt-st</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/stinit.8.html">
      <span itemprop="name">stinit: Initialize scsi magnetic tape drives</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>stinit</strong> [-f conf-file] [-h] [-p] [-r] [-v] [devices...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents the tape control program <strong>stinit</strong> can used to initialize SCSI tape drive modes at system startup, after loading the tape driver as module, or after introduction of new device to the SCSI subsystem at run-time. The initialization is performed by sending ioctl commands to the drive. The commands are defined in a text file that is indexed using the inquiry data the drive returns (manufacturer, device, revision). Values for all of the general and mode-specific SCSI tape parameters up to Linux version 2.6.0 can be initialized.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>-f conf-file</em></p>
  </dt>
  <dd>
    <p>Specifies the name of the text file containing the definitions for different tape drive types. By default <strong>stinit</strong> tries to find the definition file <em>stinit.def</em> or <em>/etc/stinit.def</em> (in this order).</p>
  </dd>
  <dt>
    <p><em>-h</em></p>
  </dt>
  <dd>
    <p>Print the usage information.</p>
  </dd>
  <dt>
    <p><em>-p</em></p>
  </dt>
  <dd>
    <p>The definition file is parsed but no tape drive initialization is attempted. This option can be used for testing the integrity of a definition file after changes have been made.</p>
  </dd>
  <dt>
    <p><em>-r</em></p>
  </dt>
  <dd>
    <p>Rewind every device being initialized.</p>
  </dd>
  <dt>
    <p><em>-v</em></p>
  </dt>
  <dd>
    <p>The more -v options (currently up to two), the more verbose output.</p>
  </dd>
  <dt>
    <p><em>--version</em></p>
  </dt>
  <dd>
    <p>Print the program version.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE DEVICES BEING INITIALIZED</h2>
        <div class="sectioncontent">
<p>If the program is started without arguments, it tries to find all accessible SCSI tape devices and the device files for the different modes of the devices. The tape drives are searched in the scanning order of the kernel and searching is stopped at the first non-existing tape. All of the found devices are initialized if a matching description is found from the parameter file. Note that a mode for a device is not initialized if the corresponding device file is not found even if a matching description for the mode exists. The non-rewind device is preferred over the auto-rewind device for each mode. If the directory <em>/dev/tapes</em> is found, the devfs filesystem is assumed to be mounted on /dev. Otherwise, the directories <em>/dev/scsi</em> and <em>/dev</em> are scanned for device files.</p><p>SCSI tape drives can be initialized selectively using program arguments. A numeric argument specifies the number of the tape drive in the scanning order of the kernel. A file name specifies that the device corresponding to this name is to be initialized. If the file name is given without the directory specification, the program searches for the name in the device directories <em></em> /dev/scsi and <em>/dev.</em> Only full path names are supported with devfs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE CONFIGURATION FILE</h2>
        <div class="sectioncontent">
<p>The configuration file is a simple text file that contains descriptions of tape drives and the corresponding initialization parameters. The parameter definition blocks are delimited by <em>{}.</em> Specification of the drive description is restarted after each parameter definition block.</p><p>The drive descriptions and the parameter definitions consist of pairs <em>name = value.</em> The value is either a numeric parameter, a string not containing blanks, or a quoted string. In case of a numeric parameter, the postfix <em>k</em> or <em>M</em> can be used to give the value in units of 1024 or 1024 * 1024, respectively. If the <em>=value</em> -part is omitted, the value <em></em> "1" is used. If the character <em>#</em> is found from an input line, the rest of the line is discarded. This allows use of comments in the definition file. The following example contains definitions for one type of tape drives:</p>
<pre>
# The XY dat
manufacturer=XY-COMPANY model = "UVW DRIVE" {
scsi2logical=1 # Common definitions for all modes
can-bsr can-partitions auto-lock
# Definition of modes
mode1 blocksize=0 compression=1
mode2 blocksize=1024 compression=1
mode3 blocksize=0 compression=0
mode4 blocksize = 1k compression=0 }
</pre>
<p>The devices are identified using zero or more of the following keywords corresponding to the data returned by the tape device as response to the SCSI INQUIRY command. The matches are case-sensitive and performed up to the length defined in the configuration file (permitting use of partial matches).</p>
<dl class='dl-vertical'>
  <dt>
    manufacturer=
  </dt>
  <dd>
    <p>This keyword specifies the string that must match the vendor identification returned by the device.</p>
  </dd>
  <dt>
    model=
  </dt>
  <dd>
    <p>This keyword defines the string that must match the <strong>product identification</strong> returned by the device.</p>
  </dd>
  <dt>
    revision=
  </dt>
  <dd>
    <p>This keyword matched the string that must match the <strong>product revision level</strong> returned by the device.</p>
  </dd>

</dl>
<p>All of the matching initializations are collected in the order they are defined in the file. This means that common parameters can be defined for all devices using zero keywords for a definition block. Another consequence is that, for instance, some parameters can be easily given different values for a specific firmware revision without repeating the parameters common to all revisions.</p><p>The tape parameters are defined using the following keywords. More thorough description of the parameters can be found from the <em>st(4)</em> man page (not up to date when this is written) or from the file <em>drivers/scsi/README.st</em> in the Linux kernel source tree. The keywords are matched using only the first characters. The part of the keywords not used in matching is enclosed by []. The numeric values may be specified either in decimal notation or hexadecimal notation (using the prefix 0x).</p>
<dl class='dl-vertical'>
  <dt>
    drive-[buffering]=value
  </dt>
  <dd>
    <p>The drive's buffering parameter is set to <em>value.</em> This parameter if common for all modes.</p>
  </dd>
  <dt>
    cleaning
  </dt>
  <dd>
    <p>The cleaning request notifying parameter is set to <em>value</em></p>
  </dd>
  <dt>
    no-w[ait]
  </dt>
  <dd>
    <p>The immediate mode is used with commands like rewind if <em>value</em> is non-zero (i.e., the driver does not wait for the command to finish).</p>
  </dd>
  <dt>
    mode=value
  </dt>
  <dd>
    <p>This keyword starts definition of tape mode <em>value.</em> The number of the mode must be between 1 and 4.</p>
  </dd>
  <dt>
    disab[led]=value
  </dt>
  <dd>
    <p>This mode is disabled for this device if <em>value</em> is non-zero. Can be used if some mode defined in a more general definition should be disabled by a more specific definition for some device (for example, for a device with buggy firmware level).</p>
  </dd>
  <dt>
    block[size]=value
  </dt>
  <dd>
    <p>The default tape block size is set to <em>value.</em> bytes. The block size zero means variable block mode.</p>
  </dd>
  <dt>
    dens[ity]=value
  </dt>
  <dd>
    <p>The tape density code is set to <em>value.</em></p>
  </dd>
  <dt>
    buff[ering]=value
  </dt>
  <dd>
    <p>The buffered writes by the driver in fixed block mode are enabled if <em>value</em> is non-zero.</p>
  </dd>
  <dt>
    async[-writes]=value
  </dt>
  <dd>
    <p>Asynchronous writes by the driver are enabled if <em>value</em> is non-zero.</p>
  </dd>
  <dt>
    read[-ahead]=value
  </dt>
  <dd>
    <p>Read-ahead by the driver in fixed block mode is allowed if <em>value</em> is non-zero.</p>
  </dd>
  <dt>
    two[-fms]=value
  </dt>
  <dd>
    <p>Two filemarks are written when a file being written to is closed if <em>value</em> is non-zero. By default, one filemark is written.</p>
  </dd>
  <dt>
    comp[ression]=value
  </dt>
  <dd>
    <p>Compression of the data by the drive is enabled if <em>value</em> is non-zero. Note that the tape driver can't enable compression for all drives that can compress data. Note also that some drives define compression using density codes.</p>
  </dd>
  <dt>
    auto[-lock]=value
  </dt>
  <dd>
    <p>The tape drive door is locked automatically when the device file is opened if <em>value</em> is non-zero.</p>
  </dd>
  <dt>
    fast[-eom]=value
  </dt>
  <dd>
    <p>The MTEOM command is performed using the SCSI command that spaces directly to the end of medium if <em>value</em> is non-zero. The drawback is that the file number in the status becomes invalid. By default, spacing to end of medium is performed by spacing over filemarks until end of medium is detected and the file number remains valid.</p>
  </dd>
  <dt>
    can-b[sr]=value
  </dt>
  <dd>
    <p>Backspacing over records is used by the driver when repositioning the tape when read-ahead is enabled if <em>value</em> is non-zero.</p>
  </dd>
  <dt>
    noblk[limits]=value
  </dt>
  <dd>
    <p>The tape driver does not use the READ BLOCK LIMITS SCSI command when the device is being opened if <em>value</em> is non-zero. This is for the drives that do not support this SCSI command.</p>
  </dd>
  <dt>
    can-p[artitions]=value
  </dt>
  <dd>
    <p>The support for tape partitions is enabled if <em>value</em> is non-zero.</p>
  </dd>
  <dt>
    scsi2[logical]=value
  </dt>
  <dd>
    <p>Logical block addresses are used in the MTSEEK and MTIOCPOS commands if <em>value</em> is non-zero. The default is to use the device-specific addresses.</p>
  </dd>
  <dt>
    sili=value
  </dt>
  <dd>
    <p>If <em>value</em> is non-zero, the SILI bit is set when reading in variable block mode. This may speed up reading blocks shorter than the read byte count. Set this only if you know that the drive supports SILI and the HBA reliably returns transfer residual byte counts. Requires kernel version &gt;= 2.6.26.</p>
  </dd>
  <dt>
    defs-for-w[rites]=value
  </dt>
  <dd>
    <p>The parameters defining the tape format (density, block size, etc.) are forced when writing starts at the beginning of a tape if <em>value</em> is non-zero. The default is to change there parameters each time the device is opened at the beginning of a tape (or the mode is changed in the middle of a tape).</p>
  </dd>
  <dt>
    sysv=value
  </dt>
  <dd>
    <p>The System V tape semantics are used if <em>value</em> is non-zero. Otherwise the BSD semantics are used.</p>
  </dd>
  <dt>
    timeout=value
  </dt>
  <dd>
    <p>The normal timeout for the device is set to <em>value</em> seconds.</p>
  </dd>
  <dt>
    long-time[out]=value
  </dt>
  <dd>
    <p>The long timeout for the device is set to <em>value</em> seconds.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>The program exits with value one if the command line is incorrect, the definition file is not found, or option -p is given and parsing the definition file fails. In all other cases the return value is zero (i.e., failing of initialization is not currently signaled by the return value).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p>With the exception of the -p option, the program can be used only by the superuser. This is because the program uses ioctls allowed only for the superuser.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The program is written by Kai Makisara &lt;Kai.Makisara@kolumbus.fi&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>The program and the manual page are copyrighted by Kai Makisara, 1998-2008. They can be distributed according to the GNU Copyleft.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO stinit&hellip;</h2>
        <div class="sectioncontent">
<p>st(4) mt(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="status.8.html"><span aria-hidden="true">&larr;</span> status.8: Init daemon control tool</a></li>
   <li class="next"><a href="stonith.8.html">stonith.8: Extensible interface for remotely powering down a node in the cluster <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
