<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>axspawn: Allow automatic login to a linux system.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Allow automatic login to a linux system.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="axspawn (8) manual">
  <meta name="twitter:description" content="Allow automatic login to a linux system.">
  <meta name="twitter:image" content="https://www.carta.tech/images/ax25-tools-axspawn-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/axspawn.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="axspawn (8) manual" />
  <meta property="og:description" content="Allow automatic login to a linux system." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ax25-tools-axspawn-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">axspawn<small> (8)</small></h1>
        <p class="lead">Allow automatic login to a linux system.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/axspawn.8.html">
      <span itemprop="name">axspawn: Allow automatic login to a linux system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ax25-tools/">
      <span itemprop="name">ax25-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/axspawn.8.html">
      <span itemprop="name">axspawn: Allow automatic login to a linux system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>axspawn [--pwprompt PR0MPT, -p PR0MPT] [--changeuser, -c] [--rootlogin, -r] [--only-md5] [--wait, -w]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Axspawn</strong> will check if the peer is an AX.25 connect, the callsign a valid Amateur Radio callsign, strip the SSID, check if UID/GID are valid, allow a password-less login if the password-entry in /etc/passwd is &ldquo;+&rdquo; or empty; in every other case login will prompt for a password.</p><p><strong>Axspawn</strong> can create user accounts automatically. You may specify the user shell, first and maximum user id, group ID in the config file and (unlike WAMPES) create a file &ldquo;/etc/ax25/ax25.profile&rdquo; which will be copied to ~/.profile.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>Auto accounting is a security problem by definition. Unlike WAMPES, which creates an empty password field, Axspawn adds an &ldquo;impossible&rdquo; ('+') password to /etc/passwd. Login gets called with the &ldquo;-f&rdquo; option, thus new users have the chance to login without a password. (I guess this won't work with the shadow password system).</p><p>Of course <strong>axspawn</strong> does callsign checking: Only letters and numbers are allowed, the callsign must be longer than 4 characters and shorter than 6 characters (without SSID). There must be at least one digit, and max. two digits within the call. The SSID must be within the range of 0 and 15. Please drop me a note if you know a valid Amateur Radio callsign that does not fit this pattern _and_ can be represented correctly in AX.25.</p><p>axspawn also has the well known authentication mechanisms of the AX.25 bbs <strong>baycom (sys)</strong> and <strong>md5</strong> standards. axspawn searches in /etc/ax25/bcpasswd (first) and ~user/.bcpasswd (second) for a match of the required authentication mechanism and password. md5 and baycom passwords may differ. md5 passwords gain over baycom passwords.</p><p>Note: you could "lock" special "friends" out by specifying an empty password in /etc/ax25/bcpasswd (line "n0call:md5:"). -&gt; md5 Passwords are enforced. But the length is shorter than the minimum (len 8 for md5, len 20 for baycom); user's password file is not searched because in /etc/ax25/bcpasswd its already found..</p><p>Syntax and caveeats for /etc/ax25/bcpasswd:</p>
<pre>
  - Has to be a regular file (no symlink). Not world-readable/writable.
  - Example lines:
    # Thomas
    dl9sau:md5:abcdefgh
    # Test
    te1st:sys:12345678901234567890
    # root
    root:md5:ziz7AoxuAt6jeuthTheexet0uDa9iefuAeph3eelAetahmi0
    # misconfiguration:
    thisbadlineisignored
    # With this line
    systempasswordonly
    # .. axspan will not look in user's homedir for his .bcpasswd
</pre>
<p>Syntax and caveeats for user's .bcpasswd in his $HOME:</p>
<pre>
  - Has to be a regular file (no symlink). Neither group- nor world-
      read-/writable. Has to be owned by the user or uid 0 (root).
  - Example lines:
    # could be shorter
    md5:abcdefgh
    # should be longer
    sys:12345678901234567890
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-p DB0FHN or --pwprompt DB0FHN</strong></p>
  </dt>
  <dd>
    <p>While baycom or md5 password authentication (see above), the password prompt is set to the first argument (DB0FHN in this example). This may be needed for some packet-radio terminal programs for detecting the password prompt properly.</p>
  </dd>
  <dt>
    <p><strong>-c, --changeuser</strong></p>
  </dt>
  <dd>
    <p>Allow connecting ax25 users to change their username for login. They'll be asked for their real login name.</p>
  </dd>
  <dt>
    <p><strong>-e, --embedded</strong></p>
  </dt>
  <dd>
    <p>Special treatment for axspawn on non-standard conform embedded devices. I.e. openwrt has no true /bin/login: if you use it as a real login program, it raises a security hole.</p>
  </dd>
  <dt>
    <p><strong>-r, --rootlogin</strong></p>
  </dt>
  <dd>
    <p>Permit login as user root. Cave: only md5 or baycom style is allowed; no plaintext password.</p>
  </dd>
  <dt>
    <p><strong>--only-md5</strong></p>
  </dt>
  <dd>
    <p>Insist in md5 authentication during login. If no password for the user is found, or it is not md5, then no other login mechanism is granted. This option, in combination with -c and -r, may be a useful configuration for systems where no ax25 user accounts are available, but you as sysop would like to have a login access for your administrative tasks.</p>
  </dd>
  <dt>
    <p><strong>-w, --wait</strong></p>
  </dt>
  <dd>
    <p>Eats the first line the user sends. This feature is useful if you have TCP VC connects to the same Call+SSID. It is now obsolete, because ax25d is the right place for this and implements this functionality better.</p>
  </dd>
  <dt>
    <p>Theses are options and not part of the preferences because you _may_ like to have on every interface definition in ax25d.conf (where axspawn is started from) a different behaviour.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
/etc/passwd

/etc/ax25/ax25.profile

/etc/ax25/axspawn.conf
</pre>
<p>/etc/ax25/bcpasswd ~/.bcpasswd</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO axspawn&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/axspawn.conf.5.html"><strong>axspawn.conf</strong>(5)</a>, <a href="../man8/ax25d.8.html"><strong>ax25d</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Joerg Reuter DL1BKE &lt;jreuter@poboxes.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="axparms.8.html"><span aria-hidden="true">&larr;</span> axparms.8: Configure ax.25 interfaces.</a></li>
   <li class="next"><a href="babeld.8.html">babeld.8: Ad-hoc network routing daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
