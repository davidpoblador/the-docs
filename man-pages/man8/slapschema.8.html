<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>slapschema: Slapd in-database schema checking utility</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Slapd in-database schema checking utility">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="slapschema (8) manual">
  <meta name="twitter:description" content="Slapd in-database schema checking utility">
  <meta name="twitter:image" content="https://www.carta.tech/images/slapd-slapschema-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/slapschema.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="slapschema (8) manual" />
  <meta property="og:description" content="Slapd in-database schema checking utility" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/slapd-slapschema-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">slapschema<small> (8)</small></h1>
        <p class="lead">Slapd in-database schema checking utility</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/slapschema.8.html">
      <span itemprop="name">slapschema: Slapd in-database schema checking utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/slapd/">
      <span itemprop="name">slapd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/slapschema.8.html">
      <span itemprop="name">slapschema: Slapd in-database schema checking utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/usr/sbin/slapschema</strong> [ .BI -a filter] [ .BI -b suffix] [ .BR -c ] [ .BI -d debug-level] [ .BI -f slapd.conf] [ .BI -F confdir] [ .BR -g ] [ .BI -H URI] [ .BI -l error-file] [ .BI -n dbnum] [ .BI -o option[ = value]] [ .BI -s subtree-dn] [ .BR -v ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Slapschema</strong> is used to check schema compliance of the contents of a <a href="../man8/slapd.8.html"><strong>slapd</strong>(8)</a> database. It opens the given database determined by the database number or suffix and checks the compliance of its contents with the corresponding schema. Errors are written to standard output or the specified file. Databases configured as <strong>subordinate</strong> of this one are also output, unless <strong>-g</strong> is specified.</p><p>Administrators may need to modify existing schema items, including adding new required attributes to objectClasses, removing existing required or allowed attributes from objectClasses, entirely removing objectClasses, or any other change that may result in making perfectly valid entries no longer compliant with the modified schema. The execution of the <strong>slapschema</strong> tool after modifying the schema can point out inconsistencies that would otherwise surface only when inconsistent entries need to be modified.</p><p>The entry records are checked in database order, not superior first order.  The entry records will be checked considering all (user and operational) attributes stored in the database. Dynamically generated attributes (such as subschemaSubentry) will not be considered.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong><em></em><strong>filter</strong></p>
  </dt>
  <dd>
    <p>Only check entries matching the asserted filter. For example</p><p>slapschema -a &#92;</p>
<pre>
    "(!(entryDN:dnSubtreeMatch:=ou=People,dc=example,dc=com))"
</pre>
<p>will check all but the "ou=People,dc=example,dc=com" subtree of the "dc=example,dc=com" database. Deprecated; use <strong>-H</strong> <em>ldap:///???(filter)</em> instead.</p>
  </dd>
  <dt>
    <p><strong>-b</strong><em></em><strong>suffix</strong></p>
  </dt>
  <dd>
    <p>Use the specified <em>suffix</em> to determine which database to check.  The <strong>-b</strong> cannot be used in conjunction with the <strong>-n</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Enable continue (ignore errors) mode.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em></em><strong>debug-level</strong></p>
  </dt>
  <dd>
    <p>Enable debugging messages as defined by the specified <em>debug-level</em>; see <a href="../man8/slapd.8.html"><strong>slapd</strong>(8)</a> for details.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em></em><strong>slapd.conf</strong></p>
  </dt>
  <dd>
    <p>Specify an alternative <a href="../man5/slapd.conf.5.html"><strong>slapd.conf</strong>(5)</a> file.</p>
  </dd>
  <dt>
    <p><strong>-F</strong><em></em><strong>confdir</strong></p>
  </dt>
  <dd>
    <p>specify a config directory. If both <strong>-f</strong> and <strong>-F</strong> are specified, the config file will be read and converted to config directory format and written to the specified directory. If neither option is specified, an attempt to read the default config directory will be made before trying to use the default config file. If a valid config directory exists then the default config file is ignored.</p>
  </dd>
  <dt>
    <p><strong>-g</strong></p>
  </dt>
  <dd>
    <p>disable subordinate gluing.  Only the specified database will be processed, and not its glued subordinates (if any).</p>
  </dd>
  <dt>
    <p><strong>-H &nbsp;URI</strong></p>
  </dt>
  <dd>
    <p>use dn, scope and filter from URI to only handle matching entries.</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em></em><strong>error-file</strong></p>
  </dt>
  <dd>
    <p>Write errors to specified file instead of standard output.</p>
  </dd>
  <dt>
    <p><strong>-n</strong><em></em><strong>dbnum</strong></p>
  </dt>
  <dd>
    <p>Check the <em>dbnum</em>-th database listed in the configuration file. The config database <a href="../man5/slapd-config.5.html"><strong>slapd-config</strong>(5)</a>, is always the first database, so use <strong>-n 0</strong></p><p>The <strong>-n</strong> cannot be used in conjunction with the <strong>-b</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em></em><strong>option</strong>[<em>=</em><strong>value</strong>]</p>
  </dt>
  <dd>
    <p>Specify an <em>option</em> with a(n optional) <em>value</em>. Possible generic options/values are:</p>
  </dd>

</dl>

<pre>
              syslog=&lt;subsystems&gt;  (see `-s' in <a href="../man8/slapd.8.html"><strong>slapd</strong>(8)</a>)
              syslog-level=&lt;level&gt; (see `-S' in <a href="../man8/slapd.8.html"><strong>slapd</strong>(8)</a>)
              syslog-user=&lt;user&gt;   (see `-l' in <a href="../man8/slapd.8.html"><strong>slapd</strong>(8)</a>)

</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-s</strong><em></em><strong>subtree-dn</strong></p>
  </dt>
  <dd>
    <p>Only check entries in the subtree specified by this DN. Implies <strong>-b</strong> <em>subtree-dn</em> if no <strong>-b</strong> nor <strong>-n</strong> option is given. Deprecated; use <strong>-H</strong> <em>ldap:///subtree-dn</em> instead.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Enable verbose mode.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>For some backend types, your <a href="../man8/slapd.8.html"><strong>slapd</strong>(8)</a> should not be running (at least, not in read-write mode) when you do this to ensure consistency of the database. It is always safe to run <strong>slapschema</strong> with the <a href="../man5/slapd-bdb.5.html"><strong>slapd-bdb</strong>(5)</a>, <a href="../man5/slapd-hdb.5.html"><strong>slapd-hdb</strong>(5)</a>, and <a href="../man5/slapd-null.5.html"><strong>slapd-null</strong>(5)</a> backends.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To check the schema compliance of your SLAPD database after modifications to the schema, and put any error in a file called <strong>errors.ldif</strong>, give the command:</p>
<pre>
	/usr/sbin/slapschema -l errors.ldif
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO slapschema&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ldap.3.html"><strong>ldap</strong>(3)</a>, <a href="../man5/ldif.5.html"><strong>ldif</strong>(5)</a>, <a href="../man8/slapd.8.html"><strong>slapd</strong>(8)</a></p><p>"OpenLDAP Administrator's Guide" (http://www.OpenLDAP.org/doc/admin/)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p><strong>OpenLDAP Software</strong> is developed and maintained by The OpenLDAP Project &lt;http://www.openldap.org/&gt;. <strong>OpenLDAP Software</strong> is derived from University of Michigan LDAP 3.3 Release.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="slappasswd.8.html"><span aria-hidden="true">&larr;</span> slappasswd.8: Openldap password utility</a></li>
   <li class="next"><a href="slaptest.8.html">slaptest.8: Check the suitability of the openldap slapd configuration <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
