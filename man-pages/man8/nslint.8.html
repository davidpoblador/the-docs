<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nslint: Perform consistency checks on dns files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perform consistency checks on dns files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nslint (8) manual">
  <meta name="twitter:description" content="Perform consistency checks on dns files">
  <meta name="twitter:image" content="https://www.carta.tech/images/nslint-nslint-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/nslint.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nslint (8) manual" />
  <meta property="og:description" content="Perform consistency checks on dns files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nslint-nslint-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nslint<small> (8)</small></h1>
        <p class="lead">Perform consistency checks on dns files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/nslint.8.html">
      <span itemprop="name">nslint: Perform consistency checks on dns files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nslint/">
      <span itemprop="name">nslint</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/nslint.8.html">
      <span itemprop="name">nslint: Perform consistency checks on dns files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nslint</strong> [ <strong>-d</strong> ] [ <strong>-c</strong> <em>named.conf</em> ] [ <strong>-C</strong> <em>nslint.conf</em> ]</p><p><strong>nslint</strong> [ <strong>-d</strong> ] [ <strong>-b</strong> <em>named.boot</em> ] [ <strong>-B</strong> <em>nslint.boot</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Nslint</strong> reads the nameserver configuration files and performs a number of consistency checks on the dns records. If any problems are discovered, error messages are displayed on <em>stderr</em> and <strong>nslint</strong> exits with a non-zero status.</p><p>Here is a partial list of errors <strong>nslint</strong> detects:</p><ul>
<li><p>Records that are malformed.</p></li><li><p>Names that contain dots but are missing a trailing dot.</p></li><li><p><strong>PTR</strong> records with names that are missing a trailing dot.</p></li><li><p>Names that contain illegal characters (rfc1034).</p></li><li><p><strong>A</strong> records without matching <strong>PTR</strong> records</p></li><li><p><strong>PTR</strong> records without matching <strong>A</strong> records</p></li><li><p>Names with more than one address on the same subnet.</p></li><li><p>Addresses in use by more than one name.</p></li><li><p>Names with <strong>CNAME</strong> and other records (rfc1033).</p></li><li><p>Unknown service and/or protocol keywords in <strong>WKS</strong> records.</p></li><li><p>Missing semicolons and quotes.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate <em>named.boot</em> file. The default is <em>/etc/named.boot</em>.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate <em>named.conf</em> file. The default is <em>/etc/named.conf</em>.</p>
  </dd>
  <dt>
    <p><strong>-B</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate <em>nslint.boot</em> file. The default is <em>nslint.boot</em> in the last <strong>directory</strong> line processed in <em>named.boot</em> (or the current working directory). This file is processed like a second <em>named.boot</em>. The most common use is to tell <strong>nslint</strong> about <strong>A</strong> records that match <strong>PTR</strong> records that point outside the domains listed in <em>named.boot</em>.</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate <em>nslint.conf</em> file. The default is <em>nslint.conf</em> in the last <strong>directory</strong> line processed in <em>named.conf</em> (or the current working directory). This file is processed like a second <em>named.conf</em>.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Raise the debugging level. Debugging information is displayed on <em>stdout</em>.</p>
  </dd>

</dl>
<p><strong>Nslint</strong> knows how to read BIND 8 and 9's <em>named.conf</em> configuration file and also older BIND's <em>named.boot</em> file. If both files exist, <strong>nslint</strong> will prefer <em>named.conf</em> (on the theory that you forgot to delete <em>named.boot</em> when you upgraded BIND).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ADVANCED CONFIGURATION</h2>
        <div class="sectioncontent">
<p>There are some cases where it is necessary to use the advanced configuration features of <strong>nslint</strong>. Advanced configuration is done with the <em>nslint.conf</em> file. (You can also use <em>nslint.boot</em> which has a syntax similar to <em>named.boot</em> but is not described here.)</p><p>The most common is when a site has a demilitarized zone (DMZ). The problem here is that the DMZ network will have <strong>PTR</strong> records for hosts outside its domain. For example lets say we have <em>128.0.rev</em> with:</p>
<pre>
1.1     604800  in      ptr     gateway.lbl.gov.
2.1     604800  in      ptr     gateway.es.net.

</pre>
<p>Obviously we will define an <strong>A</strong> record for <em>gateway.lbl.gov</em> pointing to <em>128.0.1.1</em> but we will get errors because there is no <strong>A</strong> record defined for <em>gateway.es.net</em>. The solution is to create a <em>nslint.conf</em> file (in the same directory as the other dns files) with:</p>
<pre>
zone "es.net" {
type master;
file "nslint.es.net";
</pre>
<p>};</p><p>And then create the file <em>nslint.es.net</em> with:</p>
<pre>
gateway 1       in      a       128.0.1.2

</pre>
<p>Another problem occurs when there is a <strong>CNAME</strong> that points to a host outside the local domains. Let's say we have <em>info.lbl.gov</em> pointing to <em>larry.es.net</em>:</p>
<pre>
info    604800  in      cname   larry.es.net.

</pre>
<p>In this case we would need:</p>
<pre>
zone "es.net" {
type master;
file "nslint.es.net";
</pre>
<p>};</p><p>in <em>nslint.boot</em> and:</p>
<pre>
larry   1       in      txt     "place holder"

</pre>
<p><em>nslint.es.net</em>.</p><p>One last problem when a pseudo host is setup to allow two more more actual hosts provide a service. For, let's say that <em>lbl.gov</em> contains:</p>
<pre>
server  604800  in      a       128.0.6.6
server  604800  in      a       128.0.6.94
;
tom     604800  in      a       128.0.6.6
tom     604800  in      mx 0    lbl.gov.
;
jerry   604800  in      a       128.0.6.94
jerry   604800  in      mx 0    lbl.gov.

</pre>
<p>In this case <strong>nslint</strong> would complain about missing <strong>PTR</strong> records and ip addresses in use by more than one host. To suppress these warnings, add you would the lines:</p>
<pre>
zone "lbl.gov" {
type master;
file "nslint.lbl.gov";
</pre>
<p>};</p><p>zone "0.128.in-addr.arpa" {</p><p>type master; file "nslint.128.0.rev";</p><p>};</p><p>to <em>nslint.conf</em> and create <em>nslint.lbl.gov</em> with:</p>
<pre>
server  1       in      allowdupa       128.0.6.6
server  1       in      allowdupa       128.0.6.94

</pre>
<p>and create <em>nslint.128.0.rev</em> with:</p>
<pre>
6.6     604800  in      ptr     server.lbl.gov.
94.6    604800  in      ptr     server.lbl.gov.

</pre>
<p>In this example, the <strong>allowdupa</strong> keyword tells <strong>nslint</strong> that it's ok for <em>128.0.6.6</em> and <em>128.0.6.94</em> to be shared by <em>server.lbl.gov</em>, <em>tom.lbl.gov</em>, and <em>jerry.lbl.gov</em>.</p><p>Another <strong>nslint</strong> feature helps detect hosts that have mistakenly had two ip addresses assigned on the same subnet. This can happen when two different people request an ip address for the same hostname or when someone forgets an address has been assigned and requests a new number.</p><p>To detect such <strong>A</strong> records, add a <strong>nslint</strong> section to your <em>nslint.conf</em> containing something similar to:</p>
<pre>
nslint {
network "128.0.6/22";
</pre>
<p>};</p><p>or:</p>
<pre>
nslint {
network "128.0.6 255.255.252.0";
</pre>
<p>};</p><p>These two examples are are equivalent ways of saying the same thing; that subnet <em>128.0.6</em> has a 22 bit wide subnet mask.</p><p>Using information from the above <strong>network</strong> statement, <strong>nslint</strong> would would flag the following <strong>A</strong> records as being in error:</p>
<pre>
server  1       in      a       128.0.6.48
server  1       in      a       128.0.7.16

</pre>
<p>Note that if you specify any <strong>network</strong> lines in your <em>nslint.conf</em> file, <strong>nslint</strong> requires you to include lines for all networks; otherwise you might forget to add <strong>network</strong> lines for new networks.</p><p>Sometimes you have a zone that <strong>nslint</strong> just can't deal with. A good example is a dynamic dns zone. To handle this, you can add the following to <em>nslint.com</em><strong>:</strong></p>
<pre>
nslint {
ignorezone "dhcp.lbl.gov";
</pre>
<p>};</p><p>This will suppress "name referenced without other records" warnings.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
/etc/named.conf - default named configuration file
/etc/named.boot - old style named configuration file
nslint.conf - default nslint configuration file
nslint.boot - old style nslint configuration file
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nslint&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/named.8.html"><strong>named</strong>(8)</a>, rfc1033, rfc1034</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Craig Leres of the Lawrence Berkeley National Laboratory, University of California, Berkeley, CA.</p><p>The current version is available via anonymous ftp:</p><p><em>ftp://ftp.ee.lbl.gov/nslint.tar.gz</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please send bug reports to nslint@ee.lbl.gov.</p><p>Not everyone is guaranteed to agree with all the checks done.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nslcd.8.html"><span aria-hidden="true">&larr;</span> nslcd.8: Local ldap name service daemon</a></li>
   <li class="next"><a href="nss_pcache.8.html">nss_pcache.8: Helper program used to store token password pins <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
