<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cgiparse: Cgi argument parsing utility</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cgi argument parsing utility">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cgiparse (8) manual">
  <meta name="twitter:description" content="Cgi argument parsing utility">
  <meta name="twitter:image" content="https://www.carta.tech/images/dacs-cgiparse-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/cgiparse.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cgiparse (8) manual" />
  <meta property="og:description" content="Cgi argument parsing utility" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dacs-cgiparse-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cgiparse<small> (8)</small></h1>
        <p class="lead">Cgi argument parsing utility</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cgiparse.8.html">
      <span itemprop="name">cgiparse: Cgi argument parsing utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dacs/">
      <span itemprop="name">dacs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cgiparse.8.html">
      <span itemprop="name">cgiparse: Cgi argument parsing utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cgiparse</strong> [<em>mode</em>] [<strong>-enc</strong>&nbsp;{none&nbsp;|&nbsp;url&nbsp;|&nbsp;mime&nbsp;|&nbsp;dacs}] [<strong>-in</strong>&nbsp;<em>filename</em>] [<strong>-d</strong>] [<strong>-nonewline</strong>]</p><p>[<strong>-qs</strong>&nbsp;<em>query-string</em>] [<strong>-copy</strong>&nbsp;<em>filename</em>] [[<strong>-n</strong>&nbsp;<em>name</em>&nbsp;<em>filename</em>]...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program is part of the <strong>DACS</strong> suite. It is a stand-alone program that neither accepts the usual <strong>DACS</strong> command line options (<em>dacsoptions</em>) nor accesses any <strong>DACS</strong> configuration files.</p><p>This utility is used by web-based scripts (shell scripts in particular) to obtain their CGI arguments, which can be obtained from a URI&apos;s query component or in an encoded entity-body read from the standard input (as with the POST method). The \m[blue]<strong>form content types</strong>\m[]\s-2\u[1]\d\s+2application/x-www-form-urlencoded and multipart/form-data are both understood.</p><p>The program has several different modes of operation, one of which may be specified by the first command line argument.</p><p><strong>cgiparse</strong> combines query arguments found in the <strong>QUERY_STRING</strong> environment variable with arguments found in the message body it reads from the standard input. If an argument name is duplicated the result is indeterminate.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The <em>mode</em> may be one of the following:</p><p><strong>-arg</strong> <em>variable-name</em></p><p>Emit the value of the CGI argument <em>variable-name</em>, then exit. If there is no such argument, the exit status will be 1 instead of 0.</p><p><strong>-targ</strong> <em>variable-name</em></p><p>Test if the CGI argument <em>variable-name</em> exists. If there is no such argument, the exit status will be 1, otherwise it will be 0.</p><p><strong>-html</strong></p><p>Emit an HTML document that lists the CGI argument names and their values.</p><p><strong>-one</strong></p><p>Emit a listing of the CGI argument values (without the names).</p><p><strong>-sh</strong></p><p>Emit CGI arguments as a single line in the format:</p>
<pre>
<em>variable-name</em>=&apos;<em>variable-value</em>&apos;; [...]
</pre>
<p>It is an error if any <em>variable-name</em> or <em>variable-value</em> is syntactically unsuitable for this format. The returned string can be used as the argument to <strong>eval</strong> to set the CGI arguments as shell variables.</p><p><strong>-text</strong></p><p>Like <strong>-html</strong> except emit text. This is the default. With this mode, the program&apos;s stdout is usually written to a file. Each line of the file has the format:</p>
<pre>
<em>variable-name</em> <em>variable-value</em>
</pre>
<p>(a space separates the name from the corresponding value). The file is typically read by a script to obtain the arguments, or <strong>cgiparse</strong> can be run with the <strong>-in</strong> flag to retrieve an argument.</p><p>Additionally, <strong>cgiparse</strong> recognizes these options:</p><p>If writing the parsed CGI arguments (<strong>-text</strong>), encode the argument value using the specified method: url means URL encoding, mime means MIME base-64 encoding, and dacs means <strong>DACS</strong> base-64 encoding. For details about these encodings, please see \m[blue]<a href="../man5/dacs.exprs.5.html"><strong>dacs.exprs</strong>(5)</a></strong>\m[]\s-2\u[2]\d\s+2. The default is none, which means that no encoding is performed (use this only when you are sure this cannot cause a problem). If reading the parsed CGI arguments (<strong>-in</strong>), decode the argument values using the specified method. The default is none, which means that no decoding is performed; if the arguments were encoded, they will be returned in that encoding, but other than this case the decoding method must match the encoding method previously used or an error is likely to occur.</p><p><strong>-qs</strong> <em>query-string</em></p><p>Instead of using the environment variable <em>QUERY_STRING</em> to get a query component, use <em>query-string</em>.</p><p><strong>-nonewline</strong></p><p>With <strong>-arg</strong>, do not emit a newline after printing an argument value.</p><p><strong>-d</strong></p><p>Enable debugging output.</p><p><strong>-copy</strong> <em>filename</em></p><p>Append the input stream to <em>filename</em>. This can be useful for debugging purposes.</p><p><strong>-in</strong> <em>filename</em></p><p>Instead of parsing CGI arguments, read variable name/value pairs (as produced by the <strong>-text</strong> flag) from <em>filename</em>. If <em>filename</em> is "-", stdin is read.</p><p><strong>-n</strong> <em>name</em> <em>filename</em></p><p>If parsing succeeds, and there is a MIME body part with a name exactly matching <em>name</em>, then:</p><p>if the content disposition is multipart/form-data, write the content as quoted-printable text to <em>filename</em>;</p><p>if the content disposition is base64, write the decoded content to <em>filename</em>;</p><p>otherwise the content is written verbatim to <em>filename</em>.</p><p>If the output file exists it is truncated.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following shell script demonstrates one way of using <strong>cgiparse</strong>.</p>
<pre>
#! /bin/sh

tmpfile=/tmp/cgiparse.$$

cgiparse &gt; ${tmpfile}
chmod 0600 ${tmpfile}

echo "Context-Type: text/plain"
echo ""

done=
while [ "${done}x" = x ]
do
  a=
  b=
  read a b
  if [ $? = 1 ]
  then
    done=1
    break
  else
    echo "Arg: ${a}"
    echo "Is: ${b}"
  fi
done &lt; ${tmpfile}

rm -f ${tmpfile}
exit 0
</pre>
<p>The following code fragment uses <strong>cgiparse</strong> to save and then look up its CGI arguments:</p>
<pre>
#! /bin/sh

tmpfile=/tmp/cgiparse.$$
trap &apos;rm -f ${tmpfile}; exit 1&apos; EXIT 1 2 3 13 15

cgiparse -enc mime &gt; ${tmpfile}
chmod 0600 ${tmpfile}

mode=`cgiparse -in ${tmpfile} -enc mime -arg MODE`
target=`cgiparse -in ${tmpfile} -enc mime -arg TARGET`
</pre>
<p>The following script will print "1 2 3" to its standard output:</p>
<pre>
#! /bin/sh

args=`cgiparse -sh -qs "a=1&b=2&c=3"`
eval "$args"
echo "$a $b $c"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>The program exits 0 if everything was fine, 1 if an error occurred.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There do not appear to be any official recommendations concerning how to handle apparently "malformed" CGI query strings that do not look like a sequence of <em>name</em>=<em>value</em> pairs. The parsing routines that <strong>cgiparse</strong> uses will flag an error if they see strings containing a component like "=foo", for example, although "foo=" is fine.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cgiparse&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>RFC 3875</strong>\m[]\s-2\u[3]\d\s+2, \m[blue]<strong>The WWW Common Gateway Interface, Version 1.2</strong>\m[]\s-2\u[4]\d\s+2, \m[blue]<strong>HTML 4.01 Specification</strong>\m[]\s-2\u[5]\d\s+2, \m[blue]<a href="../man8/dacs_prenv.8.html"><strong>dacs_prenv</strong>(8)</a></strong>\m[]\s-2\u[6]\d\s+2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Distributed Systems Software (\m[blue]<strong>www.dss.ca</strong>\m[]\s-2\u[7]\d\s+2)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright2003-2012 Distributed Systems Software. See the \m[blue]<strong>LICENSE</strong>\m[]\s-2\u[8]\d\s+2 file that accompanies the distribution for licensing information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>form content types</p><p>http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p><a href="../man5/dacs.exprs.5.html"><strong>dacs.exprs</strong>(5)</a></p><p>http://dacs.dss.ca/man/dacs.exprs.5.html#encode</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p>RFC 3875</p><p>http://www.rfc-editor.org/rfc/rfc3875.txt</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p>The WWW Common Gateway Interface, Version 1.2</p><p>http://ken.coar.org/cgi/cgi-120-00a.html</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p>HTML 4.01 Specification</p><p>http://www.w3.org/TR/html4/</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p><a href="../man8/dacs_prenv.8.html"><strong>dacs_prenv</strong>(8)</a></p><p>http://dacs.dss.ca/man/dacs_prenv.8.html</p>
  </dd>
  <dt>
     7.
  </dt>
  <dd>
    <p>www.dss.ca</p><p>http://www.dss.ca</p>
  </dd>
  <dt>
     8.
  </dt>
  <dd>
    <p>LICENSE</p><p>http://dacs.dss.ca/man/../misc/LICENSE</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cgdisk.8.html"><span aria-hidden="true">&larr;</span> cgdisk.8: Curses-based guid partition table (gpt) manipulator</a></li>
   <li class="next"><a href="cgmanager.8.html">cgmanager.8: A daemon to manage cgroups <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
