<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lphdisk: Prepare a hibernation partition for notebios suspend-to-disk</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Prepare a hibernation partition for notebios suspend-to-disk">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lphdisk (8) manual">
  <meta name="twitter:description" content="Prepare a hibernation partition for notebios suspend-to-disk">
  <meta name="twitter:image" content="https://www.carta.tech/images/lphdisk-lphdisk-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/lphdisk.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lphdisk (8) manual" />
  <meta property="og:description" content="Prepare a hibernation partition for notebios suspend-to-disk" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lphdisk-lphdisk-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lphdisk<small> (8)</small></h1>
        <p class="lead">Prepare a hibernation partition for notebios suspend-to-disk</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/lphdisk.8.html">
      <span itemprop="name">lphdisk: Prepare a hibernation partition for notebios suspend-to-disk</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lphdisk/">
      <span itemprop="name">lphdisk</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/lphdisk.8.html">
      <span itemprop="name">lphdisk: Prepare a hibernation partition for notebios suspend-to-disk</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lphdisk</strong> [ <strong>-h, --help</strong> ] [ <strong>-p, --probeonly</strong> ] [ <strong>-q, --quiet</strong> ] [ <strong>-d, --debug</strong> ] [ <strong>-n, --nowrite</strong> ] [ <strong>-f, --force</strong> ] [ <em>device</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lphdisk</strong> prepares a hard disk for use with APM "Suspend-to-disk" features, as implemented on laptop computers running Phoenix NoteBIOS. Currently, the utility only formats an already created partition set to type <strong>A0</strong> with a disk partitioning utility such as <a href="../man8/fdisk.8.html"><strong>fdisk</strong>(8)</a>. <em>device</em> should be a full-disk device (such as <strong>/dev/hda</strong> or <strong>/dev/sda</strong> ) and defaults to <strong>/dev/hda .</strong></p><p>Since most laptops only have one IDE hard disk, and all known NoteBIOS configurations will only look to the first bootable hard drive anyway, the default value for <em>device</em> is correct for most cases.</p><p>In order to properly prepare a hard disk for suspend-to-disk on your laptop, you will need to make sure there is enough space free to accommodate an additional hibernation partition. The hibernation partition must be a primary partition (1-4), and the required size will be determined by the amount of physical and video RAM in your laptop. To determine the size you need to make the partition, the following calculation is a good rule of thumb:</p><p><strong>physical RAM</strong> + <strong>video memory</strong> + 2MB</p><p>Alternately, you can run <strong>lphdisk --probeonly</strong> to have lphdisk attempt to determine your memory requirements and calculate a reccomended partition size for you.</p><p>Having created a primary partition of the proper size using a disk partitioning utility, you should set it to type <strong>A0</strong> hex (identified by <strong>fdisk</strong> as "IBM ThinkPad Hibernation", though "Phoenix NoteBIOS Hibernation" would be a more correct label).</p><p><strong>lphdisk</strong> will then locate, verify, and format this partition for use. At this point you will need to reboot the system so that BIOS can locate and use the new hibernation partition.</p><p>Once the system has been rebooted, you should be able to perform the suspend-to-disk function of your BIOS using the normal procedure ( <strong>Fn-F12</strong> on many laptops, though some differ.  The <strong>apm --suspend</strong> command may or may not also do this, depending on the BIOS).  You will know it is working properly if you see a Phoenix NoteBIOS screen appear indicating the progress of saving memory to disk before the machine powers off, and a similar screen indicating resume progress when it is started up again (if you do not see this screen, it is likely that the BIOS has entered suspend-to-RAM mode instead, and is not successfully using the hibernate partition).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>show terse usage information and available options.</p>
  </dd>
  <dt>
    <p><strong>-p, --probeonly</strong></p>
  </dt>
  <dd>
    <p>Probe for and calculate the required partition size for the current system, but do not attempt to format anything.</p>
  </dd>
  <dt>
    <p><strong>-q, --quiet</strong></p>
  </dt>
  <dd>
    <p>tells lphdisk to be quiet: the normal output messages will not be displayed.</p>
  </dd>
  <dt>
    <p><strong>-d, --debug</strong></p>
  </dt>
  <dd>
    <p>turns on (copious) debugging output.</p>
  </dd>
  <dt>
    <p><strong>-n, --nowrite</strong></p>
  </dt>
  <dd>
    <p>tells lphdisk to do everything it would normally do, but not to actually write data to the disk.  Useful for testing.</p>
  </dd>
  <dt>
    <p><strong>-f, --force</strong></p>
  </dt>
  <dd>
    <p>force lphdisk to proceed, regardless of potential problems. <strong>This option is dangerous and could cause disk corruption!</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<p>Currently <em>lphdisk</em> only formats an already properly created hibernation partition. It is the goal of this utility to be able to detect physical and video memory as well as create the partition before formatting it.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>No known bugs, but that doesn't mean they're not in there.  However, functionality is not yet complete.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">

<pre>
Patrick D. Ashmore &lt;pda@procyon.com&gt;
Alex Stewart &lt;alex@foogod.com&gt;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lphdisk&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/fdisk.8.html"><strong>fdisk</strong>(8)</a>, <a href="../man8/cfdisk.8.html"><strong>cfdisk</strong>(8)</a>, <a href="../man8/sfdisk.8.html"><strong>sfdisk</strong>(8)</a>, <a href="../man1/apm.1.html"><strong>apm</strong>(1)</a> <a href="../man8/apmd.8.html"><strong>apmd</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lpf.8.html"><span aria-hidden="true">&larr;</span> lpf.8: Lpd filter for nroff output</a></li>
   <li class="next"><a href="lpinfo.8.html">lpinfo.8: Show available devices or drivers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
