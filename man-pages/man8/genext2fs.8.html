<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>genext2fs: Ext2 filesystem generator for embedded systems</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ext2 filesystem generator for embedded systems">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="genext2fs (8) manual">
  <meta name="twitter:description" content="Ext2 filesystem generator for embedded systems">
  <meta name="twitter:image" content="https://www.carta.tech/images/genext2fs-genext2fs-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/genext2fs.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="genext2fs (8) manual" />
  <meta property="og:description" content="Ext2 filesystem generator for embedded systems" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/genext2fs-genext2fs-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">genext2fs<small> (8)</small></h1>
        <p class="lead">Ext2 filesystem generator for embedded systems</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/genext2fs.8.html">
      <span itemprop="name">genext2fs: Ext2 filesystem generator for embedded systems</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/genext2fs/">
      <span itemprop="name">genext2fs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/genext2fs.8.html">
      <span itemprop="name">genext2fs: Ext2 filesystem generator for embedded systems</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>genext2fs</strong> [ options ] [ output-image ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>genext2fs</strong> generates an ext2 filesystem as a normal (non-root) user. It does not require you to mount the image file to copy files on it, nor does it require that you become the superuser to make device nodes.</p><p>The filesystem image is created in the file <em>output-image</em>. If not specified, it is sent to stdout.</p><p>By default, the maximum number of inodes in the filesystem is the minimum number required to accommodate the initial contents. In this way, a minimal filesystem (typically read-only) can be created with minimal free inodes. If required, free inodes can be added by passing the relevant options. The filesystem image size in blocks can be minimised by trial and error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-x, --starting-image image</strong></p>
  </dt>
  <dd>
    <p>Use this image as a starting point.</p>
  </dd>
  <dt>
    <p><strong>-d, --root directory[:path]</strong></p>
  </dt>
  <dd>
    <p>Add the given directory and contents at a particular path (by default the root).</p>
  </dd>
  <dt>
    <p><strong>-D, --devtable spec-file[:path]</strong></p>
  </dt>
  <dd>
    <p>Use <strong>spec-file</strong> to specify inodes to be added, at the given path (by default the root), including files, directories and special files like devices. If the specified files are already present in the image, their ownership and permission modes will be adjusted accordingly. Furthermore, you can use a single table entry to create many devices with a range of minor numbers (see examples below). All specified inodes receive the mtime of <strong>spec-file</strong> itself.</p>
  </dd>
  <dt>
    <p><strong>-b, --size-in-blocks blocks</strong></p>
  </dt>
  <dd>
    <p>Size of the image in blocks.</p>
  </dd>
  <dt>
    <p><strong>-N, --number-of-inodes inodes</strong></p>
  </dt>
  <dd>
    <p>Maximum number of inodes.</p>
  </dd>
  <dt>
    <p><strong>-i, --bytes-per-inode ratio</strong></p>
  </dt>
  <dd>
    <p>Used to calculate the maximum number of inodes from the available blocks.</p>
  </dd>
  <dt>
    <p><strong>-m, --reserved-percentage</strong></p>
  </dt>
  <dd>
    <p>Number of reserved blocks as a percentage of size. Reserving 0 blocks will prevent creation of the "lost+found" directory.</p>
  </dd>
  <dt>
    <p><strong>-g, --block-map path</strong></p>
  </dt>
  <dd>
    <p>Generate a block map file for this path.</p>
  </dd>
  <dt>
    <p><strong>-e, --fill-value value</strong></p>
  </dt>
  <dd>
    <p>Fill unallocated blocks with value.</p>
  </dd>
  <dt>
    <p><strong>-z, --allow-holes</strong></p>
  </dt>
  <dd>
    <p>Make files with holes.</p>
  </dd>
  <dt>
    <p><strong>-f, --faketime</strong></p>
  </dt>
  <dd>
    <p>Use a timestamp of 0 for inode and filesystem creation, instead of the present. Useful for testing.</p>
  </dd>
  <dt>
    <p><strong>-q, --squash</strong></p>
  </dt>
  <dd>
    <p>Squash permissions and owners (same as -P -U).</p>
  </dd>
  <dt>
    <p><strong>-U, --squash-uids</strong></p>
  </dt>
  <dd>
    <p>Squash ownership of inodes added using the -d option, making them all owned by root:root.</p>
  </dd>
  <dt>
    <p><strong>-P, --squash-perms</strong></p>
  </dt>
  <dd>
    <p>Squash permissions of inodes added using the -d option. Analogous to "umask 077".</p>
  </dd>
  <dt>
    <p><strong>-v, --verbose</strong></p>
  </dt>
  <dd>
    <p>Print resulting filesystem structure.</p>
  </dd>
  <dt>
    <p><strong>-V, --version</strong></p>
  </dt>
  <dd>
    <p>Print genext2fs version.</p>
  </dd>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Display help.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
genext2fs -b 1440 -d src /dev/fd0
</pre>
<p>All files in the <em>src</em> directory will be written to <strong>/dev/fd0</strong> as a new ext2 filesystem image. You can then mount the floppy as usual.</p>
<pre>
<strong></strong>
genext2fs -b 1024 -d src -D device_table.txt flashdisk.img
</pre>
<p>This example builds a filesystem from all the files in <em>src,</em> then device nodes are created based on the contents of the file <em>device_table.txt.</em> Entries in the device table take the form of:</p><p>&lt;name&gt; &lt;type&gt; &lt;mode&gt; &lt;uid&gt; &lt;gid&gt; &lt;major&gt; &lt;minor&gt; &lt;start&gt; &lt;inc&gt; &lt;count&gt;</p><p>where name is the file name and type can be one of:</p>
<pre>
f	A regular file
d	Directory
c	Character special device file
b	Block special device file
p	Fifo (named pipe)
</pre>
<p>uid is the user id for the target file, gid is the group id for the target file.  The rest of the entries (major, minor, etc) apply only to device special files.</p><p>An example device file follows:</p>
<pre>
# name	type mode uid gid major minor start inc count

/dev		d	755	0	0	-	-	-	-	-
/dev/mem	c	640	0	0	1	1	0	0	-
/dev/tty	c	666	0	0	5	0	0	0	-
/dev/tty	c	666	0	0	4	0	0	1	6
/dev/loop	b	640	0	0	7	0	0	1	2
/dev/hda	b	640	0	0	3	0	0	0	-
/dev/hda	b	640	0	0	3	1	1	1	16
/dev/log	s	666	0	0	-	-	-	-	-
</pre>
<p>This device table creates the /dev directory, a character device node /dev/mem (major 1, minor 1), and also creates /dev/tty, /dev/tty[0-5], /dev/loop[0-1], /dev/hda, /dev/hda1 to /dev/hda15 and /dev/log socket.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO genext2fs&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/mkfs.8.html"><strong>mkfs</strong>(8)</a>,</strong> <a href="../man8/genromfs.8.html"><strong>genromfs</strong>(8)</a>,</strong> <strong>mkisofs</strong>(8),</strong> <a href="../man1/mkfs.jffs2.1.html"><strong>mkfs.jffs2</strong>(1)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by David Kimdon &lt;dwhedon@debian.org&gt;, for the Debian GNU/Linux system (but may be used by others). Examples provided by Erik Andersen &lt;andersen@codepoet.org&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="genericups.8.html"><span aria-hidden="true">&larr;</span> genericups.8: Driver for contact-closure ups equipment</a></li>
   <li class="next"><a href="genhomedircon.8.html">genhomedircon.8: Generate selinux file context configuration entries for user home directories <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
