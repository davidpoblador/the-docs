<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>slack: Sysadmin's lazy autoconfiguration kit</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sysadmin's lazy autoconfiguration kit">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="slack (8) manual">
  <meta name="twitter:description" content="Sysadmin's lazy autoconfiguration kit">
  <meta name="twitter:image" content="https://www.carta.tech/images/slack-slack-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/slack.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="slack (8) manual" />
  <meta property="og:description" content="Sysadmin's lazy autoconfiguration kit" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/slack-slack-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">slack<small> (8)</small></h1>
        <p class="lead">Sysadmin's lazy autoconfiguration kit</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/slack.8.html">
      <span itemprop="name">slack: Sysadmin's lazy autoconfiguration kit</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/slack/">
      <span itemprop="name">slack</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/slack.8.html">
      <span itemprop="name">slack: Sysadmin's lazy autoconfiguration kit</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>slack</strong> [<em>option ...</em>] [<em>role ...</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>slack is a master command which coordinates the activities of its backends, which variously:</p><ul>
<li><p>determine the list of roles to be installed on this server</p></li><li><p>create a local cached copy of the role files from the central repository</p></li><li><p>merge file trees from subroles into a single, unified tree</p></li><li><p>install files onto the local filesystem</p></li><li><p>run scripts before and after installation</p></li>
</ul><p>Options you give to slack will be generally passed along to the backends where relevant.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print a usage statement.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print the version and exit.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Increase verbosity.  Can be specified multiple times.</p>
  </dd>
  <dt>
    <p><strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>Don't be verbose (Overrides previous uses of --verbose).</p>
  </dd>
  <dt>
    <p><strong>-C</strong>, <strong>--config FILE</strong></p>
  </dt>
  <dd>
    <p>Use the specfied FILE for configuration instead of the default, <em>/etc/slack.conf</em>.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--source DIR</strong></p>
  </dt>
  <dd>
    <p>Source directory for slack files</p>
  </dd>
  <dt>
    <p><strong>-e</strong>, <strong>--rsh COMMAND</strong></p>
  </dt>
  <dd>
    <p>Remote shell for rsync</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--cache DIR</strong></p>
  </dt>
  <dd>
    <p>Local cache directory for slack files</p>
  </dd>
  <dt>
    <p><strong>-t</strong>, <strong>--stage DIR</strong></p>
  </dt>
  <dd>
    <p>Local staging directory for slack files</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--root DIR</strong></p>
  </dt>
  <dd>
    <p>Root destination for slack files</p>
  </dd>
  <dt>
    <p><strong>--no-sync</strong></p>
  </dt>
  <dd>
    <p>Skip the slack-sync step (useful if you're pushing stuff into the CACHE outside slack).</p>
  </dd>
  <dt>
    <p><strong>--no-files</strong></p>
  </dt>
  <dd>
    <p>Don't install any files in ROOT, but tell rsync to print what it would do.</p>
  </dd>
  <dt>
    <p><strong>--no-scripts</strong></p>
  </dt>
  <dd>
    <p>Don't run scripts</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--dry-run</strong></p>
  </dt>
  <dd>
    <p>Same as --no-files --no-scripts  (CACHE, STAGE will still be updated)</p>
  </dd>
  <dt>
    <p><strong>--role-list</strong></p>
  </dt>
  <dd>
    <p>Role list for <strong>slack-getroles</strong>(8).</p>
  </dd>
  <dt>
    <p><strong>-b</strong>, <strong>--backup</strong></p>
  </dt>
  <dd>
    <p>Make backups of existing files in ROOT that are overwritten.  This option defaults to on if it is not set to 0 in a config file or disabled with --nobackup on the command line.</p>
  </dd>
  <dt>
    <p><strong>--backup-dir</strong></p>
  </dt>
  <dd>
    <p>Put backups from the <strong>--backup</strong> option into this directory.</p>
  </dd>
  <dt>
    <p><strong>-H</strong>, <strong>--hostname HOST</strong></p>
  </dt>
  <dd>
    <p>Pretend to be running on HOST, instead of the name given by <a href="../man2/gethostname.2.html"><strong>gethostname</strong>(2)</a>.</p>
  </dd>
  <dt>
    <p><strong>--preview MODE</strong></p>
  </dt>
  <dd>
    <p>Do a diff of scripts and files before running them. MODE can be one of 'simple' or 'prompt' (See PREVIEW MODES, below).</p>
  </dd>
  <dt>
    <p><strong>--diff PROG</strong></p>
  </dt>
  <dd>
    <p>Use this diff program for previews.</p>
  </dd>
  <dt>
    <p><strong>--sleep TIME</strong></p>
  </dt>
  <dd>
    <p>Randomly sleep between 1 and TIME seconds before starting operations.  Useful in crontabs.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PREVIEW MODES</h2>
        <div class="sectioncontent">
<p>Preview functionality is new in slack 0.14.0.  I haven't quite worked out how things will work, so this usage is somewhat subject to change in future versions.  I thought I would try it this way and see how people like it.</p><p>In 'simple' mode, after syncing and staging the files directory, slack will present a diff of the files and scripts.  In this mode, slack will not run the preinstall or fixfiles scripts, and because of this, it may provide some false output about permissions changes to files.</p><p>In 'prompt' mode, after syncing and staging the files directory, slack will diff the script directory.  If there are differences, slack will present them to you and ask you if you want to continue.  If you say no, it will exit.  If you say yes, it will stage the scripts directory, run the preinstall and fixfiles scripts, and then diff the files in the stage with those in the root.  If there are differences, slack will present them to you and ask you if you want to continue.  If you say no, it will exit.  If you say yes, it will install the files and run the postinstall script.</p><p>So, the 'simple' mode is easy to use, and will be accurate if you don't use fixfiles.  The 'prompt' mode will be accurate if you use fixfiles, but requires some interaction.</p><p>Why can't we just have one mode that works with fixfiles and requires no interaction?  Well, that would require slack to understand what your free-form fixfiles executable was going to do, which would either require some kind of universe simulator or would require you to write your fixfiles in a less free-form way, which would make slack less like slack.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To install all the roles configured in the role list for a server:</p><p>slack</p><p>To install a specific role:</p><p>slack <em>rolename</em></p><p>To test a new role before checking in the changes:</p><p>slack --source <em>user</em>@<em>workstation</em>:/home/<em>user</em>/.../slack <em>rolename</em></p><p>To avoid killing your master server when calling from cron:</p><p>slack --sleep 3600</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/slack.conf</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO slack&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/slack.conf.5.html"><strong>slack.conf</strong>(5)</a>, <a href="../man1/rsync.1.html"><strong>rsync</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="skksearch.8.html"><span aria-hidden="true">&larr;</span> skksearch.8: Yet another skk dictionary server</a></li>
   <li class="next"><a href="slapacl.8.html">slapacl.8: Check access to a list of attributes. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
