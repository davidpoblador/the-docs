<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>edge: N2n edge node daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="N2n edge node daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="edge (8) manual">
  <meta name="twitter:description" content="N2n edge node daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/n2n-edge-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/edge.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="edge (8) manual" />
  <meta property="og:description" content="N2n edge node daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/n2n-edge-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">edge<small> (8)</small></h1>
        <p class="lead">N2n edge node daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/edge.8.html">
      <span itemprop="name">edge: N2n edge node daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/n2n/">
      <span itemprop="name">n2n</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/edge.8.html">
      <span itemprop="name">edge: N2n edge node daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>edge</strong> [-d &lt;tun device&gt;] -a &lt;tun IP address&gt; -c &lt;community&gt; -k &lt;encrypt key&gt; -l &lt;supernode host:port&gt; [-p &lt;local port&gt;] [-u &lt;UID&gt;] [-g &lt;GID&gt;] [-f] [-m &lt;MAC address&gt;] [-t] [-r] [-v]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>N2N is a peer-to-peer VPN system. Edge is the edge node daemon for n2n which creates a TAP interface to expose the n2n virtual LAN. On startup n2n creates the TAP interface and configures it then registers with the supernode so it can begin to find other nodes in the community.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>-d &lt;name&gt;</p>
  </dt>
  <dd>
    <p>sets the TAP device name as seen in ifconfig.</p>
  </dd>
  <dt>
    <p>-a &lt;addr&gt;</p>
  </dt>
  <dd>
    <p>sets the n2n virtual LAN IP address being claimed. This is a private IP address. All IP addresses in an n2n community should belong to the same /24 network (ie. only the last segment of the IP addresses varies).</p>
  </dd>
  <dt>
    <p>-b</p>
  </dt>
  <dd>
    <p>cause edge to perform hostname resolution for the supernode address each time the supernode is periodically contacted.</p>
  </dd>
  <dt>
    <p>-c &lt;community&gt;</p>
  </dt>
  <dd>
    <p>sets the n2n community name. All edges within the same community look to be on the same LAN (layer 2 network segment). All edges communicating must use the same key and community name.</p>
  </dd>
  <dt>
    <p>-h</p>
  </dt>
  <dd>
    <p>write usage to tty then exit.</p>
  </dd>
  <dt>
    <p>-k &lt;keystring&gt;</p>
  </dt>
  <dd>
    <p>sets the twofish encryption key from ASCII text (see also N2N_KEY in ENVIRONMENT). All edges communicating must use the same key and community name.</p>
  </dd>
  <dt>
    <p>-l &lt;addr&gt;:&lt;port&gt;</p>
  </dt>
  <dd>
    <p>sets the n2n supernode IP address and port to register to.</p>
  </dd>
  <dt>
    <p>-p &lt;num&gt;</p>
  </dt>
  <dd>
    <p>binds edge to the given UDP port. Useful for keeping the same external socket across restarts of edge.</p>
  </dd>
  <dt>
    <p>-u &lt;uid&gt;</p>
  </dt>
  <dd>
    <p>causes the edge process to drop to the given user ID when privileges are no longer required.</p>
  </dd>
  <dt>
    <p>-g &lt;gid&gt;</p>
  </dt>
  <dd>
    <p>causes the edge process to drop to the given group ID when privileges are no longer required.</p>
  </dd>
  <dt>
    <p>-f</p>
  </dt>
  <dd>
    <p>causes the edge process to fork and run as a daemon, closing stdin, stdout, stderr and becoming a process group leader.</p>
  </dd>
  <dt>
    <p>-m &lt;MAC&gt;</p>
  </dt>
  <dd>
    <p>start the TAP interface with the given MAC address. This is highly recommended as it means the same address will be used if edge stops and restarts. If this is not done, the ARP caches of all peers will be wrong and packets will not flow to this edge until the next ARP refresh.</p>
  </dd>
  <dt>
    <p>-M &lt;MTU&gt;</p>
  </dt>
  <dd>
    <p>set the MTU of the edge interface in bytes. MTU is the largest packet fragment size allowed to be moved throught the interface. The default is 1400.</p>
  </dd>
  <dt>
    <p>-s &lt;netmask&gt;</p>
  </dt>
  <dd>
    <p>set the netmask of edge interface in IPv4 dotted decimal notation. The default is 255.255.255.0 (ie. /24).</p>
  </dd>
  <dt>
    <p>-t</p>
  </dt>
  <dd>
    <p>use HTTP tunneling instead of the normal UDP mechanism (experimental).</p>
  </dd>
  <dt>
    <p>-r</p>
  </dt>
  <dd>
    <p>enable packet forwarding/routing through the n2n virtual LAN. Without this option, packets arriving over n2n which are not for the -a &lt;addr&gt; IP address are dropped.</p>
  </dd>
  <dt>
    <p>-v</p>
  </dt>
  <dd>
    <p>use verbose logging.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>N2N_KEY</strong></p>
  </dt>
  <dd>
    <p>set the encryption key so it is not visible on the command line</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>edge -d n2n0 -c mynetwork -k encryptme -u 99 -g 99 -m DE:AD:BE:EF:01:23 -a 192.168.254.7 -p 50001 -l 123.121.120.119:7654</strong></p>
  </dt>
  <dd>
    <p>Start edge with TAP device n2n0 on community "mynetwork" with community supernode at 123.121.120.119 UDP port 7654 and bind the locally used UDP port to 50001. Use "encryptme" as the shared encryption key. Assign MAC address DE:AD:BE:EF:01:23 to the n2n interface and drop to user=99 and group=99 after the TAP device is successfull configured.</p>
  </dd>

</dl>
<p>Add the -f option to make edge run as a daemon.</p><p>Somewhere else setup another edge with similar parameters, eg.</p><p><strong>edge -d n2n0 -c mynetwork -k encryptme -u 99 -g 99 -m DE:AD:BE:EF:01:21 -a 192.168.254.5 -p 50001 -l 123.121.120.119:7654</strong></p><p>Now you can ping from 192.168.254.5 to 192.168.254.7.</p><p>The MAC address (-m &lt;MAC&gt;) and virtual IP address (-a &lt;addr&gt;) must be different on all edges in the same community.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>All configuration for edge is from the command line and environment variables. If you wish to reconfigure edge you should kill the process and restart with the desired options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>edge is a daemon and any exit is an error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Luca Deri ( deri (at) ntop.org ), Richard Andrews ( andrews (at) ntop.org ), Don Bindner</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO edge&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ifconfig.8.html"><strong>ifconfig</strong>(8)</a> <a href="../man1/supernode.1.html"><strong>supernode</strong>(1)</a> <a href="../man8/tunctl.8.html"><strong>tunctl</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="edac-ctl.8.html"><span aria-hidden="true">&larr;</span> edac-ctl.8: Edac admin utility</a></li>
   <li class="next"><a href="editkeep.8.html">editkeep.8: Frontend for deborphan <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
