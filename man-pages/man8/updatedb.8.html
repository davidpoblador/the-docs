<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>updatedb: Update a database for mlocate</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Update a database for mlocate">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="updatedb (8) manual">
  <meta name="twitter:description" content="Update a database for mlocate">
  <meta name="twitter:image" content="https://www.carta.tech/images/mlocate-updatedb-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/updatedb.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="updatedb (8) manual" />
  <meta property="og:description" content="Update a database for mlocate" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mlocate-updatedb-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">updatedb<small> (8)</small></h1>
        <p class="lead">Update a database for mlocate</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/updatedb.8.html">
      <span itemprop="name">updatedb: Update a database for mlocate</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mlocate/">
      <span itemprop="name">mlocate</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/updatedb.8.html">
      <span itemprop="name">updatedb: Update a database for mlocate</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>updatedb</strong> [<em>OPTION</em>]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>updatedb</strong> creates or updates a database used by <strong>locate</strong>(1). If the database already exists, its data is reused to avoid rereading directories that have not changed.</p><p><strong>updatedb</strong> is usually run daily by <a href="../man8/cron.8.html"><strong>cron</strong>(8)</a> to update the default database.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p><strong>updatedb</strong> returns with exit status 0 on success, 1 on error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The <strong>PRUNE_BIND_MOUNTS</strong>, <strong>PRUNEFS</strong>, <strong>PRUNENAMES</strong> and <strong>PRUNEPATHS</strong> variables, which are modified by some of the options, are documented in detail in <a href="../man5/updatedb.conf.5.html"><strong>updatedb.conf</strong>(5)</a>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-f</strong>, <strong>--add-prunefs</strong><strong> </strong><em>FS</em></p>
  </dt>
  <dd>
    <p>Add entries in white-space-separated list <em>FS</em> to <strong>PRUNEFS</strong>.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--add-prunenames</strong><strong> </strong><em>NAMES</em></p>
  </dt>
  <dd>
    <p>Add entries in white-space-separated list <em>NAMES</em> to <strong>PRUNENAMES</strong>.</p>
  </dd>
  <dt>
    <p><strong>-e</strong>, <strong>--add-prunepaths</strong><strong> </strong><em>PATHS</em></p>
  </dt>
  <dd>
    <p>Add entries in white-space-separated list <em>PATHS</em> to <strong>PRUNEPATHS</strong>.</p>
  </dd>
  <dt>
    <p><strong>-U</strong>, <strong>--database-root</strong> <em>PATH</em></p>
  </dt>
  <dd>
    <p>Store only results of scanning the file system subtree rooted at <em>PATH</em> to the generated database. The whole file system is scanned by default.</p><p><strong>locate</strong>(1) outputs entries as absolute path names which don't contain symbolic links, regardless of the form of <em>PATH</em>.</p>
  </dd>
  <dt>
    <p><strong>--debug-pruning</strong></p>
  </dt>
  <dd>
    <p>Write debugging information about pruning decisions to standard error output.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Write a summary of the available options to standard output and exit successfully.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--output</strong> <em>FILE</em></p>
  </dt>
  <dd>
    <p>Write the database to <em>FILE</em> instead of using the default database.</p>
  </dd>
  <dt>
    <p><strong>--prune-bind-mounts</strong> <em>FLAG</em></p>
  </dt>
  <dd>
    <p>Set <strong>PRUNE_BIND_MOUNTS</strong> to <em>FLAG</em>, overriding the configuration file.</p>
  </dd>
  <dt>
    <p><strong>--prunefs</strong> <em>FS</em></p>
  </dt>
  <dd>
    <p>Set <strong>PRUNEFS</strong> to <em>FS</em>, overriding the configuration file.</p>
  </dd>
  <dt>
    <p><strong>--prunenames</strong> <em>NAMES</em></p>
  </dt>
  <dd>
    <p>Set <strong>PRUNENAMES</strong> to <em>NAMES</em>, overriding the configuration file.</p>
  </dd>
  <dt>
    <p><strong>--prunepaths</strong> <em>PATHS</em></p>
  </dt>
  <dd>
    <p>Set <strong>PRUNEPATHS</strong> to <em>PATHS</em>, overriding the configuration file.</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--require-visibility</strong> <em>FLAG</em></p>
  </dt>
  <dd>
    <p>Set the &ldquo;require file visibility before reporting it&rdquo; flag in the generated database to <em>FLAG</em>.</p><p>If <em>FLAG</em> is <strong>0</strong> or <strong>no</strong>, or if the database file is readable by "others" or it is not owned by <strong>mlocate</strong>, <strong>locate</strong>(1) outputs the database entries even if the user running <strong>locate</strong>(1) could not have read the directory necessary to find out the file described by the database entry.</p><p>If <em>FLAG</em> is <strong>1</strong> or <strong>yes</strong> (the default), <strong>locate</strong>(1) checks the permissions of parent directories of each entry before reporting it to the invoking user. To make the file existence truly hidden from other users, the database group is set to <strong>mlocate</strong> and the database permissions prohibit reading the database by users using other means than <strong>locate</strong>(1), which is set-gid <strong>mlocate</strong>.</p><p>Note that the visibility flag is checked only if the database is owned by <strong>mlocate</strong> and it is not readable by "others".</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Output path names of files to standard output, as soon as they are found.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Write information about the version and license of <strong>locate</strong> on standard output and exit successfully.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To create a private mlocate database as an user other than <strong>root</strong>, run</p><p><strong>updatedb -l 0 -o</strong> <em>db_file</em> <strong>-U</strong> <em>source_directory</em></p><p>Note that all users that can read <em>db_file</em> can get the complete list of files in the subtree of <em>source_directory</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/updatedb.conf</strong></p>
  </dt>
  <dd>
    <p>A configuration file.  See <a href="../man5/updatedb.conf.5.html"><strong>updatedb.conf</strong>(5)</a>.</p>
  </dd>
  <dt>
    <p><strong>/var/lib/mlocate/mlocate.db</strong></p>
  </dt>
  <dd>
    <p>The database updated by default.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>Databases built with <strong>--require-visibility no</strong> allow users to find names of files and directories of other users, which they would not otherwise be able to do.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The accompanying <strong>locate</strong>(1) utility was designed to be compatible to <strong>slocate</strong> and attempts to be compatible to <small>GNU</small> <strong>locate</strong> where possible. This is not the case for <strong>updatedb</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Miloslav Trmac &lt;mitr@redhat.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO updatedb&hellip;</h2>
        <div class="sectioncontent">
<p><strong>locate</strong>(1), <a href="../man5/mlocate.db.5.html"><strong>mlocate.db</strong>(5)</a>, <a href="../man5/updatedb.conf.5.html"><strong>updatedb.conf</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="update_wdm_wmlist.8.html"><span aria-hidden="true">&larr;</span> update_wdm_wmlist.8: Updates the window manager list for wdm</a></li>
   <li class="next"><a href="updatejail.8.html">updatejail.8: Is a script for rebuilding a chrooted environment made with jailer <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
