<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fancontrol: Automated software based fan speed regulation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Automated software based fan speed regulation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fancontrol (8) manual">
  <meta name="twitter:description" content="Automated software based fan speed regulation">
  <meta name="twitter:image" content="https://www.carta.tech/images/fancontrol-fancontrol-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/fancontrol.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fancontrol (8) manual" />
  <meta property="og:description" content="Automated software based fan speed regulation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fancontrol-fancontrol-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fancontrol<small> (8)</small></h1>
        <p class="lead">Automated software based fan speed regulation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/fancontrol.8.html">
      <span itemprop="name">fancontrol: Automated software based fan speed regulation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fancontrol/">
      <span itemprop="name">fancontrol</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/fancontrol.8.html">
      <span itemprop="name">fancontrol: Automated software based fan speed regulation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>fancontrol</strong> <em>[configfile]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>fancontrol</strong> is a shell script for use with lm_sensors. It reads its configuration from a file, then calculates fan speeds from temperatures and sets the corresponding PWM outputs to the computed values.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNING</h2>
        <div class="sectioncontent">
<p>Please be careful when using the fan control features of your mainboard, in addition to the risk of burning your CPU, at higher temperatures there will be a higher wearout of your other hardware components, too. So if you plan to use these components in 50 years, <strong>maybe</strong> you shouldn't use fancontrol at all.  Also please keep in mind most fans aren't designed to be powered by a PWMed voltage.</p><p>In practice it doesn't seem to be a major issue, the fans will get slightly warmer, just be sure to have a temperature alarm and/or shutdown call, in case some fan fails, because you probably won't hear it anymore ;)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>For easy configuration, there's a script named <a href="../man8/pwmconfig.8.html"><strong>pwmconfig</strong>(8)</a> which lets you interactively write your configuration file for <strong>fancontrol</strong>. Alternatively you can write this file yourself using the information from this manpage.</p><p>Since most of you are going to use <a href="../man8/pwmconfig.8.html"><strong>pwmconfig</strong>(8)</a> script, the config file syntax will be discussed last. First I'm going to describe the various variables available for changing <strong>fancontrol</strong>'s behaviour:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>INTERVAL</strong></p>
  </dt>
  <dd>
    <p>This variable defines at which interval in seconds the main loop of <strong>fancontrol</strong> will be executed</p>
  </dd>
  <dt>
    <p><strong>DEVPATH</strong></p>
  </dt>
  <dd>
    <p>Maps hwmon class devices to physical devices. This lets <strong>fancontrol</strong> check that the configuration file is still up-to-date.</p>
  </dd>
  <dt>
    <p><strong>DEVNAME</strong></p>
  </dt>
  <dd>
    <p>Records hwmon class device names. This lets <strong>fancontrol</strong> check that the configuration file is still up-to-date.</p>
  </dd>
  <dt>
    <p><strong>FCTEMPS</strong></p>
  </dt>
  <dd>
    <p>Maps PWM outputs to temperature sensors so <strong>fancontrol</strong> knows which temperature sensors should be used for calculation of new values for the corresponding PWM outputs.</p>
  </dd>
  <dt>
    <p><strong>FCFANS</strong></p>
  </dt>
  <dd>
    <p>Records the association between a PWM output and a fan input. Then <strong>fancontrol</strong> can check the fan speed and restart it if it stops unexpectedly.</p>
  </dd>
  <dt>
    <p><strong>MINTEMP</strong></p>
  </dt>
  <dd>
    <p>The temperature below which the fan gets switched to minimum speed.</p>
  </dd>
  <dt>
    <p><strong>MAXTEMP</strong></p>
  </dt>
  <dd>
    <p>The temperature over which the fan gets switched to maximum speed.</p>
  </dd>
  <dt>
    <p><strong>MINSTART</strong></p>
  </dt>
  <dd>
    <p>Sets the minimum speed at which the fan begins spinning. You should use a safe value to be sure it works, even when the fan gets old.</p>
  </dd>
  <dt>
    <p><strong>MINSTOP</strong></p>
  </dt>
  <dd>
    <p>The minimum speed at which the fan still spins. Use a safe value here, too.</p>
  </dd>
  <dt>
    <p><strong>MINPWM</strong></p>
  </dt>
  <dd>
    <p>The PWM value to use when the temperature is below MINTEMP. Typically, this will be either 0 if it is OK for the fan to plain stop, or the same value as MINSTOP if you don't want the fan to ever stop. If this value isn't defined, it defaults to 0 (stopped fan).</p>
  </dd>
  <dt>
    <p><strong>MAXPWM</strong></p>
  </dt>
  <dd>
    <p>The PWM value to use when the temperature is over MAXTEMP. If this value isn't defined, it defaults to 255 (full speed).</p>
  </dd>

</dl>
<p>The configuration file format is a bit strange:</p><ul>
<li>
<pre>
VARIABLE=chip/pwmdev=value chip/pwmdev2=value2
VARIABLE2=...
</pre>
</li>
</ul><p>Each variable has its own line. The variable name is followed by an equal sign and the device=value pairs. These consist of the path to the pwm output for which the value is valid, equal sign followed by the value and are separated by a blank. Path can be absolute or relative (from /sys/bus/i2c/devices or /sys/class/hwmon depending on the kernel version). Example:</p><ul>
<li><p>MINTEMP=hwmon0/device/pwm1=40 hwmon0/device/pwm2=54</p></li>
</ul><p>You have to play with the temperature values a bit to get happy. For initial setup I recommend using the <strong>pwmconfig</strong> script. Small changes can be made by editing the config file directly following the rules above.</p><p>Upon starting, fancontrol will make sure that all referenced devices do exist and match what they were at configuration time, and that all referenced sysfs files do exist. If not, it will quit immediately, upon the assumption that the configuration file may be out-of-sync with the loaded kernel drivers.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE ALGORITHM</h2>
        <div class="sectioncontent">
<p><strong>fancontrol</strong> first reads its configuration, writes it to arrays and loops its main function.  This function gets the temperatures and fanspeeds from kernel driver files and calculates new speeds depending on temperature changes, but only if the temp is between MINTEMP and MAXTEMP. After that, the new values are written to the PWM outputs. Currently the speed increases quadratically with rising temperature. This way you won't hear your fans most of the time at best.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO fancontrol&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/pwmconfig.8.html"><strong>pwmconfig</strong>(8)</a>, <a href="../man1/sensors.1.html"><strong>sensors</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Marius Reiner &lt;marius.reiner@hdev.de&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="famd.8.html"><span aria-hidden="true">&larr;</span> famd.8: The file alteration monitor (fam) daemon</a></li>
   <li class="next"><a href="fastrm.8.html">fastrm.8: Quickly remove a set of files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
