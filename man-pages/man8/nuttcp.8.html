<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nuttcp: Network performance measurement tool</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Network performance measurement tool">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nuttcp (8) manual">
  <meta name="twitter:description" content="Network performance measurement tool">
  <meta name="twitter:image" content="https://www.carta.tech/images/nuttcp-nuttcp-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/nuttcp.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nuttcp (8) manual" />
  <meta property="og:description" content="Network performance measurement tool" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nuttcp-nuttcp-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nuttcp<small> (8)</small></h1>
        <p class="lead">Network performance measurement tool</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/nuttcp.8.html">
      <span itemprop="name">nuttcp: Network performance measurement tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nuttcp/">
      <span itemprop="name">nuttcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/nuttcp.8.html">
      <span itemprop="name">nuttcp: Network performance measurement tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nuttcp -h</strong></p><p><strong>nuttcp -V</strong></p><p><strong>nuttcp -t</strong></p><p><em>host</em> [ <strong>&lt;</strong> <em>input</em> ]</p><p><strong>nuttcp -r</strong></p><p>[ <em>host</em> ] [ <strong>&gt;</strong> <em>output</em> ]</p><p><strong>nuttcp -S</strong></p><p><strong>nuttcp -1</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>nuttcp is a network performance measurement tool intended for use by network and system managers.  Its most basic usage is to determine the raw TCP (or UDP) network layer throughput by transferring memory buffers from a source system across an interconnecting network to a destination system, either transferring data for a specified time interval, or alternatively transferring a specified number of bytes.  In addition to reporting the achieved network throughput in Mbps, nuttcp also provides additional useful information related to the data transfer such as user, system, and wall-clock time, transmitter and receiver CPU utilization, and loss percentage (for UDP transfers).</p><p>nuttcp is based on nttcp, which in turn was an enhancement by someone at Silicon Graphics (SGI) on the original ttcp, which was written by Mike Muuss at BRL sometime before December 1984, to compare the performance of TCP stacks by U.C. Berkeley and BBN to help DARPA decide which version to place in the first BSD Unix release.  nuttcp has several useful features beyond those of the basic ttcp/nttcp, such as a server mode, rate limiting, multiple parallel streams, and timer based usage.  More recent changes include IPv6 support, IPv4 multicast, and the ability to set the maximum segment size or TOS/DSCP bits.  nuttcp is continuing to evolve to meet new requirements that arise and to add desired new features.  nuttcp has been successfully built and run on a variety of Solaris, SGI, and PPC/X86 Linux systems, and should probably work fine on most flavors of Unix.  It has also been used successfully on various versions of the Windows operating system.</p><p>There are two basic modes of operation for nuttcp.  The original or classic mode is the transmitter/receiver mode, which is also the way the original ttcp and nttcp worked.  In this mode, a receiver is first initiated on the destination host using "nuttcp -r", and then a transmitter must be started on the source host using "nuttcp -t". This mode is somewhat deprecated and is no longer recommended for general use.  The preferred and recommended mode of operation for nuttcp is the new client/server mode.  With this mode, a server is first started on one system using "nuttcp -S" (or "nuttcp -1"), and then a client may either transmit data to (using "nuttcp -t") or receive data from (using "nuttcp -r") the server system.  All the information provided by nuttcp is reported by the client, including the information from the server, thus providing a full snapshot of both the transmitter and receiver ends of the data transfer.</p><p>The server may be started by a normal, non-privileged user by issuing either a "nuttcp -S" or a "nuttcp -1" command.  However, the optimal and recommended method of running a server is to run "nuttcp -S" via the inetd/xinetd daemon.  This method has several significant advantages, including being more robust, allowing multiple simultaneous connections, and providing for access control over who is allowed to use the nuttcp server via the hosts.allow (and hosts.deny) file.  By default, the nuttcp server listens for commands on port 5000, and the actual nuttcp data transfers take place on port 5001.</p><p>The <em>host</em> parameter must be specified for the transmitter, and provides the host name or IP address of the receiver.  In classic transmitter/receiver mode, the <em>host</em> parameter may not be specified for the receiver.  In client/server mode, when the client is the receiver, the <em>host</em> parameter specifies the host name or IP address of the transmitter (server).</p><p>Normally, a nuttcp data transfer is memory-to-memory.  However, by using the "-s" option, it is possible to also perform memory-to-disk, disk-to-memory, and disk-to-disk data transfers.  Using the "-s" option with the transmitter will cause nuttcp to read its data from the standard input instead of using a prefabricated memory buffer, while using the "-s" option on the receiver causes nuttcp to write its data to standard output.  All these types of data transfers are possible with the classic transmitter/receiver mode.  For security reasons, the "-s" option is disabled on the server, so it is not possible to access the disk on the server side of a data transfer.</p><p>The allowed options to nuttcp are:</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print out a usage statement.  Running nuttcp with no arguments will also produce a usage statement.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Prints the nuttcp version number.  The nuttcp version is also printed as part of the normal nuttcp output when the "-v" verbose output is used (but not when using the default brief output).  In client/server mode, the version number of both the client and server is identified.</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>Indicates that this nuttcp is the transmitter.  In client/server mode, this means the server specified by the <em>host</em> parameter is the receiver.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Indicates that this nuttcp is the receiver.  In client/server mode, this means the server specified by the <em>host</em> parameter is the transmitter.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Indicates that this nuttcp is the server.  The only option that may be specified to the server is the "-P" option, which allows one to change the control port used by the server, but only when the server is started by a normal, non-privileged user.  When the server is initiated by inetd/xinetd, the server control port should be specified in the <em>services</em> file.</p>
  </dd>
  <dt>
    <p><strong>-1</strong></p>
  </dt>
  <dd>
    <p>Basically the same as the "-S" option, but indicates a one-shot server, i.e. the server exits after the first data transfer initiated by a client.  The "-1" option should only be used when the server is started by a normal, non-privileged user.  This option will probably rarely need to be used, but can be useful for a quick test and eliminates the possibilty of leaving a non-access controlled nuttcp server running on the system (which can happen when using the "-S" option and forgetting to kill the nuttcp server after finishing a series of tests).</p>
  </dd>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p>Produce brief one-line output, which includes the amount of data transferred in MB (1024**2 bytes), the time interval in seconds, the TCP (or UDP) network throughput in Mbps (millions of bits per second), the transmitter and/or receiver CPU utilization, and for UDP data transfers also outputs the loss percentage.  In client/server mode, most of the printed statistics are from the viewpoint of the receiver.  This is the default output format.</p>
  </dd>
  <dt>
    <p><strong>-B</strong></p>
  </dt>
  <dd>
    <p>This option is only valid for the receiver, and forces the receiver to read a full buffer (as specified by the "-l" buffer length option) from the network.  It is mainly intended to be used with the "-s" option to only output full buffers to standard output (e.g. for use with tar).  It is also implicitly set whenever the number of streams as specified by the "-N" option is greater than 1.  This option is not passed to the server.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>For TCP data transfers, sets the SO_DEBUG option on the data socket. This option is not passed to the server.  It is a rarely used option which may possibly be removed or renamed in a future version of nuttcp.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>This option is only valid for the transmitter, and only for TCP data transfers, in which case it sets the TCP_NODELAY option on the data socket, which turns off the Nagle algorithm causing data packets to be sent as soon as possible without introducing any unnecessary delays. This option is not passed to the server.  It is a rarely used option which may possibly be removed or renamed in a future version of nuttcp.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>Setting the "-s" option causes nuttcp to either read its data from standard input rather than using prefabricated memory buffers (for "nuttcp -t"), or to write its data out to standard output (for "nuttcp -r").  The "-s" option is disabled for security reasons on the server.</p>
  </dd>
  <dt>
    <p><strong>-u</strong></p>
  </dt>
  <dd>
    <p>Use UDP for the data transfer instead of the default of TCP.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose output that provides some additional information related to the data transfer.  In client/server mode, the server is always verbose (implicit "-v" option), but the client controls the extent and type of output via the "-v" and "-b" options.</p>
  </dd>
  <dt>
    <p><strong>-c</strong><em>dscp_value</em></p>
  </dt>
  <dd>
    <p>Sets the socket option to support COS.  Either takes a dscp value or with the t|T modifier it takes the full TOS field.</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em>buffer_len</em></p>
  </dt>
  <dd>
    <p>Length of the network write/read buffer in bytes for the transmitter/receiver.  It defaults to 64 KB (65536) for TCP data transfers and to 8 KB (8192) for UDP.  For client/server mode, it sets both the client and server buffer lengths.</p>
  </dd>
  <dt>
    <p><strong>-n</strong><em>num_bufs</em></p>
  </dt>
  <dd>
    <p>Specifies the number of source buffers written to the network (default is unlimited), and is ignored by the receiver.  For client/server mode, if the client issues a "nuttcp -r" command making it the receiver, this parameter is passed to the server since the server is the transmitter in this case.  This parameter is also ignored if the "-s" parameter is specified to the transmitter.</p>
  </dd>
  <dt>
    <p><strong>-w</strong><em>window_size</em></p>
  </dt>
  <dd>
    <p>Indicates the window size in KB of the transmitter (for "nuttcp -t") or receiver (for "nuttcp -r").  Actually, to be technically correct, it sets the sender or receiver TCP socket buffer size, which then effectively sets the window size.  For client/server mode, both the transmitter and receiver window sizes are set.  The default window size is architecture and system dependent.  Note recent Linux systems, out of a misguided desire to be helpful, double whatever window size is actually specified by the user (this is not a bug with nuttcp but a bug/feature of the Linux kernel).  Also, with these Linux systems, the actual window size that's used on the intervening network, as observed with tcpdump, is greater than the requested window size, but less than the doubled value set by Linux.</p>
  </dd>
  <dt>
    <p><strong>-ws</strong><em>server_window</em></p>
  </dt>
  <dd>
    <p>For client/server mode, the "-ws" option provides a mechanism for setting a different window size on the server than the client window size as specified with the "-w" option.</p>
  </dd>
  <dt>
    <p><strong>-wb</strong></p>
  </dt>
  <dd>
    <p>Normally, to conserve memory, the transmitter only sets the TCP send socket buffer size and the receiver only sets the TCP receive socket buffer size.  However, if the "-wb" option is used, the transmitter will also set the TCP receive socket buffer size and the receiver will also set the TCP send socket buffer size.  Under normal circumstances, this should never be necessary.  This option was implemented because certain early braindead Solaris 2.8 systems would not properly set the TCP window size unless both the TCP send and receive socket buffer sizes were set (later Solaris 2.8 systems have corrected this deficiency). Thus the 'b' in this option can stand either for "braindead" or "both".</p>
  </dd>
  <dt>
    <p><strong>-p</strong><em>data_port</em></p>
  </dt>
  <dd>
    <p>Port number used for the data connection, which defaults to port 5001. If multiple streams are specified with the "-N" option, the "-p" option specifies the starting port number for the data connection.  For example, if four streams are specified using the default data connection port number, nuttcp will use ports 5001, 5002, 5003, and 5004 for the four TCP (or UDP) connections used to perform the data transfer.</p>
  </dd>
  <dt>
    <p><strong>-P</strong><em>control_port</em></p>
  </dt>
  <dd>
    <p>For client/server mode, specifies the port number used for the control connection between the client and server, and defaults to port 5000. On the server side, the "-P" option should only be used when the server is started manually by the user.  If the server is started by inetd/xinetd (the preferred method), the control connection must be specified by adding a nuttcp entry to the <em>services</em> file.</p>
  </dd>
  <dt>
    <p><strong>-N</strong><em>num_streams</em></p>
  </dt>
  <dd>
    <p>Species the number of parallel TCP (or UDP) data streams to be used for the data transfer, with the default being a single data stream.  The maximum number of parallel data streams that can be used is 128.  If the number of streams is greater than one, the "-B" option is implicitly set. The current implementation does not fork off separate processes for each data stream, so specifying multiple streams on an SMP machine will not take advantage of its multiple processors.  Of course it is always possible to run multiple nuttcp commands in parallel on an SMP system to determine if there is any advantage to running on multiple processors.  This is especially simple to do when running in client/server mode when the server is started from the inetd/xinetd daemon.  When running multiple nuttcp commands in parallel, the "-T" transmitter timeout option may be used to insure that all the nuttcp commands finish at approximately the same time.</p>
  </dd>
  <dt>
    <p><strong>-R</strong><em>xmit_rate_limit</em><strong>[m|g]</strong></p>
  </dt>
  <dd>
    <p>The transmitter rate limit throttles the speed at which the transmitter sends data to the network, and by default is in Kbps, although the 'm' or 'g' suffix may be used to specify Mbps or Gbps.  This option may be used with either TCP or UDP data streams.  Because of the way this option is currently implemented, it will consume all the available CPU on the transmitter side of the connection so the "%TX" stats are not meaningful when using the rate limit option.  By default the rate limit is applied to the average rate of the data transfer in real time, and not in CPU time, so if nuttcp is switched out of the processor for any reason, when it is switched back in, it is possible that the instantaneous rate may momentarily exceed the specified value.  There is an 'i' qualifier to the rate limit option (specified as "-Ri") that will restrict the instantaneous rate at any given point in time to the specified value, although in this case the final rate reported by nuttcp may be less than the specified value since nuttcp won't attempt to catch up if other processes gain control of the CPU.  The default is no rate limit.  Note another way to throttle the throughput of TCP data streams is to reduce the window size.</p>
  </dd>
  <dt>
    <p><strong>-T</strong><em>xmit_time_limit</em><strong>[m]</strong></p>
  </dt>
  <dd>
    <p>Limits the amount of time that the transmitter will send data to the specified number of seconds, or number of minutes if the 'm' suffix is used.  Normally a data transfer will either specify a fixed amount of data to send using the "-n" option, or a fixed period of time to send using the "-T" option.  However, if both the "-n" and "-T" options are used, the data transfer will be stopped by whichever option takes affect first.  The default is a 10 second time limit for the data transfer.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>Under Construction</p><p>For now, consult the README file for basic usage guidelines.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Under Construction</p><p>For now, see the examples.txt file for some examples of using nuttcp.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nuttcp&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ping.8.html"><strong>ping</strong>(8)</a>, <strong>traceroute</strong>(8), <a href="../man8/tracepath.8.html"><strong>tracepath</strong>(8)</a>, <strong>pathchar</strong>(8), <strong>netstat</strong>(1), <strong>mtrace</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Developed by Bill Fink based on nttcp which in turn was an enhancement of the original ttcp developed by Mike Muuss at BRL.  IPv6 capability and some other fixes and enhancements contributed by Rob Scott.  Many useful suggestions and testing performed by Phil Dykstra and others.</p><p>The current version is available via anonymous ftp from:</p><p><em>ftp://ftp.lcp.nrl.navy.mil/pub/nuttcp/</em></p><p>The authors can be reached at nuttcp@lcp.nrl.navy.mil.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please send bug reports to nuttcp-bugs@lcp.nrl.navy.mil.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nutop.8.html"><span aria-hidden="true">&larr;</span> nutop.8: Display top nufw users</a></li>
   <li class="next"><a href="nutupsdrv.8.html">nutupsdrv.8: Generic manual for unified nut drivers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
