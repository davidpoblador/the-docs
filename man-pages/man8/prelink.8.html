<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>prelink: Prelink elf shared libraries and binaries to speed up startup time</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Prelink elf shared libraries and binaries to speed up startup time">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="prelink (8) manual">
  <meta name="twitter:description" content="Prelink elf shared libraries and binaries to speed up startup time">
  <meta name="twitter:image" content="https://www.carta.tech/images/prelink-prelink-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/prelink.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="prelink (8) manual" />
  <meta property="og:description" content="Prelink elf shared libraries and binaries to speed up startup time" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/prelink-prelink-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">prelink<small> (8)</small></h1>
        <p class="lead">Prelink elf shared libraries and binaries to speed up startup time</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/prelink.8.html">
      <span itemprop="name">prelink: Prelink elf shared libraries and binaries to speed up startup time</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/prelink/">
      <span itemprop="name">prelink</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/prelink.8.html">
      <span itemprop="name">prelink: Prelink elf shared libraries and binaries to speed up startup time</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>prelink [OPTION...]<strong>[FILES]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>prelink</strong> is a program that modifies ELF shared libraries and ELF dynamically linked binaries in such a way that the time needed for the dynamic linker to perform relocations at startup significantly decreases. Due to fewer relocations, the run-time memory consumption decreases as well (especially the number of unshareable pages). The prelinking information is only used at startup time if none of the dependent libraries have changed since prelinking; otherwise programs are relocated normally.</p><p><strong>prelink</strong> first collects ELF binaries to be prelinked and all the ELF shared libraries they depend on. Then it assigns a unique virtual address space slot to each library and relinks the shared library to that base address. When the dynamic linker attempts to load such a library, unless that virtual address space slot is already occupied, it maps the library into the given slot. After this is done, <strong>prelink</strong>, with the help of dynamic linker, resolves all relocations in the binary or library against its dependent libraries and stores the relocations into the ELF object. It also stores a list of all dependent libraries together with their checksums into the binary or library. For binaries, it also computes a list of <em>conflicts</em> (relocations that resolve differently in the binary's symbol search scope than in the smaller search scope in which the dependent library was resolved) and stores it into a special ELF section.</p><p>At runtime, the dynamic linker first checks whether all dependent libraries were successfully mapped into their designated address space slots, and whether they have not changed since the prelinking was done. If all checks are successful, the dynamic linker just replays the list of conflicts (which is usually significantly shorter than total number of relocations) instead of relocating each library.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-v&nbsp;--verbose</strong></p>
  </dt>
  <dd>
    <p>Verbose mode. Print the virtual address slots assigned to libraries and what binary or library is currently being prelinked.</p>
  </dd>
  <dt>
    <p><strong>-n&nbsp;--dry-run</strong></p>
  </dt>
  <dd>
    <p>Don't actually prelink anything; just collect the binaries/libraries, assign them addresses, and with <strong>-v</strong> print what would be prelinked.</p>
  </dd>
  <dt>
    <p><strong>-a --all</strong></p>
  </dt>
  <dd>
    <p>Prelink all binaries and dependent libraries found in directory hierarchies specified in <em>/etc/prelink.conf</em>. Normally, only binaries specified on the command line and their dependent libraries are prelinked.</p>
  </dd>
  <dt>
    <p><strong>-m --conserve-memory</strong></p>
  </dt>
  <dd>
    <p>When assigning addresses to libraries, allow overlap of address space slots provided that the two libraries are not present together in any of the binaries or libraries. This results in a smaller virtual address space range used for libraries.  On the other hand, if <strong>prelink</strong> sees a binary during incremental prelinking which puts together two libraries which were not present together in any other binary and were given the same virtual address space slots, then the binary cannot be prelinked. Without this option, each library is assigned a unique virtual address space slot.</p>
  </dd>
  <dt>
    <p><strong>-R --random</strong></p>
  </dt>
  <dd>
    <p>When assigning addresses to libraries, start with a random address within the architecture-dependent virtual address space range. This can make some buffer overflow attacks slightly harder to exploit, because libraries are not present on the same addresses across different machines. Normally, assigning virtual addresses starts at the bottom of the architecture-dependent range.</p>
  </dd>
  <dt>
    <p><strong>-r --reloc-only=ADDRESS</strong></p>
  </dt>
  <dd>
    <p>Instead of prelinking, just relink given shared libraries to the specified base address.</p>
  </dd>
  <dt>
    <p><strong>-N --no-update-cache</strong></p>
  </dt>
  <dd>
    <p>Don't save the cache file after prelinking. Normally, the list of libraries (and with <strong>-m</strong> binaries also) is stored into the <em>/etc/prelink.cache</em> file together with their given address space slots and dependencies, so the cache can be used during incremental prelinking (prelinking without <strong>-a</strong> option).</p>
  </dd>
  <dt>
    <p><strong>-c --config-file=CONFIG</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate config file instead of default <em>/etc/prelink.conf</em>.</p>
  </dd>
  <dt>
    <p><strong>-C --cache-file=CACHE</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate cache file instead of default <em>/etc/prelink.cache</em>.</p>
  </dd>
  <dt>
    <p><strong>-f --force</strong></p>
  </dt>
  <dd>
    <p>Force re-prelinking even for already prelinked objects whose dependencies are unchanged. This option causes new virtual address space slots to be assigned to all libraries. Normally, only binaries or libraries which are either not prelinked yet, or whose dependencies have changed, are prelinked.</p>
  </dd>
  <dt>
    <p><strong>-q --quick</strong></p>
  </dt>
  <dd>
    <p>Run prelink in quick mode.  This mode checks just mtime and ctime timestamps of libraries and binaries stored in the cache file.  If they are unchanged from the last prelink run, it is assumed that the library in question did not change, without parsing or verifying its ELF headers.</p>
  </dd>
  <dt>
    <p><strong>-p --print-cache</strong></p>
  </dt>
  <dd>
    <p>Print the contents of the cache file (normally <em>/etc/prelink.cache</em>) and exit.</p>
  </dd>
  <dt>
    <p><strong>--dynamic-linker=LDSO</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate dynamic linker instead of the default.</p>
  </dd>
  <dt>
    <p><strong>--ld-library-path=PATH</strong></p>
  </dt>
  <dd>
    <p>Specify a special <em>LD_LIBRARY_PATH</em> to be used when <strong>prelink</strong> queries the dynamic linker about symbol resolution details.</p>
  </dd>
  <dt>
    <p><strong>--libs-only</strong></p>
  </dt>
  <dd>
    <p>Only prelink ELF shared libraries, don't prelink any binaries.</p>
  </dd>
  <dt>
    <p><strong>-h --dereference</strong></p>
  </dt>
  <dd>
    <p>When processing command line directory arguments, follow symbolic links when walking directory hierarchies.</p>
  </dd>
  <dt>
    <p><strong>-l --one-file-system</strong></p>
  </dt>
  <dd>
    <p>When processing command line directory arguments, limit directory tree walk to a single file system.</p>
  </dd>
  <dt>
    <p><strong>-T --timestamp-output</strong></p>
  </dt>
  <dd>
    <p>Prefix output with timestamps.</p>
  </dd>
  <dt>
    <p><strong>-u --undo</strong></p>
  </dt>
  <dd>
    <p>Revert binaries and libraries to their original content before they were prelinked. Without the <em>-a</em> option, this causes only the binaries and libraries specified on the command line to be reverted to their original state (and e.g. not their dependencies). If used together with the <em>-a</em> option, all binaries and libraries from command line, all their dependencies, all binaries found in directories specified on command line and in the config file, and all their dependencies are undone.</p>
  </dd>
  <dt>
    <p><strong>-y --verify</strong></p>
  </dt>
  <dd>
    <p>Verifies a prelinked binary or library. This option can be used only on a single binary or library. It first applies an <em>--undo</em> operation on the file, then prelinks just that file again and compares this with the original file. If both are identical, it prints the file after <em>--undo</em> operation on standard output and exits with zero status. Otherwise it exits with error status. Thus if <em>--verify</em> operation returns zero exit status and its standard output is equal to the content of the binary or library before prelinking, you can be sure that nobody modified the binaries or libraries after prelinking. Similarly with message digests and checksums (unless you trigger the improbable case of modified file and original file having the same digest or checksum).</p>
  </dd>
  <dt>
    <p><strong>-y --md5</strong></p>
  </dt>
  <dd>
    <p>This is similar to <em>--verify</em> option, except instead of outputting the content of the binary or library before prelinking to standard output, MD5 digest is printed. See <a href="../man1/md5sum.1.html"><strong>md5sum</strong>(1)</a>.</p>
  </dd>
  <dt>
    <p><strong>-y --sha</strong></p>
  </dt>
  <dd>
    <p>This is similar to <em>--verify</em> option, except instead of outputting the content of the binary or library before prelinking to standard output, SHA1 digest is printed. See <a href="../man1/sha1sum.1.html"><strong>sha1sum</strong>(1)</a>.</p>
  </dd>
  <dt>
    <p><strong>--exec-shield --no-exec-shield</strong></p>
  </dt>
  <dd>
    <p>On IA-32, if the kernel supports Exec-Shield, prelink attempts to lay libraries out similarly to how the kernel places them (i.e. if possible below the binary, most widely used into the ASCII armor zone).  These switches allow overriding prelink detection of whether Exec-Shield is supported or not.</p>
  </dd>
  <dt>
    <p><strong>-b --black-list=PATH</strong></p>
  </dt>
  <dd>
    <p>This option allows blacklisting certain paths, libraries or binaries. Prelink will not touch them during prelinking.</p>
  </dd>
  <dt>
    <p><strong>-o --undo-output=FILE</strong></p>
  </dt>
  <dd>
    <p>When performing an <strong>--undo</strong> operation, don't overwrite the prelinked binary or library with its original content (before it was prelinked), but save that into the specified file.</p>
  </dd>
  <dt>
    <p><strong>-V --version</strong></p>
  </dt>
  <dd>
    <p>Print version and exit.</p>
  </dd>
  <dt>
    <p><strong>-? --help</strong></p>
  </dt>
  <dd>
    <p>Print short help and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">
<p>Command-line arguments should be either directory hierarchies (in which case <em>-l</em> and <em>-h</em> options apply), or particular ELF binaries or shared libraries. Specifying a shared library explicitly on the command line causes it to be prelinked even if no binary is linked against it.  Otherwise, binaries are collected together and only the libraries they depend on are prelinked with them.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p># /usr/sbin/prelink -avmR</p><p>prelinks all binaries found in directories specified in <em>/etc/prelink.conf</em> and all their dependent libraries, assigning libraries unique virtual address space slots only if they ever appear together, and starts assigning libraries at a random address.</p><p># /usr/sbin/prelink -vm ~/bin/progx</p><p>prelinks ~/bin/progx program and all its dependent libraries (unless they were prelinked already e.g. during <em>prelink -a</em> invocation).</p><p># /usr/sbin/prelink -au</p><p>reverts all binaries and libraries to their original content.</p><p># /usr/sbin/prelink -y /bin/prelinked_prog &gt; /tmp/original_prog; echo $? verifies whether /bin/prelinked_prog is unchanged.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/prelink.cache</strong></p>
  </dt>
  <dd>
    <p>Binary file containing a list of prelinked libraries and/or binaries together with their assigned virtual address space slots and dependencies. You can run <em>/usr/sbin/prelink -p</em> to see what is stored in there.</p>
  </dd>
  <dt>
    <p><strong>/etc/prelink.conf</strong></p>
  </dt>
  <dd>
    <p>Configuration file containing a list of directory hierarchies that contain ELF shared libraries or binaries which should be prelinked. This configuration file is used in <strong>-a</strong> mode to find binaries which should be prelinked and also, no matter whether <strong>-a</strong> is given or not, to limit which dependent shared libraries should be prelinked. If <strong>prelink</strong> finds a dependent library of some binary or other library which is not present in any of the directories specified either in <strong>/etc/prelink.conf</strong> or on the command line, then it cannot be prelinked. Each line of the config file should be either a comment starting with <strong>#</strong>, or a directory name, or a blacklist specification.  Directory names can be prefixed by the <strong>-l</strong> switch, meaning the tree walk of the given directory is only limited to one file system; or the <strong>-h</strong> switch, meaning the tree walk of the given directory follows symbolic links. A blacklist specification should be prefixed by <strong>-b</strong> and optionally also <strong>-l</strong> or <strong>-h</strong> if needed.  A blacklist entry can be either an absolute directory name (in that case all files in that directory hierarchy are ignored by the prelinker); an absolute filename (then that particular library or binary is skipped); or a glob pattern without a <strong>/</strong> character in it (then all files matching that glob in any directory are ignored).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO prelink&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ldd.1.html"><strong>ldd</strong>(1)</a>, <a href="../man8/ld.so.8.html"><strong>ld.so</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><strong>prelink</strong> Some architectures, including IA-64 and HPPA, are not yet supported.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Jakub Jelinek &lt;jakub@redhat.com&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="praliases.8.html"><span aria-hidden="true">&larr;</span> praliases.8: Display system mail aliases</a></li>
   <li class="next"><a href="prelink.bin.8.html">prelink.bin.8: Prelink elf shared libraries and binaries to speed up startup time <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
