<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nilfs-clean: Run garbage collector on nilfs file system</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Run garbage collector on nilfs file system">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nilfs-clean (8) manual">
  <meta name="twitter:description" content="Run garbage collector on nilfs file system">
  <meta name="twitter:image" content="https://www.carta.tech/images/nilfs-tools-nilfs-clean-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/nilfs-clean.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nilfs-clean (8) manual" />
  <meta property="og:description" content="Run garbage collector on nilfs file system" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nilfs-tools-nilfs-clean-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nilfs-clean<small> (8)</small></h1>
        <p class="lead">Run garbage collector on nilfs file system</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/nilfs-clean.8.html">
      <span itemprop="name">nilfs-clean: Run garbage collector on nilfs file system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nilfs-tools/">
      <span itemprop="name">nilfs-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/nilfs-clean.8.html">
      <span itemprop="name">nilfs-clean: Run garbage collector on nilfs file system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nilfs-clean</strong> [<em>options</em>] [<em>device</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>nilfs-clean</strong> program communicates with <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a> program and controls execution of garbage collection (GC) on NILFS2 file systems.  It can be used to manually run garbage collection of a file system mounted on <em>device</em> to increase the free space.</p><p>If a GC command is specified by one of the following options (i.e. \'-c\',\'-s\',\'-r\', and \'-l\' options), the command is sent to and performed on the <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a> program.  If no commands are specified, <strong>nilfs-clean</strong> just triggers a one-pass cleaning.</p><p>When <em>device</em> is omitted, <strong>nilfs-clean</strong> selects an active NILFS2 file system in the system.</p><p>This command is valid only for mounted NILFS2 file systems, and will fail if the <em>device</em> has no active mounts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong>, <strong>--break</strong>, <strong>--stop</strong></p>
  </dt>
  <dd>
    <p>Stop garbage collection.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--reload</strong>[=<em>conffile</em>]</p>
  </dt>
  <dd>
    <p>Request reloading config file to cleaner process.  If an optional configuration file is given, the file is read by <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a> program and cleaner configuration is reset to the information.  If no argument is given, a configuration file selected by <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a> will be reloaded.</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--status</strong></p>
  </dt>
  <dd>
    <p>Display cleaner status.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display help message and exit.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--min-reclaimable-blocks=</strong><em>COUNT[%]</em></p>
  </dt>
  <dd>
    <p>Specify the minimum number of reclaimable blocks in a segment before it can be cleaned. If the argument is followed by a percent sign, it represents the ratio of blocks in a segment. This argument will only have an effect if the use_set_suinfo flag is set in the configuration file.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--protection-period=</strong><em>interval</em></p>
  </dt>
  <dd>
    <p>Set protection period for a cleaner run.  The <em>interval</em> parameter is an integer value and specifies the minimum time that deleted or overrode data will be preserved in the file system.  Smaller values will increase free space made by garbage collection.  Optionally, the <em>interval</em> parameter may be suffixed by one of the following units designators: \'s\', \'m\', \'h\', \'d\',\'w\',\'M\', or \'Y\', for seconds, minutes, hours, days, weeks, months, or years, respectively.</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--quit</strong></p>
  </dt>
  <dd>
    <p>Shutdown cleaner daemon.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--resume</strong></p>
  </dt>
  <dd>
    <p>Resume garbage collection.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--suspend</strong></p>
  </dt>
  <dd>
    <p>Suspend garbage collection.  Note that if users manually suspend garbage collection with this option, it will not restart automatically until user resumes the garbage collection.</p>
  </dd>
  <dt>
    <p><strong>-S</strong>, <strong>--speed=</strong><em>COUNT[/SECONDS]</em></p>
  </dt>
  <dd>
    <p>Set garbage collection speed for a cleaner run.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Verbose mode.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display version and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ryusuke Konishi &lt;konishi.ryusuke@lab.ntt.co.jp&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p><strong>nilfs-clean</strong> is part of the nilfs-utils package and is available from http://nilfs.sourceforge.net.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nilfs-clean&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/nilfs.8.html"><strong>nilfs</strong>(8)</a>, <a href="../man8/nilfs_cleanerd.8.html"><strong>nilfs_cleanerd</strong>(8)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nilfs.8.html"><span aria-hidden="true">&larr;</span> nilfs.8: The new implementation of a log-structured file system</a></li>
   <li class="next"><a href="nilfs-resize.8.html">nilfs-resize.8: Resize nilfs file system volume size <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
