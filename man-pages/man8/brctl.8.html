<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>brctl: Ethernet bridge administration</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ethernet bridge administration">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="brctl (8) manual">
  <meta name="twitter:description" content="Ethernet bridge administration">
  <meta name="twitter:image" content="https://www.carta.tech/images/bridge-utils-brctl-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/brctl.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="brctl (8) manual" />
  <meta property="og:description" content="Ethernet bridge administration" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/bridge-utils-brctl-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">brctl<small> (8)</small></h1>
        <p class="lead">Ethernet bridge administration</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/brctl.8.html">
      <span itemprop="name">brctl: Ethernet bridge administration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/bridge-utils/">
      <span itemprop="name">bridge-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/brctl.8.html">
      <span itemprop="name">brctl: Ethernet bridge administration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>brctl [command]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>brctl</strong> is used to set up, maintain, and inspect the ethernet bridge configuration in the linux kernel.</p><p>An ethernet bridge is a device commonly used to connect different networks of ethernets together, so that these ethernets will appear as one ethernet to the participants.</p><p>Each of the ethernets being connected corresponds to one physical interface in the bridge. These individual ethernets are bundled into one bigger ('logical') ethernet, this bigger ethernet corresponds to the bridge network interface.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTANCES</h2>
        <div class="sectioncontent">
<p>The command <strong>brctl addbr &lt;name&gt;</strong> creates a new instance of the ethernet bridge. The network interface corresponding to the bridge will be called &lt;name&gt;.</p><p>The command <strong>brctl delbr &lt;name&gt;</strong> deletes the instance &lt;name&gt; of the ethernet bridge. The network interface corresponding to the bridge must be down before it can be deleted!</p><p>The command <strong>brctl show</strong> shows all current instances of the ethernet bridge.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PORTS</h2>
        <div class="sectioncontent">
<p>Each bridge has a number of ports attached to it. Network traffic coming in on any of these ports will be forwarded to the other ports transparently, so that the bridge is invisible to the rest of the network (i.e. it will not show up in <strong>traceroute</strong>(8)</em> ).</p><p>The command <strong>brctl addif &lt;brname&gt; &lt;ifname&gt;</strong> will make the interface &lt;ifname&gt; a port of the bridge &lt;brname&gt;. This means that all frames received on &lt;ifname&gt; will be processed as if destined for the bridge. Also, when sending frames on &lt;brname&gt;, &lt;ifname&gt; will be considered as a potential output interface.</p><p>The command <strong>brctl delif &lt;brname&gt; &lt;ifname&gt;</strong> will detach the interface &lt;ifname&gt; from the bridge &lt;brname&gt;.</p><p>The command <strong>brctl show &lt;brname&gt;</strong> will show some information on the bridge and its attached ports.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AGEING</h2>
        <div class="sectioncontent">
<p>The bridge keeps track of ethernet addresses seen on each port. When it needs to forward a frame, and it happens to know on which port the destination ethernet address (specified in the frame) is located, it can 'cheat' by forwarding the frame to that port only, thus saving a lot of redundant copies and transmits.</p><p>However, the ethernet address location data is not static data. Machines can move to other ports, network cards can be replaced (which changes the machine's ethernet address), etc.</p><p><strong>brctl showmacs &lt;brname&gt;</strong> shows a list of learned MAC addresses for this bridge.</p><p><strong>brctl setageing &lt;brname&gt; &lt;time&gt;</strong> sets the ethernet (MAC) address ageing time, in seconds. After &lt;time&gt; seconds of not having seen a frame coming from a certain address, the bridge will time out (delete) that address from the Forwarding DataBase (fdb).</p><p><strong>brctl setgcint &lt;brname&gt; &lt;time&gt;</strong> sets the garbage collection interval for the bridge &lt;brname&gt; to &lt;time&gt; seconds. This means that the bridge will check the forwarding database for timed out entries every &lt;time&gt; seconds.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPANNING TREE PROTOCOL</h2>
        <div class="sectioncontent">
<p>Multiple ethernet bridges can work together to create even larger networks of ethernets using the IEEE 802.1d spanning tree protocol. This protocol is used for finding the shortest path between two ethernets, and for eliminating loops from the topology. As this protocol is a standard, linux bridges will interwork properly with other third party bridge products. Bridges communicate with each other by sending and receiving BPDUs (Bridge Protocol Data Units). These BPDUs can be recognised by an ethernet destination address of 01:80:c2:00:00:00.</p><p>The spanning tree protocol can also be turned off (for those situations where it just doesn't make sense, for example when this linux box is the only bridge on the LAN, or when you know that there are no loops in the topology.)</p><p><a href="../man8/brctl.8.html"><strong>brctl</strong>(8)</a></em> can be used for configuring certain spanning tree protocol parameters. For an explanation of these parameters, see the IEEE 802.1d specification (or send me an email). The default values should be just fine. If you don't know what these parameters mean, you probably won't feel the desire to tweak them.</p><p><strong>brctl stp &lt;bridge&gt; &lt;state&gt;</strong> controls this bridge instance's participation in the spanning tree protocol. If &lt;state&gt; is "on" or "yes" the STP will be turned on, otherwise it will be turned off.  When turned off, the bridge will not send or receive BPDUs, and will thus not participate in the spanning tree protocol. If your bridge isn't the only bridge on the LAN, or if there are loops in the LAN's topology, DO NOT turn this option off. If you turn this option off, please know what you are doing.</p><p><strong>brctl setbridgeprio &lt;bridge&gt; &lt;priority&gt;</strong> sets the bridge's priority to &lt;priority&gt;. The priority value is an unsigned 16-bit quantity (a number between 0 and 65535), and has no dimension. Lower priority values are 'better'. The bridge with the lowest priority will be elected 'root bridge'.</p><p><strong>brctl setfd &lt;bridge&gt; &lt;time&gt;</strong> sets the bridge's 'bridge forward delay' to &lt;time&gt; seconds.</p><p><strong>brctl sethello &lt;bridge&gt; &lt;time&gt;</strong> sets the bridge's 'bridge hello time' to &lt;time&gt; seconds.</p><p><strong>brctl setmaxage &lt;bridge&gt; &lt;time&gt;</strong> sets the bridge's 'maximum message age' to &lt;time&gt; seconds.</p><p><strong>brctl setpathcost &lt;bridge&gt; &lt;port&gt; &lt;cost&gt;</strong> sets the port cost of the port &lt;port&gt; to &lt;cost&gt;. This is a dimensionless metric.</p><p><strong>brctl setportprio &lt;bridge&gt; &lt;port&gt; &lt;priority&gt;</strong> sets the port &lt;port&gt;'s priority to &lt;priority&gt;. The priority value is an unsigned 8-bit quantity (a number between 0 and 255), and has no dimension. This metric is used in the designated port and root port selection algorithms.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p><a href="../man8/brctl.8.html"><strong>brctl</strong>(8)</a></strong> replaces the older brcfg tool.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO brctl&hellip;</h2>
        <div class="sectioncontent">
<p><strong>ipchains</strong>(8),</strong> <a href="../man8/iptables.8.html"><strong>iptables</strong>(8)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Lennert Buytenhek &lt;buytenh@gnu.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="br2684ctl.8.html"><span aria-hidden="true">&larr;</span> br2684ctl.8: Rfc1483/2684 bridge daemon</a></li>
   <li class="next"><a href="bregex.8.html">bregex.8: Bacula's 'regex' engine <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
