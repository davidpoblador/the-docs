<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>leafnode: Nntp server for small (dialup) sites</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Nntp server for small (dialup) sites">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="leafnode (8) manual">
  <meta name="twitter:description" content="Nntp server for small (dialup) sites">
  <meta name="twitter:image" content="https://www.carta.tech/images/leafnode-leafnode-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/leafnode.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="leafnode (8) manual" />
  <meta property="og:description" content="Nntp server for small (dialup) sites" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/leafnode-leafnode-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">leafnode<small> (8)</small></h1>
        <p class="lead">Nntp server for small (dialup) sites</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/leafnode.8.html">
      <span itemprop="name">leafnode: Nntp server for small (dialup) sites</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/leafnode/">
      <span itemprop="name">leafnode</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/leafnode.8.html">
      <span itemprop="name">leafnode: Nntp server for small (dialup) sites</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>leafnode</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Leafnode</strong> is a USENET package intended for small sites, where there are few users and little disk space, but where a large number of groups is desired.</p><p>The design of <strong>leafnode</strong> is intended to self-repair after problems, and to require no manual maintenance.</p><p>The <strong>leafnode</strong> program itself is the NNTP server.  It is run from <strong>inetd</strong>(8), <a href="../man8/xinetd.8.html"><strong>xinetd</strong>(8)</a> or <strong>tcpserver</strong> when someone wants to read news.  The other parts of the package, <strong>fetchnews</strong> and <strong>texpire,</strong> are responsible for fetching new news from another server, and for deleting old news.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACCESS CONTROL</h2>
        <div class="sectioncontent">
<p>No authentication or access control is supported.  This is a deliberate omission: Implementing this is a job which should not be redone for each and every service.</p><p><strong>It is mandatory that you use external access control mechanisms like</strong> <strong>tcpd, inetd/xinetd compiled with libwrap support, tcpserver with -x</strong> <strong>option and the like and that these are in effect.</strong> tcpd and libwrap are components of Wietse Venema's fine <strong>tcp_wrappers</strong> package.</p><p>As a very rough last line of defense against abuse, leafnode will drop connections from outside your LANs by default. You can configure leafnode to let go of this restriction (look for the allowstrangers option), but don't do that unless tight access control is in place. Someone will abuse your computer sooner or later. Promised.</p><p>I recommend that either firewalling or tcpd be used for access control.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>All these files and directories <em>must</em> be readable by the user "news". It is recommended that, unless otherwise stated, that the user "news" be the only user in the group "news" and these files belong to "root:news" (user:group) so leafnode cannot modify your configuration or filter files.</p><p><em>/etc/news/leafnode</em> should not be writable by the user "news", but it must be executable for at least any of the group that the user "news" is in. <em>/etc/news/leafnode/config</em> contains the configuration parameters for <strong>leafnode.</strong> It <strong>must not</strong> be writable by the user "news". Set this to owner root:news and mode 640. For details, see CONFIGURATION below.</p><p><em>/var/spool/news</em> must also be readable and writable by the user "news". It contains the news articles; e.g. <em>/var/spool/news/alt/fan/agulbra</em> contains the articles in the <em>alt.fan.agulbra</em> group.  Each directory contains articles in numbered files (decimal numbers, monotonically increasing), and a special file called <em>.overview</em> which contains the "Subject", "From", "Date", "Message-ID", "References", "Bytes" and "Lines" headers for each article in the group.</p><p>Several subdirectories are special:</p><p><em>/var/spool/news/leaf.node</em> contains the files that leafnode creates during operation, for example the <strong>groupinfo</strong> file which contains information about each USENET newsgroup. This file is built by <strong>fetchnews</strong> (8). You can force a complete rebuild of the groupinfo file by calling <strong>fetchnews</strong> with the parameter -f (see <strong>fetchnews</strong> (8)).</p><p><em>/var/spool/news/out.going</em> contains local postings that <a href="../man8/fetchnews.8.html"><strong>fetchnews</strong>(8)</a> is to pass to the upstream NNTP server. After a posting has been successfully written to disk, its u+r permission flag is set. This flag is interpreted by <a href="../man8/fetchnews.8.html"><strong>fetchnews</strong>(8)</a></strong> as "you may post this article". This prevents fetchnews from posting articles that are still being received from newsreaders. (Note: versions 1.9.23 to 1.9.32 inclusively used u+x instead, which caused some "stuck post" problems with articles in the spool when a prior leafnode version was updated to one of these 10 versions. Updating to leafnode 1.9.33 or later fixes the problem.)</p><p><em>/var/spool/news/failed.postings</em> contains local postings that the upstream server rejected. <a href="../man8/fetchnews.8.html"><strong>fetchnews</strong>(8)</a> will create files in this directory, but none of the <strong>leafnode</strong> programs will delete anything in it.</p><p><em>/var/spool/news/message.id</em> contains hard links to each message; this is used in place of the <strong>dbz</strong> database typically used by bigger servers.  (A directory such as this is probably more efficient for the small servers <strong>leafnode</strong> is designed for but scales very badly.)</p><p><em>/var/spool/news/interesting.groups</em> contains one file for each group an NNTP client has asked to read. <strong>leafnode</strong> will update the <strong>ctime</strong> (ls&nbsp;-l usually shows the <strong>mtime</strong>, try ls&nbsp;-lc) of the relevant file when a LISTGROUP, XOVER, XHDR, STAT, HEAD, BODY or ARTICLE command is issued, when a GROUP or LIST ACTIVE command (the latter only with a single group, not with patterns) is issued for an interesting group (to avoid unsubscribing low-traffic groups that are still read) and <a href="../man8/fetchnews.8.html"><strong>fetchnews</strong>(8)</a> will retrieve all new articles in all groups whose files have been either</p><ul>
<li><p>- touched during the past two days, or</p></li><li><p>- touched more than once, and at least once within the past week.</p></li>
</ul><p>The timeout is configurable through the <em>config</em> file variables <strong>timeout_short</strong> and <strong>timeout_long</strong>. See also <a href="../man8/fetchnews.8.html"><strong>fetchnews</strong>(8)</a> for the <strong>-n</strong> option.</p><p><em>/etc/inetd.conf</em> or <em>/etc/xinetd.conf</em> contains the configuration which starts <strong>leafnode.</strong> It is strongly recommended to start <strong>leafnode</strong> as user news.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>LN_REJECT_POST_PRE</p>
  </dt>
  <dd>
    <p>If this variable exists, all POST commands are rejected with a 400 code. Use only for debugging clients.</p>
  </dd>
  <dt>
    <p>LN_REJECT_POST_POST</p>
  </dt>
  <dd>
    <p>If this variable exists, the POST command is rejected with a 400 code after the article and CRLF.CRLF has been received. Use only for debugging clients.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>All configuration is done using the file <em>/etc/news/leafnode/config</em>, which may include a filter description file, filterfile for short, as described below.</p><p>For the purposes of this section, whitespace shall be defined as an arbitrary sequence consisting of one or more SPACE or HTAB characters, ASCII positions 32 and 9, respectively.</p><p>The configuration file is strictly line-oriented with LF or CRLF as line terminator.</p><p>Empty lines and lines consisting of only whitespace, possibly followed by a comment (introduced by a hash mark (#) and extending through the end of the line), are skipped.</p><p>All other lines have exactly three mandatory fields, a plain text parameter, an assignment character (=) optionally surrounded by whitespace and a value.  The value is either plain text or - new since leafnode v1.11 - a string in double quotes with trivial backslash escape (see below).</p><p>Plain text starts at the first non-whitespace character and extends through the last non-whitespace character on the line that is not a comment. A trailing comment on a line is skipped.</p><p>Quoted strings are enclosed in double quote characters ("). The backslash character (&#92;) is skipped, but it copies the immediately following character verbatim, so that you can specify the backslash itself by doubling it (&#92;&#92;) or a double quote character as part of the string by preceding it with a backslash ( special meaning as command introducer inside quoted strings. Text after the end of the string is silently ignored (this may change in future versions).  Comments after quoted strings are ignored.</p><p><strong>MANDATORY PARAMETERS</strong></p><p>These parameters must be specified for leafnode to work.</p>
<dl class='dl-vertical'>
  <dt>
    <p>server = news02.example.com</p>
  </dt>
  <dd>
    <p>"server" is used by <strong>fetchnews</strong> (8) to select what NNTP server(s) to retrieve news from and to post your articles to. You can specify more than one news server; in that case, the servers will be queried from the top down. If you want to post articles, at least one of your servers should allow you to post. In the example above, news02.example.com is the news server.</p><p>This parameter can be given more than once. Each <strong>server</strong> starts with a fresh set of default configuration options, no inheritance takes place from the previous server definition. Only options explicitly marked "server-specific" can be set on a per server basis, "general" options are set for all servers at the same time.</p>
  </dd>
  <dt>
    <p>expire = 5</p>
  </dt>
  <dd>
    <p>"expire" is the number of days an article should be kept around. In the example, five days after the article has last been read, it is deleted by <strong>texpire</strong> (8). This value MUST be at least 1. This parameter is global, see the introductory paragraph of the following <strong>GENERAL OPTION PARAMETERS</strong> section to find out what this means.</p>
  </dd>

</dl>
<p><strong>GENERAL OPTIONAL PARAMETERS</strong></p><p>These options can only be configured once in the configuration file, and take effect for leafnode as a whole. It does not matter where these are specified relative to server= options, but for clarity, you are encouraged to place these before the first server= line. Specifying each of the global options more than once lets the last copy take effect, but may cause errors in the future.</p>
<dl class='dl-vertical'>
  <dt>
    <p>hostname = host.domain.country</p>
  </dt>
  <dd>
    <p>By default, leafnode tries hard to figure the host name of your computer, skipping inadequate (non-unique) names if possible. It will look up your computer's host name with <strong>gethostname</strong>(3) and then try to qualify the name with <a href="../man3/gethostbyname.3.html"><strong>gethostbyname</strong>(3)</a> if necessary. Common sources for the full name therefore are /etc/hosts, NIS and DNS, but consult your system documentation for details.</p><p>If leafnode fails to determine the host name, this is usually a hint that your system is not configured properly, or it has a hostname that is unsuitable for the domain part of a Message-ID, for example, "localhost.localdomain", and you should fix the name service configuration. Adding a unique fully-qualified host name to /etc/hosts is usually sufficient. Please see <em>README-FQDN</em> for more details.</p><p>You can configure the unique fully-qualified host name here as well, but this is not recommended and discouraged.</p>
  </dd>
  <dt>
    <p>create_all_links = 1</p>
  </dt>
  <dd>
    <p>Normally, fetchnews will store articles only in the newsgroups which it considers interesting. With this option set, fetchnews will create hardlinks for all newsgroups in the Newsgroups: header that it knows about. This may be of interest if you want to apply a score- or killfile to the local Xref: line.</p>
  </dd>
  <dt>
    <p>maxfetch = 1000</p>
  </dt>
  <dd>
    <p>"maxfetch" specifies the maximum number of articles <strong>fetchnews</strong> (8) should fetch from the upstream server in each group. Its use is not advised, because if you use it you will not see all the traffic in a group. By default there is no limit.</p>
  </dd>
  <dt>
    <p>initialfetch = 1</p>
  </dt>
  <dd>
    <p>"initialfetch" defines how many articles from a newly subscribed group should be fetched. The default is to fetch all old articles, which can get quite time-consuming when subscribing to a very busy group. This is equivalent to setting initialfetch to zero. If you want to get no old articles when subscribing to a new group, you should set initialfetch to one, as in the example above.</p>
  </dd>

</dl>
<p>groupexpire very.crowded.group = 1</p>
<dl class='dl-vertical'>
  <dt>
    <p>groupexpire very.crowded.hierarchy.* = 1</p>
  </dt>
  <dd>
    <p>"groupexpire" makes it possible to adjust expiry times for individual groups. Expiry times are given in days. 0 means "use the default", negative values prevent the expire process for this group altogether (you can consider this an archive mode). This value is used by <strong>texpire</strong> (8). You can specify as many groupexpire lines as you like. It is possible to specify <strong>glob</strong> (7)-like wildcard expressions.</p>
  </dd>
  <dt>
    <p>maxage = 10</p>
  </dt>
  <dd>
    <p>If an article turns up on your upstream news server which is older than "maxage" days it will not been fetched even if you don't have it yet. This is useful if your upstream server gets occasional "hiccups". The default is set to 10. If you want to switch this feature off, set maxage to some very large value, such as 20000 (this is equivalent to roughly 54 years).</p>
  </dd>
  <dt>
    <p>maxold = 10</p>
  </dt>
  <dd>
    <p>Is synonymous to maxage, see above.</p>
  </dd>
  <dt>
    <p>maxlines = 2000</p>
  </dt>
  <dd>
    <p>If you want to avoid receiving very large articles, you may set the "maxlines" parameter to the maximal number of lines an article should have. By default, this feature is switched off.</p>
  </dd>
  <dt>
    <p>minlines = 2</p>
  </dt>
  <dd>
    <p>Sometimes newsgroups are spammed with empty postings. To reject these postings, you can set the "minlines" parameter. Setting minlines to a value larger 4 is probably not a good idea since you will also start to kill "real" postings then. By default, this feature is switched off.</p>
  </dd>
  <dt>
    <p>maxbytes = 100000</p>
  </dt>
  <dd>
    <p>If you want to avoid receiving very large articles, instead of using the "maxlines" parameter you can also use the "maxbytes" parameter. By default, this feature is switched off.</p>
  </dd>
  <dt>
    <p>maxcrosspost = 5</p>
  </dt>
  <dd>
    <p>If you want to combat spam, you can filter out all postings that are posted to more than a certain number of newsgroups. The number is defined by setting "maxcrosspost". Setting this parameter to very low values is probably a bad idea. This feature is switched off by default.</p>
  </dd>
  <dt>
    <p>maxgroups = 5</p>
  </dt>
  <dd>
    <p>Synonymous for maxcrosspost. See above.</p>
  </dd>
  <dt>
    <p>filterfile = /etc/news/leafnode/filters</p>
  </dt>
  <dd>
    <p>Leafnode can filter the input headers for arbitrary regular expressions. These are stored in a file designated "filterfile". The format of "filterfile" is very simple: one perl-compatible regular expression per line. If one of the regular expressions fits to a header to be downloaded, the body of that article will be rejected. This feature is switched off by default. The format of the regular expressions is described in <a href="../man3/pcre.3.html"><strong>pcre</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p>timeout_short = 2</p>
  </dt>
  <dd>
    <p>By default, a group that has been accidentally touched is being fetched for two days. You can change this time by changing timeout_short.</p>
  </dd>
  <dt>
    <p>timeout_long = 7</p>
  </dt>
  <dd>
    <p>By default, a group that has not been read at all is being fetched for seven days before being unsubscribed. This interval can be changed by setting timeout_long to a different value.</p>
  </dd>
  <dt>
    <p>timeout_active = 90</p>
  </dt>
  <dd>
    <p>By default, active files from the upstream servers are re-read every 90 days. This interval can be changed by setting timeout_active to a different value. Be aware that reading an active file transfers about one MB of information if the server that you are using carries a reasonable number of groups (i. e. around 20,000).</p>
  </dd>
  <dt>
    <p>timeout_client = 900 (since v1.9.23)</p>
  </dt>
  <dd>
    <p>By default, leafnode will drop the connection 900 seconds (15 minutes) after seeing the last command from the client. You can change the timeout here. Setting it too low (like below 5 minutes) will annoy your users and consume more system resources for re-reading all the files.</p>
  </dd>
  <dt>
    <p>timeout_fetchnews = 300 (since v1.9.52)</p>
  </dt>
  <dd>
    <p>Fetchnews will, since v1.9.52, assume the upstream server has become wedged after waiting for a reply for 300 seconds. You can change the timeout here.</p>
  </dd>
  <dt>
    <p>timeout_lock = 5 (since v1.9.54)</p>
  </dt>
  <dd>
    <p>Configure how many seconds the leafnode programs (applyfilter, checkgroups, fetchnews, texpire) will wait for the lock file before aborting. Setting this to 0 means to wait indefinitely. <strong>NOTE:</strong> you can override this by setting the environment variable LN_LOCK_TIMEOUT (note it is not LN_TIMEOUT_LOCK). The default is 5 seconds.</p>
  </dd>
  <dt>
    <p>delaybody = 1</p>
  </dt>
  <dd>
    <p>With this option set, <strong>fetchnews</strong> (8) fetches only the headers of an article for visual inspection. Only when the headers have been read, the bodies of the articles will be retrieved the next time <strong>fetchnews</strong> (8) is called. This can save a huge amount of download time and disk space.</p>
  </dd>
  <dt>
    <p>delaybody_in_situ = 1 (since v1.9.41)</p>
  </dt>
  <dd>
    <p>This is only applicable with delaybody=1.</p><p>By default, leafnode will give the full downloaded article a new article number so they appear as new in your newsreader. This does not work for all newsreaders. With this option set, leafnode will retain the original article number. You'll have to figure out how to tell your newsreader to show old articles. This option defaults to 0. It is <strong>highly</strong> recommended to leave it unset.</p>
  </dd>
  <dt>
    <p>debugmode = 1</p>
  </dt>
  <dd>
    <p>With this option set, <strong>fetchnews</strong> (8), <strong>texpire</strong> (8) and <strong>leafnode</strong> (8) will start to log lots of debugging output via <strong>syslog</strong> (8) at facility news and priority debug. Use it for tracking down problems with your feed. debugmode should be left at 0 for regular use because it can log enormous amounts of data. The higher the number, the more will be logged. Choosing a figure greater than 3 will not make a difference at the moment.</p>
  </dd>
  <dt>
    <p>allow_8bit_headers = 1 (since v1.9.25)</p>
  </dt>
  <dd>
    <p>By default, leafnode rejects local posts that have 8-bit characters in their headers, because they violate relevant standards, particularly RFC-2822 (which RFC-1036 is based on) that demands that Usenet news headers (as mail headers) must be pure 7-bit US-ASCII, with only whitespace allowed from the control characters.</p><p>However, as UTF-8 is to come, and some national hierarchies, particularly the Norwegian and Danish (no.*, dk.*) seem to have agreed on preferring just-send-eight over RFC-2047, you can set this option to allow 8-bit data in headers. Leafnode will however add a warning header if 8-bit data is present, stating that the site administrator allowed this.</p><p>There is no way to make leafnode accept non-whitespace control characters in headers.</p>
  </dd>
  <dt>
    <p>allowSTRANGERS = MAGIC (since v1.9.23)</p>
  </dt>
  <dd>
    <p>By default, leafnode refuses connections from outside your LANs. Check config.example for how to use this parameter to let strangers connect to your leafnode. Instead of MAGIC, you have to write a number as mentioned in <em>config.example</em>. Note that capitalization matters.</p>
  </dd>
  <dt>
    <p>linebuffer = 1</p>
  </dt>
  <dd>
    <p>By default, stdout and sometimes stderr of applications are set to "fully buffered" unless connected to terminals. Use this option to explicitly request line buffered mode for stdout and stderr.</p>
  </dd>
  <dt>
    <p>clamp_maxage = 0</p>
  </dt>
  <dd>
    <p>By default, leafnode will derive a "maxage" argument from the expire time that is applicable to the group (groupexpire if set, expire otherwise), to prevent fetching articles again that were once there and then cleared by <a href="../man8/texpire.8.html"><strong>texpire</strong>(8)</a>. Set clamp_maxage=0 to get rid of this behaviour.</p>
  </dd>
  <dt>
    <p>article_despite_filter = 1 (since v1.9.33)</p>
  </dt>
  <dd>
    <p>By default, fetchnews will request HEAD and BODY separately if a filter file is defined and delaybody is off. For high latency, high throughput links (such as interleaved DSL or satellite links), it may be faster to request head and body together with an ARTICLE command and ignore the body if the filters apply (though it may not be cheaper if you pay per MByte), enabling this option will force leafnode to use the ARTICLE command in spite of filters being defined. (Note that in delaybody mode, HEAD and BODY will ALWAYS be requested separately.)</p>
  </dd>
  <dt>
    <p>newsadmin = news@leafnode.example.org (since v1.9.47)</p>
  </dt>
  <dd>
    <p>This option sets the From: address for the placeholder article, it should be the news administrator's mail address. It defaults to news@HOSTNAME, where HOSTNAME is leafnode's hostname.</p>
  </dd>

</dl>
<p><strong>SERVER-SPECIFIC OPTIONAL PARAMETERS</strong></p><p>These options can only be placed after the server= line of the server to which you would like these to apply, and they always pertain to the preceding server= line. Specifying them before the first server= line is an error.</p>
<dl class='dl-vertical'>
  <dt>
    <p>username = myname</p>
  </dt>
  <dd>
    <p>If any of your news servers requires authentication, you can enter your username on that server here. This field may occur multiple times, once after each server definition. See the introduction of this CONFIGURATION section for information on how to quote <em>myname</em>.</p>
  </dd>
  <dt>
    <p>password = mypassword</p>
  </dt>
  <dd>
    <p>If any of your news servers requires authentication, you can enter your password on that server here. This field may occur multiple times, once after each server definition.  Since the password is available in clear text, it is recommended that you set the rights on the config file as restrictive as possible, otherwise other users of your computer will be able to get your password(s) from that file. See the introduction of this CONFIGURATION section for information on how to quote <em>mypassword</em>.</p>
  </dd>
  <dt>
    <p>port = 8000</p>
  </dt>
  <dd>
    <p>By default, fetchnews tries to connect to its upstream news servers on the NNTP port (119). If your servers run on a different port, you can specify those here. This field may occur multiple times, once after each server definition.</p><ul>
<li><p><strong>Note:</strong> to modify the port your own leafnode servers listens on, change the inetd.conf, xinetd.conf configuration file or the tcpsvd/tcpserver command line. leafnode does not set up its listen port itself.</p></li>
</ul>
  </dd>
  <dt>
    <p>timeout = 30</p>
  </dt>
  <dd>
    <p>By default, leafnode tries to connect for 10 seconds to a server and then gives up. If you have a slow server, you can try for a longer time by setting the timeout higher (in this example, 30 seconds). The timeout can be tuned individually for each server.</p>
  </dd>
  <dt>
    <p>noactive = ANYTHING (v1.9.25 ... v1.11.4)</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>noactive = 1 (since v1.11.5)</p>
  </dt>
  <dd>
    <p>If this parameter is set, the active file is never downloaded from this server. Use this for very slow servers unless they carry groups that other servers don't offer. Leafnode versions 1.9.25 to 1.11.4 would always assume that "ANYTHING" had been 1. "noactive = 0" is supported since v1.11.5.</p>
  </dd>
  <dt>
    <p>nodesc = ANYTHING (until v1.11.4)</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>nodesc = 1 (since v1.11.5)</p>
  </dt>
  <dd>
    <p>Some servers do not deliver news groups descriptions correctly because they cannot parse the XGTITLE and LIST NEWSGROUPS commands. In that case, put this line after the "server" line. Leafnode versions up to v1.11.4 would always assume that "ANYTHING" had been 1. "nodesc = 0" is supported since v1.11.5.</p>
  </dd>
  <dt>
    <p>nopost = 1 (since v1.9.23)</p>
  </dt>
  <dd>
    <p>Prevent posting to this server. You can use this if the upstream won't let you post but still greet leafnode with 200 or if the upstream doesn't forward your postings reliably.</p>
  </dd>
  <dt>
    <p>noread = 1 (since v1.9.33)</p>
  </dt>
  <dd>
    <p>Prevent fetching news articles or active files from this server. You can use this if the upstream is good to post, but too slow to fetch news from.</p>
  </dd>
  <dt>
    <p>noxover = 1 (since v1.9.47)</p>
  </dt>
  <dd>
    <p>Prevent the use of XOVER on the current server. Fetchnews will use XHDR instead.</p>
  </dd>
  <dt>
    <p>only_groups_match_all = 1 (since v1.9.52)</p>
  </dt>
  <dd>
    <p>Usually, when cross-posting an article, fetchnews will post the article if ANY group listed in the Newsgroups: header is matched by the PCRE. With this option on, ALL groups listed in the Newsgroups: header must match. This can be used to avoid "poison" groups when you have multiple upstream servers.</p>
  </dd>
  <dt>
    <p>only_groups_pcre = PCRE (since v1.9.28)</p>
  </dt>
  <dd>
    <p>This parameter lists the Perl-compatible regular expression of groups that are fetched or posted to this server. The PCRE is automatically anchored at the left hand side, so you can omit the leading ^. Remember to escape dots, as in:</p><p>de&#92;.comp&#92;.|de&#92;.comm&#92;.</p><ul>
<li><p>If this parameter is omitted, all groups are fetched from and posted to this server.</p></li><li><p>Note: you must run fetchnews with the -f option after changing, adding or removing any only_groups_pcre option.</p></li><li><p>Hint: you can use something like this to check your only_groups_pcre settings:</p><p>cut -f1 -d" " @spooldir@/leaf.node/groupinfo &#92;</p><p>| pcregrep 'PATTERN'</p></li>
</ul>
  </dd>
  <dt>
    <p>post_anygroup = 1 (since v1.9.37)</p>
  </dt>
  <dd>
    <p>This parameter makes leafnode post on this server without checking if it carries the group an article is posted to. The default is post_anygroup = 0, which means that leafnode will check with a "GROUP" command if the server carries the group the articles is posted into. Use this on post-only servers that don't allow the "GROUP" command. Note: inconsiderate use of this parameter may cause articles to end up in the failed.postings directory.</p>
  </dd>

</dl>
<p><strong>OBSOLETE PARAMETERS</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p>supplement</p>
  </dt>
  <dd>
    <p>is synonymous to server. Don't use it on new installations.</p>
  </dd>
  <dt>
    <p>fqdn</p>
  </dt>
  <dd>
    <p>is synonymous to hostname. Don't use it on new installations.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROTOCOL</h2>
        <div class="sectioncontent">
<p>Here are the NNTP commands supported by this server:</p><p>ARTICLE, BODY, DATE, GROUP, HDR, HEAD, HELP, LAST, LIST, LIST ACTIVE, LIST ACTIVE.TIMES, LIST EXTENSIONS, LIST NEWSGROUPS, LIST OVERVIEW.FMT, LISTGROUP, MODE, NEWGROUPS, NEXT, POST, OVER, SLAVE, STAT, XHDR, XOVER. These commands follow RFC-977 and RFC-2980, except HDR and OVER which are recognized in anticipation of current NNTP drafts.</p><p>Note that the syntax of HDR and OVER may change.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Leafnode is totally unaware of UTF-8 and will reject a client that posts UTF-8 characters in the header. Current Usefor drafts claim all article headers UTF-8 encoded Unicode. Leafnode still expects RFC-2047 instead which may eventually be phased out in favour of UTF-8.</p><p>Leafnode stops reading a line at the first NUL character.</p><p>Leafnode may not cope well with crosspostings that cross hierarchies if you have multiple upstream feeds and use the only_groups_pcre configuration option.</p><p>Leafnode will only bother to determine the time zone offset for generated Date: headers for posts that lack them on systems that offer the tm_gmtoff member in struct tm (commonly BSD and GNU systems).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Arnt Gulbrandsen &lt;agulbra@troll.no&gt; and copyright 1995 Troll Tech AS, Postboks 6133 Etterstad, 0602 Oslo, Norway, fax +47 22646949.</p><p>Modified by Cornelius Krasel &lt;krasel@wpxx02.toxi.uni-wuerzburg.de&gt;, Randolf Skerka &lt;Randolf.Skerka@gmx.de&gt; and Markus Enzenberger &lt;enz@cip.physik.uni-muenchen.de&gt;. Copyright of the modifications 1997-1999.</p><p>Modified by Matthias Andree &lt;matthias.andree@gmx.de&gt;, Copyright 1999 - 2002. Modified by Ralf Wildenhues &lt;ralf.wildenhues@gmx.de&gt;, Copyright 2002.</p><p>Jonathan Larmour &lt;jifl@jifvik.org&gt; contributed the timeout_client feature.</p><p>Andreas Meininger &lt;a.meininger@gmx.net&gt; contributed the code to let texpire ignore groupexpire = -1 groups.</p><p>Mark Brown &lt;broonie@debian.org&gt; added the noactive option.</p><p>Numerous contributions by other people.</p><p>The initial development of <strong>leafnode</strong> has been paid for by Uninett AS (http://www.uninett.no/).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO leafnode&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/applyfilter.8.html"><strong>applyfilter</strong>(8)</a>, <a href="../man8/checkgroups.8.html"><strong>checkgroups</strong>(8)</a>, <a href="../man8/fetchnews.8.html"><strong>fetchnews</strong>(8)</a>, <a href="../man1/newsq.1.html"><strong>newsq</strong>(1)</a>, <a href="../man8/texpire.8.html"><strong>texpire</strong>(8)</a>.</p><p><a href="../man8/tcpd.8.html"><strong>tcpd</strong>(8)</a>, <a href="../man5/hosts_access.5.html"><strong>hosts_access</strong>(5)</a>, <a href="../man7/glob.7.html"><strong>glob</strong>(7)</a>, <a href="../man3/pcre.3.html"><strong>pcre</strong>(3)</a>, <strong>RFC 977,</strong> <strong>RFC 2980.</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ldminfod.8.html"><span aria-hidden="true">&larr;</span> ldminfod.8: Ldminfod  output login sessions and available locales</a></li>
   <li class="next"><a href="lecs.8.html">lecs.8: Atm lan emulation service demons <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
