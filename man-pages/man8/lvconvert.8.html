<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lvconvert: Lvconvert  convert a logical volume from linear to mirror or snapshot</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lvconvert  convert a logical volume from linear to mirror or snapshot">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lvconvert (8) manual">
  <meta name="twitter:description" content="Lvconvert  convert a logical volume from linear to mirror or snapshot">
  <meta name="twitter:image" content="https://www.carta.tech/images/lvm2-lvconvert-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/lvconvert.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lvconvert (8) manual" />
  <meta property="og:description" content="Lvconvert  convert a logical volume from linear to mirror or snapshot" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lvm2-lvconvert-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lvconvert<small> (8)</small></h1>
        <p class="lead">Lvconvert  convert a logical volume from linear to mirror or snapshot</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/lvconvert.8.html">
      <span itemprop="name">lvconvert: Lvconvert  convert a logical volume from linear to mirror or snapshot</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lvm2/">
      <span itemprop="name">lvm2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/lvconvert.8.html">
      <span itemprop="name">lvconvert: Lvconvert  convert a logical volume from linear to mirror or snapshot</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lvconvert</strong> <strong>-m</strong>|<strong>--mirrors</strong> <em>Mirrors</em> [<strong>--type</strong> <em>SegmentType</em>] [<strong>--mirrorlog</strong> {<em>disk</em>|<em>core</em>|<em>mirrored</em>}] [<strong>--corelog</strong>] [<strong>-R</strong>|<strong>--regionsize</strong> <em>MirrorLogRegionSize</em>] [<strong>--stripes</strong> <em>Stripes</em> [<strong>-I</strong>|<strong>--stripesize</strong> <em>StripeSize</em>]] [<strong>-A</strong>|<strong>--alloc</strong> <em>AllocationPolicy</em>] [<strong>-b</strong>|<strong>--background</strong>] [<strong>-f</strong>|<strong>--force</strong>] [<strong>-i</strong>|<strong>--interval</strong> <em>Seconds</em>] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>--noudevsync</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>-y</strong>|<strong>--yes</strong>] [<strong>--version</strong>] <em>LogicalVolume</em>[<em>Path</em>] [<em>PhysicalVolume</em>[<em>Path</em>][<em>:PE</em>[<em>-PE</em>]]...]</p><p><strong>lvconvert --splitmirrors </strong><em>Images</em> [<strong>--name</strong> <em>SplitLogicalVolumeName</em>] [<strong>--trackchanges</strong>] <em>MirrorLogicalVolume</em>[<em>Path</em>] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<em>SplittablePhysicalVolume</em>[<em>Path</em>][<em>:PE</em>[<em>-PE</em>]]...]</p><p><strong>lvconvert</strong> <strong>--splitsnapshot</strong> [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>--noudevsync</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>] <em>SnapshotLogicalVolume</em>[<em>Path</em>]</p><p><strong>lvconvert</strong> <strong>-s</strong>|<strong>--snapshot</strong> [<strong>-c</strong>|<strong>--chunksize</strong> <em>ChunkSize</em>[<em>bBsSkK</em>]] [<strong>-Z</strong>|<strong>--zero</strong> {<em>y</em>|<em>n</em>}] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>--noudevsync</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>] <em>OriginalLogicalVolume</em>[<em>Path</em>] <em>SnapshotLogicalVolume</em>[<em>Path</em>]</p><p><strong>lvconvert --merge</strong> [<strong>-b</strong>|<strong>--background</strong>] [<strong>-i</strong>|<strong>--interval</strong> <em>Seconds</em>] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>] <em>LogicalVolume</em>[<em>Path</em>]...</p><p><strong>lvconvert --repair</strong> [<strong>--stripes</strong> <em>Stripes</em> [<strong>-I</strong>|<strong>--stripesize</strong> <em>StripeSize</em>]] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>] <em>LogicalVolume</em>[<em>Path</em>] [<em>PhysicalVolume</em>[<em>Path</em>]...]</p><p><strong>lvconvert --replace </strong><em>PhysicalVolume</em> [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>] <em>LogicalVolume</em>[<em>Path</em>] [<em>PhysicalVolume</em>[<em>Path</em>]...]</p><p><strong>lvconvert</strong> [{<strong>--type</strong> <strong></strong><em>thin</em>[<strong></strong><em>-pool</em>]|<strong>-T</strong>|<strong>--thin</strong>} [<strong>--originname</strong> <em>NewExternalOriginVolumeName</em>]] [<strong>--thinpool</strong> <em>ThinPoolLogicalVolume</em>{<em>Name</em>|<em>Path</em>} [<strong>-c</strong>|<strong>--chunksize</strong> <em>ChunkSize</em>[<em>bBsSkKmMgG</em>]] [<strong>--discards</strong> {<em>ignore</em>|<em>nopassdown</em>|<em>passdown</em>}] [{<strong>--poolmetadata</strong> <em>ThinPoolMetadataLogicalVolume</em>{<em>Name</em>|<em>Path</em>} | <strong>--poolmetadatasize</strong> <em>ThinPoolMetadataSize</em>[<em>bBsSkKmMgG</em>]}] [<strong>-r</strong>|<strong>--readahead</strong> {<em>ReadAheadSectors</em>|<em>auto</em>|<em>none</em>}] [<strong>--stripes</strong><strong></strong><em>Stripes</em> [<strong>-I</strong>|<strong>--stripesize</strong><strong></strong><em>StripeSize</em>]]] [<strong>--poolmetadataspare</strong> {<em>y</em>|<em>n</em>}] [<strong>-Z</strong>|<strong>--zero</strong><strong>{</strong><em>y</em><strong>|</strong><em>n</em><strong>}]]</strong> [[<em>ExternalOrigin</em>|<em>ThinPool</em>]<em>LogicalVolume</em>{<em>Name</em>|<em>Path</em>}] [<em>PhysicalVolume</em>[<em>Path</em>][<em>:PE</em> [<em>-PE</em>]]...] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>]</p><p><strong>lvconvert</strong> [<strong>--type</strong> <strong></strong><em>cache</em>[<strong></strong><em>-pool</em>]|<strong>--cache</strong>] [<strong>--cachepool</strong> <em>CachePoolLV</em>{<em>Name</em>|<em>Path</em>}] [<strong>-c</strong>|<strong>--chunksize</strong> <em>ChunkSize</em>[<em>bBsSkKmMgG</em>]] [<strong>--cachemode</strong> {<em>writeback</em>|<em>writethrough</em>}] [{<strong>--poolmetadata</strong> <em>CachePoolMetadataLogicalVolume</em>{<em>Name</em>|<em>Path</em>} | <strong>--poolmetadatasize</strong> <em>CachePoolMetadataSize</em>[<em>bBsSkKmMgG</em>]}] [<strong>--poolmetadataspare</strong> {<em>y</em>|<em>n</em>}] <em>LogicalVolume</em>{<em>Name</em>|<em>Path</em>} [<em>PhysicalVolume</em>[<em>Path</em>][<em>:PE</em>[<em>-PE</em>]]...] [<strong>--commandprofile</strong> <em>ProfileName</em>] [<strong>-h</strong>|<strong>-?</strong>|<strong>--help</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>--version</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>lvconvert is used to change the segment type (i.e. linear, mirror, etc) or characteristics of a logical volume.  For example, it can add or remove the redundant images of a logical volume, change the log type of a mirror, or designate a logical volume as a snapshot repository.</p><p>If the conversion requires allocation of physical extents (for example, when converting from linear to mirror) and you specify one or more PhysicalVolumes (optionally with ranges of physical extents), allocation of physical extents will be restricted to these physical extents.  If the conversion frees physical extents (for example, when converting from a mirror to a linear, or reducing mirror legs) and you specify one or more PhysicalVolumes, the freed extents come first from the specified PhysicalVolumes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>See <a href="../man8/lvm.8.html"><strong>lvm</strong>(8)</a> for common options.</p><p>Exactly one of <strong>--cache</strong>, <strong>--corelog</strong>, <strong>--merge</strong>, <strong>--mirrorlog</strong>, <strong>--mirrors</strong>, <strong>--repair</strong>, <strong>--replace</strong>, <strong>--splitsnapshot</strong>, <strong>--snapshot</strong>, <strong>--splitmirrors</strong>, <strong>--thin</strong> or <strong>--type</strong> arguments is required.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong>, <strong>--background</strong></p>
  </dt>
  <dd>
    <p>Run the daemon in the background.</p>
  </dd>
  <dt>
    <p><strong>--cache</strong>, <strong>--type</strong><em>cache</em></p>
  </dt>
  <dd>
    <p>Converts logical volume to a cached LV with the use of cache pool specified with <strong>--cachepool</strong>. For more information on cache pool LVs and cache LVs, see <strong>lvmcache</strong>(8).</p>
  </dd>
  <dt>
    <p><strong>--cachepool</strong> <strong></strong><em>CachePoolLV</em></p>
  </dt>
  <dd>
    <p>This argument is necessary when converting a logical volume to a cache LV. For more information on cache pool LVs and cache LVs, see <strong>lvmcache</strong>(8).</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--mirrors</strong> <strong></strong><em>Mirrors</em></p>
  </dt>
  <dd>
    <p>Specifies the degree of the mirror you wish to create. For example, "<strong>-m 1</strong>" would convert the original logical volume to a mirror volume with 2-sides; that is, a linear volume plus one copy.  There are two implementations of mirroring which correspond to the "<em>raid1</em>" and "<em>mirror</em>" segment types.  The default mirroring segment type is "<em>raid1</em>".  If the legacy "<em>mirror</em>" segment type is desired, the <strong>--type</strong> argument must be used to explicitly select the desired type.  The <strong>--mirrorlog</strong> and <strong>--corelog</strong> options below are only relevant to the legacy "<em>mirror</em>" segment type.</p>
  </dd>
  <dt>
    <p><em></em><strong>--mirrorlog</strong> {<em>disk</em>|<em>core</em>|<em>mirrored</em>}</p>
  </dt>
  <dd>
    <p>Specifies the type of log to use. The default is <em>disk</em>, which is persistent and requires a small amount of storage space, usually on a separate device from the data being mirrored. <em>Core</em> may be useful for short-lived mirrors: It means the mirror is regenerated by copying the data from the first device again every time the device is activated - perhaps, for example, after every reboot. Using <em>mirrored</em> will create a persistent log that is itself mirrored.</p>
  </dd>
  <dt>
    <p><strong>--corelog</strong></p>
  </dt>
  <dd>
    <p>The optional argument <strong>--corelog</strong> is the same as specifying <strong>--mirrorlog</strong> <em>core</em>.</p>
  </dd>
  <dt>
    <p><strong>-R</strong>, <strong>--regionsize</strong> <strong></strong><em>MirrorLogRegionSize</em></p>
  </dt>
  <dd>
    <p>A mirror is divided into regions of this size (in MB), and the mirror log uses this granularity to track which regions are in sync.</p>
  </dd>
  <dt>
    <p><strong>--type </strong><em>SegmentType</em></p>
  </dt>
  <dd>
    <p>Used to convert a logical volume to another segment type, like <em>cache</em>, <em>cache-pool</em>, <em>raid1</em>, <em>snapshot</em>, <em>thin</em>, or <em>thin-pool</em>. When converting a logical volume to a cache LV, the <strong>--cachepool</strong> argument is required. When converting a logical volume to a thin LV, the <strong>--thinpool</strong> argument is required. See <a href="../man7/lvmcache.7.html"><strong>lvmcache</strong>(7)</a> for more info about caching support and <a href="../man7/lvmthin.7.html"><strong>lvmthin</strong>(7)</a> for thin provisioning support.</p>
  </dd>
  <dt>
    <p><strong>-i</strong>, <strong>--interval</strong> <strong></strong><em>Seconds</em></p>
  </dt>
  <dd>
    <p>Report progress as a percentage at regular intervals.</p>
  </dd>
  <dt>
    <p><strong>--noudevsync</strong></p>
  </dt>
  <dd>
    <p>Disables udev synchronisation. The process will not wait for notification from udev. It will continue irrespective of any possible udev processing in the background.  You should only use this if udev is not running or has rules that ignore the devices LVM2 creates.</p>
  </dd>
  <dt>
    <p><strong>--splitmirrors </strong><em>Images</em></p>
  </dt>
  <dd>
    <p>The number of redundant <em>Images</em> of a mirror to be split off and used to form a new logical volume.  A name must be supplied for the newly-split-off logical volume using the <strong>--name</strong> argument, unless the <strong>--trackchanges</strong> argument is given.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--name</strong><em>Name</em></p>
  </dt>
  <dd>
    <p>The name to apply to a logical volume which has been split off from a mirror logical volume.</p>
  </dd>
  <dt>
    <p><strong>--trackchanges</strong></p>
  </dt>
  <dd>
    <p>Used with <strong>--splitmirrors</strong> on a raid1 device, this tracks changes so that the read-only detached image can be merged efficiently back into the mirror later. Only the regions of the detached device where the data changed get resynchronized.</p><p>Please note that this feature is only supported with the new md-based mirror implementation and not with the original device-mapper mirror implementation.</p>
  </dd>
  <dt>
    <p><strong>--splitsnapshot</strong></p>
  </dt>
  <dd>
    <p>Separates <em>SnapshotLogicalVolume</em> from its origin. The volume that is split off contains the chunks that differ from the origin along with the metadata describing them.  This volume can be wiped and then destroyed with lvremove. The inverse of <strong>--snapshot</strong>.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--snapshot</strong>, <strong>--type</strong><em>snapshot</em></p>
  </dt>
  <dd>
    <p>Recreates a snapshot from constituent logical volumes (or copies of them) after having been separated using <strong>--splitsnapshot</strong>. For this to work correctly, no changes may be made to the contents of either volume after the split.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--chunksize</strong> <strong></strong><em>ChunkSize</em>[<strong></strong><em>bBsSkKmMgG</em>]</p>
  </dt>
  <dd>
    <p>Gives the size of chunk for snapshot, cache pool and thin pool logical volumes. Default unit is in kilobytes.</p><p>For snapshots the value must be power of 2 between 4KiB and 512KiB and the default value is 4.</p><p>For cache pools the value must be between 32KiB and 1GiB and the default value is 64.</p><p>For thin pools the value must be between 64KiB and 1GiB and the default value starts with 64 and scales up to fit the pool metadata size within 128MiB, if the pool metadata size is not specified. The value must be a multiple of 64KiB. (Early kernel support until thin target version 1.4 required the value to be a power of 2.  Discards weren't supported for non-power of 2 values until thin target version 1.5.)</p>
  </dd>
  <dt>
    <p><strong>--discards</strong> {<strong></strong><em>ignore</em>|<strong></strong><em>nopassdown</em>|<strong></strong><em>passdown</em>}</p>
  </dt>
  <dd>
    <p>Specifies whether or not discards will be processed by the thin layer in the kernel and passed down to the Physical Volume. Default is <em>passdown</em>.</p>
  </dd>
  <dt>
    <p><strong>-Z</strong>, <strong>--zero</strong> {<strong></strong><em>y</em>|<strong></strong><em>n</em>}</p>
  </dt>
  <dd>
    <p>Controls zeroing of the first 4KiB of data in the snapshot. If the volume is read-only the snapshot will not be zeroed. For thin pool volumes it controls zeroing of provisioned blocks. Note: Provisioning of large zeroed chunks negatively impacts performance.</p>
  </dd>
  <dt>
    <p><strong>--merge</strong></p>
  </dt>
  <dd>
    <p>Merges a snapshot into its origin volume or merges a raid1 image that has been split from its mirror with <strong>--trackchanges</strong> back into its mirror.</p><p>To check if your kernel supports the snapshot merge feature, look for 'snapshot-merge' in the output of <strong>dmsetup targets</strong>.  If both the origin and snapshot volume are not open the merge will start immediately.  Otherwise, the merge will start the first time either the origin or snapshot are activated and both are closed. Merging a snapshot into an origin that cannot be closed, for example a root filesystem, is deferred until the next time the origin volume is activated. When merging starts, the resulting logical volume will have the origin's name, minor number and UUID.  While the merge is in progress, reads or writes to the origin appear as they were directed to the snapshot being merged.  When the merge finishes, the merged snapshot is removed.  Multiple snapshots may be specified on the commandline or a @tag may be used to specify multiple snapshots be merged to their respective origin.</p>
  </dd>
  <dt>
    <p><strong>--originname </strong><em>NewExternalOriginVolumeName</em><strong></strong></p>
  </dt>
  <dd>
    <p>The new name for original logical volume, which becomes external origin volume for a thin logical volume that will use given <strong>--thinpool</strong>.</p><p>Without this option a default name of "lvol&lt;n&gt;" will be generated where &lt;n&gt; is the LVM internal number of the logical volume. This volume will be read-only and cannot be further modified as long, as it is being used as the external origin.</p>
  </dd>
  <dt>
    <p><strong>--poolmetadata</strong> <strong></strong><em>ThinPoolMetadataLogicalVolume</em>{<strong></strong><em>Name</em>|<strong></strong><em>Path</em>}</p>
  </dt>
  <dd>
    <p>Specifies cache or thin pool metadata logical volume. The size should be in between 2MiB and 16GiB. Cache pool is specified with the option <strong>--cachepool</strong>. Thin pool is specified with the option <strong>--thinpool</strong>. When the specified pool already exists, the pool's metadata volume will be swapped with the given LV. Pool properties (like chunk size, discards or zero) are preserved by default in this case. It can be useful for pool metadata repair or its offline resize, since the metadata volume is available as regular volume for a user with thin provisioning tools <a href="../man8/cache_dump.8.html"><strong>cache_dump</strong>(8)</a>, <a href="../man8/cache_repair.8.html"><strong>cache_repair</strong>(8)</a>, <a href="../man8/cache_restore.8.html"><strong>cache_restore</strong>(8)</a>, <a href="../man8/thin_dump.8.html"><strong>thin_dump</strong>(8)</a>, <a href="../man8/thin_repair.8.html"><strong>thin_repair</strong>(8)</a> and <a href="../man8/thin_restore.8.html"><strong>thin_restore</strong>(8)</a>.</p>
  </dd>
  <dt>
    <p><strong>--poolmetadatasize</strong> <strong></strong><em>ThinPoolMetadataSize</em>[<strong></strong><em>bBsSkKmMgG</em>]</p>
  </dt>
  <dd>
    <p>Sets the size of thin pool's metadata logical volume, if the pool metadata volume is undefined. Thin pool is specified with the option <strong>--thinpool</strong>. Supported value is in the range between 2MiB and 16GiB. The default value is estimated with this formula (Pool_LV_size / Pool_LV_chunk_size * 64b). Default unit is megabytes.</p>
  </dd>
  <dt>
    <p><em></em><strong>--poolmetadataspare</strong> {<em>y</em>|<em>n</em>}</p>
  </dt>
  <dd>
    <p>Controls creation and maintanence of pool metadata spare logical volume that will be used for automated pool recovery. Only one such volume is maintained within a volume group with the size of the biggest pool metadata volume. Default is <em>y</em>es.</p>
  </dd>
  <dt>
    <p><em></em><strong>-r</strong>, <em></em><strong>--readahead</strong> {<em>ReadAheadSectors</em>|<em>auto</em>|<em>none</em>}</p>
  </dt>
  <dd>
    <p>Sets read ahead sector count of thin pool metadata logical volume. The default value is "<em>auto</em>" which allows the kernel to choose a suitable value automatically. "<em>None</em>" is equivalent to specifying zero.</p>
  </dd>
  <dt>
    <p><strong>--repair</strong></p>
  </dt>
  <dd>
    <p>Repair a mirror after suffering a disk failure or try to fix thin pool metadata.</p><p>The mirror will be brought back into a consistent state. By default, the original number of mirrors will be restored if possible.  Specify <strong>-y</strong> on the command line to skip the prompts. Use <strong>-f</strong> if you do not want any replacement. Additionally, you may use <strong>--use-policies</strong> to use the device replacement policy specified in <a href="../man5/lvm.conf.5.html"><strong>lvm.conf</strong>(5)</a>, viz. activation/mirror_log_fault_policy or activation/mirror_device_fault_policy.</p><p>Thin pool repair automates the use of <a href="../man8/thin_repair.8.html"><strong>thin_repair</strong>(8)</a> tool. Only inactive thin pool volumes can be repaired. There is no validation of metadata between kernel and lvm2. This requires further manual work. After successfull repair the old unmodified metadata are still available in "&lt;pool&gt;_meta&lt;n&gt;" LV.</p>
  </dd>
  <dt>
    <p><strong>--replace </strong><em>PhysicalVolume</em></p>
  </dt>
  <dd>
    <p>Remove the specified device (<em>PhysicalVolume</em>) and replace it with one that is available in the volume group or from the specific list provided. This option is only available to RAID segment types (e.g. <em>raid1</em>, <em>raid5</em>, etc).</p>
  </dd>
  <dt>
    <p><strong>--stripes</strong> <strong></strong><em>Stripes</em></p>
  </dt>
  <dd>
    <p>Gives the number of stripes. This is equal to the number of physical volumes to scatter the logical volume. This does not apply to existing allocated space, only newly allocated space can be striped.</p>
  </dd>
  <dt>
    <p><strong>-I</strong>, <strong>--stripesize</strong> <strong></strong><em>StripeSize</em></p>
  </dt>
  <dd>
    <p>Gives the number of kilobytes for the granularity of the stripes.</p><p>StripeSize must be 2^n (n = 2 to 9) for metadata in LVM1 format. For metadata in LVM2 format, the stripe size may be a larger power of 2 but must not exceed the physical extent size.</p>
  </dd>
  <dt>
    <p><em></em><strong>-T</strong>, <em></em><strong>--thin</strong>, <em></em><strong>--type</strong> <em>thin</em></p>
  </dt>
  <dd>
    <p>Converts the logical volume into a thin logical volume of the thin pool specified with <strong>--thinpool</strong>. The original logical volume <em>ExternalOriginLogicalVolume</em> is renamed into a new read-only logical volume. For the non-default name for this volume use <strong>--originname</strong>. The volume cannot be further modified as long as it is used as an external origin volume for unprovisioned areas of any thin logical volume.</p>
  </dd>
  <dt>
    <p><em></em><strong>--thinpool</strong> <em>ThinPoolLogicalVolume</em>{<em>Name</em>|<em>Path</em>}</p>
  </dt>
  <dd>
    <p>Specifies or converts logical volume into a thin pool's data volume. Content of converted volume is lost. Thin pool's metadata logical volume can be specified with the option <strong>--poolmetadata</strong> or allocated with <strong>--poolmetadatasize</strong>. See <a href="../man7/lvmthin.7.html"><strong>lvmthin</strong>(7)</a> for more info about thin provisioning support.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Examples</h2>
        <div class="sectioncontent">
<p>Converts the linear logical volume "vg00/lvol1" to a two-way mirror logical volume:</p><p><strong>lvconvert -m1 vg00/lvol1</strong></p><p>Converts the linear logical volume "vg00/lvol1" to a two-way RAID1 logical volume:</p><p><strong>lvconvert --type raid1 -m1 vg00/lvol1</strong></p><p>Converts a mirror with a disk log to a mirror with an in-memory log:</p><p><strong>lvconvert --mirrorlog core vg00/lvol1</strong></p><p>Converts a mirror with an in-memory log to a mirror with a disk log:</p><p><strong>lvconvert --mirrorlog disk vg00/lvol1</strong></p><p>Converts a mirror logical volume to a linear logical volume:</p><p><strong>lvconvert -m0 vg00/lvol1</strong></p><p>Converts a mirror logical volume to a RAID1 logical volume with the same number of images:</p><p><strong>lvconvert --type raid1 vg00/mirror_lv</strong></p><p>Converts logical volume "vg00/lvol2" to snapshot of original volume "vg00/lvol1":</p><p><strong>lvconvert -s vg00/lvol1 vg00/lvol2</strong></p><p>Converts linear logical volume "vg00/lvol1" to a two-way mirror, using physical extents /dev/sda:0-15 and /dev/sdb:0-15 for allocation of new extents:</p><p><strong>lvconvert -m1 vg00/lvol1 /dev/sda:0-15 /dev/sdb:0-15</strong></p><p>Converts mirror logical volume "vg00/lvmirror1" to linear, freeing physical extents from /dev/sda:</p><p><strong>lvconvert -m0 vg00/lvmirror1 /dev/sda</strong></p><p>Merges "vg00/lvol1_snap" into its origin:</p><p><strong>lvconvert --merge vg00/lvol1_snap</strong></p><p>If "vg00/lvol1", "vg00/lvol2" and "vg00/lvol3" are all tagged with "some_tag" each snapshot logical volume will be merged serially, e.g.: "vg00/lvol1", then "vg00/lvol2", then "vg00/lvol3". If --background were used it would start all snapshot logical volume merges in parallel.</p><p><strong>lvconvert --merge @some_tag</strong></p><p>Extracts one image from the mirror, making it a new logical volume named "lv_split".  The mirror the image is extracted from is reduced accordingly. If it was a 2-way mirror (created with '-m 1'), then the resulting original volume will be linear.</p><p><strong>lvconvert --splitmirrors 1 --name lv_split vg00/lvmirror1</strong></p><p>A mirrored logical volume created with --type raid1 can use the --trackchanges argument when splitting off an image. Detach one image from the mirrored logical volume lv_raid1 as a separate read-only device and track the changes made to the mirror while it is detached. The split-off device has a name of the form lv_raid1_rimage_N, where N is a number, and it cannot be renamed.</p><p><strong>lvconvert --splitmirrors 1 --trackchanges vg00/lv_raid1</strong></p><p>Merge an image that was detached temporarily from its mirror with the --trackchanges argument back into its original mirror and bring its contents back up-to-date.</p><p><strong>lvconvert --merge vg00/lv_raid1_rimage_1</strong></p><p>Replaces the physical volume "/dev/sdb1" in the RAID1 logical volume "my_raid1" with the specified physical volume "/dev/sdf1".  Had the argument "/dev/sdf1" been left out, lvconvert would attempt to find a suitable device from those available in the volume group.</p><p><strong>lvconvert --replace /dev/sdb1 vg00/my_raid1 /dev/sdf1</strong></p><p>Convert the logical volume "vg00/lvpool" into a thin pool with chunk size 128KiB and convert "vg00/lv1" into a thin volume using this pool. Original "vg00/lv1" is used as an external read-only origin, where all writes to such volume are stored in the "vg00/lvpool".</p><p><strong>lvconvert --type thin --thinpool vg00/lvpool -c 128 lv1</strong></p><p>Convert the logical volume "vg00/origin" into a thin volume from the thin pool "vg00/lvpool". This thin volume will use "vg00/origin" as an external origin volume for unprovisioned areas in this volume. For the read-only external origin use the new name "vg00/external".</p><p><strong>lvconvert -T --thinpool vg00/lvpool --originname external vg00/origin</strong></p><p>Convert an existing logical volume to a cache pool LV using the given cache metadata LV.</p><p><strong>lvconvert --type cache-pool --poolmetadata vg00/lvx_meta vg00/lvx_data</strong></p><p><strong>lvrename vg00/lvx_data vg00/lvx_cachepool</strong></p><p>Convert an existing logical volume to a cache LV using the given cache pool LV.</p><p><strong>lvconvert --cache --cachepool vg00/lvx_cachepool vg00/lvx</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lvconvert&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/lvm.8.html"><strong>lvm</strong>(8)</a>, <a href="../man5/lvm.conf.5.html"><strong>lvm.conf</strong>(5)</a>, <a href="../man7/lvmcache.7.html"><strong>lvmcache</strong>(7)</a>, <a href="../man7/lvmthin.7.html"><strong>lvmthin</strong>(7)</a>, <a href="../man8/lvdisplay.8.html"><strong>lvdisplay</strong>(8)</a>, <a href="../man8/lvextend.8.html"><strong>lvextend</strong>(8)</a>, <a href="../man8/lvreduce.8.html"><strong>lvreduce</strong>(8)</a>, <a href="../man8/lvremove.8.html"><strong>lvremove</strong>(8)</a>, <a href="../man8/lvrename.8.html"><strong>lvrename</strong>(8)</a>, <a href="../man8/lvscan.8.html"><strong>lvscan</strong>(8)</a>, <a href="../man8/vgcreate.8.html"><strong>vgcreate</strong>(8)</a>, <a href="../man8/cache_dump.8.html"><strong>cache_dump</strong>(8)</a>, <a href="../man8/cache_repair.8.html"><strong>cache_repair</strong>(8)</a>, <a href="../man8/cache_restore.8.html"><strong>cache_restore</strong>(8)</a>, <a href="../man8/thin_dump.8.html"><strong>thin_dump</strong>(8)</a>, <a href="../man8/thin_repair.8.html"><strong>thin_repair</strong>(8)</a>, <a href="../man8/thin_restore.8.html"><strong>thin_restore</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lvchange.8.html"><span aria-hidden="true">&larr;</span> lvchange.8: Lvchange  change attributes of a logical volume</a></li>
   <li class="next"><a href="lvcreate.8.html">lvcreate.8: Create a logical volume in an existing volume group <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
