<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>snstore: Distribute articles  snstore - store articles locally</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distribute articles  snstore - store articles locally">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="snstore (8) manual">
  <meta name="twitter:description" content="Distribute articles  snstore - store articles locally">
  <meta name="twitter:image" content="https://www.carta.tech/images/sn-snstore-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/snstore.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="snstore (8) manual" />
  <meta property="og:description" content="Distribute articles  snstore - store articles locally" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sn-snstore-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">snstore<small> (8)</small></h1>
        <p class="lead">Distribute articles  snstore - store articles locally</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/snstore.8.html">
      <span itemprop="name">snstore: Distribute articles  snstore - store articles locally</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sn/">
      <span itemprop="name">sn</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/snstore.8.html">
      <span itemprop="name">snstore: Distribute articles  snstore - store articles locally</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>snsend</strong> [-<em>rvcna</em>]</p><p><strong>snstore</strong> [-<em>rvcna</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>snsend</strong> reads articles from descriptor 0 and distributes each one into each newsgroup they are posted to, like <strong>inews</strong>. <strong>snstore</strong> does the same but stores them all locally. The input articles are expected to be in wire format (lines end with CRLF, leading dots are doubled, and articles are terminated with a lone dot).</p><p>Control messages are not treated specially.</p><p>The newsgroups list is taken from the <strong>X-sn-Newsgroups</strong> field if it exists; otherwise it is taken from the <strong>Newsgroups</strong> field, which must exist or the article will be <strong>junked</strong>. All fields whose names begin with <strong>X-sn-</strong> (case insensitive) are always removed.</p><p>If <strong>Date</strong> or <strong>Message-ID</strong> are not present, these are created. The local hosts name is prepended to the <strong>Path</strong> field.</p><p>If an article is to be <strong>junked</strong>, it is sent to the junk newsgroup if it exists, otherwise it is discarded.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ROUTING</h2>
        <div class="sectioncontent">
<p>This applies only to <strong>snsend</strong>. <strong>snstore</strong> does not route; it treats all <em>news.groups</em> as though they were local (see <strong>Nonexistent newsgroup</strong> and <strong>Local newsgroup</strong> below). If any of the following fails, <strong>snsend</strong> aborts:</p><p>For each <em>news.group</em> an article is (cross-) posted to, <strong>snsend</strong> routes the article as follows, aborting if any action fails:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Nonexistent newsgroup</strong></p>
  </dt>
  <dd>
    <p>If /var/spool/sn/<em>news.group</em> is not a directory, <strong>snsend</strong> ignores this <em>news.group</em>. If all <em>news.group</em>s are thus ignored, the article is <strong>junked</strong>.</p>
  </dd>
  <dt>
    <p><strong>Global newsgroup</strong></p>
  </dt>
  <dd>
    <p>If /var/spool/sn/<em>news.group</em>/.outgoing is a (symlink to a) directory, <strong>snsend</strong> stores the article into a file in that directory, if the same article does not already exist there (so <em>news.group</em>'s upstream feed doesn't get multiple copies of the same article.) Such in-transit article files are given names that begin with a <strong>$</strong> sign.</p>
  </dd>
  <dt>
    <p><strong>Local processing via script</strong></p>
  </dt>
  <dd>
    <p>Otherwise if /var/spool/sn/<em>news.group</em>/.outgoing is a regular file, it is taken to be a script or program and is run with the article available on its input.  See /var/spool/sn/<strong>dot-outgoing.ex</strong>.</p>
  </dd>
  <dt>
    <p><strong>Local processing via fifo</strong></p>
  </dt>
  <dd>
    <p>Otherwise if /var/spool/sn/<em>news.group</em>/.outgoing is a fifo, the article is written into it.  It is an error if nothing is reading the fifo.</p>
  </dd>
  <dt>
    <p><strong>Local newsgroup</strong></p>
  </dt>
  <dd>
    <p>Otherwise if /var/spool/sn/<em>news.group</em>/.outgoing does not exist, the article is stored into <em>news.group</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Options apply to <strong>snsend</strong> and <strong>snstore</strong> equally.</p>
<dl class='dl-vertical'>
  <dt>
    <p>-<strong>r</strong></p>
  </dt>
  <dd>
    <p>The article stream is in rnews batch format, rather than wire format.  Only the <strong>#! rnews</strong> form is understood.</p>
  </dd>
  <dt>
    <p>-<strong>c</strong></p>
  </dt>
  <dd>
    <p>If an article already exists in the local newsgroup it is destined for, don't store it there.  For <strong>snsend</strong>, this option has no effect on newsgroups that are not local.</p>
  </dd>
  <dt>
    <p>-<strong>a</strong></p>
  </dt>
  <dd>
    <p>(Aliases not allowed.) When storing to multiple local newsgroups, do not alias subsequent copies to the first, instead, make a copy.  Aliasing saves disk space, but when the original expires, so do all aliases to it. This option has no effect on newsgroups that are not local.</p>
  </dd>
  <dt>
    <p>-<strong>n</strong></p>
  </dt>
  <dd>
    <p>Don't actually do anything with the article, just dump it back onto descriptor 1.</p>
  </dd>
  <dt>
    <p>-<strong>v</strong></p>
  </dt>
  <dd>
    <p>For each article stored in each newsgroup, output a line to descriptor 1 similar to what <strong>snscan</strong> would emit, except that for non-local newsgroups the serial number will always be 0.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>/var/spool/sn/<em>news.group.name</em>/</p>
  </dt>
  <dd>
    <p>This includes /var/spool/sn/<strong>=junk</strong> newsgroup if it exists. Each such directory represents the newsgroup of the same name, and articles are stored in files <strong>1</strong>, <strong>2</strong>, <strong>3</strong>, etc. beneath it.  Each such file contains 1 or more articles. This is contrary to the traditional form of /var/spool/sn/<em>news</em>/<em>group</em>/<em>name</em>. <em>news.group.name</em>.</p>
  </dd>
  <dt>
    <p>/var/spool/sn/<em>news.group</em>/.outgoing</p>
  </dt>
  <dd>
    <p>See also <strong>ROUTING</strong> above.  The presence of this directory indicates that <em>news.group</em> is global, and articles posted to <em>news.group</em> end up here in files named <strong>$</strong>*. These files are linked in already complete, so all such files are ready to be uploaded.</p>
  </dd>
  <dt>
    <p>/var/spool/sn/<em>news.group</em>/.compress</p>
  </dt>
  <dd>
    <p>If this file exists, articles stored in <em>news.group</em> are candidates for compression.  The content of the file is a number representing a minimum article body size below which compression won't be applied.  If the file is empty this threshold defaults to 1024 bytes.</p>
  </dd>
  <dt>
    <p>/var/spool/sn/<strong>.me</strong></p>
  </dt>
  <dd>
    <p>If this file exists, it's contents are taken to be the local hosts name for purposes of the <strong>Path</strong> field.  Otherwise the name is obtained from <a href="../man2/gethostname.2.html"><strong>gethostname</strong>(2)</a>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>See also /usr/sbin/<strong>dot-outgoing.ex</strong> for other variables exported when <strong>snsend</strong> invokes a .outgoing program.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>SNROOT</strong></p>
  </dt>
  <dd>
    <p>If this is set, its value is used in place of /var/spool/sn.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT CODES</h2>
        <div class="sectioncontent">
<p><strong>snsend</strong> and <strong>snstore</strong> exit 0 on success, 1 on usage error, 2 on system error, 3 on article format error, and 9 if /var/spool/sn/<em>news.group</em>/.outgoing (<strong>snsend</strong> only) exits with other than 0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO snstore&hellip;</h2>
        <div class="sectioncontent">
<p>/usr/sbin/dot-outgoing.ex, <strong>snscan</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="snsplit.8.html"><span aria-hidden="true">&larr;</span> snsplit.8: Split an article stream into individual articles</a></li>
   <li class="next"><a href="socklist.8.html">socklist.8: Display list of open sockets <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
