<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>atmtcp: Set up atm over tcp connections</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set up atm over tcp connections">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="atmtcp (8) manual">
  <meta name="twitter:description" content="Set up atm over tcp connections">
  <meta name="twitter:image" content="https://www.carta.tech/images/atm-tools-atmtcp-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/atmtcp.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="atmtcp (8) manual" />
  <meta property="og:description" content="Set up atm over tcp connections" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/atm-tools-atmtcp-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">atmtcp<small> (8)</small></h1>
        <p class="lead">Set up atm over tcp connections</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/atmtcp.8.html">
      <span itemprop="name">atmtcp: Set up atm over tcp connections</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/atm-tools/">
      <span itemprop="name">atm-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/atmtcp.8.html">
      <span itemprop="name">atmtcp: Set up atm over tcp connections</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>atmtcp</strong> [<strong>-d</strong>] [<strong>-v</strong>] <em>command</em> <strong>...</strong></p><p><strong>atmtcp</strong> <strong>-V</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The main purpose of <strong>atmtcp</strong> is to establish TCP connections and to configure them as virtual ATM devices. Such pairs of "ATM over TCP" devices are connected as if they were real ATM adapters linked by a cable or fiber, i.e. SDUs sent on a given VPI/VCI are received at the other end on the same VPI/VCI.</p><p>Virtual interfaces and ATM over TCP connections are called <em>links</em>. Other link types supported by <strong>atmtcp</strong> are real interfaces, files for recording and playback of ATM traffic, and printing a hex dump of the PDU content on standard output. Any pair of such links can be connected with <strong>atmtcp</strong>.  If additional links are attached to such a connection, they send to all other links, except to the first link and the respective sender, and they receive from all other links.</p><p><strong>atmtcp</strong> can operate with two types of virtual interfaces: ephemeral or persistent. By default, <strong>atmtcp</strong> interfaces are ephemeral. When the <strong>atmtcp</strong> process that created an interface terminates, the virtual ATM device is removed as soon all VCs are closed. However, if the interface was previously created as a persistent interface, only the communication stops, but the interface and all VCs on it remain intact. Attempts to send data on an <strong>atmtcp</strong> interface in this state fail silently, i.e. the interface behaves just like a real ATM interface without a wire. A new <strong>atmtcp</strong> process can then attach to the interface and resume operation. Persistent interfaces need to be removed explicitly.</p><p>If <strong>atmtcp</strong> has any readable links after processing the command line, it enters a loop to perform the data forwarding. If no readable links have been specified, <strong>atmtcp</strong> terminates after processing the command line. If any setup operation fails, <strong>atmtcp</strong> terminates at this point and does not attempt to cancel previous operations (e.g. creation of permanent interfaces).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-d</strong>
  </dt>
  <dd>
    <p>print detailed progress information on standard error.</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>print some progress information on standard error.</p>
  </dd>
  <dt>
    <strong>-V</strong>
  </dt>
  <dd>
    <p>print version number of <strong>atmtcp</strong> on standard output and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>create</strong>
  </dt>
  <dd>
    <p>create a persistent interface. If no interface number is specified, <strong>atmtcp</strong> uses the default value 0.</p>
  </dd>
  <dt>
    <strong>remove</strong>
  </dt>
  <dd>
    <p>remove a persistent interface. If the interface is still in use, it is marked as ephemeral and will be removed as soon as all VCs are closed. If no interface number is specified, <strong>atmtcp</strong> uses the default value 0.</p>
  </dd>
  <dt>
    <strong>virtual</strong>
  </dt>
  <dd>
    <p>link to the corresponding virtual (ATM over TCP) interface. If no interface number is specified, the kernel assigns the first available number.</p>
  </dd>
  <dt>
    <strong>real</strong>
  </dt>
  <dd>
    <p>link to the corresponding ATM interface. If no interface number is specified, <strong>atmtcp</strong> uses the default value 0. If a link requests that a VC be opened, <strong>atmtcp</strong> will attempt to open a VC with the specified QoS parameters on that interface. If the operation succeeds, data can be sent or received on that VC. If the operation fails, an error code is returned to the requester. Note that only data arriving on open VCs can be received and that a <em>real</em> ATM interface never initiates a connection. <strong>atmtcp</strong> can share ATM interfaces with other applications.</p>
  </dd>
  <dt>
    <strong>connect</strong>
  </dt>
  <dd>
    <p>connect to an instance of <strong>atmtcp</strong> running on the specified host. If the port argument is omitted, <strong>atmtcp</strong> uses the default port 2812.</p>
  </dd>
  <dt>
    <strong>switch</strong>
  </dt>
  <dd>
    <p>like <strong>connect</strong>, but connects to an ATM over TCP "switch" and selects the specified virtual line.</p>
  </dd>
  <dt>
    <strong>listen</strong>
  </dt>
  <dd>
    <p>listen for an incoming ATM over TCP connection. If the port argument is omitted, <strong>atmtcp</strong> uses the default port 2812. <strong>atmtcp</strong> waits until the connection is established. Only one connection is accepted per <strong>listen</strong> command.</p>
  </dd>
  <dt>
    <strong>listen-bg</strong>
  </dt>
  <dd>
    <p>like <strong>listen</strong>, but run in background after beginning to listen.</p>
  </dd>
  <dt>
    <strong>read</strong>
  </dt>
  <dd>
    <p>play back all streams from the specified file. If a stream number is specified, only that stream is played back.</p>
  </dd>
  <dt>
    <strong>write</strong>
  </dt>
  <dd>
    <p>record the traffic of all links in the specified file. The PDUs from each link are stored in a stream with the same number as the link.</p>
  </dd>
  <dt>
    <strong>print</strong>
  </dt>
  <dd>
    <p>print a hex dump of the content of all received PDUs on standard output.</p>
  </dd>
  <dt>
    <strong>bg</strong>
  </dt>
  <dd>
    <p>continue to run in background (i.e. in a forked child process).</p>
  </dd>
  <dt>
    <strong>wait</strong>
  </dt>
  <dd>
    <p>wait for the specified number of seconds. If no time is specified, <strong>atmtcp</strong> waits for a newline on standard input.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p>Due to recent protocol changes, <strong>atmtcp</strong> is currently not compatible with the ATM over TCP "switch".</p><p>Only AAL SDUs are exchanged, no segmentation or reassembly is performed. That implies that using different AALs (e.g. AAL5 and AAL0) on either side will reveal limitations of this emulation.</p><p>The <strong>atmtcp</strong> process needs to run during the the whole lifetime of the connection.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Create a pair of virtual ATM over TCP interfaces on the local host and connect them:</p>
<pre>
  # session A
  atmtcp virtual listen
  # session B
  atmtcp virtual connect localhost

</pre>
<p>Create virtual interface 1, connect it to real ATM interface 0, then start <strong>atmsigd</strong> on the virtual interface, and log all the traffic in a file:</p>
<pre>
  atmtcp virtual 1 real 0 write /tmp/log
  atmsigd 1.0.5

</pre>
<p>Take the previously created file and examine the traffic sent from <strong>atmsigd</strong> using <strong>saaldump</strong>:</p>
<pre>
  # session A
  atmtcp virtual 1 read /tmp/log 0 wait
  # session B
  saaldump 1.0.5
  # press [Enter] in session A

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Werner Almesberger, EPFL ICA &lt;Werner.Almesberger@epfl.ch&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO atmtcp&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/atmdiag.8.html"><strong>atmdiag</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="atmsigd.8.html"><span aria-hidden="true">&larr;</span> atmsigd.8: Atm signaling demon</a></li>
   <li class="next"><a href="atsa1.8.html">atsa1.8: Atsadc, atsa1, atsaftp, atsahttp  counter-collection <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
