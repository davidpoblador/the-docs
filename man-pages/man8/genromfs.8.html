<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>genromfs: Create a romfs image</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a romfs image">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="genromfs (8) manual">
  <meta name="twitter:description" content="Create a romfs image">
  <meta name="twitter:image" content="https://www.carta.tech/images/genromfs-genromfs-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/genromfs.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="genromfs (8) manual" />
  <meta property="og:description" content="Create a romfs image" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/genromfs-genromfs-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">genromfs<small> (8)</small></h1>
        <p class="lead">Create a romfs image</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/genromfs.8.html">
      <span itemprop="name">genromfs: Create a romfs image</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/genromfs/">
      <span itemprop="name">genromfs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/genromfs.8.html">
      <span itemprop="name">genromfs: Create a romfs image</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>genromfs</strong> <strong>-f device</strong> [ <strong>-d source</strong> ] [ <strong>-V label</strong> ] [ <strong>-a alignment</strong> ] [ <strong>-A alignment,pattern</strong> ] [ <strong>-x pattern</strong> ] [ <strong>-v</strong> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>genromfs</strong> is used to create a romfs file system image, usually directly on a block device, or for test purposes, in a plain file. It is the <em>mkfs</em> equivalent of other filesystems.</p><p><strong>genromfs</strong> will scan the current directory and its subdirectories, build a romfs image from the files found, and output it to the file or device you specified.</p><p>During scanning, it recognizes a special notation.  If a file begins with the @ sign (and is empty otherwise), it refers to a device special node in the format: <strong>@name,type,major,minor.</strong> type can be <em>b</em> for block devices, <em>c</em> for character devices, and <em>p</em> for fifos. The linux virtual console 1 can thus be included as a file with the name: <strong>@tty1,c,4,1</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-f</strong><em></em><strong>output</strong></p>
  </dt>
  <dd>
    <p>Specifies the file to output the image to. This option is required.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em></em><strong>source</strong></p>
  </dt>
  <dd>
    <p>Use the specified directory as the source, not the current directory.</p>
  </dd>
  <dt>
    <p><strong>-V</strong><em></em><strong>label</strong></p>
  </dt>
  <dd>
    <p>Build the image with the specified volume label.  Currently it is not used by the kernel, but it will be recorded in the image.</p>
  </dd>
  <dt>
    <p><strong>-a</strong><em></em><strong>alignment</strong></p>
  </dt>
  <dd>
    <p>Align regular files to a larger boundary. <strong>genromfs</strong> will align data of each regular file in the resulting image to the specified alignment, while keeping the image compatible with the original romfs definition (by adding pad bytes between last node before the file and file's header).  By default, <strong>genromfs</strong> will guarantee only an alignment of 16 bytes.</p>
  </dd>
  <dt>
    <p><strong>-A</strong><em></em><strong>alignment,pattern</strong></p>
  </dt>
  <dd>
    <p>Align objects matching shell wildcard pattern to alignment bytes. If one object matches more patterns, then the highest alignment is chosen. Alignment has to be a power of two. Patterns either don't contain any slashes, in which case files matching those patterns are matched in all directories, or start with a leading slash, in which case they are matched against absolute paths inside of the romfs filesystem (that is, as if you chrooted into the rom filesystem).</p>
  </dd>
  <dt>
    <p><strong>-x</strong><em></em><strong>pattern</strong></p>
  </dt>
  <dd>
    <p>Allow to exclude files that match a pattern. It's useful to exclude CVS directories and backup files (ending in a '~').</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose operation, <strong>genromfs</strong> will print each file which is included in the image, along with its offset.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
   genromfs -d root -f /dev/fd0 -V 'Secret labs install disk'
</pre>
<p>All files in the <em>root</em> directory will be written to <strong>/dev/fd0</strong> as a new romfs filesystem image.</p>
<pre>
<strong></strong>
   genromfs -d root -f /dev/fd0 -A 2048,/.. -A '4096,*.boot' -a 512 -V 'Bootable floppy'
</pre>
<p>Generate the image and place file data of all regular files on 512 bytes boundaries or on 4K boundaries, if they have the .boot extension. Additionally, align the romfs header of the '..' entry in the root directory on a 2K boundary.  Effectively, this makes sure that the romfs image uses the least possible space in the first 2048 bytes.</p><p>You can use the generated image (if you have the romfs module loaded, or compiled into the kernel) via:</p>
<pre>
<strong></strong>
   mount -t romfs /dev/fd0 /mnt
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was initially written by Christoph Lameter &lt;clameter@debian.org&gt;, for the Debian GNU/Linux system.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO genromfs&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/mkfs.8.html"><strong>mkfs</strong>(8)</a>, <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>, <strong>mkisofs</strong>(8)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="genrandom.8.html"><span aria-hidden="true">&larr;</span> genrandom.8: Generate a file containing random data</a></li>
   <li class="next"><a href="gensprep.8.html">gensprep.8: Compile stringprep data from files filtered by filterrfc3454.pl <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
