<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amd: Automatically mount file systems</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Automatically mount file systems">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amd (8) manual">
  <meta name="twitter:description" content="Automatically mount file systems">
  <meta name="twitter:image" content="https://www.carta.tech/images/am-utils-amd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/amd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amd (8) manual" />
  <meta property="og:description" content="Automatically mount file systems" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/am-utils-amd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amd<small> (8)</small></h1>
        <p class="lead">Automatically mount file systems</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amd.8.html">
      <span itemprop="name">amd: Automatically mount file systems</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/am-utils/">
      <span itemprop="name">am-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/amd.8.html">
      <span itemprop="name">amd: Automatically mount file systems</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>amd</strong> <strong>-H</strong></p><p><strong>amd</strong> [ <strong>-F</strong><em> conf_file</em> ]</p><p><strong>amd</strong> [ <strong>-nprvHS</strong> ] [ <strong>-a</strong><em> mount_point</em> ] [ <strong>-c</strong><em> duration</em> ] [ <strong>-d</strong><em> domain</em> ] [ <strong>-k</strong><em> kernel-arch</em> ] [ <strong>-l</strong><em> logfile</em> ] [ <strong>-o</strong><em> op_sys_ver</em> ] [ <strong>-t</strong><em> interval.interval</em> ] [ <strong>-w</strong><em> interval</em> ] [ <strong>-x</strong><em> log-option</em> ] [ <strong>-y</strong><em> YP-domain</em> ] [ <strong>-A</strong><em> arch</em> ] [ <strong>-C</strong><em> cluster-name</em> ] [ <strong>-D</strong><em> option</em> ] [ <strong>-F</strong><em> conf_file</em> ] [ <strong>-O</strong><em> op_sys_name</em> ] [ <strong>-T</strong><em> tag</em> ] [ <em>directory</em> <em>mapname</em> [<em> -map-options </em>] ] .\|.\|.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Amd</strong> is a daemon that automatically mounts filesystems whenever a file or directory within that filesystem is accessed. Filesystems are automatically unmounted when they appear to have become quiescent.</p><p><strong>Amd</strong> operates by attaching itself as an <small>NFS</small> server to each of the specified <em>directories</em><strong>.</strong> Lookups within the specified directories are handled by <strong>amd</strong>, which uses the map defined by <em>mapname</em> to determine how to resolve the lookup. Generally, this will be a host name, some filesystem information and some mount options for the given filesystem.</p><p>In the first form depicted above, <strong>amd</strong> will print a short help string.  In the second form, if no options are specified, or the <strong>-F</strong> is used, <strong>amd</strong> will read configuration parameters from the file <em>conf_file</em> which defaults to <strong>/etc/amd.conf</strong>. The last form is described below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong><em> temporary-directory</em></p>
  </dt>
  <dd>
    <p>Specify an alternative location for the real mount points. The default is <strong>/a</strong>.</p>
  </dd>
  <dt>
    <p><strong>-c</strong><em> duration</em></p>
  </dt>
  <dd>
    <p>Specify a <em>duration</em>, in seconds, that a looked up name remains cached when not in use.  The default is 5 minutes.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em> domain</em></p>
  </dt>
  <dd>
    <p>Specify the local domain name.  If this option is not given the domain name is determined from the hostname.</p>
  </dd>
  <dt>
    <p><strong>-k</strong><em> kernel-arch</em></p>
  </dt>
  <dd>
    <p>Specifies the kernel architecture.  This is used solely to set the ${karch} selector.</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em> logfile</em></p>
  </dt>
  <dd>
    <p>Specify a logfile in which to record mount and unmount events. If <em>logfile</em> is the string <strong>syslog</strong> then the log messages will be sent to the system log daemon by <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>. The default syslog facility used is LOG_DAEMON.  If you wish to change it, append its name to the log file name, delimited by a single colon.  For example, if <em>logfile</em> is the string <strong>syslog:local7</strong> then <strong>Amd</strong> will log messages via <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> using the LOG_LOCAL7 facility (if it exists on the system).</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Normalize hostnames. The name refereed to by ${rhost} is normalized relative to the host database before being used.  The effect is to translate aliases into ``official'' names.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em> op_sys_ver</em></p>
  </dt>
  <dd>
    <p>Override the compiled-in version number of the operating system.  Useful when the built in version is not desired for backward compatibility reasons. For example, if the build in version is ``2.5.1'', you can override it to ``5.5.1'', and use older maps that were written with the latter in mind.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Print PID. Outputs the process-id of <strong>amd</strong> to standard output where it can be saved into a file.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Restart existing mounts. <strong>Amd</strong> will scan the mount file table to determine which filesystems are currently mounted.  Whenever one of these would have been auto-mounted, <strong>amd</strong> <em>inherits</em> it.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em> timeout.retransmit</em></p>
  </dt>
  <dd>
    <p>Specify the NFS timeout <em>interval</em>, in tenths of a second, between NFS/RPC retries (for UDP only).  The default is 0.8 seconds.  The second value alters the retransmit counter, which defaults to 11 retransmissions.  Both of these values are used by the kernel to communicate with amd.  Useful defaults are supplied if either or both values are missing.</p><p>Amd relies on the kernel RPC retransmit mechanism to trigger mount retries. The values of these parameters change the overall retry interval.  Too long an interval gives poor interactive response; too short an interval causes excessive retries.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Version.  Displays version and configuration information on standard error.</p>
  </dd>
  <dt>
    <p><strong>-w</strong><em> interval</em></p>
  </dt>
  <dd>
    <p>Specify an <em>interval</em>, in seconds, between attempts to dismount filesystems that have exceeded their cached times. The default is 2 minutes.</p>
  </dd>
  <dt>
    <p><strong>-x</strong><em> options</em></p>
  </dt>
  <dd>
    <p>Specify run-time logging options.  The options are a comma separated list chosen from: fatal, error, user, warn, info, map, stats, defaults, and all.  Note that "fatal" and "error" are mandatory and cannot be turned off.</p>
  </dd>
  <dt>
    <p><strong>-y</strong><em> domain</em></p>
  </dt>
  <dd>
    <p>Specify an alternative NIS domain from which to fetch the NIS maps. The default is the system domain name.  This option is ignored if NIS support is not available.</p>
  </dd>
  <dt>
    <p><strong>-A</strong><em> arch</em></p>
  </dt>
  <dd>
    <p>Specifies the OS architecture.  This is used solely to set the ${arch} selector.</p>
  </dd>
  <dt>
    <p><strong>-C</strong><em> cluster-name</em></p>
  </dt>
  <dd>
    <p>Specify an alternative HP-UX cluster name to use.</p>
  </dd>
  <dt>
    <p><strong>-D</strong><em> option</em></p>
  </dt>
  <dd>
    <p>Select from a variety of debug options.  Prefixing an option with the strings <strong>no</strong> reverses the effect of that option.  Options are cumulative. The most useful option is <strong>all</strong>. Since <em>-D</em> is only used for debugging other options are not documented here: the current supported set of options is listed by the -v option and a fuller description is available in the program source.</p>
  </dd>
  <dt>
    <p><strong>-F</strong><em> conf_file</em></p>
  </dt>
  <dd>
    <p>Specify an amd configuration file to use.  See <a href="../man5/amd.conf.5.html"><strong>amd.conf</strong>(5)</a> for description of this file's format.  This configuration file is used to specify any options in lieu of typing many of them on the command line.  The <em>amd.conf</em> file includes directives for every command line option amd has, and many more that are only available via the configuration file facility.  The configuration file specified by this option is processed after all other options had been processed, regardless of the actual location of this option on the command line.</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>Print help and usage string.</p>
  </dd>
  <dt>
    <p><strong>-O</strong><em> op_sys_name</em></p>
  </dt>
  <dd>
    <p>Override the compiled-in name of the operating system.  Useful when the built in name is not desired for backward compatibility reasons.  For example, if the build in name is ``sunos5'', you can override it to ``sos5'', and use older maps which were written with the latter in mind.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Do not lock the running executable pages of amd into memory.  To improve amd's performance, systems that support the <strong>plock</strong>(3) call, could lock the amd process into memory.  This way there is less chance the operating system will schedule, page out, and swap the amd process as needed.  This tends improves amd's performance, at the cost of reserving the memory used by the amd process (making it unavailable for other processes). If this behavior is not desired, use the <strong>-S</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-T</strong><em> tag</em></p>
  </dt>
  <dd>
    <p>Specify a tag to use with <a href="../man5/amd.conf.5.html"><strong>amd.conf</strong>(5)</a>. All map entries tagged with <em>tag</em> will be processed.  Map entries that are not tagged are always processed. Map entries that are tagged with a tag other than <em>tag</em> will not be processed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/a</strong></p>
  </dt>
  <dd>
    <p>directory under which filesystems are dynamically mounted</p>
  </dd>
  <dt>
    <p><strong>/etc/amd.conf</strong></p>
  </dt>
  <dd>
    <p>default configuration file</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>Some care may be required when creating a mount map.</p><p>Symbolic links on an NFS filesystem can be incredibly inefficient. In most implementations of NFS, their interpolations are not cached by the kernel and each time a symlink is encountered during a <em>lookuppn</em> translation it costs an RPC call to the NFS server. It would appear that a large improvement in real-time performance could be gained by adding a cache somewhere. Replacing symlinks with a suitable incarnation of the auto-mounter results in a large real-time speedup, but also causes a large number of process context switches.</p><p>A weird imagination is most useful to gain full advantage of all the features.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/amq.8.html"><strong>amq</strong>(8)</a>, <a href="../man1/domainname.1.html"><strong>domainname</strong>(1)</a>, <a href="../man1/hostname.1.html"><strong>hostname</strong>(1)</a>, <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>. <a href="../man5/amd.conf.5.html"><strong>amd.conf</strong>(5)</a>, <strong>mtab</strong>(5), <a href="../man8/automount.8.html"><strong>automount</strong>(8)</a>, <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>, <a href="../man8/umount.8.html"><strong>umount</strong>(8)</a>,</p><p>``am-utils'' <a href="../man1/info.1.html"><strong>info</strong>(1)</a> entry.</p><p><em>Linux NFS and Automounter Administration</em> by Erez Zadok, ISBN 0-7821-2739-8, (Sybex, 2001).</p><p><em>http://www.am-utils.org</em></p><p><em>Amd - The 4.4 BSD Automounter</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Jan-Simon Pendry &lt;jsp@doc.ic.ac.uk&gt;, Department of Computing, Imperial College, London, UK.</p><p>Erez Zadok &lt;ezk@cs.sunysb.edu&gt;, Computer Science Department, Stony Brook University, Stony Brook, New York, USA.</p><p>Other authors and contributors to am-utils are listed in the <strong>AUTHORS</strong> file distributed with am-utils.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="amcryptsimple.8.html"><span aria-hidden="true">&larr;</span> amcryptsimple.8: Reference simple crypt program for amanda symmetric data encryption</a></li>
   <li class="next"><a href="amd-fsinfo.8.html">amd-fsinfo.8: Coordinate site-wide filesystem information <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
