<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cowbuilder: A pbuilder wrapper for cowdancer.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A pbuilder wrapper for cowdancer.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cowbuilder (8) manual">
  <meta name="twitter:description" content="A pbuilder wrapper for cowdancer.">
  <meta name="twitter:image" content="https://www.carta.tech/images/cowbuilder-cowbuilder-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/cowbuilder.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cowbuilder (8) manual" />
  <meta property="og:description" content="A pbuilder wrapper for cowdancer." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cowbuilder-cowbuilder-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cowbuilder<small> (8)</small></h1>
        <p class="lead">A pbuilder wrapper for cowdancer.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cowbuilder.8.html">
      <span itemprop="name">cowbuilder: A pbuilder wrapper for cowdancer.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cowbuilder/">
      <span itemprop="name">cowbuilder</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cowbuilder.8.html">
      <span itemprop="name">cowbuilder: A pbuilder wrapper for cowdancer.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cowbuilder [</strong><em>commands</em><strong>] [</strong><em>options</em><strong>]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>cowbuilder</strong> Executes the specified pbuilder operation with <strong>cowdancer</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<p>Most commands invoke pbuilder with the specified commands, see pbuilder manual for details.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--create</strong></p>
  </dt>
  <dd>
    <p>Create the base.cow image. The directory for base.cow should be empty, or this command will fail.</p>
  </dd>
  <dt>
    <p><strong>--update</strong></p>
  </dt>
  <dd>
    <p>Update the base.cow image.</p>
  </dd>
  <dt>
    <p><strong>--build </strong><em>.dsc-file</em></p>
  </dt>
  <dd>
    <p>Build a package given a .dsc file</p>
  </dd>
  <dt>
    <p><strong>--login</strong></p>
  </dt>
  <dd>
    <p>Start a session within the base.cow.</p>
  </dd>
  <dt>
    <p><strong>--execute</strong></p>
  </dt>
  <dd>
    <p>Execute a command within the base.cow.</p>
  </dd>
  <dt>
    <p><strong>--dumpconfig</strong></p>
  </dt>
  <dd>
    <p>dump configuration information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Most options are the same as pbuilder, except for the following which are handled specially</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--buildplace</strong></p>
  </dt>
  <dd>
    <p>The place where COW operation takes place.</p>
  </dd>
  <dt>
    <p><strong>--basepath</strong></p>
  </dt>
  <dd>
    <p>has a very different meaning to <strong>basetgz</strong> option of pbuilder, since there is no tgz.  This option specifies the directory in which the COW master data is stored, the default being <strong>/var/cache/pbuilder/base.cow</strong></p>
  </dd>
  <dt>
    <p><strong>--configfile [</strong><em>configuration file to load</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Additional configuration file to read after all other configuration files have been read.</p>
  </dd>
  <dt>
    <p><strong>--no-cowdancer-update</strong></p>
  </dt>
  <dd>
    <p>Do not use cowdancer on cowbuilder --update. Please use this option when cowdancer is interfering with upgrade process, or cowdancer itself is being upgraded within chroot.</p>
  </dd>
  <dt>
    <p><strong>--debian-etch-workaround</strong></p>
  </dt>
  <dd>
    <p>Work around on Debian etch compatibility. cow-shell will search for all files in chroot, but will work.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILES</h2>
        <div class="sectioncontent">
<p>cowbuilder reads the following configuration files per default.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>/usr/share/pbuilder/pbuilderrc</strong></p>
  </dt>
  <dd>
    <p>Application default, not to be changed.</p>
  </dd>
  <dt>
    <p><strong>/etc/pbuilderrc</strong></p>
  </dt>
  <dd>
    <p>System-wide default.</p>
  </dd>
  <dt>
    <p><strong>~/.pbuilderrc</strong></p>
  </dt>
  <dd>
    <p>User default</p>
  </dd>
  <dt>
    <p><em>anything specified with --configfile option</em></p>
  </dt>
  <dd>
    <p>Additional configuration at runtime.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILE OPTIONS</h2>
        <div class="sectioncontent">
<p>The possible configuration options are as follows.  Others are ignored.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>DISTRIBUTION=</strong><em>distribution</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>BUILDRESULT=</strong><em>directory</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>BUILDPLACE=</strong><em>directory</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>BASEPATH=</strong><em>path</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>MIRRORSITE=</strong><em>http://mirror</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>NO_COWDANCER_UPDATE=</strong><em>1</em></p>
  </dt>
  <dd>
    <p>See <strong>--no-cowdancer-update</strong></p>
  </dd>
  <dt>
    <p><strong>DEBIAN_ETCH_WORKAROUND=</strong><em>1</em></p>
  </dt>
  <dd>
    <p>See <strong>--debian-etch-workaround</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>cowbuilder --create</strong></p>
  </dt>
  <dd>
    <p>Create a base.cow image.</p>
<pre>
# cowbuilder --create --hookdir /usr/share/doc/pbuilder/examples/workaround/ --distribution etch --debootstrap debootstrap --basepath /var/cache/pbuilder/base-test.cow
bash: /root/.pbuilderrc: No such file or directory
W: /home/dancer/.pbuilderrc does not exist
 -&gt; Running in no-targz mode
Distribution is etch.
Building the build environment
 -&gt; running debootstrap
/usr/sbin/debootstrap
I: Retrieving Release
	.
	.

<strong>cowbuilder --update</strong>
Update the base.cow image.

# cowbuilder --update
bash: /root/.pbuilderrc: No such file or directory
 -&gt; Copying COW directory
 -&gt; Invoking pbuilder
W: /home/dancer/.pbuilderrc does not exist
 -&gt; Running in no-targz mode
 -&gt; copying local configuration
 -&gt; mounting /proc filesystem
 -&gt; mounting /dev/pts filesystem
 -&gt; policy-rc.d already exists
Refreshing the base.tgz
 -&gt; upgrading packages
	.
	.

<strong>cowbuilder --build test_0.1.dsc</strong>
Build the package specified in dsc file, with the base.cow image.

<strong>pdebuild --pbuilder cowbuilder</strong>
Run
<strong>cowbuilder --build</strong>
against the current directory.
The current directory should be an extracted Debian source package directory.

Edit
<strong>/etc/pbuilderrc</strong>
to have
<strong>PDEBUILD_PBUILDER=cowbuilder</strong>
to make this the default behavior for
<strong>pdebuild.</strong>

<strong>cowbuilder --login --bindmounts /home/dancer</strong>
Start a cow-shell session inside base.cow, with
<em>/home/dancer</em>
 being bind-mounted to within chroot.

Note that cowbuilder will not cow-protect what is inside
<strong>/home/</strong>

# cowbuilder --login --bindmount ${HOME}
bash: /root/.pbuilderrc: No such file or directory
 -&gt; Copying COW directory
 -&gt; Invoking pbuilder
W: /home/dancer/.pbuilderrc does not exist
 -&gt; Running in no-targz mode
 -&gt; copying local configuration
 -&gt; mounting /proc filesystem
 -&gt; mounting /dev/pts filesystem
-&gt; Mounting /home/dancer
 -&gt; policy-rc.d already exists
 -&gt; entering the shell
#

<strong>cowbuilder --create --distribution sid --basepath /var/cache/pbuilder/base-test.cow</strong>
Create a base.cow image with the path
<strong>/var/cache/pbuilder/base-test.cow</strong>
and distribution sid.

</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Junichi Uekawa (dancer@debian.org)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cowbuilder&hellip;</h2>
        <div class="sectioncontent">
<p><strong>/usr/share/doc/pbuilder/pbuilder-doc.html, </strong> <strong>pbuilder (</strong>8<strong>), </strong> <strong>pdebuild (</strong>1<strong>) </strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="courieruucp.8.html"><span aria-hidden="true">&larr;</span> courieruucp.8: Sample courier mail filter</a></li>
   <li class="next"><a href="cpg_overview.8.html">cpg_overview.8: Cpg library overview <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
