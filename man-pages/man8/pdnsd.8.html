<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pdnsd: Dns proxy daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Dns proxy daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pdnsd (8) manual">
  <meta name="twitter:description" content="Dns proxy daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/pdnsd-pdnsd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/pdnsd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pdnsd (8) manual" />
  <meta property="og:description" content="Dns proxy daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pdnsd-pdnsd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pdnsd<small> (8)</small></h1>
        <p class="lead">Dns proxy daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/pdnsd.8.html">
      <span itemprop="name">pdnsd: Dns proxy daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pdnsd/">
      <span itemprop="name">pdnsd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/pdnsd.8.html">
      <span itemprop="name">pdnsd: Dns proxy daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pdnsd</strong> [-h] [-V] [-s] [-d] [-g] [-t] [-p <em>file</em>] [-v<em>n</em>] [-m<em>xx</em>] [-c <em>file</em>] [-4] [-6] [-a]</p><p>This man page is an extract of the documentation of <strong>pdnsd</strong>. For complete, current documentation, refer to the HTML (or plain text) documentation (which you can find in the <strong>doc/</strong> subdirectory of the source or in a standard documentation directory, typically <strong>/usr/share/doc/pdnsd/</strong> if you are using a binary package).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>pdnsd</strong> is a IPv6 capable proxy domain name server (DNS) which saves the contents of its DNS cache to the disk on exit.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-4</strong></p>
  </dt>
  <dd>
    <p>enables IPv4 support. IPv6 support is automatically disabled (should it be available). On by default.</p>
  </dd>
  <dt>
    <p><strong>-6</strong></p>
  </dt>
  <dd>
    <p>enables IPv6 support. IPv4 support is automatically disabled (should it be available). Off by default.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>With this option, pdnsd will try to detect automatically if the system supports IPv6, and fall back to IPv4 otherwise.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>  or  <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print version information and exit.</p>
  </dd>
  <dt>
    <p><strong>-c</strong> <em>FILE</em>  or  <strong>--config-file=</strong><em>FILE</em></p>
  </dt>
  <dd>
    <p>specifies that configuration is to be read from <em>FILE</em>. Default is <strong>/etc/pdnsd.conf</strong>.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>  or  <strong>--daemon</strong></p>
  </dt>
  <dd>
    <p>Start <strong>pdnsd</strong> in daemon mode (as a background process).</p>
  </dd>
  <dt>
    <p><strong>-g</strong>  or  <strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Print some debug messages on the console or to the file <strong>pdnsd.debug</strong> in your cache directory (in daemon mode).</p>
  </dd>
  <dt>
    <p><strong>-h</strong>  or  <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print an option summary and exit.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> <em>PREFIX</em>  or  <strong>--ipv4_6_prefix=</strong><em>PREFIX</em></p>
  </dt>
  <dd>
    <p>specifies the prefix pdnsd uses (when running in IPv6 mode) to map IPv4 addresses in the configuration file to IPv6 addresses. Must be a valid IPv6 address. Default is ::ffff:0.0.0.0</p>
  </dd>
  <dt>
    <p><strong>-p </strong><em>FILE</em><strong></strong></p>
  </dt>
  <dd>
    <p>writes the pid the server runs as to the specified filename. Works only in daemon mode.</p>
  </dd>
  <dt>
    <p><strong>--pdnsd-user</strong></p>
  </dt>
  <dd>
    <p>Print the user <strong>pdnsd</strong> will run as and exit.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>  or  <strong>--status</strong></p>
  </dt>
  <dd>
    <p>enables the status control socket. Either this option should be passed to the command line or <strong>status_ctl=on;</strong> should be specified in the config file if you want to use <a href="../man8/pdnsd-ctl.8.html"><strong>pdnsd-ctl</strong>(8)</a> to control <strong>pdnsd</strong> at runtime.</p>
  </dd>
  <dt>
    <p><strong>-t</strong>  or  <strong>--tcp</strong></p>
  </dt>
  <dd>
    <p>enables the TCP server thread. <strong>pdnsd</strong> will then serve TCP and UDP queries.</p>
  </dd>
  <dt>
    <p><strong>-v</strong><em>n</em></p>
  </dt>
  <dd>
    <p>sets the verbosity of <strong>pdnsd</strong>. <em>n</em> is a numeric argument between  0 (normal operation) to 3 (many messages for debugging).</p>
  </dd>
  <dt>
    <p><strong>-m</strong><em>xx</em></p>
  </dt>
  <dd>
    <p>sets the query method <strong>pdnsd</strong> uses. Possible values for <em>xx</em> are:</p><ul>
<li><p><strong>uo</strong> - pdnsd will use UDP only. This is the fastest method, and should be supported by all name servers on the Internet.</p></li><li><p><strong>to</strong> - pdnsd will use TCP only. TCP queries usually take more time than UDP queries, but are more secure against certain attacks, where an attacker tries to guess your query id and to send forged answers. TCP queries are not supported by some name servers.</p></li><li><p><strong>tu</strong> - pdnsd will try to use TCP, and will fall back to UDP if its connection is refused or times out.</p></li><li><p><strong>ut</strong> - pdnsd will try to use UDP, and will repeat the query using TCP if the UDP reply was truncated (i.e. the tc bit is set). This is the behaviour recommended by the DNS standards.</p></li>
</ul>
  </dd>

</dl>
<p>Additionally, "no" can be prepended to the --status, --daemon, --debug and --tcp options (e.g. --notcp) to reverse their effect.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p><strong>pdnsd</strong> is usually run from a startup script. For <strong>pdnsd</strong> to work, You need to:-</p><ul>
<li><p>1. Tell your system to use <strong>pdnsd</strong> as the primary DNS server by modifying <strong>/etc/resolv.conf</strong>.</p></li><li><p>2. Tell <strong>pdnsd</strong> to use an authentic source for DNS records, by including the IP addresses of one or more DNS servers, usually your ISP's DNS servers, in <strong>/etc/pdnsd.conf</strong>.</p></li>
</ul><p>For this, put the following line in your <strong>/etc/resolv.conf</strong></p><p>nameserver 127.0.0.X</p><p>where X can be any number. (I use 3). Comment out all other entries. You should put the same value in the server_ip= line in <strong>global</strong> section of <strong>/etc/pdnsd.conf</strong>.</p><p>If you want to use <strong>pdnsd</strong> as the DNS server for a small local network, you should use the IP address or name of the interface connected to this network instead of 127.0.0.X.</p><p>To tell <strong>pdnsd</strong> where to get DNS information from, add the following lines in <strong>/etc/pdnsd.conf</strong>:-</p><p>server {</p>
<pre>
        label= "myisp";
        ip=123.456.789.001,123.456.789.002;
        proxy_only=on;
        timeout=10;
</pre>
<p>}</p><p>Note the opening and closing braces. Add more such <strong>server</strong> sections for each set of DNS servers you want <strong>pdnsd</strong> to query. Of course the configuration options shown here are just examples. More examples can be found in <strong>/etc/pdnsd.conf.sample</strong> or the pdnsd.conf in the documentation directory. See the <strong>pdnsd.conf</strong>(5) man page for all the possible options and their exact meaning.</p><p>If you use a dial up connection, remember that ppp scripts usually replace <strong>/etc/resolv.conf</strong> when connection with the ISP is established.  You need to configure ppp (or whatever you use to establish a connection) so that <strong>/etc/resolv.conf</strong> is not replaced every time a connection is established. Read the documentation for the scripts run when your network comes up.</p><p>If you use pppconfig, specify `none' in the  `nameservers' option  in the `advanced' tab. If you use multiple ISPs, you should  do this for each connection/account.</p><p>If you use multiple ISPs, you should tell <strong>pdnsd</strong> which DNS servers have become available by calling <strong>pdnsd-ctl</strong>, the <strong>pdnsd</strong> control utility, in a script (e.g. <strong>/etc/ppp/ip-up</strong> when you use pppd) that is run when the connection is established. If the addresses of the DNS servers are obtained through some type of dynamic configuration protocol (e.g. pppd with the usepeerdns option or a DHCP client), you can pass the DNS server addresses as an extra argument to <strong>pdnsd-ctl</strong> to configure <strong>pdnsd</strong> at run time. See the <a href="../man8/pdnsd-ctl.8.html"><strong>pdnsd-ctl</strong>(8)</a> man page for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>/etc/pdnsd.conf</strong> is the pdnsd configuration file. The file format and configuration options are described in the <strong>pdnsd.conf</strong>(5) man page. You can find examples of almost all options in <strong>/etc/pdnsd.conf.sample</strong>.</p><p><strong>/var/cache/pdnsd/pdnsd.cache</strong></p><p><strong>/var/cache/pdnsd/pdnsd.status</strong> is the status control socket, which must be enabled before you can use <strong>pdnsd-ctl</strong>.</p><p><strong>/etc/init.d/pdnsd</strong> (the name and location of the start-up script may be different depending on your distribution.)</p><p><strong>/etc/resolv.conf</strong></p><p><strong>/etc/defaults/pdnsd</strong> contains additional parameters or options which may be passed to pdnsd at boot time. This saves the hassle of fiddling with initscripts (not available on all distributions).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The verbosity option <strong>-v</strong><em>n</em> presently does not seem to have much effect on the amount of debug output.</p><p>Report any remaining bugs to the authors.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p><strong>pdnsd</strong> should comply with RFCs 1034 and 1035. As of version 1.0.0, RFC compliance has been improved and pdnsd is now believed (or hoped?)  to be fully RFC compatible. It completely follows RFC 2181 (except for one minor issue in the FreeBSD port, see the documentation).</p><p>It does <em>NOT</em> support the following features, of which most are marked optional, experimental or obsolete in these RFCs:</p><ul>
<li><p>&bull; Inverse queries</p></li><li><p>&bull; Status queries</p></li><li><p>&bull; Completion queries</p></li><li><p>&bull; Namespaces other than IN (Internet)</p></li><li><p>&bull; AXFR and IXFR queries (whole zone transfers); since pdnsd does not maintain zones, that should not violate the standard</p></li>
</ul><p>The following record types, that are extensions to the original DNS standard, are supported if given as options at compile time. (if you do not need them, you do not need to compile support for them into pdnsd and save cache and executable space):</p><ul>
<li><p>&bull; RP (responsible person, RFC 1183)</p></li><li><p>&bull; AFSDB (AFS database location, RFC 1183)</p></li><li><p>&bull; X25 (X25 address, RFC 1183)</p></li><li><p>&bull; ISDN (ISDN number/address, RFC 1183)</p></li><li><p>&bull; RT (route through, RFC 1183)</p></li><li><p>&bull; NSAP (Network Service Access Protocol address , RFC 1348)</p></li><li><p>&bull; PX (X.400/RFC822 mapping information, RFC 1995)</p></li><li><p>&bull; GPOS (geographic position, deprecated)</p></li><li><p>&bull; AAAA (IPv6 address, RFC 1886)</p></li><li><p>&bull; LOC (location, RFC 1876)</p></li><li><p>&bull; EID (Nimrod EID)</p></li><li><p>&bull; NIMLOC (Nimrod locator)</p></li><li><p>&bull; SRV (service record, RFC 2782)</p></li><li><p>&bull; ATMA (ATM address)</p></li><li><p>&bull; NAPTR (URI mapping, RFC 2168)</p></li><li><p>&bull; KX (key exchange, RFC 2230)</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pdnsd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/pdnsd-ctl.8.html"><strong>pdnsd-ctl</strong>(8)</a>, <strong>pdnsd.conf</strong>(5), <a href="../man8/pppconfig.8.html"><strong>pppconfig</strong>(8)</a>, <a href="../man5/resolv.conf.5.html"><strong>resolv.conf</strong>(5)</a></p><p>More documentation is available in the <strong>doc/</strong> subdirectory of the source, or in <strong>/usr/share/doc/pdnsd/</strong> if you are using a binary package.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>pdnsd</strong> was originally written by Thomas Moestl,</p><p>&lt;tmoestl@gmx.net&gt;,</p><p>and was extensively revised by Paul A. Rombouts</p><p>&lt;p.a.rombouts@home.nl&gt;</p><p>(for versions 1.1.8b1-par and later).</p><p>Several others have contributed to <strong>pdnsd</strong>; see files in the source or <strong>/usr/share/doc/pdnsd/</strong> directory.</p><p>This man page was written by Mahesh T. Pai</p><p>&lt;paivakil@yahoo.co.in&gt;</p><p>using the documents in <strong>/usr/share/docs/pdnsd/</strong> directory for Debian, but can be used on other distributions too.</p><p>Last revised: 22 Jul 2007 by Paul A. Rombouts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>This man page is a part of the pdnsd package, and may be distributed in original or modified form under terms of the GNU General Public License, as published by the Free Software Foundation; either version 3, or (at your option) any later version.</p><p>You can find a copy of the GNU GPL in the file <strong>COPYING</strong> in the source or the <strong>/usr/share/common-licenses/</strong> directory if you are using a Debian system.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pdns_server.8.html"><span aria-hidden="true">&larr;</span> pdns_server.8: The powerdns nameserver</a></li>
   <li class="next"><a href="pdnsd-ctl.8.html">pdnsd-ctl.8: Controls pdnsd <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
