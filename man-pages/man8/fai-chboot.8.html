<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fai-chboot: Manage the network boot configuration files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Manage the network boot configuration files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fai-chboot (8) manual">
  <meta name="twitter:description" content="Manage the network boot configuration files">
  <meta name="twitter:image" content="https://www.carta.tech/images/fai-server-fai-chboot-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/fai-chboot.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fai-chboot (8) manual" />
  <meta property="og:description" content="Manage the network boot configuration files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fai-server-fai-chboot-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fai-chboot<small> (8)</small></h1>
        <p class="lead">Manage the network boot configuration files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/fai-chboot.8.html">
      <span itemprop="name">fai-chboot: Manage the network boot configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fai-server/">
      <span itemprop="name">fai-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/fai-chboot.8.html">
      <span itemprop="name">fai-chboot: Manage the network boot configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>fai-chboot</strong> [OPTION]... KERNELNAME HOST...</p><p><strong>fai-chboot</strong> -l[e|d|t|o|g] [PATTERN]</p><p><strong>fai-chboot</strong> -e HOST...</p><p><strong>fai-chboot</strong> -d HOST...</p><p><strong>fai-chboot</strong> -c HOST|TEMPLATE HOST|TEMPLATE...</p><p><strong>fai-chboot</strong> -i [OPTION]... HOST...</p><p><strong>fai-chboot</strong> -I [OPTION]... HOST...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This command creates the configuration files for network booting using pxelinux and DHCP.</p><p>KERNELNAME is the file name of the kernel that will be booted. This kernel will mount the root filesystem via NFS. You can add additional kernel parameters and define some FAI specific flags. For each host one configuration file is created. The file name of the configuration file is its IP address in upper case hexadecimal or its MAC address with the prefix "01-". HOST can be a host name, an IP or a MAC address or the keyword "default".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-B</strong></p>
  </dt>
  <dd>
    <p>Set default values for FAI_FLAGS. This is the same as -f verbose,sshd,reboot</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Copy an existing config file to one or more hosts or templates and enable them for network booting.</p>
  </dd>
  <dt>
    <p><strong>-C </strong><em>CFDIR</em></p>
  </dt>
  <dd>
    <p>Use CFDIR as the configuration directory. Default is /etc/fai. You can also set the environment variable FAI_ETC_DIR.</p>
  </dd>
  <dt>
    <p><strong>-D </strong><em>DIR</em></p>
  </dt>
  <dd>
    <p>Set the directory for the network boot configuration to DIR. The default value is /srv/tftp/fai/pxelinux.cfg/.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Disable network booting for HOST. This renames the config file adding the suffix .disable to it.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Reenable network booting for HOST. This renames the config file removing the suffix .disable from it, so the next time it uses the PXE configuration.</p>
  </dd>
  <dt>
    <p><strong>-E</strong></p>
  </dt>
  <dd>
    <p>Add FAI_FLAG initial. This causes setup-storage to disable preserving partitions. This may erase (therefore option E) data on the disk.</p>
  </dd>
  <dt>
    <p><strong>-f </strong><em>fai_flags</em></p>
  </dt>
  <dd>
    <p>Set FAI_FLAGS. The flags must be comma separated.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Set default values for FAI_FLAGS. This is the same as -f verbose,sshd,createvt</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Show simple help and version.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>Set parameters for booting the FAI install kernel (proper initrd, boot from nfs). This does not set FAI_ACTION</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p>Same as -i but also sets FAI_ACTION=install. So a fully automatic installation will be performed. ATTENTION! This will erase most of the data on the local disks of the install clients.</p>
  </dd>
  <dt>
    <p><strong>-k </strong><em>parameters</em></p>
  </dt>
  <dd>
    <p>Set kernel append parameters.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>List the configuration for all hosts in short format. If PATTERN is given, list only hosts matching PATTERN. Lists hostname, FAI_ACTION, kernel name and IP address in hex. Use <strong>-le</strong>, to list only enabled hosts, <strong>-ld</strong> to list only disabled hosts, <strong>-lt</strong> to list only templates, <strong>-lo</strong> to list only hosts that do not match any of the previous categories, and <strong>-lg</strong> to list the configuration for all hosts, sorted and ordered by groups (enabled, disabled, templates, others). Note that a combination of multiple <strong>-l</strong> options is not supported and that in listing mode no other action will be performed.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>List the configuration for all hosts. Also list the kernel append parameters. If PATTERN is given, list only hosts matching PATTERN.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Do not create configuration but show what would be done. This also enables the verbose flag.</p>
  </dd>
  <dt>
    <p><strong>-o</strong></p>
  </dt>
  <dd>
    <p>Do localboot via PXE. Do not boot via network card, but use next boot device which is specified in the BIOS. Normally this is the local disk.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Preserve existing config files. The default is to overwrite an existing config file.</p>
  </dd>
  <dt>
    <p><strong>-P</strong></p>
  </dt>
  <dd>
    <p>Add the pxelinux option IPAPPEND 6 to the config file. This will add the two variables BOOTIF and SYSUUID to the kernel command line, that are also defined as variables inside FAI.</p><p>Example: BOOTIF=01-08-00-27-12-34-56 SYSUUID=00234567-1111-2222-3333-123456789000</p>
  </dd>
  <dt>
    <p><strong>-s </strong><em>SUFFIX</em></p>
  </dt>
  <dd>
    <p>Use SUFFIX to determine which kernel and initrd to use.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Same as -i but also sets FAI_ACTION=sysinfo.</p>
  </dd>
  <dt>
    <p><strong>-u </strong><em>URL</em></p>
  </dt>
  <dd>
    <p>Set FAI_CONFIG_SRC to URL. Setting this variable is mandatory for the operation of FAI.</p>
  </dd>
  <dt>
    <p><strong>-U </strong><em>URL</em></p>
  </dt>
  <dd>
    <p>Add URL to kernel and initrd file names. lpxelinux.0 can use FTP and HTTP for getting these files.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Create verbose output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>fai-chboot -l</p>
  </dt>
  <dd>
    <p>List the configuration for all hosts. fai-chboot -FSPv -u nfs://faiserver/srv/fai/config atom02 The host atom02 will boot the FAI install kernel but with FAI_ACTION sysinfo.</p>
  </dd>
  <dt>
    <p>fai-chboot -l tmpl</p>
  </dt>
  <dd>
    <p>All templates are lsited.</p>
  </dd>
  <dt>
    <p>fai-chboot -IBPv -u nfs://faiserver/srv/fai/config atom02</p>
  </dt>
  <dd>
    <p>The host atom02 will be installed. ATTENTION! All data on the local hard disks are lost in most cases, because we want to install a new system. After the installation the host automatically reboots.</p>
  </dd>
  <dt>
    <p>fai-chboot -vSP -s2.6.18-4-amd64 faiserver</p>
  </dt>
  <dd>
    <p>Booting kernel vmlinuz-2.6.18-4-amd64  append initrd=initrd.img-2.6.18-4-amd64 ip=dhcp</p><p>faiserver has 1.2.3.4 in hex 01020304</p><p>Writing file /srv/tftp/fai/pxelinux.cfg/01020304 for faiserver</p>
  </dd>
  <dt>
    <p>fai-chboot -IFv -u nfs://faiserver/srv/fai/clusterconf node03</p>
  </dt>
  <dd>
    <p>node03 will be installed using the configuration space /srv/fai/clusterconf, which is mounted from faiserver via NFS.</p>
  </dd>
  <dt>
    <p>fai-chboot memtest86+ atom02</p>
  </dt>
  <dd>
    <p>The host atom02 will boot the memory test. Install the package memtest86+ and copy the executable memtest86+.bin to /srv/tftp/fai without the .bin suffix.</p>
  </dd>
  <dt>
    <p>fai-chboot -o default</p>
  </dt>
  <dd>
    <p>All hosts, that do not have a PXE configuration for their IP-address will do a localboot, i.e. booting from local disk.</p>
  </dd>
  <dt>
    <p>fai-chboot -vc lenny64 james007</p>
  </dt>
  <dd>
    <p>This command will tell the host james007 to use the template called lenny64. Beforehand, you have to manually create the template and save it to /srv/tftp/fai/pxelinux.cfg/lenny64.tmpl.</p>
  </dd>
  <dt>
    <p>fai-chboot -iFPv atom02 atom03 dom kueppers</p>
  </dt>
  <dd>
    <p>The hosts atom02, atom03, dom and kueppers will boot the FAI install kernel. FAI_ACTION will not be set unless specified with option -k or -I. You can also use the script class/LAST.var on the install server to set FAI_ACTION.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Currently only PXE boot is supported.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO fai-chboot&hellip;</h2>
        <div class="sectioncontent">
<p><em>\|&#92;$1\|</em> The pxelinux documentation.</p>
<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    <p>This program is part of FAI (Fully Automatic Installation). See the FAI manual for more information on how to use fai-chboot. The FAI homepage is http://fai-project.org.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Thomas Lange &lt;lange@informatik.uni-koeln.de&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fai-cd.8.html"><span aria-hidden="true">&larr;</span> fai-cd.8: Make a bootable cd-rom or usb stick that performs an fai</a></li>
   <li class="next"><a href="fai-make-nfsroot.8.html">fai-make-nfsroot.8: Create the fai nfsroot directory <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
