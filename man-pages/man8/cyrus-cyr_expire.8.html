<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cyrus-cyr_expire: Expire messages and duplicate delivery database entries</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Expire messages and duplicate delivery database entries">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cyrus-cyr_expire (8) manual">
  <meta name="twitter:description" content="Expire messages and duplicate delivery database entries">
  <meta name="twitter:image" content="https://www.carta.tech/images/cyrus-common-cyrus-cyr_expire-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/cyrus-cyr_expire.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cyrus-cyr_expire (8) manual" />
  <meta property="og:description" content="Expire messages and duplicate delivery database entries" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cyrus-common-cyrus-cyr_expire-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cyrus-cyr_expire<small> (8)</small></h1>
        <p class="lead">Expire messages and duplicate delivery database entries</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cyrus-cyr_expire.8.html">
      <span itemprop="name">cyrus-cyr_expire: Expire messages and duplicate delivery database entries</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cyrus-common/">
      <span itemprop="name">cyrus-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/cyrus-cyr_expire.8.html">
      <span itemprop="name">cyrus-cyr_expire: Expire messages and duplicate delivery database entries</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cyr_expire</strong> [ <strong>-C</strong> <em>config-file</em> ] [ <strong>-D</strong><em> delete-days</em> ] <strong>-E</strong><em> expire-duration</em> [ <strong>-X</strong><em> expunge-days</em> ] [ <strong>-p  mailbox-prefix</strong> ] [ <strong>-v</strong> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Cyr_expire</em> is used to expire messages and duplicate delivery database entries. <em>Cyr_expire</em> also cleanses mailboxes of partially expunged messages (when using the "delayed" expunge mode). The expiration of messages is controlled by the <strong>/vendor/cmu/cyrus-imapd/expire</strong> mailbox annotation which specifies the age (in days) of messages in the given mailbox that should be deleted.  Any duplicate delivery database entries which correspond to the mailbox are also deleted at the same frequency.</p><p>The value of the <strong>/vendor/cmu/cyrus-imapd/expire</strong> annotation is inherited by all children of the given mailbox, so an entire mailbox tree can be expired by seting a single annotation on the root of that tree.  If a mailbox does not have a <strong>/vendor/cmu/cyrus-imapd/expire</strong> annotation set on it (or does not inherit one), then no messages are expired from the mailbox.</p><p><em>Cyr_expire</em> reads its configuration options out of the <a href="../man5/imapd.conf.5.html"><strong>imapd.conf</strong>(5)</a> file unless specified otherwise by <strong>-C</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-C</strong><em> config-file</em></p>
  </dt>
  <dd>
    <p>Read configuration options from <em>config-file</em>.</p>
  </dd>
  <dt>
    <p><strong>-D </strong><em>delete-duration</em></p>
  </dt>
  <dd>
    <p>Remove previously deleted mailboxes older than <em>delete-duration</em> (when using the "delayed" delete mode). The value can be a floating point number, and may have a suffix to specify the unit of time.  If no suffix, the value is number of days. Valid suffixes are <strong>d</strong> (days), <strong>h</strong> (hours), <strong>m</strong> (minutes) and <strong>s</strong> (seconds).</p>
  </dd>
  <dt>
    <p><strong>-E </strong><em>expire-duration</em></p>
  </dt>
  <dd>
    <p>Prune the duplicate database of entries older than <em>expire-duration</em>. This value is only used for entries which do not have a corresponding <strong>/vendor/cmu/cyrus-imapd/expire</strong> mailbox annotation. Format is the same as delete-duration.</p>
  </dd>
  <dt>
    <p><strong>-X </strong><em>expunge-duration</em></p>
  </dt>
  <dd>
    <p>Expunge previously deleted messages older than <em>expunge-duration</em> (when using the "delayed" expunge mode). Format is the same as delete-duration.</p>
  </dd>
  <dt>
    <p><strong> -x</strong></p>
  </dt>
  <dd>
    <p>Do not expunge messages even if using delayed expunge mode (reduces the IO hit considerably, allowing you to run cyr_expire frequently to clean up the duplicate database without overloading your server)</p>
  </dd>
  <dt>
    <p><strong>-p </strong><em>mailbox-prefix</em></p>
  </dt>
  <dd>
    <p>Only find mailboxes starting with this prefix.  e.g. "user.justgotspammedlots"</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Enable verbose output.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Skip the annotation lookup, so all <strong>/vendor/cmu/cyrus-imapd/expire</strong> annotations are ignored entirely.  It behaves as if they were not set, so only <em>expire-days</em> is considered for all mailboxes.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/imapd.conf</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cyrus-cyr_expire&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/imapd.conf.5.html"><strong>imapd.conf</strong>(5)</a></strong>, <a href="../man8/cyrmaster.8.html"><strong>cyrmaster</strong>(8)</a></strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cyrus-cyr_df.8.html"><span aria-hidden="true">&larr;</span> cyrus-cyr_df.8: Report cyrus spool partition disk space usage</a></li>
   <li class="next"><a href="cyrus-cyr_synclog.8.html">cyrus-cyr_synclog.8: Add entries to the replication log <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
