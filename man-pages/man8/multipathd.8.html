<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>multipathd: Multipath daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Multipath daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="multipathd (8) manual">
  <meta name="twitter:description" content="Multipath daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/multipath-tools-multipathd-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/multipathd.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="multipathd (8) manual" />
  <meta property="og:description" content="Multipath daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/multipath-tools-multipathd-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">multipathd<small> (8)</small></h1>
        <p class="lead">Multipath daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/multipathd.8.html">
      <span itemprop="name">multipathd: Multipath daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/multipath-tools/">
      <span itemprop="name">multipath-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/multipathd.8.html">
      <span itemprop="name">multipathd: Multipath daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>multipathd</strong> [\|<strong>options</strong>\|]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>multipathd</strong> daemon is in charge of checking for failed paths. When this happens, it will reconfigure the multipath map the path belongs to, so that this map regains its maximum performance and redundancy.</p><p>This daemon executes the external multipath config tool when events occur. In turn, the multipath tool signals the multipathd daemon when it is done with devmap reconfiguration, so that it can refresh its failed path list.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Foreground Mode. Don't daemonize, and print all messages to stdout and stderr.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>Suppress timestamps. Do not prefix logging messages with a timestamp.</p>
  </dd>
  <dt>
    <p><strong>-v level</strong></p>
  </dt>
  <dd>
    <p>Verbosity level. Print additional information while running multipathd. A  level of 0 means only print errors. A level of 3 or greater prints debugging information as well.</p>
  </dd>
  <dt>
    <p><strong>-k</strong></p>
  </dt>
  <dd>
    <p>multipathd will enter interactive mode. From this mode, the available commands can be viewed by entering "help". When you are finished entering commands, press CTRL-D to quit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>The following commands can be used in interactive mode:</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>list|show paths</strong></p>
  </dt>
  <dd>
    <p>Show the paths that multipathd is monitoring, and their state.</p>
  </dd>
  <dt>
    <p><strong>list|show paths format $format</strong></p>
  </dt>
  <dd>
    <p>Show the paths that multipathd is monitoring, using a format string with path format wildcards.</p>
  </dd>
  <dt>
    <p><strong>list|show maps|multipaths</strong></p>
  </dt>
  <dd>
    <p>Show the multipath devices that the multipathd is monitoring.</p>
  </dd>
  <dt>
    <p><strong>list|show maps|multipaths format $format</strong></p>
  </dt>
  <dd>
    <p>Show the status of all multipath devices that the multipathd is monitoring, using a format string with multipath format wildcards.</p>
  </dd>
  <dt>
    <p><strong>list|show maps|multipaths status</strong></p>
  </dt>
  <dd>
    <p>Show the status of all multipath devices that the multipathd is monitoring.</p>
  </dd>
  <dt>
    <p><strong>list|show maps|multipaths stats</strong></p>
  </dt>
  <dd>
    <p>Show some statistics of all multipath devices that the multipathd is monitoring.</p>
  </dd>
  <dt>
    <p><strong>list|show maps|multipaths topology</strong></p>
  </dt>
  <dd>
    <p>Show the current multipath topology. Same as "multipath -ll".</p>
  </dd>
  <dt>
    <p><strong>list|show topology</strong></p>
  </dt>
  <dd>
    <p>Show the current multipath topology. Same as "multipath -ll".</p>
  </dd>
  <dt>
    <p><strong>list|show map|multipath $map topology</strong></p>
  </dt>
  <dd>
    <p>Show topology of a single multipath device specified by $map, e.g. 36005076303ffc56200000000000010aa. This map could be obtained from "list maps".</p>
  </dd>
  <dt>
    <p><strong>list|show wildcards</strong></p>
  </dt>
  <dd>
    <p>Show the format wildcards used in interactive commands taking $format</p>
  </dd>
  <dt>
    <p><strong>list|show config</strong></p>
  </dt>
  <dd>
    <p>Show the currently used configuration, derived from default values and values specified within the configuration file /etc/multipath.conf.</p>
  </dd>
  <dt>
    <p><strong>list|show blacklist</strong></p>
  </dt>
  <dd>
    <p>Show the currently used blacklist rules, derived from default values and values specified within the configuration file /etc/multipath.conf.</p>
  </dd>
  <dt>
    <p><strong>list|show devices</strong></p>
  </dt>
  <dd>
    <p>Show all available block devices by name including the information if they are blacklisted or not.</p>
  </dd>
  <dt>
    <p><strong>list|show status</strong></p>
  </dt>
  <dd>
    <p>Show the number of path checkers in each possible state, the number of monitored paths, and whether multipathd is currently handling a uevent.</p>
  </dd>
  <dt>
    <p><strong>add path $path</strong></p>
  </dt>
  <dd>
    <p>Add a path to the list of monitored paths. $path is as listed in /sys/block (e.g. sda).</p>
  </dd>
  <dt>
    <p><strong>remove|del path $path</strong></p>
  </dt>
  <dd>
    <p>Stop monitoring a path. $path is as listed in /sys/block (e.g. sda).</p>
  </dd>
  <dt>
    <p><strong>add map|multipath $map</strong></p>
  </dt>
  <dd>
    <p>Add a multipath device to the list of monitored devices. $map can either be a device-mapper device as listed in /sys/block (e.g. dm-0) or it can be the alias for the multipath device (e.g. mpath1) or the uid of the multipath device (e.g. 36005076303ffc56200000000000010aa).</p>
  </dd>
  <dt>
    <p><strong>remove|del map|multipath $map</strong></p>
  </dt>
  <dd>
    <p>Stop monitoring a multipath device.</p>
  </dd>
  <dt>
    <p><strong>resize map|multipath $map</strong></p>
  </dt>
  <dd>
    <p>Resizes map $map to the given size</p>
  </dd>
  <dt>
    <p><strong>switch|switchgroup map|multipath $map group $group</strong></p>
  </dt>
  <dd>
    <p>Force a multipath device to switch to a specific path group. $group is the path group index, starting with 1.</p>
  </dd>
  <dt>
    <p><strong>reconfigure</strong></p>
  </dt>
  <dd>
    <p>Reconfigures the multipaths. This should be triggered automatically after any hotplug event.</p>
  </dd>
  <dt>
    <p><strong>suspend map|multipath $map</strong></p>
  </dt>
  <dd>
    <p>Sets map $map into suspend state.</p>
  </dd>
  <dt>
    <p><strong>resume map|multipath $map</strong></p>
  </dt>
  <dd>
    <p>Resumes map $map from suspend state.</p>
  </dd>
  <dt>
    <p><strong>fail path $path</strong></p>
  </dt>
  <dd>
    <p>Sets path $path into failed state.</p>
  </dd>
  <dt>
    <p><strong>reinstate path $path</strong></p>
  </dt>
  <dd>
    <p>Resumes path $path from failed state.</p>
  </dd>
  <dt>
    <p><strong>disablequeueing maps|multipaths</strong></p>
  </dt>
  <dd>
    <p>Disable queueing on all multipath devices.</p>
  </dd>
  <dt>
    <p><strong>restorequeueing maps|multipaths</strong></p>
  </dt>
  <dd>
    <p>Restore queueing on all multipath devices.</p>
  </dd>
  <dt>
    <p><strong>disablequeueing map|multipath $map</strong></p>
  </dt>
  <dd>
    <p>Disable queuing on multipathed map $map</p>
  </dd>
  <dt>
    <p><strong>restorequeueing map|multipath $map</strong></p>
  </dt>
  <dd>
    <p>Restore queuing on multipahted map $map</p>
  </dd>
  <dt>
    <p><strong>quit|exit</strong></p>
  </dt>
  <dd>
    <p>End interactive session.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYSTEMD INTEGRATION</h2>
        <div class="sectioncontent">
<p>When compiled with systemd support two systemd service files are installed, <em>multipathd.service</em> and <em>multipathd.socket</em> The <em>multipathd.socket</em> service instructs systemd to intercept the CLI command socket, so that any call to the CLI interface will start-up the daemon if required. The <em>multipathd.service</em> file carries the definitions for controlling the multipath daemon. The daemon itself uses the <a href="../man3/sd_notify.3.html"><strong>sd_notify</strong>(3)</a></strong> interface to communicate with systemd. The following unit keywords are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>WatchdogSec=</em></p>
  </dt>
  <dd>
    <p>Enables the internal watchdog from systemd. multipath will send a notification via <a href="../man3/sd_notify.3.html"><strong>sd_notify</strong>(3)</a></strong> to systemd to reset the watchdog. If specified the <em>polling_interval</em> and <em>max_polling_interval</em> settings will be overridden by the watchdog settings.</p><p>Please note that systemd prior to version 207 has issues which prevent the systemd-provided watchdog from working correctly. So the watchdog is not enabled per default, but has to be enabled manually by updating the multipathd.service file.</p>
  </dd>
  <dt>
    <p><em>OOMScoreAdjust=</em></p>
  </dt>
  <dd>
    <p>Overrides the internal OOM adjust mechanism</p>
  </dd>
  <dt>
    <p><em>LimitNOFILE=</em></p>
  </dt>
  <dd>
    <p>Overrides the <em>max_fds</em> configuration setting.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO multipathd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/multipath.8.html"><strong>multipath</strong>(8)</a> <a href="../man8/kpartx.8.html"><strong>kpartx</strong>(8)</a> <a href="../man3/sd_notify.3.html"><strong>sd_notify</strong>(3)</a> <strong>system.service</strong>(5)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>multipathd</strong> was developed by Christophe Varoqui, &lt;christophe.varoqui@opensvc.com&gt; and others.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="multipath.8.html"><span aria-hidden="true">&larr;</span> multipath.8: Device mapper target autoconfig</a></li>
   <li class="next"><a href="mumudvb.8.html">mumudvb.8: Multicast a dvb transponder over multiples ip addresses <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
