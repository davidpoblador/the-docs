<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>realm: Manage enrollment in realms</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Manage enrollment in realms">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="realm (8) manual">
  <meta name="twitter:description" content="Manage enrollment in realms">
  <meta name="twitter:image" content="https://www.carta.tech/images/realmd-realm-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/realm.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="realm (8) manual" />
  <meta property="og:description" content="Manage enrollment in realms" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/realmd-realm-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">realm<small> (8)</small></h1>
        <p class="lead">Manage enrollment in realms</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/realm.8.html">
      <span itemprop="name">realm: Manage enrollment in realms</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/realmd/">
      <span itemprop="name">realmd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/realm.8.html">
      <span itemprop="name">realm: Manage enrollment in realms</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>realm discover</strong> [realm-name] <strong>realm join</strong> [-U&nbsp;user] [realm-name] <strong>realm leave</strong> [-U&nbsp;user] [realm-name] <strong>realm list</strong> <strong>realm permit</strong> [-ax] [-R&nbsp;realm] {user@domain...} <strong>realm deny</strong> -a [-R&nbsp;realm]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>realm</strong> is a command line tool that can be used to manage enrollment in kerberos realms, like Active Directory domains or IPA domains.</p><p>See the various sub commands below. The following global options can be used:</p><p><strong>--install=/path</strong></p><p>Run in install mode. This makes realmd chroot into the specified directory and place files in appropriate locations for use during an installer. No packages will be installed or services will be started when running in this mode.</p><p><strong>--unattended</strong></p><p>Run in unattended mode without prompting for input.</p><p><strong>--verbose, -v</strong></p><p>Display verbose diagnostics while doing running commands.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISCOVER</h2>
        <div class="sectioncontent">
<p>Discover a realm and its capabilities.</p>
<pre>
$ realm discover
</pre>

<pre>
$ realm discover domain.example.com
</pre>
<p>After discovering a realm, its name, type and capabilities are displayed.</p><p>If no domain is specified, then the domain assigned through DHCP is used as a default.</p><p>The following options can be used:</p><p><strong>--all</strong></p><p>Show all discovered realms (in various configurations).</p><p><strong>--client-software=xxx</strong></p><p>Only discover realms for which we can use the given client software. Possible values include <em>sssd</em> or <em>winbind</em>.</p><p><strong>--server-software=xxx</strong></p><p>Only discover realms which run the given server software. Possible values include <em>active-directory</em> or <em>ipa</em>.</p><p><strong>--membership-software=xxx</strong></p><p>Only discover realms for which the given membership software can be used to subsequently perform enrollment. Possible values include <em>samba</em> or <em>adcli</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">JOIN</h2>
        <div class="sectioncontent">
<p>Configure the local machine for use with a realm.</p>
<pre>
$ realm join domain.example.com
</pre>

<pre>
$ realm join --user=admin --computer-ou=OU=Special domain.example.com
</pre>
<p>The realm is first discovered, as we would with the <strong>discover</strong> command. If no domain is specified, then the domain assigned through DHCP is used as a default.</p><p>After a successful join, the computer will be in a state where it is able to resolve remote user and group names from the realm. For kerberos realms, a computer account and host keytab is created.</p><p>Joining arbitrary kerberos realms is not supported. The realm must have a supported mechanism for joining from a client machine, such as Active Directory or IPA.</p><p>Unless a --user is explicitly specified, an automatic join is attempted first. Automatic joins require pre-configuration on the domain side, and may not be supported by all domains.</p><p>Note that the --user, --no-password, and --one-time-password options are mutually exclusive. At most one of them can be specified.</p><p>It is generally possible to use kerberos credentials to perform a join operation. Use the <strong>kinit</strong> command to acquire credentials prior to starting the join. Do not specify the <strong>--user</strong> argument, the user will be selected automatically from the credential cache. The <strong>realm</strong> respects the KRB5_CCACHE environment variable, but uses the default kerberos credential cache if it&apos;s not present. Not all types of servers can be joined using kerberos credentials, some (like IPA) insist on prompting for a password.</p><p>The following options can be used:</p><p><strong>--user=xxx</strong></p><p>The user name to be used to authenticate with when joining the machine to the realm. You will be prompted for a password.</p><p><strong>--computer-ou=OU=xxx</strong></p><p>The distinguished name of an organizational unit to create the computer account. The exact format of the distinguished name depends on the client software and membership software. You can usually omit the root DSE portion of distinguished name. This is an Active Directory specific option.</p><p><strong>--no-password</strong></p><p>Perform the join automatically without a password.</p><p><strong>--one-time-password=xxxx</strong></p><p>Perform the join using a one time password specified on the command line. This is not possible with all types of realms.</p><p><strong>--client-software=xxx</strong></p><p>Only join realms for which we can use the given client software. Possible values include <em>sssd</em> or <em>winbind</em>. Not all values are supported for all realms. By default the client software is automatically selected.</p><p><strong>--server-software=xxx</strong></p><p>Only join realms for run the given server software. Possible values include <em>active-directory</em> or <em>ipa</em>.</p><p><strong>--membership-software=xxx</strong></p><p>The software to use when joining to the realm. Possible values include <em>samba</em> or <em>adcli</em>. Not all values are supported for all realms. By default the membership software is automatically selected.</p><p><strong>--user-principal=</strong><strong></strong><em>host/name@REALM</em></p><p>Set the userPrincipalName field of the computer account to this kerberos principal. If you omit the value for this option, then a principal will be set in the form of host/shortname@REALM</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LEAVE</h2>
        <div class="sectioncontent">
<p>Deconfigure the local machine for use with a realm.</p>
<pre>
$ realm leave
</pre>

<pre>
$ realm leave domain.example.com
</pre>
<p>If no realm name is specified, then the first configured realm will be used.</p><p>The following options can be used:</p><p><strong>--client-software=xxx</strong></p><p>Only leave the realm which is using the given client software. Possible values include <em>sssd</em> or <em>winbind</em>.</p><p><strong>--server-software=xxx</strong></p><p>Only leave the realm which is using the given server software. Possible values include <em>active-directory</em> or <em>ipa</em>.</p><p><strong>--remove</strong></p><p>Remove or disable computer account from the directory while leaving the realm. This will usually prompt for a pasword.</p><p><strong>--user</strong></p><p>The user name to be used to authenticate with when leaving the realm. You will be prompted for a password. Implies <strong>--remove</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIST</h2>
        <div class="sectioncontent">
<p>List all the discovered and configured realms.</p>
<pre>
$ realm list
</pre>
<p>By default, realms that have been discovered, but not configured (using the <strong>join</strong> command), are not displayed. Also, by default, the list of realm details displayed is verbose. The options below can be used to change this default behavior</p><p>The following options can be used:</p><p><strong>--all</strong></p><p>Show all discovered realms (whether or not they have been configured).</p><p><strong>--name-only</strong></p><p>Display only realm names (as opposed to verbose output).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PERMIT</h2>
        <div class="sectioncontent">
<p>Permit local login by users of the realm.</p>
<pre>
$ realm permit --all
$ realm permit user@example.com
$ realm permit DOMAIN&#92;&#92;User2
$ realm permit --withdraw user@example.com
</pre>
<p>The current login policy and format of the user names can be seen by using the <strong>realm list</strong> command.</p><p>The following options can be used:</p><p><strong>--all, -a</strong></p><p>Permit logins using realm accounts on the local machine according to the realm policy.This usually defaults to allowing any realm user to log in.</p><p><strong>--groups, -g</strong></p><p>Treat the specified names as groups rather than user login names. Permit login by users in the specified groups.</p><p><strong>--realm, -R</strong></p><p>Specify the of the realm to change login policy for.</p><p><strong>--withdraw, -x</strong></p><p>Remove a login from the list of realm accounts permitted to log into the machine.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DENY</h2>
        <div class="sectioncontent">
<p>Deny local login by realm accounts.</p>
<pre>
$ realm deny --all
</pre>
<p>This command prevents realm accounts from logging into the local machine. Use <strong>realm permit</strong> to restrict logins to specific accounts.</p><p>The following options can be used:</p><p><strong>--all, -a</strong></p><p>This option should be specified</p><p><strong>--realm, -R</strong></p><p>Specify the name of the realm to deny users login to.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Stef Walter</strong> &lt;stef@thewalter.net&gt;</p><p>Maintainer</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="really.8.html"><span aria-hidden="true">&larr;</span> really.8: Gain privilege or run commands a different user</a></li>
   <li class="next"><a href="systemd-sysv-reboot.8.html">reboot.8: Halt, power-off or reboot the machine <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
