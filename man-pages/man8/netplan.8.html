<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>netplan: Ip server for plan(1) appointment lists</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ip server for plan(1) appointment lists">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="netplan (8) manual">
  <meta name="twitter:description" content="Ip server for plan(1) appointment lists">
  <meta name="twitter:image" content="https://www.carta.tech/images/netplan-netplan-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/netplan.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="netplan (8) manual" />
  <meta property="og:description" content="Ip server for plan(1) appointment lists" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/netplan-netplan-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">netplan<small> (8)</small></h1>
        <p class="lead">Ip server for plan(1) appointment lists</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/netplan.8.html">
      <span itemprop="name">netplan: Ip server for plan(1) appointment lists</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/netplan/">
      <span itemprop="name">netplan</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/netplan.8.html">
      <span itemprop="name">netplan: Ip server for plan(1) appointment lists</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>netplan</strong> [-f] [-d] [-v] [-a]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>netplan</strong> is an IP server that serves calendar data to <a href="../man1/plan.1.html"><strong>plan</strong>(1)</a> programs. It maintains the /var/lib/plan/netplan.dir directory, that contains calendar files and an access list file. <strong>plan</strong> users can name files and hosts in their file list dialog, which causes <strong>plan</strong> to establish a connection to <strong>netplan</strong> on the given host and request data from the file. <strong>netplan</strong> handles multiple connections to the same file, sequences updates to files such that no data can be lost if multiple simultaneous updates are requested, and notifies connected <strong>plan</strong> programs of changes so they can update their displays.</p><h3>OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    -f
  </dt>
  <dd>
    <p>Runs in the foreground. This is useful for debugging.</p>
  </dd>
  <dt>
    -d
  </dt>
  <dd>
    <p>Debug mode. This implies -f. All connections and transactions are logged to the terminal. Among other things, the program version and file locations are printed.</p>
  </dd>
  <dt>
    -v
  </dt>
  <dd>
    <p>Verbose. Together with -d, the verbosity of the log messages is increased to include data requests. this can generate large numbers of messages.</p>
  </dd>
  <dt>
    -a
  </dt>
  <dd>
    <p>Authentication via IDENTD (RFC 1413) is mandatory.  If authentication fails, map the client to UID/GID NOBODY. Use this only if all connecting client hosts (running <strong>plan</strong> or <strong>pland</strong> ) support the identd authentication service (you can find out by running ``telnet clienthost 113''; if telnet reports ``Connected'' type Ctrl-D, clienthost support identd). If a client host that does not support identd connects to a <strong>netplan</strong> server run with -a, it will have no or restricted access. Also, if you use -a, you must have a netplan-acl file or no access is granted to anybody; see below.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>All files accessible to <strong>netplan</strong> are stored in the /var/lib/plan/netplan.dir directory. <strong>netplan</strong> will not access any files that are not in this directory or in subdirectories of this directory. It will also refuse to access softlinks and files with multiple hard links. This prevents users from linking normally inaccessible files to netplan.dir and accessing them through <strong>netplan .</strong> Finally, files beginning with a dot are rejected to prevent access to netplan-acl and other future configuration files.</p><p>/etc/plan/ may also contain a file netplan-acl that controls which user can access which file. If the file is missing, no restrictions are imposed unless <strong>netplan</strong> is started with the -a option, in which case no access to any file is granted. The syntax for netplan-acl file is a sequence of rules like this:</p>
<pre>
    name | owner | * : [permit | deny] [read] [write] [delete]
                       [netmask n.n.n.n]
                       [[user | group | host] data [data...]]
</pre>
<p><em>name</em> is the file the rule applies to; an asterisk (*) applies to all files. The special name <em>owner</em> applies to the file by the name of current user, containing that user's ``own'' appointments.</p><p>Permit is the default. If none of read, write, or delete are specified, all three are the default. The <em>netmask</em> applies to the client's IP address. The default netmask is 255.255.255.255. <em>data</em> is one or more user names or numerical UIDs, group names or numerical GIDs, or host names or numerical n.n.n.n IP addresses for user, group, and host clauses, respectively. In user clauses, values of the form user@host are also accepted. Symbolic names will be looked up on the server host (where netplan is running) and will be converted to numerical values while the ACL file is read. This assumes that all hosts agree on symbolic and numeric user, group, and host IDs; the plan/netplan protocol always uses numerical IDs and assumes that they correspond to the same symbolic names on both hosts. If no user, group, or host keyword and <em>data</em> list is specified, the meaning is ``any''.</p><p>Trailing n=0 IP address components are not assumed to denote nets; use the <em>netmask</em> specifier for subnet masking. All whitespace is ignored.</p><p>Pound signs (#) introduce comments that extend to the end of the line.</p><p>For example,</p>
<pre>
    *: permit read
    *: permit write host daphne
    vacation: permit write user 207
    thomas: deny user *
    thomas: permit read write delete user 207 208
    announce: permit write netmask 255.255.255.0 host 10.0.1.0
</pre>
<p>first permits reading all files to everybody, and restricts write access to users on host daphne. The third line permits write access to the file <em>vacation</em> to user 207, in addition to the read access permitted in lines 1-2. Next, read and write access for file <em>thomas</em> is granted to users 207 and 208 only. Finally, the file <em>announce</em> can be written by all users on hosts whose network address begins with 10.0.1. Trailing ".0" parts need not be entered. The netmask basically specifies which bits of the client address are compared; all addresses are binary-ANDed with the netmask before comparison.</p><p>When opening a file, the rules are scanned sequentially. All rules whose file part (before the colon) matches the opened file, set or clear permission flags for reading and writing, based on the identity of the <strong>plan</strong> client as given by his user ID, group IDs, and IP address. The final settings of these flags determine the permissions of the file for the client.  The final permission setting is the AND result of the permissions derived for the host/netmask, and user/group part, respectively.</p><p><strong>netplan</strong> tries to verify the identity of the client user with the IDENTD (RFC 1413) protocol.  If the identification succeeds, the client username is mapped to UID and GIDs per the local passwd and group files on the server host.  If RFC 1413 identification is unsuccessful, <strong>netplan</strong> trusts the (numerical) identity provided by the client.</p><p>If the -a option is given on the invocation of <strong>netplan,</strong> RFC 1413 identification becomes mandatory, and a failed identification will map the client to the NOBODY UID and GID.</p><p>Note that although the ACL syntax was roughly patterned after TIS fwtk firewall configuration files, the code and interpretation is rather different.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p><strong>netplan</strong> trusts IP addresses to determine host (network) access restrictions. If IP addresses cannot be trusted, host access restrictions become meaningless.</p><p>Without RFC 1413 authetication, netplan trusts whatever user id and group id the client provides.   If <strong>netplan</strong> is used through the regular <strong>plan</strong> front-end application, the access list file specifications are honored, but any half-witted programmer can fake his identity using telnet or a hacked version of <strong>plan</strong> (the sources are, after all, freely available) to circumvent the access restrictions.</p><p>If RFC 1413 authentication is mandatory (-a flag), <strong>netplan</strong> still trusts whatever the remote identd provides.  If you cannot trust root on the remote host, you cannot trust the identd result.  (And if you cannot trust IP addresses, you effectively cannot trust the remote root any more.)</p><p>In this version of <strong>netplan</strong>, no challenge-response encryption is used to guarantee secure transactions. This may or may not change in future versions. In this version, access lists provide only a moderate protection.</p><h3>DEBIAN NOTE</h3>
<p>The location for /etc/plan/netplan-acl is specific to Debian GNU/Linux.  For compliance with FSSTND/FHS, it has been moved there from its traditional /var/lib/plan/netplan.dir/.netplan-acl location. The program still accesses that file via a symlink located at the traditional location.</p>
<h3>SEE ALSO</h3>
<p><a href="../man1/plan.1.html"><strong>plan</strong>(1)</a>.</p>
<h3>AUTHOR</h3>
<p>Thomas Driemeyer &lt;thomas@bitrot.de&gt;</p><p>Please send all complaints, comments, bug fixes, and porting experiences to me. Always include your plan version as reported by "plan -v" in your mail. To be added to the mailing list, send mail to majordomo@bitrot.de with the line "subscribe plan" (without the quotes) in the message body (not the subject).</p><p>See http://www.bitrot.de/plan.html for new releases.</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nethogs.8.html"><span aria-hidden="true">&larr;</span> nethogs.8: Net top tool grouping bandwidth per process</a></li>
   <li class="next"><a href="netromd.8.html">netromd.8: Send and receive net/rom routing messages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
