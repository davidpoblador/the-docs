<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ptunnel: Tunnel tcp connections over icmp echo request/reply packets.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tunnel tcp connections over icmp echo request/reply packets.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ptunnel (8) manual">
  <meta name="twitter:description" content="Tunnel tcp connections over icmp echo request/reply packets.">
  <meta name="twitter:image" content="https://www.carta.tech/images/ptunnel-ptunnel-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/ptunnel.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ptunnel (8) manual" />
  <meta property="og:description" content="Tunnel tcp connections over icmp echo request/reply packets." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ptunnel-ptunnel-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ptunnel<small> (8)</small></h1>
        <p class="lead">Tunnel tcp connections over icmp echo request/reply packets.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ptunnel.8.html">
      <span itemprop="name">ptunnel: Tunnel tcp connections over icmp echo request/reply packets.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ptunnel/">
      <span itemprop="name">ptunnel</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/ptunnel.8.html">
      <span itemprop="name">ptunnel: Tunnel tcp connections over icmp echo request/reply packets.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ptunnel</strong> -p proxy_address -lp listen_port -da destination_address -dp dest_port [-c network_device] [-v verbosity] [-f file] [-udp] [-syslog]</p><p><strong>ptunnel</strong> [-c network_device] [-v verbosity] [-f file] [-udp] [-syslog] [-daemon file]</p><p><strong>ptunnel</strong> [-u] [-x password] [-setuid user] [-setgid group] [-chroot dir] [-setcon context]</p><p><strong>ptunnel</strong> -h</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>ptunnel is an application that allows you to reliably tunnel TCP connections to a remote host using ICMP echo request and reply packets, commonly known as ping requests and replies. At first glance, this might seem like a rather useless thing to do, but it can actually come in handy in some cases. The following example illustrates the main motivation in creating ptunnel:</p><p>Setting: You're on the go, and stumble across an open wireless network. The network gives you an IP address, but won't let you send TCP or UDP packets out to the rest of the internet, for instance to check your mail. What to do? By chance, you discover that the network will allow you to ping any computer on the rest of the internet. With ptunnel, you can utilize this feature to check your mail, or do other things that require TCP.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Client options:</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-p proxy_address</strong></p>
  </dt>
  <dd>
    <p>Specify the host on which the proxy is running.</p>
  </dd>
  <dt>
    <p><strong>-lp listen_port</strong></p>
  </dt>
  <dd>
    <p>Specifies the port on which the client will listen for incoming TCP connections.</p>
  </dd>
  <dt>
    <p><strong>-da destination_addr</strong></p>
  </dt>
  <dd>
    <p>Specifies the address to which you want your packets tunneled after reaching the proxy when in client mode, or restricts the destination packets can be forwarded to when in server mode.</p>
  </dd>
  <dt>
    <p><strong>-dp destination_port</strong></p>
  </dt>
  <dd>
    <p>Specifies/restrict the port that the proxy should tunnel the TCP connection to.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Shared options:</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c network_device</strong></p>
  </dt>
  <dd>
    <p>Specify the network interface to capture packets from. Note that packet capturing isn't always necessary, but you should try this if you experience problems with ptunnel.</p>
  </dd>
  <dt>
    <p><strong>-v verbosity</strong></p>
  </dt>
  <dd>
    <p>Controls the verbosity level. -1 is no output, 0 shows errors only, 1 shows info messages, 2 gives more output, 3 provides even more output, level 4 displays debug info and level 5 displays absolutely everything, including the nasty details of sends and receives.</p>
  </dd>
  <dt>
    <p><strong>-udp</strong></p>
  </dt>
  <dd>
    <p>Enables tunneling over UDP port 53 (DNS) instead of using ICMP. This will only work if your proxy can accept incoming traffic on port 53, and the client is able to send data to the proxy on port 53. Note that this option does not wrap ptunnel's data in DNS-compliant packets. This option must be given on both the proxy and client side for things to work correctly.</p>
  </dd>
  <dt>
    <p><strong>-syslog (Not available on Windows.)</strong></p>
  </dt>
  <dd>
    <p>Changes logging to use the built-in syslog fascility.</p>
  </dd>
  <dt>
    <p><strong>-daemon file (Not available on Windows.)</strong></p>
  </dt>
  <dd>
    <p>Run in background, writing PID in file.</p>
  </dd>
  <dt>
    <p><strong>-u</strong></p>
  </dt>
  <dd>
    <p>Attempts to run ptunnel without privileges. This doesn't usually work! On UNIX systems please consider using the following three options instead:</p>
  </dd>
  <dt>
    <p><strong>-setuid user (Not available on Windows.)</strong></p>
  </dt>
  <dd>
    <p>When started in privileged mode, drop down to user's rights as soon as possible.</p>
  </dd>
  <dt>
    <p><strong>-setgid group (Not available on Windows.)</strong></p>
  </dt>
  <dd>
    <p>When started in privileged mode, drop down to group's rights as soon as possible.</p>
  </dd>
  <dt>
    <p><strong>-chroot dir (Not available on Windows.)</strong></p>
  </dt>
  <dd>
    <p>When started in privileged mode, restrict file access to the specified directory.</p>
  </dd>
  <dt>
    <p><strong>-setcon context (Not available on Windows.)</strong></p>
  </dt>
  <dd>
    <p>Set SELinux context when all there is left to do are network I/O operations. In order to be able to combine with -chroot you will have to `mount --bind /proc /chrootdir/proc`</p>
  </dd>
  <dt>
    <p><strong>-x password</strong></p>
  </dt>
  <dd>
    <p>Specifies a password or passphrase to use. This will allow you to protect the proxy from use by others who don't know the password. It needs to be specified on both proxy and client.</p>
  </dd>
  <dt>
    <p><strong>-f file</strong></p>
  </dt>
  <dd>
    <p>Specifies a log file. If you specify -syslog, syslog is always used instead.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Displays brief usage information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following assumes that ptunnel is run as root, both on the proxy and client. To tunnel ssh connections from the client machine via a proxy running on proxy.pingtunnel.com to the computer login.domain.com, the following command line would be used:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ptunnel -p proxy.pingtunnel.com -lp 8000 -da login.domain.com -dp 22</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>An ssh connection to login.domain.com can now be established as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ssh -p 8000 localhost</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>If ssh complains about potential man-in-the-middle attacks, simply remove the offending key from the known_hosts file. The warning/error is expected if you have previously ssh'd to your local computer (i.e., ssh localhost), or you have used ptunnel to forward ssh connections to different hosts.</p><p>Of course, for all of this to work, you need to start the proxy on your proxy-computer (proxy.pingtunnel.com). Doing this is very simple:</p><p><strong>ptunnel</strong></p><p>If you find that the proxy isn't working, you will need to enable packet capturing on the main network device. Currently this device is assumed to be an ethernet-device (i.e., ethernet or wireless). Packet capturing is enabled by giving the -c switch, and supplying the device name to capture packets on (for instance eth0 or en1). The same goes for the client. On Mac OS X, packet capturing must always be enabled (both for proxy and client), as resent packets won't be received otherwise.</p><p>To protect yourself from others using your proxy, you can protect access to it with a password using the &lt;tt&gt;-x&lt;/tt&gt; switch. The password is never sent in the clear, but keep in mind that it may be visible from tools like top or ps, which can display the command line used to start an application.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p><strong>ptunnel</strong> does not exit until forced to do so by an interrupt (Ctrl-C) or if it crashes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><strong>ptunnel</strong> currently does not handle packet capturing on network interfaces other than ethernet or wireless correctly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Daniel Stoedle (daniels@cs.uit.no)</p><p>Mike Miller (mike@mikeage.net)</p><p>Sebastien Raveau (sebastien.raveau@epita.fr)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p><strong>ptunnel</strong> is licensed under the BSD License.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>The ptunnel homepage is currently located here:</p>
  </dt>
  <dd>
    <p>http://www.cs.uit.no/~daniels/PingTunnel/</p>
  </dd>
  <dt>
    <p>The freshmeat project page is located here:</p>
  </dt>
  <dd>
    <p>http://freshmeat.net/projects/ptunnel/</p>
  </dd>

</dl>
<p>Please take the time to rate ptunnel if you find it useful. Thanks!</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ptsematest.8.html"><span aria-hidden="true">&larr;</span> ptsematest.8: Start two threads and measure the latency of interprocess communication with posix mutex.</a></li>
   <li class="next"><a href="puppet.8.html">puppet.8: Puppet  see \'puppet help\' for help on available puppet subcommands <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
