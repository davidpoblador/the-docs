<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mcelog: Decode kernel machine check log on x86 machines</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Decode kernel machine check log on x86 machines">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mcelog (8) manual">
  <meta name="twitter:description" content="Decode kernel machine check log on x86 machines">
  <meta name="twitter:image" content="https://www.carta.tech/images/mcelog-mcelog-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/mcelog.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mcelog (8) manual" />
  <meta property="og:description" content="Decode kernel machine check log on x86 machines" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mcelog-mcelog-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mcelog<small> (8)</small></h1>
        <p class="lead">Decode kernel machine check log on x86 machines</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mcelog.8.html">
      <span itemprop="name">mcelog: Decode kernel machine check log on x86 machines</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mcelog/">
      <span itemprop="name">mcelog</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/mcelog.8.html">
      <span itemprop="name">mcelog: Decode kernel machine check log on x86 machines</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>mcelog [options] [device]</p><p>mcelog [options] --daemon</p><p>mcelog [options] --client</p><p>mcelog [options] --ascii</p><p>mcelog [options] --is-cpu-supported</p><p>mcelog --version</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>X86 CPUs report errors detected by the CPU as <em>machine check events (MCEs).</em> These can be data corruption detected in the CPU caches, in main memory by an integrated memory controller, data transfer errors on the front side bus or CPU interconnect or other internal errors. Possible causes can be cosmic radiation, instable power supplies, cooling problems, broken hardware, or bad luck.</p><p>Most errors can be corrected by the CPU by internal error correction mechanisms. Uncorrected errors cause machine check exceptions which may panic the machine.</p><p>When a corrected error happens the x86 kernel writes a record describing the MCE into a internal ring buffer available through the <em>/dev/mcelog</em> device <em>mcelog</em> retrieves errors from <em>/dev/mcelog,</em> decodes them into a human readable format and prints them on the standard output or optionally into the system log.</p><p>Optionally it can also take more options like keeping statistics or triggering shell scripts on specific events.</p><p>The normal operating modi for mcelog are running as a regular cron job (traditional way, deprecated), running as a trigger directly executed by the kernel, or running as a daemon with the <em>--daemon</em> option.</p><p>When an uncorrected machine check error happens that the kernel cannot recover from then it will usually panic the system. In this case when there was a warm reset after the panic mcelog should pick up the machine check errors after reboot. This is not possible after a cold reset.</p><p>In addition mcelog can be used on the command line to decode the kernel output for a fatal machine check panic in text format using the <em>--ascii</em> option. This is typically used to decode the panic console output of a fatal machine check, if the system was power cycled or mcelog didn't run immediately after reboot.</p><p>When the panic triggers a kdump kexec crash kernel the crash kernel boot up script should log the machine checks to disk, otherwise they might be lost.</p><p>Note that after mcelog retrieves an error the kernel doesn't store it anymore (different from <a href="../man1/dmesg.1.html"><strong>dmesg</strong>(1)</a>),</em> so the output should be always saved somewhere and mcelog not run in uncontrolled ways.</p><p>When invoked with the <em>--is-cpu-supported</em> option mcelog exits with code 0 if the current CPU is supported, 1 otherwise.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>When the <strong>--syslog</strong> option is specified redirect output to system log. The <strong>--syslog-error</strong> option causes the normal machine checks to be logged as <em>LOG_ERR</em> (implies <em>--syslog</em> ). Normally only fatal errors or high level remarks are logged with error level. High level one line summaries of specific errors are also logged to the syslog by default unless mcelog operates in <em>--ascii</em> mode.</p><p>When the <strong>--logfile=file</strong> option is specified append log output to the specified file. With the <strong>--no-syslog</strong> option mcelog will never log anything to the syslog.</p><p>When the <strong>--cpu=cputype</strong> option is specified set the to be decoded CPU to <em>cputype.</em> See <em>mcelog --help</em> for a list of valid CPUs. Note that specifying an incorrect CPU can lead to incorrect decoding output. Default is either the CPU of the machine that reported the machine check (needs a newer kernel version) or the CPU of the machine mcelog is running on, so normally this option doesn't have to be used. Older versions of mcelog had separate options for different CPU types. These are still implemented, but deprecated and undocumented now.</p><p>With the <strong>--dmi</strong> option mcelog will look up the addresses reported in machine checks in the <em>SMBIOS/DMI</em> tables of the BIOS. This can sometimes tell you which DIMM or memory controller has developed a problem. More often the information reported by the BIOS is either subtly or obviously wrong or useless. This option requires that mcelog has read access to /dev/mem (normally requires root) and runs on the same machine in the same hardware configuration as when the machine check event happened.</p><p>When <strong>--ignorenodev</strong> is specified then mcelog will exit silently when the device cannot be opened. This is useful in virtualized environment with limited devices.</p><p>When <strong>--filter</strong> is specified <em>mcelog</em> will filter out known broken machine check events (default on). When the <strong>--no-filter</strong> option is specified mcelog does not filter events.</p><p>When <strong>--raw</strong> is specified <em>mcelog</em> will not decode, but just dump the mcelog in a raw hex format. This can be useful for automatic post processing.</p><p>When a device is specified the machine check logs are read from device instead of the default <em>/dev/mcelog.</em></p><p>With the <strong>--ascii</strong> option mcelog decodes a fatal machine check panic generated by the kernel ("CPU n: Machine Check Exception ...") in ASCII from standard input and exits afterwards. Note that when the panic comes from a different machine than where mcelog is running on you might need to specify the correct cputype on older kernels. On newer kernels which output the <em>PROCESSOR</em> field this is not needed anymore.</p><p>When the <strong>--file filename</strong> option is specified <em>mcelog --ascii</em> will read the ASCII machine check record from input file <em>filename</em> instead of standard input.</p><p>With the <strong>--config-file file</strong> option mcelog reads the specified config file. Default is <em>/etc/mcelog/mcelog.conf</em> See also <em>CONFIG FILE</em> below.</p><p>With the <strong>--daemon</strong> option mcelog will run in the background. This gives the fastest reaction time and is the recommended operating mode. If an output option isn't selected ( <em>--logfile</em> or <em>--syslog</em> or <em>--syslog-error</em> ), this option implies <em>--logfile=/var/log/mcelog.</em> Important messages will be logged as one-liner summaries to syslog unless <em>--no-syslog</em> is given. The option <em>--foreground</em> will prevent mcelog from giving up the terminal in daemon mode. This is intended for debugging.</p><p>With the <strong>--client</strong> option mcelog will query a running daemon for accumulated errors.</p><p>With the <strong>--cpumhz=mhz</strong> option assume the CPU has <em>mhz</em> frequency for decoding the time of the event using the CPU time stamp counter. This also forces decoding. Note this can be unreliable. on some systems with CPU frequency scaling or deep C states, where the CPU time stamp counter does not increase linearly. By default the frequency of the current CPU is used when mcelog determines it is safe to use. Newer kernels report the time directly in the event and don't need this anymore.</p><p>The <strong>--pidfile file</strong> option writes the process id of the daemon into file <em>file.</em> Only valid in daemon mode.</p><p>Mcelog will enable extended error reporting from the memory controller on processors that support it unless you tell it not to with the <strong>--no-imc-log</strong> option. You might need this option when decoding old logs from a system where this mode was not enabled.</p><p><strong>--version</strong> displays the version of mcelog and exits.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIG FILE</h2>
        <div class="sectioncontent">
<p>mcelog supports a config file to set defaults. Command line options override the config file. By default the config file is read from <em>/etc/mcelog/mcelog.conf</em> unless overridden with the <em>--config-file</em> option.</p><p>The general format is <em>optionname = value</em> White space is not allowed in value currently, except at the end where it is dropped Comments start with #.</p><p>All command line options that are not commands can be specified in the config file. For example t to enable the <em>--no-syslog</em> option use <em>no-syslog = yes</em> (or no to disable).  When the option has a argument use <em>logfile = /tmp/logfile</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The kernel prefers old messages over new. If the log buffer overflows only old ones will be kept.</p><p>The exact output in the log file depends on the CPU, unless the --raw option is used.</p><p>mcelog will report serious errors to the syslog during decoding.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNALS</h2>
        <div class="sectioncontent">
<p>When <em>mcelog</em> runs in daemon mode and receives a <em>SIGUSR1</em> it will close and reopen the log files. This can be used to rotate logs without restarting the daemon.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/dev/mcelog (char 10, minor 227)</p><p>/etc/mcelog/mcelog.conf</p><p>/var/log/mcelog</p><p>/var/run/mcelog.pid</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mcelog&hellip;</h2>
        <div class="sectioncontent">
<p>AMD x86-64 architecture programmer's manual, Volume 2, System programming</p><p>Intel 64 and IA32 Architectures Software Developer's manual, Volume 3, System programming guide Parts 1 and 2. Machine checks are described in Chapter 14 in Part1 and in Appendix E in Part2.</p><p>Datasheet of your CPU.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mbexamine.8.html"><span aria-hidden="true">&larr;</span> mbexamine.8: Examine a cyrus-format mailbox</a></li>
   <li class="next"><a href="mcs.8.html">mcs.8: Multi-category system <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
