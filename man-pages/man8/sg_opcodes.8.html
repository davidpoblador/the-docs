<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sg_opcodes: Report supported scsi commands or task management functions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Report supported scsi commands or task management functions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sg_opcodes (8) manual">
  <meta name="twitter:description" content="Report supported scsi commands or task management functions">
  <meta name="twitter:image" content="https://www.carta.tech/images/sg3-utils-sg_opcodes-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/sg_opcodes.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sg_opcodes (8) manual" />
  <meta property="og:description" content="Report supported scsi commands or task management functions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sg3-utils-sg_opcodes-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sg_opcodes<small> (8)</small></h1>
        <p class="lead">Report supported scsi commands or task management functions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sg_opcodes.8.html">
      <span itemprop="name">sg_opcodes: Report supported scsi commands or task management functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sg3-utils/">
      <span itemprop="name">sg3-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/sg_opcodes.8.html">
      <span itemprop="name">sg_opcodes: Report supported scsi commands or task management functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sg_opcodes</strong> [<em>--alpha</em>] [<em>--help</em>] [<em>--hex</em>] [<em>--no-inquiry</em>] [<em>--opcode=OP</em>] [<em>--raw</em>] [<em>--rctd</em>] [<em>--repd</em>] [<em>--sa=SA</em>] [<em>--tmf</em>] [<em>--unsorted</em>] [<em>--verbose</em>] [<em>--version</em>] <em>DEVICE</em></p><p><strong>sg_opcodes</strong> [<em>-a</em>] [<em>-n</em>] [<em>-o=OP</em>] [<em>-q</em>] [<em>-R</em>] [<em>-s=SA</em>] [<em>-t</em>] [<em>-u</em>] [<em>-v</em>] [<em>-V</em>] [<em>-?</em>] <em>DEVICE</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This utility sends a SCSI REPORT SUPPORTED OPERATION CODES or a REPORT SUPPORTED TASK MANAGEMENT FUNCTIONS command to the <em>DEVICE</em> and then outputs the response. The default action is to report supported operation codes. In this mode it will either list all supported commands or give detailed information on a specific command identified by the <em>--opcode=OP</em> option (perhaps with additional information from the <em>--sa=SA</em> option).</p><p>The name of a SCSI command depends on its peripheral device type (e.g. a disk). The REPORT SUPPORTED OPERATION CODES and REPORT SUPPORTED TASK MANAGEMENT FUNCTIONS commands are not supported in the MMC command set for CD and DVD devices. This utility does an INQUIRY to obtain the peripheral device type and prints out the vendor, product and revision strings.</p><p>A similar facility to query supported operation codes previously was available via the CmdDt bit in the SCSI INQUIRY command (see <a href="../man8/sg_inq.8.html"><strong>sg_inq</strong>(8)</a>). However that facility was made obsolete and replaced by the REPORT SUPPORTED OPERATION CODES command in SPC-3 (revision 4) during February 2002.</p><p>This utility supports two command line syntaxes, the preferred one is shown first in the synopsis and explained in this section. A later section on the old command line syntax outlines the second group of options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Arguments to long options are mandatory for short options as well.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong>, <strong>--alpha</strong></p>
  </dt>
  <dd>
    <p>when all supported commands are being listed there is no requirement for the device server (i.e. the <em>DEVICE</em>) to sort the list of commands. When this option is given the list of supported commands is sorted by name (alphabetically). When this option and the <strong>--unsorted</strong> option are both _not_ given then the list of supported commands is sorted numerically (first by operation code and then by service action).</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>outputs the usage message summarizing command line options then exits. Ignores <em>DEVICE</em> if given.</p>
  </dd>
  <dt>
    <p><strong>-H</strong>, <strong>--hex</strong></p>
  </dt>
  <dd>
    <p>outputs the response in ASCII hexadecimal to stdout.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--no-inquiry</strong></p>
  </dt>
  <dd>
    <p>Prior to calling a SCSI REPORT SUPPORTED OPERATION CODES or a REPORT SUPPORTED TASK MANAGEMENT FUNCTIONS command, a SCSI INQUIRY command is performed. The reason is to determine the peripheral device type (pdt) of the <em>DEVICE</em> as this is helpful in translating operation codes to the command names. By default this utility prints a summary of INQUIRY command response on stdout. If this option (or the <em>--raw</em> option) is given then that summary is not printed on stdout.</p>
  </dd>
  <dt>
    <p><strong>-O</strong>, <strong>--old</strong></p>
  </dt>
  <dd>
    <p>switch to older style options.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--opcode</strong>=<em>OP</em></p>
  </dt>
  <dd>
    <p>the <em>DEVICE</em> will be queried for the given operation code ( i.e. the <em>OP</em> value) which is the first byte of a SCSI command. <em>OP</em> is decimal unless prefixed by "0x" or it has a trailing "h". <em>OP</em> should be in the range 0 to 255 (0xff) inclusive. When this option is not given then all available SCSI commands supported by the <em>DEVICE</em> are listed.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--raw</strong></p>
  </dt>
  <dd>
    <p>output the response in binary to stdout. Error messages and warnings, if any, are sent to stderr.</p>
  </dd>
  <dt>
    <p><strong>-R</strong>, <strong>--rctd</strong></p>
  </dt>
  <dd>
    <p>set report command timeout descriptor (RCTD) bit in the cdb. The response may or may not contain command timeout descriptors. If available they are output. If supported there are two values: a nominal command timeout and a recommended command timeout. Both have units of seconds. A value of zero means that no timeout is indicated and this is shown in the corresponding decoded output as "-".</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--repd</strong></p>
  </dt>
  <dd>
    <p>set read extended parameter data (REPD) bit in the report task management functions cdb. 16 bytes rather than the default 4 bytes expected in the response. This was added in SPC-4 (revision 26).</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--sa</strong>=<em>SA</em></p>
  </dt>
  <dd>
    <p>the <em>DEVICE</em> will be queried for a command with the given service action (i.e. the <em>SA</em> value). Used in conjunction with the <em>--opcode=OP</em> option. If this option is not given, <em>--opcode=OP</em> is given and the command in question does have a service action then a value of 0 will be assumed. <em>SA</em> is decimal and expected to be in the range 0 to 65535 (0xffff) inclusive.</p>
  </dd>
  <dt>
    <p><strong>-t</strong>, <strong>--tmf</strong></p>
  </dt>
  <dd>
    <p>list supported task management functions. This is done with the SCSI REPORT SUPPORTED TASK MANAGEMENT FUNCTIONS command.  When this option is chosen the <em>--alpha</em>, <em>--opcode=OP</em>, <em>--rctd</em>, <em>--sa=SA</em> and <em>--unsorted</em> options are ignored.</p>
  </dd>
  <dt>
    <p><strong>-u</strong>, <strong>--unsorted</strong></p>
  </dt>
  <dd>
    <p>when all supported commands are being listed there is no requirement for the device server (i.e. the <em>DEVICE</em>) to sort the list of commands. When this option is given the list of supported commands is in the order given by the <em>DEVICE</em>. When this option is not given the supported commands are sorted numerically (first by operation code and then by service action).</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>increase level of verbosity. Can be used multiple times.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>print out version string then exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>As of SPC-4 revision 7a the recognized task management functions are: abort set, abort task set, clear ACA, clear task set, I_T nexus reset, logical unit reset, query task, target reset and wakeup. As of SPC-4 revision 26 target reset and wakeup have been made obsolete while query task set and query asynchronous event notification have been added.</p><p>In the 2.4 series of Linux kernels the <em>DEVICE</em> must be a SCSI generic (sg) device. In the 2.6 series block devices (e.g. SCSI disks and DVD drives) can also be specified. For example "sg_opcodes /dev/sda" will work in the 2.6 series kernels.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The exit status of sg_opcodes is 0 when it is successful. Otherwise see the <a href="../man8/sg3_utils.8.html"><strong>sg3_utils</strong>(8)</a> man page.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OLDER COMMAND LINE OPTIONS</h2>
        <div class="sectioncontent">
<p>The options in this section were the only ones available prior to sg3_utils version 1.23 . In sg3_utils version 1.23 and later these older options can be selected by either setting the SG3_UTILS_OLD_OPTS environment variable or using '--old' (or '-O) as the first option.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>sort command alphabetically. Equivalent to <em>--alpha</em> in main description.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>don't print a summary of the SCSI INQUIRY response on stdout.</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>switch to the newer style options.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>=<em>OP</em></p>
  </dt>
  <dd>
    <p>the <em>DEVICE</em> will be queried for the given operation code (i.e. <em>OP</em>) which is the first byte of a SCSI command. <em>OP</em> is hexadecimal and expected to be in the range 0 to ff inclusive. When this option is not given then all available SCSI commands supported by the <em>DEVICE</em> are listed.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>set the read extended parameter data (REPD) bit in report TMF cdb. Equivalent to <em>--repd</em> in main description.</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>set the report command timeout descriptor (RCTD) bit in cdb. Equivalent to <em>--rctd</em> in main description.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>=<em>SA</em></p>
  </dt>
  <dd>
    <p>the <em>DEVICE</em> will be queried for a command with the given service action (i.e. <em>SA</em>). Used in conjunction with the <em>-o=OP</em> option. If this option is not given, <em>-o=OP</em> is given and the command in question does have a service action then a value of 0 will be assumed. <em>SA</em> is hexadecimal and expected to be in the range 0 to ffff inclusive.</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>list supported task management functions. Equivalent to <em>--tmf</em> in the main description.</p>
  </dd>
  <dt>
    <p><strong>-u</strong></p>
  </dt>
  <dd>
    <p>output all supported commands in the order given by <em>DEVICE</em>. Equivalent to <em>--unsorted</em> in main description.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>increase level of verbosity. Can be used multiple times.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>print out version string then exit.</p>
  </dd>
  <dt>
    <p><strong>-?</strong></p>
  </dt>
  <dd>
    <p>output usage message. Ignore all other parameters.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The examples in this page use Linux device names. For suitable device names in other supported Operating Systems see the <a href="../man8/sg3_utils.8.html"><strong>sg3_utils</strong>(8)</a> man page.</p><p>To see the information about a specific command give its operation code to the '--op=' option. A command line invocation is shown first followed by a typical response:</p>
<pre>
   # sg_opcodes --op=93h /dev/sdb
</pre>

<pre>
  Opcode=0x93
</pre>

<pre>
  Command_name: Write same(16)
</pre>

<pre>
  Command supported [conforming to SCSI standard]
</pre>

<pre>
  Usage data: 93 e2 00 00 00 00 ff ff ff ff 00 00 ff ff 00 00
</pre>
<p>The next example shows the supported task management functions:</p>
<pre>
   # sg_opcodes --tmf -n /dev/sdb
</pre>
<p>Task Management Functions supported by device:</p>
<pre>
    Abort task
</pre>

<pre>
    Abort task set
</pre>

<pre>
    Clear ACA
</pre>

<pre>
    Clear task set
</pre>

<pre>
    Logical unit reset
</pre>

<pre>
    Query task
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Douglas Gilbert</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;dgilbert at interlog dot com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2004-2012 Douglas Gilbert</p><p>This software is distributed under the GPL version 2. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sg_opcodes&hellip;</h2>
        <div class="sectioncontent">
<p><strong>sg_inq(sg3_utils)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sg_modes.8.html"><span aria-hidden="true">&larr;</span> sg_modes.8: Reads mode pages with scsi mode sense command</a></li>
   <li class="next"><a href="sg_persist.8.html">sg_persist.8: Use scsi persistent reserve command to access registrations and reservations <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
