<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>iscsiadm: Open-iscsi administration utility</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Open-iscsi administration utility">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="iscsiadm (8) manual">
  <meta name="twitter:description" content="Open-iscsi administration utility">
  <meta name="twitter:image" content="https://www.carta.tech/images/open-iscsi-iscsiadm-8.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man8/iscsiadm.8.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="iscsiadm (8) manual" />
  <meta property="og:description" content="Open-iscsi administration utility" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/open-iscsi-iscsiadm-8.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">iscsiadm<small> (8)</small></h1>
        <p class="lead">Open-iscsi administration utility</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/">
      <span itemprop="name">System administration commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/iscsiadm.8.html">
      <span itemprop="name">iscsiadm: Open-iscsi administration utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/open-iscsi/">
      <span itemprop="name">open-iscsi</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man8/iscsiadm.8.html">
      <span itemprop="name">iscsiadm: Open-iscsi administration utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>iscsiadm</strong> -m discoverydb [ -hV ] [ -d debug_level ] [ -P printlevel ] [ -I iface -t type -p ip:port [ -lD ] ] | [ [ -p ip:port -t type ]  [ -o operation ] [ -n name ] [ -v value ] [ -lD ] ]</p><p><strong>iscsiadm</strong> -m discovery [ -hV ] [ -d debug_level ] [ -P printlevel ] [ -I iface -t type -p ip:port [ -l ] ] | [ [ -p ip:port ] [ -l | -D ] ]</p><p><strong>iscsiadm</strong> -m node [ -hV ] [ -d debug_level ] [ -P printlevel ] [ -L all,manual,automatic ] [ -U all,manual,automatic ] [ -S ] [ [ -T targetname -p ip:port -I iface ] [ -l | -u | -R | -s] ] [ [ -o operation ]  [ -n name ] [ -v value ] [ -p ip:port ] ]</p><p><strong>iscsiadm</strong> -m session [ -hV ] [ -d debug_level ] [ -P printlevel ] [ -r sessionid | sysfsdir [ -R ] [ -u | -s | -o new ] ]</p><p><strong>iscsiadm</strong> -m iface [ -hV ] [ -d debug_level ] [ -P printlevel ] [ -I ifacename | -H hostno|MAC ]   [ [ -o  operation  ] [ -n name ] [ -v value ] ] [ -C ping [ -a ip ] [ -b packetsize ] [ -c count ] [ -i interval ] ]</p><p><strong>iscsiadm</strong> -m fw [ -d debug_level ] [-l]</p><p><strong>iscsiadm</strong> -m host [ -P printlevel ] [ -H hostno|MAC ] [ [ -C chap [ -o operation ] [ -v chap_tbl_idx ] ] | [ -C flashnode [ -o operation ] [ -A portal_type ] [ -x flashnode_idx ] [ -n name ] [ -v value ] ] ]</p><p><strong>iscsiadm</strong> -k priority</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The iscsiadm utility is a command-line tool allowing discovery and login to iSCSI targets, as well as access and management of the open-iscsi database.</p><p>Open-iscsi does not use the term node as defined by the iSCSI RFC, where a node is a single iSCSI initiator or target. Open-iscsi uses the term node to refer to a portal on a target.</p><p>For session mode, a session id (sid) is used. The sid of a session can be found by running iscsiadm -m session -P 1. The session id and sysfs path are not currently persistent and is partially determined by when the session is setup.</p><p>Note that many of the node and discovery operations require that the iSCSI daemon (iscsid) be running.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong>, <strong>--ip=</strong><em>ipaddr</em><strong></strong></p>
  </dt>
  <dd>
    <p><em>ipaddr</em> can be IPv4 or IPv6.</p><p>This option is only valid for ping submode.</p>
  </dd>
  <dt>
    <p><strong>-A</strong>, <strong>--portal_type=</strong><em>[ipv4|ipv6]</em></p>
  </dt>
  <dd>
    <p>Specify the portal type for the new flash node entry to be created.</p><ul>
<li><p>This option is only valid for flashnode submode of host mode and only with <em>new</em> operation.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-b</strong>, <strong>--packetsize=</strong><em>packetsize</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify the ping <em>packetsize</em>.</p><p>This option is only valid for ping submode.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--count=</strong><em>count</em><strong></strong></p>
  </dt>
  <dd>
    <p><em>count</em> specify number of ping iterations.</p><p>This option is only valid for ping submode.</p>
  </dd>
  <dt>
    <p><strong>-C</strong>, <strong>--submode=</strong><em>op</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify the submode for mode. op must be name of submode.</p><p>Currently iscsiadm support ping as submode for iface. For example,</p><p>iscsiadm -m iface -I ifacename -C ping -a ipaddr -b packetsize -c count -i interval</p><p>For host, it supports chap and flashnode as submodes. For example,</p><p>iscsiadm -m host -H hostno -C chap -v chap_tbl_idx -o operation</p><p>iscsiadm -m host -H hostno -C flashnode -x flashnode_idx -o operation</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--debug=</strong><em>debug_level</em><strong></strong></p>
  </dt>
  <dd>
    <p>print debugging information. Valid values for debug_level are 0 to 8.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>display help text and exit</p>
  </dd>
  <dt>
    <p><strong>-H</strong>, <strong>--host=</strong><em>[hostno|MAC]</em></p>
  </dt>
  <dd>
    <p>The host agrument specifies the SCSI host to use for the operation. It can be the scsi host number assigned to the host by the kernel's scsi layer, or the MAC address of a scsi host.</p>
  </dd>
  <dt>
    <p><strong>-i</strong>, <strong>--interval=</strong><em>interval</em><strong></strong></p>
  </dt>
  <dd>
    <p><em>interval</em> specify delay between two ping iterations.</p><p>This option is only valid for ping submode.</p>
  </dd>
  <dt>
    <p><strong>-I</strong>, <strong>--interface=</strong><em>[iface]</em></p>
  </dt>
  <dd>
    <p>The interface argument specifies the iSCSI interface to use for the operation. iSCSI interfaces (iface) are defined in /etc/iscsi/ifaces. For hardware iSCSI (qla4xxx) the iface config must have the hardware address (iface.hwaddress = port's MAC address) and the driver/transport_name (iface.transport_name). The iface's name is then the filename of the iface config. For software iSCSI, the iface config must have either the hardware address (iface.hwaddress), or the network layer's interface name (iface.net_ifacename), and it must have the driver/transport_name</p><p>The available drivers/iscsi_transports are tcp (software iSCSI over TCP/IP), iser (software iSCSI over infinniband), or qla4xxx (Qlogic 4XXXX HBAs). The hwaddress is the MAC address or for software iSCSI it may be the special value "default" which directs the initiator to not bind the session to a specific hardware resource and instead allow the network or infinniband layer to decide what to do. There is no need to create a iface config with the default behavior. If you do not specify a iface, then the default behavior is used.</p><p>As mentioned above there is a special iface name default. There are three others -- cxgb3i, bnx2i and iser, which does not bind the session to a specific card, but will bind the session to the cxgb3i, bnx2i or iser transport. These are experimental and the use is not supported as a stable interface yet.</p><p>In discovery mode multiple interfaces can be specified by passing in multiple -I/--interface instances. For example,</p><p>"iscsiadm -m discoverydb -t st -p ip:port -I iface0 -I iface2 --discover"</p><p>Will direct iscsiadm to setup the node db to create records which will create sessions though the two intefaces passed in.</p><p>In node mode, only a single interface is supported in each call to iscsiadm.</p><ul>
<li><p>This option is valid for discovery, node and iface mode.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-k</strong>, <strong>--killiscsid=</strong><em>[priority]</em></p>
  </dt>
  <dd>
    <p>Currently priority must be zero. This will immediately stop all iscsid operations and shutdown iscsid. It does not logout any sessions. Running this command is the same as doing "killall iscsid". Neither should normally not be used, because if iscsid is doing error recovery or if there is an error while iscsid is not running, the system may not be able to recover. This command and iscsid's SIGTERM handling are experimental.</p>
  </dd>
  <dt>
    <p><strong>-D</strong>, <strong>--discover</strong></p>
  </dt>
  <dd>
    <p>Discover targets using the discovery record with the  <em>recid</em> matching the the discovery type and portal passed in. If there is no matching record, it will be created using the iscsid.conf discovery settings. This must be passed in <em>discoverydb</em> mode to instruct iscsiadm to perform discovery.</p><ul>
<li><p>This option is only valid for SendTargets discovery mode.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--login</strong></p>
  </dt>
  <dd>
    <p>For node and fw mode, login to a specified record. For discovery mode, login to all discovered targets.</p><ul>
<li><p>This option is only valid for discovery and node modes.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-L</strong>, <strong>--loginall==</strong><em>[all|manual|automatic]</em></p>
  </dt>
  <dd>
    <p>For node mode, login all sessions with the node or conn startup values passed in or all running sesssion, except ones marked onboot, if all is passed in.</p><ul>
<li><p>This option is only valid for node mode (it is valid but not functional for session mode).</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-m, --mode </strong><em>op</em></p>
  </dt>
  <dd>
    <p>specify the mode. <em>op</em> must be one of <em>discoverydb</em>, <em>node</em>, <em>fw</em>, <em>host</em> <em>iface</em> or <em>session</em>.</p><ul>
<li><p>If no other options are specified: for <em>discoverydb</em> and <em>node</em>, all of their respective records are displayed; for <em>session</em>, all active sessions and connections are displayed; for <em>fw</em>, all boot firmware values are displayed; for <em>host</em>, all iSCSI hosts are displayed; and for <em>iface</em>, all ifaces setup in /etc/iscsi/ifaces are displayed.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--name=</strong><em>name</em></p>
  </dt>
  <dd>
    <p>In node mode, specify a field <em>name</em> in a record. In flashnode submode of host mode, specify name of the flash node parameter.</p><p>For use with the <em>update</em> operator.</p><ul>
<li></li>
</ul>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--op=</strong><em>op</em></p>
  </dt>
  <dd>
    <p>Specifies a database operator <em>op</em>. <em>op</em> must be one of <em>new</em>, <em>delete</em>, <em>update</em>, <em>show</em> or <em>nonpersistent</em>.</p><ul>
<li><p>For iface mode, <em>apply</em> and <em>applyall</em>  are also applicable.</p></li><li><p>For flashnode submode of host mode, <em>login</em> and <em>logout</em> are also applicable.</p></li><li><p>This option is valid for all modes except fw. Delete should not be used on a running session. If it is iscsiadm will stop the session and then delete the record.</p></li><li><p><em>new</em> creates a new database record for a given object. In node mode, the <em>recid</em> is the target name and portal (IP:port). In iface mode, the <em>recid</em> is the iface name. In discovery mode, the <em>recid</em> is the portal and discovery type.</p></li><li><p>In session mode, the <em>new</em> operation logs in a new session using the same node database and iface information as the specified session.</p></li><li><p>In discovery mode, if the <em>recid</em> and new operation is passed in, but the <em>--discover</em> argument is not, then iscsiadm will only create a discovery record (it will not perform discovery). If the <em>--discover</em> argument is passed in with the portal and discovery type, then iscsiadm will create the discovery record if needed, and it will create records for portals returned by the target that do not yet have a node DB record.</p></li><li><p><em>delete</em> deletes a specified <em>recid</em>. In discovery node, if iscsiadm is performing discovery it will delete records for portals that are no longer returned.</p></li><li><p><em>update</em> will update the <em>recid</em> with <em>name</em> to the specified <em>value</em>. In discovery node, if iscsiadm is performing discovery the <em>recid</em>, <em>name</em>  and <em>value</em> arguments are not needed. The update operation will operate on the portals returned by the target, and will update the node records with info from the config file and command line.</p></li><li><p><em>show</em> is the default behaviour for node, discovery and iface mode. It is also used when there are no commands passed into session mode and a running sid is passed in. <em>name</em> and <em>value</em> are currently ignored when used with <em>show</em>.</p></li><li><p><em>nonpersistent</em> instructs iscsiadm to not manipulate the node DB.</p></li><li><p><em>apply</em> will cause the network settings to take effect on the specified iface.</p></li><li><p><em>applyall</em> will cause the network settings to take effect on all the ifaces whose MAC address or host number matches that of the specific host.</p></li><li><p><em>login</em> will log into the specified flash node entry.</p></li><li><p><em>logout</em> does the logout from the given flash node entry.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--portal=</strong><em>ip[:port]</em></p>
  </dt>
  <dd>
    <p>Use target portal with ip-address <em>ip</em> and <em>port</em>. If port is not passed in the default <em>port</em> value is 3260.</p><ul>
<li><p>IPv6 addresses can bs specified as [ddd.ddd.ddd.ddd]:port or ddd.ddd.ddd.ddd.</p></li><li><p>Hostnames can also be used for the ip argument.</p></li><li><p>This option is only valid for discovery, or for node operations with the <em>new</em> operator.</p></li><li><p>This should be used along with --target in node mode, to specify what the open-iscsi docs refer to as a node or node record. Note: open-iscsi's use of the word node, does not match the iSCSI RFC's iSCSI Node term.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-P</strong>,  <strong>--print=</strong><em>printlevel</em></p>
  </dt>
  <dd>
    <p>If in node mode print nodes in tree format. If in session mode print sessions in tree format. If in discovery mode print the nodes in tree format.</p>
  </dd>
  <dt>
    <p><strong>-T</strong>, <strong>--targetname=</strong><em>targetname</em></p>
  </dt>
  <dd>
    <p>Use target <em>targetname</em>.</p><ul>
<li><p>This should be used along with --portal in node mode, to specify what the open-iscsi docs refer to as a node or node record. Note: open-iscsi's use of the word node, does not match the iSCSI RFC's iSCSI Node term.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-r</strong>,  <strong>--sid=</strong><em>sid | sysfsdir</em></p>
  </dt>
  <dd>
    <p>Use session ID <em>sid</em>. The sid of a session can be found from running iscsiadm in session mode with the --info argument.</p><p>Instead of sid, a sysfs path containing the session can be used. For example using one of the following: /sys/devices/platform/hostH/sessionS/targetH:B:I/H:B:I:L, /sys/devices/platform/hostH/sessionS/targetH:B:I, or /sys/devices/platform/hostH/sessionS, for the sysfsdir argument would result in the session with sid S to be used.</p><ul>
<li><p><em>sid | sysfsdir</em> is only required for session mode.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-R</strong>,  <strong>--rescan</strong></p>
  </dt>
  <dd>
    <p>In session mode, if sid is also passed in rescan the session. If no sid has been passed in  rescan all running sessions.</p><p>In node mode, rescan a session running through the target, portal, iface tuple passed in.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--stats</strong></p>
  </dt>
  <dd>
    <p>Display session statistics.</p>
  </dd>
  <dt>
    <p><strong>-S</strong>, <strong>--show</strong></p>
  </dt>
  <dd>
    <p>When displaying records, do not hide masked values, such as the CHAP secret (password).</p><ul>
<li><p>This option is only valid for node and session mode.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-t</strong>, <strong>--type=</strong><em>type</em></p>
  </dt>
  <dd>
    <p><em>type</em> must be <em>sendtargets</em> (or abbreviated as <em>st</em>), <em>slp</em>, <em>isns</em> or <em>fw</em>. Currently only sendtargets, fw, and iSNS is supported, see the DISCOVERY TYPES section.</p><ul>
<li><p>This option is only valid for discovery mode.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-u</strong>, <strong>--logout</strong></p>
  </dt>
  <dd>
    <p>logout for a specified record.</p><ul>
<li><p>This option is only valid for node and session mode.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-U</strong>, <strong>--logoutall==</strong><em>[all,manual,automatic]</em></p>
  </dt>
  <dd>
    <p>logout all sessions with the node or conn startup values passed in or all running sesssion, except ones marked onboot, if all is passed in.</p><ul>
<li><p>This option is only valid for node mode (it is valid but not functional for session mode).</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--value=</strong><em>value</em></p>
  </dt>
  <dd>
    <p>Specify a <em>value</em> for use with the <em>update</em> operator.</p><ul>
<li><p>This option is only valid for node mode and flashnode submode of host mode.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>display version and exit</p>
  </dd>
  <dt>
    <p><strong>-x</strong>, <strong>--flashnode_idx=</strong><em>index</em></p>
  </dt>
  <dd>
    <p>Specify the <em>index</em> of the flash node to operate on.</p><ul>
<li><p>This option is only valid for flashnode submode of host mode.</p></li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISCOVERY TYPES</h2>
        <div class="sectioncontent">
<p>iSCSI defines 3 discovery types: SendTargets, SLP, and iSNS.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>SendTargets A native iSCSI protocol which allows each iSCSI target to send a list of available targets to the initiator.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>SLP Optionally an iSCSI target can use the Service Location Protocol (SLP) to announce the available targets. The initiator can either implement SLP queries directly or can use a separate tool to acquire the information about available targets.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>iSNS iSNS (Internet Storage Name Service) records information about storage volumes within a larger network. To utilize iSNS, pass the address and optionally the port of the iSNS server to do discovery to.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>fw Several NICs and systems contain a mini iSCSI initiator which can be used for boot. To get the values used for boot the fw option can be used. Doing fw discovery, does not store persistent records in the node or discovery DB, because the values are stored in the system's or NIC's resource.</p><p>Performing fw discovery will print the portals, like with other discovery methods. To see other settings like CHAP values and initiator settings, like you would in node mode, run "iscsiadm -m fw".</p><p>fw support in open-iscsi is experimental. The settings and iscsiadm syntax and output format may change.</p>
  </dd>

</dl>
<p>iscsiadm supports the <strong></strong> iSNS (isns) or <strong></strong> SendTargets (st) discovery type. An SLP implementation is under development.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>On success 0 is returned. On error one of the return codes below will be returned.</p><p>Commands that operation on multiple objects (sessions, records, etc), iscsiadm/iscsistart will return the first error that is encountered. iscsiadm/iscsistart will attempt to execute the operation on the objects it can. If no objects are found ISCSI_ERR_NO_OBJS_FOUND is returned.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>0 ISCSI_SUCCESS - command executed successfully.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>1 ISCSI_ERR - generic error code.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>2 ISCSI_ERR_SESS_NOT_FOUND - session could not be found.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>3 ISCSI_ERR_NOMEM - could not allocate resource for operation.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>4 ISCSI_ERR_TRANS - connect problem caused operation to fail.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>5 ISCSI_ERR_LOGIN - generic iSCSI login failure.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>6 ISCSI_ERR_IDBM - error accessing/managing iSCSI DB.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>7 ISCSI_ERR_INVAL - invalid argument.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>8 ISCSI_ERR_TRANS_TIMEOUT - connection timer exired while trying to connect.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>9 ISCSI_ERR_INTERNAL - generic internal iscsid/kernel failure.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>10 ISCSI_ERR_LOGOUT - iSCSI logout failed.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>11 ISCSI_ERR_PDU_TIMEOUT - iSCSI PDU timedout.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>12 ISCSI_ERR_TRANS_NOT_FOUND - iSCSI transport module not loaded in kernel or iscsid.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>13 ISCSI_ERR_ACCESS - did not have proper OS permissions to access iscsid or execute iscsiadm command.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>14 ISCSI_ERR_TRANS_CAPS - transport module did not support operation.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>15 ISCSI_ERR_SESS_EXISTS - session is logged in.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>16 ISCSI_ERR_INVALID_MGMT_REQ - invalid IPC MGMT request.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>17 ISCSI_ERR_ISNS_UNAVAILABLE - iSNS service is not supported.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>18 ISCSI_ERR_ISCSID_COMM_ERR - a read/write to iscsid failed.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>19 ISCSI_ERR_FATAL_LOGIN - fatal iSCSI login error.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>20 ISCSI_ERR_ISCSID_NOTCONN - could ont connect to iscsid.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>21 ISCSI_ERR_NO_OBJS_FOUND - no records/targets/sessions/portals found to execute operation on.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>22 ISCSI_ERR_SYSFS_LOOKUP - could not lookup object in sysfs.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>23 ISCSI_ERR_HOST_NOT_FOUND - could not lookup host.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>24 ISCSI_ERR_LOGIN_AUTH_FAILED - login failed due to authorization failure.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>25 ISCSI_ERR_ISNS_QUERY - iSNS query failure.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>26 ISCSI_ERR_ISNS_REG_FAILED - iSNS registration/deregistration failed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
Discover targets at a given IP address:

	iscsiadm --mode discoverydb --type sendtargets --portal 192.168.1.10 --discover

Login, must use a node record id found by the discovery:

	iscsiadm --mode node --targetname iqn.2001-05.com.doe:test --portal 192.168.1.1:3260 --login

Logout:

	iscsiadm --mode node --targetname iqn.2001-05.com.doe:test --portal 192.168.1.1:3260 --logout

List node records:

	iscsiadm --mode node


Display all data for a given node record:

	iscsiadm --mode node --targetname iqn.2001-05.com.doe:test --portal 192.168.1.1:3260

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>/etc/iscsi/iscsid.conf</p>
  </dt>
  <dd>
    <p>The configuration file read by <strong>iscsid</strong> and <strong>iscsiadm</strong> on startup.</p>
  </dd>
  <dt>
    <p>/etc/iscsi/initiatorname.iscsi</p>
  </dt>
  <dd>
    <p>The file containing the iSCSI InitiatorName and InitiatorAlias read by <strong>iscsid</strong> and <strong>iscsiadm</strong> on startup.</p>
  </dd>
  <dt>
    <p>/etc/iscsi/nodes/</p>
  </dt>
  <dd>
    <p>This directory contains the nodes with their targets.</p>
  </dd>
  <dt>
    <p>/etc/iscsi/send_targets</p>
  </dt>
  <dd>
    <p>This directory contains the portals.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO iscsiadm&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/iscsid.8.html"><strong>iscsid</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Open-iSCSI project &lt;http://www.open-iscsi.org/&gt;</p><p>Alex Aizman &lt;itn780@yahoo.com&gt;</p><p>Dmitry Yusupov &lt;dmitry_yus@yahoo.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="iscsi_discovery.8.html"><span aria-hidden="true">&larr;</span> iscsi_discovery.8: Discover iscsi targets</a></li>
   <li class="next"><a href="iscsid.8.html">iscsid.8: Open-iscsi daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
