<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>httpd_util: Miscellaneous utility functions to be used when implementing erlang web server api modules.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Miscellaneous utility functions to be used when implementing erlang web server api modules.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="httpd_util (3erl) manual">
  <meta name="twitter:description" content="Miscellaneous utility functions to be used when implementing erlang web server api modules.">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-httpd_util-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/httpd_util.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="httpd_util (3erl) manual" />
  <meta property="og:description" content="Miscellaneous utility functions to be used when implementing erlang web server api modules." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-httpd_util-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">httpd_util<small> (3erl)</small></h1>
        <p class="lead">Miscellaneous utility functions to be used when implementing erlang web server api modules.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/httpd_util.3erl.html">
      <span itemprop="name">httpd_util: Miscellaneous utility functions to be used when implementing erlang web server api modules.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/httpd_util.3erl.html">
      <span itemprop="name">httpd_util: Miscellaneous utility functions to be used when implementing erlang web server api modules.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides the Erlang Web Server API module programmer with miscellaneous utility functions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p><strong></strong> convert_request_date(DateString) -&gt; ErlDate|bad_date</p><p>Types:</p><p>DateString = string()</p><p>ErlDate = {{Year,Month,Date},{Hour,Min,Sec}}</p><p>Year = Month = Date = Hour = Min = Sec = integer()</p><p><em>convert_request_date/1</em> converts <em>DateString</em> to the Erlang date format. DateString must be in one of the three date formats that is defined in the RFC 2616.</p><p><strong></strong> create_etag(FileInfo) -&gt; Etag</p><p>Types:</p><p>FileInfo = file_info()</p><p>Etag = string()</p><p><em>create_etag/1</em> calculates the Etag for a file, from its size and time for last modification. fileinfo is a record defined in <em>kernel/include/file.hrl</em></p><p><strong></strong> decode_hex(HexValue) -&gt; DecValue</p><p>Types:</p><p>HexValue = DecValue = string()</p><p>Converts the hexadecimal value <em>HexValue</em> into its decimal equivalent (<em>DecValue</em>).</p><p><strong></strong> day(NthDayOfWeek) -&gt; DayOfWeek</p><p>Types:</p><p>NthDayOfWeek = 1-7</p><p>DayOfWeek = string()</p><p><em>day/1</em> converts the day of the week (<em>NthDayOfWeek</em>) as an integer (1-7) to an abbreviated string, that is:</p><p>1 = "Mon", 2 = "Tue", ..., 7 = "Sat".</p><p><strong></strong> flatlength(NestedList) -&gt; Size</p><p>Types:</p><p>NestedList = list()</p><p>Size = integer()</p><p><em>flatlength/1</em> computes the size of the possibly nested list <em>NestedList</em>. Which may contain binaries.</p><p><strong></strong> hexlist_to_integer(HexString) -&gt; Number</p><p>Types:</p><p>Number = integer()</p><p>HexString = string()</p><p><em>hexlist_to_integer</em> Convert the Hexadecimal value of HexString to an integer.</p><p><strong></strong> integer_to_hexlist(Number) -&gt; HexString</p><p>Types:</p><p>Number = integer()</p><p>HexString = string()</p><p><em>integer_to_hexlist/1</em> Returns a string that represents the Number in a Hexadecimal form.</p><p><strong></strong> lookup(ETSTable,Key) -&gt; Result</p><p><strong></strong> lookup(ETSTable,Key,Undefined) -&gt; Result</p><p>Types:</p><p>ETSTable = ets_table()</p><p>Key = term()</p><p>Result = term() | undefined | Undefined</p><p>Undefined = term()</p><p><em>lookup</em> extracts <em>{Key,Value}</em> tuples from <em>ETSTable</em> and returns the <em>Value</em> associated with <em>Key</em>. If <em>ETSTable</em> is of type <em>bag</em> only the first <em>Value</em> associated with <em>Key</em> is returned. <em>lookup/2</em> returns <em>undefined</em> and <em>lookup/3</em> returns <em>Undefined</em> if no <em>Value</em> is found.</p><p><strong></strong> lookup_mime(ConfigDB,Suffix)</p><p><strong></strong> lookup_mime(ConfigDB,Suffix,Undefined) -&gt; MimeType</p><p>Types:</p><p>ConfigDB = ets_table()</p><p>Suffix = string()</p><p>MimeType = string() | undefined | Undefined</p><p>Undefined = term()</p><p><em>lookup_mime</em> returns the mime type associated with a specific file suffix as specified in the <em>mime.types</em> file (located in the config directory).</p><p><strong></strong> lookup_mime_default(ConfigDB,Suffix)</p><p><strong></strong> lookup_mime_default(ConfigDB,Suffix,Undefined) -&gt; MimeType</p><p>Types:</p><p>ConfigDB = ets_table()</p><p>Suffix = string()</p><p>MimeType = string() | undefined | Undefined</p><p>Undefined = term()</p><p><em>lookup_mime_default</em> returns the mime type associated with a specific file suffix as specified in the <em>mime.types</em> file (located in the config directory). If no appropriate association can be found the value of DefaultType is returned.</p><p><strong></strong> message(StatusCode,PhraseArgs,ConfigDB) -&gt; Message</p><p>Types:</p><p>StatusCode = 301 | 400 | 403 | 404 | 500 | 501 | 504</p><p>PhraseArgs = term()</p><p>ConfigDB = ets_table</p><p>Message = string()</p><p><em>message/3</em> returns an informative HTTP 1.1 status string in HTML. Each <em>StatusCode</em> requires a specific <em>PhraseArgs</em>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>301</em>: <em>string()</em>: A URL pointing at the new document position.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>400 | 401 | 500</em>: <em>none</em> (No <em>PhraseArgs</em>)</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>403 | 404</em>: <em>string()</em>: A <em>Request-URI</em> as described in RFC 2616.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>501</em>: <em>{Method,RequestURI,HTTPVersion}</em>: The HTTP <em>Method</em>, <em>Request-URI</em> and <em>HTTP-Version</em> as defined in RFC 2616.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>504</em>: <em>string()</em>: A string describing why the service was unavailable.</p>
  </dd>

</dl>
<p><strong></strong> month(NthMonth) -&gt; Month</p><p>Types:</p><p>NthMonth = 1-12</p><p>Month = string()</p><p><em>month/1</em> converts the month <em>NthMonth</em> as an integer (1-12) to an abbreviated string, that is:</p><p>1 = "Jan", 2 = "Feb", ..., 12 = "Dec".</p><p><strong></strong> multi_lookup(ETSTable,Key) -&gt; Result</p><p>Types:</p><p>ETSTable = ets_table()</p><p>Key = term()</p><p>Result = [term()]</p><p><em>multi_lookup</em> extracts all <em>{Key,Value}</em> tuples from an <em>ETSTable</em> and returns <em>all</em><em>Values</em> associated with the <em>Key</em> in a list.</p><p><strong></strong> reason_phrase(StatusCode) -&gt; Description</p><p>Types:</p><p>StatusCode = 100| 200 | 201 | 202 | 204 | 205 | 206 | 300 | 301 | 302 | 303 | 304 | 400 | 401 | 402 | 403 | 404 | 405 | 406 | 410 411 | 412 | 413 | 414 415 | 416 | 417 | 500 | 501 | 502 | 503 | 504 | 505</p><p>Description = string()</p><p><em>reason_phrase</em> returns the <em>Description</em> of an HTTP 1.1 <em>StatusCode</em>, for example 200 is "OK" and 201 is "Created". Read RFC 2616 for further information.</p><p><strong></strong> rfc1123_date() -&gt; RFC1123Date</p><p><strong></strong> rfc1123_date({{YYYY,MM,DD},{Hour,Min,Sec}}) -&gt; RFC1123Date</p><p>Types:</p><p>YYYY = MM = DD = Hour = Min = Sec = integer()</p><p>RFC1123Date = string()</p><p><em>rfc1123_date/0</em> returns the current date in RFC 1123 format. <em>rfc_date/1</em> converts the date in the Erlang format to the RFC 1123 date format.</p><p><strong></strong> split(String,RegExp,N) -&gt; SplitRes</p><p>Types:</p><p>String = RegExp = string()</p><p>SplitRes = {ok, FieldList} | {error, errordesc()}</p><p>Fieldlist = [string()]</p><p>N = integer</p><p><em>split/3</em> splits the <em>String</em> in <em>N</em> chunks using the <em>RegExp</em>. <em>split/3</em> is is equivalent to <em>regexp:split/2</em> with one exception, that is <em>N</em> defines the number of maximum number of fields in the <em>FieldList</em>.</p><p><strong></strong> split_script_path(RequestLine) -&gt; Splitted</p><p>Types:</p><p>RequestLine = string()</p><p>Splitted = not_a_script | {Path, PathInfo, QueryString}</p><p>Path = QueryString = PathInfo = string()</p><p><em>split_script_path/1</em> is equivalent to <em>split_path/1</em> with one exception. If the longest possible path is not a regular, accessible and executable file <em>not_a_script</em> is returned.</p><p><strong></strong> split_path(RequestLine) -&gt; {Path,QueryStringOrPathInfo}</p><p>Types:</p><p>RequestLine = Path = QueryStringOrPathInfo = string()</p><p><em>split_path/1</em> splits the <em>RequestLine</em> in a file reference (<em>Path</em>) and a <em>QueryString</em> or a <em>PathInfo</em> string as specified in RFC 2616. A <em>QueryString</em> is isolated from the <em>Path</em> with a question mark (<em>?</em>) and <em>PathInfo</em> with a slash (/). In the case of a <em>QueryString</em>, everything before the <em>?</em> is a <em>Path</em> and everything after a <em>QueryString</em>. In the case of a <em>PathInfo</em> the <em>RequestLine</em> is scanned from left-to-right on the hunt for longest possible <em>Path</em> being a file or a directory. Everything after the longest possible <em>Path</em>, isolated with a <em>/</em>, is regarded as <em>PathInfo</em>. The resulting <em>Path</em> is decoded using <em>decode_hex/1</em> before delivery.</p><p><strong></strong> strip(String) -&gt; Stripped</p><p>Types:</p><p>String = Stripped = string()</p><p><em>strip/1</em> removes any leading or trailing linear white space from the string. Linear white space should be read as horizontal tab or space.</p><p><strong></strong> suffix(FileName) -&gt; Suffix</p><p>Types:</p><p>FileName = Suffix = string()</p><p><em>suffix/1</em> is equivalent to <em>filename:extension/1</em> with one exception, that is <em>Suffix</em> is returned without a leading dot (<em>.</em>).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO httpd_util&hellip;</h2>
        <div class="sectioncontent">
<p><strong>httpd(3erl)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="httpd_socket.3erl.html"><span aria-hidden="true">&larr;</span> httpd_socket.3erl: Communication utility functions to be used by the erlang</a></li>
   <li class="next"><a href="i.3erl.html">i.3erl: Debugger/interpreter interface <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
