<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sd_journal_previous_skip: Advance or set back the read pointer in the journal</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Advance or set back the read pointer in the journal">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sd_journal_previous_skip (3) manual">
  <meta name="twitter:description" content="Advance or set back the read pointer in the journal">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsystemd-dev-sd_journal_previous_skip-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/sd_journal_previous_skip.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sd_journal_previous_skip (3) manual" />
  <meta property="og:description" content="Advance or set back the read pointer in the journal" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsystemd-dev-sd_journal_previous_skip-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sd_journal_previous_skip<small> (3)</small></h1>
        <p class="lead">Advance or set back the read pointer in the journal</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_journal_previous_skip.3.html">
      <span itemprop="name">sd_journal_previous_skip: Advance or set back the read pointer in the journal</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsystemd-dev/">
      <span itemprop="name">libsystemd-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_journal_previous_skip.3.html">
      <span itemprop="name">sd_journal_previous_skip: Advance or set back the read pointer in the journal</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;systemd/sd-journal.h&gt;
</pre>
<p><strong>int sd_journal_next(sd_journal&nbsp;*</strong><em>j</em><strong>);</strong> <strong>int sd_journal_previous(sd_journal&nbsp;*</strong><em>j</em><strong>);</strong> <strong>int sd_journal_next_skip(sd_journal&nbsp;*</strong><em>j</em><strong>, uint64_t&nbsp;</strong><em>skip</em><strong>);</strong> <strong>int sd_journal_previous_skip(sd_journal&nbsp;*</strong><em>j</em><strong>, uint64_t&nbsp;</strong><em>skip</em><strong>);</strong> <strong>SD_JOURNAL_FOREACH(sd_journal&nbsp;*</strong><em>j</em><strong>);</strong> <strong>SD_JOURNAL_FOREACH_BACKWARDS(sd_journal&nbsp;*</strong><em>j</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sd_journal_next()</strong> advances the read pointer into the journal by one entry. The only argument taken is a journal context object as allocated via <a href="../man3/sd_journal_open.3.html"><strong>sd_journal_open</strong>(3)</a>. After successful invocation the entry may be read with functions such as <a href="../man3/sd_journal_get_data.3.html"><strong>sd_journal_get_data</strong>(3)</a>.</p><p>Similarly, <strong>sd_journal_previous()</strong> sets the read pointer back one entry.</p><p><strong>sd_journal_next_skip()</strong> and <strong>sd_journal_previous_skip()</strong> advance/set back the read pointer by multiple entries at once, as specified in the <em>skip</em> parameter.</p><p>The journal is strictly ordered by reception time, and hence advancing to the next entry guarantees that the entry then pointing to is later in time than then previous one, or has the same timestamp.</p><p>Note that <a href="../man3/sd_journal_get_data.3.html"><strong>sd_journal_get_data</strong>(3)</a> and related calls will fail unless <strong>sd_journal_next()</strong> has been invoked at least once in order to position the read pointer on a journal entry.</p><p>Note that the <strong>SD_JOURNAL_FOREACH()</strong> macro may be used as a wrapper around <a href="../man3/sd_journal_seek_head.3.html"><strong>sd_journal_seek_head</strong>(3)</a> and <strong>sd_journal_next()</strong> in order to make iterating through the journal easier. See below for an example. Similarly, <strong>SD_JOURNAL_FOREACH_BACKWARDS()</strong> may be used for iterating the journal in reverse order.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>The four calls return the number of entries advanced/set back on success or a negative errno-style error code. When the end or beginning of the journal is reached, a number smaller than requested is returned. More specifically, if <strong>sd_journal_next()</strong> or <strong>sd_journal_previous()</strong> reach the end/beginning of the journal they will return 0, instead of 1 when they are successful. This should be considered an EOF marker.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The <strong>sd_journal_next()</strong>, <strong>sd_journal_previous()</strong>, <strong>sd_journal_next_skip()</strong> and <strong>sd_journal_previous_skip()</strong> interfaces are available as a shared library, which can be compiled and linked to with the <strong>libsystemd</strong>&nbsp;<a href="../man1/pkg-config.1.html"><strong>pkg-config</strong>(1)</a> file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Iterating through the journal:</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;systemd/sd-journal.h&gt;

int main(int argc, char *argv[]) {
        int r;
        sd_journal *j;
        r = sd_journal_open(&j, SD_JOURNAL_LOCAL_ONLY);
        if (r &lt; 0) {
                fprintf(stderr, "Failed to open journal: %s&#92;n", strerror(-r));
                return 1;
        }
        SD_JOURNAL_FOREACH(j) {
                const char *d;
                size_t l;

                r = sd_journal_get_data(j, "MESSAGE", (const void **)&d, &l);
                if (r &lt; 0) {
                        fprintf(stderr, "Failed to read message field: %s&#92;n", strerror(-r));
                        continue;
                }

                printf("%.*s&#92;n", (int) l, d);
        }
        sd_journal_close(j);
        return 0;
}
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sd_journal_previous_skip&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a>, <a href="../man3/sd-journal.3.html"><strong>sd-journal</strong>(3)</a>, <a href="../man3/sd_journal_open.3.html"><strong>sd_journal_open</strong>(3)</a>, <a href="../man3/sd_journal_get_data.3.html"><strong>sd_journal_get_data</strong>(3)</a>, <a href="../man3/sd_journal_get_realtime_usec.3.html"><strong>sd_journal_get_realtime_usec</strong>(3)</a>, <a href="../man3/sd_journal_get_cursor.3.html"><strong>sd_journal_get_cursor</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sd_journal_previous.3.html"><span aria-hidden="true">&larr;</span> sd_journal_previous.3: Advance or set back the read pointer in the journal</a></li>
   <li class="next"><a href="sd_journal_print.3.html">sd_journal_print.3: Submit log entries to the journal <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
