<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Data::Entropy::Algorithms: Basic entropy-using algorithms</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Basic entropy-using algorithms">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Data::Entropy::Algorithms (3pm) manual">
  <meta name="twitter:description" content="Basic entropy-using algorithms">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdata-entropy-perl-Data::Entropy::Algorithms-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Data::Entropy::Algorithms.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Data::Entropy::Algorithms (3pm) manual" />
  <meta property="og:description" content="Basic entropy-using algorithms" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdata-entropy-perl-Data::Entropy::Algorithms-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Data::Entropy::Algorithms<small> (3pm)</small></h1>
        <p class="lead">Basic entropy-using algorithms</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Data::Entropy::Algorithms.3pm.html">
      <span itemprop="name">Data::Entropy::Algorithms: Basic entropy-using algorithms</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdata-entropy-perl/">
      <span itemprop="name">libdata-entropy-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Data::Entropy::Algorithms.3pm.html">
      <span itemprop="name">Data::Entropy::Algorithms: Basic entropy-using algorithms</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        use Data::Entropy::Algorithms
                qw(rand_bits rand_int rand_prob);

        $str = rand_bits(17);
        $i = rand_int(12345);
        $i = rand_int(Math::BigInt-&gt;new("1000000000000"));
        $j = rand_prob(1, 2, 3);
        $j = rand_prob([ 1, 2, 3 ]);

        use Data::Entropy::Algorithms qw(rand_fix rand rand_flt);

        $x = rand_fix(48);
        $x = <strong>rand</strong>(7);
        $x = rand_flt(0.0, 7.0);

        use Data::Entropy::Algorithms
                qw(pick pick_r choose choose_r shuffle shuffle_r);

        $item = pick($item0, $item1, $item2);
        $item = pick_r(&#92;@items);
        @chosen = choose(3, $item0, $item1, $item2, $item3, $item4);
        $chosen = choose_r(3, &#92;@items);
        @shuffled = shuffle($item0, $item1, $item2, $item3, $item4);
        $shuffled = shuffle_r(&#92;@items);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module contains a collection of fundamental algorithms that use entropy.  They all use the entropy source mechanism described in Data::Entropy.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<p>All of these functions use entropy.  The entropy source is not an explicit input in any case.  All functions use the current entropy source maintained by the \*(C`Data::Entropy\*(C' module.  To select an entropy source use the \*(C`with_entropy_source\*(C' function in that module, or alternatively do nothing to use the default source.</p><h3>Fundamental entropy extraction</h3>

<dl class='dl-vertical'>
  <dt>
    rand_bits(\s-1NBITS\s0)
  </dt>
  <dd>
    <p>Returns \s-1NBITS\s0 bits of entropy, as a string of octets.  If \s-1NBITS\s0 is not a multiple of eight then the last octet in the string has its most significant bits set to zero.</p>
  </dd>
  <dt>
    rand_int(\s-1LIMIT\s0)
  </dt>
  <dd>
    <p>\s-1LIMIT\s0 must be a positive integer.  Returns a uniformly-distributed random integer in the range [0, \s-1LIMIT\s0).  \s-1LIMIT\s0 may be either a native integer, a \*(C`Math::BigInt\*(C' object, or an integer-valued \*(C`Math::BigRat\*(C' object; the returned number is of the same type.</p>
  </dd>
  <dt>
    rand_prob(\s-1PROB\s0 ...)
  </dt>
  <dd>
    
  </dd>
  <dt>
    rand_prob(\s-1PROBS\s0)
  </dt>
  <dd>
    <p>Returns a random integer selected with non-uniform probability.  The relative probabilities are supplied as a list of non-negative integers (multiple \s-1PROB\s0 arguments) or a reference to an array of integers (the \s-1PROBS\s0 argument).  The relative probabilities may be native integers, \*(C`Math::BigInt\*(C' objects, or integer-valued \*(C`Math::BigRat\*(C' objects; they must all be of the same type.  At least one probability value must be positive. The first relative probability value (the first \s-1PROB\s0 or the first element of \s-1PROBS\s0) is the relative probability of returning 0.  The absolute probability of returning 0 is this value divided by the total of all the relative probability values.  Similarly the second value controls the probability of returning 1, and so on.</p>
  </dd>

</dl>

<h3>Numbers</h3>

<dl class='dl-vertical'>
  <dt>
    rand_fix(\s-1NBITS\s0)
  </dt>
  <dd>
    <p>Returns a uniformly-distributed random NBITS-bit fixed-point fraction in the range [0, 1).  That is, the result is a randomly-chosen multiple of 2^-NBITS, the multiplier being a random integer in the range [0, 2^NBITS). The value is returned in the form of a native floating point number, so \s-1NBITS\s0 can be at most one greater than the number of bits of significand in the floating point format. With \s-1NBITS\s0 = 48 the range of output values is the same as that of the Unix \*(C`drand48\*(C' function.</p>
  </dd>
  <dt>
    rand([\s-1LIMIT\s0])
  </dt>
  <dd>
    <p>Generates a random fixed-point fraction by \*(C`rand_fix\*(C' and then multiplies it by \s-1LIMIT\s0, returning the result.  \s-1LIMIT\s0 defaults to 1, and if it is 0 then that is also treated as 1.  The length of the fixed-point fraction is 48 bits, unless that can't be represented in the native floating point type, in which case the longest possible fraction will be generated instead. This is a drop-in replacement for \*(C`CORE::rand\*(C': it produces exactly the same range of output values, but using the current entropy source instead of a sucky \s-1PRNG\s0 with linear relationships between successive outputs. (\*(C`CORE::rand\*(C' does the type of calculation described, but using the \s-1PRNG\s0 \*(C`drand48\*(C' to generate the fixed-point fraction.)  The details of behaviour may change in the future if the behaviour of \*(C`CORE::rand\*(C' changes, to maintain the match. Where the source of a module can't be readily modified, it can be made to use this \*(C`rand\*(C' by an incantation such as         *Foreign::Module::rand = &#92;&Data::Entropy::Algorithms::rand; This must be done before the module is loaded, most likely in a \*(C`BEGIN\*(C' block.  It is also possible to override \*(C`CORE::rand\*(C' for all modules, by performing this similarly early:         *CORE::GLOBAL::rand = &#92;&Data::Entropy::Algorithms::rand; This function should not be used in any new code, because the kind of output supplied by \*(C`rand\*(C' is hardly ever the right thing to use. The \*(C`int(rand($n))\*(C' idiom to generate a random integer has non-uniform probabilities of generating each possible value, except when $n is a power of two.  For floating point numbers, \*(C`rand\*(C' can't generate most representable numbers in its output range, and the output is biased towards zero.  In new code use \*(C`rand_int\*(C' to generate integers and \*(C`rand_flt\*(C' to generate floating point numbers.</p>
  </dd>
  <dt>
    rand_flt(\s-1MIN\s0, \s-1MAX\s0)
  </dt>
  <dd>
    <p>Selects a uniformly-distributed real number (with infinite precision) in the range [\s-1MIN\s0, \s-1MAX\s0] and then rounds this number to the nearest representable floating point value, which it returns.  (Actually it is only <em>as if</em> the function worked this way: in fact it never generates the number with infinite precision.  It selects between the representable floating point values with the probabilities implied by this process.) This can return absolutely any floating point value in the range [\s-1MIN\s0, \s-1MAX\s0]; both \s-1MIN\s0 and \s-1MAX\s0 themselves are possible return values.  All bits of the floating point type are filled randomly, so the range of values that can be returned depends on the details of the floating point format. (See Data::Float for low-level floating point utilities.) The function \*(C`die\*(C's if \s-1MIN\s0 and \s-1MAX\s0 are not both finite.  If \s-1MIN\s0 is greater than \s-1MAX\s0 then their roles are swapped: the order of the limit parameters actually doesn't matter.  If the limits are identical then that value is always returned.  As a special case, if the limits are positive zero and negative zero then a zero will be returned with a randomly-chosen sign.</p>
  </dd>

</dl>

<h3>Combinatorics</h3>

<dl class='dl-vertical'>
  <dt>
    pick(\s-1ITEM\s0 ...)
  </dt>
  <dd>
    <p>Randomly selects and returns one of the ITEMs.  Each \s-1ITEM\s0 has equal probability of being selected.</p>
  </dd>
  <dt>
    pick_r(\s-1ITEMS\s0)
  </dt>
  <dd>
    <p>\s-1ITEMS\s0 must be a reference to an array.  Randomly selects and returns one of the elements of the array.  Each element has equal probability of being selected. This is the same operation as that performed by \*(C`pick\*(C', but using references to avoid expensive copying of arrays.</p>
  </dd>
  <dt>
    choose(\s-1NCHOOSE\s0, \s-1ITEM\s0 ...)
  </dt>
  <dd>
    <p>Randomly selects \s-1NCHOOSE\s0 of the ITEMs.  Each \s-1ITEM\s0 has equal probability of being selected.  The chosen items are returned in a list in the same order in which they appeared in the argument list.</p>
  </dd>
  <dt>
    choose_r(\s-1NCHOOSE\s0, \s-1ITEMS\s0)
  </dt>
  <dd>
    <p>\s-1ITEMS\s0 must be a reference to an array.  Randomly selects \s-1NCHOOSE\s0 of the elements in the array.  Each element has equal probability of being selected.  Returns a reference to an array containing the chosen items in the same order in which they appeared in the input array. This is the same operation as that performed by \*(C`choose\*(C', but using references to avoid expensive copying of arrays.</p>
  </dd>
  <dt>
    shuffle(\s-1ITEM\s0 ...)
  </dt>
  <dd>
    <p>Reorders the ITEMs randomly, and returns them in a list in random order. Each possible order has equal probability.</p>
  </dd>
  <dt>
    shuffle_r(\s-1ITEMS\s0)
  </dt>
  <dd>
    <p>\s-1ITEMS\s0 must be a reference to an array.  Reorders the elements of the array randomly.  Each possible order has equal probability.  Returns a reference to an array containing the elements in random order. This is the same operation as that performed by \*(C`shuffle\*(C', but using references to avoid expensive copying of arrays.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Data::Entropy::Algorithms&hellip;</h2>
        <div class="sectioncontent">
<p>Data::Entropy, Data::Entropy::Source</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Andrew Main (Zefram) &lt;zefram@fysh.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2006, 2007, 2009, 2011 Andrew Main (Zefram) &lt;zefram@fysh.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Data::Entropy.3pm.html"><span aria-hidden="true">&larr;</span> Data::Entropy.3pm: Entropy (randomness) management</a></li>
   <li class="next"><a href="Data::Entropy::RawSource::CryptCounter.3pm.html">Data::Entropy::RawSource::CryptCounter.3pm: Counter mode of block cipher as i/o handle <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
