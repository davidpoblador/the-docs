<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XML::Filter::Reindent: Reformats whitespace for pretty printing xml</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Reformats whitespace for pretty printing xml">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XML::Filter::Reindent (3pm) manual">
  <meta name="twitter:description" content="Reformats whitespace for pretty printing xml">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxml-filter-reindent-perl-XML::Filter::Reindent-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/XML::Filter::Reindent.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XML::Filter::Reindent (3pm) manual" />
  <meta property="og:description" content="Reformats whitespace for pretty printing xml" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxml-filter-reindent-perl-XML::Filter::Reindent-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XML::Filter::Reindent<small> (3pm)</small></h1>
        <p class="lead">Reformats whitespace for pretty printing xml</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/XML::Filter::Reindent.3pm.html">
      <span itemprop="name">XML::Filter::Reindent: Reformats whitespace for pretty printing xml</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxml-filter-reindent-perl/">
      <span itemprop="name">libxml-filter-reindent-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/XML::Filter::Reindent.3pm.html">
      <span itemprop="name">XML::Filter::Reindent: Reformats whitespace for pretty printing xml</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use XML::Handler::Composer;
 use XML::Filter::Reindent;

 my $composer = new XML::Handler::Composer (%OPTIONS);
 my $indent = new XML::Filter::Reindent (Handler =&gt; $composer, %OPTIONS);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>XML::Filter::Reindent is a sub class of XML::Filter::DetectWS.</p><p>XML::Filter::Reindent can be used as a PerlSAX filter to reformat an \s-1XML\s0 document before sending it to a PerlSAX handler that prints it (like XML::Handler::Composer.)</p><p>Like XML::Filter::DetectWS, it detects ignorable whitespace and blocks of whitespace characters in certain places. It uses this information and information supplied by the user to determine where whitespace may be modified, deleted or inserted. Based on the indent settings, it then modifies, inserts and deletes characters and ignorable_whitespace events accordingly.</p><p>This is just a first stab at the implementation. It may be buggy and may change completely!</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor Options</h2>
        <div class="sectioncontent">
<ul>
<li><p>Handler The PerlSAX handler (or filter) that will receive the PerlSAX events from this filter.</p></li><li><p>Tab (Default: one space) The number of spaces per indent level for elements etc. in document content.</p></li><li><p>Newline (Default: \*(L"&#92;x0A\*(R") The newline to use when re-indenting. The default is the internal newline used by XML::Parser, \s-1XML::DOM\s0 etc., and should be fine when used in combination with XML::Handler::Composer. This method determines whether children of a certain element may be reformatted. The default implementation checks the PreserveWS parameter of the specified start_element event and returns 0 if it is set or \s-1MAYBE\s0 otherwise. The value \s-1MAYBE\s0 (2) indicates that further investigation is needed, e.g. by examining the element contents. A value of 1 means yes, indent the child nodes, no further investigation is needed.</p></li>
</ul><p>\s-1NOTE:\s0 the PreserveWS parameter is set by the parent class, XML::Filter::DetectWS, when the element or one of its ancestors has the attribute xml:space=\*(L"preserve\*(R".</p><p>Override this method to tweak the behavior of this class. This method determines whether a certain element may be re-indented. The default implementation returns the value of the $parent_says_indent parameter, which was set to the value returned by indent_children for the parent element. In other words, the element will be re-indented if the parent element allows it.</p><p>Override this method to tweak the behavior of this class. I'm not sure how useful this hook is. Please provide feedback!</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Current Implementation</h2>
        <div class="sectioncontent">
<p>The current implementation puts all incoming Perl \s-1SAX\s0 events in a queue for further processing. When determining which nodes should be re-indented, it sometimes needs information from previous events, hence the use of the queue.</p><p>The parameter (Compress =&gt; 1) is added to matching start_element and end_element events with no events in between This indicates to an \s-1XML\s0 printer that a compressed notation can be used, e.g &lt;foo/&gt;.</p><p>If an element allows reformatting of its contents (xml:space=\*(L"preserve\*(R" was not active and indent_children returned \s-1MAYBE\s0), the element contents will be reformatted unless it only has one child node and that child is a regular text node (characters event.) In that case, the element will be printed as &lt;foo&gt;text contents&lt;/foo&gt;.</p><p>If you want element nodes with just one text child to be reindented as well, simply override indent_children to return 1 instead of \s-1MAYBE\s0 (2.)</p><p>This behavior may be changed or extended in the future.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>This code is highly experimental! It has not been tested well and the \s-1API\s0 may change.</p><p>The code that detects blocks of whitespace at potential indent positions may need some work.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Original Author is Enno Derksen.</p><p>Send bug reports, hints, tips, suggestions to T.J. Mather at &lt;<em>tjmather@tjmather.com</em>&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XML::Filter::DetectWS.3pm.html"><span aria-hidden="true">&larr;</span> XML::Filter::DetectWS.3pm: A perlsax filter that detects ignorable whitespace</a></li>
   <li class="next"><a href="XML::Filter::SAXT.3pm.html">XML::Filter::SAXT.3pm: Replicates sax events to several sax event handlers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
