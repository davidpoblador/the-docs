<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>init: Coordination of system startup</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Coordination of system startup">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="init (3erl) manual">
  <meta name="twitter:description" content="Coordination of system startup">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-init-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/init.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="init (3erl) manual" />
  <meta property="og:description" content="Coordination of system startup" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-init-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">init<small> (3erl)</small></h1>
        <p class="lead">Coordination of system startup</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/init.3erl.html">
      <span itemprop="name">init: Coordination of system startup</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/init.3erl.html">
      <span itemprop="name">init: Coordination of system startup</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>init</em> module is pre-loaded and contains the code for the <em>init</em> system process which coordinates the start-up of the system. The first function evaluated at start-up is <em>boot(BootArgs)</em>, where <em>BootArgs</em> is a list of command line arguments supplied to the Erlang runtime system from the local operating system. See <a href="../man1/erl.1.html"><strong>erl</strong>(1)</a></strong>.</p><p><em>init</em> reads the boot script which contains instructions on how to initiate the system. See <a href="../man5/script.5.html"><strong>script</strong>(5)</a></strong> for more information about boot scripts.</p><p><em>init</em> also contains functions to restart, reboot, and stop the system.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
boot(BootArgs) -&gt; no_return()

</pre>
<p>Types:</p><p>BootArgs = [binary()]</p><p>Starts the Erlang runtime system. This function is called when the emulator is started and coordinates system start-up.</p><p><em>BootArgs</em> are all command line arguments except the emulator flags, that is, flags and plain arguments. See <a href="../man1/erl.1.html"><strong>erl</strong>(1)</a></strong>.</p><p><em>init</em> itself interprets some of the flags, see <strong>Command Line Flags</strong> below. The remaining flags ("user flags") and plain arguments are passed to the <em>init</em> loop and can be retrieved by calling <em>get_arguments/0</em> and <em>get_plain_arguments/0</em>, respectively.</p>
<pre>
<strong></strong>
get_argument(Flag) -&gt; {ok, Arg} | error

</pre>
<p>Types:</p><p>Flag = atom()</p><p>Arg = [Values :: [string()]]</p><p>Returns all values associated with the command line user flag <em>Flag</em>. If <em>Flag</em> is provided several times, each <em>Values</em> is returned in preserved order.</p>
<pre>
% erl -a b c -a d
...
1&gt; init:get_argument(a).
{ok,[["b","c"],["d"]]}
</pre>
<p>There are also a number of flags, which are defined automatically and can be retrieved using this function:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>root</em>: The installation directory of Erlang/OTP, <em>$ROOT</em>.</p>
  </dd>

</dl>

<pre>
2&gt; init:get_argument(root).
{ok,[["/usr/local/otp/releases/otp_beam_solaris8_r10b_patched"]]}
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>progname</em>: The name of the program which started Erlang.</p>
  </dd>

</dl>

<pre>
3&gt; init:get_argument(progname).
{ok,[["erl"]]}
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>home</em>: The home directory.</p>
  </dd>

</dl>

<pre>
4&gt; init:get_argument(home).
{ok,[["/home/harry"]]}
</pre>
<p>Returns <em>error</em> if there is no value associated with <em>Flag</em>.</p>
<pre>
<strong></strong>
get_arguments() -&gt; Flags

</pre>
<p>Types:</p><p>Flags = [{Flag :: atom(), Values :: [string()]}]</p><p>Returns all command line flags, as well as the system defined flags, see <em>get_argument/1</em>.</p>
<pre>
<strong></strong>
get_plain_arguments() -&gt; [Arg]

</pre>
<p>Types:</p><p>Arg = string()</p><p>Returns any plain command line arguments as a list of strings (possibly empty).</p>
<pre>
<strong></strong>
get_status() -&gt; {InternalStatus, ProvidedStatus}

</pre>
<p>Types:</p><p>InternalStatus = <strong>internal_status()</strong></p><p>ProvidedStatus = term()</p>
<pre>
<strong>internal_status()</strong> = starting | started | stopping
</pre>
<p>The current status of the <em>init</em> process can be inspected. During system startup (initialization), <em>InternalStatus</em> is <em>starting</em>, and <em>ProvidedStatus</em> indicates how far the boot script has been interpreted. Each <em>{progress, Info}</em> term interpreted in the boot script affects <em>ProvidedStatus</em>, that is, <em>ProvidedStatus</em> gets the value of <em>Info</em>.</p>
<pre>
<strong></strong>
reboot() -&gt; ok

</pre>
<p>All applications are taken down smoothly, all code is unloaded, and all ports are closed before the system terminates. If the <em>-heart</em> command line flag was given, the <em>heart</em> program will try to reboot the system. Refer to <em>heart(3erl)</em> for more information.</p><p>To limit the shutdown time, the time <em>init</em> is allowed to spend taking down applications, the <em>-shutdown_time</em> command line flag should be used.</p>
<pre>
<strong></strong>
restart() -&gt; ok

</pre>
<p>The system is restarted <em>inside</em> the running Erlang node, which means that the emulator is not restarted. All applications are taken down smoothly, all code is unloaded, and all ports are closed before the system is booted again in the same way as initially started. The same <em>BootArgs</em> are used again.</p><p>To limit the shutdown time, the time <em>init</em> is allowed to spend taking down applications, the <em>-shutdown_time</em> command line flag should be used.</p>
<pre>
<strong></strong>
script_id() -&gt; Id

</pre>
<p>Types:</p><p>Id = term()</p><p>Get the identity of the boot script used to boot the system. <em>Id</em> can be any Erlang term. In the delivered boot scripts, <em>Id</em> is <em>{Name, Vsn}</em>. <em>Name</em> and <em>Vsn</em> are strings.</p>
<pre>
<strong></strong>
stop() -&gt; ok

</pre>
<p>All applications are taken down smoothly, all code is unloaded, and all ports are closed before the system terminates. If the <em>-heart</em> command line flag was given, the <em>heart</em> program is terminated before the Erlang node terminates. Refer to <em>heart(3erl)</em> for more information.</p><p>To limit the shutdown time, the time <em>init</em> is allowed to spend taking down applications, the <em>-shutdown_time</em> command line flag should be used.</p>
<pre>
<strong></strong>
stop(Status) -&gt; ok

</pre>
<p>Types:</p><p>Status = integer() &gt;= 0 | string()</p><p>All applications are taken down smoothly, all code is unloaded, and all ports are closed before the system terminates by calling <em>halt(Status)</em>. If the <em>-heart</em> command line flag was given, the <em>heart</em> program is terminated before the Erlang node terminates. Refer to <em>heart(3erl)</em> for more information.</p><p>To limit the shutdown time, the time <em>init</em> is allowed to spend taking down applications, the <em>-shutdown_time</em> command line flag should be used.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMAND LINE FLAGS</h2>
        <div class="sectioncontent">
<p><strong></strong> Warning:</p><p>The support for loading of code from archive files is experimental. The sole purpose of releasing it before it is ready is to obtain early feedback. The file format, semantics, interfaces etc. may be changed in a future release. The <em>-code_path_choice</em> flag is also experimental.</p><p>The <em>init</em> module interprets the following command line flags:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>--</em>: Everything following <em>--</em> up to the next flag is considered plain arguments and can be retrieved using <em>get_plain_arguments/0</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>-code_path_choice Choice</em>: This flag can be set to <em>strict</em> or <em>relaxed</em>. It controls whether each directory in the code path should be interpreted strictly as it appears in the <em>boot script</em> or if <em>init</em> should be more relaxed and try to find a suitable directory if it can choose from a regular ebin directory and an ebin directory in an archive file. This flag is particular useful when you want to elaborate with code loading from archives without editing the <em>boot script</em>. See <a href="../man5/script.5.html"><strong>script</strong>(5)</a></strong> for more information about interpretation of boot scripts. The flag does also have a similar affect on how the code server works. See <strong>code(3erl)</strong>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>-eval Expr</em>: Scans, parses and evaluates an arbitrary expression <em>Expr</em> during system initialization. If any of these steps fail (syntax error, parse error or exception during evaluation), Erlang stops with an error message. Here is an example that seeds the random number generator:</p>
  </dd>

</dl>

<pre>
% erl -eval '{X,Y,Z}' = now(), random:seed(X,Y,Z).'
</pre>
<p>This example uses Erlang as a hexadecimal calculator:</p>
<pre>
% erl -noshell -eval 'R = 16#1F+16#A0, io:format("~.16B~n", [R])' &#92;&#92;
-s erlang halt
BF
</pre>
<p>If multiple <em>-eval</em> expressions are specified, they are evaluated sequentially in the order specified. <em>-eval</em> expressions are evaluated sequentially with <em>-s</em> and <em>-run</em> function calls (this also in the order specified). As with <em>-s</em> and <em>-run</em>, an evaluation that does not terminate, blocks the system initialization process.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>-extra</em>: Everything following <em>-extra</em> is considered plain arguments and can be retrieved using <em>get_plain_arguments/0</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>-run Mod [Func [Arg1, Arg2, ...]]</em>: Evaluates the specified function call during system initialization. <em>Func</em> defaults to <em>start</em>. If no arguments are provided, the function is assumed to be of arity 0. Otherwise it is assumed to be of arity 1, taking the list <em>[Arg1,Arg2,...]</em> as argument. All arguments are passed as strings. If an exception is raised, Erlang stops with an error message.</p><p>Example:</p>
  </dd>

</dl>

<pre>
% erl -run foo -run foo bar -run foo bar baz 1 2
</pre>
<p>This starts the Erlang runtime system and evaluates the following functions:</p>
<pre>
foo:start()
foo:bar()
foo:bar(["baz", "1", "2"]).
</pre>
<p>The functions are executed sequentially in an initialization process, which then terminates normally and passes control to the user. This means that a <em>-run</em> call which does not return will block further processing; to avoid this, use some variant of <em>spawn</em> in such cases.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>-s Mod [Func [Arg1, Arg2, ...]]</em>: Evaluates the specified function call during system initialization. <em>Func</em> defaults to <em>start</em>. If no arguments are provided, the function is assumed to be of arity 0. Otherwise it is assumed to be of arity 1, taking the list <em>[Arg1,Arg2,...]</em> as argument. All arguments are passed as atoms. If an exception is raised, Erlang stops with an error message.</p><p>Example:</p>
  </dd>

</dl>

<pre>
% erl -s foo -s foo bar -s foo bar baz 1 2
</pre>
<p>This starts the Erlang runtime system and evaluates the following functions:</p>
<pre>
foo:start()
foo:bar()
foo:bar([baz, '1', '2']).
</pre>
<p>The functions are executed sequentially in an initialization process, which then terminates normally and passes control to the user. This means that a <em>-s</em> call which does not return will block further processing; to avoid this, use some variant of <em>spawn</em> in such cases.</p><p>Due to the limited length of atoms, it is recommended that <em>-run</em> be used instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
% erl -- a b -children thomas claire -ages 7 3 -- x y
...

1&gt; init:get_plain_arguments().
["a","b","x","y"]
2&gt; init:get_argument(children).
{ok,[["thomas","claire"]]}
3&gt; init:get_argument(ages).
{ok, [["7","3"]]}
4&gt; init:get_argument(silly).
error
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO init&hellip;</h2>
        <div class="sectioncontent">
<p><strong>erl_prim_loader(3erl)</strong>, <strong>heart(3erl)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="inets.3erl.html"><span aria-hidden="true">&larr;</span> inets.3erl: The inets services api</a></li>
   <li class="next"><a href="init_stub.3erl.html">init_stub.3erl: Coordination of system startup <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
