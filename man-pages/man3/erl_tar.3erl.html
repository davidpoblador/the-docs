<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>erl_tar: Unix 'tar' utility for reading and writing tar archives</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Unix 'tar' utility for reading and writing tar archives">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="erl_tar (3erl) manual">
  <meta name="twitter:description" content="Unix 'tar' utility for reading and writing tar archives">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-erl_tar-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/erl_tar.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="erl_tar (3erl) manual" />
  <meta property="og:description" content="Unix 'tar' utility for reading and writing tar archives" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-erl_tar-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">erl_tar<small> (3erl)</small></h1>
        <p class="lead">Unix 'tar' utility for reading and writing tar archives</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/erl_tar.3erl.html">
      <span itemprop="name">erl_tar: Unix 'tar' utility for reading and writing tar archives</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/erl_tar.3erl.html">
      <span itemprop="name">erl_tar: Unix 'tar' utility for reading and writing tar archives</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>erl_tar</em> module archives and extract files to and from a tar file. <em>erl_tar</em> supports the <em>ustar</em> format (IEEE Std 1003.1 and ISO/IEC 9945-1). All modern <em>tar</em> programs (including GNU tar) can read this format. To ensure that that GNU tar produces a tar file that <em>erl_tar</em> can read, give the <em>--format=ustar</em> option to GNU tar.</p><p>By convention, the name of a tar file should end in "<em>.tar</em>". To abide to the convention, you'll need to add "<em>.tar</em>" yourself to the name.</p><p>Tar files can be created in one operation using the <strong>create/2</strong> or <strong>create/3</strong> function.</p><p>Alternatively, for more control, the <strong>open</strong>, <strong>add/3,4</strong>, and <strong>close/1</strong> functions can be used.</p><p>To extract all files from a tar file, use the <strong>extract/1</strong> function. To extract only some files or to be able to specify some more options, use the <strong>extract/2</strong> function.</p><p>To return a list of the files in a tar file, use either the <strong>table/1</strong> or <strong>table/2</strong> function. To print a list of files to the Erlang shell, use either the <strong>t/1</strong> or <strong>tt/1</strong> function.</p><p>To convert an error term returned from one of the functions above to a readable message, use the <strong>format_error/1</strong> function.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UNICODE SUPPORT</h2>
        <div class="sectioncontent">
<p>If <strong>file:native_name_encoding/0</strong> returns <em>utf8</em>, path names will be encoded in UTF-8 when creating tar files and path names will be assumed to be encoded in UTF-8 when extracting tar files.</p><p>If <strong>file:native_name_encoding/0</strong> returns <em>latin1</em>, no translation of path names will be done.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>For maximum compatibility, it is safe to archive files with names up to 100 characters in length. Such tar files can generally be extracted by any <em>tar</em> program.</p><p>If filenames exceed 100 characters in length, the resulting tar file can only be correctly extracted by a POSIX-compatible <em>tar</em> program (such as Solaris <em>tar</em>), not by GNU tar.</p><p>File have longer names than 256 bytes cannot be stored at all.</p><p>The filename of the file a symbolic link points is always limited to 100 characters.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p><strong></strong> add(TarDescriptor, Filename, Options) -&gt; RetValue</p><p>Types:</p><p>TarDescriptor = term()</p><p>Filename = filename()</p><p>Options = [Option]</p><p>Option = dereference|verbose</p><p>RetValue = ok|{error,{Filename,Reason}}</p><p>Reason = term()</p><p>The <em>add/3</em> function adds a file to a tar file that has been opened for writing by <strong>open/1</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>dereference</em>: By default, symbolic links will be stored as symbolic links in the tar file. Use the <em>dereference</em> option to override the default and store the file that the symbolic link points to into the tar file.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>verbose</em>: Print an informational message about the file being added.</p>
  </dd>

</dl>
<p><strong></strong> add(TarDescriptor, FilenameOrBin, NameInArchive, Options) -&gt; RetValue</p><p>Types:</p><p>TarDescriptor = term()</p><p>FilenameOrBin = filename()|binary()</p><p>Filename = filename()</p><p>NameInArchive = filename()</p><p>Options = [Option]</p><p>Option = dereference|verbose</p><p>RetValue = ok|{error,{Filename,Reason}}</p><p>Reason = term()</p><p>The <em>add/4</em> function adds a file to a tar file that has been opened for writing by <strong>open/1</strong>. It accepts the same options as <strong>add/3</strong>.</p><p><em>NameInArchive</em> is the name under which the file will be stored in the tar file. That is the name that the file will get when it will be extracted from the tar file.</p><p><strong></strong> close(TarDescriptor)</p><p>Types:</p><p>TarDescriptor = term()</p><p>The <em>close/1</em> function closes a tar file opened by <strong>open/1</strong>.</p><p><strong></strong> create(Name, FileList) -&gt;RetValue</p><p>Types:</p><p>Name = filename()</p><p>FileList = [Filename|{NameInArchive, binary()},{NameInArchive, Filename}]</p><p>Filename = filename()</p><p>NameInArchive = filename()</p><p>RetValue = ok|{error,{Name,Reason}}</p><p>Reason = term()</p><p>The <em>create/2</em> function creates a tar file and archives the files whose names are given in <em>FileList</em> into it. The files may either be read from disk or given as binaries.</p><p><strong></strong> create(Name, FileList, OptionList)</p><p>Types:</p><p>Name = filename()</p><p>FileList = [Filename|{NameInArchive, binary()},{NameInArchive, Filename}]</p><p>Filename = filename()</p><p>NameInArchive = filename()</p><p>OptionList = [Option]</p><p>Option = compressed|cooked|dereference|verbose</p><p>RetValue = ok|{error,{Name,Reason}}</p><p>Reason = term()</p><p>The <em>create/3</em> function creates a tar file and archives the files whose names are given in <em>FileList</em> into it. The files may either be read from disk or given as binaries.</p><p>The options in <em>OptionList</em> modify the defaults as follows.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>compressed</em>: The entire tar file will be compressed, as if it has been run through the <em>gzip</em> program. To abide to the convention that a compressed tar file should end in "<em>.tar.gz</em>" or "<em>.tgz</em>", you'll need to add the appropriate extension yourself.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>cooked</em>: By default, the <em>open/2</em> function will open the tar file in <em>raw</em> mode, which is faster but does not allow a remote (erlang) file server to be used. Adding <em>cooked</em> to the mode list will override the default and open the tar file without the <em>raw</em> option.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>dereference</em>: By default, symbolic links will be stored as symbolic links in the tar file. Use the <em>dereference</em> option to override the default and store the file that the symbolic link points to into the tar file.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>verbose</em>: Print an informational message about each file being added.</p>
  </dd>

</dl>
<p><strong></strong> extract(Name) -&gt; RetValue</p><p>Types:</p><p>Name = filename()</p><p>RetValue = ok|{error,{Name,Reason}}</p><p>Reason = term()</p><p>The <em>extract/1</em> function extracts all files from a tar archive.</p><p>If the <em>Name</em> argument is given as "<em>{binary,Binary}</em>", the contents of the binary is assumed to be a tar archive.</p><p>If the <em>Name</em> argument is given as "<em>{file,Fd}</em>", <em>Fd</em> is assumed to be a file descriptor returned from the <em>file:open/2</em> function.</p><p>Otherwise, <em>Name</em> should be a filename.</p><p><strong></strong> extract(Name, OptionList)</p><p>Types:</p><p>Name = filename() | {binary,Binary} | {file,Fd}</p><p>Binary = binary()</p><p>Fd = file_descriptor()</p><p>OptionList = [Option]</p><p>Option = {cwd,Cwd}|{files,FileList}|keep_old_files|verbose|memory</p><p>Cwd = [dirname()]</p><p>FileList = [filename()]</p><p>RetValue = ok|MemoryRetValue|{error,{Name,Reason}}</p><p>MemoryRetValue = {ok, [{NameInArchive,binary()}]}</p><p>NameInArchive = filename()</p><p>Reason = term()</p><p>The <em>extract/2</em> function extracts files from a tar archive.</p><p>If the <em>Name</em> argument is given as "<em>{binary,Binary}</em>", the contents of the binary is assumed to be a tar archive.</p><p>If the <em>Name</em> argument is given as "<em>{file,Fd}</em>", <em>Fd</em> is assumed to be a file descriptor returned from the <em>file:open/2</em> function.</p><p>Otherwise, <em>Name</em> should be a filename.</p><p>The following options modify the defaults for the extraction as follows.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{cwd,Cwd}</em>: Files with relative filenames will by default be extracted to the current working directory. Given the <em>{cwd,Cwd}</em> option, the <em>extract/2</em> function will extract into the directory <em>Cwd</em> instead of to the current working directory.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{files,FileList}</em>: By default, all files will be extracted from the tar file. Given the <em>{files,Files}</em> option, the <em>extract/2</em> function will only extract the files whose names are included in <em>FileList</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>compressed</em>: Given the <em>compressed</em> option, the <em>extract/2</em> function will uncompress the file while extracting If the tar file is not actually compressed, the <em>compressed</em> will effectively be ignored.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>cooked</em>: By default, the <em>open/2</em> function will open the tar file in <em>raw</em> mode, which is faster but does not allow a remote (erlang) file server to be used. Adding <em>cooked</em> to the mode list will override the default and open the tar file without the <em>raw</em> option.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>memory</em>: Instead of extracting to a directory, the memory option will give the result as a list of tuples {Filename, Binary}, where Binary is a binary containing the extracted data of the file named Filename in the tar file.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>keep_old_files</em>: By default, all existing files with the same name as file in the tar file will be overwritten Given the <em>keep_old_files</em> option, the <em>extract/2</em> function will not overwrite any existing files.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>verbose</em>: Print an informational message as each file is being extracted.</p>
  </dd>

</dl>
<p><strong></strong> format_error(Reason) -&gt; string()</p><p>Types:</p><p>Reason = term()</p><p>The <em>format_error/1</em> function converts an error reason term to a human-readable error message string.</p><p><strong></strong> open(Name, OpenModeList) -&gt; RetValue</p><p>Types:</p><p>Name = filename()</p><p>OpenModeList = [OpenMode]</p><p>Mode = write|compressed|cooked</p><p>RetValue = {ok,TarDescriptor}|{error,{Name,Reason}}</p><p>TarDescriptor = term()</p><p>Reason = term()</p><p>The <em>open/2</em> function creates a tar file for writing. (Any existing file with the same name will be truncated.)</p><p>By convention, the name of a tar file should end in "<em>.tar</em>". To abide to the convention, you'll need to add "<em>.tar</em>" yourself to the name.</p><p>Except for the <em>write</em> atom the following atoms may be added to <em>OpenModeList</em>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>compressed</em>: The entire tar file will be compressed, as if it has been run through the <em>gzip</em> program. To abide to the convention that a compressed tar file should end in "<em>.tar.gz</em>" or "<em>.tgz</em>", you'll need to add the appropriate extension yourself.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>cooked</em>: By default, the <em>open/2</em> function will open the tar file in <em>raw</em> mode, which is faster but does not allow a remote (erlang) file server to be used. Adding <em>cooked</em> to the mode list will override the default and open the tar file without the <em>raw</em> option.</p>
  </dd>

</dl>
<p>Use the <strong>add/3,4</strong> functions to add one file at the time into an opened tar file. When you are finished adding files, use the <strong>close</strong> function to close the tar file.</p><p><strong></strong> Warning:</p><p>The <em>TarDescriptor</em> term is not a file descriptor. You should not rely on the specific contents of the <em>TarDescriptor</em> term, as it may change in future versions as more features are added to the <em>erl_tar</em> module.</p><p><strong></strong> table(Name) -&gt; RetValue</p><p>Types:</p><p>Name = filename()</p><p>RetValue = {ok,[string()]}|{error,{Name,Reason}}</p><p>Reason = term()</p><p>The <em>table/1</em> function retrieves the names of all files in the tar file <em>Name</em>.</p><p><strong></strong> table(Name, Options)</p><p>Types:</p><p>Name = filename()</p><p>The <em>table/2</em> function retrieves the names of all files in the tar file <em>Name</em>.</p><p><strong></strong> t(Name)</p><p>Types:</p><p>Name = filename()</p><p>The <em>t/1</em> function prints the names of all files in the tar file <em>Name</em> to the Erlang shell. (Similar to "<em>tar t</em>".)</p><p><strong></strong> tt(Name)</p><p>Types:</p><p>Name = filename()</p><p>The <em>tt/1</em> function prints names and information about all files in the tar file <em>Name</em> to the Erlang shell. (Similar to "<em>tar tv</em>".)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="erl_syntax_lib.3erl.html"><span aria-hidden="true">&larr;</span> erl_syntax_lib.3erl: Support library for abstract erlang syntax trees.</a></li>
   <li class="next"><a href="erl_tidy.3erl.html">erl_tidy.3erl: Tidies and pretty-prints erlang source code, removing unused functions, updating obsolete constructs and function calls, etc. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
