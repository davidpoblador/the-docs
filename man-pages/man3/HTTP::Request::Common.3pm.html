<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HTTP::Request::Common: Construct common http::request objects</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Construct common http::request objects">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="HTTP::Request::Common (3pm) manual">
  <meta name="twitter:description" content="Construct common http::request objects">
  <meta name="twitter:image" content="https://www.carta.tech/images/libhttp-message-perl-HTTP::Request::Common-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/HTTP::Request::Common.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="HTTP::Request::Common (3pm) manual" />
  <meta property="og:description" content="Construct common http::request objects" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libhttp-message-perl-HTTP::Request::Common-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">HTTP::Request::Common<small> (3pm)</small></h1>
        <p class="lead">Construct common http::request objects</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTTP::Request::Common.3pm.html">
      <span itemprop="name">HTTP::Request::Common: Construct common http::request objects</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libhttp-message-perl/">
      <span itemprop="name">libhttp-message-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTTP::Request::Common.3pm.html">
      <span itemprop="name">HTTP::Request::Common: Construct common http::request objects</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use HTTP::Request::Common;
  $ua = LWP::UserAgent-&gt;new;
  $ua-&gt;request(GET &apos;http://www.sn.no/&apos;);
  $ua-&gt;request(POST &apos;http://somewhere/foo&apos;, [foo =&gt; bar, bar =&gt; foo]);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provide functions that return newly created \*(C`HTTP::Request\*(C' objects.  These functions are usually more convenient to use than the standard \*(C`HTTP::Request\*(C' constructor for the most common requests.  The following functions are provided: The \s-1<em>GET\s0()</em> function returns an \*(C`HTTP::Request\*(C' object initialized with the \*(L"\s-1GET\s0\*(R" method and the specified \s-1URL\s0.  It is roughly equivalent to the following call   HTTP::Request-&gt;new(      GET =&gt; $url,      HTTP::Headers-&gt;new(Header =&gt; Value,...),   ) but is less cluttered.  What is different is that a header named \*(C`Content\*(C' will initialize the content part of the request instead of setting a header field.  Note that \s-1GET\s0 requests should normally not have a content, so this hack makes more sense for the \s-1<em>PUT\s0()</em> and \s-1<em>POST\s0()</em> functions described below. The get(...) method of \*(C`LWP::UserAgent\*(C' exists as a shortcut for $ua-&gt;request(\s-1GET\s0 ...). Like \s-1<em>GET\s0()</em> but the method in the request is \*(L"\s-1HEAD\s0\*(R". The head(...)  method of \*(L"LWP::UserAgent\*(R" exists as a shortcut for $ua-&gt;request(\s-1HEAD\s0 ...). Like \s-1<em>GET\s0()</em> but the method in the request is \*(L"\s-1PUT\s0\*(R". The content of the request can be specified using the \*(L"Content\*(R" pseudo-header.  This steals a bit of the header field namespace as there is no way to directly specify a header that is actually called \*(L"Content\*(R".  If you really need this you must update the request returned in a separate statement. Like \s-1<em>GET\s0()</em> but the method in the request is \*(L"\s-1DELETE\s0\*(R".  This function is not exported by default. This works mostly like \s-1<em>PUT\s0()</em> with \*(L"\s-1POST\s0\*(R" as the method, but this function also takes a second optional array or hash reference parameter $form_ref.  As for \s-1<em>PUT\s0()</em> the content can also be specified directly using the \*(L"Content\*(R" pseudo-header, and you may also provide the $form_ref this way. The $form_ref argument can be used to pass key/value pairs for the form content.  By default we will initialize a request using the \*(C`application/x-www-form-urlencoded\*(C' content type.  This means that you can emulate an \s-1HTML\s0 &lt;form&gt; POSTing like this:   POST &apos;http://www.perl.org/survey.cgi&apos;,        [ name   =&gt; &apos;Gisle Aas&apos;,          email  =&gt; &apos;gisle@aas.no&apos;,          gender =&gt; &apos;M&apos;,          born   =&gt; &apos;1964&apos;,          perc   =&gt; &apos;3%&apos;,        ]; This will create an HTTP::Request object that looks like this:   POST http://www.perl.org/survey.cgi   Content-Length: 66   Content-Type: application/x-www-form-urlencoded</p><p>  name=Gisle%20Aas&email=gisle%40aas.no&gender=M&born=1964&perc=3%25 Multivalued form fields can be specified by either repeating the field name or by passing the value as an array reference. The \s-1POST\s0 method also supports the \*(C`multipart/form-data\*(C' content used for <em>Form-based File Upload</em> as specified in \s-1RFC\s0 1867.  You trigger this content format by specifying a content type of &apos;form-data&apos; as one of the request headers.  If one of the values in the $form_ref is an array reference, then it is treated as a file part specification with the following interpretation:   [ $file, $filename, Header =&gt; Value... ]   [ undef, $filename, Header =&gt; Value,..., Content =&gt; $content ] The first value in the array ($file) is the name of a file to open. This file will be read and its content placed in the request.  The routine will croak if the file can't be opened.  Use an \*(C`undef\*(C' as $file value if you want to specify the content directly with a \*(C`Content\*(C' header.  The $filename is the filename to report in the request.  If this value is undefined, then the basename of the $file will be used.  You can specify an empty string as $filename if you want to suppress sending the filename when you provide a $file value. If a $file is provided by no \*(C`Content-Type\*(C' header, then \*(C`Content-Type\*(C' and \*(C`Content-Encoding\*(C' will be filled in automatically with the values returned by <em>LWP::MediaTypes::guess_media_type()</em> Sending my <em>~/.profile</em> to the survey used as example above can be achieved by this:   POST &apos;http://www.perl.org/survey.cgi&apos;,        Content_Type =&gt; &apos;form-data&apos;,        Content      =&gt; [ name  =&gt; &apos;Gisle Aas&apos;,                          email =&gt; &apos;gisle@aas.no&apos;,                          gender =&gt; &apos;M&apos;,                          born   =&gt; &apos;1964&apos;,                          init   =&gt; ["$ENV{HOME}/.profile"],                        ] This will create an HTTP::Request object that almost looks this (the boundary and the content of your <em>~/.profile</em> is likely to be different):   POST http://www.perl.org/survey.cgi   Content-Length: 388   Content-Type: multipart/form-data; boundary="6G+f"</p><p>  --6G+f   Content-Disposition: form-data; name="name"</p><p>  Gisle Aas   --6G+f   Content-Disposition: form-data; name="email"</p><p>  gisle@aas.no   --6G+f   Content-Disposition: form-data; name="gender"</p><p>  M   --6G+f   Content-Disposition: form-data; name="born"</p><p>  1964   --6G+f   Content-Disposition: form-data; name="init"; filename=".profile"   Content-Type: text/plain</p><p>  PATH=/local/perl/bin:$PATH   export PATH</p><p>  --6G+f-- If you set the $DYNAMIC_FILE_UPLOAD variable (exportable) to some \s-1TRUE\s0 value, then you get back a request object with a subroutine closure as the content attribute.  This subroutine will read the content of any files on demand and return it in suitable chunks.  This allow you to upload arbitrary big files without using lots of memory.  You can even upload infinite files like <em>/dev/audio</em> if you wish; however, if the file is not a plain file, there will be no Content-Length header defined for the request.  Not all servers (or server applications) like this.  Also, if the file(s) change in size between the time the Content-Length is calculated and the time that the last chunk is delivered, the subroutine will \*(C`Croak\*(C'. The post(...)  method of \*(L"LWP::UserAgent\*(R" exists as a shortcut for $ua-&gt;request(\s-1POST\s0 ...).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO HTTP::Request::Common&hellip;</h2>
        <div class="sectioncontent">
<p>HTTP::Request, LWP::UserAgent</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 1997-2004, Gisle Aas</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="HTTP::Request::AsCGI.3pm.html"><span aria-hidden="true">&larr;</span> HTTP::Request::AsCGI.3pm: Set up a cgi environment from an http::request</a></li>
   <li class="next"><a href="HTTP::Response.3pm.html">HTTP::Response.3pm: Http style response message <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
