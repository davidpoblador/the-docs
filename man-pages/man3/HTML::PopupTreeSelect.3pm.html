<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HTML::PopupTreeSelect: Html popup tree widget</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Html popup tree widget">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="HTML::PopupTreeSelect (3pm) manual">
  <meta name="twitter:description" content="Html popup tree widget">
  <meta name="twitter:image" content="https://www.carta.tech/images/libhtml-popuptreeselect-perl-HTML::PopupTreeSelect-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/HTML::PopupTreeSelect.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="HTML::PopupTreeSelect (3pm) manual" />
  <meta property="og:description" content="Html popup tree widget" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libhtml-popuptreeselect-perl-HTML::PopupTreeSelect-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">HTML::PopupTreeSelect<small> (3pm)</small></h1>
        <p class="lead">Html popup tree widget</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTML::PopupTreeSelect.3pm.html">
      <span itemprop="name">HTML::PopupTreeSelect: Html popup tree widget</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libhtml-popuptreeselect-perl/">
      <span itemprop="name">libhtml-popuptreeselect-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTML::PopupTreeSelect.3pm.html">
      <span itemprop="name">HTML::PopupTreeSelect: Html popup tree widget</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use HTML::PopupTreeSelect;

  # setup your tree as a hash structure.  This one sets up a tree like:
  #
  # - Root
  #   - Top Category 1
  #      - Sub Category 1
  #      - Sub Category 2
  #   - Top Category 2

  my $data = { label    =&gt; "Root",
               value    =&gt; 0,
               children =&gt; [
                            { label    =&gt; "Top Category 1",
                              value    =&gt; 1,
                              children =&gt; [
                                           { label =&gt; "Sub Category 1",
                                             value =&gt; 2
                                           },
                                           { label =&gt; "Sub Category 2",
                                             value =&gt; 3
                                           },
                                          ],
                            },
                            { label  =&gt; "Top Category 2",
                              value  =&gt; 4
                            },
                           ]
              };


  # create your HTML tree select widget.  This one will call a
  # javascript function &apos;select_category(value)&apos; when the user selects
  # a category.
  my $select = HTML::PopupTreeSelect-&gt;new(name         =&gt; &apos;category&apos;,
                                          data         =&gt; $data,
                                          title        =&gt; &apos;Select a Category&apos;,
                                          button_label =&gt; &apos;Choose&apos;,
                                          onselect     =&gt; &apos;select_category&apos;);

  # include it in your HTML page, for example using HTML::Template:
  $template-&gt;param(category_select =&gt; $select-&gt;output);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module creates an \s-1HTML\s0 popup tree selector.  The \s-1HTML\s0 and Javascript produced will work in Mozilla 1+ (Netscape 6+) on all operating systems, Microsoft \s-1IE\s0 5+ and Safari 1.0.  For an example, visit this page:</p><p>  http://sam.tregar.com/html-popuptreeselect/example.html</p><p>I based the design for this widget on the xTree widget from WebFX. You can find it here:</p><p>  http://webfx.eae.net/dhtml/xtree/</p><p>This module is used to provide the category chooser in Krang, an open source content management system.  You can find out more about Krang here:</p><p>  http://krang.sf.net</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTALLATION</h2>
        <div class="sectioncontent">
<p>To use this module you'll need to copy the contents of the images/ directory in the module distribution into a place where your webserver can serve them.  If that's not the same place your \s-1CGI\s0 will run from then you need to set the image_path parameter when you call <em>new()</em>. See below for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERFACE</h2>
        <div class="sectioncontent">
<h3>\fInew()\fP</h3>
<p><em>new()</em>, is used to build a new \s-1HTML\s0 selector.  You call it with a description of the tree to display and get back an object.  Call it with following parameters:</p>
<dl class='dl-vertical'>
  <dt>
    name
  </dt>
  <dd>
    <p>A unique name for the tree selector.  You can have multiple tree selectors on a page, but they must have unique names.  Must be alpha-numeric and begin with a letter.</p>
  </dd>
  <dt>
    data
  </dt>
  <dd>
    <p>This must be a hash reference (or an array reference of these hash references, if there are multiple \*(L"root\*(R" categories) containing the following keys:</p>
<dl class='dl-vertical'>
  <dt>
    label (required)
  </dt>
  <dd>
    <p>The textual label for this node.</p>
  </dd>
  <dt>
    value (required)
  </dt>
  <dd>
    <p>The value passed to the onselect handler or set in the form_field when the user selects this node.</p>
  </dd>
  <dt>
    open (optional)
  </dt>
  <dd>
    <p>If set to 1 this node will start open (showing its children).  By default all nodes start closed.</p>
  </dd>
  <dt>
    inactive (optional)
  </dt>
  <dd>
    <p>If set to 1 this node will not be selectable.  It will not appear as a link in the widget and clicking on the label will have no effect. However, if it has children they will still be accessible.</p>
  </dd>
  <dt>
    children (optional)
  </dt>
  <dd>
    <p>The 'children' key may point to an array of hashes with the same keys. This is the tree structure which will be displayed in the tree selector.</p>
  </dd>

</dl>
<p>See \s-1SYNOPSIS\s0 above for an example of a valid data structure.</p>
  </dd>
  <dt>
    title
  </dt>
  <dd>
    <p>The title of the window which pops up.</p>
  </dd>
  <dt>
    button_label (optional)
  </dt>
  <dd>
    <p>The widget pops up when the user presses a button. This field gives the label for the button.  Defaults to \*(L"Choose\*(R".</p>
  </dd>
  <dt>
    onselect (optional)
  </dt>
  <dd>
    <p>Specifies a Javascript function that will be called when an item in the tree is selected.  Recieves the value of the item as a single argument.  The default is for nothing to happen.</p>
  </dd>
  <dt>
    form_field (optional)
  </dt>
  <dd>
    <p>Specifies a form field to recieve the value of the selected item. This provides a no-javascript means to use this widget (although the widget itself, of course, uses great gobs of javascript).</p>
  </dd>
  <dt>
    form_field_form (optional)
  </dt>
  <dd>
    <p>Specifies the form in which to find the \*(C`form_field\*(C' specified.  If  not included the first form on the page will be used.</p>
  </dd>
  <dt>
    include_css (optional)
  </dt>
  <dd>
    <p>Set this to 0 and the default \s-1CSS\s0 will not be included in the widget output.  This allows you to include your own \s-1CSS\s0 which will be used by your widget.  Modifying the \s-1CSS\s0 will allow you to control the fonts, colors and spacing in the output widget. If you run the widget with include_css set to 1 then you can use that output as a base on which to make changes.</p>
  </dd>
  <dt>
    resizable (optional)
  </dt>
  <dd>
    <p>Set this to 1 and the default widget output will not be resizable.  If you run the widget with resizable set to 1 then default output will have a bar at the bottom which allows it to be resized by dragging. Defaults to 0.</p>
  </dd>
  <dt>
    image_path (optional)
  </dt>
  <dd>
    <p>Set this to the \s-1URL\s0 to the images for the widget.  These files should be copied from the images directory in the module distribution into a place where your webserver can reach them.  By default this is empty and the widget expects to find images in the current directory.</p>
  </dd>
  <dt>
    width (optional)
  </dt>
  <dd>
    <p>Set this to the width of the popup window.  Defaults to 200.</p>
  </dd>
  <dt>
    height (optional)
  </dt>
  <dd>
    <p>Set this to the height of the tree box inside the window.  This defaults to 0 which allows the chooser to grow as the tree expands. If you set this option you'll probably want to set the \*(C`use_scrollbars\*(C' option as well.</p>
  </dd>
  <dt>
    scrollbars (optional)
  </dt>
  <dd>
    <p>If set to 1 the chooser will have a fixed size (specified by width and height) and show scrollbars inside the tree area.</p>
  </dd>
  <dt>
    hide_selects (optional)
  </dt>
  <dd>
    <p>This option will cause the chooser to dynamically hide select boxes on the page when the chooser opens.  This is necessary in order to avoid the select boxes showing through the chooser under Windows in both \s-1IE\s0 and Mozilla (to a lesser extent).  This defaults to 1.  For a detailed explanation of the problem, see this page:    http://www.webreference.com/dhtml/diner/seethru/</p>
  </dd>
  <dt>
    hide_textareas (optional)
  </dt>
  <dd>
    <p>This option will cause the chooser to dynamically hide textareas on the page when the chooser opens.  This is necessary to workaround a bug in Netscape 6.0 through 7.0 in which buttons hovering over textareas are not clickable.  This defect is fixed in version 7.1 and later.  This option defaults to 0, since this problem only affects older browsers.</p>
  </dd>
  <dt>
    parent_var (optional)
  </dt>
  <dd>
    <p>This option includes a 'parent' loop in the template data used to construct the widget's \s-1HTML\s0.  It's not used by the default template, so it defaults to 0.  Set to 1 to use this variable in your own template via sub-classing.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fIoutput()\fP</h2>
        <div class="sectioncontent">
<p>Call <em>output()</em> to get \s-1HTML\s0 from the widget object to include in your page.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBCLASSING</h2>
        <div class="sectioncontent">
<p>HTML::PopupTreeSelect can be subclassed, for the purposes of \*(-- for example \*(-- using a different template engine to generate the \s-1HTML\s0. Here's one brief example, using the Template engine:</p><p>   package My::PopupTreeSelect;    use Template;    use base &apos;HTML::PopupTreeSelect&apos;;</p><p>   sub output {        my($self) = @_;        return $self-&gt;SUPER::output(Template-&gt;new);    }</p><p>   sub _output_generate {        my($self, $template, $param) = @_;        my $output;        $template-&gt;process(&#92;$MY_TEMPLATE_SRC, $param, &#92;$output);        return $output;    }</p><p>Of course, $MY_TEMPLATE_SRC will need to be provided, too. $HTML::PopupTreeSelect::TEMPLATE_SRC is a global variable, so it may be modified to your liking, or your own template data can be provided to your own template generator method.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<ul>
<li><p>The javascript used to implement the widget needs control over the global document.onmousedown, document.onmousemove and document.onmouseup handlers.  This means that it's unlikely to play nice with other \s-1DHTML\s0 on the same page.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<p>Here are some possible directions for future development.  Send me a patch for one of these and you're guaranteed a place in <em>Changes</em>.</p><ul>
<li><p>Allow each node to specify its own icon.  Right now every node uses \*(C`closed_node.png\*(C' and \*(C`open_node.png\*(C'.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>I know of no bugs in this module.  If you find one, please file a bug report at:</p><p>  http://rt.cpan.org</p><p>Alternately you can email me directly at \*(C`sam@tregar.com\*(C'.  Please include the version of the module and a complete test case that demonstrates the bug.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2003, 2004 Sam Tregar</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl 5 itself.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Sam Tregar &lt;sam@tregar.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="HTML::Packer.3pm.html"><span aria-hidden="true">&larr;</span> HTML::Packer.3pm: Another html code cleaner</a></li>
   <li class="next"><a href="HTML::Prototype.3pm.html">HTML::Prototype.3pm: Generate html and javascript for the prototype library <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
