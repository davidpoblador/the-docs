<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbFreeCompatMap: Free an entire compatibility map or selected portions of one</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Free an entire compatibility map or selected portions of one">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbFreeCompatMap (3) manual">
  <meta name="twitter:description" content="Free an entire compatibility map or selected portions of one">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbFreeCompatMap-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbFreeCompatMap.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbFreeCompatMap (3) manual" />
  <meta property="og:description" content="Free an entire compatibility map or selected portions of one" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbFreeCompatMap-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbFreeCompatMap<small> (3)</small></h1>
        <p class="lead">Free an entire compatibility map or selected portions of one</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbFreeCompatMap.3.html">
      <span itemprop="name">XkbFreeCompatMap: Free an entire compatibility map or selected portions of one</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbFreeCompatMap.3.html">
      <span itemprop="name">XkbFreeCompatMap: Free an entire compatibility map or selected portions of one</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>void XkbFreeCompatMap</strong> <strong>(\^XkbDescPtr </strong><em>xkb</em><strong>\^,</strong> <strong>unsigned int </strong><em>which</em><strong>\^,</strong> <strong>Bool </strong><em>free_map</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- xkb</em></p>
  </dt>
  <dd>
    <p>Xkb description in which to free compatibility map</p>
  </dd>
  <dt>
    <p><em>- which</em></p>
  </dt>
  <dd>
    <p>mask of compatibility map components to free</p>
  </dd>
  <dt>
    <p><em>- free_map</em></p>
  </dt>
  <dd>
    <p>True =&gt; free XkbCompatMap structure itself</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>which</em> specifies the compatibility map components to be freed (see XkbGetCompatMap). <em>which</em> is an inclusive OR of the bits shown in Table 1.</p><table class="table table-striped">
<tr>
<th>Table 1 Compatibility Map Component Masks</th>
<th></th>
<th></th></tr>

<tr>
<td>Mask</td>
<td>Value</td>
<td>Affecting</td></tr>

<tr>
<td>XkbSymInterpMask</td>
<td>(1&lt;&lt;0)</td>
<td>Symbol interpretations</td></tr>

<tr>
<td>XkbGroupCompatMask</td>
<td>(1&lt;&lt;1)</td>
<td>Group maps</td></tr>

<tr>
<td>XkbAllCompatMask</td>
<td>(0x3)</td>
<td>All compatibility map components</td></tr>
</table><p><em>free_map</em> indicates whether the XkbCompatMap structure itself should be freed. If <em>free_map</em> is True, <em>which</em> is ignored, all non-NULL compatibility map components are freed, and the <em>compat</em> field in the XkbDescRec referenced by <em>xkb</em> is set to NULL.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STRUCTURES</h2>
        <div class="sectioncontent">

<pre>
    typedef struct _XkbCompatMapRec {
        XkbSymInterpretPtr    sym_interpret;            /\(** symbol based key semantics*/
        XkbModsRec            groups[XkbNumKbdGroups];  /\(** group =&gt; modifier map */
        unsigned short        num_si;                   /\(** # structures used in sym_interpret */
        unsigned short        size_si;                  /\(** # structures allocated in sym_interpret */
    } XkbCompatMapRec, *XkbCompatMapPtr;

</pre>
<p>The complete description of an Xkb keyboard is given by an XkbDescRec. The component structures in the XkbDescRec represent the major Xkb components outlined in Figure 1.1.</p>
<pre>
typedef struct {
   struct _XDisplay * display;      /\(** connection to X server */
   unsigned short     flags;        /\(** private to Xkb, do not modify */
   unsigned short     device_spec;  /\(** device of interest */
   KeyCode            min_key_code; /\(** minimum keycode for device */
   KeyCode            max_key_code; /\(** maximum keycode for device */
   XkbControlsPtr     ctrls;        /\(** controls */
   XkbServerMapPtr    server;       /\(** server keymap */
   XkbClientMapPtr    map;          /\(** client keymap */
   XkbIndicatorPtr    indicators;   /\(** indicator map */
   XkbNamesPtr        names;        /\(** names for all components */
   XkbCompatMapPtr    compat;       /\(** compatibility map */
   XkbGeometryPtr     geom;         /\(** physical geometry of keyboard */
} XkbDescRec, *XkbDescPtr;

</pre>
<p>The <em>display</em> field points to an X display structure. The <em>flags field is private to the library: modifying</em> <em>flags</em> may yield unpredictable results. The <em>device_spec</em> field specifies the device identifier of the keyboard input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The <em>min_key_code</em> and <em>max_key_code</em> fields specify the least and greatest keycode that can be returned by the keyboard. The other fields specify structure components of the keyboard description and are described in detail in other sections of this document. Table 2 identifies the subsequent sections of this document that discuss the individual components of the XkbDescRec.</p><table class="table table-striped">
<tr>
<th>Table 2 XkbDescRec Component References</th>
<th></th></tr>

<tr>
<td>XkbDescRec Field</td>
<td>For more info</td></tr>

<tr>
<td>ctrls</td>
<td>Chapter 10</td></tr>

<tr>
<td>server</td>
<td>Chapter 16</td></tr>

<tr>
<td>map</td>
<td>Chapter 15</td></tr>

<tr>
<td>indicators</td>
<td>Chapter 8</td></tr>

<tr>
<td>names</td>
<td>Chapter 18</td></tr>

<tr>
<td>compat</td>
<td>Chapter 17</td></tr>

<tr>
<td>geom</td>
<td>Chapter 13</td></tr>
</table><p>Each structure component has a corresponding mask bit that is used in function calls to indicate that the structure should be manipulated in some manner, such as allocating it or freeing it. These masks and their relationships to the fields in the XkbDescRec are shown in Table 3.</p><table class="table table-striped">
<tr>
<th>Table 3 Mask Bits for XkbDescRec</th>
<th></th>
<th></th></tr>

<tr>
<td>Mask Bit</td>
<td>XkbDescRec Field</td>
<td>Value</td></tr>

<tr>
<td>XkbControlsMask</td>
<td>ctrls</td>
<td>(1L&lt;&lt;0)</td></tr>

<tr>
<td>XkbServerMapMask</td>
<td>server</td>
<td>(1L&lt;&lt;1)</td></tr>

<tr>
<td>XkbIClientMapMask</td>
<td>map</td>
<td>(1L&lt;&lt;2)</td></tr>

<tr>
<td>XkbIndicatorMapMask</td>
<td>indicators</td>
<td>(1L&lt;&lt;3)</td></tr>

<tr>
<td>XkbNamesMask</td>
<td>names</td>
<td>(1L&lt;&lt;4)</td></tr>

<tr>
<td>XkbCompatMapMask</td>
<td>compat</td>
<td>(1L&lt;&lt;5)</td></tr>

<tr>
<td>XkbGeometryMask</td>
<td>geom</td>
<td>(1L&lt;&lt;6)</td></tr>

<tr>
<td>XkbAllComponentsMask</td>
<td>All Fields</td>
<td>(0x7f)</td></tr>
</table>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XkbFreeCompatMap&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/XkbGetCompatMap.3.html"><strong>XkbGetCompatMap</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbFreeClientMap.3.html"><span aria-hidden="true">&larr;</span> XkbFreeClientMap.3: Free memory used by the client map member of an xkbdescrec structure</a></li>
   <li class="next"><a href="XkbFreeComponentList.3.html">XkbFreeComponentList.3: Free the structure returned by xkblistcomponents <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
