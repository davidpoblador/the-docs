<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CURLOPT_URL: Provide the url to use in the request</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Provide the url to use in the request">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CURLOPT_URL (3) manual">
  <meta name="twitter:description" content="Provide the url to use in the request">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcurl4-doc-CURLOPT_URL-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/CURLOPT_URL.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CURLOPT_URL (3) manual" />
  <meta property="og:description" content="Provide the url to use in the request" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcurl4-doc-CURLOPT_URL-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CURLOPT_URL<small> (3)</small></h1>
        <p class="lead">Provide the url to use in the request</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/CURLOPT_URL.3.html">
      <span itemprop="name">CURLOPT_URL: Provide the url to use in the request</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcurl4-doc/">
      <span itemprop="name">libcurl4-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/CURLOPT_URL.3.html">
      <span itemprop="name">CURLOPT_URL: Provide the url to use in the request</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;curl/curl.h&gt;</p><p>CURLcode curl_easy_setopt(CURL *handle, CURLOPT_URL, char *URL);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Pass in a pointer to the <em>URL</em> to work with. The parameter should be a char * to a zero terminated string which must be URL-encoded in the following format:</p><p>scheme://host:port/path</p><p>For a greater explanation of the format please see RFC3986.</p><p>libcurl doesn't validate the syntax or use this variable until the transfer is issued. Even if you set a crazy value here, <a href="../man3/curl_easy_setopt.3.html"><strong>curl_easy_setopt</strong>(3)</a></em> will still return <em>CURLE_OK</em>.</p><p>If the given URL lacks the scheme (such as "http://" or "ftp://" etc) then libcurl will attempt to resolve the protocol based on one of the following given host names: HTTP, FTP, DICT, LDAP, IMAP, POP3 or SMTP</p><p>Should the protocol, either that specified by the scheme or deduced by libcurl from the host name, not be supported by libcurl then <em>CURLE_UNSUPPORTED_PROTOCOL</em> will be returned from either the <a href="../man3/curl_easy_perform.3.html"><strong>curl_easy_perform</strong>(3)</a></em> or <a href="../man3/curl_multi_perform.3.html"><strong>curl_multi_perform</strong>(3)</a></em> functions when you call them. Use <a href="../man3/curl_version_info.3.html"><strong>curl_version_info</strong>(3)</a></em> for detailed information of which protocols are supported by the build of libcurl you are using.</p><p><a href="../man3/CURLOPT_PROTOCOLS.3.html"><strong>CURLOPT_PROTOCOLS</strong>(3)</a></em> can be used to limit what protocols libcurl will use for this transfer, independent of what libcurl has been compiled to support. That may be useful if you accept the URL from an external source and want to limit the accessibility.</p><p><a href="../man3/CURLOPT_URL.3.html"><strong>CURLOPT_URL</strong>(3)</a></em> is the only option that <strong>must</strong> be set before a transfer is started.</p><p>The host part of the URL contains the address of the server that you want to connect to. This can be the fully qualified domain name of the server, the local network name of the machine on your network or the IP address of the server or machine represented by either an IPv4 or IPv6 address. For example:</p><p>http://www.example.com/</p><p>http://hostname/</p><p>http://192.168.0.1/</p><p>http://[2001:1890:1112:1::20]/</p><p>It is also possible to specify the user name, password and any supported login options as part of the host, for the following protocols, when connecting to servers that require authentication:</p><p>http://user:password@www.example.com</p><p>ftp://user:password@ftp.example.com</p><p>imap://user:password;options@mail.example.com</p><p>pop3://user:password;options@mail.example.com</p><p>smtp://user:password;options@mail.example.com</p><p>At present only IMAP, POP3 and SMTP support login options as part of the host. For more information about the login options in URL syntax please see RFC2384, RFC5092 and IETF draft draft-earhart-url-smtp-00.txt (Added in 7.31.0).</p><p>The port is optional and when not specified libcurl will use the default port based on the determined or specified protocol: 80 for HTTP, 21 for FTP and 25 for SMTP, etc. The following examples show how to specify the port:</p><p>http://www.example.com:8080/ - This will connect to a web server using port 8080 rather than 80.</p><p>smtp://mail.example.com:587/ - This will connect to a SMTP server on the alternative mail port.</p><p>The path part of the URL is protocol specific and whilst some examples are given below this list is not conclusive:</p>
<dl class='dl-vertical'>
  <dt>
    HTTP
  </dt>
  <dd>
    <p>The path part of a HTTP request specifies the file to retrieve and from what directory. If the directory is not specified then the web server's root directory is used. If the file is omitted then the default document will be retrieved for either the directory specified or the root directory. The exact resource returned for each URL is entirely dependent on the server's configuration.</p><p>http://www.example.com - This gets the main page from the web server.</p><p>http://www.example.com/index.html - This returns the main page by explicitly requesting it.</p><p>http://www.example.com/contactus/ - This returns the default document from the contactus directory.</p>
  </dd>
  <dt>
    FTP
  </dt>
  <dd>
    <p>The path part of an FTP request specifies the file to retrieve and from what directory. If the file part is omitted then libcurl downloads the directory listing for the directory specified. If the directory is omitted then the directory listing for the root / home directory will be returned.</p><p>ftp://ftp.example.com - This retrieves the directory listing for the root directory.</p><p>ftp://ftp.example.com/readme.txt - This downloads the file readme.txt from the root directory.</p><p>ftp://ftp.example.com/libcurl/readme.txt - This downloads readme.txt from the libcurl directory.</p><p>ftp://user:password@ftp.example.com/readme.txt - This retrieves the readme.txt file from the user's home directory. When a username and password is specified, everything that is specified in the path part is relative to the user's home directory. To retrieve files from the root directory or a directory underneath the root directory then the absolute path must be specified by prepending an additional forward slash to the beginning of the path.</p><p>ftp://user:password@ftp.example.com//readme.txt - This retrieves the readme.txt from the root directory when logging in as a specified user.</p>
  </dd>
  <dt>
    SMTP
  </dt>
  <dd>
    <p>The path part of a SMTP request specifies the host name to present during communication with the mail server. If the path is omitted then libcurl will attempt to resolve the local computer's host name. However, this may not return the fully qualified domain name that is required by some mail servers and specifying this path allows you to set an alternative name, such as your machine's fully qualified domain name, which you might have obtained from an external function such as gethostname or getaddrinfo.</p><p>smtp://mail.example.com - This connects to the mail server at example.com and sends your local computer's host name in the HELO / EHLO command.</p><p>smtp://mail.example.com/client.example.com - This will send client.example.com in the HELO / EHLO command to the mail server at example.com.</p>
  </dd>
  <dt>
    POP3
  </dt>
  <dd>
    <p>The path part of a POP3 request specifies the message ID to retrieve. If the ID is not specified then a list of waiting messages is returned instead.</p><p>pop3://user:password@mail.example.com - This lists the available messages for the user</p><p>pop3://user:password@mail.example.com/1 - This retrieves the first message for the user</p>
  </dd>
  <dt>
    IMAP
  </dt>
  <dd>
    <p>The path part of an IMAP request not only specifies the mailbox to list (Added in 7.30.0) or select, but can also be used to check the UIDVALIDITY of the mailbox, to specify the UID, SECTION (Added in 7.30.0) and PARTIAL octets (Added in 7.37.0) of the message to fetch and to specify what messages to search for (Added in 7.37.0).</p><p>imap://user:password@mail.example.com - Performs a top level folder list</p><p>imap://user:password@mail.example.com/INBOX - Performs a folder list on the user's inbox</p><p>imap://user:password@mail.example.com/INBOX/;UID=1 - Selects the user's inbox and fetches message 1</p><p>imap://user:password@mail.example.com/INBOX;UIDVALIDITY=50/;UID=2 - Selects the user's inbox, checks the UIDVALIDITY of the mailbox is 50 and fetches message 2 if it is</p><p>imap://user:password@mail.example.com/INBOX/;UID=3/;SECTION=TEXT - Selects the user's inbox and fetches the text portion of message 3</p><p>imap://user:password@mail.example.com/INBOX/;UID=4/;PARTIAL=0.1024 - Selects the user's inbox and fetches the first 1024 octets of message 4</p><p>imap://user:password@mail.example.com/INBOX?NEW - Selects the user's inbox and checks for NEW messages</p><p>imap://user:password@mail.example.com/INBOX?SUBJECT%20shadows - Selects the user's inbox and searches for messages containing "shadows" in the subject line</p><p>For more information about the individual components of an IMAP URL please see RFC5092.</p>
  </dd>
  <dt>
    SCP
  </dt>
  <dd>
    <p>The path part of a SCP request specifies the file to retrieve and from what directory. The file part may not be omitted. The file is taken as an absolute path from the root directory on the server. To specify a path relative to the user's home directory on the server, prepend ~/ to the path portion.  If the user name is not embedded in the URL, it can be set with the <a href="../man3/CURLOPT_USERPWD.3.html"><strong>CURLOPT_USERPWD</strong>(3)</a></em> or <a href="../man3/CURLOPT_USERNAME.3.html"><strong>CURLOPT_USERNAME</strong>(3)</a></em> option.</p><p>scp://user@example.com/etc/issue - This specifies the file /etc/issue</p><p>scp://example.com/~/my-file - This specifies the file my-file in the user's home directory on the server</p>
  </dd>
  <dt>
    SFTP
  </dt>
  <dd>
    <p>The path part of a SFTP request specifies the file to retrieve and from what directory. If the file part is omitted then libcurl downloads the directory listing for the directory specified.  If the path ends in a / then a directory listing is returned instead of a file.  If the path is omitted entirely then the directory listing for the root / home directory will be returned.  If the user name is not embedded in the URL, it can be set with the <a href="../man3/CURLOPT_USERPWD.3.html"><strong>CURLOPT_USERPWD</strong>(3)</a></em> or <a href="../man3/CURLOPT_USERNAME.3.html"><strong>CURLOPT_USERNAME</strong>(3)</a></em> option.</p><p>sftp://user:password@example.com/etc/issue - This specifies the file /etc/issue</p><p>sftp://user@example.com/~/my-file - This specifies the file my-file in the user's home directory</p><p>sftp://ssh.example.com/~/Documents/ - This requests a directory listing of the Documents directory under the user's home directory</p>
  </dd>
  <dt>
    LDAP
  </dt>
  <dd>
    <p>The path part of a LDAP request can be used to specify the: Distinguished Name, Attributes, Scope, Filter and Extension for a LDAP search. Each field is separated by a question mark and when that field is not required an empty string with the question mark separator should be included.</p><p>ldap://ldap.example.com/o=My%20Organisation - This will perform a LDAP search with the DN as My Organisation.</p><p>ldap://ldap.example.com/o=My%20Organisation?postalAddress - This will perform the same search but will only return postalAddress attributes.</p><p>ldap://ldap.example.com/?rootDomainNamingContext - This specifies an empty DN and requests information about the rootDomainNamingContext attribute for an Active Directory server.</p><p>For more information about the individual components of a LDAP URL please see RFC4516.</p>
  </dd>
  <dt>
    RTMP
  </dt>
  <dd>
    <p>There's no official URL spec for RTMP so libcurl uses the URL syntax supported by the underlying librtmp library. It has a syntax where it wants a traditional URL, followed by a space and a series of space-separated name=value pairs.</p><p>While space is not typically a "legal" letter, libcurl accepts them. When a user wants to pass in a '#' (hash) character it will be treated as a fragment and get cut off by libcurl if provided literally. You will instead have to escape it by providing it as backslash and its ASCII value in hexadecimal: "&#92;23".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFAULT</h2>
        <div class="sectioncontent">
<p>There is no default URL. If this option isn't set, no transfer can be performed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROTOCOLS</h2>
        <div class="sectioncontent">
<p>All</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
   curl_easy_setopt(curl, CURLOPT_URL, "http://example.com");
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p>POP3 and SMTP added in 7.31.0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>Returns CURLE_OK on success or CURLE_OUT_OF_MEMORY if there was insufficient heap space.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO CURLOPT_URL&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/CURLOPT_VERBOSE.3.html"><strong>CURLOPT_VERBOSE</strong>(3)</a>, <a href="../man3/CURLOPT_PROTOCOLS.3.html"><strong>CURLOPT_PROTOCOLS</strong>(3)</a>,  <a href="../man3/curl_easy_perform.3.html"><strong>curl_easy_perform</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CURLOPT_UPLOAD.3.html"><span aria-hidden="true">&larr;</span> CURLOPT_UPLOAD.3: Enable data upload</a></li>
   <li class="next"><a href="CURLOPT_USERAGENT.3.html">CURLOPT_USERAGENT.3: Set http user-agent header <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
