<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>os: Operating system specific functions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Operating system specific functions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="os (3erl) manual">
  <meta name="twitter:description" content="Operating system specific functions">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-os-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/os.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="os (3erl) manual" />
  <meta property="og:description" content="Operating system specific functions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-os-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">os<small> (3erl)</small></h1>
        <p class="lead">Operating system specific functions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/os.3erl.html">
      <span itemprop="name">os: Operating system specific functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/os.3erl.html">
      <span itemprop="name">os: Operating system specific functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The functions in this module are operating system specific. Careless use of these functions will result in programs that will only run on a specific platform. On the other hand, with careful use these functions can be of help in enabling a program to run on most platforms.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
cmd(Command) -&gt; string()

</pre>
<p>Types:</p><p>Command = atom() | <strong>io_lib:chars()</strong></p><p>Executes <em>Command</em> in a command shell of the target OS, captures the standard output of the command and returns this result as a string. This function is a replacement of the previous <em>unix:cmd/1</em>; on a Unix platform they are equivalent.</p><p>Examples:</p>
<pre>
LsOut = os:cmd("ls"), % on unix platform
DirOut = os:cmd("dir"), % on Win32 platform
</pre>
<p>Note that in some cases, standard output of a command when called from another program (for example, <em>os:cmd/1</em>) may differ, compared to the standard output of the command when called directly from an OS command shell.</p>
<pre>
<strong></strong>
find_executable(Name) -&gt; Filename | false

</pre>

<pre>
<strong></strong>
find_executable(Name, Path) -&gt; Filename | false

</pre>
<p>Types:</p><p>Name = Path = Filename = string()</p><p>These two functions look up an executable program given its name and a search path, in the same way as the underlying operating system. <em>find_executable/1</em> uses the current execution path (that is, the environment variable PATH on Unix and Windows).</p><p><em>Path</em>, if given, should conform to the syntax of execution paths on the operating system. The absolute filename of the executable program <em>Name</em> is returned, or <em>false</em> if the program was not found.</p>
<pre>
<strong></strong>
getenv() -&gt; [string()]

</pre>
<p>Returns a list of all environment variables. Each environment variable is given as a single string on the format <em>"VarName=Value"</em>, where <em>VarName</em> is the name of the variable and <em>Value</em> its value.</p><p>If Unicode file name encoding is in effect (see the <strong>erl manual page</strong>), the strings may contain characters with codepoints &gt; 255.</p>
<pre>
<strong></strong>
getenv(VarName) -&gt; Value | false

</pre>
<p>Types:</p><p>VarName = Value = string()</p><p>Returns the <em>Value</em> of the environment variable <em>VarName</em>, or <em>false</em> if the environment variable is undefined.</p><p>If Unicode file name encoding is in effect (see the <strong>erl manual page</strong>), the strings (both <em>VarName</em> and <em>Value</em>) may contain characters with codepoints &gt; 255.</p>
<pre>
<strong></strong>
getpid() -&gt; Value

</pre>
<p>Types:</p><p>Value = string()</p><p>Returns the process identifier of the current Erlang emulator in the format most commonly used by the operating system environment. <em>Value</em> is returned as a string containing the (usually) numerical identifier for a process. On Unix, this is typically the return value of the <em>getpid()</em> system call. On Windows, the process id as returned by the <em>GetCurrentProcessId()</em> system call is used.</p>
<pre>
<strong></strong>
putenv(VarName, Value) -&gt; true

</pre>
<p>Types:</p><p>VarName = Value = string()</p><p>Sets a new <em>Value</em> for the environment variable <em>VarName</em>.</p><p>If Unicode filename encoding is in effect (see the <strong>erl manual page</strong>), the strings (both <em>VarName</em> and <em>Value</em>) may contain characters with codepoints &gt; 255.</p><p>On Unix platforms, the environment will be set using UTF-8 encoding if Unicode file name translation is in effect. On Windows the environment is set using wide character interfaces.</p>
<pre>
<strong></strong>
timestamp() -&gt; Timestamp

</pre>
<p>Types:</p><p>Timestamp = <strong>erlang:timestamp()</strong></p><p>Timestamp = {MegaSecs, Secs, MicroSecs}</p><p>Returns a tuple in the same format as <strong>erlang:now/0</strong>. The difference is that this function returns what the operating system thinks (a.k.a. the wall clock time) without any attempts at time correction. The result of two different calls to this function is <em>not</em> guaranteed to be different.</p><p>The most obvious use for this function is logging. The tuple can be used together with the function <strong>calendar:now_to_universal_time/1</strong> or <strong>calendar:now_to_local_time/1</strong> to get calendar time. Using the calendar time together with the <em>MicroSecs</em> part of the return tuple from this function allows you to log timestamps in high resolution and consistent with the time in the rest of the operating system.</p><p>Example of code formatting a string in the format "DD Mon YYYY HH:MM:SS.mmmmmm", where DD is the day of month, Mon is the textual month name, YYYY is the year, HH:MM:SS is the time and mmmmmm is the microseconds in six positions:</p>
<pre>
-module(print_time).
-export([format_utc_timestamp/0]).
format_utc_timestamp() -&gt;
    TS = {_,_,Micro} = os:timestamp(),
    {{Year,Month,Day},{Hour,Minute,Second}} =
	calendar:now_to_universal_time(TS),
    Mstr = element(Month,{"Jan","Feb","Mar","Apr","May","Jun","Jul",
			  "Aug","Sep","Oct","Nov","Dec"}),
    io_lib:format("~2w ~s ~4w ~2w:~2..0w:~2..0w.~6..0w",
		  [Day,Mstr,Year,Hour,Minute,Second,Micro]).

</pre>
<p>The module above could be used in the following way:</p>
<pre>
1&gt; io:format("~s~n",[print_time:format_utc_timestamp()]).
29 Apr 2009  9:55:30.051711

</pre>

<pre>
<strong></strong>
type() -&gt; {Osfamily, Osname}

</pre>
<p>Types:</p><p>Osfamily = unix | win32 | ose</p><p>Osname = atom()</p><p>Returns the <em>Osfamily</em> and, in some cases, <em>Osname</em> of the current operating system.</p><p>On Unix, <em>Osname</em> will have same value as <em>uname -s</em> returns, but in lower case. For example, on Solaris 1 and 2, it will be <em>sunos</em>.</p><p>In Windows, <em>Osname</em> will be either <em>nt</em> (on Windows NT), or <em>windows</em> (on Windows 95).</p><p><strong></strong> Note:</p><p>Think twice before using this function. Use the <em>filename</em> module if you want to inspect or build file names in a portable way. Avoid matching on the <em>Osname</em> atom.</p>
<pre>
<strong></strong>
unsetenv(VarName) -&gt; true

</pre>
<p>Types:</p><p>VarName = string()</p><p>Deletes the environment variable <em>VarName</em>.</p><p>If Unicode filename encoding is in effect (see the <strong>erl manual page</strong>), the string (<em>VarName</em>) may contain characters with codepoints &gt; 255.</p>
<pre>
<strong></strong>
version() -&gt; VersionString | {Major, Minor, Release}

</pre>
<p>Types:</p><p>VersionString = string()</p><p>Major = Minor = Release = integer() &gt;= 0</p><p>Returns the operating system version. On most systems, this function returns a tuple, but a string will be returned instead if the system has versions which cannot be expressed as three numbers.</p><p><strong></strong> Note:</p><p>Think twice before using this function. If you still need to use it, always <em>call os:type()</em> first.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ordsets.3erl.html"><span aria-hidden="true">&larr;</span> ordsets.3erl: Functions for manipulating sets as ordered lists</a></li>
   <li class="next"><a href="os_mon_mib.3erl.html">os_mon_mib.3erl: Loading and unloading of otp-os-mon-mib <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
