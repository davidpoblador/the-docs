<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbForceDeviceBell: Rings the bell on any keyboard, overriding user preference settings for audible bells</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Rings the bell on any keyboard, overriding user preference settings for audible bells">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbForceDeviceBell (3) manual">
  <meta name="twitter:description" content="Rings the bell on any keyboard, overriding user preference settings for audible bells">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbForceDeviceBell-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbForceDeviceBell.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbForceDeviceBell (3) manual" />
  <meta property="og:description" content="Rings the bell on any keyboard, overriding user preference settings for audible bells" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbForceDeviceBell-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbForceDeviceBell<small> (3)</small></h1>
        <p class="lead">Rings the bell on any keyboard, overriding user preference settings for audible bells</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbForceDeviceBell.3.html">
      <span itemprop="name">XkbForceDeviceBell: Rings the bell on any keyboard, overriding user preference settings for audible bells</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbForceDeviceBell.3.html">
      <span itemprop="name">XkbForceDeviceBell: Rings the bell on any keyboard, overriding user preference settings for audible bells</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>Bool XkbForceDeviceBell</strong> <strong>(\^Display *</strong><em>display</em><strong>\^,</strong> <strong>Window </strong><em>window</em><strong>\^,</strong> <strong>unsigned int </strong><em>device_spec</em><strong>\^,</strong> <strong>unsigned int </strong><em>bell_class</em><strong>\^,</strong> <strong>unsigned int </strong><em>bell_id</em><strong>\^,</strong> <strong>int </strong><em>percent</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- display</em></p>
  </dt>
  <dd>
    <p>connection to the X server</p>
  </dd>
  <dt>
    <p><em>- window</em></p>
  </dt>
  <dd>
    <p>event window, or None</p>
  </dd>
  <dt>
    <p><em>- device_spec</em></p>
  </dt>
  <dd>
    <p>device ID, or XkbUseCoreKbd</p>
  </dd>
  <dt>
    <p><em>- bell_class</em></p>
  </dt>
  <dd>
    <p>input extension class of the bell to be rung</p>
  </dd>
  <dt>
    <p><em>- bell_id</em></p>
  </dt>
  <dd>
    <p>input extension ID of the bell to be rung</p>
  </dd>
  <dt>
    <p><em>- percent</em></p>
  </dt>
  <dd>
    <p>relative volume, which can range from -100 to 100 inclusive</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The core X protocol allows only applications to explicitly sound the system bell with a given duration, pitch, and volume. Xkb extends this capability by allowing clients to attach symbolic names to bells, disable audible bells, and receive an event whenever the keyboard bell is rung. For the purposes of this document, the <em>audible</em> bell is defined to be the system bell, or the default keyboard bell, as opposed to any other audible sound generated elsewhere in the system. You can ask to receive XkbBellNotify events when any client rings any one of the following:</p><ul>
<li><p>The default bell</p></li><li><p>Any bell on an input device that can be specified by a bell_class and bell_id pair</p></li><li><p>Any bell specified only by an arbitrary name. (This is, from the server's point of view, merely a name, and not connected with any physical sound-generating device. Some client application must generate the sound, or visual feedback, if any, that is associated with the name.)</p></li>
</ul><p>You can also ask to receive XkbBellNotify events when the server rings the default bell or if any client has requested events only (without the bell sounding) for any of the bell types previously listed.</p><p>You can disable audible bells on a global basis. For example, a client that replaces the keyboard bell with some other audible cue might want to turn off the AudibleBell control to prevent the server from also generating a sound and avoid cacophony. If you disable audible bells and request to receive XkbBellNotify events, you can generate feedback different from the default bell.</p><p>You can, however, override the AudibleBell control by calling one of the functions that force the ringing of a bell in spite of the setting of the AudibleBell control - <em>XkbForceDeviceBell</em> or <em>XkbForceBell.</em> In this case the server does not generate a bell event.</p><p>Just as some keyboards can produce keyclicks to indicate when a key is pressed or repeating, Xkb can provide feedback for the controls by using special beep codes. The AccessXFeedback control is used to configure the specific types of operations that generate feedback.</p><p>Bell Names</p><p>You can associate a name to an act of ringing a bell by converting the name to an Atom and then using this name when you call the functions listed in this chapter. If an event is generated as a result, the name is then passed to all other clients interested in receiving XkbBellNotify events. Note that these are arbitrary names and that there is no binding to any sounds. Any sounds or other effects (such as visual bells on the screen) must be generated by a client application upon receipt of the bell event containing the name. There is no default name for the default keyboard bell. The server does generate some predefined bells for the AccessX controls. These named bells are shown in Table 1; the name is included in any bell event sent to clients that have requested to receive XkbBellNotify events.</p><table class="table table-striped">
<tr>
<th>Table 1 Predefined Bells</th>
<th></th></tr>

<tr>
<td>Action</td>
<td>Named Bell</td></tr>

<tr>
<td>Indicator turned on</td>
<td>AX_IndicatorOn</td></tr>

<tr>
<td>Indicator turned off</td>
<td>AX_IndicatorOff</td></tr>

<tr>
<td>More than one indicator changed state</td>
<td>AX_IndicatorChange</td></tr>

<tr>
<td>Control turned on</td>
<td>AX_FeatureOn</td></tr>

<tr>
<td>Control turned off</td>
<td>AX_FeatureOff</td></tr>

<tr>
<td>More than one control changed state</td>
<td>AX_FeatureChange</td></tr>

<tr>
<td>SlowKeys and BounceKeys about to be turned on or off </td>
<td>AX_SlowKeysWarning</td></tr>

<tr>
<td>SlowKeys key pressed</td>
<td>AX_SlowKeyPress</td></tr>

<tr>
<td>SlowKeys key accepted</td>
<td>AX_SlowKeyAccept</td></tr>

<tr>
<td>SlowKeys key rejected</td>
<td>AX_SlowKeyReject</td></tr>

<tr>
<td>Accepted SlowKeys key released</td>
<td>AX_SlowKeyRelease</td></tr>

<tr>
<td>BounceKeys key rejected</td>
<td>AX_BounceKeyReject</td></tr>

<tr>
<td>StickyKeys key latched</td>
<td>AX_StickyLatch</td></tr>

<tr>
<td>StickyKeys key locked</td>
<td>AX_StickyLock</td></tr>

<tr>
<td>StickyKeys key unlocked</td>
<td>AX_StickyUnlock</td></tr>
</table><p>Audible Bells</p><p>Using Xkb you can generate bell events that do not necessarily ring the system bell. This is useful if you need to use an audio server instead of the system beep. For example, when an audio client starts, it could disable the audible bell (the system bell) and then listen for XkbBellNotify events. When it receives a XkbBellNotify event, the audio client could then send a request to an audio server to play a sound.</p><p>You can control the audible bells feature by passing the XkbAudibleBellMask to <em>XkbChangeEnabledControls.</em> If you set XkbAudibleBellMask on, the server rings the system bell when a bell event occurs. This is the default. If you set XkbAudibleBellMask off and a bell event occurs, the server does not ring the system bell unless you call <em>XkbForceDeviceBell</em> or <em>XkbForceBell.</em></p><p>Audible bells are also part of the per-client auto-reset controls.</p><p>Bell Functions</p><p>Use the functions described in this section to ring bells and to generate bell events.</p><p>The input extension has two types of feedbacks that can generate bells - bell feedback and keyboard feedback. Some of the functions in this section have <em>bell_class</em> and <em>bell_id</em> parameters; set them as follows: Set <em>bell_class</em> to BellFeedbackClass or KbdFeedbackClass. A device can have more than one feedback of each type; set <em>bell_id</em> to the particular bell feedback of <em>bell_class</em> type.</p><p>Table 2 shows the conditions that cause a bell to sound or an XkbBellNotifyEvent to be generated when a bell function is called.</p><table class="table table-striped">
<tr>
<th>Table 2 Bell Sounding and Bell Event Generating</th>
<th></th>
<th></th>
<th></th></tr>

<tr>
<td>Function called</td>
<td>AudibleBell</td>
<td>Server sounds a bell</td>
<td>Server sends an</td></tr>

<tr>
<td>XkbBellNotifyEvent</td>
<td></td>
<td></td>
<td></td></tr>

<tr>
<td>XkbDeviceBell</td>
<td>On</td>
<td>Yes</td>
<td>Yes</td></tr>

<tr>
<td>XkbDeviceBell</td>
<td>Off</td>
<td>No</td>
<td>Yes</td></tr>

<tr>
<td>XkbBell</td>
<td>On</td>
<td>Yes</td>
<td>Yes</td></tr>

<tr>
<td>XkbBell</td>
<td>Off</td>
<td>No</td>
<td>Yes</td></tr>

<tr>
<td>XkbDeviceBellEvent</td>
<td>On or Off</td>
<td>No</td>
<td>Yes</td></tr>

<tr>
<td>XkbBellEvent</td>
<td>On or Off</td>
<td>No</td>
<td>Yes</td></tr>

<tr>
<td>XkbDeviceForceBell</td>
<td>On or Off</td>
<td>Yes</td>
<td>No</td></tr>

<tr>
<td>XkbForceBell</td>
<td>On or Off</td>
<td>Yes</td>
<td>No</td></tr>
</table><p>If a compatible keyboard extension isn't present in the X server, <em>XkbForceDeviceBell</em> immediately returns False. Otherwise, <em>XkbForceDeviceBell</em> rings the bell as specified for the display and keyboard device and returns True. Set <em>percent</em> to be the volume relative to the base volume for the keyboard as described for <em>XBell.</em></p><p>There is no <em>name</em> parameter because <em>XkbForceDeviceBell</em> does not cause an XkbBellNotify event.</p><p>You can call <em>XkbBell</em> without first initializing the keyboard extension.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STRUCTURES</h2>
        <div class="sectioncontent">
<p>Xkb generates XkbBellNotify events for all bells except for those resulting from calls to <em>XkbForceDeviceBell</em> and <em>XkbForceBell.</em> To receive XkbBellNotify events under all possible conditions, pass XkbBellNotifyMask in both the <em>bits_to_change</em> and <em>values_for_bits</em> parameters to <em>XkbSelectEvents.</em></p><p>The XkbBellNotify event has no event details. It is either selected or it is not. However, you can call <em>XkbSelectEventDetails</em> using XkbBellNotify as the <em>event_type</em> and specifying XkbAllBellNotifyMask in <em>bits_to_change</em> and <em>values_for_bits.</em> This has the same effect as a call to <em>XkbSelectEvents.</em></p><p>The structure for the XkbBellNotify event type contains:</p>
<pre>
   typedef struct _XkbBellNotify {
       int            type;        /\(** Xkb extension base event code */
       unsigned long  serial;      /\(** X server serial number for event */
       Bool           send_event;  /\(** True =&gt; synthetically generated */
       Display *      display;     /\(** server connection where event generated */
       Time           time;        /\(** server time when event generated */
       int            xkb_type;    /\(** XkbBellNotify */
       unsigned int   device;      /\(** Xkb device ID, will not be XkbUseCoreKbd */
       int            percent;     /\(** requested volume as % of max */
       int            pitch;       /\(** requested pitch in Hz */
       int            duration;    /\(** requested duration in microseconds */
       unsigned int   bell_class;  /\(** X input extension feedback class */
       unsigned int   bell_id;     /\(** X input extension feedback ID */
       Atom           name;        /\(** "name" of requested bell */
       Window         window;      /\(** window associated with event */
       Bool           event_only;  /\(** False -&gt; the server did not produce a beep */
   } XkbBellNotifyEvent;

</pre>
<p>If your application needs to generate visual bell feedback on the screen when it receives a bell event, use the window ID in the XkbBellNotifyEvent, if present.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XkbForceDeviceBell&hellip;</h2>
        <div class="sectioncontent">
<p><strong>XBell</strong>(3), <a href="../man3/XkbBell.3.html"><strong>XkbBell</strong>(3)</a>, <strong>XkbBellNotify</strong>(3), <a href="../man3/XkbChangeEnabledControls.3.html"><strong>XkbChangeEnabledControls</strong>(3)</a>, <a href="../man3/XkbDeviceBell.3.html"><strong>XkbDeviceBell</strong>(3)</a>, <a href="../man3/XkbForceBell.3.html"><strong>XkbForceBell</strong>(3)</a>, <a href="../man3/XkbForceDeviceBell.3.html"><strong>XkbForceDeviceBell</strong>(3)</a>, <a href="../man3/XkbSelectEventDetails.3.html"><strong>XkbSelectEventDetails</strong>(3)</a>, <a href="../man3/XkbSelectEvents.3.html"><strong>XkbSelectEvents</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbForceBell.3.html"><span aria-hidden="true">&larr;</span> XkbForceBell.3: Overrides user preference settings for audible bells to ring the bell on the default keyboard</a></li>
   <li class="next"><a href="XkbFreeClientMap.3.html">XkbFreeClientMap.3: Free memory used by the client map member of an xkbdescrec structure <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
