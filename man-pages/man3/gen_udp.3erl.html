<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gen_udp: Interface to udp sockets</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Interface to udp sockets">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gen_udp (3erl) manual">
  <meta name="twitter:description" content="Interface to udp sockets">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-gen_udp-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/gen_udp.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gen_udp (3erl) manual" />
  <meta property="og:description" content="Interface to udp sockets" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-gen_udp-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gen_udp<small> (3erl)</small></h1>
        <p class="lead">Interface to udp sockets</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/gen_udp.3erl.html">
      <span itemprop="name">gen_udp: Interface to udp sockets</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/gen_udp.3erl.html">
      <span itemprop="name">gen_udp: Interface to udp sockets</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>gen_udp</em> module provides functions for communicating with sockets using the UDP protocol.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA TYPES</h2>
        <div class="sectioncontent">

<pre>
<strong>option()</strong> = {active, true | false | once | -32768..32767}

         | {add_membership,

            {<strong>inet:ip_address()</strong>, <strong>inet:ip_address()</strong>}}

         | {broadcast, boolean()}

         | {buffer, integer() &gt;= 0}

         | {deliver, port | term}

         | {dontroute, boolean()}

         | {drop_membership,

            {<strong>inet:ip_address()</strong>, <strong>inet:ip_address()</strong>}}

         | {header, integer() &gt;= 0}

         | {high_msgq_watermark, integer() &gt;= 1}

         | {low_msgq_watermark, integer() &gt;= 1}

         | {mode, list | binary}

         | list

         | binary

         | {multicast_if, <strong>inet:ip_address()</strong>}

         | {multicast_loop, boolean()}

         | {multicast_ttl, integer() &gt;= 0}

         | {priority, integer() &gt;= 0}

         | {raw,

            Protocol :: integer() &gt;= 0,

            OptionNum :: integer() &gt;= 0,

            ValueBin :: binary()}

         | {read_packets, integer() &gt;= 0}

         | {recbuf, integer() &gt;= 0}

         | {reuseaddr, boolean()}

         | {sndbuf, integer() &gt;= 0}

         | {tos, integer() &gt;= 0}

         | {ipv6_v6only, boolean()}

</pre>

<pre>
<strong>option_name()</strong> = active

              | broadcast

              | buffer

              | deliver

              | dontroute

              | header

              | high_msgq_watermark

              | low_msgq_watermark

              | mode

              | multicast_if

              | multicast_loop

              | multicast_ttl

              | priority

              | {raw,

                 Protocol :: integer() &gt;= 0,

                 OptionNum :: integer() &gt;= 0,

                 ValueSpec :: (ValueSize :: integer() &gt;= 0)

                            | (ValueBin :: binary())}

              | read_packets

              | recbuf

              | reuseaddr

              | sndbuf

              | tos

              | ipv6_v6only

</pre>

<pre>
<strong></strong>
<strong>socket()</strong>

</pre>
<p>As returned by open/1,2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
open(Port) -&gt; {ok, Socket} | {error, Reason}

</pre>

<pre>
<strong></strong>
open(Port, Opts) -&gt; {ok, Socket} | {error, Reason}

</pre>
<p>Types:</p><p>Port = <strong>inet:port_number()</strong></p><p>Opts = [Option]</p><p>Option = {ip, <strong>inet:ip_address()</strong>}</p>
<pre>
       | {fd, integer() &gt;= 0}
</pre>

<pre>
       | {ifaddr, <strong>inet:ip_address()</strong>}
</pre>

<pre>
       | <strong>inet:address_family()</strong>
</pre>

<pre>
       | {port, <strong>inet:port_number()</strong>}
</pre>

<pre>
       | <strong>option()</strong>
</pre>
<p>Socket = <strong>socket()</strong></p><p>Reason = <strong>inet:posix()</strong></p><p>Associates a UDP port number (<em>Port</em>) with the calling process.</p><p>The available options are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>list</em>: Received <em>Packet</em> is delivered as a list.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>binary</em>: Received <em>Packet</em> is delivered as a binary.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{ip, ip_address()}</em>: If the host has several network interfaces, this option specifies which one to use.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{ifaddr, ip_address()}</em>: Same as <em>{ip, ip_address()}</em>. If the host has several network interfaces, this option specifies which one to use.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{fd, integer() &gt;= 0}</em>: If a socket has somehow been opened without using <em>gen_udp</em>, use this option to pass the file descriptor for it. If <em>Port</em> is not set to 0 and/or <em>{ip, ip_address()}</em> is combined with this option the fd will be bound to the given interface and port after being opened. If these options are not given it is assumed that the fd is already bound appropriately.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>inet6</em>: Set up the socket for IPv6.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>inet</em>: Set up the socket for IPv4.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{udp_module, module()}</em>: Override which callback module is used. Defaults to <em>inet_udp</em> for IPv4 and <em>inet6_udp</em> for IPv6.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{multicast_if, Address}</em>: Set the local device for a multicast socket.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{multicast_loop, true | false}</em>: When <em>true</em> sent multicast packets will be looped back to the local sockets.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{multicast_ttl, Integer}</em>: The <em>multicast_ttl</em> option changes the time-to-live (TTL) for outgoing multicast datagrams in order to control the scope of the multicasts.</p><p>Datagrams with a TTL of 1 are not forwarded beyond the local network.</p><p>Default: 1</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{add_membership, {MultiAddress, InterfaceAddress}}</em>: Join a multicast group.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{drop_membership, {MultiAddress, InterfaceAddress}}</em>: Leave multicast group.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>Opt</em>: See <strong>inet:setopts/2</strong>.</p>
  </dd>

</dl>
<p>The returned socket <em>Socket</em> is used to send packets from this port with <em>send/4</em>. When UDP packets arrive at the opened port, if the socket is in an active mode the packets are delivered as messages to the controlling process:</p>
<pre>
{udp, Socket, IP, InPortNo, Packet}
</pre>
<p>If the socket is not in an active mode, data can be retrieved via the <strong>recv/2,3</strong> calls. Note that arriving UDP packets that are longer than the receive buffer option specifies, might be truncated without warning.</p><p>When a socket in <em>{active, N}</em> mode (see <strong> inet:setopts/2</strong> for details) transitions to passive (<em>{active, false}</em>) mode, the controlling process is notified by a message of the following form:</p>
<pre>
{udp_passive, Socket}
</pre>
<p><em>IP</em> and <em>InPortNo</em> define the address from which <em>Packet</em> came. <em>Packet</em> is a list of bytes if the option <em>list</em> was specified. <em>Packet</em> is a binary if the option <em>binary</em> was specified.</p><p>Default value for the receive buffer option is <em>{recbuf, 8192}</em>.</p><p>If <em>Port == 0</em>, the underlying OS assigns a free UDP port, use <em>inet:port/1</em> to retrieve it.</p>
<pre>
<strong></strong>
send(Socket, Address, Port, Packet) -&gt; ok | {error, Reason}

</pre>
<p>Types:</p><p>Socket = <strong>socket()</strong></p><p>Address = <strong>inet:ip_address()</strong> | <strong>inet:hostname()</strong></p><p>Port = <strong>inet:port_number()</strong></p><p>Packet = iodata()</p><p>Reason = not_owner | <strong>inet:posix()</strong></p><p>Sends a packet to the specified address and port. The <em>Address</em> argument can be either a hostname, or an IP address.</p>
<pre>
<strong></strong>
recv(Socket, Length) -&gt;
<strong></strong>
        {ok, {Address, Port, Packet}} | {error, Reason}

</pre>

<pre>
<strong></strong>
recv(Socket, Length, Timeout) -&gt;
<strong></strong>
        {ok, {Address, Port, Packet}} | {error, Reason}

</pre>
<p>Types:</p><p>Socket = <strong>socket()</strong></p><p>Length = integer() &gt;= 0</p><p>Timeout = timeout()</p><p>Address = <strong>inet:ip_address()</strong></p><p>Port = <strong>inet:port_number()</strong></p><p>Packet = string() | binary()</p><p>Reason = not_owner | <strong>inet:posix()</strong></p><p>This function receives a packet from a socket in passive mode.</p><p>The optional <em>Timeout</em> parameter specifies a timeout in milliseconds. The default value is <em>infinity</em>.</p>
<pre>
<strong></strong>
controlling_process(Socket, Pid) -&gt; ok | {error, Reason}

</pre>
<p>Types:</p><p>Socket = <strong>socket()</strong></p><p>Pid = pid()</p><p>Reason = closed | not_owner | <strong>inet:posix()</strong></p><p>Assigns a new controlling process <em>Pid</em> to <em>Socket</em>. The controlling process is the process which receives messages from the socket. If called by any other process than the current controlling process, <em>{error, not_owner}</em> is returned.</p>
<pre>
<strong></strong>
close(Socket) -&gt; ok

</pre>
<p>Types:</p><p>Socket = <strong>socket()</strong></p><p>Closes a UDP socket.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gen_tcp.3erl.html"><span aria-hidden="true">&larr;</span> gen_tcp.3erl: Interface to tcp/ip sockets</a></li>
   <li class="next"><a href="gl.3erl.html">gl.3erl: Standard opengl api. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
