<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mod_esi: Erlang server interface</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Erlang server interface">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mod_esi (3erl) manual">
  <meta name="twitter:description" content="Erlang server interface">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-mod_esi-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/mod_esi.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mod_esi (3erl) manual" />
  <meta property="og:description" content="Erlang server interface" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-mod_esi-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mod_esi<small> (3erl)</small></h1>
        <p class="lead">Erlang server interface</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/mod_esi.3erl.html">
      <span itemprop="name">mod_esi: Erlang server interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/mod_esi.3erl.html">
      <span itemprop="name">mod_esi: Erlang server interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module defines the Erlang Server Interface (ESI) API. It is a more efficient way of writing erlang scripts for your Inets web server than writing them as common CGI scripts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p><strong></strong> deliver(SessionID, Data) -&gt; ok | {error, Reason}</p><p>Types:</p><p>SessionID = term()</p><p>Data = string() | io_list() | binary()</p><p>Reason = term()</p><p>This function is <em>only</em> intended to be used from functions called by the Erl Scheme interface to deliver parts of the content to the user.</p><p>Sends data from a Erl Scheme script back to the client.</p><p><strong></strong> Note:</p><p>Note that if any HTTP-header fields should be added by the script they must be in the first call to deliver/2 and the data in the call must be a string. Calls after the headers are complete may contain binary data to reduce copying overhead. Do not assume anything about the data type of SessionID, the SessionID must be the value given as input to the esi call back function that you implemented.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ESI CALLBACK FUNCTIONS</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p><strong></strong> Module:Function(SessionID, Env, Input)-&gt; _</p><p>Types:</p><p>SessionID = term()</p><p>Env = [EnvironmentDirectives] ++ ParsedHeader</p><p>EnvironmentDirectives = {Key,Value}</p><p>Key = query_string | content_length | server_software | gateway_interface | server_protocol | server_port | request_method | remote_addr | script_name</p><p>Input = string()</p><p>The <em>Module</em> must be found in the code path and export <em>Function</em> with an arity of three. An erlScriptAlias must also be set up in the configuration file for the Web server.</p><p>If the HTTP request is a 'post' request and a body is sent then content_length will be the length of the posted data. If 'get' is used query_string will be the data after <em>?</em> in the url.</p><p>ParsedHeader is the HTTP request as a key value tuple list. The keys in parsed header will be the in lower case.</p><p>SessionID is a identifier the server uses when <em>deliver/2</em> is called; do not assume anything about the datatype.</p><p>Use this callback function to dynamically generate dynamic web content. When a part of the page is generated send the data back to the client through <em>deliver/2</em>. Note that the first chunk of data sent to the client must at least contain all HTTP header fields that the response will generate. If the first chunk does not contain the <em>End of HTTP header</em>, that is <em>"&#92;r&#92;n&#92;r&#92;n",</em> the server will assume that no HTTP header fields will be generated.</p><p><strong></strong> Module:Function(Env, Input)-&gt; Response</p><p>Types:</p><p>Env = [EnvironmentDirectives] ++ ParsedHeader</p><p>EnvironmentDirectives = {Key,Value}</p><p>Key = query_string | content_length | server_software | gateway_interface | server_protocol | server_port | request_method | remote_addr | script_name.</p><p>Input = string()</p><p>Response = string()</p><p>This callback format consumes a lot of memory since the whole response must be generated before it is sent to the user. This function is deprecated and only kept for backwards compatibility. For new development Module:Function/3 should be used.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mod_auth.3erl.html"><span aria-hidden="true">&larr;</span> mod_auth.3erl: User authentication using text files, dets or mnesia database.</a></li>
   <li class="next"><a href="mod_security.3erl.html">mod_security.3erl: Security audit and trailing functionality <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
