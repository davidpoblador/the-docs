<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Proc::Background: Generic interface to unix and win32 background process management</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generic interface to unix and win32 background process management">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Proc::Background (3pm) manual">
  <meta name="twitter:description" content="Generic interface to unix and win32 background process management">
  <meta name="twitter:image" content="https://www.carta.tech/images/libproc-background-perl-Proc::Background-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Proc::Background.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Proc::Background (3pm) manual" />
  <meta property="og:description" content="Generic interface to unix and win32 background process management" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libproc-background-perl-Proc::Background-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Proc::Background<small> (3pm)</small></h1>
        <p class="lead">Generic interface to unix and win32 background process management</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Proc::Background.3pm.html">
      <span itemprop="name">Proc::Background: Generic interface to unix and win32 background process management</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libproc-background-perl/">
      <span itemprop="name">libproc-background-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Proc::Background.3pm.html">
      <span itemprop="name">Proc::Background: Generic interface to unix and win32 background process management</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Proc::Background;
    timeout_system($seconds, $command, $arg1);
    timeout_system($seconds, "$command $arg1");

    my $proc1 = Proc::Background-&gt;new($command, $arg1, $arg2);
    my $proc2 = Proc::Background-&gt;new("$command $arg1 1&gt;&2");
    $proc1-&gt;alive;
    $proc1-&gt;die;
    $proc1-&gt;wait;
    my $time1 = $proc1-&gt;start_time;
    my $time2 = $proc1-&gt;end_time;

    # Add an option to kill the process with die when the variable is
    # DETROYed.
    my $opts  = {&apos;die_upon_destroy&apos; =&gt; 1};
    my $proc3 = Proc::Background-&gt;new($opts, $command, $arg1, $arg2);
    $proc3    = undef;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This is a generic interface for placing processes in the background on both Unix and Win32 platforms.  This module lets you start, kill, wait on, retrieve exit values, and see if background processes still exist.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>new</strong> [options] <em>command</em>, [<em>arg</em>, [<em>arg</em>, ...]]
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>new</strong> [options] '<em>command</em> [<em>arg</em> [<em>arg</em> ...]]'
  </dt>
  <dd>
    <p>This creates a new background process.  As <em>exec()</em> or <em>system()</em> may be passed an array with a single single string element containing a command to be passed to the shell or an array with more than one element to be run without calling the shell, <strong>new</strong> has the same behavior. In certain cases <strong>new</strong> will attempt to find <em>command</em> on the system and fail if it cannot be found. For Win32 operating systems:     The Win32::Process module is always used to spawn background     processes on the Win32 platform.  This module always takes a     single string argument containing the executable&apos;s name and     any option arguments.  In addition, it requires that the     absolute path to the executable is also passed to it.  If     only a single argument is passed to new, then it is split on     whitespace into an array and the first element of the split     array is used at the executable&apos;s name.  If multiple     arguments are passed to new, then the first element is used     as the executable&apos;s name.</p><p>    If the executable&apos;s name is an absolute path, then new     checks to see if the executable exists in the given location     or fails otherwise.  If the executable&apos;s name is not     absolute, then the executable is searched for using the PATH     environmental variable.  The input executable name is always     replaced with the absolute path determined by this process.</p><p>    In addition, when searching for the executable, the     executable is searched for using the unchanged executable     name and if that is not found, then it is checked by     appending &#96;.exe&apos; to the name in case the name was passed     without the &#96;.exe&apos; suffix.</p><p>    Finally, the argument array is placed back into a single     string and passed to Win32::Process::Create. For non-Win32 operating systems, such as Unix:     If more than one argument is passed to new, then new     assumes that the command will not be passed through the     shell and the first argument is the executable&apos;s relative     or absolute path.  If the first argument is an absolute     path, then it is checked to see if it exists and can be     run, otherwise new fails.  If the path is not absolute,     then the PATH environmental variable is checked to see if     the executable can be found.  If the executable cannot be     found, then new fails.  These steps are taking to prevent     exec() from failing after an fork() without the caller of     new knowing that something failed. The first argument to <strong>new</strong> <em>options</em> may be a reference to a hash which contains key/value pairs to modify Proc::Background's behavior. Currently the only key understood by <strong>new</strong> is <em>die_upon_destroy</em>. When this value is set to true, then when the Proc::Background object is being \s-1DESTROY\s0'ed for any reason (i.e. the variable goes out of scope) the process is killed via the <em>die()</em> method. If anything fails, then new returns an empty list in a list context, an undefined value in a scalar context, or nothing in a void context.</p>
  </dd>
  <dt>
    <strong>pid</strong>
  </dt>
  <dd>
    <p>Returns the process \s-1ID\s0 of the created process.  This value is saved even if the process has already finished.</p>
  </dd>
  <dt>
    <strong>alive</strong>
  </dt>
  <dd>
    <p>Return 1 if the process is still active, 0 otherwise.</p>
  </dd>
  <dt>
    <strong>die</strong>
  </dt>
  <dd>
    <p>Reliably try to kill the process.  Returns 1 if the process no longer exists once <strong>die</strong> has completed, 0 otherwise.  This will also return 1 if the process has already died.  On Unix, the following signals are sent to the process in one second intervals until the process dies: \s-1HUP\s0, \s-1QUIT\s0, \s-1INT\s0, \s-1KILL\s0.</p>
  </dd>
  <dt>
    <strong>wait</strong>
  </dt>
  <dd>
    <p>Wait for the process to exit.  Return the exit status of the command as returned by <em>wait()</em> on the system.  To get the actual exit value, divide by 256 or right bit shift by 8, regardless of the operating system being used.  If the process never existed, then return an empty list in a list context, an undefined value in a scalar context, or nothing in a void context.  This function may be called multiple times even after the process has exited and it will return the same exit status.</p>
  </dd>
  <dt>
    <strong>start_time</strong>
  </dt>
  <dd>
    <p>Return the value that the Perl function <em>time()</em> returned when the process was started.</p>
  </dd>
  <dt>
    <strong>end_time</strong>
  </dt>
  <dd>
    <p>Return the value that the Perl function <em>time()</em> returned when the exit status was obtained from the process.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>timeout_system</strong> <em>timeout</em>, <em>command</em>, [<em>arg</em>, [<em>arg</em>...]]
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>timeout_system</strong> '<em>timeout</em> <em>command</em> [<em>arg</em> [<em>arg</em>...]]'
  </dt>
  <dd>
    <p>Run a command for <em>timeout</em> seconds and if the process did not exit, then kill it.  While the timeout is implemented using <em>sleep()</em>, this function makes sure that the full <em>timeout</em> is reached before killing the process.  <strong>timeout_system</strong> does not wait for the complete <em>timeout</em> number of seconds before checking if the process has exited.  Rather, it sleeps repeatidly for 1 second and checks to see if the process still exists. In a scalar context, <strong>timeout_system</strong> returns the exit status from the process.  In an array context, <strong>timeout_system</strong> returns a two element array, where the first element is the exist status from the process and the second is set to 1 if the process was killed by <strong>timeout_system</strong> or 0 if the process exited by itself. The exit status is the value returned from the <em>wait()</em> call.  If the process was killed, then the return value will include the killing of it.  To get the actual exit value, divide by 256. If something failed in the creation of the process, the subroutine returns an empty list in a list context, an undefined value in a scalar context, or nothing in a void context.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IMPLEMENTATION</h2>
        <div class="sectioncontent">
<p><em>Proc::Background</em> comes with two modules, <em>Proc::Background::Unix</em> and <em>Proc::Background::Win32</em>.  Currently, on Unix platforms <em>Proc::Background</em> uses the <em>Proc::Background::Unix</em> class and on Win32 platforms it uses <em>Proc::Background::Win32</em>, which makes use of <em>Win32::Process</em>.</p><p>The <em>Proc::Background</em> assigns to @ISA either <em>Proc::Background::Unix</em> or <em>Proc::Background::Win32</em>, which does the \s-1OS\s0 dependent work.  The \s-1OS\s0 independent work is done in <em>Proc::Background</em>.</p><p>Proc::Background uses two variables to keep track of the process. $self-&gt;{_os_obj} contains the operating system object to reference the process.  On a Unix systems this is the process id (pid).  On Win32, it is an object returned from the <em>Win32::Process</em> class.  When $self-&gt;{_os_obj} exists, then the process is running.  When the process dies, this is recorded by deleting $self-&gt;{_os_obj} and saving the exit value $self-&gt;{_exit_value}.</p><p>Anytime <em>alive</em> is called, a <em>waitpid()</em> is called on the process and the return status, if any, is gathered and saved for a call to <em>wait</em>.  This module does not install a signal handler for \s-1SIGCHLD\s0. If for some reason, the user has installed a signal handler for \s-1SIGCHLD\s0, then, then when this module calls <em>waitpid()</em>, the failure will be noticed and taken as the exited child, but it won't be able to gather the exit status.  In this case, the exit status will be set to 0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Proc::Background&hellip;</h2>
        <div class="sectioncontent">
<p>See also Proc::Background::Unix and Proc::Background::Win32.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Blair Zajac &lt;blair@orcaware.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1998-2005 Blair Zajac.  All rights reserved.  This package is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Privileges::Drop.3pm.html"><span aria-hidden="true">&larr;</span> Privileges::Drop.3pm: A module to make it simple to drop all privileges, even posix groups.</a></li>
   <li class="next"><a href="Proc::Background::Unix.3pm.html">Proc::Background::Unix.3pm: Unix interface to process mangement <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
