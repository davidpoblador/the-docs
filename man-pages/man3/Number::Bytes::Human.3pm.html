<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Number::Bytes::Human: Convert byte count to human readable format</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert byte count to human readable format">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Number::Bytes::Human (3pm) manual">
  <meta name="twitter:description" content="Convert byte count to human readable format">
  <meta name="twitter:image" content="https://www.carta.tech/images/libnumber-bytes-human-perl-Number::Bytes::Human-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Number::Bytes::Human.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Number::Bytes::Human (3pm) manual" />
  <meta property="og:description" content="Convert byte count to human readable format" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libnumber-bytes-human-perl-Number::Bytes::Human-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Number::Bytes::Human<small> (3pm)</small></h1>
        <p class="lead">Convert byte count to human readable format</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Number::Bytes::Human.3pm.html">
      <span itemprop="name">Number::Bytes::Human: Convert byte count to human readable format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libnumber-bytes-human-perl/">
      <span itemprop="name">libnumber-bytes-human-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Number::Bytes::Human.3pm.html">
      <span itemprop="name">Number::Bytes::Human: Convert byte count to human readable format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Number::Bytes::Human qw(format_bytes parse_bytes);
  $size = <strong>format_bytes</strong>(0); # &apos;0&apos;
  $size = format_bytes(2*1024); # &apos;2.0K&apos;

  $size = format_bytes(1_234_890, bs =&gt; 1000); # &apos;1.3M&apos;
  $size = format_bytes(1E9, bs =&gt; 1000); # &apos;1.0G&apos;

  my $bytes = parse_bytes(&apos;1.0K&apos;);   # 1024
  my $bytes = parse_bytes(&apos;1.0KB&apos;);  # 1000, SI unit
  my $bytes = parse_bytes(&apos;1.0KiB&apos;); # 1024, SI unit

  # the OO way
  $human = Number::Bytes::Human-&gt;new(bs =&gt; 1000, si =&gt; 1);
  $size = $human-&gt;format(1E7); # &apos;10MB&apos;

  $bytes = $human-&gt;parse(&apos;10MB&apos;);   # 10*1000*1000
  $bytes = $human-&gt;parse(&apos;10MiB&apos;);  # 10*1024*1024
  $bytes = $human-&gt;parse(&apos;10M&apos;);    # Error, no SI unit

  $human-&gt;set_options(zero =&gt; &apos;-&apos;);
  $size = $human-&gt;<strong>format</strong>(0);    # &apos;-&apos;
  $bytes = $human-&gt;parse(&apos;-&apos;);  # 0

  $human = Number::Bytes::Human-&gt;new(bs =&gt; 1000, round_style =&gt; &apos;round&apos;, precision =&gt; 2);
  $size = $human-&gt;format(10240000); # &apos;10.24MB&apos;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\s-1THIS\s0 \s-1IS\s0 \s-1ALPHA\s0 \s-1SOFTWARE:\s0 \s-1THE\s0 \s-1DOCUMENTATION\s0 \s-1AND\s0 \s-1THE\s0 \s-1CODE\s0 \s-1WILL\s0 \s-1SUFFER\s0 \s-1CHANGES\s0 \s-1SOME\s0 \s-1DAY\s0 (\s-1THANKS\s0, \s-1GOD\s0!).</p><p>This module provides a formatter which turns byte counts to usual readable format, like '2.0K', '3.1G', '100B'. It was inspired in the \*(C`-h\*(C' option of Unix utilities like \*(C`du\*(C', \*(C`df\*(C' and \*(C`ls\*(C' for \*(L"human-readable\*(R" output.</p><p>From the FreeBSD man page of \*(C`df\*(C': http://www.freebsd.org/cgi/man.cgi?query=df</p><p>  "Human-readable" output.  Use unit suffixes: Byte, Kilobyte,   Megabyte, Gigabyte, Terabyte and Petabyte in order to reduce the   number of digits to four or fewer using base 2 for sizes.</p><p>  byte      B   kilobyte  K = 2**10 B = 1024 B   megabyte  M = 2**20 B = 1024 * 1024 B   gigabyte  G = 2**30 B = 1024 * 1024 * 1024 B   terabyte  T = 2**40 B = 1024 * 1024 * 1024 * 1024 B</p><p>  petabyte  P = 2**50 B = 1024 * 1024 * 1024 * 1024 * 1024 B   exabyte   E = 2**60 B = 1024 * 1024 * 1024 * 1024 * 1024 * 1024 B   zettabyte Z = 2**70 B = 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 B   yottabyte Y = 2**80 B = 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 * 1024 B</p><p>I have found this link to be quite useful:</p><p>  http://www.t1shopper.com/tools/calculate/</p><p>If you feel like a hard-drive manufacturer, you can start counting bytes by powers of 1000 (instead of the generous 1024). Just use \*(C`bs =&gt; 1000\*(C'.</p><p>But if you are a floppy disk manufacturer and want to start counting in units of 1024000 (for your \*(L"1.44 \s-1MB\s0\*(R" disks)? Then use \*(C`bs =&gt; 1_024_000\*(C'.</p><p>If you feel like a purist academic, you can force the use of metric prefixes according to the Dec 1998 standard by the \s-1IEC\s0. Never mind the units for base 1000 are \*(C`(&apos;B&apos;, &apos;kB&apos;, &apos;MB&apos;, &apos;GB&apos;, &apos;TB&apos;, &apos;PB&apos;, &apos;EB&apos;, &apos;ZB&apos;, &apos;YB&apos;)\*(C' and, even worse, the ones for base 1024 are \*(C`(&apos;B&apos;, &apos;KiB&apos;, &apos;MiB&apos;, &apos;GiB&apos;, &apos;TiB&apos;, &apos;PiB&apos;, &apos;EiB&apos;, &apos;ZiB&apos;, &apos;YiB&apos;)\*(C' with the horrible names: bytes, kibibytes, mebibytes, etc. All you have to do is to use \*(C`si =&gt; 1\*(C'. Ain't that beautiful the \s-1SI\s0 system? Read about it:</p><p>  http://physics.nist.gov/cuu/Units/binary.html</p><p>You can try a pure Perl "ls -lh"-inspired command with the one-liner, er, two-liner:</p><p>  $ perl -MNumber::Bytes::Human=format_bytes &#92;          -e &apos;printf "%5s %s&#92;n", format_bytes(-s), $_ for @ARGV&apos; *</p><p>Why to write such a module? Because if people can write such things in C, it can be written much easier in Perl and then reused, refactored, abused. And then, when it is much improved, some brave soul can port it back to C (if only for the warm feeling of painful programming).</p><p>It is also possible to parse human readable formatted bytes. The automatic format detection recognizes \s-1SI\s0 units with the blocksizes of 1000 and 1024 respectively and additionally the customary K / M / G etc. with blocksize 1024. When si =&gt; 1 is added to the options only \s-1SI\s0 units are recognized. Explicitly specifying a blocksize changes it for all detected units.</p><h3>\s-1OBJECTS\s0</h3>
<p>An alternative to the functional style of this module is the \s-1OO\s0 fashion. This is useful for avoiding the unnecessary parsing of the arguments over and over if you have to format lots of numbers</p><p>  for (@sizes) {     my $fmt_size = format_bytes($_, @args);     ...   }</p><p>versus</p><p>  my $human = Number::Format::Bytes-&gt;new(@args);   for (@sizes) {     my $fmt_size = $human-&gt;format($_);     ...   }</p><p>for \s-1TODO\s0 [\s-1TODO\s0] \s-1MAKE\s0 \s-1IT\s0 \s-1JUST\s0 A \s-1MATTER\s0 \s-1OF\s0 \s-1STYLE:\s0 memoize <em>_parse_args()</em> $seed == undef</p>
<h3>\s-1FUNCTIONS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>format_bytes</strong>
  </dt>
  <dd>
    <p>  $h_size = format_bytes($size, @options); Turns a byte count (like 1230) to a readable format like '1.3K'. You have a bunch of options to play with. See the section \*(L"\s-1OPTIONS\s0\*(R" to know the details.</p>
  </dd>
  <dt>
    <strong>parse_bytes</strong>
  </dt>
  <dd>
    <p>  $size = parse_bytes($h_size, @options); Turns a human readable byte count into a number of the equivalent bytes.</p>
  </dd>

</dl>

<h3>\s-1METHODS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>new</strong>
  </dt>
  <dd>
    <p>  $h = Number::Bytes::Human-&gt;new(@options); The constructor. For details on the arguments, see the section \*(L"\s-1OPTIONS\s0\*(R".</p>
  </dd>
  <dt>
    <strong>format</strong>
  </dt>
  <dd>
    <p>  $h_size = $h-&gt;format($size); Turns a byte count (like 1230) to a readable format like '1.3K'. The statements   $h = Number::Bytes::Human-&gt;new(@options);   $h_size = $h-&gt;format($size); are equivalent to \*(C`$h_size = format_bytes($size, @options)\*(C', with only one pass for the option arguments.</p>
  </dd>
  <dt>
    <strong>parse</strong>
  </dt>
  <dd>
    <p>  $size = $h-&gt;parse($h_size) Turns a human readable byte count into the number of bytes. The statements   $h = Number::Bytes::Human-&gt;new(@options);   $size = $h-&gt;format($h_size); are equivalent to \*(C`$size = parse_bytes($h_size, @options)\*(C', with only one pass for the option arguments.</p>
  </dd>
  <dt>
    <strong>set_options</strong>
  </dt>
  <dd>
    <p>  $h-&gt;set_options(@options); To alter the options of a \*(C`Number::Bytes::Human\*(C' object. See \*(L"\s-1OPTIONS\s0\*(R".</p>
  </dd>

</dl>

<h3>\s-1OPTIONS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    \s-1BASE\s0
  </dt>
  <dd>
    <p>  block | base | block_size | bs =&gt; 1000 | 1024 | 1024000   base_1024 | block_1024 | 1024 =&gt; 1   base_1000 | block_1000 | 1000 =&gt; 1 The base to be used: 1024 (default), 1000 or 1024000. Any other value throws an exception.</p>
  </dd>
  <dt>
    \s-1SUFFIXES\s0
  </dt>
  <dd>
    <p>  suffixes =&gt; 1000 | 1024 | 1024000 | si_1000 | si_1024 | $arrayref By default, the used suffixes stand for '', 'K', 'M', ... for base 1024 and '', 'k', 'M', ... for base 1000 (which are indeed the usual metric prefixes with implied unit as bytes, 'B'). For the weird 1024000 base, suffixes are '', 'M', 'T', etc.</p>
  </dd>
  <dt>
    \s-1ZERO\s0
  </dt>
  <dd>
    <p>  zero =&gt; string | undef The string 0 maps to ('0' by default). If \*(C`undef\*(C', the general case is used. The string may contain '%S' in which case the suffix for byte is used.   format_bytes(0, zero =&gt; &apos;-&apos;) =&gt; &apos;-&apos;</p>
  </dd>
  <dt>
    \s-1METRIC\s0 \s-1SYSTEM\s0
  </dt>
  <dd>
    <p>  si =&gt; 1</p>
  </dd>
  <dt>
    \s-1ROUND\s0
  </dt>
  <dd>
    <p>  round_function =&gt; $coderef   round_style =&gt; &apos;ceil&apos; | &apos;floor&apos; | &apos;round&apos; | &apos;trunc&apos;</p>
  </dd>
  <dt>
    \s-1TO_S\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1QUIET\s0
  </dt>
  <dd>
    <p>  quiet =&gt; 1 Suppresses the warnings emitted. Currently, the only case is when the number is large than \*(C`$base**(@suffixes+1)\*(C'.</p>
  </dd>
  <dt>
    \s-1PRECISION\s0
  </dt>
  <dd>
    <p>  precision =&gt; &lt;integer&gt; default = 1 sets the precicion of digits, only apropreacte for round_style 'round' or if you want to accept it in as the second parameter to your custome round_function.</p>
  </dd>
  <dt>
    \s-1PRECISION_CUTOFF\s0
  </dt>
  <dd>
    <p>  precision_cutoff =&gt; &lt;integer&gt; default = 1 when the number of digits exceeds this number causes the precision to be cutoff (was default behaviour in 0.07 and below)</p>
  </dd>

</dl>

<h3>\s-1EXPORT\s0</h3>
<p>It is alright to import \*(C`format_bytes\*(C' and \*(C`parse_bytes\*(C', but nothing is exported by default.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>  "unknown round style &apos;$style&apos;";</p><p>  "invalid base: $block (should be 1024, 1000 or 1024000)";</p><p>  "round function ($args{round_function}) should be a code ref";</p><p>  "suffixes ($args{suffixes}) should be 1000, 1024, 1024000 or an array ref";</p><p>  "negative numbers are not allowed" (??)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO DO</h2>
        <div class="sectioncontent">
<p>A function \*(C`parse_bytes\*(C'</p><p>  parse_bytes($str, $options)</p><p>which transforms '1k' to 1000, '1K' to 1024, '1MB' to 1E6, '1M' to 1024*1024, etc. (like gnu du).</p><p>  $str =~ /^&#92;s*(&#92;d*&#92;.?&#92;d*)&#92;s*(&#92;S+)/ # $num $suffix</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Number::Bytes::Human&hellip;</h2>
        <div class="sectioncontent">
<p><em>lib/human.c</em> and <em>lib/human.h</em> in \s-1GNU\s0 coreutils.</p><p>The \*(C`_convert()\*(C' solution by \s-1COG\s0 in Filesys::DiskUsage.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report bugs via \s-1CPAN\s0 \s-1RT\s0 http://rt.cpan.org/NoAuth/Bugs.html?Dist=Number-Bytes-Human &lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Number-Bytes-Human&gt; or mailto://bug-Number-Bytes-Human@rt.cpan.org &lt;mailto://bug-Number-Bytes-Human@rt.cpan.org&gt;. I will not be able to close the bug as BestPractical ignore my claims that I cannot log in, but I will answer anyway.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Adriano R. Ferreira, &lt;ferreira@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2005-2007 by Adriano R. Ferreira</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Normalize::Text::Music_Fields.3pm.html"><span aria-hidden="true">&larr;</span> Normalize::Text::Music_Fields.3pm: Normalize names of people's and (musical) works.</a></li>
   <li class="next"><a href="Number::Compare.3pm.html">Number::Compare.3pm: Numeric comparisons <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
