<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libsnmpkit: Snmp communication library</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Snmp communication library">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libsnmpkit (3) manual">
  <meta name="twitter:description" content="Snmp communication library">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsnmpkit-dev-libsnmpkit-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/libsnmpkit.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libsnmpkit (3) manual" />
  <meta property="og:description" content="Snmp communication library" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsnmpkit-dev-libsnmpkit-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libsnmpkit<small> (3)</small></h1>
        <p class="lead">Snmp communication library</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libsnmpkit.3.html">
      <span itemprop="name">libsnmpkit: Snmp communication library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsnmpkit-dev/">
      <span itemprop="name">libsnmpkit-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libsnmpkit.3.html">
      <span itemprop="name">libsnmpkit: Snmp communication library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;snmpkit.h&gt;</strong>

<strong>SNMPSTRUCTFILLER *new_snmpstructfiller(SNMPSESSION *</strong><em>session</em><strong>);</strong>
<strong>void delete_snmpstructfiller(SNMPSTRUCTFILLER *</strong><em>doomed</em><strong>);</strong>
<strong>void snmpstructfiller_append(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>, const char *</strong><em>oidstr</em><strong>,Tags </strong><em>tag</em><strong>, unsigned int </strong><em>offset</em><strong>);</strong>
<strong>void snmpstructfiller_remove(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>,const char *</strong><em>oidstr</em><strong>);</strong>
<strong>void *snmpstructfiller_get(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>,void *</strong><em>tobefilled</em><strong>);</strong>
<strong>void *snmpstructfiller_get_next(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>, void *</strong><em>tobefilled</em><strong>);</strong>

<strong>SNMPTABLE *new_snmptable(SNMPSESSION *</strong><em>session</em><strong>,unsigned int </strong><em>structlen</em><strong>);</strong>
<strong>void delete_snmptable(SNMPTABLE *</strong><em>doomed</em><strong>);</strong>
<strong>void snmptable_append(SNMPTABLE *</strong><em>st</em><strong>,const char *</strong><em>oidstr</em><strong>,Tags </strong><em>tag</em><strong>, unsigned int </strong><em>offset</em><strong>);</strong>
<strong>void snmptable_remove(SNMPTABLE *</strong><em>st</em><strong>,const char *</strong><em>oidstr</em><strong>);</strong>
<strong>void *snmptable_get(SNMPTABLE *</strong><em>st</em><strong>,unsigned int *</strong><em>len</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>snmpkit is a toolkit for doing SNMP queries of network connected devices. Its design is quite different than other snmp libraries such as those published by CMU and UC Davis. Those SNMP libraries largely preserve the OSI model in their programming interfaces. In other words words they expect that applications are going request objects by name from the MIBs. This introduces quite a lot of overhead as the objects are translated in and out of the textual representations each and every time a request is done. They also assume that they are communicating with only one host. snmpkit is different, because it assumes that the program is going to do be querying a few well known object on a large numbers of hosts. In other words the design of the library is exactly the opposite of the traditional SNMP libraries. It doesn't bother with all the MIB processing. It figures that the objects that the programmer wants to query are well known at the time of application development and therefore it is worth the time to read the MIB by hand and figure out what the OID for the object is and hard code that into the application. Since it assumes that you are going to be communicating with a large number of hosts, it provides a mechanism to allow many sessions on one socket.</p><p>For example, say you want to find out the page count on all the printers you have enterprise wide. This amounts to 3500 different printers. One approach to this would be to have a script sequentially go through each and every printer and query it's page count. This would take a very long time because the out of those 3500 printers there would be a handful which are either turned off, broken, or for which you have incorrect information. The queries would be reasonably fast up until the point where you hit one which didn't respond and then your script would pause for quite some time before giving up and going onto the next one. One solution to this problem would be to parallelize the task so that you start up several of the processes at once. In this case, the problem is that each one of those queries would consume one process as well as one socket per host. Care would have to be execised so as not to not forkbomb the computer or run out of open file descritors. This approach allows you to multiplex all the SNMP queries on one socket.</p><p>The third thing that is different about snmpkit is that it is optimized to fill structures with information. If you are fetching individual objects, you basically specify the objects that you want in a structure and tell the structure filler where within the structure to put the object and then call the one of the get functions. If you want to fetch all the rows in a table it is very similar. You specify the what objects you want and their offsets into the structure and then you specify the structure length and it will fetch all the rows within the structure and return a vector of all the structures and the number of structures that are fetched.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ben Woodard &lt;ben@users.sourceforge.net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Interface bug -- The method of filling structures is really nasty code. It does all sorts of really evil futzing with pointers. It should probably be rewritten to call a function which puts the variable in place. The thing is it took a long time to get right but now it works and it is very efficient.</p><p>Interface bug -- The snmptable functions return a pointer to a dynamically allocated vector of structures. It should probably return some type of container instead.</p><p>Interface bug -- With this interface there is no way to perform any sets. The snmpstructfiller and snmptable should include functions to do sets.</p><p>The library can possibly throw different kinds of C++ execptions that won't be caught by the glue code and therefore it can cause your program to crash inexplicably.</p><p>The library is implemented using a lot of hand crafted data structures. It should be rewritten to use many of the features available in libstdc++.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO libsnmpkit&hellip;</h2>
        <div class="sectioncontent">
<p><strong>snmpsock</strong>(3), <a href="../man3/snmpsession.3.html"><strong>snmpsession</strong>(3)</a>, <a href="../man3/snmpstructfiller.3.html"><strong>snmpstructfiller</strong>(3)</a>, <strong>snmptable</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libsmi.3.html"><span aria-hidden="true">&larr;</span> libsmi.3: Library to access smi management information</a></li>
   <li class="next"><a href="libsolv.3.html">libsolv.3: Package dependency solver library using a satisfiability algorithm <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
