<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Time::Duration: Rounded or exact english expression of durations</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Rounded or exact english expression of durations">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Time::Duration (3pm) manual">
  <meta name="twitter:description" content="Rounded or exact english expression of durations">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtime-duration-perl-Time::Duration-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Time::Duration.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Time::Duration (3pm) manual" />
  <meta property="og:description" content="Rounded or exact english expression of durations" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtime-duration-perl-Time::Duration-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Time::Duration<small> (3pm)</small></h1>
        <p class="lead">Rounded or exact english expression of durations</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Time::Duration.3pm.html">
      <span itemprop="name">Time::Duration: Rounded or exact english expression of durations</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtime-duration-perl/">
      <span itemprop="name">libtime-duration-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Time::Duration.3pm.html">
      <span itemprop="name">Time::Duration: Rounded or exact english expression of durations</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>Example use in a program that ends by noting its runtime:</p>
<pre>
  my $start_time = time();
  use Time::Duration;

  # then things that take all that time, and then ends:
  print "Runtime ", duration(time() - $start_time), ".&#92;n";
</pre>
<p>Example use in a program that reports age of a file:</p><p>  use Time::Duration;   my $file = &apos;that_file&apos;;   my $age = $^T - (stat($file))[9];  # 9 = modtime   print "$file was modified ", ago($age);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides functions for expressing durations in rounded or exact terms.</p><p>In the first example in the Synopsis, using duration($interval_seconds):</p><p>If the \*(C`time() - $start_time\*(C' is 3 seconds, this prints "Runtime: <strong>3 seconds</strong>.\*(L".  If it's 0 seconds, it's \*(R"Runtime: <strong>0 seconds</strong>.\*(L". If it's 1 second, it's \*(R"Runtime: <strong>1 second</strong>.\*(L".  If it's 125 seconds, you get \*(R"Runtime: <strong>2 minutes and 5 seconds</strong>.\*(L".  If it's 3820 seconds (which is exactly 1h, 3m, 40s), you get it rounded to fit within two expressed units: \*(R"Runtime: <strong>1 hour and 4 minutes</strong>.\*(L".  Using duration_exact instead would return \*(R"Runtime: <strong>1 hour, 3 minutes, and 40 seconds</strong>".</p><p>In the second example in the Synopsis, using ago($interval_seconds):</p><p>If the $age is 3 seconds, this prints "<em>file</em> was modified <strong>3 seconds ago</strong>\*(L".  If it's 0 seconds, it's \*(R"<em>file</em> was modified <strong>just now</strong>\*(L", as a special case.  If it's 1 second, it's \*(R"from <strong>1 second ago</strong>\*(L".  If it's 125 seconds, you get \*(R"<em>file</em> was modified <strong>2 minutes and 5 seconds ago</strong>\*(L".  If it's 3820 seconds (which is exactly 1h, 3m, 40s), you get it rounded to fit within two expressed units: \*(R"<em>file</em> was modified <strong>1 hour and 4 minutes ago</strong>\*(L". Using ago_exact instead would return \*(R"<em>file</em> was modified <strong>1 hour, 3 minutes, and 40 seconds</strong> ago\*(L".  And if the file's modtime is, surprisingly, three seconds into the future, $age is -3, and you'll get the equally and appropriately surprising \*(R"<em>file</em> was modified <strong>3 seconds from now</strong>."</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MILLISECOND MODE</h2>
        <div class="sectioncontent">
<p>By default, this module assumes input is an integer representing number of seconds and only emits results based on the integer part of any floating-point values passed to it.  However, if you set the variable $Time::Duration::MILLISECOND to any true value, then the methods will interpret inputs as floating-point numbers and will emit results containing information about the number of milliseconds in the value.</p><p>For example, \*(C`duration(1.021)\*(C' will return <strong>1 second and 21 milliseconds</strong> in this mode.</p><p>Millisecond mode is not enabled by default because this module sees heavy use and existing users of it may be relying on its implicit truncation of non-integer arguments.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<p>This module provides all the following functions, which are all exported by default when you call \*(C`use Time::Duration;\*(C'.</p>
<dl class='dl-vertical'>
  <dt>
    duration($seconds)
  </dt>
  <dd>
    <p>Returns English text expressing the approximate time duration of abs($seconds), with at most \*(C`$precision&nbsp;||&nbsp;2\*(C' expressed units. (That is, duration($seconds) is the same as duration($seconds,2).) For example, duration(120) or duration(-120) is \*(L"2 minutes\*(R".  And <em>duration</em>\|(0) is \*(L"0 seconds\*(R". The precision figure means that no more than that many units will be used in expressing the time duration.  For example, 31,629,659 seconds is a duration of <em>exactly</em> 1 year, 1 day, 2 hours, and 59 seconds (assuming 1 year = exactly 365 days, as we do assume in this module).  However, if you wanted an approximation of this to at most two expressed (i.e., nonzero) units, it would round it and truncate it to \*(L"1 year and 1 day\*(R".  Max of 3 expressed units would get you \*(L"1 year, 1 day, and 2 hours\*(R".  Max of 4 expressed units would get you \*(L"1 year, 1 day, 2 hours, and 59 seconds\*(R", which happens to be exactly true.  Max of 5 (or more) expressed units would get you the same, since there are only four nonzero units possible in for that duration.</p>
  </dd>
  <dt>
    duration_exact($seconds)
  </dt>
  <dd>
    <p>Same as duration($seconds), except that the returned value is an exact (unrounded) expression of $seconds.  For example, duration_exact(31629659) returns \*(L"1 year, 1 day, 2 hours, and 59 seconds later\*(R", which is <em>exactly</em> true.</p>
  </dd>
  <dt>
    ago($seconds)
  </dt>
  <dd>
    <p>For a positive value of seconds, this prints the same as \*(C`duration($seconds, [$precision]) . &apos;&nbsp;ago&apos;\*(C'.  For example, ago(120) is \*(L"2 minutes ago\*(R".  For a negative value of seconds, this prints the same as \*(C`duration($seconds, [$precision]) . &apos;&nbsp;from&nbsp;now&apos;\*(C'.  For example, ago(-120) is \*(L"2 minutes from now\*(R".  As a special case, <em>ago</em>\|(0) returns \*(L"right now\*(R".</p>
  </dd>
  <dt>
    ago_exact($seconds)
  </dt>
  <dd>
    <p>Same as ago($seconds), except that the returned value is an exact (unrounded) expression of $seconds.</p>
  </dd>
  <dt>
    from_now($seconds)
  </dt>
  <dd>
    
  </dd>
  <dt>
    from_now_exact($seconds)
  </dt>
  <dd>
    <p>The same as ago(-$seconds), ago(-$seconds, $precision), ago_exact(-$seconds).  For example, from_now(120) is \*(L"2 minutes from now\*(R".</p>
  </dd>
  <dt>
    later($seconds)
  </dt>
  <dd>
    <p>For a positive value of seconds, this prints the same as \*(C`duration($seconds, [$precision]) . &apos;&nbsp;later&apos;\*(C'.  For example, ago(120) is \*(L"2 minutes later\*(R".  For a negative value of seconds, this prints the same as \*(C`duration($seconds, [$precision]) . &apos;&nbsp;earlier&apos;\*(C'.  For example, later(-120) is \*(L"2 minutes earlier\*(R".  As a special case, <em>later</em>\|(0) returns \*(L"right then\*(R".</p>
  </dd>
  <dt>
    later_exact($seconds)
  </dt>
  <dd>
    <p>Same as later($seconds), except that the returned value is an exact (unrounded) expression of $seconds.</p>
  </dd>
  <dt>
    earlier($seconds)
  </dt>
  <dd>
    
  </dd>
  <dt>
    earlier_exact($seconds)
  </dt>
  <dd>
    <p>The same as later(-$seconds), later(-$seconds, $precision), later_exact(-$seconds).  For example, earlier(120) is \*(L"2 minutes earlier\*(R".</p>
  </dd>
  <dt>
    concise( <em>function(</em> ... ) )
  </dt>
  <dd>
    <p>Concise takes the string output of one of the above functions and makes it more concise.  For example, \*(C`ago(4567)\*(C' returns \*(L"1 hour and 16 minutes ago\*(R", but \*(C`concise(ago(4567))\*(C' returns \*(L"1h16m ago\*(R".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">I18N/L10N NOTES</h2>
        <div class="sectioncontent">
<p>Little of the internals of this module are English-specific.  See source and/or contact me if you're interested in making a localized version for some other language than English.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BACKSTORY</h2>
        <div class="sectioncontent">
<p>I wrote the basic \*(C`ago()\*(C' function for use in Infobot (\*(C`http://www.infobot.org\*(C'), because I was tired of this sort of response from the Purl Infobot:</p><p>  me&gt; Purl, seen Woozle?   &lt;Purl&gt; Woozle was last seen on #perl 20 days, 7 hours, 32 minutes   and 40 seconds ago, saying: Wuzzle!</p><p>I figured if it was 20 days ago, I don't care about the seconds.  So once I had written \*(C`ago()\*(C', I abstracted the code a bit and got all the other functions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEAT</h2>
        <div class="sectioncontent">
<p>This module calls a durational \*(L"year\*(R" an interval of exactly 365 days of exactly 24 hours each, with no provision for leap years or monkey business with 23/25 hour days (much less leap seconds!).  But since the main work of this module is approximation, that shouldn't be a great problem for most purposes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Time::Duration&hellip;</h2>
        <div class="sectioncontent">
<p>Date::Interval, which is similarly named, but does something rather different.</p><p><em>Star Trek: The Next Generation</em> (1987-1994), where the character Data would express time durations like \*(L"1 year, 20 days, 22 hours, 59 minutes, and 35 seconds\*(R" instead of rounding to \*(L"1 year and 21 days\*(R".  This is because no-one ever told him to use Time::Duration.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND DISCLAIMER</h2>
        <div class="sectioncontent">
<p>Copyright 2013, Sean M. Burke \*(C`sburke@cpan.org\*(C'; Avi Finkel, \*(C`avi@finkel.org\*(C', all rights reserved.  This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>This program is distributed in the hope that it will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Current maintainer Avi Finkel, \*(C`avi@finkel.org\*(C'; Original author Sean M. Burke, \*(C`sburke@cpan.org\*(C'</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Time::Clock.3pm.html"><span aria-hidden="true">&larr;</span> Time::Clock.3pm: Twenty-four hour clock object with nanosecond precision.</a></li>
   <li class="next"><a href="Time::Fake.3pm.html">Time::Fake.3pm: Simulate different times without changing your system clock <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
