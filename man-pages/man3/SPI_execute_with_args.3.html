<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SPI_execute_with_args: Execute a command with out-of-line parameters</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Execute a command with out-of-line parameters">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="SPI_execute_with_args (3) manual">
  <meta name="twitter:description" content="Execute a command with out-of-line parameters">
  <meta name="twitter:image" content="https://www.carta.tech/images/postgresql-doc-9.4-SPI_execute_with_args-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/SPI_execute_with_args.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="SPI_execute_with_args (3) manual" />
  <meta property="og:description" content="Execute a command with out-of-line parameters" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postgresql-doc-9.4-SPI_execute_with_args-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">SPI_execute_with_args<small> (3)</small></h1>
        <p class="lead">Execute a command with out-of-line parameters</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/SPI_execute_with_args.3.html">
      <span itemprop="name">SPI_execute_with_args: Execute a command with out-of-line parameters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postgresql-doc-9.4/">
      <span itemprop="name">postgresql-doc-9.4</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/SPI_execute_with_args.3.html">
      <span itemprop="name">SPI_execute_with_args: Execute a command with out-of-line parameters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
int SPI_execute_with_args(const char *<em>command</em>,
                          int <em>nargs</em>, Oid *<em>argtypes</em>,
                          Datum *<em>values</em>, const char *<em>nulls</em>,
                          bool <em>read_only</em>, long <em>count</em>)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>SPI_execute_with_args</strong> executes a command that might include references to externally supplied parameters. The command text refers to a parameter as $<em>n</em>, and the call specifies data types and values for each such symbol. <em>read_only</em> and <em>count</em> have the same interpretation as in <strong>SPI_execute</strong>.</p><p>The main advantage of this routine compared to <strong>SPI_execute</strong> is that data values can be inserted into the command without tedious quoting/escaping, and thus with much less risk of SQL-injection attacks.</p><p>Similar results can be achieved with <strong>SPI_prepare</strong> followed by <strong>SPI_execute_plan</strong>; however, when using this function the query plan is always customized to the specific parameter values provided. For one-time query execution, this function should be preferred. If the same command is to be executed with many different parameters, either method might be faster, depending on the cost of re-planning versus the benefit of custom plans.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">
<p>const char * <em>command</em></p><p>command string</p><p>int <em>nargs</em></p><p>number of input parameters ($1, $2, etc.)</p><p>Oid * <em>argtypes</em></p><p>an array of length <em>nargs</em>, containing the OIDs of the data types of the parameters</p><p>Datum * <em>values</em></p><p>an array of length <em>nargs</em>, containing the actual parameter values</p><p>const char * <em>nulls</em></p><p>an array of length <em>nargs</em>, describing which parameters are null</p><p>If <em>nulls</em> is NULL then <strong>SPI_execute_with_args</strong> assumes that no parameters are null. Otherwise, each entry of the <em>nulls</em> array should be &apos;&nbsp;&apos; if the corresponding parameter value is non-null, or &apos;n&apos; if the corresponding parameter value is null. (In the latter case, the actual value in the corresponding <em>values</em> entry doesn&apos;t matter.) Note that <em>nulls</em> is not a text string, just an array: it does not need a &apos;&#92;0&apos; terminator.</p><p>bool <em>read_only</em></p><p>true for read-only execution</p><p>long <em>count</em></p><p>maximum number of rows to return, or 0 for no limit</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>The return value is the same as for <strong>SPI_execute</strong>.</p><p><em>SPI_processed</em> and <em>SPI_tuptable</em> are set as in <strong>SPI_execute</strong> if successful.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="SPI_execute_plan_with_paramlist.3.html"><span aria-hidden="true">&larr;</span> SPI_execute_plan_with_paramlist.3: Execute a statement prepared by spi_prepare</a></li>
   <li class="next"><a href="SPI_finish.3.html">SPI_finish.3: Disconnect a procedure from the spi manager <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
