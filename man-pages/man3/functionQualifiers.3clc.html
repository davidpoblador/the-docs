<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>functionQualifiers: Qualifiers for kernel functions.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Qualifiers for kernel functions.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="functionQualifiers (3clc) manual">
  <meta name="twitter:description" content="Qualifiers for kernel functions.">
  <meta name="twitter:image" content="https://www.carta.tech/images/opencl-1.2-man-doc-functionQualifiers-3clc.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3clc/functionQualifiers.3clc.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="functionQualifiers (3clc) manual" />
  <meta property="og:description" content="Qualifiers for kernel functions." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/opencl-1.2-man-doc-functionQualifiers-3clc.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">functionQualifiers<small> (3clc)</small></h1>
        <p class="lead">Qualifiers for kernel functions.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/functionQualifiers.3clc.html">
      <span itemprop="name">functionQualifiers: Qualifiers for kernel functions.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/opencl-1.2-man-doc/">
      <span itemprop="name">opencl-1.2-man-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/functionQualifiers.3clc.html">
      <span itemprop="name">functionQualifiers: Qualifiers for kernel functions.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>__kernel</strong> (or <strong>kernel</strong>) qualifier declares a function to be a kernel that can be executed by an application on an OpenCL device(s). The following rules apply to functions that are declared with this qualifier:</p><p>It can be executed on the device only</p><p>It can be called by the host</p><p>It is just a regular function call if a <strong>__kernel</strong> function is called by another kernel function.</p><p>Kernel functions with variables declared inside the function with the <strong>local</strong>(3clc) or <strong>local</strong>(3clc) qualifier can be called by the host using appropriate APIs such as <strong>clEnqueueNDRangeKernel</strong>(3clc), and <strong>clEnqueueTask</strong>(3clc).</p><p>The behavior of calling kernel functions with variables declared inside the function with the <strong>local</strong>(3clc) or <strong>local</strong>(3clc) qualifier from other kernel functions is implementation-defined.</p><p>The <strong>__kernel</strong> and <strong>kernel</strong> names are reserved for use as functions qualifiers and shall not be used otherwise. Optional Attribute Qualifiers.PP The <strong>__kernel</strong> qualifier can be used with the keyword <strong>attribute</strong>(3clc) to declare additional information about the kernel function as described below.</p><p>The optional __attribute__((vec_type_hint(&lt;type&gt;))) is a hint to the compiler and is intended to be a representation of the computational <em>width</em> of the <strong>__kernel</strong>, and should serve as the basis for calculating processor bandwidth utilization when the compiler is looking to autovectorize the code. In the __attribute__((vec_type_hint(&lt;type&gt;))) qualifier &lt;type&gt; is one of the built-in vector types or the constituent scalar element types. If vec_type_hint (&lt;type&gt;) is not specified, the kernel is assumed to have the __attribute__((vec_type_hint(int))) qualifier.</p><p>Implicit in autovectorization is the assumption that any libraries called from the <strong>__kernel</strong> must be recompilable at run time to handle cases where the compiler decides to merge or separate workitems. This probably means that such libraries can never be hard coded binaries or that hard coded binaries must be accompanied either by source or some retargetable intermediate representation. This may be a code security question for some.</p><p>For example, where the developer specified a width of <strong>float4</strong>, the compiler should assume that the computation usually uses up 4 lanes of a float vector, and would decide to merge work-items or possibly even separate one work-item into many threads to better match the hardware capabilities. A conforming implementation is not required to autovectorize code, but shall support the hint. A compiler may autovectorize, even if no hint is provided. If an implementation merges <strong>N</strong> work-items into one thread, it is responsible for correctly handling cases where the number of global or local work-items in any dimension modulo <strong>N</strong> is not zero.</p><p>If for example, a <strong>__kernel</strong> function is declared with __attribute__(( vec_type_hint (float4))) (meaning that most operations in the <strong>__kernel</strong> are explicitly vectorized using <strong>float4</strong>) and the kernel is running using Intel\(rg Advanced Vector Instructions (Intel\(rg AVX) which implements a 8-float-wide vector unit, the autovectorizer might choose to merge two work-items to one thread, running a second work-item in the high half of the 256-bit AVX register.</p><p>As another example, a Power4 machine has two scalar double precision floating-point units with an 6-cycle deep pipe. An autovectorizer for the Power4 machine might choose to interleave six kernels declared with the __attribute__(( vec_type_hint (double2))) qualifier into one hardware thread, to ensure that there is always 12-way parallelism available to saturate the FPUs. It might also choose to merge 4 or 8 work-items (or some other number) if it concludes that these are better choices, due to resource utilization concerns or some preference for divisibility by 2.</p><p>The optional __attribute__((work_group_size_hint(<em>X</em>, <em>Y</em>, <em>Z</em>))) is a hint to the compiler and is intended to specify the work-group size that may be used i.e. value most likely to be specified by the <em>local_work_size</em> argument to <strong>clEnqueueNDRangeKernel</strong>(3clc). For example the __attribute__((work_group_size_hint(1, 1, 1))) is a hint to the compiler that the kernel will most likely be executed with a work-group size of 1.</p><p>The optional __attribute__((reqd_work_group_size(<em>X</em>, <em>Y</em>, <em>Z</em>))) is the work-group size that must be used as the <em>local_work_size</em> argument to <strong>clEnqueueNDRangeKernel</strong>(3clc). This allows the compiler to optimize the generated code appropriately for this kernel. The optional __attribute__((reqd_work_group_size(<em>X</em>, <em>Y</em>, <em>Z</em>))), if specified, must be (1, 1, 1) if the kernel is executed via <strong>clEnqueueTask</strong>(3clc).</p><p>If <em>Z</em> is one, the <em>work_dim</em> argument to <strong>clEnqueueNDRangeKernel</strong>(3clc) can be 2 or 3. If <em>Y</em> and <em>Z</em> are one, the <em>work_dim</em> argument to <strong>clEnqueueNDRangeKernel</strong>(3clc) can be 1, 2 or 3.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Kernel functions with variables declared inside the function with the <strong>local</strong>(3clc) or <strong>local</strong>(3clc) qualifier can be called by the host using appropriate APIs such as <strong>clEnqueueNDRangeKernel</strong>(3clc), and <strong>clEnqueueTask</strong>(3clc).</p><p>The behavior of calling kernel functions with variables declared inside the function with the <strong>local</strong>(3clc) and <strong>local</strong>(3clc) qualifier from other kernel functions is implementation-defined.</p><p>The <strong>__kernel</strong> and <strong>kernel</strong> names are reserved for use as functions qualifiers and shall not be used otherwise.</p><h3>Example</h3>
<table class="table table-striped">
<tr>
<th>// autovectorize assuming float4 as the // basic computation width __kernel __attribute__((vec_type_hint(float4))) void foo( __global float4 *p ) { ....  // autovectorize assuming double as the // basic computation width __kernel __attribute__((vec_type_hint(double))) void foo( __global float4 *p ){ ....  // autovectorize assuming int (default) // as the basic computation width __kernel void foo( __global float4 *p ){ ....</th></tr>
</table>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIFICATION</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>OpenCL Specification</strong>\m[]\s-2\u[1]\d\s+2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO functionQualifiers&hellip;</h2>
        <div class="sectioncontent">
<p><strong>attribute</strong>(3clc), <strong>clEnqueueNDRangeKernel</strong>(3clc), <strong>clEnqueueTask</strong>(3clc)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>The Khronos Group</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2007-2011 The Khronos Group Inc.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and/or associated documentation files (the "Materials"), to deal in the Materials without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Materials, and to permit persons to whom the Materials are furnished to do so, subject to the condition that this copyright notice and permission notice shall be included in all copies or substantial portions of the Materials.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>OpenCL Specification</p><p>page 227, section 6.7 - Function Qualifiers</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="frexp.3clc.html"><span aria-hidden="true">&larr;</span> frexp.3clc: Extract mantissa and exponent.</a></li>
   <li class="next"><a href="geometricFunctions.3clc.html">geometricFunctions.3clc: Click an item in the table below for details about that function. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
