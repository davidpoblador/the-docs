<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>xpaset: Send data to one or more \s-1xpa\s0 servers</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Send data to one or more \s-1xpa\s0 servers">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="xpaset (3) manual">
  <meta name="twitter:description" content="Send data to one or more \s-1xpa\s0 servers">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxpa-dev-xpaset-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/xpaset.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="xpaset (3) manual" />
  <meta property="og:description" content="Send data to one or more \s-1xpa\s0 servers" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxpa-dev-xpaset-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">xpaset<small> (3)</small></h1>
        <p class="lead">Send data to one or more \s-1xpa\s0 servers</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/xpaset.3.html">
      <span itemprop="name">xpaset: Send data to one or more \s-1xpa\s0 servers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxpa-dev/">
      <span itemprop="name">libxpa-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/xpaset.3.html">
      <span itemprop="name">xpaset: Send data to one or more \s-1xpa\s0 servers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  #include &lt;xpa.h&gt;

  int XPASet(XPA xpa,
             char *template, char *paramlist, char *mode,
             char *buf, size_t len, char **names, char **messages,
             int n);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Send data to one or more \s-1XPA\s0 servers whose class:name identifier matches the specified template.</p><p>A template of the form \*(L"class1:name1\*(R" is sent to the \s-1XPA\s0 name server, which returns a list of at most n matching \s-1XPA\s0 servers.  A connection is established with each of these servers and the paramlist string is passed to the server as the data transfer request is initiated. If an \s-1XPA\s0 struct is passed to the call, the persistent connections are updated as described above. Otherwise, temporary connections are made to the servers (which will be closed when the call completes).</p><p>The <em>XPASet()</em> routine transfers data from buf to the \s-1XPA\s0 servers. The length of buf (in bytes) should be placed in the len variable.</p><p>A string containing the class:name and ip:port of each of these server is returned in the name array.  If a given server returned an error or the server callback sends a message back to the client, then the message will be stored in the associated element of the messages array. \s-1NB:\s0 if specified, the name and messages arrays must be of size n or greater.</p><p>The returned message string will be of the form:</p><p>  XPA$ERROR   [error] (class:name ip:port)</p><p>or</p><p>  XPA$MESSAGE [message] (class:name ip:port)</p><p>The return value will contain the actual number of servers that were processed.  This value thus will hold the number of valid entries in the names and messages arrays, and can be used to loop through these arrays.  In names and/or messages is \s-1NULL\s0, no information is passed back in that particular array.</p><p>The mode string is of the form: \*(L"key1=value1,key2=value2,...\*(R" The following keywords are recognized:</p><p>  key           value           default         explanation   ------        --------        --------        -----------   ack           true/false      true            if false, don&apos;t wait for ack from server (after callback completes)   verify        true/false      false           send buf from XPASet[Fd] to stdout   doxpa         true/false      true            client processes xpa requests</p><p>The ack keyword is useful in cases where one does not want to wait for the server to complete, e.g. if a lot of processing needs to be done by the server on the passed data or when the success of the server operation is not relevant to the client.</p><p>Normally, an \s-1XPA\s0 client will process incoming \s-1XPA\s0 server requests while awaiting the completion of the client request.  Setting this variable to \*(L"false\*(R" will prevent \s-1XPA\s0 server requests from being processed by the client.</p><p>Example -</p><p>  #include &lt;xpa.h&gt;</p><p>  #define NXPA 10   int  i, got;   size_t  len;   char *buf;   char *names[NXPA];   char *messages[NXPA];   ...   [fill buf with data and set len to the length, in bytes, of the data]   ...   /* send data to all access points */   got = XPASet(NULL, "ds9", "fits", NULL, buf, len, names, messages, NXPA);   /* error processing */   for(i=0; i&lt;got; i++){     if( messages[i] ){       fprintf(stderr, "ERROR: %s (%s)&#92;n", messages[i], names[i]);     }     if( names[i] )    free(names[i]);     if( messages[i] ) free(messages[i]);   }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO xpaset&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/xpa.7.html"><strong>xpa</strong>(7)</a> for a list of \s-1XPA\s0 help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="xpaserver.3.html"><span aria-hidden="true">&larr;</span> xpaserver.3: The \s-1xpa\s0 server-side programming interface</a></li>
   <li class="next"><a href="xpasetfd.3.html">xpasetfd.3: Send data from stdin to one or more \s-1xpa\s0 servers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
