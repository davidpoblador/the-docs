<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LWP::Authen::OAuth: Generate signed oauth requests</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generate signed oauth requests">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="LWP::Authen::OAuth (3pm) manual">
  <meta name="twitter:description" content="Generate signed oauth requests">
  <meta name="twitter:image" content="https://www.carta.tech/images/liblwp-authen-oauth-perl-LWP::Authen::OAuth-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/LWP::Authen::OAuth.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="LWP::Authen::OAuth (3pm) manual" />
  <meta property="og:description" content="Generate signed oauth requests" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/liblwp-authen-oauth-perl-LWP::Authen::OAuth-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">LWP::Authen::OAuth<small> (3pm)</small></h1>
        <p class="lead">Generate signed oauth requests</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/LWP::Authen::OAuth.3pm.html">
      <span itemprop="name">LWP::Authen::OAuth: Generate signed oauth requests</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/liblwp-authen-oauth-perl/">
      <span itemprop="name">liblwp-authen-oauth-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/LWP::Authen::OAuth.3pm.html">
      <span itemprop="name">LWP::Authen::OAuth: Generate signed oauth requests</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        require LWP::Authen::OAuth;
</pre>
<h3>Google</h3>
<p>        # Google uses &apos;anonymous&apos; for unregistered Web/offline applications or the         # domain name for registered Web applications         my $ua = LWP::Authen::OAuth-&gt;new(                 oauth_consumer_secret =&gt; "anonymous",         );</p><p>        # request a &apos;request&apos; token         my $r = $ua-&gt;post( "https://www.google.com/accounts/OAuthGetRequestToken",                 [                         oauth_consumer_key =&gt; &apos;anonymous&apos;,                         oauth_callback =&gt; &apos;http://example.net/oauth&apos;,                         xoauth_displayname =&gt; &apos;Example Application&apos;,                         scope =&gt; &apos;https://docs.google.com/feeds/&apos;,                 ]         );         die $r-&gt;as_string if $r-&gt;is_error;</p><p>        # update the token secret from the HTTP response         $ua-&gt;oauth_update_from_response( $r );</p><p>        # open a browser for the user</p><p>        # data are returned as form-encoded         my $uri = URI-&gt;new( &apos;http:&apos; );         $uri-&gt;query( $r-&gt;content );         my %oauth_data = $uri-&gt;query_form;</p><p>        # Direct the user to here to grant you access:         # https://www.google.com/accounts/OAuthAuthorizeToken?         #       oauth_token=$oauth_data{oauth_token}&#92;n";</p><p>        # turn the &apos;request&apos; token into an &apos;access&apos; token with the verifier         # returned by google         $r = $ua-&gt;post( "https://www.google.com/accounts/OAuthGetAccessToken", [                 oauth_consumer_key =&gt; &apos;anonymous&apos;,                 oauth_token =&gt; $oauth_data{oauth_token},                 oauth_verifier =&gt; $oauth_verifier,         ]);</p><p>        # update the token secret from the HTTP response         $ua-&gt;oauth_update_from_response( $r );</p><p>        # now use the $ua to perform whatever actions you want</p>
<h3>Twitter</h3>
<p>Sending status updates to a single account is quite easy if you create an application. The \*(C`oauth_consumer_key\*(C' and \*(C`oauth_consumer_secret\*(C' come from the 'Application Details' page and the \*(C`oauth_token\*(C' and \*(C`oauth_token_secret\*(C' from the 'My Access Token' page.</p><p>        my $ua = LWP::Authen::OAuth-&gt;new(                 oauth_consumer_key =&gt; &apos;xxx1&apos;,                 oauth_consumer_secret =&gt; &apos;xxx2&apos;,                 oauth_token =&gt; &apos;yyy1&apos;,                 oauth_token_secret =&gt; &apos;yyy2&apos;,         );</p><p>        $ua-&gt;post( &apos;http://api.twitter.com/1/statuses/update.json&apos;, [                 status =&gt; &apos;Posted this using LWP::Authen::OAuth!&apos;         ]);</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides a sub-class of LWP::UserAgent that generates OAuth 1.0 signed requests. You should familiarise yourself with OAuth at &lt;http://oauth.net/&gt;.</p><p>This module only supports \s-1HMAC_SHA1\s0 signing.</p><p>OAuth nonces are generated using the Perl random number generator. To set a nonce manually define 'oauth_nonce' in your requests via a \s-1CGI\s0 parameter or the Authorization header - see the OAuth documentation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>Takes the same options as \*(L"new\*(R" in LWP::UserAgent plus optionally:         oauth_consumer_key         oauth_consumer_secret         oauth_token         oauth_token_secret Most services will require some or all of these to be set even if it's just 'anonymous'. Update the \*(C`oauth_token\*(C' and \*(C`oauth_token_secret\*(C' from an HTTP::Response object returned by a previous request e.g. when converting a request token into an access token. Get and optionally set the consumer key. Get and optionally set the consumer secret. Get and optionally set the oauth token. Get and optionally set the oauth token secret.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO LWP::Authen::OAuth&hellip;</h2>
        <div class="sectioncontent">
<p>LWP::UserAgent, MIME::Base64, Digest::SHA, \s-1URI\s0, URI::Escape</p><h3>Rationale</h3>
<p>I think the complexity in OAuth is in the parameter normalisation and message signing. What this module does is to hide that complexity without replicating the higher-level protocol chatter.</p><p>In Net::OAuth:</p><p>        $r = Net::OAuth-&gt;request(&apos;request token&apos;)-&gt;new(                 consumer_key =&gt; &apos;xxx&apos;,                 request_url =&gt; &apos;https://photos.example.net/request_token&apos;,                 callback =&gt; &apos;http://printer.example.com/request_token_ready&apos;,                 ...                 extra_params {                         scope =&gt; &apos;global&apos;,                 }         );         $r-&gt;sign;         $res = $ua-&gt;request(POST $r-&gt;to_url);         $res = Net::OAuth-&gt;response(&apos;request token&apos;)                 -&gt;from_post_body($res-&gt;content);         ... etc</p><p>In LWP::Authen::OAuth:</p><p>        $ua = LWP::Authen::OAuth-&gt;new(                 oauth_consumer_key =&gt; &apos;xxx&apos;         );         $res = $ua-&gt;post( &apos;https://photos.example.net/request_token&apos;, [                 oauth_callback =&gt; &apos;http://printer.example.com/request_token_ready&apos;,                 ...                 scope =&gt; &apos;global&apos;,         ]);         $ua-&gt;oauth_update_from_response( $res );         ... etc</p><p>Net::OAuth, OAuth::Lite.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Timothy D Brody &lt;tdb2@ecs.soton.ac.uk&gt;</p><p>Copyright 2011 University of Southampton, \s-1UK\s0</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="LWP::Authen::Negotiate.3pm.html"><span aria-hidden="true">&larr;</span> LWP::Authen::Negotiate.3pm: Gssapi based authentication plugin for lwp</a></li>
   <li class="next"><a href="LWP::Authen::Wsse.3pm.html">LWP::Authen::Wsse.3pm: Library for enabling x-wsse authentication in lwp <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
