<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Log::Trace: Provides a unified approach to tracing</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Provides a unified approach to tracing">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Log::Trace (3pm) manual">
  <meta name="twitter:description" content="Provides a unified approach to tracing">
  <meta name="twitter:image" content="https://www.carta.tech/images/liblog-trace-perl-Log::Trace-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Log::Trace.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Log::Trace (3pm) manual" />
  <meta property="og:description" content="Provides a unified approach to tracing" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/liblog-trace-perl-Log::Trace-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Log::Trace<small> (3pm)</small></h1>
        <p class="lead">Provides a unified approach to tracing</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Log::Trace.3pm.html">
      <span itemprop="name">Log::Trace: Provides a unified approach to tracing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/liblog-trace-perl/">
      <span itemprop="name">liblog-trace-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Log::Trace.3pm.html">
      <span itemprop="name">Log::Trace: Provides a unified approach to tracing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        # The tracing targets
        use Log::Trace; # No output
        use Log::Trace &apos;print&apos;; # print to STDOUT
        use Log::Trace log =&gt; &apos;/var/log/foo.log&apos;; # Output to log file
        use Log::Trace print =&gt; { Level =&gt; 3 };

        # Switch on/off logging with a constant
        use Log::Trace;
        import Log::Trace (&apos;log&apos; =&gt; LOGFILE) if TRACING;


        # Set up tracing for all packages that advertise TRACE
        use Foo;
        use Bar;
        use Log::Trace warn =&gt; { Deep =&gt; 1 };

        # Sets up tracing in all subpackages excluding Foo
        use Log::Trace warn =&gt; {Deep =&gt; 1, &apos;Exclude&apos; =&gt; &apos;Foo&apos;};


        # Exported functions
        TRACE("Record this...");
        TRACE({Level =&gt; 2}, "Only shown if tracing level is 2 or higher");
        TRACEF("A la printf: %d-%.2f", 1, 2.9999);
        TRACE_HERE();           # Record where we are (file, line, sub, args)
        DUMP(&#92;@loh, &#92;%hoh);     # Trace out via Data::Dumper
        DUMP("Title", &#92;@loh);   # Trace out via Data::Dumper
        my $dump = DUMP(@args); # Dump is returned without being traced
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A module to provide a unified approach to tracing. A script can \*(C`use Log::Trace qw( &lt; mode &gt; )\*(C' to set the behaviour of the \s-1TRACE\s0 function.</p><p>By default, the trace functions are exported to the calling package only. You can export the trace functions to other packages with the \*(C`Deep\*(C' option. See \*(L"\s-1OPTIONS\s0\*(R" for more information.</p><p>All exports are in uppercase (to minimise collisions with \*(L"real\*(R" functions).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    \s-1TRACE\s0(@args)
  </dt>
  <dd>
    <p>Output a message. Where the message actually goes depends on how you imported Log::Trace (See \*(L"enabling Log::Trace\*(R"\*(L" in \*(R"Importing) The first argument is an optional hashref of options:         TRACE(&apos;A simple message&apos;); vs:         TRACE({ Level =&gt; 2.1 }, &apos;A message at a specified trace level&apos;); \*(C`printf()\*(C' equivalent of \s-1TRACE\s0. Also accepts an optional hashref:         TRACEF(&apos;%d items&apos;, scalar @items);         TRACEF({ Level =&gt; 5 }, &apos;$%1.2d&apos;, $value); Serialises each of @args, optionally prepended with $message. If called in a non-void context, \s-1DUMP\s0 will return the serialised data rather than \s-1TRACE\s0 it. This is useful if you want to \s-1DUMP\s0 a datastructure at a specific tracing level.         DUMP(&apos;colours&apos;, [qw(red green blue)]);             # outputs via TRACE         my $dump = DUMP(&apos;colours&apos;, [qw(red green blue)]);  # output returned</p>
  </dd>
  <dt>
    \s-1<em>TRACE_HERE\s0()</em>
  </dt>
  <dd>
    <p>TRACEs the current position on the call stack (file, line number, subroutine name, subroutine args).         TRACE_HERE();         TRACE_HERE({Level =&gt; 99});</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Importing/enabling Log::Trace</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    import($target, [$arg], [&#92;%params])
  </dt>
  <dd>
    <p>Controls where \s-1TRACE\s0 messages go. This method is called automatically when you call &apos;use Log::Trace;&apos;, but you may explicitly call this method at runtime. Compare the following:         use Log::Trace &apos;print&apos;; which is the same as         BEGIN {                 require Log::Trace;                 Log::Trace-&gt;import(&apos;print&apos;);         } Valid combinations of $target and \*(C`arg\*(C' are:</p><p>Prints trace messages to the supplied $filehandle. Defaults to \*(C`STDOUT\*(C' if no file handle is specified.</p>
<dl class='dl-vertical'>
  <dt>
    warn
  </dt>
  <dd>
    <p>Prints trace messages via \*(C`warn()\*(C's to \*(C`STDERR\*(C'.</p>
  </dd>
  <dt>
    buffer =&gt; &#92;$buffer
  </dt>
  <dd>
    <p>Appends trace messages to a string reference. Append trace messages to a file. If the file doesn't exist, it will be created. This is equivalent to:         use Log::Trace file =&gt; $filename, {Verbose =&gt; 2}; Logs trace messages to syslog via \*(C`Sys::Syslog\*(C', if available. You should consult your syslog configuration before using this option. The default $priority is '\*(C`debug\*(C'', and the \*(C`ident\*(C' is set to \*(C`Log::Trace\*(C'. You can configure the \*(C`priority\*(C', but beyond that, you can implement your own syslogging via the \*(C`custom\*(C' trace target.</p>
  </dd>
  <dt>
    custom =&gt; &#92;&custom_trace_sub
  </dt>
  <dd>
    <p>Trace messages are processed by a custom subroutine. E.g.         use Log::Trace custom =&gt; &#92;&mylogger;</p><p>        sub mylogger {                 my @messages = @_;                 foreach (@messages) {                         # highly sensitive trace messages!                         tr/a-zA-Z/n-za-mN-ZA-M/;                         print;                 }         }</p>
  </dd>

</dl>
<p>The import \*(C`&#92;%params\*(C' are optional. These two statements are functionally the same:         import Log::Trace print =&gt; {Level =&gt; undef};         import Log::Trace &apos;print&apos;; See \*(L"\s-1OPTIONS\s0\*(R" for more information. <strong>Note:</strong> If you use the \*(C`custom\*(C' tracing option, you should be careful about supplying a subroutine named \*(C`TRACE\*(C'.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    AllSubs =&gt; \s-1BOOL\s0
  </dt>
  <dd>
    <p>Attaches a \*(C`TRACE\*(C' statement to all subroutines in the package. This can be used to track the execution path of your code. It is particularly useful when used in conjunction with \*(C`Deep\*(C' and \*(C`Everywhere\*(C' options. <strong>Note:</strong> Anonymous subroutines and \*(C`AUTOLOAD\*(C' are not \*(C`TRACE\*(C'd.</p>
  </dd>
  <dt>
    AutoImport =&gt; \s-1BOOL\s0
  </dt>
  <dd>
    <p>By default, \*(C`Log::Trace\*(C' will only set up \*(C`TRACE\*(C' routines in modules that have already been loaded. This option overrides \*(C`require()\*(C' so that modules loaded after \*(C`Log::Trace\*(C' can automatically be set up for tracing. <strong>Note</strong>: This is an experimental feature. See the \s-1ENVIRONMENT\s0 \s-1NOTES\s0 for information about behaviour under different versions of perl. This option has no effect on perl &lt; 5.6</p>
  </dd>
  <dt>
    Deep =&gt; \s-1BOOL\s0
  </dt>
  <dd>
    <p>Attaches \*(C`Log::Trace\*(C' to all packages (that define a \s-1TRACE\s0 function). Any \s-1TRACEF\s0, \s-1DUMP\s0 and \s-1TRACE_HERE\s0 routines will also be overridden in these packages.</p>
  </dd>
  <dt>
    Dumper =&gt; Data::Serializer backend
  </dt>
  <dd>
    <p>Specify a serialiser to be used for DUMPing data structures. This should either be a string naming a Data::Serializer backend (e.g. \*(L"\s-1YAML\s0\*(R") or a hashref of parameters which will be passed to Data::Serializer, e.g.         {                 serializer =&gt; &apos;XML::Dumper&apos;,                 options =&gt; {                         dtd =&gt; &apos;path/to/my.dtd&apos;                 }         } Note that the <em>raw_serialise()</em> method of Data::Serializer is used.  See Data::Serializer for more information. If you do not have \*(C`Data::Serializer\*(C' installed, leave this option undefined to use the \*(C`Data::Dumper\*(C' natively. Default: undef (use standalone Data::Dumper)</p>
  </dd>
  <dt>
    Everywhere =&gt; \s-1BOOL\s0
  </dt>
  <dd>
    <p>When used in conjunction with the \*(C`Deep\*(C' option, it will override the standard behaviour of only enabling tracing in packages that define \*(C`TRACE\*(C' stubs. Default: false</p>
  </dd>
  <dt>
    Exclude =&gt; STRING|ARRAY
  </dt>
  <dd>
    <p>Exclude a module or list of modules from tracing.</p>
  </dd>
  <dt>
    Level =&gt; NUMBER|LIST|CODE
  </dt>
  <dd>
    <p>Specifies which trace levels to display. If no \*(C`Level\*(C' is defined, all \s-1TRACE\s0 statements will be output. If the value is numeric, only TRACEs that are at the specified level or below will be output. If the value is a list of numbers, only TRACEs that match the specified levels are output. The level may also be a code reference which is passed the package name and the \s-1TRACE\s0 level. It mst return a true value if the \s-1TRACE\s0 is to be output. Default: undef</p>
  </dd>
  <dt>
    Match =&gt; \s-1REGEX\s0
  </dt>
  <dd>
    <p>Exports trace functions to packages that match the supplied regular expression. Can be used in conjunction with  \*(C`Exclude\*(C'. You can also use \*(C`Match\*(C' as an exclusion method if you give it a negative look-ahead. For example:         Match =&gt; qr/^(?!Acme::)/  # will exclude every module beginning with Acme:: and         Match =&gt; qr/^Acme::/      # does the reverse Default: '.' # everything</p>
  </dd>
  <dt>
    Verbose =&gt; 0|1|2
  </dt>
  <dd>
    <p>You can use this option to prepend extra information to each trace message. The levels represent increasing levels of verbosity:         0: the default*, don&apos;t add anything         1: adds subroutine name and line number to the trace output         2: As [1], plus a filename and timestamp (in ISO 8601 : 2000 format) This setting has no effect on the \*(C`custom\*(C' or \*(C`log\*(C' targets. * <em>the log target uses 'Verbose' level 2</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT NOTES</h2>
        <div class="sectioncontent">
<p>The AutoImport feature overrides \*(C`CORE::require()\*(C' which requires perl 5.6, but you may see unexpected errors if you aren't using at least perl 5.8. The AutoImport option has no effect on perl &lt; 5.6.</p><p>In mod_perl or other persistent interpreter environments, different applications could trample on each other's \*(C`TRACE\*(C' routines if they use Deep (or Everywhere) option.  For example application A could route all the trace output from Package::Foo into \*(L"appA.log\*(R" and then application B could import Log::Trace over the top, re-routing all the trace output from Package::Foo to \*(L"appB.log\*(R" for evermore.  One way around this is to ensure you always import Log::Trace on every run in a persistent environment from all your applications that use the Deep option.  We may provide some more tools to work around this in a later version of \*(C`Log::Trace\*(C'.</p><p>\*(C`Log::Trace\*(C' has not been tested in a multi-threaded application.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>        Carp         Time::HiRes      (used if available)         Data::Dumper     (used if available - necessary for meaningful DUMP output)         Data::Serializer (optional - to customise DUMP output)         Sys::Syslog      (loaded on demand)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED MODULES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    Log::TraceMessages
  </dt>
  <dd>
    <p>\*(C`Log::TraceMessages\*(C' is similar in design and purpose to \*(C`Log::Trace\*(C'. However, it only offers a subset of this module's functionality. Most notably, it doesn't offer a mechanism to control the tracing output of an entire application - tracing must be enabled on a module-by-module basis. \*(C`Log::Trace\*(C' also offers control over the output with the trace levels and supports more output targets.</p>
  </dd>
  <dt>
    Log::Agent
  </dt>
  <dd>
    <p>\*(C`Log::Agent\*(C' offers a procedural interface to logging. It strikes a good balance between configurability and ease of use. It differs to \*(C`Log::Trace\*(C' in a number of ways. \*(C`Log::Agent\*(C' has a concept of channels and priorities, while \*(C`Log::Trace\*(C' only offers levels. \*(C`Log::Trace\*(C' also supports tracing code execution path and the \*(C`Deep\*(C' import option. \*(C`Log::Trace\*(C' trades a certain amount of configurability for increased ease-of use.</p>
  </dd>
  <dt>
    Log::Log4Perl
  </dt>
  <dd>
    <p>A feature rich perl port of the popular \*(C`log4j\*(C' library for Java. It is object-oriented and comprised of more than 30 modules. It has an impressive feature set, but some people may be frightened of its complexity. In contrast, to use \*(C`Log::Trace\*(C' you need only remember up to 4 simple functions and a handful of configuration options.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Log::Trace&hellip;</h2>
        <div class="sectioncontent">
<p>Log::Trace::Manual - A guide to using Log::Trace</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>$Revision: 1.70 $ on $Date: 2005/11/01 11:32:59 $ by $Author: colinr $</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>John Alden and Simon Flack with some additions by Piers Kent and Wayne Myers &lt;cpan _at_ bbc _dot_ co _dot_ uk&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>(c) \s-1BBC\s0 2005. This program is free software; you can redistribute it and/or modify it under the \s-1GNU\s0 \s-1GPL\s0.</p><p>See the file \s-1COPYING\s0 in this distribution, or http://www.gnu.org/licenses/gpl.txt</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Log::NullLogLite.3pm.html"><span aria-hidden="true">&larr;</span> Log::NullLogLite.3pm: The \*(c`log::nullloglite\*(c' class implements the null object pattern for the \*(c`log::loglite\*(c' class.</a></li>
   <li class="next"><a href="Log::Trace::Manual.3pm.html">Log::Trace::Manual.3pm: A guide to using log::trace <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
