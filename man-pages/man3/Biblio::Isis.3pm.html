<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Biblio::Isis: Read cds/isis, winisis and isismarc database</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Read cds/isis, winisis and isismarc database">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Biblio::Isis (3pm) manual">
  <meta name="twitter:description" content="Read cds/isis, winisis and isismarc database">
  <meta name="twitter:image" content="https://www.carta.tech/images/libbiblio-isis-perl-Biblio::Isis-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Biblio::Isis.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Biblio::Isis (3pm) manual" />
  <meta property="og:description" content="Read cds/isis, winisis and isismarc database" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libbiblio-isis-perl-Biblio::Isis-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Biblio::Isis<small> (3pm)</small></h1>
        <p class="lead">Read cds/isis, winisis and isismarc database</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Biblio::Isis.3pm.html">
      <span itemprop="name">Biblio::Isis: Read cds/isis, winisis and isismarc database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libbiblio-isis-perl/">
      <span itemprop="name">libbiblio-isis-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Biblio::Isis.3pm.html">
      <span itemprop="name">Biblio::Isis: Read cds/isis, winisis and isismarc database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Biblio::Isis;
</pre>
<p>  my $isis = new Biblio::Isis(         isisdb =&gt; &apos;./cds/cds&apos;,   );</p><p>  for(my $mfn = 1; $mfn &lt;= $isis-&gt;count; $mfn++) {         print $isis-&gt;to_ascii($mfn),"&#92;n";   }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module will read \s-1ISIS\s0 databases created by \s-1DOS\s0 \s-1CDS/ISIS\s0, WinIsis or IsisMarc. It can be used as perl-only alternative to OpenIsis module which seems to depriciate it's old \*(C`XS\*(C' bindings for perl.</p><p>It can create hash values from data in \s-1ISIS\s0 database (using \*(C`to_hash\*(C'), \s-1ASCII\s0 dump (using \*(C`to_ascii\*(C') or just hash with field names and packed values (like \*(C`^asomething^belse\*(C').</p><p>Unique feature of this module is ability to \*(C`include_deleted\*(C' records. It will also skip zero sized fields (OpenIsis has a bug in \s-1XS\s0 bindings, so fields which are zero sized will be filled with random junk from memory).</p><p>It also has support for identifiers (only if \s-1ISIS\s0 database is created by IsisMarc), see \*(C`to_hash\*(C'.</p><p>This module will always be slower than OpenIsis module which use C library. However, since it's written in perl, it's platform independent (so you don't need C compiler), and can be easily modified. I hope that it creates data structures which are easier to use than ones created by OpenIsis, so reduced time in other parts of the code should compensate for slower performance of this module (speed of reading \s-1ISIS\s0 database is rarely an issue).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p><strong>&#92;$1</strong></p><p>Open \s-1ISIS\s0 database</p><p> my $isis = new Biblio::Isis(         isisdb =&gt; &apos;./cds/cds&apos;,         read_fdt =&gt; 1,         include_deleted =&gt; 1,         hash_filter =&gt; sub {                 my ($v,$field_number) = @_;                 $v =~ s#foo#bar#g;         },         debug =&gt; 1,         join_subfields_with =&gt; &apos; ; &apos;,  );</p><p>Options are described below:</p>
<dl class='dl-vertical'>
  <dt>
    isisdb
  </dt>
  <dd>
    <p>This is full or relative path to \s-1ISIS\s0 database files which include common prefix of \*(C`.MST\*(C', and \*(C`.XRF\*(C' and optionally \*(C`.FDT\*(C' (if using \*(C`read_fdt\*(C' option) files. In this example it uses \*(C`./cds/cds.MST\*(C' and related files.</p>
  </dd>
  <dt>
    read_fdt
  </dt>
  <dd>
    <p>Boolean flag to specify if field definition table should be read. It's off by default.</p>
  </dd>
  <dt>
    include_deleted
  </dt>
  <dd>
    <p>Don't skip logically deleted records in \s-1ISIS\s0.</p>
  </dd>
  <dt>
    hash_filter
  </dt>
  <dd>
    <p>Filter code ref which will be used before data is converted to hash. It will receive two arguments, whole line from current field (in $_[0]) and field number (in $_[1]).</p>
  </dd>
  <dt>
    debug
  </dt>
  <dd>
    <p>Dump a <strong>lot</strong> of debugging output even at level 1. For even more increase level.</p>
  </dd>
  <dt>
    join_subfields_with
  </dt>
  <dd>
    <p>Define delimiter which will be used to join repeatable subfields. This option is included to support lagacy application written against version older than 0.21 of this module. By default, it disabled. See \*(L"to_hash\*(R".</p>
  </dd>
  <dt>
    ignore_empty_subfields
  </dt>
  <dd>
    <p>Remove all empty subfields while reading from \s-1ISIS\s0 file. Return number of records in database</p>
  </dd>

</dl>
<p>  print $isis-&gt;count; Read record with selected \s-1MFN\s0</p><p>  my $rec = $isis-&gt;fetch(55);</p><p>Returns hash with keys which are field names and values are unpacked values for that field like this:</p><p>  $rec = {     &apos;210&apos; =&gt; [ &apos;^aNew York^cNew York University press^dcop. 1988&apos; ],     &apos;990&apos; =&gt; [ &apos;2140&apos;, &apos;88&apos;, &apos;HAY&apos; ],   }; Returns current \s-1MFN\s0 position</p><p>  my $mfn = $isis-&gt;mfn; Returns \s-1ASCII\s0 output of record with specified \s-1MFN\s0</p><p>  print $isis-&gt;to_ascii(42);</p><p>This outputs something like this:</p><p>  210   ^aNew York^cNew York University press^dcop. 1988   990   2140   990   88   990   HAY</p><p>If \*(C`read_fdt\*(C' is specified when calling \*(C`new\*(C' it will display field names from \*(C`.FDT\*(C' file instead of numeric tags. Read record with specified \s-1MFN\s0 and convert it to hash</p><p>  my $hash = $isis-&gt;to_hash($mfn);</p><p>It has ability to convert characters (using \*(C`hash_filter\*(C') from \s-1ISIS\s0 database before creating structures enabling character re-mapping or quick fix-up of data.</p><p>This function returns hash which is like this:</p><p>  $hash = {     &apos;210&apos; =&gt; [                {                  &apos;c&apos; =&gt; &apos;New York University press&apos;,                  &apos;a&apos; =&gt; &apos;New York&apos;,                  &apos;d&apos; =&gt; &apos;cop. 1988&apos;                }              ],     &apos;990&apos; =&gt; [                &apos;2140&apos;,                &apos;88&apos;,                &apos;HAY&apos;              ],   };</p><p>You can later use that hash to produce any output from \s-1ISIS\s0 data.</p><p>If database is created using IsisMarc, it will also have to special fields which will be used for identifiers, \*(C`i1\*(C' and \*(C`i2\*(C' like this:</p><p>  &apos;200&apos; =&gt; [              {                &apos;i1&apos; =&gt; &apos;1&apos;,                &apos;i2&apos; =&gt; &apos; &apos;                &apos;a&apos; =&gt; &apos;Goa&apos;,                &apos;f&apos; =&gt; &apos;Valdo D&#92;&apos;Arienzo&apos;,                &apos;e&apos; =&gt; &apos;tipografie e tipografi nel XVI secolo&apos;,              }            ],</p><p>In case there are repeatable subfields in record, this will create following structure:</p><p>  &apos;900&apos; =&gt; [ {         &apos;a&apos; =&gt; [ &apos;foo&apos;, &apos;bar&apos;, &apos;baz&apos; ],   }]</p><p>Or in more complex example of</p><p>  902   ^aa1^aa2^aa3^bb1^aa4^bb2^cc1^aa5</p><p>it will create</p><p>  902   =&gt; [         { a =&gt; ["a1", "a2", "a3", "a4", "a5"], b =&gt; ["b1", "b2"], c =&gt; "c1" },   ],</p><p>This behaviour can be changed using \*(C`join_subfields_with\*(C' option to \*(L"new\*(R", in which case \*(C`to_hash\*(C' will always create single value for each subfield. This will change result to:</p><p>This method will also create additional field 000 with \s-1MFN\s0.</p><p>There is also more elaborative way to call \*(C`to_hash\*(C' like this:</p><p>  my $hash = $isis-&gt;to_hash({         mfn =&gt; 42,         include_subfields =&gt; 1,   });</p><p>Each option controll creation of hash:</p>
<dl class='dl-vertical'>
  <dt>
    mfn
  </dt>
  <dd>
    <p>Specify \s-1MFN\s0 number of record</p>
  </dd>
  <dt>
    include_subfields
  </dt>
  <dd>
    <p>This option will create additional key in hash called \*(C`subfields\*(C' which will have original record subfield order and index to that subfield like this:   902   =&gt; [ {         a =&gt; ["a1", "a2", "a3", "a4", "a5"],         b =&gt; ["b1", "b2"],         c =&gt; "c1",         subfields =&gt; ["a", 0, "a", 1, "a", 2, "b", 0, "a", 3, "b", 1, "c", 0, "a", 4],   } ],</p>
  </dd>
  <dt>
    join_subfields_with
  </dt>
  <dd>
    <p>Define delimiter which will be used to join repeatable subfields. You can specify option here instead in \*(L"new\*(R" if you want to have per-record control.</p>
  </dd>
  <dt>
    hash_filter
  </dt>
  <dd>
    <p>You can override \*(C`hash_filter\*(C' defined in \*(L"new\*(R" using this option. Return name of selected tag</p>
  </dd>

</dl>
<p> print $isis-&gt;tag_name(&apos;200&apos;); Read content of \*(C`.CNT\*(C' file and return hash containing it.</p><p>  print Dumper($isis-&gt;read_cnt);</p><p>This function is not used by module (\*(C`.CNT\*(C' files are not required for this module to work), but it can be useful to examine your index (while debugging for example). Unpack one of two 26 bytes fixed length record in \*(C`.CNT\*(C' file.</p><p>Here is definition of record:</p><p> off key        description                             size   0: IDTYPE     BTree type                              s   2: ORDN       Nodes Order                             s   4: ORDF       Leafs Order                             s   6: N          Number of Memory buffers for nodes      s   8: K          Number of buffers for first level index s  10: LIV        Current number of Index Levels          s  12: POSRX      Pointer to Root Record in N0x           l  16: NMAXPOS    Next Available position in N0x          l  20: FMAXPOS    Next available position in L0x          l  24: ABNORMAL   Formal BTree normality indicator        s  length: 26 bytes</p><p>This will fill $self object under \*(C`cnt\*(C' with hash. It's used by \*(C`read_cnt\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Some parts of \s-1CDS/ISIS\s0 documentation are not detailed enough to exmplain some variations in input databases which has been tested with this module. When I was in doubt, I assumed that OpenIsis's implementation was right (except for obvious bugs).</p><p>However, every effort has been made to test this module with as much databases (and programs that create them) as possible.</p><p>I would be very greatful for success or failure reports about usage of this module with databases from programs other than WinIsis and IsisMarc. I had tested this against ouput of one \*(C`isis.dll\*(C'-based application, but I don't know any details about it's version.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSIONS</h2>
        <div class="sectioncontent">
<p>As this is young module, new features are added in subsequent version. It's a good idea to specify version when using this module like this:</p><p>  use Biblio::Isis 0.23</p><p>Below is list of changes in specific version of module (so you can target older versions if you really have to):</p>
<dl class='dl-vertical'>
  <dt>
    0.24
  </dt>
  <dd>
    <p>Added \*(C`ignore_empty_subfields\*(C'</p>
  </dd>
  <dt>
    0.23
  </dt>
  <dd>
    <p>Added \*(C`hash_filter\*(C' to \*(L"to_hash\*(R" Fixed bug with documented \*(C`join_subfields_with\*(C' in \*(L"new\*(R" which wasn't implemented</p>
  </dd>
  <dt>
    0.22
  </dt>
  <dd>
    <p>Added field number when calling \*(C`hash_filter\*(C'</p>
  </dd>
  <dt>
    0.21
  </dt>
  <dd>
    <p>Added \*(C`join_subfields_with\*(C' to \*(L"new\*(R" and \*(L"to_hash\*(R". Added \*(C`include_subfields\*(C' to \*(L"to_hash\*(R".</p>
  </dd>
  <dt>
    0.20
  </dt>
  <dd>
    <p>Added \*(C`$isis-&gt;mfn\*(C', support for repeatable subfields and \*(C`$isis-&gt;to_hash({ mfn =&gt; 42, ... })\*(C' calling convention</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>        Dobrica Pavlinusic         CPAN ID: DPAVLIN         dpavlin@rot13.org         http://www.rot13.org/~dpavlin/</p><p>This module is based heavily on code from \*(C`LIBISIS.PHP\*(C' library to read \s-1ISIS\s0 files V0.1.1 written in php and (c) 2000 Franck Martin &lt;franck@sopac.org&gt; and released under \s-1LGPL\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>The full text of the license can be found in the \s-1LICENSE\s0 file included with this module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Biblio::Isis&hellip;</h2>
        <div class="sectioncontent">
<p>Biblio::Isis::Manual for \s-1CDS/ISIS\s0 manual appendix F, G and H which describe file format</p><p>OpenIsis web site &lt;http://www.openisis.org&gt;</p><p>perl4lib site &lt;http://perl4lib.perl.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Biblio::EndnoteStyle.3pm.html"><span aria-hidden="true">&larr;</span> Biblio::EndnoteStyle.3pm: Reference formatting using endnote-like templates</a></li>
   <li class="next"><a href="Biblio::Isis::Manual.3pm.html">Biblio::Isis::Manual.3pm: Cds/isis manual appendix f, g and h <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
