<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbSetDeviceInfo: Modify some or all of the characteristics of an x input extension device</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Modify some or all of the characteristics of an x input extension device">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbSetDeviceInfo (3) manual">
  <meta name="twitter:description" content="Modify some or all of the characteristics of an x input extension device">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbSetDeviceInfo-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbSetDeviceInfo.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbSetDeviceInfo (3) manual" />
  <meta property="og:description" content="Modify some or all of the characteristics of an x input extension device" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbSetDeviceInfo-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbSetDeviceInfo<small> (3)</small></h1>
        <p class="lead">Modify some or all of the characteristics of an x input extension device</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbSetDeviceInfo.3.html">
      <span itemprop="name">XkbSetDeviceInfo: Modify some or all of the characteristics of an x input extension device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbSetDeviceInfo.3.html">
      <span itemprop="name">XkbSetDeviceInfo: Modify some or all of the characteristics of an x input extension device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>Bool XkbSetDeviceInfo</strong> <strong>(\^Display *</strong><em>dpy</em><strong>\^,</strong> <strong>unsigned int </strong><em>which</em><strong>\^,</strong> <strong>XkbDeviceInfoPtr </strong><em>device_info</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- dpy</em></p>
  </dt>
  <dd>
    <p>connection to X server</p>
  </dd>
  <dt>
    <p><em>- which</em></p>
  </dt>
  <dd>
    <p>mask indicating characteristics to modify</p>
  </dd>
  <dt>
    <p><em>- device_info</em></p>
  </dt>
  <dd>
    <p>structure defining the device and modifications</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>To change characteristics of an X Input Extension device in the server, first modify a local copy of the device structure and then use either <em>XkbSetDeviceInfo,</em> or, to save network traffic, use an XkbDeviceChangesRec structure and call <em>XkbChangeDeviceInfo</em> to download the changes to the server.</p><p><em>XkbSetDeviceInfo</em> sends a request to the server to modify the characteristics of the device specified in the <em>device_info</em> structure. The particular characteristics modified are identified by the bits set in <em>which</em> and take their values from the relevant fields in device_info (see Table 1). XkbSetDeviceInfo returns True if the request was successfully sent to the server. If the X server implementation does not allow interaction between the X input extension and the Xkb Extension, the function does nothing and returns False.</p>
<pre>
                         Table 1 XkbDeviceInfoRec Mask Bits
____________________________________________________________________________________
Name                         XkbDeviceInfoRec Value     Capability If Set
                             Fields Effected
____________________________________________________________________________________
XkbXI_KeyboardsMask                           (1L &lt;&lt;0) Clients can use all
                                                       Xkb requests and events
                                                       with KeyClass devices
                                                       supported by the input
                                                       device extension.

XkbXI_ButtonActionsMask       num_btns        (1L &lt;&lt;1) Clients can assign key
                              btn_acts                 actions to buttons
                                                       non-KeyClass input
                                                       extension devices.

XkbXI_IndicatorNamesMask      leds-&gt;names     (1L &lt;&lt;2) Clients can assign
                                                       names to indicators on
                                                       non-KeyClass input
                                                       extension devices.

XkbXI_IndicatorMapsMask       leds-&gt;maps      (1L &lt;&lt;3) Clients can assign
                                                       indicator maps to
                                                       indicators on
                                                       non-KeyClass input
                                                       extension devices.

XkbXI_IndicatorStateMask      leds-&gt;state     (1L &lt;&lt;4) Clients can request
                                                       the status of indicators
                                                       on non-KeyClass input
                                                       extension devices.

XkbXI_IndicatorsMask          sz_leds         (0x1c)   XkbXI_IndicatorNamesMask |
                              num_leds                 XkbXI_IndicatorMapsMask |
                              leds-&gt;*                  XkbXI_IndicatorStateMask

XkbXI_UnsupportedFeaturesMask unsupported     (1L &lt;&lt;15)

XkbXI_AllDeviceFeaturesMask   Those selected  (0x1e)   XkbXI_IndicatorsMask |
                              by Value Column          XkbSI_ButtonActionsMask
                              masks

XkbXI_AllFeaturesMask         Those selected  (0x1f)   XkbSI_AllDeviceFeaturesMask |
                              by Value Column          XkbSI_KeyboardsMask
                              masks

XkbXI_AllDetailsMask          Those selected  (0x801f) XkbXI_AllFeaturesMask |
                              by Value column          XkbXI_UnsupportedFeaturesMask
                              masks
</pre>
<p>The <em>which</em> parameter specifies which aspects of the device should be changed and is a bitmask composed of an inclusive OR or one or more of the following bits: XkbXI_ButtonActionsMask, XkbXI_IndicatorNamesMask, XkbXI_IndicatorMapsMask. If the features requested to be manipulated in <em>which</em> are valid for the device, but the server does not support assignment of one or more of them, that particular portion of the request is ignored.</p><p>If the device specified in <em>device_info-&gt;device_spec</em> does not contain buttons and a request affecting buttons is made, or the device does not contain indicators and a request affecting indicators is made, a BadMatch protocol error results.</p><p>If the XkbXI_ButtonActionsMask bit is set in the <em>supported</em> mask returned by <em>XkbGetDeviceInfo,</em> the Xkb extension allows applications to assign key actions to buttons on input extension devices other than the core keyboard device. If the XkbXI_ButtonActionsMask is set in <em>which,</em> the actions for all buttons specified in <em>device_info</em> are set to the XkbActions specified in <em>device_info-&gt;btn_acts.</em> If the number of buttons requested to be updated is not valid for the device, <em>XkbSetDeviceInfo</em> returns False and a BadValue protocol error results.</p><p>If the XkbXI_IndicatorMaps and / or XkbXI_IndicatorNamesMask bit is set in the <em>supported</em> mask returned by <em>XkbGetDeviceInfo,</em> the Xkb extension allows applications to assign maps and / or names to the indicators of nonkeyboard extension devices. If supported, maps and / or names can be assigned to all extension device indicators, whether they are part of a keyboard feedback or part of an indicator feedback.</p><p>If the XkbXI_IndicatorMapsMask and / or XkbXI_IndicatorNamesMask flag is set in <em>which,</em> the indicator maps and / or names for all <em>device_info-&gt;num_leds</em> indicator devices specified in <em>device_info-&gt;leds</em> are set to the maps and / or names specified in <em>device_info-&gt;leds. device_info-&gt;leds-&gt;led_class</em> and <em>led_id</em> specify the input extension class and device ID for each indicator device to modify; if they have invalid values, a BadValue protocol error results and <em>XkbSetDeviceInfo</em> returns False. If they have legal values but do not specify a keyboard or indicator class feedback for the device in question, a BadMatch error results. If any of the values in <em>device_info-&gt;leds-&gt;names</em> are not a valid Atom or None, a BadAtom protocol error results.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>True</p>
  </dt>
  <dd>
    <p>The <em>XkbSetDeviceInfo</em> function returns True if the request was successfully sent to the server.</p>
  </dd>
  <dt>
    <p>False</p>
  </dt>
  <dd>
    <p>The <em>XkbSetDeviceInfo</em> function returns False if the X server implementation does not allow interaction between the X input extension and the Xkb Extension.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STRUCTURES</h2>
        <div class="sectioncontent">
<p>Changes to an Xkb extension device may be tracked by listening to XkbDeviceExtensionNotify events and accumulating the changes in an XkbDeviceChangesRec structure. The changes noted in the structure may then be used in subsequent operations to update either a server configuration or a local copy of an Xkb extension device configuration. The changes structure is defined as follows:</p>
<pre>
typedef struct _XkbDeviceChanges {
    unsigned int    changed;    /\(** bits indicating what has changed */
    unsigned short  first_btn;  /\(** number of first button which changed, if any */
    unsigned short  num_btns;   /\(** number of buttons that have changed */
    XkbDeviceLedChangesRec leds;
} XkbDeviceChangesRec,*XkbDeviceChangesPtr;

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>BadAtom</strong></p>
  </dt>
  <dd>
    <p>A name is neither a valid Atom or None</p>
  </dd>
  <dt>
    <p><strong>BadMatch</strong></p>
  </dt>
  <dd>
    <p>A compatible version of Xkb was not available in the server or an argument has correct type and range, but is otherwise invalid</p>
  </dd>
  <dt>
    <p><strong>BadValue</strong></p>
  </dt>
  <dd>
    <p>An argument is out of range</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XkbSetDeviceInfo&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/XkbChangeDeviceInfo.3.html"><strong>XkbChangeDeviceInfo</strong>(3)</a>, <a href="../man3/XkbGetDeviceInfo.3.html"><strong>XkbGetDeviceInfo</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbSetDeviceButtonActions.3.html"><span aria-hidden="true">&larr;</span> XkbSetDeviceButtonActions.3: Change only the button actions for an input extension device</a></li>
   <li class="next"><a href="XkbSetIndicatorMap.3.html">XkbSetIndicatorMap.3: Downloads the changes to the server based on modifications to a local copy of the keyboard description which will update the maps for one or more indicators <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
