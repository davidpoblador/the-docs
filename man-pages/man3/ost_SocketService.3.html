<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ost_SocketService: The socketservice is a thread pool object that is meant to service attached socket ports.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The socketservice is a thread pool object that is meant to service attached socket ports.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ost_SocketService (3) manual">
  <meta name="twitter:description" content="The socketservice is a thread pool object that is meant to service attached socket ports.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcommoncpp2-doc-ost_SocketService-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ost_SocketService.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ost_SocketService (3) manual" />
  <meta property="og:description" content="The socketservice is a thread pool object that is meant to service attached socket ports." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcommoncpp2-doc-ost_SocketService-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ost_SocketService<small> (3)</small></h1>
        <p class="lead">The socketservice is a thread pool object that is meant to service attached socket ports.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ost_SocketService.3.html">
      <span itemprop="name">ost_SocketService: The socketservice is a thread pool object that is meant to service attached socket ports.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcommoncpp2-doc/">
      <span itemprop="name">libcommoncpp2-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ost_SocketService.3.html">
      <span itemprop="name">ost_SocketService: The socketservice is a thread pool object that is meant to service attached socket ports.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;socketport.h&gt;</p><p>Inherits <strong>ost::Thread</strong>, and <strong>ost::Mutex</strong>.</p><h3>Public Member Functions</h3>
<p>void <strong>update</strong> (unsigned char flag=0xff)</p><p><em>Notify service thread that a port has been added or removed, or a timer changed, so that a new schedule can be computed for expiring attached ports. </em> <strong>SocketService</strong> (int pri=0, size_t stack=0, const char *id=NULL)</p><p><em>Create a service thread for attaching socket ports. </em> virtual <strong>~SocketService</strong> ()</p><p><em>Terminate the thread pool and eliminate any attached socket ports. </em> int <strong>getCount</strong> (void) const </p><p><em>Get current reference count. </em></p>
<h3>Protected Member Functions</h3>
<p>virtual void <strong>onUpdate</strong> (unsigned char buf)</p><p><em>Handles all requests other than 'termination'. </em> virtual void <strong>onEvent</strong> (void)</p><p><em>Called once each time the service thread is rescheduled. </em> virtual void <strong>onCallback</strong> (<strong>SocketPort</strong> *port)</p><p><em>Called for each port that is being processed in response to an event. </em></p>
<h3>Friends</h3>
<p>class <strong>SocketPort</strong></p>
<h3>Additional Inherited Members</h3>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>The <strong>SocketService</strong> is a thread pool object that is meant to service attached socket ports.</p><p>Multiple pool objects may be created and multiple socket ports may be attached to the same thread of execution. This allows one to balance threads and sockets they service rather than either using a single thread for all connections or a separate thread for each connection. Features can be added through supported virtual methods.</p><p><strong>Author:</strong></p><p>David Sugar dyfet@ostel.com <strong>Thread</strong> pool service object for socket ports.</p><p><strong>Examples: </strong> <strong>tcpservice.cpp</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor & Destructor Documentation</h2>
        <div class="sectioncontent">
<h3>ost::SocketService::SocketService (intpri = \fC0\fP, size_tstack = \fC0\fP, const char *id = \fCNULL\fP)</h3>
<p>Create a service thread for attaching socket ports. The thread begins execution with the first attached socket.</p><p><strong>Parameters:</strong></p><p><em>pri</em> of this thread to run under.</p><p><em>stack</em> stack size.</p><p><em>id</em> thread ID.</p>
<h3>virtual ost::SocketService::~SocketService ()\fC [virtual]\fP</h3>
<p>Terminate the thread pool and eliminate any attached socket ports.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Function Documentation</h2>
        <div class="sectioncontent">
<h3>int ost::SocketService::getCount (void) const\fC [inline]\fP</h3>
<p>Get current reference count. This can be used when selecting the least used service handler from a pool.</p><p><strong>Returns:</strong></p><p>count of active ports.</p>
<h3>virtual void ost::SocketService::onCallback (\fBSocketPort\fP *port)\fC [protected]\fP, \fC [virtual]\fP</h3>
<p>Called for each port that is being processed in response to an event. This can be used to add additional notification options during callback in combination with <strong>update()</strong>.</p><p><strong>Parameters:</strong></p><p><em>port</em> <strong>SocketPort</strong> who's callback events are being evaluated.</p>
<h3>virtual void ost::SocketService::onEvent (void)\fC [protected]\fP, \fC [virtual]\fP</h3>
<p>Called once each time the service thread is rescheduled. This is called after the mutex is locked and can be used to slip in additional processing.</p>
<h3>virtual void ost::SocketService::onUpdate (unsigned charbuf)\fC [protected]\fP, \fC [virtual]\fP</h3>
<p>Handles all requests other than 'termination'.</p><p><strong>Parameters:</strong></p><p><em>buf</em> request id as posted from <strong>update()</strong>.</p>
<h3>void ost::SocketService::update (unsigned charflag = \fC0xff\fP)</h3>
<p>Notify service thread that a port has been added or removed, or a timer changed, so that a new schedule can be computed for expiring attached ports. A '0' is used to terminate the service thread, and additional values can be specified which will be 'caught' in the <strong>onUpdate()</strong> handler.</p><p><strong>Parameters:</strong></p><p><em>flag</em> update flag value.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Friends And Related Function Documentation</h2>
        <div class="sectioncontent">
<h3>friend class \fBSocketPort\fP\fC [friend]\fP</h3>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for GNU CommonC++ from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ost_SocketPort.3.html"><span aria-hidden="true">&larr;</span> ost_SocketPort.3: The socket port is an internal class which is attached to and then serviced by a specific socketservice 'object'.</a></li>
   <li class="next"><a href="ost_StackPager.3.html">ost_StackPager.3: The stackpager provides a repository to stash and retrieve working data in last-in-first-out order. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
