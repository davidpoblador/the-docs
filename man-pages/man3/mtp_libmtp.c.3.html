<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mtp_libmtp.c: Libmtp.c</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Libmtp.c">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mtp_libmtp.c (3) manual">
  <meta name="twitter:description" content="Libmtp.c">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmtp-doc-mtp_libmtp.c-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/mtp_libmtp.c.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mtp_libmtp.c (3) manual" />
  <meta property="og:description" content="Libmtp.c" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmtp-doc-mtp_libmtp.c-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mtp_libmtp.c<small> (3)</small></h1>
        <p class="lead">Libmtp.c</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mtp_libmtp.c.3.html">
      <span itemprop="name">mtp_libmtp.c: Libmtp.c</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmtp-doc/">
      <span itemprop="name">libmtp-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mtp_libmtp.c.3.html">
      <span itemprop="name">mtp_libmtp.c: Libmtp.c</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include 'config.h'</p><p>#include 'libmtp.h'</p><p>#include 'unicode.h'</p><p>#include 'ptp.h'</p><p>#include 'libusb-glue.h'</p><p>#include 'device-flags.h'</p><p>#include 'playlist-spl.h'</p><p>#include 'util.h'</p><p>#include 'mtpz.h'</p><p>#include &lt;stdlib.h&gt;</p><p>#include &lt;limits.h&gt;</p><p>#include &lt;unistd.h&gt;</p><p>#include &lt;string.h&gt;</p><p>#include &lt;sys/types.h&gt;</p><p>#include &lt;sys/stat.h&gt;</p><p>#include &lt;fcntl.h&gt;</p><p>#include &lt;time.h&gt;</p><p>#include &lt;errno.h&gt;</p><h3>Data Structures</h3>
<p>struct <strong>filemap_struct</strong></p><p>struct <strong>propertymap_struct</strong></p><p>struct <strong>_MTPDataHandler</strong></p>
<h3>Typedefs</h3>
<p>typedef struct <strong>filemap_struct</strong> <strong>filemap_t</strong></p><p>typedef struct <strong>propertymap_struct</strong> <strong>propertymap_t</strong></p><p>typedef struct <strong>_MTPDataHandler</strong> <strong>MTPDataHandler</strong></p>
<h3>Functions</h3>
<p>void <strong>LIBMTP_Set_Debug</strong> (int level)</p><p>void <strong>LIBMTP_Init</strong> (void)</p><p>char const * <strong>LIBMTP_Get_Filetype_Description</strong> (<strong>LIBMTP_filetype_t</strong> intype)</p><p>char const * <strong>LIBMTP_Get_Property_Description</strong> (<strong>LIBMTP_property_t</strong> inproperty)</p><p>int <strong>LIBMTP_Get_Allowed_Property_Values</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_property_t</strong> const property, <strong>LIBMTP_filetype_t</strong> const filetype, <strong>LIBMTP_allowed_values_t</strong> *allowed_vals)</p><p>void <strong>LIBMTP_destroy_allowed_values_t</strong> (<strong>LIBMTP_allowed_values_t</strong> *allowed_vals)</p><p>int <strong>LIBMTP_Is_Property_Supported</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_property_t</strong> const property, <strong>LIBMTP_filetype_t</strong> const filetype)</p><p>char * <strong>LIBMTP_Get_String_From_Object</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id)</p><p>uint64_t <strong>LIBMTP_Get_u64_From_Object</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, uint64_t const value_default)</p><p>uint32_t <strong>LIBMTP_Get_u32_From_Object</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, uint32_t const value_default)</p><p>uint16_t <strong>LIBMTP_Get_u16_From_Object</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, uint16_t const value_default)</p><p>uint8_t <strong>LIBMTP_Get_u8_From_Object</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, uint8_t const value_default)</p><p>int <strong>LIBMTP_Set_Object_String</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, char const *const string)</p><p>int <strong>LIBMTP_Set_Object_u32</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, uint32_t const value)</p><p>int <strong>LIBMTP_Set_Object_u16</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, uint16_t const value)</p><p>int <strong>LIBMTP_Set_Object_u8</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const object_id, <strong>LIBMTP_property_t</strong> const attribute_id, uint8_t const value)</p><p><strong>LIBMTP_mtpdevice_t</strong> * <strong>LIBMTP_Get_First_Device</strong> (void)</p><p><strong>LIBMTP_mtpdevice_t</strong> * <strong>LIBMTP_Open_Raw_Device_Uncached</strong> (<strong>LIBMTP_raw_device_t</strong> *rawdevice)</p><p><strong>LIBMTP_mtpdevice_t</strong> * <strong>LIBMTP_Open_Raw_Device</strong> (<strong>LIBMTP_raw_device_t</strong> *rawdevice)</p><p>int <strong>LIBMTP_Read_Event</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, LIBMTP_event_t *event, uint32_t *out1)</p><p>uint32_t <strong>LIBMTP_Number_Devices_In_List</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device_list)</p><p><strong>LIBMTP_error_number_t</strong> <strong>LIBMTP_Get_Connected_Devices</strong> (<strong>LIBMTP_mtpdevice_t</strong> **device_list)</p><p>void <strong>LIBMTP_Release_Device_List</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>void <strong>LIBMTP_Release_Device</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p><strong>LIBMTP_error_t</strong> * <strong>LIBMTP_Get_Errorstack</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>void <strong>LIBMTP_Clear_Errorstack</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>void <strong>LIBMTP_Dump_Errorstack</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>void <strong>LIBMTP_Dump_Device_Info</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>int <strong>LIBMTP_Reset_Device</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>char * <strong>LIBMTP_Get_Manufacturername</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>char * <strong>LIBMTP_Get_Modelname</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>char * <strong>LIBMTP_Get_Serialnumber</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>char * <strong>LIBMTP_Get_Deviceversion</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>char * <strong>LIBMTP_Get_Friendlyname</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>int <strong>LIBMTP_Set_Friendlyname</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, char const *const friendlyname)</p><p>char * <strong>LIBMTP_Get_Syncpartner</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>int <strong>LIBMTP_Set_Syncpartner</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, char const *const syncpartner)</p><p>int <strong>LIBMTP_Get_Batterylevel</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint8_t *const maximum_level, uint8_t *const current_level)</p><p>int <strong>LIBMTP_Format_Storage</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_devicestorage_t</strong> *storage)</p><p>int <strong>LIBMTP_Get_Secure_Time</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, char **const sectime)</p><p>int <strong>LIBMTP_Get_Device_Certificate</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, char **const devcert)</p><p>int <strong>LIBMTP_Get_Supported_Filetypes</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint16_t **const filetypes, uint16_t *const length)</p><p>int <strong>LIBMTP_Check_Capability</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_devicecap_t</strong> cap)</p><p>int <strong>LIBMTP_Get_Storage</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, int const sortby)</p><p><strong>LIBMTP_file_t</strong> * <strong>LIBMTP_new_file_t</strong> (void)</p><p>void <strong>LIBMTP_destroy_file_t</strong> (<strong>LIBMTP_file_t</strong> *file)</p><p><strong>LIBMTP_file_t</strong> * <strong>LIBMTP_Get_Filemetadata</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const fileid)</p><p><strong>LIBMTP_file_t</strong> * <strong>LIBMTP_Get_Filelisting</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p><strong>LIBMTP_file_t</strong> * <strong>LIBMTP_Get_Filelisting_With_Callback</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p><strong>LIBMTP_file_t</strong> * <strong>LIBMTP_Get_Files_And_Folders</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const storage, uint32_t const parent)</p><p><strong>LIBMTP_track_t</strong> * <strong>LIBMTP_new_track_t</strong> (void)</p><p>void <strong>LIBMTP_destroy_track_t</strong> (<strong>LIBMTP_track_t</strong> *track)</p><p><strong>LIBMTP_track_t</strong> * <strong>LIBMTP_Get_Tracklisting</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p><strong>LIBMTP_track_t</strong> * <strong>LIBMTP_Get_Tracklisting_With_Callback</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p><strong>LIBMTP_track_t</strong> * <strong>LIBMTP_Get_Tracklisting_With_Callback_For_Storage</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const storage_id, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p><strong>LIBMTP_track_t</strong> * <strong>LIBMTP_Get_Trackmetadata</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const trackid)</p><p>int <strong>LIBMTP_Get_File_To_File</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, char const *const path, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Get_File_To_File_Descriptor</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, int const fd, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Get_File_To_Handler</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, <strong>MTPDataPutFunc</strong> put_func, void *priv, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Get_Track_To_File</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, char const *const path, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Get_Track_To_File_Descriptor</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, int const fd, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Get_Track_To_Handler</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, <strong>MTPDataPutFunc</strong> put_func, void *priv, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Send_Track_From_File</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, char const *const path, <strong>LIBMTP_track_t</strong> *const metadata, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Send_Track_From_File_Descriptor</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, int const fd, <strong>LIBMTP_track_t</strong> *const metadata, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Send_Track_From_Handler</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>MTPDataGetFunc</strong> get_func, void *priv, <strong>LIBMTP_track_t</strong> *const metadata, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Send_File_From_File</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, char const *const path, <strong>LIBMTP_file_t</strong> *const filedata, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Send_File_From_File_Descriptor</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, int const fd, <strong>LIBMTP_file_t</strong> *const filedata, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Send_File_From_Handler</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>MTPDataGetFunc</strong> get_func, void *priv, <strong>LIBMTP_file_t</strong> *const filedata, <strong>LIBMTP_progressfunc_t</strong> const callback, void const *const data)</p><p>int <strong>LIBMTP_Update_Track_Metadata</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_track_t</strong> const *const metadata)</p><p>int <strong>LIBMTP_Delete_Object</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t object_id)</p><p>int <strong>LIBMTP_Set_File_Name</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_file_t</strong> *file, const char *newname)</p><p>int <strong>LIBMTP_Set_Folder_Name</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_folder_t</strong> *folder, const char *newname)</p><p>int <strong>LIBMTP_Set_Track_Name</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_track_t</strong> *track, const char *newname)</p><p>int <strong>LIBMTP_Set_Playlist_Name</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_playlist_t</strong> *playlist, const char *newname)</p><p>int <strong>LIBMTP_Set_Album_Name</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_album_t</strong> *album, const char *newname)</p><p>int <strong>LIBMTP_Set_Object_Filename</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t object_id, char *newname)</p><p>int <strong>LIBMTP_Track_Exists</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id)</p><p><strong>LIBMTP_folder_t</strong> * <strong>LIBMTP_new_folder_t</strong> (void)</p><p>void <strong>LIBMTP_destroy_folder_t</strong> (<strong>LIBMTP_folder_t</strong> *folder)</p><p><strong>LIBMTP_folder_t</strong> * <strong>LIBMTP_Find_Folder</strong> (<strong>LIBMTP_folder_t</strong> *folderlist, uint32_t id)</p><p><strong>LIBMTP_folder_t</strong> * <strong>LIBMTP_Get_Folder_List_For_Storage</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const storage)</p><p><strong>LIBMTP_folder_t</strong> * <strong>LIBMTP_Get_Folder_List</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p>uint32_t <strong>LIBMTP_Create_Folder</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, char *name, uint32_t parent_id, uint32_t storage_id)</p><p><strong>LIBMTP_playlist_t</strong> * <strong>LIBMTP_new_playlist_t</strong> (void)</p><p>void <strong>LIBMTP_destroy_playlist_t</strong> (<strong>LIBMTP_playlist_t</strong> *playlist)</p><p><strong>LIBMTP_playlist_t</strong> * <strong>LIBMTP_Get_Playlist_List</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p><strong>LIBMTP_playlist_t</strong> * <strong>LIBMTP_Get_Playlist</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const plid)</p><p>int <strong>LIBMTP_Create_New_Playlist</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_playlist_t</strong> *const metadata)</p><p>int <strong>LIBMTP_Update_Playlist</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_playlist_t</strong> *const metadata)</p><p><strong>LIBMTP_album_t</strong> * <strong>LIBMTP_new_album_t</strong> (void)</p><p>void <strong>LIBMTP_destroy_album_t</strong> (<strong>LIBMTP_album_t</strong> *album)</p><p><strong>LIBMTP_album_t</strong> * <strong>LIBMTP_Get_Album_List</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device)</p><p><strong>LIBMTP_album_t</strong> * <strong>LIBMTP_Get_Album_List_For_Storage</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const storage_id)</p><p><strong>LIBMTP_album_t</strong> * <strong>LIBMTP_Get_Album</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const albid)</p><p>int <strong>LIBMTP_Create_New_Album</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_album_t</strong> *const metadata)</p><p><strong>LIBMTP_filesampledata_t</strong> * <strong>LIBMTP_new_filesampledata_t</strong> (void)</p><p>void <strong>LIBMTP_destroy_filesampledata_t</strong> (<strong>LIBMTP_filesampledata_t</strong> *sample)</p><p>int <strong>LIBMTP_Get_Representative_Sample_Format</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_filetype_t</strong> const filetype, <strong>LIBMTP_filesampledata_t</strong> **sample)</p><p>int <strong>LIBMTP_Send_Representative_Sample</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, <strong>LIBMTP_filesampledata_t</strong> *sampledata)</p><p>int <strong>LIBMTP_Get_Representative_Sample</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, <strong>LIBMTP_filesampledata_t</strong> *sampledata)</p><p>int <strong>LIBMTP_Get_Thumbnail</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, unsigned char **data, unsigned int *size)</p><p>int <strong>LIBMTP_GetPartialObject</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, uint64_t offset, uint32_t maxbytes, unsigned char **data, unsigned int *size)</p><p>int <strong>LIBMTP_SendPartialObject</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, uint64_t offset, unsigned char *data, unsigned int size)</p><p>int <strong>LIBMTP_BeginEditObject</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id)</p><p>int <strong>LIBMTP_EndEditObject</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id)</p><p>int <strong>LIBMTP_TruncateObject</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, uint32_t const id, uint64_t offset)</p><p>int <strong>LIBMTP_Update_Album</strong> (<strong>LIBMTP_mtpdevice_t</strong> *device, <strong>LIBMTP_album_t</strong> const *const metadata)</p><p>void <strong>ptp_nikon_getptpipguid</strong> (unsigned char *guid)</p>
<h3>Variables</h3>
<p>int <strong>LIBMTP_debug</strong> = <strong>LIBMTP_DEBUG_NONE</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2005-2011 Linus Walleij triad@df.lth.se Copyright (C) 2005-2008 Richard A. Low richard@wentnet.com Copyright (C) 2007 Ted Bullock tbullock@canada.com Copyright (C) 2007 Tero Saarni tero.saarni@gmail.com Copyright (C) 2008 Florent Mertens flomertens@gmail.com</p><p>This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p><p>You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</p><p>This file provides an interface 'glue' to the underlying PTP implementation from libgphoto2. It uses some local code to convert from/to UTF-8 (stored in <strong>unicode.c</strong>/.h) and some small utility functions, mainly for debugging (stored in <strong>util.c</strong>/.h).</p><p>The three PTP files (ptp.c, <strong>ptp.h</strong> and ptp-pack.c) are plain copied from the libhphoto2 codebase.</p><p>The files libusb-glue.c/.h are just what they say: an interface to libusb for the actual, physical USB traffic.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Typedef Documentation</h2>
        <div class="sectioncontent">
<h3>typedef struct \fB_MTPDataHandler\fP  \fBMTPDataHandler\fP</h3>
<p>These are to wrap the get/put handlers to convert from the MTP types to PTP types in a reliable way</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>void ptp_nikon_getptpipguid (unsigned char *guid)</h3>
<p>Dummy function needed to interface to upstream ptp.c/ptp.h files.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Variable Documentation</h2>
        <div class="sectioncontent">
<h3>int LIBMTP_debug = \fBLIBMTP_DEBUG_NONE\fP</h3>
<p>Global debug level We use a flag system to enable a part of logs.</p><p>The LIBMTP_DEBUG environment variable sets the debug flags for any binary that uses libmtp and calls LIBMTP_Init. The value can be given in decimal (must not start with '0' or it will be interpreted in octal), or in hexadecimal (must start with '0x').</p><p>The value '-1' enables all debug flags.</p><p>Some of the utilities in examples/ also take a command-line flag '-d' that enables LIBMTP_DEBUG_PTP and LIBMTP_DEBUG_DATA (same as setting LIBMTP_DEBUG=9).</p><p>Flags (combine by adding the hex values): 0x00 [0000 0000] : LIBMTP_DEBUG_NONE : no debug (default) 0x01 [0000 0001] : LIBMTP_DEBUG_PTP : PTP debug 0x02 [0000 0010] : LIBMTP_DEBUG_PLST : Playlist debug 0x04 [0000 0100] : LIBMTP_DEBUG_USB : USB debug 0x08 [0000 1000] : LIBMTP_DEBUG_DATA : USB data debug</p><p>(Please keep this list in sync with <strong>libmtp.h</strong>.)</p><p>Referenced by LIBMTP_Set_Debug().</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for libmtp from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mtp_internals.3.html"><span aria-hidden="true">&larr;</span> mtp_internals.3: The libmtp internals api.</a></li>
   <li class="next"><a href="mtp_libmtp.h.3.html">mtp_libmtp.h.3: Libmtp.h <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
