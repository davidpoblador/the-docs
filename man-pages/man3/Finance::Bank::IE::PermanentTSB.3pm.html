<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Finance::Bank::IE::PermanentTSB: Perl interface to the permanenttsb open24 homebanking on http://www.open24.ie</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl interface to the permanenttsb open24 homebanking on http://www.open24.ie">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Finance::Bank::IE::PermanentTSB (3pm) manual">
  <meta name="twitter:description" content="Perl interface to the permanenttsb open24 homebanking on http://www.open24.ie">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfinance-bank-ie-permanenttsb-perl-Finance::Bank::IE::PermanentTSB-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Finance::Bank::IE::PermanentTSB.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Finance::Bank::IE::PermanentTSB (3pm) manual" />
  <meta property="og:description" content="Perl interface to the permanenttsb open24 homebanking on http://www.open24.ie" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfinance-bank-ie-permanenttsb-perl-Finance::Bank::IE::PermanentTSB-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Finance::Bank::IE::PermanentTSB<small> (3pm)</small></h1>
        <p class="lead">Perl interface to the permanenttsb open24 homebanking on http://www.open24.ie</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Finance::Bank::IE::PermanentTSB.3pm.html">
      <span itemprop="name">Finance::Bank::IE::PermanentTSB: Perl interface to the permanenttsb open24 homebanking on http://www.open24.ie</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfinance-bank-ie-permanenttsb-perl/">
      <span itemprop="name">libfinance-bank-ie-permanenttsb-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Finance::Bank::IE::PermanentTSB.3pm.html">
      <span itemprop="name">Finance::Bank::IE::PermanentTSB: Perl interface to the permanenttsb open24 homebanking on http://www.open24.ie</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This is a set of functions that can be used in your Perl code to perform some operations with a Permanent \s-1TSB\s0 homebanking account.</p><p>Features:</p><ul>
<li><p><strong>account(s) balance</strong>: retrieves the balance for all the accounts you have set up (current account, visa card, etc.)</p></li><li><p><strong>account(s) statement</strong>: retrieves the statement for a particular account, in a range of date.</p></li><li><p><strong>mobile phone top-up</strong> (to be implemented): top up your mobile phone!</p></li><li><p><strong>funds transfer</strong> (to be implemented): transfer money between your accounts or third party accounts.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTANTS</h2>
        <div class="sectioncontent">
<p>The constants below are used with the <em>account_statement()</em> function:</p><ul>
<li><p>\*(C`ALL\*(C': shortcut for (\s-1WITHDRAWAL\s0 and \s-1DEPOSIT\s0);</p></li><li><p>\*(C`WITHDRAWAL\*(C': shows only the WITHDRAWALs;</p></li><li><p>\*(C`DEPOSIT\*(C': shows only the DEPOSITs;</p></li><li><p>\*(C`VISA_ACCOUNT\*(C': the account refers to a Visa Card;</p></li><li><p>\*(C`SWITCH_ACCOUNT\*(C': the account is a normal Current Account;</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS / FUNCTIONS</h2>
        <div class="sectioncontent">
<p>Every function in this module requires, as the first argument, a reference to an hash which contains the configuration:</p>
<pre>
    my %config = (
        "open24numba" =&gt; "your open24 number",
        "password" =&gt; "your internet password",
        "pan" =&gt; "your personal access number",
        "debug" =&gt; 1,
    );
</pre>
<p><strong>This is a private function used by other function within the module.</strong> You don't need to call it directly from you code!</p><p>This function performs the login. It takes just one required argument, which is an hash reference for the configuration. The function returns true (1) if success or undef for any other state. If debug =&gt; 1 then it will dump the html page on the current working directory. Please be aware that this has a security risk. The information will persist on your filesystem until you reboot your machine (and /var/tmp get clean at boot time). <strong>This is a private function used by other function within the module.</strong> You don't need to call it directly from you code!</p><p>This is used for the second step of the login process. The web interface ask you to insert 3 of the 6 digits that form the \s-1PAN\s0 code. The \s-1PAN\s0 is a secret code that only the PermanentTSB customer knows. If your \s-1PAN\s0 code is 123234 and the web interface is asking for this:</p>
<dl class='dl-vertical'>
  <dt>
    Digit no. 2:
  </dt>
  <dd>
    
  </dd>
  <dt>
    Digit no. 5:
  </dt>
  <dd>
    
  </dd>
  <dt>
    Digit no. 6:
  </dt>
  <dd>
    
  </dd>

</dl>
<p>The function will fill out the form providing 2,3,4 respectively.</p><p>This function doesn't return anything. This function require the configuration hash reference as argument. It returns an reference to an array of hashes, one hash for each account. In case of error it return undef; Each hash has these keys:</p><ul>
<li><p>'accname': account name, i.e. \*(L"Switch Current A/C\*(R".</p></li><li><p>'accno': account number. An integer representing the last 4 digits of the account.</p></li><li><p>'accbal': account balance. In \s-1EURO\s0.</p></li>
</ul><p>Here is an example:</p><p>    $VAR1 = {             &apos;availbal&apos; =&gt; &apos;euro amount&apos;,             &apos;accno&apos; =&gt; &apos;0223&apos;,             &apos;accbal&apos; =&gt; &apos;euro amount&apos;,             &apos;accname&apos; =&gt; &apos;Switch Current A/C&apos;             };     $VAR2 = {             &apos;availbal&apos; =&gt; &apos;euro amount&apos;,             &apos;accno&apos; =&gt; &apos;2337&apos;,             &apos;accbal&apos; =&gt; &apos;euro amount&apos;,             &apos;accname&apos; =&gt; &apos;Visa Card&apos;             };</p><p>The array can be printed using, for example, a foreach loop like this one:</p><p>    foreach my $acc (@$balance) {         printf ("%s ending with %s: %s&#92;n",             $acc-&gt;{&apos;accname&apos;},             $acc-&gt;{&apos;accno&apos;},             $acc-&gt;{&apos;accbal&apos;}         );     } This function requires 4 mandatory arguments, the 5th is optional.</p><p>The function returns an reference to an array of hashes, one hash for each row of the statement. The array of hashes can be printed using, for example, a foreach loop like this one:</p><p>    foreach my $row (@$statement) {         printf("%s | %s | %s | %s &#92;n",             $row-&gt;{date},             $row-&gt;{description},             $row-&gt;{euro_amount},             $row-&gt;{balance});     }</p><p>Undef is returned in case of error;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTALLATION</h2>
        <div class="sectioncontent">
<p>To install this module type the following:</p><p>    perl Makefile.PL     make     make test     make install</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>This module requires these other modules and libraries:</p><p>    WWW::Mechanize     HTML::TokeParser     Date::Calc</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MODULE HOMEPAGES</h2>
        <div class="sectioncontent">
<ul>
<li><p>Project homepage on Google code (with \s-1SVN\s0 repository): http://code.google.com/p/finance-bank-ie-permanenttsb &lt;http://code.google.com/p/finance-bank-ie-permanenttsb&gt;</p></li><li><p>Project homepage on \s-1CPAN\s0.org: http://search.cpan.org/~pallotron/Finance-Bank-IE-PermanentTSB/ &lt;http://search.cpan.org/~pallotron/Finance-Bank-IE-PermanentTSB/&gt;</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>    use Finance::Bank::IE::PermanentTSB;</p><p>    my %config = (         "open24numba" =&gt; "your open24 number",         "password" =&gt; "your internet password",         "pan" =&gt; "your personal access number",         "debug" =&gt; 1, # &lt;- enable debug messages         );</p><p>    my $balance = Finance::Bank::IE::PermanentTSB-&gt;check_balance(&#92;%config);</p><p>    if(not defined $balance) {         print "Error!&#92;n"         exit;     }</p><p>    foreach my $acc (@$balance) {         printf ("%s ending with %s: %s&#92;n",             $acc-&gt;{&apos;accname&apos;},             $acc-&gt;{&apos;accno&apos;},             $acc-&gt;{&apos;accbal&apos;}         );     }</p><p>    my $statement = Finance::Bank::IE::PermanentTSB-&gt;account_statement(         &#92;%config, SWITCH_ACCOUNT, &apos;2667&apos;,&apos;2008/12/01&apos;,&apos;2008/12/31&apos;);</p><p>    if(not defined $statement) {         print "Error!&#92;n"         exit;     }</p><p>    foreach my $row (@$statement) {         printf("%s | %s | %s | %s |&#92;n",             $row-&gt;{date},             $row-&gt;{description},             $row-&gt;{euro_amount},              $row-&gt;{balance}         );     }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Finance::Bank::IE::PermanentTSB&hellip;</h2>
        <div class="sectioncontent">
<ul>
<li><p><strong>ptsb</strong> - \s-1CLI\s0 tool to interact with your home banking http://search.cpan.org/~pallotron/Finance-Bank-IE-PermanentTSB/ptsb &lt;http://search.cpan.org/~pallotron/Finance-Bank-IE-PermanentTSB/ptsb&gt;</p></li><li><p>Ronan Waider's \*(C`Finance::Bank::IE::BankOfIreland\*(C' - http://search.cpan.org/~waider/Finance-Bank-IE/ &lt;http://search.cpan.org/~waider/Finance-Bank-IE/&gt;</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Angelo \*(L"pallotron\*(R" Failla, &lt;pallotron@freaknet.org&gt; - &lt;http://www.pallotron.net&gt; - &lt;http://www.vitadiunsysadmin.net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2009 by Angelo \*(L"pallotron\*(R" Failla</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.8 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Filter::EOF.3pm.html"><span aria-hidden="true">&larr;</span> Filter::EOF.3pm: Run a callback after a file has been compiled</a></li>
   <li class="next"><a href="Finance::BeanCounter.3pm.html">Finance::BeanCounter.3pm: Module for stock portfolio performance functions. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
