<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MPI_Type_create_subarray.openmpi: Creates a data type describing an n-dimensional subarray of an n-dimensional array.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Creates a data type describing an n-dimensional subarray of an n-dimensional array.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="MPI_Type_create_subarray.openmpi (3) manual">
  <meta name="twitter:description" content="Creates a data type describing an n-dimensional subarray of an n-dimensional array.">
  <meta name="twitter:image" content="https://www.carta.tech/images/openmpi-doc-MPI_Type_create_subarray.openmpi-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/MPI_Type_create_subarray.openmpi.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MPI_Type_create_subarray.openmpi (3) manual" />
  <meta property="og:description" content="Creates a data type describing an n-dimensional subarray of an n-dimensional array." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/openmpi-doc-MPI_Type_create_subarray.openmpi-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">MPI_Type_create_subarray.openmpi<small> (3)</small></h1>
        <p class="lead">Creates a data type describing an n-dimensional subarray of an n-dimensional array.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/MPI_Type_create_subarray.openmpi.3.html">
      <span itemprop="name">MPI_Type_create_subarray.openmpi: Creates a data type describing an n-dimensional subarray of an n-dimensional array.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openmpi-doc/">
      <span itemprop="name">openmpi-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/MPI_Type_create_subarray.openmpi.3.html">
      <span itemprop="name">MPI_Type_create_subarray.openmpi: Creates a data type describing an n-dimensional subarray of an n-dimensional array.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">C Syntax</h2>
        <div class="sectioncontent">

<pre>
#include &lt;mpi.h&gt;
int MPI_Type_create_subarray(int <em>ndims</em>, int <em>array_of_sizes[]</em>, int <em>array_of_subsizes[]</em>, int <em>array_of_starts[]</em>, int <em>order</em>, MPI_Datatype <em>oldtypeO, MPI_Datatype </em><em>*newtype</em><em>)</em>

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Fortran Syntax</h2>
        <div class="sectioncontent">

<pre>
INCLUDE 'mpif.h'
MPI_TYPE_CREATE_SUBARRAY(<em>NDIMS, ARRAY_OF_SIZES, ARRAY_OF_SUBSIZES,</em>
	ARRAY_OF_STARTS, ORDER, OLDTYPE, NEWTYPE, IERROR)

	INTEGER	<em>NDIMS, ARRAY_OF_SIZES(*), ARRAY_OF_SUBSIZES(*),</em>
	ARRAY_OF_STARTS(*), ORDER, OLDTYPE, NEWTYPE, IERROR

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">C++ Syntax</h2>
        <div class="sectioncontent">

<pre>
#include &lt;mpi.h&gt;
MPI::Datatype MPI::Datatype::Create_subarray(int <em>ndims</em>,
	const int <em>array_of_sizes</em>[], const int <em>array_of_subsizes[]</em>,
	const int <em>array_of_starts[]</em>, int <em>order</em>) const

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INPUT PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>ndims</p>
  </dt>
  <dd>
    <p>Number of array dimensions (positive integer).</p>
  </dd>
  <dt>
    <p>array_of_sizes</p>
  </dt>
  <dd>
    <p>Number of elements of type <em>oldtype</em> in each dimension of the full array (array of positive integers).</p>
  </dd>
  <dt>
    <p>array_of_subsizes</p>
  </dt>
  <dd>
    <p>Number of elements of type <em>oldtype</em> in each dimension of the subarray (array of positive integers).</p>
  </dd>
  <dt>
    <p>array_of_starts</p>
  </dt>
  <dd>
    <p>Starting coordinates of the subarray in each dimension (array of nonnegative integers).</p>
  </dd>
  <dt>
    <p>order</p>
  </dt>
  <dd>
    <p>Array storage order flag (state).</p>
  </dd>
  <dt>
    <p>oldtype</p>
  </dt>
  <dd>
    <p>Array element data type (handle).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>newtype</p>
  </dt>
  <dd>
    <p>New data type (handle).</p>
  </dd>
  <dt>
    <p>IERROR</p>
  </dt>
  <dd>
    <p>Fortran only: Error status (integer).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The subarray type constructor creates an MPI data type describing an <em>n</em>-dimensional subarray of an <em>n</em>-dimensional array. The subarray may be situated anywhere within the full array, and may be of any nonzero size up to the size of the larger array as long as it is confined within this array. This type constructor facilitates creating file types to access arrays distributed in blocks among processes to a single file that contains the global array.</p><p>This type constructor can handle arrays with an arbitrary number of dimensions and works for both C- and Fortran-ordered matrices (that is, row-major or column-major). Note that a C program may use Fortran order and a Fortran program may use C order.</p><p>The <em>ndims</em> parameter specifies the number of dimensions in the full data array and gives the number of elements in <em>array_of_sizes</em>, <em>array_of_subsizes</em>, and <em>array_of_starts</em>.</p><p>The number of elements of type <em>oldtype</em> in each dimension of the <em>n</em>-dimensional array and the requested subarray are specified by <em>array_of_sizes</em> and <em>array_of_subsizes</em>, respectively. For any dimension <em>i</em>, it is erroneous to specify <em>array_of_subsizes[i]</em> &lt; 1 or <em>array_of_subsizes[i]</em> &gt; <em>array of sizes[i]</em>.</p><p>The <em>array_of_starts</em> contains the starting coordinates of each dimension of the subarray. Arrays are assumed to be indexed starting from zero. For any dimension <em>i</em>, it is erroneous to specify</p>
<pre>
<em>array_of_starts[i]</em> &lt; 0
</pre>
<p>or</p>
<pre>
<em>array_of_starts[i]</em> &gt; (<em>array_of_sizes[i]</em> - <em>array_of_subsizes[i]</em>).
</pre>
<p>The <em>order</em> argument specifies the storage order for the subarray as well as the full array. It must be set to one of the following:</p><p>- MPI_ORDER_C: The ordering used by C arrays, (that is, row-major order)</p><p>- MPI_ORDER_FORTRAN: The ordering used by Fortran arrays, (that is, column-major order)</p><p>A <em>ndims</em>-dimensional subarray (<em>newtype</em>) with no extra padding can be defined by the function Subarray() as follows:</p>
<pre>
   newtype = Subarray(ndims, {size , size ,..., size       },
                                  0      1           ndims-1
             {subsize , subsize , ..., subsize       },
                     0         1               ndims-1
             {start , start , ..., start       }, <em>oldtype</em>)
                   0       1             ndims-1
</pre>
<p>Let the typemap of <em>oldtype</em> have the form:</p>
<pre>
   {(type , disp ), (type , disp ), ..., (type   , disp   )}
         0      0        1      1              n-1      n-1
</pre>
<p>where type<em>i</em> is a predefined MPI data type, and let <em>ex</em> be the extent of <em>oldtype</em>.</p><p>The Subarray() function is defined recursively in three equations on page 72 of the MPI-2 standard.</p><p>For an example use of MPI_Type_create_subarray in the context of I/O, see Section 9.9.2 of the MPI-2 standard.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>In a Fortran program with arrays indexed starting from 1, if the starting coordinate of a particular dimension of the subarray is <em>n</em>, then the entry in array of starts for that dimension is <em>n</em>-1.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>Almost all MPI routines return an error value; C routines as the value of the function and Fortran routines in the last argument. C++ functions do not return errors. If the default error handler is set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the C++ exception mechanism will be used to throw an MPI:Exception object.</p><p>Before the error value is returned, the current MPI error handler is called. By default, this error handler aborts the MPI job, except for I/O function errors. The error handler may be changed with MPI_Comm_set_errhandler; the predefined error handler MPI_ERRORS_RETURN may be used to cause error values to be returned. Note that MPI does not guarantee that an MPI program can continue past an error.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mpich-doc-MPI_Type_create_subarray.3.html"><span aria-hidden="true">&larr;</span> MPI_Type_create_subarray.3: Create a datatype for a subarray of a regular, multidimensional array</a></li>
   <li class="next"><a href="lam4-dev-MPI_Type_delete_attr.3.html">MPI_Type_delete_attr.3: Delete attribue <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
