<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CGI::Application::Plugin::AnyTemplate::Base: Base class for templates</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Base class for templates">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CGI::Application::Plugin::AnyTemplate::Base (3pm) manual">
  <meta name="twitter:description" content="Base class for templates">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcgi-application-plugin-anytemplate-perl-CGI::Application::Plugin::AnyTemplate::Base-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/CGI::Application::Plugin::AnyTemplate::Base.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CGI::Application::Plugin::AnyTemplate::Base (3pm) manual" />
  <meta property="og:description" content="Base class for templates" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcgi-application-plugin-anytemplate-perl-CGI::Application::Plugin::AnyTemplate::Base-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CGI::Application::Plugin::AnyTemplate::Base<small> (3pm)</small></h1>
        <p class="lead">Base class for templates</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CGI::Application::Plugin::AnyTemplate::Base.3pm.html">
      <span itemprop="name">CGI::Application::Plugin::AnyTemplate::Base: Base class for templates</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcgi-application-plugin-anytemplate-perl/">
      <span itemprop="name">libcgi-application-plugin-anytemplate-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CGI::Application::Plugin::AnyTemplate::Base.3pm.html">
      <span itemprop="name">CGI::Application::Plugin::AnyTemplate::Base: Base class for templates</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This documentation is mainly for developers who want to write additional Template drivers. For how to use the system, see the docs for CGI::Application::Plugin::AnyTemplate</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    param
  </dt>
  <dd>
    <p>The \*(C`param\*(C' method gets and sets values within the template.</p>
<pre>
    my $template = $self-&gt;template-&gt;load;

    my @param_names = $template-&gt;param();

    my $value = $template-&gt;param(&apos;name&apos;);

    $template-&gt;param(&apos;name&apos; =&gt; &apos;value&apos;);
    $template-&gt;param(
        &apos;name1&apos; =&gt; &apos;value1&apos;,
        &apos;name2&apos; =&gt; &apos;value2&apos;
    );
</pre>
<p>It is designed to behave similarly to the \*(C`param\*(C' method in other modules like \*(C`CGI\*(C' and \*(C`HTML::Template\*(C'.</p>
  </dd>
  <dt>
    get_param_hash
  </dt>
  <dd>
    <p>Returns the template variables as a hash of names and values.     my %params     = $template-&gt;get_param_hash; In a scalar context, returns a reference to the hash used internally to contain the values:     my $params_ref = $template-&gt;get_param_hash;</p>
  </dd>
  <dt>
    clear_params
  </dt>
  <dd>
    <p>Clears the values stored in the template:     $template-&gt;param(         &apos;name1&apos; =&gt; &apos;value1&apos;,         &apos;name1&apos; =&gt; &apos;value2&apos;     );     $template-&gt;clear_params;     $template-&gt;param(         &apos;name_foo&apos; =&gt; &apos;value_bar&apos;,     );</p><p>    # params are now:         &apos;name_foo&apos; =&gt; &apos;value_bar&apos;,</p>
  </dd>
  <dt>
    output
  </dt>
  <dd>
    <p>Returns the template with all the values filled in.     return $template-&gt;output(); You can also supply names and values to the template at this stage:     return $template-&gt;output(&apos;name&apos; =&gt; &apos;value&apos;, &apos;name2&apos; =&gt; &apos;value2&apos;); Before the template output is generated, the \*(C`template_pre_process\*(C' hook is called.  Any callbacks that you register to this hook will be called before each template is processed.  Register a \*(C`template_pre_process\*(C' callback as follows:     $self-&gt;add_callback(         &apos;template_pre_process&apos;,         &#92;&my_tmpl_pre_process     ); Pre-process callbacks will be passed a reference to the $template object, and can can modify the parameters passed into the template by using the \*(C`param\*(C' method:     sub my_tmpl_pre_process {         my ($self, $template) = @_;</p><p>        # Change the internal template parameters by reference         my $params = $template-&gt;get_param_hash;</p><p>        foreach my $key (keys %$params) {             $params{$key} = to_piglatin($params{$key});         }</p><p>        # Can also set values using the param method         $template-&gt;param(&apos;foo&apos;, &apos;bar&apos;);</p><p>    } After the template output is generated, the \*(C`template_post_process\*(C' hook is called. You can register a \*(C`template_post_process\*(C' callback as follows:     $self-&gt;add_callback(&apos;template_post_process&apos;,                         &#92;&my_tmpl_post_process     ); Any callbacks that you register to this hook will be called after each template is processed, and will be passed both a reference to the template object and a reference to the output generated by the template. This allows you to modify the output of the template:     sub my_tmpl_post_process {         my ($self, $template, $output_ref) = @_;</p><p>        $$output_ref =~ s/foo/bar/;     } When you call the \*(C`output\*(C' method, any components embedded in the template are run.  See \*(C`EMBEDDED COMPONENTS\*(C', below.</p>
  </dd>
  <dt>
    filename
  </dt>
  <dd>
    <p>If the template was loaded from a file, the \*(C`filename\*(C' method returns the template filename.</p>
  </dd>
  <dt>
    string_ref
  </dt>
  <dd>
    <p>If the template was loaded from a string, the \*(C`string_ref\*(C' method returns a reference to the string.</p>
  </dd>
  <dt>
    object
  </dt>
  <dd>
    <p>Returns a reference to the underlying template driver, e.g. the \*(C`HTML::Template\*(C' object or the \*(C`Template::Toolkit\*(C' object.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DOCS FOR TEMPLATE MODULE DEVELOPERS</h2>
        <div class="sectioncontent">
<p>The following documentation is of interest primarly for developers who wish to add support for a new type of Template system.</p><h3>\s-1METHODS\s0 \s-1FOR\s0 \s-1DEVELOPERS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    initialize
  </dt>
  <dd>
    <p>This method is called by the controller at \*(C`load\*(C' to create the driver-specific subclass of \*(C`CGI::Application::Plugin::AnyTemplate\*(C' This is a virtual method and must be defined in the subclass. The following parameters are passed to the driver and available as keys of the driver's $self object:      &apos;driver_config&apos; =&gt; ...    # hashref of driver-specific config      &apos;native_config&apos; =&gt; ...    # hashref of native template system                                # specific config      &apos;include_paths&apos; =&gt; ...    # listref of template include paths      &apos;filename&apos;      =&gt; ...    # template filename      &apos;webapp&apos;        =&gt; ...    # reference to the current                                # CGI::Application $self</p>
  </dd>
  <dt>
    driver_config_keys
  </dt>
  <dd>
    <p>When it creates the driver object, \*(C`CGI::Application::Plugin::AnyTemplate\*(C' has to separate the \*(C`driver_config\*(C' from the \*(C`native_config\*(C'. \*(C`driver_config_params\*(C' should return a list of parameters that are specific to the driver_config and not the native template system config. For instance, the user can specify     $self-&gt;template-&gt;config(         HTMLTemplate =&gt; {               embed_tag_name    =&gt; &apos;embed&apos;,               global_vars       =&gt; 1,               die_on_bad_params =&gt; 0,               cache             =&gt; 1         },     ); The parameters \*(C`global_vars\*(C', \*(C`die_on_bad_params\*(C', and \*(C`cache\*(C' are all specific to HTML::Template.  These are considered <em>native</em> parameters. But \*(C`embed_tag_name\*(C' configures the \*(C`CGI::Application::Plugin::AnyTemplate::Driver::HTMLTemplate\*(C' subclass.  This is considered a <em>driver</em> parameter. Therefore &apos;embed_tag_name&apos; should be included in the list of params returned by \*(C`driver_config_params\*(C'. Example \*(C`driver_config_params\*(C':     sub driver_config_keys {         &apos;template_extension&apos;,         &apos;embed_tag_name&apos;     }</p>
  </dd>
  <dt>
    default_driver_config
  </dt>
  <dd>
    <p>Should return a hash of default values for \*(C`driver_config_params\*(C'. For instance:     sub default_driver_config {         {             template_extension =&gt; &apos;.foo&apos;,             embed_tag_name     =&gt; &apos;embed&apos;,         };     }</p>
  </dd>
  <dt>
    render_template
  </dt>
  <dd>
    <p>This method must be overridden in a subclass.  It has the responsibility of filling the template in \*(C`$self-&gt;filename\*(C' with the values in \*(C`$self-&gt;param\*(C' via the appropriate template system, and returning the output as either a string or a reference to a string. It also must manage embedding nested components.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Michael Graham, \*(C`&lt;mgraham@cpan.org&gt;\*(C'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report any bugs or feature requests to \*(C`bug-cgi-application-plugin-anytemplate@rt.cpan.org\*(C', or through the web interface at &lt;http://rt.cpan.org&gt;.  I will be notified, and then you'll automatically be notified of progress on your bug as I make changes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE</h2>
        <div class="sectioncontent">
<p>The source code repository for this module can be found at http://github.com/mgraham/CAP-AnyTemplate/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO CGI::Application::Plugin::AnyTemplate::Base&hellip;</h2>
        <div class="sectioncontent">
<p>    CGI::Application::Plugin::AnyTemplate     CGI::Application::Plugin::AnyTemplate::ComponentHandler     CGI::Application::Plugin::AnyTemplate::Driver::HTMLTemplate     CGI::Application::Plugin::AnyTemplate::Driver::HTMLTemplateExpr     CGI::Application::Plugin::AnyTemplate::Driver::HTMLTemplatePluggable     CGI::Application::Plugin::AnyTemplate::Driver::TemplateToolkit     CGI::Application::Plugin::AnyTemplate::Driver::Petal</p><p>    CGI::Application</p><p>    Template::Toolkit     HTML::Template</p><p>    HTML::Template::Pluggable     HTML::Template::Plugin::Dot</p><p>    Petal</p><p>    CGI::Application::Plugin::TT</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT & LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright 2005 Michael Graham, All Rights Reserved.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CGI::Application::Plugin::AnyTemplate.3pm.html"><span aria-hidden="true">&larr;</span> CGI::Application::Plugin::AnyTemplate.3pm: Use any templating system from within cgi::application using a unified interface</a></li>
   <li class="next"><a href="CGI::Application::Plugin::AnyTemplate::ComponentHandler.3pm.html">CGI::Application::Plugin::AnyTemplate::ComponentHandler.3pm: Embed run modes within a template <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
