<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbKeyTypesForCoreSymbols: Determine the xkb key types appropriate for the symbols bound to a key in a core keyboard mapping</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Determine the xkb key types appropriate for the symbols bound to a key in a core keyboard mapping">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbKeyTypesForCoreSymbols (3) manual">
  <meta name="twitter:description" content="Determine the xkb key types appropriate for the symbols bound to a key in a core keyboard mapping">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbKeyTypesForCoreSymbols-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbKeyTypesForCoreSymbols.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbKeyTypesForCoreSymbols (3) manual" />
  <meta property="og:description" content="Determine the xkb key types appropriate for the symbols bound to a key in a core keyboard mapping" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbKeyTypesForCoreSymbols-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbKeyTypesForCoreSymbols<small> (3)</small></h1>
        <p class="lead">Determine the xkb key types appropriate for the symbols bound to a key in a core keyboard mapping</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbKeyTypesForCoreSymbols.3.html">
      <span itemprop="name">XkbKeyTypesForCoreSymbols: Determine the xkb key types appropriate for the symbols bound to a key in a core keyboard mapping</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbKeyTypesForCoreSymbols.3.html">
      <span itemprop="name">XkbKeyTypesForCoreSymbols: Determine the xkb key types appropriate for the symbols bound to a key in a core keyboard mapping</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>int XkbKeyTypesForCoreSymbols</strong> <strong>(\^XkbDescPtr </strong><em>xkb</em><strong>\^,</strong> <strong>int </strong><em>map_width</em><strong>\^,</strong> <strong>KeySym *</strong><em>core_syms</em><strong>\^,</strong> <strong>unsigned int </strong><em>protected</em><strong>\^,</strong> <strong>int *</strong><em>types_inout</em><strong>\^,</strong> <strong>KeySym *</strong><em>xkb_syms_rtrn</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- xkb</em></p>
  </dt>
  <dd>
    <p>keyboard description in which to place symbols</p>
  </dd>
  <dt>
    <p><em>- map_width</em></p>
  </dt>
  <dd>
    <p>width of core protocol keymap in xkb_syms_rtrn</p>
  </dd>
  <dt>
    <p><em>- core_syms</em></p>
  </dt>
  <dd>
    <p>core protocol format array of KeySyms</p>
  </dd>
  <dt>
    <p><em>- protected</em></p>
  </dt>
  <dd>
    <p>explicit key types</p>
  </dd>
  <dt>
    <p><em>- types_inout</em></p>
  </dt>
  <dd>
    <p>backfilled with the canonical types bound to groups one and two for the key</p>
  </dd>
  <dt>
    <p><em>- xkb_syms_rtrn</em></p>
  </dt>
  <dd>
    <p>backfilled with symbols bound to the key in the Xkb mapping</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>XkbKeyTypesForCoreSymbols</em> expands the symbols in <em>core_syms</em> and types in <em>types_inout,</em> then chooses canonical key types (canonical key types are defined The Canonical Key Types) for groups 1 and 2 using the rules specified by the Xkb protocol and places them in xkb_syms_rtrn, which will be non-NULL.</p><p><strong>The Canonical Key Types</strong></p><p>Xkb allows up to XkbMaxKeyTypes (255) key types to be defined, but requires at least XkbNumRequiredTypes (4) predefined types to be in a key map. These predefined key types are referred to as the canonical key types and describe the types of keys available on most keyboards. The definitions for the canonical key types are held in the first XkbNumRequiredTypes entries of the <em>types</em> field of the client map and are indexed using the following constants:</p>
<pre>
    XkbOneLevelIndex
    XkbTwoLevelIndex
    XkbAlphabeticIndex
    XkbKeypadIndex

</pre>
<p>ONE_LEVEL</p><p>The ONE_LEVEL key type describes groups that have only one symbol. The default ONE_LEVEL key type has no map entries and does not pay attention to any modifiers. A symbolic representation of this key type could look like the following:</p>
<pre>
    type "ONE_LEVEL" {
         modifiers = None;
         map[None]= Level1;
         level_name[Level1]= "Any";
    };

</pre>
<p>The description of the ONE_LEVEL key type is stored in the types[XkbOneLevelIndex] entry of the client key map.</p><p>TWO_LEVEL</p><p>The TWO_LEVEL key type describes groups that consist of two symbols but are neither alphabetic nor numeric keypad keys. The default TWO_LEVEL type uses only the Shift modifier. It returns shift level two if Shift is set, and level one if it is not. A symbolic representation of this key type could look like the following:</p>
<pre>
    type "TWO_LEVEL" {
        modifiers = Shift;
        map[Shift]= Level2;
        level_name[Level1]= "Base";
        level_name[Level2]= "Shift";
    };

</pre>
<p>The description of the TWO_LEVEL key type is stored in the types[XkbTwoLevelIndex] entry of the client key map.</p><p>ALPHABETIC</p><p>The ALPHABETIC key type describes groups consisting of two symbols: the lowercase form of a symbol followed by the uppercase form of the same symbol. The default ALPHABETIC type implements locale-sensitive "Shift cancels CapsLock" behavior using both the Shift and Lock modifiers as follows:</p><ul>
<li><p>If Shift and Lock are both set, the default ALPHABETIC type yields level one.</p></li><li><p>If Shift alone is set, it yields level two.</p></li><li><p>If Lock alone is set, it yields level one, but preserves the Lock modifier so Xlib notices and applies the appropriate capitalization rules. The Xlib functions are locale-sensitive and apply different capitalization rules for different locales.</p></li><li><p>If neither Shift nor Lock is set, it yields level one.</p><p>A symbolic representation of this key type could look like the following:</p>
<pre>
    type "ALPHABETIC" {
        modifiers = Shift+Lock;
        map[Shift]= Level2;
        preserve[Lock]= Lock;
        level_name[Level1]= "Base";
        level_name[Level2]= "Caps";
    };

</pre>
<p>The description of the ALPHABETIC key type is stored in the types[XkbAlphabeticIndex] entry of the client key map.</p><p>KEYPAD</p><p>The KEYPAD key type describes groups that consist of two symbols, at least one of which is a numeric keypad symbol. The numeric keypad symbol is assumed to reside at level two. The default KEYPAD key type implements "Shift cancels NumLock" behavior using the Shift modifier and the real modifier bound to the virtual modifier named "NumLock," known as the NumLock modifier, as follows:</p></li><li><p>If Shift and NumLock are both set, the default KEYPAD type yields level one.</p></li><li><p>If Shift alone is set, it yields level two.</p></li><li><p>If NumLock alone is set, it yields level two.</p></li><li><p>If neither Shift nor NumLock is set, it yields level one.</p><p>A symbolic representation of this key type could look like the following:</p>
<pre>
    type "KEYPAD" {
        modifiers = Shift+NumLock;
        map[None]= Level1;
        map[Shift]= Level2;
        map[NumLock]= Level2;
        map[Shift+NumLock]= Level1;
        level_name[Level1]= "Base";
        level_name[Level2]= "Caps";
    };

</pre>
<p>The description of the KEYPAD key type is stored in the types[XkbKeypadIndex] entry of the client key map.</p><p>A core keymap is a two-dimensional array of keysyms. It has <em>map_width</em> columns and <em>max_key_code</em> rows. <em>XkbKeyTypesForCoreSymbols</em> takes a single row from a core keymap, determines the number of groups associated with it, the type of each group, and the symbols bound to each group. The return value is the number of groups, <em>types_inout</em> has the types for each group, and <em>xkb_syms_rtrn</em> has the symbols in Xkb order (that is, groups are contiguous, regardless of size).</p><p><em>protected</em> contains the explicitly protected key types. There is one  explicit override control associated with each of the four possible groups for each Xkb key, ExplicitKeyType1 through ExplicitKeyType4; <em>protected</em> is an inclusive OR of these controls. <em>map_width</em> is the width of the core keymap and is not dependent on any Xkb definitions. <em>types_inout</em> is an array of four type indices. On input, <em>types_inout</em> contains the indices of any types already assigned to the key, in case they are explicitly protected from change.</p><p>Upon return, <em>types_inout</em> contains any automatically selected (that is, canonical) types plus any protected types. Canonical types are assigned to all four groups if there are enough symbols to do so. The four entries in <em>types_inout</em> correspond to the four groups for the key in question.</p></li>
</ul>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbKeyTypeIndex.3.html"><span aria-hidden="true">&larr;</span> XkbKeyTypeIndex.3: Obtain the index of a key type or the pointer to a key type</a></li>
   <li class="next"><a href="XkbKeycodeToKeysym.3.html">XkbKeycodeToKeysym.3: Finds the keysym bound to a particular key at a specified group and shift level <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
