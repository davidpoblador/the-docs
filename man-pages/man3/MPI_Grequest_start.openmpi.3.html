<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MPI_Grequest_start.openmpi: Starts a generalized request and returns a handle to it in request.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Starts a generalized request and returns a handle to it in request.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="MPI_Grequest_start.openmpi (3) manual">
  <meta name="twitter:description" content="Starts a generalized request and returns a handle to it in request.">
  <meta name="twitter:image" content="https://www.carta.tech/images/openmpi-doc-MPI_Grequest_start.openmpi-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/MPI_Grequest_start.openmpi.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MPI_Grequest_start.openmpi (3) manual" />
  <meta property="og:description" content="Starts a generalized request and returns a handle to it in request." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/openmpi-doc-MPI_Grequest_start.openmpi-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">MPI_Grequest_start.openmpi<small> (3)</small></h1>
        <p class="lead">Starts a generalized request and returns a handle to it in request.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/MPI_Grequest_start.openmpi.3.html">
      <span itemprop="name">MPI_Grequest_start.openmpi: Starts a generalized request and returns a handle to it in request.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openmpi-doc/">
      <span itemprop="name">openmpi-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/MPI_Grequest_start.openmpi.3.html">
      <span itemprop="name">MPI_Grequest_start.openmpi: Starts a generalized request and returns a handle to it in request.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">C Syntax</h2>
        <div class="sectioncontent">

<pre>
#include &lt;mpi.h&gt;
int MPI_Grequest_start(MPI_Grequest_query_function <em>*query_fn</em>,
	MPI_Grequest_free_function <em>*free_fn</em>,
	MPI_Grequest_cancel_function <em>*cancel_fn</em>, void <em>*extra_state</em>,
	MPI_Request <em>*request</em>)

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Fortran Syntax (see FORTRAN 77 NOTES)</h2>
        <div class="sectioncontent">

<pre>
INCLUDE 'mpif.h'
MPI_GREQUEST_START(<em>QUERY_FN, FREE_FN, CANCEL_FN, EXTRA_STATE,</em>
	REQUEST, IERROR)
	INTEGER	<em>REQUEST, IERROR</em>
	EXTERNAL <em>QUERY_FN, FREE_FN, CANCEL_FN</em>
	INTEGER (KIND=MPI_ADDRESS_KIND) <em>EXTRA_STATE</em>

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">C++ Syntax</h2>
        <div class="sectioncontent">

<pre>
#include &lt;mpi.h&gt;
static MPI::Grequest
             MPI::Grequest::Start(const MPI::Grequest::Query_function
             <em>query_fn</em>, const MPI::Grequest::Free_function <em>free_fn</em>,
             const MPI::Grequest::Cancel_function <em>cancel_fn</em>,
             void <em>*extra_state</em>)

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INPUT PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>query_fn</p>
  </dt>
  <dd>
    <p>Callback function invoked when request status is queried (function).</p>
  </dd>
  <dt>
    <p>free_fn</p>
  </dt>
  <dd>
    <p>Callback function invoked when request is freed (function).</p>
  </dd>
  <dt>
    <p>cancel_fn</p>
  </dt>
  <dd>
    <p>Callback function invoked when request is canceled (function).</p>
  </dd>
  <dt>
    <p>extra_state</p>
  </dt>
  <dd>
    <p>Extra state.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>request</p>
  </dt>
  <dd>
    <p>Generalized request (handle).</p>
  </dd>
  <dt>
    <p>IERROR</p>
  </dt>
  <dd>
    <p>Fortran only: Error status (integer).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>MPI_Grequest_start starts a generalized request and returns a handle to it in <em>request</em>.</p><p>The syntax and meaning of the callback functions are listed below. All callback functions are passed the <em>extra_state</em> argument that was associated with the request by the starting call MPI_Grequest_start. This can be used to maintain user-defined state for the request. In C, the query function is</p>
<pre>
   typedef int MPI_Grequest_query_function(void <em>*extra_state</em>,
                MPI_Status <em>*status</em>);
</pre>
<p>In Fortran, it is</p>
<pre>
   SUBROUTINE GREQUEST_QUERY_FUNCTION(<em>EXTRA_STATE, STATUS, IERROR</em>)
       INTEGER STATUS(MPI_STATUS_SIZE), <em>IERROR</em>
       INTEGER(KIND=MPI_ADDRESS_KIND) <em>EXTRA_STATE</em>
</pre>
<p>and in C++, it is</p>
<pre>
   typedef int MPI::Grequest::Query_function(void* <em>extra_state</em>,
                MPI::Status& <em>status</em>);
</pre>
<p>The <em>query_fn</em> function computes the status that should be returned for the generalized request. The status also includes information about successful/unsuccessful cancellation of the request (result to be returned by MPI_Test_cancelled).</p><p>The <em>query_fn</em> function is invoked by the MPI_{Wait|Test}{any|some|all} call that completed the generalized request associated with this callback. The callback function is also invoked by calls to MPI_Request_get_status if the request is complete when the call occurs. In both cases, the callback is passed a reference to the corresponding status variable passed by the user to the MPI call. If the user provided MPI_STATUS_IGNORE or MPI_STATUSES_IGNORE to the MPI function that causes <em>query_fn</em> to be called, then MPI will pass a valid status object to <em>query_fn</em>, and this status will be ignored upon return of the callback function. Note that <em>query_fn</em> is invoked only after MPI_Grequest_complete is called on the request; it may be invoked several times for the same generalized request. Note also that a call to MPI_{Wait|Test}{some|all} may cause multiple invocations of <em>query_fn</em> callback functions, one for each generalized request that is completed by the MPI call. The order of these invocations is not specified by MPI.</p><p>In C, the free function is</p>
<pre>
   typedef int MPI_Grequest_free_function(void *<em>extra_state</em>);
</pre>
<p>In Fortran, it is</p>
<pre>
   SUBROUTINE GREQUEST_FREE_FUNCTION(<em>EXTRA_STATE, IERROR</em>)
       INTEGER <em>IERROR</em>
       INTEGER(KIND=MPI_ADDRESS_KIND) <em>EXTRA_STATE</em>
</pre>
<p>And in C++, it is</p>
<pre>
   typedef int MPI::Grequest::Free_function(void* <em>extra_state</em>);
</pre>
<p>The <em>free_fn</em> callback function is invoked to clean up user-allocated resources when the generalized request is freed.</p><p>The <em>free_fn</em> function is invoked by the MPI_{Wait|Test}{any|some|all} call that completed the generalized request associated with this callback. <em>free_fn</em> is invoked after the call to <em>query_fn</em> for the same request. However, if the MPI call completed multiple generalized requests, the order in which <em>free_fn</em> callback functions are invoked is not specified by MPI.</p><p>The <em>free_fn</em> callback is also invoked for generalized requests that are freed by a call to MPI_Request_free (no call to MPI_{Wait|Test}{any|some|all} will occur for such a request). In this case, the callback function will be called either in the MPI call MPI_Request_free(request) or in the MPI call MPI_Grequest_complete(request), whichever happens last. In other words, in this case the actual freeing code is executed as soon as both calls (MPI_Request_free and MPI_Grequest_complete) have occurred. The <em>request</em> is not deallocated until after <em>free_fn</em> completes. Note that <em>free_fn</em> will be invoked only once per request by a correct program.</p><p>In C, the cancel function is</p>
<pre>
   typedef int MPI_Grequest_cancel_function(void *<em>extra_state</em>, int <em>complete</em>);
</pre>
<p>In Fortran, the cancel function is</p>
<pre>
   SUBROUTINE GREQUEST_CANCEL_FUNCTION(<em>EXTRA_STATE, COMPLETE, IERROR</em>)
       INTEGER <em>IERROR</em>
       INTEGER(KIND=MPI_ADDRESS_KIND) <em>EXTRA_STATE</em>
       LOGICAL <em>COMPLETE</em>
</pre>
<p>In C++, the cancel function is</p>
<pre>
   typedef in MPI::Grequest::Cancel_function(void* <em>extra_state</em>,
               bool <em>complete</em>);
</pre>
<p>The <em>cancel_fn</em> function is invoked to start the cancellation of a generalized request. It is called by MPI_Request_cancel(request). MPI passes to the callback function complete=true if MPI_Grequest_complete has already been called on the request, and complete=false otherwise.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORTRAN 77 NOTES</h2>
        <div class="sectioncontent">
<p>The MPI standard prescribes portable Fortran syntax for the <em>EXTRA_STATE</em> argument only for Fortran 90.  FORTRAN 77 users may use the non-portable syntax</p>
<pre>
     INTEGER*MPI_ADDRESS_KIND <em>EXTRA_STATE</em>
</pre>
<p>where MPI_ADDRESS_KIND is a constant defined in mpif.h and gives the length of the declared integer in bytes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>Almost all MPI routines return an error value; C routines as the value of the function and Fortran routines in the last argument. C++ functions do not return errors. If the default error handler is set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the C++ exception mechanism will be used to throw an MPI:Exception object.</p><p>Before the error value is returned, the current MPI error handler is called. By default, this error handler aborts the MPI job, except for I/O function errors. The error handler may be changed with MPI_Comm_set_errhandler; the predefined error handler MPI_ERRORS_RETURN may be used to cause error values to be returned. Note that MPI does not guarantee that an MPI program can continue past an error.</p><p>All callback functions return an error code. The code is passed back and dealt with as appropriate for the error code by the MPI function that invoked the callback function. For example, if error codes are returned, then the error code returned by the callback function will be returned by the MPI function that invoked the callback function. In the case of a MPI_{Wait|Test}any call that invokes both <em>query_fn</em> and <em>free_fn</em>, the MPI call will return the error code returned by the last callback, namely <em>free_fn</em>. If one or more of the requests in a call to MPI_{Wait|Test}{some|all} has failed, then the MPI call will return MPI_ERR_IN_STATUS. In such a case, if the MPI call was passed an array of statuses, then MPI will return in each of the statuses that correspond to a completed generalized request the error code returned by the corresponding invocation of its <em>free_fn</em> callback function. However, if the MPI function was passed MPI_STATUSES_IGNORE, then the individual error codes returned by each callback function will be lost.</p><p>See the MPI man page for a full list of MPI error codes.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="MPI_Grequest_start.3.html"><span aria-hidden="true">&larr;</span> MPI_Grequest_start.3: Create and return a user-defined request</a></li>
   <li class="next"><a href="MPI_Group_c2f.3.html">MPI_Group_c2f.3: Convert a group handle from its c representation to its fortran representation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
