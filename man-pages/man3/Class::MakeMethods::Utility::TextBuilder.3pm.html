<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Class::MakeMethods::Utility::TextBuilder: Basic text substitutions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Basic text substitutions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Class::MakeMethods::Utility::TextBuilder (3pm) manual">
  <meta name="twitter:description" content="Basic text substitutions">
  <meta name="twitter:image" content="https://www.carta.tech/images/libclass-makemethods-perl-Class::MakeMethods::Utility::TextBuilder-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Class::MakeMethods::Utility::TextBuilder.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Class::MakeMethods::Utility::TextBuilder (3pm) manual" />
  <meta property="og:description" content="Basic text substitutions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libclass-makemethods-perl-Class::MakeMethods::Utility::TextBuilder-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Class::MakeMethods::Utility::TextBuilder<small> (3pm)</small></h1>
        <p class="lead">Basic text substitutions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MakeMethods::Utility::TextBuilder.3pm.html">
      <span itemprop="name">Class::MakeMethods::Utility::TextBuilder: Basic text substitutions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libclass-makemethods-perl/">
      <span itemprop="name">libclass-makemethods-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MakeMethods::Utility::TextBuilder.3pm.html">
      <span itemprop="name">Class::MakeMethods::Utility::TextBuilder: Basic text substitutions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 print text_builder( $base_text, @exprs )
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides a single function, which implements a simple \*(L"text macro\*(R" mechanism for assembling templated text strings.</p><p>  $expanded_text = text_builder( $base_text, @exprs )</p><p>Returns a modified copy of $base_text using rules from the @exprs list.</p><p>The @exprs list may contain any of the following:</p><ul>
<li><p>A string, in which any '*' characters will be replaced by the base text. The interpolated string then replaces the base text.</p></li><li><p>A code-ref, which will be called with the base text as its only argument. The result of that call then replaces the base text.</p></li><li><p>A hash-ref, which will be added to the substitution hash used in the second pass, below.</p></li><li><p>An array-ref, containing additional expressions to be treated as above.</p></li>
</ul><p>After any initial string and code-ref rules have been applied, the hash of substitution rules are applied.</p><p>The text will be searched for occurances of the keys of the substitution hash, which will be modified based on the corresponding value in the hash. If the substitution key ends with '{}', the search will also match a balanced block of braces, and that value will also be used in the substitution.</p><p>The hash-ref may contain the following types of rules:</p><ul>
<li><p>'string' =&gt; 'string' Occurances of the first string are to be replaced by the second.</p></li><li><p>'string' =&gt; <em>code_ref</em> Occurances of the string are to be replaced by the results of calling the subroutine with no arguments.</p></li><li><p>'string{}' =&gt; 'string' Occurances of the first string and subsequent block of braces are replaced by a copy of the second string in which any '*' characters have first been replaced by the contents of the brace block.</p></li><li><p>'string{}' =&gt; <em>code_ref</em> Occurances of the string and subsequent block of braces are replaced by the results of calling the subroutine with the contents of the brace block as its only argument.</p></li><li><p>'string{}' =&gt; <em>hash_ref</em> Occurances of the string and subsequent block of braces are replaced by using the contents of the brace block as a key into the provided hash-ref.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following text and modification rules provides a skeleton for a collection letter:</p><p>  my $letter = "You owe us AMOUNT. Please pay up!&#92;n&#92;n" .                   "THREAT{SEVERITY}";</p><p>  my @exprs = (     "Dear NAMEm&#92;n&#92;n*",     "*&#92;n&#92;n-- The Management",</p><p>    { &apos;THREAT{}&apos; =&gt; { &apos;good&apos;=&gt;&apos;Please?&apos;, &apos;bad&apos;=&gt;&apos;Or else!&apos; } },</p><p>    "&#92;t&#92;t&#92;t&#92;tDATE&#92;n*",     { &apos;DATE&apos; =&gt; &apos;Tuesday, April 1, 2001&apos; },   );</p><p>One might invoke this template by providing additional data for a given instance and calling the text_builder function:</p><p>  my $item = { &apos;NAME&apos;=&gt;&apos;John&apos;, &apos;AMOUNT&apos;=&gt;&apos;200 camels&apos;, &apos;SEVERITY&apos;=&gt;&apos;bad&apos; };</p><p>  print text_builder( $letter, @exprs, $item );</p><p>The resulting output is shown below:</p><p>                                  Tuesday, April 1, 2001   Dear John,</p><p>  You owe us 200 camels. Please pay up!</p><p>  Or else!</p><p>  -- The Management</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Class::MakeMethods::Utility::TextBuilder&hellip;</h2>
        <div class="sectioncontent">
<p>See Class::MakeMethods for general information about this distribution.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Class::MakeMethods::Utility::Ref.3pm.html"><span aria-hidden="true">&larr;</span> Class::MakeMethods::Utility::Ref.3pm: Deep copying and comparison</a></li>
   <li class="next"><a href="Class::Meta.3pm.html">Class::Meta.3pm: Class automation, introspection, and data validation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
