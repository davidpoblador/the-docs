<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>curl_share_setopt: Set options for a shared object</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set options for a shared object">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="curl_share_setopt (3) manual">
  <meta name="twitter:description" content="Set options for a shared object">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcurl4-doc-curl_share_setopt-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/curl_share_setopt.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="curl_share_setopt (3) manual" />
  <meta property="og:description" content="Set options for a shared object" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcurl4-doc-curl_share_setopt-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">curl_share_setopt<small> (3)</small></h1>
        <p class="lead">Set options for a shared object</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/curl_share_setopt.3.html">
      <span itemprop="name">curl_share_setopt: Set options for a shared object</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcurl4-doc/">
      <span itemprop="name">libcurl4-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/curl_share_setopt.3.html">
      <span itemprop="name">curl_share_setopt: Set options for a shared object</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;curl/curl.h&gt;</strong></p><p>CURLSHcode curl_share_setopt(CURLSH *share, CURLSHoption option, parameter);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Set the <em>option</em> to <em>parameter</em> for the given <em>share</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    CURLSHOPT_LOCKFUNC
  </dt>
  <dd>
    <p>The <em>parameter</em> must be a pointer to a function matching the following prototype:</p><p>void lock_function(CURL *handle, curl_lock_data data, curl_lock_access access, void *userptr);</p><p><em>data</em> defines what data libcurl wants to lock, and you must make sure that only one lock is given at any time for each kind of data.</p><p><em>access</em> defines what access type libcurl wants, shared or single.</p><p><em>userptr</em> is the pointer you set with <em>CURLSHOPT_USERDATA</em>.</p>
  </dd>
  <dt>
    CURLSHOPT_UNLOCKFUNC
  </dt>
  <dd>
    <p>The <em>parameter</em> must be a pointer to a function matching the following prototype:</p><p>void unlock_function(CURL *handle, curl_lock_data data, void *userptr);</p><p><em>data</em> defines what data libcurl wants to unlock, and you must make sure that only one lock is given at any time for each kind of data.</p><p><em>userptr</em> is the pointer you set with <em>CURLSHOPT_USERDATA</em>.</p>
  </dd>
  <dt>
    CURLSHOPT_SHARE
  </dt>
  <dd>
    <p>The <em>parameter</em> specifies a type of data that should be shared. This may be set to one of the values described below.</p>
<dl class='dl-vertical'>
  <dt>
    CURL_LOCK_DATA_COOKIE
  </dt>
  <dd>
    <p>Cookie data will be shared across the easy handles using this shared object.</p>
  </dd>
  <dt>
    CURL_LOCK_DATA_DNS
  </dt>
  <dd>
    <p>Cached DNS hosts will be shared across the easy handles using this shared object. Note that when you use the multi interface, all easy handles added to the same multi handle will share DNS cache by default without this having to be used!</p>
  </dd>
  <dt>
    CURL_LOCK_DATA_SSL_SESSION
  </dt>
  <dd>
    <p>SSL session IDs will be shared across the easy handles using this shared object. This will reduce the time spent in the SSL handshake when reconnecting to the same server. Note SSL session IDs are reused within the same easy handle by default.</p>
  </dd>

</dl>

  </dd>
  <dt>
    CURLSHOPT_UNSHARE
  </dt>
  <dd>
    <p>This option does the opposite of <em>CURLSHOPT_SHARE</em>. It specifies that the specified <em>parameter</em> will no longer be shared. Valid values are the same as those for <em>CURLSHOPT_SHARE</em>.</p>
  </dd>
  <dt>
    CURLSHOPT_USERDATA
  </dt>
  <dd>
    <p>The <em>parameter</em> allows you to specify a pointer to data that will be passed to the lock_function and unlock_function each time it is called.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>CURLSHE_OK (zero) means that the option was set properly, non-zero means an error occurred as <em>&lt;curl/curl.h&gt;</em> defines. See the <em>libcurl-errors.3</em> man page for the full list with descriptions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO curl_share_setopt&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/curl_share_cleanup.3.html"><strong>curl_share_cleanup</strong>(3)</a>, <a href="../man3/curl_share_init.3.html"><strong>curl_share_init</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="curl_share_init.3.html"><span aria-hidden="true">&larr;</span> curl_share_init.3: Create a shared object</a></li>
   <li class="next"><a href="curl_share_strerror.3.html">curl_share_strerror.3: Return string describing error code <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
