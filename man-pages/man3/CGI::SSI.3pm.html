<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CGI::SSI: </title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CGI::SSI (3pm) manual">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcgi-ssi-perl-CGI::SSI-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/CGI::SSI.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CGI::SSI (3pm) manual" />
  <meta property="og:description" content="" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcgi-ssi-perl-CGI::SSI-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CGI::SSI<small> (3pm)</small></h1>
        <p class="lead"></p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CGI::SSI.3pm.html">
      <span itemprop="name">CGI::SSI: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcgi-ssi-perl/">
      <span itemprop="name">libcgi-ssi-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CGI::SSI.3pm.html">
      <span itemprop="name">CGI::SSI: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p> # autotie STDOUT or any other open filehandle</p><p>   use CGI::SSI (autotie =&gt; &apos;STDOUT&apos;);</p><p>   print $shtml; # browser sees resulting HTML</p><p> # or tie it yourself to any open filehandle</p><p>   use CGI::SSI;</p><p>   open(FILE,&apos;+&gt;&apos;.$html_file) or die $!;    $ssi = tie(*FILE, &apos;CGI::SSI&apos;, filehandle =&gt; &apos;FILE&apos;);    print FILE $shtml; # HTML arrives in the file</p><p> # or use the object-oriented interface</p><p>   use CGI::SSI;</p><p>   $ssi = CGI::SSI-&gt;new();</p><p>   $ssi-&gt;if(&apos;"$varname" =~ /^foo/&apos;);       $html .= $ssi-&gt;process($shtml);    $ssi-&gt;else();       $html .= $ssi-&gt;include(file =&gt; $filename);    $ssi-&gt;endif();</p><p>   print $ssi-&gt;exec(cgi =&gt; $url);    print $ssi-&gt;flastmod(file =&gt; $filename);</p><p> #  # or roll your own favorite flavor of SSI  #</p><p>   package CGI::SSI::MySSI;    use CGI::SSI;    @CGI::SSI::MySSI::ISA = qw(CGI::SSI);</p><p>   sub include {       my($self,$type,$file_or_url) = @_;       # my idea of include goes something like this...       return $html;    }    1;    _\|_END_\|_</p><p> #  # or use .htaccess to include all files in a dir  #</p><p>   # in .htaccess    Action cgi-ssi /cgi-bin/ssi/process.cgi    &lt;FilesMatch "&#92;.shtml"&gt;       SetHandler cgi-ssi    &lt;/FilesMatch&gt;</p><p>   # in /cgi-bin/ssi/process.cgi    #!/usr/local/bin/perl    use CGI::SSI;    CGI::SSI-&gt;handler();    _\|_END_\|_</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\s-1CGI::SSI\s0 is meant to be used as an easy way to filter shtml through \s-1CGI\s0 scripts in a loose imitation of Apache's mod_include. If you're using Apache, you may want to use either mod_include or the Apache::SSI module instead of \s-1CGI::SSI\s0. Limitations in a \s-1CGI\s0 script's knowledge of how the server behaves make some \s-1SSI\s0 directives impossible to imitate from a \s-1CGI\s0 script.</p><p>Most of the time, you'll simply want to filter shtml through \s-1STDOUT\s0 or some other open filehandle. \*(C`autotie\*(C' is available for \s-1STDOUT\s0, but in general, you'll want to tie other filehandles yourself:</p><p>    $ssi = tie(*FH, &apos;CGI::SSI&apos;, filehandle =&gt; &apos;FH&apos;);     print FH $shtml;</p><p>Note that you'll need to pass the name of the filehandle to \*(C`tie()\*(C' as a named parameter. Other named parameters are possible, as detailed below. These parameters are the same as those passed to the \*(C`new()\*(C' method. However, \*(C`new()\*(C' will not tie a filehandle for you.</p><p>\s-1CGI::SSI\s0 has it's own flavor of \s-1SSI\s0. Test expressions are Perlish. You may create and use multiple \s-1CGI::SSI\s0 objects; they will not step on each others' variables.</p><p>Object-Oriented methods use the same general format so as to imitate \s-1SSI\s0 directives:</p><p>    &lt;!--#include virtual="/foo/bar.footer" --&gt;</p><p>  would be</p><p>    $ssi-&gt;include(virtual =&gt; &apos;/foo/bar.footer&apos;);</p><p>likewise,</p><p>    &lt;!--#exec cgi="/cgi-bin/foo.cgi" --&gt;</p><p>  would be</p><p>    $ssi-&gt;exec(cgi =&gt; &apos;/cgi-bin/foo.cgi&apos;);</p><p>Usually, if there's no chance for ambiguity, the first argument may be left out:</p><p>    &lt;!--#echo var="var_name" --&gt;</p><p>  could be either</p><p>    $ssi-&gt;echo(var =&gt; &apos;var_name&apos;);</p><p>  or</p><p>    $ssi-&gt;echo(&apos;var_name&apos;);</p><p>Likewise,</p><p>    $ssi-&gt;set(var =&gt; $varname, value =&gt; $value)</p><p>  is the same as</p><p>    $ssi-&gt;set($varname =&gt; $value) Creates a new \s-1CGI::SSI\s0 object. The following are valid (optional) arguments:  DOCUMENT_URI    =&gt; $doc_uri,  DOCUMENT_NAME   =&gt; $doc_name,  DOCUMENT_ROOT   =&gt; $doc_root,  errmsg          =&gt; $oops,  sizefmt         =&gt; (&apos;bytes&apos; || &apos;abbrev&apos;),  timefmt         =&gt; $time_fmt,  MAX_RECURSIONS  =&gt; $default_100, # when to stop infinite loops w/ error msg  COOKIE_JAR      =&gt; HTTP::Cookies-&gt;new, $type is either 'sizefmt', 'timefmt', or 'errmsg'. $arg is similar to those of the \s-1SSI\s0 \*(C`spec\*(C', referenced below. Sets variables internal to the \s-1CGI::SSI\s0 object. (Not to be confused with the normal variables your script uses!) These variables may be used in test expressions, and retreived using $ssi-&gt;echo($varname). These variables also will not be available in external, included resources. Returns the value of the variable named $varname. Such variables may be set manually using the \*(C`set()\*(C' method. There are also several built-in variables:  DOCUMENT_URI  - the URI of this document  DOCUMENT_NAME - the name of the current document  DATE_GMT      - the same as &apos;gmtime&apos;  DATE_LOCAL    - the same as &apos;localtime&apos;  LAST_MODIFIED - the last time this script was modified $type is either 'cmd' or 'cgi'. $arg is similar to the \s-1SSI\s0 \*(C`spec\*(C' (see below). Similar to \*(C`exec\*(C', but \*(C`virtual\*(C' and \*(C`file\*(C' are the two valid types. \s-1SSI\s0 variables will not be available outside of your \s-1CGI::SSI\s0 object, regardless of whether the virtual resource is on the local system or a remote system. Similar to \*(C`include\*(C'. Same as \*(C`flastmod\*(C'. Returns the environment similar to Apache's mod_include. Returns the currently-used HTTP::Cookies object. You may optionally pass in a new HTTP::Cookies object. The jar is used for web requests in exec cgi and include virtual directives.</p><h3>FLOW-CONTROL \s-1METHODS\s0</h3>
<p>The following methods may be used to test expressions. During a \*(C`block\*(C' where the test $expr is false, nothing will be returned (or printed, if tied). The expr can be anything Perl, but care should be taken. This causes problems:  $ssi-&gt;set(varname =&gt; "foo");  &lt;!--#if expr="&apos;&#92;$varname&apos; =~ /^foo$/" --&gt;ok&lt;!--#endif --&gt; The $varname is expanded as you would expect. (We escape it so as to use the $varname within the \s-1CGI::SSI\s0 object, instead of that within our progam.) But the $/ inside the regex is also expanded. This is fixed by escaping the \*(C`$\*(C':  &lt;!--#if expr="&apos;&#92;$varname&apos; =~ /^value&#92;$/" --&gt;ok&lt;!--#endif --&gt; The expressions used in if and elif tags/calls are tricky due to the number of escapes required. In some cases, you'll need to write \*(C`&#92;&#92;&#92;&#92;\*(C' to mean \*(C`&#92;\*(C'.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO CGI::SSI&hellip;</h2>
        <div class="sectioncontent">
<p>\*(C`Apache::SSI\*(C' and the \s-1SSI\s0 \*(C`spec\*(C' at http://www.apache.org/docs/mod/mod_include.html</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>(c) 2000-2005 James Tolley &lt;james@bitperfect.com&gt; All Rights Reserved.</p><p>This is free software. You may copy and/or modify it under the same terms as perl itself.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>Many Thanks to Corey Wilson and Fitz Elliot for bug reports and fixes.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CGI::PSGI.3pm.html"><span aria-hidden="true">&larr;</span> CGI::PSGI.3pm: Adapt cgi.pm to the psgi protocol</a></li>
   <li class="next"><a href="CGI::SSI_Parser.3pm.html">CGI::SSI_Parser.3pm: Implement ssi for perl cgi <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
