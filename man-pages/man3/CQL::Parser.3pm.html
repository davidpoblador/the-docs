<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CQL::Parser: Compiles cql strings into parse trees of node subtypes.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compiles cql strings into parse trees of node subtypes.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CQL::Parser (3pm) manual">
  <meta name="twitter:description" content="Compiles cql strings into parse trees of node subtypes.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcql-parser-perl-CQL::Parser-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/CQL::Parser.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CQL::Parser (3pm) manual" />
  <meta property="og:description" content="Compiles cql strings into parse trees of node subtypes." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcql-parser-perl-CQL::Parser-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CQL::Parser<small> (3pm)</small></h1>
        <p class="lead">Compiles cql strings into parse trees of node subtypes.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CQL::Parser.3pm.html">
      <span itemprop="name">CQL::Parser: Compiles cql strings into parse trees of node subtypes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcql-parser-perl/">
      <span itemprop="name">libcql-parser-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CQL::Parser.3pm.html">
      <span itemprop="name">CQL::Parser: Compiles cql strings into parse trees of node subtypes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use CQL::Parser;
    my $parser = CQL::Parser-&gt;new();
    my $root = $parser-&gt;parse( $cql );
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>CQL::Parser provides a mechanism to parse Common Query Language (\s-1CQL\s0) statements. The best description of \s-1CQL\s0 comes from the \s-1CQL\s0 homepage at the Library of Congress &lt;http://www.loc.gov/z3950/agency/zing/cql/&gt;</p><p>\s-1CQL\s0 is a formal language for representing queries to information retrieval systems such as web indexes, bibliographic catalogs and museum collection information. The \s-1CQL\s0 design objective is that queries be human readable and human writable, and that the language be intuitive while maintaining the expressiveness of more complex languages.</p><p>A \s-1CQL\s0 statement can be as simple as a single keyword, or as complicated as a set of compoenents indicating search indexes, relations, relational modifiers, proximity clauses and boolean logic. CQL::Parser will parse \s-1CQL\s0 statements and return the root node for a tree of nodes which describes the \s-1CQL\s0 statement. This data structure can then be used by a client application to analyze the statement, and possibly turn it into a query for a local repository.</p><p>Each \s-1CQL\s0 component in the tree inherits from CQL::Node and can be one of the following: CQL::AndNode, CQL::NotNode, CQL::OrNode, CQL::ProxNode, CQL::TermNode, CQL::PrefixNode. See the documentation for those modules for their respective APIs.</p><p>Here are some examples of \s-1CQL\s0 statements:</p><ul>
<li><p>george</p></li><li><p>dc.creator=george</p></li><li><p>dc.creator=\*(L"George Clinton\*(R"</p></li><li><p>clinton and funk</p></li><li><p>clinton and parliament and funk</p></li><li><p>(clinton or bootsy) and funk</p></li><li><p>dc.creator=\*(L"clinton\*(R" and dc.date=\*(L"1976\*(R"</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>\fInew()\fP</h3>
<p>Pass in a \s-1CQL\s0 query and you'll get back the root node for the \s-1CQL\s0 parse tree. If the \s-1CQL\s0 is invalid an exception will be thrown. Pass in a \s-1CQL\s0 query and you'll get back the root node for the \s-1CQL\s0 parse tree. If the \s-1CQL\s0 is invalid, an error code from the \s-1SRU\s0 Diagnostics List will be returned.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">XCQL</h2>
        <div class="sectioncontent">
<p>\s-1CQL\s0 has an \s-1XML\s0 representation which you can generate from a \s-1CQL\s0 parse tree. Just call the <em>toXCQL()</em> method on the root node you get back from a call to <em>parse()</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS AND DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>As mentioned above, a \s-1CQL\s0 syntax error will result in an exception being thrown. So if you have any doubts about the \s-1CQL\s0 that you are parsing you should wrap the call to <em>parse()</em> in an eval block, and check $@ afterwards to make sure everything went ok.</p><p>    eval {         my $node = $parser-&gt;parse( $cql );     };     if ( $@ ) {         print "uhoh, exception $@&#92;n";     }</p><p>If you'd like to see blow by blow details while your \s-1CQL\s0 is being parsed set $CQL::DEBUG equal to 1, and you will get details on \s-1STDERR\s0. This is useful if the parse tree is incorrect and you want to locate where things are going wrong. Hopefully this won't happen, but if it does please notify the author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<ul>
<li><p><em>toYourEngineHere()</em> please feel free to add functionality and send in patches!</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THANKYOUS</h2>
        <div class="sectioncontent">
<p>CQL::Parser is essentially a Perl port of Mike Taylor's cql-java package http://zing.z3950.org/cql/java/. Mike and IndexData were kind enough to allow the author to write this port, and to make it available under the terms of the Artistic License. Thanks Mike!</p><p>The CQL::Lexer package relies heavily on Stevan Little's excellent String::Tokenizer. Thanks Stevan!</p><p>CQL::Parser was developed as a component of the Ockham project, which is funded by the National Science Foundation. See http://www.ockham.org for more information about Ockham.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<ul>
<li><p>Ed Summers - ehs at pobox dot com</p></li><li><p>Brian Cassidy - bricas at cpan dot org</p></li><li><p>Wilbert Hengst - W.Hengst at uva dot nl</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright 2004-2009 by Ed Summers</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CQL::OrNode.3pm.html"><span aria-hidden="true">&larr;</span> CQL::OrNode.3pm: Represents an or node in a cql parse tree</a></li>
   <li class="next"><a href="CQL::Prefix.3pm.html">CQL::Prefix.3pm: Represents a cql prefix mapping <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
