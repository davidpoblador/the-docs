<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gtk2::Ex::Simple::List: A simple interface to gtk2's complex mvc list widget</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A simple interface to gtk2's complex mvc list widget">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Gtk2::Ex::Simple::List (3pm) manual">
  <meta name="twitter:description" content="A simple interface to gtk2's complex mvc list widget">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgtk2-ex-simple-list-perl-Gtk2::Ex::Simple::List-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Gtk2::Ex::Simple::List.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Gtk2::Ex::Simple::List (3pm) manual" />
  <meta property="og:description" content="A simple interface to gtk2's complex mvc list widget" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgtk2-ex-simple-list-perl-Gtk2::Ex::Simple::List-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Gtk2::Ex::Simple::List<small> (3pm)</small></h1>
        <p class="lead">A simple interface to gtk2's complex mvc list widget</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Gtk2::Ex::Simple::List.3pm.html">
      <span itemprop="name">Gtk2::Ex::Simple::List: A simple interface to gtk2's complex mvc list widget</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgtk2-ex-simple-list-perl/">
      <span itemprop="name">libgtk2-ex-simple-list-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Gtk2::Ex::Simple::List.3pm.html">
      <span itemprop="name">Gtk2::Ex::Simple::List: A simple interface to gtk2's complex mvc list widget</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Glib qw(TRUE FALSE);
  use Gtk2 &apos;-init&apos;;
  use Gtk2::Ex::Simple::List;

  my $slist = Gtk2::Ex::Simple::List-&gt;new (
                &apos;Text Field&apos;    =&gt; &apos;text&apos;,
                &apos;Markup Field&apos;  =&gt; &apos;markup&apos;,
                &apos;Int Field&apos;     =&gt; &apos;int&apos;,
                &apos;Double Field&apos;  =&gt; &apos;double&apos;,
                &apos;Bool Field&apos;    =&gt; &apos;bool&apos;,
                &apos;Scalar Field&apos;  =&gt; &apos;scalar&apos;,
                &apos;Pixbuf Field&apos;  =&gt; &apos;pixbuf&apos;,
              );

  @{$slist-&gt;{data}} = (
          [ &apos;text&apos;, 1, 1.1,  TRUE, $var, $pixbuf ],
          [ &apos;text&apos;, 2, 2.2, FALSE, $var, $pixbuf ],
  );

  # (almost) anything you can do to an array you can do to
  # $slist-&gt;{data} which is an array reference tied to the list model
  push @{$slist-&gt;{data}}, [ &apos;text&apos;, 3, 3.3, TRUE, $var, $pixbuf ];

  # mess with selections
  $slist-&gt;get_selection-&gt;set_mode (&apos;multiple&apos;);
  $slist-&gt;get_selection-&gt;unselect_all;
  $slist-&gt;select (1, 3, 5..9); # select rows by index
  $slist-&gt;unselect (3, 8); # unselect rows by index
  @sel = $slist-&gt;get_selected_indices;

  # simple way to make text columns editable
  $slist-&gt;set_column_editable ($col_num, TRUE);

  # Gtk2::Ex::Simple::List derives from Gtk2::TreeView, so all methods
  # on a treeview are available.
  $slist-&gt;set_rules_hint (TRUE);
  $slist-&gt;signal_connect (row_activated =&gt; sub {
          my ($sl, $path, $column) = @_;
          my $row_ref = $sl-&gt;get_row_data_from_path ($path);
          # $row_ref is now an array ref to the double-clicked row&apos;s data.
      });

  # turn an existing TreeView into a SimpleList; useful for
  # Glade-generated interfaces.
  $simplelist = Gtk2::Ex::Simple::List-&gt;new_from_treeview (
                    $glade-&gt;get_widget (&apos;treeview&apos;),
                    &apos;Text Field&apos;    =&gt; &apos;text&apos;,
                    &apos;Int Field&apos;     =&gt; &apos;int&apos;,
                    &apos;Double Field&apos;  =&gt; &apos;double&apos;,
                 );
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ABSTRACT</h2>
        <div class="sectioncontent">
<p>SimpleList is a simple interface to the powerful but complex Gtk2::TreeView and Gtk2::ListStore combination, implementing using tied arrays to make thing simple and easy.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Gtk2 has a powerful, but complex \s-1MVC\s0 (Model, View, Controller) system used to implement list and tree widgets.  Gtk2::Ex::Simple::List automates the complex setup work and allows you to treat the list model as a more natural list of lists structure.</p><p>After creating a new Gtk2::Ex::Simple::List object with the desired columns you may set the list data with a simple Perl array assignment. Rows may be added or deleted with all of the normal array operations. You can treat the \*(C`data\*(C' member of the Simple::List object as an array reference, and manipulate the list data with perl's normal array operators.</p><p>A mechanism has also been put into place allowing columns to be Perl scalars. The scalar is converted to text through Perl's normal mechanisms and then displayed in the list. This same mechanism can be expanded by defining arbitrary new column types before calling the new function.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OBJECT HIERARCHY</h2>
        <div class="sectioncontent">
<p> Glib::Object  +--- Gtk2::Object       +--- Gtk2::Widget            +--- Gtk2::TreeView                 +--- Gtk2::Ex::Simple::List</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<ul>
<li><p>$cname (string)</p></li><li><p>$ctype (string)</p></li>
</ul><p>Creates a new Gtk2::Ex::Simple::List object with the specified columns. The parameter \*(C`cname\*(C' is the name of the column, what will be displayed in the list headers if they are turned on. The parameter ctype is the type of the column, one of:  text    normal text strings  markup  pango markup strings  int     integer values  double  double-precision floating point values  bool    boolean values, displayed as toggle-able checkboxes  scalar  a perl scalar, displayed as a text string by default  pixbuf  a Gtk2::Gdk::Pixbuf or the name of a custom type you add with \*(C`add_column_type\*(C'. These should be provided in pairs according to the desired columns for your list.</p><ul>
<li><p>$treeview (Gtk2::TreeView)</p></li><li><p>$cname (string)</p></li><li><p>$ctype (string)</p></li>
</ul><p>Like \*(C`Gtk2::Ex::Simple::List-&gt;new()\*(C', but turns an existing Gtk2::TreeView into a Gtk2::Ex::Simple::List.  This is intended mostly for use with stuff like Glade, where the widget is created for you.  This will create and attach a new model and remove any existing columns from <em>treeview</em>.  Returns <em>treeview</em>, re-blessed as a Gtk2::Ex::Simple::List.</p><ul>
<li><p>$arrayref (array reference)</p></li>
</ul><p>Set the data in the list to the array reference $arrayref. This is completely equivalent to @{$list-&gt;{data}} = @{$arrayref} and is only here for convenience and for those programmers who don't like to type-cast and have static, set once data.</p><p>Return the indices of the selected rows in the ListStore.</p><ul>
<li><p>$path (Gtk2::TreePath) the path of the desired row</p></li>
</ul><p>Returns an array ref with the data of the row indicated by $path.</p><ul>
<li><p>$index (integer)</p></li>
</ul><p>Select or unselect rows in the list by index.  If the list is set for multiple selection, all indices in the list will be set/unset; otherwise, just the first is used.  If the list is set for no selection, then nothing happens. To set the selection mode, or to select all or none of the rows, use the normal TreeView/TreeSelection stuff, e.g.  $slist-&gt;get_selection and the TreeSelection methods \*(C`get_mode\*(C', \*(C`set_mode\*(C', \*(C`select_all\*(C', and \*(C`unselect_all\*(C'.</p><ul>
<li><p>$index (integer)</p></li><li><p>$editable (boolean)</p></li>
</ul><ul>
<li><p>$index (integer)</p></li>
</ul><p>This is a very simple interface to Gtk2::TreeView's editable text column cells. All columns which use the attr \*(L"text\*(R" (basically, any text or number column, see \*(C`add_column_type\*(C') automatically have callbacks installed to update data when cells are edited.  With \*(C`set_column_editable\*(C', you can enable the in-place editing. \*(C`get_column_editable\*(C' tells you if column <em>index</em> is currently editable.</p>
<dl class='dl-vertical'>
  <dt>
    Gtk2::Ex::Simple::List-&gt;add_column_type ($type_name, ...)
  </dt>
  <dd>
    <p>Add a new column type to the list of possible types. Initially six column types are defined, text, int, double, bool, scalar, and pixbuf. The bool column type uses a toggle cell renderer, the pixbuf uses a pixbuf cell renderer, and the rest use text cell renderers. In the process of adding a new column type you may use any cell renderer you wish. The first parameter is the column type name, the list of six are examples. There are no restrictions on the names and you may even overwrite the existing ones should you choose to do so. The remaining parameters are the type definition consisting of key value pairs. There are three required: type, renderer, and attr. The type key determines what actual datatype will be stored in the underlying model representation; this is a package name, e.g. Glib::String, Glib::Int, Glib::Boolean, but in general if you want an arbitrary Perl data structure you will want to use 'Glib::Scalar'. The renderer key should hold the class name of the cell renderer to create for this column type; this may be any of Gtk2::CellRendererText, Gtk2::CellRendererToggle, Gtk2::CellRendererPixbuf, or some other, possibly custom, cell renderer class.  The attr key is magical; it may be either a string, in which case it specifies the attribute which will be set from the specified column (e.g. 'text' for a text renderer, 'active' for a toggle renderer, etc), or it may be a reference to a subroutine which will be called each time the renderer needs to draw the data. This function, described as a GtkTreeCellDataFunc in the \s-1API\s0 reference, will receive 5 parameters: $treecol, $cell, $model, $iter, $col_num (when SimpleList hooks up the function, it sets the column number to be passed as the user data).  The data value for the particular cell in question is available via $model-&gt;get ($iter, $col_num); you can then do whatever it is you have to do to render the cell the way you want.  Here are some examples:   # just displays the value in a scalar as   # Perl would convert it to a string   Gtk2::Ex::Simple::List-&gt;add_column_type( &apos;a_scalar&apos;,           type     =&gt; &apos;Glib::Scalar&apos;,           renderer =&gt; &apos;Gtk2::CellRendererText&apos;,           attr     =&gt; sub {                my ($treecol, $cell, $model, $iter, $col_num) = @_;                my $info = $model-&gt;get ($iter, $col_num);                $cell-&gt;set (text =&gt; $info);           }      );</p><p>  # sums up the values in an array ref and displays   # that in a text renderer   Gtk2::Ex::Simple::List-&gt;add_column_type( &apos;sum_of_array&apos;,           type     =&gt; &apos;Glib::Scalar&apos;,           renderer =&gt; &apos;Gtk2::CellRendererText&apos;,           attr     =&gt; sub {                my ($treecol, $cell, $model, $iter, $col_num) = @_;                my $sum = 0;                my $info = $model-&gt;get ($iter, $col_num);                foreach (@$info)                {                    $sum += $_;                }                $cell-&gt;set (text =&gt; $sum);           }      );</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MODIFYING LIST DATA</h2>
        <div class="sectioncontent">
<p>After creating a new Gtk2::Ex::Simple::List object there will be a member called \*(C`data\*(C' which is a tied array. That means data may be treated as an array, but in reality the data resides in something else. There is no need to understand the details of this it just means that you put data into, take data out of, and modify it just like any other array. This includes using array operations like push, pop, unshift, and shift. For those of you very familiar with perl this section will prove redundant, but just in case:</p><p>  Adding and removing rows:</p><p>    # push a row onto the end of the list     push @{$slist-&gt;{data}}, [col1_data, col2_data, ..., coln_data];     # pop a row off of the end of the list     $rowref = pop @{$slist-&gt;{data}};     # unshift a row onto the beginning of the list     unshift @{$slist-&gt;{data}}, [col1_data, col2_data, ..., coln_data];     # shift a row off of the beginning of the list     $rowref = shift @{$slist-&gt;{data}};     # delete the row at index $n, 0 indexed     splice @{ $slist-&gt;{data} }, $n, 1;     # set the entire list to be the data in a array     @{$slist-&gt;{data}} = ( [row1, ...], [row2, ...], [row3, ...] );</p><p>  Getting at the data in the list:</p><p>    # get an array reference to the entire nth row     $rowref = $slist-&gt;{data}[n];     # get the scalar in the mth column of the nth row, 0 indexed     $val = $slist-&gt;{data}[n][m];     # set an array reference to the entire nth row     $slist-&gt;{data}[n] = [col1_data, col2_data, ..., coln_data];     # get the scalar in the mth column of the nth row, 0 indexed     $slist-&gt;{data}[n][m] = $rowm_coln_value;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Gtk2::Ex::Simple::List&hellip;</h2>
        <div class="sectioncontent">
<p><em>Perl</em>\|(1), <em>Glib</em>\|(3pm), <em>Gtk2</em>\|(3pm), <em>Gtk2::TreeView</em>\|(3pm), <em>Gtk2::TreeModel</em>\|(3pm), <em>Gtk2::ListStore</em>\|(3pm).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p> muppet &lt;scott at asofyet dot org&gt;  Ross McFarland &lt;rwmcfa1 at neces dot com&gt;  Gavin Brown &lt;gavin dot brown at uk dot com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright 2004 by the Gtk2-Perl team.</p><p>This library is free software; you can redistribute it and/or modify it under the terms of the \s-1GNU\s0 Library General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.</p><p>This library is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  See the \s-1GNU\s0 Library General Public License for more details.</p><p>You should have received a copy of the \s-1GNU\s0 Library General Public License along with this library; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, \s-1MA\s0  02111-1307  \s-1USA\s0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Gtk2::Ex::PrintDialog::Unix.3pm.html"><span aria-hidden="true">&larr;</span> Gtk2::Ex::PrintDialog::Unix.3pm: Generic unix backend for gtk2::ex::printdialog</a></li>
   <li class="next"><a href="Gtk2::Ex::VolumeButton.3pm.html">Gtk2::Ex::VolumeButton.3pm: Widget to control volume and similar values <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
