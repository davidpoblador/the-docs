<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Email::Find: Find rfc 822 email addresses in plain text</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Find rfc 822 email addresses in plain text">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Email::Find (3pm) manual">
  <meta name="twitter:description" content="Find rfc 822 email addresses in plain text">
  <meta name="twitter:image" content="https://www.carta.tech/images/libemail-find-perl-Email::Find-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Email::Find.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Email::Find (3pm) manual" />
  <meta property="og:description" content="Find rfc 822 email addresses in plain text" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libemail-find-perl-Email::Find-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Email::Find<small> (3pm)</small></h1>
        <p class="lead">Find rfc 822 email addresses in plain text</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Email::Find.3pm.html">
      <span itemprop="name">Email::Find: Find rfc 822 email addresses in plain text</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libemail-find-perl/">
      <span itemprop="name">libemail-find-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Email::Find.3pm.html">
      <span itemprop="name">Email::Find: Find rfc 822 email addresses in plain text</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Email::Find;

  # new object oriented interface
  my $finder = Email::Find-&gt;new(&#92;&callback);
  my $num_found - $finder-&gt;find(&#92;$text);

  # good old functional style
  $num_found = find_emails($text, &#92;&callback);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Email::Find is a module for finding a <em>subset</em> of \s-1RFC\s0 822 email addresses in arbitrary text (see \*(L"\s-1CAVEATS\s0\*(R").  The addresses it finds are not guaranteed to exist or even actually be email addresses at all (see \*(L"\s-1CAVEATS\s0\*(R"), but they will be valid \s-1RFC\s0 822 syntax.</p><p>Email::Find will perform some heuristics to avoid some of the more obvious red herrings and false addresses, but there's only so much which can be done without a human.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    new
  </dt>
  <dd>
    <p>  $finder = Email::Find-&gt;new(&#92;&callback); Constructs new Email::Find object. Specified callback will be called with each email as they're found.</p>
  </dd>
  <dt>
    find
  </dt>
  <dd>
    <p>  $num_emails_found = $finder-&gt;find(&#92;$text); Finds email addresses in the text and executes callback registered. The callback is given two arguments.  The first is a Mail::Address object representing the address found.  The second is the actual original email as found in the text.  Whatever the callback returns will replace the original text.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<p>For backward compatibility, Email::Find exports one function, <em>find_emails()</em>. It works very similar to URI::Find's <em>find_uris()</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>  use Email::Find;</p><p>  # Simply print out all the addresses found leaving the text undisturbed.   my $finder = Email::Find-&gt;new(sub {                                     my($email, $orig_email) = @_;                                     print "Found ".$email-&gt;format."&#92;n";                                     return $orig_email;                                 });   $finder-&gt;find(&#92;$text);</p><p>  # For each email found, ping its host to see if its alive.   require Net::Ping;   $ping = Net::Ping-&gt;new;   my %Pinged = ();   my $finder = Email::Find-&gt;new(sub {                                     my($email, $orig_email) = @_;                                     my $host = $email-&gt;host;                                     next if exists $Pinged{$host};                                     $Pinged{$host} = $ping-&gt;ping($host);                                 });</p><p>  $finder-&gt;find(&#92;$text);</p><p>  while( my($host, $up) = each %Pinged ) {       print "$host is ". $up ? &apos;up&apos; : &apos;down&apos; ."&#92;n";   }</p><p>  # Count how many addresses are found.   my $finder = Email::Find-&gt;new(sub { $_[1] });   print "Found ", $finder-&gt;find(&#92;$text), " addresses&#92;n";</p><p>  # Wrap each address in an HTML mailto link.   my $finder = Email::Find-&gt;new(       sub {           my($email, $orig_email) = @_;           my($address) = $email-&gt;format;           return qq|&lt;a href="mailto:$address"&gt;$orig_email&lt;/a&gt;|;       },   );   $finder-&gt;find(&#92;$text);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBCLASSING</h2>
        <div class="sectioncontent">
<p>If you want to change the way this module works in finding email address, you can do it by making your subclass of Email::Find, which overrides \*(C`addr_regex\*(C' and \*(C`do_validate\*(C' method.</p><p>For example, the following class can additionally find email addresses with dot before at mark. This is illegal in \s-1RFC822\s0, see Email::Valid::Loose for details.</p><p>  package Email::Find::Loose;   use base qw(Email::Find);   use Email::Valid::Loose;</p><p>  # should return regex, which Email::Find will use in finding   # strings which are "thought to be" email addresses   sub addr_regex {       return $Email::Valid::Loose::Addr_spec_re;   }</p><p>  # should validate $addr is a valid email or not.   # if so, return the address as a string.   # else, return undef   sub do_validate {       my($self, $addr) = @_;       return Email::Valid::Loose-&gt;address($addr);   }</p><p>Let's see another example, which validates if the address is an existent one or not, with Mail::CheckUser module.</p><p>  package Email::Find::Existent;   use base qw(Email::Find);   use Mail::CheckUser qw(check_email);</p><p>  sub do_validate {       my($self, $addr) = @_;       return check_email($addr) ? $addr : undef;   }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    Why a subset of \s-1RFC\s0 822?
  </dt>
  <dd>
    <p>I say that this module finds a <em>subset</em> of \s-1RFC\s0 822 because if I attempted to look for <em>all</em> possible valid \s-1RFC\s0 822 addresses I'd wind up practically matching the entire block of text!  The complete specification is so wide open that its difficult to construct soemthing that's <em>not</em> an \s-1RFC\s0 822 address. To keep myself sane, I look for the 'address spec' or 'global address' part of an \s-1RFC\s0 822 address.  This is the part which most people consider to be an email address (the 'foo@bar.com' part) and it is also the part which contains the information necessary for delivery.</p>
  </dd>
  <dt>
    Why are some of the matches not email addresses?
  </dt>
  <dd>
    <p>Alas, many things which aren't email addresses <em>look</em> like email addresses and parse just fine as them.  The biggest headache is email and usenet and email message IDs.  I do my best to avoid them, but there's only so much cleverness you can pack into one library.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Copyright 2000, 2001 Michael G Schwern &lt;schwern@pobox.com&gt;. All rights reserved.</p><p>Current maintainer is Tatsuhiko Miyagawa &lt;miyagawa@bulknews.net&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THANKS</h2>
        <div class="sectioncontent">
<p>Schwern thanks to Jeremy Howard for his patch to make it work under 5.005.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This module is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</p><p>The author <strong>\s-1STRONGLY\s0 \s-1SUGGESTS\s0</strong> that this module not be used for the purposes of sending unsolicited email (ie. spamming) in any way, shape or form or for the purposes of generating lists for commercial sale.</p><p>If you use this module for spamming I reserve the right to make fun of you.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Email::Find&hellip;</h2>
        <div class="sectioncontent">
<p>Email::Valid, \s-1RFC\s0 822, URI::Find, Apache::AntiSpam, Email::Valid::Loose</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Dist::Zilla::Plugin::RequiresExternal.3pm.html"><span aria-hidden="true">&larr;</span> Dist::Zilla::Plugin::RequiresExternal.3pm: Make dists require external commands</a></li>
   <li class="next"><a href="Email::Find::addrspec.3pm.html">Email::Find::addrspec.3pm: Exports $addr_spec_re to email::find <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
