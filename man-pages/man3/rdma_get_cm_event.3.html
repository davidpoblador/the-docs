<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rdma_get_cm_event: Retrieves the next pending communication event.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Retrieves the next pending communication event.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rdma_get_cm_event (3) manual">
  <meta name="twitter:description" content="Retrieves the next pending communication event.">
  <meta name="twitter:image" content="https://www.carta.tech/images/librdmacm-dev-rdma_get_cm_event-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/rdma_get_cm_event.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rdma_get_cm_event (3) manual" />
  <meta property="og:description" content="Retrieves the next pending communication event." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/librdmacm-dev-rdma_get_cm_event-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rdma_get_cm_event<small> (3)</small></h1>
        <p class="lead">Retrieves the next pending communication event.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/rdma_get_cm_event.3.html">
      <span itemprop="name">rdma_get_cm_event: Retrieves the next pending communication event.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/librdmacm-dev/">
      <span itemprop="name">librdmacm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/rdma_get_cm_event.3.html">
      <span itemprop="name">rdma_get_cm_event: Retrieves the next pending communication event.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;rdma/rdma_cma.h&gt;</strong></p><p><strong>int rdma_get_cm_event</strong> <strong>(struct rdma_event_channel *</strong><em>channel</em><strong>,</strong> <strong>struct rdma_cm_event **</strong><em>event</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    channel
  </dt>
  <dd>
    <p>Event channel to check for events.</p>
  </dd>
  <dt>
    event
  </dt>
  <dd>
    <p>Allocated information about the next communication event.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Retrieves a communication event.  If no events are pending, by default, the call will block until an event is received.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>Returns 0 on success, or -1 on error.  If an error occurs, errno will be set to indicate the failure reason.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The default synchronous behavior of this routine can be changed by modifying the file descriptor associated with the given channel.  All events that are reported must be acknowledged by calling rdma_ack_cm_event. Destruction of an rdma_cm_id will block until related events have been acknowledged.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EVENT DATA</h2>
        <div class="sectioncontent">
<p>Communication event details are returned in the rdma_cm_event structure. This structure is allocated by the rdma_cm and released by the rdma_ack_cm_event routine.  Details of the rdma_cm_event structure are given below.</p>
<dl class='dl-vertical'>
  <dt>
    id
  </dt>
  <dd>
    <p>The rdma_cm identifier associated with the event.  If the event type is RDMA_CM_EVENT_CONNECT_REQUEST, then this references a new id for that communication.</p>
  </dd>
  <dt>
    listen_id
  </dt>
  <dd>
    <p>For RDMA_CM_EVENT_CONNECT_REQUEST event types, this references the corresponding listening request identifier.</p>
  </dd>
  <dt>
    event
  </dt>
  <dd>
    <p>Specifies the type of communication event which occurred.  See EVENT TYPES below.</p>
  </dd>
  <dt>
    status
  </dt>
  <dd>
    <p>Returns any asynchronous error information associated with an event.  The status is zero if the operation was successful, otherwise the status value is non-zero and is either set to an errno or a transport specific value. For details on transport specific status values, see the event type information below.</p>
  </dd>
  <dt>
    param
  </dt>
  <dd>
    <p>Provides additional details based on the type of event.  Users should select the conn or ud subfields based on the rdma_port_space of the rdma_cm_id associated with the event.  See UD EVENT DATA and CONN EVENT DATA below.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UD EVENT DATA</h2>
        <div class="sectioncontent">
<p>Event parameters related to unreliable datagram (UD) services: RDMA_PS_UDP and RDMA_PS_IPOIB.  The UD event data is valid for RDMA_CM_EVENT_ESTABLISHED and RDMA_CM_EVENT_MULTICAST_JOIN events, unless stated otherwise.</p>
<dl class='dl-vertical'>
  <dt>
    private_data
  </dt>
  <dd>
    <p>References any user-specified data associated with RDMA_CM_EVENT_CONNECT_REQUEST or RDMA_CM_EVENT_ESTABLISHED events.  The data referenced by this field matches that specified by the remote side when calling rdma_connect or rdma_accept. This field is NULL if the event does not include private data.  The buffer referenced by this pointer is deallocated when calling rdma_ack_cm_event.</p>
  </dd>
  <dt>
    private_data_len
  </dt>
  <dd>
    <p>The size of the private data buffer.  Users should note that the size of the private data buffer may be larger than the amount of private data sent by the remote side.  Any additional space in the buffer will be zeroed out.</p>
  </dd>
  <dt>
    ah_attr
  </dt>
  <dd>
    <p>Address information needed to send data to the remote endpoint(s). Users should use this structure when allocating their address handle.</p>
  </dd>
  <dt>
    qp_num
  </dt>
  <dd>
    <p>QP number of the remote endpoint or multicast group.</p>
  </dd>
  <dt>
    qkey
  </dt>
  <dd>
    <p>QKey needed to send data to the remote endpoint(s).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONN EVENT DATA</h2>
        <div class="sectioncontent">
<p>Event parameters related to connected QP services: RDMA_PS_TCP.  The connection related event data is valid for RDMA_CM_EVENT_CONNECT_REQUEST and RDMA_CM_EVENT_ESTABLISHED events, unless stated otherwise.</p>
<dl class='dl-vertical'>
  <dt>
    private_data
  </dt>
  <dd>
    <p>References any user-specified data associated with the event.  The data referenced by this field matches that specified by the remote side when calling rdma_connect or rdma_accept.  This field is NULL if the event does not include private data.  The buffer referenced by this pointer is deallocated when calling rdma_ack_cm_event.</p>
  </dd>
  <dt>
    private_data_len
  </dt>
  <dd>
    <p>The size of the private data buffer.  Users should note that the size of the private data buffer may be larger than the amount of private data sent by the remote side.  Any additional space in the buffer will be zeroed out.</p>
  </dd>
  <dt>
    responder_resources
  </dt>
  <dd>
    <p>The number of responder resources requested of the recipient. This field matches the initiator depth specified by the remote node when calling rdma_connect and rdma_accept.</p>
  </dd>
  <dt>
    initiator_depth
  </dt>
  <dd>
    <p>The maximum number of outstanding RDMA read/atomic operations that the recipient may have outstanding.  This field matches the responder resources specified by the remote node when calling rdma_connect and rdma_accept.</p>
  </dd>
  <dt>
    flow_control
  </dt>
  <dd>
    <p>Indicates if hardware level flow control is provided by the sender.</p>
  </dd>
  <dt>
    retry_count
  </dt>
  <dd>
    <p>For RDMA_CM_EVENT_CONNECT_REQUEST events only, indicates the number of times that the recipient should retry send operations.</p>
  </dd>
  <dt>
    rnr_retry_count
  </dt>
  <dd>
    <p>The number of times that the recipient should retry receiver not ready (RNR) NACK errors.</p>
  </dd>
  <dt>
    srq
  </dt>
  <dd>
    <p>Specifies if the sender is using a shared-receive queue.</p>
  </dd>
  <dt>
    qp_num
  </dt>
  <dd>
    <p>Indicates the remote QP number for the connection.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EVENT TYPES</h2>
        <div class="sectioncontent">
<p>The following types of communication events may be reported.</p>
<dl class='dl-vertical'>
  <dt>
    RDMA_CM_EVENT_ADDR_RESOLVED
  </dt>
  <dd>
    <p>Address resolution (rdma_resolve_addr) completed successfully.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_ADDR_ERROR
  </dt>
  <dd>
    <p>Address resolution (rdma_resolve_addr) failed.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_ROUTE_RESOLVED
  </dt>
  <dd>
    <p>Route resolution (rdma_resolve_route) completed successfully.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_ROUTE_ERROR
  </dt>
  <dd>
    <p>Route resolution (rdma_resolve_route) failed.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_CONNECT_REQUEST
  </dt>
  <dd>
    <p>Generated on the passive side to notify the user of a new connection request.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_CONNECT_RESPONSE
  </dt>
  <dd>
    <p>Generated on the active side to notify the user of a successful response to a connection request.  It is only generated on rdma_cm_id's that do not have a QP associated with them.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_CONNECT_ERROR
  </dt>
  <dd>
    <p>Indicates that an error has occurred trying to establish or a connection. May be generated on the active or passive side of a connection.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_UNREACHABLE
  </dt>
  <dd>
    <p>Generated on the active side to notify the user that the remote server is not reachable or unable to respond to a connection request.  If this event is generated in response to a UD QP resolution request over InfiniBand, the event status field will contain an errno, if negative, or the status result carried in the IB CM SIDR REP message.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_REJECTED
  </dt>
  <dd>
    <p>Indicates that a connection request or response was rejected by the remote end point.  The event status field will contain the transport specific reject reason if available.  Under InfiniBand, this is the reject reason carried in the IB CM REJ message.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_ESTABLISHED
  </dt>
  <dd>
    <p>Indicates that a connection has been established with the remote end point.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_DISCONNECTED
  </dt>
  <dd>
    <p>The connection has been disconnected.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_DEVICE_REMOVAL
  </dt>
  <dd>
    <p>The local RDMA device associated with the rdma_cm_id has been removed. Upon receiving this event, the user must destroy the related rdma_cm_id.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_MULTICAST_JOIN
  </dt>
  <dd>
    <p>The multicast join operation (rdma_join_multicast) completed successfully.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_MULTICAST_ERROR
  </dt>
  <dd>
    <p>An error either occurred joining a multicast group, or, if the group had already been joined, on an existing group.  The specified multicast group is no longer accessible and should be rejoined, if desired.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_ADDR_CHANGE
  </dt>
  <dd>
    <p>The network device associated with this ID through address resolution changed its HW address, eg following of bonding failover. This event can serve as a hint for applications who want the links used for their RDMA sessions to align with the network stack.</p>
  </dd>
  <dt>
    RDMA_CM_EVENT_TIMEWAIT_EXIT
  </dt>
  <dd>
    <p>The QP associated with a connection has exited its timewait state and is now ready to be re-used.  After a QP has been disconnected, it is maintained in a timewait state to allow any in flight packets to exit the network.  After the timewait state has completed, the rdma_cm will report this event.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rdma_get_cm_event&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/rdma_ack_cm_event.3.html"><strong>rdma_ack_cm_event</strong>(3)</a>, <a href="../man3/rdma_create_event_channel.3.html"><strong>rdma_create_event_channel</strong>(3)</a>, <a href="../man3/rdma_resolve_addr.3.html"><strong>rdma_resolve_addr</strong>(3)</a>, <a href="../man3/rdma_resolve_route.3.html"><strong>rdma_resolve_route</strong>(3)</a>, <a href="../man3/rdma_connect.3.html"><strong>rdma_connect</strong>(3)</a>, <a href="../man3/rdma_listen.3.html"><strong>rdma_listen</strong>(3)</a>, <a href="../man3/rdma_join_multicast.3.html"><strong>rdma_join_multicast</strong>(3)</a>, <a href="../man3/rdma_destroy_id.3.html"><strong>rdma_destroy_id</strong>(3)</a>, <a href="../man3/rdma_event_str.3.html"><strong>rdma_event_str</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rdma_free_devices.3.html"><span aria-hidden="true">&larr;</span> rdma_free_devices.3: Frees the list of devices returned by rdma_get_devices.</a></li>
   <li class="next"><a href="rdma_get_devices.3.html">rdma_get_devices.3: Get a list of rdma devices currently available. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
