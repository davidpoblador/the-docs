<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Damage: Repairs damaged graphics</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Repairs damaged graphics">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Damage (3U) manual">
  <meta name="twitter:description" content="Repairs damaged graphics">
  <meta name="twitter:image" content="https://www.carta.tech/images/ivtools-dev-Damage-3U.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3U/Damage.3U.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Damage (3U) manual" />
  <meta property="og:description" content="Repairs damaged graphics" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ivtools-dev-Damage-3U.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Damage<small> (3U)</small></h1>
        <p class="lead">Repairs damaged graphics</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3U/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3U/Damage.3U.html">
      <span itemprop="name">Damage: Repairs damaged graphics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ivtools-dev/">
      <span itemprop="name">ivtools-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3U/Damage.3U.html">
      <span itemprop="name">Damage: Repairs damaged graphics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;Unidraw/Graphic/damage.h&gt;</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Damage objects store damaged areas of a graphic for subsequent incremental repair.  Areas of a graphic are "damaged" if they need to be redrawn for any reason, e.g., if their state has been modified or if under/overlapping graphics change their appearance.  Damage objects try to minimize the amount of redrawing needed to repair a graphic. They are most useful when the graphic is complicated enough that it would be undesirable to redraw the entire canvas when the graphic is modified.  Damage objects do <em>not</em> eliminate the need for an interactor's <em>Redraw</em> member function, though they could be used to implement it.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PUBLIC OPERATIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>Damage(Canvas* = nil, Painter* = nil, Graphic* = nil)</strong></p>
  </dt>
  <dd>
    <p>Create a new Damage object for a graphic on the given canvas.  The painter is used to erase damaged areas using its ClearRect function prior to redrawing them.</p>
  </dd>
  <dt>
    <p><strong>virtual void Incur(Graphic*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void Incur(BoxObj&)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void Incur(</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Coord left, Coord bottom, Coord right, Coord top</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>)</strong></p>
  </dt>
  <dd>
    <p>Notify the damage object that a rectangular area has been damaged, either by passing the graphic that contributed the area or the area itself.</p>
  </dd>
  <dt>
    <p><strong>virtual void Added(Graphic*)</strong></p>
  </dt>
  <dd>
    <p>Notify the damage object that the given graphic was appended (<em>not</em> inserted) to the graphic but never drawn.  The damage object can thus be responsible for drawing newly added graphics as well.</p>
  </dd>
  <dt>
    <p><strong>virtual void Repair()</strong></p>
  </dt>
  <dd>
    <p>Repair all damage incurred since the last Repair (or since the damage object was created if this is the first Repair).</p>
  </dd>
  <dt>
    <p><strong>virtual void Reset()</strong></p>
  </dt>
  <dd>
    <p>Reset the damage object.  Any damage incurred is lost.</p>
  </dd>
  <dt>
    <p><strong>virtual boolean Incurred()</strong></p>
  </dt>
  <dd>
    <p>Returns true if any damage has been incurred.</p>
  </dd>
  <dt>
    <p><strong>void SetCanvas(Canvas*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>void SetPainter(Painter*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>void SetGraphic(Graphic*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>Canvas* GetCanvas()</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>Painter* GetPainter()</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>Graphic* GetGraphic()</strong></p>
  </dt>
  <dd>
    <p>Set and get attributes of the damage object.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROTECTED OPERATIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>int Area(BoxObj&)</strong></p>
  </dt>
  <dd>
    <p>A helper function that returns the area in square pixels occupied by the given BoxObj.</p>
  </dd>
  <dt>
    <p><strong>virtual void DrawAreas()</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void DrawAdditions()</strong></p>
  </dt>
  <dd>
    <p>Explicitly draw the areas of incurred and added damage, respectively.</p>
  </dd>
  <dt>
    <p><strong>virtual void Merge(BoxObj&)</strong></p>
  </dt>
  <dd>
    <p>Merge the given BoxObj into the list of incur-damaged areas, coalescing it into an existing area if the number of non-overlapping areas exceeds 2.</p>
  </dd>
  <dt>
    <p><strong>void FirstArea(Iterator&)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>void FirstAddition(Iterator&)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>void Next(Iterator&)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>boolean Done(Iterator)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>BoxObj* GetArea(Iterator)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>Graphic* GetAddition(Iterator)</strong></p>
  </dt>
  <dd>
    <p>Operations for iterating over the lists of damaged areas (represented with BoxObj objects) and added Graphics.  FirstArea and FirstAddition initialize the iterator to point to the first item on the corresponding list, Next advances the iterator, and Done returns true if the iterator points beyond the end of the list.  GetArea and GetAddition return the BoxObj or Graphic to which the iterator points.</p>
  </dd>
  <dt>
    <p><strong>UList* Elem(Iterator)</strong></p>
  </dt>
  <dd>
    <p>A helper function for returning the UList to which an iterator points.  The <em>_areas</em> protected member is a UList that stores the list of damaged areas, and the <em>_additions</em> protected stores the list of added graphics.</p>
  </dd>
  <dt>
    <p><strong>void DeleteArea(BoxObj*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>void DeleteAreas()</strong></p>
  </dt>
  <dd>
    <p>DeleteArea is a helper function for deleting the storage associated with a damaged area, including the area itself and the UList element.  DeleteAreas is a helper function that deletes the list of damaged areas.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Damage&hellip;</h2>
        <div class="sectioncontent">
<p>Canvas(3I), Graphic(3U), Iterator(3U), Painter(3I), UList(3U), geomobjs(3U)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Creator.3U.html"><span aria-hidden="true">&larr;</span> Creator.3U: Recreates catalog-managed objects from disk and instantiates component views from their class identifiers</a></li>
   <li class="next"><a href="Data.3U.html">Data.3U: Object containing undo information for storage in a command <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
