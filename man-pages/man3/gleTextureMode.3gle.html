<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gleTextureMode: Set the type of gle automatic texture coordinate generation.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set the type of gle automatic texture coordinate generation.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gleTextureMode (3gle) manual">
  <meta name="twitter:description" content="Set the type of gle automatic texture coordinate generation.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgle3-dev-gleTextureMode-3gle.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3gle/gleTextureMode.3gle.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gleTextureMode (3gle) manual" />
  <meta property="og:description" content="Set the type of gle automatic texture coordinate generation." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgle3-dev-gleTextureMode-3gle.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gleTextureMode<small> (3gle)</small></h1>
        <p class="lead">Set the type of gle automatic texture coordinate generation.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3gle/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3gle/gleTextureMode.3gle.html">
      <span itemprop="name">gleTextureMode: Set the type of gle automatic texture coordinate generation.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgle3-dev/">
      <span itemprop="name">libgle3-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3gle/gleTextureMode.3gle.html">
      <span itemprop="name">gleTextureMode: Set the type of gle automatic texture coordinate generation.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">

<pre>
void gleTextureMode (int mode);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>mode</em>
  </dt>
  <dd>
    <p>bitwise OR of GLE texture mode flags</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>In addition to the default glTexGen modes that are supplied by OpenGL, the tubing library also contains some of its own automatic texture coordinate generation routines. In addition, user-defined texture coord generation routines can be supplied.</p><p>To use texture mapping with the extrusion library, one must remember to "do the obvious":</p><ul>
<li><p>Enable texture mapping through OpenGL</p></li><li><p>Define and load (glTexImage2D/glBindTexture) a texture</p></li><li><p>If using the routine below, then disable glTexgGen</p></li>
</ul><p>gleTextureMode can be used to set the type of automatic texture coordinate generation to be used. The argument should be a bitwise-OR of any of the following flags:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>GLE_TEXTURE_ENABLE</strong>
  </dt>
  <dd>
    <p>If this bit is set, then texturing is enabled. If this bit is NOT set, then automatic texture coordinate generation is disabled.</p>
  </dd>

</dl>
<p>The way in which the automatic texture coordinate generation occurs is determined by one of the following flags. One and only one of these should be selected at a time. These tokens are enumerants, not bit-flags.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>GLE_TEXTURE_VERTEX_FLAT</strong>
  </dt>
  <dd>
    <p>Uses the vertexes "x" coordinate as the texture "u" coordinate, and the accumulated segment length as the "v" coordinate.</p>
  </dd>
  <dt>
    <strong>GLE_TEXTURE_NORMAL_FLAT</strong>
  </dt>
  <dd>
    <p>Uses the normal vector's "x" coordinate as the texture "u" coordinate, and the accumulated segment length as the "v" coordinate.</p>
  </dd>
  <dt>
    <strong>GLE_TEXTURE_VERTEX_CYL</strong>
  </dt>
  <dd>
    <p>Uses u = phi/(2*pi) = arctan (vy/vx)/(2*pi) as the texture "u" coordinate, and the accumulated segment length as the "v" coordinate. In the above equation, "vx" and "vy" stand for the vertex's x and y coordinates.</p>
  </dd>
  <dt>
    <strong>GLE_TEXTURE_NORMAL_CYL</strong>
  </dt>
  <dd>
    <p>Uses u = phi/(2*pi) = arctan (ny/nx)/(2*pi) as the texture "u" coordinate, and the accumulated segment length as the "v" coordinate. In the above equation, "nx" and "ny" stand for the normal's x and y coordinates.</p>
  </dd>
  <dt>
    <strong>GLE_TEXTURE_VERTEX_SPH</strong>
  </dt>
  <dd>
    <p>Uses u = phi/(2*pi) = arctan (vy/vx)/(2*pi) as the texture "u" coordinate, and v = theta/pi = (1.0 - arccos(vz))/pi as the texture "v" coordinate. In the above equation, "vx","vy" and "vz" stand for the vertex's x, y and z coordinates.</p>
  </dd>
  <dt>
    <strong>GLE_TEXTURE_NORMAL_SPH</strong>
  </dt>
  <dd>
    <p>Uses u = phi/(2*pi) = arctan (ny/nx)/(2*pi) as the texture "u" coordinate, and v = theta/pi = (1.0 - arccos(nz))/pi as the texture "v" coordinate. In the above equation, "nx","ny" and "nz" stand for the normal's x, y and z coordinates.</p>
  </dd>
  <dt>
    <strong>GLE_TEXTURE_VERTEX_MODEL_FLAT</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>GLE_TEXTURE_NORMAL_MODEL_FLAT</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>GLE_TEXTURE_VERTEX_MODEL_CYL</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>GLE_TEXTURE_NORMAL_MODEL_CYL</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>GLE_TEXTURE_VERTEX_MODEL_SPH</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>GLE_TEXTURE_NORMAL_MODEL_SPH</strong>
  </dt>
  <dd>
    <p>These define texture mapping modes that are very similar to those described above, except that the untransformed vertices and/or normals are used. As a result, textures tends to stick to the extrusion according to the extrusions local surface coordinates rather than according to real-space coordinates. This will in general provide the correct style of texture mapping when affine transforms are being applied to the contour, since the coordinates used are those prior to the affine transform.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPERATION</h2>
        <div class="sectioncontent">
<p>To best understand how to use the above functions, it is best to understand how the tubing is actually drawn. Let us start by defining some terms. The tubing library "extrudes" a "contour" along a "path". The contour is a 2D polyline. The path is a 3D polyline. We use the word "segment" to refer to a straight-line segment of the path polyline. We also interchangeably use the word "segment" to stand for the section of the extrusion that lies along a path segment.</p><p>The tubing library draws segments one at a time. It uses glPushmatrix() and glPopmatrix() to orient each segment along the negative z-axis. The segment starts at z=0 and ends at some negative z-value (equal to the length of the segment). The segment is then drawn by calling glVertex3f() (and glNormal3F()) by drawing the 2D contour at z=0 and again at z=-len. (Of course, if the join style is one of the fancy ones, then the end-points are trimmed in a variety of ways, and do not land exactly on z=0, or z=-len, but they do come close). Note that glBegin() and glEnd() are called around each segment. (Note also that additional glBegins/Ends may be called to draw end-caps or filleting triangles for the more complex join styles.)</p><p>The obvious way to automatically generate textures is to warp the glVertex() and glNormal() functions, and compute texture coordinates based on the 3-space vertex and normal coordinates. This is essentially what the tubing code does, except that it passes some extra parameters. The glBegin calls are wrapped, and the integer segment number and the floating-point length of the segment are passed in. By knowing the segment number, and the segment length, the texture coordinates can be adjusted. Knowing the length allows the length to be accumulated, so that a texture is applied lengthwise along the extrusion. It is this accumulated length that is used in the FLAT and CYL mapping modes.</p><p>For each vertex, not only are the vertex x,y,z coordinates available, but so is a contour vertex counter indicating which contour vertex this corresponds to. There is also a flag indicating whether the vertex corresponds to a front or back vertex (i.e. a z=0 or z=-len vertex). Again, this info can be used to avoid confusion when drawing the more complex join styles.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HINTS</h2>
        <div class="sectioncontent">
<p>Here are a few hints, tips, and techniques:</p><ul>
<li><p>Hint: Confused? RUN THE DEMOS! The best way to understand what all the different texture modes are doing is to see them in action.</p></li><li><p>Hint: The texture matrix can be used to your advantage! That is, you can use glMatrixMode(GL_TEXTURE) to control how textures are mapped to the surface. In particular, you may/will want to use it to to rescale the V coordinate.</p></li><li><p>The origin of the contour will in general change the vertex x's and y's, thus changing the texture coordinates.</p></li><li><p>The contour "up" vector will NOT influence the texture coordinates.</p></li><li><p>For the FLAT and CYL modes, the accumulated length really is the accumulated length of the segments in modeling coordinates. Unless the extrusion is very small, this length will probably be much larger than 1.0, and so the resulting texture coordinate will wrap. You will generally want to rescale the "V" coordinate to make the texture map fit.</p></li><li><p>If the texture is "swimming" around on the surface in an undesired way, try using the "MODEL" version of the texture generation flag.</p></li><li><p>Typically, you will NOT want to use the "SPH" versions of the texture generation engine unless you really, really have an extrusion for which spherical coordinates are appropriate. Most uses of extrusions are best handled with the "FLAT" and "CYL" generation methods.</p></li><li><p>User-defined texture generation callbacks are not currently implemented, but these should be very, very easy to hack in as desired. It should be easy to let your imagination run wild in here. Look at texgen.c -- what needs to be done should be obvious, I hope.  When in doubt, experiment.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Multiple threads using GLE share a single texture mode.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gleTextureMode&hellip;</h2>
        <div class="sectioncontent">
<p>gleExtrusion, gleSetJoinStyle</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Linas Vepstas (linas@linas.org)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gleSuperExtrusion.3gle.html"><span aria-hidden="true">&larr;</span> gleSuperExtrusion.3gle: Extrude arbitrary 2d contour along arbitrary 3d path, specifying local affine transformations.</a></li>
   <li class="next"><a href="gleToroid.3gle.html">gleToroid.3gle: Generalized torus, lathe with circle contour. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
