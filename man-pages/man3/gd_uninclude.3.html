<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gd_uninclude: Gd_uninclude  remove a format specification fragment from a dirfile</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gd_uninclude  remove a format specification fragment from a dirfile">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gd_uninclude (3) manual">
  <meta name="twitter:description" content="Gd_uninclude  remove a format specification fragment from a dirfile">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgetdata-dev-gd_uninclude-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/gd_uninclude.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gd_uninclude (3) manual" />
  <meta property="og:description" content="Gd_uninclude  remove a format specification fragment from a dirfile" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgetdata-dev-gd_uninclude-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gd_uninclude<small> (3)</small></h1>
        <p class="lead">Gd_uninclude  remove a format specification fragment from a dirfile</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gd_uninclude.3.html">
      <span itemprop="name">gd_uninclude: Gd_uninclude  remove a format specification fragment from a dirfile</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgetdata-dev/">
      <span itemprop="name">libgetdata-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gd_uninclude.3.html">
      <span itemprop="name">gd_uninclude: Gd_uninclude  remove a format specification fragment from a dirfile</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;getdata.h&gt;</strong> <strong>int *gd_uninclude(DIRFILE *</strong><em>dirfile</em><strong>, int </strong><em>fragment_index</em><strong>,</strong> <strong>int </strong><em>del</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>gd_uninclude</strong>() removes the format specification fragment indexed by <em>fragment_index</em> from the specified dirfile, as well as any fragments the indicated fragment INCLUDEs.  Fields defined in the removed fragments will be removed from the dirfile.</p><p>Before removing the specified fragment, all pending writes are flushed to <strong>RAW</strong> fields defined the the removed fragments.  If <em>del</em> is zero, metadata changes will also be written to the removed fragments.  If <em>del</em> is non-zero, the format specification fragments will be deleted from disk, if possible.  Regardless of the value of <em>del</em>, binary data files associated with <strong>RAW</strong> fields defined in the removed fragments will not be deleted.  To delete these binary files, use <a href="../man3/gd_delete.3.html"><strong>gd_delete</strong>(3)</a> before calling this function.</p><p>The primary format specification (the fragment indexed by zero) cannot be removed from the dirfile.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success, <strong>gd_uninclude</strong>() returns zero.  On error, -1 is returned and the dirfile error is set to a non-zero error value.  Possible error values are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>GD_E_ACCMODE</strong></p>
  </dt>
  <dd>
    <p>The supplied dirfile was opened in read-only mode.</p>
  </dd>
  <dt>
    <p><strong>GD_E_ALLOC</strong></p>
  </dt>
  <dd>
    <p>The library was unable to allocate memory.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_DIRFILE</strong></p>
  </dt>
  <dd>
    <p>The supplied dirfile was invalid.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_INDEX</strong></p>
  </dt>
  <dd>
    <p>The supplied fragment index was out of range, or an attempt was made to remove the primary format specification.</p>
  </dd>
  <dt>
    <p><strong>GD_E_FLUSH</strong></p>
  </dt>
  <dd>
    <p>A temporary file could not be opened into which to write the metadata of a modified, removed fragment, or renaming the temporary file over the original fragment failed.</p>
  </dd>
  <dt>
    <p><strong>GD_E_PROTECTED</strong></p>
  </dt>
  <dd>
    <p>The metadata of the fragment which included the removed fragment was protected from change.</p>
  </dd>
  <dt>
    <p><strong>GD_E_RAW_IO</strong></p>
  </dt>
  <dd>
    <p>An error occurred while trying to flush or close a removed field.</p>
  </dd>

</dl>
<p>The dirfile error may be retrieved by calling <a href="../man3/gd_error.3.html"><strong>gd_error</strong>(3)</a>. A descriptive error string for the last error encountered can be obtained from a call to <a href="../man3/gd_error_string.3.html"><strong>gd_error_string</strong>(3)</a>. When finished with it, the DIRFILE object may be de-allocated with a call to <a href="../man3/gd_close.3.html"><strong>gd_close</strong>(3)</a>, even if the open failed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>This function re-arranges the remaining format specification fragments in some unspecified way, except for the primary fragment, which is guaranteed to remain at index zero.  Callers which cache format specification fragment indices must re-initialise their cache after calling this function.</p><p>Unlike <a href="../man3/gd_delete.3.html"><strong>gd_delete</strong>(3)</a>, fields which depend on fields removed by this function are not automatically updated, nor is any check made to ensure that this function does not leave fields with missing input fields.  Because of this, a fragment inclusion may be easily moved from one fragment to another with a combination of <strong>gd_uninclude</strong>() and <a href="../man3/gd_include.3.html"><strong>gd_include</strong>(3)</a>. However, if such checks are required, use <a href="../man3/gd_delete.3.html"><strong>gd_delete</strong>(3)</a> to delete the fields defined in the removed fragments first.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gd_uninclude&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/gd_delete.3.html"><strong>gd_delete</strong>(3)</a>, <a href="../man3/gd_include.3.html"><strong>gd_include</strong>(3)</a>, <a href="../man3/gd_open.3.html"><strong>gd_open</strong>(3)</a>, <a href="../man3/gd_reference.3.html"><strong>gd_reference</strong>(3)</a>, <a href="../man3/gd_error.3.html"><strong>gd_error</strong>(3)</a>, <a href="../man3/gd_error_string.3.html"><strong>gd_error_string</strong>(3)</a>, <a href="../man3/gd_fragmentname.3.html"><strong>gd_fragmentname</strong>(3)</a>, <a href="../man3/gd_nfragments.3.html"><strong>gd_nfragments</strong>(3)</a>, <a href="../man5/dirfile.5.html"><strong>dirfile</strong>(5)</a>, <a href="../man5/dirfile-encoding.5.html"><strong>dirfile-encoding</strong>(5)</a>, <a href="../man5/dirfile-format.5.html"><strong>dirfile-format</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gd_strings.3.html"><span aria-hidden="true">&larr;</span> gd_strings.3: Gd_strings  retrieve a list of string values from a dirfile</a></li>
   <li class="next"><a href="gd_validate.3.html">gd_validate.3: Gd_validate  check a dirfile field code for validity <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
