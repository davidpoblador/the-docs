<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RefDB::Makestyle: Methods used by refdb-ms (refdb style generator)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Methods used by refdb-ms (refdb style generator)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="RefDB::Makestyle (3pm) manual">
  <meta name="twitter:description" content="Methods used by refdb-ms (refdb style generator)">
  <meta name="twitter:image" content="https://www.carta.tech/images/librefdb-perlmod-perl-RefDB::Makestyle-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/RefDB::Makestyle.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="RefDB::Makestyle (3pm) manual" />
  <meta property="og:description" content="Methods used by refdb-ms (refdb style generator)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/librefdb-perlmod-perl-RefDB::Makestyle-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">RefDB::Makestyle<small> (3pm)</small></h1>
        <p class="lead">Methods used by refdb-ms (refdb style generator)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/RefDB::Makestyle.3pm.html">
      <span itemprop="name">RefDB::Makestyle: Methods used by refdb-ms (refdb style generator)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/librefdb-perlmod-perl/">
      <span itemprop="name">librefdb-perlmod-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/RefDB::Makestyle.3pm.html">
      <span itemprop="name">RefDB::Makestyle: Methods used by refdb-ms (refdb style generator)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SUMMARY</h2>
        <div class="sectioncontent">
<p>Makestyle.pm - a module used by <em>refdb-ms</em> (RefDB MakeStyle) \*(-- a utility that generates RefDB bibliography <em>style</em>s.</p><p>Provides \*(C`Element\*(C' and \*(C`Attribute\*(C' classes for use in generating RefDB <em>style</em>s.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>The following perl modules are required by this library:</p><ul>
<li><p><strong>Scalar::Util</strong> Provides a method of querying an object to determine its base class.</p></li><li><p><strong>Term::Clui</strong> Provides user interface. For input it provides mechanisms for selection from menus, direct input and for yes/no question-answer prompts. For output it provides for console output or display in the default editor. This module, by default, records user choices in a hidden database.  This behaviour is turned off. Term::Clui::edit uses a console editor for display.  It uses the editor specified by the \s-1EDITOR\s0 variable.  If this variable is not set it falls back to the 'vi' editor.</p></li><li><p><strong>Text::Wrap</strong> Provides word-wrap for console display.</p></li><li><p><strong>File::Temp</strong> Provides useful methods for filename generation. The \s-1OO\s0 methods are not used because, at the time of writing, the version shipped with some *nix-like OSes does not yet include the \s-1OO\s0 interface.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UNIVERSAL METHODS</h2>
        <div class="sectioncontent">
<p>These methods are supplied by a hidden base class.</p><ul>
<li><p><strong>get_classname</strong> Returns classname of object.</p></li><li><p><strong>_is_valid_value</strong> Default method for determining validity of simple (scalar) user input.  Checks that value is defined and not an empty string and not filled with whitespace. Is overridden by derived classes with more stringent input requirements.</p></li><li><p><strong>_input_choice</strong> User selects from a menu. Returns user's selection. Parameters: (0 = class), 1 = prompt, 2... = options. Common usage:</p>
<pre>
        my $value = undef;
        while ( 1 ) {
                $value = $self-&gt;_input_choice( "Select value:" , &lt;@list&gt; );
                if ( $value ) { last; }
                print "Invalid choice.  Sorry, please try again.&#92;n";
        }
</pre>
</li><li><p><strong>_input_ask</strong> User enters a value. Returns user's input. Parameters: (0 = class), 1 = prompt, 2 = default. Common usage:         my $value = undef;         while ( 1 ) {                 $value = $self-&gt;_input_ask( "Enter value:" , &lt;$default&gt; );                 if ( $self-&gt;_is_valid_value( $value ) ) { last; }         }</p></li><li><p><strong>_input_confirm</strong> User is asked a question to which s/he answers y/n. Returns boolean. Parameters: (0 = class), 1 = question. Note: If multi-line question, then after answer only the first line is left on screen.  The first line should be a short question with subsequent lines holding further information. Common usage:         if (_input_confirm( "Short question?&#92;n&#92;nMore&#92;nmulti-line&#92;ntext." ) ) {                 # do stuff         }</p></li><li><p><strong>_display</strong> Displays screen text with word wrapping. Parameters: (0 = class), 1 = display string. Common usage:         _display( &lt;$scalar&gt; );</p></li><li><p><strong>_view</strong> Displays large volume of text in default editor and then returns viewer to original screen. Parameters: (0 = class), 1 = title , 2 = help text. Common usage:         _view( &lt;$title&gt; , &lt;$help_text&gt; );</p></li><li><p><strong>_entitize</strong> Takes string and replaces '&', '&lt;' and '&gt;' with xml entity equivalents.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ATTRIBUTE CLASSES</h2>
        <div class="sectioncontent">
<p>These classes model the \s-1XML\s0 attributes found in the Refdb \*(C`citestylex\*(C' \s-1DTD\s0.</p><h3>Attributes: Public Interface</h3>
<p><em>Attributes: Data Members</em></p><p>        %self = (</p><p>                name          =&gt;  "ATTRIBUTE" ,</p><p>                enumeration   =&gt;  [ "value_0" , "value_1" , ... ] ,</p><p>                default       =&gt;  "value_x" ,</p><p>                prompt        =&gt;  "This is the purpose and/or use of the attribute." ,</p><p>                value         =&gt;  "User selected/entered value&gt;" ,</p><p>                summary       =&gt;  0 | 1 ,</p><p>        )</p><ul>
<li><p><strong>name</strong> Attribute name as per the Refdb \*(C`citestylex\*(C' \s-1DTD\s0.  Always uppercase.</p></li><li><p><strong>enumeration</strong> List of possible values for attribute.  If empty then attribute takes user-entered value, eg. \s-1DISPLAYAUTHOR\s0, which takes a number.</p></li><li><p><strong>default</strong> The default value.  If \*(C`enumeration\*(C' is present, the default will always be one of the items in it.  If no default then leave as \*(C`undef\*(C' \*(-- this is the 'default' value after object construction.</p></li><li><p><strong>prompt</strong> The text string that is used by client methods to prompt users when entering data.</p></li><li><p><strong>summary</strong> Boolean determining whether attribute is included in summary form.</p></li><li><p><strong>value</strong> The attribute value as selected or input by the user.</p></li>
</ul><p><em>Attributes: Constructors</em></p><p>In following method signatures replace \s-1ATTRIBUTE\s0 with the relevant attribute class name.</p><p>Some attributes have a maximum number of instances that can exist within a given PubType (see method <em>select_value</em> below).  When a class is asked to create an object in excess of the designed maximum for that class the constructor returns a scalar holding an error message.  This enables a simple test (using \*(C`ref\*(C' function) to determine whether the constructor returned an object/blessed variable or scalar.</p><p>        my $at = ATTRIBUTE-&gt;new();</p><p><em>Attributes: Setters</em></p><p>        $at-&gt;set_name        ( "&lt;name&gt;"    );         $at-&gt;set_default     ( "&lt;default&gt;" );         $at-&gt;set_prompt      ( "&lt;prompt&gt;"  );         $at-&gt;add_enumeration ( LIST        );         $at-&gt;set_summary     ( 0 | 1       );</p><p><em>Attributes: Getters</em></p><p>        $at-&gt;get_name();         $at-&gt;get_default();         $at-&gt;get_prompt();         $at-&gt;get_enumeration();  # returns list with default value first         $at-&gt;get_enum_string();  # returns single text string         $at-&gt;get_summary();         $at-&gt;get_value();</p><p><em>Attributes: Other methods</em></p><ul>
<li><p><strong></strong><strong>$at</strong><strong>-&gt;</strong><strong>select_value()</strong><strong>;</strong> If enumeration exists then user selects from list. The default is always the first option in the list. If there is no enumeration the user enters the value directly. The default value is given and can be selected by simply pressing \*(C`Enter\*(C'. Some attributes are set automatically depending on how many objects of this class have been created.  In those classes this method has no effect.  This applies to the <em>Role_AuthorList</em>, <em>Role_PubDate</em>, <em>Role_Title</em>, <em>Role_UserDef</em>, <em>Role_Link</em> and <em>Role_Misc</em> classes. The \*(C`citestylex\*(C' \s-1DTD\s0 design envisages a maximum number of objects of these classes being constructed \*(-- the number varying between 3 and 5 depending on the class.  See \*(L"Attributes: Constructors\*(R" for what happens when the class is asked to create an object in excess of the designed maximum.</p></li><li><p><strong></strong><strong>$at</strong><strong>-&gt;</strong><strong>get_xml_fragment()</strong><strong>;</strong> Returns minimal xml fragment indicating the attribute name and value:         ATTRIBUTE="VALUE"</p></li>
</ul>
<h3>Attributes: List of Classes</h3>
<p>To see a list of attribute classes use the \*(C`document-dtd-entities\*(C' utility that shipped with this program.  It extracts attribute and element properties from this script, assembles and formats them into a single html document.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ELEMENT CLASSES</h2>
        <div class="sectioncontent">
<p>These classes model the \s-1XML\s0 elements found in the Refdb \*(C`citestylex\*(C' \s-1DTD\s0.</p><h3>Elements: Public Interface</h3>
<p><em>Elements: Data members</em></p><p>        %self = (</p><p>                name          =&gt;  "ELEMENT" ,</p><p>                prompt        =&gt;  "This is the purpose of this element." ,</p><p>                help          =&gt;  "This is help on how to use this element." ,</p><p>                display       =&gt;  undef | "name" | "content" ,</p><p>                summary       =&gt;  undef | "name" | "left" | "right" | "content" ,</p><p>                attributes    =&gt;  {</p><p>                        mandatory     =&gt;  [ "Attribute_Class_0" , "Attribute_Class_1" , ... ] ,</p><p>                        optional      =&gt;  [ "Attribute_Class_0" , "Attribute_Class_1" , ... ] ,</p><p>                        selected      =&gt;  [ "Attribute_0" , "Attribute_1" , ... ] ,</p><p>                        man_complete  =&gt;  undef | 1 ,</p><p>                        opt_complete  =&gt;  undef | 1 ,</p><p>                } ,</p><p>                copyable      =&gt;  1 | undef ,</p><p>                content       =&gt;  {</p><p>                        allowed       =&gt;  undef | 1 ,</p><p>                        suggestion    =&gt;  "Possible value" ,</p><p>                        value         =&gt;  "User input" ,</p><p>                        complete      =&gt;  undef | 1 ,</p><p>                } ,</p><p>                model_order   =&gt;  [</p><p>                        [ Element_Class_0 , "? | + | 1" ] ,</p><p>                        [ Element_Class_1 , "? | + | 1" ] ,</p><p>                        ... ,</p><p>                ] ,</p><p>                model_noorder =&gt;  {</p><p>                        element_list =&gt;  [ Element_Class_0 , Element_Class_1 , ... ] ,</p><p>                        separator    =&gt;  "Separator" ,</p><p>                } ,</p><p>                children      =&gt;  {</p><p>                        elements     =&gt;  [ Element_0 , Element_1 , ... ] ,</p><p>                        complete     =&gt;  boolean ,</p><p>        )</p><ul>
<li><p><strong>name</strong> Element name as given in the Refdb \*(C`citestylex\*(C' \s-1DTD\s0.  Unique.</p></li><li><p><strong>prompt</strong> Brief statement of the element's purpose and/or function.</p></li><li><p><strong>help</strong> More detailed instructions on how to use this element.</p></li><li><p><strong>display</strong> Determines whether, and how, to display the element in brief form (used for the \*(L"progress report\*(R".  If defined, the element is displayed.  If set to \*(L"name\*(R" the element name is displayed.  If set to \*(L"content\*(R" the element contents are displayed.</p></li><li><p><strong>summary</strong> Determines whether, and how, to display the element in summary form.  If defined, the element is displayed.  If set to \*(L"name\*(R" the element name is displayed.  If set to \*(L"content\*(R" the element contents are displayed.</p></li><li><p><strong>attributes</strong> Attributes of this element.  First two lists are of 'legal' attributes: mandatory and optional.  Third list is of added attribute objects \*(-- initially empty.  Fourth and fifth hash values are flags indicating whether attributes have been added.</p></li><li><p><strong>content</strong> Some elements hold #PCDATA content.  The hash key \*(C`allowed\*(C' determines whether element accepts input \*(-- <em>false</em>/<em>undef</em> means it does not, <em>true</em> means it does.  The hash key \*(C`suggested\*(C' holds a suggested value the user may use.  The hash key \*(C`value\*(C' holds the actual user input.  The hash key \*(C`complete\*(C' is a flag indicating whether content has been entered.</p></li><li><p><strong>copyable</strong> Some elements cannot be copied, either because they have mandatory attributes which require user input or because they only occur once per citstyle.</p></li><li><p><strong>model_order</strong> With <em>model_noorder</em> this data member determines the content model for children elements.  All of the 64 elements fall into one of three content models regarding children elements: 1. No children elements, 2. An ordered list and 3. An unordered list. This data member is \*(C`undef\*(C' in cases (1) and (3). It holds the content model for the thirty elements which have content model (2) \*(-- an ordered list:         ( e[?|+|1] , e[?|+|1] , ... ) where 'e' is the element and the symbols indicate 0-1, 1 or more, and exactly 1 occurrence, respectively. This data member holds an array of arrays.  Each secondary array has two items: the element class and the number of objects that can be children.</p></li><li><p><strong>model_noorder</strong> With <em>model_order</em> this data member determines the content model for children elements.  All of the 64 elements fall into one of three content models regarding children elements: 1. No children elements, 2. An ordered list and 3. An unordered list. This data member is \*(C`undef\*(C' in cases (1) and (2). It holds the content model for the four elements (\s-1AUTHORONLY\s0, \s-1INTEXTDEF\s0, \s-1PUBTYPE\s0 and \s-1YEARONLY\s0) which have content model (3) \*(-- an unordered list:         ( ( e | e | ... ) , e? )+ where 'e' is an element, '?' is 0 or 1 occurrence and '+' is 1 or more occurrances. This data member holds a hash where the first key points to an array holding the list of alterate elements in the content model inner brackets.  The second key points to the element represented in the content model as 'e+' (in every case it is \s-1SEPARATOR\s0).</p></li><li><p><strong>children</strong> This data member holds a hash.  The first hash key (\*(L"elements\*(R") points to an array holding the children elements added by the user.  The second hash key (\*(L"complete\*(R") is a boolean indicating whether all children have been added.</p></li>
</ul><p><em>Elements: Constructors</em></p><p>In following method signatures replace \s-1ELEMENT\s0 with the relevant element class name.</p><p>        my $el = ELEMENT-&gt;new();</p><p><em>Elements: Setters</em></p><p>        $el-&gt;set_name( "&lt;name&gt;" );         $el-&gt;set_prompt( "&lt;prompt&gt;" );         $el-&gt;set_help( "&lt;help&gt;" );         $el-&gt;set_display( undef | "name" | "content" );         $el-&gt;set_summary( undef | "name" | "left" | "right" | "content" );         $el-&gt;set_attributes( %hash );         $el-&gt;set_mandatory_attributes_complete( "1" | undef );         $el-&gt;set_optional_attributes_complete( "1" | undef );         $el-&gt;set_content( %hash );         $el-&gt;set_content_complete( "1" | undef );         $el-&gt;set_order( @ArrayOfArrays );         $el-&gt;set_noorder( %hash );         $el-&gt;set_complete( "1" | "0" | undef );         $el-&gt;_set_value( "&lt;value&gt;" );</p><p><em>Elements: Getters</em></p><p>        $el-&gt;get_name();         $el-&gt;get_prompt();         $el-&gt;get_help();         $el-&gt;get_display();         $el-&gt;get_summary();         $el-&gt;get_attr_mandatory();  # list:   $self-&gt;{attributes}-&gt;{mandatory}         $el-&gt;get_attr_optional();   # list:   $self-&gt;{attributes}-&gt;{optional}         $el-&gt;get_attr_selected();   # list:   $self-&gt;{attributes}-&gt;{selected}         $el-&gt;get_suggestion();      # scalar: $self-&gt;{content}-&gt;{suggestion}         $el-&gt;get_value();           # scalar: $self-&gt;{content}-&gt;{value}         $el-&gt;get_order();           # AoA:    $self-&gt;{model_order}         $el-&gt;get_noorder_list();    # list:   $self-&gt;{model_noorder}-&gt;{element_list}         $el-&gt;get_noorder_separator; # scalar: $self-&gt;{model_noorder}-&gt;{separator}         $el-&gt;get_children();        # list:   $self-&gt;{children}-&gt;{element}         $el-&gt;get_last_child();      # object: $self-&gt;{children}-&gt;{element}[&lt;last&gt;]</p><p><em>Elements: Other methods</em></p><ul>
<li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>content_is_complete()</strong><strong>;</strong> Returns boolean indicating whether element content has been entered. Indicated by a data member which is set after \*(C`enter_value()\*(C' method called.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>enter_value()</strong><strong>;</strong> User enters element value if element can legally hold one.  User may be presented with a suggested value. If the element cannot accept a value nothing happens \*(-- no error message/value is generated.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_content_allowed()</strong><strong>;</strong> Returns boolean indicating whether the element can hold content.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>children_are_complete()</strong><strong>;</strong> Returns boolean indicating whether all children have been added. Simply returns $self-&gt;{children}-&gt;{complete} and relies on other subroutines having set it appropriately.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>max_attribute_index()</strong><strong>;</strong> Returns maximum index value of selected attributes list: -1 if empty list.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>max_child_index()</strong><strong>;</strong> Returns maximum index value of element children list: -1 if empty list.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_last_element()</strong><strong>;</strong> Determines whether element index is the last element in the list of children in the ordered child model: $self-&gt;{model_order}. Parameters: [ 0 = class ] , 1 = array index.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_last_child()</strong><strong>;</strong> Determines whether child index is the last element in the list of children: $self-&gt;{children}-&gt;{elements}. Parameters: [ 0 = class ] , 1 = array index.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_creatable()</strong><strong>;</strong> Returns a boolean indicating whether this element class can legally create another object. Intended to be called as a class method.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>list_selectable_attributes()</strong><strong>;</strong> Returns a list of all optional attributes available for selection.  List consists of all attributes listed in 'optional' list <em>minus</em> all attributes already selected.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>_build_attribute_help()</strong><strong>;</strong> Helper method for method \*(C`add_attributes_optional\*(C'.  Takes as parameter a list of attributes for which help screen is being built.  Includes \*(C`name\*(C' and \*(C`prompt\*(C' for each attribute.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>has_mandatory_attributes()</strong><strong>;</strong> Returns boolean indicating whether element has mandatory attributes.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>_is_closed_tag()</strong><strong>;</strong> Returns boolean indicating whether element can be represented by closed tag.  Requires no possible child elements and no current content.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_xml_brief_tag()</strong><strong>;</strong> Returns opening xml tag for element. Shows only mandatory attributes.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_xml_open_tag()</strong><strong>;</strong> Returns opening xml tag for element. Parameters: [ 0 = class ] , 1 = show attributes (bool) , 2 = show content (bool). Designed to be used in conjunction with \*(C`get_xml_close_tag\*(C' method.  If element has no potential child elements and no content, then will return closed tag, eg. &lt;\s-1ELEMENT/\s0&gt;.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_xml_close_tag()</strong><strong>;</strong> Returns closing xml tag for element. Designed to be used in conjunction with \*(C`get_xml_open_tag\*(C' method.  If element has no potential child elements and no content, then will return no closing tag since \*(C`get_xml_open_tag\*(C' will have returned a closed tag, eg. &lt;\s-1ELEMENT/\s0&gt;.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>generate_full_xml()</strong><strong>;</strong> Generates full xml for element. Displays all attributes and element content.  If no possible child elements and no current element content, will display closed tag, eg. &lt;\s-1ELEMENT/\s0&gt;. Method is recursive. Parameters (receives): [ 0 = class ] , 1 = element count , 2 = indent/tab count and 3 = output. Returns: 0 = element count and 1 = output.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_a_child()</strong><strong>;</strong> Returns a single child element matching supplied array index.  Returns \*(C`undef\*(C' if index out of bounds. Parameter: [ 0 = class ] , 1 = index.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>show_progress()</strong><strong>;</strong> Generates abbreviated xml for element and element children.  Designed to show user's \*(L"progress\*(R" to date. Displays only opening tags.  Child elements are displayed only where element is not set to \*(L"complete\*(R". Only mandatory attributes are displayed. Method is recursive. Parameters (receives): [ 0 = class ] , 1 = output , 2 = stop flag. Returns: 0  = output. Algorithm (recursive):         if self is a stop element                 set stop flag = true         endif         add self to output         if stop flag == true  and  children are complete                 return &apos;output&apos;         else                 repeat for all children                         recurse (returns &apos;output&apos;)                 endrepeat                 return &apos;output&apos;         endif</p><p>        if matching element                 set stop flag = true         endif         add to output         if stop flag true                 if is complete                         if has children                                 recurse                         else                                 add fragment to output                         endif                 else  # not complete</p><p>        if has children                 repeat for all children                         recurse (returns &apos;retval&apos;)                         set output = &apos;retval&apos;                 endrepeat         endif         return output</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>generate_brief_xml()</strong><strong>;</strong> Generates abbreviated xml for element.  Designed to show user's \*(L"progress\*(R" to date. Displays only opening tags.  Child elements are displayed only where element is not set to \*(L"complete\*(R". Only mandatory attributes are displayed. Method is recursive. Parameters (receives): [ 0 = class ] and 1 = output. Returns: 0  = output.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_full_tag()</strong><strong>;</strong> Returns opening +/- closing xml tag for element. Displays all attributes and element content.  If no possible child elements and no current content, will display single closed tag, eg. &lt;\s-1ELEMENT/\s0&gt;.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>_test_attributes_mandatory()</strong><strong>;</strong> Intended as helper method for \*(C`is_creatable\*(C'.  Tests that mandatory attributes can be created. Note: The attributes are not actually added to the element. Returns boolean.  False value indicates failure adding mandatory attributes and the associated element should be detroyed.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>add_attributes_mandatory()</strong><strong>;</strong> Mandatory attributes are immediately added (note: mandatory attributes should have been added during element construction). Returns boolean.  False value indicates failure adding mandatory attributes and the associated element should be detroyed. Can be run in 'silent' mode with no output from method.  There are no guarantees about the 'silence' of attributes' \*(C`select_value\*(C' method, but all such methods should <em>not</em> generate output. Parameters: [ 0 = class ] , [ 1 = &lt;text&gt; | 1 ]</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>add_attributes_optional()</strong><strong>;</strong> The user selects optional attributes to add.  Help is available.  Element feedback is presented as the user proceeds.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>mandatory_attributes_complete()</strong><strong>;</strong> Returns boolean indicating whether mandatory attributes have been added. Indicated by a data member which is set after \*(C`add_attributes()\*(C' method called.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>optional_attributes_complete()</strong><strong>;</strong> Returns boolean indicating whether optional attributes have been added. Indicated by a data member which is set after \*(C`add_attributes()\*(C' method called.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>add_attributes()</strong><strong>;</strong> First adds the mandatory attributes and then gives user chance to add optional attributes. Returns boolean indicating whether attributes added successfully.  Only mechanism of failure occurs when element requires mandatory attribute such as \s-1ROLE\s0 which cannot be added because maximum number of \s-1ROLE\s0 attributes already exist for this \s-1PUBTYPE\s0.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>add_child()</strong><strong>;</strong> Adds a child to the current element. Parameters: [ 0 = class ] , 1 = child element (object).</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>_select_next_child_order()</strong><strong>;</strong> Helper method for method \*(C`select_next_child\*(C'.  Used when element has a modal content model.  Help is provided where appropriate. Returns two element list: 0 = message indicating whether selection was forced by the content model or chosen by user , 1 = element class name. Note: If user makes no selection, and content model forces none, an \*(C`undef\*(C' element class name is returned along with an informative message. When content model is exhausted the content flag \*(-- $self-&gt;{children}-&gt;{complete} \*(-- is set to true. The algorithm for this subroutine is the nastiest in the program.  I include it here in full for future occasions when I may have to debug.         if no current child elements                 set OUT_OF_CHILDREN = true         else                 set OUT_OF_CHILDREN = false         endif</p><p>        begin loop                 if OUT_OF_CHILDREN == true                         switch require                                 case +                                         if PREV != element                                                 EXIT: mandatory element                                         else  # ( PREV_CHILD == element )                                                 ASK: repeat element                                                 if yes                                                         EXIT: chosen element                                                 else  # ( no )                                                         if last element                                                                 set children_full flag = true                                                                 EXIT: END                                                         else  # ( not last element )                                                                 advance element                                                         endif                                                 endif                                         endif                                 endcase                                 case 1                                         if last element                                                 set children_full flag = true                                         endif                                         EXIT: mandatory element                                 endcase                                 case ?                                         ASK: add element                                         if yes                                                 EXIT: chosen element                                         else  # ( no repeat )                                                 if last element                                                         set children_full flag = true                                                         EXIT: END                                                 else  # ( not last element )                                                         advance element                                                 endif                                         endif                                 endcase                         endswitch                 else  # ( OUT_OF_CHILDREN == false )                         if child == element                                 switch require                                         case ? | 1                                                 if last child                                                         if last element                                                                 set children_full flag = true                                                                 EXIT: END                                                         else  # ( not last element )                                                                 advance element                                                                 set OUT_OF_CHILDREN = true                                                         endif                                                 else  # ( not last child )                                                         if last element                                                                 ERROR: exhausted content model but got $child                                                         else  # ( not last element )                                                                 advance element                                                                 set PREV_CHILD = null                                                                 advance child                                                         endif                                                 endif                                         endcase                                         case +                                                 if last child                                                         ASK: repeat element                                                         if yes                                                                 EXIT: optional element                                                         else  # ( no repeat )                                                                 if last element                                                                         set children_full flag = true                                                                         EXIT: END                                                                 else  # ( not last element )                                                                         advance element                                                                         set OUT_OF_CHILDREN = true                                                                 endif                                                         endif                                                 else  # ( not last child )                                                         set PREV_CHILD = child                                                         advance child                                                 endif                                         endcase                                 endswitch                         else  # ( child != element )                                 switch require                                         case +                                                 if last element                                                         ERROR: expecting $element, got $child                                                 else  # ( not last element )                                                         if PREV_CHILD == element                                                                 set PREV_CHILD = null                                                                 advance element                                                         else  # ( PREV_CHILD != element )                                                                 ERROR: expecting $element, got $child                                                         endif                                                 endif                                         endcase                                         case ?                                                 if last element                                                         ERROR: content model exhausted, no match for $child                                                 else  # ( not last element )                                                         advance element                                                 endif                                         endcase                                         case 1                                                 ERROR: expecting $element, got $child                                         endcase                                 endswitch                         endif                 endif         end loop Warning: In a number of places in this subroutine the program can \*(C`die\*(C'.  This occurs when a mismatch between the child element model and the actual child elements is detected.  If the mismatch truly exists it is a coding error since the algorithm should force child elements to match the content model.  If the mismatch is not real the code has erred in analysing the data.  Either way, it is an unrecoverable error and the algorithm/code must be corrected.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>list_selectable_children_noorder()</strong><strong>;</strong> Used when selecting child elements when following the unordered model. Returns a list of all optional elements available for selection.  List consists of all elements attributes listed in 'optional' list <em>minus</em> all attributes already selected.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>_build_element_help()</strong><strong>;</strong> Helper method for method \*(C`_select_next_child_noorder\*(C'.  Takes as parameter a list of elements for which help screen is being built.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>_select_next_child_noorder()</strong><strong>;</strong> The user selects optional child element to add. Helper method for 'select_next_child'. Returns two element list: 0 = message indicating whether selection was forced by the content model or chosen by user , 1 = element class name. Note: If user chooses to finish child element selection, \*(C`undef\*(C' element class name is returned along with an informative message. When child element selection is finished the content flag \*(-- $self-&gt;{children}-&gt;{complete} \*(-- is set to true. Help is available. No option to exit until at least one element has been selected. Cannot select two \*(C`Separator\*(C' elements consecutively.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>select_next_child()</strong><strong>;</strong> The user selects a child element to add.  Help is available. Returns two element list: 0 = text indicating whether mandatory or user choice ,</p>
<pre>
                          1 = element class name.
</pre>
<p>Note: If user makes no selection, and content model forces none, an \*(C`undef\*(C' element class name is returned along with an informative message. The algorithm for this subroutine is the nastiest in the program.  I include it here in full for future occasions when I may have to debug.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_copyable()</strong><strong>;</strong> Returns boolean indicating whether element can be copied. Based on value of $self-&gt;{copyable}.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>copy()</strong><strong>;</strong> Attempts to copy element.  Returns either a reference to a copied element or an error message. Can test for success using \*(C`ref\*(C' function. Does not copy attributes.  Attributes requiring user input during creation are not copyable (this includes Type_PubType, Role_UserDef, Role_Misc and Role_Link). Does not copy child elements.  For that, use the \*(C`duplicate\*(C' method.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>has_attributes()</strong><strong>;</strong> Returns boolean indicating whether element has attributes.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>has_children()</strong><strong>;</strong> Returns boolean indicating whether element has children.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>_push_attribute()</strong><strong>;</strong> Adds attribute to element. Parameters: [ 0 = class ] , 1 = attribute object.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>duplicate()</strong><strong>;</strong> Returns either a reference to a duplicate element or an error message. Copies all attributes, child elements and element content.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>duplicate()</strong><strong>;</strong> Returns either a reference to a duplicate element or an error message. Copies all attributes, child elements and element content.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_ordered_child_model()</strong><strong>;</strong> Returns boolean indicating nature of child element content model.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_unordered_child_model()</strong><strong>;</strong> Returns boolean indicating nature of child element content model.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_childless_model()</strong><strong>;</strong> Returns boolean indicating nature of child element content model.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_last_parent()</strong><strong>;</strong> Return reference to last parent element. Parameters: [ 0 = class ] , 1 = originator flag (true if not originating element) Recursive algorithm:         if child elements                 recurse last child (returns &apos;retval&apos;)                 if &apos;retval&apos; is element                         return &apos;retval&apos;                 else                         return self                 endif         else                 if recursed element                         return undef                 else                         return self                 endif         endif</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_last_element()</strong><strong>;</strong> Return reference to last element. Recursive algorithm:         if child elements                 recurse last child (returns &apos;retval&apos;)                 return &apos;retval&apos;         else                 return self         endif</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>delete_last_child()</strong><strong>;</strong> Delete last child of this element. Returns element.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>delete_last_element()</strong><strong>;</strong> Delete last element. Return deleted element.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>has_incomplete_descendent()</strong><strong>;</strong> Returns boolean indicating whether any descendent of element is incomplete.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_last_incomplete()</strong><strong>;</strong> Return reference to last element in tree that is incomplete. Returns \*(C`undef\*(C' if all elements complete. Recursive algorithm:         if child elements                 recurse last child (returns &apos;retval&apos;)                 if &apos;retval&apos; is element                         return &apos;retval&apos;                 endif         else                 if not complete                         return self                 else                         return undef                 endif         endif</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>is_named()</strong><strong>;</strong> Returns boolean indicating whether element has display data member set to \*(L"name\*(R".</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_last_named()</strong><strong>;</strong> Return reference to last element in tree with display data member set to 'name'.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_style_name()</strong><strong>;</strong> Finds StyleName element and returns element content. If unsuccessful, return \*(C`undef\*(C'.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>get_most_recent()</strong><strong>;</strong> Return reference to last element in tree of supplied element class. If no element found, return \*(C`undef\*(C'.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>reset_all_counters()</strong><strong>;</strong> Resets all role level counters Called by PubType, AuthorOnly, YearOnly and InTextDef during element creation.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>named_in_summary()</strong><strong>;</strong> Boolean indicating whether to include element in summary.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>content_in_summary()</strong><strong>;</strong> Boolean indicating whether to include raw element content in summary.  Currently only applies to \s-1SEPARATOR\s0.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>has_bracketing_child()</strong><strong>;</strong> Boolean indicating whether element has any child elements whose content will \*(L"bracket\*(R" this element's content in output.  Currently only applies to \s-1PRECEEDING\s0 and \s-1FOLLOWING\s0.</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>generate_summary()</strong><strong>;</strong> Generates substantial portion of style summary.  Called by \s-1UI\s0 method 'write_summary'. Parameters: [ 0 = class ] , 1 = previous output. Returns: 0 = current output. Since this method is only called on a complete style, we can make assumptions based on the style following the \s-1DTD\s0. Recursive algorithm.         switch &lt;element class&gt;                 case &apos;StyleName&apos;                         add to output: style name                 endcase                 case &apos;RefStyle&apos;                         add to output: header = "Bibliography Style"                 endcase                 case &apos;PubStyle&apos;                         add to output: header giving publication type                 endcase                 case &apos;CitStyle&apos;                         add to output: header = "Citation Style"                 endcase                 case &apos;InTextDef&apos;                         add to output: header = Author and Year                 endcase                 case &apos;AuthorOnly&apos;                         add to output: header = Author                 endcase                 case &apos;YearOnly&apos;                         add to output: header = Year                 endcase         endswitch         if summary flag == name                 if bracketing child element(s)                         set bracket flag = true                 endif                 if bracket flag == true                         add to output: opening brackets                 endif                 if bracket flag == true                         if left bracketing element present                                 print left bracketing element contents                         endif                 endif                 add to output: left marker                 add to output: element name                 repeat for all attributes                         if attribute summary flag == true                                 add to output: attribute value (italicised)                         endif                 endrepeat                 add to output: right marker         endif         if have children                 repeat for all children                         ** recurse (send output, receive output as &apos;retval&apos;)                 endrepeat         endif         return output</p></li>
</ul>
<h3>Elements: List of Classes</h3>
<p>To see a list of attribute classes use the \*(C`document-dtd-entities\*(C' utility that shipped with this program.  It extracts attribute and element properties from this script, assembles and formats them into a single html document.</p><p>All elements descend from one of three ancestor classes depending on their content model:</p><ul>
<li><p><strong>_Model_Childless</strong> Elements descended from this class have a content model specifying no children elements.</p></li><li><p><strong>_Model_Order</strong> Elements descended from this class have a content model of the general form:         ( element_A[?|+] , element_B[?|+] , ... )</p></li><li><p><strong>_Model_Noorder</strong> Elements descended from this class have a content model of the general form:         ( element_A | element_B , ... ) , element_X? )+</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USER-INTERFACE CLASS</h2>
        <div class="sectioncontent">
<p>This class holds the user-built bibliography style.</p><h3>\s-1UI:\s0 Public Interface</h3>
<p><em>\s-1UI:\s0 Data members</em></p><p>        %self = (</p><p>                help  =&gt;  {</p><p>                        &lt;help topic&gt;       =&gt;  &lt;help text&gt; ,</p><p>                        ...</p><p>                } ,</p><p>                cache  =&gt;  {</p><p>                        "element_class_A"  =&gt;  element_A ,</p><p>                        "element_class_B"  =&gt;  element_B ,</p><p>                        ...</p><p>                } ,</p><p>                root  =&gt;  "undef" | element ,</p><p>                filename  =&gt;  undef | &lt;filename&gt;,</p><p>        )</p><ul>
<li><p><strong>help</strong> Introductory help system. Is a hash consisting of &lt;\*(L"help topic\*(R" : \*(L"help text\*(R"&gt; pairs.</p></li><li><p><strong>cache</strong> Cache for frequently used elements. First hash key (\*(L"cachable\*(R") points to list of cachable elements. Second has key points to subsidiary hash which holds key:value pairs of element class names and the corresponding element.</p></li><li><p><strong>root</strong> Location of style's root element.</p></li><li><p><strong>style_file</strong> Name of style file.  Set after successful output.</p></li><li><p><strong>summary_file</strong> Name of summary file.  Set after successful output.</p></li>
</ul><p><em>\s-1UI:\s0 Constructors</em></p><p>        my $ui = UI-&gt;new();</p><p><em>\s-1UI:\s0 Setters</em></p><p>        $ui-&gt;set_root( &lt;element&gt; );         $ui-&gt;set_style_file( "&lt;filename&gt;" );         $ui-&gt;set_summary_file( "&lt;filename&gt;" );</p><p><em>\s-1UI:\s0 Getters</em></p><p>        $ui-&gt;get_help_topics();          # list:   keys   ( $self-&gt;{help} )         $ui-&gt;get_help( "&lt;topic&gt;" );      # scalar: value  ( $self-&gt;{help}-&gt;{&lt;topic&gt;} )                                          #         takes parameter: help topic         $ui-&gt;get_cachable();             # list:   $self-&gt;{cache}-&gt;{cachable}         $ui-&gt;get_cached();               # list:   defined( $self-&gt;{cache}-&gt;{elements} )         $ui-&gt;get_cached_element( "&lt;class&gt;" );                                          # object: cached element         $ui-&gt;get_root();                 # object: root element         $ui-&gt;get_style_file();           # scalar: style file filename         $ui-&gt;get_summary_file();         # scalar: summary file filename</p><p><em>\s-1UI:\s0 Other methods</em></p><ul>
<li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>help_system()</strong><strong>;</strong> Runs help system \*(-- a menu allowing the selection of a series of</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>get_last_parent()</strong><strong>;</strong> Returns reference to last parent element.</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>can_copy_recent()</strong><strong>;</strong> Returns booelan indicating whether element can copy recent version of itself. Parameters: [ 0 = class ] , 1 = element class | object</p></li><li><p><strong></strong><strong>$el</strong><strong>-&gt;</strong><strong>delete_selected_element()</strong><strong>;</strong> Gives the user the option of deleting element(s). Depending on the state of the element tree, the user can delete the last element or the last major (\*(L"named\*(R") element.  A \*(L"named\*(R" element has its 'display' data member set to 'name' \*(-- in general they are the elements corresponding to ris fields. A \*(L"complete\*(R" element has had all children added and its 'children-&gt;complete' data member is set to true (\*(L"1\*(R"). Algorithm is:         get last named element         if element is complete                 repeat until last named element is deleted                         delete last element                 endrepeat         else                 delete last element only         endif</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>create_element()</strong><strong>;</strong> Creates element.  If element of class already exists, user can duplicate most recent.</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>startup_checks()</strong><strong>;</strong> Currently checks for: write access to current directory.</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>get_output_filename()</strong><strong>;</strong> Returns filename for output file.  Uses File::Temp module. If filename does not exist in current directory, simply return default. If it does, then user must select new filename.  File::Temp is used to provide a suggestion based on the default filename. Requires the following parameters: [ 0 = class ] , 1 = default filename , 2 = filename template pattern , 3 = filename template suffix , 4 = prompt. Parameters 2 and 3 are in the format required by File::Temp.  Parameter 2 must end in at leat 4 'X's \*(-- these will be replaced with random digits.  The suffix is the part of the filename following the part specified by parameter 2.  It is not restricted to a DOS-style three letter extension. Example: Default filename (parameter 1) = 'experimental-style.xml'.  Filename template pattern (parameter 2) = 'experimental-XXXX'.  Filename template suffix (parameter 3) = '-style.xml'.  Prompt (parameter 4) = 'Enter name for style file:'.</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>write_style()</strong><strong>;</strong> Writes style to file.  Checks filename doesn't already exist.  If so, proposes alternative.</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>write_summary()</strong><strong>;</strong> Writes style summary to file.  Checks filename doesn't already exist.  If so, proposes alternative.</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>get_command_base()</strong><strong>;</strong> Gets base for refdba commands.  Involves checking for access to refdba.  Also determines whether username and password required. If succeeds, returns base command of the form:         refdba [-u &lt;username&gt; -w &lt;password&gt;] -C If fails, returns \*(C`undef\*(C'.</p></li><li><p><strong></strong><strong>$ui</strong><strong>-&gt;</strong><strong>upload_style()</strong><strong>;</strong> Uploads style to refdb.  If style of same name already exists, attempt to save it to disk.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>David Nebauer, david &lt;at&gt; nebauer &lt;dot&gt; org</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2004 by David Nebauer</p><p>This library is distributed under the same license and conditions as the \*(C`RefDB\*(C' project &lt;&lt;http://refdb.sourceforge.net/&gt;&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="RefDB::Log.3pm.html"><span aria-hidden="true">&larr;</span> RefDB::Log.3pm: Perl extension providing logging support for refdb applications</a></li>
   <li class="next"><a href="RefDB::Prefs.3pm.html">RefDB::Prefs.3pm: Perl extension for managing preferences of refdb apps <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
