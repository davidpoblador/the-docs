<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DIME::Payload: Implementation of a payload of a dime message</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Implementation of a payload of a dime message">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="DIME::Payload (3pm) manual">
  <meta name="twitter:description" content="Implementation of a payload of a dime message">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdime-tools-perl-DIME::Payload-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/DIME::Payload.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="DIME::Payload (3pm) manual" />
  <meta property="og:description" content="Implementation of a payload of a dime message" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdime-tools-perl-DIME::Payload-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">DIME::Payload<small> (3pm)</small></h1>
        <p class="lead">Implementation of a payload of a dime message</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DIME::Payload.3pm.html">
      <span itemprop="name">DIME::Payload: Implementation of a payload of a dime message</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdime-tools-perl/">
      <span itemprop="name">libdime-tools-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DIME::Payload.3pm.html">
      <span itemprop="name">DIME::Payload: Implementation of a payload of a dime message</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  # Create a standard DIME message from an existing file
  # and a string

  use DIME::Payload;

  $payload1 = new DIME::Payload;
  $payload1-&gt;attach(Path =&gt; &apos;existingfile.jpg&apos;,
                    MIMEType =&gt; &apos;image/jpeg&apos;,
                    Dynamic =&gt; 1);

  $payload2 = new DIME::Payload;
  my $data = &apos;Hello World!!!&apos;;
  $payload2-&gt;attach(Data =&gt; &#92;$data,
                    MIMEType =&gt; &apos;text/plain&apos;);

  my $message = new DIME::Message;
  $message-&gt;add_payload($payload1);
  $message-&gt;add_payload($payload2);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>DIME::Payload represents the content of \s-1DIME\s0 message. A message is composed of one or many Payload objects.</p><p>There are two types of \s-1DIME\s0 payloads: chunked and not chunked. A \s-1DIME\s0 message that isn't chunked has only one record with all the Payload content. A chunked message is splited in several records, allowing to sender and receiver process the content without know the total size of this.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHUNKED AND DYNAMIC CONTENT</h2>
        <div class="sectioncontent">
<p>To create a chunked message you have to specify the Chunked key:</p><p>        # This create a dynamic payload with records of 16384 bytes</p><p>        my $payload = new DIME::Payload;         $payload-&gt;attach(Path =&gt; &apos;bigfile.avi&apos;,                          Chunked =&gt; 16384,                          Dynamic =&gt; 1);</p><p>        # You can encode all the payload at once:</p><p>        my $dime_encoded_message = ${$payload-&gt;print_data()};</p><p>        # Or, if you prefer, you can generate each chunk</p><p>        my $ret;         do         {                 $chunk = ${$payload-&gt;print_chunk_data()};         } while ($chunk ne &apos;&apos;);</p><p>The Dynamic key is used to avoid load all the file in memory. What DIME::Payload does is to open the file and, when it need more content, read from the file. If you don't set the Dynamic key, all the data is loaded in memory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTENT TYPE</h2>
        <div class="sectioncontent">
<p>To specify the type of content of a Payload, you should use the MIMEType and URIType keys:</p><p>        # MIME media-type         my $payload = new DIME::Payload;         $payload-&gt;attach(Path =&gt; &apos;image.jpg&apos;,                          MIMEType =&gt; &apos;image/jpeg&apos;);</p><p>        # absolute URI         my $payload = new DIME::Payload;         $payload-&gt;attach(Path =&gt; &apos;message.xml&apos;,                          URIType =&gt; &apos;http://schemas.xmlsoap.org/soap/envelope/&apos;);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PAYLOAD IDENTIFIER</h2>
        <div class="sectioncontent">
<p>When you create a new Payload, a unique identifier is generated automatically. You can get/set it with the <em>id()</em> method:</p><p>        my $payload = new DIME::Payload;         print $payload-&gt;id();</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Domingo Alcazar Larrea, &lt;dalcazar@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2004 Domingo Alca\*'zar Larrea</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the version 2 of the \s-1GNU\s0 General Public License as published by the Free Software Foundation.</p><p>This program is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  See the \s-1GNU\s0 General Public License for more details.</p><p>You should have received a copy of the \s-1GNU\s0 General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, \s-1MA\s0  02111-1307</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="DIME::Parser.3pm.html"><span aria-hidden="true">&larr;</span> DIME::Parser.3pm: Perl extension for blah blah blah</a></li>
   <li class="next"><a href="DIME::Record.3pm.html">DIME::Record.3pm: A class that represents a record of a dime message <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
