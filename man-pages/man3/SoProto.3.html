<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SoProto: The soproto class handles proto definitions.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The soproto class handles proto definitions.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="SoProto (3) manual">
  <meta name="twitter:description" content="The soproto class handles proto definitions.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcoin80-doc-SoProto-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/SoProto.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="SoProto (3) manual" />
  <meta property="og:description" content="The soproto class handles proto definitions." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcoin80-doc-SoProto-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">SoProto<small> (3)</small></h1>
        <p class="lead">The soproto class handles proto definitions.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/SoProto.3.html">
      <span itemprop="name">SoProto: The soproto class handles proto definitions.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcoin80-doc/">
      <span itemprop="name">libcoin80-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/SoProto.3.html">
      <span itemprop="name">SoProto: The soproto class handles proto definitions.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;Inventor/misc/SoProto.h&gt;</p><p>Inherits <strong>SoNode</strong>.</p><h3>Public Member Functions</h3>
<p><strong>SoProto</strong> (const SbBool externproto=FALSE)</p><p>virtual <strong>SoType</strong> <strong>getTypeId</strong> (void) const </p><p><em>Returns the type identification of an object derived from a class inheriting </em><strong>SoBase</strong><em>. This is used for run-time type checking and 'downward' casting. </em><strong></strong> <strong>SoProtoInstance</strong> * <strong>createProtoInstance</strong> (void)</p><p>void <strong>addISReference</strong> (<strong>SoNode</strong> *container, const <strong>SbName</strong> &fieldname, const <strong>SbName</strong> &interfacename)</p><p><strong>SbName</strong> <strong>findISReference</strong> (const <strong>SoFieldContainer</strong> *container, const <strong>SbName</strong> &fieldname)</p><p>void <strong>addReference</strong> (const <strong>SbName</strong> &name, <strong>SoBase</strong> *base)</p><p>void <strong>removeReference</strong> (const <strong>SbName</strong> &name)</p><p><strong>SoBase</strong> * <strong>findReference</strong> (const <strong>SbName</strong> &name) const </p><p>void <strong>addRoute</strong> (const <strong>SbName</strong> &fromnode, const <strong>SbName</strong> &fromfield, const <strong>SbName</strong> &tonode, const <strong>SbName</strong> &tofield)</p><p><strong>SbName</strong> <strong>getProtoName</strong> (void) const </p><p>virtual SbBool <strong>readInstance</strong> (<strong>SoInput</strong> *input, unsigned short flags)</p><p>virtual void <strong>write</strong> (<strong>SoWriteAction</strong> *action)</p>
<h3>Static Public Member Functions</h3>
<p>static void <strong>setFetchExternProtoCallback</strong> (SoFetchExternProtoCB *cb, void *closure)</p><p>static <strong>SoType</strong> <strong>getClassTypeId</strong> (void)</p><p>static <strong>SoProto</strong> * <strong>findProto</strong> (const <strong>SbName</strong> &name)</p><p>static void <strong>initClass</strong> (void)</p>
<h3>Protected Member Functions</h3>
<p>virtual <strong>~SoProto</strong> ()</p><p>virtual void <strong>destroy</strong> (void)</p>
<h3>Additional Inherited Members</h3>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>The <strong>SoProto</strong> class handles PROTO definitions.</p><p><strong>SoProto</strong> and <strong>SoProtoInstance</strong> are mostly internal classes. They're designed to read and handle VRML97 PROTOs. However, it's possible to define your protos in C++. You must define your proto in a char array, and read that char array using <strong>SoInput::setBuffer()</strong> and <strong>SoDB::readAllVRML()</strong>. Example:</p>
<pre>
char myproto[] =
"#VRML V2.0 utf8\n"
"PROTO ColorCube [\n"
"  field SFColor color 1 1 1\n"
"  field SFVec3f size 1 1 1\n"
"]\n"
"{\n"
"  Shape {\n"
"    appearance Appearance {\n"
"      material Material {\n"
"        diffuseColor IS color\n"
"      }\n"
"    }\n"
"    geometry Box { size IS size }\n"
"  }\n"
"}\n"
"ColorCube { color 1 0 0 size 2 1 1 }\n";

SoInput in;
in.setBuffer((void*) myproto, strlen(myproto));
SoVRMLGroup * protoroot = SoDB::readAllVRML(&in);
</pre>
<p>Now you can create new instances of the ColorCube proto using <strong>SoProto::findProto()</strong> and <strong>SoProto::createProtoInstance()</strong>. If you want to insert proto instances into your scene graph, you should insert the node returned from <strong>SoProtoInstance::getRootNode()</strong>.</p><p>See http://www.web3d.org/technicalinfo/specifications/ISO-IEC-14772-IS-VRML97WithAmendment1/part1/concepts.html#4.8 for more information about PROTOs in VRML97.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor & Destructor Documentation</h2>
        <div class="sectioncontent">
<h3>SoProto::SoProto (const SbBoolexternproto = \fCFALSE\fP)</h3>
<p>Constructor.</p>
<h3>SoProto::~SoProto ()\fC [protected]\fP, \fC [virtual]\fP</h3>
<p>Destructor.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Function Documentation</h2>
        <div class="sectioncontent">
<h3>\fBSoType\fP SoProto::getTypeId (void) const\fC [virtual]\fP</h3>
<p>Returns the type identification of an object derived from a class inheriting <strong>SoBase</strong>. This is used for run-time type checking and 'downward' casting. Usage example:</p>
<pre>
void foo(SoNode * node)
{
  if (node-&gt;getTypeId() == SoFile::getClassTypeId()) {
    SoFile * filenode = (SoFile *)node;  // safe downward cast, knows the type
  }
}
</pre>
<p>For application programmers wanting to extend the library with new nodes, engines, nodekits, draggers or others: this method needs to be overridden in <em>all</em> subclasses. This is typically done as part of setting up the full type system for extension classes, which is usually accomplished by using the pre-defined macros available through for instance <strong>Inventor/nodes/SoSubNode.h</strong> (SO_NODE_INIT_CLASS and SO_NODE_CONSTRUCTOR for node classes), Inventor/engines/SoSubEngine.h (for engine classes) and so on.</p><p>For more information on writing Coin extensions, see the class documentation of the toplevel superclasses for the various class groups.</p><p>Implements <strong>SoBase</strong>.</p>
<h3>\fBSoProto\fP * SoProto::findProto (const \fBSbName\fP &name)\fC [static]\fP</h3>
<p>Returns the PROTO definition named <em>name</em> or NULL if not found.</p>
<h3>\fBSoProtoInstance\fP * SoProto::createProtoInstance (void)</h3>
<p>Creates an instance of the PROTO.</p>
<h3>void SoProto::addISReference (\fBSoNode\fP *container, const \fBSbName\fP &fieldname, const \fBSbName\fP &interfacename)</h3>
<p>Adds an IS reference for this PROTO definition.</p>
<h3>\fBSbName\fP SoProto::findISReference (const \fBSoFieldContainer\fP *container, const \fBSbName\fP &fieldname)</h3>
<p>If <em>container</em> is a PROTO definition node with an IS interface field named <em>fieldname</em>, return the interface name, otherwise return an empty <strong>SbName</strong>.</p>
<h3>void SoProto::addReference (const \fBSbName\fP &name, \fBSoBase\fP *base)</h3>
<p>Adds a reference for this PROTO definition.</p>
<h3>void SoProto::removeReference (const \fBSbName\fP &name)</h3>
<p>Removes a reference for this PROTO definition.</p>
<h3>\fBSoBase\fP * SoProto::findReference (const \fBSbName\fP &name) const</h3>
<p>Finds a reference for this PROTO definition.</p>
<h3>void SoProto::addRoute (const \fBSbName\fP &fromnode, const \fBSbName\fP &fromfield, const \fBSbName\fP &tonode, const \fBSbName\fP &tofield)</h3>
<p>Adds a ROUTE for this PROTO definition.</p>
<h3>\fBSbName\fP SoProto::getProtoName (void) const</h3>
<p>Returns the PROTO name.</p>
<h3>SbBool SoProto::readInstance (\fBSoInput\fP *in, unsigned shortflags)\fC [virtual]\fP</h3>
<p>This method is mainly intended for internal use during file import operations.</p><p>It reads a definition of an instance from the input stream <em>in</em>. The input stream state points to the start of a serialized / persistant representation of an instance of this class type.</p><p>TRUE or FALSE is returned, depending on if the instantiation and configuration of the new object of this class type went ok or not. The import process should be robust and handle corrupted input streams by returning FALSE.</p><p><em>flags</em> is used internally during binary import when reading user extension nodes, group nodes or engines.</p><p>Reimplemented from <strong>SoNode</strong>.</p>
<h3>void SoProto::write (\fBSoWriteAction\fP *action)\fC [virtual]\fP</h3>
<p>Action method for <strong>SoWriteAction</strong>.</p><p>Writes out a node object, and any connected nodes, engines etc, if necessary.</p><p>Reimplemented from <strong>SoNode</strong>.</p>
<h3>void SoProto::destroy (void)\fC [protected]\fP, \fC [virtual]\fP</h3>
<p>Cleans up all hanging references to and from this instance, and then commits suicide.</p><p>Called automatically when the reference count goes to zero.</p><p>Reimplemented from <strong>SoBase</strong>.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for Coin from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="SoProfilingReportGenerator.h.3.html"><span aria-hidden="true">&larr;</span> SoProfilingReportGenerator.h.3: Soprofilingreportgenerator.h -</a></li>
   <li class="next"><a href="SoProto.h.3.html">SoProto.h.3: Soproto.h - <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
