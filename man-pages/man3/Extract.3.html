<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Extract: Extract one field from a rectangular region of a volume</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extract one field from a rectangular region of a volume">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Extract (3) manual">
  <meta name="twitter:description" content="Extract one field from a rectangular region of a volume">
  <meta name="twitter:image" content="https://www.carta.tech/images/libvolpack1-dev-Extract-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/Extract.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Extract (3) manual" />
  <meta property="og:description" content="Extract one field from a rectangular region of a volume" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libvolpack1-dev-Extract-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Extract<small> (3)</small></h1>
        <p class="lead">Extract one field from a rectangular region of a volume</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/Extract.3.html">
      <span itemprop="name">Extract: Extract one field from a rectangular region of a volume</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libvolpack1-dev/">
      <span itemprop="name">libvolpack1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/Extract.3.html">
      <span itemprop="name">Extract: Extract one field from a rectangular region of a volume</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;volpack.h&gt;</p><p>&#92;$1 <strong>vpExtract(</strong><em>vpc, volume_type, x0, y0, z0, x1, y1, z1, field, dst,</em> dst_size, dst_xstride, dst_ystride, dst_zstride<strong>)</strong></p><ul>
<li><p>vpContext *<em>vpc;</em> int <em>volume_type;</em> int <em>x0, y0, z0;</em> int <em>x1, y1, z1;</em> int <em>field;</em> void *<em>dst;</em> int <em>dst_size;</em> int <em>dst_xstride, dst_ystride, dst_zstride;</em></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>vpc</em>
  </dt>
  <dd>
    <p>VolPack context from <strong>vpCreateContext.</strong></p>
  </dd>
  <dt>
    <em>volume_type</em>
  </dt>
  <dd>
    <p>A code indicating which volume data structure to extract the region from (VP_RAW_VOLUME, VP_CLASSIFIED_VOLUME, VP_CLX_VOLUME, VP_CLY_VOLUME or VP_CLZ_VOLUME)</p>
  </dd>
  <dt>
    <em>x0, y0, z0</em>
  </dt>
  <dd>
    <p>Origin of the extracted region in the voxel array.</p>
  </dd>
  <dt>
    <em>x1, y1, z1</em>
  </dt>
  <dd>
    <p>Opposite corner of the extracted region in the voxel array.</p>
  </dd>
  <dt>
    <em>field</em>
  </dt>
  <dd>
    <p>A voxel field number identifying the field to extract, or one of these special codes: VP_OPACITY_FIELD, VP_CORRECTED_OPAC_FIELD, VP_COLOR_FIELD.</p>
  </dd>
  <dt>
    <em>dst</em>
  </dt>
  <dd>
    <p>Destination array.</p>
  </dd>
  <dt>
    <em>dst_size</em>
  </dt>
  <dd>
    <p>Size of destination array in bytes.</p>
  </dd>
  <dt>
    <em>dst_xstride, dst_ystride, dst_zstride</em>
  </dt>
  <dd>
    <p>Strides (in bytes) for the X, Y and Z dimensions of the destination array.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>vpExtract</strong> is used to extract one field from a rectangular region of the 3D voxel array or the preclassified volume and store the result in a separate array.  It is also possible to retrieve computed voxel opacities or colors.</p><p>The <em>volume_type</em> argument is used to choose which data structure the region should be extracted from.  The choices are:</p>
<dl class='dl-vertical'>
  <dt>
    VP_RAW_VOLUME
  </dt>
  <dd>
    <p>Extract from the 3D voxel array (see <strong>vpSetRawVoxels</strong>(3)).</p>
  </dd>
  <dt>
    VP_CLASSIFIED_VOLUME
  </dt>
  <dd>
    <p>Extract from the preclassified volume (see <strong>vpClassifyVolume</strong>(3)).  The are three copies of the voxel data in the preclassified volume, one for each principal viewing axis.  The copy which will result in the fastest access (best memory stride) is selected.</p>
  </dd>
  <dt>
    VP_CLX_VOLUME
  </dt>
  <dd>
    <p>Extract from the preclassified volume used for X-axis viewing.</p>
  </dd>
  <dt>
    VP_CLY_VOLUME
  </dt>
  <dd>
    <p>Extract from the preclassified volume used for Y-axis viewing.</p>
  </dd>
  <dt>
    VP_CLZ_VOLUME
  </dt>
  <dd>
    <p>Extract from the preclassified volume used for Z-axis viewing.</p>
  </dd>

</dl>
<p>The last three choices for the <em>volume_type</em> argument are usually used only for debugging.</p><p>The next six arguments give the coordinates of the corners of the extracted region in the volume.  The coordinates are indexes into the array.</p><p>The <em>field</em> argument is used to select which voxel field to extract.  Any of the voxel field numbers previously specified with <strong>vpVoxelField</strong> may be specified.  The output array must be sized appropriately for the dimensions of the region and the size of the extracted field.  The following special constants may also be used instead of a voxel field number:</p>
<dl class='dl-vertical'>
  <dt>
    VP_OPACITY_FIELD
  </dt>
  <dd>
    <p>Return voxel opacities for voxels in the indicated region.  If the 3D voxel array is selected then the opacities are computed on-the-fly using the current opacity transfer function.  The minimum opacity threshold is ignored.  If the preclassified volume is selected then the precomputed opacities are extracted.  Opacities below the minimum opacity threshold at the time the volume was classified are set to 0. The output array should have type unsigned char, and the opacities are stored as number between 0 (transparent) and 255 (opaque).</p>
  </dd>
  <dt>
    VP_CORRECTED_OPAC_FIELD
  </dt>
  <dd>
    <p>This option is the same as the VP_OPACITY_FIELD option, except that voxel opacities are corrected for the current view transformation.  The opacity transfer function is assumed to produce the opacity of a voxel viewed perpendicular to one face of the volume with no scale factor. If the voxel has been scaled or rotated with respect to the viewer then the apparent opacity must be corrected.</p>
  </dd>
  <dt>
    VP_COLOR_FIELD
  </dt>
  <dd>
    <p>Return voxel colors for voxels in the indicated region.  The colors are computed on-the-fly using the current shading, lighting and material parameters.  The output array should have type unsigned char, and each color channel is stored as number between 0 (off) and 255 (full intensity).  The number of color channels per pixels is determined by the current shading parameters.  (Not currently supported for preclassified volumes.)</p>
  </dd>

</dl>
<p>The remaining arguments specify the output array, its size (for error checking), and the stride for each dimension (to allow padding the end of scanlines or storing the result in a higher-dimension array).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>The normal return value is VP_OK.  The following error return values are possible:</p>
<dl class='dl-vertical'>
  <dt>
    VPERROR_BAD_VALUE
  </dt>
  <dd>
    <p>The volume coordinates are out of bounds or invalid (x0 &gt; x1, etc.), or the field number is invalid.</p>
  </dd>
  <dt>
    VPERROR_BAD_SIZE
  </dt>
  <dd>
    <p>The destination array size is incorrect.</p>
  </dd>
  <dt>
    VPERROR_BAD_VOLUME
  </dt>
  <dd>
    <p>The volume data does not exist.</p>
  </dd>
  <dt>
    VPERROR_BAD_OPTION
  </dt>
  <dd>
    <p>The <em>volume_type</em> argument is invalid.</p>
  </dd>
  <dt>
    VPERROR_BAD_VOLUME
  </dt>
  <dd>
    <p>The volume size or data is missing or invalid.</p>
  </dd>
  <dt>
    VPERROR_BAD_VOXEL
  </dt>
  <dd>
    <p>The voxel fields are incorrectly defined.</p>
  </dd>
  <dt>
    VPERROR_BAD_CLASSIFIER
  </dt>
  <dd>
    <p>The opacity transfer function is incorrectly specified.</p>
  </dd>
  <dt>
    VPERROR_BAD_SHADER
  </dt>
  <dd>
    <p>The shading parameters have been incorrectly specified.</p>
  </dd>
  <dt>
    VPERROR_SINGULAR
  </dt>
  <dd>
    <p>One or more of the view transformation matrices is singular.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Extract&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/VolPack.3.html"><strong>VolPack</strong>(3)</a>, <strong>vpCreateContext</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ExperimentFile.3.html"><span aria-hidden="true">&larr;</span> ExperimentFile.3: Manipulations of the experiment file format</a></li>
   <li class="next"><a href="FD_CLR.3.html">FD_CLR.3: Synchronous i/o multiplexing <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
