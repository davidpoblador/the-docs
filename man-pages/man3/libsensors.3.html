<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libsensors: Publicly accessible functions provided by the sensors library</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Publicly accessible functions provided by the sensors library">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libsensors (3) manual">
  <meta name="twitter:description" content="Publicly accessible functions provided by the sensors library">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsensors4-dev-libsensors-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/libsensors.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libsensors (3) manual" />
  <meta property="og:description" content="Publicly accessible functions provided by the sensors library" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsensors4-dev-libsensors-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libsensors<small> (3)</small></h1>
        <p class="lead">Publicly accessible functions provided by the sensors library</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libsensors.3.html">
      <span itemprop="name">libsensors: Publicly accessible functions provided by the sensors library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsensors4-dev/">
      <span itemprop="name">libsensors4-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libsensors.3.html">
      <span itemprop="name">libsensors: Publicly accessible functions provided by the sensors library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;sensors/sensors.h&gt;</strong>

/* Library initialization and clean-up */
<strong>int sensors_init(FILE *</strong><em>input</em><strong>);</strong>
<strong>void sensors_cleanup(void);</strong>
<strong>const char *</strong><em>libsensors_version</em><strong>;</strong>

/* Chip name handling */
<strong>int sensors_parse_chip_name(const char *</strong><em>orig_name</em><strong>,</strong>
<strong>                            sensors_chip_name *</strong><em>res</em><strong>);</strong>
<strong>void sensors_free_chip_name(sensors_chip_name *</strong><em>chip</em><strong>);</strong>
<strong>int sensors_snprintf_chip_name(char *</strong><em>str</em><strong>, size_t </strong><em>size</em><strong>,</strong>
<strong>                               const sensors_chip_name *</strong><em>chip</em><strong>);</strong>
<strong>const char *sensors_get_adapter_name(const sensors_bus_id *</strong><em>bus</em><strong>);</strong>

/* Chips and features enumeration */
<strong>const sensors_chip_name *</strong>
<strong>sensors_get_detected_chips(const sensors_chip_name *</strong><em>match</em><strong>,</strong>
<strong>                           int *</strong><em>nr</em><strong>);</strong>
<strong>const sensors_feature *</strong>
<strong>sensors_get_features(const sensors_chip_name *</strong><em>name</em><strong>,</strong>
<strong>                     int *</strong><em>nr</em><strong>);</strong>
<strong>const sensors_subfeature *</strong>
<strong>sensors_get_all_subfeatures(const sensors_chip_name *</strong><em>name</em><strong>,</strong>
<strong>                            const sensors_feature *</strong><em>feature</em><strong>,</strong>
<strong>                            int *</strong><em>nr</em><strong>);</strong>
<strong>const sensors_subfeature *</strong>
<strong>sensors_get_subfeature(const sensors_chip_name *</strong><em>name</em><strong>,</strong>
<strong>                       const sensors_feature *</strong><em>feature</em><strong>,</strong>
<strong>                       sensors_subfeature_type </strong><em>type</em><strong>);</strong>

/* Features access */
<strong>char *sensors_get_label(const sensors_chip_name *</strong><em>name</em><strong>,</strong>
<strong>                        const sensors_feature *</strong><em>feature</em><strong>);</strong>
<strong>int sensors_get_value(const sensors_chip_name *</strong><em>name</em><strong>, int </strong><em>subfeat_nr</em><strong>,</strong>
<strong>                      double *</strong><em>value</em><strong>);</strong>
<strong>int sensors_set_value(const sensors_chip_name *</strong><em>name</em><strong>, int </strong><em>subfeat_nr</em><strong>,</strong>
<strong>                      double </strong><em>value</em><strong>);</strong>
<strong>int sensors_do_chip_sets(const sensors_chip_name *</strong><em>name</em><strong>);</strong>

<strong>#include &lt;sensors/error.h&gt;</strong>

/* Error decoding */
<strong>const char *sensors_strerror(int </strong><em>errnum</em><strong>);</strong>

/* Error handlers */
<strong>void (*sensors_parse_error) (const char *</strong><em>err</em><strong>, int </strong><em>lineno</em><strong>);</strong>
<strong>void (*sensors_parse_error_wfn) (const char *</strong><em>err</em><strong>,</strong>
<strong>                                 const char *</strong><em>filename</em><strong>, int </strong><em>lineno</em><strong>);</strong>
<strong>void (*sensors_fatal_error) (const char *</strong><em>proc</em><strong>, const char *</strong><em>err</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sensors_init()</strong> loads the configuration file and the detected chips list. If this returns a value unequal to zero, you are in trouble; you can not assume anything will be initialized properly. If you want to reload the configuration file, or load a different configuration file, call sensors_cleanup() below before calling sensors_init() again. This means you can't load multiple configuration files at once by calling sensors_init() multiple times.</p><p>The configuration file format is described in <a href="../man5/sensors.conf.5.html"><strong>sensors.conf</strong>(5)</a>.</p><p>If FILE is NULL, the default configuration files are used (see the FILES section below). Most applications will want to do that.</p><p><strong>sensors_cleanup()</strong> cleans everything up: you can't access anything after this, until the next sensors_init() call!</p><p><strong>libsensors_version</strong> is a string representing the version of libsensors.</p><p><strong>sensors_parse_chip_name()</strong> parses a chip name to the internal representation. Return 0 on success, &lt;0 on error. Make sure to call sensors_free_chip_name() when you're done with the data.</p><p><strong>sensors_free_chip_name()</strong> frees the memory that may have been allocated for the internal representation of a chip name. You only have to call this for chip names which do not originate from libsensors itself (that is, chip names which were generated by sensors_parse_chip_name()).</p><p><strong>sensors_snprintf_chip_name()</strong> prints a chip name from its internal representation. Note that chip should not contain wildcard values! Return the number of characters printed on success (same as snprintf), &lt;0 on error.</p><p><strong>sensors_get_adapter_name()</strong> returns the adapter name of a bus type, number pair, as used within the sensors_chip_name structure. If it could not be found, it returns NULL.</p><p>Adapters describe how a monitoring chip is hooked up to the system. This is particularly relevant for I2C/SMBus sensor chips (bus type "i2c"), which must be accessed over an I2C/SMBus controller. Each such controller has a different number, assigned by the system at initialization time, so that they can be referenced individually.</p><p>Super-I/O or CPU-embedded sensors, on the other hand, can be accessed directly and technically don't use any adapter. They have only a bus type but no bus number, and sensors_get_adapter_name() will return a generic adapter name for them.</p><p><strong>sensors_get_detected_chips()</strong> returns all detected chips that match a given chip name, one by one. If no chip name is provided, all detected chips are returned. To start at the beginning of the list, use 0 for nr; NULL is returned if we are at the end of the list. Do not try to change these chip names, as they point to internal structures!</p><p><strong>sensors_get_features()</strong> returns all main features of a specific chip. nr is an internally used variable. Set it to zero to start at the begin of the list. If no more features are found NULL is returned. Do not try to change the returned structure; you will corrupt internal data structures.</p><p><strong>sensors_get_all_subfeatures()</strong> returns all subfeatures of a given main feature. nr is an internally used variable. Set it to zero to start at the begin of the list. If no more subfeatures are found NULL is returned. Do not try to change the returned structure; you will corrupt internal data structures.</p><p><strong>sensors_get_subfeature()</strong> returns the subfeature of the given type for a given main feature, if it exists, NULL otherwise. Do not try to change the returned structure; you will corrupt internal data structures.</p><p><strong>sensors_get_label()</strong> looks up the label which belongs to this chip. Note that chip should not contain wildcard values! The returned string is newly allocated (free it yourself). On failure, NULL is returned. If no label exists for this feature, its name is returned itself.</p><p><strong>sensors_get_value()</strong> Reads the value of a subfeature of a certain chip. Note that chip should not contain wildcard values! This function will return 0 on success, and &lt;0 on failure.</p><p><strong>sensors_set_value()</strong> sets the value of a subfeature of a certain chip. Note that chip should not contain wildcard values! This function will return 0 on success, and &lt;0 on failure.</p><p><strong>sensors_do_chip_sets()</strong> executes all set statements for this particular chip. The chip may contain wildcards!  This function will return 0 on success, and &lt;0 on failure.</p><p><strong>sensors_strerror()</strong> returns a pointer to a string which describes the error. errnum may be negative (the corresponding positive error is returned). You may not modify the result!</p><p><strong>sensors_parse_error()</strong> and <strong>sensors_parse_error_wfn()</strong> are functions which are called when a parse error is detected. Give them new values, and your own functions are called instead of the default (which print to stderr). These functions may terminate the program, but they usually output an error and return. The first function is the original one, the second one was added later when support for multiple configuration files was added. The library code now only calls the second function. However, for backwards compatibility, if an application provides a custom handling function for the first function but not the second, then all parse errors will be reported using the first function (that is, the filename is never reported.) Note that filename can be NULL (if filename isn't known) and lineno can be 0 (if the error occurs before the actual parsing starts.)</p><p><strong>sensors_fatal_error()</strong> Is a function which is called when an immediately fatal error (like no memory left) is detected. Give it a new value, and your own function is called instead of the default (which prints to stderr and ends the program). Never let it return!</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA STRUCTURES</h2>
        <div class="sectioncontent">
<p>Structure <strong>sensors_feature</strong> contains information related to a given feature of a specific chip:</p><p><strong>typedef struct sensors_feature {</strong></p><p>	const char *name;</p><p>	int number;</p><p>	sensors_feature_type type;</p><p>} sensors_feature;</p><p>There are other members not documented here, which are only meant for libsensors internal use.</p><p>Structure <strong>sensors_subfeature</strong> contains information related to a given subfeature of a specific chip feature:</p><p><strong>typedef struct sensors_subfeature {</strong></p><p>	const char *name;</p><p>	int number;</p><p>	sensors_subfeature_type type;</p><p>	int mapping;</p><p>	unsigned int flags;</p><p>} sensors_subfeature;</p><p>The flags field is a bitfield, its value is a combination of <strong>SENSORS_MODE_R</strong> (readable), <strong>SENSORS_MODE_W</strong> (writable) and <strong>SENSORS_COMPUTE_MAPPING</strong> (affected by the computation rules of the main feature).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/sensors3.conf</em></p><p><em>/etc/sensors.conf</em></p><p>The system-wide <a href="../man3/libsensors.3.html"><strong>libsensors</strong>(3)</a> configuration file. /etc/sensors3.conf is tried first, and if it doesn't exist, /etc/sensors.conf is used instead.</p><p><em>/etc/sensors.d</em></p><p>A directory where you can put additional libsensors configuration files. Files found in this directory will be processed in alphabetical order after the default configuration file. Files with names that start with a dot are ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO libsensors&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/sensors.conf.5.html"><strong>sensors.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Frodo Looijaard, Jean Delvare and others http://www.lm-sensors.org/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="librsync.3.html"><span aria-hidden="true">&larr;</span> librsync.3: Library for delta compression of streams</a></li>
   <li class="next"><a href="libsmi.3.html">libsmi.3: Library to access smi management information <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
