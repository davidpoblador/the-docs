<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OpenDBX_Result: Provides result sets from the database.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Provides result sets from the database.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="OpenDBX_Result (3) manual">
  <meta name="twitter:description" content="Provides result sets from the database.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libopendbx1-dev-OpenDBX_Result-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/OpenDBX_Result.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="OpenDBX_Result (3) manual" />
  <meta property="og:description" content="Provides result sets from the database." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libopendbx1-dev-OpenDBX_Result-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">OpenDBX_Result<small> (3)</small></h1>
        <p class="lead">Provides result sets from the database.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/OpenDBX_Result.3.html">
      <span itemprop="name">OpenDBX_Result: Provides result sets from the database.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libopendbx1-dev/">
      <span itemprop="name">libopendbx1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/OpenDBX_Result.3.html">
      <span itemprop="name">OpenDBX_Result: Provides result sets from the database.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<h3>Public Member Functions</h3>
<p>unsigned long <strong>columnCount</strong> ()  throw ( std::exception )</p><p><em>Returns the number of columns available in this result set. </em> const string <strong>columnName</strong> (unsigned long pos)  throw ( std::exception )</p><p><em>Returns the name of the column in the current result set. </em> unsigned long <strong>columnPos</strong> (const string &name)  throw ( std::exception )</p><p><em>Maps the column name to the column number required by other methods. </em> odbxtype <strong>columnType</strong> (unsigned long pos)  throw ( std::exception )</p><p><em>Returns the type of the column in the current result set. </em> unsigned long <strong>fieldLength</strong> (unsigned long pos)  throw ( std::exception )</p><p><em>Returns the size of the content in the current row at the specified postion. </em> const char * <strong>fieldValue</strong> (unsigned long pos)  throw ( std::exception )</p><p><em>Returns a pointer to the content in the current row at the specified postion. </em> void <strong>finish</strong> ()  throw ( std::exception )</p><p><em>Retrieves unfetched rows and cleans up the available result sets. </em> <strong>Lob</strong> <strong>getLob</strong> (const char *value)  throw ( std::exception )</p><p><em>Creates a large object instance if supported by the database. </em> odbxres <strong>getResult</strong> (struct timeval *timeout=NULL, unsigned long chunk=0)  throw ( std::exception )</p><p><em>Fetches one result set from the database server. </em> odbxrow <strong>getRow</strong> ()  throw ( std::exception )</p><p><em>Makes data of next row available. </em> <strong>Result</strong> & <strong>operator=</strong> (const <strong>Result</strong> &ref)  throw ()</p><p><em>Assigns a </em><strong>Result</strong><em> instance to another one. </em><strong></strong> <strong>Result</strong> (const <strong>Result</strong> &ref)  throw ()</p><p><em>Copy constructor. </em> uint64_t <strong>rowsAffected</strong> ()  throw ( std::exception )</p><p><em>Returns the number of rows affected by DELETE, INSERT of UPDATE statements. </em> <strong>~Result</strong> ()  throw ()</p><p><em>Destroys a </em><strong>Result</strong><em> instance if no other references exist. </em><strong></strong></p>
<h3>Protected Member Functions</h3>
<p><strong>Result</strong> ()  throw ()</p><p><em>Default constructor. </em> <strong>Result</strong> (Result_Iface *impl)  throw ( std::exception )</p><p><em>Creates a </em><strong>Result</strong><em> instance. </em><strong></strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Provides result sets from the database.</p><p><strong>Author:</strong></p><p>Norbert Sendetzky norbert@linuxnetworks.de</p><p><strong>Version:</strong></p><p>1.0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor & Destructor Documentation</h2>
        <div class="sectioncontent">
<h3>OpenDBX::Result::Result ()\fC [inline]\fP, \fC [protected]\fP</h3>
<p>Default constructor. The default constructor isn't part of the public interface as the object must not be created manually. Instead, the <strong>Stmt::execute()</strong> method is a factory for instances of the <strong>Result</strong> class.</p><p><strong>Returns:</strong></p><p><strong>Result</strong> instance</p>
<h3>OpenDBX::Result::Result (Result_Iface *impl)std::exception\fC [protected]\fP</h3>
<p>Creates a <strong>Result</strong> instance. The constructor isn't part of the public interface as the object must not be created manually. Instead, the <strong>Stmt::execute()</strong> method is a factory for instances of the <strong>Result</strong> class.</p><p><strong>Parameters:</strong></p><p><em>impl</em> Pointer to private implementation</p><p><strong>Exceptions:</strong></p><p><em>std::exception</em> If an error occures</p><p><strong>Returns:</strong></p><p><strong>Result</strong> instance</p>
<h3>OpenDBX::Result::~Result ()</h3>
<p>Destroys a <strong>Result</strong> instance if no other references exist. Each result object uses a reference counter to remember if the internal variables are shared with other objects. If this isn't the case or if this object is the last one referencing the variables, the object is cleanup up and the allocated memory freed.</p>
<h3>OpenDBX::Result::Result (const \fBResult\fP &ref)</h3>
<p>Copy constructor. Enables the transfer of the internal state of an object <em>ref</em> of the same type to this object. Both objects share the same variables and the reference counter afterwards. The reference counter is incremented each time an object is copied and will be decremented if it is destroyed.</p><p><strong>Parameters:</strong></p><p><em>ref</em> Original result object instance</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Function Documentation</h2>
        <div class="sectioncontent">
<h3>unsigned long OpenDBX::Result::columnCount ()std::exception</h3>
<p>Returns the number of columns available in this result set. The number of columns will never change within a result set with one notable exception: MySQL returns all outstanding rows of a previous result set first if they were not fetched completely by <strong>getRow()</strong> before. Therefore, the column count might change in this special situation.</p><p><strong>Returns:</strong></p><p>Number of columns</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>const string OpenDBX::Result::columnName (unsigned longpos)std::exception</h3>
<p>Returns the name of the column in the current result set. Gets the name of the column specified by <em>pos</em> in the current result set. The column names will not change within the result set with the exception of MySQL when the first result set wasn't retrieved completely before <strong>getResult()</strong> was called again.</p><p><strong>Parameters:</strong></p><p><em>pos</em> Position of column in result set</p><p><strong>Returns:</strong></p><p>Column name</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>unsigned long OpenDBX::Result::columnPos (const string &name)std::exception</h3>
<p>Maps the column name to the column number required by other methods. This method returns the index of the column which is named like the content of the string given via the parameter <em>name</em>. The column index will not change within the result set.</p><p><strong>Parameters:</strong></p><p><em>name</em> Name of the column in the result set</p><p><strong>Returns:</strong></p><p>Position of column in result set</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>odbxtype OpenDBX::Result::columnType (unsigned longpos)std::exception</h3>
<p>Returns the type of the column in the current result set. The column type applies to all fields at the same position of the rows fetched via <strong>getRow()</strong>. The definitions are based on the SQL2003 standard and the data types of the database server have to comply to the specification of the standard. These are:</p><p>Exact numeric values:</p><ul>
<li><p>ODBX_TYPE_BOOLEAN: True/false values</p></li><li><p>ODBX_TYPE_SMALLINT: Signed 16 bit integer</p></li><li><p>ODBX_TYPE_INTEGER: Signed 32 bit integer</p></li><li><p>ODBX_TYPE_BIGINT: Signed 64 bit integer</p></li><li><p>ODBX_TYPE_DECIMAL: Exact signed numeric values with user defined precision</p></li>
</ul><p>Approximate numeric values:</p><ul>
<li><p>ODBX_TYPE_REAL: Approximate numeric values (signed) with 32 bit precision</p></li><li><p>ODBX_TYPE_DOUBLE: Approximate numeric values (signed) with 64 bit precision</p></li><li><p>ODBX_TYPE_FLOAT: Approximate numeric values (signed) with user defined precision</p></li>
</ul><p>String values:</p><ul>
<li><p>ODBX_TYPE_CHAR: Fixed number of characters</p></li><li><p>ODBX_TYPE_NCHAR: Fixed number of characters using a national character set</p></li><li><p>ODBX_TYPE_VARCHAR: Variable number of characters</p></li><li><p>ODBX_TYPE_NVARCHAR: Variable number of characters using a national character set</p></li>
</ul><p>Large objects:</p><ul>
<li><p>ODBX_TYPE_CLOB: Large text object</p></li><li><p>ODBX_TYPE_NCLOB: Large text object using a national character set</p></li><li><p>ODBX_TYPE_XML: XML tree in text format</p></li><li><p>ODBX_TYPE_BLOB: Large binary object</p></li>
</ul><p>Date and time values:</p><ul>
<li><p>ODBX_TYPE_TIME: Time including hours, minutes and seconds</p></li><li><p>ODBX_TYPE_TIME_TZ: Time with timezone information</p></li><li><p>ODBX_TYPE_TIMESTAMP: Date and time</p></li><li><p>ODBX_TYPE_TIMESTAMP_TZ: Date and time with timezone information</p></li><li><p>ODBX_TYPE_DATE: Date including year, month and day</p></li><li><p>ODBX_TYPE_INTERVAL: Date interval</p></li>
</ul><p>Arrays and sets:</p><ul>
<li><p>ODBX_TYPE_ARRAY: Array of values</p></li><li><p>ODBX_TYPE_MULTISET: Associative arrays</p></li>
</ul><p>External links:</p><ul>
<li><p>ODBX_TYPE_DATALINK: URI locators like URL links</p></li>
</ul><p>Data types provided by database implementations which are not covered by the SQL2003 standard are subsumed as ODBX_TYPE_UNKNOWN.</p><p><strong>Parameters:</strong></p><p><em>pos</em> Position of column in result set</p><p><strong>Returns:</strong></p><p>Column type</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p><p><strong>See also:</strong></p><p>odbxtype</p>
<h3>unsigned long OpenDBX::Result::fieldLength (unsigned longpos)std::exception</h3>
<p>Returns the size of the content in the current row at the specified postion. The field is part of the current row which was retrieved by the latest call to <strong>getRow()</strong> and is specified by the column index given by <em>pos</em>.</p><p><strong>Parameters:</strong></p><p><em>pos</em> Position of column in result set</p><p><strong>Returns:</strong></p><p>Size of the data in bytes</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>const char* OpenDBX::Result::fieldValue (unsigned longpos)std::exception</h3>
<p>Returns a pointer to the content in the current row at the specified postion. This function returns a pointer to the field data specified by the column index <em>pos</em>. The field is part of the current row which was retrieved by the latest call to <strong>getRow()</strong>. All values except binary objects are handed back as strings terminated by the zero character. This does also apply to numeric values, dates, etc. They have to be converted to their binary machine dependent representation before arithmetic operations can be done. If a value is undefined, i.e. 'NULL' is attached to the field in the database, an equivalent NULL pointer is returned.</p><p><strong>Parameters:</strong></p><p><em>pos</em> Position of column in result set</p><p><strong>Returns:</strong></p><p>Pointer to the data</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>void OpenDBX::Result::finish ()std::exception</h3>
<p>Retrieves unfetched rows and cleans up the available result sets. After executing a statement, at least one result set is returned by the database server. In case of data manipulation statements, there are no rows returned but you have to clean up the result set nevertheless. This is usually done by calling and <strong>getResult()</strong> in a loop until it returns 'done'. In order to simplify application development, the <strong>finish()</strong> method does this for you.</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>\fBLob\fP OpenDBX::Result::getLob (const char *value)std::exception</h3>
<p>Creates a large object instance if supported by the database. Returns a <strong>Lob</strong> class instance representing a large object stored in the database. It references the large object and provided methods for accessing and modifying its content.</p><p>The parameter required by this method must be the value returned by the <strong>fieldValue()</strong> method of a large object column.</p><p>This method must only be used if the underlying driver states that it supports large objects via the Conn::getCapabilities(). Otherwise, the content can be retrieved directly by the <strong>fieldValue()</strong> method.</p><p><strong>Parameters:</strong></p><p><em>value</em> Pointer to the content of a field returned by <strong>fieldValue()</strong></p><p><strong>Returns:</strong></p><p>Large object instance</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p><p><strong>See also:</strong></p><p><strong>Lob</strong></p>
<h3>odbxres OpenDBX::Result::getResult (struct timeval *timeout = \fCNULL\fP, unsigned longchunk = \fC0\fP)std::exception</h3>
<p>Fetches one result set from the database server. Retrieves the result of a query statement from the database server. If the statement was an INSERT, UPDATE, DELETE or a similar statement, the number of affected rows is available via <strong>rowsAffected()</strong>.</p><p>The <em>timeout</em> parameter restricts the time the function is waiting for a result form the server. It may be NULL to wait until a result arrives. Otherwise, it can contain any number of seconds and microseconds in a timeval structure to wait for. The timeval structure must be set each time before calling <strong>getResult()</strong> because its content may get changed by the function. If the server doesn't respond within the timeout, the query isn't canceled! Instead, the next call to this function will wait for the same result set. Waiting the specified time may be implemented in the backends if it is possible, but there is no guarantee. If not, <strong>getResult()</strong> will return not before a responds arrives.</p><p>Dependent on the native database library, it may be possible to retrieve all rows at once (if chunk is zero), one by one or more than one row at once. All positive values including zero are allowed as values for <em>chunk</em> If paging (more than one row at once) is not supported by the backend, it will use 'one by one' or 'all at once' if this is the only option provided.</p><p><strong>getResult()</strong> returns ODBX_RES_ROWS if a result set is available and ODBX_RES_DONE if no more results will be returned by the last successful query. ODBX_RES_NOROWS is returned if the statement was executed successfully but will not return a results set (like for INSERT, UPDATE and DELETE statements) and ODBX_RES_TIMEOUT indicates a timeout.</p><p><strong>Parameters:</strong></p><p><em>timeout</em> Pointer to a timeval struct specifying how long to wait for a result set from the database server</p><p><em>chunk</em> Number of rows to fetch at once from the database server (zero means all rows at once)</p><p><strong>Returns:</strong></p><p>Status or error code</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p><p><strong>See also:</strong></p><p>odbxres</p>
<h3>odbxrow OpenDBX::Result::getRow ()std::exception</h3>
<p>Makes data of next row available. Retrieves the values of a row from the current result set returned by <strong>getResult()</strong>. Until this function is invoked, no row and field data is available via <strong>fieldLength()</strong> or <strong>fieldValue()</strong> and these functions will throw an exception.</p><p><strong>getRow()</strong> will return ODBX_ROW_NEXT as long as rows are available from the result set. After the last row has been made available, further calls to this function will return ODBX_ROW_DONE indicating that the result set doesn't contain more rows.</p><p><strong>Returns:</strong></p><p>Status of the attempt to fetch one more row</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>\fBResult\fP& OpenDBX::Result::operator= (const \fBResult\fP &ref)</h3>
<p>Assigns a <strong>Result</strong> instance to another one. Assigns the internal state of an object <em>ref</em> of the same type to this object. Both objects share the same variables and the reference counter afterwards. The reference counter is incremented each time an object is copied and will be decremented if it is destroyed.</p><p><strong>Parameters:</strong></p><p><em>ref</em> <strong>Result</strong> instance</p><p><strong>Returns:</strong></p><p><strong>Result</strong> reference of this instance</p>
<h3>uint64_t OpenDBX::Result::rowsAffected ()std::exception</h3>
<p>Returns the number of rows affected by DELETE, INSERT of UPDATE statements. Returns the number of rows that have been changed by the current statement whose result set was retrieved by <strong>getResult()</strong> and zero if the database server didn't alter any rows. Affected rows are only returned for DELETE, INSERT or UPDATE statements and their concrete number depends on the database implementation. Some database server like MySQL may return a lower number than expected because they doesn't modify records whose values wouldn't change.</p><p><strong>Returns:</strong></p><p>Number of rows touched</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for opendbx from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="OpenDBX_Lob.3.html"><span aria-hidden="true">&larr;</span> OpenDBX_Lob.3: Handling large objects if supported by the database.</a></li>
   <li class="next"><a href="OpenDBX_Stmt.3.html">OpenDBX_Stmt.3: Statement object. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
