<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>globus_gss_assist_get_unwrap: Security context creation and use.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Security context creation and use.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="globus_gss_assist_get_unwrap (3) manual">
  <meta name="twitter:description" content="Security context creation and use.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libglobus-gss-assist-doc-globus_gss_assist_get_unwrap-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/globus_gss_assist_get_unwrap.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="globus_gss_assist_get_unwrap (3) manual" />
  <meta property="og:description" content="Security context creation and use." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libglobus-gss-assist-doc-globus_gss_assist_get_unwrap-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">globus_gss_assist_get_unwrap<small> (3)</small></h1>
        <p class="lead">Security context creation and use.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_gss_assist_get_unwrap.3.html">
      <span itemprop="name">globus_gss_assist_get_unwrap: Security context creation and use.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libglobus-gss-assist-doc/">
      <span itemprop="name">libglobus-gss-assist-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_gss_assist_get_unwrap.3.html">
      <span itemprop="name">globus_gss_assist_get_unwrap: Security context creation and use.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Security Context Creation and Use.</p><p>The functions in this section are used to create security contexts and send and receive messages sent over them. They use the functions provided by <strong>Token Transport</strong> or user-supplied functions to communicate security tokens over the context, looping over continue results from the GSSAPI as needed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>OM_uint32 globus_gss_assist_accept_sec_context (OM_uint32 *minor_status, gss_ctx_id_t *context_handle, const gss_cred_id_tcred_handle, char **src_name_char, OM_uint32 *ret_flags, int *user_to_user_flag, int *token_status, gss_cred_id_t *delegated_cred_handle, int(*)(void *, void **, size_t *)gss_assist_get_token, void *gss_assist_get_context, int(*)(void *, void *, size_t)gss_assist_send_token, void *gss_assist_send_context)</h3>
<p>Accept a Security Context. This routine accepts a GSSAPI security context and is called by the gram_gatekeeper. It isolates the GSSAPI from the rest of the gram code.</p><p>Initialize a GSSAPI security connection. Used by the server. The context_handle is returned, and there is one for each connection. This routine will take cake of the looping and token processing, using the supplied get_token and send_token routines.</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> GSSAPI return code</p><p><em>context_handle</em> pointer to returned context.</p><p><em>cred_handle</em> the cred handle obtained by acquire_cred.</p><p><em>src_name_char</em> Pointer to char string representation of the client which contacted the server. Maybe NULL if not wanted. Should be freed when done.</p><p><em>ret_flags</em> Pointer to which services are available after the connection is established. Maybe NULL if not wanted. We will also use this to pass in flags to the globus version of GSSAPI</p><p><em>user_to_user_flag</em> Pointer to flag to be set if the src_name is the same as our name. (Following are particular to this assist routine)</p><p><em>token_status</em> assist routine get/send token status</p><p><em>delegated_cred_handle</em> pointer to be set to the credential delegated by the client if delegation occurs during the security handshake</p><p><em>gss_assist_get_token</em> a get token routine</p><p><em>gss_assist_get_context</em> first arg for the get token routine</p><p><em>gss_assist_send_token</em> a send token routine</p><p><em>gss_assist_send_context</em> first arg for the send token routine</p><p><strong>Returns:</strong></p><p>GSS_S_COMPLETE on success Other GSSAPI errors on failure.</p>
<h3>OM_uint32 globus_gss_assist_accept_sec_context_async (OM_uint32 *minor_status, gss_ctx_id_t *context_handle, const gss_cred_id_tcred_handle, char **src_name_char, OM_uint32 *ret_flags, int *user_to_user_flag, void *input_buffer, size_tinput_buffer_len, void **output_bufferp, size_t *output_buffer_lenp, gss_cred_id_t *delegated_cred_handle)</h3>
<p>Accept a Security Context Without Blocking. This is a asynchronous version of the <strong>globus_gss_assist_accept_sec_context()</strong> function. Instead of looping itself it passes in and out the read and written buffers and the calling application is responsible for doing the I/O directly.</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> GSSAPI return code</p><p><em>context_handle</em> pointer to returned context.</p><p><em>cred_handle</em> the cred handle obtained by acquire_cred.</p><p><em>src_name_char</em> Pointer to char string representation of the client which contacted the server. Maybe NULL if not wanted. Should be freed when done.</p><p><em>ret_flags</em> Pointer to which services are available after the connection is established. Maybe NULL if not wanted. We will also use this to pass in flags to the Globus version of GSSAPI</p><p><em>user_to_user_flag</em> Pointer to flag to be set if the src_name is the same as our name.</p><p><em>input_buffer</em> pointer to a buffer received from peer.</p><p><em>input_buffer_len</em> length of the buffer input_buffer.</p><p><em>output_bufferp</em> pointer to a pointer which will be filled in with a pointer to a allocated block of memory. If non-NULL the contents of this block should be written to the peer where they will be fed into the <strong>globus_gss_assist_init_sec_context_async()</strong> function.</p><p><em>output_buffer_lenp</em> pointer to an integer which will be filled in with the length of the allocated output buffer pointed to by *output_bufferp.</p><p><em>delegated_cred_handle</em> pointer to be set to the credential delegated by the client if delegation occurs during the security handshake</p><p><strong>Returns:</strong></p><p>GSS_S_COMPLETE on successful completion when this function does not need to be called again.</p><p>GSS_S_CONTINUE_NEEDED when *output_bufferp should be sent to the peer and a new input_buffer read and this function called again.</p><p>Other GSSAPI errors on failure.</p>
<h3>OM_uint32 globus_gss_assist_export_sec_context (OM_uint32 *minor_status, gss_ctx_id_t *context_handle, int *token_status, intfdp, FILE *fperr)</h3>
<p>Export the security context from a file</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> GSSAPI return code. This is a Globus Error code (or GLOBUS_SUCCESS) cast to a OM_uint32 pointer. If an error has occurred, the resulting error (from calling globus_error_get on this variable) needs to be freed by the caller</p><p><em>context_handle</em> The context to export</p><p><em>token_status</em> Errors that occurred while reading from the file</p><p><em>fdp</em> the file descriptor pointing to a file containing the security context</p><p><em>fperr</em> FILE * to write error messages</p><p><strong>Returns:</strong></p><p>the major status</p>
<h3>OM_uint32 globus_gss_assist_get_unwrap (OM_uint32 *minor_status, const gss_ctx_id_tcontext_handle, char **data, size_t *length, int *token_status, int(*)(void *, void **, size_t *)gss_assist_get_token, void *gss_assist_get_context, FILE *fperr)</h3>
<p>Get Unwrap. Gets a token using the specific tokenizing functions, and performs the GSS unwrap of that token</p><p><strong>See also:</strong></p><p>gss_unwrap</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> GSSAPI return code,</p><p><strong>See also:</strong></p><p>gss_unwrap</p><p><strong>Parameters:</strong></p><p><em>context_handle</em> the context</p><p><em>data</em> pointer to be set to the unwrapped application data. This must be freed by the caller.</p><p><em>length</em> pointer to be set to the length of the <em>data</em> byte array.</p><p><em>token_status</em> assist routine get/send token status</p><p><em>gss_assist_get_token</em> a detokenizing routine</p><p><em>gss_assist_get_context</em> first arg for above routine</p><p><em>fperr</em> error stream to print to</p><p><strong>Returns:</strong></p><p>GSS_S_COMPLETE on sucess Other gss errors on failure.</p>
<h3>OM_uint32 globus_gss_assist_import_sec_context (OM_uint32 *minor_status, gss_ctx_id_t *context_handle, int *token_status, intfdp, FILE *fperr)</h3>
<p>Import the security context from a file</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> GSSAPI return code. This is a Globus Error code (or GLOBUS_SUCCESS) cast to a OM_uint32 pointer. If an error has occurred, the resulting error (from calling globus_error_get on this variable) needs to be freed by the caller</p><p><em>context_handle</em> The imported context</p><p><em>token_status</em> Errors that occurred while reading from the file</p><p><em>fdp</em> the file descriptor pointing to a file containing the security context</p><p><em>fperr</em> FILE * to write error messages</p><p><strong>Returns:</strong></p><p>the major status</p>
<h3>OM_uint32 globus_gss_assist_init_sec_context (OM_uint32 *minor_status, const gss_cred_id_tcred_handle, gss_ctx_id_t *context_handle, char *target_name_char, OM_uint32req_flags, OM_uint32 *ret_flags, int *token_status, int(*)(void *, void **, size_t *)gss_assist_get_token, void *gss_assist_get_context, int(*)(void *, void *, size_t)gss_assist_send_token, void *gss_assist_send_context)</h3>
<p>Initialize a GSSAPI security connection. Used by the client. The context_handle is returned, and there is one for each connection. This routine will take cake of the looping and token processing, using the supplied get_token and send_token routines.</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> GSSAPI return code. The new minor_status is a globus_result_t cast to an OM_uint32. If the call was successful, the minor status is equivalent to GLOBUS_SUCCESS. Otherwise, it is a globus error object ID that can be passed to globus_error_get to get the error object. The error object needs to be freed with globus_object_free.</p><p><em>cred_handle</em> the cred handle obtained by acquire_cred.</p><p><em>context_handle</em> pointer to returned context.</p><p><em>target_name_char</em> char string representation of the server to be contacted.</p><p><em>req_flags</em> request flags, such as GSS_C_DELEG_FLAG for delegation and the GSS_C_MUTUAL_FLAG for mutual authentication.</p><p><em>ret_flags</em> Pointer to which services are available after the connection is established. Maybe NULL if not wanted.</p><p>The following are particular to this assist routine:</p><p><strong>Parameters:</strong></p><p><em>token_status</em> the assist routine's get/send token status</p><p><em>gss_assist_get_token</em> function pointer for getting the token</p><p><em>gss_assist_get_context</em> first argument passed to the gss_assist_get_token function</p><p><em>gss_assist_send_token</em> function pointer for setting the token</p><p><em>gss_assist_send_context</em> first argument passed to the gss_assist_set_token function pointer</p><p><strong>Returns:</strong></p><p>The major status</p>
<h3>OM_uint32 globus_gss_assist_init_sec_context_async (OM_uint32 *minor_status, const gss_cred_id_tcred_handle, gss_ctx_id_t *context_handle, char *target_name_char, OM_uint32req_flags, OM_uint32 *ret_flags, void *input_buffer, size_tinput_buffer_len, void **output_bufferp, size_t *output_buffer_lenp)</h3>
<p>This is a asynchronous version of the <strong>globus_gss_assist_init_sec_context()</strong> function. Instead of looping itself it passes in and out the read and written buffers and the calling application is responsible for doing the I/O directly.</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> GSSAPI return code. The new minor status is a globus_result_t cast to a OM_uint32. If an error occurred (GSS_ERROR(major_status)) the minor_status is a globus error object id. The error object can be obtained via globus_error_get and should be destroyed with globus_object_free when no longer needed. If no error occurred, the minor status is equal to GLOBUS_SUCCESS.</p><p><em>cred_handle</em> the cred handle obtained by acquire_cred.</p><p><em>context_handle</em> pointer to returned context.</p><p><em>target_name_char</em> char string representation of the server to be contacted.</p><p><em>req_flags</em> request flags, such as GSS_C_DELEG_FLAG for delegation and the GSS_C_MUTUAL_FLAG for mutual authentication.</p><p><em>ret_flags</em> Pointer to which services are available after the connection is established. Maybe NULL if not wanted.</p><p><em>input_buffer</em> pointer to a buffer received from peer. Should be NULL on first call.</p><p><em>input_buffer_len</em> length of the buffer input_buffer. Should be zero on first call.</p><p><em>output_bufferp</em> pointer to a pointer which will be filled in with a pointer to a allocated block of memory. If non-NULL the contents of this block should be written to the peer where they will be fed into the gss_assist_init_sec_context_async() function.</p><p><em>output_buffer_lenp</em> pointer to an integer which will be filled in with the length of the allocated output buffer pointed to by *output_bufferp.</p><p><strong>Returns:</strong></p><p>GSS_S_COMPLETE on successful completion when this function does not need to be called again.</p><p>GSS_S_CONTINUE_NEEDED when *output_bufferp should be sent to the peer and a new input_buffer read and this function called again.</p><p>Other gss errors on failure.</p>
<h3>OM_uint32 globus_gss_assist_will_handle_restrictions (OM_uint32 *minor_status, gss_ctx_id_t *context_handle)</h3>
<p>Sets the context to handle restrictions</p><p><strong>Parameters:</strong></p><p><em>minor_status</em> the resulting minor status from setting the context handle</p><p><em>context_handle</em> the context handle to set the minor status of</p><p><strong>Returns:</strong></p><p>the major status from setting the context</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for globus_gss_assist from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="globus_gss_assist_export_sec_context.3.html"><span aria-hidden="true">&larr;</span> globus_gss_assist_export_sec_context.3: Security context creation and use.</a></li>
   <li class="next"><a href="globus_gss_assist_gridmap.3.html">globus_gss_assist_gridmap.3: Gridmap authorization and local user mapping. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
