<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sd_journal_printv: Submit log entries to the journal</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Submit log entries to the journal">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sd_journal_printv (3) manual">
  <meta name="twitter:description" content="Submit log entries to the journal">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsystemd-dev-sd_journal_printv-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/sd_journal_printv.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sd_journal_printv (3) manual" />
  <meta property="og:description" content="Submit log entries to the journal" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsystemd-dev-sd_journal_printv-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sd_journal_printv<small> (3)</small></h1>
        <p class="lead">Submit log entries to the journal</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_journal_printv.3.html">
      <span itemprop="name">sd_journal_printv: Submit log entries to the journal</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsystemd-dev/">
      <span itemprop="name">libsystemd-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_journal_printv.3.html">
      <span itemprop="name">sd_journal_printv: Submit log entries to the journal</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;systemd/sd-journal.h&gt;
</pre>
<p><strong>int sd_journal_print(int&nbsp;</strong><em>priority</em><strong>, const&nbsp;char&nbsp;*</strong><em>format</em><strong>, ...);</strong> <strong>int sd_journal_printv(int&nbsp;</strong><em>priority</em><strong>, const&nbsp;char&nbsp;*</strong><em>format</em><strong>, va_list&nbsp;</strong><em>ap</em><strong>);</strong> <strong>int sd_journal_send(const&nbsp;char&nbsp;*</strong><em>format</em><strong>, ...);</strong> <strong>int sd_journal_sendv(const&nbsp;struct&nbsp;iovec&nbsp;*</strong><em>iov</em><strong>, int&nbsp;</strong><em>n</em><strong>);</strong> <strong>int sd_journal_perror(const&nbsp;char&nbsp;*</strong><em>message</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sd_journal_print()</strong> may be used to submit simple, plain text log entries to the system journal. The first argument is a priority value. This is followed by a format string and its parameters, similar to <a href="../man3/printf.3.html"><strong>printf</strong>(3)</a> or <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>. The priority value is one of <strong>LOG_EMERG</strong>, <strong>LOG_ALERT</strong>, <strong>LOG_CRIT</strong>, <strong>LOG_ERR</strong>, <strong>LOG_WARNING</strong>, <strong>LOG_NOTICE</strong>, <strong>LOG_INFO</strong>, <strong>LOG_DEBUG</strong>, as defined in syslog.h, see <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> for details. It is recommended to use this call to submit log messages in the application locale or system locale and in UTF-8 format, but no such restrictions are enforced.</p><p><strong>sd_journal_printv()</strong> is similar to <strong>sd_journal_print()</strong> but takes a variable argument list encapsulated in an object of type <em>va_list</em> (see <a href="../man3/stdarg.3.html"><strong>stdarg</strong>(3)</a> for more information) instead of the format string. It is otherwise equivalent in behavior.</p><p><strong>sd_journal_send()</strong> may be used to submit structured log entries to the system journal. It takes a series of format strings, each immediately followed by their associated parameters, terminated by <strong>NULL</strong>. The strings passed should be of the format "VARIABLE=value". The variable name must be in uppercase and consist only of characters, numbers and underscores, and may not begin with an underscore. (All assignments that do not follow this syntax will be ignored.) The value can be of any size and format. It is highly recommended to submit text strings formatted in the UTF-8 character encoding only, and submit binary fields only when formatting in UTF-8 strings is not sensible. A number of well known fields are defined, see <a href="../man7/systemd.journal-fields.7.html"><strong>systemd.journal-fields</strong>(7)</a> for details, but additional application defined fields may be used. A variable may be assigned more than one value per entry.</p><p><strong>sd_journal_sendv()</strong> is similar to <strong>sd_journal_send()</strong> but takes an array of <em>struct iovec</em> (as defined in uio.h, see <strong>readv</strong>(3) for details) instead of the format string. Each structure should reference one field of the entry to submit. The second argument specifies the number of structures in the array. <strong>sd_journal_sendv()</strong> is particularly useful to submit binary objects to the journal where that is necessary.</p><p><strong>sd_journal_perror()</strong> is a similar to <a href="../man3/perror.3.html"><strong>perror</strong>(3)</a> and writes a message to the journal that consists of the passed string, suffixed with ": " and a human readable representation of the current error code stored in <a href="../man3/errno.3.html"><strong>errno</strong>(3)</a>. If the message string is passed as <strong>NULL</strong> or empty string, only the error string representation will be written, prefixed with nothing. An additional journal field ERRNO= is included in the entry containing the numeric error code formatted as decimal string. The log priority used is <strong>LOG_ERR</strong> (3).</p><p>Note that <strong>sd_journal_send()</strong> is a wrapper around <strong>sd_journal_sendv()</strong> to make it easier to use when only text strings shall be submitted. Also, the following two calls are mostly equivalent:</p>
<pre>
sd_journal_print(LOG_INFO, "Hello World, this is PID %lu!", (unsigned long) getpid());

sd_journal_send("MESSAGE=Hello World, this is PID %lu!", (unsigned long) getpid(),
                "PRIORITY=%i", LOG_INFO,
                NULL);
</pre>
<p>Note that these calls implicitly add fields for the source file, function name and code line where invoked. This is implemented with macros. If this is not desired, it can be turned off by defining SD_JOURNAL_SUPPRESS_LOCATION before including sd-journal.h.</p><p><a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> and <strong>sd_journal_print()</strong> may largely be used interchangeably functionality-wise. However, note that log messages logged via the former take a different path to the journal server than the later, and hence global chronological ordering between the two streams cannot be guaranteed. Using <strong>sd_journal_print()</strong> has the benefit of logging source code line, filenames, and functions as metadata along all entries, and guaranteeing chronological ordering with structured log entries that are generated via <strong>sd_journal_send()</strong>. Using <strong>syslog()</strong> has the benefit of being more portable.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>The four calls return 0 on success or a negative errno-style error code. The <a href="../man3/errno.3.html"><strong>errno</strong>(3)</a> variable itself is not altered.</p><p>If <a href="../man8/systemd-journald.8.html"><strong>systemd-journald</strong>(8)</a> is not running (the socket is not present), those functions do nothing, and also return 0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ASYNC SIGNAL SAFETY</h2>
        <div class="sectioncontent">
<p><strong>sd_journal_sendv()</strong> is "async signal safe" in the meaning of <a href="../man7/signal.7.html"><strong>signal</strong>(7)</a>.</p><p><strong>sd_journal_print</strong>, <strong>sd_journal_printv</strong>, <strong>sd_journal_send</strong>, and <strong>sd_journal_perror</strong> are not async signal safe.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The <strong>sd_journal_print()</strong>, <strong>sd_journal_printv()</strong>, <strong>sd_journal_send()</strong> and <strong>sd_journal_sendv()</strong> interfaces are available as a shared library, which can be compiled and linked to with the <strong>libsystemd</strong>&nbsp;<a href="../man1/pkg-config.1.html"><strong>pkg-config</strong>(1)</a> file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sd_journal_printv&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a>, <a href="../man3/sd-journal.3.html"><strong>sd-journal</strong>(3)</a>, <a href="../man3/sd_journal_stream_fd.3.html"><strong>sd_journal_stream_fd</strong>(3)</a>, <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>, <a href="../man3/perror.3.html"><strong>perror</strong>(3)</a>, <a href="../man3/errno.3.html"><strong>errno</strong>(3)</a>, <a href="../man7/systemd.journal-fields.7.html"><strong>systemd.journal-fields</strong>(7)</a>, <a href="../man7/signal.7.html"><strong>signal</strong>(7)</a>, <a href="../man7/socket.7.html"><strong>socket</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sd_journal_print.3.html"><span aria-hidden="true">&larr;</span> sd_journal_print.3: Submit log entries to the journal</a></li>
   <li class="next"><a href="sd_journal_process.3.html">sd_journal_process.3: Journal change notification interface <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
