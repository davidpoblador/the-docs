<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sk_new_session: Create a new snmpsession</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a new snmpsession">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sk_new_session (3) manual">
  <meta name="twitter:description" content="Create a new snmpsession">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsnmpkit-dev-sk_new_session-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/sk_new_session.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sk_new_session (3) manual" />
  <meta property="og:description" content="Create a new snmpsession" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsnmpkit-dev-sk_new_session-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sk_new_session<small> (3)</small></h1>
        <p class="lead">Create a new snmpsession</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sk_new_session.3.html">
      <span itemprop="name">sk_new_session: Create a new snmpsession</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsnmpkit-dev/">
      <span itemprop="name">libsnmpkit-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sk_new_session.3.html">
      <span itemprop="name">sk_new_session: Create a new snmpsession</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;snmpkit.h&gt;</strong></p><p><strong>SNMPSESSION *sk_new_session(char *</strong><em>host</em><strong>, void *(</strong><em>start_routine</em><strong>)(SNMPSESSION*), const char *</strong><em>community</em><strong>);</strong></p><p><strong>SNMPSESSION **sk_new_sessions(char *</strong><em>hostspec</em><strong>,const char *</strong><em>community</em><strong>,void *(</strong><em>start_routine</em><strong>)(SNMPSESSION*));</strong></p><p><strong>SNMPSESSION **sk_new_sessions_multi(char **</strong><em>hostspecs</em><strong>, const char *</strong><em>community</em><strong>, void *(</strong><em>start_routine</em><strong>)(SNMPSESSION*));</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>An <strong>SNMP_session</strong> instance is an object that handles the details of communicating an SNMP enabled device such as a printer or a router.</p><p>There are three versions of sk_new_sessions. They two of the parmeters are identical. The first one varies between the different versions of the function.</p><p>A SNMP community string acts as a password.  Normally there are two strings set for an SNMP enabled device.  One will allow the user write access to settings via SNMP commands and the second password will only allow for read access to device settings.</p><p>You must also provide a pointer to the start_routine function.  The start_routine() is the function used to actually do the work of communicating with the network device. In other words, this function is called when the thread handling this particular device is activated. In other words, this function actually loads up the packets with the SNMP objects and then makes the requsts. Each SNMPSESSION has its own thread and once the thread is created. When the start_function function is called, it is passed the SNMPSESSION pointer as a paramter.</p><p>The first parameter varies between the functions. In the case of sk_new_session it is simply a hostname in a format understood by <a href="../man3/gethostbyname.3.html"><strong>gethostbyname</strong>(3)</a></strong>. In the case of sk_new_sessions, instead of a simple hostname a hostspec is passed in. A hostspec can be a simple hostname but it can also be an IP address range in the form of 192.168.0.1-5 or an IP address and a subnet mask in the form of either 192.168.0.0/255.255.255.0 or 192.168.0.0/24. A hostspec may also include a community name by enclosing that in parenthesis like 192.168.0.1(public).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>Upon successful completion sk_new_session returns a pointer to a SNMPSESSION. sk_new_sessions and sk_new_sessions_multi both return a null terminated array of SNMPSESSION pointers. Otherwise NULL is returned and sk_errno is set to indicate the error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>SK_MEM_FAIL</strong></p>
  </dt>
  <dd>
    <p>Memory allocation failed.</p>
  </dd>
  <dt>
    <p><strong>SK_BAD_PROTO</strong></p>
  </dt>
  <dd>
    <p>UDP protocol is not supported. See <a href="../man3/getprotobyname.3.html"><strong>getprotobyname</strong>(3)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong>SK_SOCKET_FAIL</strong></p>
  </dt>
  <dd>
    <p>Can't create socket. See <a href="../man2/socket.2.html"><strong>socket</strong>(2)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong>SK_RECEIVER_FAIL</strong></p>
  </dt>
  <dd>
    <p>Can't create a thread to receive packets. Sets errno. See <a href="../man3/pthread_create.3.html"><strong>pthread_create</strong>(3)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong>SK_HOSTNOTFOUND</strong></p>
  </dt>
  <dd>
    <p>Host not found. Sets h_errno. See <a href="../man3/gethostbyname.3.html"><strong>gethostbyname</strong>(3)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong>SK_REAPER_FAIL</strong></p>
  </dt>
  <dd>
    <p>Can't create a thread to reap spent threads. Sets errno. See <a href="../man3/pthread_create.3.html"><strong>pthread_create</strong>(3)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong>SK_WORKER_FAIL</strong></p>
  </dt>
  <dd>
    <p>Can't create worker thread. Sets errno. See <a href="../man3/pthread_create.3.html"><strong>pthread_create</strong>(3)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong>SK_UNTERM_HOSPEC</strong></p>
  </dt>
  <dd>
    <p>Community in hostspec doesn't have ending parenthesis.</p>
  </dd>
  <dt>
    <p><strong>SK_OCTET_OVERFLOW</strong></p>
  </dt>
  <dd>
    <p>One of the octets in hostspec is greater than 255.</p>
  </dd>
  <dt>
    <p><strong>SK_BAD_NETMASK</strong></p>
  </dt>
  <dd>
    <p>Subnet mask wasn't in a understood form.</p>
  </dd>
  <dt>
    <p><strong>SK_NETMASK_OVERFLOW</strong></p>
  </dt>
  <dd>
    <p>Number of bits in subnet mask is too large.</p>
  </dd>
  <dt>
    <p><strong>SK_DIS_NETMASK</strong></p>
  </dt>
  <dd>
    <p>Subnet mask had discontinious bits.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sk_new_session&hellip;</h2>
        <div class="sectioncontent">
<p><strong>sk_strerror</strong>(3), <strong>sk_snmpsessions_done</strong>(3), <strong>sk_new_sfiller</strong>(3), <strong>sk_new_snmptable</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sisnan.f.3.html"><span aria-hidden="true">&larr;</span> sisnan.f.3: Sisnan.f -</a></li>
   <li class="next"><a href="skipDelete.3.html">skipDelete.3: Delete an item. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
