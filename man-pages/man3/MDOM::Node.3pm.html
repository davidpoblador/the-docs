<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MDOM::Node: Abstract mdom node class, an element that can contain other elements</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Abstract mdom node class, an element that can contain other elements">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="MDOM::Node (3pm) manual">
  <meta name="twitter:description" content="Abstract mdom node class, an element that can contain other elements">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmakefile-dom-perl-MDOM::Node-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/MDOM::Node.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MDOM::Node (3pm) manual" />
  <meta property="og:description" content="Abstract mdom node class, an element that can contain other elements" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmakefile-dom-perl-MDOM::Node-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">MDOM::Node<small> (3pm)</small></h1>
        <p class="lead">Abstract mdom node class, an element that can contain other elements</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MDOM::Node.3pm.html">
      <span itemprop="name">MDOM::Node: Abstract mdom node class, an element that can contain other elements</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmakefile-dom-perl/">
      <span itemprop="name">libmakefile-dom-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MDOM::Node.3pm.html">
      <span itemprop="name">MDOM::Node: Abstract mdom node class, an element that can contain other elements</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">INHERITANCE</h2>
        <div class="sectioncontent">

<pre>
  MDOM::Node
  isa MDOM::Element
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>  # Create a typical node (a Document in this case)   my $Node = MDOM::Document-&gt;new;</p><p>  # Add an element to the node( in this case, a token )   my $Token = MDOM::Token::Word-&gt;new(&apos;my&apos;);   $Node-&gt;add_element( $Token );</p><p>  # Get the elements for the Node   my @elements = $Node-&gt;children;</p><p>  # Find all the barewords within a Node   my $barewords = $Node-&gt;find( &apos;MDOM::Token::Word&apos; );</p><p>  # Find by more complex criteria   my $my_tokens = $Node-&gt;find( sub { $_[1]-&gt;content eq &apos;my&apos; } );</p><p>  # Remove all the whitespace   $Node-&gt;prune( &apos;MDOM::Token::Whitespace&apos; );</p><p>  # Remove by more complex criteria   $Node-&gt;prune( sub { $_[1]-&gt;content eq &apos;my&apos; } );</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The \*(C`MDOM::Node\*(C' class provides an abstract base class for the Element classes that are able to contain other elements MDOM::Document, MDOM::Statement, and MDOM::Structure.</p><p>As well as those listed below, all of the methods that apply to MDOM::Element objects also apply to \*(C`MDOM::Node\*(C' objects.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>scope</h3>
<p>The \*(C`scope\*(C' method returns true if the node represents a lexical scope boundary, or false if it does not. The \*(C`add_element\*(C' method adds a MDOM::Element object to the end of a \*(C`MDOM::Node\*(C'. Because Elements maintain links to their parent, an Element can only be added to a single Node.</p><p>Returns true if the MDOM::Element was added. Returns \*(C`undef\*(C' if the Element was already within another Node, or the method is not passed a MDOM::Element object.</p>
<h3>elements</h3>
<p>The \*(C`elements\*(C' method accesses all child elements <strong>structurally</strong> within the \*(C`MDOM::Node\*(C' object. Note that in the base of the MDOM::Structure classes, this \*(C`DOES\*(C' include the brace tokens at either end of the structure.</p><p>Returns a list of zero or more MDOM::Element objects.</p><p>Alternatively, if called in the scalar context, the \*(C`elements\*(C' method returns a count of the number of elements.</p>
<h3>first_element</h3>
<p>The \*(C`first_element\*(C' method accesses the first element structurally within the \*(C`MDOM::Node\*(C' object. As for the \*(C`elements\*(C' method, this does include the brace tokens for MDOM::Structure objects.</p><p>Returns a MDOM::Element object, or \*(C`undef\*(C' if for some reason the \*(C`MDOM::Node\*(C' object does not contain any elements.</p>
<h3>last_element</h3>
<p>The \*(C`last_element\*(C' method accesses the last element structurally within the \*(C`MDOM::Node\*(C' object. As for the \*(C`elements\*(C' method, this does include the brace tokens for MDOM::Structure objects.</p><p>Returns a MDOM::Element object, or \*(C`undef\*(C' if for some reason the \*(C`MDOM::Node\*(C' object does not contain any elements.</p>
<h3>children</h3>
<p>The \*(C`children\*(C' method accesses all child elements lexically within the \*(C`MDOM::Node\*(C' object. Note that in the case of the MDOM::Structure classes, this does <strong>\s-1NOT\s0</strong> include the brace tokens at either end of the structure.</p><p>Returns a list of zero of more MDOM::Element objects.</p><p>Alternatively, if called in the scalar context, the \*(C`children\*(C' method returns a count of the number of lexical children.</p>
<h3>schildren</h3>
<p>The \*(C`schildren\*(C' method is really just a convenience, the significant-only variation of the normal \*(C`children\*(C' method.</p><p>In list context, returns a list of significant children. In scalar context, returns the number of significant children. The \*(C`child\*(C' method accesses a child MDOM::Element object by its position within the Node.</p><p>Returns a MDOM::Element object, or \*(C`undef\*(C' if there is no child element at that node. The lexical structure of the Perl language ignores 'insignificant' items, such as whitespace and comments, while \s-1MDOM\s0 treats these items as valid tokens so that it can reassemble the file at any time. Because of this, in many situations there is a need to find an Element within a Node by index, only counting lexically significant Elements.</p><p>The \*(C`schild\*(C' method returns a child Element by index, ignoring insignificant Elements. The index of a child Element is specified in the same way as for a normal array, with the first Element at index 0, and negative indexes used to identify a \*(L"from the end\*(R" position. The \*(C`contains\*(C' method is used to determine if another MDOM::Element object is logically \*(L"within\*(R" a \*(C`MDOM::Node\*(C'. For the special case of the brace tokens at either side of a MDOM::Structure object, they are generally considered \*(L"within\*(R" a MDOM::Structure object, even if they are not actually in the elements for the MDOM::Structure.</p><p>Returns true if the MDOM::Element is within us, false if not, or \*(C`undef\*(C' on error. The \*(C`find\*(C' method is used to search within a code tree for MDOM::Element objects that meet a particular condition.</p><p>To specify the condition, the method can be provided with either a simple class name (full or shortened), or a \*(C`CODE\*(C'/function reference.</p><p>  # Find all single quotes in a Document (which is a Node)   $Document-&gt;find(&apos;MDOM::Quote::Single&apos;);</p><p>  # The same thing with a shortened class name   $Document-&gt;find(&apos;Quote::Single&apos;);</p><p>  # Anything more elaborate, we so with the sub   $Document-&gt;find( sub {         # At the top level of the file...         $_[1]-&gt;parent == $_[0]         and (                 # ...find all comments and POD                 $_[1]-&gt;isa(&apos;MDOM::Token::Pod&apos;)                 or                 $_[1]-&gt;isa(&apos;MDOM::Token::Comment&apos;)         )   } );</p><p>The function will be passed two arguments, the top-level \*(C`MDOM::Node\*(C' you are searching in and the current MDOM::Element that the condition is testing.</p><p>The anonymous function should return one of three values. Returning true indicates a condition match, defined-false (0 or &apos;&apos;) indicates no-match, and \*(C`undef\*(C' indicates no-match and no-descend.</p><p>In the last case, the tree walker will skip over anything below the \*(C`undef\*(C'-returning element and move on to the next element at the same level.</p><p>To halt the entire search and return \*(C`undef\*(C' immediately, a condition function should throw an exception (i.e. \*(C`die\*(C').</p><p>Note that this same wanted logic is used for all methods documented to have a \*(C`&#92;&wanted\*(C' parameter, as this one does.</p><p>The \*(C`find\*(C' method returns a reference to an array of MDOM::Element objects that match the condition, false (but defined) if no Elements match the condition, or \*(C`undef\*(C' if you provide a bad condition, or an error occurs during the search process.</p><p>In the case of a bad condition, a warning will be emitted as well. If the normal \*(C`find\*(C' method is like a grep, then \*(C`find_first\*(C' is equivalent to the Scalar::Util \*(C`first\*(C' function.</p><p>Given an element class or a wanted function, it will search depth-first through a tree until it finds something that matches the condition, returning the first Element that it encounters.</p><p>See the \*(C`find\*(C' method for details on the format of the search condition.</p><p>Returns the first MDOM::Element object that matches the condition, false if nothing matches the condition, or \*(C`undef\*(C' if given an invalid condition, or an error occurs. The \*(C`find_any\*(C' method is a short-circuiting true/false method that behaves like the normal \*(C`find\*(C' method, but returns true as soon as it finds any Elements that match the search condition.</p><p>See the \*(C`find\*(C' method for details on the format of the search condition.</p><p>Returns true if any Elements that match the condition can be found, false if not, or \*(C`undef\*(C' if given an invalid condition, or an error occurs. If passed a MDOM::Element object that is a direct child of the Node, the \*(C`remove_element\*(C' method will remove the \*(C`Element\*(C' intact, along with any of its children. As such, this method acts essentially as a 'cut' function.</p>
<h3>source</h3>
<p>Returns the makefile source for the current node The \*(C`prune\*(C' method is used to strip MDOM::Element objects out of a code tree. The argument is the same as for the \*(C`find\*(C' method, either a class name, or an anonymous subroutine which returns true/false. Any Element that matches the class|wanted will be deleted from the code tree, along with any of its children.</p><p>The \*(C`prune\*(C' method returns the number of \*(C`Element\*(C' objects that matched and were removed, <strong>non-recursively</strong>. This might also be zero, so avoid a simple true/false test on the return false of the \*(C`prune\*(C' method. It returns \*(C`undef\*(C' on error, which you probably <strong>should</strong> test for.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO DO</h2>
        <div class="sectioncontent">
<p>- Move as much as possible to \s-1MDOM::XS\s0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>See the support section in the main module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Adam Kennedy &lt;adamk@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2001 - 2006 Adam Kennedy.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>The full text of the license can be found in the \s-1LICENSE\s0 file included with this module.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="MDOM::Element.3pm.html"><span aria-hidden="true">&larr;</span> MDOM::Element.3pm: The abstract element class, a base for all source objects</a></li>
   <li class="next"><a href="MDOM::Token.3pm.html">MDOM::Token.3pm: A single token of makefile source code <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
