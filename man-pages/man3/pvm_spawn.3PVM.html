<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pvm_spawn: Starts new pvm processes.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Starts new pvm processes.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pvm_spawn (3PVM) manual">
  <meta name="twitter:description" content="Starts new pvm processes.">
  <meta name="twitter:image" content="https://www.carta.tech/images/pvm-dev-pvm_spawn-3PVM.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3PVM/pvm_spawn.3PVM.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pvm_spawn (3PVM) manual" />
  <meta property="og:description" content="Starts new pvm processes." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pvm-dev-pvm_spawn-3PVM.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pvm_spawn<small> (3PVM)</small></h1>
        <p class="lead">Starts new pvm processes.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3PVM/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3PVM/pvm_spawn.3PVM.html">
      <span itemprop="name">pvm_spawn: Starts new pvm processes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pvm-dev/">
      <span itemprop="name">pvm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3PVM/pvm_spawn.3PVM.html">
      <span itemprop="name">pvm_spawn: Starts new pvm processes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
C	int numt = pvm_spawn( char *task, char **argv, int flag,
char *where, int ntask, int *tids )


Fortran	call pvmfspawn( task, flag, where, ntask, tids, numt )
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    task
  </dt>
  <dd>
    <p>Character string which is the executable file name of the PVM process to be started. The executable must already reside on the host on which it is to be started. The name may be a file in the PVM search path or an absolute path. The default PVM search path is $HOME/pvm3/bin/$PVM_ARCH/ .</p>
  </dd>
  <dt>
    argv
  </dt>
  <dd>
    <p>Pointer to an array of arguments to the executable (if supported on the target machine), not including the executable name, with the end of the array specified by NULL. argv[0] of the spawned task is set to the executable path relative to the PVM working directory (or absolute if an absolute filename was specified). If the executable needs no arguments, then the second argument to pvm_spawn is NULL.</p>
  </dd>
  <dt>
    flag
  </dt>
  <dd>
    <p>Integer specifying spawn options.</p>
<pre>
In C, <em>flag</em> should be the <em>sum</em> of:
	Option value		MEANING
	PvmTaskDefault	0	PVM can choose any machine to start task
	PvmTaskHost	1	<em>where</em> specifies a particular host
	PvmTaskArch	2	<em>where</em> specifies a type of architecture
	PvmTaskDebug	4	Start up processes under debugger
	PvmTaskTrace	8	Processes will generate PVM trace data. *
	PvmMppFront	16	Start process on MPP front-end.
	PvmHostCompl	32	Use complement host set

In Fortran, <em>flag</em> should be the <em>sum</em> of:
	Option value		MEANING
	PVMDEFAULT	0	PVM can choose any machine to start task
	PVMHOST	1	<em>where</em> specifies a particular host
	PVMARCH	2	<em>where</em> specifies a type of architecture
	PVMDEBUG	4	Start up processes under debugger
	PVMTRACE	8	Processes will generate PVM trace data. *

* future extension

</pre>

  </dd>
  <dt>
    where
  </dt>
  <dd>
    <p>Character string specifying where to start the PVM process. Depending on the value of <em>flag,</em> <em>where</em> can be a host name such as "ibm1.epm.ornl.gov" or a PVM architecture class such as "SUN4". Also, the host name "." is taken as the localhost. If <em>flag</em> is 0, then <em>where</em> is ignored when determining the target host or architecture, and PVM will select the most appropriate host.</p><p>The <em>where</em> argument can also be used to specify a custom working directory for each given spawn command.  This is done by appending a ':' and the desired working directory path to the <em>where</em> string, i.e.:</p><p>"ibm1.epm.ornl.gov:/home/user/project/foo"</p><p>PVM will temporarily change the working directory to spawn the given task(s), and will then reset to the default working directory after the spawn is executed.  This option need not be used in conjunction with either the <em>PvmTaskHost</em> or <em>PvmTaskArch</em> flags, as the working directory path is stripped off prior to parsing any host or architecture name.  A valid specification for <em>where</em> is therefore:</p><p>":/home/user/project/foo"</p><p>The working directory can be either an absolute path name or can be relative to the current default working directory.</p>
  </dd>
  <dt>
    ntask
  </dt>
  <dd>
    <p>Integer specifying the number of copies of the executable to start.</p>
  </dd>
  <dt>
    tids
  </dt>
  <dd>
    <p>Integer array of length <em>ntask</em> returning the tids of the PVM processes started by this pvm_spawn call.</p>
  </dd>
  <dt>
    numt
  </dt>
  <dd>
    <p>Integer returning the actual number of tasks started. Values less than zero indicate a system error. A positive value less than <em>ntask</em> indicates a partial failure. In this case the user should check the <em>tids</em> array for the error code(s).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The routine <em>pvm_spawn</em> starts <em>ntask</em> copies of the executable named <em>task.</em> On systems that support environment, spawn passes selected variables from parent environment to children tasks. If set, the envar <em>PVM_EXPORT</em> is passed. If PVM_EXPORT contains other names (separated by ':') they will be passed too.  This is useful for e.g.:</p>
<pre>
	setenv DISPLAY myworkstation:0.0
	setenv MYSTERYVAR 13
	setenv PVM_EXPORT DISPLAY:MYSTERYVAR
</pre>
<p>The hosts on which the PVM processes are started are determined by the <em>flag</em> and <em>where</em> arguments. On return the array <em>tids</em> contains the PVM task identifiers for each process started.</p><p>If pvm_spawn starts one or more tasks, <em>numt</em> will be the actual number of tasks started. If a system error occurs then <em>numt</em> will be &lt; 0. If <em>numt</em> is less than <em>ntask</em> then some executables have failed to start and the user should check the last <em>ntask -</em> <em>numt</em> locations in the <em>tids</em> array which will contain error codes (see below for meaning). The first <em>numt</em> tids in the array are always valid.</p><p>When <em>flag</em> is set to 0 and <em>where</em> is set to NULL (or "*" in Fortran) a heuristic (round-robin assignment) is used to distribute the <em>ntask</em> processes across the virtual machine.</p><p>If the PvmHostCompl flag is set, the resulting host set gets complemented. Given that the TaskHost host name "." is taken as localhost, these can be used together, for example, to request n - 1 tasks on host "." but with flags TaskHost|HostCompl to spawn n - 1 tasks on hosts other than the localhost.</p><p>In the special case where a multiprocessor is specified by <em>where,</em> pvm_spawn will start all <em>ntask</em> copies on this single machine using the vendor's underlying routines.</p><p>The spawned task will have <em>argv[0]</em> set to the the executable path relative to its inherited working directory (or possibly an absolute path), so the base filename can be got by using:</p><p>	char *p;</p><p>	p = (p = rindex(argv[0], '/')) ? p + 1 : argv[0];</p><p>If PvmTaskDebug is set, then the pvmd will start the task(s) under debugger(s). In this case, instead of executing <em>pvm3/bin/ARCH/task args</em> it executes <em>pvm3/lib/debugger pvm3/bin/ARCH/task args</em>. debugger is a shell script that the users can modify to their individual tastes. Presently the script starts an xterm with dbx or comparable debugger in it.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
C:
	numt = pvm_spawn( "host", 0, PvmTaskHost, "sparky", 1, &tid[0] );
	numt = pvm_spawn( "host", 0, (PvmTaskHost+PvmTaskDebug),
		"sparky", 1, &tid[0] );
	numt = pvm_spawn( "node", 0, PvmTaskArch, "RIOS", 1, &tid[i] );

	char *args[] = { "12", "60" , (char*)0 };
	numt = pvm_spawn( "FEM1", args, 0, 0, 16, tids );

	numt = pvm_spawn( "pde", 0, PvmTaskHost, "paragon.ornl", 512, tids );


Fortran:
	FLAG = PVMARCH + PVMDEBUG
	CALL PVMFSPAWN( 'node', FLAG, 'SUN4', 1, <strong>TID</strong>(3), NUMT )
	CALL PVMFSPAWN( 'FEM1', PVMDEFAULT, '*', 16, TIDS, NUMT )
	CALL PVMFSPAWN( 'TBMD', PVMHOST, 'cm5.utk.edu', 32, TIDS, NUMT )

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>These error conditions can be returned by <em>pvm_spawn</em> either in <em>numt</em> or in the <em>tids</em> array.</p>
<dl class='dl-vertical'>
  <dt>
    PvmBadParam
  </dt>
  <dd>
    <p>giving an invalid argument value.</p>
  </dd>
  <dt>
    PvmNoHost
  </dt>
  <dd>
    <p>Specified host is not in the virtual machine.</p>
  </dd>
  <dt>
    PvmNoFile
  </dt>
  <dd>
    <p>Specified executable cannot be found. The default location PVM looks in is ~/pvm3/bin/ARCH, where ARCH is a PVM architecture name.</p>
  </dd>
  <dt>
    PvmNoMem
  </dt>
  <dd>
    <p>Malloc failed. Not enough memory on host.</p>
  </dd>
  <dt>
    PvmSysErr
  </dt>
  <dd>
    <p>pvmd not responding.</p>
  </dd>
  <dt>
    PvmOutOfRes
  </dt>
  <dd>
    <p>out of resources.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pvm_spawn&hellip;</h2>
        <div class="sectioncontent">
<p>pvm_export(3PVM)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pvm_siblings.3PVM.html"><span aria-hidden="true">&larr;</span> pvm_siblings.3PVM: Return the number and associated task ids of processes that were started together in a single spawn call.</a></li>
   <li class="next"><a href="pvm_start_pvmd.3PVM.html">pvm_start_pvmd.3PVM: Starts new pvm daemon. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
