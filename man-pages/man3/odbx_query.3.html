<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>odbx_query: Send a statement to the database server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Send a statement to the database server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="odbx_query (3) manual">
  <meta name="twitter:description" content="Send a statement to the database server">
  <meta name="twitter:image" content="https://www.carta.tech/images/libopendbx1-dev-odbx_query-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/odbx_query.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="odbx_query (3) manual" />
  <meta property="og:description" content="Send a statement to the database server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libopendbx1-dev-odbx_query-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">odbx_query<small> (3)</small></h1>
        <p class="lead">Send a statement to the database server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/odbx_query.3.html">
      <span itemprop="name">odbx_query: Send a statement to the database server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libopendbx1-dev/">
      <span itemprop="name">libopendbx1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/odbx_query.3.html">
      <span itemprop="name">odbx_query: Send a statement to the database server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
\*(T&lt;#include &lt;opendbx/api.h&gt;\*(T&gt;
</pre>
<p>\*(T&lt;int <strong>odbx_query</strong>\*(T&gt; \kx \*(T&lt;(odbx_t* <em>handle</em>, const char* <em>stmt</em>, unsigned long <em>length</em>);\*(T&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Sends the given statement to the database server associated to \*(T&lt;handle\*(T&gt; by \*(T&lt;<strong>odbx_init</strong>\*(T&gt;() for execution. The statement can contain non-displayable characters as arguments in conditions but they have to be escaped via \*(T&lt;<strong>odbx_escape</strong>\*(T&gt;() before adding them to the statement. Even more, every argument whose source is not controlled by the programmer must be escaped first to avoid SQL injection attacks to avoid serious harm!</p><p>After invoking \*(T&lt;<strong>odbx_query</strong>\*(T&gt;(), one or more result sets will be sent back by the server and are available via \*(T&lt;<strong>odbx_result</strong>\*(T&gt;(). Before these sets aren't processed by calling \*(T&lt;<strong>odbx_row_fetch</strong>\*(T&gt;(), no other queries can be sent to the database server. Otherwise, \*(T&lt;<strong>odbx_query</strong>\*(T&gt;() will return a backend error from the native database library.</p><p>The first parameter \*(T&lt;handle\*(T&gt; is the connection object created and returned by \*(T&lt;<strong>odbx_init</strong>\*(T&gt;() which becomes invalid as soon as it was supplied to \*(T&lt;<strong>odbx_finish</strong>\*(T&gt;().</p><p>The statement stored in the \*(T&lt;stmt\*(T&gt; parameter must be a valid statement understood by the receiving database server and it should be terminated by a &#92;0 character. Some backends support multiple statements per query, which can be tested by calling \*(T&lt;<strong>odbx_get_option</strong>\*(T&gt;().</p><p>The \*(T&lt;length\*(T&gt; parameter must contain the length of the statement in bytes without the terminating &#92;0 character. If variable sized character sets like UTF-8 are used, the same rule applies. This function doesn't support the wide character type (wchar_t) which uses two or four bytes per character. If you feed 0 (zero) as \*(T&lt;length\*(T&gt; parameter to the function, it will calculate the size of the statement on its own.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>\*(T&lt;<strong>odbx_query</strong>\*(T&gt;() returns \*(T&lt;ODBX_ERR_SUCCESS\*(T&gt;, or an error code whose value is less than zero if one of the operations couldn't be completed successfully. Possible error codes are listed in the error section and they can be feed to \*(T&lt;<strong>odbx_error</strong>\*(T&gt;() and \*(T&lt;<strong>odbx_error_type</strong>\*(T&gt;() to get further details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>-\*(T&lt;ODBX_ERR_BACKEND\*(T&gt;</p>
  </dt>
  <dd>
    <p>The native database library returned an error because it wasn't able to handle the statement correctly</p>
  </dd>
  <dt>
    <p>-\*(T&lt;ODBX_ERR_PARAM\*(T&gt;</p>
  </dt>
  <dd>
    <p>Either \*(T&lt;handle\*(T&gt; or \*(T&lt;stmt\*(T&gt; are NULL or \*(T&lt;handle\*(T&gt; is invalid</p>
  </dd>
  <dt>
    <p>-\*(T&lt;ODBX_ERR_NOMEM\*(T&gt;</p>
  </dt>
  <dd>
    <p>Allocating the required memory for the statement failed</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO odbx_query&hellip;</h2>
        <div class="sectioncontent">
<p>\*(T&lt;<strong>odbx_error</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_error_type</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_escape</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_result</strong>\*(T&gt;()</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="odbx_lo_write.3.html"><span aria-hidden="true">&larr;</span> odbx_lo_write.3: Writes buffer content into the large object</a></li>
   <li class="next"><a href="odbx_result.3.html">odbx_result.3: Retrieves a result set from the database server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
