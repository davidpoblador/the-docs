<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pmparsetimewindow: Parse time window command line arguments</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Parse time window command line arguments">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pmparsetimewindow (3) manual">
  <meta name="twitter:description" content="Parse time window command line arguments">
  <meta name="twitter:image" content="https://www.carta.tech/images/pcp-pmparsetimewindow-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/pmparsetimewindow.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pmparsetimewindow (3) manual" />
  <meta property="og:description" content="Parse time window command line arguments" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pcp-pmparsetimewindow-3.png" />

</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pmparsetimewindow<small> (3)</small></h1>
        <p class="lead">Parse time window command line arguments</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pmparsetimewindow.3.html">
      <span itemprop="name">pmparsetimewindow: Parse time window command line arguments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pcp/">
      <span itemprop="name">pcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pmparsetimewindow.3.html">
      <span itemprop="name">pmparsetimewindow: Parse time window command line arguments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">C SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;pcp/pmapi.h&gt;</p><p>int pmParseTimeWindow(const char *<em>swStart</em>, const&nbsp;char&nbsp;*<em>swEnd</em>, const&nbsp;char&nbsp;*<em>swAlign</em>, const&nbsp;char&nbsp;*<em>swOffset</em>, const&nbsp;struct&nbsp;timeval&nbsp;*<em>logStart</em>, const&nbsp;struct&nbsp;timeval&nbsp;*<em>logEnd</em>, struct&nbsp;timeval&nbsp;*<em>rsltStart</em>, struct&nbsp;timeval&nbsp;*<em>rsltEnd</em>, struct&nbsp;timeval&nbsp;*<em>rsltOffset</em>, char&nbsp;**<em>errMsg</em>);</p><p>cc ... -lpcp</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>pmParseTimeWindow</strong> is designed to encapsulate the interpretation of the <strong>-S</strong>, <strong>-T</strong>, <strong>-A</strong> and <strong>-O</strong> command line options used by Performance Co-Pilot (PCP) applications to define a time window of interest. The time window is defined by a start time and an end time that constrains the time interval during which the PCP application will retrieve and display performance metrics.  In the absence of the <strong>-O</strong> and <strong>-A</strong> options to specify an initial sample time origin and time alignment (see below), the PCP application will retrieve the first sample at the start of the time window.</p><p>The syntax and meaning of the various argument formats for these options is described in <a href="../man1/pcpintro.1.html"><strong>PCPIntro</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p><strong>pmParseTimeWindow</strong> expects to be called with the argument of the <strong>-S</strong> option as <strong>swStart</strong>, the argument of the <strong>-T</strong> option as <strong>swEnd</strong>, the argument of the <strong>-A</strong> option as <strong>swAlign</strong>, and the argument of the <strong>-O</strong> option as <strong>swOffset</strong>. Any or all of these parameters may be NULL to indicate that the corresponding command line option was not present.</p><p>If the application is using a set of PCP archive logs as the source of performance metrics, you also need to supply the time of the first archive log entry as <strong>logStart</strong>, and the time of the last archive log entry as <strong>logEnd</strong>. See <a href="../man3/pmgetarchivelabel.3.html"><strong>pmGetArchiveLabel</strong>(3)</a> and <a href="../man3/pmgetarchiveend.3.html"><strong>pmGetArchiveEnd</strong>(3)</a> for how to obtain values for these times.</p><p>If the application is manipulating multiple concurrent archive logs, then the caller must resolve how the default time window is to be defined (the union of the time intervals in all archive logs is a likely interpretation).</p><p>If the application is using a live feed of performance data, <strong>logStart</strong> should be the current time (but could be aligned on the next second for example), while <strong>logEnd</strong> should have its <em>tv_sec</em> component set to <strong>INT_MAX</strong>.</p><p>The <strong>rsltStart</strong>, <strong>rsltEnd</strong> and <strong>rsltOffset</strong> structures must be allocated before calling <strong>pmParseTimeWindow</strong>.</p><p>You also need to set the current PCP reporting time zone to correctly reflect the <strong>-z</strong> and <strong>-Z</strong> command line parameters before calling <strong>pmParseTimeWindow</strong>. See <a href="../man3/pmusezone.3.html"><strong>pmUseZone</strong>(3)</a> and friends for information on how this is done.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pmparsetimewindow&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/pmapi.3.html"><strong>PMAPI</strong>(3)</a>, <a href="../man3/pmgetarchiveend.3.html"><strong>pmGetArchiveEnd</strong>(3)</a>, <a href="../man3/pmgetarchivelabel.3.html"><strong>pmGetArchiveLabel</strong>(3)</a>, <a href="../man3/pmnewcontextzone.3.html"><strong>pmNewContextZone</strong>(3)</a>, <a href="../man3/pmnewzone.3.html"><strong>pmNewZone</strong>(3)</a>, <a href="../man3/pmparseinterval.3.html"><strong>pmParseInterval</strong>(3)</a> and <a href="../man3/pmusezone.3.html"><strong>pmUseZone</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>If the conversion is successful, <strong>pmParseTimeWindow</strong> returns 1 and fills in <strong>rsltStart</strong>, <strong>rsltEnd</strong> and <strong>rsltOffset</strong> with the start, end, and offset times for the time window defined by the input parameters. The <strong>errMsg</strong> parameter is not changed when <strong>pmParseTimeWindow</strong> returns 1.</p><p>If the conversion is successful, but the requested alignment could not be performed (e.g. the set of PCP archive logs is too short) the alignment is ignored, <strong>rsltStart</strong>, <strong>rsltEnd</strong> and <strong>rsltOffset</strong> are filled in and <strong>pmParseTimeWindow</strong> returns 0. In this case, <strong>errMsg</strong> will point to a warning message in an internal static buffer. This buffer should not be freed.</p><p>If the argument strings could not be parsed, <strong>pmParseTimeWindow</strong> returns -1. In this case, <strong>errMsg</strong> will point to an error message in a static internal buffer.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pmparsetime.3.html"><span aria-hidden="true">&larr;</span> pmparsetime.3: Parse time point specification</a></li>
   <li class="next"><a href="pmparseunitsstr.3.html">pmparseunitsstr.3: Parse time point specification <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
