<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tzname: Initialize time conversion information</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Initialize time conversion information">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tzname (3) manual">
  <meta name="twitter:description" content="Initialize time conversion information">
  <meta name="twitter:image" content="https://www.carta.tech/images/manpages-dev-tzname-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/tzname.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tzname (3) manual" />
  <meta property="og:description" content="Initialize time conversion information" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/manpages-dev-tzname-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tzname<small> (3)</small></h1>
        <p class="lead">Initialize time conversion information</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/tzname.3.html">
      <span itemprop="name">tzname: Initialize time conversion information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/manpages-dev/">
      <span itemprop="name">manpages-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/tzname.3.html">
      <span itemprop="name">tzname: Initialize time conversion information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;time.h&gt;</strong>

<strong>void tzset (void);</strong>

<strong>extern char *</strong><em>tzname</em><strong>[2];</strong>
<strong>extern long </strong><em>timezone</em><strong>;</strong>
<strong>extern int </strong><em>daylight</em><strong>;</strong>
</pre>
<p>Feature Test Macro Requirements for glibc (see <a href="../man7/feature_test_macros.7.html"><strong>feature_test_macros</strong>(7)</a>):</p><p><strong>tzset</strong>(): _POSIX_C_SOURCE&nbsp;&gt;=&nbsp;1 || _XOPEN_SOURCE || _POSIX_SOURCE</p><p><em>tzname</em>: _POSIX_C_SOURCE&nbsp;&gt;=&nbsp;1 || _XOPEN_SOURCE || _POSIX_SOURCE</p><p><em>timezone</em>: _SVID_SOURCE || _XOPEN_SOURCE</p><p><em>daylight</em>: _SVID_SOURCE || _XOPEN_SOURCE</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>tzset</strong>() function initializes the <em>tzname</em> variable from the <strong>TZ</strong> environment variable. This function is automatically called by the other time conversion functions that depend on the timezone. In a System-V-like environment, it will also set the variables <em>timezone</em> (seconds West of UTC) and <em>daylight</em> (to 0 if this timezone does not have any daylight saving time rules, or to nonzero if there is a time during the year when daylight saving time applies).</p><p>If the <strong>TZ</strong> variable does not appear in the environment, the <em>tzname</em> variable is initialized with the best approximation of local wall clock time, as specified by the <a href="../man5/tzfile.5.html"><strong>tzfile</strong>(5)</a>-format file <em>localtime</em> found in the system timezone directory (see below). (One also often sees <em>/etc/localtime</em> used here, a symlink to the right file in the system timezone directory.)</p><p>If the <strong>TZ</strong> variable does appear in the environment but its value is empty or its value cannot be interpreted using any of the formats specified below, Coordinated Universal Time (UTC) is used.</p><p>The value of <strong>TZ</strong> can be one of three formats. The first format is used when there is no daylight saving time in the local timezone:</p><p><em>std offset</em></p><p>The <em>std</em> string specifies the name of the timezone and must be three or more alphabetic characters. The <em>offset</em> string immediately follows <em>std</em> and specifies the time value to be added to the local time to get Coordinated Universal Time (UTC). The <em>offset</em> is positive if the local timezone is west of the Prime Meridian and negative if it is east. The hour must be between 0 and 24, and the minutes and seconds 0 and 59.</p><p>The second format is used when there is daylight saving time:</p><p><em>std offset dst [offset],start[/time],end[/time]</em></p><p>There are no spaces in the specification. The initial <em>std</em> and <em>offset</em> specify the standard timezone, as described above. The <em>dst</em> string and <em>offset</em> specify the name and offset for the corresponding daylight saving timezone. If the offset is omitted, it default to one hour ahead of standard time.</p><p>The <em>start</em> field specifies when daylight saving time goes into effect and the <em>end</em> field specifies when the change is made back to standard time. These fields may have the following formats:</p>
<dl class='dl-vertical'>
  <dt>
    <p>J<em>n</em></p>
  </dt>
  <dd>
    <p>This specifies the Julian day with <em>n</em> between 1 and 365. Leap days are not counted. In this format, February 29 can't be represented; February 28 is day 59, and March 1 is always day 60.</p>
  </dd>
  <dt>
    <p><em>n</em></p>
  </dt>
  <dd>
    <p>This specifies the zero-based Julian day with <em>n</em> between 0 and 365. February 29 is counted in leap years.</p>
  </dd>
  <dt>
    <p>M<em>m</em>.<em>w</em>.<em>d</em></p>
  </dt>
  <dd>
    <p>This specifies day <em>d</em> (0 &lt;= <em>d</em> &lt;= 6) of week <em>w</em> (1 &lt;= <em>w</em> &lt;= 5) of month <em>m</em> (1 &lt;= <em>m</em> &lt;= 12). Week 1 is the first week in which day <em>d</em> occurs and week 5 is the last week in which day <em>d</em> occurs. Day 0 is a Sunday.</p>
  </dd>

</dl>
<p>The <em>time</em> fields specify when, in the local time currently in effect, the change to the other time occurs. If omitted, the default is 02:00:00.</p><p>Here is an example for New Zealand, where the standard time (NZST) is 12 hours ahead of UTC, and daylight saving time (NZDT), 13 hours ahead of UTC, runs from the first Sunday in October to the third Sunday in March, and the changeovers happen at the default time of 02:00:00:</p>
<pre>
    TZ="NZST-12:00:00NZDT-13:00:00,M10.1.0,M3.3.0"
</pre>
<p>The third format specifies that the timezone information should be read from a file:</p><p>:[filespec]</p><p>If the file specification <em>filespec</em> is omitted, the timezone information is read from the file <em>localtime</em> in the system timezone directory, which nowadays usually is <em>/usr/share/zoneinfo</em>. This file is in <a href="../man5/tzfile.5.html"><strong>tzfile</strong>(5)</a> format. If <em>filespec</em> is given, it specifies another <a href="../man5/tzfile.5.html"><strong>tzfile</strong>(5)</a>-format file to read the timezone information from. If <em>filespec</em> does not begin with a &apos;/&apos;, the file specification is relative to the system timezone directory.</p><p>Here's an example, once more for New Zealand:</p>
<pre>
    TZ=":Pacific/Auckland"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Under glibc, the system timezone directory is determined using the <strong>TZDIR</strong> the environment variable. If <strong>TZDIR</strong> the default depends on the system setup, but is normally <em>/usr/share/zoneinfo</em>.</p><p>This timezone directory contains the files</p>
<pre>
    localtime      local timezone file
    posixrules     rules for POSIX-style TZ's
</pre>
<p>Often, <em>/etc/localtime</em> is a symbolic link to the file <em>localtime</em> or to the correct timezone file in the system timezone directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p>SVr4, POSIX.1-2001, 4.3BSD.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Note that the variable <em>daylight</em> does not indicate that daylight saving time applies right now. It used to give the number of some algorithm (see the variable <em>tz_dsttime</em> in <a href="../man2/gettimeofday.2.html"><strong>gettimeofday</strong>(2)</a>). It has been obsolete for many years but is required by SUSv2.</p><p>4.3BSD had a function <strong>char *timezone(</strong><em>zone</em><strong>, </strong><em>dst</em><strong>)</strong> that returned the name of the timezone corresponding to its first argument (minutes West of UTC). If the second argument was 0, the standard name was used, otherwise the daylight saving time version.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tzname&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/date.1.html"><strong>date</strong>(1)</a>, <a href="../man2/gettimeofday.2.html"><strong>gettimeofday</strong>(2)</a>, <a href="../man2/time.2.html"><strong>time</strong>(2)</a>, <a href="../man3/ctime.3.html"><strong>ctime</strong>(3)</a>, <a href="../man3/getenv.3.html"><strong>getenv</strong>(3)</a>, <a href="../man5/tzfile.5.html"><strong>tzfile</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COLOPHON</h2>
        <div class="sectioncontent">
<p>This page is part of release 3.74 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at http://www.kernel.org/doc/man-pages/.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="types.h.3.html"><span aria-hidden="true">&larr;</span> types.h.3: Types.h -</a></li>
   <li class="next"><a href="tzset.3.html">tzset.3: Initialize time conversion information <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
