<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sd_session_is_remote: Determine state of a specific session</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Determine state of a specific session">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sd_session_is_remote (3) manual">
  <meta name="twitter:description" content="Determine state of a specific session">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsystemd-dev-sd_session_is_remote-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/sd_session_is_remote.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sd_session_is_remote (3) manual" />
  <meta property="og:description" content="Determine state of a specific session" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsystemd-dev-sd_session_is_remote-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sd_session_is_remote<small> (3)</small></h1>
        <p class="lead">Determine state of a specific session</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_session_is_remote.3.html">
      <span itemprop="name">sd_session_is_remote: Determine state of a specific session</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsystemd-dev/">
      <span itemprop="name">libsystemd-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_session_is_remote.3.html">
      <span itemprop="name">sd_session_is_remote: Determine state of a specific session</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;systemd/sd-login.h&gt;
</pre>
<p><strong>int sd_session_is_active(const&nbsp;char&nbsp;*</strong><em>session</em><strong>);</strong> <strong>int sd_session_is_remote(const&nbsp;char&nbsp;*</strong><em>session</em><strong>);</strong> <strong>int sd_session_get_state(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>state</em><strong>);</strong> <strong>int sd_session_get_uid(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, uid_t&nbsp;*</strong><em>uid</em><strong>);</strong> <strong>int sd_session_get_seat(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>seat</em><strong>);</strong> <strong>int sd_session_get_service(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>service</em><strong>);</strong> <strong>int sd_session_get_type(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>type</em><strong>);</strong> <strong>int sd_session_get_class(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>class</em><strong>);</strong> <strong>int sd_session_get_display(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>display</em><strong>);</strong> <strong>int sd_session_get_remote_host(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>remote_host</em><strong>);</strong> <strong>int sd_session_get_remote_user(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>remote_user</em><strong>);</strong> <strong>int sd_session_get_tty(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, char&nbsp;**</strong><em>tty</em><strong>);</strong> <strong>int sd_session_get_vt(const&nbsp;char&nbsp;*</strong><em>session</em><strong>, unsigned&nbsp;int&nbsp;*</strong><em>vt</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sd_session_is_active()</strong> may be used to determine whether the session identified by the specified session identifier is currently active (i.e. currently in the foreground and available for user input) or not.</p><p><strong>sd_session_is_remote()</strong> may be used to determine whether the session identified by the specified session identifier is a remote session (i.e. its remote host is known) or not.</p><p><strong>sd_session_get_state()</strong> may be used to determine the state of the session identified by the specified session identifier. The following states are currently known: "online" (session logged in, but session not active, i.e. not in the foreground), "active" (session logged in and active, i.e. in the foreground), "closing" (session nominally logged out, but some processes belonging to it are still around). In the future additional states might be defined, client code should be written to be robust in regards to additional state strings being returned. This function is a more generic version of <strong>sd_session_is_active()</strong>. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_uid()</strong> may be used to determine the user identifier of the Unix user the session identified by the specified session identifier belongs to.</p><p><strong>sd_session_get_seat()</strong> may be used to determine the seat identifier of the seat the session identified by the specified session identifier belongs to. Note that not all sessions are attached to a seat, this call will fail for them. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_service()</strong> may be used to determine the name of the service (as passed during PAM session setup) that registered the session identified by the specified session identifier. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_type()</strong> may be used to determine the type of the session identified by the specified session identifier. The returned string is one of "x11", "wayland", "tty", "mir" or "unspecified" and needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_class()</strong> may be used to determine the class of the session identified by the specified session identifier. The returned string is one of "user", "greeter", "lock-screen", or "background" and needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_display()</strong> may be used to determine the X11 display of the session identified by the specified session identifier. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_remote_host()</strong> may be used to determine the remote hostname of the session identified by the specified session identifier. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_remote_user()</strong> may be used to determine the remote username of the session identified by the specified session identifier. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use. Note that this value is rarely known to the system, and even then should not be relied on.</p><p><strong>sd_session_get_tty()</strong> may be used to determine the TTY device of the session identified by the specified session identifier. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_session_get_vt()</strong> may be used to determine the VT number of the session identified by the specified session identifier. This function will return an error if the seat does not support VTs.</p><p>If the <em>session</em> parameter of any of these functions is passed as <strong>NULL</strong>, the operation is executed for the session the calling process is a member of, if there is any.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>If the test succeeds, <strong>sd_session_is_active()</strong> and <strong>sd_session_is_remote()</strong> return a positive integer; if it fails, 0. On success, <strong>sd_session_get_state()</strong>, <strong>sd_session_get_uid()</strong>, <strong>sd_session_get_seat()</strong>, <strong>sd_session_get_service()</strong>, <strong>sd_session_get_type()</strong>, <strong>sd_session_get_class()</strong>, <strong>sd_session_get_display()</strong>, <strong>sd_session_get_remote_user()</strong>, <strong>sd_session_get_remote_host()</strong> and <strong>sd_session_get_tty()</strong> return 0 or a positive integer. On failure, these calls return a negative errno-style error code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The <strong>sd_session_is_active()</strong>, <strong>sd_session_get_state()</strong>, <strong>sd_session_get_uid()</strong>, <strong>sd_session_get_seat()</strong>, <strong>sd_session_get_service()</strong>, <strong>sd_session_get_type()</strong>, <strong>sd_session_get_class()</strong>, <strong>sd_session_get_display()</strong>, <strong>sd_session_get_remote_host()</strong>, <strong>sd_session_get_remote_user()</strong> and <strong>sd_session_get_tty()</strong> interfaces are available as a shared library, which can be compiled and linked to with the <strong>libsystemd</strong>&nbsp;<a href="../man1/pkg-config.1.html"><strong>pkg-config</strong>(1)</a> file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sd_session_is_remote&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a>, <a href="../man3/sd-login.3.html"><strong>sd-login</strong>(3)</a>, <a href="../man3/sd_pid_get_session.3.html"><strong>sd_pid_get_session</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sd_session_is_active.3.html"><span aria-hidden="true">&larr;</span> sd_session_is_active.3: Determine state of a specific session</a></li>
   <li class="next"><a href="sd_uid_get_display.3.html">sd_uid_get_display.3: Determine login state of a specific unix user id <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
