<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mail::DKIM::AuthorDomainPolicy: Represents an author domain signing practices (adsp) record</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Represents an author domain signing practices (adsp) record">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Mail::DKIM::AuthorDomainPolicy (3pm) manual">
  <meta name="twitter:description" content="Represents an author domain signing practices (adsp) record">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmail-dkim-perl-Mail::DKIM::AuthorDomainPolicy-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Mail::DKIM::AuthorDomainPolicy.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Mail::DKIM::AuthorDomainPolicy (3pm) manual" />
  <meta property="og:description" content="Represents an author domain signing practices (adsp) record" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmail-dkim-perl-Mail::DKIM::AuthorDomainPolicy-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Mail::DKIM::AuthorDomainPolicy<small> (3pm)</small></h1>
        <p class="lead">Represents an author domain signing practices (adsp) record</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Mail::DKIM::AuthorDomainPolicy.3pm.html">
      <span itemprop="name">Mail::DKIM::AuthorDomainPolicy: Represents an author domain signing practices (adsp) record</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmail-dkim-perl/">
      <span itemprop="name">libmail-dkim-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Mail::DKIM::AuthorDomainPolicy.3pm.html">
      <span itemprop="name">Mail::DKIM::AuthorDomainPolicy: Represents an author domain signing practices (adsp) record</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The Author Domain Signing Policies (\s-1ADSP\s0) record can be published by any domain to help a receiver know what to do when it encounters an unsigned message claiming to originate from that domain.</p><p>The record is published as a \s-1DNS\s0 \s-1TXT\s0 record at _adsp._domainkey.DOMAIN where \s-1DOMAIN\s0 is the domain of the message's \*(L"From\*(R" address.</p><p>More details about this record can be found by reading the specification itself at &lt;http://tools.ietf.org/html/rfc5617&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTRUCTORS</h2>
        <div class="sectioncontent">
<h3>\fIfetch()\fP</h3>
<p>Lookup an \s-1ADSP\s0 record in \s-1DNS\s0.</p>
<pre>
  my $policy = Mail::DKIM::AuthorDomainPolicy-&gt;fetch(
            Protocol =&gt; "dns",
            Author =&gt; &apos;jsmith@example.org&apos;,
          );
</pre>
<p>If the \s-1ADSP\s0 record is found and appears to be valid, an object containing that record's information will be constructed and returned. If the \s-1ADSP\s0 record is blank or simply does not exist, an object representing the default policy will be returned instead. (See also \*(L"<em>is_implied_default_policy()</em>\*(R".) If a \s-1DNS\s0 error occurs (e.g. \s-1SERVFAIL\s0 or time-out), this method will \*(L"die\*(R".</p>
<h3>\fInew()\fP</h3>
<p>Construct a default policy object.</p><p>  my $policy = Mail::DKIM::AuthorDomainPolicy-&gt;new;</p>
<h3>\fIparse()\fP</h3>
<p>Construct an \s-1ADSP\s0 record from a string.</p><p>  my $policy = Mail::DKIM::AuthorDomainPolicy-&gt;parse(           String =&gt; "dkim=all",           Domain =&gt; "aaa.example",       );</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>\fIapply()\fP</h3>
<p>Apply the policy to the results of a \s-1DKIM\s0 verifier.</p><p>  my $result = $policy-&gt;apply($dkim_verifier);</p><p>The caller must provide an instance of Mail::DKIM::Verifier, one which has already been fed the message being verified.</p><p>Possible results are:</p>
<dl class='dl-vertical'>
  <dt>
    accept
  </dt>
  <dd>
    <p>The message is approved by the sender signing policy.</p>
  </dd>
  <dt>
    reject
  </dt>
  <dd>
    <p>The message is rejected by the sender signing policy. It can be considered very suspicious.</p>
  </dd>
  <dt>
    neutral
  </dt>
  <dd>
    <p>The message is neither approved nor rejected by the sender signing policy. It can be considered somewhat suspicious.</p>
  </dd>

</dl>
<p>Note: in the future, these values may become:  none - no \s-1ADSP\s0 record is published  pass - a passing signature is present  fail - \s-1ADSP\s0 record is \*(L"all\*(R" and no passing signature is found  discard - \s-1ADSP\s0 record is \*(L"discardable\*(R" and no passing signature is found  nxdomain - the \s-1DNS\s0 domain does not exist  temperror - transient error occurred  permerror - non-transient error occurred</p>
<h3>\fIis_implied_default_policy()\fP</h3>
<p>Tells whether this policy implied.</p><p>  my $is_implied = $policy-&gt;is_implied_default_policy;</p><p>If you fetch the policy for a particular domain, but that domain does not have a policy published, then the \*(L"default policy\*(R" is in effect. Use this method to detect when that happens.</p>
<h3>\fIlocation()\fP</h3>
<p>Tells where the policy was fetched from.</p><p>If the policy is domain-wide, this will be domain where the policy was published.</p><p>If the policy is user-specific, \s-1TBD\s0.</p><p>If nothing is published for the domain, and the default policy was returned instead, the location will be \*(C`undef\*(C'.</p>
<h3>\fIpolicy()\fP</h3>
<p>Get or set the outbound signing policy (dkim=) tag.</p><p>  my $sp = $policy-&gt;policy;</p><p>Outbound signing policy for the entity. Possible values are: The default. The entity may sign some or all email. All mail from the domain is expected to be signed, using a valid Author signature, but the author does not suggest discarding mail without a valid signature. All mail from the domain is expected to be signed, using a valid Author signature, and the author is so confident that non-signed mail claiming to be from this domain can be automatically discarded by the recipient's mail server. The domain is out of scope, i.e., the domain does not exist in the \s-1DNS\s0.</p>
<h3>\fIsignall()\fP</h3>
<p>True if policy is \*(L"all\*(R".</p>
<h3>\fIsignall_discardable()\fP</h3>
<p>True if policy is \*(L"strict\*(R".</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<ul>
<li><p>Section 4.3 of the specification says to perform a query on the domain itself just to see if it exists. This class is not currently doing that, i.e. it might report \s-1NXDOMAIN\s0 because _adsp._domainkey.example.org is nonexistent, but it should not be treated the same as example.org being nonexistent.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jason Long, &lt;jlong@messiah.edu&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2006-2009 by Messiah College</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.6 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Mail::DKIM::Algorithm::Base.3pm.html"><span aria-hidden="true">&larr;</span> Mail::DKIM::Algorithm::Base.3pm: Base class for dkim "algorithms"</a></li>
   <li class="next"><a href="Mail::DKIM::Canonicalization::Base.3pm.html">Mail::DKIM::Canonicalization::Base.3pm: Base class for canonicalization methods <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
