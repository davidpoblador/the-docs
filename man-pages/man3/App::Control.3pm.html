<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>App::Control: Perl module for apachectl style control of another script or executable</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl module for apachectl style control of another script or executable">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="App::Control (3pm) manual">
  <meta name="twitter:description" content="Perl module for apachectl style control of another script or executable">
  <meta name="twitter:image" content="https://www.carta.tech/images/libapp-control-perl-App::Control-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/App::Control.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="App::Control (3pm) manual" />
  <meta property="og:description" content="Perl module for apachectl style control of another script or executable" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libapp-control-perl-App::Control-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">App::Control<small> (3pm)</small></h1>
        <p class="lead">Perl module for apachectl style control of another script or executable</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/App::Control.3pm.html">
      <span itemprop="name">App::Control: Perl module for apachectl style control of another script or executable</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libapp-control-perl/">
      <span itemprop="name">libapp-control-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/App::Control.3pm.html">
      <span itemprop="name">App::Control: Perl module for apachectl style control of another script or executable</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use App::Control;
    my $ctl = App::Control-&gt;new(
        EXEC =&gt; $exec,
        ARGS =&gt; &#92;@args,
        PIDFILE =&gt; $pidfile,
        SLEEP =&gt; 1,
        VERBOSE =&gt; 1,
    );
    my $pid = $ctl-&gt;pid;
    if ( $ctl-&gt;running )
    {
        print "$pid is running&#92;n";
    }
    else
    {
        print "$pid is not running&#92;n";
    }
    # or alternatively ...
    print $ctl-&gt;status;
    $ctl-&gt;start;
    # or alternatively ...
    $ctl-&gt;cmd( &apos;start&apos; );
    $ctl-&gt;stop;
    $ctl-&gt;hup;
    $ctl-&gt;restart;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>App::Control is a simple module to replicate the kind of functionality you get with apachectl to control apache, but for any script or executable. There is a very simple \s-1OO\s0 interface, where the constructor is used to specify the executable, command line arguments, and pidfile, and various methods (start, stop, etc.) are used to control the executable in the obvious way.</p><p>The module is intended to be used in a simple wrapper control script. Currently the module does a fork and exec to start the executable, and sets the signal handler for \s-1SIGCHLD\s0 to '\s-1IGNORE\s0' to avoid zombie processes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTRUCTOR</h2>
        <div class="sectioncontent">
<p>The constructor is called with a hash of options in the standard way. The options are as follows:</p><p><strong>&#92;$1</strong></p><p>Path to the executable to be controlled. This option is \s-1REQUIRED\s0. Command line arguments for the executable. This option is \s-1OPTIONAL\s0, but if set, should be an \s-1ARRAY\s0 reference. Path to the pidfile for the executable. This need not exists, but the constructor will die if it thinks it can't create it. If the path where the pidfile lives doesn't exist the constructor will try to create it. This option is \s-1REQUIRED\s0. The ignore file allows you to temporarily disable the control functionality. Suppose you have a chkdaemon / crontab entry that restarts a service; specifying an \s-1IGNOREFILE\s0 means that you can disable this wihtout having to edit the relevant config files. By default, App::Control depends on the application to manage the pid file. This is consistent will analogous utilities (apachectl, chkdaemon, etc.), but if you would like App::Control to create and remove pid files for you, then set this option to a true value. Number of seconds to sleep before checking that the process has been started. If the start fails, the control script will loop with a \s-1SLEEP\s0 delay per iteration until it has (see &lt;\*(L"\s-1LOOP\s0\*(R"&gt;). Default is 1 second.</p><p>head2 \s-1LOOP\s0</p><p>Number of times to loop before giving up on starting the process. If set to a true value, the module will output verbose messages to \s-1STDERR\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>Start the executable specified in the constructor. This method waits until it is convinced that the executable has started. It then writes the new pid to the pidfile. Stop the executable specified in the constructor. It assumes that the pid listed in the pidfile specified in the constructor is the process to kill. This method waits until it is convinced that the executable has stopped. Send a \s-1SIGHUP\s0 to the executable. Basically; stop if running, and then start. Returns a status message along the lines of \*(L"$exec ($pid) is / is not running\*(R". All of the above methods can also be invoked using cmd; i.e.:</p><p>    $ctl-&gt;start;</p><p>is equivilent to:</p><p>    $ctl-&gt;cmd( &apos;start&apos; );</p><p>give or take a call to \s-1AUTOLOAD\s0! Returns the current value of the pid in the pidfile. returns true if the pid in the pidfile is running.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ave Wrigley &lt;Ave.Wrigley@itn.co.uk&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2001 Ave Wrigley. All rights reserved. This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="App::Cmd::Plugin::Prompt.3pm.html"><span aria-hidden="true">&larr;</span> App::Cmd::Plugin::Prompt.3pm: Plug prompting routines into your commands</a></li>
   <li class="next"><a href="App::Options.3pm.html">App::Options.3pm: Combine command line options, environment vars, and option file values (for program configuration) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
