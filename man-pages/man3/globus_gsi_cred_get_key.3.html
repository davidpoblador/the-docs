<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>globus_gsi_cred_get_key: Credential handle management -</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Credential handle management -">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="globus_gsi_cred_get_key (3) manual">
  <meta name="twitter:description" content="Credential handle management -">
  <meta name="twitter:image" content="https://www.carta.tech/images/libglobus-gsi-credential-doc-globus_gsi_cred_get_key-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/globus_gsi_cred_get_key.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="globus_gsi_cred_get_key (3) manual" />
  <meta property="og:description" content="Credential handle management -" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libglobus-gsi-credential-doc-globus_gsi_cred_get_key-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">globus_gsi_cred_get_key<small> (3)</small></h1>
        <p class="lead">Credential handle management -</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_gsi_cred_get_key.3.html">
      <span itemprop="name">globus_gsi_cred_get_key: Credential handle management -</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libglobus-gsi-credential-doc/">
      <span itemprop="name">libglobus-gsi-credential-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_gsi_cred_get_key.3.html">
      <span itemprop="name">globus_gsi_cred_get_key: Credential handle management -</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Create/Destroy/Modify a GSI Credential Handle.</p><p>Within the Globus GSI Credential Library, all credential operations require a handle parameter. Currently only one operation may be in progress at once per credential handle.</p><p>This section defines operations to create, modify and destroy GSI Credential handles.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Typedef Documentation</h2>
        <div class="sectioncontent">
<h3>typedef struct globus_l_gsi_cred_handle_s* \fBglobus_gsi_cred_handle_t\fP</h3>
<p>GSI Credential Handle.</p><p>A GSI Credential handle keeps track of state relating to a credential. Handles can have immutable <strong>attributes</strong> associated with them. All credential <strong>operations </strong> take a credential handle pointer as a parameter.</p><p><strong>See also:</strong></p><p><strong>globus_gsi_cred_handle_init()</strong>, <strong>globus_gsi_cred_handle_destroy()</strong>, <strong>globus_gsi_cred_handle_attrs_t</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>globus_result_t globus_gsi_cred_get_cert (\fBglobus_gsi_cred_handle_t\fPhandle, X509 **cert)</h3>
<p>Get the credential's certificate. Get the certificate of a credential</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle to get the certificate from</p><p><em>cert</em> The resulting X509 certificate, a duplicate of the certificate in the credential handle. This variable should be freed when the user is finished with it using the function X509_free.</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object id is returned</p>
<h3>globus_result_t globus_gsi_cred_get_cert_chain (\fBglobus_gsi_cred_handle_t\fPhandle, STACK_OF(X509)**cert_chain)</h3>
<p>Get the certificate chain. Get the certificate chain of the credential handle</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate chain to get</p><p><em>cert_chain</em> The certificate chain to set as a duplicate of the cert chain in the credential handle. This variable (or the variable it points to) needs to be freed when the user is finished with it using sk_X509_free.</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object id is returned</p>
<h3>globus_result_t globus_gsi_cred_get_goodtill (\fBglobus_gsi_cred_handle_t\fPcred_handle, time_t *goodtill)</h3>
<p>Get credential expiration. This function retrieves the expiration time of the credential contained in the handle</p><p><strong>Parameters:</strong></p><p><em>cred_handle</em> The credential handle to retrieve the expiration time from</p><p><em>goodtill</em> Contains the expiration time on return</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error captured in a globus_result_t</p>
<h3>globus_result_t globus_gsi_cred_get_handle_attrs (\fBglobus_gsi_cred_handle_t\fPhandle, \fBglobus_gsi_cred_handle_attrs_t\fP *attrs)</h3>
<p>Get the handle attributes. This function retrieves a copy of the credential handle attributes</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle to retrieve the attributes from</p><p><em>attrs</em> Contains the credential attributes on return</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error captured in a globus_result_t</p>
<h3>globus_result_t globus_gsi_cred_get_identity_name (\fBglobus_gsi_cred_handle_t\fPhandle, char **identity_name)</h3>
<p>Get identity name. Get the identity's subject name from the credential handle</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate to get the identity of</p><p><em>identity_name</em> The identity certificate's subject name</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned</p>
<h3>globus_result_t globus_gsi_cred_get_issuer_name (\fBglobus_gsi_cred_handle_t\fPhandle, char **issuer_name)</h3>
<p>Get issuer name. Get the issuer's subject name from the credential handle</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate to get the issuer of</p><p><em>issuer_name</em> The issuer certificate's subject name</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned</p>
<h3>globus_result_t globus_gsi_cred_get_key (\fBglobus_gsi_cred_handle_t\fPhandle, EVP_PKEY **key)</h3>
<p>Get the credential's private key. Get the credential handle's private key</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the private key to get</p><p><em>key</em> The private key which after this function returns is set to a duplicate of the private key of the credential handle. This variable needs to be freed by the user when it is no longer used via the function EVP_PKEY_free.</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error object identifier</p>
<h3>globus_result_t globus_gsi_cred_get_key_bits (\fBglobus_gsi_cred_handle_t\fPcred_handle, int *key_bits)</h3>
<p>Get credential strength. This function retrieves the key strength of the credential contained in a handle</p><p><strong>Parameters:</strong></p><p><em>cred_handle</em> The credential handle to retrieve the strength from</p><p><em>key_bits</em> Contains the number of bits in the key on return</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error captured in a globus_result_t</p>
<h3>globus_result_t globus_gsi_cred_get_lifetime (\fBglobus_gsi_cred_handle_t\fPcred_handle, time_t *lifetime)</h3>
<p>Get credential lifetime. This function retrieves the lifetime of the credential contained in a handle</p><p><strong>Parameters:</strong></p><p><em>cred_handle</em> The credential handle to retrieve the lifetime from</p><p><em>lifetime</em> Contains the lifetime on return</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error captured in a globus_result_t</p>
<h3>globus_result_t globus_gsi_cred_get_policies (\fBglobus_gsi_cred_handle_t\fPhandle, STACK **policies)</h3>
<p>Get certificate chain policies. Get the Policies from the Cert Chain in the handle. The policies will be null-terminated as they are added to the handle. If a policy for a cert in the chain doesn't exist, the string in the stack will be set to the static string GLOBUS_NULL_POLICIES</p><p><strong>Parameters:</strong></p><p><em>handle</em> the handle to get the cert chain containing the policies</p><p><em>policies</em> the stack of policies retrieved from the handle's cert chain</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error object if an error occurred</p>
<h3>globus_result_t globus_gsi_cred_get_policy_languages (\fBglobus_gsi_cred_handle_t\fPhandle, STACK_OF(ASN1_OBJECT)**policy_languages)</h3>
<p>Get certificate chain policy languages. Get the policy languages from the cert chain in the handle.</p><p><strong>Parameters:</strong></p><p><em>handle</em> the handle to get the cert chain containing the policies</p><p><em>policy_languages</em> the stack of policies retrieved from the handle's cert chain</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error object if an error occurred</p>
<h3>globus_result_t globus_gsi_cred_get_subject_name (\fBglobus_gsi_cred_handle_t\fPhandle, char **subject_name)</h3>
<p>Get credential subject name. Get the credential handle's certificate subject name</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate to get the subject name of</p><p><em>subject_name</em> The subject name as a string. This should be freed using OPENSSL_free() when the user is finished with it</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, a error object id otherwise</p>
<h3>globus_result_t globus_gsi_cred_get_X509_identity_name (\fBglobus_gsi_cred_handle_t\fPhandle, X509_NAME **identity_name)</h3>
<p>Get X.509 identity. Get the identity's X.509 subject name from the credential handle</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate to get the identity from</p><p><em>identity_name</em> The identity certificate's X509 subject name</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned</p>
<h3>globus_result_t globus_gsi_cred_get_X509_issuer_name (\fBglobus_gsi_cred_handle_t\fPhandle, X509_NAME **issuer_name)</h3>
<p>Get credential issuer name object. Get the credential handle's certificate issuer name</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate to get the issuer name of</p><p><em>issuer_name</em> The issuer name as an X509_NAME object. This should be freed using X509_NAME_free when the user is finished with it</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, a error object id otherwise</p>
<h3>globus_result_t globus_gsi_cred_get_X509_subject_name (\fBglobus_gsi_cred_handle_t\fPhandle, X509_NAME **subject_name)</h3>
<p>Get credential subject name. Get the credential handle's certificate subject name</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate to get the subject name of</p><p><em>subject_name</em> The subject name as an X509_NAME object. This should be freed using X509_NAME_free when the user is finished with it</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, a error object id otherwise</p>
<h3>globus_result_t globus_gsi_cred_handle_copy (\fBglobus_gsi_cred_handle_t\fPsource, \fBglobus_gsi_cred_handle_t\fP *dest)</h3>
<p>Copy a handle. Copies a credential handle.</p><p><strong>Parameters:</strong></p><p><em>source</em> The handle to be copied</p><p><em>dest</em> The destination of the copy</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error captured in a globus_result_t</p>
<h3>globus_result_t globus_gsi_cred_handle_destroy (\fBglobus_gsi_cred_handle_t\fPhandle)</h3>
<p>Destroy the credential handle. Destroys the credential handle</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle to be destroyed</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS</p>
<h3>globus_result_t globus_gsi_cred_handle_init (\fBglobus_gsi_cred_handle_t\fP *handle, \fBglobus_gsi_cred_handle_attrs_t\fPhandle_attrs)</h3>
<p>Initialize a Handle. Initializes a credential handle to be used credential handling functions. Takes a set of handle attributes that are immutable to the handle. The handle attributes are only pointed to by the handle, so the lifetime of the attributes needs to be as long as that of the handle.</p><p><strong>Parameters:</strong></p><p><em>handle</em> The handle to be initialized</p><p><em>handle_attrs</em> The immutable attributes of the handle</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error captured in a globus_result_t</p>
<h3>globus_result_t globus_gsi_cred_set_cert (\fBglobus_gsi_cred_handle_t\fPhandle, X509 *cert)</h3>
<p>Set the credential's certificate. Set the Credential's Certificate. The X509 cert that is passed in should be a valid X509 certificate object</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle to set the certificate on</p><p><em>cert</em> The X509 cert to set in the cred handle. The cert passed in can be NULL which will set the cert in the handle to NULL, freeing the current cert in the handle.</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS or an error object id if an error</p>
<h3>globus_result_t globus_gsi_cred_set_cert_chain (\fBglobus_gsi_cred_handle_t\fPhandle, STACK_OF(X509)*cert_chain)</h3>
<p>Set the certificate chain. Set the certificate chain of the credential handle</p><p><strong>Parameters:</strong></p><p><em>handle</em> The handle containing the certificate chain field to set</p><p><em>cert_chain</em> The certificate chain to set the handle's certificate chain to</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object id is returned</p>
<h3>globus_result_t globus_gsi_cred_set_key (\fBglobus_gsi_cred_handle_t\fPhandle, EVP_PKEY *key)</h3>
<p>Set the credential's private key. Set the private key of the credential handle.</p><p><strong>Parameters:</strong></p><p><em>handle</em> The handle on which to set the key.</p><p><em>key</em> The private key to set the handle's key to. This value can be NULL, in which case the current handle's key is freed.</p>
<h3>globus_result_t globus_gsi_cred_verify (\fBglobus_gsi_cred_handle_t\fPhandle)</h3>
<p>Verify a credential. This function checks that the certificate is signed by the public key of the issuer cert (the first cert in the chain). Note that this function DOES NOT check the private key or the public of the certificate, as stated in a previous version of the documentation.</p><p><strong>Parameters:</strong></p><p><em>handle</em> The credential handle containing the certificate and key to be validated</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned</p>
<h3>globus_result_t globus_gsi_cred_verify_cert_chain (\fBglobus_gsi_cred_handle_t\fPcred_handle, globus_gsi_callback_data_tcallback_data)</h3>
<p>Verify credential. This function performs path validation on the certificate chain contained in the credential handle.</p><p><strong>Parameters:</strong></p><p><em>cred_handle</em> The credential handle containing the certificate chain to be validated</p><p><em>callback_data</em> A initialized callback data structure</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned</p>
<h3>globus_result_t globus_gsi_cred_verify_cert_chain_when (\fBglobus_gsi_cred_handle_t\fPcred_handle, globus_gsi_callback_data_tcallback_data_in, time_tcheck_time)</h3>
<p>Verify credential at a specific time. This function performs path validation on the certificate chain contained in the credential handle. Expiration checks are done at the time given.</p><p><strong>Parameters:</strong></p><p><em>cred_handle</em> The credential handle containing the certificate chain to be validated</p><p><em>callback_data_in</em> A callback data structure. If NULL, one will be initialized with only the default cert dir set.</p><p><em>check_time</em> Check if the cert chain was valid at this time. Set to 0 to use a time that the cert is valid, essentially bypassing the expiration check.</p><p><strong>Returns:</strong></p><p>GLOBUS_SUCCESS if no error, otherwise an error object identifier is returned</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for globus_gsi_credential from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="globus_gsi_cred_get_issuer_name.3.html"><span aria-hidden="true">&larr;</span> globus_gsi_cred_get_issuer_name.3: Credential handle management -</a></li>
   <li class="next"><a href="globus_gsi_cred_get_key_bits.3.html">globus_gsi_cred_get_key_bits.3: Credential handle management - <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
