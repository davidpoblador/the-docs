<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TclX: Extended tcl: extended command set for tcl</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extended tcl: extended command set for tcl">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="TclX (3tclx) manual">
  <meta name="twitter:description" content="Extended tcl: extended command set for tcl">
  <meta name="twitter:image" content="https://www.carta.tech/images/tclx8.4-doc-TclX-3tclx.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3tclx/TclX.3tclx.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="TclX (3tclx) manual" />
  <meta property="og:description" content="Extended tcl: extended command set for tcl" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/tclx8.4-doc-TclX-3tclx.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">TclX<small> (3tclx)</small></h1>
        <p class="lead">Extended tcl: extended command set for tcl</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3tclx/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3tclx/TclX.3tclx.html">
      <span itemprop="name">TclX: Extended tcl: extended command set for tcl</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/tclx8.4-doc/">
      <span itemprop="name">tclx8.4-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3tclx/TclX.3tclx.html">
      <span itemprop="name">TclX: Extended tcl: extended command set for tcl</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>package require Tclx</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTRODUCTION</h2>
        <div class="sectioncontent">
<p>This man page contains the documentation for all of the extensions that are added to Tcl by Extended Tcl (TclX).  TclX extends Tcl's capabilities by adding new commands to it, without changing the syntax of standard Tcl. Extended Tcl is a superset of standard Tcl and is built alongside the standard Tcl sources.</p><p>Extended Tcl was created by Karl Lehenbauer and Mark Diekhans and is freely redistributable for any use without license or fee.</p><p>Available since 1989, Extended Tcl, also known as TclX, not only adds capabilities to Tcl, but has also been the source of many of the capabilities of the baseline Tcl release, including arrays, files, sockets, file events, and date and time handling, among others.</p><p>Extended Tcl introduces a set of new commands and a user-extensible library of useful Tcl procedures, any of which can be automatically loaded on the first attempt to execute it.</p><p>The command descriptions are separated into several sections:</p>
<dl class='dl-vertical'>
  <dt>
    <p>&bull; General Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; Debugging and Development Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; Unix Access Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; File Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; Network Programming Support</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; File Scanning Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; Math Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; List Manipulation Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; Keyed Lists</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; String and Character Manipulation Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; XPG/3 Message Catalog Commands</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; Help Facility</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>&bull; Tcl Loadable Libraries and Packages</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL COMMANDS</h2>
        <div class="sectioncontent">
<p>A set of general, useful Tcl commands, includes a command to begin an interactive session with Tcl, a facility for tracing execution, and a looping command.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>dirs</strong></p>
  </dt>
  <dd>
    <p>This procedure lists the directories in the directory stack.</p>
  </dd>
  <dt>
    <p><strong>commandloop </strong>?<strong>-async</strong>? ?<strong>-interactive </strong><strong>on | off | tty</strong>? ?<strong>-prompt1 </strong><em>cmd</em>? ?<strong>-prompt2 </strong><em>cmd</em>? ?<strong>-endcommand </strong><em>cmd</em>?</p>
  </dt>
  <dd>
    <ul>
<li><p>Create an interactive command loop reading commands from stdin and writing results to stdout.  Command loops are maybe either be blocking or event oriented.  This command is useful for Tcl scripts that do not normally converse interactively with a user through a Tcl command interpreter, but which sometimes want to enter this mode, perhaps for debugging or user configuration.  The command loop terminates on EOF.</p></li><li><p>The following options are available:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-async</strong></p>
  </dt>
  <dd>
    <p>A command handler will be associated with stdin.  When input is available on stdin, it will be read and accumulated until a full command is available. That command will then be evaluated.  An event loop must be entered for input to be read and processed.</p>
  </dd>
  <dt>
    <p><strong>-interactive on | off | tty</strong></p>
  </dt>
  <dd>
    <p>Enable or disable interactive command mode.  In interactive mode, commands are prompted for and the results of comments are printed.  The value maybe any boolean value or <strong>tty</strong>.  If <strong>tty</strong> is used, interactive mode is enabled if stdin is associated with a terminal or terminal emulator. The default is <strong>tty</strong>.</p>
  </dd>
  <dt>
    <p><strong>-prompt1 </strong><em>cmd</em></p>
  </dt>
  <dd>
    <p>If specified, <em>cmd</em>  is used is evaluate and its result used for the main command prompt.  If not specified, the command in <strong>tcl_prompt1</strong> is evaluated to output the prompt.  Note the difference in behavior, <em>cmd</em> results is used, while <strong>tcl_prompt1</strong> outputs.  This is to allow for future expansion to command loops that write to other than stdout.</p>
  </dd>
  <dt>
    <p><strong>-prompt2 </strong><em>cmd</em></p>
  </dt>
  <dd>
    <p>If specified, <em>cmd</em> is used is evaluate and its result used for the secondary (continuation) command prompt.  If not specified, the command in <strong>tcl_prompt2</strong> is evaluated to output the prompt.</p>
  </dd>
  <dt>
    <p><strong>-endcommand </strong><em>cmd</em></p>
  </dt>
  <dd>
    <p>If specified, <em>cmd</em> is evaluated when the command loop terminates.</p><ul>
<li><p>In interactive mode, the results of set commands with two arguments are not printed.</p></li><li><p>If <strong>SIGINT</strong> is configured to generate a Tcl error, it can be used to delete the current command being type without aborting the program in progress.</p></li>
</ul>
  </dd>

</dl>
</li>
</ul>
  </dd>
  <dt>
    <p><strong>echo </strong>?<em>str ...</em>?</p>
  </dt>
  <dd>
    <p>Writes zero or more strings to standard output, followed by a newline.</p>
  </dd>
  <dt>
    <p><strong>infox</strong> <em>option</em></p>
  </dt>
  <dd>
    <ul>
<li><p>Return information about Extended Tcl, or the current application. The following <strong>infox</strong> command options are available:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>version</strong></p>
  </dt>
  <dd>
    <p>Return the version number of Extended Tcl.  The version number for Extended Tcl is generated by combining the base version of the standard Tcl code with another number indicating the version of Extended Tcl being used.</p>
  </dd>
  <dt>
    <p><strong>patchlevel</strong></p>
  </dt>
  <dd>
    <p>Return the patchlevel for Extended Tcl.</p>
  </dd>
  <dt>
    <p><strong>have_fchown</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if the <strong>fchown</strong> system call is available.  This supports the <strong>-fileid</strong> option on the <strong>chown</strong> and <strong>chgrp</strong> commands.</p>
  </dd>
  <dt>
    <p><strong>have_fchmod</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if the <strong>fchmod</strong> system call is available.  This supports the <strong>-fileid</strong> option on the <strong>chmod</strong> command.</p>
  </dd>
  <dt>
    <p><strong>have_flock</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if the <strong>flock</strong> command defined,  <strong>0</strong> if it is not available.</p>
  </dd>
  <dt>
    <p><strong>have_fsync</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if the <strong>fsync</strong> system call is available and the <strong>sync</strong> command will sync individual files. <strong>0</strong> if it is not available and the <strong>sync</strong> command will always sync all file buffers.</p>
  </dd>
  <dt>
    <p><strong>have_ftruncate</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if the <strong>ftruncate</strong> or <strong>chsize</strong> system call is available.  If it is, the <strong>ftruncate</strong> command <strong>-fileid</strong> option maybe used.</p>
  </dd>
  <dt>
    <p><strong>have_msgcats</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if XPG message catalogs are available, <strong>0</strong> if they are not.  The <strong>catgets</strong> is designed to continue to function without message catalogs, always returning the default string.</p>
  </dd>
  <dt>
    <p><strong>have_posix_signals</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if Posix signals are available (<strong>block</strong> and <strong>unblock</strong> options available for the signal command).  <strong>0</strong> is returned if Posix signals are not available.</p>
  </dd>
  <dt>
    <p><strong>have_signal_restart</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if restartable signals are available (<strong>-restart</strong> option available for the signal command).  <strong>0</strong> is returned if restartable signals are not available.</p>
  </dd>
  <dt>
    <p><strong>have_truncate</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if the <strong>truncate</strong> system call is available. If it is, the <strong>ftruncate</strong> command may truncate by file path.</p>
  </dd>
  <dt>
    <p><strong>have_waitpid</strong></p>
  </dt>
  <dd>
    <p>Return <strong>1</strong> if the <strong>waitpid</strong> system call is available and the <strong>wait</strong> command has full functionality.  <strong>0</strong> if the <strong>wait</strong> command has limited functionality.</p>
  </dd>
  <dt>
    <p><strong>appname</strong></p>
  </dt>
  <dd>
    <p>Return the symbolic application name of the current application linked with the Extended Tcl library.  The C variable <strong>tclAppName</strong> must be set by the application to return an application specific value for this variable.</p>
  </dd>
  <dt>
    <p><strong>applongname</strong></p>
  </dt>
  <dd>
    <p>Return a natural language name for the current application. The C variable <strong>tclLongAppName</strong> must be set by the application to return an application specific value for this variable.</p>
  </dd>
  <dt>
    <p><strong>appversion</strong></p>
  </dt>
  <dd>
    <p>Return the version number for the current application.  The C variable <strong>tclAppVersion</strong> must be set by the application to return an application-specific value for this variable.</p>
  </dd>
  <dt>
    <p><strong>apppatchlevel</strong></p>
  </dt>
  <dd>
    <p>Return the patchlevel for the current application.  The C variable <strong>tclAppPatchlevel</strong> must be set by the application to return an application-specific value for this variable.</p>
  </dd>

</dl>
</li>
</ul>
  </dd>
  <dt>
    <p><strong>for_array_keys</strong> <em>var array_name code</em></p>
  </dt>
  <dd>
    <p>This procedure performs a foreach-style loop for each key in the named array.  The <strong>break</strong> and <strong>continue</strong> statements work as with <strong>foreach</strong>.</p>
  </dd>
  <dt>
    <p><strong>for_recursive_glob</strong> <em>var dirlist globlist code</em></p>
  </dt>
  <dd>
    <p>This procedure performs a foreach-style loop over recursively matched files. All directories in <em>dirlist</em> are recursively searched (breadth-first), comparing each file found against the file glob patterns in <strong>globlist</strong>. For each matched file, the variable <em>var</em> is set to the file path and <em>code</em> is evaluated. Symbolic links are not followed.</p>
  </dd>
  <dt>
    <p><strong>loop</strong> <em>var first limit ?increment? body</em></p>
  </dt>
  <dd>
    <p><strong>Loop</strong> is a looping command, similar in behavior to the Tcl <strong>for</strong> statement, except that the <strong>loop</strong> statement achieves substantially higher performance and is easier to code when the beginning and ending values of a loop are known, and the loop variable is to be incremented by a known, fixed amount every time through the loop.</p><p> The <em>var</em> argument is the name of a Tcl variable that will contain the loop index.  The loop index is set to the value specified by <em>first</em>.  The Tcl interpreter is invoked upon <em>body</em> zero or more times, where <em>var</em> is incremented by <em>increment</em> every time through the loop, or by one if <em>increment</em> is not specified.  <em>Increment</em> can be negative in which case the loop will count downwards.</p><p>When <em>var</em> reaches <em>limit</em>, the loop terminates without a subsequent execution of <em>body</em>.  For instance, if the original <strong>loop</strong> parameters would cause <strong>loop</strong> to terminate, say <em>first</em> was one, <em>limit</em> was zero and <em>increment</em> was not specified or was non-negative, <em>body</em> is not executed at all and <strong>loop</strong> returns.</p><p>The <em>first</em>, <em>limit</em> and <em>increment</em> are integer expressions. They are only evaluated once at the beginning of the loop.</p><p>If a <strong>continue</strong> command is invoked within <em>body</em> then any remaining commands in the current execution of <em>body</em> are skipped, as in the <strong>for</strong> command. If a <strong>break</strong> command is invoked within <em>body</em> then the <strong>loop</strong> command will return immediately. <strong>Loop</strong> returns an empty string.</p>
  </dd>
  <dt>
    <p><strong>popd</strong></p>
  </dt>
  <dd>
    <p>This procedure pops the top directory entry from the directory stack and make it the current directory.</p>
  </dd>
  <dt>
    <p><strong>pushd</strong> ?<em>dir</em>?</p>
  </dt>
  <dd>
    <p>This procedure pushes the current directory onto the directory stack and <strong>cd</strong> to the specified directory.  If the directory is not specified, then the current directory is pushed, but remains unchanged.</p>
  </dd>
  <dt>
    <p><strong>recursive_glob</strong> <em>dirlist globlist</em></p>
  </dt>
  <dd>
    <p>This procedure returns a list of recursively matches files. All directories in <em>dirlist</em> are recursively searched (breadth-first), comparing each file found against the file glob patterns in <strong>globlist</strong>. Symbolic links are not followed.</p>
  </dd>
  <dt>
    <p><strong>showproc </strong>?<em>procname ...?</em></p>
  </dt>
  <dd>
    <p>This procedure lists the definition of the named procedures.  Loading them if it is not already loaded.  If no procedure names are supplied, the definitions of all currently loaded procedures are returned.</p>
  </dd>
  <dt>
    <p><strong>try_eval</strong> <em>code</em> <em>catch</em> ?<em>finally</em>?</p>
  </dt>
  <dd>
    <p>The <strong>try_eval</strong> command evaluates <em>code</em> in the current context.</p>
  </dd>

</dl>
<p>If an error occurs during the evaluation and <em>catch</em> is not empty, then <em>catch</em> is evaluated to handler the error.  The result of the command, containing the error message, will be stored in a global variable <strong>errorResult</strong>.  The global variables <strong>errorResult</strong>, <strong>errorInfo</strong> and <strong>errorCode</strong> will be imported into the current scope, there is no need to execute a <strong>global</strong> command.  The result of the <em>catch</em> command becomes the result of the <strong>try_eval</strong> command. If the error that caused the <em>catch</em> to be evaluate is to be continued, the following command should be used:</p>
<pre>
	<strong>error $errorResult $errorCode $errorInfo</strong>
</pre>
<p>If the <em>finally</em> argument is supplied and not empty, it is evaluated after the evaluation of the <em>code</em> and the <em>catch</em> commands. If an error occurs during the evaluation of the <em>finally</em> command, it becomes the result of the <strong>try_eval</strong> command.  Otherwise, the result of either <em>code</em>  or <em>catch</em> is preserved, as described above.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEBUGGING AND DEVELOPMENT COMMANDS</h2>
        <div class="sectioncontent">
<p>This section contains information on commands and procedures that are useful for developing and debugging Tcl scripts.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>cmdtrace</strong> <em>level</em> | <strong>on</strong> ?<strong>noeval</strong>? ?<strong>notruncate</strong>? ?<em>procs</em>? ?<em>fileid</em>? ?<strong>command</strong><em> cmd</em>?</p>
  </dt>
  <dd>
    <ul>
<li><p>Print a trace statement for all commands executed at depth of <em>level</em> or below (1 is the top level).  If <strong>on</strong> is specified, all commands at any level are traced.  The following options are available:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>noeval</strong></p>
  </dt>
  <dd>
    <p>Causes arguments to be printed unevaluated.  If <strong>noeval</strong> is specified, the arguments are printed before evaluation.  Otherwise, they are printed afterwards.</p><p>If the command line is longer than 60 characters, it is truncated to 60 and a "..." is postpended to indicate that there was more output than was displayed. If an evaluated argument contains a space, the entire argument will be enclosed inside of braces (`{}') to allow the reader to visually separate the arguments from each other.</p>
  </dd>
  <dt>
    <p><strong>notruncate</strong></p>
  </dt>
  <dd>
    <p>Disables the truncation of commands and evaluated arguments.</p>
  </dd>
  <dt>
    <p><strong>procs</strong></p>
  </dt>
  <dd>
    <p>Enables the tracing of procedure calls only.  Commands that aren't procedure calls (i.e. calls to commands that are written in C, C++ or some object-compatible language) are not traced if the <strong>procs</strong> option is specified.  This option is particularly useful for greatly reducing the output of <strong>cmdtrace</strong> while debugging.</p>
  </dd>
  <dt>
    <p><strong>fileid</strong></p>
  </dt>
  <dd>
    <p>This is a file id as returned by the <strong>open</strong> command.  If specified, then the trace output will be written to the file rather than stdout.  A stdio buffer flush is done after every line is written so that the trace may be monitored externally or provide useful information for debugging problems that cause core dumps.</p>
  </dd>
  <dt>
    <p><strong>command</strong> <em>cmd</em></p>
  </dt>
  <dd>
    <ul>
<li><p>Call the specified command <em>cmd</em> on when each command is executed instead of tracing to a file. See the description of the functionally below. This option may not be specified with a <strong>fileid</strong>.</p></li>
</ul>
  </dd>

</dl>
</li><li><p>The most common use of this command is to enable tracing to a file during the development.  If a failure occurs, a trace is then available when needed. Command tracing will slow down the execution of code, so it should be removed when code is debugged.  The following command will enable tracing to a file for the remainder of the program:</p></li><li>
<pre>
	cmdtrace on [open cmd.log w]
</pre>
</li><li><p>The <strong>command</strong> option causes a user specified trace command to be called for each command executed. The command will have the following arguments appended to it before evaluation:</p>
<dl class='dl-vertical'>
  <dt>
    <em>command</em>
  </dt>
  <dd>
    <p>A string containing the text of the command, before any argument substitution.</p>
  </dd>
  <dt>
    <em>argv</em>
  </dt>
  <dd>
    <p>A list of the final argument information that will be passed to the command after command, variable, and backslash substitution.</p>
  </dd>
  <dt>
    <em>evalLevel</em>
  </dt>
  <dd>
    <p>The <strong>Tcl_Eval</strong> call level.</p>
  </dd>
  <dt>
    <em>procLevel</em>
  </dt>
  <dd>
    <p>The procedure call level.</p>
  </dd>

</dl>
</li><li><p>The command should be constructed in such a manner that it will work if additional arguments are added in the future.  It is suggested that the command be a <strong>proc</strong> with the final argument being <strong>args</strong>.</p></li><li><p>Tracing will be turned off while the command is being executed.  The values of the <strong>errorInfo</strong> and <strong>errorCode</strong> variables will be saved and restored on return from the command.  It is the command's responsibility to preserve all other state.</p></li><li><p>If an error occurs during the execution of <strong>command</strong>, an error message is dumped to stderr and the tracing is disabled.  The underlying mechanism that this functionality is built on does not support returning an error to the interpreter.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>cmdtrace off</strong></p>
  </dt>
  <dd>
    <p>Turn off all tracing.</p>
  </dd>
  <dt>
    <p><strong>cmdtrace depth</strong></p>
  </dt>
  <dd>
    <p>Returns the current maximum trace level, or zero if trace is disabled.</p>
  </dd>
  <dt>
    <p><strong>edprocs </strong>?<em>proc</em>...?</p>
  </dt>
  <dd>
    <p>This procedure writes the named procedures, or all currently defined procedures, to a temporary file, then calls an editor on it (as specified by the <strong>EDITOR</strong> environment variable, or <strong>vi</strong> if none is specified), then sources the file back in if it was changed.</p>
  </dd>
  <dt>
    <p><strong>profile</strong> ?<em>-commands</em>? ?<em>-eval</em>? <strong>on</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>profile off</strong> <em>arrayVar</em></p>
  </dt>
  <dd>
    <p>This command is used to collect a performance profile of a Tcl script.  It collects data at the Tcl procedure level. The number of calls to a procedure, and the amount of real and CPU time is collected. Time is also collected for the global context.  The procedure data is collected by bucketing it based on the procedure call stack, this allows determination of how much time is spent in a particular procedure in each of it's calling contexts.</p><p>The <strong>on</strong> option enables profile data collection. If the <strong>-commands</strong> option is specified, data on all commands within a procedure is collected as well a procedures.  Multiple occurrences of a command within a procedure are not distinguished, but this data may still be useful for analysis.</p><p>The <strong>off</strong> option turns off profiling and moves the data collected to the array <em>arrayVar</em>.  The array is address by a list containing the procedure call stack.  Element zero is the top of the stack, the procedure that the data is for.  The data in each entry is a list consisting of the procedure call count and the real time and CPU time in milliseconds spent in the procedure (but not any procedures it calls). The list is in the form {<em>count real cpu</em>}.</p><p>Normally, the variable scope stack is used in reporting where time is spent. Thus upleveled code is reported in the context that it was executed in, not the context that the uplevel was called in. If the <strong>-eval</strong> option is specified, the procedure evaluation (call) stack is used instead of the procedure scope stack.  Upleveled code is reported in the context of the procedure that did the uplevel.</p><p>A Tcl procedure <strong>profrep</strong> is supplied for reducing the data and producing a report.</p><p>On <strong>Windows</strong>, profile command only reports elapsed real time, CPU time is not available and is reported as zero.</p>
  </dd>
  <dt>
    <p><strong>profrep</strong> <em>profDataVar sortKey</em> ?<em>outFile</em>? ?<em>userTitle</em>?</p>
  </dt>
  <dd>
    <p>This procedure generates a report from data collect from the profile command. <strong>ProfDataVar</strong> is the name of the array containing the data returned by the <strong>profile</strong> command. <strong>SortKey</strong> indicates which data value to sort by. It should be one of "<strong>calls</strong>", "<strong>cpu</strong>" or "<strong>real</strong>". <strong>OutFile</strong> is the name of file to write the report to.  If omitted, stdout is assumed.  <strong>UserTitle</strong> is an optional title line to add to output.</p><ul>
<li><p>Listed with indentation below each procedure or command is the procedure call stack. The first indented line being the procedure that invoked the reported procedure or command. The next line is the procedure that invoked the procedure above it, and so on. If no indented procedures are shown, the procedure or command was called from the global context. Time actually spent in the global context is listed on a line labeled <strong>&lt;global&gt;</strong>. Upleveled code is reported in the context that it was executed in, not the context that the uplevel was called in.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>saveprocs</strong> <em>fileName</em> ?<em>proc</em>...?</p>
  </dt>
  <dd>
    <p>This procedure saves the definition of the named procedure, or all currently defined procedures if none is specified, to the named file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UNIX ACCESS COMMANDS</h2>
        <div class="sectioncontent">
<p>These commands provide access to many basic Unix facilities, including process handling, date and time processing, signal handling and the executing commands via the shell.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>alarm</strong> <em>seconds</em></p>
  </dt>
  <dd>
    <p>Instructs the system to send a SIGALRM signal in the specified number of seconds.  This is a floating point number, so fractions of a section may be specified. If <em>seconds</em> is 0.0, any previous alarm request is canceled. Only one alarm at a time may be active; the command returns the number of seconds left in the previous alarm.  On systems without the <strong>setitimer</strong> system call, <em>seconds</em> is rounded up to an integer number of seconds.</p><p>The <strong>alarm</strong> command is not available on <strong>Windows</strong>.</p>
  </dd>
  <dt>
    <p><strong>execl </strong>?<strong>-argv0</strong> argv0? <em>prog</em> ?<em>arglist</em>?</p>
  </dt>
  <dd>
    <p>Do an execl, replacing the current program (either Extended Tcl or an application with Extended Tcl embedded into it) with <em>prog</em> and passing the arguments in the list <em>arglist</em>.</p><p>The <strong>-argv0</strong> options specifies that <em>argv0</em> is to be passed to the program as argv [0] rather than <em>prog</em>.</p><p>Note: If you are using <strong>execl</strong> in a Tk application and it fails, you may not do anything that accesses the X server or you will receive a <strong>BadWindow</strong> error from the X server.  This includes executing the Tk version of the <strong>exit</strong> command.  We suggest using the following command to abort Tk applications after an <strong>execl</strong> failure:</p>
<pre>
    kill [id process]
</pre>
<p>On <strong>Windows</strong>, where the <strong>fork</strong> command is not available, <strong>execl</strong> starts a new process and returns the process id.</p>
  </dd>
  <dt>
    <p><strong>chroot</strong> <em>dirname</em></p>
  </dt>
  <dd>
    <p>Change root directory to <em>dirname</em>, by invoking the POSIX <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a></strong> system call.  This command only succeeds if running as root.</p>
  </dd>
  <dt>
    <p><strong>fork</strong></p>
  </dt>
  <dd>
    <p>Fork the current Tcl process.  Fork returns zero to the child process and the process number of the child to the parent process. If the fork fails, a Tcl error is generated.</p><p>If an <strong>execl</strong> is not going to be performed before the child process does output, or if a <strong>close</strong> and <strong>dup</strong> sequence is going to be performed on <strong>stdout</strong> or <strong>stderr</strong>, then a <strong>flush</strong> should be issued against <strong>stdout</strong>, <strong>stderr</strong> and any other open output file before doing the <strong>fork</strong>. Otherwise characters from the parent process pending in the buffers will be output by both the parent and child processes.</p><p>Note: If you are <strong>fork</strong>ing in a Tk based application you must <strong>execl</strong> before doing any window operations in the child or you will receive a <strong>BadWindow</strong> error from the X server.</p><p>The <strong>fork</strong> command is not available on <strong>Windows</strong>.</p>
  </dd>
  <dt>
    <p><strong>id options</strong></p>
  </dt>
  <dd>
    <ul>
<li><p>This command provides a means of getting, setting and converting user, group and process ids.  The <strong>id</strong> command has the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>id user </strong>?<em>name</em>?</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>id userid </strong>?<em>uid</em>?</p>
  </dt>
  <dd>
    <p>Set the real and effective user ID to <em>name</em> or <em>uid</em>, if the name (or uid) is valid and permissions allow it.  If the name (or uid) is not specified, the current name (or uid) is returned.</p>
  </dd>
  <dt>
    <p><strong>id convert userid</strong> <em>uid</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>id convert user</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Convert a user ID number to a user name, or vice versa.</p>
  </dd>
  <dt>
    <p><strong>id group </strong>?<em>name</em>?</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>id groupid </strong>?<em>gid</em>?</p>
  </dt>
  <dd>
    <p>Set the real and effective group ID to <em>name</em> or <em>gid</em>, if the name (or gid) is valid and permissions allow it.  If the group name (or gid) is not specified, the current group name (or gid) is returned.</p>
  </dd>
  <dt>
    <p><strong>id groups</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>id groupids</strong></p>
  </dt>
  <dd>
    <p>Return the current group access list of the process.  The option <strong>groups</strong> returns group names and <strong>groupids</strong> returns id numbers.</p>
  </dd>
  <dt>
    <p><strong>id convert groupid</strong> <em>gid</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>id convert group</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Convert a group ID number to a group name, or vice versa.</p>
  </dd>
  <dt>
    <p><strong>id effective user</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>id effective userid</strong></p>
  </dt>
  <dd>
    <p>Return the effective user name, or effective user ID number, respectively.</p>
  </dd>
  <dt>
    <p><strong>id effective group</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>id effective groupid</strong></p>
  </dt>
  <dd>
    <p>Return the effective group name, or effective group ID number, respectively.</p>
  </dd>
  <dt>
    <p><strong>id effective groupids</strong></p>
  </dt>
  <dd>
    <p>Return all of the groupids the user is a member of.</p>
  </dd>
  <dt>
    <p><strong>id host</strong></p>
  </dt>
  <dd>
    <p>Return the hostname of the system the program is running on.</p>
  </dd>
  <dt>
    <p><strong>id process</strong></p>
  </dt>
  <dd>
    <p>Return the process ID of the current process.</p>
  </dd>
  <dt>
    <p><strong>id process parent</strong></p>
  </dt>
  <dd>
    <p>Return the process ID of the parent of the current process.</p>
  </dd>
  <dt>
    <p><strong>id process group</strong></p>
  </dt>
  <dd>
    <p>Return the process group ID of the current process.</p>
  </dd>
  <dt>
    <p><strong>id process group set</strong></p>
  </dt>
  <dd>
    <p>Set the process group ID of the current process to its process ID.</p>
  </dd>
  <dt>
    <p><strong>id host</strong></p>
  </dt>
  <dd>
    <p>Returns the standard host name of the machine the process is executing on.</p><ul>
<li><p>On <strong>Windows</strong>, only the <strong>host</strong> and <strong>process</strong> options are implemented.</p></li>
</ul>
  </dd>

</dl>
</li>
</ul>
  </dd>
  <dt>
    <p><strong>kill</strong> ?<strong>-pgroup</strong> ?<em>signal</em>? <em>idlist</em></p>
  </dt>
  <dd>
    <ul>
<li><p>Send a signal to the each process in the list <em>idlist</em>, if permitted. <em>Signal</em>, if present, is the signal number or the symbolic name of the signal, see the signal system call manual page.  The leading ``SIG'' is optional when the signal is specified by its symbolic name. The default for <em>signo</em> is 15, SIGTERM.</p></li><li><p>If <strong>-pgroup</strong> is specified, the numbers in <em>idlist</em> are take as process group ids and the signal is sent to all of the process in that process group.  A process group id of <strong>0</strong> specifies the current process group.</p></li><li><p>On <strong>Windows</strong>, the <strong>kill</strong> command is capable of terminating a process, but not of sending an arbitrary signal.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>link</strong> ?<strong>-sym</strong>? <em>srcpath destpath</em></p>
  </dt>
  <dd>
    <ul>
<li><p>Create a directory entry, <em>destpath</em>, linking it to the existing file, <em>srcpath</em>.  If <strong>-sym</strong> is specified, a symbolic link, rather than a hard link, is created.  (The <strong>-sym</strong> option is only available on systems that support symbolic links.)</p></li><li><p>The <strong>link</strong> command is not available on <strong>Windows</strong>.  Use the Tcl 8.4+ <strong>file link</strong> command instead.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>nice </strong>?<em>priorityincr</em>?</p>
  </dt>
  <dd>
    <ul>
<li><p>Change or return the process priority. If <em>priorityincr</em> is omitted, the current priority is returned.  If <em>priorityincr</em> is positive, it is added to the current <em>priority</em> level, up to a system defined maximum (normally <strong>19</strong>),</p></li><li><p>Negative <em>priorityincr</em> values cumulatively increase the program's priority down to a system defined minimum (normally <strong>-19</strong>); increasing priority with negative niceness values will only work for the superuser.</p></li><li><p>The new priority is returned.</p></li><li><p>The <strong>nice</strong> command is not available on <strong>Windows</strong>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>readdir</strong> ?<em>-hidden</em>? <em>dirPath</em></p>
  </dt>
  <dd>
    <ul>
<li><p>Returns a list containing the contents of the directory <em>dirPath</em>.  The directory entries "." and ".." are not returned.</p></li><li><p>On <strong>Windows</strong>, <strong>-hidden</strong> maybe specified to include hidden files in the result.  This flag is ignored on Unix systems.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>signal</strong> ?<em>-restart</em>? <em>action</em> <em>siglist</em> ?<em>command</em>?</p>
  </dt>
  <dd>
    <ul>
<li><p>Warning:  If signals are being used as an event source (a <strong>trap</strong> action), rather than generating an error to terminate a task; one must use the <strong>-restart</strong> option.  This causes a blocked system call, such as <strong>read</strong> or <strong>waitpid</strong> to be restarted rather than generate an error.  Failure to do this may results in unexpected errors when a signal arrives while in one of these system calls. When available, the <strong>-restart</strong> option can prevent this problem.</p></li><li><p>If <strong>-restart</strong> is specified, restart blocking system calls rather than generating an error.  The signal will be handled once the Tcl command that issued the system call completes. The <strong>-restart</strong> options is not available on all operating systems and its use will generate an error when it is not supported. Use <strong>infox have_signal_restart</strong> to check for availability.</p></li><li><p>Specify the action to take when a Unix signal is received by Extended Tcl, or a program that embeds it.  <em>Siglist</em> is a list of either the symbolic or numeric Unix signal (the SIG prefix is optional). <em>Action</em> is one of the following actions to be performed on receipt of the signal.  To specify all modifiable signals, use `*' (this will not include SIGKILL and SIGSTOP, as they can not be modified).</p>
<dl class='dl-vertical'>
  <dt>
    <strong>default</strong>
  </dt>
  <dd>
    <p>Perform system default action when signal is received (see <strong>signal</strong> system call documentation).</p>
  </dd>
  <dt>
    <strong>ignore</strong>
  </dt>
  <dd>
    <p>Ignore the signal.</p>
  </dd>
  <dt>
    <strong>error</strong>
  </dt>
  <dd>
    <p>Generate a catchable Tcl error.  It will be as if the command that was running returned an error.  The error code will be in the form:</p>
<pre>
	<strong>POSIX SIG</strong> <em>signame</em>
</pre>
<p>For the death of child signal, <em>signame</em> will always be SIGCHLD, rather than SIGCLD, to allow writing portable code.</p>
  </dd>
  <dt>
    <strong>trap</strong>
  </dt>
  <dd>
    <p>When the signal occurs, execute <em>command</em> and continue execution if an error is not returned by <em>command</em>.  The command will be executed in the global context.  The command will be edited before execution, replacing occurrences of "%S" with the signal name. Occurrences of "%%" result in a single "%".  This editing occurs just before the trap command is evaluated. If an error is returned, then follow the standard Tcl error mechanism.  Often <em>command</em> will just do an <strong>exit</strong>.</p>
  </dd>
  <dt>
    <strong>get</strong>
  </dt>
  <dd>
    <p>Retrieve the current settings of the specified signals.  A keyed list will be returned were the keys are one of the specified signals and the values are a list consisting of the action associated with the signal, a <strong>0</strong> if the signal may be delivered (not block) and a <strong>1</strong> if it is blocked and a flag indicating if restarting of system calls is specified. The actions maybe one of `<strong>default</strong>',`<strong>ignore</strong>', `<strong>error</strong>' or `<strong>trap</strong>'.  If the action is trap, the third element is the command associated with the action.  The action `<strong>unknown</strong>' is returned if a non-Tcl signal handler has been associated with the signal.</p>
  </dd>
  <dt>
    <strong>set</strong>
  </dt>
  <dd>
    <p>Set signals from a keyed list in the format returned by the <strong>get</strong>.  For this action, <em>siglist</em> is the keyed list of signal state.  Signals with an action of `<strong>unknown</strong>' are not modified.</p>
  </dd>
  <dt>
    <strong>block</strong>
  </dt>
  <dd>
    <p>Block the specified signals from being received. (Posix systems only).</p>
  </dd>
  <dt>
    <strong>unblock</strong>
  </dt>
  <dd>
    <p>Allow the specified signal to be received. Pending signals will not occur. (Posix systems only).</p>
  </dd>

</dl>
</li><li><p>The signal action will remain enabled after the specified signal has occurred. The exception to this is <strong>SIGCHLD</strong> on systems without Posix signals. For these systems, <strong>SIGCHLD</strong> is not be automatically reenabled.  After a <strong>SIGCHLD</strong> signal is received, a call to <strong>wait</strong> must be performed to retrieve the exit status of the child process before issuing another <strong>signal SIGCHLD </strong><em>...</em> command.  For code that is to be portable between both types of systems, use this approach.</p></li><li><p>Signals are not processed until after the completion of the Tcl command that is executing when the signal is received.  If an interactive Tcl shell is running, then the <strong>SIGINT</strong> will be set to <strong>error</strong>, non-interactive Tcl sessions leave <strong>SIGINT</strong> unchanged from when the process started (normally <strong>default</strong> for foreground processes and <strong>ignore</strong> for processes in the background).</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>sleep</strong> <em>seconds</em></p>
  </dt>
  <dd>
    <p>Sleep the Extended Tcl process for <em>seconds</em> seconds. <em>Seconds\FR, if specified as a decimal number,</em> is truncated to an integer value.</p>
  </dd>
  <dt>
    <p><strong>system</strong> <em>cmdstr1</em> ?<em>cmdstr2</em>...?</p>
  </dt>
  <dd>
    <p>Concatenates  <em>cmdstr1</em>,  <em>cmdstr2</em> etc with space separators (see the <strong>concat</strong> command) into a single command and then evaluates the command using the standard system shell.  On Unix systems, this is <strong>/bin/sh</strong> and on Windows its <strong>command.com</strong>.  The exit code of the command is returned.</p><p>This command differs from the <strong>exec</strong> command in that <strong>system</strong> doesn't return the executed command's standard output as the result string, and <strong>system</strong> goes through the Unix shell to provide wild card expansion, redirection, etc, as is normal from an <strong>sh</strong> command line.</p>
  </dd>
  <dt>
    <p><strong>sync </strong>?<em>fileId</em>?</p>
  </dt>
  <dd>
    <ul>
<li><p>If <em>fileId</em> is not specified, or if it is and this system does not support the <em>fsync</em> system call, issues a <em>sync</em> system call to flush all pending disk output.  If <em>fileId</em> is specified and the system does support the <em>fsync</em> system call, issues an <em>fsync</em> on the file corresponding to the specified Tcl <em>fileId</em> to force all pending output to that file out to the disk.</p></li><li><p>If <em>fileId</em> is specified, the file must be writable.  A <strong>flush</strong> will be issued against the <em>fileId</em> before the sync.</p></li><li><p>The <em>infox have_fsync</em> command can be used to determine if "<strong>sync</strong> <em>fileId</em>" will do a <em>sync</em> or a <em>fsync</em>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>times</strong></p>
  </dt>
  <dd>
    <p>Return a list containing the process and child execution times in the form:</p>
<pre>
	<em>utime stime cutime cstime</em>
</pre>
<p>Also see the <a href="../man2/times.2.html"><strong>times</strong>(2)</a> system call manual page. The values are in milliseconds.</p>
  </dd>
  <dt>
    <p><strong>umask </strong>?<em>octalmask</em>?</p>
  </dt>
  <dd>
    <p>Sets file-creation mode mask to the octal value of <em>octalmask</em>. If <em>octalmask</em> is omitted, the current mask is returned.</p>
  </dd>
  <dt>
    <p><strong>wait </strong>?<strong>-nohang</strong>? ?<strong>-untraced</strong>? ?<strong>-pgroup</strong>? ?<em>pid</em>?</p>
  </dt>
  <dd>
    <p>Waits for a process created with the <strong>execl</strong> command to terminate, either due to an untrapped signal or call to <em>exit</em> system call. If the process id <em>pid</em> is specified, they wait on that process, otherwise wait on any child process to terminate.</p><p>If <strong>-nohang</strong> is specified, then don't block waiting on a process to terminate.  If no process is immediately available, return an empty list. If <strong>-untraced</strong> is specified then the status of child processes that are stopped, and whose status has not yet been reported since they stopped, are also returned. If <strong>-pgroup</strong> is specified and <em>pid</em> is not specified, then wait on any child process whose process group ID is they same as the calling process. If <em>pid</em> is specified with <strong>-pgroup</strong>, then it is take as a process group ID, waiting on any process in that process group to terminate.</p><p><strong>Wait</strong> returns a list containing three elements: The first element is the process id of the process that terminated. If the process exited normally, the second element is `EXIT', and the third contains the numeric exit code. If the process terminated due to a signal, the second element is `SIG', and the third contains the signal name. If the process is currently stopped (on systems that support SIGSTP), the second element is `STOP', followed by the signal name.</p><p>Note that it is possible to wait on processes to terminate that were create in the background with the <strong>exec</strong> command.  However, if any other <strong>exec</strong> command is executed after the process terminates, then the process status will be reaped by the <strong>exec</strong> command and will not be available to the <strong>wait</strong> command.</p><p>On systems without the <strong>waitpid</strong> system call, the <strong>-nohang</strong>, <strong>-untraced</strong> and <strong>-pgroup</strong> options are not available. The <strong>infox have_waitpid</strong> command maybe use to determine if this functionality is available.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE COMMANDS</h2>
        <div class="sectioncontent">
<p>These commands provide extended file access and manipulation. This includes searching ASCII-sorted data files, copying files, duplicating file descriptors, control of file access options, retrieving open file status, and creating pipes with the <strong>pipe</strong> system call.  Also linking files, setting file, process, and user attributes and truncating files. An interface to the <strong>select</strong> system call is available on Unix systems that support it.</p><p>It should be noted that Tcl file I/O is implemented on top of the stdio library.  By default, the file is buffered.  When communicating to a process through a pipe, a <strong>flush</strong> command should be issued to force the data out.  Alternatively, the <strong>fcntl</strong> command may be used to set the buffering mode of a file to line-buffered or unbuffered.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>bsearch</strong> <em>fileId key</em> ?<em>retvar</em>? ?<em>compare_proc</em>?</p>
  </dt>
  <dd>
    <p>Search an opened file <em>fileId</em> containing lines of text sorted into ascending order for a match. <em>Key</em> contains the string to match. If <em>retvar</em> is specified, then the line from the file is returned in <em>retvar</em>, and the command returns <strong>1</strong> if <em>key</em> was found, and <strong>0</strong> if it wasn't.  If <em>retvar</em> is not specified or is a null name, then the command returns the line that was found, or an empty string if <em>key</em> wasn't found.</p><p>By default, the key is matched against the first white-space separated field in each line.  The field is treated as an ASCII string.  If <em>compare_proc</em> is specified, then it defines the name of a Tcl procedure to evaluate against each line read from the sorted file during the execution of the <strong>bsearch</strong> command.  <em>Compare_proc</em> takes two arguments, the key and a line extracted from the file.  The compare routine should return a number less than zero if the key is less than the line, zero if the key matches the line, or greater than zero if the key is greater than the line. The file must be sorted in ascending order according to the same criteria <em>compare_proc</em> uses to compare the key with the line, or erroneous results will occur.</p><p>This command does not work on files containing binary data (bytes of zero).</p>
  </dd>
  <dt>
    <p><strong>chmod </strong>[<strong>-fileid</strong>] <em>mode</em> <em>filelist</em></p>
  </dt>
  <dd>
    <p>Set permissions of each of the files in the list <em>filelist</em> to <em>mode</em>, where <em>mode</em> is an absolute numeric mode or symbolic permissions as in the UNIX <a href="../man1/chmod.1.html"><strong>chmod</strong>(1)</a></strong> command.  To specify a mode as octal, it should be prefixed with a "0" (e.g. 0622).</p><p>If the option <strong>-fileid</strong> is specified, <em>filelist</em> is a list of open file identifiers rather than a list of file names.  This option is not available on all Unix systems.  Use the <strong>infox have_fchmod</strong> command to determine if this functionality is available.</p><p>The <strong>chmod</strong> command is not available on <strong>Windows</strong>.</p>
  </dd>
  <dt>
    <p><strong>chown </strong>[<strong>-fileid</strong>] <em>owner</em> | {<em>owner group</em>} <em>filelist</em></p>
  </dt>
  <dd>
    <p>Set owner of each file in the list <em>filelist</em> to <em>owner</em>, which can be a user name or numeric user id.  If the first parameter is a list, then the owner is set to the first element of the list and the group is set to the second element.  <em>Group</em> can be a group name or numeric group id. If <em>group</em> is {}, then the file group will be set to the login group of the specified user.</p><p>If the option <strong>-fileid</strong> is specified, <em>filelist</em> is a list of open file identifiers rather than a list of file names.  This option is not available on all Unix systems.  Use the <strong>infox have_fchown</strong> command to determine if this functionality is available.</p><p>The <strong>chown</strong> command is not available on <strong>Windows</strong>.</p>
  </dd>
  <dt>
    <p><strong>chgrp </strong>[<strong>-fileid</strong>] <em>group</em> <em>filelist</em></p>
  </dt>
  <dd>
    <p>Set the group id of each file in the list <em>filelist</em> to <em>group</em>, which can be either a group name or a numeric group id.</p><p>If the option <strong>-fileid</strong> is specified, <em>filelist</em> is a list of open file identifiers rather than a list of file names.  This option is not available on all Unix systems.  Use the <strong>infox have_fchown</strong> command to determine if this functionality is available.</p><p>The <strong>chgrp</strong> command is not available on <strong>Windows</strong>.</p>
  </dd>
  <dt>
    <p><strong>dup</strong> <em>fileId</em> ?<em>targetFileId</em>?</p>
  </dt>
  <dd>
    <p>Duplicate an open file.  A new file id is opened that addresses the same file as <em>fileId</em>.</p><p>If <em>targetFileId</em> is specified, the the file is dup to this specified file id.  Normally this is <strong>stdin</strong>, <strong>stdout</strong>, or <strong>stderr</strong>. The dup command will handle flushing output and closing this file. The new file will be buffered, if its needs to be unbuffered, use the <strong>fcntl</strong> command to set it unbuffered.</p><p>If <em>fileId</em> is a number rather than a Tcl file id, then the <strong>dup</strong> command will bind that file to a Tcl file id.  This is useful for accessing files that are passed from the parent process. The argument ?<em>targetFileId</em>? is not valid with this operation.</p><p>On <strong>Windows</strong>, only <strong>stdin</strong>, <strong>stdout</strong>, or <strong>stderr</strong> or a non-socket file handle number maybe specified for <em>targetFileId</em>.  The <strong>dup</strong> command does not work on sockets on <strong>Windows</strong>.</p>
  </dd>
  <dt>
    <p><strong>fcntl</strong> <em>fileId</em> <em>attribute ?value</em>?</p>
  </dt>
  <dd>
    <p>This command either sets or clears a file option or returns its current value.  If <em>value</em> is not specified, then the current value of <strong>attribute</strong> is returned.  All values are boolean. Some attributes maybe only be gotten, not modified. The following attributes may be specified:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>RDONLY</strong>
  </dt>
  <dd>
    <p>The file is opened for reading only. (Get only)</p>
  </dd>
  <dt>
    <strong>WRONLY</strong>
  </dt>
  <dd>
    <p>The file is opened for writing only.  (Get only)</p>
  </dd>
  <dt>
    <strong>RDWR</strong>
  </dt>
  <dd>
    <p>The file is opened for reading and writing.  (Get only)</p>
  </dd>
  <dt>
    <strong>READ</strong>   
  </dt>
  <dd>
    <p>If the file is readable. (Get only).</p>
  </dd>
  <dt>
    <strong>WRITE</strong>
  </dt>
  <dd>
    <p>If the file is writable. (Get only).</p>
  </dd>
  <dt>
    <strong>APPEND</strong>
  </dt>
  <dd>
    <p>The file is opened for append-only writes.  All writes will be forced to the end of the file. (Get or set).</p>
  </dd>
  <dt>
    <strong>NONBLOCK</strong>
  </dt>
  <dd>
    <p>The file is to be accessed with non-blocking I/O.  See the <strong>read</strong> system call for a description of how it affects the behavior of file reads.</p>
  </dd>
  <dt>
    <strong>CLOEXEC</strong>
  </dt>
  <dd>
    <p>Close the file on an process exec.  If the <strong>execl</strong> command or some other mechanism causes the process to do an exec, the file will be closed if this option is set.</p>
  </dd>
  <dt>
    <strong>NOBUF</strong>
  </dt>
  <dd>
    <p>The file is not buffered. If set, then there no buffering for the file.</p>
  </dd>
  <dt>
    <strong>LINEBUF</strong>
  </dt>
  <dd>
    <p>Output the file will be line buffered. The buffer will be flushed when a newline is written, when the buffer is full, or when input is requested.</p>
  </dd>
  <dt>
    <strong>KEEPALIVE</strong>
  </dt>
  <dd>
    <p>Keep a socket connection alive. If SIGPIPE is enabled, then it is sent if connection is broken and data is written to the socket. If SIGPIPE is ignored, an error is returned on the write.  This attribute is valid only on sockets. By default, SIGPIPE is ignored in Tcl.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>NONBLOCK</strong>, <strong>NOBUF</strong> and <strong>LINEBUF</strong> are provided for compatibility with older scripts. The<strong>fconfigure</strong> command is preferred method of getting and setting these attributes.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The <strong>APPEND</strong> and <strong>CLOEXEC</strong> options are not available on <strong>Windows</strong>.</p>
  </dd>

</dl>

  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>flock</strong> <em>options fileId</em> ?<em>start</em>? ?<em>length</em>? ?<em>origin</em>?</p>
  </dt>
  <dd>
    <ul>
<li><p>This command places a lock on all or part of the file specified by <em>fileId</em>.  The lock is either advisory or mandatory, depending on the mode bits of the file.  The lock is placed beginning at relative byte offset <em>start</em> for <em>length</em> bytes.  If <em>start</em> or <em>length</em> is omitted or empty, zero is assumed.  If <em>length</em> is zero, then the lock always extents to end of file, even if the file grows.  If <em>origin</em> is "<strong>start</strong>", then the offset is relative to the beginning of the file. If it is "<strong>current</strong>", it is relative to the current access position in the file. If it is "<strong>end</strong>", then it is relative to the end-of-file (a negative is before the EOF, positive is after).  If <em>origin</em> is omitted, <strong>start</strong> is assumed.</p></li><li><p>The following <em>options</em> are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-read</strong>
  </dt>
  <dd>
    <p>Place a read lock on the file.  Multiple processes may be accessing the file with read-locks.</p>
  </dd>
  <dt>
    <strong>-write</strong>
  </dt>
  <dd>
    <p>Place a write lock on the file.  Only one process may be accessing a file if there is a write lock.</p>
  </dd>
  <dt>
    <strong>-nowait</strong>
  </dt>
  <dd>
    <p>If specified, then the process will not block if the lock can not be obtained.  With this option, the command returns 1 if the lock is obtained and 0 if it is not.</p>
  </dd>

</dl>
</li><li><p>See your system's <strong>fcntl</strong> system call documentation for full details of the behavior of file locking.  If locking is being done on ranges of a file, it is best to use unbuffered file access (see the <strong>fcntl</strong> command).</p></li><li><p>The <strong>flock</strong> command is not available on <strong>Windows 95</strong>. It is available on <strong>Windows NT</strong>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>for_file</strong> <em>var filename code</em></p>
  </dt>
  <dd>
    <p>This procedure implements a loop over the contents of a file. For each line in <em>filename</em>, it sets <em>var</em> to the line and executes <em>code</em>.</p><p>The <strong>break</strong> and <strong>continue</strong> commands work as with foreach.</p><p>For example, the command</p>
<pre>
	for_file line /etc/passwd {echo $line}
</pre>
<p>would echo all the lines in the password file.</p>
  </dd>
  <dt>
    <p><strong>funlock</strong> <em>fileId</em> ?<em>start</em>? ?<em>length</em>? ?<em>origin</em>?</p>
  </dt>
  <dd>
    <p>Remove a locked from a file that was previously placed with the <em>flock</em> command.  The arguments are the same as for the <em>flock</em> command, see that command for more details.</p><p>The <strong>funlock</strong> command is not available on <strong>Windows 95</strong>. It is available on <strong>Windows NT</strong>.</p>
  </dd>
  <dt>
    <p><strong>fstat</strong> <em>fileId</em> ?<em>item</em>? | ?<strong>stat </strong><em>arrayvar</em>?</p>
  </dt>
  <dd>
    <ul>
<li><p>Obtain status information about an open file.</p></li><li><p>The following keys are used to identify data items:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>atime</strong>
  </dt>
  <dd>
    <p>The time of last access.</p>
  </dd>
  <dt>
    <strong>ctime</strong>
  </dt>
  <dd>
    <p>The time of last file status change</p>
  </dd>
  <dt>
    <strong>dev</strong>
  </dt>
  <dd>
    <p>The device containing a directory for the file.  This value uniquely identifies the file system that contains the file.</p>
  </dd>
  <dt>
    <strong>gid</strong>
  </dt>
  <dd>
    <p>The group ID of the file's group.</p>
  </dd>
  <dt>
    <strong>ino</strong>
  </dt>
  <dd>
    <p>The inode number.  This field uniquely identifies the file in a given file system.</p>
  </dd>
  <dt>
    <strong>mode</strong>
  </dt>
  <dd>
    <p>The mode of the file (see the <strong>mknod</strong> system call).</p>
  </dd>
  <dt>
    <strong>mtime</strong>
  </dt>
  <dd>
    <p>Time when the data in the file was last modified.</p>
  </dd>
  <dt>
    <strong>nlink</strong>
  </dt>
  <dd>
    <p>The number of links to the file.</p>
  </dd>
  <dt>
    <strong>size</strong>
  </dt>
  <dd>
    <p>The file size in bytes.</p>
  </dd>
  <dt>
    <strong>tty</strong>
  </dt>
  <dd>
    <p>If the file is associated with a terminal, then 1 otherwise 0.</p>
  </dd>
  <dt>
    <strong>type</strong>
  </dt>
  <dd>
    <p>The type of the file in symbolic form, which is one of the following values: <strong>file</strong>, <strong>directory</strong>, <strong>characterSpecial</strong>, <strong>blockSpecial</strong>, <strong>fifo</strong>, <strong>link</strong>, or <strong>socket</strong>.</p>
  </dd>
  <dt>
    <strong>uid</strong>
  </dt>
  <dd>
    <p>The user ID of the file's owner.</p>
  </dd>

</dl>
</li><li><p>If one of these keys is specified as <em>item</em>, then that data item is returned.</p></li><li><p>If <strong>stat </strong><em>arrayvar</em> is specified, then the information is returned in the array <em>arrayvar</em>.  Each of the above keys indexes an element of the array containing the data.</p></li><li><p>If only <em>fileId</em> is specified, the command returns the data as a keyed list.</p></li><li><p>The following values may be returned only if explicitly asked for, it will not be returned with the array or keyed list forms:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>remotehost</strong>
  </dt>
  <dd>
    <p>If <em>fileId</em> is a TCP/IP socket connection, then a list is returned with the first element being the remote host IP address.  If the remote host name can be found, it is returned as the second element of the list.  The remote host IP port number is the third element.</p>
  </dd>
  <dt>
    <strong>localhost</strong>
  </dt>
  <dd>
    <p>If <em>fileId</em> is a TCP/IP socket connection, then a list is returned with the first element being the local host IP address.  If the local host name can be found, it is returned as the second element of the list.  The local host IP port number is the third element.</p>
  </dd>

</dl>
</li>
</ul>
  </dd>
  <dt>
    <p><strong>ftruncate </strong>[<strong>-fileid</strong>] <em>file newsize</em></p>
  </dt>
  <dd>
    <p>Truncate a file to have a length of at most <em>newsize</em> bytes.</p><p>If the option <strong>-fileid</strong> is specified, <em>file</em> is an open file identifier, otherwise it is a file path.</p><p>This command is not available or not fully functional if the underlying operating system support is not available.  The command <strong>infox have_truncate</strong> will indicate if this command may truncate by file path.  The command <strong>infox have_ftruncate</strong> will indicate if this command may truncate by file id.</p><p>The <strong>-fileid</strong> option is not available on <strong>Windows</strong>.</p>
  </dd>
  <dt>
    <p><strong>lgets</strong> <em>fileId</em> ?<em>varName</em>?</p>
  </dt>
  <dd>
    <p>Reads the next Tcl list from the file given by <em>fileId</em> and discards the terminating newline character.  This command differs from the <strong>gets</strong> command, in that it reads Tcl lists rather than lines.  If the list contains newlines or binary data, then that newline or bytes of zero will be returned as part of the result. Only a newline not quoted as part of the list indicates the end of the list. There is no corresponding command for outputting lists, as <strong>puts</strong> will do this correctly.</p><p>If <em>varName</em> is specified, then the line is placed in the variable by that name and the return value is a count of the number of characters read (not including the newline). If the end of the file is reached before reading any characters then -1 is returned and <em>varName</em> is set to an empty string. If <em>varName</em> is specified and an error occurs, what ever data was read will be returned in the variable, however the resulting string may not be a valid list.</p><p>If <em>varName</em> is not specified then the return value will be the line (minus the newline character) or an empty string if the end of the file is reached before reading any characters. An empty string will also be returned if a line contains no characters except the newline, so <strong>eof</strong> may have to be used to determine what really happened.</p><p>The <strong>lgets</strong> command maybe used to read and write lists containing binary data, however translation must be set to <strong>lf</strong> or the data maybe corrupted.</p><p>If <strong>lgets</strong> is currently supported on non-blocking files.</p>
  </dd>
  <dt>
    <p><strong>pipe</strong> ?<em>fileId_var_r fileId_var_w</em>?</p>
  </dt>
  <dd>
    <p>Create a pipe.  If <em>fileId_var_r</em> and <em>fileId_var_r</em> are specified, then <strong>pipe</strong> will set the a variable named <em>fileId_var_r</em> to contain the fileId of the side of the pipe that was opened for reading, and <em>fileId_var_w</em> will contain the fileId of the side of the pipe that was opened for writing.</p><p>If the fileId variables are not specified, then a list containing the read and write fileIdw is returned as the result of the command.</p>
  </dd>
  <dt>
    <p><strong>read_file</strong> ?<strong>-nonewline</strong>? <em>fileName</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>read_file</strong> <em>fileName</em> <em>numBytes</em></p>
  </dt>
  <dd>
    <p>This procedure reads the file <em>fileName</em> and returns the contents as a string.  If <strong>-nonewline</strong> is specified, then the last character of the file is discarded if it is a newline.  The second form specifies exactly how many bytes will be read and returned, unless there are fewer than <em>numBytes</em> bytes left in the file; in this case, all the remaining bytes are returned.</p>
  </dd>
  <dt>
    <p><strong>select</strong> <em>readfileIds</em> ?<em>writefileIds</em>? ?<em>exceptfileIds</em>? ?<em>timeout</em>?</p>
  </dt>
  <dd>
    <p>This command allows an Extended Tcl program to wait on zero or more files being ready for for reading, writing, have an exceptional condition pending, or for a timeout period to expire. <em>readFileIds</em>, <em>writeFileIds</em>, <em>exceptFileIds</em> are each lists of fileIds, as returned from <strong>open</strong>, to query.  An empty list ({}) may be specified if a category is not used.</p><p>The files specified by the <em>readFileIds</em> list are checked to see if data is available for reading. The <em>writeFileIds</em> are checked if the specified files are clear for writing. The <em>exceptFileIds</em> are checked to see if an exceptional condition has occurred (typically, an error). The write and exception checking is most useful on devices, however, the read checking is very useful when communicating with multiple processes through pipes.  Select considers data pending in the stdio input buffer for read files as being ready for reading, the files do. not have to be unbuffered.</p><p><em>Timeout</em> is a floating point timeout value, in seconds.  If an empty list is supplied (or the parameter is omitted), then no timeout is set.  If the value is zero, then the <strong>select</strong> command functions as a poll of the files, returning immediately even if none are ready.</p><p>If the <em>timeout</em> period expires with none of the files becoming ready, then the command returns an empty list.  Otherwise the command returns a list of three elements, each of those elements is a list of the fileIds that are ready in the read, write and exception classes.  If none are ready in a class, then that element will be the null list.  For example:</p>
<pre>
        select {file3 file4 file5} {file6 file7} {} 10.5

could return

        {file3 file4} {file6} {}

or perhaps

        file3 {} {}
</pre>
<p>On <strong>Windows</strong>, only sockets can be used with the <strong>select</strong> command. Pipes, as returned by the <strong>open</strong> command, are not supported.</p>
  </dd>
  <dt>
    <p><strong>write_file</strong> <em>fileName string ?string...?</em></p>
  </dt>
  <dd>
    <p>This procedure writes the specified strings to the named file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NETWORK PROGRAMMING SUPPORT</h2>
        <div class="sectioncontent">
<p>TclX provides functionality to complement the Tcl <strong>socket</strong> command. The <strong>host_info</strong> command is used to get information about a host by name or IP address.  In addition, the <strong>fstat</strong> and <strong>fcntl</strong> commands provide options of querying and controlling connected sockets. To obtain the host name of the system the local system, use the <strong>id host</strong> command.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>host_info </strong><em>option</em> <em>host</em></p>
  </dt>
  <dd>
    <p>Obtain information about an Internet host. The argument <em>host</em> can be either a host name or an IP address.</p><ul>
<li><p>The following subcommands are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>addresses</strong>
  </dt>
  <dd>
    <p>Return the list of IP addresses for <em>host</em>.</p>
  </dd>
  <dt>
    <strong>official_name</strong>
  </dt>
  <dd>
    <p>Return official name for <em>host</em>.</p>
  </dd>
  <dt>
    <strong>aliases</strong>
  </dt>
  <dd>
    <p>Return the list of aliases for <em>host</em>. (Note that these are IP number aliases, not DNS <em>CNAME</em> aliases. See <strong>ifconfig</strong>(2)</em>.)</p>
  </dd>

</dl>
</li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE SCANNING COMMANDS</h2>
        <div class="sectioncontent">
<p>These commands provide a facility to scan files, matching lines of the file against regular expressions and executing Tcl code on a match.  With this facility you can use Tcl to do the sort of file processing that is traditionally done with <em>awk</em>.  And since Tcl's approach is more declarative, some of the scripts that can be rather difficult to write in awk are simple to code in Tcl.</p><p>File scanning in Tcl centers around the concept of a <em>scan context</em>. A scan context contains one or more match statements, which associate regular expressions to scan for with Tcl code to be executed when the expressions are matched.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>scancontext</strong> ?<em>option</em>?</p>
  </dt>
  <dd>
    <p>This command manages file scan contexts.  A scan context is a collection of regular expressions and commands to execute when that regular expression matches a line of the file.  A context may also have a single default match, to be applied against lines that do not match any of the regular expressions. Multiple scan contexts may be defined and they may be reused on multiple files. A scan context is identified by a context handle.  The <strong>scancontext</strong> command takes the following forms:</p>
  </dd>
  <dt>
    <p><strong>scancontext create</strong></p>
  </dt>
  <dd>
    <p>Create a new scan context.  The <strong>scanmatch</strong> command is used to define patterns in the context.  A contexthandle is returned, which the Tcl programmer uses to refer to the newly created scan context in calls to the Tcl file scanning commands.</p>
  </dd>
  <dt>
    <p><strong>scancontext delete</strong> <em>contexthandle</em></p>
  </dt>
  <dd>
    <p>Delete the scan context identified by <em>contexthandle</em>, and free all of the match statements and compiled regular expressions associated with the specified context.</p>
  </dd>
  <dt>
    <p><strong>scancontext copyfile</strong> <em>contexthandle</em> ?<em>filehandle</em>?</p>
  </dt>
  <dd>
    <p>Set or return the file handle that unmatched lines are copied to. (See <strong>scanfile</strong>).  If <em>filehandle</em> is omitted, the copy file handle is returned.  If no copy file is associated with the context, {} is returned. If a file handle is specified, it becomes the copy file for this context.  If <em>filehandle</em> is {}, then it removes any copy file specification for the context.</p>
  </dd>
  <dt>
    <p><strong>scanfile</strong> ?<em>-copyfile copyFileId</em>? <em>contexthandle</em> <em>fileId</em></p>
  </dt>
  <dd>
    <p>Scan the file specified by <em>fileId</em>, starting from the current file position.  Check all patterns in the scan context specified by <em>contexthandle</em> against it, executing the match commands corresponding to patterns matched.</p><p>If the optional <em>-copyfile</em> argument is specified, the next argument is a file ID to which all lines not matched by any pattern (excluding the default pattern) are to be written.  If the copy file is specified with this flag, instead of using the <strong>scancontext copyfile</strong> command, the file is disassociated from the scan context at the end of the scan.</p><p>This command does not work on files containing binary data (bytes of zero).</p>
  </dd>
  <dt>
    <p><strong>scanmatch</strong> ?<em>-nocase</em>? <em>contexthandle</em> ?<em>regexp</em>? <em>commands</em></p>
  </dt>
  <dd>
    <ul>
<li><p>Specify Tcl <em>commands</em>, to be evaluated when <em>regexp</em> is matched by a <strong>scanfile</strong> command.  The match is added to the scan context specified by <em>contexthandle</em>.  Any number of match statements may be specified for a give context.  <em>Regexp</em> is a regular expression (see the <strong>regexp</strong> command).  If <strong>-nocase</strong> is specified as the first argument, the pattern is matched regardless of alphabetic case.</p></li><li><p>If <em>regexp</em> is not specified, then a default match is specified for the scan context.  The default match will be executed when a line of the file does not match any of the regular expressions in the current scancontext.</p></li><li><p>The array <strong>matchInfo</strong> is available to the Tcl code that is executed when an expression matches (or defaults).  It contains information about the file being scanned and where within it the expression was matched.</p></li><li><p><strong>matchInfo</strong> is local to the top level of the match command unless declared global at that level by the Tcl <strong>global</strong> command.  If it is to be used as a global, it <em>must</em> be declared global before <strong>scanfile</strong> is called (since <strong>scanfile</strong> sets the <strong>matchInfo</strong> before the match code is executed, a subsequent <strong>global</strong> will override the local variable). The following array entries are available:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>matchInfo(line)</strong></p>
  </dt>
  <dd>
    <p>Contains the text of the line of the file that was matched.</p>
  </dd>
  <dt>
    <p><strong>matchInfo(offset)</strong></p>
  </dt>
  <dd>
    <p>The byte offset into the file of the first character of the line that was matched.</p>
  </dd>
  <dt>
    <p><strong>matchInfo(linenum)</strong></p>
  </dt>
  <dd>
    <p>The line number of the line that was matched. This is relative to the first line scanned, which is usually, but not necessarily, the first line of the file.  The first line is line number one.</p>
  </dd>
  <dt>
    <p><strong>matchInfo(context)</strong></p>
  </dt>
  <dd>
    <p>The context handle of the context that this scan is associated with.</p>
  </dd>
  <dt>
    <p><strong>matchInfo(handle)</strong></p>
  </dt>
  <dd>
    <p>The file id (handle) of the file currently being scanned.</p>
  </dd>
  <dt>
    <p><strong>matchInfo(copyHandle)</strong></p>
  </dt>
  <dd>
    <p>The file id (handle) of the file specified by the <strong>-copyfile</strong> option. The element does not exist if <strong>-copyfile</strong> was not specified.</p>
  </dd>
  <dt>
    <p><strong>matchInfo(submatch0)</strong></p>
  </dt>
  <dd>
    <p>Will contain the characters matching the first parenthesized subexpression. The second will be contained in <strong>submatch1</strong>, etc.</p>
  </dd>
  <dt>
    <p><strong>matchInfo(subindex0)</strong></p>
  </dt>
  <dd>
    <p>Will contain the a list of the starting and ending indices of the string matching the first parenthesized subexpression. The second will be contained in <strong>subindex1</strong>, etc.</p>
  </dd>

</dl>
</li><li><p>All <strong>scanmatch</strong> patterns that match a line will be processed in the order in which their specifications were added to the scan context.  The remainder of the <strong>scanmatch</strong> pattern-command pairs may be skipped for a file line if a <strong>continue</strong> is executed by the Tcl code of a preceding, matched pattern.</p></li><li><p>If a <strong>return</strong> is executed in the body of the match command, the <strong>scanfile</strong> command currently in progress returns, with the value passed to <strong>return</strong> as its return value.</p></li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MATH COMMANDS</h2>
        <div class="sectioncontent">
<p>Several extended math commands commands make many additional math functions available in TclX.  In addition, a set of procedures provide command access to the math functions supported by the <strong>expr</strong> command.</p><p>The following procedures provide command interfaces to the expr math functions. They take the same arguments as the <strong>expr</strong> functions and may take expressions as arguments.</p>
<pre>
<strong>abs</strong>	<strong>acos</strong>	<strong>asin</strong>	<strong>atan2</strong>
<strong>atan</strong>	<strong>ceil</strong>	<strong>cos</strong>	<strong>cosh</strong>
<strong>double</strong>	<strong>exp</strong>	<strong>floor</strong>	<strong>fmod</strong>
<strong>hypot</strong>	<strong>int</strong>	<strong>log10</strong>	<strong>log</strong>
<strong>pow</strong>	<strong>round</strong>	<strong>sin</strong>	<strong>sinh</strong>
<strong>sqrt</strong>	<strong>tan</strong>	<strong>tanh</strong>
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong>max</strong> <em>num1</em> ?..<em>numN</em>?</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>expr max(num1, num2)</strong></p>
  </dt>
  <dd>
    <p>Returns the argument that has the highest numeric value. Each argument may be any integer or floating point value.</p><p>This functionality is also available as a math function <strong>max</strong> in the Tcl <strong>expr</strong> command.</p>
  </dd>
  <dt>
    <p><strong>min</strong> <em>num1</em> ?..<em>numN</em>?</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>expr min(num1, num2)</strong></p>
  </dt>
  <dd>
    <p>Returns the argument that has the lowest numeric value.  Each argument may be any integer or floating point value.</p><p>This functionality is also available as a math function <strong>min</strong> in the Tcl <strong>expr</strong> command.</p>
  </dd>
  <dt>
    <p><strong>random</strong> <em>limit</em> | <strong>seed</strong> ?<em>seedval</em>?</p>
  </dt>
  <dd>
    <p>Generate a pseudorandom integer number greater than or equal to zero and less than <em>limit</em>.  If <strong>seed</strong> is specified, then the command resets the random number generator to a starting point derived from the <strong>seedval</strong>. This allows one to reproduce pseudorandom number sequences for testing purposes. If <em>seedval</em> is omitted, then the seed is set to a value based on current system state and the current time, providing a reasonably interesting and ever-changing seed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIST MANIPULATION COMMANDS</h2>
        <div class="sectioncontent">
<p>Extended Tcl provides additional list manipulation commands and procedures.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>intersect</strong> <em>lista listb</em></p>
  </dt>
  <dd>
    <p>Procedure to return the logical intersection of two lists. The returned list will be sorted.</p>
  </dd>
  <dt>
    <p><strong>intersect3</strong> <em>lista listb</em></p>
  </dt>
  <dd>
    <p>Procedure to intersects two lists, returning a list containing three lists:  The first list returned is everything in <em>lista</em> that wasn't in <em>listb</em>.  The second list contains the intersection of the two lists, and the third list contains all the elements that were in <em>listb</em> but weren't in <em>lista</em>.  The returned lists will be sorted.</p>
  </dd>
  <dt>
    <p><strong>lassign</strong> <em>list var</em> ?<em>var</em>...?</p>
  </dt>
  <dd>
    <p>Assign successive elements of a list to specified variables. If there are more variable names than fields, the remaining variables are set to the empty string.  If there are more elements than variables, a list of the unassigned elements is returned.</p><p>For example,</p>
<pre>
    lassign {dave 100 200 {Dave Foo}} name uid gid longName
</pre>
<p>Assigns <em>name</em> to ``dave'', <em>uid</em> to ``100'', <em>gid</em> to ``200'', and <em>longName</em> to ``Dave Foo''.</p>
  </dd>
  <dt>
    <p><strong>lcontain</strong> <em>list element</em></p>
  </dt>
  <dd>
    <p>Determine if the <em>element</em> is a list element of <em>list</em>. If the element is contained in the list, 1 is returned, otherwise, 0 is returned.</p>
  </dd>
  <dt>
    <p><strong>lempty</strong> <em>list</em></p>
  </dt>
  <dd>
    <p>Determine if the specified list is empty. If empty, 1 is returned, otherwise, 0 is returned.  This command is an alternative to comparing a list to an empty string, however it checks for a string of all whitespaces, which is an empty list.</p>
  </dd>
  <dt>
    <p><strong>lmatch </strong>?<em>mode</em>? <em>list pattern</em></p>
  </dt>
  <dd>
    <ul>
<li><p>Search the elements of <em>list</em>, returning a list of all elements matching <em>pattern</em>.  If none match, an empty list is returned.</p></li><li><p>The <em>mode</em> argument indicates how the elements of the list are to be matched against <em>pattern</em> and it must have one of the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-exact</strong>
  </dt>
  <dd>
    <p>The list element must contain exactly the same string as <em>pattern</em>.</p>
  </dd>
  <dt>
    <strong>-glob</strong>
  </dt>
  <dd>
    <p><em>Pattern</em> is a glob-style pattern which is matched against each list element using the same rules as the <strong>string match</strong> command.</p>
  </dd>
  <dt>
    <strong>-regexp</strong>
  </dt>
  <dd>
    <p><em>Pattern</em> is treated as a regular expression and matched against each list element using the same rules as the <strong>regexp</strong> command.</p>
  </dd>

</dl>
</li><li><p>If <em>mode</em> is omitted then it defaults to <strong>-glob</strong>.</p><p>Only the <strong>-exact</strong> comparison will work on binary data.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>lrmdups</strong> <em>list</em></p>
  </dt>
  <dd>
    <p>Procedure to remove duplicate elements from a list.  The returned list will be sorted.</p>
  </dd>
  <dt>
    <p><strong>lvarcat</strong><em> var string ?</em><em>string...</em>?</p>
  </dt>
  <dd>
    <p>This command treats each <em>string</em> argument as a list and concatenates them to the end of the contents of <em>var</em>, forming a a single list.  The list is stored back into <em>var</em> and also returned as the result.  if <em>var</em> does not exist, it is created.</p>
  </dd>
  <dt>
    <p><strong>lvarpop</strong> <em>var</em> ?<em>indexExpr</em>? ?<em>string</em>?</p>
  </dt>
  <dd>
    <p>The <strong>lvarpop</strong> command pops (deletes) the element indexed by the expression <em>indexExpr</em> from the list contained in the variable <em>var</em>. If <em>index</em> is omitted, then 0 is assumed. If <em>string</em>, is specified, then the deleted element is replaced by <em>string</em>. The replaced or deleted element is returned. Thus ``lvarpop argv 0'' returns the first element of argv, setting argv to contain the remainder of the string.</p><p>If the expression <em>indexExpr</em> starts with the string <strong>end</strong>, then <strong>end</strong> is replaced with the index of the last element in the list.  If the expression starts with <strong>len</strong>, then <strong>len</strong> is replaced with the length of the list.</p>
  </dd>
  <dt>
    <p><strong>lvarpush</strong> <em>var string</em> ?<em>indexExpr</em>?</p>
  </dt>
  <dd>
    <p>The <strong>lvarpush</strong> command pushes (inserts) <em>string</em> as an element in the list contained in the variable <em>var</em>.  The element is inserted before position <em>indexExpr</em> in the list. If <em>index</em> is omitted, then 0 is assumed.  If <em>var</em> does not exists, it is created.</p><p>If the expression <em>indexExpr</em> starts with the string <strong>end</strong>, then <strong>end</strong> is replaced with the index of the last element in the list.  If the expression starts with <strong>len</strong>, then <strong>len</strong> is replaced with the length of the list.  Note the a value of <strong>end</strong> means insert the string before the last element.</p>
  </dd>
  <dt>
    <p><strong>union</strong> <em>lista listb</em></p>
  </dt>
  <dd>
    <p>Procedure to return the logical union of the two specified lists. Any duplicate elements are removed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KEYED LISTS</h2>
        <div class="sectioncontent">
<p>Extended Tcl defines a special type of list referred to as <em>keyed lists</em>. These lists provided a structured data type built upon standard Tcl lists. This provides a functionality similar to <em>struct</em>s in the C programming language.</p><p>A keyed list is a list in which each element contains a key and value pair. These element pairs are stored as lists themselves, where the key is the first element of the list, and the value is the second.  The key-value pairs are referred to as <em>fields</em>. This is an example of a keyed list:</p><ul>
<li>
<pre>
    {{NAME {Frank Zappa}} {JOB {musician and composer}}}
</pre>
</li>
</ul><p>If the variable <strong>person</strong> contained the above list, then <strong>keylget person NAME</strong> would return <strong>{Frank Zappa}</strong>. Executing the command:</p>
<pre>
	keylset person ID 106
</pre>
<p>would make <strong>person</strong> contain</p><ul>
<li>
<pre>
    {{ID 106} {NAME {Frank Zappa}} {JOB {musician and composer}}
</pre>
</li>
</ul><p>Fields may contain subfields; `.' is the separator character.  Subfields are actually fields where the value is another keyed list.  Thus the following list has the top level fields <em>ID</em> and <em>NAME</em>, and subfields <em>NAME.FIRST</em> and  <em>NAME.LAST</em>:</p><ul>
<li>
<pre>
    {ID 106} {NAME {{FIRST Frank} {LAST Zappa}}}
</pre>
</li>
</ul><p>There is no limit to the recursive depth of subfields, allowing one to build complex data structures.</p><p>Keyed lists are constructed and accessed via a number of commands. All keyed list management commands take the name of the variable containing the keyed list as an argument (i.e. passed by reference), rather than passing the list directly.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>keyldel</strong> <em>listvar</em> <em>key</em></p>
  </dt>
  <dd>
    <p>Delete the field specified by <em>key</em> from the keyed list in the variable <em>listvar</em>.  This removes both the key and the value from the keyed list.</p>
  </dd>
  <dt>
    <p><strong>keylget</strong> <em>listvar</em> ?<em>key</em>? ?<em>retvar</em> | {}?</p>
  </dt>
  <dd>
    <p>Return the value associated with <em>key</em> from the keyed list in the variable <em>listvar</em>.  If <em>retvar</em> is not specified, then the value will be returned as the result of the command. In this case, if <em>key</em> is not found in the list, an error will result.</p><p>If <em>retvar</em> is specified and <em>key</em> is in the list, then the value is returned in the variable <em>retvar</em> and the command returns <strong>1</strong> if the key was present within the list. If <em>key</em> isn't in the list, the command will return <strong>0</strong>, and <em>retvar</em> will be left unchanged.  If <strong>{}</strong> is specified for <em>retvar</em>, the value is not returned, allowing the Tcl programmer to determine if a key is present in a keyed list without setting a variable as a side-effect.</p><p>If <em>key</em> is omitted, then a list of all the keys in the keyed list is returned.</p>
  </dd>
  <dt>
    <p><strong>keylkeys</strong> <em>listvar</em> ?<em>key</em>?</p>
  </dt>
  <dd>
    <p>Return the a list of the keys in the keyed list in the variable <em>listvar</em>.  If <em>keys</em> is specified, then it is the name of a key field  who's subfield keys are to be retrieve.</p>
  </dd>
  <dt>
    <p><strong>keylset</strong> <em>listvar</em> <em>key</em> <em>value</em> ?<em>key2</em> <em>value2</em> ...?</p>
  </dt>
  <dd>
    <p>Set the value associated with <em>key</em>, in the keyed list contained in the variable <em>listvar</em>, to <em>value</em>. If listvar does not exists, it is created.  If <em>key</em> is not currently in the list, it will be added.  If it already exists, <em>value</em> replaces the existing value.  Multiple keywords and values may be specified, if desired.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STRING AND CHARACTER MANIPULATION COMMANDS</h2>
        <div class="sectioncontent">
<p>The commands provide additional functionality to classify characters, convert characters between character and numeric values, index into a string, determine the length of a string, extract a range of character from a string, replicate a string a number of times, and transliterate a string (similar to the Unix <em>tr</em> program).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ccollate</strong> ?<em>-local</em>? <em>string1 string2</em></p>
  </dt>
  <dd>
    <p>This command compares two strings. If returns <strong>-1</strong> if <em>string1</em> is less than <em>string2</em>, <strong>0</strong> if they are equal and <strong>1</strong> if <em>string1</em> is greater than <em>string2</em>.</p><p>If <strong>-local</strong> is specified, the strings are compared according to the collation environment of the current locale.</p><p>This command does not work with binary or UTF data.</p>
  </dd>
  <dt>
    <p><strong>cconcat</strong> ?<em>string1</em>? ?<em>string2</em>? ?...?</p>
  </dt>
  <dd>
    <p>Concatenate the arguments, returning the resulting string. While string concatenation is normally performed by the parser, it is occasionally useful to have a command that returns a string. The is generally useful when a command to evaluate is required. No separators are inserted between the strings.</p><p>This command is UTF-aware.</p>
  </dd>
  <dt>
    <p><strong>cequal</strong> <em>string string</em></p>
  </dt>
  <dd>
    <p>This command compares two strings for equality. It returns <strong>1</strong> if <em>string1</em> and <em>string2</em> are the identical and <strong>0</strong> if they are not. This command is a short-cut for <strong>string compare</strong> and avoids the problems with string expressions being treated unintentionally as numbers.</p><p>This command is UTF-aware and will also work on binary data.</p>
  </dd>
  <dt>
    <p><strong>cindex</strong> <em>string indexExpr</em></p>
  </dt>
  <dd>
    <p>Returns the character indexed by the expression <em>indexExpr</em> (zero based) from <em>string</em>.</p><p>If the expression <em>indexExpr</em> starts with the string <strong>end</strong>, then <strong>end</strong> is replaced with the index of the last character in the string.  If the expression starts with <strong>len</strong>, then <strong>len</strong> is replaced with the length of the string.</p><p>This command is UTF-aware.</p>
  </dd>
  <dt>
    <p><strong>clength</strong> <em>string</em></p>
  </dt>
  <dd>
    <p>Returns the length of <em>string</em> in characters. This command is a shortcut for:</p>
<pre>
    string length string
</pre>
<p>This command is UTF-aware.</p>
  </dd>
  <dt>
    <p><strong>crange</strong> <em>string firstExpr lastExpr</em></p>
  </dt>
  <dd>
    <p>Returns a range of characters from <em>string</em> starting at the character indexed by the expression <em>firstExpr</em> (zero-based) until the character indexed by the expression <em>lastExpr</em>.</p><p>If the expression <em>firstExpr</em> or <strong>lastExpr</strong> starts with the string <strong>end</strong>, then <strong>end</strong> is replaced with the index of the last character in the string.  If the expression starts with <strong>len</strong>, then <strong>len</strong> is replaced with the length of the string.</p><p>This command is UTF-aware.</p>
  </dd>
  <dt>
    <p><strong>csubstr</strong> <em>string firstExpr lengthExpr</em></p>
  </dt>
  <dd>
    <p>Returns a range of characters from <em>string</em> starting at the character indexed by the expression <em>firstExpr</em> (zero-based) for <em>lengthExpr</em> characters.</p><p>If the expression <em>firstExpr</em> or <strong>lengthExpr</strong> starts with the string <strong>end</strong>, then <strong>end</strong> is replaced with the index of the last character in the string.  If the expression starts with <strong>len</strong>, then <strong>len</strong> is replaced with the length of the string.</p><p>This command is UTF-aware.</p>
  </dd>
  <dt>
    <p><strong>ctoken</strong> <em>strvar separators</em></p>
  </dt>
  <dd>
    <p>Parse a token out of a character string. The string to parse is contained in the variable named <em>strvar</em>. The string <em>separators</em> contains all of the valid separator characters for tokens in the string. All leading separators are skipped and the first token is returned. The variable <em>strvar</em> will be modified to contain the remainder of the string following the token.</p><p>This command does not work with binary data.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? class string</em></p>
  </dt>
  <dd>
    <p><strong>ctype</strong> determines whether all characters in <em>string</em> are of the specified <em>class</em>.  It returns <strong>1</strong> if they are all of <em>class</em>, and <strong>0</strong> if they are not, or if the string is empty.  This command also provides another method (besides <strong>format</strong> and <strong>scan</strong>) of converting between an ASCII character and its numeric value.  The following <strong>ctype</strong> commands are available:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? alnum </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are alphabetic or numeric characters as defined by the character set.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? alpha </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are alphabetic characters as defined by the character set.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? ascii </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are an ASCII character (a non-negative number less than 0200).</p>
  </dd>
  <dt>
    <p><strong>ctype char</strong> <em>number</em></p>
  </dt>
  <dd>
    <p>Converts the numeric value, <em>string</em>, to an ASCII character.  Number must be in the range 0 through the maximum Unicode values.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? cntrl </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are ``control characters'' as defined by the character set.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? digit </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are valid decimal digits, i.e. 0 through 9.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? graph </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters within are any character for which <em>ctype print</em> is true, except for space characters.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? lower </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are lowercase letters as defined by the character set.</p>
  </dd>
  <dt>
    <p><strong>ctype ord</strong> <em>character</em></p>
  </dt>
  <dd>
    <p>Convert a character into its decimal numeric value.  The first character of the string is converted to its numeric Unicode value.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? space </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are either a space, horizontal-tab, carriage return, newline, vertical-tab, or form-feed.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? print </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are a space or any character for which <em>ctype</em> alnum or <em>ctype punct</em> is true or other ``printing character'' as defined by the character set.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? punct </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are made up of any of the characters other than the ones for which <strong>alnum</strong>, <strong>cntrl</strong>, or <strong>space</strong> is true.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? upper </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are uppercase letters as defined by the character set.</p>
  </dd>
  <dt>
    <p><strong>ctype</strong> <em>?-failindex var? xdigit </em><em>string</em></p>
  </dt>
  <dd>
    <p>Tests that all characters are valid hexadecimal digits, that is <em>0</em> through <em>9</em>, a through <em>f</em> or <em>A</em> through <em>F</em>.</p>
  </dd>

</dl>
<ul>
<li><p>If <em>-failindex</em> is specified, then the index into <em>string</em> of the first character that did not match the class is returned in <em>var</em>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>replicate</strong> <em>string countExpr</em></p>
  </dt>
  <dd>
    <p>Returns <em>string</em>, replicated the number of times indicated by the expression <em>countExpr</em>.</p><p>This command is UTF-aware and will work with binary data.</p>
  </dd>
  <dt>
    <p><strong>translit</strong> <em>inrange outrange string</em></p>
  </dt>
  <dd>
    <p>Translate characters in <em>string</em>, changing characters occurring in <em>inrange</em> to the corresponding character in <em>outrange</em>. <em>Inrange</em> and <em>outrange</em> may be list of characters or a range in the form `A-M'. For example:</p>
<pre>
        translit a-z A-Z foobar
returns "FOOBAR".

This command currently only supports characters in ASCII range; UTF-8 characters
out of this range will generate an error.
</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">XPG/3 MESSAGE CATALOG COMMANDS</h2>
        <div class="sectioncontent">
<p>These commands provide a Tcl interface to message catalogs that are compliant with the X/Open Portability Guide, Version 3 (XPG/3).</p><p>Tcl programmers can use message catalogs to create applications that are language-independent.  Through the use of message catalogs, prompts, messages, menus and so forth can exist for any number of languages, and they can altered, and new languages added,  without affecting any Tcl or C source code, greatly easing the maintenance difficulties incurred by supporting multiple languages.</p><p>A default text message is passed to the command that fetches entries from message catalogs. This allows the Tcl programmer to create message catalogs containing messages in various languages, but still have a set of default messages available regardless of the presence of any message catalogs, and allow the programs to press on without difficulty when no catalogs are present.</p><p>Thus, the normal approach to using message catalogs is to ignore errors on <strong>catopen</strong>, in which case <strong>catgets</strong> will return the default message that was specified in the call.</p><p>The Tcl message catalog commands normally ignore most errors.  If it is desirable to detect errors, a special option is provided.  This is normally used only during debugging, to insure that message catalogs are being used.  If your Unix implementation does not have XPG/3 message catalog support, stubs will be compiled in that will create a version of <strong>catgets</strong> that always returns the default string. This allows for easy porting of software to environments that don't have support for message catalogs.</p><p>Message catalogs are global to the process, an application with multiple Tcl interpreters within the same process may pass and share message catalog handles.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>catopen</strong> ?<strong>-fail</strong> | <strong>-nofail</strong>? <em>catname</em></p>
  </dt>
  <dd>
    <p>Open the message catalog <em>catname</em>.  This may be a relative path name, in which case the <strong>NLSPATH</strong> environment variable is searched to find an absolute path to the message catalog.  A handle in the form <strong>msgcat</strong><em>N</em> is returned.  Normally, errors are ignored, and in the case of a failed call to <strong>catopen</strong>, a handle is returned to an unopened message catalog.  (This handle may still be passed to <strong>catgets</strong> and <strong>catclose</strong>, causing <strong>catgets</strong> to simply return the default string, as described above.  If the <strong>-fail</strong> option is specified, an error is returned if the open fails.  The option <strong>-nofail</strong> specifies the default behavior of not returning an error when <strong>catopen</strong> fails to open a specified message catalog.  If the handle from a failed <strong>catopen</strong> is passed to <strong>catgets</strong>, the default string is returned.</p>
  </dd>
  <dt>
    <p><strong>catgets</strong> <em>catHandle setnum msgnum defaultstr</em></p>
  </dt>
  <dd>
    <p>Retrieve a message form a message catalog. <em>CatHandle</em> should be a Tcl message catalog handle that was returned by <strong>catopen</strong>.  <em>Setnum</em> is the message set number, and <em>msgnum</em> is the message number. If the message catalog was not opened, or the message set or message number cannot be found, then the default string, <em>defaultstr</em>, is returned.</p>
  </dd>
  <dt>
    <p><strong>catclose</strong> ?<strong>-fail</strong> | <strong>-nofail</strong>? <em>cathandle</em></p>
  </dt>
  <dd>
    <p>Close the message catalog specified by <em>cathandle</em>. Normally, errors are ignored.  If <strong>-fail</strong> is specified, any errors closing the message catalog file are returned.  The option <strong>-nofail</strong> specifies the default behavior of not returning an error.  The use of <strong>-fail</strong> only makes sense if it was also specified in the call to <strong>catopen</strong>.</p>
  </dd>
  <dt>
    <p><strong>mainloop</strong></p>
  </dt>
  <dd>
    <p>This procedure sets up a top-level event loop. Events are processed until there are no more active event sources, at which time the process exits. It is used to build event oriented programs using the TclX shell in a style similar to that used with <strong>wish</strong>. If the global variable <strong>tcl_interactive</strong> exists and has a true value an interactive command handler is started as well.   If the command handler is terminated by an EOF, the process will be exited.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HELP FACILITY</h2>
        <div class="sectioncontent">
<p>The help facility allows one to look up help pages which where extracted from the standard Tcl manual pages and Tcl scripts during Tcl installation.  Help files are structured as a multilevel tree of subjects and help pages.  Help files are found by searching directories named <strong>help</strong> in the directories listed in the <strong>auto_path</strong> variable.  All of the files in the list of help directories form a virtual root of the help tree.  This method allows multiple applications to provide help trees without having the files reside in the same directory.</p><p>The help facility can be accessed in two ways, as interactive commands in the Extended Tcl shell or as an interactive Tk-based program (if you have built Extended Tcl with Tk).</p><p>To run the Tk-based interactive help program:</p>
<pre>
    tclhelp ?addpaths?
</pre>
<p>Where <em>addpaths</em> are additional paths to search for help directories. By default, only the <em>auto_path</em> used by <strong>tclhelp</strong> is search. This will result in help on Tcl, Extended Tcl and Tk.</p><p>The following interactive Tcl commands and options are provided with the help package:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>help</strong></p>
  </dt>
  <dd>
    <p>Help, without arguments, lists of all the help subjects and pages under the current help subject.</p>
  </dd>
  <dt>
    <p><strong>help</strong> <em>subject</em></p>
  </dt>
  <dd>
    <p>Displays all of help pages and lower level subjects (if any exist) under the subject <em>subject</em>.</p>
  </dd>
  <dt>
    <p><strong>help</strong> <em>subject/helppage</em></p>
  </dt>
  <dd>
    <p>Display the specified help page.  The help output is passed through a simple pager if output exceeds 23 lines, pausing waiting for a return to be entered. If any other character is entered, the output is terminated.</p>
  </dd>
  <dt>
    <p><strong>helpcd</strong> ?<em>subject</em>?</p>
  </dt>
  <dd>
    <p>Change the current subject, which is much like the Unix current directory.  If <em>subject</em> is not specified, return to the top-level of the help tree. Help subject path names may also include ``..'' elements.</p>
  </dd>
  <dt>
    <p><strong>helppwd</strong></p>
  </dt>
  <dd>
    <p>Displays the current help subject.</p>
  </dd>
  <dt>
    <p><strong>help</strong> <em>help</em> | ?</p>
  </dt>
  <dd>
    <p>Displays help on the help facility at any directory level.</p>
  </dd>
  <dt>
    <p><strong>apropos</strong> <em>pattern</em></p>
  </dt>
  <dd>
    <p>This command locates subjects by searching their one-line descriptions for a pattern.  Apropos is useful when you can remember part of the name or description of a command, and want to search through the one-line summaries for matching lines.  Full regular expressions may be specified (see the <strong>regexp</strong> command).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TCL LOADABLE LIBRARIES AND PACKAGES</h2>
        <div class="sectioncontent">
<p>Extended Tcl supports standard Tcl <strong>tclIndex</strong> libraries and package libraries. A package library file can contain multiple independent Tcl packages.  A package is a named collection of related Tcl procedures and initialization code.</p><p>The package library file is just a regular Unix text file, editable with your favorite text editor, containing packages of Tcl source code. The package library file name must have the suffix <strong>.tlib</strong>.  An index file with the same prefix name and the suffix <strong>.tndx</strong> resides the same directory as the <strong>.tlib</strong> file. The <strong>.tndx</strong> will be automatically created whenever it is out of date or missing (provided there is write access to the directory).</p><p>The variable <strong>auto_path</strong> contains a list of directories that are searched for libraries.  The first time an unknown command trap is take, the indexes for the libraries are loaded into memory. If the <strong>auto_path</strong> variable is changed during execution of a program, it will be re-searched. Only the first package of a given name found during the execution of a program is loaded.  This can be overridden with <strong>loadlibindex</strong> command.</p><p>The start of a package is delimited by:</p><ul>
<li><p><strong>#@package</strong>: <em>package_name proc1</em> ?<em>..procN</em>?</p></li>
</ul><p>These lines must start in column one.  Everything between the <strong>#@package:</strong> keyword and the next <strong>#@package:</strong> keyword or a <strong>#@packend</strong> keyword, or the end of the file, becomes part of the named package. The specified procedures, <em>proc1..procN</em>, are the entry points of the package.  When a command named in a package specification is executed and detected as an unknown command, all code in the specified package will be sourced. This package should define all of the procedures named on the package line, define any support procedures required by the package and do any package-specific initialization.  Packages declarations maybe continued on subsequent lines using standard Tcl backslash line continuations. The <strong>#@packend</strong> keyword is useful to make sure only the minimum required section of code is sourced.  Thus for example a large comment block at the beginning of the next file won't be loaded.</p><p>Care should be taken in defining <em>package_name</em>, as the first package found in the path by with a given name is loaded.  This can be useful in developing new version of packages installed on the system.</p><p>For example, in a package source file, the presence of the following line:</p><ul>
<li><p><strong>#@package: directory_stack pushd popd dirs</strong></p></li>
</ul><p>says that the text lines following that line in the package file up to the next <em>package</em> line or the end of the file is a package named <strong>directory_stack</strong> and that an attempt to execute either <em>pushd</em>, <em>popd</em> or <em>dirs</em> when the routine is not already defined will cause the <strong>directory_stack</strong> portion of the package file to be loaded.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PACKAGE LIBRARY MANAGEMENT COMMANDS</h2>
        <div class="sectioncontent">
<p>Several commands are available for building and managing package libraries.  Commands that are extended versions of the standard Tcl library commands are listed here.  All of the standard Tcl library management commands and variables are also supported.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>auto_commands</strong> ?<strong>-loaders</strong>?</p>
  </dt>
  <dd>
    <p>Lists the names of all known loadable procedures and commands procedures.  If <strong>-loaders</strong> is specified, the command that will be executed to load the command will also be returned.</p>
  </dd>
  <dt>
    <p><strong>buildpackageindex</strong> <em>libfilelist</em></p>
  </dt>
  <dd>
    <p>Build index files for package libraries. The argument <em>libfilelist</em> is a list of package libraries. Each name must end with the suffix <strong>.tlib</strong>. A corresponding <strong>.tndx</strong> file will be built. The user must have write access to the directory containing each library.</p>
  </dd>
  <dt>
    <p><strong>convert_lib</strong> <em>tclIndex packagelib ?ignore?</em></p>
  </dt>
  <dd>
    <p>Convert a Ousterhout style <em>tclIndex</em> index file and associate source files into a package library <strong>packagelib</strong>.  If <strong>packagelib</strong> does not have a <strong>.tlib</strong> extension, one will be added.  Any files specified in <em>tclIndex</em> that are in the list <em>ignore</em> will be skipped.  Files listed in <em>ignore</em> should just be the base file names, not full paths.</p>
  </dd>
  <dt>
    <p><strong>loadlibindex</strong> <em>libfile.tlib</em></p>
  </dt>
  <dd>
    <p>Load the package library index of the library file <strong>libfile</strong> (which must have the suffix <em>.tlib</em>).  Package library indexes along the <strong>auto_path</strong> are loaded automatically on the first <strong>demand_load</strong>; this command is provided to explicitly load libraries that are not in the path.  If the index file (with a <em>.tndx</em> suffix) does not exists or is out of date, it will be rebuilt if the user has directory permissions to create it. If a package with the same name as a package in <em>libfile.tlib</em> has already been loaded, its definition will be overridden by the new package.  However, if any procedure has actually been used from the previously defined package, the procedures from <em>libfile.tlib</em> will not be loaded.</p>
  </dd>
  <dt>
    <p><strong>auto_packages</strong> ?<em>-location</em>?</p>
  </dt>
  <dd>
    <p>Returns a list of the names of all defined packages. If <em>-location</em> is specified, a list of pairs of package name and the <strong>.tlib</strong> path name, offset and length of the package within the library.</p>
  </dd>
  <dt>
    <p><strong>auto_load_file</strong> <em>file</em></p>
  </dt>
  <dd>
    <p>Source a file, as with the <strong>source</strong> command, except search <strong>auto_path</strong> for the file.</p>
  </dd>
  <dt>
    <p><strong>searchpath</strong> <em>path file</em></p>
  </dt>
  <dd>
    <p>Search all directories in the specified path, which is a Tcl list, for the specified file.  Returns the full path name of the file, or an empty string if the requested file could not be found.</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="TclCommandWriting.3tclx.html"><span aria-hidden="true">&larr;</span> TclCommandWriting.3tclx: Writing c language extensions to tcl.</a></li>
   <li class="next"><a href="TclXInit.3tclx.html">TclXInit.3tclx: Extended tcl initialization. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
