<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>clSetKernelArg: Used to set the argument value for a specific argument of a kernel.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Used to set the argument value for a specific argument of a kernel.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="clSetKernelArg (3clc) manual">
  <meta name="twitter:description" content="Used to set the argument value for a specific argument of a kernel.">
  <meta name="twitter:image" content="https://www.carta.tech/images/opencl-1.2-man-doc-clSetKernelArg-3clc.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3clc/clSetKernelArg.3clc.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="clSetKernelArg (3clc) manual" />
  <meta property="og:description" content="Used to set the argument value for a specific argument of a kernel." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/opencl-1.2-man-doc-clSetKernelArg-3clc.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">clSetKernelArg<small> (3clc)</small></h1>
        <p class="lead">Used to set the argument value for a specific argument of a kernel.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/clSetKernelArg.3clc.html">
      <span itemprop="name">clSetKernelArg: Used to set the argument value for a specific argument of a kernel.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/opencl-1.2-man-doc/">
      <span itemprop="name">opencl-1.2-man-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/clSetKernelArg.3clc.html">
      <span itemprop="name">clSetKernelArg: Used to set the argument value for a specific argument of a kernel.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple"></h2>
        <div class="sectioncontent">
<p><strong>cl_int clSetKernelArg(cl_kernel&nbsp;</strong><em>kernel</em><strong>, cl_uint&nbsp;</strong><em>arg_index</em><strong>, size_t&nbsp;</strong><em>arg_size</em><strong>, const&nbsp;void&nbsp;*</strong><em>arg_value</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p><em>kernel</em></p><p>A valid kernel object.</p><p><em>arg_index</em></p><p>The argument index. Arguments to the kernel are referred by indices that go from 0 for the leftmost argument to <em>n</em> - 1, where <em>n</em> is the total number of arguments declared by a kernel.</p><p><em>arg_value</em></p><p>A pointer to data that should be used as the argument value for argument specified by <em>arg_index</em>. The argument data pointed to by <em>arg_value</em> is copied and the <em>arg_value</em> pointer can therefore be reused by the application after <strong>clSetKernelArg</strong> returns. The argument value specified is the value used by all API calls that enqueue <em>kernel</em> (<strong>clEnqueueNDRangeKernel</strong>(3clc) and <strong>clEnqueueTask</strong>(3clc)) until the argument value is changed by a call to <strong>clSetKernelArg</strong> for <em>kernel</em>.</p><p>If the argument is a memory object (buffer, image or image array), the <em>arg_value</em> entry will be a pointer to the appropriate buffer, image or image array object. The memory object must be created with the context associated with the kernel object. If the argument is a buffer object, the <em>arg_value</em> pointer can be NULL or point to a NULL value in which case a NULL value will be used as the value for the argument declared as a pointer to <strong>global</strong>(3clc) or <strong>constant</strong>(3clc) memory in the kernel. If the argument is declared with the <strong>local</strong>(3clc) qualifier, the <em>arg_value</em> entry must be NULL. If the argument is of type sampler_t, the <em>arg_value</em> entry must be a pointer to the sampler object.</p><p>If the argument is declared to be a pointer of a built-in scalar or vector type, or a user defined structure type in the global or constant address space, the memory object specified as argument value must be a buffer object (or NULL). If the argument is declared with the <strong>constant</strong>(3clc) qualifier, the size in bytes of the memory object cannot exceed <strong>CL_DEVICE_MAX_CONSTANT_BUFFER_SIZE</strong> and the number of arguments declared as pointers to <strong>constant</strong>(3clc) memory cannot exceed <strong>CL_DEVICE_MAX_CONSTANT_ARGS</strong>.</p><p>The memory object specified as argument value must be a 2D image object if the argument is declared to be of type image2d_t. The memory object specified as argument value must be a 3D image object if argument is declared to be of type image3d_t. The memory object specified as argument value must be a 1D image object if the argument is declared to be of type image1d_t. The memory object specified as argument value must be a 1D image buffer object if the argument is declared to be of type image1d_buffer_t. The memory object specified as argument value must be a 1D image array object if argument is declared to be of type image1d_array_t. The memory object specified as argument value must be a 2D image array object if argument is declared to be of type image2d_array_t.</p><p>For all other kernel arguments, the <em>arg_value</em> entry must be a pointer to the actual data to be used as argument value.</p><p><em> arg_size </em></p><p>Specifies the size of the argument value. If the argument is a memory object, the size is the size of the buffer or image object type. For arguments declared with the <strong>local</strong>(3clc) qualifier, the size specified will be the size in bytes of the buffer that must be allocated for the <strong>local</strong>(3clc) argument. If the argument is of type <strong>sampler_t</strong>, the <em>arg_size</em> value must be equal to sizeof(cl_sampler). For all other arguments, the size will be the size of argument type.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>A kernel object does not update the reference count for objects such as memory, sampler objects specified as argument values by <strong>clSetKernelArg</strong>. Users may not rely on a kernel object to retain objects specified as argument values to the kernel.</p><p>Implementations shall not allow cl_kernel objects to hold reference counts to cl_kernel arguments, because no mechanism is provided for the user to tell the kernel to release that ownership right. If the kernel holds ownership rights on kernel args, that would make it impossible for the user to tell with certainty when he may safely release user allocated resources associated with OpenCL objects such as the cl_mem backing store used with <strong>CL_MEM_USE_HOST_PTR</strong>.</p><p>An OpenCL API call is considered to be <em>thread-safe</em> if the internal state as managed by OpenCL remains consistent when called simultaneously by multiple <em>host</em> threads. OpenCL API calls that are <em>thread-safe</em> allow an application to call these functions in multiple <em>host</em> threads without having to implement mutual exclusion across these <em>host</em> threads i.e. they are also re-entrant-safe.</p><p>All OpenCL API calls are thread-safe except <strong>clSetKernelArg</strong>. <strong>clSetKernelArg</strong> is safe to call from any host thread, and is safe to call re-entrantly so long as concurrent calls operate on different cl_kernel objects. However, the behavior of the cl_kernel object is undefined if <strong>clSetKernelArg</strong> is called from multiple host threads on the same cl_kernel object at the same time. Please note that there are additional limitations as to which OpenCL APIs may be called from OpenCL callback functions -- please see section 5.9.</p><p>There is an inherent race condition in the design of OpenCL that occurs between setting a kernel argument and using the kernel with <strong>clEnqueueNDRangeKernel</strong>(3clc) or <strong>clEnqueueTask</strong>(3clc). Another host thread might change the kernel arguments between when a host thread sets the kernel arguments and then enqueues the kernel, causing the wrong kernel arguments to be enqueued. Rather than attempt to share cl_kernel objects among multiple host threads, applications are strongly encouraged to make additional cl_kernel objects for kernel functions for each host thread.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p><strong>clSetKernelArg</strong> returns CL_SUCCESS if the function is executed successfully. Otherwise, it returns one of the following errors:</p><p>CL_INVALID_KERNEL if <em>kernel</em> is not a valid kernel object.</p><p>CL_INVALID_ARG_INDEX if <em>arg_index</em> is not a valid argument index.</p><p>CL_INVALID_ARG_VALUE if <em>arg_value</em> specified is not a valid value.</p><p>CL_INVALID_MEM_OBJECT for an argument declared to be a memory object when the specified <em>arg_value</em> is not a valid memory object.</p><p>CL_INVALID_SAMPLER for an argument declared to be of type <em>sampler_t</em> when the specified <em>arg_value</em> is not a valid sampler object.</p><p>CL_INVALID_ARG_SIZE if <em>arg_size</em> does not match the size of the data type for an argument that is not a memory object or if the argument is a memory object and <em>arg_size</em> != <strong>sizeof(cl_mem)</strong> or if <em>arg_size</em> is zero and the argument is declared with the <strong>local</strong>(3clc) qualifier or if the argument is a sampler and <em>arg_size</em> != <strong>sizeof(cl_sampler)</strong>.</p><p>CL_INVALID_ARG_VALUE if the argument is an image declared with the <strong>read_only</strong> qualifier and <em>arg_value</em> refers to an image object created with <em>cl_mem_flags</em> of <strong>CL_MEM_WRITE</strong> or if the image argument is declared with the <strong>write_only</strong> qualifier and <em>arg_value</em> refers to an image object created with <em>cl_mem_flags</em> of <strong>CL_MEM_READ</strong>.</p><p>CL_OUT_OF_RESOURCES if there is a failure to allocate resources required by the OpenCL implementation on the device.</p><p>CL_OUT_OF_HOST_MEMORY if there is a failure to allocate resources required by the OpenCL implementation on the host.</p><h3>Example</h3>
<table class="table table-striped">
<tr>
<th>kernel void image_filter (int n, int m, __constant float *filter_weights, __read_only image2d_t src_image, __write_only image2d_t dst_image) { ... }</th></tr>
</table><p>Argument index values for <strong>image_filter</strong> will be 0 for <strong>n</strong>, 1 for <strong>m</strong>, 2 for <strong>filter_weights</strong>, 3 for <strong>src_image</strong> and 4 for <strong>dst_image</strong>.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIFICATION</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>OpenCL Specification</strong>\m[]\s-2\u[1]\d\s+2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO clSetKernelArg&hellip;</h2>
        <div class="sectioncontent">
<p><strong>clCreateKernel</strong>(3clc), <strong>clCreateKernelsInProgram</strong>(3clc), <strong>clReleaseKernel</strong>(3clc), <strong>clRetainKernel</strong>(3clc), <strong>clGetKernelInfo</strong>(3clc), <strong>clGetKernelWorkGroupInfo</strong>(3clc)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>The Khronos Group</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2007-2011 The Khronos Group Inc.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and/or associated documentation files (the "Materials"), to deal in the Materials without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Materials, and to permit persons to whom the Materials are furnished to do so, subject to the condition that this copyright notice and permission notice shall be included in all copies or substantial portions of the Materials.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>OpenCL Specification</p><p>page 160, section 5.7.2 - Setting Kernel Arguments</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="clSetEventCallback.3clc.html"><span aria-hidden="true">&larr;</span> clSetEventCallback.3clc: Registers a user callback function for a specific command execution status.</a></li>
   <li class="next"><a href="clSetMemObjectDestructorCallback.3clc.html">clSetMemObjectDestructorCallback.3clc: Registers a user callback function with a memory object. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
