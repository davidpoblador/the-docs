<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>slave: Functions to starting and controlling slave nodes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Functions to starting and controlling slave nodes">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="slave (3erl) manual">
  <meta name="twitter:description" content="Functions to starting and controlling slave nodes">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-slave-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/slave.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="slave (3erl) manual" />
  <meta property="og:description" content="Functions to starting and controlling slave nodes" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-slave-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">slave<small> (3erl)</small></h1>
        <p class="lead">Functions to starting and controlling slave nodes</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/slave.3erl.html">
      <span itemprop="name">slave: Functions to starting and controlling slave nodes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/slave.3erl.html">
      <span itemprop="name">slave: Functions to starting and controlling slave nodes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides functions for starting Erlang slave nodes. All slave nodes which are started by a master will terminate automatically when the master terminates. All TTY output produced at the slave will be sent back to the master node. File I/O is done via the master.</p><p>Slave nodes on other hosts than the current one are started with the program <em>rsh</em>. The user must be allowed to <em>rsh</em> to the remote hosts without being prompted for a password. This can be arranged in a number of ways (refer to the <em>rsh</em> documentation for details). A slave node started on the same host as the master inherits certain environment values from the master, such as the current directory and the environment variables. For what can be assumed about the environment when a slave is started on another host, read the documentation for the <em>rsh</em> program.</p><p>An alternative to the <em>rsh</em> program can be specified on the command line to <em>erl</em> as follows: <em>-rsh Program</em>.</p><p>The slave node should use the same file system at the master. At least, Erlang/OTP should be installed in the same place on both computers and the same version of Erlang should be used.</p><p>Currently, a node running on Windows NT can only start slave nodes on the host on which it is running.</p><p>The master node must be alive.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
start(Host) -&gt; {ok, Node} | {error, Reason}

</pre>

<pre>
<strong></strong>
start(Host, Name) -&gt; {ok, Node} | {error, Reason}

</pre>

<pre>
<strong></strong>
start(Host, Name, Args) -&gt; {ok, Node} | {error, Reason}

</pre>
<p>Types:</p><p>Host = Name = atom()</p><p>Args = string()</p><p>Node = node()</p><p>Reason = timeout | no_rsh | {already_running, Node}</p><p>Starts a slave node on the host <em>Host</em>. Host names need not necessarily be specified as fully qualified names; short names can also be used. This is the same condition that applies to names of distributed Erlang nodes.</p><p>The name of the started node will be <em>Name@Host</em>. If no name is provided, the name will be the same as the node which executes the call (with the exception of the host name part of the node name).</p><p>The slave node resets its <em>user</em> process so that all terminal I/O which is produced at the slave is automatically relayed to the master. Also, the file process will be relayed to the master.</p><p>The <em>Args</em> argument is used to set <em>erl</em> command line arguments. If provided, it is passed to the new node and can be used for a variety of purposes. See <a href="../man1/erl.1.html"><strong>erl</strong>(1)</a></strong></p><p>As an example, suppose that we want to start a slave node at host <em>H</em> with the node name <em>Name@H</em>, and we also want the slave node to have the following properties:</p>
<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>directory <em>Dir</em> should be added to the code path;</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>the Mnesia directory should be set to <em>M</em>;</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>the unix <em>DISPLAY</em> environment variable should be set to the display of the master node.</p>
  </dd>

</dl>
<p>The following code is executed to achieve this:</p>
<pre>
E = " -env DISPLAY " ++ net_adm:localhost() ++ ":0 ",
Arg = "-mnesia_dir " ++ M ++ " -pa " ++ Dir ++ E,
slave:start(H, Name, Arg).
</pre>
<p>If successful, the function returns <em>{ok, Node}</em>, where <em>Node</em> is the name of the new node. Otherwise it returns <em>{error, Reason}</em>, where <em>Reason</em> can be one of:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>timeout</em>: The master node failed to get in contact with the slave node. This can happen in a number of circumstances:</p>
<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>Erlang/OTP is not installed on the remote host</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>the file system on the other host has a different structure to the the master</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>the Erlang nodes have different cookies.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>no_rsh</em>: There is no <em>rsh</em> program on the computer.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{already_running, Node}</em>: A node with the name <em>Name@Host</em> already exists.</p>
  </dd>

</dl>

<pre>
<strong></strong>
start_link(Host) -&gt; {ok, Node} | {error, Reason}

</pre>

<pre>
<strong></strong>
start_link(Host, Name) -&gt; {ok, Node} | {error, Reason}

</pre>

<pre>
<strong></strong>
start_link(Host, Name, Args) -&gt; {ok, Node} | {error, Reason}

</pre>
<p>Types:</p><p>Host = Name = atom()</p><p>Args = string()</p><p>Node = node()</p><p>Reason = timeout | no_rsh | {already_running, Node}</p><p>Starts a slave node in the same way as <em>start/1,2,3</em>, except that the slave node is linked to the currently executing process. If that process terminates, the slave node also terminates.</p><p>See <em>start/1,2,3</em> for a description of arguments and return values.</p>
<pre>
<strong></strong>
stop(Node) -&gt; ok

</pre>
<p>Types:</p><p>Node = node()</p><p>Stops (kills) a node.</p><p><strong></strong> pseudo([Master | ServerList]) -&gt; ok</p><p>Types:</p><p>Master = node()</p><p>ServerList = [atom()]</p><p>Calls <em>pseudo(Master, ServerList)</em>. If we want to start a node from the command line and set up a number of pseudo servers, an Erlang runtime system can be started as follows:</p>
<pre>
% erl -name abc -s slave pseudo klacke@super x --
</pre>

<pre>
<strong></strong>
pseudo(Master, ServerList) -&gt; ok

</pre>
<p>Types:</p><p>Master = node()</p><p>ServerList = [atom()]</p><p>Starts a number of pseudo servers. A pseudo server is a server with a registered name which does absolutely nothing but pass on all message to the real server which executes at a master node. A pseudo server is an intermediary which only has the same registered name as the real server.</p><p>For example, if we have started a slave node <em>N</em> and want to execute <em>pxw</em> graphics code on this node, we can start the server <em>pxw_server</em> as a pseudo server at the slave node. The following code illustrates:</p>
<pre>
rpc:call(N, slave, pseudo, [node(), [pxw_server]]).
</pre>

<pre>
<strong></strong>
relay(Pid) -&gt; no_return()

</pre>
<p>Types:</p><p>Pid = pid()</p><p>Runs a pseudo server. This function never returns any value and the process which executes the function will receive messages. All messages received will simply be passed on to <em>Pid</em>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shell_default.3erl.html"><span aria-hidden="true">&larr;</span> shell_default.3erl: Customizing the erlang environment</a></li>
   <li class="next"><a href="snmp.3erl.html">snmp.3erl: Interface functions to the snmp toolkit <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
