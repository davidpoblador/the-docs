<!DOCTYPE html>
<html lang="en">
<head>
  <link href='https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction|shadow-multiple' rel='stylesheet' type='text/css'>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>if_nameindex, if_freenameindex - get network interface names and indexes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="${metadescription}">
  
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">if_freenameindex<small> (3)</small></h1>
        <p class="lead">get network interface names and indexes</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man3/"><span itemprop="title">Library calls</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man3/if_freenameindex.3.html"><span itemprop="title">if_freenameindex</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre><strong>#include &lt;net/if.h&gt;</strong>

<strong>struct if_nameindex *if_nameindex(void);</strong>
<strong>void if_freenameindex(struct if_nameindex *</strong><em>ptr</em><strong>);</strong></pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>The <strong>if_nameindex</strong>() function returns an array of <em>if_nameindex</em> structures, each containing information about one of the network interfaces on the local system. The <em>if_nameindex</em> structure contains at least the following entries:</p>
<p class='spacer'>

<pre>    unsigned int if_index; /* Index of interface (1, 2, ...) */
    char        *if_name;  /* Null-terminated name ("eth0", etc.) */</pre>

<p class='spacer'>

<p>The <em>if_index</em> field contains the interface index. The <em>ifa_name</em> field points to the null-terminated interface name. The end of the array is indicated by entry with <em>if_index</em> set to zero and <em>ifa_name</em> set to NULL.</p>
<p class='spacer'>

<p>The data structure returned by <strong>if_nameindex</strong>() is dynamically allocated and should be freed using <strong>if_freenameindex</strong>() when no longer needed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">RETURN VALUE</h2>
        <div class="sectioncontent">

<p>On success, <strong>if_nameindex</strong>() returns pointer to the array; on error, NULL is returned, and <em>errno</em> is set appropriately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">ERRORS</h2>
        <div class="sectioncontent">

  <p><strong>if_nameindex</strong>() may fail and set <em>errno</em> if:</p>
  <dl class='dl-vertical'>
    <dt><strong>ENOBUFS</strong></dt>
    <dd>
  <p>Insufficient resources available.</p>
    </dd>
  </dl>
<p class='spacer'>

<p><strong>if_nameindex</strong>() may also fail for any of the errors specified for <a href="../man2/socket.2.html"><strong>socket</strong>(2)</a>, <a href="../man2/bind.2.html"><strong>bind</strong>(2)</a>, <a href="../man2/ioctl.2.html"><strong>ioctl</strong>(2)</a>, <a href="../man2/getsockname.2.html"><strong>getsockname</strong>(2)</a>, <a href="../man2/recvmsg.2.html"><strong>recvmsg</strong>(2)</a>, <a href="../man2/sendto.2.html"><strong>sendto</strong>(2)</a>, or <a href="../man3/malloc.3.html"><strong>malloc</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">VERSIONS</h2>
        <div class="sectioncontent">

<p>The <strong>if_nameindex</strong>() function first appeared in glibc 2.1, but before glibc 2.3.4, the implementation supported only interfaces with IPv4 addresses. Support of interfaces that don't have IPv4 addresses is available only on kernels that support netlink.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">ATTRIBUTES</h2>
        <div class="sectioncontent">

<p>For an explanation of the terms used in this section, see <a href="../man7/attributes.7.html"><strong>attributes</strong>(7)</a>.</p>
<p class='spacer'>

<table class="table table-striped">
<tr>
<th>Interface</th>
<th>Attribute</th>
<th>Value</th></tr>

<tr>
<td><strong>if_nameindex</strong>(),   <strong>if_freenameindex</strong>()  </td>
<td>Thread safety</td>
<td>MT-Safe</td></tr>
</table>

<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">CONFORMING TO</h2>
        <div class="sectioncontent">

<p>POSIX.1-2001, POSIX.1-2008, RFC&nbsp;3493.</p>
<p class='spacer'>

<p>This function first appeared in BSDi.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">EXAMPLE</h2>
        <div class="sectioncontent">

<p>The program below demonstrates the use of the functions described on this page. An example of the output this program might produce is the following:</p>
<p class='spacer'>

<pre>$ ./a.out
1: lo
2: wlan0
3: em1</pre>

  <h3>Program source</h3>
<pre>#include &lt;net/if.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;

int
main(int argc, char *argv[])
{
    struct if_nameindex *if_ni, *i;

    if_ni = if_nameindex();
    if (if_ni == NULL) {
        perror("if_nameindex");
        exit(EXIT_FAILURE);
    }

    for (i = if_ni; ! (i-&gt;if_index == 0 && i-&gt;if_name == NULL); i++)
        printf("%u: %s&#92;n", i-&gt;if_index, i-&gt;if_name);

    if_freenameindex(if_ni);

    exit(EXIT_SUCCESS);
}</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man2/getsockopt.2.html"><strong>getsockopt</strong>(2)</a>, <a href="../man2/setsockopt.2.html"><strong>setsockopt</strong>(2)</a>, <a href="../man3/getifaddrs.3.html"><strong>getifaddrs</strong>(3)</a>, <a href="../man3/if_indextoname.3.html"><strong>if_indextoname</strong>(3)</a>, <a href="../man3/if_nametoindex.3.html"><strong>if_nametoindex</strong>(3)</a>, <strong>ifconfig</strong>(8)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
  <li class="previous"><a href="iconv_open.3.html"><span aria-hidden="true">&larr;</span> iconv_open.3: allocate descriptor for character set conversion</a></li><li class="next"><a href="if_indextoname.3.html">if_indextoname.3: mappings between network interface names and indexes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
