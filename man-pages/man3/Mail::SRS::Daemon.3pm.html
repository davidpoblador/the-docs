<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mail::SRS::Daemon: Modular daemon for mail::srs</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Modular daemon for mail::srs">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Mail::SRS::Daemon (3pm) manual">
  <meta name="twitter:description" content="Modular daemon for mail::srs">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmail-srs-perl-Mail::SRS::Daemon-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Mail::SRS::Daemon.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Mail::SRS::Daemon (3pm) manual" />
  <meta property="og:description" content="Modular daemon for mail::srs" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmail-srs-perl-Mail::SRS::Daemon-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Mail::SRS::Daemon<small> (3pm)</small></h1>
        <p class="lead">Modular daemon for mail::srs</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Mail::SRS::Daemon.3pm.html">
      <span itemprop="name">Mail::SRS::Daemon: Modular daemon for mail::srs</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmail-srs-perl/">
      <span itemprop="name">libmail-srs-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Mail::SRS::Daemon.3pm.html">
      <span itemprop="name">Mail::SRS::Daemon: Modular daemon for mail::srs</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>my $daemon = new Mail::SRS::Daemon( 	SecretFile  =&gt; $secretfile, 	Separator   =&gt; $separator, 		); $daemon-&gt;<em>run()</em>;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The \s-1SRS\s0 daemon listens on a socket for \s-1SRS\s0 address transformation requests. It transforms the addresses and returns the new addresses on the socket.</p><p>It may be invoked from exim using ${readsocket ...}, and probably from other MTAs as well. See http://www.anarres.org/projects/srs/ for examples.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>Construct a new Mail::SRS object and return it.  All parameters which are valid for Mail::SRS are also valid for Mail::SRS::Daemon and will be passed to the constructor of Mail::SRS verbatim. The exception to this rule is the Secret parameter, which will be promoted to a list and will have all secrets from SecretFile included. New parameters are documented here. See Mail::SRS for the rest. A file to read for secrets. Secrets are specified once per line. The first specified secret is used for encoding. Secrets are written one per line. Blank lines and lines starting with a # are ignored. If Secret is not given, then the secret file must be nonempty. Secret will specify a primary secret and override SecretFile if both are specified. However, secrets read from SecretFile still be used for decoding if both are specified. An instance of IO::Socket, presumed to be a listening socket. This may be provided in order to use a preexisting socket, rather than have Mail::SRS::Daemon construct a new socket. Run the daemon. This method will never return. Errors and exceptions are caught, and error messages are returned down the socket.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p>Given :all, this module exports the following variables. The filename of the default socket created by Mail::SRS::Daemon.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROTOCOL</h2>
        <div class="sectioncontent">
<p>The daemon waits for a single line of text from the client, and will respond with a single line. The lines are all of the form \*(L"\s-1COMMAND\s0 args...\*(R". Currently, two commands are supported: forward and reverse.</p><p>A forward request looks like:</p>
<pre>
        FORWARD sender@source.com alias@forwarder.com
</pre>
<p>A reverse request looks like:</p><p>        REVERSE srs0+HHH=TT=domain=local-part@forwarder.com</p><p>In either case, the daemon will respond with either a translated address, or a line starting \*(L"\s-1ERROR\s0 \*(R", followed by a message.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<p>Add more daemon-related options, such as path to socket, or inet socket address.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Mail::SRS::Daemon&hellip;</h2>
        <div class="sectioncontent">
<p>Mail::SRS, srsd, http://www.anarres.org/projects/srs/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>    Shevek     CPAN ID: SHEVEK     cpan@anarres.org     http://www.anarres.org/projects/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2004 Shevek. All rights reserved.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Mail::SRS::DB.3pm.html"><span aria-hidden="true">&larr;</span> Mail::SRS::DB.3pm: A mldbm based sender rewriting scheme</a></li>
   <li class="next"><a href="Mail::SRS::Guarded.3pm.html">Mail::SRS::Guarded.3pm: A guarded sender rewriting scheme (recommended) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
