<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tie::Array::Iterable: Allows creation of iterators for lists and arrays</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Allows creation of iterators for lists and arrays">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Tie::Array::Iterable (3pm) manual">
  <meta name="twitter:description" content="Allows creation of iterators for lists and arrays">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtie-array-iterable-perl-Tie::Array::Iterable-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Tie::Array::Iterable.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Tie::Array::Iterable (3pm) manual" />
  <meta property="og:description" content="Allows creation of iterators for lists and arrays" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtie-array-iterable-perl-Tie::Array::Iterable-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Tie::Array::Iterable<small> (3pm)</small></h1>
        <p class="lead">Allows creation of iterators for lists and arrays</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tie::Array::Iterable.3pm.html">
      <span itemprop="name">Tie::Array::Iterable: Allows creation of iterators for lists and arrays</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtie-array-iterable-perl/">
      <span itemprop="name">libtie-array-iterable-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tie::Array::Iterable.3pm.html">
      <span itemprop="name">Tie::Array::Iterable: Allows creation of iterators for lists and arrays</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Tie::Array::Iterable qw( quick );

  my $iterarray = new Tie::Array::Iterable( 1..10 );
  for( my $iter = $iterarray-&gt;start() ; !$iter-&gt;at_end() ; $iter-&gt;next() ) {
        print $iter-&gt;index(), " : ", $iter-&gt;value();
        if ( $iter-&gt;value() == 3 ) {
                unshift @$iterarray, (11..15);
        }
  }

  my @array = ( 1..10 );
  for( my $iter = iterator_from_start( @array ) ;
           !$iter-&gt;at_end() ;
           $iter-&gt;next() ) { ... }

  for( my $iter = iterate_from_end( @array ) ;
       !$iter-&gt;at_end() ;
           $iter-&gt;next() ) { ... }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\*(C`Tie::Hash::Iterable\*(C' allows one to create iterators for lists and arrays. The concept of iterators is borrowed from the \*(C+ \s-1STL\s0 [1], in which most of the collections have iterators, though this class does not attempt to fully mimic it.</p><p>Typically, in C/\*(C+ or Perl, the 'easy' way to visit each item on a list is to use a counter, and then a for( ;; ) loop.  However, this requires knowledge on how long the array is to know when to end.  In addition, if items are removed or inserted into the array during the loop, then the counter will be incorrect on the next run through the loop, and will cause problems.</p><p>While some aspects of this are fixed in Perl by the use of for or foreach, these commands still suffer when items are removed or added to the array while in these loops.  Also, if one wished to use break to step out of a foreach loop, then restart where they left at some later point, there is no way to do this without maintaining some additional state information.</p><p>The concept of iterators is that each iterator is a bookmark to a spot, typically considered between two elements.  While there is some overhead to the use of iterators, it allows elements to be added or removed from the list, with the iterator adjusting appropriate, and allows the state of a list traversal to be saved when needed.</p><p>For example, the following Perl code will drop into an endless block (this mimics the functionality of the above code):</p><p>   my @array = (0..10);    for my $i ( @a ) {        print "$i&#92;n";            if ( $i == 3 ) { unshift @a, ( 11..15 ); }    }</p><p>However, the synopsis code will not be impaired when the unshift operation is performed; the iteration will simply continue at the next element, being 4 in this case.</p><p>Tie::Array::Iterable does this by first tying the desired list to this class as well as blessing it in order to give it functionality.  When a new iterator is requested via the iterable array object, a new object is generated from either Tie::Array::Iterable::ForwardIterator or Tie::Array::Iterable::BackwardIterator.  These objects are then used in associated for loops to move through the array and to access values. When changes in the positions of elements of the initial array are made, the tied variable does the appropriate bookkeeping with any iterators that have been created to make sure they point to the appropriate elements.</p><p>Note that the iterable array object is also a tied array, and thus, you can use all standard array operations on it (with arrow notation due to the reference, of course).</p><p>The logic behind how iterators will 'move' depending on actions are listed here.  Given the list</p><p>    0 1 2 3 4 5 6 7 8 9 10              ^              Forward iterator current position</p><p>Several possible cases can be considered:</p>
<dl class='dl-vertical'>
  <dt>
    unshift
  </dt>
  <dd>
    <p>If an item was unshifted on the list, thus pushing all elements to the right, the iterator will follow this and will still point to 5.</p>
  </dd>
  <dt>
    shift
  </dt>
  <dd>
    <p>Removing an item from the start of the list will push all elements to the left, and the iterator again will follow and point to 5.</p>
  </dd>
  <dt>
    pop, push
  </dt>
  <dd>
    <p>Since these affect the list after the position of the iterator, there is no change in the iterator at this time.  However, an iterator that is at the end of the list will pass over these new elements if it is moved backwards though the list.</p>
  </dd>
  <dt>
    splice 3, 4, ()
  </dt>
  <dd>
    <p>If the array is spliced from 3 to 6, then the position that the iterator is at is invalid, and is pushed back to the last 'valid' entry, this being between 2 and 7 after the splice and pointing to 7.</p>
  </dd>
  <dt>
    splice 3, 4, ( 11, 12, 13 )
  </dt>
  <dd>
    <p>Even though we are adding new data, this is similar to the situation above, and the iterator will end up pointing at 11, sitting between 2 and 11.</p>
  </dd>
  <dt>
    splice 4, 0, ( 11, 12, 13 )
  </dt>
  <dd>
    <p>This will push extra data between 3 and 4, but does not affect the position of the iteration, which will still point at 5.</p>
  </dd>
  <dt>
    splice 5, 0, ( 11, 12, 13 )
  </dt>
  <dd>
    <p>Because the data is now being pushed between 4 and 5, this will affect the iterator, and the iterator will now point at 11.</p>
  </dd>
  <dt>
    splice 0, 6
  </dt>
  <dd>
    <p>Remove all data from the head to the iterator position will result it in being at the leftmost part of the array, and will be pointing at 7.</p>
  </dd>

</dl>
<p>This is only for the forward iterator; the backwards iterator would work similarly.</p><h3>\s-1PACKAGE\s0 \s-1METHODS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    new( [&lt;array&gt;] )
  </dt>
  <dd>
    <p>Creates a new iterable array object; this is returned as a reference to an array.  If an array is passed, then the iterable array is set up to use this array as storage.</p>
  </dd>
  <dt>
    iterate_from_start( &lt;list&gt; )
  </dt>
  <dd>
    <p>Returns a forward iterator that can be used to iterator over the given list.  This allows one to avoid explicitly creating the iterable array object first, though one still is created for this purpose.</p>
  </dd>
  <dt>
    iterate_from_end( &lt;list&gt; )
  </dt>
  <dd>
    <p>Returns a backwards iterator that can be used to iterate over the given list.</p>
  </dd>
  <dt>
    iterate_forward_from( &lt;int&gt;, &lt;list&gt; )
  </dt>
  <dd>
    <p>Returns a forward iterator for the given list set at the indicated position.</p>
  </dd>
  <dt>
    iterate_backward_from( &lt;int&gt;, &lt;list&gt; )
  </dt>
  <dd>
    <p>Returns a backward iterator for the given list set at the indicated position.</p>
  </dd>

</dl>

<h3>\s-1CLASS\s0 \s-1METHODS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    from_start( )
  </dt>
  <dd>
    <p>Returns a new forward iterator set at the start of the array. Parentheses are not required.</p>
  </dd>
  <dt>
    from_end( )
  </dt>
  <dd>
    <p>Returns a new backward iterator set at the end of the array. Parentheses are not required.</p>
  </dd>
  <dt>
    forward_from ([&lt;int&gt;])
  </dt>
  <dd>
    <p>Returns a new forward iterator set at the indicated position (or at the start of the array if no value is passed).</p>
  </dd>
  <dt>
    backward_from ([&lt;int&gt;])
  </dt>
  <dd>
    <p>Returns a new backward iterator set at the indicated position (or at the end of the array if no value is passed).</p>
  </dd>
  <dt>
    clear_iterators( )
  </dt>
  <dd>
    <p>This function was previously used to clear references that might accumulate; however, this functionality has been fixed, and this function does nothing besides return a true value.</p>
  </dd>

</dl>

<h3>\s-1ITERATOR\s0 \s-1METHODS\s0</h3>
<p>The iterators that are generated by the functions above have the following functions associated with them.</p>
<dl class='dl-vertical'>
  <dt>
    <em>value()</em>
  </dt>
  <dd>
    <p>Returns the current value from the array where the iterator is pointing, or undef if the iterator is at the end.</p>
  </dd>
  <dt>
    set_value( &lt;value&gt; )
  </dt>
  <dd>
    <p>Sets the value of the array where the iterator is currently positions to the passed value.  This will do nothing if the iterator is at the end of the array.</p>
  </dd>
  <dt>
    <em>index()</em>
  </dt>
  <dd>
    <p>Returns the index in the array where the iterator is currently pointing.</p>
  </dd>
  <dt>
    set_index( &lt;pos&gt; )
  </dt>
  <dd>
    <p>Moves the iterator to this position in the array.</p>
  </dd>
  <dt>
    <em>at_end()</em>
  </dt>
  <dd>
    <p>Returns true if the iterator is pointing at the end position (at the end of the array for a Forward iterator, at the start of the array for the Backward iterator), false otherwise.  Parentheses are not required.</p>
  </dd>
  <dt>
    <em>at_start()</em>
  </dt>
  <dd>
    <p>Returns true if the iterator is pointing at the start position (at the beginning of the array for a Forward iterator, at the end of the array for the Backward iterator), false otherwise.  Parentheses are not required.</p>
  </dd>
  <dt>
    <em>next()</em>
  </dt>
  <dd>
    <p>Advances the iterator to the next position; the value of this new position is returned as per \*(C`value()\*(C'.  This will not move past the end position.  Parentheses are not required.</p>
  </dd>
  <dt>
    <em>prev()</em>
  </dt>
  <dd>
    <p>Advances the iterator to the previous position; the value of this new position is returned as per \*(C`value()\*(C'.  This will not move past the starting position.  Parentheses are not required.</p>
  </dd>
  <dt>
    <em>to_end()</em>
  </dt>
  <dd>
    <p>Advances the iterator to the very end position.  Note that this is the undefined state, and the only way to resume traversal is to move to preceding elements.  Also note that for a backwards iterator, this means to move to the beginning of the array.  Parentheses are not required.</p>
  </dd>
  <dt>
    <em>to_start()</em>
  </dt>
  <dd>
    <p>Advances the iterator back to the starting position for the iterator. Again, for a backwards iterator, this means moving to the end of the list.  Parentheses are not required.</p>
  </dd>
  <dt>
    forward( [&lt;int&gt;] )
  </dt>
  <dd>
    <p>Advances the iterator in the forward direction the number of steps passed, or just 1 if no value is passed (and thus acting like \*(C`next()\*(C').</p>
  </dd>
  <dt>
    backward( [&lt;int&gt;] )
  </dt>
  <dd>
    <p>Advances the iterator in the backward direction the number of steps passed, or just 1 if no value is passed (and thus acting like \*(C`prev()\*(C').</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORT</h2>
        <div class="sectioncontent">
<p>The 'quick' export will export \*(C`iterate_from_start\*(C', \*(C`iterate_from_end\*(C', \*(C`iterate_forward_from\*(C', and \*(C`iterate_backward_from\*(C' functions into the global namespace.  Optionally, you may import these functions individually.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVAETS</h2>
        <div class="sectioncontent">
<p>You should not directly tie your array to this class, nor use the ForwardIterator or BackwardIterator classes directly.  There are factory-like methods for these classes that you should use instead.</p><p>You might run in to trouble if you use more than \s-1MAXINT\s0 (typically 2^32 on most 32-bit machines) iterators during a single instance of the program. If this is a practical concern, please let me know; that can be fixed though with some time consumption.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Michael K. Neylon &lt;mneylon-pm@masemware.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p>I'd like to thank Chip Salzenberg for a useful suggesting in helping to remove the reference problem without having to resort to weak references on Perlmonks.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>[1] A reference guide to the \*(C+ \s-1STL\s0 can be found at</p>
<pre>
    http://www.cs.rpi.edu/projects/STL/htdocs/stl.html
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2001 by Michael K. Neylon &lt;mneylon-pm@masemware.com&gt;.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>See http://www.perl.com/perl/misc/Artistic.html</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Ticket::Simple.3pm.html"><span aria-hidden="true">&larr;</span> Ticket::Simple.3pm: A basic ticket system.</a></li>
   <li class="next"><a href="Tie::Array::Iterable::BackwardIterator.3pm.html">Tie::Array::Iterable::BackwardIterator.3pm: Forward iterator object <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
