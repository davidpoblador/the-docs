<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VistaIOParseCommand: Parse command line arguments</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Parse command line arguments">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="VistaIOParseCommand (3) manual">
  <meta name="twitter:description" content="Parse command line arguments">
  <meta name="twitter:image" content="https://www.carta.tech/images/libvistaio-dev-VistaIOParseCommand-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/VistaIOParseCommand.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="VistaIOParseCommand (3) manual" />
  <meta property="og:description" content="Parse command line arguments" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libvistaio-dev-VistaIOParseCommand-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">VistaIOParseCommand<small> (3)</small></h1>
        <p class="lead">Parse command line arguments</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/VistaIOParseCommand.3.html">
      <span itemprop="name">VistaIOParseCommand: Parse command line arguments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libvistaio-dev/">
      <span itemprop="name">libvistaio-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/VistaIOParseCommand.3.html">
      <span itemprop="name">VistaIOParseCommand: Parse command line arguments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;vistaio.h&gt;</strong>
</pre>

<pre>
<strong>VistaIOBoolean VistaIOParseCommand (</strong><em>noptions</em><strong>, </strong><em>options</em><strong>, </strong><em>argc</em><strong>, </strong><em>argv</em><strong>)</strong>
int <em>noptions</em>, *<em>argc</em>;
VistaIOOptionDescRec <em>options</em>[<em>noptions</em>];
char *<em>argv</em>;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>noptions</em>
  </dt>
  <dd>
    <p>Specifies the number of entries in the table of option descriptors.</p>
  </dd>
  <dt>
    <em>options</em>
  </dt>
  <dd>
    <p>Specifies the location of the table of option descriptors.</p>
  </dd>
  <dt>
    <em>argc</em>
  </dt>
  <dd>
    <p>Specifies the number of command line arguments to be parsed, and returns the number of arguments that were not recognized as valid options.</p>
  </dd>
  <dt>
    <em>argv</em>
  </dt>
  <dd>
    <p>Specifies a vector of command line arguments to be parsed, and returns a vector of the arguments that were not recognized as valid options.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>VistaIOParseCommand</strong> parses command line arguments according to a table that describes valid command line options. The <a href="../man3/VistaIOoption.3.html"><strong>VistaIOoption</strong>(3)</a> manual page describes this table's contents and specifies the forms that command line options may take.  The <em>noptions</em> and <em>options</em> arguments specify the length and location of the table.</p><p>The <em>argc</em> and <em>argv</em> arguments to <strong>VistaIOParseCommand</strong> are normally identical to the parameters of the program's <strong>main</strong> function. (Note, however, that the address of <strong>main</strong>'s <em>argc</em> is passed rather than the actual value of <em>argc</em>.)</p><p><strong>VistaIOParseCommand</strong> uses the first command line argument, <em>argv</em>[0], in a call to <a href="../man3/VistaIOSetProgramName.3.html"><strong>VistaIOSetProgramName</strong>(3)</a> to record the program's name for future error messages.</p><p>The remaining command line arguments are then processed sequentially from <em>argv</em>[1] through <em>argv</em>[*<em>argc</em>&nbsp;-&nbsp;1]. An argument is examined to determine whether it is an initial substring of any option keyword defined in the options table. If so, arguments following the keyword may be parsed as values associated with the option. The values are stored at locations specified by the options table. If a variable number of values are associated with the option, <strong>VistaIOParseCommand</strong> will allocate a vector of the appropriate length for them. Following the value arguments, <strong>VistaIOParseCommand</strong> expects either another option keyword or the end of the list of command line arguments.</p><p>If <strong>VistaIOParseCommand</strong> encounters an argument that could be an option keyword (based on its position among the command line arguments) but that isn't among the keywords defined in the table, it merely passes over it without complaint. Any such arguments that are not recognized are returned to the caller (see ``RETURN VALUES'', below).</p><p><strong>VistaIOParseCommand</strong> checks that each required option appears once in the command line, and that each optional option appears at most once. If an option appears more than once, a message is printed and only values supplied with the last appearance of the option are retained. The options table entry for an optional option may specify the location of a <strong>VistaIOBoolean</strong> that is to be set to indicate whether the option was encountered. <strong>VistaIOParseCommand</strong> will set the <strong>VistaIOBoolean</strong> to <small>TRUE</small> if the option was encountered, and to <small>FALSE</small> otherwise.</p><p>In addition to the options specified by the options table, <strong>VistaIOParseCommand</strong> recognizes the option <strong>-help</strong>. When it encounters <strong>-help</strong>, <strong>VistaIOParseCommand</strong> ignores the remaining arguments on the command line, sets *<em>argc</em> to 1 to indicate that all arguments have been accounted for, and returns <small>FALSE</small> to indicate that the command line parse was not completed successfully. These returned indications normally cause the caller to print command usage information as shown in the code example below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p><strong>VistaIOParseCommand</strong> returns <small>FALSE</small> if an option that appears among the command line arguments lacks the correct number of values of the appropriate form.  It also returns <small>FALSE</small> if a required option is missing from the command line arguments. Finally, it returns <small>FALSE</small> if it encounters a <strong>-help</strong> option. Otherwise, <strong>VistaIOParseCommand</strong> returns <small>TRUE</small><strong>.</strong><small>Thus,</small> <small>TRUE</small> indicates that the command were parsed successfully by <strong>VistaIOParseCommand</strong> and that the program may continue on that basis.</p><p><strong>VistaIOParseCommand</strong> also returns a revised <em>argv</em> containing only the command line arguments that it did not recognize as valid options. In *<em>argc</em> it returns the number of such arguments. <strong>VistaIOParseCommand</strong> moves elements of the <em>argv</em> vector of strings so that all arguments that are not part of valid options are in the first *<em>argc</em> elements. At minimum, there will be one: the program's name. Others might be options that, for some reason, the programmer chooses not to handle with <strong>VistaIOParseCommand</strong> &ndash; e.g., X Windows parameters that must be given to <strong>XtDisplayInitialize</strong>(3Xt) instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following code fragment parses command line arguments using <strong>VistaIOParseCommand</strong>. Any arguments not recognized by <strong>VistaIOParseCommand</strong> are then parsed by some other means (e.g., by <strong>XtDisplayInitialize</strong>(3Xt)). Finally, if any arguments remain, having not been recognized during either parsing, they are printed along with information on the valid program options.</p>
<pre>
#include &lt;vistaio.h&gt;

static VistaIOOptionDescRec options[] = { /* option table entries */ };

int main (int argc, char *argv)
{
if (! VistaIOParseCommand (VistaIONumber (options), options, & argc, argv))
goto Usage;
</pre>
<p>/* Parse arguments remaining in argv[1] ... argv[argc - 1]. */</p><p>...</p><p>if (argc &gt; 1) {</p><p>VistaIOReportBadArgs (argc, argv);</p><p>Usage:</p><p>VistaIOReportUsage (argv[0], VistaIONumber (options), options, NULL); fprintf (stderr, "    plus any X Windows options.&#92;n&#92;n"); exit (1);</p><p>}</p><p>...</p><p><strong>}</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO VistaIOParseCommand&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/VistaIOReportBadArgs.3.html"><strong>VistaIOReportBadArgs</strong>(3)</a>, <a href="../man3/VistaIOReportUsage.3.html"><strong>VistaIOReportUsage</strong>(3)</a>, <a href="../man3/VistaIOIdentifyFiles.3.html"><strong>VistaIOIdentifyFiles</strong>(3)</a>, <a href="../man3/VistaIOoption.3.html"><strong>VistaIOoption</strong>(3)</a>,</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p><strong>VistaIOParseCommand</strong> reports errors in command line options by printing directly to the standard error stream. Error reports include the program name obtained from <em>argv</em>[0]. The following messages may be produced:</p>
<dl class='dl-vertical'>
  <dt>
    ``Duplicate -<em>option</em> option; ignoring all but last.''
  </dt>
  <dd>
    <p>The specified option was found more than once on the command line.</p>
  </dd>
  <dt>
    ``Option -<em>option</em> has incorrect value <em>arg</em>.''
  </dt>
  <dd>
    <p>One of the values associated with -<em>option</em> on the command line is <em>arg</em>, which is of the wrong form with respect to the type of value required.</p>
  </dd>
  <dt>
    ``Option -<em>option</em> requires <em>m</em> value(s); found only <em>n</em>.''
  </dt>
  <dd>
    <p>The option keyword -<em>option</em> must be followed by <em>n</em> values on the command line. Only <em>m</em> were present, however.</p>
  </dd>
  <dt>
    ``Option -<em>option</em> must be specified.''
  </dt>
  <dd>
    <p>The option -<em>option</em> is required but it was not present on the command line.</p>
  </dd>

</dl>
<p>In addition, <strong>VistaIOParseCommand</strong> may invoke <strong>VistaIOError</strong> with the following message:</p>
<dl class='dl-vertical'>
  <dt>
    ``Parsing of command options with <em>type</em> values is not implemented.''
  </dt>
  <dd>
    <p>Options, as described in the options table, must take values that are of type <strong>VistaIOBit</strong>, <strong>VistaIOUByte</strong>, <strong>VistaIOSByte</strong>, <strong>VistaIOShort</strong>, <strong>VistaIOLong</strong>, <strong>VistaIOFloat</strong>, <strong>VistaIODouble</strong>, <strong>VistaIOBoolean</strong>, or <strong>VistaIOString</strong>. <strong>VistaIOParseCommand</strong> encountered a table entry describing an option of type <em>type</em> instead.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Art Pope &lt;pope@cs.ubc.ca&gt;</p><p>Adaption to vistaio: Gert Wollny &lt;gw.fossdev@gmail.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="VistaIOPackData.3.html"><span aria-hidden="true">&larr;</span> VistaIOPackData.3: Pack or unpack a vector of values</a></li>
   <li class="next"><a href="VistaIOParseFilterCmd.3.html">VistaIOParseFilterCmd.3: Parse command line options and filenames <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
