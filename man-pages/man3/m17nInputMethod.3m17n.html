<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>m17nInputMethod: Api for input method.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Api for input method.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="m17nInputMethod (3m17n) manual">
  <meta name="twitter:description" content="Api for input method.">
  <meta name="twitter:image" content="https://www.carta.tech/images/m17n-docs-m17nInputMethod-3m17n.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3m17n/m17nInputMethod.3m17n.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="m17nInputMethod (3m17n) manual" />
  <meta property="og:description" content="Api for input method." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/m17n-docs-m17nInputMethod-3m17n.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">m17nInputMethod<small> (3m17n)</small></h1>
        <p class="lead">Api for input method.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3m17n/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3m17n/m17nInputMethod.3m17n.html">
      <span itemprop="name">m17nInputMethod: Api for input method.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/m17n-docs/">
      <span itemprop="name">m17n-docs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3m17n/m17nInputMethod.3m17n.html">
      <span itemprop="name">m17nInputMethod: Api for input method.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>API for Input method.</p><p>An input method is an object to enable inputting various characters. An input method is identified by a pair of symbols, LANGUAGE and NAME. This pair decides an input method driver of the input method. An input method driver is a set of functions for handling the input method. There are two kinds of input methods; internal one and foreign one.</p><ul>
<li><p>Internal Input Method</p></li>
</ul><p>An internal input method has non Mnil LANGUAGE, and its body is defined in the m17n database by the tag &lt;Minput_method, LANGUAGE, NAME&gt;. For this kind of input methods, the m17n library uses two predefined input method drivers, one for CUI use and the other for GUI use. Those drivers utilize the input processing engine provided by the m17n library itself. The m17n database may provide input methods that are not limited to a specific language. The database uses Mt as LANGUAGE of those input methods.</p><p>An internal input method accepts an input key which is a symbol associated with an input event. As there is no way for the m17n library to know how input events are represented in an application program, an application programmer has to convert an input event to an input key by himself. See the documentation of the function <strong>minput_event_to_key()</strong> for the detail.</p><ul>
<li><p>Foreign Input Method</p></li>
</ul><p>A foreign input method has Mnil LANGUAGE, and its body is defined in an external resource (e.g. XIM of X Window System). For this kind of input methods, the symbol NAME must have a property of key <strong>Minput_driver</strong>, and the value must be a pointer to an input method driver. Therefore, by preparing a proper driver, any kind of input method can be treated in the framework of the m17n<strong> library</strong>.</p><p>For convenience, the m17n-X library provides an input method driver that enables the input style of OverTheSpot for XIM, and stores <strong>Minput_driver</strong> property of the symbol Mxim<strong> with a pointer to the driver. See the documentation of m17n GUI API for the detail.</strong></p><p>PROCESSING FLOW</p><p>The typical processing flow of handling an input method is:</p><ul>
<li><p>open an input method</p></li><li><p>create an input context for the input method</p></li><li><p>filter an input key</p></li><li><p>look up a produced text in the input context</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Data Structure Documentation</h2>
        <div class="sectioncontent">
<h3>MInputDriver</h3>
<p><strong>FIELD DOCUMENTATION:</strong></p><p><strong>int(* </strong><strong>MInputDriver::open_im</strong><strong>)(</strong><strong>MInputMethod</strong><strong> *im)</strong><strong></strong></p><p>Open an input method. This function opens the input method <strong>im</strong>. It is called from the function <strong>minput_open_im()</strong> after all member of <strong>im</strong> but &lt;info&gt; set. If opening <strong>im</strong> succeeds, it returns 0. Otherwise, it returns -1. The function can setup <strong>im-&gt;info</strong> to keep various information that is referred by the other driver functions.</p><p><strong>void(* </strong><strong>MInputDriver::close_im</strong><strong>)(</strong><strong>MInputMethod</strong><strong> *im)</strong><strong></strong></p><p>Close an input method. This function closes the input method <strong>im</strong>. It is called from the function <strong>minput_close_im()</strong>. It frees all memory allocated for <strong>im-&gt;info</strong> (if any) after finishing all the tasks of closing the input method. But, the other members of <strong>im</strong> should not be touched.</p><p><strong>int(* </strong><strong>MInputDriver::create_ic</strong><strong>)(</strong><strong>MInputContext</strong><strong> *ic)</strong><strong></strong></p><p>Create an input context. This function creates the input context <strong>ic</strong>. It is called from the function <strong>minput_create_ic()</strong> after all members of <strong>ic</strong> but &lt;info&gt; are set. If creating <strong>ic</strong> succeeds, it returns 0. Otherwise, it returns -1. The function can setup <strong>ic-&gt;info</strong> to keep various information that is referred by the other driver functions.</p><p><strong>void(* </strong><strong>MInputDriver::destroy_ic</strong><strong>)(</strong><strong>MInputContext</strong><strong> *ic)</strong><strong></strong></p><p>Destroy an input context. This function is called from the function <strong>minput_destroy_ic()</strong> and destroys the input context <strong>ic</strong>. It frees all memory allocated for <strong>ic-&gt;info</strong> (if any) after finishing all the tasks of destroying the input method. But, the other members of <strong>ic</strong> should not be touched.</p><p><strong>int(* </strong><strong>MInputDriver::filter</strong><strong>)(</strong><strong>MInputContext</strong><strong> *ic, </strong><strong>MSymbol</strong><strong> key, void *arg)</strong><strong></strong></p><p>Filter an input key. This function is called from the function <strong>minput_filter()</strong> and filters an input key. <strong>key</strong> and <strong>arg</strong> are the same as what given to <strong>minput_filter()</strong>.</p><p>The task of the function is to handle <strong>key</strong>, update the internal state of <strong>ic</strong>. If <strong>key</strong> is absorbed by the input method and no text is produced, it returns 1. Otherwise, it returns 0.</p><p>It may update <strong>ic-&gt;status</strong>, <strong>ic-&gt;preedit</strong>, <strong>ic-&gt;cursor_pos</strong>, <strong>ic-&gt;ncandidates</strong>, <strong>ic-&gt;candidates</strong>, and <strong>ic-&gt;produced</strong> if that is necessary for the member &lt;callback&gt;.</p><p>The meaning of <strong>arg</strong> depends on the input method river. See the documentation of minput_default_driver<strong> and minput_gui_driver</strong> for instance.</p><p><strong>int(* </strong><strong>MInputDriver::lookup</strong><strong>)(</strong><strong>MInputContext</strong><strong> *ic, </strong><strong>MSymbol</strong><strong> key, void *arg, </strong><strong>MText</strong><strong> *mt)</strong><strong></strong></p><p>Lookup a produced text in an input context. It is called from the function <strong>minput_lookup()</strong> and looks up a produced text in the input context <strong>ic</strong>. This function concatenate a text produced by the input key <strong>key</strong> (if any) to M-text <strong>mt</strong>. If <strong>key</strong> was correctly handled by the input method of <strong>ic</strong>, it returns 0. Otherwise, it returns 1.</p><p>The meaning of <strong>arg</strong> depends on the input method driver. See the documentation of minput_default_driver<strong> and minput_gui_driver</strong> for instance.</p><p><strong></strong><strong>MPlist</strong><strong>* </strong><strong>MInputDriver::callback_list</strong><strong></strong><strong></strong></p><p>List of callback functions. List of callback functions. Keys are one of <strong>Minput_preedit_start</strong>, <strong>Minput_preedit_draw</strong>, <strong>Minput_preedit_done</strong>, <strong>Minput_status_start</strong>, <strong>Minput_status_draw</strong>, <strong>Minput_status_done</strong>, <strong>Minput_candidates_start</strong>, <strong>Minput_candidates_draw</strong>, <strong>Minput_candidates_done</strong>, <strong>Minput_set_spot</strong>, <strong>Minput_toggle</strong>, <strong>Minput_reset</strong>, <strong>Minput_get_surrounding_text</strong>, <strong>Minput_delete_surrounding_text</strong>. Values are functions of type <strong>MInputCallbackFunc</strong>.</p>
<h3>MInputMethod</h3>
<p><strong>FIELD DOCUMENTATION:</strong></p><p><strong></strong><strong>MSymbol</strong><strong> </strong><strong>MInputMethod::language</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MSymbol</strong><strong> </strong><strong>MInputMethod::name</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MInputDriver</strong><strong> </strong><strong>MInputMethod::driver</strong><strong></strong><strong></strong></p><p><strong>void* </strong><strong>MInputMethod::arg</strong><strong></strong><strong></strong></p><p><strong>void* </strong><strong>MInputMethod::info</strong><strong></strong><strong></strong></p>
<h3>MInputContext</h3>
<p><strong>FIELD DOCUMENTATION:</strong></p><p><strong></strong><strong>MInputMethod</strong><strong>* </strong><strong>MInputContext::im</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MText</strong><strong>* </strong><strong>MInputContext::produced</strong><strong></strong><strong></strong></p><p><strong>void* </strong><strong>MInputContext::arg</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::active</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::x</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::y</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::ascent</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::descent</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::fontsize</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MText</strong><strong>* </strong><strong>MInputContext::mt</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::pos</strong><strong></strong><strong></strong></p><p><strong>struct { ... }   </strong><strong>MInputContext::spot</strong><strong></strong><strong></strong></p><p><strong>void* </strong><strong>MInputContext::info</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MText</strong><strong>* </strong><strong>MInputContext::status</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::status_changed</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MText</strong><strong>* </strong><strong>MInputContext::preedit</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::preedit_changed</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::cursor_pos</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::cursor_pos_changed</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MPlist</strong><strong>* </strong><strong>MInputContext::candidate_list</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::candidate_index</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::candidate_from</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::candidate_to</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::candidate_show</strong><strong></strong><strong></strong></p><p><strong>int </strong><strong>MInputContext::candidates_changed</strong><strong></strong><strong></strong></p><p><strong></strong><strong>MPlist</strong><strong>* </strong><strong>MInputContext::plist</strong><strong></strong><strong></strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Typedef Documentation</h2>
        <div class="sectioncontent">
<h3>typedef void(* \fBMInputCallbackFunc\fP)(\fBMInputContext\fP *ic, \fBMSymbol\fP command)</h3>
<p>Type of input method callback functions. This is the type of callback functions called from input method drivers. <strong>ic</strong> is a pointer to an input context, <strong>command</strong> is a name of callback for which the function is called.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Enumeration Type Documentation</h2>
        <div class="sectioncontent">
<h3>enum \fBMInputCandidatesChanged\fP</h3>
<p>Bit-masks to specify how candidates of input method is changed.</p><p><strong>Enumerator: </strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><em>MINPUT_CANDIDATES_LIST_CHANGED </em><strong></strong><em></em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong></strong><em>MINPUT_CANDIDATES_INDEX_CHANGED </em><strong></strong><em></em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong></strong><em>MINPUT_CANDIDATES_SHOW_CHANGED </em><strong></strong><em></em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong></strong><em>MINPUT_CANDIDATES_CHANGED_MAX </em><strong></strong><em></em></p>
  </dt>
  <dd>
    
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Variable Documentation</h2>
        <div class="sectioncontent">
<h3>\fBMSymbol\fP \fBMinput_method\fP</h3>
<p>Symbol whose name is 'input-method'.</p>
<h3>\fBMSymbol\fP \fBMinput_preedit_start\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_preedit_done\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_preedit_draw\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_status_start\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_status_done\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_status_draw\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_candidates_start\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_candidates_done\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_candidates_draw\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_set_spot\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_toggle\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_reset\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_get_surrounding_text\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_delete_surrounding_text\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_focus_out\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_focus_in\fP</h3>

<h3>\fBMSymbol\fP \fBMinput_focus_move\fP</h3>

<h3>\fBMSymbol\fP \fBMinherited\fP These are the predefined symbols describing status of input method command and variable, and are used in a return value of \fBminput_get_command()\fP and \fBminput_get_variable()\fP.</h3>

<h3>\fBMSymbol\fP \fBMcustomized\fP</h3>

<h3>\fBMSymbol\fP \fBMconfigured\fP</h3>

<h3>\fBMInputDriver\fP \fBminput_default_driver\fP</h3>
<p>The default driver for internal input methods. The variable <strong>minput_default_driver</strong> is the default driver for internal input methods.</p><p>The member <strong>MInputDriver::open_im()</strong> searches the m17n database for an input method that matches the tag &lt; <strong>Minput_method</strong>, <strong>language</strong>, <strong>name&gt;</strong> and loads it.</p><p>The member <strong>MInputDriver::callback_list()</strong> is NULL<strong>. Thus, it is programmers responsibility to set it to a plist of proper callback functions. Otherwise, no feedback information (e.g. preedit text) can be shown to users.</strong></p><p>The macro <strong>M17N_INIT()</strong> sets the variable <strong>minput_driver</strong> to the pointer to this driver so that all internal input methods use it.</p><p>Therefore, unless minput_driver is set differently, the driver dependent arguments <strong>arg</strong> of the functions whose name begins with 'minput_' are all ignored.</p>
<h3>\fBMInputDriver\fP* \fBminput_driver\fP</h3>
<p>The driver for internal input methods. The variable <strong>minput_driver</strong> is a pointer to the input method driver that is used by internal input methods. The macro <strong>M17N_INIT()</strong> initializes it to a pointer to <strong>minput_default_driver</strong> if &lt;m17n<em></em>.h&gt; is included.</p>
<h3>\fBMSymbol\fP \fBMinput_driver\fP The variable \fBMinput_driver\fP is a symbol for a foreign input method. See \fBforeign input method\fP for the detail.</h3>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for The m17n Library from the source code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>\fBMPlist\fP* minput_get_variables (\fBMSymbol\fP language, \fBMSymbol\fP name)</h3>
<p>Get a list of variables of an input method (obsolete). This function is obsolete. Use <strong>minput_get_variable()</strong> instead.</p><p>The <strong>minput_get_variables()</strong> function returns a plist (<strong>MPlist</strong>) of variables used to control the behavior of the input method specified by <strong>language</strong> and <strong>name</strong>. The plist is <em>well-formed</em> (<strong>Property List</strong>) of the following format:</p>
<pre>
    (VARNAME (DOC-MTEXT DEFAULT-VALUE [ VALUE ... ] )
     VARNAME (DOC-MTEXT DEFAULT-VALUE [ VALUE ... ] )
     ...)
</pre>
<p>VARNAME is a symbol representing the variable name.</p><p>DOC-MTEXT is an M-text describing the variable.</p><p>DEFAULT-VALUE is the default value of the variable. It is a symbol, integer, or M-text.</p><p>VALUEs (if any) specifies the possible values of the variable. If DEFAULT-VALUE is an integer, VALUE may be a plist (FROM TO), where FROM and TO specifies a range of possible values.</p><p>For instance, suppose an input method has the variables:</p><ul>
<li><p>name:intvar, description:'value is an integer', initial value:0, value-range:0..3,10,20</p></li>
</ul><ul>
<li><p>name:symvar, description:'value is a symbol', initial value:nil, value-range:a, b, c, nil</p></li>
</ul><ul>
<li><p>name:txtvar, description:'value is an M-text', initial value:empty text, no value-range (i.e. any text)</p></li>
</ul><p>Then, the returned plist is as follows.</p>
<pre>
    (intvar ("value is an integer" 0 (0 3) 10 20)
     symvar ("value is a symbol" nil a b c nil)
     txtvar ("value is an M-text" ""))
</pre>
<p><strong>RETURN VALUE</strong></p><p>If the input method uses any variables, a pointer to <strong>MPlist</strong> is returned. As the plist is kept in the library, the caller must not modify nor free it. If the input method does not use any variable, NULL<strong> is returned.</strong></p>
<h3>int minput_set_variable (\fBMSymbol\fP language, \fBMSymbol\fP name, \fBMSymbol\fP variable, void * value)</h3>
<p>Set the initial value of an input method variable. The <strong>minput_set_variable()</strong> function sets the initial value of input method variable <strong>variable</strong> to <strong>value</strong> for the input method specified by <strong>language</strong> and <strong>name</strong>.</p><p>By default, the initial value is 0.</p><p>This setting gets effective in a newly opened input method.</p><p><strong>RETURN VALUE</strong></p><p>If the operation was successful, 0 is returned. Otherwise -1 is returned, and <strong>merror_code</strong> is set to MERROR_IM<strong>.</strong></p>
<h3>\fBMPlist\fP* minput_get_commands (\fBMSymbol\fP language, \fBMSymbol\fP name)</h3>
<p>Get information about input method commands. The <strong>minput_get_commands()</strong> function returns information about input method commands of the input method specified by <strong>language</strong> and <strong>name</strong>. An input method command is a pseudo key event to which one or more actual input key sequences are assigned.</p><p>There are two kinds of commands, global and local. Global commands are used by multiple input methods for the same purpose, and have global key assignments. Local commands are used only by a specific input method, and have only local key assignments.</p><p>Each input method may locally change key assignments for global commands. The global key assignment for a global command is effective only when the current input method does not have local key assignments for that command.</p><p>If <strong>name</strong> is <strong>Mnil</strong>, information about global commands is returned. In this case <strong>language</strong> is ignored.</p><p>If <strong>name</strong> is not <strong>Mnil</strong>, information about those commands that have local key assignments in the input method specified by <strong>language</strong> and <strong>name</strong> is returned.</p><p><strong>RETURN VALUE</strong></p><p>If no input method commands are found, this function returns NULL.</p><p>Otherwise, a pointer to a plist is returned. The key of each element in the plist is a symbol representing a command, and the value is a plist of the form COMMAND-INFO described below.</p><p>The first element of COMMAND-INFO has the key <strong>Mtext</strong>, and the value is an M-text describing the command.</p><p>If there are no more elements, that means no key sequences are assigned to the command. Otherwise, each of the remaining elements has the key <strong>Mplist</strong>, and the value is a plist whose keys are <strong>Msymbol</strong> and values are symbols representing input keys, which are currently assigned to the command.</p><p>As the returned plist is kept in the library, the caller must not modify nor free it.</p>
<h3>int minput_assign_command_keys (\fBMSymbol\fP language, \fBMSymbol\fP name, \fBMSymbol\fP command, \fBMPlist\fP * keyseq)</h3>
<p>Assign a key sequence to an input method command (obsolete). This function is obsolete. Use <strong>minput_config_command()</strong> instead.</p><p>The <strong>minput_assign_command_keys()</strong> function assigns input key sequence <strong>keyseq</strong> to input method command <strong>command</strong> for the input method specified by <strong>language</strong> and <strong>name</strong>. If <strong>name</strong> is <strong>Mnil</strong>, the key sequence is assigned globally no matter what <strong>language</strong> is. Otherwise the key sequence is assigned locally.</p><p>Each element of <strong>keyseq</strong> must have the key <strong>msymbol</strong> and the value must be a symbol representing an input key.</p><p><strong>keyseq</strong> may be NULL<strong>, in which case, all assignments are deleted globally or locally.</strong></p><p>This assignment gets effective in a newly opened input method.</p><p><strong>RETURN VALUE</strong></p><p>If the operation was successful, 0 is returned. Otherwise -1 is returned, and <strong>merror_code</strong> is set to MERROR_IM<strong>.</strong></p>
<h3>int minput_callback (\fBMInputContext\fP * ic, \fBMSymbol\fP command)</h3>
<p>Call a callback function. The <strong>minput_callback()</strong> functions calls a callback function <strong>command</strong> assigned for the input context <strong>ic</strong>. The caller must set specific elements in <strong>ic-&gt;plist</strong> if the callback function requires.</p><p><strong>RETURN VALUE</strong></p><p>If there exists a specified callback function, 0 is returned. Otherwise -1 is returned. By side effects, <strong>ic-&gt;plist</strong> may be modified.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2001 Information-technology Promotion Agency (IPA)</p><p>Copyright (C) 2001-2011 National Institute of Advanced Industrial Science and Technology (AIST)</p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License &lt;http://www.gnu.org/licenses/fdl.html&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="m17nGUI.3m17n.html"><span aria-hidden="true">&larr;</span> m17nGUI.3m17n: Api provided by libm17n-gui.so.</a></li>
   <li class="next"><a href="m17nInputMethodWin.3m17n.html">m17nInputMethodWin.3m17n: Input method support on window systems. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
