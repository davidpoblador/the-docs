<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>roar_vs_stream: Set up stream parameters for vs object</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set up stream parameters for vs object">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="roar_vs_stream (3) manual">
  <meta name="twitter:description" content="Set up stream parameters for vs object">
  <meta name="twitter:image" content="https://www.carta.tech/images/libroar-dev-roar_vs_stream-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/roar_vs_stream.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="roar_vs_stream (3) manual" />
  <meta property="og:description" content="Set up stream parameters for vs object" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libroar-dev-roar_vs_stream-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">roar_vs_stream<small> (3)</small></h1>
        <p class="lead">Set up stream parameters for vs object</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/roar_vs_stream.3.html">
      <span itemprop="name">roar_vs_stream: Set up stream parameters for vs object</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libroar-dev/">
      <span itemprop="name">libroar-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/roar_vs_stream.3.html">
      <span itemprop="name">roar_vs_stream: Set up stream parameters for vs object</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;roaraudio.h&gt;</p><p>int roar_vs_stream(roar_vs_t * vss, const struct roar_audio_info * info, int dir, int * error);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This function asks a VS object opened by <a href="../man3/roar_vs_new_from_con.3.html"><strong>roar_vs_new_from_con</strong>(3)</a> or <a href="../man3/roar_vs_new.3.html"><strong>roar_vs_new</strong>(3)</a> to open the data connection using the audio parameters <strong>info</strong> and the stream direction <strong>dir</strong>.</p><p>This function needs to be called before data is read or written if one of the above functions is used to create the VS object.</p><p>This function is also used to provide parameters for the file mode (which is started by using <a href="../man3/roar_vs_file.3.html"><strong>roar_vs_file</strong>(3)</a> or <a href="../man3/roar_vs_file_simple.3.html"><strong>roar_vs_file_simple</strong>(3)</a>). To play back a file this is not needed in a common case as the VS API tries to find correct parameters. It is required for all other stream directions. See <a href="../man3/roar_vs_file.3.html"><strong>roar_vs_file</strong>(3)</a> and <a href="../man3/roar_vs_file_simple.3.html"><strong>roar_vs_file_simple</strong>(3)</a> for more information.</p><p>On failture this function can be called again with diffrent parameters.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>vss</strong></p>
  </dt>
  <dd>
    <p>The VS object to be updated.</p>
  </dd>
  <dt>
    <p><strong>info</strong></p>
  </dt>
  <dd>
    <p>This is a pointer to the roar_audio_info structure storing the audio format parameters. The structure contains the following memebers: rate (sample rate), bits (bits per sample), channels (channels per frame) and codec.</p>
  </dd>
  <dt>
    <p><strong>dir</strong></p>
  </dt>
  <dd>
    <p>This is the stream direction. Common values include ROAR_DIR_PLAY for waveform playback, ROAR_DIR_MONITOR for waveform monitoring, ROAR_DIR_RECORD for waveform recording. For MIDI ROAR_DIR_MIDI_IN and ROAR_DIR_MIDI_OUT is used.</p>
  </dd>
  <dt>
    <p><strong>error</strong></p>
  </dt>
  <dd>
    <p>This is a pointer to a integer used to store the error value in case of error. This can be NULL if not used but it is very recommended to use this error value to report good error messages to the user.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success these calls return 0.  On error, -1 is returned.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p> struct roar_audio_info info;  int err;</p><p> if ( roar_profile2info(&info, "isdn-eu") == -1 ) {</p>
<pre>
  // error handling.
</pre>
<p> }</p><p> if ( roar_vs_stream(vss, &info, ROAR_DIR_PLAY, &err) == -1 ) {</p>
<pre>
  // error handling.
</pre>
<p> }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO roar_vs_stream&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/roar_vs_file.3.html"><strong>roar_vs_file</strong>(3)</a>, <a href="../man3/roar_vs_file_simple.3.html"><strong>roar_vs_file_simple</strong>(3)</a>, <a href="../man7/roarvs.7.html"><strong>roarvs</strong>(7)</a>, <a href="../man7/libroar.7.html"><strong>libroar</strong>(7)</a>, <a href="../man7/RoarAudio.7.html"><strong>RoarAudio</strong>(7)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="roar_vs_run.3.html"><span aria-hidden="true">&larr;</span> roar_vs_run.3: Iterate streams</a></li>
   <li class="next"><a href="roar_vs_stream_obj.3.html">roar_vs_stream_obj.3: Vs api interface for use of main api <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
