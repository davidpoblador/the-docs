<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gendlib: Perl library for querying genders file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl library for querying genders file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gendlib (3) manual">
  <meta name="twitter:description" content="Perl library for querying genders file">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgenders-perl-gendlib-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/gendlib.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gendlib (3) manual" />
  <meta property="og:description" content="Perl library for querying genders file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgenders-perl-gendlib-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gendlib<small> (3)</small></h1>
        <p class="lead">Perl library for querying genders file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gendlib.3.html">
      <span itemprop="name">gendlib: Perl library for querying genders file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgenders-perl/">
      <span itemprop="name">libgenders-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gendlib.3.html">
      <span itemprop="name">gendlib: Perl library for querying genders file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>require ``/usr/lib/genders/gendlib.pl'';</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This package contains common functions for manipulating the genders file. Previously this code existed only in the nodeattr command, but applications that must repeatedly call nodeattr would spend a great deal of time reading and parsing the genders file.  These functions create an in-memory cache of genders on the first call;  subsequent calls need only reference the in-memory copy and are thus speeded up.</p><p><strong>Initialization:</strong></p><p>Genders::init([$path_genders])</p><ul>
<li><p>Function normally called internally for initialization.  It can be called externally with a non-default genders file path and subsequent operations will use this non-default data.  May be called more than once to change genders file.</p></li>
</ul><p><strong>Simple Queries:</strong></p><p>Genders::hasattr($attribute, [$node])</p><ul>
<li><p>Return 1 if node has attribute, 0 if not.  If node is not specified, use local node.</p></li>
</ul><p>Genders::getattrval($attribute, [$node])</p><ul>
<li><p>Return value of attribute held by node, or empty string if no value or node does not have attribute.  If node is not specified, use local node.</p></li>
</ul><p>Genders::getnode([$attribute])</p><ul>
<li><p>Return a list of nodes having the specified attribute.  If a value is also specified ("attr=val"), only nodes with the specified attribute and value are returned.  If no attribute is specified, getnode returns all the nodes listed in the genders file.</p></li>
</ul><p>Genders::getattr([$node])</p><ul>
<li><p>Return a list of attributes held by node.  If node is not specified, use local node.</p></li>
</ul><p><strong>Complex Queries:</strong></p><p>Genders::getallattr()</p><ul>
<li><p>Return a list of all attributes in the genders file (one cluster only).</p></li>
</ul><p>Genders::get_node_hash(\node)</p><ul>
<li><p>Get a copy of hash of attributes to node lists for the current cluster (a "hash of lists").  Ensure that keys exist for all possible attributes across clusters (though they may point to empty lists).</p></li>
</ul><p>Genders::get_clusters()</p><ul>
<li><p>Return a list with the local cluster name as the first and only element.  get_clusters() returns a list instead of a scalar for backwards compatability.  If the local cluster name is not known, null is returned.</p></li>
</ul><p>Genders::gendexp($exp, [$node])</p><ul>
<li><p>Evaluate expression involving genders attributes and return the result of the evaluation.  Any legal perl expresion using numeric constants, genders attributes (which are converted into $variables), and the following operators is valid:  !, ||, &&, *, +, -, /.  If $node is not specified, assume the local host.</p></li>
</ul><p><strong>Conversion:</strong></p><p>Genders::to_altnames()</p><ul>
<li><p>Given a list of hostnames as they appear in the genders file, return a list of alternate names.  On the SP, genders names are assumed to be the initial_hostnames, and we use the SDR to convert to reliable_hostnames. On other systems, we look for the value of the altname attribute in the genders file.  If the input hostname cannot be converted, it is preserved in the output.</p></li>
</ul><p>Genders::to_gendnames()</p><ul>
<li><p>Performs the inverse of the to_altnames() function.  Just like to_altnames(), an input hostname is preserved in the output if it cannot be converted.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gendlib&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/nodeattr.1.html"><strong>nodeattr</strong>(1)</a>, <a href="../man3/libgenders.3.html"><strong>libgenders</strong>(3)</a>, <a href="../man3/libgenders.3.html"><strong>Libgenders</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="genders_vallist_destroy.3.html"><span aria-hidden="true">&larr;</span> genders_vallist_destroy.3: List create, clear, and destroy routines</a></li>
   <li class="next"><a href="general.3.html">general.3: Miscellaneous classes - <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
