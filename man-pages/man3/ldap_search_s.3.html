<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ldap_search_s: Perform an ldap search operation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perform an ldap search operation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ldap_search_s (3) manual">
  <meta name="twitter:description" content="Perform an ldap search operation">
  <meta name="twitter:image" content="https://www.carta.tech/images/libldap2-dev-ldap_search_s-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ldap_search_s.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ldap_search_s (3) manual" />
  <meta property="og:description" content="Perform an ldap search operation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libldap2-dev-ldap_search_s-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ldap_search_s<small> (3)</small></h1>
        <p class="lead">Perform an ldap search operation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ldap_search_s.3.html">
      <span itemprop="name">ldap_search_s: Perform an ldap search operation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libldap2-dev/">
      <span itemprop="name">libldap2-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ldap_search_s.3.html">
      <span itemprop="name">ldap_search_s: Perform an ldap search operation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">LIBRARY</h2>
        <div class="sectioncontent">
<p>OpenLDAP LDAP (libldap, -lldap)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;sys/types.h&gt;
#include &lt;ldap.h&gt;

int ldap_search_ext(
LDAP *<em>ld</em><strong>,</strong>
char *<em>base</em><strong>,</strong>
int <em>scope</em><strong>,</strong>
char *<em>filter</em><strong>,</strong>
char *<em>attrs</em><strong>[],</strong>
int <em>attrsonly</em><strong>,</strong>
LDAPControl **<em>serverctrls</em><strong>,</strong>
LDAPControl **<em>clientctrls</em><strong>,</strong>
struct timeval *<em>timeout</em><strong>,</strong>
int <em>sizelimit</em><strong>,</strong>
int *<em>msgidp</em><strong> );</strong>
</pre>
<p>int ldap_search_ext_s(</p><p>LDAP *<em>ld</em><strong>,</strong> char *<em>base</em><strong>,</strong> int <em>scope</em><strong>,</strong> char *<em>filter</em><strong>,</strong> char *<em>attrs</em><strong>[],</strong> int <em>attrsonly</em><strong>,</strong> LDAPControl **<em>serverctrls</em><strong>,</strong> LDAPControl **<em>clientctrls</em><strong>,</strong> struct timeval *<em>timeout</em><strong>,</strong> int <em>sizelimit</em><strong>,</strong> LDAPMessage **<em>res</em><strong> );</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>These routines are used to perform LDAP search operations. The <strong>ldap_search_ext_s()</strong> routine does the search synchronously (i.e., not returning until the operation completes), providing a pointer to the resulting LDAP messages at the location pointed to by the <em>res</em> parameter.</p><p>The <strong>ldap_search_ext()</strong> routine is the asynchronous version, initiating the search and returning the message id of the operation it initiated in the integer pointed to by the <em>msgidp</em> parameter.</p><p>The <em>base</em> parameter is the DN of the entry at which to start the search.</p><p>The <em>scope</em> parameter is the scope of the search and should be one of LDAP_SCOPE_BASE, to search the object itself, LDAP_SCOPE_ONELEVEL, to search the object's immediate children, LDAP_SCOPE_SUBTREE, to search the object and all its descendants, or LDAP_SCOPE_CHILDREN, to search all of the descendants.   Note that the latter requires the server support the LDAP Subordinates Search Scope extension.</p><p>The <em>filter</em> is a string representation of the filter to apply in the search.  The string should conform to the format specified in RFC 4515 as extended by RFC 4526.  For instance, "(cn=Jane Doe)".  Note that use of the extension requires the server to support the LDAP Absolute True/False Filter extension. NULL may be specified to indicate the library should send the filter (objectClass=*).</p><p>The <em>attrs</em> parameter is a null-terminated array of attribute descriptions to return from matching entries. If NULL is specified, the return of all user attributes is requested. The description "*" (LDAP_ALL_USER_ATTRIBUTES) may be used to request all user attributes to be returned. The description "+"(LDAP_ALL_OPERATIONAL_ATTRIBUTES) may be used to request all operational attributes to be returned.  Note that this requires the server to support the LDAP All Operational Attribute extension. To request no attributes, the description "1.1" (LDAP_NO_ATTRS) should be listed by itself.</p><p>The <em>attrsonly</em> parameter should be set to a non-zero value if only attribute descriptions are wanted.  It should be set to zero (0) if both attributes descriptions and attribute values are wanted.</p><p>The <em>serverctrls</em> and <em>clientctrls</em> parameters may be used to specify server and client controls, respectively.</p><p>The <strong>ldap_search_ext_s()</strong> routine is the synchronous version of <strong>ldap_search_ext().</strong></p><p>It also returns a code indicating success or, in the case of failure, indicating the nature of the failure of the operation.  See <a href="../man3/ldap_error.3.html"><strong>ldap_error</strong>(3)</a> for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Note that both read and list functionality are subsumed by these routines, by using a filter like "(objectclass=*)" and a scope of LDAP_SCOPE_BASE (to emulate read) or LDAP_SCOPE_ONELEVEL (to emulate list).</p><p>These routines may dynamically allocate memory. The caller is responsible for freeing such memory using supplied deallocation routines. Return values are contained in &lt;ldap.h&gt;.</p><p>Note that <em>res</em> parameter of <strong>ldap_search_ext_s()</strong> and <strong>ldap_search_s()</strong> should be freed with <strong>ldap_msgfree()</strong> regardless of return value of these functions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPRECATED INTERFACES</h2>
        <div class="sectioncontent">
<p>The <strong>ldap_search()</strong> routine is deprecated in favor of the <strong>ldap_search_ext()</strong> routine.  The <strong>ldap_search_s()</strong> and <strong>ldap_search_st()</strong> routines are deprecated in favor of the <strong>ldap_search_ext_s()</strong> routine.</p><p>Deprecated interfaces generally remain in the library.  The macro LDAP_DEPRECATED can be defined to a non-zero value (e.g., -DLDAP_DEPRECATED=1) when compiling program designed to use deprecated interfaces.  It is recommended that developers writing new programs, or updating old programs, avoid use of deprecated interfaces. Over time, it is expected that documentation (and, eventually, support) for deprecated interfaces to be eliminated.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ldap_search_s&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ldap.3.html"><strong>ldap</strong>(3)</a>, <a href="../man3/ldap_result.3.html"><strong>ldap_result</strong>(3)</a>, <a href="../man3/ldap_error.3.html"><strong>ldap_error</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p><strong>OpenLDAP Software</strong> is developed and maintained by The OpenLDAP Project &lt;http://www.openldap.org/&gt;. <strong>OpenLDAP Software</strong> is derived from University of Michigan LDAP 3.3 Release.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ldap_search_ext_s.3.html"><span aria-hidden="true">&larr;</span> ldap_search_ext_s.3: Perform an ldap search operation</a></li>
   <li class="next"><a href="ldap_search_st.3.html">ldap_search_st.3: Perform an ldap search operation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
