<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SQL::Statement::Functions: Built-in & user-defined sql functions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Built-in & user-defined sql functions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="SQL::Statement::Functions (3pm) manual">
  <meta name="twitter:description" content="Built-in & user-defined sql functions">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsql-statement-perl-SQL::Statement::Functions-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/SQL::Statement::Functions.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="SQL::Statement::Functions (3pm) manual" />
  <meta property="og:description" content="Built-in & user-defined sql functions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsql-statement-perl-SQL::Statement::Functions-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">SQL::Statement::Functions<small> (3pm)</small></h1>
        <p class="lead">Built-in & user-defined sql functions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/SQL::Statement::Functions.3pm.html">
      <span itemprop="name">SQL::Statement::Functions: Built-in & user-defined sql functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsql-statement-perl/">
      <span itemprop="name">libsql-statement-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/SQL::Statement::Functions.3pm.html">
      <span itemprop="name">SQL::Statement::Functions: Built-in & user-defined sql functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 SELECT Func(args);
 SELECT * FROM Func(args);
 SELECT * FROM x WHERE Funcs(args);
 SELECT * FROM x WHERE y &lt; Funcs(args);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module contains the built-in functions for SQL::Parser and SQL::Statement.  All of the functions are also available in any DBDs that subclass those modules (e.g. \s-1DBD::CSV\s0, \s-1DBD::DBM\s0, DBD::File, DBD::AnyData, DBD::Excel, etc.).</p><p>This documentation covers built-in functions and also explains how to create your own functions to supplement the built-in ones.  It's easy.  If you create one that is generally useful, see below for how to submit it to become a built-in function.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function syntax</h2>
        <div class="sectioncontent">
<p>When using SQL::Statement/SQL::Parser directly to parse \s-1SQL\s0, functions (either built-in or user-defined) may occur anywhere in a \s-1SQL\s0 statement that values, column names, table names, or predicates may occur.  When using the modules through a \s-1DBD\s0 or in any other context in which the \s-1SQL\s0 is both parsed and executed, functions can occur in the same places except that they can not occur in the column selection clause of a \s-1SELECT\s0 statement that contains a \s-1FROM\s0 clause.</p><p> # valid for both parsing and executing</p><p>     SELECT MyFunc(args);      SELECT * FROM MyFunc(args);      SELECT * FROM x WHERE MyFuncs(args);      SELECT * FROM x WHERE y &lt; MyFuncs(args);</p><p> # valid only for parsing (won&apos;t work from a DBD)</p><p>     SELECT MyFunc(args) FROM x WHERE y;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">User-Defined Functions</h2>
        <div class="sectioncontent">
<h3>Loading User-Defined Functions</h3>
<p>In addition to the built-in functions, you can create any number of your own user-defined functions (UDFs).  In order to use a \s-1UDF\s0 in a script, you first have to create a perl subroutine (see below), then you need to make the function available to your database handle with the \s-1CREATE\s0 \s-1FUNCTION\s0 or \s-1LOAD\s0 commands:</p><p> # load a single function "foo" from a subroutine  # named "foo" in the current package</p><p>      $dbh-&gt;do(" CREATE FUNCTION foo EXTERNAL ");</p><p> # load a single function "foo" from a subroutine  # named "bar" in the current package</p><p>      $dbh-&gt;do(" CREATE FUNCTION foo EXTERNAL NAME bar");</p><p> # load a single function "foo" from a subroutine named "foo"  # in another package</p><p>      $dbh-&gt;do(&apos; CREATE FUNCTION foo EXTERNAL NAME "Bar::Baz::foo" &apos;);</p><p> # load all the functions in another package</p><p>      $dbh-&gt;do(&apos; LOAD "Bar::Baz" &apos;);</p><p>Functions themselves should follow \s-1SQL\s0 identifier naming rules.  Subroutines loaded with \s-1CREATE\s0 \s-1FUNCTION\s0 can have any valid perl subroutine name.  Subroutines loaded with \s-1LOAD\s0 must start with \s-1SQL_FUNCTION_\s0 and then the actual function name.  For example:</p><p> package Qux::Quimble;  sub SQL_FUNCTION_FOO { ... }  sub SQL_FUNCTION_BAR { ... }  sub some_other_perl_subroutine_not_a_function { ... }  1;</p><p> # in another package  $dbh-&gt;do("LOAD Qux::Quimble");</p><p> # This loads FOO and BAR as SQL functions.</p>
<h3>Creating User-Defined Functions</h3>
<p>User-defined functions (UDFs) are perl subroutines that return values appropriate to the context of the function in a \s-1SQL\s0 statement.  For example the built-in \s-1CURRENT_TIME\s0 returns a string value and therefore may be used anywhere in a \s-1SQL\s0 statement that a string value can.  Here' the entire perl code for the function:</p><p> # CURRENT_TIME  #  # arguments : none  # returns   : string containing current time as hh::mm::ss  #  sub SQL_FUNCTION_CURRENT_TIME {      sprintf "%02s::%02s::%02s",(localtime)[2,1,0]  }</p><p>More complex functions can make use of a number of arguments always passed to functions automatically.  Functions always receive these values in @_:</p><p> sub FOO {      my($self,$sth,@params);  }</p><p>The first argument, $self, is whatever class the function is defined in, not generally useful unless you have an entire module to support the function.</p><p>The second argument, $sth is the active statement handle of the current statement.  Like all active statement handles it contains the current database handle in the {Database} attribute so you can have access to the database handle in any function:</p><p> sub FOO {      my($self,$sth,@params);      my $dbh = $sth-&gt;{Database};      # $dbh-&gt;do( ...), etc.  }</p><p>In actual practice you probably want to use $sth-&gt;{Database} directly rather than making a local copy, so $sth-&gt;{Database}-&gt;do(...).</p><p>The remaining arguments, @params, are arguments passed by users to the function, either directly or with placeholders; another silly example which just returns the results of multiplying the arguments passed to it:</p><p> sub MULTIPLY {      my($self,$sth,@params);      return $params[0] * $params[1];  }</p><p> # first make the function available  #  $dbh-&gt;do("CREATE FUNCTION MULTIPLY");</p><p> # then multiply col3 in each row times seven  #  my $sth=$dbh-&gt;prepare("SELECT col1 FROM tbl1 WHERE col2 = MULTIPLY(col3,7)");  $sth-&gt;execute;  #  # or  #  my $sth=$dbh-&gt;prepare("SELECT col1 FROM tbl1 WHERE col2 = MULTIPLY(col3,?)");  $sth-&gt;<strong>execute</strong>(7);</p>
<h3>Creating In-Memory Tables with functions</h3>
<p>A function can return almost anything, as long is it is an appropriate return for the context the function will be used in.  In the special case of table-returning functions, the function should return a reference to an array of array references with the first row being the column names and the remaining rows the data.  For example:</p><p><strong>1. create a function that returns an AoA</strong>,</p><p>  sub Japh {[       [qw( id word   )],       [qw( 1 Hacker  )],       [qw( 2 Perl    )],       [qw( 3 Another )],       [qw( 4 Just    )],   ]}</p><p><strong>2. make your database handle aware of the function</strong></p><p>  $dbh-&gt;do("CREATE FUNCTION &apos;Japh&apos;);</p><p><strong>3. Access the data in the AoA from \s-1SQL\s0</strong></p><p>  $sth = $dbh-&gt;prepare("SELECT word FROM Japh ORDER BY id DESC");</p><p>Or here's an example that does a join on two in-memory tables:</p><p>  sub Prof  {[ [qw(pid pname)],[qw(1 Sue )],[qw(2 Bob)],[qw(3 Tom )] ]}   sub Class {[ [qw(pid cname)],[qw(1 Chem)],[qw(2 Bio)],[qw(2 Math)] ]}   $dbh-&gt;do("CREATE FUNCTION $_) for qw(Prof Class);   $sth = $dbh-&gt;prepare("SELECT * FROM Prof NATURAL JOIN Class");</p><p>The \*(L"Prof\*(R" and \*(L"Class\*(R" functions return tables which can be used like any \s-1SQL\s0 table.</p><p>More complex functions might do something like scrape an \s-1RSS\s0 feed, or search a file system and put the results in AoA.  For example, to search a directory with \s-1SQL:\s0</p><p> sub Dir {      my($self,$sth,$dir)=@_;      opendir D, $dir or die "&apos;$dir&apos;:$!";      my @files = readdir D;      my $data = [[qw(fileName fileExt)]];      for (@files) {          my($fn,$ext) = /^(.*)(&#92;.[^&#92;.]+)$/;          push @$data, [$fn,$ext];      }      return $data;  }  $dbh-&gt;do("CREATE FUNCTION Dir");  printf "%s&#92;n", join&apos;   &apos;,@{ $dbh-&gt;selectcol_arrayref("      SELECT fileName FROM Dir(&apos;./&apos;) WHERE fileExt = &apos;.pl&apos;  ")};</p><p>Obviously, that function could be expanded with File::Find and/or stat to provide more information and it could be made to accept a list of directories rather than a single directory.</p><p>Table-Returning functions are a way to turn *anything* that can be modeled as an AoA into a \s-1DBI\s0 data source.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Built-in Functions</h2>
        <div class="sectioncontent">
<h3>\s-1SQL-92/ODBC\s0 Compatibility</h3>
<p>All \s-1ODBC\s0 3.0 functions are available except for the following:</p><p> ### SQL-92 / ODBC Functions</p><p> # CONVERT / CAST - Complex to implement, but a draft is in the works.  # DIFFERENCE     - Function is not clearly defined in spec and has very limited applications  # EXTRACT        - Contains a FROM keyword and requires rather freeform datetime/interval expression</p><p> ### ODBC 3.0 Time/Date Functions only</p><p> # DAYOFMONTH, DAYOFWEEK, DAYOFYEAR, HOUR, MINUTE, MONTH, MONTHNAME, QUARTER, SECOND, TIMESTAMPDIFF,  #    WEEK, YEAR - Requires freeform datetime/interval expressions.  In a later release, these could  #                    be implemented with the help of Date::Parse.</p><p>\s-1ODBC\s0 3.0 functions that are implemented with differences include:</p><p> # SOUNDEX  - Returns true/false, instead of a SOUNDEX code  # RAND     - Seed value is a second parameter with a new first parameter for max limit  # LOG      - Returns base X (or 10) log of number, not natural log.  LN is used for natural log, and  #               LOG10 is still available for standards compatibility.  # POSITION - Does not use &apos;IN&apos; keyword; cannot be fixed as previous versions of SQL::Statement defined  #               the function as such.  # REPLACE / SUBSTITUTE - Uses a regular expression string for the second parameter, replacing the last two  #                           parameters of the typical ODBC function</p>
<h3>Aggregate Functions</h3>
<p><em>\s-1MIN\s0, \s-1MAX\s0, \s-1AVG\s0, \s-1SUM\s0, \s-1COUNT\s0</em></p><p>Aggregate functions are handled elsewhere, see SQL::Parser for documentation.</p>
<h3>Date and Time Functions</h3>
<p>These functions can be used without parentheses.</p><p><em>\s-1CURRENT_DATE\s0 aka \s-1CURDATE\s0</em></p><p> # purpose   : find current date  # arguments : none  # returns   : string containing current date as yyyy-mm-dd</p><p><em>\s-1CURRENT_TIME\s0 aka \s-1CURTIME\s0</em></p><p> # purpose   : find current time  # arguments : optional seconds precision  # returns   : string containing current time as hh:mm:ss (or ss.sss...)</p><p><em>\s-1CURRENT_TIMESTAMP\s0 aka \s-1NOW\s0</em></p><p> # purpose   : find current date and time  # arguments : optional seconds precision  # returns   : string containing current timestamp as yyyy-mm-dd hh:mm:ss (or ss.sss...)</p><p><em>\s-1UNIX_TIMESTAMP\s0</em></p><p> # purpose   : find the current time in UNIX epoch format  # arguments : optional seconds precision (unlike the MySQL version)  # returns   : a (64-bit) number, possibly with decimals</p>
<h3>String Functions</h3>
<p><em>\s-1ASCII\s0 & \s-1CHAR\s0</em></p><p> # purpose   : same as ord and chr, respectively (NULL for any NULL args)  # arguments : string or character (or number for CHAR); CHAR can have any amount of numbers for a string</p><p><em>\s-1BIT_LENGTH\s0</em></p><p> # purpose   : length of the string in bits  # arguments : string</p><p><em>\s-1CHARACTER_LENGTH\s0 aka \s-1CHAR_LENGTH\s0</em></p><p> # purpose   : find length in characters of a string  # arguments : a string  # returns   : a number - the length of the string in characters</p><p><em>\s-1COALESCE\s0 aka \s-1NVL\s0 aka \s-1IFNULL\s0</em></p><p> # purpose   : return the first non-NULL value from a list  # arguments : 1 or more expressions  # returns   : the first expression (reading left to right)  #             which is not NULL; returns NULL if all are NULL  #</p><p><em>\s-1CONCAT\s0</em></p><p> # purpose   : concatenate 1 or more strings into a single string;  #                      an alternative to the &apos;||&apos; operator  # arguments : 1 or more strings  # returns   : the concatenated string  #  # example   : SELECT CONCAT(first_string, &apos;this string&apos;, &apos; that string&apos;)  #              returns "&lt;value-of-first-string&gt;this string that string"  # note      : if any argument evaluates to NULL, the returned value is NULL</p><p><em>\s-1CONV\s0</em></p><p> # purpose   : convert a number X from base Y to base Z (from base 2 to 92)  # arguments : X (can by a number or string depending on the base), Y, Z (Z defaults to 10)  # returns   : either a string or number, in base Z  # notes     :  #    * Supports negative and decimal numbers  #    * Will use big numbers if it has to, so accuracy is at near absolute levels  #    * Letters are case-sensitive after base 36  #    * Base character sets are: (second set is for compatibility with base 64)  #          2 to 62 = 0-9, A-Z, a-z  #         62 to 92 = A-Z, a-z, 0-9, +/_=~|,;:?!@#$%^&*()&lt;&gt;{}[]&#92;&#96;&apos;"</p><p><em>\s-1DECODE\s0</em></p><p> # purpose   : compare the first argument against  #             succeding arguments at position 1 + 2N  #             (N = 0 to (# of arguments - 2)/2), and if equal,  #                              return the value of the argument at 1 + 2N + 1; if no  #             arguments are equal, the last argument value is returned  # arguments : 4 or more expressions, must be even # of arguments  # returns   : the value of the argument at 1 + 2N + 1 if argument 1 + 2N  #             is equal to argument1; else the last argument value  #  # example   : SELECT DECODE(some_column,  #                    &apos;first value&apos;, &apos;first value matched&apos;  #                    &apos;2nd value&apos;, &apos;2nd value matched&apos;  #                    &apos;no value matched&apos;  #                    )</p><p><em>\s-1INSERT\s0</em></p><p> # purpose   : string where L characters have been deleted from STR1, beginning at S,  #             and where STR2 has been inserted into STR1, beginning at S.  NULL for any NULL args.  # arguments : STR1, S, L, STR2</p><p><em>\s-1HEX\s0 & \s-1OCT\s0 & \s-1BIN\s0</em></p><p> # purpose   : convert number X from decimal to hex/octal/binary; equiv. to CONV(X, 10, 16/8/2)  # arguments : X</p><p><em>\s-1LEFT\s0 & \s-1RIGHT\s0</em></p><p> # purpose   : leftmost or rightmost L characters in STR, or NULL for any NULL args  # arguments : STR1, L</p><p><em>\s-1LOCATE\s0 aka \s-1POSITION\s0</em></p><p> # purpose   : starting position (one-based) of the first occurrence of STR1                within STR2; 0 if it doesn&apos;t occur and NULL for any NULL args  # arguments : STR1, STR2, and an optional S (starting position to search)</p><p><em>\s-1LOWER\s0 & \s-1UPPER\s0 aka \s-1LCASE\s0 & \s-1UCASE\s0</em></p><p> # purpose   : lower-case or upper-case a string  # arguments : a string  # returns   : the sting lower or upper cased</p><p><em>\s-1LTRIM\s0 & \s-1RTRIM\s0</em></p><p> # purpose   : left/right counterparts for TRIM  # arguments : string</p><p><em>\s-1OCTET_LENGTH\s0</em></p><p> # purpose   : length of the string in bytes (not characters)  # arguments : string</p><p><em>\s-1REGEX\s0</em></p><p> # purpose   : test if a string matches a perl regular expression  # arguments : a string and a regex to match the string against  # returns   : boolean value of the regex match  #  # example   : ... WHERE REGEX(col3,&apos;/^fun/i&apos;) ... matches rows  #             in which col3 starts with "fun", ignoring case</p><p><em>\s-1REPEAT\s0</em></p><p> # purpose   : string composed of STR1 repeated C times, or NULL for any NULL args  # arguments : STR1, C</p><p><em>\s-1REPLACE\s0 aka \s-1SUBSTITUTE\s0</em></p><p> # purpose   : perform perl subsitution on input string  # arguments : a string and a substitute pattern string  # returns   : the result of the substitute operation  #  # example   : ... WHERE REPLACE(col3,&apos;s/fun(&#92;w+)nier/$1/ig&apos;) ... replaces  #                      all instances of /fun(&#92;w+)nier/ in col3 with the string  #                      between &apos;fun&apos; and &apos;nier&apos;</p><p><em>\s-1SOUNDEX\s0</em></p><p> # purpose   : test if two strings have matching soundex codes  # arguments : two strings  # returns   : true if the strings share the same soundex code  #  # example   : ... WHERE SOUNDEX(col3,&apos;fun&apos;) ... matches rows  #             in which col3 is a soundex match for "fun"</p><p><em>\s-1SPACE\s0</em></p><p> # purpose   : a string of spaces  # arguments : number of spaces</p><p><em>\s-1SUBSTRING\s0</em></p><p>  SUBSTRING( string FROM start_pos [FOR length] )</p><p>Returns the substring starting at start_pos and extending for \*(L"length\*(R" character or until the end of the string, if no \*(L"length\*(R" is supplied.  Examples:</p><p>  SUBSTRING( &apos;foobar&apos; FROM 4 )       # returns "bar"</p><p>  SUBSTRING( &apos;foobar&apos; FROM 4 FOR 2)  # returns "ba"</p><p>Note: The \s-1SUBSTRING\s0 function is implemented in SQL::Parser and SQL::Statement and, at the current time, can not be over-ridden.</p><p><em>\s-1SUBSTR\s0</em></p><p> # purpose   : same as SUBSTRING, except with comma-delimited params, instead of                words (NULL for any NULL args)  # arguments : string, start_pos, [length]</p><p><em>\s-1TRANSLATE\s0</em></p><p> # purpose   : transliteration; replace a set of characters in a string with another                set of characters (a la tr///), or NULL for any NULL args  # arguments : string, string to replace, replacement string</p><p><em>\s-1TRIM\s0</em></p><p>  TRIM ( [ [LEADING|TRAILING|BOTH] [&apos;trim_char&apos;] FROM ] string )</p><p>Removes all occurrences of &lt;trim_char&gt; from the front, back, or both sides of a string.</p><p> BOTH is the default if neither LEADING nor TRAILING is specified.</p><p> Space is the default if no trim_char is specified.</p><p> Examples:</p><p> TRIM( string )    trims leading and trailing spaces from string</p><p> TRIM( LEADING FROM str )    trims leading spaces from string</p><p> TRIM( &apos;x&apos; FROM str )    trims leading and trailing x&apos;s from string</p><p>Note: The \s-1TRIM\s0 function is implemented in SQL::Parser and SQL::Statement and, at the current time, can not be over-ridden.</p><p><em>\s-1UNHEX\s0</em></p><p> # purpose   : convert each pair of hexadecimal digits to a byte (or a Unicode character)  # arguments : string of hex digits, with an optional encoding name of the data string</p>
<h3>Numeric Functions</h3>
<p><em>\s-1ABS\s0</em></p><p> # purpose   : find the absolute value of a given numeric expression  # arguments : numeric expression</p><p><em>\s-1CEILING\s0 (aka \s-1CEIL\s0) & \s-1FLOOR\s0</em></p><p> # purpose   : rounds up/down to the nearest integer  # arguments : numeric expression</p><p><em>\s-1EXP\s0</em></p><p> # purpose   : raise e to the power of a number  # arguments : numeric expression</p><p><em>\s-1LOG\s0</em></p><p> # purpose   : base B logarithm of X  # arguments : B, X or just one argument of X for base 10</p><p><em>\s-1LN\s0 & \s-1LOG10\s0</em></p><p> # purpose   : natural logarithm (base e) or base 10 of X  # arguments : numeric expression</p><p><em>\s-1MOD\s0</em></p><p> # purpose   : modulus, or remainder, left over from dividing X / Y  # arguments : X, Y</p><p><em>\s-1POWER\s0 aka \s-1POW\s0</em></p><p> # purpose   : X to the power of Y  # arguments : X, Y</p><p><em>\s-1RAND\s0</em></p><p> # purpose   : random fractional number greater than or equal to 0 and less than the value of X  # arguments : X (with optional seed value of Y)</p><p><em>\s-1ROUND\s0</em></p><p> # purpose   : round X with Y number of decimal digits (precision)  # arguments : X, optional Y defaults to 0</p><p><em>\s-1SIGN\s0</em></p><p> # purpose   : returns -1, 0, 1, NULL for negative, 0, positive, NULL values, respectively  # arguments : numeric expression</p><p><em>\s-1SQRT\s0</em></p><p> # purpose   : square root of X  # arguments : X</p><p><em>\s-1TRUNCATE\s0 aka \s-1TRUNC\s0</em></p><p> # purpose   : similar to ROUND, but removes the decimal  # arguments : X, optional Y defaults to 0</p>
<h3>Trigonometric Functions</h3>
<p>All of these functions work exactly like their counterparts in Math::Trig; go there for documentation.</p>
<dl class='dl-vertical'>
  <dt>
    \s-1ACOS\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACOSEC\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACOSECH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACOSH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACOT\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACOTAN\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACOTANH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACOTH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACSC\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ACSCH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ASEC\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ASECH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ASIN\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ASINH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ATAN\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1ATANH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COS\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COSEC\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COSECH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COSH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COT\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COTAN\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COTANH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1COTH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1CSC\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1CSCH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1SEC\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1SECH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1SIN\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1SINH\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1TAN\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1TANH\s0
  </dt>
  <dd>
    <p>Takes a single parameter.  All of Math::Trig's aliases are included.</p>
  </dd>
  <dt>
    \s-1ATAN2\s0
  </dt>
  <dd>
    <p>The y,x version of arc tangent.</p>
  </dd>
  <dt>
    \s-1DEG2DEG\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1DEG2GRAD\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1DEG2RAD\s0
  </dt>
  <dd>
    <p>Converts out-of-bounds values into its correct range.</p>
  </dd>
  <dt>
    \s-1GRAD2DEG\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1GRAD2GRAD\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1GRAD2RAD\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1RAD2DEG\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1RAD2GRAD\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1RAD2RAD\s0
  </dt>
  <dd>
    <p>Like their Math::Trig's counterparts, accepts an optional 2nd boolean parameter (like <strong>\s-1TRUE\s0</strong>) to keep prevent range wrapping.</p>
  </dd>
  <dt>
    \s-1DEGREES\s0
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1RADIANS\s0
  </dt>
  <dd>
    <p><strong>\s-1DEGREES\s0</strong> and <strong>\s-1RADIANS\s0</strong> are included for \s-1SQL-92\s0 compatibility, and map to <strong>\s-1RAD2DEG\s0</strong> and <strong>\s-1DEG2RAD\s0</strong>, respectively.</p>
  </dd>
  <dt>
    \s-1PI\s0
  </dt>
  <dd>
    <p><strong>\s-1PI\s0</strong> can be used without parentheses.</p>
  </dd>

</dl>

<h3>System Functions</h3>
<p><em>\s-1DBNAME\s0 & \s-1USERNAME\s0 (aka \s-1USER\s0)</em></p><p> # purpose   : name of the database / username  # arguments : none</p>
<h3>Special Utility Functions</h3>
<p><em>\s-1IMPORT\s0</em></p><p> CREATE TABLE foo AS IMPORT(?)    ,{},$external_executed_sth  CREATE TABLE foo AS IMPORT(?)    ,{},$AoA</p><p><em>\s-1RUN\s0</em></p><p>Takes the name of a file containing \s-1SQL\s0 statements and runs the statements; see SQL::Parser for documentation.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Submitting built-in functions</h2>
        <div class="sectioncontent">
<p>If you make a generally useful \s-1UDF\s0, why not submit it to me and have it (and your name) included with the built-in functions?  Please follow the format shown in the module including a description of the arguments and return values for the function as well as an example.  Send them to the dbi-dev@perl.org mailing list (see &lt;http://dbi.perl.org&gt;).</p><p>Thanks in advance :-).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p>Dean Arnold supplied \s-1DECODE\s0, \s-1COALESCE\s0, \s-1REPLACE\s0, many thanks! Brendan Byrd added in the Numeric/Trig/System functions and filled in the \s-1SQL92/ODBC\s0 gaps for the date/string functions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR & COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2005 by Jeff Zucker: jzuckerATcpan.org Copyright (c) 2009,2010 by Jens Rehsack: rehsackATcpan.org</p><p>All rights reserved.</p><p>The module may be freely distributed under the same terms as Perl itself using either the \*(L"\s-1GPL\s0 License\*(R" or the \*(L"Artistic License\*(R" as specified in the Perl \s-1README\s0 file.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="SQL::Statement::Function.3pm.html"><span aria-hidden="true">&larr;</span> SQL::Statement::Function.3pm: Implements the built-in string concatenation</a></li>
   <li class="next"><a href="SQL::Statement::Operation.3pm.html">SQL::Statement::Operation.3pm: Implements the rlike operation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
