<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HTML::Template::Plugin::Dot: Add magic dot notation to html::template</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Add magic dot notation to html::template">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="HTML::Template::Plugin::Dot (3pm) manual">
  <meta name="twitter:description" content="Add magic dot notation to html::template">
  <meta name="twitter:image" content="https://www.carta.tech/images/libhtml-template-pluggable-perl-HTML::Template::Plugin::Dot-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/HTML::Template::Plugin::Dot.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="HTML::Template::Plugin::Dot (3pm) manual" />
  <meta property="og:description" content="Add magic dot notation to html::template" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libhtml-template-pluggable-perl-HTML::Template::Plugin::Dot-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">HTML::Template::Plugin::Dot<small> (3pm)</small></h1>
        <p class="lead">Add magic dot notation to html::template</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTML::Template::Plugin::Dot.3pm.html">
      <span itemprop="name">HTML::Template::Plugin::Dot: Add magic dot notation to html::template</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libhtml-template-pluggable-perl/">
      <span itemprop="name">libhtml-template-pluggable-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTML::Template::Plugin::Dot.3pm.html">
      <span itemprop="name">HTML::Template::Plugin::Dot: Add magic dot notation to html::template</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use HTML::Template::Pluggable;
  use HTML::Template::Plugin::Dot;

  my $t = HTML::Template::Pluggable-&gt;new(...);
</pre>
<p>Now you can use chained accessor calls and nested hashrefs as params, and access them with a dot notation. You can even pass arguments to the methods.</p><p>For example, in your code:</p><p>  $t-&gt;param( my_complex_struct =&gt; $struct );</p><p>And then in your template you can reference specific values in the structure:</p><p>  my_complex_struct.key.obj.accessor(&apos;hash&apos;)   my_complex_struct.other_key</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>By adding support for this dot notation to HTML::Template, the programmers' job of sending data to the template is easier, and designers have easier access to more data to display in the template, without learning any more tag syntax.</p><h3>\s-1EXAMPLES\s0</h3>

<h3>Class::DBI integration</h3>
<p>Class::DBI accessors can be used in the template.  If the accessor is never called in the template, that data doesn't have to be loaded.</p><p>In the code:</p><p>  $t-&gt;param ( my_row =&gt; $class_dbi_obj );</p><p>In the template:</p><p>  my_row.last_name</p><p>This extends to related objects or inflated columns (commonly used for date fields). Here's an example with a date column that's inflated into a DateTime object:</p><p>  my_row.my_date.mdy(&apos;/&apos;)   my_row.my_date.strftime(&apos;%D&apos;)</p><p>Of course, if date formatting strings look scary to the designer, you can keep them in the application, or even a database layer to insure consistency in all presentations.</p><p>Here's an example with related objects. Suppose you have a Customer object, that has_a BillingAddress object attached to it. Then you could say something like this:</p><p>  &lt;tmpl_if customer.billing_address&gt;     &lt;tmpl_var customer.billing_address.street&gt;     &lt;tmpl_var customer.billing_address.city&gt;     ...   &lt;/tmpl_if&gt;</p>
<h3>More complex uses</h3>
<p>The dot notation allows you to pass arguments to method calls (as in the \*(C`my_date.dmy(&apos;/&apos;)\*(C' example above). In fact, you can pass other objects in the template as well, and this enables more complex usage. Imagine we had a (fictional) Formatter object which could perform some basic string formatting functions. This could be used in e.g. currencies, or dates.</p><p>In your code:</p><p>  $t-&gt;param( Formatter =&gt; Formatter-&gt;new,              order         =&gt; $order_obj     );</p><p>In your template:</p><p>  Amount: &lt;tmpl_var Formatter.format_currency(&apos;US&apos;,order.total_amount)&gt;</p><p>(hint: see Number::Format)</p><p>This even extends to references to plain tmpl_vars in your template:</p><p>  $t-&gt;param( Formatter =&gt; Formatter-&gt;new,              plain     =&gt; &apos;Jane&apos;         );</p><p>  &lt;tmpl_var Formatter.reverse(plain)&gt; is   &lt;tmpl_var plain&gt; backwards</p>
<h3>TMPL_LOOPs</h3>
<p>As of version 0.94, the dot notation is also supported on \s-1TMPL_LOOP\s0 tags (but see the \*(L"\s-1LIMITATIONS\s0\*(R" section).</p><p>Given an object method (or a hash key) that returns an array or a reference to an array, we will unwrap that array for use in the loop. Individual array elements are mapped to a hash \*(C`{ &apos;this&apos; =&gt; $elt }\*(C', so that you can refer to them in TMPL_VARs as \*(L"this.something\*(R".</p><p>An example might help. Let's use the canonical Class::DBI example for our data. Suppose you have an $artist object, which has_many CDs. You can now pass just the $artist object, and handle the loops in the template:</p><p>  $t-&gt;param( artist =&gt; $artist );</p><p>The template:</p><p>  &lt;tmpl_var artist.name&gt; has released these albums:   &lt;tmpl_loop artist.cds&gt;     &lt;tmpl_var this.title&gt; - &lt;tmpl_var this.year&gt;   &lt;/tmpl_loop&gt;</p><p>As you can see, each element from the artist.<em>cds()</em> array is called \*(L"this\*(R" by default. You can supply your own name by appending ': name' like this:</p><p>  &lt;tmpl_loop artist.cds:cd&gt;     &lt;tmpl_var cd.title&gt;     ...</p><p>That's not the end of it! You can even nest these loops, displaying the Tracks for each \s-1CD\s0 like so:</p><p>  &lt;tmpl_loop artist.cds:cd&gt;     &lt;tmpl_var cd.title&gt;     &lt;tmpl_loop cd.tracks:track&gt;       - &lt;tmpl_var track.title&gt; ( &lt;tmpl_var track.tracktime&gt; )     &lt;/tmpl_loop&gt;   &lt;/tmpl_loop&gt;</p>
<h3>\s-1LIMITATIONS\s0</h3>
<ul>
<li><p>Casing of parameter names Casing of parameter names follows the option \*(C`case_sensitive\*(C' of HTML::Template. If you do not use that option, all parameter names are converted to lower case. I suggest turning this option on to avoid confusion.</p></li><li><p>Quotes and spaces Because of the way HTML::Template parses parameter names (which follows the rules of \s-1HTML\s0 attributes), you have to be careful when your expressions contain spaces or quote characters. You can say \*(C`&lt;tmpl_var something.without.spaces&gt;\*(C', but not \*(C`&lt;tmpl_var something with spaces&gt;\*(C'. You can use single or double quotes around your entire expression, and then use the other one inside: \*(C`&lt;tmpl_var name="some.method(&apos;with arguments&apos;)"&gt;\*(C' This is the recommended way to write your expressions. (Note: within expressions, the characters in \*(C`[&#96;&apos;"]\*(C' are recognised as quote characters. So if you need to pass literal quotes to a method, you could do it like this: \*(C`&lt;tmpl_var name=&apos;some.method(&#96;need a " here&#96;)&apos;&gt;\*(C'. )</p></li>
</ul>
<h3>\s-1PERFORMANCE\s0</h3>
<p>No attempt to even measure performance has been made. For now the focus is on usability and stability. If you carry out benchmarks, or have suggestions for performance improvements, be sure to let us know!</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTRIBUTING</h2>
        <div class="sectioncontent">
<p>Patches, questions and feedback are welcome. This project is managed using the darcs source control system ( http://www.darcs.net/ ). A public darcs archive is here: http://cgiapp.erlbaum.net/darcs_hive/ht-pluggable/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Mark Stosberg, &lt;mark@summersault.com&gt;; Rhesa Rozendaal, &lt;rhesa@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Copyright & License</h2>
        <div class="sectioncontent">
<p> Parts copyright 2006 Mark Stosberg  Parts copyright 2006 Rhesa Rozendaal</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="HTML::Template::Pluggable.3pm.html"><span aria-hidden="true">&larr;</span> HTML::Template::Pluggable.3pm: Extends html::template with plugin support</a></li>
   <li class="next"><a href="HTML::Template::Plugin::Dot::Helpers.3pm.html">HTML::Template::Plugin::Dot::Helpers.3pm: Add useful objects to your templates <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
