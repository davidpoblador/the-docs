<!DOCTYPE html>
<html lang="en">
<head>
  <link href='https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction|shadow-multiple' rel='stylesheet' type='text/css'>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sem_open - initialize and open a named semaphore</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="${metadescription}">
  
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sem_open<small> (3)</small></h1>
        <p class="lead">initialize and open a named semaphore</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href=".."><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="../man3"><span itemprop="title">Library calls</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href=""><span itemprop="title">sem_open</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre><strong>#include &lt;fcntl.h&gt;</strong>           /* For O_* constants */
<strong>#include &lt;sys/stat.h&gt;</strong>        /* For mode constants */
<strong>#include &lt;semaphore.h&gt;</strong>

<strong>sem_t *sem_open(const char *</strong><em>name</em><strong>, int </strong><em>oflag</em><strong>);</strong>
<strong>sem_t *sem_open(const char *</strong><em>name</em><strong>, int </strong><em>oflag</em><strong>, </strong>
<strong>                mode_t </strong><em>mode</em><strong>, unsigned int </strong><em>value</em><strong>);</strong></pre>

<p class='spacer'>

<p>Link with <em>-pthread</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>sem_open</strong>() creates a new POSIX semaphore or opens an existing semaphore. The semaphore is identified by <em>name</em>. For details of the construction of <em>name</em>, see <a href="../man7/sem_overview.7.html"><strong>sem_overview</strong>(7)</a>.</p>
<p class='spacer'>

<p>The <em>oflag</em> argument specifies flags that control the operation of the call. (Definitions of the flags values can be obtained by including <em>&lt;fcntl.h&gt;</em>.) If <strong>O_CREAT</strong> is specified in <em>oflag</em>, then the semaphore is created if it does not already exist. The owner (user ID) of the semaphore is set to the effective user ID of the calling process. The group ownership (group ID) is set to the effective group ID of the calling process. If both <strong>O_CREAT</strong> and <strong>O_EXCL</strong> are specified in <em>oflag</em>, then an error is returned if a semaphore with the given <em>name</em> already exists.</p>
<p class='spacer'>

<p>If <strong>O_CREAT</strong> is specified in <em>oflag</em>, then two additional arguments must be supplied. The <em>mode</em> argument specifies the permissions to be placed on the new semaphore, as for <a href="../man2/open.2.html"><strong>open</strong>(2)</a>. (Symbolic definitions for the permissions bits can be obtained by including <em>&lt;sys/stat.h&gt;</em>.) The permissions settings are masked against the process umask. Both read and write permission should be granted to each class of user that will access the semaphore. The <em>value</em> argument specifies the initial value for the new semaphore. If <strong>O_CREAT</strong> is specified, and a semaphore with the given <em>name</em> already exists, then <em>mode</em> and <em>value</em> are ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">RETURN VALUE</h2>
        <div class="sectioncontent">

<p>On success, <strong>sem_open</strong>() returns the address of the new semaphore; this address is used when calling other semaphore-related functions. On error, <strong>sem_open</strong>() returns <strong>SEM_FAILED</strong>, with <em>errno</em> set to indicate the error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">ERRORS</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>EACCES</strong></dt>
    <dd>
  <p>The semaphore exists, but the caller does not have permission to open it.</p>
    </dd>
    <dt><strong>EEXIST</strong></dt>
    <dd>
  <p>Both <strong>O_CREAT</strong> and <strong>O_EXCL</strong> were specified in <em>oflag</em>, but a semaphore with this <em>name</em> already exists.</p>
    </dd>
    <dt><strong>EINVAL</strong></dt>
    <dd>
  <p><em>value</em> was greater than <strong>SEM_VALUE_MAX</strong>.</p>
    </dd>
    <dt><strong>EINVAL</strong></dt>
    <dd>
  <p><em>name</em> consists of just "/", followed by no other characters.</p>
    </dd>
    <dt><strong>EMFILE</strong></dt>
    <dd>
  <p>The per-process limit on the number of open file descriptors has been reached.</p>
    </dd>
    <dt><strong>ENAMETOOLONG</strong></dt>
    <dd>
  <p><em>name</em> was too long.</p>
    </dd>
    <dt><strong>ENFILE</strong></dt>
    <dd>
  <p>The system-wide limit on the total number of open files has been reached.</p>
    </dd>
    <dt><strong>ENOENT</strong></dt>
    <dd>
  <p>The <strong>O_CREAT</strong> flag was not specified in <em>oflag</em> and no semaphore with this <em>name</em> exists; or, <strong>O_CREAT</strong> was specified, but <em>name</em> wasn't well formed.</p>
    </dd>
    <dt><strong>ENOMEM</strong></dt>
    <dd>
  <p>Insufficient memory.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">ATTRIBUTES</h2>
        <div class="sectioncontent">

<p>For an explanation of the terms used in this section, see <a href="../man7/attributes.7.html"><strong>attributes</strong>(7)</a>.</p>
<table class="table table-striped">
<tr>
<th>Interface</th>
<th>Attribute</th>
<th>Value</th></tr>

<tr>
<td><strong>sem_open</strong>()  </td>
<td>Thread safety</td>
<td>MT-Safe</td></tr>
</table>

<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">CONFORMING TO</h2>
        <div class="sectioncontent">

<p>POSIX.1-2001, POSIX.1-2008.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man3/sem_close.3.html"><strong>sem_close</strong>(3)</a>, <a href="../man3/sem_getvalue.3.html"><strong>sem_getvalue</strong>(3)</a>, <a href="../man3/sem_post.3.html"><strong>sem_post</strong>(3)</a>, <a href="../man3/sem_unlink.3.html"><strong>sem_unlink</strong>(3)</a>, <a href="../man3/sem_wait.3.html"><strong>sem_wait</strong>(3)</a>, <a href="../man7/sem_overview.7.html"><strong>sem_overview</strong>(7)</a></p>
        </div>
      </section>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
