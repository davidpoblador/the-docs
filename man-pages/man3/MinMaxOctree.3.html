<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MinMaxOctree: Create/destroy a min-max octree for optimized rendering</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create/destroy a min-max octree for optimized rendering">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="MinMaxOctree (3) manual">
  <meta name="twitter:description" content="Create/destroy a min-max octree for optimized rendering">
  <meta name="twitter:image" content="https://www.carta.tech/images/libvolpack1-dev-MinMaxOctree-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/MinMaxOctree.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MinMaxOctree (3) manual" />
  <meta property="og:description" content="Create/destroy a min-max octree for optimized rendering" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libvolpack1-dev-MinMaxOctree-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">MinMaxOctree<small> (3)</small></h1>
        <p class="lead">Create/destroy a min-max octree for optimized rendering</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/MinMaxOctree.3.html">
      <span itemprop="name">MinMaxOctree: Create/destroy a min-max octree for optimized rendering</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libvolpack1-dev/">
      <span itemprop="name">libvolpack1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/MinMaxOctree.3.html">
      <span itemprop="name">MinMaxOctree: Create/destroy a min-max octree for optimized rendering</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;volpack.h&gt;</p><p>&#92;$1 <strong>vpCreateMinMaxOctree(</strong><em>vpc, root_node_size, base_node_size</em><strong>)</strong></p><ul>
<li><p>vpContext *<em>vpc;</em> int <em>root_node_size, base_node_size;</em></p><p><strong>vpMinMaxOctreeThreshold(</strong><em>vpc, param_num, range</em><strong>)</strong> vpContext *<em>vpc;</em> int <em>param_num, range;</em></p><p><strong>vpDestroyMinMaxOctree(</strong><em>vpc</em><strong>)</strong> vpContext *<em>vpc;</em></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>vpc</em>
  </dt>
  <dd>
    <p>VolPack context from <strong>vpCreateContext.</strong></p>
  </dd>
  <dt>
    <em>root_node_size</em>
  </dt>
  <dd>
    <p>Number of voxels per side in the top level (largest nodes) of the octree. Not currently used.</p>
  </dd>
  <dt>
    <em>base_node_size</em>
  </dt>
  <dd>
    <p>Number of voxels per side in the bottom level (smallest nodes) of the octree.  Must be a power of 2.</p>
  </dd>
  <dt>
    <em>param_num</em>
  </dt>
  <dd>
    <p>Identifying number of one parameter of the opacity transfer function.</p>
  </dd>
  <dt>
    <em>range</em>
  </dt>
  <dd>
    <p>Range threshold for one parameter of the opacity transfer function. If an octree node spans a larger range then it is subdivided.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>These routines are used to create and destroy a min-max octree, an internal data structure that is used to accelerate classifying and rendering volume data in a 3D voxel array.  The octree is a hierarchical data structure that contains minimum and maximum values for each voxel field.  It does not duplicate the data in the voxel array.  The octree is not used with preclassified volumes (see <strong>vpClassifyVolume</strong>(3)).</p><p>Before creating an octree, declare a 3D voxel array using <strong>vpSetVolumeSize, vpSetVoxelSize, vpSetVoxelField</strong> and <strong>vpSetRawVoxels,</strong> and initialize parameters for the opacity transfer function by calling <strong>vpSetClassifierTable</strong>.  Then initialize the voxel data in the array.  The lookup tables for the opacity transfer function do not need to be initialized.</p><p>Now call <strong>vpMinMaxOctreeThreshold</strong> once for each parameter to the opacity transfer function.  The parameter number is the same number as the parameter number you would pass to <strong>vpClassifierTable.</strong>  The <em>range</em> argument specifies a "small" range of values for the corresponding parameter.  The opacity of a voxel should not vary much for voxels within this range of parameter space. Choosing a value which is too small or too large may result in a reduced performance benefit during rendering.  The function <strong>vpOctreeMask</strong> can be used to visualize the effectiveness of various parameter ranges.  Note that you must choose the voxel field associated with each opacity transfer function parameter in advance of creating the octree (by calling <strong>vpSetClassiferTable</strong>), but the opacity transfer function itself does not need to be known since the lookup tables do not need to be initialized.  In the current implementation all of the parameters must be one or two-byte voxel fields; four-byte fields are not allowed.</p><p>Finally, call <strong>vpCreateMinMaxOctree</strong> to actually compute the octree.  The arguments specify the largest and smallest node size. These values can be used to trade off storage size of the octree for increased resolution.  The octree is stored in the rendering context and is used automatically in subsequent calls to <strong>vpClassifyVolume</strong> and <strong>vpRenderRawVolume.</strong>  Only one octree may be stored in a context at a time.  If an octree already exists when <strong>vpCreateMinMaxOctree</strong> is called then the old octree is destroyed.</p><p>If the data in the voxel array changes then the min-max octree must be explicitly recomputed by calling <strong>vpCreateMinMaxOctree</strong> again before the next call to <strong>vpClassifyVolume</strong> or <strong>vpRenderRawVolume.</strong></p><p><strong>vpDestroyMinMaxOctree</strong> destroys the current min-max octree and frees the associated storage.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STATE VARIABLES</h2>
        <div class="sectioncontent">
<p>The current octree parameters can be retrieved with the following state variable codes (see <strong>vpGeti</strong>(3)): VP_CLASSIFY_FIELD_COUNT, VP_CLASSIFY_FIELDS, VP_MMOCTREE_THRESHOLDS, VP_MMOCTREE_SIZE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>The normal return value for all three functions is VP_OK. <strong>vpMinMaxOctreeThreshold</strong> can return the following error value:</p>
<dl class='dl-vertical'>
  <dt>
    VPERROR_BAD_VALUE
  </dt>
  <dd>
    <p>The parameter number is invalid.</p>
  </dd>

</dl>
<p><strong>vpCreateMinMaxOctree</strong> can return the following error values:</p>
<dl class='dl-vertical'>
  <dt>
    VPERROR_BAD_VALUE
  </dt>
  <dd>
    <p>The node size arguments are not a power of two.</p>
  </dd>
  <dt>
    VPERROR_BAD_VOXEL
  </dt>
  <dd>
    <p>The voxel size or the voxel fields have not been specified or have been incorrectly specified, or the number of parameters to the opacity transfer function has been incorrectly specified.</p>
  </dd>
  <dt>
    VPERROR_BAD_VOLUME
  </dt>
  <dd>
    <p>The volume array or volume dimensions have not been specified, or the size of the volume array does not match the volume dimensions.</p>
  </dd>
  <dt>
    VPERROR_BAD_CLASSIFIER
  </dt>
  <dd>
    <p>The fields specified as parameters to the opacity transfer function are invalid or do not have valid sizes.</p>
  </dd>
  <dt>
    VPERROR_LIMIT_EXCEEDED
  </dt>
  <dd>
    <p>The volume is too large, so the maximum size of the octree has been exceeded.  Change the constant VP_MAX_OCTREE_LEVELS in volpack.h and recompile the VolPack library.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO MinMaxOctree&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/VolPack.3.html"><strong>VolPack</strong>(3)</a>, <strong>vpCreateContext</strong>(3), <strong>vpClassifyVolume</strong>(3), <strong>vpOctreeMask</strong>(3), <strong>vpRenderRawVolume</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="MembershipBookkeeping_SyncSourceLink.3.html"><span aria-hidden="true">&larr;</span> MembershipBookkeeping_SyncSourceLink.3: Synchronization source internal handler within the incoming packets queue.</a></li>
   <li class="next"><a href="Moosic_API.3.html">Moosic_API.3: How to write your own moosic client. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
