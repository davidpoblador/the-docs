<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>clBuildProgram: Builds (compiles and links) a program executable from the program source or binary.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Builds (compiles and links) a program executable from the program source or binary.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="clBuildProgram (3clc) manual">
  <meta name="twitter:description" content="Builds (compiles and links) a program executable from the program source or binary.">
  <meta name="twitter:image" content="https://www.carta.tech/images/opencl-1.2-man-doc-clBuildProgram-3clc.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3clc/clBuildProgram.3clc.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="clBuildProgram (3clc) manual" />
  <meta property="og:description" content="Builds (compiles and links) a program executable from the program source or binary." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/opencl-1.2-man-doc-clBuildProgram-3clc.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">clBuildProgram<small> (3clc)</small></h1>
        <p class="lead">Builds (compiles and links) a program executable from the program source or binary.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/clBuildProgram.3clc.html">
      <span itemprop="name">clBuildProgram: Builds (compiles and links) a program executable from the program source or binary.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/opencl-1.2-man-doc/">
      <span itemprop="name">opencl-1.2-man-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3clc/clBuildProgram.3clc.html">
      <span itemprop="name">clBuildProgram: Builds (compiles and links) a program executable from the program source or binary.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple"></h2>
        <div class="sectioncontent">
<p><strong>cl_int clBuildProgram(cl_program&nbsp;</strong><em>program</em><strong>, cl_uint&nbsp;</strong><em>num_devices</em><strong>, const&nbsp;cl_device_id&nbsp;*</strong><em>device_list</em><strong>, const&nbsp;char&nbsp;*</strong><em>options</em><strong>, void&nbsp;</strong><em>(CL_CALLBACK&nbsp;*pfn_notify)(cl_program&nbsp;program,&nbsp;void&nbsp;*user_data)</em><strong>, void&nbsp;*</strong><em>user_data</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p><em> program </em></p><p>The program object.</p><p><em> device_list </em></p><p>A pointer to a list of devices associated with <em>program</em>. If <em>device_list</em> is NULL value, the program executable is built for all devices associated with <em>program</em> for which a source or binary has been loaded. If <em>device_list</em> is a non-NULL value, the program executable is built for devices specified in this list for which a source or binary has been loaded.</p><p><em> num_devices </em></p><p>The number of devices listed in <em>device_list</em>.</p><p><em>options</em></p><p>A pointer to a null-terminated string of characters that describes the build options to be used for building the program executable. The list of supported options is described below.</p><p><em> pfn_notify </em></p><p>A function pointer to a notification routine. The notification routine is a callback function that an application can register and which will be called when the program executable has been built (successfully or unsuccessfully). If <em>pfn_notify</em> is not NULL, <strong>clBuildProgram</strong> does not need to wait for the build to complete and can return immediately once the build operation can begin. The build operation can begin if the context, program whose sources are being compiled and linked, list of devices and build options specified are all valid and appropriate host and device resources needed to perform the build are available. If <em>pfn_notify</em> is NULL, <strong>clBuildProgram</strong> does not return until the build has completed. This callback function may be called asynchronously by the OpenCL implementation. It is the application\(cqs responsibility to ensure that the callback function is thread-safe.</p><p><em> user_data </em></p><p>Passed as an argument when <em>pfn_notify</em> is called. <em>user_data</em> can be NULL.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Builds (compiles & links) a program executable from the program source or binary for all the devices or a specific device(s) in the OpenCL context associated with <em>program</em>. OpenCL allows program executables to be built using the source or the binary. <strong>clBuildProgram</strong> must be called for <em>program</em> created using either <strong>clCreateProgramWithSource</strong>(3clc) or <strong>clCreateProgramWithBinary</strong>(3clc) to build the program executable for one or more devices associated with <em>program</em>. If <em>program</em> is created with <strong>clCreateProgramWithBinary</strong>(3clc), then the program binary must be an executable binary (not a compiled binary or library).</p><p>The executable binary can be queried using <strong>clGetProgramInfo</strong>(3clc)(<em>program</em>, <strong>CL_PROGRAM_BINARIES</strong>, ...) and can be specified to <strong>clCreateProgramWithBinary</strong>(3clc) to create a new program object. Compiler Options.PP The compiler options are categorized as pre-processor options, options for math intrinsics, options that control optimization and miscellaneous options. This specification defines a standard set of options that must be supported by the OpenCL C compiler when building program executables online or offline. These may be extended by a set of vendor- or platform specific options. Preprocessor Options.PP These options control the OpenCL C preprocessor which is run on each program source before actual compilation.</p><p>-D options are processed in the order they are given in the options argument to <strong>clBuildProgram</strong> or or <strong>clCompileProgram</strong>.</p><p>-D name</p><p>Predefine <em>name</em> as a macro, with definition 1.</p><p>-D name=definition</p><p>The contents of <em>definition</em> are tokenized and processed as if they appeared during translation phase three in a `#define&apos; directive. In particular, the definition will be truncated by embedded newline characters.</p><p>-I dir</p><p>Add the directory <em>dir</em> to the list of directories to be searched for header files.</p><p>Math Intrinsics Options</p><p>These options control compiler behavior regarding floating-point arithmetic. These options trade off between speed and correctness.</p><p>-cl-single-precision-constant</p><p>Treat double precision floating-point constant as single precision constant.</p><p>-cl-denorms-are-zero</p><p>This option controls how single precision and double precision denormalized numbers are handled. If specified as a build option, the single precision denormalized numbers may be flushed to zero; double precision denormalized numbers may also be flushed to zero if the optional extension for double precsion is supported. This is intended to be a performance hint and the OpenCL compiler can choose not to flush denorms to zero if the device supports single precision (or double precision) denormalized numbers.</p><p>This option is ignored for single precision numbers if the device does not support single precision denormalized numbers i.e. <strong>CL_FP_DENORM</strong> bit is not set in <strong>CL_DEVICE_SINGLE_FP_CONFIG</strong>.</p><p>This option is ignored for double precision numbers if the device does not support double precision or if it does support double precison but <strong>CL_FP_DENORM</strong> bit is not set in <strong>CL_DEVICE_DOUBLE_FP_CONFIG</strong>.</p><p>This flag only applies for scalar and vector single precision floating-point variables and computations on these floating-point variables inside a program. It does not apply to reading from or writing to image objects.</p><p>-cl-fp32-correctly-rounded-divide-sqrt</p><p>The -cl-fp32-correctly-rounded-divide-sqrt build option to <strong>clBuildProgram</strong> or <strong>clCompileProgram</strong> allows an application to specify that single precision floating-point divide (x/y and 1/x) and sqrt used in the program source are correctly rounded. If this build option is not specified, the minimum numerical accuracy of single precision floating-point divide and sqrt are as defined in section 7.4 of the OpenCL specification.</p><p>This build option can only be specified if the <strong>CL_FP_CORRECTLY_ROUNDED_DIVIDE_SQRT</strong> is set in <strong>CL_DEVICE_SINGLE_FP_CONFIG</strong> (as defined in in the table of allowed values for <em>param_name</em> for <strong>clGetDeviceInfo</strong>(3clc)) for devices that the program is being build. <strong>clBuildProgram</strong> or <strong>clCompileProgram</strong> will fail to compile the program for a device if the -cl-fp32-correctly-rounded-divide-sqrt option is specified and <strong>CL_FP_CORRECTLY_ROUNDED_DIVIDE_SQRT</strong> is not set for the device.</p><p>Optimization Options.PP These options control various sorts of optimizations. Turning on optimization flags makes the compiler attempt to improve the performance and/or code size at the expense of compilation time and possibly the ability to debug the program.</p><p>-cl-opt-disable</p><p>This option disables all optimizations. The default is optimizations are enabled.</p><p>The following options control compiler behavior regarding floating-point arithmetic. These options trade off between performance and correctness and must be specifically enabled. These options are not turned on by default since it can result in incorrect output for programs which depend on an exact implementation of IEEE 754 rules/specifications for math functions.</p><p>-cl-mad-enable</p><p>Allow a * b + c to be replaced by a mad. The mad computes a * b + c with reduced accuracy. For example, some OpenCL devices implement mad as truncate the result of a * b before adding it to c.</p><p>-cl-no-signed-zeros</p><p>Allow optimizations for floating-point arithmetic that ignore the signedness of zero. IEEE 754 arithmetic specifies the distinct behavior of +0.0 and -0.0 values, which then prohibits simplification of expressions such as x+0.0 or 0.0*x (even with -clfinite-math only). This option implies that the sign of a zero result isn&apos;t significant.</p><p>-cl-unsafe-math-optimizations</p><p>Allow optimizations for floating-point arithmetic that (a) assume that arguments and results are valid, (b) may violate IEEE 754 standard and (c) may violate the OpenCL numerical compliance requirements as defined in section 7.4 for single precision and double precision floating-point, and edge case behavior in section 7.5. This option includes the -cl-no-signed-zeros and -cl-mad-enable options.</p><p>-cl-finite-math-only</p><p>Allow optimizations for floating-point arithmetic that assume that arguments and results are not NaNs or &plusmn;âˆž. This option may violate the OpenCL numerical compliance requirements defined in section 7.4 for single precision and double precision floating point, and edge case behavior in section 7.5.</p><p>-cl-fast-relaxed-math</p><p>Sets the optimization options -cl-finite-math-only and -cl-unsafe-math-optimizations. This allows optimizations for floating-point arithmetic that may violate the IEEE 754 standard and the OpenCL numerical compliance requirements defined in the specification in section 7.4 for single-precision and double precision floating-point, and edge case behavior in section 7.5. This option causes the preprocessor macro __FAST_RELAXED_MATH__ to be defined in the OpenCL program.</p><p>Options to Request or Suppress Warnings</p><p>Warnings are diagnostic messages that report constructions which are not inherently erroneous but which are risky or suggest there may have been an error. The following languageindependent options do not enable specific warnings but control the kinds of diagnostics produced by the OpenCL compiler.</p><p>-w</p><p>Inhibit all warning messages.</p><p>-Werror</p><p>Make all warnings into errors.</p><p>Options Controlling the OpenCL C Version</p><p>The following option controls the version of OpenCL C that the compiler accepts.</p><p>-cl-std=</p><p>Determine the OpenCL C language version to use. A value for this option must be provided. Valid values are:</p><p>CL1.1 - Support all OpenCL C programs that use the OpenCL C language features defined in section 6 of the OpenCL 1.1 specification.</p><p>CL1.2 &ndash; Support all OpenCL C programs that use the OpenCL C language features defined in section 6 of the OpenCL 1.2 specification.</p><p>Calls to <strong>clBuildProgram</strong> or <strong>clCompileProgram</strong> with the -cl-std=CL1.1 option will fail to compile the program for any devices with <strong>CL_DEVICE_OPENCL_C_VERSION</strong> = OpenCL C 1.0. Calls to <strong>clBuildProgram</strong> or <strong>clCompileProgram</strong> with the -cl-std=CL1.2 option will fail to compile the program for any devices with <strong>CL_DEVICE_OPENCL_C_VERSION</strong> = OpenCL C 1.0 or OpenCL C 1.1.</p><p>If the -cl-std build option is not specified, the <strong>CL_DEVICE_OPENCL_C_VERSION</strong> is used to select the version of OpenCL C to be used when compiling the program for each device. Options for Querying Kernel Argument Information</p><p>-cl-kernel-arg-info</p><p>This option allows the compiler to store information about the arguments of a kernel(s) in the program executable. The argument information stored includes the argument name, its type, the address and access qualifiers used. Refer to description of <strong>clGetKernelArgInfo</strong>(3clc) on how to query this information.</p><p>Linker Options</p><p>This specification defines a standard set of linker options that must be supported by the OpenCL C compiler when linking compiled programs online or offline. These linker options are categorized as library linking options and program linking options. These may be extended by a set of vendor- or platform-specific options.</p><p>Library Linking Options</p><p>The following options can be specified when creating a library of compiled binaries.</p><p>-create-library</p><p>Create a library of compiled binaries specified in <em>input_programs</em> argument to <strong>clLinkProgram</strong>(3clc).</p><p>-enable-link-options</p><p>Allows the linker to modify the library behavior based on one or more link options (described in Program Linking Options, below) when this library is linked with a program executable. This option must be specified with the &ndash;create-library option.</p><p>Program Linking Options</p><p>The following options can be specified when linking a program executable.</p><p>-cl-denorms-are-zero .RE</p><p>-cl-no-signed-zeroes .RE</p><p>-cl-unsafe-math-optimizations .RE</p><p>-cl-finite-math-only .RE</p><p>-cl-fast-relaxed-mat .RE</p><p>The linker may apply these options to all compiled program objects specified to <strong>clLinkProgram</strong>(3clc). The linker may apply these options only to libraries which were created with the &ndash;enable-link-option.</p><p>Separate Compilation and Linking of Programs.PP OpenCL 1.2 extends how programs are compiled and linked to support the following:</p><p>Separate compilation and link stages.  Program sources can be compiled to generate a compiled binary object and linked in a separate stage with other compiled program objects to the program exectuable.</p><p>Embedded headers.  In OpenCL 1.0 and 1.1, the &ndash;I build option could be used to specify the list of directories to be searched for headers files that are included by a program source(s).  OpenCL 1.2 extends this by allowing the header sources to come from program objects instead of just header files.</p><p>Libraries.  The linker can be used to link compiled objects and libraries into a program executable or to create a library of compiled binarie</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p><strong>clBuildProgram</strong> returns CL_SUCCESS if the function is executed successfully. Otherwise, it returns one of the following errors:</p><p>CL_INVALID_PROGRAM if <em>program</em> is not a valid program object.</p><p>CL_INVALID_VALUE if <em>device_list</em> is NULL and <em>num_devices</em> is greater than zero, or if <em>device_list</em> is not NULL and <em>num_devices</em> is zero.</p><p>CL_INVALID_VALUE if <em>pfn_notify</em> is NULL but <em>user_data</em> is not NULL.</p><p>CL_INVALID_DEVICE if OpenCL devices listed in <em>device_list</em> are not in the list of devices associated with <em>program</em>.</p><p>CL_INVALID_BINARY if <em>program</em> is created with <strong>clCreateProgramWithBinary</strong>(3clc) and devices listed in <em>device_list</em> do not have a valid program binary loaded.</p><p>CL_INVALID_BUILD_OPTIONS if the build options specified by <em>options</em> are invalid.</p><p>CL_INVALID_OPERATION if the build of a program executable for any of the devices listed in <em>device_list</em> by a previous call to <strong>clBuildProgram</strong> for <em>program</em> has not completed.</p><p>CL_COMPILER_NOT_AVAILABLE if <em>program</em> is created with <strong>clCreateProgramWithSource</strong>(3clc) and a compiler is not available i.e. CL_DEVICE_COMPILER_AVAILABLE specified in the table of OpenCL Device Queries for <strong>clGetDeviceInfo</strong>(3clc) is set to CL_FALSE.</p><p>CL_BUILD_PROGRAM_FAILURE if there is a failure to build the program executable.  This error will be returned if <strong>clBuildProgram</strong> does not return until the build has completed.</p><p>CL_INVALID_OPERATION if there are kernel objects attached to <em>program</em>.</p><p>CL_INVALID_OPERATION if program was not created with <strong>clCreateProgramWithSource</strong>(3clc) or <strong>clCreateProgramWithBinary</strong>(3clc).</p><p>CL_OUT_OF_RESOURCES if there is a failure to allocate resources required by the OpenCL implementation on the device.</p><p>CL_OUT_OF_HOST_MEMORY if there is a failure to allocate resources required by the OpenCL implementation on the host.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIFICATION</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>OpenCL Specification</strong>\m[]\s-2\u[1]\d\s+2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO clBuildProgram&hellip;</h2>
        <div class="sectioncontent">
<p><strong>clGetDeviceInfo</strong>(3clc)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>The Khronos Group</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2007-2011 The Khronos Group Inc.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and/or associated documentation files (the "Materials"), to deal in the Materials without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Materials, and to permit persons to whom the Materials are furnished to do so, subject to the condition that this copyright notice and permission notice shall be included in all copies or substantial portions of the Materials.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>OpenCL Specification</p><p>page 137, section 5.6.2 - Building Program Executables</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ceil.3clc.html"><span aria-hidden="true">&larr;</span> ceil.3clc: Round to integer toward + infinity.</a></li>
   <li class="next"><a href="clCompileProgram.3clc.html">clCompileProgram.3clc: Compiles a program\(cqs source for all the devices or a specific device(s) in the opencl context associated with program. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
