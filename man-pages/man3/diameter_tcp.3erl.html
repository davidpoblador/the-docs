<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>diameter_tcp: Diameter transport over tcp.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Diameter transport over tcp.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="diameter_tcp (3erl) manual">
  <meta name="twitter:description" content="Diameter transport over tcp.">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-diameter_tcp-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/diameter_tcp.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="diameter_tcp (3erl) manual" />
  <meta property="og:description" content="Diameter transport over tcp." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-diameter_tcp-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">diameter_tcp<small> (3erl)</small></h1>
        <p class="lead">Diameter transport over tcp.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/diameter_tcp.3erl.html">
      <span itemprop="name">diameter_tcp: Diameter transport over tcp.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/diameter_tcp.3erl.html">
      <span itemprop="name">diameter_tcp: Diameter transport over tcp.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module implements diameter transport over TCP using <strong>gen_tcp(3erl)</strong>. It can be specified as the value of a <em>transport_module</em> option to <strong>diameter:add_transport/2</strong> and implements the behaviour documented in <strong>diameter_transport(3erl)</strong>. TLS security is supported, either as an upgrade following capabilities exchange or at connection establishment.</p><p>Note that the ssl application is required for TLS and must be started before configuring TLS capability on diameter transports.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p><strong></strong> start({Type, Ref}, Svc, [Opt]) -&gt; {ok, Pid} | {ok, Pid, [LAddr]} | {error, Reason}</p><p>Types:</p><p>Type = connect | accept</p><p>Ref = <strong>diameter:transport_ref()</strong></p><p>Svc = #diameter_service{}</p><p>Opt = OwnOpt | SslOpt | TcpOpt</p><p>Pid = pid()</p><p>LAddr = <strong>inet:ip_address()</strong></p><p>Reason = term()</p><p>OwnOpt = {raddr, <strong>inet:ip_address()</strong>} | {rport, integer()} | {accept, Match} | {port, integer()} | {fragment_timer, infinity | 0..16#FFFFFFFF}</p><p>SslOpt = {ssl_options, true | list()}</p><p>TcpOpt = term()</p><p>Match = <strong>inet:ip_address()</strong> | string() | [Match]</p><p>The start function required by <strong>diameter_transport(3erl)</strong>.</p><p>Options <em>raddr</em> and <em>rport</em> specify the remote address and port for a connecting transport and are not valid for a listening transport.</p><p>Option <em>accept</em> specifies remote addresses for a listening transport and is not valid for a connecting transport. If specified, a remote address that does not match one of the specified addresses causes the connection to be aborted. Multiple <em>accept</em> options can be specified. A string-valued <em>Match</em> that does not parse as an address is interpreted as a regular expression.</p><p>Option <em>ssl_options</em> must be specified for a transport that should support TLS: a value of <em>true</em> results in a TLS handshake immediately upon connection establishment while <em>list()</em> specifies options to be passed to <strong>ssl:connect/2</strong> or <strong>ssl:ssl_accept/2</strong> after capabilities exchange if TLS is negotiated.</p><p>Option <em>fragment_timer</em> specifies the timeout, in milliseconds, of a timer used to flush messages from the incoming byte stream even if the number of bytes indicated in the Message Length field of its Diameter Header have not yet been accumulated: such a message is received over the transport interface after two successive timeouts without the reception of additional bytes. Defaults to 1000.</p><p>Remaining options are any accepted by <strong>ssl:connect/3</strong> or <strong>gen_tcp:connect/3</strong> for a connecting transport, or <strong>ssl:listen/2</strong> or <strong>gen_tcp:listen/2</strong> for a listening transport, depending on whether or not <em>{ssl_options, true}</em> has been specified. Options <em>binary</em>, <em>packet</em> and <em>active</em> cannot be specified. Also, option <em>port</em> can be specified for a listening transport to specify the local listening port, the default being the standardized 3868 if unspecified. Note that the option <em>ip</em> specifies the local address.</p><p>An <em>ssl_options</em> list must be specified if and only if the transport in question has set <em>Inband-Security-Id</em> to 1 (<em>TLS</em>), as specified to either <strong>diameter:start_service/2</strong> or <strong>diameter:add_transport/2</strong>, so that the transport process will receive notification of whether or not to commence with a TLS handshake following capabilities exchange. Failing to specify an options list on a TLS-capable transport for which TLS is negotiated will cause TLS handshake to fail. Failing to specify TLS capability when <em>ssl_options</em> has been specified will cause the transport process to wait for a notification that will not be forthcoming, which will eventually cause the RFC 3539 watchdog to take down the connection.</p><p>If an <em>ip</em> option is not specified then the first element of a non-empty <em>Host-IP-Address</em> list in <em>Svc</em> provides the local IP address. If neither is specified then the default address selected by <strong>gen_tcp(3erl)</strong> is used. In all cases, the selected address is either returned from <strong>start/3</strong> or passed in a <em>connected</em> message over the transport interface.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO diameter_tcp&hellip;</h2>
        <div class="sectioncontent">
<p><strong>diameter(3erl)</strong>, <strong>diameter_transport(3erl)</strong>, <strong>gen_tcp(3erl)</strong>, <strong>inet(3erl)</strong>, <strong>ssl(3erl)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="diameter_sctp.3erl.html"><span aria-hidden="true">&larr;</span> diameter_sctp.3erl: Diameter transport over sctp.</a></li>
   <li class="next"><a href="diameter_transport.3erl.html">diameter_transport.3erl: Diameter transport interface. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
