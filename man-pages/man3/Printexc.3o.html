<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Printexc: Facilities for printing exceptions and inspecting current call stack.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Facilities for printing exceptions and inspecting current call stack.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Printexc (3o) manual">
  <meta name="twitter:description" content="Facilities for printing exceptions and inspecting current call stack.">
  <meta name="twitter:image" content="https://www.carta.tech/images/ocaml-nox-Printexc-3o.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3o/Printexc.3o.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Printexc (3o) manual" />
  <meta property="og:description" content="Facilities for printing exceptions and inspecting current call stack." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ocaml-nox-Printexc-3o.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Printexc<small> (3o)</small></h1>
        <p class="lead">Facilities for printing exceptions and inspecting current call stack.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/Printexc.3o.html">
      <span itemprop="name">Printexc: Facilities for printing exceptions and inspecting current call stack.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ocaml-nox/">
      <span itemprop="name">ocaml-nox</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/Printexc.3o.html">
      <span itemprop="name">Printexc: Facilities for printing exceptions and inspecting current call stack.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Module</h2>
        <div class="sectioncontent">
<p>Module   Printexc</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Documentation</h2>
        <div class="sectioncontent">
<p>Module <strong>Printexc</strong>  : <strong>sig end</strong></p><p>Facilities for printing exceptions and inspecting current call stack.</p><p><em>val to_string</em> : <strong>exn -&gt; string</strong></p><p><strong>Printexc.to_string e</strong> returns a string representation of the exception <strong>e</strong> .</p><p><em>val print</em> : <strong>('a -&gt; 'b) -&gt; 'a -&gt; 'b</strong></p><p><strong>Printexc.print fn x</strong> applies <strong>fn</strong> to <strong>x</strong> and returns the result. If the evaluation of <strong>fn x</strong> raises any exception, the name of the exception is printed on standard error output, and the exception is raised again. The typical use is to catch and report exceptions that escape a function application.</p><p><em>val catch</em> : <strong>('a -&gt; 'b) -&gt; 'a -&gt; 'b</strong></p><p><strong>Printexc.catch fn x</strong> is similar to <strong>Printexc.print</strong> , but aborts the program with exit code 2 after printing the uncaught exception.  This function is deprecated: the runtime system is now able to print uncaught exceptions as precisely as <strong>Printexc.catch</strong> does.  Moreover, calling <strong>Printexc.catch</strong> makes it harder to track the location of the exception using the debugger or the stack backtrace facility. So, do not use <strong>Printexc.catch</strong> in new code.</p><p><em>val print_backtrace</em> : <strong>Pervasives.out_channel -&gt; unit</strong></p><p><strong>Printexc.print_backtrace oc</strong> prints an exception backtrace on the output channel <strong>oc</strong> .  The backtrace lists the program locations where the most-recently raised exception was raised and where it was propagated through function calls.</p><p><strong>Since</strong> 3.11.0</p><p><em>val get_backtrace</em> : <strong>unit -&gt; string</strong></p><p><strong>Printexc.get_backtrace ()</strong> returns a string containing the same exception backtrace that <strong>Printexc.print_backtrace</strong> would print.</p><p><strong>Since</strong> 3.11.0</p><p><em>val record_backtrace</em> : <strong>bool -&gt; unit</strong></p><p><strong>Printexc.record_backtrace b</strong> turns recording of exception backtraces on (if <strong>b = true</strong> ) or off (if <strong>b = false</strong> ).  Initially, backtraces are not recorded, unless the <strong>b</strong> flag is given to the program through the <strong>OCAMLRUNPARAM</strong> variable.</p><p><strong>Since</strong> 3.11.0</p><p><em>val backtrace_status</em> : <strong>unit -&gt; bool</strong></p><p><strong>Printexc.backtrace_status()</strong> returns <strong>true</strong> if exception backtraces are currently recorded, <strong>false</strong> if not.</p><p><strong>Since</strong> 3.11.0</p><p><em>val register_printer</em> : <strong>(exn -&gt; string option) -&gt; unit</strong></p><p><strong>Printexc.register_printer fn</strong> registers <strong>fn</strong> as an exception printer.  The printer should return <strong>None</strong> or raise an exception if it does not know how to convert the passed exception, and <strong>Some</strong> <strong>s</strong> with <strong>s</strong> the resulting string if it can convert the passed exception. Exceptions raised by the printer are ignored.</p><p>When converting an exception into a string, the printers will be invoked in the reverse order of their registrations, until a printer returns a <strong>Some s</strong> value (if no such printer exists, the runtime will use a generic printer).</p><p>When using this mechanism, one should be aware that an exception backtrace is attached to the thread that saw it raised, rather than to the exception itself. Practically, it means that the code related to <strong>fn</strong> should not use the backtrace if it has itself raised an exception before.</p><p><strong>Since</strong> 3.11.2</p><p><strong>===</strong> <strong>Raw backtraces</strong> <strong>===</strong></p><p><em>type raw_backtrace</em></p><p><strong>=== The abstract type backtrace stores exception backtraces in</strong> <strong>a low-level format, instead of directly exposing them as string as</strong> <strong>the get_backtrace() function does.</strong> <strong></strong> <strong>This allows delaying the formatting of backtraces to when they are</strong> <strong>actually printed, which might be useful if you record more</strong> <strong>backtraces than you print. ===</strong></p><p><em>val get_raw_backtrace</em> : <strong>unit -&gt; raw_backtrace</strong></p><p><em>val print_raw_backtrace</em> : <strong>Pervasives.out_channel -&gt; raw_backtrace -&gt; unit</strong></p><p><em>val raw_backtrace_to_string</em> : <strong>raw_backtrace -&gt; string</strong></p><p><strong>===</strong> <strong>Current call stack</strong> <strong>===</strong></p><p><em>val get_callstack</em> : <strong>int -&gt; raw_backtrace</strong></p><p><strong>=== Printexc.get_callstack n returns a description of the top of the</strong> <strong>call stack on the current program point (for the current thread),</strong> <strong>with at most n entries. (Note: this function is not related to</strong> <strong>exceptions at all, despite being part of the Printexc module.) ===</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Pervasives.LargeFile.3o.html"><span aria-hidden="true">&larr;</span> Pervasives.LargeFile.3o: Operations on large files.</a></li>
   <li class="next"><a href="Printf.3o.html">Printf.3o: Formatted output functions. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
