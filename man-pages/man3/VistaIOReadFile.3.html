<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VistaIOReadFile: Read a vista data file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Read a vista data file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="VistaIOReadFile (3) manual">
  <meta name="twitter:description" content="Read a vista data file">
  <meta name="twitter:image" content="https://www.carta.tech/images/libvistaio-dev-VistaIOReadFile-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/VistaIOReadFile.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="VistaIOReadFile (3) manual" />
  <meta property="og:description" content="Read a vista data file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libvistaio-dev-VistaIOReadFile-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">VistaIOReadFile<small> (3)</small></h1>
        <p class="lead">Read a vista data file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/VistaIOReadFile.3.html">
      <span itemprop="name">VistaIOReadFile: Read a vista data file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libvistaio-dev/">
      <span itemprop="name">libvistaio-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/VistaIOReadFile.3.html">
      <span itemprop="name">VistaIOReadFile: Read a vista data file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include <strong>&lt;stdio&gt;</strong>
#include <strong>&lt;vistaio.h&gt;</strong>

VistaIOAttrList VistaIOReadFile (<em>file</em>, <em>filter</em>)
FILE *<em>file</em>;
VistaIOReadFileFilterProc *<em>filter</em>;
</pre>
<p>typedef VistaIOBoolean VistaIOReadFileFilterProc (VistaIOBundle, VistaIORepnKind);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>file</em>
  </dt>
  <dd>
    <p>Specifies the open stream from which the data file should be read.</p>
  </dd>
  <dt>
    <em>filter</em>
  </dt>
  <dd>
    <p>May specify a function that determines which attributes' binary data is read from the file, or it may be <small>NULL</small> to indicate that all binary data should be read.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>VistaIOReadFile</strong> reads the contents of a Vista data file. It returns a list of the attributes found in the file. Attribute values in that list will have been converted to internal form, as described by <strong>VistaIOattribute</strong>(3) and <strong>VistaIOtype</strong>(3).</p><p>With the <em>filter</em> argument you may supply a function that gets to decide for each attribute value that is an object whether or not that object's binary data should be read. This mechanism allows you to avoid the expense of reading binary data that is not of interest (e.g., image pixel values when images are not of concern). However, you need only supply a filter function if you are particularly concerned about efficiency. Your filter function should be declared:</p>
<pre>
VistaIOBoolean <em>MyFilter</em> (<em>bundle</em>, <em>repn</em>)
VistaIOBundle <em>bundle</em>;
VistaIORepnKind <em>repn</em>;
</pre>
<p>Your filter function will be called once for each object encountered at any level in the file. It will be passed a <strong>VistaIOBundle</strong> representing the object (including its type name and attribute list, but not its binary data), and the <em>repn</em> value obtained by looking up its type name (i.e., the value returned by <strong>VistaIOLookupType</strong>(3) on the type name, which could be <strong>VistaIOUnknownRepn</strong>). The object's binary data will be read only if the filter function returns <small>TRUE</small><strong>.</strong><small>If</small><strong>it</strong><small>returns</small> <small>FALSE</small><strong>,</strong><small>the</small><strong>object</strong><small>will</small><strong>be</strong><small>represented</small><strong>in</strong><small>the</small><strong>attribute</strong><small>list</small><strong>as</strong><small>a</small><strong></strong><strong>VistaIOBundle</strong><strong>,</strong> without binary data &ndash; it will not be converted to internal form (e.g., not to a <strong>VistaIOImage</strong>). If no filter function is supplied (i.e., <em>filter</em> is <small>NULL</small><strong>),</strong><small></small><strong>VistaIOReadFile</strong><small></small><strong>will</strong><small>read</small><strong>all</strong><small>binary</small><strong>data</strong><small>associated</small><strong>with</strong><small>all</small><strong>objects.</strong></p><p>For backwards compatibility <strong>VistaIOReadFile</strong> will recognize and read the contents of a UBC image file format (IFF) file. If the first character read from the stream is ``I'', <strong>VistaIOReadFile</strong> uses <strong>VistaIOReadUbcIff</strong> to read a single UBC IFF image. The image is returned as a <strong>VistaIOImage</strong> attribute value in a list containing a single attribute. In this case, the <em>filter</em> argument has no effect.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p><strong>VistaIOReadData</strong> returns an attribute list representing the file's contents, or <small>NULL</small> if an error is encountered. In the case of an error, the stream may not have been completely read.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO VistaIOReadFile&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/VistaIOReadObjects.3.html"><strong>VistaIOReadObjects</strong>(3)</a>, <strong>VistaIOReadUbcIff</strong>(3), <a href="../man3/stdio.3.html"><strong>stdio</strong>(3)</a>,</p><p><strong>VistaIOBundle</strong>(3), <strong>VistaIOattribute</strong>(3), <strong>VistaIOtype</strong>(3)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Data is read from the stream sequentially, permitting the stream to be a pipe. No rewind is performed either before reading or after.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTIC</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    ``EOF encountered in <em>name</em> attribute.''
  </dt>
  <dd>
    <p>The end-of-file was encountered unexpectedly while reading the value of the named attribute.</p>
  </dd>
  <dt>
    ``File continues beyond expected EOF.''
  </dt>
  <dd>
    <p>The end-of-file wasn't encountered immediately after all expected binary data.</p>
  </dd>
  <dt>
    ``Invalid <em>name</em> attribute.''
  </dt>
  <dd>
    <p>The named attribute is encoded incorrectly in the stream. It may, for example, be missing the ``<strong>:</strong>'' that should separate its name and value.</p>
  </dd>
  <dt>
    ``Missing {.''
  </dt>
  <dd>
    <p>The ``<strong>{</strong>'' marking the start of an attribute list is missing.</p>
  </dd>
  <dt>
    ``Missing }.''
  </dt>
  <dd>
    <p>The ``<strong>}</strong>'' marking the end of an attribute list is missing.</p>
  </dd>
  <dt>
    ``<em>name</em> attribute has data but not length.''
  </dt>
  <dd>
    <p>The named attribute's value is an object whose attribute list contains a <strong>data</strong> attribute but not a <strong>length</strong> attribute. Both attributes must be present to specify binary data. (A similar diagnostic is produced if there is a <strong>length</strong> attribute but no <strong>data</strong> attribute.)</p>
  </dd>
  <dt>
    ``<em>name</em> attribute's <em>attr</em> attribute incorrect.''
  </dt>
  <dd>
    <p>The named attribute's value is an object whose attribute list indicates it has binary data. However, its <strong>data</strong> attribute specifies an offset too early in the binary data portion of the file, or its <strong>data</strong> or <strong>length</strong> attribute has a non-integer value.</p>
  </dd>
  <dt>
    ``Read from stream failed.''
  </dt>
  <dd>
    <p>An attempt to read a block of binary data failed, perhaps because of a premature end-of-file.</p>
  </dd>
  <dt>
    ``Vista data file delimiter not found.''
  </dt>
  <dd>
    <p>The <small>FORMFEED</small><strong>NEWLINE</strong> sequence terminating the attribute list portion of the data file wasn't found.</p>
  </dd>
  <dt>
    ``Vista data file isn't version 2.''
  </dt>
  <dd>
    <p>The data file's header indicates a file format version other than 2, the current version.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Art Pope &lt;pope@cs.ubc.ca&gt;</p><p>Adaption to vistaio: Gert Wollny &lt;gw.fossdev@gmail.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="VistaIOReadEdges.3.html"><span aria-hidden="true">&larr;</span> VistaIOReadEdges.3: Read a series of edge sets from a stream</a></li>
   <li class="next"><a href="VistaIOReadImages.3.html">VistaIOReadImages.3: Read a series of images from a stream <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
