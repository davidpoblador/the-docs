<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pod::Constants: Include constants from pod</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Include constants from pod">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Pod::Constants (3pm) manual">
  <meta name="twitter:description" content="Include constants from pod">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpod-constants-perl-Pod::Constants-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Pod::Constants.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Pod::Constants (3pm) manual" />
  <meta property="og:description" content="Include constants from pod" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpod-constants-perl-Pod::Constants-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Pod::Constants<small> (3pm)</small></h1>
        <p class="lead">Include constants from pod</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Pod::Constants.3pm.html">
      <span itemprop="name">Pod::Constants: Include constants from pod</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpod-constants-perl/">
      <span itemprop="name">libpod-constants-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Pod::Constants.3pm.html">
      <span itemprop="name">Pod::Constants: Include constants from pod</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use vars qw($myvar $VERSION @myarray $html %myhash);

 use Pod::Constants -trim =&gt; 1,
     &apos;Pod Section Name&apos; =&gt; &#92;$myvar,
     &apos;Version&apos; =&gt; sub { eval },
     &apos;Some list&apos; =&gt; &#92;@myarray,
     html =&gt; &#92;$html,
     &apos;Some hash&apos; =&gt; &#92;%myhash;

 =head2 Pod Section Name

 This string will be loaded into $myvar

 =head2 Version

 # This is an example of using a closure.  $_ is set to the
 # contents of the paragraph.  In this example, "eval" is
 # used to execute this code at run time.
 $VERSION = 0.16;

 =head2 Some list

 Each line from this section of the file
 will be placed into a separate array element.
 For example, this is $myarray[2].

 =head2 Some hash

 This text will not go into the hash, because
 it doesn&apos;t look like a definition list.
     key1 =&gt; Some value (this will go into the hash)
     var2 =&gt; Some Other value (so will this)
     wtf = This won&apos;t make it in.

 =head2 %myhash&apos;s value after the above:

    ( key1 =&gt; "Some value (this will go into the hash)",
      var2 =&gt; "Some Other value (so will this)"          )

 =begin html &lt;p&gt;This text will be in $html&lt;/p&gt;

 =cut
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module allows you to specify those constants that should be documented in your \s-1POD\s0, and pull them out a run time in a fairly arbitrary fashion.</p><p>Pod::Constants uses Pod::Parser to do the parsing of the source file. It has to open the source file it is called from, and does so directly either by lookup in %INC or by assuming it is $0 if the caller is \*(L"main\*(R" (or it can't find %INC{<em>caller()</em>})</p><h3>\s-1ARBITARY\s0 \s-1DECISIONS\s0</h3>
<p>I have made this code only allow the \*(L"Pod Section Name\*(R" to match `headN', `item', `for' and `begin' \s-1POD\s0 sections.  If you have a good reason why you think it should match other \s-1POD\s0 sections, drop me a line and if I'm convinced I'll put it in the standard version.</p><p>For `for' and `begin' sections, only the first word is counted as being a part of the specifier, as opposed to `headN' and `item', where the entire rest of the line counts.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<h3>import(@args)</h3>
<p>This function is called when we are \*(L"use\*(R"'d.  It determines the source file by inspecting the value of <em>caller()</em> or $0.</p><p>The form of @args is \s-1HOOK\s0 =&gt; $where.</p><p>$where may be a scalar reference, in which case the contents of the \s-1POD\s0 section called \*(L"\s-1HOOK\s0\*(R" will be loaded into $where.</p><p>$where may be an array reference, in which case the contents of the array will be the contents of the \s-1POD\s0 section called \*(L"\s-1HOOK\s0\*(R", split into lines.</p><p>$where may be a hash reference, in which case any lines with a \*(L"=&gt;\*(R" symbol present will have everything on the left have side of the =&gt; operator as keys and everything on the right as values.  You do not need to quote either, nor have trailing commas at the end of the lines.</p><p>$where may be a code reference (sub { }), in which case the sub is called when the hook is encountered.  $_ is set to the value of the \s-1POD\s0 paragraph.</p><p>You may also specify the behaviour of whitespace trimming; by default, no trimming is done except on the \s-1HOOK\s0 names.  Setting \*(L"-trim =&gt; 1\*(R" turns on a package \*(L"global\*(R" (until the next time import is called) that will trim the $_ sent for processing by the hook processing function (be it a given function, or the built-in array/hash splitters) for leading and trailing whitespace.</p><p>The name of \s-1HOOK\s0 is matched against any \*(L"=head1\*(R", \*(L"=head2\*(R", \*(L"=item\*(R", \*(L"=for\*(R", \*(L"=begin\*(R" value.  If you specify the special hooknames \*(L"*item\*(R", \*(L"*head1\*(R", etc, then you will get a function that is run for every</p><p>Note that the supplied functions for array and hash splitting are exactly equivalent to fairly simple Perl blocks:</p><p>Array:</p><p>  HOOK =&gt; sub { @array = split /&#92;n/, $_ }</p><p>Hash:</p><p>  HOOK =&gt; sub {   %hash =       (map { map { s/^&#92;s+|&#92;s+$//g; $_ } split /=&gt;/, $_ }             (grep m/^                     ( (?:[^=]|=[^&gt;])+ )   # scan up to "=&gt;"                     =&gt;                     ( (?:[^=]|=[^&gt;])+ =? )# don&apos;t allow more "=&gt;"&apos;s                     $/x, split /&#92;n/, $_));   }</p><p>Well, they're simple if you can grok map, a regular expression like that and a functional programming style.  If you can't I'm sure it is probably voodoo to you.</p><p>Here's the procedural equivalent:</p><p>  HOOK =&gt; sub {      for my $line (split /&#92;n/, $_) {          my ($key, $value, $junk) = split /=&gt;/, $line;          next if $junk;          $key =~ s/^&#92;s+|&#92;s+$//g          $value =~ s/^&#92;s+|&#92;s+$//g          $hash{$key} = $value;      }   }, Very similar to straight \*(L"import\*(R", but you specify the source filename explicitly.</p>
<h3>add_hook(\s-1NAME\s0 =&gt; value)</h3>
<p>This function adds another hook, it is useful for dynamic updating of parsing through the document.</p><p>For an example, please see t/01-constants.t in the source distribution.  More detailed examples will be added in a later release.</p>
<h3>delete_hook(@list)</h3>
<p>Deletes the named hooks.  Companion function to add_hook</p>
<h3>\s-1CLOSURES\s0 \s-1AS\s0 \s-1DESTINATIONS\s0</h3>
<p>If the given value is a ref \s-1CODE\s0, then that function is called, with $_ set to the value of the paragraph.  This can be very useful for applying your own custom mutations to the \s-1POD\s0 to change it from human readable text into something your program can use.</p><p>After I added this function, I just kept on thinking of cool uses for it.  The nice, succinct code you can make with it is one of Pod::Constant's strongest features.</p><p>Below are some examples.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<h3>Module Makefile.PL maintenance</h3>
<p>Tired of keeping those module Makefile.PL's up to date?  Note: This method seems to break dh-make-perl.</p>
<h3>Example Makefile.PL</h3>
<p> eval "use Pod::Constants";  ($Pod::Constants::VERSION &gt;= 0.11)      or die &lt;&lt;EOF  ####  ####  ERROR: This module requires Pod::Constants 0.11 or  ####  higher to be installed.  ####  EOF</p><p> my ($VERSION, $NAME, $PREREQ_PM, $ABSTRACT, $AUTHOR);  Pod::Constants::import_from_file      (       &apos;MyTestModule.pm&apos;,       &apos;MODULE RELEASE&apos; =&gt; sub { ($VERSION) = m/(&#92;d+&#92;.&#92;d+)/ },       &apos;DEPENDENCIES&apos; =&gt; ($PREREQ_PM = { }),        -trim =&gt; 1,       &apos;NAME&apos; =&gt; sub { $ABSTRACT=$_; ($NAME) = m/(&#92;S+)/ },       &apos;AUTHOR&apos; =&gt; &#92;$AUTHOR,      );</p><p> WriteMakefile      (       &apos;NAME&apos;            =&gt; $NAME,       &apos;PREREQ_PM&apos;        =&gt; $PREREQ_PM,       &apos;VERSION&apos;          =&gt; $VERSION,       ($] &gt;= 5.005 ?    ## Add these new keywords supported since 5.005        (ABSTRACT         =&gt; $ABSTRACT,         AUTHOR           =&gt; $AUTHOR) : ()),      );</p>
<h3>Corresponding Module</h3>
<p> =head1 NAME</p><p> MyTestModule - Demonstrate Pod::Constant&apos;s Makefile.PL usefulness</p><p> =head2 MODULE RELEASE</p><p> This is release 1.05 of this module.</p><p> =head2 DEPENDENCIES</p><p> The following modules are required to make this module:</p><p>    Some::Module =&gt; 0.02</p><p> =head2 AUTHOR</p><p> Ima Twat &lt;ima@twat.name&gt;</p><p> =cut</p><p> use vars qw($VERSION);  use Pod::Constants -trim =&gt; 1,      &apos;MODULE RELEASE&apos; =&gt; sub { ($VERSION) = m/(&#92;d+&#92;.&#92;d+) or die };</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Sam Vilain, &lt;samv@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS/TODO</h2>
        <div class="sectioncontent">
<p>I keep thinking it would be nice to be able to import an =item list into an array or something, eg for a program argument list.  But I'm not too sure how it would be all that useful in practice; you'd end up putting the function names for callbacks in the pod or something (perhaps not all that bad).</p><p>Would this be useful?</p><p> Pod::Constants::import(Foo::SECTION =&gt; &#92;$myvar);</p><p>Debug output is not very readable</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PATCHES WELCOME</h2>
        <div class="sectioncontent">
<p>If you have any suggestions for enhancements, they are much more likely to happen if you submit them as a patch to the distribution.</p><p>Source is kept at</p><p>  git://utsl.gen.nz/Pod-Constants</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Pod::Abstract::Tree.3pm.html"><span aria-hidden="true">&larr;</span> Pod::Abstract::Tree.3pm: Manage a level of pod document tree nodes.</a></li>
   <li class="next"><a href="Pod::Coverage.3pm.html">Pod::Coverage.3pm: Checks if the documentation of a module is comprehensive <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
