<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>OpenDBX_Lob: Handling large objects if supported by the database.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Handling large objects if supported by the database.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="OpenDBX_Lob (3) manual">
  <meta name="twitter:description" content="Handling large objects if supported by the database.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libopendbx1-dev-OpenDBX_Lob-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/OpenDBX_Lob.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="OpenDBX_Lob (3) manual" />
  <meta property="og:description" content="Handling large objects if supported by the database." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libopendbx1-dev-OpenDBX_Lob-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">OpenDBX_Lob<small> (3)</small></h1>
        <p class="lead">Handling large objects if supported by the database.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/OpenDBX_Lob.3.html">
      <span itemprop="name">OpenDBX_Lob: Handling large objects if supported by the database.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libopendbx1-dev/">
      <span itemprop="name">libopendbx1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/OpenDBX_Lob.3.html">
      <span itemprop="name">OpenDBX_Lob: Handling large objects if supported by the database.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<h3>Public Member Functions</h3>
<p>void <strong>close</strong> ()  throw ( std::exception )</p><p><em>Closes the large object and commits the changes. </em> <strong>Lob</strong> (const <strong>Lob</strong> &ref)  throw ()</p><p><em>Copy constructor. </em> <strong>Lob</strong> & <strong>operator=</strong> (const <strong>Lob</strong> &ref)  throw ()</p><p><em>Assign large object instance to another one. </em> ssize_t <strong>read</strong> (void *buffer, size_t buflen)  throw ( std::exception )</p><p><em>Reads content from large object into the buffer. </em> ssize_t <strong>write</strong> (void *buffer, size_t buflen)  throw ( std::exception )</p><p><em>Writes data from the buffer into the large object. </em> <strong>~Lob</strong> ()  throw ()</p><p><em>Destroy large object instance if no other references exist. </em></p>
<h3>Protected Member Functions</h3>
<p><strong>Lob</strong> ()  throw ()</p><p><em>Default constructor. </em> <strong>Lob</strong> (Lob_Iface *impl)  throw ( std::exception )</p><p><em>Create large object instance. </em></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Handling large objects if supported by the database.</p><p><strong>Author:</strong></p><p>Norbert Sendetzky norbert@linuxnetworks.de</p><p><strong>Version:</strong></p><p>1.0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor & Destructor Documentation</h2>
        <div class="sectioncontent">
<h3>OpenDBX::Lob::Lob ()\fC [inline]\fP, \fC [protected]\fP</h3>
<p>Default constructor. The default constructor isn't part of the public interface as the object must not be created manually. Instead, the <strong>Result::getLob()</strong> method is a factory for instances of the large object class.</p><p><strong>Returns:</strong></p><p><strong>Lob</strong> instance</p>
<h3>OpenDBX::Lob::Lob (Lob_Iface *impl)std::exception\fC [protected]\fP</h3>
<p>Create large object instance. The constructor isn't part of the public interface as the object must not be created manually. Instead, the <strong>Result::getLob()</strong> method is a factory for instances of the large object class.</p><p><strong>Parameters:</strong></p><p><em>impl</em> Pointer to private implementation</p><p><strong>Returns:</strong></p><p><strong>Lob</strong> instance</p><p><strong>Exceptions:</strong></p><p><em>std::exception</em> If an error occures</p>
<h3>OpenDBX::Lob::~Lob ()</h3>
<p>Destroy large object instance if no other references exist. Each large object uses a reference counter to remember if the internal variables are shared with other objects. If this isn't the case or if this object is the last one referencing the variables, the object is cleanup up and the allocated memory freed.</p>
<h3>OpenDBX::Lob::Lob (const \fBLob\fP &ref)</h3>
<p>Copy constructor. Enables the transfer of the internal state of an object <em>ref</em> of the same type to this object. Both objects share the same variables and the reference counter afterwards. The reference counter is incremented each time an object is copied and will be decremented if it is destroyed.</p><p><strong>Parameters:</strong></p><p><em>ref</em> Original large object instance</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Function Documentation</h2>
        <div class="sectioncontent">
<h3>void OpenDBX::Lob::close ()std::exception</h3>
<p>Closes the large object and commits the changes. After reading from or writing new content into the large object, it should be closed to commit changes to the disk and clean up the resources. If this isn't done, the destructor of the object tries to close the large object automatically, but there's no guarantee it was successful as the destructor doesn't throw an exception in case of an error. Therefore, it's highly recommended to call this method once when you don't need the object any more.</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>\fBLob\fP& OpenDBX::Lob::operator= (const \fBLob\fP &ref)</h3>
<p>Assign large object instance to another one. Assigns the internal state of an object <em>ref</em> of the same type to this object. Both objects share the same variables and the reference counter afterwards. The reference counter is incremented each time an object is copied and will be decremented if it is destroyed.</p><p><strong>Parameters:</strong></p><p><em>ref</em> Large object instance</p><p><strong>Returns:</strong></p><p>Large object reference of this instance</p>
<h3>ssize_t OpenDBX::Lob::read (void *buffer, size_tbuflen)std::exception</h3>
<p>Reads content from large object into the buffer. To get the content of a large object, this method fetches the data in one or more pieces from the server and stores it into the user supplied buffer. The first call to <strong>read()</strong> will return the bytes from the beginning. The second and all other calls will store subsequent parts of the large object content into the buffer until the end of the data is reached. To reread the content a second time, you have to close the large object handle and reopen it again as some databases provide no way to reposition the internal file position indicator for the stream. The large object content fetched from the server is stored into the user supplied <em>buffer</em> up to <em>buflen</em> bytes.</p><p>The method returns the number of bytes placed into <em>buffer</em>, which may be up to <em>buflen</em> bytes. If the end of the content is reached and no more data is available, the return value will be 0 (zero).</p><p><strong>Parameters:</strong></p><p><em>buffer</em> Pointer to a byte array where the data should be written to</p><p><em>buflen</em> Length of the given buffer in bytes</p><p><strong>Returns:</strong></p><p>Number of bytes written into the buffer</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>
<h3>ssize_t OpenDBX::Lob::write (void *buffer, size_tbuflen)std::exception</h3>
<p>Writes data from the buffer into the large object. It sends the data supplied in buffer to the server for storing it inside the large object. The function can be called more than once to add subsequent parts of the content to the object. If it isn't a new or empty object, the existing data will be overwritten and truncated to the new size. It's not possible to update only parts of the content as some databases doesn't support to position the internal file position indicator. The data which should be send to the server is read from <em>buffer</em> up to <em>buflen</em> bytes.</p><p>The method returns the number of bytes read from <em>buffer</em> and sent to the database server, which may be up to <em>buflen</em> bytes. It isn't guaranteed that the complete chunk was sent to the server, so the returned size may be less than the value in <em>buflen</em>.</p><p><strong>Parameters:</strong></p><p><em>buffer</em> Pointer to a byte array where the content is stored</p><p><em>buflen</em> Length of the data in the buffer in bytes</p><p><strong>Returns:</strong></p><p>Number of bytes written into the large object</p><p><strong>Exceptions:</strong></p><p><em></em><strong>OpenDBX::Exception</strong><em></em><strong> If the underlying database library returns an error</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for opendbx from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="OpenDBX_Exception.3.html"><span aria-hidden="true">&larr;</span> OpenDBX_Exception.3: Exceptions thrown by the opendbx classes.</a></li>
   <li class="next"><a href="OpenDBX_Result.3.html">OpenDBX_Result.3: Provides result sets from the database. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
