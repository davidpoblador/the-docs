<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Array::Unique: Tie-able array that allows only unique values</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tie-able array that allows only unique values">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Array::Unique (3pm) manual">
  <meta name="twitter:description" content="Tie-able array that allows only unique values">
  <meta name="twitter:image" content="https://www.carta.tech/images/libarray-unique-perl-Array::Unique-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Array::Unique.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Array::Unique (3pm) manual" />
  <meta property="og:description" content="Tie-able array that allows only unique values" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libarray-unique-perl-Array::Unique-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Array::Unique<small> (3pm)</small></h1>
        <p class="lead">Tie-able array that allows only unique values</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Array::Unique.3pm.html">
      <span itemprop="name">Array::Unique: Tie-able array that allows only unique values</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libarray-unique-perl/">
      <span itemprop="name">libarray-unique-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Array::Unique.3pm.html">
      <span itemprop="name">Array::Unique: Tie-able array that allows only unique values</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use Array::Unique;
 tie @a, &apos;Array::Unique&apos;;

 Now use @a as a regular array.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This package lets you create an array which will allow only one occurrence of any value.</p><p>In other words no matter how many times you put in 42 it will keep only the first occurrence and the rest will be dropped.</p><p>You use the module via tie and once you tied your array to this module it will behave correctly.</p><p>Uniqueness is checked with the 'eq' operator so among other things it is case sensitive.</p><p>As a side effect the module does not allow undef as a value in the array.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p> use Array::Unique;  tie @a, &apos;Array::Unique&apos;;</p><p> @a = qw(a b c a d e f);  push @a, qw(x b z);  print "@a&#92;n";          # a b c d e f x z</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISCUSSION</h2>
        <div class="sectioncontent">
<p>When you are collecting a list of items and you want to make sure there is only one occurrence of each item, you have several option:</p>
<dl class='dl-vertical'>
  <dt>
    1) using an array and extracting the unique elements later
  </dt>
  <dd>
    <p>You might use a regular array to hold this unique set of values and either remove duplicates on each update by that keeping the array always unique or remove duplicates just before you want to use the uniqueness feature of the array. In either case you might run a function you call @a = unique_value(@a); The problem with this approach is that you have to implement the unique_value function (see later) \s-1AND\s0 you have to make sure you don't forget to call it. I would say don't rely on remembering this. There is good discussion about it in the 1st edition of the Perl Cookbook of O'Reilly. I have copied the solutions here, you can see further discussion in the book. Extracting Unique Elements from a List (Section 4.6 in the Perl Cookbook 1st ed.) # Straightforward  %seen = ();  @uniq = ();  foreach $item (@list) [      unless ($seen{$item}) {        # if we get here we have not seen it before        $seen{$item} = 1;        push (@uniq, $item);     }  } # Faster  %seen = ();  foreach $item (@list) {    push(@uniq, $item) unless $seen{$item}++;  } # Faster but different  %seen;  foreach $item (@list) {    $seen{$item}++;  }  @uniq = keys %seen;</p><p> # Faster and even more different  %seen;  @uniq = grep {! $seen{$_}++} @list;</p>
  </dd>
  <dt>
    2) using a hash
  </dt>
  <dd>
    <p>Some people use the keys of a hash to keep the items and put an arbitrary value as the values of the hash: To build such a list:  %unique = map { $_ =&gt; 1 } qw( one two one two three four! ); To print it:  print join ", ", sort keys %unique; To add values to it:  $unique{$_}=1 foreach qw( one after the nine oh nine ); To remove values:  delete @unique{ qw(oh nine) }; To check if a value is there:  $unique{ $value };        # which is why I like to use "1" as my value (thanks to Gaal Yahas for the above examples) There are three drawbacks I see:</p>
<dl class='dl-vertical'>
  <dt>
    1) You type more.
  </dt>
  <dd>
    
  </dd>
  <dt>
    2) Your reader might not understand at first why did you use hash and what will be the values.
  </dt>
  <dd>
    
  </dd>
  <dt>
    3) You lose the order.
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Usually non of them is critical but when I saw this the 10th time in a code I had to understand with 0 documentation I got frustrated.</p>
  </dd>
  <dt>
    3) using Array::Unique
  </dt>
  <dd>
    <p>So I decided to write this module because I got frustrated by my lack of understanding what's going on in that code I mentioned. In addition I thought it might be interesting to write this and then benchmark it. Additionally it is nice to have your name displayed in bright lights all over \s-1CPAN\s0 ... or at least in a module. Array::Unique lets you tie an array to hmmm, itself (?) and makes sure the values of the array are always unique. Since writing this I am not sure if I really recommend its usage. I would say stick with the hash version and document that the variable is aggregating a unique list of values.</p>
  </dd>
  <dt>
    4) Using real \s-1SET\s0
  </dt>
  <dd>
    <p>There are modules on \s-1CPAN\s0 that let you create and maintain SETs. I have not checked any of those but I guess they just as much of an overkill for this functionality as Unique::Array.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p> use Array::Unique;  tie @a, &apos;Array::Unique&apos;;</p><p> @c = @a = qw(a b c a d e f b);</p><p> @c will contain the same as @a AND two undefs at the end because  @c you get the same length as the right most list.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<p>Test:</p><p>Change size of the array Elements with false values ('', '0', 0)</p><p>   splice:    splice @a;    splice @a,  3;    splice @a, -3;    splice @a,  3,  5;    splice @a,  3, -5;    splice @a, -3,  5;    splice @a, -3, -5;    splice @a,  ?,  ?, @b;</p><p>Benchmark speed</p><p>Add faster functions that don't check uniqueness so if I know part of the data that comes from a unique source then I can speed up the process, In short shoot myself in the leg.</p><p>Enable optional compare with other functions</p><p>Write even better implementations.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Gabor Szabo &lt;gabor@pti.co.il&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2002-2008 Gabor Szabo &lt;gabor@pti.co.il&gt; All rights reserved.  http://www.pti.co.il/</p><p>You may distribute under the terms of either the \s-1GNU\s0 General Public License or the Artistic License, as specified in the Perl \s-1README\s0 file.</p><p>No \s-1WARRANTY\s0 whatsoever.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p> Thanks for suggestions and bug reports to  Szabo Balazs (dLux)  Shlomo Yona  Gaal Yahas  Jeff &apos;japhy&apos; Pinyan  Werner Weichselberger</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>Version: 0.08</p><p>Date:    2008 June 04</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Array::Diff.3pm.html"><span aria-hidden="true">&larr;</span> Array::Diff.3pm: Find the differences between two arrays</a></li>
   <li class="next"><a href="Aspect.3pm.html">Aspect.3pm: Aspect-oriented programming (aop) for perl <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
