<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Finance::YahooQuote: Get stock quotes from yahoo! finance</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Get stock quotes from yahoo! finance">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Finance::YahooQuote (3pm) manual">
  <meta name="twitter:description" content="Get stock quotes from yahoo! finance">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfinance-yahooquote-perl-Finance::YahooQuote-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Finance::YahooQuote.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Finance::YahooQuote (3pm) manual" />
  <meta property="og:description" content="Get stock quotes from yahoo! finance" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfinance-yahooquote-perl-Finance::YahooQuote-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Finance::YahooQuote<small> (3pm)</small></h1>
        <p class="lead">Get stock quotes from yahoo! finance</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Finance::YahooQuote.3pm.html">
      <span itemprop="name">Finance::YahooQuote: Get stock quotes from yahoo! finance</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfinance-yahooquote-perl/">
      <span itemprop="name">libfinance-yahooquote-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Finance::YahooQuote.3pm.html">
      <span itemprop="name">Finance::YahooQuote: Get stock quotes from yahoo! finance</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Finance::YahooQuote;
  # setting TIMEOUT and PROXY is optional
  $Finance::YahooQuote::TIMEOUT = 60;
  $Finance::YahooQuote::PROXY = "http://some.where.net:8080";
  @quote = getonequote $symbol; # Get a quote for a single symbol
  @quotes = getquote @symbols;  # Get quotes for a bunch of symbols
  useExtendedQueryFormat();     # switch to extended query format
  useRealtimeQueryFormat();     # switch to real-time query format
  @quotes = getquote @symbols;  # Get quotes for a bunch of symbols
  @quotes = getcustomquote(["DELL","IBM"], # using custom format
                           ["Name","Book Value"]); # note array refs
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module gets stock quotes from Yahoo! Finance.  The <strong>getonequote</strong> function will return a quote for a single stock symbol, while the <strong>getquote</strong> function will return a quote for each of the stock symbols passed to it.  <strong>getcustomquote</strong> allows to specify a format other than the default to take advantage of the extended range of available information.</p><p>The download operation is efficient: only one request is made even if several symbols are requested at once. The return value of <strong>getonequote</strong> is an array, with the following elements:</p><p>    0 Symbol     1 Company Name     2 Last Price     3 Last Trade Date     4 Last Trade Time     5 Change     6 Percent Change     7 Volume     8 Average Daily Vol     9 Bid     10 Ask     11 Previous Close     12 Today&apos;s Open     13 Day&apos;s Range     14 52-Week Range     15 Earnings per Share     16 P/E Ratio     17 Dividend Pay Date     18 Dividend per Share     19 Dividend Yield     20 Market Capitalization     21 Stock Exchange</p><p>If the extended format has been selected, the following fields are also retrieved:</p><p>    22 Short ratio     23 1yr Target Price     24 EPS Est. Current Yr     25 EPS Est. Next Year     26 EPS Est. Next Quarter     27 Price/EPS Est. Current Yr     28 Price/EPS Est. Next Yr     29 PEG Ratio     30 Book Value     31 Price/Book     32 Price/Sales     33 EBITDA     34 50-day Moving Avg     35 200-day Moving Avg</p><p>If the real-time format has been selected, the following fields are also retrieved:</p><p>    36 Ask (real-time)     37 Bid (real-time)     38 Change in Percent (real-time)     39 Last trade with time (real-time)     40 Change (real-time)     41 Day range (real-time)     42 Market-cap (real-time)</p><p>The <strong>getquote</strong> function returns an array of pointers to arrays with the above structure.</p><p>The <strong>getonequote</strong> function returns just one quote, rather than an array. It returns a simple array of values for the given symbol.</p><p>The <strong>setQueryString</strong> permits to supply a new query string that will be used for subsequent data requests.</p><p>The <strong>useExtendedQueryFormat</strong> and <strong>useRealtimeQueryFormat</strong> are simpler interfaces which append symbols to the default quote string, as detailed above.</p><p>The <strong>getcustomquote</strong> returns an array of quotes corresponding to values for the symbols supplied in the first array reference, and the custom fields supplied in the second array reference. Here the custom fields correspond to the 'named' fields of the list below.</p><p>Beyond stock quotes, <strong>Finance::YahooQuote</strong> can also obtain quotes for currencies (from the Philadephia exchange \*(-- however Yahoo! appears to have stopped to support the currency symbols in a reliable manner), \s-1US\s0 mutual funds, options on \s-1US\s0 stocks, several precious metals and quite possibly more; see the Yahoo! Finance website for full information. <strong>Finance::YahooQuote</strong> can be used for stocks from the \s-1USA\s0, Canada, various European exchanges, various Asian exchanges (Singapore, Taiwan, HongKong, Kuala Lumpur, ...) Australia and New Zealand. It should work for other markets supported by Yahoo.</p><p>You may optionally override the default \s-1LWP\s0 timeout of 180 seconds by setting $Finance::YahooQuote::TIMEOUT to your preferred value.</p><p>You may also provide a proxy (for the required http connection) by using the variable $Finance::YahooQuote::PROXY. Furthermore, authentication-based proxies can be used by setting the proxy user and password via the variables $Finance::YahooQuote::PROXYUSER and $Finance::YahooQuote::PROXYPASSWD.</p><p>Two example scripts are provided to help with the mapping a stock symbols as well as with Yahoo! Finance server codes. The regression tests scripts in the <strong>t/</strong> subdirectory of the source distribution also contain simple examples.</p><h3>The available custom fields</h3>
<p>The following list contains all the available data fields at Yahoo! along with the corresponding format string entry:</p><p>      Symbol                            s       Name                              n       Last Trade (With Time)            l       Last Trade (Price Only)           l1       Last Trade Date                   d1       Last Trade Time                   t1       Last Trade Size                   k3       Change and Percent Change         c       Change                            c1       Change in Percent                 p2       Ticker Trend                      t7       Volume                            v       Average Daily Volume              a2       More Info                         i       Trade Links                       t6       Bid                               b       Bid Size                          b6       Ask                               a       Ask Size                          a5       Previous Close                    p       Open                              o       Day&apos;s Range                       m       52-week Range                     w       Change From 52-wk Low             j5       Pct Chg From 52-wk Low            j6       Change From 52-wk High            k4       Pct Chg From 52-wk High           k5       Earnings/Share                    e       P/E Ratio                         r       Short Ratio                       s7       Dividend Pay Date                 r1       Ex-Dividend Date                  q       Dividend/Share                    d       Dividend Yield                    y       Float Shares                      f6       Market Capitalization             j1       1yr Target Price                  t8       EPS Est. Current Yr               e7       EPS Est. Next Year                e8       EPS Est. Next Quarter             e9       Price/EPS Est. Current Yr         r6       Price/EPS Est. Next Yr            r7       PEG Ratio                         r5       Book Value                        b4       Price/Book                        p6       Price/Sales                       p5       EBITDA                            j4       50-day Moving Avg                 m3       Change From 50-day Moving Avg     m7       Pct Chg From 50-day Moving Avg    m8       200-day Moving Avg                m4       Change From 200-day Moving Avg    m5       Pct Chg From 200-day Moving Avg   m6       Shares Owned                      s1       Price Paid                        p1       Commission                        c3       Holdings Value                    v1       Day&apos;s Value Change                w1,       Holdings Gain Percent             g1       Holdings Gain                     g4       Trade Date                        d2       Annualized Gain                   g3       High Limit                        l2       Low Limit                         l3       Notes                             n4       Last Trade (Real-time) with Time  k1       Bid (Real-time)                   b3       Ask (Real-time)                   b2       Change Percent (Real-time)        k2       Change (Real-time)                c6       Holdings Value (Real-time)        v7       Day&apos;s Value Change (Real-time)    w4       Holdings Gain Pct (Real-time)     g5       Holdings Gain (Real-time)         g6       Day&apos;s Range (Real-time)           m2       Market Cap (Real-time)            j3       P/E (Real-time)                   r2       After Hours Change (Real-time)    c8       Order Book (Real-time)            i5       Stock Exchange                    x</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FAQs</h2>
        <div class="sectioncontent">
<h3>How can one figure out the format string?</h3>
<p>Provided a My Yahoo! (http://my.yahoo.com) account, go to the following \s-1URL:\s0</p><p>    http://edit.my.yahoo.com/config/edit_pfview?.vk=v1</p><p>Viewing the source of this page, you will come across the section that defines the menus that let you select which elements go into a particular view.  The &lt;option&gt; values are the strings that pick up the information described in the menu item.  For example, Symbol refers to the string \*(L"s\*(R" and name refers to the string \*(L"l\*(R".  Using \*(L"sl\*(R" as the format string, we would get the symbol followed by the name of the security.</p><p>The example script <em>examine_server.sh</em> shows this in some more detail and downloads example .csv files using <strong>\s-1GNU\s0 wget</strong>.</p>
<h3>What about different stock symbols for the same corporation?</h3>
<p>This can be issue. For the first few years, Yahoo! Finance's servers appeared to be cover their respective local markets. E.g., the UK-based servers provided quotes for Europe, the Australian one for the Australia and New Zealand and so on.  Hence, one needed to branch and bound code and map symbols to their region's servers.</p><p>It now appears that this is no longer required, which is good news as it simplifies coding. However, some old symbols are no longer supported \*(-- yet other, and supported, codes exist for the same company.  For example, German stocks used to quoted in terms or their cusip-like '\s-1WKN\s0'. The main server does not support these, but does support newer, acronym-based symbols.  The example script examine_server.sh helps in finding the mapping as e.g. from 555750.F to \s-1DTEGN\s0.F for Deutsche Telekom.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 1998 - 2002 Dj Padzensky Copyright 2002 - 2007 Dirk Eddelbuettel</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the \s-1GNU\s0 General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>The information that you obtain with this library may be copyrighted by Yahoo! Inc., and is governed by their usage license.  See http://www.yahoo.com/docs/info/gen_disclaimer.html for more information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Dj Padzensky (\*(C`djpadz@padz.net\*(C'), PadzNet, Inc., wrote the original version. Dirk Eddelbuettel (\*(C`edd@debian.org\*(C') provided several extensions based on \s-1DJ\s0's original work and is the current maintainer.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Finance::YahooQuote&hellip;</h2>
        <div class="sectioncontent">
<p>The <strong>Finance::YahooQuote</strong> home pages are found at http://www.padz.net/~djpadz/YahooQuote/ and http://dirk.eddelbuettel.com/code/yahooquote.html.</p><p>The <strong>smtm</strong> (Show Me The Money) program uses Finance::YahooQuote for a customisable stock/portfolio ticker and chart display, see http://dirk.eddelbuettel.com/code/smtm.html for more.  The <strong>beancounter</strong> program uses it to store quotes in a \s-1SQL\s0 database, see http://dirk.eddelbuettel.com/code/beancounter.html.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Finance::QIF.3pm.html"><span aria-hidden="true">&larr;</span> Finance::QIF.3pm: Parse and create quicken interchange format files</a></li>
   <li class="next"><a href="Find::Lib.3pm.html">Find::Lib.3pm: Helper to smartly find libs to use in the filesystem tree <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
