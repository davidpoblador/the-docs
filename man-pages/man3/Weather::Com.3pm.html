<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Weather::Com: Fetching weather information from weather.com</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Fetching weather information from weather.com">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Weather::Com (3pm) manual">
  <meta name="twitter:description" content="Fetching weather information from weather.com">
  <meta name="twitter:image" content="https://www.carta.tech/images/libweather-com-perl-Weather::Com-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Weather::Com.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Weather::Com (3pm) manual" />
  <meta property="og:description" content="Fetching weather information from weather.com" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libweather-com-perl-Weather::Com-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Weather::Com<small> (3pm)</small></h1>
        <p class="lead">Fetching weather information from weather.com</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Weather::Com.3pm.html">
      <span itemprop="name">Weather::Com: Fetching weather information from weather.com</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libweather-com-perl/">
      <span itemprop="name">libweather-com-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Weather::Com.3pm.html">
      <span itemprop="name">Weather::Com: Fetching weather information from weather.com</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  #!/usr/bin/perl -w
  use Weather::Com::Finder;
</pre>
<p>  # you have to fill in your ids from weather.com here   my $PartnerId  = &apos;somepartnerid&apos;;   my $LicenseKey = &apos;mylicense&apos;;</p><p>  my %weatherargs = (         &apos;partner_id&apos; =&gt; $PartnerId,         &apos;license&apos;    =&gt; $LicenseKey,         &apos;language&apos;   =&gt; &apos;de&apos;,   );</p><p>  my $weather_finder = Weather::Com::Finder-&gt;new(%weatherargs);</p><p>  my @locations = $weather_finder-&gt;find(&apos;Heidelberg&apos;);</p><p>  foreach my $location (@locations) {     print "Found weather for city: ", $location-&gt;name(), "&#92;n";     print "Current Conditions are ",       $location-&gt;current_conditions()-&gt;description(), "&#92;n";   }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Weather::Com</em> provides three interfaces to access weather information from <em>weather.com</em>.</p><p>Except from the main high level interface, there is also a simple, very easy to use one called <em>Weather::Com::Simple</em>. And if you want, you can also use the low level interface that is the basis for the two high level interfaces, directly (<em>Weather::Com::Cached</em> or even <em>Weather::Com::Base</em>).</p><p>Please refer to the \s-1POD\s0 of these modules directly for detailed information.</p><p>The data provided by <em>weather.com</em> and made accessible by this \s-1OO\s0 interface can be used for free under special terms. Please have a look at the application programming guide of <em>weather.com</em> &lt;http://www.weather.com/services/xmloap.html&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LOCALIZATION</h2>
        <div class="sectioncontent">
<p>Weather-Com uses <em>Locale::Maketext</em> for the l10n. Foreach language there has to be package <em>Weather::Com::L10N::[langcode]</em> (e.g. <em>Weather::Com::L10N::de</em>).</p><p>Localization is new with version 0.4 of Weather-Com. Therefore, there are not too many languages supported, yet. If one wants to create such a language definition package for a language that is not part of this module, please do the following:</p>
<dl class='dl-vertical'>
  <dt>
    1.
  </dt>
  <dd>
    <p>check my homepage to verify that the language package has not been created by someone else, yet (&lt;http://www.schnuecker.org/index.php?weather-com&gt;).</p>
  </dd>
  <dt>
    2.
  </dt>
  <dd>
    <p>contact me to verify if anybody else already is already translating into this language</p>
  </dd>
  <dt>
    3.
  </dt>
  <dd>
    <p>just do it and send me your new language package. It then will be first put onto my website for download and then it will be part of the next release.</p>
  </dd>

</dl>
<p><strong>&#92;$1</strong></p><p>With version 0.5 of Weather-Com I have introduced a new feature called <em>dynamic language support</em>.</p><p>The language for all textual attributes that usually are translated in your default language you chose while creating your \*(C`Weather::Com::Finder\*(C' instance can now dynamically be changed on a <em>per-method-call basis</em>.</p><p>Have a look at this example:</p><p>  #!/usr/bin/perl -w   use Weather::Com::Finder;</p><p>  # you have to fill in your ids from weather.com here   my $PartnerId  = &apos;somepartnerid&apos;;   my $LicenseKey = &apos;mylicense&apos;;</p><p>  my %weatherargs = (         &apos;partner_id&apos; =&gt; $PartnerId,         &apos;license&apos;    =&gt; $LicenseKey,         &apos;language&apos;   =&gt; &apos;en&apos;,   );</p><p>  my $weather_finder = Weather::Com::Finder-&gt;new(%weatherargs);</p><p>  my @locations = $weather_finder-&gt;find(&apos;Heidelberg&apos;);</p><p>  foreach my $location (@locations) {     print "Found weather for city: ", $location-&gt;name(), "&#92;n";     print "Current Conditions are ",       $location-&gt;current_conditions()-&gt;description(), "&#92;n";</p><p>    # HERE WE USE DYNAMIC LANGUAGE SUPPORT     print "That is in German: ",       $location-&gt;current_conditions()-&gt;description(&apos;de&apos;), "&#92;n";   }</p><p>As you can see in this example, you can provide a language tag to a method that returns textual information.</p><p>If you want to find out if the <em>dynamic language support</em> is already implemented for a specific attribute of one Weather-Com class, have a look at the corresponding packages \s-1POD\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TUTORIAL</h2>
        <div class="sectioncontent">
<p>The usual way to use the <em>Weather::Com</em> module would be to instantiate a <em>Weather::Com::Finder</em> that allows you to search for a location by a search string or postal code or whatever <em>weather.com</em> may understand.</p><p>The finder returns an arrayref or an array of locations (depending on how you call the \*(C`find()\*(C' method). Each location is an object of <em>Weather::Com::Location</em>.</p><p>The locations consist of location specific data, a <em>Weather::Com::CurrentConditions</em> object, a <em>Weather::Com::Forecast</em> object and a <em>Weather::Com::Units</em> object. You will need a configuration hash to instantiate a <em>Weather::Com::Finder</em> object. Except of the <em>partner_id</em> and the <em>license</em> all parameters are optional and have sensible defaults.</p><p>  use Weather::Com::Finder;</p><p>  my %config = (         partner_id =&gt; &apos;somepartnerid&apos;,  # mandatory         license    =&gt; &apos;somelicensekey&apos;  # mandatory         language   =&gt; &apos;de&apos;,         units      =&gt; &apos;s&apos;,         cache      =&gt; &apos;/tmp/weather&apos;,         timeout    =&gt; 300,         debug      =&gt; 1,         proxy      =&gt; &apos;http://some.proxy.de:8080&apos;,         proxy_user =&gt; &apos;myaccount&apos;,         proxy_pass =&gt; &apos;myproxy_pass&apos;   );</p><p>The valid parameters are:</p>
<dl class='dl-vertical'>
  <dt>
    partner_id =&gt; 'somepartnerid'
  </dt>
  <dd>
    <p>To be allowed to fetch weather information from <em>weather.com</em> you need to register (free of charge) to get a so called <em>Partner Id</em> and a <em>License Key</em>.</p>
  </dd>
  <dt>
    license =&gt; 'somelicensekey'
  </dt>
  <dd>
    <p>See <em>partner_id</em>.</p>
  </dd>
  <dt>
    language =&gt; 'somelanguagecode'
  </dt>
  <dd>
    <p><em>weather.com</em> returns some textual data to describe the weather conditions, uv index, moon phase, wind direction, etc. If one specifies a valid language as configuration parameter, this textual descriptions are translated into that language. If one specifies a language for that there's no translation, the objects will return the english texts.</p>
  </dd>
  <dt>
    cache =&gt; '/any/path'
  </dt>
  <dd>
    <p>Maybe you want to define a special path to put the cache files into. The cache directory defaults to \*(L".\*(R".</p>
  </dd>
  <dt>
    units =&gt; s | m
  </dt>
  <dd>
    <p>This parameter defines whether to fetch information in metric (m) or \s-1US\s0 (s) format. Defaults to 'm'.</p>
  </dd>
  <dt>
    timeout =&gt; some integer (in seconds)
  </dt>
  <dd>
    <p>The timeout for <em>LWP::UserAgent</em> to get an \s-1HTTP\s0 request done usually is set to 180s. If you need a longer timeout or for some reasons a shorter one you can set this here. Defaults to 180 seconds.</p>
  </dd>
  <dt>
    debug =&gt; 0 | 1
  </dt>
  <dd>
    <p>Set debugging on/off. Defaults to 0 (off).</p>
  </dd>
  <dt>
    proxy =&gt; 'none' | 'http://some.proxy.de:8080'
  </dt>
  <dd>
    <p>Usually no proxy is used by the <em>LWP::UserAgent</em> module used to communicate with <em>weather.com</em>. If you want to use an \s-1HTTP\s0 proxy you can specify one here.</p>
  </dd>
  <dt>
    proxy_user =&gt; undef | 'myuser'
  </dt>
  <dd>
    <p>If specified, this parameter is provided to the proxy for authentication purposes. Defaults to <em>undef</em>.</p>
  </dd>
  <dt>
    proxy_pass =&gt; undef | 'mypassword'
  </dt>
  <dd>
    <p>If specified, this parameter is provided to the proxy for authentication purposes. Defaults to <em>undef</em>. Usually one would start by searching for a location. This is done by instantiating a <em>Weather::Com::Finder</em> object providing all necessary information about the <em>weather.com</em> license, the proxy if one is needed, etc.</p>
  </dd>

</dl>
<p>  my $finder = Weather::Com::Finder-&gt;new(%config);</p><p>Then you call the finders \*(C`find()\*(C' method to search for locations whose name or whose postal code matches against the searchstring. The finder then returns an array (or arrayref) of <em>Weather::Com::Location</em> objects.</p><p>  # if you want an array of locations:   my @locations = $finder-&gt;find(&apos;Heidelberg&apos;);</p><p>  # or if you prefer an arrayref:   my $locations = $finder-&gt;find(&apos;Heidelberg&apos;);</p><p>For further information please refer to Weather::Com::Finder. The <em>Weather::Com::Location</em> object contains information about the location itself (longitude, latitude, current local time, etc.), a <em>Weather::Com::Units</em> object that contains all information about the units of messures currently used with this location, and a <em>Weather::Com::CurrentConditions</em> object containing the current weather conditions of the location.</p><p>  foreach my $location (@locations) {         print "Found location with name: ", $location-&gt;name(), "&#92;n";         print "The longitude of this location is: ", $location-&gt;longitude(), "&#92;n";   }</p><p>All information in the <em>Weather::Com::Location</em> object is updated with each single call of one of its methods corresponding to the caching rules implemented in <em>Weather::Com::Cached</em>.</p><p>For detailed information about the <em>Weather::Com::Location</em> class please refer to Weather::Com::Location. The units class provides all units of measure corresponding to the data of the location object. You'll get an instance of this class by calling the \*(C`units()\*(C' method of your location object.</p><p>For detailed information about the <em>Weather::Com::Units</em> class please refer to Weather::Com::Units. Each location has a <em>Weather::Com::CurrentConditions</em> object accessible via its \*(C`current_conditions()\*(C' method.</p><p>  my $conditions = $location-&gt;current_conditions();   print "Current temperature is ", $conditions-&gt;temperature(), "°C&#92;n";   print "but it feels like ", $conditions-&gt;windchill(), "°C!&#92;n";</p><p>Anytime you call a method of your <em>Weather::Com::CurrentConditions</em> object, its data is refreshed automatically if needed according to the caching rules.</p><p>For detailed information about this class please refer to Weather::Com::CurrentConditions. Each location has a <em>Weather::Com::Forecast</em> object to access weather forecasts. <em>weather.com</em> provides up to 9 days of forecast - or 10 days if one wants to count day 0 which is <em>today</em> in most cases.</p><p>  my $forecast = $location-&gt;forecast();   print "Max. temperature tomorrow will be ", $forecast-&gt;<strong>day</strong>(1)-&gt;high(), "°C&#92;n";</p><p>Any time you call a method of your <em>Weather::Com::Forecast</em> object, forecast data is updated if necessary.</p><p>For detailed information about this class please refer to Weather::Com::Forecast. There are a some other classes that are used to represent groups of weather data like wind (speed, direction, etc.), \s-1UV\s0 index, air pressure, etc.</p><p>Objects of these classes belong to objects of class <em>Weather::Com::CurrentConditions</em> or <em>Weather::Com::Forecast</em> that will be introduced with the next release. These objects data will only refresh when you call the corresponding method of the parent object.</p><p>For detailed information about these classes please refer to their own \s-1POD\s0.</p><p>Classes available with this version are:</p><p><em>Weather::Com::AirPressure</em></p><p>Provides access to the barometric pressure data.</p><p>For detailed information about this class please refer to Weather::Com::AirPressure.</p><p><em>Weather::Com::UVIndex</em></p><p>Provides access to the uv index of the parent object.</p><p>For detailed information about this class please refer to Weather::Com::UVIndex.</p><p><em>Weather::Com::Wind</em></p><p>Provides access to wind speed, maximum gust, direction in degrees, etc.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXTENSIONS</h2>
        <div class="sectioncontent">
<p>If you plan to extend these module, e.g. with some other caching mechanisms, please contact me. Perhaps we can add your stuff to this module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Weather::Com&hellip;</h2>
        <div class="sectioncontent">
<p>Weather::Com::Finder, Weather::Com::Location, Weather::Com::Units, Weather::Com::CurrentConditions, Weather::Com::AirPressure, Weather::Com::UVIndex, Weather::Com::Wind Weather::Com::Simple Weather::Com::Cached and Weather::Com::Base</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS/SUPPORT/PRE-RELEASES</h2>
        <div class="sectioncontent">
<p>If you want to report a bug, please use the \s-1CPAN\s0 bug reporting tool.</p><p>If you have any question, suggestion, feature request, etc. please use the \s-1CPAN\s0 forum.</p><p>If you are looking for fixes, pre-releases, etc. have a look at my website &lt;http://www.schnuecker.org/index.php?weather-com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Thomas Schnuecker, &lt;thomas@schnuecker.de&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2004-2007 by Thomas Schnuecker</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>The data provided by <em>weather.com</em> and made accessible by this \s-1OO\s0 interface can be used for free under special terms. Please have a look at the application programming guide of <em>weather.com</em> (&lt;http://www.weather.com/services/xmloap.html&gt;)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="WWWBrowser.3pm.html"><span aria-hidden="true">&larr;</span> WWWBrowser.3pm: Platform independent means to start a www browser</a></li>
   <li class="next"><a href="Weather::Com::AirPressure.3pm.html">Weather::Com::AirPressure.3pm: Class containing barometric pressure data <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
