<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gearman::Server::Client: Used by gearman::server to instantiate connections from clients. clients speak either a binary protocol, for normal operation (calling functions, grabbing function call requests, returning function values, etc), or a text-based line protocol, for relatively rare administrative / monitoring commands.  the binary protocol commands aren't currently documented. (\s-1fixme\s0) but they're well-implemented in gearman::client, gearman::worker, and gearman::client::async, if that's any consolation.  the line-based administrative commands are documented below.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Used by gearman::server to instantiate connections from clients. clients speak either a binary protocol, for normal operation (calling functions, grabbing function call requests, returning function values, etc), or a text-based line protocol, for relatively rare administrative / monitoring commands.  the binary protocol commands aren't currently documented. (\s-1fixme\s0) but they're well-implemented in gearman::client, gearman::worker, and gearman::client::async, if that's any consolation.  the line-based administrative commands are documented below.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Gearman::Server::Client (3pm) manual">
  <meta name="twitter:description" content="Used by gearman::server to instantiate connections from clients. clients speak either a binary protocol, for normal operation (calling functions, grabbing function call requests, returning function values, etc), or a text-based line protocol, for relatively rare administrative / monitoring commands.  the binary protocol commands aren't currently documented. (\s-1fixme\s0) but they're well-implemented in gearman::client, gearman::worker, and gearman::client::async, if that's any consolation.  the line-based administrative commands are documented below.">
  <meta name="twitter:image" content="https://www.carta.tech/images/gearman-server-Gearman::Server::Client-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Gearman::Server::Client.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Gearman::Server::Client (3pm) manual" />
  <meta property="og:description" content="Used by gearman::server to instantiate connections from clients. clients speak either a binary protocol, for normal operation (calling functions, grabbing function call requests, returning function values, etc), or a text-based line protocol, for relatively rare administrative / monitoring commands.  the binary protocol commands aren't currently documented. (\s-1fixme\s0) but they're well-implemented in gearman::client, gearman::worker, and gearman::client::async, if that's any consolation.  the line-based administrative commands are documented below." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gearman-server-Gearman::Server::Client-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Gearman::Server::Client<small> (3pm)</small></h1>
        <p class="lead">Used by gearman::server to instantiate connections from clients. clients speak either a binary protocol, for normal operation (calling functions, grabbing function call requests, returning function values, etc), or a text-based line protocol, for relatively rare administrative / monitoring commands.  the binary protocol commands aren't currently documented. (\s-1fixme\s0) but they're well-implemented in gearman::client, gearman::worker, and gearman::client::async, if that's any consolation.  the line-based administrative commands are documented below.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Gearman::Server::Client.3pm.html">
      <span itemprop="name">Gearman::Server::Client: Used by gearman::server to instantiate connections from clients. clients speak either a binary protocol, for normal operation (calling functions, grabbing function call requests, returning function values, etc), or a text-based line protocol, for relatively rare administrative / monitoring commands.  the binary protocol commands aren't currently documented. (\s-1fixme\s0) but they're well-implemented in gearman::client, gearman::worker, and gearman::client::async, if that's any consolation.  the line-based administrative commands are documented below.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gearman-server/">
      <span itemprop="name">gearman-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Gearman::Server::Client.3pm.html">
      <span itemprop="name">Gearman::Server::Client: Used by gearman::server to instantiate connections from clients. clients speak either a binary protocol, for normal operation (calling functions, grabbing function call requests, returning function values, etc), or a text-based line protocol, for relatively rare administrative / monitoring commands.  the binary protocol commands aren't currently documented. (\s-1fixme\s0) but they're well-implemented in gearman::client, gearman::worker, and gearman::client::async, if that's any consolation.  the line-based administrative commands are documented below.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Binary Protocol Structure</h2>
        <div class="sectioncontent">
<p>All binary protocol exchanges between clients (which can be callers, workers, or both) and the Gearman server have common packet header:</p>
<pre>
  4 byte magic  -- either "&#92;0REQ" for requests to the server, or
                   "&#92;0RES" for responses from the server
  4 byte type   -- network order integer, representing the packet type
  4 byte length -- network order length, for data segment.
  data          -- optional, if length is non-zero
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Binary Protocol Commands</h2>
        <div class="sectioncontent">
<h3>echo_req (type=16)</h3>
<p>A debug command.  The server will reply with the same data, in a echo_res (type=17) packet.</p>
<h3>(and many more...)</h3>
<p>\s-1FIXME:\s0 auto-generate protocol docs from internal Gearman::Util table, once annotated with some English?</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Line based commands</h2>
        <div class="sectioncontent">
<p>These commands are used for administrative or statistic tasks to be done on the gearman server. They can be entered using a line based client (telnet, etc.) by connecting to the listening port (7003) and are also intended to be machine parsable. Emits list of registered workers, their fds, IPs, client ids, and list of registered abilities (function names they can do).  Of format:</p><p>  fd ip.x.y.z client_id : func_a func_b func_c   fd ip.x.y.z client_id : func_a func_b func_c   fd ip.x.y.z client_id : func_a func_b func_c   .</p><p>It ends with a line with just a period. The output format of this function is tab separated columns as follows, followed by a line consisting of a fullstop and a newline (\*(L".&#92;n\*(R") to indicate the end of output.</p>
<dl class='dl-vertical'>
  <dt>
    Function name
  </dt>
  <dd>
    <p>A string denoting the name of the function of the job</p>
  </dd>
  <dt>
    Number in queue
  </dt>
  <dd>
    <p>A positive integer indicating the total number of jobs for this function in the queue. This includes currently running ones as well (next column)</p>
  </dd>
  <dt>
    Number of jobs running
  </dt>
  <dd>
    <p>A positive integer showing how many jobs of this function are currently running</p>
  </dd>
  <dt>
    Number of capable workers
  </dt>
  <dd>
    <p>A positive integer denoting the maximum possible count of workers that could be doing this job. Though they may not all be working on it due to other tasks holding them busy. Output format is zero or more lines of:</p>
  </dd>

</dl>
<p>    [Job function name]&#92;t[Uniq (coalescing) key]&#92;t[Worker address]&#92;t[Number of listeners]&#92;n</p><p>Follows by a single line of:</p><p>    .&#92;n</p><p>&#92;t is a literal tab character &#92;n is perl's definition of newline (literal &#92;n on linux, something else on win32) Output format is zero or more sections of:</p><p>One line of:     [Client Address]&#92;n Followed by zero or more lines of:     &#92;t[Job Function]&#92;t[Uniq (coalescing) key]&#92;t[Worker Address]&#92;n</p><p>Follows by a single line of:</p><p>    .&#92;n</p><p>&#92;t is a literal tab character &#92;n is perl's definition of newline (literal &#92;n on linux, something else on win32) For a given function of job, the maximum queue size is adjusted to be max_queue_size jobs long. A negative value indicates unlimited queue size.</p><p>If the max_queue_size value is not supplied then it is unset (and the default maximum queue size will apply to this function).</p><p>This function will return \s-1OK\s0 upon success, and will return \s-1ERR\s0 incomplete_args upon an invalid number of arguments. Close the server.  Or \*(L"shutdown graceful\*(R" to close the listening socket, then close the server when traffic has died away. Returns server version.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Gearman::Server.3pm.html"><span aria-hidden="true">&larr;</span> Gearman::Server.3pm: Function call "router" and load balancer</a></li>
   <li class="next"><a href="Genome.3pm.html">Genome.3pm: Pipelines, tools, and data management for genomics <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
