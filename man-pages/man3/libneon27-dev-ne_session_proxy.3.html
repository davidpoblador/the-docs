<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ne_session_proxy: Configure proxy servers</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configure proxy servers">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ne_session_proxy (3) manual">
  <meta name="twitter:description" content="Configure proxy servers">
  <meta name="twitter:image" content="https://www.carta.tech/images/libneon27-dev-ne_session_proxy-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/libneon27-dev-ne_session_proxy.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ne_session_proxy (3) manual" />
  <meta property="og:description" content="Configure proxy servers" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libneon27-dev-ne_session_proxy-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ne_session_proxy<small> (3)</small></h1>
        <p class="lead">Configure proxy servers</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ne_session_proxy.3.html">
      <span itemprop="name">ne_session_proxy: Configure proxy servers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libneon27-dev/">
      <span itemprop="name">libneon27-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ne_session_proxy.3.html">
      <span itemprop="name">ne_session_proxy: Configure proxy servers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;ne_session.h&gt;
</pre>
<p><strong>void ne_session_proxy(ne_session&nbsp;*</strong><em>session</em><strong>, const&nbsp;char&nbsp;*</strong><em>hostname</em><strong>, unsigned&nbsp;int&nbsp;</strong><em>port</em><strong>);</strong> <strong>void ne_session_system_proxy(ne_session&nbsp;*</strong><em>session</em><strong>, unsigned&nbsp;int&nbsp;</strong><em>flags</em><strong>);</strong> <strong>void ne_session_socks_proxy(ne_session&nbsp;*</strong><em>session</em><strong>, enum&nbsp;ne_sock_sversion&nbsp;</strong><em>version</em><strong>, const&nbsp;char&nbsp;*</strong><em>hostname</em><strong>, unsigned&nbsp;int&nbsp;</strong><em>port</em><strong>, const&nbsp;char&nbsp;*</strong><em>username</em><strong>, const&nbsp;char&nbsp;*</strong><em>password</em><strong>);</strong> <strong>void ne_set_addrlist(ne_session&nbsp;*</strong><em>session</em><strong>, const&nbsp;ne_inet_addr&nbsp;**</strong><em>addrlist</em><strong>, size_t&nbsp;</strong><em>count</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>One (and no more than one) of the functions <strong>ne_session_proxy</strong>, <strong>ne_session_system_proxy</strong>, <strong>ne_session_socks_proxy</strong>, <strong>ne_set_addrlist</strong> can be used to configure a proxy server for a given session object. If more than one function is invoked for any given session object, only the last call has effect. If one of the functions is to be used, it must be used before the creation of any request object for the session.</p><h3>HTTP proxy specification</h3>
<p>The <strong>ne_session_proxy</strong> function configures use of an HTTP proxy server for the session, the location of which is given by the <em>hostname</em> and <em>port</em> paramters. If the proxy requires authentication, ne_set_proxy_auth should be used.</p>
<h3>System proxy configuration</h3>
<p>The <strong>ne_session_system_proxy</strong> function configures the session to use any proxy servers specified by the system configuration. Support for this function is platform-specific; if unsupported, the function has no effect.</p>
<h3>SOCKS proxy configuration</h3>
<p>The <strong>ne_session_socks_proxy</strong> function configures the session to use a SOCKS proxy. The <em>version</em> indicates which version of the SOCKS protocol should be used. The <em>hostname</em> and <em>port</em> parameters specify the SOCKS proxy location. Note that a server with only an IPv6 address cannot be used with SOCKS v4 or v4A. The interpretation of the other arguments depends on the version specified:</p><p><strong>NE_SOCK_SOCKSV4</strong> (version 4)</p><p>The <em>username</em> parameter must be non-NULL; the <em>password</em> parameter is ignored.</p><p><strong>NE_SOCK_SOCKSV4A</strong> (version 4A)</p><p>The <em>username</em> parameter must be non-NULL; the <em>password</em> parameter is ignored.</p><p><strong>NE_SOCK_SOCKSV5</strong> (version 5)</p><p>The <em>username</em> parameter may be NULL; if it is non-NULL, the <em>password</em> parameter must also be non-NULL; otherwise, it is ignored..</p>
<h3>Origin server address override</h3>
<p>The <strong>ne_set_addrlist</strong> function forces use of an address and port the a specified list when establishing a TCP connection, ignoring the "real" hostname and port identifying the origin server for the session (as passed to <strong>ne_session_create</strong>). The origin server&apos;s "real" hostname and port will still be used in the Host header in HTTP requests. When a connection is required, the library will iterate through the <em>addrlist</em> list, attempting to connect to the address <em>addrlist[0]</em> through to <em>addrlist[count-1]</em> in turn, until a connection can be established.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>None of the functions described here has a return value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Create and destroy a session:</p>
<pre>
ne_session *sess;
sess = ne_session_create("http", "host.example.com", 80);
ne_session_proxy(sess, "proxy.example.com", 3128);
/* ... use sess ... */
ne_session_destroy(sess);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ne_session_proxy&hellip;</h2>
        <div class="sectioncontent">
<p>ne_ssl_set_verify, ne_ssl_trust_cert, ne_sock_init, ne_set_session_flag</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Joe Orton</strong> &lt;neon@lists.manyfish.co.uk&gt;</p><p>Author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libneon27-gnutls-dev-ne_session_create.3.html"><span aria-hidden="true">&larr;</span> ne_session_create.3: Set up http sessions</a></li>
   <li class="next"><a href="libneon27-gnutls-dev-ne_session_proxy.3.html">ne_session_proxy.3: Configure proxy servers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
