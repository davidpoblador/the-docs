<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ibv_query_device: Query an rdma device's attributes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Query an rdma device's attributes">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ibv_query_device (3) manual">
  <meta name="twitter:description" content="Query an rdma device's attributes">
  <meta name="twitter:image" content="https://www.carta.tech/images/libibverbs-dev-ibv_query_device-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ibv_query_device.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ibv_query_device (3) manual" />
  <meta property="og:description" content="Query an rdma device's attributes" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libibverbs-dev-ibv_query_device-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ibv_query_device<small> (3)</small></h1>
        <p class="lead">Query an rdma device's attributes</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ibv_query_device.3.html">
      <span itemprop="name">ibv_query_device: Query an rdma device's attributes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libibverbs-dev/">
      <span itemprop="name">libibverbs-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ibv_query_device.3.html">
      <span itemprop="name">ibv_query_device: Query an rdma device's attributes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;infiniband/verbs.h&gt;</strong>

<strong>int ibv_query_device(struct ibv_context </strong><em>*context</em><strong>,</strong>
<strong>                     struct ibv_device_attr </strong><em>*device_attr</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ibv_query_device()</strong> returns the attributes of the device with context <em>context</em>. The argument <em>device_attr</em> is a pointer to an ibv_device_attr struct, as defined in &lt;infiniband/verbs.h&gt;.</p>
<pre>
struct ibv_device_attr {
char                    fw_ver[64];             /* FW version */
uint64_t                node_guid;              /* Node GUID (in network byte order) */
uint64_t                sys_image_guid;         /* System image GUID (in network byte order) */
uint64_t                max_mr_size;            /* Largest contiguous block that can be registered */
uint64_t                page_size_cap;          /* Supported memory shift sizes */
uint32_t                vendor_id;              /* Vendor ID, per IEEE */
uint32_t                vendor_part_id;         /* Vendor supplied part ID */
uint32_t                hw_ver;                 /* Hardware version */
int                     max_qp;                 /* Maximum number of supported QPs */
int                     max_qp_wr;              /* Maximum number of outstanding WR on any work queue */
int                     device_cap_flags;       /* HCA capabilities mask */
int                     max_sge;                /* Maximum number of s/g per WR for non-RD QPs */
int                     max_sge_rd;             /* Maximum number of s/g per WR for RD QPs */
int                     max_cq;                 /* Maximum number of supported CQs */
int                     max_cqe;                /* Maximum number of CQE capacity per CQ */
int                     max_mr;                 /* Maximum number of supported MRs */
int                     max_pd;                 /* Maximum number of supported PDs */
int                     max_qp_rd_atom;         /* Maximum number of RDMA Read & Atomic operations that can be outstanding per QP */
int                     max_ee_rd_atom;         /* Maximum number of RDMA Read & Atomic operations that can be outstanding per EEC */
int                     max_res_rd_atom;        /* Maximum number of resources used for RDMA Read & Atomic operations by this HCA as the Target */
int                     max_qp_init_rd_atom;    /* Maximum depth per QP for initiation of RDMA Read & Atomic operations */
int                     max_ee_init_rd_atom;    /* Maximum depth per EEC for initiation of RDMA Read & Atomic operations */
enum ibv_atomic_cap     atomic_cap;             /* Atomic operations support level */
int                     max_ee;                 /* Maximum number of supported EE contexts */
int                     max_rdd;                /* Maximum number of supported RD domains */
int                     max_mw;                 /* Maximum number of supported MWs */
int                     max_raw_ipv6_qp;        /* Maximum number of supported raw IPv6 datagram QPs */
int                     max_raw_ethy_qp;        /* Maximum number of supported Ethertype datagram QPs */
int                     max_mcast_grp;          /* Maximum number of supported multicast groups */
int                     max_mcast_qp_attach;    /* Maximum number of QPs per multicast group which can be attached */
int                     max_total_mcast_qp_attach;/* Maximum number of QPs which can be attached to multicast groups */
int                     max_ah;                 /* Maximum number of supported address handles */
int                     max_fmr;                /* Maximum number of supported FMRs */
int                     max_map_per_fmr;        /* Maximum number of (re)maps per FMR before an unmap operation in required */
int                     max_srq;                /* Maximum number of supported SRQs */
int                     max_srq_wr;             /* Maximum number of WRs per SRQ */
int                     max_srq_sge;            /* Maximum number of s/g per SRQ */
uint16_t                max_pkeys;              /* Maximum number of partitions */
uint8_t                 local_ca_ack_delay;     /* Local CA ack delay */
uint8_t                 phys_port_cnt;          /* Number of physical ports */
};
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p><strong>ibv_query_device()</strong> returns 0 on success, or the value of errno on failure (which indicates the failure reason).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The maximum values returned by this function are the upper limits of supported resources by the device.  However, it may not be possible to use these maximum values, since the actual number of any resource that can be created may be limited by the machine configuration, the amount of host memory, user permissions, and the amount of resources already in use by other users/processes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ibv_query_device&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ibv_open_device.3.html"><strong>ibv_open_device</strong>(3)</a>, <a href="../man3/ibv_query_port.3.html"><strong>ibv_query_port</strong>(3)</a>, <a href="../man3/ibv_query_pkey.3.html"><strong>ibv_query_pkey</strong>(3)</a>, <a href="../man3/ibv_query_gid.3.html"><strong>ibv_query_gid</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Dotan Barak &lt;dotanba@gmail.com&gt;</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ibv_post_srq_recv.3.html"><span aria-hidden="true">&larr;</span> ibv_post_srq_recv.3: Post a list of work requests (wrs) to a shared receive queue (srq)</a></li>
   <li class="next"><a href="ibv_query_gid.3.html">ibv_query_gid.3: Query an infiniband port's gid table <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
