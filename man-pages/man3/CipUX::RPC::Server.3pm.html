<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CipUX::RPC::Server: Rpc server class for cipux</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Rpc server class for cipux">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CipUX::RPC::Server (3pm) manual">
  <meta name="twitter:description" content="Rpc server class for cipux">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcipux-rpc-perl-CipUX::RPC::Server-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/CipUX::RPC::Server.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CipUX::RPC::Server (3pm) manual" />
  <meta property="og:description" content="Rpc server class for cipux" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcipux-rpc-perl-CipUX::RPC::Server-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CipUX::RPC::Server<small> (3pm)</small></h1>
        <p class="lead">Rpc server class for cipux</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CipUX::RPC::Server.3pm.html">
      <span itemprop="name">CipUX::RPC::Server: Rpc server class for cipux</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcipux-rpc-perl/">
      <span itemprop="name">libcipux-rpc-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CipUX::RPC::Server.3pm.html">
      <span itemprop="name">CipUX::RPC::Server: Rpc server class for cipux</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 3.4.0.9</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use CipUX::RPC::Server;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Provides the functions for CipUX \s-1RPC\s0 server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ABSTRACT</h2>
        <div class="sectioncontent">
<p>The CipUX rpc server is a generic abstract class, which can be used by other classes or scripts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBROUTINES/METHODS</h2>
        <div class="sectioncontent">
<p>The following functions are implemented or supported by CipUX::RPC::Server.</p><h3>\s-1BUILD\s0</h3>
<p>Constructor, see new.</p>
<h3>\s-1DEMOLISH\s0</h3>
<p>Destructor.</p>
<h3>new</h3>
<p>Constructor</p><p><strong>Syntax:</strong></p><p>  my $cipux_rpc = CipUX::RPC::Server-&gt;new();</p>
<h3>check_authentication</h3>
<p>Check weather the login has access or not.</p>
<h3>is_ticket_bad</h3>
<p>Return 1 if a ticket is \s-1OK\s0 otherwise 0;</p>
<h3>signal_handler</h3>
<p>Install signal_handler alias time to die.</p><p><strong>Syntax:</strong></p><p> $server-&gt;signal_handler({});</p>
<h3>answer_requests</h3>
<p>Answer Requests.</p><p><strong>Syntax:</strong></p><p> $server-&gt;answer_requests({      port=&gt;8000,      address=&gt;&apos;localhost&apos;,      reuse=&gt;0,      proto=&gt;&apos;tcp&apos;,      meth_hr=&gt;TODO      task_hr=&gt;TODO  });</p>
<h3>check_access_to_task</h3>
<p>Check the access for login to a task.</p>
<h3>check_access_to_rpc_intern</h3>
<p>Check the access for login to the rpc_intern section.</p>
<h3>check_access_to_cat_module</h3>
<p>Check the access for login to a \s-1CAT\s0 module.</p>
<h3>error</h3>
<p>Construct an error message.</p>
<h3>evaluate_access</h3>
<p>Evaluate the access to login or a given user depending on the sub command (subcmd) of rpc_info or rpc_intern for one or more realms. Known realms are: task, cat_module, rpc_intern.</p>
<h3>update_task</h3>
<p>Check and update tasks entries.</p>
<h3>update_cat_module</h3>
<p>Check and update \s-1CAT\s0 modules entries.</p>
<h3>log2syslog</h3>
<p>Log a given message to syslog.</p>
<h3>get_config</h3>
<p>Return the value for a given configuration variable.</p>
<h3>rpc_list_functions</h3>
<p>List the rpc functions.</p>
<h3>rpc_start</h3>
<p>Start the \s-1RPC\s0 server.</p><p><strong>Syntax:</strong></p><p> $server-&gt;rpc_start({});</p>
<h3>ping</h3>
<p>The function 'ping' is for testing the connection. It requires not to log in and no arguments. It returns '\s-1OK\s0'.</p>
<h3>version</h3>
<p>Return the CipUX version.</p>
<h3>sum</h3>
<p>The function 'sum' is for testing the connection. It requires not to log in and 2 arguments. It returns the sum of the arguments as a hash reference with a single line.</p>
<h3>login</h3>
<p>Perform a login.</p>
<h3>logout</h3>
<p>Perform a logout.</p>
<h3>session</h3>
<p>Check the ticket and if it is valid update and return a new ticket.</p>
<h3>ttl</h3>
<p>Return the Time To Live. Default 900 seconds.</p>
<h3>rpc_task</h3>
<p>Execute a CipUX::Task.</p>
<h3>rpc_info</h3>
<p>Execute a rpc_info sub-command.</p><p><em>task_access</em></p><p>Needs parameter: \s-1TASK\s0</p><p><em>task_access_survey</em></p><p>Needs parameter: \s-1TASK\s0 [\s-1TASK\s0] ...</p><p><em>cat_module_access</em></p><p>Needs parameter: \s-1MODULE\s0</p><p><em>cat_module_access_survey</em></p><p>Needs parameter: \s-1MODULE\s0 [\s-1MODULE\s0] ...</p><p><em>rpc_intern_access</em></p><p>Needs parameter: \s-1COMMAND\s0</p><p><em>rpc_intern_access_survey</em></p><p>Needs parameter: \s-1COMMAND\s0 [\s-1COMMAND\s0] ...</p>
<h3>rpc_intern</h3>
<p>Execute a rpc_intern sub-command.</p><p><em>ttl</em></p><p>Prints current \s-1TTL\s0 in seconds</p><p><em>cat_module_cache_size</em></p><p>Prints current cat module cache size</p><p><em>rpc_intern_cache_size</em></p><p>Prints current rpc intern cache size</p><p><em>task_cache_size</em></p><p>Prints current task_cache_size of cache</p><p><em>user_task_access</em></p><p>Needs parameter: \s-1USER\s0 \s-1TASK\s0</p><p><em>user_task_access_survey</em></p><p>Needs parameter: $USER \s-1TASK\s0 [\s-1TASK\s0] ...</p><p><em>user_cat_module_access</em></p><p>Needs parameter: \s-1USER\s0 \s-1MODULE\s0</p><p><em>user_cat_module_access_survey</em></p><p>Needs parameter: \s-1USER\s0 \s-1MODULE\s0 [\s-1MODULE\s0] ...</p><p><em>user_rpc_intern_access</em></p><p>Needs parameter: \s-1USER\s0 \s-1COMMAND\s0</p><p><em>user_rpc_intern_access_survey</em></p><p>Needs parameter: \s-1USER\s0 \s-1COMMAND\s0 [\s-1COMMAND\s0] ...</p><p><em>flush_cache</em></p><p>Flush \s-1RPC\s0 server \s-1RBAC\s0 cache</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Public XML-RPC functions.</h2>
        <div class="sectioncontent">
<p>All the following CipUX::Task methods are public. Public means that they could be executed remotely. Public means not that everybody can do this remotely.</p><p>There are two kinds of public functions:</p><p>(1) Functions without authorization</p><p> - login  - ping  - sum</p><p>(2) Every other function is available only after using 'login' function, with a uid as first parameter and a valid ticket as second parameter.</p><p>Examples (pseudo code):</p><p> - (reference to user list) = cipux_task_list_users( uid, ticket );  - (true|false) = logout( uid, ticket );  - (new ticket|false) = session( uid, ticket );</p><p>If the uid do not match, or the uid has not the authorization to use the function, or the group of the uid has not the authorization to use the function, or the ticket is expired, or the ticket is not valid the request will not be fulfilled.</p><p>In other words: if the uid match and has the right and the role also has the right and the ticket is valid and is not expired, the request will be executed.</p><p>To see real examples have a look at CipUX::RPC::Client client.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>\s-1TODO\s0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION AND ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>Need no environment variables. But do need a configuration file. For example cipux-rpc.ini</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p> Authen::Simple::PAM  Authen::Simple::Password  Carp  CipUX::Task  CipUX::RBAC::Simple  Class::Std  Data::Dumper  English  Frontier::Daemon  Frontier::RPC2  List::MoreUtils  Log::Log4perl  Log::Dispatch  POSIX  Readonly  Ticket::Simple</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INCOMPATIBILITIES</h2>
        <div class="sectioncontent">
<p>Not known.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND LIMITATIONS</h2>
        <div class="sectioncontent">
<p>Not known.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO CipUX::RPC::Server&hellip;</h2>
        <div class="sectioncontent">
<p>See the CipUX webpage and the manual at &lt;http://www.cipux.org&gt;</p><p>See the mailing list http://sympa.cipworx.org/wws/info/cipux-devel &lt;http://sympa.cipworx.org/wws/info/cipux-devel&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Christian Kuelker  &lt;christian.kuelker@cipworx.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2007 - 2010 by Christian Kuelker</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the \s-1GNU\s0 General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  See the \s-1GNU\s0 General Public License for more details.</p><p>You should have received a copy of the \s-1GNU\s0 General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, \s-1MA\s0 02111-1307 \s-1USA\s0</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CipUX::RPC::Client.3pm.html"><span aria-hidden="true">&larr;</span> CipUX::RPC::Client.3pm: Xml-rpc client call library</a></li>
   <li class="next"><a href="CipUX::RPC::Server::Daemon.3pm.html">CipUX::RPC::Server::Daemon.3pm: Command line interface for cipux::rpc::server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
