<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Data::Flow: Perl extension for simple-minded recipe-controlled build of data.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl extension for simple-minded recipe-controlled build of data.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Data::Flow (3pm) manual">
  <meta name="twitter:description" content="Perl extension for simple-minded recipe-controlled build of data.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdata-flow-perl-Data::Flow-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Data::Flow.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Data::Flow (3pm) manual" />
  <meta property="og:description" content="Perl extension for simple-minded recipe-controlled build of data." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdata-flow-perl-Data::Flow-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Data::Flow<small> (3pm)</small></h1>
        <p class="lead">Perl extension for simple-minded recipe-controlled build of data.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Data::Flow.3pm.html">
      <span itemprop="name">Data::Flow: Perl extension for simple-minded recipe-controlled build of data.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdata-flow-perl/">
      <span itemprop="name">libdata-flow-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Data::Flow.3pm.html">
      <span itemprop="name">Data::Flow: Perl extension for simple-minded recipe-controlled build of data.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Data::Flow;
  $recipes = { path  =&gt; { default =&gt; &apos;./MANIFEST&apos;},
               contents =&gt; { prerequisites =&gt; [&apos;path&apos;, &apos;x&apos;] ,
                             process =&gt;
                             sub {
                               my $data = shift;
                               $data-&gt;{ shift() } = &#96;cat $data-&gt;{&apos;path&apos;}&#96;
                                 x $data-&gt;{&apos;x&apos;};
                             }
                           },
             };

  $request = new Data::Flow $recipes;
  $request-&gt;set( x =&gt; 1);
  print $request-&gt;get(&apos;contents&apos;);

  tie %request, Data::Flow, $recipes;
  $request{x} = 1;
  print $request{contents};
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The module Data::Flow provides its services via objects. The objects may be obtained by the usual</p><p>  $request = new Data::Flow $recipes;</p><p>paradigm. The argument $recipes is a hash reference, which provides the rules for request processing. The objects support three methods, <em>set()</em>, <em>get()</em>, <em>aget()</em>, and <em>already_set()</em>. The first one is used to provide input data for processing, the second one to obtain the output. The third one to obtain a reference to an array with results of repeated <em>get()</em>, and the last one to query whether a field is already known.</p><p>The unit of requested information is a <em>field</em>. The method <em>set()</em> takes a pair \*(C`field =&gt; value\*(C', the methods <em>get()</em> and <em>already_set()</em> take one argument: the \*(C`field\*(C', and the method <em>aget()</em> takes multiple fields.</p><p>Every object is created without any fields filled, but it knows how to <em>construct</em> fields basing on other fields or some global into. This knowledge is provided in the argument $recipe of the <em>new()</em> function. This is a reference to a hash, keyed by <em>fields</em>. The values of this hash are hash references themselves, which describe how to acquire the <em>field</em> which is the corresponding key of the initial hash.</p><p>The internal hashes may have the following keys: describes the default value for the key, if none is provided by <em>set()</em>. The value becomes the value of the field of the object. No additional processing is performed. Example:   default =&gt; $Config{installdir} gives the fields which are needed for the construction of the given field. The corresponding value is an array references. The array contains the <em>required</em> fields. If \*(C`defaults\*(C' did not satisfy the request for a field, but \*(C`$recipe-&gt;{field}{prerequisites}\*(C' exists, the <em>required</em> fields are build before any further processing is done. Example:   prerequisites =&gt; [ qw(prefix arch) ] contains the rule to build the field. The value is a reference to a subroutine taking 2 arguments: the reference to a hash with all the fields which have been set, and the name of the required field. It is up to the subroutine to actually fill the corresponding field of the hash, an error condition is raised if it did not. Example:   process =&gt; sub { my $data = shift;                   $data-&gt;{time} = localtime(time) } } contains the rule to build the field. The value is a reference to a subroutine taking 2 arguments: the object $request, and the name of the required field. It is up to the subroutine to actually fill the corresponding field of $request, an error condition is raised if it did not. Example:   oo_process =&gt; sub { my $data = shift;                      $data-&gt;set( time =&gt; localtime(time) ) } the corresponing value has the same meaning as for \*(C`process\*(C', but the return value of the subroutine is used as the value of the <em>field</em>. Example:   output =&gt; sub { localtime(time) } the corresponing value has the same meaning as for \*(C`process\*(C', but the return value of the method is used as the value of the <em>field</em>. Example:   output =&gt; sub { my $self = shift; $self-&gt;get(&apos;r&apos;) . localtime(time) } contains the rule to build the field basing on other fields. The value is a reference to an array. The first element of the array is a reference to a subroutine, the rest contains names of the fields. When the subroutine is called, the arguments are the values of <em>fields</em> of the object $request which appear in the array (in the same order). The return value of the subroutine is used as the value of the <em>field</em>. Example:   filter =&gt; [ sub { shift + shift },               &apos;first_half&apos;, &apos;second_half&apos; ] Note that the mentioned field will be automatically marked as prerequisites. is similar to \*(C`filter\*(C', but an extra argument, the object itself, is put in front of the list of arguments.  Example:   self_filter =&gt; [ sub { my ($self, $first_half = (shift, shift);                          $first_half *= -$self-&gt;get(&apos;total&apos;)*100                            if $first_half &lt; 0;  # negative means percentage                          $first_half + shift },               &apos;first_half&apos;, &apos;second_half&apos; ] is similar to \*(C`filter\*(C', but the first argument is the name of the method to call, second one is the name of the package to use for the method invocation. The rest contains names of field to provide as method arguments. Example:   class_filter =&gt; [ &apos;new&apos;, &apos;FileHandle&apos;, &apos;filename&apos; ] is similar to \*(C`class_filter\*(C', but the second argument is the name of the field which is used to call the method upon. Example:   method_filter =&gt; [ &apos;show&apos;, &apos;widget_name&apos;, &apos;current_display&apos; ]</p><h3>Tied interface</h3>
<p>The access to the same functionality is available via tied hash interface.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ilya Zakharevich, cpan@ilyaz.org, with multiple additions from Terrence Monroe Brannon and Radoslav Nedyalkov.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Data::Flow&hellip;</h2>
        <div class="sectioncontent">
<p><em>perl</em>\|(1), <em>make</em>\|(1).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Data::Float.3pm.html"><span aria-hidden="true">&larr;</span> Data::Float.3pm: Details of the floating point data type</a></li>
   <li class="next"><a href="Data::FormValidator::Constraints::DateTime.3pm.html">Data::FormValidator::Constraints::DateTime.3pm: D::fv constraints for dates and times <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
