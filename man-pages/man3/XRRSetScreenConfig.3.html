<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XRRSetScreenConfig: X resize, rotate and reflection extension.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="X resize, rotate and reflection extension.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XRRSetScreenConfig (3) manual">
  <meta name="twitter:description" content="X resize, rotate and reflection extension.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxrandr-dev-XRRSetScreenConfig-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XRRSetScreenConfig.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XRRSetScreenConfig (3) manual" />
  <meta property="og:description" content="X resize, rotate and reflection extension." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxrandr-dev-XRRSetScreenConfig-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XRRSetScreenConfig<small> (3)</small></h1>
        <p class="lead">X resize, rotate and reflection extension.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XRRSetScreenConfig.3.html">
      <span itemprop="name">XRRSetScreenConfig: X resize, rotate and reflection extension.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxrandr-dev/">
      <span itemprop="name">libxrandr-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XRRSetScreenConfig.3.html">
      <span itemprop="name">XRRSetScreenConfig: X resize, rotate and reflection extension.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>#include &lt;X11/extensions/Xrandr.h&gt;</p>
<pre>
Bool XRRQueryExtension \^(\^Display *<em>dpy</em>,
	int *<em>event_base_return</em>, int *<em>error_base_return</em>\^);

Status XRRQueryVersion \^(\^Display *<em>dpy</em>,
	int *<em>major_version_return</em>,
	int *<em>minor_version_return</em>\^);

XRRScreenConfiguration *XRRGetScreenInfo \^(\^Display *dpy,
	Drawable <em>draw</em>\^);

void XRRFreeScreenConfigInfo \^(\^
	<em>XRRScreenConfiguration *config</em>\^);

Status XRRSetScreenConfig \^(\^Display *<em>dpy</em>,
	XRRScreenConfiguration *<em>config</em>,
	Drawable <em>draw</em>,
	int <em>size_index</em>,
	Rotation <em>rotation</em>,
	Time <em>timestamp</em>\^);

Status XRRSetScreenConfigAndRate \^(\^Display *<em>dpy</em>,
				  XRRScreenConfiguration *<em>config</em>,
				  Drawable <em>draw</em>,
				  int <em>size_index</em>,
				  Rotation <em>rotation</em>,
				  short <em>rate</em>,
				  Time <em>timestamp</em>\^);

Rotation XRRConfigRotations\^(\^
	XRRScreenConfiguration *<em>config</em>,
	Rotation *<em>current_rotation</em>\^);

Time XRRConfigTimes \^(\^
	XRRScreenConfiguration *<em>config</em>,
	Time *<em>config_timestamp</em>\^);

XRRScreenSize *XRRConfigSizes\^(\^
	XRRScreenConfiguration *<em>config</em>,
	int *<em>nsizes</em>\^);

short *XRRConfigRates \^(\^
	XRRScreenConfiguration *<em>config</em>,
	int <em>size_index</em>,
	int *<em>nrates</em>\^);

SizeID XRRConfigCurrentConfiguration \^(\^
	XRRScreenConfiguration *<em>config</em>,
	Rotation *<em>rotation</em>\^);

short XRRConfigCurrentRate \^(\^
	XRRScreenConfiguration *<em>config</em>\^);

int XRRRootToScreen\^(\^
	Display *<em>dpy</em>,
	Window <em>root</em>\^);

void XRRSelectInput\^(\^Display *<em>dpy</em>, Window <em>window</em>, int <em>mask</em>\^);

/\(**
 * intended to take RRScreenChangeNotify,  or
 * ConfigureNotify \^(\^<em>on the root window</em>\^)
 * returns 1 if it is an event type it understands, 0 if not
 */
int XRRUpdateConfiguration\^(\^XEvent *<em>event</em>\^);

/\(**
 * the following are always safe to call, even if RandR is
 * not implemented on a screen
 */

Rotation XRRRotations\^(\^
	Display *<em>dpy</em>, int <em>screen</em>,
	Rotation *<em>current_rotation</em>\^);

XRRScreenSize *XRRSizes\^(\^Display *<em>dpy</em>,
	int <em>screen</em>, int *<em>nsizes</em>\^);

short *XRRRates \^(\^Display *<em>dpy</em>, int <em>screen</em>,
	int <em>size_index</em>, int *<em>nrates</em>\^);

Time XRRTimes \^(\^Display *<em>dpy</em>, int <em>screen</em>, Time *<em>config_timestamp</em>\^);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>display</em>
  </dt>
  <dd>
    <p>Specifies the connection to the X server.</p>
  </dd>
  <dt>
    <em>screen</em>
  </dt>
  <dd>
    <p>Specifies which screen.</p>
  </dd>
  <dt>
    <em>draw</em>
  </dt>
  <dd>
    <p>Specifies the screen.</p>
  </dd>
  <dt>
    <em>rotation</em>
  </dt>
  <dd>
    <p>Specifies the possible rotations or reflections of the screen.</p>
  </dd>
  <dt>
    <em>current_rotation</em>
  </dt>
  <dd>
    <p>Specifies the current rotations and reflection of the screen.</p>
  </dd>
  <dt>
    <em>timestamp</em>
  </dt>
  <dd>
    <p>Specifies the server timestamp.</p>
  </dd>
  <dt>
    <em>config_timestamp</em>
  </dt>
  <dd>
    <p>Specifies the timestamp when the screen was last (re)configured.</p>
  </dd>
  <dt>
    <em>config</em>
  </dt>
  <dd>
    <p>Specifies the screen configuration being used.</p>
  </dd>
  <dt>
    <em>sizes</em>
  </dt>
  <dd>
    <p>Specifies the array of supported sizes.</p>
  </dd>
  <dt>
    <em>rate</em>
  </dt>
  <dd>
    <p>Specifies the refresh rate in Hz.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATATYPES</h2>
        <div class="sectioncontent">
<p><strong>Rotations/Reflections</strong></p><p>Can be any of:</p>
<pre>
#define RR_Rotate_0             1
#define RR_Rotate_90            2
#define RR_Rotate_180           4
#define RR_Rotate_270           8

/\(** new in 1.0 protocol, to allow reflection of screen */
/\(** reflection is applied after rotation */

#define RR_Reflect_X            16
#define RR_Reflect_Y            32


typedef struct {
    int	width, height;
    int	mwidth, mheight;
} XRRScreenSize;

typedef struct {
    int type;				/\(** event base */
    unsigned long serial;	/\(** # of last request processed by server */
    Bool send_event;		/\(** true if this came from a SendEvent request */
    Display *display;		/\(** Display the event was read from */
    Window window;			/\(** window which selected for this event */
    Window root;			/\(** Root window for changed screen */
    Time timestamp;			/\(** when the screen change occurred */
    Time config_timestamp;	/\(** when the last configuration change */
    SizeID size_index;
    SubpixelOrder subpixel_order;
    Rotation rotation;
    int width;
    int height;
    int mwidth;
    int mheight;
} XRRScreenChangeNotifyEvent;

</pre>
<p>The <strong>XRRScreenSize</strong> structure contains a possible root size in pixels and in millimeters.</p><p>A <strong>XRRScreenChangeNotifyEvent</strong> is sent to a client that has requested notification whenever the screen configuration is changed. A client can perform this request by calling <strong>XRRSelectInput</strong>, passing the display, the root window, and the <strong>RRScreenChangeNotifyMask</strong> mask.</p><p><strong>XRRScreenConfiguration</strong> is an opaque data type containing the configuration information for a screen.</p><p><strong>Timestamps</strong></p><p>Time stamps are included and must be used to ensure the client is playing with a full deck: the screen may change properties on the fly and this ensures its knowledge of the configuration is up to date. This is to help issues when screens may become hot-pluggable in the future.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Xrandr</strong> is a simple library designed to interface the X Resize and Rotate Extension.  This allows clients to change the size and rotation of the root window of a screen, along with the ability to reflect the screen about either axis (if supported by the implementation).  Rotation and reflection may be implemented by software and may result in slower performance if rotation and reflection are implemented in this fashion (as are all implementations as of October 2002).</p><p>The Xrandr library does some minimal caching to avoid roundtrips to provide clients frequently used information.  See "The X Resize and Rotate Extension" for a detailed description; also note that depth switching, as described in the document is not implemented, and may (or may not) ever be implemented, as display memory is growing rapidly, and toolkits are already beginning to support migration, mitigating the need for depth switching.  If it is implemented in the future, we expect to do so via an upward compatible extension to the current library/protocol; functionality described here should continue to work.</p><p>Rotation and reflection and how they interact can be confusing.  In Randr, the coordinate system is rotated in a counter-clockwise direction relative to the normal orientation.  Reflection is along the window system coordinate system, not the physical screen X and Y axis, so that rotation and reflection do not interact.  The other way to consider reflection is to treat it as specified in the "normal" orientation, before rotation.</p><p>The <strong>XRRScreenChangeNotify</strong> event is sent to clients that ask to be informed whenever the root window configuration changes.  Configuration changes may include resolution, physical size, subpixel order (see <strong>XRender</strong>(3)), and rotation.  Note that changes to any or all of these could occur due to external events (user control in the X server, a different monitor/flat panel display being hot-plugged) and is not only the result of a protocol/library request to the X server.</p><p>Additionally, to eliminate a potential race condition, this event may be generated immediately upon selecting for notification if the screen has changed since the client of Xrandr connected to the X server, to enable reliable screen resolution changing when a user may log in and change the configuration while one or many clients are starting up.</p><p><strong>Xlib notification</strong></p><p>Clients must call back into Xlib using <strong>XRRUpdateConfiguration</strong> when screen configuration change notify events are generated (or root window configuration changes occur, to update Xlib's view of the resolution, size, rotation, reflection or subpixel order. Generally, toolkits will perform this operation on behalf of applications; we did not want to change display structure data behind the back of toolkits, as in multithreaded clients, various race conditions might occur. Toolkits should provide clients some mechanism for notification of screen change, of course.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<p>There are two classes of interfaces: those which can be safely called even if RandR is not implemented on a screen (to make common idioms not dependent on the server having support), and those which will return errors if the extension is not present.</p><p><strong>XRRRotations</strong> returns both the possible set of rotations/reflections supported (as a bitmask) as the value of the function, along with the current rotation/reflection of the screen.</p><p><strong>XRRSizes</strong> returns the size and a pointer to the current sizes supported by the specified screen.  The first size specified is the default size of the server. If RandR is not supported, it returns 0 for the number of sizes.</p><p><strong>XRRRates</strong> returns a pointer to the rates supported by the specified size. If RandR is not supported, it returns 0 for the number of rates.</p><p><strong>XRRTimes</strong> returns the time last reported by the server along with the timestamp the last configuration changed. If the configuration has changed since the client last updated its view of the server time, requests to change the configuration will fail until the client has an up to date timestamp.</p><p><strong>XRRRootToScreen</strong> returns the screen number given a root window (for example, from an <strong>XRRScreenChangeNotifyEvent</strong>).</p><p>The rest of the functions will fail if applied to screens not implementing the RandR extension. <strong>XRRSetScreenConfig</strong> sets the screen size and rotation and reflection to the desired values on the screen specified by <em>draw</em>, or returns a <strong>BadValue</strong> error. <em>size_index</em> specifies which size configuration is to be used, <em>rotation</em> specifies which rotation or reflection is to be used (or a <strong>BadValue</strong> error is returned). The <em>timestamp</em> is used by the server to make sure the client has up to date configuration information. Status is returned to indicate success or failure; a client must refresh its configuration information if it fails and try the call again (by calling <strong>XRRGetScreenInfo</strong>).</p><p><strong>XRRSetScreenConfigAndRate</strong> is like <strong>XRRSetScreenConfig</strong> but also sets the refresh rate. If specified rate is not supported a <strong>BadValue</strong> error is returned.</p><p><strong>XRRConfigRotations,</strong> <strong>XRRConfigSizes,</strong> <strong>XRRConfigCurrentConfiguration,</strong> <strong>XRRConfigTimes,</strong> <strong>XRRConfigRates,</strong> and <strong>XRRConfigCurrentRate</strong> are used to get specific configuration information out of a screen configuration.</p><p><strong>XRRGetScreenInfo</strong> returns a screen configuration for later use; the information is private to the library. Call <strong>XRRFreeScreenConfigInfo</strong> to free this information when you are finished with it. It forces a round trip to the server.</p><p>Other functions include: <strong>XRRQueryExtension</strong> which returns the event and error base codes, <strong>XRRQueryVersion</strong> , which returns the current version of the extension (this information is cached by the library).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p><strong>Xrandr</strong> will remain upward compatible after the current 1.0 release.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jim Gettys, and Keith Packard, HP.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XRRSelectInput.3.html"><span aria-hidden="true">&larr;</span> XRRSelectInput.3: X resize, rotate and reflection extension.</a></li>
   <li class="next"><a href="XRRSetScreenConfigAndRate.3.html">XRRSetScreenConfigAndRate.3: X resize, rotate and reflection extension. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
