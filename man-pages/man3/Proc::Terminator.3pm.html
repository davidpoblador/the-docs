<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Proc::Terminator: Conveniently terminate processes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Conveniently terminate processes">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Proc::Terminator (3pm) manual">
  <meta name="twitter:description" content="Conveniently terminate processes">
  <meta name="twitter:image" content="https://www.carta.tech/images/libproc-terminator-perl-Proc::Terminator-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Proc::Terminator.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Proc::Terminator (3pm) manual" />
  <meta property="og:description" content="Conveniently terminate processes" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libproc-terminator-perl-Proc::Terminator-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Proc::Terminator<small> (3pm)</small></h1>
        <p class="lead">Conveniently terminate processes</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Proc::Terminator.3pm.html">
      <span itemprop="name">Proc::Terminator: Conveniently terminate processes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libproc-terminator-perl/">
      <span itemprop="name">libproc-terminator-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Proc::Terminator.3pm.html">
      <span itemprop="name">Proc::Terminator: Conveniently terminate processes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Proc::Terminator;

    # Try and kill $pid using various methods, waiting
    # up to 20 seconds

    proc_terminate($pid, max_wait =&gt; 20);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\*(C`Proc::Terminator\*(C' provides a convenient way to kill a process, often useful in utility and startup functions which need to ensure the death of an external process.</p><p>This module provides a simple, blocking, and procedural interface to kill a process or multiple processes (not tested), and not return until they are all dead.</p><p>\*(C`Proc::Terminator\*(C' can know if you do not have permissions to kill a process, if the process is dead, and other interesting tidbits.</p><p>It also provides for flexible options in the type of death a process will experience. Whether it be slow or immediate.</p><p>This module exports a single function, \*(C`proc_terminate\*(C' Will try to terminate $pid, waiting until the process is no longer alive, or until a fatal error happens (such as a permissions issue).</p><p>$pid can either be a single \s-1PID\s0 (a scalar), or a reference to an array of <em>multiple</em> PIDs, in which case they are all attempted to be killed, and the function only returning once all of them are dead (or when no possible kill alternatives remain).</p><p>The %options is a hash of options which control the behavior for trying to terminate the pid(s). Specify the time (in seconds) that the function should try to spend killing the provided PIDs. The function is guaranteed to not wait longer than \*(C`max_wait\*(C'. This parameter can also be a fractional value (and is passed to Time::HiRes). <em>\s-1DEFAULT\s0</em>: 10 Seconds. An array of signal constants (use \s-1POSIX\s0's \*(C`:signal_h\*(C' to get them). The signals are tried in order, until there are no more signals remaining. Sometimes applications do proper cleanup on exit with a 'proper' signal such as \*(C`SIGINT\*(C'. The default value for this parameter The default signal list can be found in @Proc::Terminator::DefaultSignalOrder <em>\s-1DEFAULT\s0</em>: \*(C`[SIGINT, SIGQUIT, SIGTERM, SIGKILL]\*(C' This specifies a time, in seconds, between the shifting of each signal in the \*(C`siglist\*(C' parameter above. In other words, \*(C`proc_terminate\*(C' will wait $grace_period seconds after sending each signal in \*(C`siglist\*(C'. Thereafter the signal is removed, and the next signal is attempted. Currently, if you wish to have controlled signal wait times, you can simply insert a signal more than once into \*(C`siglist\*(C' <em>\s-1DEFAULT\s0</em>: 0.75 This is the loop interval. The loop will sleep for ever \*(C`interval\*(C' seconds. You probably shouldn't need to modify this <em>\s-1DEFAULT\s0</em>: 0.25</p><p>When called in a scalar context, returns true on sucess, and false otherwise.</p><p>When called in list context, returns a list of the \s-1PIDS\s0 <strong>\s-1NOT\s0</strong> killed.</p><h3>\s-1OO\s0 Interface</h3>
<p>This exists mainly to provide compatibility for event loops. While \*(C`proc_terminate\*(C' loops internally, event loops will generally have timer functions which will call within a given interval.</p><p>In the \s-1OO\s0 interface, one instantiates a \*(C`Proc::Terminator::Batch\*(C' object which contains information about the PIDs the user wishes to kill, as well as the signal list (in fact, \*(C`proc_terminate\*(C' is a wrapper around this interface)</p><p><em>Proc::Terminator::Batch methods</em></p><p>Proc::Terminator::Batch-&gt;with_pids($pids,$options)</p><p>Creates a new \*(C`Proc::Terminator::Batch\*(C'. The arguments are exactly the same as that for proc_terminate.</p><p>Since this module does not actually loop or sleep on anything, it is important to ensure that the \*(C`grace_period\*(C' and \*(C`max_wait\*(C' options are set appropriately.</p><p>In a traditional scenario, a timer would be associated with this object which would fire every \*(C`grace_period\*(C' seconds.</p><p>$batch-&gt;<em>loop_once()</em></p><p>Iterates once over all remaining processes which have not yet been killed, and try to kill them.</p><p>Returns a true value if processes still remain which may be killed, and a false value if there is nothing else to do for this batch.</p><p>More specifically, if all processes have been killed successfully, this function returns 0. If there are still processes which are alive (but cannot be killed due to the signal stack being empty, or another error), then \*(C`undef\*(C' is returned.</p><p>$batch-&gt;badprocs</p><p>Returns a reference to an array of \*(C`Proc::Terminator::Ctx\*(C' objects which were not successfully terminated. The Ctx object is a simple container. Its \s-1API\s0 fields are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    pid
  </dt>
  <dd>
    <p>The numeric \s-1PID\s0 of the process</p>
  </dd>
  <dt>
    siglist
  </dt>
  <dd>
    <p>A reference to an array of remaining signals which would have been sent to this process</p>
  </dd>
  <dt>
    error
  </dt>
  <dd>
    <p>This is the captured value of $! at the time the error occured (if any). If this is empty, then most likely the process did not respond to any signals in the signal list.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Proc::Terminator&hellip;</h2>
        <div class="sectioncontent">
<p><em>signal</em>\|(7)</p><p><em>kill</em>\|(2)</p><p>Perl's kill</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR & COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2012 M. Nunberg</p><p>You may use and distribute this software under the same terms and conditions as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Proc::SyncExec.3pm.html"><span aria-hidden="true">&larr;</span> Proc::SyncExec.3pm: Spawn processes but report exec() errors</a></li>
   <li class="next"><a href="Proc::WaitStat.3pm.html">Proc::WaitStat.3pm: Interpret and act on wait() status values <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
