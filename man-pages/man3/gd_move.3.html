<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gd_move: Gd_move  move a dirfile field between format specification fragments</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gd_move  move a dirfile field between format specification fragments">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gd_move (3) manual">
  <meta name="twitter:description" content="Gd_move  move a dirfile field between format specification fragments">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgetdata-dev-gd_move-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/gd_move.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gd_move (3) manual" />
  <meta property="og:description" content="Gd_move  move a dirfile field between format specification fragments" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgetdata-dev-gd_move-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gd_move<small> (3)</small></h1>
        <p class="lead">Gd_move  move a dirfile field between format specification fragments</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gd_move.3.html">
      <span itemprop="name">gd_move: Gd_move  move a dirfile field between format specification fragments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgetdata-dev/">
      <span itemprop="name">libgetdata-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gd_move.3.html">
      <span itemprop="name">gd_move: Gd_move  move a dirfile field between format specification fragments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;getdata.h&gt;</strong> <strong>int gd_move(DIRFILE *</strong><em>dirfile</em><strong>, const char</strong> <strong>*</strong><em>field_code</em><strong>, int </strong><em>new_fragment</em><strong>, int </strong><em>move_data</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>gd_move</strong>() function transfers the field specified by <em>field_code</em>, which should not have a representation suffix, defined in the dirfile specified by <em>dirfile</em> from it's current format specification fragment to the fragment index by <em>new_fragment</em>. If the field is already defined in the fragment index by <em>new_fragment</em>, this function does nothing.</p><p>If the flag <em>move_data</em> is non-zero, and <em>field_code</em> specifies a <strong>RAW</strong> field, the binary file associated with the field will be translated to account for the possibly different encoding, endianness, and frame offset of the new format specification fragment.  It will also be moved to a new directory, if necessary.  If <em>move_data</em> is zero, no changes will be made to the binary file.  If <em>field_code</em> specifies a field of type other than <strong>RAW</strong>, the <em>move_data</em> flag is ignored.</p><p>If the binary file is translated, and the frame offset of the destination fragment is larger than that of the source fragment, this will result in permanent deletion of data from the database.  If the new frame offset is smaller than the old frame offset, the binary file will be padded at the front with zeroes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success, <strong>gd_move</strong>() returns zero.  On error, -1 is returned and the dirfile error is set to a non-zero error value.  Possible error values are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>GD_E_ACCMODE</strong></p>
  </dt>
  <dd>
    <p>The specified dirfile was opened read-only.</p>
  </dd>
  <dt>
    <p><strong>GD_E_ALLOC</strong></p>
  </dt>
  <dd>
    <p>The library was unable to allocate memory.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_CODE</strong></p>
  </dt>
  <dd>
    <p>The field specified by <em>field_code</em> was not found.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_DIRFILE</strong></p>
  </dt>
  <dd>
    <p>The supplied dirfile was invalid.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_FIELD_TYPE</strong></p>
  </dt>
  <dd>
    <p>An attempt was made to move the immutable <em>INDEX</em> field.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_INDEX</strong></p>
  </dt>
  <dd>
    <p>The <em>new_fragment</em> argument did not index a valid format specification fragment.</p>
  </dd>
  <dt>
    <p><strong>GD_E_PROTECTED</strong></p>
  </dt>
  <dd>
    <p>The metadata of the source or destination format specification fragments was protected from change, or the binary data of the source or destination fragments was protected from change and binary file translation was requested.</p>
  </dd>
  <dt>
    <p><strong>GD_E_RAW_IO</strong></p>
  </dt>
  <dd>
    <p>An I/O error occurred while attempting to translate a binary file.</p>
  </dd>
  <dt>
    <p><strong>GD_E_UNKNOWN_ENCODING</strong></p>
  </dt>
  <dd>
    <p>The encoding scheme of the source or destination fragment is unknown.</p>
  </dd>
  <dt>
    <p><strong>GD_E_UNSUPPORTED</strong></p>
  </dt>
  <dd>
    <p>The encoding scheme of the source or destination fragment does not support binary file translation.</p>
  </dd>

</dl>
<p>The dirfile error may be retrieved by calling <a href="../man3/gd_error.3.html"><strong>gd_error</strong>(3)</a>. A descriptive error string for the last error encountered can be obtained from a call to <a href="../man3/gd_error_string.3.html"><strong>gd_error_string</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>A binary file translation occurs out-of-place.  As a result, sufficient space must be present on the filesystem for both the binary file before translation and the binary file after translation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gd_move&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/gd_metaflush.3.html"><strong>gd_metaflush</strong>(3)</a>, <a href="../man3/gd_open.3.html"><strong>gd_open</strong>(3)</a>, <a href="../man3/gd_error.3.html"><strong>gd_error</strong>(3)</a>, <a href="../man3/gd_error_string.3.html"><strong>gd_error_string</strong>(3)</a>, <a href="../man5/dirfile.5.html"><strong>dirfile</strong>(5)</a>, <a href="../man5/dirfile-format.5.html"><strong>dirfile-format</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gd_mfield_list_by_type.3.html"><span aria-hidden="true">&larr;</span> gd_mfield_list_by_type.3: Gd_mfield_list_by_type  retrieve a list of fields in a dirfile</a></li>
   <li class="next"><a href="gd_mstrings.3.html">gd_mstrings.3: Gd_mstrings  retrieve a list of string values from a dirfile <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
