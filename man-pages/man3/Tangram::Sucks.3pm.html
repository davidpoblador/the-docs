<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tangram::Sucks: What there is to be improved in tangram</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="What there is to be improved in tangram">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Tangram::Sucks (3pm) manual">
  <meta name="twitter:description" content="What there is to be improved in tangram">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtangram-perl-Tangram::Sucks-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Tangram::Sucks.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Tangram::Sucks (3pm) manual" />
  <meta property="og:description" content="What there is to be improved in tangram" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtangram-perl-Tangram::Sucks-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Tangram::Sucks<small> (3pm)</small></h1>
        <p class="lead">What there is to be improved in tangram</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tangram::Sucks.3pm.html">
      <span itemprop="name">Tangram::Sucks: What there is to be improved in tangram</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtangram-perl/">
      <span itemprop="name">libtangram-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tangram::Sucks.3pm.html">
      <span itemprop="name">Tangram::Sucks: What there is to be improved in tangram</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Tangram has taken a concept very familiar to programmers in Java land to its logical completion.</p><p>This document is an attempt by the coders of Tangram to summarise the major problems that are inherant in the design, describe cases for which the Tangram metaphor does not work well, and list long standing TO-DO items.</p><h3>\s-1DESIGN\s0 \s-1CAVEATS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>query language does not cover all \s-1SQL\s0 expressions</strong>
  </dt>
  <dd>
    <p>Whilst there is no underlying fault with the query object metaphor <em>per se</em>, there are currently lots of queries that cannot be expressed in current versions of Tangram, and adding new parts to the language is not easy.</p>
  </dd>
  <dt>
    <strong>some loss of encapsulation with queries</strong>
  </dt>
  <dd>
    <p>It could be said this is not a problem.  After all, adding properties to a schema of an object is akin to declaring them as \*(L"public\*(R". Some people banter on about <em>data access patterns</em>, which the Tangram schema represents.  But \s-1OO\s0 terms like that are usually treated as buzzwords anyway.</p>
  </dd>

</dl>

<h3>\s-1HARD\s0 \s-1PROBLEMS\s0</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>partial column select</strong>
  </dt>
  <dd>
    <p>This optimisation has some serious dangers associated with it. It could either be</p>
  </dd>
  <dt>
    <strong>no support for \s-1SQL\s0 \s-1UPDATE\s0</strong>
  </dt>
  <dd>
    <p>It may be possible to write a version of \*(C`$storage-&gt;select()\*(C' that does this, which would look something like:</p>
<pre>
  $storage-&gt;update
      ( $r_object,
        set =&gt; [ $r_object-&gt;{bar} == $r_object-&gt;{baz} + 2 ],
        filter =&gt; ($r_object-&gt;{frop} != undef)
      );
</pre>

  </dd>
  <dt>
    <strong>no explicit support for re-orgs</strong>
  </dt>
  <dd>
    <p>The situation where you have a large amount of schema reshaping to do, with a complex enough data structure can turn into a fairly difficult problem. It is possible to have two Tangram stores with different schema and simply load objects from one and put them in the other - however the on-demand autoloading combined with the automatic insertion of unknown objects will result in the entire database being loaded into core if it is sufficiently interlinked.</p>
  </dd>
  <dt>
    <strong>replace \s-1SQL\s0 expression core</strong>
  </dt>
  <dd>
    <p>The whole \s-1SQL\s0 expression core needs to be replaced with a \s-1SQL\s0 abstraction module that is a little better planned.  For instance, there should be placeholders used in a lot more places where the code just sticks in an integer etc.</p>
  </dd>
  <dt>
    <strong>support for `large' collections</strong>
  </dt>
  <dd>
    <p>Where it is impractical or undesirable to load all of a collection into memory, when you are adding a member and then updating the container, it should be possible to This could actually be achieved with a new Tangram::Type.</p>
  </dd>

</dl>

<h3>\s-1MISSING\s0 \s-1FEATURES\s0</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>concise query expressions</strong>
  </dt>
  <dd>
    <p>For simple selects, this is too long:   ...</p>
  </dd>
  <dt>
    <strong>non-ID joins</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>tables with no primary key</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>tables with multi-column primary keys</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>tables with auto_increment keys</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>tables without a `type' column</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>tables with custom `type' columns</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>tables with implicit (presence) `type' columns</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>fully symmetric relationships</strong>
  </dt>
  <dd>
    <p>back-refs are read-only.</p>
  </dd>
  <dt>
    <strong>bulk inserts</strong>
  </dt>
  <dd>
    <p>Inserting lots of similar objects should be more efficient.  Right now it generates a new \s-1STH\s0 for each object.</p>
  </dd>
  <dt>
    <strong>`empty subclass' schema support</strong>
  </dt>
  <dd>
    <p>You should not need to explicitly add new classes to a schema if a superclass of them is already in the schema.</p>
  </dd>

</dl>


        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Tangram::Storage.3pm.html"><span aria-hidden="true">&larr;</span> Tangram::Storage.3pm: Persistent object database</a></li>
   <li class="next"><a href="Tangram::Tour.3pm.html">Tangram::Tour.3pm: Guided tour <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
