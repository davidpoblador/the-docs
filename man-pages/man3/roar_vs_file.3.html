<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>roar_vs_file: File mode for vs api</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="File mode for vs api">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="roar_vs_file (3) manual">
  <meta name="twitter:description" content="File mode for vs api">
  <meta name="twitter:image" content="https://www.carta.tech/images/libroar-dev-roar_vs_file-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/roar_vs_file.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="roar_vs_file (3) manual" />
  <meta property="og:description" content="File mode for vs api" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libroar-dev-roar_vs_file-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">roar_vs_file<small> (3)</small></h1>
        <p class="lead">File mode for vs api</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/roar_vs_file.3.html">
      <span itemprop="name">roar_vs_file: File mode for vs api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libroar-dev/">
      <span itemprop="name">libroar-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/roar_vs_file.3.html">
      <span itemprop="name">roar_vs_file: File mode for vs api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;roaraudio.h&gt;</p><p>int roar_vs_file(roar_vs_t * vss, struct roar_vio_calls * vio, int closefile, int * error);</p><p>int roar_vs_file_simple(roar_vs_t * vss, char * filename, int * error);</p><p>roar_vs_t * roar_vs_new_from_file(const char * server, const char * name, char * filename, int * error);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>These functions are used to open the VS object in file mode. In the file mode the VS API reads or writes the data from or to the file itself. The file mode uses normal VIO/DSTR so it supports streams as well. Just pass the stream URL as filename.</p><p><strong>roar_vs_file()</strong> sets up the file mode for a already opened object using the open VIO handle <strong>vio</strong>. This function requires the use of <a href="../man3/roar_vs_stream.3.html"><strong>roar_vs_stream</strong>(3)</a>.</p><p><strong>roar_vs_file_simple()</strong> sets up the file mode using a given filename (or URL). It opens the file using DSTR API. By default the function assumes playback mode and tries to auto detect the audio parameters. To override the auto detection or use a diffrent stream direction use <a href="../man3/roar_vs_stream.3.html"><strong>roar_vs_stream</strong>(3)</a>.</p><p><strong>roar_vs_new_from_file()</strong> creates a new VS object and enters file mode using the file (or URL) given as <strong>filename</strong>.</p><p>To send data to or read data from use <a href="../man3/roar_vs_iterate.3.html"><strong>roar_vs_iterate</strong>(3)</a> or <a href="../man3/roar_vs_run.3.html"><strong>roar_vs_run</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>server</strong></p>
  </dt>
  <dd>
    <p>The server to connect to. NULL for defaults.</p>
  </dd>
  <dt>
    <p><strong>name</strong></p>
  </dt>
  <dd>
    <p>The application name. This should be something the user can use to identify the application. It MUST NOT be the application's binary name or the value of argv[0].</p>
  </dd>
  <dt>
    <p><strong>vio</strong></p>
  </dt>
  <dd>
    <p>The VIO handle to be used by the file mode.</p>
  </dd>
  <dt>
    <p><strong>closefile</strong></p>
  </dt>
  <dd>
    <p>This parameter tells the file mode if the file should be closed on <a href="../man3/roar_vio_close.3.html"><strong>roar_vio_close</strong>(3)</a>. Must be ROAR_VS_TRUE (common) or ROAR_VS_FALSE.</p>
  </dd>
  <dt>
    <p><strong>filename</strong></p>
  </dt>
  <dd>
    <p>The filename used to open the file for file mode. The file is opend using DSTR API. All kinds of files supported by DSTR are supported. This includes HTTP streams.</p>
  </dd>
  <dt>
    <p><strong>error</strong></p>
  </dt>
  <dd>
    <p>This is a pointer to a integer used to store the error value in case of error. This can be NULL if not used but it is very recommended to use this error value to report good error messages to the user.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success roar_vs_new_from_file() return a new VS object.  On error, NULL is returned. roar_vs_file() and roar_vs_file_simple() returns 0 on success and -1 on error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p> roar_vs_t * vss;  int err;</p><p> vss = roar_vs_new_from_file(NULL, "MyApp", "http://...", &err);  if ( vss == NULL ) {</p>
<pre>
  //handle error.
</pre>
<p> }</p><p> if ( roar_vs_run(vss, &err) == -1 ) {</p>
<pre>
  //handle error.
</pre>
<p> }</p><p> if ( roar_vs_close(vss, ROAR_VS_FALSE, &err) == -1 ) {</p>
<pre>
  //handle error.
</pre>
<p> }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO roar_vs_file&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/roar_vs_new_simple.3.html"><strong>roar_vs_new_simple</strong>(3)</a>, <a href="../man3/roar_vs_iterate.3.html"><strong>roar_vs_iterate</strong>(3)</a>, <a href="../man3/roar_vs_run.3.html"><strong>roar_vs_run</strong>(3)</a>, <a href="../man3/roar_vs_close.3.html"><strong>roar_vs_close</strong>(3)</a>, <a href="../man7/roarvs.7.html"><strong>roarvs</strong>(7)</a>, <a href="../man7/libroar.7.html"><strong>libroar</strong>(7)</a>, <a href="../man7/RoarAudio.7.html"><strong>RoarAudio</strong>(7)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="roar_vs_ctl.3.html"><span aria-hidden="true">&larr;</span> roar_vs_ctl.3: Interface to private interals of vs object</a></li>
   <li class="next"><a href="roar_vs_file_simple.3.html">roar_vs_file_simple.3: Set up stream parameters for vs object <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
