<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dpns_setfsizec: Set filesize for a regular file; set also last modification time to the current time</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set filesize for a regular file; set also last modification time to the current time">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dpns_setfsizec (3) manual">
  <meta name="twitter:description" content="Set filesize for a regular file; set also last modification time to the current time">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdpm-dev-dpns_setfsizec-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/dpns_setfsizec.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dpns_setfsizec (3) manual" />
  <meta property="og:description" content="Set filesize for a regular file; set also last modification time to the current time" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdpm-dev-dpns_setfsizec-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dpns_setfsizec<small> (3)</small></h1>
        <p class="lead">Set filesize for a regular file; set also last modification time to the current time</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/dpns_setfsizec.3.html">
      <span itemprop="name">dpns_setfsizec: Set filesize for a regular file; set also last modification time to the current time</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdpm-dev/">
      <span itemprop="name">libdpm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/dpns_setfsizec.3.html">
      <span itemprop="name">dpns_setfsizec: Set filesize for a regular file; set also last modification time to the current time</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;sys/types.h&gt;</strong></p><p><strong>#include "dpns_api.h"</strong></p><p><strong>int dpns_setfsize (const char *</strong><em>path</em><strong>,</strong> <strong>struct dpns_fileid *</strong><em>file_uniqueid</em><strong>,</strong> <strong>u_signed64 </strong><em>filesize</em><strong>)</strong></p><p><strong>int dpns_setfsizec (const char *</strong><em>path</em><strong>,</strong> <strong>struct dpns_fileid *</strong><em>file_uniqueid</em><strong>,</strong> <strong>u_signed64 </strong><em>filesize</em><strong>,</strong> <strong>const char *</strong><em>csumtype</em><strong>,</strong> <strong>char *</strong><em>csumvalue</em><strong>)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dpns_setfsize</strong> sets the filesize for a regular file; set also the last modification time to the current time. This function should only be called by the stager after the last write operation has been performed on the file. The file can be identified by <em>path</em> name or by <em>file_uniqueid</em>. If both are specified, <em>file_uniqueid</em> is used.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>path</em></p>
  </dt>
  <dd>
    <p>specifies the logical pathname relative to the current DPNS directory or the full DPNS pathname.</p>
  </dd>
  <dt>
    <p><em>csumtype</em></p>
  </dt>
  <dd>
    <p>specifies the type of checksum. Valid types are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>CS</strong></p>
  </dt>
  <dd>
    <p>standard 32 bits checksum</p>
  </dd>
  <dt>
    <p><strong>AD</strong></p>
  </dt>
  <dd>
    <p>Adler 32 bits checksum</p>
  </dd>
  <dt>
    <p><strong>MD</strong></p>
  </dt>
  <dd>
    <p>MD5 128 bits checksum</p>
  </dd>

</dl>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>This routine returns 0 if the operation was successful or -1 if the operation failed. In the latter case, <strong>serrno</strong> is set appropriately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>ENOENT</strong></p>
  </dt>
  <dd>
    <p>A component of <em>path</em> prefix does not exist or <em>path</em> is a null pathname.</p>
  </dd>
  <dt>
    <p><strong>EACCES</strong></p>
  </dt>
  <dd>
    <p>Search permission is denied on a component of the <em>path</em> prefix or the caller effective user ID does not match the owner ID of the file or write permission on the file itself is denied.</p>
  </dd>
  <dt>
    <p><strong>EFAULT</strong></p>
  </dt>
  <dd>
    <p><em>path</em> and <em>file_uniqueid</em> are NULL pointers.</p>
  </dd>
  <dt>
    <p><strong>ENOTDIR</strong></p>
  </dt>
  <dd>
    <p>A component of <em>path</em> prefix is not a directory.</p>
  </dd>
  <dt>
    <p><strong>EISDIR</strong></p>
  </dt>
  <dd>
    <p>The file is not a regular file.</p>
  </dd>
  <dt>
    <p><strong>EINVAL</strong></p>
  </dt>
  <dd>
    <p>The length of the <em>csumtype</em> exceeds 2 or <em>csumtype</em> is an unknown type or the length of the <em>csumvalue</em> exceeds 32.</p>
  </dd>
  <dt>
    <p><strong>ENAMETOOLONG</strong></p>
  </dt>
  <dd>
    <p>The length of <em>path</em> exceeds <strong>CA_MAXPATHLEN</strong> or the length of a <em>path</em> component exceeds <strong>CA_MAXNAMELEN</strong>.</p>
  </dd>
  <dt>
    <p><strong>SENOSHOST</strong></p>
  </dt>
  <dd>
    <p>Host unknown.</p>
  </dd>
  <dt>
    <p><strong>SENOSSERV</strong></p>
  </dt>
  <dd>
    <p>Service unknown.</p>
  </dd>
  <dt>
    <p><strong>SECOMERR</strong></p>
  </dt>
  <dd>
    <p>Communication error.</p>
  </dd>
  <dt>
    <p><strong>ENSNACT</strong></p>
  </dt>
  <dd>
    <p>Name server is not running or is being shutdown.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dpns_setfsizec&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man4/Castor_limits.4.html"><strong>Castor_limits</strong>(4)</a></strong>, <a href="../man3/dpns_chdir.3.html"><strong>dpns_chdir</strong>(3)</a></strong>, <a href="../man3/dpns_statg.3.html"><strong>dpns_statg</strong>(3)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>LCG Grid Deployment</strong> Team</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dpns_setfsize.3.html"><span aria-hidden="true">&larr;</span> dpns_setfsize.3: Set filesize for a regular file; set also last modification time to the current time</a></li>
   <li class="next"><a href="dpns_setptime.3.html">dpns_setptime.3: Set replica pin time <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
