<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FunOpen: Open a funtools data file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Open a funtools data file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="FunOpen (3) manual">
  <meta name="twitter:description" content="Open a funtools data file">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfuntools-dev-FunOpen-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/FunOpen.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="FunOpen (3) manual" />
  <meta property="og:description" content="Open a funtools data file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfuntools-dev-FunOpen-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">FunOpen<small> (3)</small></h1>
        <p class="lead">Open a funtools data file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/FunOpen.3.html">
      <span itemprop="name">FunOpen: Open a funtools data file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfuntools-dev/">
      <span itemprop="name">libfuntools-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/FunOpen.3.html">
      <span itemprop="name">FunOpen: Open a funtools data file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  #include &lt;funtools.h&gt;
</pre>
<p>  Fun FunOpen(char *name, char *mode, Fun ref);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong></strong><strong>FunOpen()</strong><strong></strong> routine opens a Funtools data file for reading or appending, or creates a new \s-1FITS\s0 file for writing. The <strong>name</strong> argument specifies the name of the Funtools data file to open. You can use IRAF-style bracket notation to specify Funtools Files, Extensions, and Filters. A separate call should be made each time a different \s-1FITS\s0 extension is accessed:</p><p>  Fun fun;   char *iname;   ...   if( !(fun = FunOpen(iname, "r", NULL)) ){     fprintf(stderr, "could not FunOpen input file: %s&#92;n", iname);     <strong>exit</strong>(1);   }</p><p>If <strong>mode</strong> is \*(L"r\*(R", the file is opened for reading, and processing is set up to begin at the specified extension. For reading, <strong>name</strong> can be <strong>stdin</strong>, in which case the standard input is read.</p><p>If <strong>mode</strong> is \*(L"w\*(R", the file is created if it does not exist, or opened and truncated for writing if it does exist. Processing starts at the beginning of the file.  The <strong>name</strong> can be <strong>stdout</strong>, in which case the standard output is readied for processing.</p><p>If <strong>mode</strong> is \*(L"a\*(R", the file is created if it does not exist, or opened if it does exist. Processing starts at the end of the file. The <strong>name</strong> can be <strong>stdout</strong>, in which case the standard output is readied for processing.</p><p>When a Funtools file is opened for writing or appending, a previously opened Funtools reference handle can be specified as the third argument. This handle typically is associated with the input Funtools file that will be used to generate the data for the output data.  When a reference file is specified in this way, the output file will inherit the (extension) header parameters from the input file:</p><p>  Fun fun, fun2;   ...   /* open input file */   if( !(fun = FunOpen(argv[1], "r", NULL)) )     gerror(stderr, "could not FunOpen input file: %s&#92;n", argv[1]);   /* open the output FITS image, inheriting params from input */   if( !(fun2 = FunOpen(argv[2], "w", fun)) )     gerror(stderr, "could not FunOpen output file: %s&#92;n", argv[2]);</p><p>Thus, in the above example, the output \s-1FITS\s0 binary table file will inherit all of the parameters associated with the input binary table extension.</p><p>A file opened for writing with a Funtools reference handle also inherits the selected columns (i.e. those columns chosen for processing using the <em>FunColumnSelect()</em> routine) from the reference file as its default columns. This makes it easy to open an output file in such a way that the columns written to the output file are the same as the columns read in the input file. Of course, column selection can easily be tailored using the <em>FunColumnSelect()</em> routine. In particular, it is easy to merge user-defined columns with the input columns to generate a new file.  See the evmerge for a complete example.</p><p>In addition, when a Funtools reference handle is supplied in a <em>FunOpen()</em> call, it is possible also to specify that all other extensions from the reference file (other than the input extension being processed) should be copied from the reference file to the output file. This is useful, for example, in a case where you are processing a \s-1FITS\s0 binary table or image and you want to copy all of the other extensions to the output file as well.  Copy of other extensions is controlled by adding a \*(L"C\*(R" or \*(L"c\*(R" to the mode string of the <em>FunOpen()</em> call of the input reference file.  If \*(L"C\*(R" is specified, then other extensions are <strong>always</strong> copied (i.e., copy is forced by the application).  If \*(L"c\*(R" is used, then other extensions are copied if the user requests copying by adding a plus sign \*(L"+\*(R" to the extension name in the bracket specification.  For example, the <strong>funtable</strong> program utilizes \*(L"c\*(R" mode, giving users the option of copying all other extensions:</p><p>  /* open input file -- allow user copy of other extensions */   if( !(fun = FunOpen(argv[1], "rc", NULL)) )     gerror(stderr, "could not FunOpen input file: %s&#92;n", argv[1]);   /* open the output FITS image, inheriting params from input */   if( !(fun2 = FunOpen(argv[2], "w", fun)) )     gerror(stderr, "could not FunOpen output file: %s&#92;n", argv[2]);</p><p>Thus, <strong>funtable</strong> supports either of these command lines:</p><p>  # copy only the EVENTS extension   csh&gt; funtable "test.ev[EVENTS,circle(512,512,10)]" foo.ev   # copy ALL extensions   csh&gt; funtable "test.ev[EVENTS+,circle(512,512,10)]" foo.ev</p><p>Use of a Funtools reference handle implies that the input file is opened before the output file.  However, it is important to note that if copy mode (\*(L"c\*(R" or \*(L"C\*(R") is specified for the input file, the actual input file open is delayed until just after the output file is opened, since the copy of prior extensions to the output file takes place while Funtools is seeking to the specified input extension.  This implies that the output file should be opened before any I/O is done on the input file or else the copy will fail.  Note also that the copy of subsequent extension will be handled automatically by <em>FunClose()</em> if the output file is closed before the input file. Alternatively, it can be done explicitly by <em>FunFlush()</em>, but again, this assumes that the input file still is open.</p><p>Upon success <em>FunOpen()</em> returns a Fun handle that is used in subsequent Funtools calls. On error, \s-1NULL\s0 is returned.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO FunOpen&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="FunLib.3.html"><span aria-hidden="true">&larr;</span> FunLib.3: The funtools programming interface</a></li>
   <li class="next"><a href="FunParamGet.3.html">FunParamGet.3: Get a funtools param value <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
