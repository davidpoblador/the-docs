<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Class::Meta::AccessorBuilder: Perl style accessor generation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl style accessor generation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Class::Meta::AccessorBuilder (3pm) manual">
  <meta name="twitter:description" content="Perl style accessor generation">
  <meta name="twitter:image" content="https://www.carta.tech/images/libclass-meta-perl-Class::Meta::AccessorBuilder-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Class::Meta::AccessorBuilder.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Class::Meta::AccessorBuilder (3pm) manual" />
  <meta property="og:description" content="Perl style accessor generation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libclass-meta-perl-Class::Meta::AccessorBuilder-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Class::Meta::AccessorBuilder<small> (3pm)</small></h1>
        <p class="lead">Perl style accessor generation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::Meta::AccessorBuilder.3pm.html">
      <span itemprop="name">Class::Meta::AccessorBuilder: Perl style accessor generation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libclass-meta-perl/">
      <span itemprop="name">libclass-meta-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::Meta::AccessorBuilder.3pm.html">
      <span itemprop="name">Class::Meta::AccessorBuilder: Perl style accessor generation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  package MyApp::TypeDef;

  use strict;
  use Class::Meta::Type;
  use IO::Socket;

  my $type = Class::Meta::Type-&gt;add(
      key     =&gt; &apos;io_socket&apos;,
      builder =&gt; &apos;default&apos;,
      desc    =&gt; &apos;IO::Socket object&apos;,
      name    =&gt; &apos;IO::Socket Object&apos;
  );
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides the default accessor builder for Class::Meta. It builds standard Perl-style accessors. For example, an attribute named \*(L"io_socket\*(R" would have a single accessor method, \*(C`io_socket\*(C'.</p><h3>Accessors</h3>
<p>Class::Meta::AccessorBuilder create three different types of accessors: read-only, write-only, and read/write. The type of accessor created depends on the value of the \*(C`authz\*(C' attribute of the Class::Meta::Attribute for which the accessor is being created.</p><p>For example, if the \*(C`authz\*(C' is Class::Meta::RDWR, then the method will be able to both read and write the attribute.</p><p>  my $value = $obj-&gt;io_socket;   $obj-&gt;io_socket($value);</p><p>If the value of \*(C`authz\*(C' is Class::Meta::READ, then the method will not be able to change the value of the attribute:</p><p>  my $value = $obj-&gt;io_socket;   $obj-&gt;io_socket($value); # Has no effect.</p><p>And finally, if the value of \*(C`authz\*(C' is Class::Meta::WRITE, then the method will not return the value of the attribute (why anyone would want this is beyond me, but I provide for the sake of completeness):</p><p>  $obj-&gt;io_socket($value);   my $value = $obj-&gt;io_socket;  # Always returns undef.</p>
<h3>Data Type Validation</h3>
<p>Class::Meta::AccessorBuilder uses all of the validation checks passed to it to validate new values before assigning them to an attribute. It also checks to see if the attribute is required, and if so, adds a check to ensure that its value is never undefined. It does not currently check to ensure that private and protected methods are used only in their appropriate contexts, but may do so in a future release.</p>
<h3>Class Attributes</h3>
<p>If the \*(C`context\*(C' attribute of the attribute object for which accessors are to be built is \*(C`Class::Meta::CLASS\*(C', Class::Meta::AccessorBuilder will build accessors for a class attribute instead of an object attribute. Of course, this means that if you change the value of the class attribute in any context\*(--whether via a an object, the class name, or an an inherited class name or object, the value will be changed everywhere.</p><p>For example, for a class attribute \*(L"count\*(R", you can expect the following to work:</p><p>  MyApp::Custom-&gt;count(10);   my $count = MyApp::Custom-&gt;count; # Returns 10.   my $obj = MyApp::Custom-&gt;new;   $count = $obj-&gt;count;             # Returns 10.</p><p>  $obj-&gt;count(22);   $count = $obj-&gt;count;             # Returns 22.   my $count = MyApp::Custom-&gt;count; # Returns 22.</p><p>  MyApp::Custom-&gt;count(35);   $count = $obj-&gt;count;             # Returns 35.   my $count = MyApp::Custom-&gt;count; # Returns 35.</p><p>Currently, class attribute accessors are not designed to be inheritable in the way designed by Class::Data::Inheritable, although this might be changed in a future release. For now, I expect that the current simple approach will cover the vast majority of circumstances.</p><p><strong>Note:</strong> Class attribute accessors will not work accurately in multiprocess environments such as mod_perl. If you change a class attribute's value in one process, it will not be changed in any of the others. Furthermore, class attributes are not currently shared across threads. So if you're using Class::Meta class attributes in a multi-threaded environment (such as iThreads in Perl 5.8.0 and later) the changes to a class attribute in one thread will not be reflected in other threads.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Private and Protected Attributes</h2>
        <div class="sectioncontent">
<p>Any attributes that have their \*(C`view\*(C' attribute set to Class::Meta::Private or Class::Meta::Protected get additional validation installed to ensure that they're truly private or protected. This includes when they are set via parameters to constructors generated by Class::Meta. The validation is performed by checking the caller of the accessors, and throwing an exception when the caller isn't the class that owns the attribute (for private attributes) or when it doesn't inherit from the class that owns the attribute (for protected attributes).</p><p>As an implementation note, this validation is performed for parameters passed to constructors created by Class::Meta by ignoring looking for the first caller that isn't Class::Meta::Constructor:</p><p>  my $caller = caller;   # Circumvent generated constructors.   for (my $i = 1; $caller eq &apos;Class::Meta::Constructor&apos;; $i++) {       $caller = caller($i);   }</p><p>This works because Class::Meta::Constructor installs the closures that become constructors, and thus, when those closures call accessors to set new values for attributes, the caller is Class::Meta::Constructor. By going up the stack until we find another package, we correctly check to see what context is setting attribute values via a constructor, rather than the constructor method itself being the context.</p><p>This is a bit of a hack, but since Perl uses call stacks for checking security in this way, it's the best I could come up with. Other suggestions welcome. Or see Class::Meta::Type to create your own accessor generation code</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERFACE</h2>
        <div class="sectioncontent">
<p>The following functions must be implemented by any Class::Meta accessor generation module.</p><h3>Functions</h3>
<p><em>build_attr_get</em></p><p>  my $code = Class::Meta::AccessorBuilder::build_attr_get();</p><p>This function is called by \*(C`Class::Meta::Type::make_attr_get()\*(C' and returns a code reference that can be used by the \*(C`get()\*(C' method of Class::Meta::Attribute to return the value stored for that attribute for the object passed to the code reference.</p><p><em>build_attr_set</em></p><p>  my $code = Class::Meta::AccessorBuilder::build_attr_set();</p><p>This function is called by \*(C`Class::Meta::Type::make_attr_set()\*(C' and returns a code reference that can be used by the \*(C`set()\*(C' method of Class::Meta::Attribute to set the value stored for that attribute for the object passed to the code reference.</p><p><em>build</em></p><p>  Class::Meta::AccessorBuilder::build($pkg, $attribute, $create, @checks);</p><p>This method is called by the \*(C`build()\*(C' method of Class::Meta::Type, and does the work of actually generating the accessors for an attribute object. The arguments passed to it are: The name of the class to which the accessors will be added. The Class::Meta::Attribute object that specifies the attribute for which the accessors will be created. The value of the \*(C`create\*(C' attribute of the Class::Meta::Attribute object, which determines what accessors, if any, are to be created. A list of code references that validate the value of an attribute. These will be used in the set accessor (mutator) to validate new attribute values.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>This module is stored in an open GitHub repository &lt;http://github.com/theory/class-meta/&gt;. Feel free to fork and contribute!</p><p>Please file bug reports via GitHub Issues &lt;http://github.com/theory/class-meta/issues/&gt; or by sending mail to bug-Class-Meta@rt.cpan.org &lt;mailto:bug-Class-Meta@rt.cpan.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>David E. Wheeler &lt;david@justatheory.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Class::Meta::AccessorBuilder&hellip;</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    Class::Meta
  </dt>
  <dd>
    <p>This class contains most of the documentation you need to get started with Class::Meta.</p>
  </dd>
  <dt>
    Class::Meta::AccessorBuilder::Affordance
  </dt>
  <dd>
    <p>This module generates affordance style accessors (e.g., \*(C`get_foo()\*(C' and \*(C`set_foo()\*(C'.</p>
  </dd>
  <dt>
    Class::Meta::AccessorBuilder::SemiAffordance
  </dt>
  <dd>
    <p>This module generates semi-affordance style accessors (e.g., \*(C`foo()\*(C' and \*(C`set_foo()\*(C'.</p>
  </dd>
  <dt>
    Class::Meta::Type
  </dt>
  <dd>
    <p>This class manages the creation of data types.</p>
  </dd>
  <dt>
    Class::Meta::Attribute
  </dt>
  <dd>
    <p>This class manages Class::Meta class attributes, most of which will have generated accessors.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2002-2011, David E. Wheeler. Some Rights Reserved.</p><p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Class::Meta.3pm.html"><span aria-hidden="true">&larr;</span> Class::Meta.3pm: Class automation, introspection, and data validation</a></li>
   <li class="next"><a href="Class::Meta::AccessorBuilder::Affordance.3pm.html">Class::Meta::AccessorBuilder::Affordance.3pm: Affordance style accessor generation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
