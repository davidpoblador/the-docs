<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Courier::Filter::Module: Abstract perl base class for filter modules used by the courier::filter framework</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Abstract perl base class for filter modules used by the courier::filter framework">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Courier::Filter::Module (3pm) manual">
  <meta name="twitter:description" content="Abstract perl base class for filter modules used by the courier::filter framework">
  <meta name="twitter:image" content="https://www.carta.tech/images/courier-filter-perl-Courier::Filter::Module-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Courier::Filter::Module.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Courier::Filter::Module (3pm) manual" />
  <meta property="og:description" content="Abstract perl base class for filter modules used by the courier::filter framework" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/courier-filter-perl-Courier::Filter::Module-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Courier::Filter::Module<small> (3pm)</small></h1>
        <p class="lead">Abstract perl base class for filter modules used by the courier::filter framework</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Courier::Filter::Module.3pm.html">
      <span itemprop="name">Courier::Filter::Module: Abstract perl base class for filter modules used by the courier::filter framework</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/courier-filter-perl/">
      <span itemprop="name">courier-filter-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Courier::Filter::Module.3pm.html">
      <span itemprop="name">Courier::Filter::Module: Abstract perl base class for filter modules used by the courier::filter framework</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<h3>Courier::Filter message filtering</h3>

<pre>
    use Courier::Filter::Module::My;  # Need to use a non-abstract sub-class.

    my $module = Courier::Filter::Module::My-&gt;new(
        logger      =&gt; $logger,
        inverse     =&gt; 0,
        trusting    =&gt; 0,
        testing     =&gt; 0,
        debugging   =&gt; 0
    );

    my $filter = Courier::Filter-&gt;new(
        ...
        modules     =&gt; [ $module ],
        ...
    );
</pre>

<h3>Deriving new filter module classes</h3>
<p>    package Courier::Filter::Module::My;     use base qw(Courier::Filter::Module);</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Sub-classes of <strong>Courier::Filter::Module</strong> are used by the <strong>Courier::Filter</strong> mail filtering framework to determine the acceptability of messages.  See Courier::Filter::Overview for an overview of how filter modules are used and for how to write them.</p><p>When overriding a method in a derived class, do not forget calling the inherited method from your overridden method.</p><h3>Constructor</h3>
<p>The following constructor is provided and may be overridden:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>new(%options)</strong>: returns <em>Courier::Filter::Module</em>
  </dt>
  <dd>
    <p>Creates a new filter module using the %options.  Initializes the filter module, by opening I/O handles, connecting to databases, creating temporary files, initializing parser libraries, etc.. %options is a list of key/value pairs representing any of the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>logger</strong>
  </dt>
  <dd>
    <p>A <strong>Courier::Filter::Logger</strong> object that will be used for logging message rejections and error messages caused by this individual filter module.  If no logger is specified, Courier::Filter's global logger will be used.</p>
  </dd>
  <dt>
    <strong>inverse</strong>
  </dt>
  <dd>
    <p>A boolean value controlling whether the filter module should operate with inverse polarity (<strong>true</strong>) as opposed to normal polarity (<strong>false</strong>).  Under inverse polarity, the result of the \*(C`match\*(C' method is negated by the \*(C`consider\*(C' method before returning it.  For details on how Courier::Filter translates <em>match results</em> into <em>acceptability results</em>, see \*(L"How filter modules work\*(R" in Courier::Filter::Overview.  Defaults to <strong>false</strong>.</p>
  </dd>
  <dt>
    <strong>trusting</strong>
  </dt>
  <dd>
    <p>A boolean value controlling whether the filter module should <em>not</em> be applied to trusted messages.  For details on how the trusted status is determined, see the description of the \*(C`trusted\*(C' property in Courier::Message.  In most configurations, this option can be used to white-list so-called <em>outbound</em> messages.  Defaults to <strong>false</strong>.</p>
  </dd>
  <dt>
    <strong>testing</strong>
  </dt>
  <dd>
    <p>A boolean value controlling whether the filter module should run in testing mode.  In testing mode, planned message rejections will be logged as usual, but no messages will actually be rejected.  Defaults to <strong>false</strong>.</p>
  </dd>
  <dt>
    <strong>debugging</strong>
  </dt>
  <dd>
    <p>A boolean value controlling whether the filter module should log extra debugging information.  Defaults to <strong>false</strong>.</p>
  </dd>

</dl>
<p>Derived classes may support additional options. \*(C`Courier::Filter::Module::new()\*(C' creates a hashref as an object of the invoked class, and stores the %options in it, but does nothing else.</p>
  </dd>

</dl>

<h3>Destructor</h3>
<p>The following destructor is provided and may be overridden:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>destroy</strong>
  </dt>
  <dd>
    <p>Uninitializes the filter module, by closing I/O handles, disconnecting from databases, deleting temporary files, uninitializing parser libraries, etc.. \*(C`Courier::Filter::Module::destroy()\*(C' does nothing.  Sub-classes may override this method and define clean-up behavior.</p>
  </dd>

</dl>

<h3>Class methods</h3>
<p>The following class methods are provided and may be overridden:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>warn($text)</strong>
  </dt>
  <dd>
    <p>Writes a warning message to syslog.  This method may also be used as an instance method.</p>
  </dd>

</dl>

<h3>Instance methods</h3>
<p>The following instance methods are provided and may be overridden:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>consider($message)</strong>: returns <em>string</em>, [<em>string</em>]; throws Perl exceptions
  </dt>
  <dd>
    <p>Calls the \*(C`match\*(C' method, passing it the $message object.  Returns the result of \*(C`match\*(C', negating it beforehand if the filter module has inverse polarity. There is usually no need at all to override this method.</p>
  </dd>
  <dt>
    <strong>match($message)</strong>: returns <em>string</em>, [<em>string</em>]; throws Perl exceptions
  </dt>
  <dd>
    <p>Examines the <strong>Courier::Message</strong> object given as $message.  Returns a so-called <em>match result</em> consisting of an \s-1SMTP\s0 status response <em>text</em>, and an optional numerical \s-1SMTP\s0 status response <em>code</em>.  For details about how <em>match results</em> are used by Courier::Filter, see \*(L"How filter modules work\*(R" in Courier::Filter::Overview and \*(L"Writing filter modules\*(R" in Courier::Filter::Overview. \*(C`Courier::Filter::Module::match()\*(C' does nothing and returns <strong>undef</strong>. Sub-classes should override this method and define their own matching rule.</p>
  </dd>
  <dt>
    <strong>logger</strong>: returns <em>Courier::Filter::Logger</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>logger($logger)</strong>: returns <em>Courier::Filter::Logger</em>
  </dt>
  <dd>
    <p>If $logger is specified, installs a new logger for this individual filter module.  Returns the current (new) logger.</p>
  </dd>
  <dt>
    <strong>inverse</strong>: returns <em>boolean</em>
  </dt>
  <dd>
    <p>Returns a boolean value indicating whether the filter module is operating with inverse polarity, as set through the constructor's \*(C`inverse\*(C' option.</p>
  </dd>
  <dt>
    <strong>trusting</strong>: returns <em>boolean</em>
  </dt>
  <dd>
    <p>Returns a boolean value indicating whether the filter module does <em>not</em> apply to trusted messages, as set through the constructor's \*(C`trusting\*(C' option.</p>
  </dd>
  <dt>
    <strong>testing</strong>: returns <em>boolean</em>
  </dt>
  <dd>
    <p>Returns a boolean value indicating whether the filter module is in testing mode, as set through the constructor's \*(C`testing\*(C' option.</p>
  </dd>
  <dt>
    <strong>debugging</strong>: returns <em>boolean</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>debugging($debugging)</strong>: returns <em>boolean</em>
  </dt>
  <dd>
    <p>If $debugging is specified, sets the debugging mode for this individual filter module.  Returns the (newly) configured debugging mode.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Courier::Filter::Module&hellip;</h2>
        <div class="sectioncontent">
<p>Courier::Filter, Courier::Filter::Module.</p><p>For a list of prepared loggers that come with Courier::Filter, see \*(L"Bundled Courier::Filter loggers\*(R" in Courier::Filter::Overview.</p><p>For \s-1AVAILABILITY\s0, \s-1SUPPORT\s0, and \s-1LICENSE\s0 information, see Courier::Filter::Overview.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Julian Mehnle &lt;julian@mehnle.net&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Courier::Filter::Logger::Syslog.3pm.html"><span aria-hidden="true">&larr;</span> Courier::Filter::Logger::Syslog.3pm: Syslog logger for the courier::filter framework</a></li>
   <li class="next"><a href="Courier::Filter::Module::BlankBody.3pm.html">Courier::Filter::Module::BlankBody.3pm: Blank-body message filter module for the courier::filter framework <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
