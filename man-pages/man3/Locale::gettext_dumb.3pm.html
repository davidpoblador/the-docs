<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Locale::gettext_dumb: Locale unaware implementation of uniforum message translation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Locale unaware implementation of uniforum message translation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Locale::gettext_dumb (3pm) manual">
  <meta name="twitter:description" content="Locale unaware implementation of uniforum message translation">
  <meta name="twitter:image" content="https://www.carta.tech/images/libintl-perl-Locale::gettext_dumb-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Locale::gettext_dumb.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Locale::gettext_dumb (3pm) manual" />
  <meta property="og:description" content="Locale unaware implementation of uniforum message translation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libintl-perl-Locale::gettext_dumb-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Locale::gettext_dumb<small> (3pm)</small></h1>
        <p class="lead">Locale unaware implementation of uniforum message translation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Locale::gettext_dumb.3pm.html">
      <span itemprop="name">Locale::gettext_dumb: Locale unaware implementation of uniforum message translation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libintl-perl/">
      <span itemprop="name">libintl-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Locale::gettext_dumb.3pm.html">
      <span itemprop="name">Locale::gettext_dumb: Locale unaware implementation of uniforum message translation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use Locale::gettext_dumb (:locale_h :libintl_h);

 # Normally, you will not want to include this module directly but this way:
 use Locale::Messages;

 my $selected = Locale::Messages-&gt;select_package (&apos;gettext_dumb&apos;);

 gettext $msgid;
 dgettext $domainname, $msgid;
 dcgettext $domainname, $msgid, LC_MESSAGES;
 ngettext $msgid, $msgid_plural, $count;
 dngettext $domainname, $msgid, $msgid_plural, $count;
 dcngettext $domainname, $msgid, $msgid_plural, $count, LC_MESSAGES;
 pgettext $msgctxt, $msgid;
 dpgettext $domainname, $msgctxt, $msgid;
 dcpgettext $domainname, $msgctxt, $msgid, LC_MESSAGES;
 npgettext $msgctxt, $msgid, $msgid_plural, $count;
 dnpgettext $domainname, $msgctxt, $msgid, $msgid_plural, $count;
 dcnpgettext $domainname, $msgctxt, $msgid, $msgid_plural, $count, LC_MESSAGES;
 textdomain $domainname;
 bindtextdomain $domainname, $directory;
 bind_textdomain_codeset $domainname, $encoding;
 my $category = LC_CTYPE;
 my $category = LC_NUMERIC;
 my $category = LC_TIME;
 my $category = LC_COLLATE;
 my $category = LC_MONETARY;
 my $category = LC_MESSAGES;
 my $category = LC_ALL;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>\s-1IMPORTANT\s0!</strong> This module is experimental.  It may not work as described!</p><p>The module <strong>Locale::gettext_dumb</strong> does exactly the same as <em>Locale::gettext_xs</em>\|(3pm) or <em>Locale::gettext_pp</em>\|(3pm).</p><p>While both other modules use <em>POSIX::setlocale()</em> to determine the currently selected locale, this backend only checks the environment variables \s-1LANGUAGE\s0, \s-1LANG\s0, \s-1LC_ALL\s0, \s-1LC_MESSAGES\s0 (in that order), when it tries to locate a message catalog (a .mo file).</p><p>This class was introduced in libintl-perl 1.22.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>This module should not be used for desktop software or scripts run locally. Why? If you use a message catalog for example in Danish in \s-1UTF-8\s0 (da_DA.UTF8) but the  system locale is set to Russian with \s-1KOI8-R\s0 (ru_RU.KOI8-R) you may produce invalid output, either invalid multi-byte sequences or invalid text, depending on how you look at it.</p><p>That will happen, when you mix output from <strong>Locale::gettext_pp</strong> with locale-dependent output from the operating system like the contents of the variable \*(L"$!\*(R", date and time formatting functions (<em>localtime()</em>, <em>gmtime()</em>, <em>POSIX::strftime()</em> etc.), number formatting with <em>printf()</em> and friends, and so on.</p><p>A typical usage scenario looks like this:</p><p>You have a server application (for example a web application) that is supposed to display a fixed set of messages in many languages.  If you want to do this with <em>Locale::gettext_xs</em>\|(3pm) or <em>Locale::gettext_pp</em>\|(3pm), you have to install the locale data for all of those languages.  Otherwise, translating the messages will not work.</p><p>With <em>Locale::gettext_dumb</em>\|(3pm) you can relax these requirements, and display messages for all languages that you have mo files for.</p><p>On the other hand, you will soon reach limits with this approach.  Almost any application requires more than bare translation of messages for localisation.  You want to formatted dates and times, you want to display numbers in the correct formatting for the selected languages, and you may want to display system error messages (\*(L"$!\*(R").</p><p>In practice, <em>Locale::gettext_dumb</em>\|(3pm) is still useful in these scenarios. Your users will have to live with the fact that the presented output is in different languages resp. for different locales, when \*(L"their\*(R" locale is not installed on your system.</p><p>More dangerous is mixing output in different character sets but that can be easily avoided.  Simply make sure that <strong>Locale::gettext_dump</strong> uses \s-1UTF-8\s0 (for example by setting the environment variable \s-1OUTPUT_CHARSET\s0 or by calling <em>bind_textdomain_codeset()</em>) and make sure that the system locale also uses \s-1UTF-8\s0, for example \*(L"en_US.UTF8\*(R".  If that fails, switch to a locale that uses a subset of \s-1UTF-8\s0.  In practice that will be US-ASCII, the character set used by the default locale \*(L"C\*(R" resp. \*(L"\s-1POSIX\s0\*(R".</p><p>Your application will then to a certain extent mix output for different localisations resp. languages.  But this is completely under your control.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>See above! Normally you should not use this module! However, let us assume you have read the warnings.  In a web application you would do something like this:</p><p>    use Locale::TextDomain qw (com.example.yourapp);     use Locale::Messages qw (nl_putenv LC_ALL bindtextdomain                              bind_textdomain_codeset);     use Locale::Util qw (web_set_locale);     use POSIX qw (setlocale);</p><p>    # First try to switch to the locale requested by the user.  If you     # know it you can try to pass it to setlocale like this:     #     #   my $hardcoded_locale = &apos;fr_FR.UTF-8&apos;;     #   my $success = POSIX::setlocale (LC_ALL, $hardcoded_locale);     #     # However, we try to let libintl-perl do a better job for us:     my $success = web_set_locale $ENV{HTTP_ACCEPT_LANGUAGE},                                  $ENV{HTTP_ACCEPT_CHARSET};     # Note: If your application forces the use of UTF-8 for its output     # you should pass &apos;UTF-8&apos; as the second argument to web_set_locale     # instead of $ENV{HTTP_ACCEPT_CHARSET}.</p><p>    if (!$success) {         # Did not work.  Switch to the dumb interface of         # Locale::Messages.         Locale::Messages-&gt;select_package (&apos;gettext_dumb&apos;);</p><p>        # And try to switch to a default locale:         if (!setlocale (LC_ALL, &apos;en_US.UTF-8&apos;)) {             # Still no luck.  Enforce at least US-ASCII:             setlocale (LC_ALL, &apos;C&apos;);         }         bind_textdomain_codeset &apos;com.example.yourapp&apos;, &apos;utf-8&apos;;     }</p><p>If your application forces the usage of \s-1UTF-8\s0 you should ignore the environment variable</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2002-2013, Guido Flohr &lt;guido@imperia.net&gt;, all rights reserved.  See the source code for details.</p><p>This software is contributed to the Perl community by Imperia (&lt;http://www.imperia.net/&gt;).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Locale::gettext_dumb&hellip;</h2>
        <div class="sectioncontent">
<p><em>Locale::TextDomain</em>\|(3pm), <em>Locale::Messages</em>\|(3pm), <em>Encode</em>\|(3pm), <em>perllocale</em>\|(3pm), \s-1<em>POSIX\s0</em>\|(3pm), <em>perl</em>\|(1), <em>gettext</em>\|(1), <em>gettext</em>\|(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Locale::Util.3pm.html"><span aria-hidden="true">&larr;</span> Locale::Util.3pm: Portable l10n and i10n functions</a></li>
   <li class="next"><a href="Locale::gettext_pp.3pm.html">Locale::gettext_pp.3pm: Pure perl implementation of uniforum message translation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
