<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Parse::Syslog: Parse unix syslog files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Parse unix syslog files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Parse::Syslog (3pm) manual">
  <meta name="twitter:description" content="Parse unix syslog files">
  <meta name="twitter:image" content="https://www.carta.tech/images/libparse-syslog-perl-Parse::Syslog-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Parse::Syslog.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Parse::Syslog (3pm) manual" />
  <meta property="og:description" content="Parse unix syslog files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libparse-syslog-perl-Parse::Syslog-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Parse::Syslog<small> (3pm)</small></h1>
        <p class="lead">Parse unix syslog files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Parse::Syslog.3pm.html">
      <span itemprop="name">Parse::Syslog: Parse unix syslog files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libparse-syslog-perl/">
      <span itemprop="name">libparse-syslog-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Parse::Syslog.3pm.html">
      <span itemprop="name">Parse::Syslog: Parse unix syslog files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 my $parser = Parse::Syslog-&gt;new( &apos;/var/log/syslog&apos;, year =&gt; 2001);
 while(my $sl = $parser-&gt;next) {
     ... access $sl-&gt;{timestamp|host|program|pid|text} ...
 }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Unix syslogs are convenient to read for humans but because of small differences between operating systems and things like 'last message repeated xx times' not very easy to parse by a script.</p><p>Parse::Syslog presents a simple interface to parse syslog files: you create a parser on a file (with <strong>new</strong>) and call <strong>next</strong> to get one line at a time with Unix-timestamp, host, program, pid and text returned in a hash-reference.</p><h3>Constructing a Parser</h3>
<p><strong>new</strong> requires as first argument a source from where to get the syslog lines. It can be:</p><ul>
<li><p>a file-name for the syslog-file to be parsed.</p></li><li><p>an IO::Handle object.</p></li><li><p>a File::Tail object as first argument, in which case the <em>read</em> method will be called to get lines to process.</p></li>
</ul><p>After the file-name (or File::Tail object), you can specify options as a hash. The following options are defined:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>type</strong>
  </dt>
  <dd>
    <p>Format of the \*(L"syslog\*(R" file. Can be one of:</p>
<dl class='dl-vertical'>
  <dt>
    <em>syslog</em>
  </dt>
  <dd>
    <p>Traditional \*(L"syslog\*(R" (default)</p>
  </dd>
  <dt>
    <em>metalog</em>
  </dt>
  <dd>
    <p>Metalog (see http://metalog.sourceforge.net/)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>year</strong>
  </dt>
  <dd>
    <p>Syslog files usually do store the time of the event without year. With this option you can specify the start-year of this log. If not specified, it will be set to the current year.</p>
  </dd>
  <dt>
    <strong>\s-1GMT\s0</strong>
  </dt>
  <dd>
    <p>If this option is set, the time in the syslog will be converted assuming it is \s-1GMT\s0 time instead of local time.</p>
  </dd>
  <dt>
    <strong>repeat</strong>
  </dt>
  <dd>
    <p>Parse::Syslog will by default repeat xx times events that are followed by messages like 'last message repeated xx times'. If you set this option to false, it won't do that.</p>
  </dd>
  <dt>
    <strong>arrayref</strong>
  </dt>
  <dd>
    <p>If this option is true, <em>next</em> will return an array-ref instead of a hash-ref (and is thus a bit faster), with the following contents:</p>
<dl class='dl-vertical'>
  <dt>
    0:
  </dt>
  <dd>
    <p>timestamp</p>
  </dd>
  <dt>
    1:
  </dt>
  <dd>
    <p>host</p>
  </dd>
  <dt>
    2:
  </dt>
  <dd>
    <p>program</p>
  </dd>
  <dt>
    3:
  </dt>
  <dd>
    <p>pid</p>
  </dd>
  <dt>
    4:
  </dt>
  <dd>
    <p>text</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>locale</strong>
  </dt>
  <dd>
    <p>Optional. Specifies an additional locale name or the array of locale names for the parsing of log files with national characters.</p>
  </dd>
  <dt>
    <strong>allow_future</strong>
  </dt>
  <dd>
    <p>If true will allow for timestamps in the future. Otherwise timestamps of one day in the future and more will not be returned (as a safety measure against wrong configurations, bogus --year arguments, etc.)</p>
  </dd>

</dl>

<h3>Parsing the file</h3>
<p>The file is parse one line at a time by calling the <strong>next</strong> method, which returns a hash-reference containing the following keys:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>timestamp</strong>
  </dt>
  <dd>
    <p>Unix timestamp for the event.</p>
  </dd>
  <dt>
    <strong>host</strong>
  </dt>
  <dd>
    <p>Host-name where the event did happen.</p>
  </dd>
  <dt>
    <strong>program</strong>
  </dt>
  <dd>
    <p>Program-name of the program that generated the event.</p>
  </dd>
  <dt>
    <strong>pid</strong>
  </dt>
  <dd>
    <p>\s-1PID\s0 of the Program that generated the event. This information is not always available for every operating system.</p>
  </dd>
  <dt>
    <strong>text</strong>
  </dt>
  <dd>
    <p>Text description of the event.</p>
  </dd>
  <dt>
    <strong>msgid</strong>
  </dt>
  <dd>
    <p>Message numeric identifier, available only on Solaris &gt;= 8 with \*(L"message \s-1ID\s0 generation\*(R" enabled".</p>
  </dd>
  <dt>
    <strong>facility</strong>
  </dt>
  <dd>
    <p>Log facility name, available only on Solaris &gt;= 8 with \*(L"message \s-1ID\s0 generation\*(R" enabled".</p>
  </dd>
  <dt>
    <strong>level</strong>
  </dt>
  <dd>
    <p>Log level, available only on Solaris &gt;= 8 with \*(L"message \s-1ID\s0 generation\*(R" enabled".</p>
  </dd>

</dl>

<h3>\s-1BUGS\s0</h3>
<p>There are many small differences in the syslog syntax between operating systems. This module has been tested for syslog files produced by the following operating systems:</p><p>    Debian GNU/Linux 2.4 (sid)     Solaris 2.6     Solaris 8</p><p>Report problems for these and other operating systems to the author.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2001, Swiss Federal Institute of Technology, Zurich. All Rights Reserved.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>David Schweikert &lt;dws@ee.ethz.ch&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p> 2001-08-12 ds 0.01 first version  2001-08-19 ds 0.02 fix &apos;last message repeated xx times&apos;, Solaris 8 problems  2001-08-20 ds 0.03 implemented GMT option, year specification, File::Tail  2001-10-31 ds 0.04 faster time parsing, implemented &apos;arrayref&apos; option, better time-increment algorithm  2002-01-29 ds 0.05 ignore -- MARK -- lines, low-case months, space in program names  2002-05-02 ds 1.00 HP-UX fixes, parse &apos;above message repeats xx times&apos;  2002-05-25 ds 1.01 added support for localized month names (uchum@mail.ru)  2002-10-28 ds 1.02 fix off-by-one-hour error when running during daylight saving time switch  2004-01-19 ds 1.03 do not allow future dates (if allow_future is not true)  2004-07-11 ds 1.04 added support for type &apos;metalog&apos;  2005-12-24 ds 1.05 allow passing of a IO::Handle object to new</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Parse::RecDescent.3pm.html"><span aria-hidden="true">&larr;</span> Parse::RecDescent.3pm: Generate recursive-descent parsers</a></li>
   <li class="next"><a href="Parse::Win32Registry.3pm.html">Parse::Win32Registry.3pm: Parse windows registry files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
