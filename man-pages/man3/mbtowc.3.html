<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mbtowc: Convert a multibyte sequence to a wide character</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert a multibyte sequence to a wide character">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mbtowc (3) manual">
  <meta name="twitter:description" content="Convert a multibyte sequence to a wide character">
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mbtowc (3) manual" />
  <meta property="og:description" content="Convert a multibyte sequence to a wide character" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mbtowc<small> (3)</small></h1>
        <p class="lead">Convert a multibyte sequence to a wide character</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mbtowc.3.html">
      <span itemprop="name">mbtowc: Convert a multibyte sequence to a wide character</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/man-pages/">
      <span itemprop="name">man-pages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mbtowc.3.html">
      <span itemprop="name">mbtowc: Convert a multibyte sequence to a wide character</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;stdlib.h&gt;</strong>

<strong>int mbtowc(wchar_t *</strong><em>pwc</em><strong>, const char *</strong><em>s</em><strong>, size_t </strong><em>n</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The main case for this function is when <em>s</em> is not NULL and <em>pwc</em> is not NULL. In this case, the <strong>mbtowc</strong>() function inspects at most <em>n</em> bytes of the multibyte string starting at <em>s</em>, extracts the next complete multibyte character, converts it to a wide character and stores it at <em>*pwc</em>. It updates an internal shift state known only to the <strong>mbtowc</strong>() function. If <em>s</em> does not point to a null byte (&apos;&#92;0&apos;), it returns the number of bytes that were consumed from <em>s</em>, otherwise it returns 0.</p><p>If the <em>n</em> bytes starting at <em>s</em> do not contain a complete multibyte character, or if they contain an invalid multibyte sequence, <strong>mbtowc</strong>() returns -1. This can happen even if <em>n</em> &gt;= <em>MB_CUR_MAX</em>, if the multibyte string contains redundant shift sequences.</p><p>A different case is when <em>s</em> is not NULL but <em>pwc</em> is NULL. In this case, the <strong>mbtowc</strong>() function behaves as above, except that it does not store the converted wide character in memory.</p><p>A third case is when <em>s</em> is NULL. In this case, <em>pwc</em> and <em>n</em> are ignored. The <strong>mbtowc</strong>() function resets the shift state, only known to this function, to the initial state, and returns nonzero if the encoding has nontrivial shift state, or zero if the encoding is stateless.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>If <em>s</em> is not NULL, the <strong>mbtowc</strong>() function returns the number of consumed bytes starting at <em>s</em>, or 0 if <em>s</em> points to a null byte, or -1 upon failure.</p><p>If <em>s</em> is NULL, the <strong>mbtowc</strong>() function returns nonzero if the encoding has nontrivial shift state, or zero if the encoding is stateless.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ATTRIBUTES</h2>
        <div class="sectioncontent">
<p>For an explanation of the terms used in this section, see <a href="../man7/attributes.7.html"><strong>attributes</strong>(7)</a>.</p><table class="table table-striped">
<tr>
<th>Interface</th>
<th>Attribute</th>
<th>Value</th></tr>

<tr>
<td><strong>mbtowc</strong>()  </td>
<td>Thread safety</td>
<td>MT-Unsafe race</td></tr>
</table>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p>POSIX.1-2001, POSIX.1-2008, C99.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The behavior of <strong>mbtowc</strong>() depends on the <strong>LC_CTYPE</strong> category of the current locale.</p><p>This function is not multithread safe. The function <a href="../man3/mbrtowc.3.html"><strong>mbrtowc</strong>(3)</a> provides a better interface to the same functionality.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mbtowc&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/MB_CUR_MAX.3.html"><strong>MB_CUR_MAX</strong>(3)</a>, <a href="../man3/mblen.3.html"><strong>mblen</strong>(3)</a>, <a href="../man3/mbrtowc.3.html"><strong>mbrtowc</strong>(3)</a>, <a href="../man3/mbstowcs.3.html"><strong>mbstowcs</strong>(3)</a>, <a href="../man3/wctomb.3.html"><strong>wctomb</strong>(3)</a>, <a href="../man3/wcstombs.3.html"><strong>wcstombs</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mbstowcs.3.html"><span aria-hidden="true">&larr;</span> mbstowcs.3: Convert a multibyte string to a wide-character string</a></li>
   <li class="next"><a href="mcheck.3.html">mcheck.3: Heap consistency checking <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
