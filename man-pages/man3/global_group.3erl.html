<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>global_group: Grouping nodes to global name registration groups</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Grouping nodes to global name registration groups">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="global_group (3erl) manual">
  <meta name="twitter:description" content="Grouping nodes to global name registration groups">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-global_group-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/global_group.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="global_group (3erl) manual" />
  <meta property="og:description" content="Grouping nodes to global name registration groups" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-global_group-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">global_group<small> (3erl)</small></h1>
        <p class="lead">Grouping nodes to global name registration groups</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/global_group.3erl.html">
      <span itemprop="name">global_group: Grouping nodes to global name registration groups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/global_group.3erl.html">
      <span itemprop="name">global_group: Grouping nodes to global name registration groups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The global group function makes it possible to group the nodes in a system into partitions, each partition having its own global name space, refer to <em>global(3erl)</em>. These partitions are called global groups.</p><p>The main advantage of dividing systems to global groups is that the background load decreases while the number of nodes to be updated is reduced when manipulating globally registered names.</p><p>The Kernel configuration parameter <em>global_groups</em> defines the global groups (see also <a href="../man7/kernel.7.html"><strong>kernel</strong>(7)</a></strong>, <a href="../man5/config.5.html"><strong>config</strong>(5)</a></strong>:</p>
<pre>
{global_groups, [GroupTuple :: group_tuple()]}
</pre>
<p>For the processes and nodes to run smoothly using the global group functionality, the following criteria must be met:</p>
<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>An instance of the global group server, <em>global_group</em>, must be running on each node. The processes are automatically started and synchronized when a node is started.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>All involved nodes must agree on the global group definition, or the behavior of the system is undefined.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>All</em> nodes in the system should belong to exactly one global group.</p>
  </dd>

</dl>
<p>In the following description, a <em>group node</em> is a node belonging to the same global group as the local node.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA TYPES</h2>
        <div class="sectioncontent">

<pre>
<strong>group_tuple()</strong> = {GroupName :: <strong>group_name()</strong>, [node()]}

              | {GroupName :: <strong>group_name()</strong>,

                 PublishType :: <strong>publish_type()</strong>,

                 [node()]}

</pre>
<p>A <em>GroupTuple</em> without <em>PublishType</em> is the same as a <em>GroupTuple</em> with <em>PublishType == normal</em>.</p>
<pre>
<strong>group_name()</strong> = atom()

</pre>

<pre>
<strong>publish_type()</strong> = hidden | normal

</pre>
<p>A node started with the command line flag <em>-hidden</em>, see <a href="../man1/erl.1.html"><strong>erl</strong>(1)</a></strong>, is said to be a <em>hidden</em> node. A hidden node will establish hidden connections to nodes not part of the same global group, but normal (visible) connections to nodes part of the same global group.</p><p>A global group defined with <em>PublishType == hidden</em>, is said to be a hidden global group. All nodes in a hidden global group are hidden nodes, regardless if they are started with the <em>-hidden</em> command line flag or not.</p>
<pre>
<strong>name()</strong> = atom()

</pre>
<p>A registered name.</p>
<pre>
<strong>where()</strong> = {node, node()} | {group, <strong>group_name()</strong>}

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
global_groups() -&gt; {GroupName, GroupNames} | undefined

</pre>
<p>Types:</p><p>GroupName = <strong>group_name()</strong></p><p>GroupNames = [GroupName]</p><p>Returns a tuple containing the name of the global group the local node belongs to, and the list of all other known group names. Returns <em>undefined</em> if no global groups are defined.</p>
<pre>
<strong></strong>
info() -&gt; [info_item()]

</pre>
<p>Types:</p>
<pre>
<strong>info_item()</strong> = {state, State :: <strong>sync_state()</strong>}

            | {own_group_name, GroupName :: <strong>group_name()</strong>}

            | {own_group_nodes, Nodes :: [node()]}

            | {synched_nodes, Nodes :: [node()]}

            | {sync_error, Nodes :: [node()]}

            | {no_contact, Nodes :: [node()]}

            | {other_groups, Groups :: [<strong>group_tuple()</strong>]}

            | {monitoring, Pids :: [pid()]}
</pre>

<pre>
<strong>sync_state()</strong> = no_conf | synced
</pre>
<p>Returns a list containing information about the global groups. Each element of the list is a tuple. The order of the tuples is not defined.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{state, State}</em>: If the local node is part of a global group, <em>State == synced</em>. If no global groups are defined, <em>State == no_conf</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{own_group_name, GroupName}</em>: The name (atom) of the group that the local node belongs to.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{own_group_nodes, Nodes}</em>: A list of node names (atoms), the group nodes.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{synced_nodes, Nodes}</em>: A list of node names, the group nodes currently synchronized with the local node.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{sync_error, Nodes}</em>: A list of node names, the group nodes with which the local node has failed to synchronize.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{no_contact, Nodes}</em>: A list of node names, the group nodes to which there are currently no connections.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{other_groups, Groups}</em>: <em>Groups</em> is a list of tuples <em>{GroupName, Nodes}</em>, specifying the name and nodes of the other global groups.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{monitoring, Pids}</em>: A list of pids, specifying the processes which have subscribed to <em>nodeup</em> and <em>nodedown</em> messages.</p>
  </dd>

</dl>

<pre>
<strong></strong>
monitor_nodes(Flag) -&gt; ok

</pre>
<p>Types:</p><p>Flag = boolean()</p><p>Depending on <em>Flag</em>, the calling process starts subscribing (<em>Flag == true</em>) or stops subscribing (<em>Flag == false</em>) to node status change messages.</p><p>A process which has subscribed will receive the messages <em>{nodeup, Node}</em> and <em>{nodedown, Node}</em> when a group node connects or disconnects, respectively.</p>
<pre>
<strong></strong>
own_nodes() -&gt; Nodes

</pre>
<p>Types:</p><p>Nodes = [Node :: node()]</p><p>Returns the names of all group nodes, regardless of their current status.</p>
<pre>
<strong></strong>
registered_names(Where) -&gt; Names

</pre>
<p>Types:</p><p>Where = <strong>where()</strong></p><p>Names = [Name :: <strong>name()</strong>]</p><p>Returns a list of all names which are globally registered on the specified node or in the specified global group.</p>
<pre>
<strong></strong>
send(Name, Msg) -&gt; pid() | {badarg, {Name, Msg}}

</pre>

<pre>
<strong></strong>
send(Where, Name, Msg) -&gt; pid() | {badarg, {Name, Msg}}

</pre>
<p>Types:</p><p>Where = <strong>where()</strong></p><p>Name = <strong>name()</strong></p><p>Msg = term()</p><p>Searches for <em>Name</em>, globally registered on the specified node or in the specified global group, or -- if the <em>Where</em> argument is not provided -- in any global group. The global groups are searched in the order in which they appear in the value of the <em>global_groups</em> configuration parameter.</p><p>If <em>Name</em> is found, the message <em>Msg</em> is sent to the corresponding pid. The pid is also the return value of the function. If the name is not found, the function returns <em>{badarg, {Name, Msg}}</em>.</p>
<pre>
<strong></strong>
sync() -&gt; ok

</pre>
<p>Synchronizes the group nodes, that is, the global name servers on the group nodes. Also check the names globally registered in the current global group and unregisters them on any known node not part of the group.</p><p>If synchronization is not possible, an error report is sent to the error logger (see also <em>error_logger(3erl)</em>).</p><p>Failure: <em>{error, {'invalid global_groups definition', Bad}}</em> if the <em>global_groups</em> configuration parameter has an invalid value <em>Bad</em>.</p>
<pre>
<strong></strong>
whereis_name(Name) -&gt; pid() | undefined

</pre>

<pre>
<strong></strong>
whereis_name(Where, Name) -&gt; pid() | undefined

</pre>
<p>Types:</p><p>Where = <strong>where()</strong></p><p>Name = <strong>name()</strong></p><p>Searches for <em>Name</em>, globally registered on the specified node or in the specified global group, or -- if the <em>Where</em> argument is not provided -- in any global group. The global groups are searched in the order in which they appear in the value of the <em>global_groups</em> configuration parameter.</p><p>If <em>Name</em> is found, the corresponding pid is returned. If the name is not found, the function returns <em>undefined</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTE</h2>
        <div class="sectioncontent">
<p>In the situation where a node has lost its connections to other nodes in its global group, but has connections to nodes in other global groups, a request from another global group may produce an incorrect or misleading result. For example, the isolated node may not have accurate information about registered names in its global group.</p><p>Note also that the <em>send/2,3</em> function is not secure.</p><p>Distribution of applications is highly dependent of the global group definitions. It is not recommended that an application is distributed over several global groups of the obvious reason that the registered names may be moved to another global group at failover/takeover. There is nothing preventing doing this, but the application code must in such case handle the situation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO global_group&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/erl.1.html"><strong>erl</strong>(1)</a></strong>, <strong>global(3erl)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="global.3erl.html"><span aria-hidden="true">&larr;</span> global.3erl: A global name registration facility</a></li>
   <li class="next"><a href="glu.3erl.html">glu.3erl: A part of the standard opengl utility api. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
