<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NetApp::Filer::Export: Oo class for representing nfs exports</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Oo class for representing nfs exports">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="NetApp::Filer::Export (3pm) manual">
  <meta name="twitter:description" content="Oo class for representing nfs exports">
  <meta name="twitter:image" content="https://www.carta.tech/images/libnetapp-perl-NetApp::Filer::Export-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/NetApp::Filer::Export.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="NetApp::Filer::Export (3pm) manual" />
  <meta property="og:description" content="Oo class for representing nfs exports" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libnetapp-perl-NetApp::Filer::Export-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">NetApp::Filer::Export<small> (3pm)</small></h1>
        <p class="lead">Oo class for representing nfs exports</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/NetApp::Filer::Export.3pm.html">
      <span itemprop="name">NetApp::Filer::Export: Oo class for representing nfs exports</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libnetapp-perl/">
      <span itemprop="name">libnetapp-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/NetApp::Filer::Export.3pm.html">
      <span itemprop="name">NetApp::Filer::Export: Oo class for representing nfs exports</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use NetApp::Filer;

    my $filer                   = NetApp::Filer-&gt;new({ ... });

    # Filer methods for querying exports:
    my @exports                 = $filer-&gt;get_exports;
    my @temporary_exports       = $filer-&gt;get_temporary_exports;
    my @permanent_exports       = $filer-&gt;get_permanent_exports;
    my @active_exports          = $filer-&gt;get_active_exports;
    my @inactive_exports        = $filer-&gt;get_inactive_exports;

    # Methods for accessing export attributes
    foreach my $export ( @exports ) {

    }

    # Methods for changing export attributes
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This class encapsulates a single \s-1NFS\s0 export on a NetApp filer, and provides methods for managing them.  There are related methods in the NetApp::Filer class for manging exports as a whole, but the methods in this class are specific to a single \s-1NFS\s0 export.</p><h3>\s-1API\s0 specific attributes</h3>
<p>This \s-1API\s0 also attempts to bring some sanity to how exports are managed, and some consistency to the interface.  Most of the attributes of an export are fairly obvious, and they map directly to the options supported by \*(L"exportfs\*(R" and the /etc/exports file.  This \s-1API\s0 introduces two new attributes: 'type' and 'active';</p><p><em>The type attribute</em></p><p>In order to distinguish between exports which are temporary (i.e. \s-1NOT\s0 saved to /etc/exports) and those which are permanent (i.e. \s-1ARE\s0 saved to /etc/exports), this \s-1API\s0 support a \*(L"type\*(R", which be either of:</p><p>    permanent     temporary</p><p>A temporary export is one which was created using \*(L"exportfs -io\*(R", and which was not saved to /etc/exports.  These exports will not survive a reboot of the filer.</p><p>A permanent export is one which is found in /etc/exports.</p><p><em>The active attribute</em></p><p>Since you can change the export options for a filesystem temporarily (for example, by using the \*(L"fencing\*(R" option -b, or just manually specifying different options and re-exporting using -io), some permanent exports may not be in effect on the system.</p><p>The active attribute is used to track these.  If the active attribute is true, then the export is currently in effect.  Almost by definition, all temporary exports are always active.  However, if a permanent export is not in effect because a temporary export for the same pathname has been created, then such an export is considerd inactive.</p>
<h3>Global vs. Limited ro/rw Attributes</h3>
<p>The \*(L"ro\*(R" and \*(L"rw\*(R" export options really have two different modes of use.  If either option is specified with no \*(L"=a[:b[:c...]]\*(R" list, then it means \s-1ALL\s0 hosts.  Since this \s-1API\s0 provides methods for adding and removing entries from those lists, it treats the \*(L"all\*(R" cases special, by managing thenm as separate attributes.</p><p>To specify global readonly or readwrite access, use the following options:</p><p>    ro_all     rw_all</p><p>These have boolean values.  The \*(L"rw\*(R" and \*(L"ro\*(R" attributes/options are \s-1ARRAY\s0 references, each containing the list of entries for an \*(L"rw=\*(R" or \*(L"ro=\*(R" list for managing limited access.</p>
<h3>Change and Update Semantics</h3>
<p>There are several methods for changing the attributes of an export object, but in \s-1ALL\s0 cases, these merely change the object in memory. In order for the attribute change to take effect, the update method must be called, which will generate and execute the appropriate \*(L"exportfs\*(R" command.</p><p>For example, suppose you wanted to remove root access for a specific hostname from all exports on a filer:</p><p>    my $untrusted       = &apos;unsafe.foo.com&apos;;</p><p>    my @exports         = $filer-&gt;get_exports;</p><p>    foreach my $export ( @exports ) {         if ( $export-&gt;has_root( $untrusted ) ) {             $export-&gt;remove_root( $untrusted );             $export-&gt;update;         }     }</p><p>The \*(L"remove_root\*(R" method simply removes the entry from the object in memory.  The \*(L"update\*(R" method re-exports that filesystem to make the change take effect on the filer.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>get_filer</h3>
<p>Returns the NetApp::Filer object for the filer on which this export exists.</p>
<h3>get_type</h3>
<p>Returns a string with one of the following values:</p><p>    temporary     permanent</p><p>indicating whether or not this particular export has been written to /etc/exports.</p>
<h3>get_active</h3>
<p>Returns a boolean value, false only if the type is \*(L"permanent\*(R", and the same export was not found in the list of currently active exports (i.e. not found in the output of \*(L"exportfs\*(R").  A temporary export is always active, by definition.</p>
<h3>get_path</h3>
<p>Returns a string representing the path for the export.  Note that this may not necessarily be the same as the actual pathname of the underlying volume or qtree.</p>
<h3>get_actual</h3>
<p>Returns a string representing the \*(L"actual\*(R" path of the underlying volume or qtree for the export.  If a volume or qtree as been exported using a different name, this is the actual path of the underlying object.  If this export option was not used, this method will return an empty string.</p>
<h3>get_nosuid</h3>
<p>Returns a boolean value, indicating whether or not the \*(L"nosuid\*(R" option is used by the export. This method takes a single argument, interpreted in boolean context, an sets the \*(L"nosuid\*(R" option for the export.</p>
<h3>get_anon</h3>
<p>Returns the value of the \*(L"anon\*(R" option, if set.  Since this option can have the value of \*(L"0\*(R", it returns undef when this option has not been set.</p><p>\s-1WARNING:\s0 be careful interpreting this in a simple boolean context.  To test whether or not this option has been set use \*(L"defined\*(R". Takes a single argument, and sest the \*(L"anon\*(R" opton to that value.  To unset this option, pass an undefined value:</p><p>    $export-&gt;set_anon( undef );</p>
<h3>get_sec</h3>
<p>Returns a list of the \*(L"sec\*(R" option values. Takes a single argument, an array reference of \*(L"sec\*(R" values, which can be any of: none, sec, krb5, krb5i, or krb5p.  This \s-1API\s0 does no validation of these values, so if an invalid value is given, this will result in a fatal exception when the \*(L"update\*(R" method is called. Takes a single string argument, and returns true if that value is found in the list of \*(L"sec\*(R" options, false otherwise. Takes a single string argument, and adds that value to the list of \*(L"sec\*(R" options, if not already present. Takes a single string argument, and removes that value from the list of \*(L"sec\*(R" options, if present.</p>
<h3>get_root</h3>
<p>Returns a list of the \*(L"root\*(R" option values. Takes a single argument, an array reference of \*(L"root\*(R" values, which can be any combination of hostnames, \s-1IP\s0 addresses, or networks. Again, no data validation is performed, so bogus values will not be detected until the export is updated on the filer, using the \*(L"update\*(R" method.</p><p>To clear the root option entirely, simply pass an empty array reference. Takes a single string argument, and returns true if that value is found in the list of \*(L"root\*(R" options, false otherwise. Takes a single string argument, and adds that value to the list of \*(L"root\*(R" options, if not already present. Takes a single string argument, and removes that value from the list of \*(L"root\*(R" options, if present.</p>
<h3>get_ro_all</h3>
<p>Returns a boolean value, indicating whether or not the \*(L"ro_all\*(R" option has been set. Takes a single boolean argument, and sets the \*(L"ro_all\*(R" option to it's value.  Setting \*(L"ro_all\*(R" to a true value will clear the \*(L"ro\*(R" list, if it exists.</p><p>Also, if \*(L"ro_all\*(R" is true, then the following methods will quietly do nothing:</p><p>    has_ro     add_ro     remove_ro</p><p>The \*(L"ro_all\*(R" option must be cleared (set to a false value) first.</p>
<h3>get_ro</h3>
<p>Returns a list of the \*(L"ro\*(R" entries, if any.  Returns nothing if \*(L"ro_all\*(R" has been set. Takes a single argument, an array reference of \*(L"ro\*(R" values.  Setting the \*(L"ro\*(R" list explicitly will set clear \*(L"ro_all\*(R" (set it to a false value). Takes a single argument, and returns true if that value is found in the list of \*(L"ro\*(R" options, false otherwise.  If \*(L"ro_all\*(R" is true, then it always returns false. Takes a single string argument, and adds that value to the list of \*(L"ro\*(R" options, if not already present.  If \*(L"ro_all\*(R" is true, then this method will do nothing. Takes a single string argument, and removes that value from the list of \*(L"ro\*(R" options, if present.  If \*(L"ro_all\*(R" is true, then this method does nothing.</p>
<h3>get_rw_all, set_rw_all, get_rw, set_rw, has_rw, add_rw, remove_rw</h3>
<p>All of these methods behave exactly the same as their \*(L"ro\*(R" counterparts described immediately above.  They apply to the \*(L"rw\*(R" option, instead of \*(L"ro\*(R", but if that isn't obvious...</p>
<h3>update</h3>
<p>This method re-exports the export, using \*(L"exportfs\*(R".  If \s-1ANY\s0 of the object attributes have been changed programmatically, those changes will not take effect on the filer until this method has been called.</p><p>Note that updating an export will not necessarily change it's \*(L"type\*(R" from temporary to permanent, unless the \*(L"type\*(R" is explicitly changed. This method takes a single NetApp::Filer::Export object, and compares the current object (that is, the one on which the method was called) to it.  If they have the same basic export options, it returns true, otherwise, it returns false.  Only the following options are compared:</p><p>    actual     nosuid     anon     sec     root     rw/rw_all     ro/ro_all</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="NetApp::Filer.3pm.html"><span aria-hidden="true">&larr;</span> NetApp::Filer.3pm: Oo class for managing netapp filer devices</a></li>
   <li class="next"><a href="NetApp::Filer::License.3pm.html">NetApp::Filer::License.3pm: Oo class for representing netapp filer licenses <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
