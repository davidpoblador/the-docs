<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dtk_process_events: Events processing</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Events processing">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dtk_process_events (3) manual">
  <meta name="twitter:description" content="Events processing">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdrawtk-dev-dtk_process_events-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/dtk_process_events.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dtk_process_events (3) manual" />
  <meta property="og:description" content="Events processing" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdrawtk-dev-dtk_process_events-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dtk_process_events<small> (3)</small></h1>
        <p class="lead">Events processing</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/dtk_process_events.3.html">
      <span itemprop="name">dtk_process_events: Events processing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdrawtk-dev/">
      <span itemprop="name">libdrawtk-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/dtk_process_events.3.html">
      <span itemprop="name">dtk_process_events: Events processing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;dtk_event.h&gt;</strong></p><p><strong>typedef int (*DTKEvtProc)(dtk_hwnd, int, const union dtk_event*);</strong></p><p><strong>void dtk_set_event_handler(dtk_hwnd </strong><em>wnd</em><strong>, DTKEvtProc </strong><em>handler</em><strong>);</strong></p><p><strong>int dtk_process_events(dtk_hwnd </strong><em>wnd</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dtk_set_event_handler</strong>() set <em>handler</em> as the current event handler for the window <em>wnd</em>. <em>handler</em> is a function that has arguments in the following order:</p>
<dl class='dl-vertical'>
  <dt>
     *
  </dt>
  <dd>
    <p>a reference of type <strong>dtk_hwnd</strong> to the window that has received the event.</p>
  </dd>
  <dt>
     *
  </dt>
  <dd>
    <p>the type ID of the event.</p>
  </dd>
  <dt>
     *
  </dt>
  <dd>
    <p>a pointer to a <strong>union dtk_event</strong> holding event-specific data (if not <strong>NULL</strong>) defined as follows:</p>
<pre>
union dtk_event {
    struct dtk_keyevent key;
    struct dtk_mouseevent mouse;
};
</pre>

  </dd>

</dl>
<p><strong>dtk_process_events</strong>() processes pending events in the event queues associated to the window referenced by <em>wnd</em>, i.e.  for each event in the queue, it calls the event handler that has been set by <strong>dtk_set_event_handler</strong>(). <strong>dtk_process_events</strong>() returns if a event handler has returned 0 or if there is no more pending event in the queue.</p><p>If <strong>dtk_set_event_handler</strong>() has never been called or called with <em>handle</em> as NULL, it use a minimalistic event handler that returns 0 (i.e. stop the loop) when pressing the close button on the window.</p><p>The type ID of the event can be one of the following:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>DTK_EVT_REDRAW</strong></p>
  </dt>
  <dd>
    <p>This event indicates that the whole window or parts of it must be redrawn. This may be caused by another window has been overlapped it or the window has been resized. If such an event is received, the event pointer passed to the handler will be <strong>NULL</strong>.</p>
  </dd>
  <dt>
    <p><strong>DTK_EVT_QUIT</strong></p>
  </dt>
  <dd>
    <p>This event indicates that the close button of the window has been clicked. The event pointer passed will be <strong>NULL</strong>.</p>
  </dd>
  <dt>
    <p><strong>DTK_EVT_KEYBOARD</strong></p>
  </dt>
  <dd>
    <p>Indicates that a key of the keyboard has been pressed or released. If such an event is received, the meaningfull member of the <strong>union dtk_event</strong> will be <em>key</em> which is defined as follows:</p>
<pre>
struct dtk_keyevent {
    unsigned int state;  /* pressed or released */
    unsigned int sym;    /* Symbolic code of the key */
    unsigned int mod;    /* modifiers key */
};
</pre>

  </dd>
  <dt>
    <p><strong>DTK_EVT_MOUSEBUTTON</strong></p>
  </dt>
  <dd>
    <p>This event indicates that one of the mouse buttons has been pressed or released. If such an event is received, the meaningfull member of the <strong>union dtk_event</strong> will be <em>mouse</em> which is defined as follows:</p>
<pre>
struct dtk_mouseevent {
    unsigned int button; /* button identifier */
    unsigned int state;  /* pressed or realeased */
    unsigned int x;   /* x-coordinate of the mouse position */
    unsigned int y;   /* y-coordinate of the mouse position */
};
</pre>

  </dd>
  <dt>
    <p><strong>DTK_EVT_MOUSEMOTION</strong></p>
  </dt>
  <dd>
    <p>This is similar to the <strong>DTK_EVT_MOUSEBUTTON</strong> but indicates that the mouse has moved. Event data should also be accessed through <em>mouse</em> member but its <em>button</em> and <em>state</em> members will be meaningless.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p><strong>dtk_set_event_handler</strong>() does not return value.</p><p><strong>dtk_process_events</strong>() returns 1 if there is no more pending event in the queue.  It returns 0 if the processing loop has been interrupted by an event handler, i.e. the last event handler has returned 0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dtk_nanosleep.3.html"><span aria-hidden="true">&larr;</span> dtk_nanosleep.3: High-resolution sleep</a></li>
   <li class="next"><a href="dtk_relmove_shape.3.html">dtk_relmove_shape.3: Shape displacement <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
