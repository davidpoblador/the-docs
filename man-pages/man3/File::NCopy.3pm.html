<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>File::NCopy: Deprecated module. use file::copy::recursive instead. copy file, file. copy file[s] | dir[s], dir</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Deprecated module. use file::copy::recursive instead. copy file, file. copy file[s] | dir[s], dir">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="File::NCopy (3pm) manual">
  <meta name="twitter:description" content="Deprecated module. use file::copy::recursive instead. copy file, file. copy file[s] | dir[s], dir">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfile-ncopy-perl-File::NCopy-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/File::NCopy.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="File::NCopy (3pm) manual" />
  <meta property="og:description" content="Deprecated module. use file::copy::recursive instead. copy file, file. copy file[s] | dir[s], dir" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfile-ncopy-perl-File::NCopy-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">File::NCopy<small> (3pm)</small></h1>
        <p class="lead">Deprecated module. use file::copy::recursive instead. copy file, file. copy file[s] | dir[s], dir</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/File::NCopy.3pm.html">
      <span itemprop="name">File::NCopy: Deprecated module. use file::copy::recursive instead. copy file, file. copy file[s] | dir[s], dir</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfile-ncopy-perl/">
      <span itemprop="name">libfile-ncopy-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/File::NCopy.3pm.html">
      <span itemprop="name">File::NCopy: Deprecated module. use file::copy::recursive instead. copy file, file. copy file[s] | dir[s], dir</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use File::NCopy qw(copy);

    copy "file","other_file";
    copy "file1","file2","file3","directory";

    # we want to copy the directory recursively
    copy &#92;1,"directory1","directory2";
    copy &#92;1,"file1","file2","directory1","file3","directory2","file4",
        "directory";

    # can also use references to file handles, this is for backward
    # compatibility with File::Copy
    copy &#92;*FILE1,&#92;*FILE2;
    copy &#92;*FILE1,"file";
    copy "file1",&#92;*FILE2;


    # we don&apos;t specify &#92;1 as the first argument because we don&apos;t want to
    # copy directories recursively
    copy "*.c","*.pl","programs";
    copy "*", "backup";

    use File::NCopy;

    # the below are the default config values
    $file = File::NCopy-&gt;new(
            &apos;recursive&apos;      =&gt; 0,
            &apos;preserve&apos;       =&gt; 0,
            &apos;follow_links&apos;   =&gt; 0,
            &apos;force_write&apos;   =&gt; 0,
            &apos;set_permission&apos; =&gt; &#92;&File::NCopy::u_chmod,
            &apos;file_check&apos;     =&gt; &#92;&File::NCopy::f_check,
            &apos;set_times&apos;      =&gt; &#92;&File::NCopy::s_times,
    );

    set_permission will take two file names, the original to get the
    file permissions from and the new file to set the file permissions
    for.

    file_check takes two parameters, the file names to check the file to
    copy from and the file to copy to. I am using flock for Unix
    systems.
    Default for this is &#92;&File::NCopy::f_check.  On Unix you can also use
    &#92;&File::NCopy::unix_check.  This one compares the inode and device
    numbers.

    set_times is used if the preserve attribute is true.  It preserves
    the access and modification time of the file and also attempts to
    set the owner of the file to the original owner.  This can be useful
    in a script used by root, though enyone can preserve the access and
    modification times. This also takes two arguments.  The file to get
    the stats from and apply the stats to.

    On Unix boxes you shouldn&apos;t need to worry.  On other system you may
    want to supply your own sub references.

    $file = File::NCopy-&gt;new(recursive =&gt; 1);
    $file-&gt;copy "file","other_file";
    $file-&gt;copy "directory1","directory2";

    $file = File::NCopy-&gt;new(u_chmod =&gt; &#92;&my_chmod,f_check =&gt; &#92;&my_fcheck);
    $file-&gt;copy "directory1","directory2";
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>File::NCopy::copy</strong> copies files to directories, or a single file to another file.  You can also use a reference to a file handle if you wish whem doing a file to file copy.  The functionality is very similar to <strong>cp</strong>.  If the argument is a directory to directory copy and the recursive flag is set then it is done recursively like <strong>cp -R</strong>. In fact it behaves like cp on Unix for the most part. If called in array context, an array of successful copies is returned, otherwise the number of successful copies is returned.  If passed a file handle, it's difficult to make sure the file we are copying isn't the same that we are copying to, since by opening the file in write mode it gets pooched.  To avoid this use file names instead, if at all possible, especially for the to file.  If passed a file handle, it is not closed when copy returns, files opened by copy are closed.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>copy</strong>
  </dt>
  <dd>
    <p>Copies a file to another file.  Or a file to a directory.  Or multiple files and directories to another directory.  Or a directory to another directory.  Wildcard arguments are expanded, except for the last argument which should not be expanded.  The file and directory permissions are set to the orginating file's permissions and if preserve is set the access and modification times are also set.  If preserve is set then the uid and gid will also be attempted to be set, though this may only for for the men in white hats. In list context it returns all the names of the files/directories that were successfully copied.  In scalar context it returns the number of successful copies made.  A directory argument is considerd a single successful copy if it manages to copy anything at all.  To make a directory to directory copy the recursive flag must be set.</p>
  </dd>
  <dt>
    <strong>cp</strong>
  </dt>
  <dd>
    <p>Just calls copy.  It's there to be compatible with File::Copy.</p>
  </dd>
  <dt>
    <strong>new</strong>
  </dt>
  <dd>
    <p>If used then you can treat this as an object oriented module with some configuration abilities.</p>
  </dd>
  <dt>
    <strong>recursive</strong>
  </dt>
  <dd>
    <p>If used as an object then you can use this to set the recursive attribute.  It can also be set when instantiating with new.  The other attributes must all be set when instantiating the object.  If it isn't specified then directories are not followed.</p>
  </dd>
  <dt>
    <strong>preserve</strong>
  </dt>
  <dd>
    <p>Attempt to preserve the last modification and access time as well as user and group id's.  This is a useful feature for sysadmins, though the access and modification time should always be preservable, the uid and gid may not.</p>
  </dd>
  <dt>
    <strong>follow_links</strong>
  </dt>
  <dd>
    <p>If the link is to a directory and this attribute is true then the directory is followed and recursively copied.  Otherwise a link is made to the root directory the link points to. eg. /sys/ is a link to /usr/src/sys/ is a link to /usr/src/i386/sys then the link /sys/ is actually created in the source directory as a link to /usr/src/i386/sys/ rather than /usr/src/sys/ since if the link /usr/src/sys/ is removed then we lost the link even though the directory we originally intended to link to still exists.</p>
  </dd>
  <dt>
    <strong>force_write</strong>
  </dt>
  <dd>
    <p>Force the writing of a file even if the permissions are read only on it.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>See \s-1SYNOPSIS\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>When following links the target directory might not exactly the same as the source directory.  The reason is that we have to make sure we don't follow circular or dead links.  This is really a feature though the result may not quite resemble the source dir, the overall content will be the same. :)</p><p>From Ken Healy (Version 0.34)</p><p>On Win32, The use of backslash for paths is required.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Gabor Egressy <strong>gabor \s-1AT\s0 vmunix.com</strong></p><p>Copyright (c) 1998 Gabor Egressy.  All rights reserved.  All wrongs reversed.  This program is free software; you can redistribute and/or modify it under the same terms as Perl itself.</p><p>Some ideas gleaned from File::Copy by Aaron Sherman & Charles Bailey, but the code was written from scratch.</p><p>Patch at versions 0.33, and 0.34 added by \s-1MZSANFORD\s0.</p><p>0.35, 0.36 - Alexandr Ciornii (alexchorny \s-1AT\s0 gmail.com)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="File::LocalizeNewlines.3pm.html"><span aria-hidden="true">&larr;</span> File::LocalizeNewlines.3pm: Localize the newlines for one or more files</a></li>
   <li class="next"><a href="File::Pid.3pm.html">File::Pid.3pm: Pid file manipulation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
