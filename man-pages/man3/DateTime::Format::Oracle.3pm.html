<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DateTime::Format::Oracle: Parse and format oracle dates and timestamps</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Parse and format oracle dates and timestamps">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="DateTime::Format::Oracle (3pm) manual">
  <meta name="twitter:description" content="Parse and format oracle dates and timestamps">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdatetime-format-oracle-perl-DateTime::Format::Oracle-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/DateTime::Format::Oracle.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="DateTime::Format::Oracle (3pm) manual" />
  <meta property="og:description" content="Parse and format oracle dates and timestamps" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdatetime-format-oracle-perl-DateTime::Format::Oracle-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">DateTime::Format::Oracle<small> (3pm)</small></h1>
        <p class="lead">Parse and format oracle dates and timestamps</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DateTime::Format::Oracle.3pm.html">
      <span itemprop="name">DateTime::Format::Oracle: Parse and format oracle dates and timestamps</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdatetime-format-oracle-perl/">
      <span itemprop="name">libdatetime-format-oracle-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DateTime::Format::Oracle.3pm.html">
      <span itemprop="name">DateTime::Format::Oracle: Parse and format oracle dates and timestamps</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use DateTime::Format::Oracle;

  $ENV{&apos;NLS_DATE_FORMAT&apos;} = &apos;YYYY-MM-DD HH24:MI:SS&apos;;
  my $dt = DateTime::Format::Oracle-&gt;parse_datetime(&apos;2003-01-16 23:12:01&apos;);
  my $string = DateTime::Format::Oracle-&gt;format_datetime($dt);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module may be used to convert Oracle date and timestamp values into \*(C`DateTime\*(C' objects.  It also can take a \*(C`DateTime\*(C' object and produce a date string matching the \*(C`NLS_DATE_FORMAT\*(C'.</p><p>Oracle has flexible date formatting via its \*(C`NLS_DATE_FORMAT\*(C' session variable.  Date values will be returned from Oracle according to the current value of that variable.  Date values going into Oracle must also match the current setting of \*(C`NLS_DATE_FORMAT\*(C'.</p><p>Timestamp values will match either the \*(C`NLS_TIMESTAMP_FORMAT\*(C' or \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C' session variables.</p><p>This module keeps track of these Oracle session variable values by examining environment variables of the same name.  Each time one of Oracle's formatting session variables is updated, the %ENV hash must also be updated.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>This class offers the following methods.</p><ul>
<li><p>nls_date_format This method is used to determine the current value of Oracle's \*(C`NLS_DATE_FORMAT\*(C'.  It currently just reads the value from   $ENV{&apos;NLS_DATE_FORMAT&apos;} or if that is not set, from the package variable $nls_date_format, which has a default value of \*(C`YYYY-MM-DD HH24:MI:SS\*(C'.  This is a good default to have, but is not Oracle's default.  Dates will fail to parse if Oracle's \s-1NLS_DATE_FORMAT\s0 and the value from this method are not the same. If you want to use the default from this module, you can do something like this after you connect to Oracle:   $dbh-&gt;do(       "alter session set nls_date_format = &apos;" .       DateTime::Format::Oracle-&gt;nls_date_format .       "&apos;"   );</p></li><li><p>nls_timestamp_format This method is used to determine the current value of Oracle's \*(C`NLS_TIMESTAMP_FORMAT\*(C'.  It currently just reads the value from   $ENV{&apos;NLS_TIMESTAMP_FORMAT&apos;} or if that is not set, from the package variable $nls_timestamp_format, which has a default value of \*(C`YYYY-MM-DD HH24:MI:SS\*(C'.  This is a good default to have, but is not Oracle's default.  Dates will fail to parse if Oracle's \s-1NLS_TIMESTAMP_FORMAT\s0 and the value from this method are not the same. If you want to use the default from this module, you can do something like this after you connect to Oracle:   $dbh-&gt;do(       "alter session set nls_timestamp_format = &apos;" .       DateTime::Format::Oracle-&gt;nls_timestamp_format .       "&apos;"   );</p></li><li><p>nls_timestamp_tz_format This method is used to determine the current value of Oracle's \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C'.  It currently just reads the value from   $ENV{&apos;NLS_TIMESTAMP_TZ_FORMAT&apos;} or if that is not set, from the package variable $nls_timestamp_tz_format, which has a default value of \*(C`YYYY-MM-DD HH24:MI:SS TZHTZM\*(C'.  This is a good default to have, but is not Oracle's default.  Dates will fail to parse if Oracle's \s-1NLS_TIMESTAMP_TZ_FORMAT\s0 and the value from this method are not the same. If you want to use the default from this module, you can do something like this after you connect to Oracle:   $dbh-&gt;do(       "alter session set nls_timestamp_tz_format = &apos;" .       DateTime::Format::Oracle-&gt;nls_timestamp_tz_format .       "&apos;"   );</p></li><li><p>parse_datetime Given a string containing a date and/or time representation matching \*(C`NLS_DATE_FORMAT\*(C', this method will return a new \*(C`DateTime\*(C' object. If given an improperly formatted string, this method may die.</p></li><li><p>parse_date Alias to \*(C`parse_datetime\*(C'.  Oracle's date datatype also holds time information.</p></li><li><p>parse_timestamp Given a string containing a date and/or time representation matching \*(C`NLS_TIMESTAMP_FORMAT\*(C', this method will return a new \*(C`DateTime\*(C' object. If given an improperly formatted string, this method may die.</p></li><li><p>parse_timestamptz =item * parse_timestamp_with_time_zone Given a string containing a date and/or time representation matching \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C', this method will return a new \*(C`DateTime\*(C' object. If given an improperly formatted string, this method may die.</p></li><li><p>current_date_parser The current \*(C`DateTime::Format::Builder\*(C' generated parsing method used by \*(C`parse_datetime\*(C' and \*(C`parse_date\*(C'.</p></li><li><p>current_timestamp_parser The current \*(C`DateTime::Format::Builder\*(C' generated parsing method used by \*(C`parse_timestamp\*(C'.</p></li><li><p>current_timestamptz_parser The current \*(C`DateTime::Format::Builder\*(C' generated parsing method used by \*(C`parse_timestamptz\*(C'.</p></li><li><p>format_datetime Given a \*(C`DateTime\*(C' object, this method returns a string matching the current value of \*(C`NLS_DATE_FORMAT\*(C'. It is important to keep the value of $ENV{&apos;NLS_DATE_FORMAT&apos;} the same as the value of the Oracle session variable \*(C`NLS_DATE_FORMAT\*(C'. To determine the current value of Oracle's \*(C`NLS_DATE_FORMAT\*(C':   select NLS_DATE_FORMAT from NLS_SESSION_PARAMETERS To reset Oracle's \*(C`NLS_DATE_FORMAT\*(C':   alter session set NLS_DATE_FORMAT=&apos;YYYY-MM-DD HH24:MI:SS&apos; It is generally a good idea to set \*(C`NLS_DATE_FORMAT\*(C' to an unambiguos value, with four-digit year, and hour, minute, and second.</p></li><li><p>format_date Alias to \*(C`format_datetime\*(C'.</p></li><li><p>format_timestamp Given a \*(C`DateTime\*(C' object, this method returns a string matching the current value of \*(C`NLS_TIMESTAMP_FORMAT\*(C'. It is important to keep the value of $ENV{&apos;NLS_TIMESTAMP_FORMAT&apos;} the same as the value of the Oracle session variable \*(C`NLS_TIMESTAMP_FORMAT\*(C'. To determine the current value of Oracle's \*(C`NLS_TIMESTAMP_FORMAT\*(C':   select NLS_TIMESTAMP_FORMAT from NLS_SESSION_PARAMETERS To reset Oracle's \*(C`NLS_TIMESTAMP_FORMAT\*(C':   alter session set NLS_TIMESTAMP_FORMAT=&apos;YYYY-MM-DD HH24:MI:SS&apos; It is generally a good idea to set \*(C`NLS_TIMESTAMP_FORMAT\*(C' to an unambiguos value, with four-digit year, and hour, minute, and second.</p></li><li><p>format_timestamptz =item * format_timestamp_with_time_zone Given a \*(C`DateTime\*(C' object, this method returns a string matching the current value of \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C'. It is important to keep the value of $ENV{&apos;NLS_TIMESTAMP_TZ_FORMAT&apos;} the same as the value of the Oracle session variable \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C'. To determine the current value of Oracle's \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C':   select NLS_TIMESTAMP_TZ_FORMAT from NLS_SESSION_PARAMETERS To reset Oracle's \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C':   alter session set NLS_TIMESTAMP_TZ_FORMAT=&apos;YYYY-MM-DD HH24:MI:SS TZHTZM&apos; It is generally a good idea to set \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C' to an unambiguos value, with four-digit year, and hour, minute, and second.</p></li><li><p>current_date_format The current generated method used by \*(C`format_datetime\*(C', \*(C`format_date\*(C', and \*(C`current_date_parser\*(C' to keep track of the \*(C`strptime\*(C' translation of \*(C`NLS_DATE_FORMAT\*(C'.</p></li><li><p>current_timestamp_format The current generated method used by \*(C`format_timestamp\*(C', \*(C`format_timestamp_with_time_zone\*(C', and \*(C`current_timestamp_parser\*(C' to keep track of the \*(C`strptime\*(C' translation of \*(C`NLS_TIMESTAMP_FORMAT\*(C'.</p></li><li><p>current_timestamptz_format The current generated method used by \*(C`format_timestamptz\*(C', \*(C`format_timestamp_with_time_zone\*(C', and \*(C`current_timestamp_parser\*(C' to keep track of the \*(C`strptime\*(C' translation of \*(C`NLS_TIMESTAMP_FORMAT\*(C'.</p></li><li><p>oracle_to_posix Given an \*(C`NLS_DATE_FORMAT\*(C', \*(C`NLS_TIMESTAMP_FORMAT\*(C', or \*(C`NLS_TIMESTAMP_TZ_FORMAT\*(C' value, this method returns a \*(C`DateTime\*(C'-compatible \*(C`strptime\*(C' format value. Translation is currently handled by \*(C`Convert::NLS_DATE_FORMAT\*(C'.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>Oracle is more flexible with the case of names, such as the month, whereas \*(C`DateTime\*(C' generally returns names in \*(C`ucfirst\*(C' format.</p><p>  MONTH -&gt; FEBRUARY   Month -&gt; February   month -&gt; february</p><p>All translate to:</p><p>  %B    -&gt; February</p><h3>\s-1TIME\s0 \s-1ZONES\s0</h3>
<p>Oracle returns all dates and timestamps in a time zone similar to the \*(C`DateTime\*(C' floating time zone, except for 'timestamp with time zone' columns.</p>
<h3>\s-1INTERVAL\s0 \s-1ELEMENTS\s0</h3>
<p>I have not implemented \*(C`parse_duration\*(C', \*(C`format_duration\*(C', \*(C`parse_interval\*(C', nor \*(C`format_interval\*(C', and have no plans to do so.</p><p>If you need these features, unit tests, method implementations, and pointers to documentation are all welcome.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>Support for this module is provided via the datetime@perl.org email list.  See http://lists.perl.org/ for more details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<p>Possibly read an environment variable to determine a time zone to use instead of 'floating'.</p><p>Test and document creating an instance via \*(C`new\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Nathan Gray, &lt;kolibrie@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p>I might have put this module off for another couple years without the lure of Jifty, Catalyst, and DBIx::Class pulling at me.</p><p>Thanks to Dan Horne for his \s-1RFC\s0 draft of this module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT & LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2006, 2008, 2011 Nathan Gray.</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.4 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO DateTime::Format::Oracle&hellip;</h2>
        <div class="sectioncontent">
<p>Convert::NLS_DATE_FORMAT</p><p>datetime@perl.org mailing list</p><p>http://datetime.perl.org/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="DateTime::Format::Natural::Wrappers.3pm.html"><span aria-hidden="true">&larr;</span> DateTime::Format::Natural::Wrappers.3pm: Wrappers for datetime operations</a></li>
   <li class="next"><a href="DateTime::Format::SQLite.3pm.html">DateTime::Format::SQLite.3pm: Parse and format sqlite dates and times <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
