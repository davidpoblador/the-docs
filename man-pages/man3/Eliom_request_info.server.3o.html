<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Eliom_request_info.server: This module contains the functions you need to get (or set) information about current request.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="This module contains the functions you need to get (or set) information about current request.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Eliom_request_info.server (3o) manual">
  <meta name="twitter:description" content="This module contains the functions you need to get (or set) information about current request.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libeliom-ocaml-doc-Eliom_request_info.server-3o.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3o/Eliom_request_info.server.3o.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Eliom_request_info.server (3o) manual" />
  <meta property="og:description" content="This module contains the functions you need to get (or set) information about current request." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libeliom-ocaml-doc-Eliom_request_info.server-3o.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Eliom_request_info.server<small> (3o)</small></h1>
        <p class="lead">This module contains the functions you need to get (or set) information about current request.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/Eliom_request_info.server.3o.html">
      <span itemprop="name">Eliom_request_info.server: This module contains the functions you need to get (or set) information about current request.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libeliom-ocaml-doc/">
      <span itemprop="name">libeliom-ocaml-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/Eliom_request_info.server.3o.html">
      <span itemprop="name">Eliom_request_info.server: This module contains the functions you need to get (or set) information about current request.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Module</h2>
        <div class="sectioncontent">
<p>Module   Eliom_request_info</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Documentation</h2>
        <div class="sectioncontent">
<p>Module <strong>Eliom_request_info</strong>  : <strong>sig end</strong></p><p>This module contains the functions you need to get (or set) information about current request.</p><p><strong>===</strong> <strong>Getting information about the request</strong> <strong>===</strong></p><p><em>val get_http_method</em> : <strong>unit -&gt; Ocsigen_http_frame.Http_header.http_method</strong></p><p>returns the HTTP method used for the request (usually GET or POST).</p><p><em>val get_user_agent</em> : <strong>unit -&gt; string</strong></p><p>returns the name of the user agent that did the request (usually the name of the browser).</p><p><em>val get_full_url</em> : <strong>unit -&gt; string</strong></p><p>returns the full URL as a string</p><p><em>val get_remote_ip</em> : <strong>unit -&gt; string</strong></p><p>returns the internet address of the client as a string</p><p><em>val get_remote_inet_addr</em> : <strong>unit -&gt; Unix.inet_addr</strong></p><p>returns the internet address of the client, using the type <strong>Unix.inet_addr</strong> (defined in OCaml's standard library).</p><p><em>val get_current_full_path_string</em> : <strong>unit -&gt; string</strong></p><p>returns the full path of the URL as a string.</p><p><em>val get_current_full_path</em> : <strong>unit -&gt; Eliom_lib.Url.path</strong></p><p>returns the full path of the URL using the type <strong>Url.path</strong></p><p><em>val get_original_full_path_string</em> : <strong>unit -&gt; string</strong></p><p>returns the full path of the URL as first sent by the browser (not changed by previous extensions like rewritemod)</p><p><em>val get_original_full_path</em> : <strong>unit -&gt; Eliom_lib.Url.path</strong></p><p>returns the full path of the URL as first sent by the browser (not changed by previous extensions like rewritemod)</p><p><em>val get_current_sub_path_string</em> : <strong>unit -&gt; string</strong></p><p>returns the sub path of the URL as a string. The sub-path is the full path without the path of the site (set in the configuration file).</p><p><em>val get_current_sub_path</em> : <strong>unit -&gt; Eliom_lib.Url.path</strong></p><p>returns the sub path of the URL using the type <strong>Url.path</strong> . The sub-path is the full path without the path of the site (set in the configuration file).</p><p><em>val get_header_hostname</em> : <strong>unit -&gt; string option</strong></p><p>returns the hostname that has been sent by the user agent. For HTTP/1.0, the Host field is not mandatory in the request.</p><p><em>val get_hostname</em> : <strong>unit -&gt; string</strong></p><p>returns the hostname used for absolute links. It is either the <strong>Host</strong> header sent by the browser or the default hostname set in the configuration file, depending on server configuration ( <strong>&lt;usedefaulthostname/&gt;</strong> option).</p><p><em>val get_server_port</em> : <strong>unit -&gt; int</strong></p><p>returns the port of the server. It is either the default port in the configuration file (if <strong>&lt;usedefaulthostname/&gt;</strong> is present is the configuration file), or the port in the Host header of the request (if present), or the port on which the request has been done (otherwise).</p><p><em>val get_ssl</em> : <strong>unit -&gt; bool</strong></p><p>returns true if https is used, false if http.</p><p><em>val get_accept_language</em> : <strong>unit -&gt; (string * float option) list</strong></p><p>returns the (string * float option) list corresponding to accept_language HTTP header of the request.</p><p><em>val get_suffix</em> : <strong>unit -&gt; Eliom_lib.Url.path option</strong></p><p>returns the suffix of the current URL</p><p><em>val get_cookies</em> : <strong>?cookie_level:Eliom_common.cookie_level -&gt;</strong> <strong>unit -&gt; string Ocsigen_cookies.CookiesTable.t</strong></p><p>returns the cookies sent by the browser</p><p><em>val get_timeofday</em> : <strong>unit -&gt; float</strong></p><p>returns an Unix timestamp associated to the request</p><p><em>val get_request_id</em> : <strong>unit -&gt; int64</strong></p><p>returns an unique id associated to the request</p><p><strong>===</strong> <strong>Exceptions and fallbacks</strong> <strong>===</strong></p><p><em>val get_request_cache</em> : <strong>unit -&gt; Polytables.t</strong></p><p>returns a table in which you can store all the data you want during a request. It can also be used to send information after an action. Keep an eye on this information to know what succeeded before the current service was called (failed connection, timeout ...) The table is created at the beginning of the request.</p><p><em>val clean_request_cache</em> : <strong>unit -&gt; unit</strong></p><p>Remove all data from the request cache</p><p><em>val get_link_too_old</em> : <strong>unit -&gt; bool</strong></p><p>returns <strong>true</strong> if the coservice called has not been found. In that case, the current service is the fallback.</p><p><em>val get_expired_service_sessions</em> : <strong>unit -&gt; Eliom_common.full_state_name list * Eliom_common.full_state_name list</strong></p><p>returns the list of names of service sessions expired for the current request, for browser sessions and tab sessions.</p><p><em>val get_previous_extension_error_code</em> : <strong>unit -&gt; int</strong></p><p>returns the HTTP error code sent by the Ocsigen extension that tried to answer to the request before Eliom. It is 404 by default.</p><p><strong>===</strong> <strong>Getting information about files uploaded</strong> <strong>===</strong></p><p><strong>=== Warning: The files uploaded are automatically erased by Ocsigen</strong> <strong>just after the request has been fulfilled.</strong> <strong>If you want to keep them, create a new hard link yourself during</strong> <strong>the service (or make a copy). ===</strong></p><p><em>val get_tmp_filename</em> : <strong>Ocsigen_extensions.file_info -&gt; string</strong></p><p>returns the filename used by Ocsigen for the uploaded file.</p><p><em>val get_filesize</em> : <strong>Ocsigen_extensions.file_info -&gt; int64</strong></p><p>returns the size of the file.</p><p><em>val get_original_filename</em> : <strong>Ocsigen_extensions.file_info -&gt; string</strong></p><p>returns the name the file had on the client when it has been sent.</p><p><em>val get_file_content_type</em> : <strong>Ocsigen_extensions.file_info -&gt;</strong> <strong>((string * string) * (string * string) list) option</strong></p><p>returns the content type sent by the browser with the file (if any).</p><p><em>val get_site_dir</em> : <strong>unit -&gt; Eliom_lib.Url.path</strong></p><p>returns the root of the site.</p><p><strong>===</strong> <strong>Getting parameters (low level)</strong> <strong>===</strong></p><p><strong>=== The usual way to get parameters with Eliom is to use the second</strong> <strong>and third parameters of the service handlers.</strong> <strong>These are low level functions you may need for more advanced use. ===</strong></p><p><em>val get_get_params</em> : <strong>unit -&gt; (string * string) list</strong></p><p>returns the parameters of the URL (GET parameters) that concern the running service. For example in the case of a non-attached coservice called from a page with GET parameters, only the parameters of that non-attached coservice are returned (even if the other are still in the URL).</p><p><em>val get_all_current_get_params</em> : <strong>unit -&gt; (string * string) list</strong></p><p>returns current parameters of the URL (GET parameters) (even those that are for subsequent services, but not previous actions)</p><p><em>val get_initial_get_params</em> : <strong>unit -&gt; (string * string) list</strong></p><p>returns all parameters of the URL (GET parameters) as sent initially by the browser</p><p><em>val get_other_get_params</em> : <strong>unit -&gt; (string * string) list</strong></p><p>returns the parameters of the URL (GET parameters) that do not concern the running service.</p><p><em>val get_nl_get_params</em> : <strong>unit -&gt; (string * string) list Eliom_lib.String.Table.t</strong></p><p>returns non localized parameters in the URL.</p><p><em>val get_persistent_nl_get_params</em> : <strong>unit -&gt; (string * string) list Eliom_lib.String.Table.t</strong></p><p>returns persistent non localized parameters in the URL.</p><p><em>val get_nl_post_params</em> : <strong>unit -&gt; (string * string) list Eliom_lib.String.Table.t</strong></p><p>returns non localized POST parameters.</p><p><em>val get_post_params</em> : <strong>unit -&gt; (string * string) list Lwt.t option</strong></p><p>returns the parameters in the body of the HTTP request (POST parameters) that concern the running service. None means that POST data where neither urlencoded form data or multipart data.</p><p><em>val get_all_post_params</em> : <strong>unit -&gt; (string * string) list option</strong></p><p>returns all parameters in the body of the HTTP request (POST parameters) (even those that are for another service)</p><p><strong>===</strong> <strong>Other low level functions</strong> <strong>===</strong></p><p><strong>=== You probably don't need these functions. ===</strong></p><p><em>val get_ri</em> : <strong>unit -&gt; Ocsigen_extensions.request_info</strong></p><p>returns all the information about the request.</p><p><em>val get_request</em> : <strong>unit -&gt; Ocsigen_extensions.request</strong></p><p>returns all the information about the request and config.</p><p><em>val get_state_name</em> : <strong>unit -&gt; Eliom_common.full_state_name option</strong></p><p>returns the name of the sessions to which belongs the running service ( <strong>None</strong> if it is not a session service)</p><p><em>val get_persistent_cookies</em> : <strong>unit -&gt; string Eliom_common.Full_state_name_table.t</strong></p><p>returns the values of the Eliom's cookies for persistent sessions sent by the browser.</p><p><em>val get_data_cookies</em> : <strong>unit -&gt; string Eliom_common.Full_state_name_table.t</strong></p><p>returns the values of Eliom's cookies for non persistent sessions sent by the browser.</p><p><em>val get_previous_extension_error_code</em> : <strong>unit -&gt; int</strong></p><p>Returns the http error code of the request before Eliom was called</p><p><em>val expecting_process_page</em> : <strong>unit -&gt; bool</strong></p><p>Returns <strong>true</strong> if the request was done by a client side Eliom program, which was expecting to receive a new HTML page to display inside the process.</p><p><strong>===</strong> <strong>Getting information about the URL of the client side process (csp)</strong> <strong></strong> <strong></strong> <strong>Warning: it is different from the URL to which the request has been made. ===</strong></p><p><em>val get_csp_original_full_path</em> : <strong>unit -&gt; Eliom_lib.Url.path</strong></p><p>returns the full path of the URL where the client-side process is running. If there is no client side process, same as <strong>Eliom_request_info.get_original_full_path</strong> .</p><p><em>val get_csp_hostname</em> : <strong>unit -&gt; string</strong></p><p>returns the hostname used for absolute links, computed when launching the client side process for the first time. If there is no client side process, same as <strong>Eliom_request_info.get_hostname</strong> .</p><p>It is either the <strong>Host</strong> header sent by the browser or the default hostname set in the configuration file, depending on server configuration ( <strong>&lt;usedefaulthostname/&gt;</strong> option).</p><p><em>val get_csp_server_port</em> : <strong>unit -&gt; int</strong></p><p>returns the port of the server, used when launching the client side process (not the current request). It corresponds to the port in the URL of the browser. If there is no client side process, same as <strong>Eliom_request_info.get_server_port</strong> .</p><p><em>val get_csp_ssl</em> : <strong>unit -&gt; bool</strong></p><p>returns true if https is used in the URL of the browser, false if http. If there is no client side process, same as <strong>Eliom_request_info.get_ssl</strong> .</p><p><em>val get_sitedata</em> : <strong>unit -&gt; Eliom_common.sitedata</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Eliom_registration.server.3o.html"><span aria-hidden="true">&larr;</span> Eliom_registration.server.3o: Eliom services registration for various kinds of page content: eliom application, valid eliom_registration.html5, actions, redirections, static files, …</a></li>
   <li class="next"><a href="Eliom_s2s.server.3o.html">Eliom_s2s.server.3o: Server-to-server communication module. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
