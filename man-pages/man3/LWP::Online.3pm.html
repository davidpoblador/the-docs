<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LWP::Online: Does your process have access to the web</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Does your process have access to the web">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="LWP::Online (3pm) manual">
  <meta name="twitter:description" content="Does your process have access to the web">
  <meta name="twitter:image" content="https://www.carta.tech/images/liblwp-online-perl-LWP::Online-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/LWP::Online.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="LWP::Online (3pm) manual" />
  <meta property="og:description" content="Does your process have access to the web" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/liblwp-online-perl-LWP::Online-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">LWP::Online<small> (3pm)</small></h1>
        <p class="lead">Does your process have access to the web</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/LWP::Online.3pm.html">
      <span itemprop="name">LWP::Online: Does your process have access to the web</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/liblwp-online-perl/">
      <span itemprop="name">liblwp-online-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/LWP::Online.3pm.html">
      <span itemprop="name">LWP::Online: Does your process have access to the web</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use LWP::Online &apos;online&apos;;

  # "Is the internet working?"
  die "NO INTARWWEB!!!" unless online();

  # The above means something like this
  unless ( online(&apos;http&apos;) ) {
      die "No basic http access to the web";
  }

  # Special syntax for use in test scripts that need
  # "real" access to the internet. Scripts will automatically
  # skip if connection fails.
  use LWP::Online &apos;:skip_all&apos;;
  use Test::More tests =&gt; 4; #after LWP::Online
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module attempts to answer, as accurately as it can, one of the nastiest technical questions there is.</p><p><strong>Am I on the internet?</strong></p><p>The answer is useful in a wide range of decisions. For example...</p><p><em>Should my test scripts run the online portion of the tests or</em> just skip them?</p><p><em>Do I try to fetch fresh data from the server?</em></p><p><em>If my request to the server breaks, is it because I'm offline, or</em> because the server is offline?</p><p>And so on, and so forth.</p><p>But a host of networking and security issues make this problem very difficult. There are firewalls, proxies (both well behaved and badly behaved). We might not have \s-1DNS\s0. We might not have a network card at all!</p><p>You might have network access, but only to a for-money wireless network that responds to ever \s-1HTTP\s0 request with a page asking you to enter your credit card details for paid access. Which means you don't \*(L"\s-1REALLY\s0\*(R" have access.</p><p>The mere nature of the question makes it practically unsolvable.</p><p>But with the answer being so useful, and the only other alternative being to ask the user \*(L"duh... are you online?\*(R" (when you might not have a user at all) it's my gut feeling that it is worthwhile at least making an attempt to solve the problem, if only in a limited way.</p><h3>Why LWP::Online? Why not Net::Online?</h3>
<p>The nice thing about LWP::Online is that \s-1LWP\s0 deals with a whole range of different transports, and is very commonly installed. \s-1HTTP\s0, \s-1HTTPS\s0, \s-1FTP\s0, and so on and so forth.</p><p>Attempting to do a more generalised Net::Online that might also check for \s-1SSH\s0 and so on would end up most likely having to install a whole bunch of modules that you most likely will never use.</p><p>So \s-1LWP\s0 forms a nice base on which to write a module that covers most of the situations in which you might care, while keeping the dependency overhead down to a minimum.</p>
<h3>Scope</h3>
<p>\*(L"Am I online?\*(R" is inherently an Open Problem.</p><p>That is, it's a problem that had no clean permanent solution, and for which you could just keep writing more and more functionality indefinitely, asymtopically approaching 100% correctness but never reaching it.</p><p>And so this module is intended to do as good a job as possible, without having to resort to asking any human questions (who may well get it wrong anyway), and limiting itself to a finite amount of programming work and a reasonable level of memory overhead to load the code.</p><p>It is thus understood the module will <strong>never</strong> be perfect, and that if any new functionality is desired, it needs to be able to implemented by the person that desires the new behaviour, and in a reasonably small amount of additional code.</p><p>This module is also <strong>not</strong> intended to compensate for malicious behaviour of any kind, it is quite possible that some malicious person might proxy fake versions of sites that pass our content checks and then proceed to show you other bad pages.</p>
<h3>Test Mode</h3>
<p>  use LWP::Online &apos;:skip_all&apos;;</p><p>As a convenience when writing tests scripts base on Test::More, the special ':skip_all' param can be provided when loading <strong>LWP::Online</strong>.</p><p>This implements the functional equivalent of the following.</p><p>  BEGIN {     require Test::More;     unless ( LWP::Online::online() ) {       Test::More-&gt;import(         skip_all =&gt; &apos;Test requires a working internet connection&apos;       );     }   }</p><p>The :skip_all special import flag can be mixed with regular imports.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<h3>online</h3>
<p>  # Default check (uses http)   online() or die "No Internet";</p><p>  # The above is equivalent to   online(&apos;http&apos;) or die "No Internet";</p><p>The importable <strong>online</strong> function is the main functionality provided by <strong>LWP::Online</strong>. It takes a single optional transport name ('http' by default) and checks that \s-1LWP\s0 connectivity is available for that transport.</p><p>Because it is intended as a Do What You Mean function, it checks not only that a network connection is available, and http requests return content, but also that it returns the \s-1CORRECT\s0 content instead of unexpected content supplied by a man in the middle.</p><p>For example, many wireless connections require login or payment, and will return a service provider page for any \s-1URI\s0 that you attempt to fetch.</p><p>The set of websites used for the testing is the Google, Amazon, Yahoo and \s-1CNN\s0 websites. The check is for a copyright statement on their homepage, and the function returns true as soon as two of the website return correctly, making the method relatively redundant.</p><p>Returns true if the computer is \*(L"online\*(R" (has a working connection via \s-1LWP\s0) or false if not.</p>
<h3>offline</h3>
<p>The importable <strong>offline</strong> function is provided as a convenience.</p><p>It provides a simple pass-through (including any params) to the <strong>online</strong> function, but with a negated result.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO DO</h2>
        <div class="sectioncontent">
<p>- Add more transport types that can be checked, somehow keeping the code growth under control.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>This module is stored in an Open Repository at the following address.</p><p>http://svn.ali.as/cpan/trunk/LWP-Online &lt;http://svn.ali.as/cpan/trunk/LWP-Online&gt;</p><p>Write access to the repository is made available automatically to any published \s-1CPAN\s0 author, and to most other volunteers on request.</p><p>If you are able to submit your bug report in the form of new (failing) unit tests (which for this module will be extremely difficult), or can apply your fix directly instead of submitting a patch, you are <strong>strongly</strong> encouraged to do so as the author currently maintains over 100 modules and it can take some time to deal with non-Critical bug reports or patches.</p><p>This will guarentee that your issue will be addressed in the next release of the module.</p><p>If you cannot provide a direct test or fix, or don't have time to do so, then regular bug reports are still accepted and appreciated via the \s-1CPAN\s0 bug tracker.</p><p>http://rt.cpan.org/NoAuth/ReportBug.html?Queue=LWP-Online &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=LWP-Online&gt;</p><p>For other issues, for commercial enhancement or support, or to have your write access enabled for the repository, contact the author at the email address above.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Adam Kennedy &lt;adamk@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO LWP::Online&hellip;</h2>
        <div class="sectioncontent">
<p>LWP::Simple</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2006 - 2011 Adam Kennedy.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>The full text of the license can be found in the \s-1LICENSE\s0 file included with this module.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="LWP::MediaTypes.3pm.html"><span aria-hidden="true">&larr;</span> LWP::MediaTypes.3pm: Guess media type for a file or a url</a></li>
   <li class="next"><a href="LWP::Protocol::http::SocketUnix.3pm.html">LWP::Protocol::http::SocketUnix.3pm: Speak http through unix sockets <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
