<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VoxelField: Define the size and location of a voxel field</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Define the size and location of a voxel field">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="VoxelField (3) manual">
  <meta name="twitter:description" content="Define the size and location of a voxel field">
  <meta name="twitter:image" content="https://www.carta.tech/images/libvolpack1-dev-VoxelField-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/VoxelField.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="VoxelField (3) manual" />
  <meta property="og:description" content="Define the size and location of a voxel field" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libvolpack1-dev-VoxelField-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">VoxelField<small> (3)</small></h1>
        <p class="lead">Define the size and location of a voxel field</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/VoxelField.3.html">
      <span itemprop="name">VoxelField: Define the size and location of a voxel field</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libvolpack1-dev/">
      <span itemprop="name">libvolpack1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/VoxelField.3.html">
      <span itemprop="name">VoxelField: Define the size and location of a voxel field</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;volpack.h&gt;</p><p>&#92;$1 <strong>vpSetVoxelField(</strong><em>vpc, field_num, field_size, field_offset,</em> field_max<strong>)</strong></p><ul>
<li><p>vpContext *<em>vpc;</em> int <em>field_num;</em> int <em>field_size;</em> int <em>field_offset;</em> int <em>field_max;</em></p><p><strong>vpFieldOffset(</strong><em>voxel_ptr, field_name</em><strong>)</strong> vpContext *<em>vpc;</em> LITERAL <em>field_name;</em></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>vpc</em>
  </dt>
  <dd>
    <p>VolPack context from <strong>vpCreateContext.</strong></p>
  </dd>
  <dt>
    <em>field_num</em>
  </dt>
  <dd>
    <p>Field number for the field to define (first field is 0).</p>
  </dd>
  <dt>
    <em>field_size</em>
  </dt>
  <dd>
    <p>Size of the field in bytes.</p>
  </dd>
  <dt>
    <em>field_offset</em>
  </dt>
  <dd>
    <p>Number of bytes from the beginning of the voxel to the beginning of the field.</p>
  </dd>
  <dt>
    <em>field_max</em>
  </dt>
  <dd>
    <p>Maximum possible value of the field.</p>
  </dd>
  <dt>
    <em>voxel_ptr</em>
  </dt>
  <dd>
    <p>Pointer to a C structure defining the fields in the voxel.</p>
  </dd>
  <dt>
    <em>field_name</em>
  </dt>
  <dd>
    <p>Literal name of the voxel field in the C structure.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>vpSetVoxelField</strong> is used to define the size and location of each field in a voxel.  Once you have chosen the sizes and order for the voxel fields, call <strong>vpSetVoxelSize</strong> once and then call <strong>vpSetVoxelField</strong> once for each field.  Each field has a unique field number (the <em>field_num</em> argument); the first field is 0, the next is 1, and so on, up to one less than the total number of fields defined with <em>VpSetVoxelSize</em>.  The <em>field_max</em> argument is used to determine the required size for lookup tables indexed by the value in a particular field; the maximum field value may be any number from 0 to the maximum unsigned integer representable by the field size.</p><p>If you have declared the layout of a voxel using a C structure then you can use the <em>sizeof</em> operator and the <strong>vpFieldOffset</strong> macro to compute the field sizes and offsets.  <strong>vpFieldOffset</strong> returns the number of bytes from the beginning of a C structure to the beginning of a particular field in the structure.  For example, the following code shows how to declare the size and offset for one voxel field:</p><ul>
<li>
<pre>
struct voxel {
    char field0;
    char field1;
    short field2;
} *dummy_voxel;

#define SIZE_0	sizeof(char)
#define OFFSET_0	vpFieldOffset(dummy_voxel, field0)
#define MAX_0	127

vpSetVoxelField(vpc, 0, SIZE_0, OFFSET_0, MAX_0);


The size of each field must be 1, 2 or 4 bytes.
You must also obey any byte-alignment restrictions required by your
hardware.  On many machines, two-byte fields must begin on a two-byte
boundary and four-byte fields must begin on a four-byte boundary.
The total size of a voxel may also need to be padded so that voxels
packed one after the other still obey the alignment restrictions.
If you declare your voxel as a C structure and use the <em>sizeof</em>
operator and the <strong>vpFieldOffset</strong> macro then you should always get
correct results.  However, if you do not consider alignment
restrictions when choosing the voxel field ordering the compiler may
have to insert padding for you, resulting in wasted memory.

Some of the VolPack routines require you to declare fields of a
particular size in order to store their results.  The functions to
precompute surface normals and gradient magnitudes (see
<strong>vpVolumeNormals</strong>(3), <strong>vpScanlineNormals</strong>(3), <strong>vpClassifyVolume</strong>(3),
<strong>vpClassifyScalars</strong>(3) and <strong>vpClassifyScanline</strong>(3)) can optionally store a
one-byte scalar value, a one-byte
gradient magnitude, and a two-byte surface normal value in each voxel.
The following constants defined in volpack.h give the corresponding
maximum field values: VP_SCALAR_MAX, VP_GRAD_MAX, and VP_NORM_MAX.
If you choose not to use these functions then there is no need to
declare these fields.

It is usually not necessary to declare a field for the voxel opacity
if the opacity can be computed from the other voxel fields.  See
<strong>vpSetClassifierTable</strong>(3) for further discussion.

If the call to <strong>vpSetVoxelSize</strong> succeeds, any existing precomputed
volume data structures in the context are destroyed.
</pre>
</li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STATE VARIABLES</h2>
        <div class="sectioncontent">
<p>The current voxel field parameters can be retrieved with the following state variable codes (see <strong>vpGeti</strong>(3)): VP_FIELD_SIZES, VP_FIELD_OFFSETS, VP_FIELD_MAXES.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>The normal return value is VP_OK.  The following error return value is possible:</p>
<dl class='dl-vertical'>
  <dt>
    VPERROR_BAD_VALUE
  </dt>
  <dd>
    <p>The field number, size or offset is out of range.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO VoxelField&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/VolPack.3.html"><strong>VolPack</strong>(3)</a>, <strong>vpCreateContext</strong>(3), <strong>vpSetVoxelSize</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="VolumeSize.3.html"><span aria-hidden="true">&larr;</span> VolumeSize.3: Define the dimensions of a volume</a></li>
   <li class="next"><a href="VoxelSize.3.html">VoxelSize.3: Define the size of a voxel <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
