<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>icetDrawCallback: Set a callback for drawing.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set a callback for drawing.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="icetDrawCallback (3) manual">
  <meta name="twitter:description" content="Set a callback for drawing.">
  <meta name="twitter:image" content="https://www.carta.tech/images/paraview-icetDrawCallback-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/icetDrawCallback.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="icetDrawCallback (3) manual" />
  <meta property="og:description" content="Set a callback for drawing." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/paraview-icetDrawCallback-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">icetDrawCallback<small> (3)</small></h1>
        <p class="lead">Set a callback for drawing.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/icetDrawCallback.3.html">
      <span itemprop="name">icetDrawCallback: Set a callback for drawing.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/paraview/">
      <span itemprop="name">paraview</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/icetDrawCallback.3.html">
      <span itemprop="name">icetDrawCallback: Set a callback for drawing.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Synopsis</h2>
        <div class="sectioncontent">
<table class="table table-striped">
<tr>
<th>void <strong>icetDrawCallback</strong>(</th>
<th><strong>IceTDrawCallbackType</strong></th>
<th><em>callback</em>  );</th>
<th></th></tr>
</table>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Description</h2>
        <div class="sectioncontent">
<p>The <strong>icetDrawCallback</strong> function sets a callback that is used to draw the geometry from a given viewpoint. If you are using <strong>OpenGL </strong>,you should probably use the <strong>icetGLDrawCallback</strong> function and associated <strong>icetGLDrawFrame</strong>. These alternative functions automatically set up the <strong>OpenGL </strong>state and retreive <strong>OpenGL </strong>buffers.</p><p><em>callback</em> should be a function that renders an image of the local geometry based on the provided transformation matrices and background color. <strong>IceT </strong>will call <em>callback</em> during a call to <strong>icetDrawFrame</strong> to create the images for compositing. <em>callback</em> will be called a minimum amount of times. It may be called once. If none of the geometry projects on the display, it may not be called at all. If rendering to a tiled display and the geometry projects on multiple tiles, it may be called many times. The code in <em>callback</em> should be prepared to be called an unpredictable amount of times. For example, it should not attept to increment a frame counter and it should leave the rendering system's state such that another view to the geometry may be rendered.</p><p><em>callback</em> takes two projection matrices: <em>projection_matrix</em> and <em>modelview_matrix</em>. Each of these arguments is a 16-value array that represents a $4 *4$ transformation of homogeneous coordinates. The arrays store the matrices in .igcolumn-major ordercolumn-major order.</p><p>Note that the <em>projection_matrix</em> passed to <em>callback</em> is liable to be different than that passed to <strong>icetDrawFrame</strong>. Make certain that <em>callback</em> uses the modified <em>projection_matrix</em> passed to it. <em>modelview_matrix</em> is the same as that passed to <strong>icetDrawFrame</strong>, but also passed along for convienient reference.</p><p>Any pixel that does not have geometry rendered to it should be set to the <em>background_color</em> passed to <em>callback</em>. Likewise, any transparent geometry should be blended against the <em>background_color</em>. Note that the <em>background_color</em> passed to <em>callback</em> is liable to be different than that passed to <strong>icetDrawFrame</strong>.</p><p><em>callback</em> is given <em>result</em>, an image object allocated to the size of the physical render size (see <strong>icetPhysicalRenderSize</strong>). The dimensions of the image can be queried with <strong>icetImageGetWidth</strong> and <strong>icetImageGetHeight</strong>. Pixels can be put in <em>result</em> by getting the color and/or depth buffers using the <strong>icetImageGetColor</strong> and <strong>icetImageGetDepth</strong> functions. Anything written to these buffers is captured in the image object.</p><p><strong>IceT </strong>passes <em>callback</em> an image sized to the physical render space to make indexing into it clearer and safer and to possibly render directly into the image buffers. That said, <strong>IceT </strong>might only be interested in a subregion of the data. To make your callback more efficient, <strong>IceT </strong>provides <em>readback_viewport</em> to specify the region of the image it will read. <em>readback_viewport</em> has four values. The first two values specify the x and y pixel location of the lower left corner of the region of interest. The last two values specify the width and height of the region of interest. The callback only has to write valid pixels for this region of the image. It is not an error to write values outside this region, but they will be completely ignored.</p><p>The <em>callback</em> function pointer is placed in the <strong>ICET_DRAW_FUNCTION</strong> state variable.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Errors</h2>
        <div class="sectioncontent">
<p>None.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Warnings</h2>
        <div class="sectioncontent">
<p>None.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Bugs</h2>
        <div class="sectioncontent">
<p>None known.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Notes</h2>
        <div class="sectioncontent">
<p><em>callback</em> is tightly coupled with the bounds set with <strong>icetBoundingVertices</strong> or <strong>icetBoundingBox</strong>. If the geometry drawn by <em>callback</em> is dynamic (changes from frame to frame), then the bounds may need to be changed as well. Incorrect bounds may cause the geometry to be culled in surprising ways.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Copyright</h2>
        <div class="sectioncontent">
<p>Copyright (C)2003 Sandia Corporation</p><p>Under the terms of Contract DE-AC04-94AL85000 with Sandia Corporation, the U.S. Government retains certain rights in this software.</p><p>This source code is released under the New BSD License.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">See Also</h2>
        <div class="sectioncontent">
<p><a href="../man3/icetBoundingBox.3.html"><strong>icetBoundingBox</strong>(3)</a>, <a href="../man3/icetBoundingVertices.3.html"><strong>icetBoundingVertices</strong>(3)</a>, <a href="../man3/icetDrawFrame.3.html"><strong>icetDrawFrame</strong>(3)</a>, <a href="../man3/icetPhysicalRenderSize.3.html"><strong>icetPhysicalRenderSize</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="icetDisable.3.html"><span aria-hidden="true">&larr;</span> icetDisable.3: Icetenable,icetdisable-- enable/disable an icet feature.</a></li>
   <li class="next"><a href="icetDrawFrame.3.html">icetDrawFrame.3: Renders and composites a frame <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
