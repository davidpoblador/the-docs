<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>filename: Filename manipulation functions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Filename manipulation functions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="filename (3erl) manual">
  <meta name="twitter:description" content="Filename manipulation functions">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-filename-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/filename.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="filename (3erl) manual" />
  <meta property="og:description" content="Filename manipulation functions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-filename-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">filename<small> (3erl)</small></h1>
        <p class="lead">Filename manipulation functions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/filename.3erl.html">
      <span itemprop="name">filename: Filename manipulation functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/filename.3erl.html">
      <span itemprop="name">filename: Filename manipulation functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The module <em>filename</em> provides a number of useful functions for analyzing and manipulating file names. These functions are designed so that the Erlang code can work on many different platforms with different formats for file names. With file name is meant all strings that can be used to denote a file. They can be short relative names like <em>foo.erl</em>, very long absolute name which include a drive designator and directory names like <em>D:&#92;usr/local&#92;bin&#92;erl/lib&#92;tools&#92;foo.erl</em>, or any variations in between.</p><p>In Windows, all functions return file names with forward slashes only, even if the arguments contain back slashes. Use <em>join/1</em> to normalize a file name by removing redundant directory separators.</p><p>The module supports raw file names in the way that if a binary is present, or the file name cannot be interpreted according to the return value of <strong>file:native_name_encoding/0</strong>, a raw file name will also be returned. For example filename:join/1 provided with a path component being a binary (and also not being possible to interpret under the current native file name encoding) will result in a raw file name being returned (the join operation will have been performed of course). For more information about raw file names, see the <strong>file</strong> module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
absname(Filename) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = <strong>file:name_all()</strong></p><p>Converts a relative <em>Filename</em> and returns an absolute name. No attempt is made to create the shortest absolute name, because this can give incorrect results on file systems which allow links.</p><p>Unix examples:</p>
<pre>
1&gt; pwd().
"/usr/local"
2&gt; filename:absname("foo").
"/usr/local/foo"
3&gt; filename:absname("../x").
"/usr/local/../x"
4&gt; filename:absname("/").
"/"
</pre>
<p>Windows examples:</p>
<pre>
1&gt; pwd().
"D:/usr/local"
2&gt; filename:absname("foo").
"D:/usr/local/foo"
3&gt; filename:absname("../x").
"D:/usr/local/../x"
4&gt; filename:absname("/").
"D:/"
</pre>

<pre>
<strong></strong>
absname(Filename, Dir) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = Dir = <strong>file:name_all()</strong></p><p>This function works like <em>absname/1</em>, except that the directory to which the file name should be made relative is given explicitly in the <em>Dir</em> argument.</p>
<pre>
<strong></strong>
absname_join(Dir, Filename) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Dir = Filename = <strong>file:name_all()</strong></p><p>Joins an absolute directory with a relative filename. Similar to <em>join/2</em>, but on platforms with tight restrictions on raw filename length and no support for symbolic links (read: VxWorks), leading parent directory components in <em>Filename</em> are matched against trailing directory components in <em>Dir</em> so they can be removed from the result - minimizing its length.</p>
<pre>
<strong></strong>
basename(Filename) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = <strong>file:name_all()</strong></p><p>Returns the last component of <em>Filename</em>, or <em>Filename</em> itself if it does not contain any directory separators.</p>
<pre>
5&gt; filename:basename("foo").
"foo"
6&gt; filename:basename("/usr/foo").
"foo"
7&gt; filename:basename("/").
[]
</pre>

<pre>
<strong></strong>
basename(Filename, Ext) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = Ext = <strong>file:name_all()</strong></p><p>Returns the last component of <em>Filename</em> with the extension <em>Ext</em> stripped. This function should be used to remove a specific extension which might, or might not, be there. Use <em>rootname(basename(Filename))</em> to remove an extension that exists, but you are not sure which one it is.</p>
<pre>
8&gt; filename:basename("~/src/kalle.erl", ".erl").
"kalle"
9&gt; filename:basename("~/src/kalle.beam", ".erl").
"kalle.beam"
10&gt; filename:basename("~/src/kalle.old.erl", ".erl").
"kalle.old"
11&gt; filename:rootname(filename:basename("~/src/kalle.erl")).
"kalle"
12&gt; filename:rootname(filename:basename("~/src/kalle.beam")).
"kalle"
</pre>

<pre>
<strong></strong>
dirname(Filename) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = <strong>file:name_all()</strong></p><p>Returns the directory part of <em>Filename</em>.</p>
<pre>
13&gt; filename:dirname("/usr/src/kalle.erl").
"/usr/src"
14&gt; filename:dirname("kalle.erl").
"."

5&gt; filename:dirname("&#92;&#92;usr&#92;&#92;src/kalle.erl"). % Windows
"/usr/src"
</pre>

<pre>
<strong></strong>
extension(Filename) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = <strong>file:name_all()</strong></p><p>Returns the file extension of <em>Filename</em>, including the period. Returns an empty string if there is no extension.</p>
<pre>
15&gt; filename:extension("foo.erl").
".erl"
16&gt; filename:extension("beam.src/kalle").
[]
</pre>

<pre>
<strong></strong>
flatten(Filename) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = <strong>file:name_all()</strong></p><p>Converts a possibly deep list filename consisting of characters and atoms into the corresponding flat string filename.</p>
<pre>
<strong></strong>
join(Components) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Components = [<strong>file:name_all()</strong>]</p><p>Joins a list of file name <em>Components</em> with directory separators. If one of the elements of <em>Components</em> includes an absolute path, for example <em>"/xxx"</em>, the preceding elements, if any, are removed from the result.</p><p>The result is "normalized":</p>
<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>Redundant directory separators are removed.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>In Windows, all directory separators are forward slashes and the drive letter is in lower case.</p>
  </dd>

</dl>

<pre>
17&gt; filename:join(["/usr", "local", "bin"]).
"/usr/local/bin"
18&gt; filename:join(["a/b///c/"]).
"a/b/c"

6&gt; filename:join(["B:a&#92;&#92;b///c/"]). % Windows
"b:a/b/c"
</pre>

<pre>
<strong></strong>
join(Name1, Name2) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Name1 = Name2 = <strong>file:name_all()</strong></p><p>Joins two file name components with directory separators. Equivalent to <em>join([Name1, Name2])</em>.</p>
<pre>
<strong></strong>
nativename(Path) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Path = <strong>file:name_all()</strong></p><p>Converts <em>Path</em> to a form accepted by the command shell and native applications on the current platform. On Windows, forward slashes is converted to backward slashes. On all platforms, the name is normalized as done by <em>join/1</em>.</p>
<pre>
19&gt; filename:nativename("/usr/local/bin/"). % Unix
"/usr/local/bin"

7&gt; filename:nativename("/usr/local/bin/"). % Windows
"&#92;&#92;usr&#92;&#92;local&#92;&#92;bin"
</pre>

<pre>
<strong></strong>
pathtype(Path) -&gt; absolute | relative | volumerelative

</pre>
<p>Types:</p><p>Path = <strong>file:name_all()</strong></p><p>Returns the type of path, one of <em>absolute</em>, <em>relative</em>, or <em>volumerelative</em>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>absolute</em>: The path name refers to a specific file on a specific volume.</p><p>Unix example: <em>/usr/local/bin</em></p><p>Windows example: <em>D:/usr/local/bin</em></p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>relative</em>: The path name is relative to the current working directory on the current volume.</p><p>Example: <em>foo/bar, ../src</em></p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>volumerelative</em>: The path name is relative to the current working directory on a specified volume, or it is a specific file on the current working volume.</p><p>Windows example: <em>D:bar.erl, /bar/foo.erl</em></p>
  </dd>

</dl>

<pre>
<strong></strong>
rootname(Filename) -&gt; file:filename_all()

</pre>

<pre>
<strong></strong>
rootname(Filename, Ext) -&gt; file:filename_all()

</pre>
<p>Types:</p><p>Filename = Ext = <strong>file:name_all()</strong></p><p>Remove a filename extension. <em>rootname/2</em> works as <em>rootname/1</em>, except that the extension is removed only if it is <em>Ext</em>.</p>
<pre>
20&gt; filename:rootname("/beam.src/kalle").
/beam.src/kalle"
21&gt; filename:rootname("/beam.src/foo.erl").
"/beam.src/foo"
22&gt; filename:rootname("/beam.src/foo.erl", ".erl").
"/beam.src/foo"
23&gt; filename:rootname("/beam.src/foo.beam", ".erl").
"/beam.src/foo.beam"
</pre>

<pre>
<strong></strong>
split(Filename) -&gt; Components

</pre>
<p>Types:</p><p>Filename = <strong>file:name_all()</strong></p><p>Components = [<strong>file:name_all()</strong>]</p><p>Returns a list whose elements are the path components of <em>Filename</em>.</p>
<pre>
24&gt; filename:split("/usr/local/bin").
["/","usr","local","bin"]
25&gt; filename:split("foo/bar").
["foo","bar"]
26&gt; filename:split("a:&#92;&#92;msdev&#92;&#92;include").
["a:/","msdev","include"]
</pre>

<pre>
<strong></strong>
find_src(Beam) -&gt;
<strong></strong>
            {SourceFile, Options} | {error, {ErrorReason, Module}}

</pre>

<pre>
<strong></strong>
find_src(Beam, Rules) -&gt;
<strong></strong>
            {SourceFile, Options} | {error, {ErrorReason, Module}}

</pre>
<p>Types:</p><p>Beam = Module | Filename</p><p>Filename = atom() | string()</p><p>Rules = [{BinSuffix :: string(), SourceSuffix :: string()}]</p><p>Module = module()</p><p>SourceFile = string()</p><p>Options = [Option]</p><p>Option = {i, Path :: string()}</p>
<pre>
       | {outdir, Path :: string()}
</pre>

<pre>
       | {d, atom()}
</pre>
<p>ErrorReason = non_existing | preloaded | interpreted</p><p>Finds the source filename and compiler options for a module. The result can be fed to <em>compile:file/2</em> in order to compile the file again.</p><p><strong></strong> Warning:</p><p>We don't recommend using this function. If possible, use <strong>beam_lib(3erl)</strong> to extract the abstract code format from the BEAM file and compile that instead.</p><p>The <em>Beam</em> argument, which can be a string or an atom, specifies either the module name or the path to the source code, with or without the <em>".erl"</em> extension. In either case, the module must be known by the code server, i.e. <em>code:which(Module)</em> must succeed.</p><p><em>Rules</em> describes how the source directory can be found, when the object code directory is known. It is a list of tuples <em>{BinSuffix, SourceSuffix}</em> and is interpreted as follows: If the end of the directory name where the object is located matches <em>BinSuffix</em>, then the source code directory has the same name, but with <em>BinSuffix</em> replaced by <em>SourceSuffix</em>. <em>Rules</em> defaults to:</p>
<pre>
[{"", ""}, {"ebin", "src"}, {"ebin", "esrc"}]
</pre>
<p>If the source file is found in the resulting directory, then the function returns that location together with <em>Options</em>. Otherwise, the next rule is tried, and so on.</p><p>The function returns <em>{SourceFile, Options}</em> if it succeeds. <em>SourceFile</em> is the absolute path to the source file without the <em>".erl"</em> extension. <em>Options</em> include the options which are necessary to recompile the file with <em>compile:file/2</em>, but excludes options such as <em>report</em> or <em>verbose</em> which do not change the way code is generated. The paths in the <em>{outdir, Path}</em> and <em>{i, Path}</em> options are guaranteed to be absolute.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="filelib.3erl.html"><span aria-hidden="true">&larr;</span> filelib.3erl: File utilities, such as wildcard matching of filenames</a></li>
   <li class="next"><a href="fixed.3erl.html">fixed.3erl: The corba fixed type <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
