<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>log4c_rollingpolicy_set_type: Log4c rolling policy interface. defines the interface for managing and providing rolling policies.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Log4c rolling policy interface. defines the interface for managing and providing rolling policies.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="log4c_rollingpolicy_set_type (3) manual">
  <meta name="twitter:description" content="Log4c rolling policy interface. defines the interface for managing and providing rolling policies.">
  <meta name="twitter:image" content="https://www.carta.tech/images/liblog4c-doc-log4c_rollingpolicy_set_type-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/log4c_rollingpolicy_set_type.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="log4c_rollingpolicy_set_type (3) manual" />
  <meta property="og:description" content="Log4c rolling policy interface. defines the interface for managing and providing rolling policies." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/liblog4c-doc-log4c_rollingpolicy_set_type-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">log4c_rollingpolicy_set_type<small> (3)</small></h1>
        <p class="lead">Log4c rolling policy interface. defines the interface for managing and providing rolling policies.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/log4c_rollingpolicy_set_type.3.html">
      <span itemprop="name">log4c_rollingpolicy_set_type: Log4c rolling policy interface. defines the interface for managing and providing rolling policies.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/liblog4c-doc/">
      <span itemprop="name">liblog4c-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/log4c_rollingpolicy_set_type.3.html">
      <span itemprop="name">log4c_rollingpolicy_set_type: Log4c rolling policy interface. defines the interface for managing and providing rolling policies.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;stdio.h&gt;</p><p>#include &lt;log4c/defs.h&gt;</p><p>#include &lt;log4c/layout.h&gt;</p><h3>Data Structures</h3>
<p>struct <strong>log4c_rollingpolicy_type</strong></p><p><em>log4c rollingpolicy type. Defines the interface a specific policy must provide to the rollingfile appender. </em></p>
<h3>Defines</h3>
<p>#define <strong>ROLLINGPOLICY_ROLLOVER_ERR_CAN_LOG</strong>   0x05</p>
<h3>Typedefs</h3>
<p>typedef struct __log4c_rollingpolicy <strong>log4c_rollingpolicy_t</strong></p><p>typedef struct <strong>log4c_rollingpolicy_type</strong> <strong>log4c_rollingpolicy_type_t</strong></p><p><em>log4c rollingpolicy type. Defines the interface a specific policy must provide to the rollingfile appender. </em></p>
<h3>Functions</h3>
<p>LOG4C_API <strong>log4c_rollingpolicy_t</strong> * <strong>log4c_rollingpolicy_get</strong> (const char *policy_name)</p><p>LOG4C_API const <strong>log4c_rollingpolicy_type_t</strong> * <strong>log4c_rollingpolicy_type_set</strong> (const <strong>log4c_rollingpolicy_type_t</strong> *a_type)</p><p>LOG4C_API void <strong>log4c_rollingpolicy_set_udata</strong> (<strong>log4c_rollingpolicy_t</strong> *policyp, void *udatap)</p><p>LOG4C_API int <strong>log4c_rollingpolicy_init</strong> (<strong>log4c_rollingpolicy_t</strong> *policyp, rollingfile_udata_t *rfup)</p><p>LOG4C_API int <strong>log4c_rollingpolicy_fini</strong> (<strong>log4c_rollingpolicy_t</strong> *a_this)</p><p>LOG4C_API int <strong>log4c_rollingpolicy_is_triggering_event</strong> (<strong>log4c_rollingpolicy_t</strong> *policyp, const <strong>log4c_logging_event_t</strong> *evtp, long current_file_size)</p><p>LOG4C_API const <strong>log4c_rollingpolicy_type_t</strong> * <strong>log4c_rollingpolicy_set_type</strong> (<strong>log4c_rollingpolicy_t</strong> *a_rollingpolicy, const <strong>log4c_rollingpolicy_type_t</strong> *a_type)</p><p>LOG4C_API const <strong>log4c_rollingpolicy_type_t</strong> * <strong>log4c_rollingpolicy_type_get</strong> (const char *a_name)</p><p>LOG4C_API void * <strong>log4c_rollingpolicy_get_udata</strong> (const <strong>log4c_rollingpolicy_t</strong> *policyp)</p><p>LOG4C_API rollingfile_udata_t * <strong>log4c_rollingpolicy_get_rfudata</strong> (const <strong>log4c_rollingpolicy_t</strong> *policyp)</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Log4c rolling policy interface. Defines the interface for managing and providing rolling policies.</p><p>A rolling policy is used to confogure a rollingfile appender to tell it when to trigger a rolover event.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Define Documentation</h2>
        <div class="sectioncontent">
<h3>#define ROLLINGPOLICY_ROLLOVER_ERR_CAN_LOG   0x05 Effect a rollover according to policyp on the given file stream.</h3>
<p><strong>Parameters:</strong></p><p><em>policyp</em> pointer to the rolling policy</p><p><em>fp</em> filestream to rollover.</p><p><strong>Returns:</strong></p><p>zero if successful, non-zero otherwise. The policy can return an indication that something went wrong but that the rollingfile appender can stull go ahead and log by returning an error code &lt;= ROLLINGPOLICY_ROLLOVER_ERR_CAN_LOG. Anything greater than means that the rolling file appender will not try to log it's message.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Typedef Documentation</h2>
        <div class="sectioncontent">
<h3>typedef struct __log4c_rollingpolicy \fBlog4c_rollingpolicy_t\fP log4c rollingpolicy type</h3>

<h3>typedef struct \fBlog4c_rollingpolicy_type\fP  \fBlog4c_rollingpolicy_type_t\fP</h3>
<p>log4c rollingpolicy type. Defines the interface a specific policy must provide to the rollingfile appender. Attributes description:</p><ul>
<li><p>name rollingpolicy type name</p></li><li><p>init() init the rollingpolicy</p></li><li><p>is_triggering_event()</p></li><li><p>rollover()</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>LOG4C_API int log4c_rollingpolicy_fini (\fBlog4c_rollingpolicy_t\fP *a_this) Call the un initialization code of a rolling policy. This will call the fini routine of the particular rollingpolicy type to allow it to free up resources. If the call to fini in the rollingpolicy type fails then the rollingpolicy is not uninitialized. Try again later model...</h3>
<p><strong>Parameters:</strong></p><p><em>policyp</em> pointer to the rolling policy</p><p><strong>Returns:</strong></p><p>zero if successful, non-zero otherwise.</p>
<h3>LOG4C_API \fBlog4c_rollingpolicy_t\fP* log4c_rollingpolicy_get (const char *policy_name) Get a new rolling policy</h3>
<p><strong>Parameters:</strong></p><p><em>policy_name</em> a name for the policy</p><p><strong>Returns:</strong></p><p>a new rolling policy, otherwise NULL.</p>
<h3>LOG4C_API rollingfile_udata_t* log4c_rollingpolicy_get_rfudata (const \fBlog4c_rollingpolicy_t\fP *policyp) Get the rollingfile appender associated with this policy.</h3>
<p><strong>Parameters:</strong></p><p><em>policyp</em> pointer to the rolling policy</p><p><strong>Returns:</strong></p><p>pointer to the rolling file appender associated with this policy</p>
<h3>LOG4C_API void* log4c_rollingpolicy_get_udata (const \fBlog4c_rollingpolicy_t\fP *policyp) Get the rolling policy configuration.</h3>
<p><strong>Parameters:</strong></p><p><em>policyp</em> pointer to the rolling policy</p><p><strong>Returns:</strong></p><p>pointer to the rolling policy configuration.</p>
<h3>LOG4C_API int log4c_rollingpolicy_init (\fBlog4c_rollingpolicy_t\fP *policyp, rollingfile_udata_t *rfup) Call the initialization code of a rolling policy.</h3>
<p><strong>Parameters:</strong></p><p><em>policyp</em> pointer to the rolling policy</p><p><em>app</em> the rolling appender this policy is used with</p><p><strong>Returns:</strong></p><p>zero if successful, non-zero otherwise.</p>
<h3>LOG4C_API int log4c_rollingpolicy_is_triggering_event (\fBlog4c_rollingpolicy_t\fP *policyp, const \fBlog4c_logging_event_t\fP *evtp, longcurrent_file_size) Determine if a logging event should trigger a rollover according to the given policy.</h3>
<p><strong>Parameters:</strong></p><p><em>policyp</em> pointer to the rolling policy</p><p><em>evtp</em> the logging event pointer.</p><p><em>current_file_size</em> the size of the current file being logged to.</p><p><strong>Returns:</strong></p><p>non-zero if rollover required, zero otherwise.</p>
<h3>LOG4C_API const \fBlog4c_rollingpolicy_type_t\fP* log4c_rollingpolicy_set_type (\fBlog4c_rollingpolicy_t\fP *a_rollingpolicy, const \fBlog4c_rollingpolicy_type_t\fP *a_type) sets the rolling policy type</h3>
<p><strong>Parameters:</strong></p><p><em>a_rollingpolicy</em> the log4c_rollingpolicy_t object</p><p><em>a_type</em> the new rollingpolicy type</p><p><strong>Returns:</strong></p><p>the previous appender type</p>
<h3>LOG4C_API void log4c_rollingpolicy_set_udata (\fBlog4c_rollingpolicy_t\fP *policyp, void *udatap) Configure a rolling policy with a specific policy.</h3>
<p><strong>Parameters:</strong></p><p><em>policyp</em> pointer to the rolling policy</p><p><em>udatap</em> a specific policy type, for example sizewin.</p><p><strong>Returns:</strong></p><p>zero if successful, non-zero otherwise.</p>
<h3>LOG4C_API const \fBlog4c_rollingpolicy_type_t\fP* log4c_rollingpolicy_type_get (const char *a_name) Get a pointer to an existing rollingpolicy type.</h3>
<p><strong>Parameters:</strong></p><p><em>a_name</em> the name of the rollingpolicy type to return.</p><p><strong>Returns:</strong></p><p>a pointer to an existing rollingpolicy type, or NULL if no rollingpolicy type with the specified name exists.</p>
<h3>LOG4C_API const \fBlog4c_rollingpolicy_type_t\fP* log4c_rollingpolicy_type_set (const \fBlog4c_rollingpolicy_type_t\fP *a_type) Use this function to register a rollingpolicy type with log4c. Once this is done you may refer to this type by name both programmatically and in the log4c configuration file.</h3>
<p><strong>Parameters:</strong></p><p><em>a_type</em> a pointer to the new rollingpolicy type to register.</p><p><strong>Returns:</strong></p><p>a pointer to the previous rollingpolicy type of same name.</p><p>Example code fragment:</p>
<pre>
 const log4c_rollingpolicy_type_t log4c_rollingpolicy_type_sizewin = {
   'sizewin',
   sizewin_init,
   sizewin_is_triggering_event,
   sizewin_rollover
 };

 log4c_rollingpolicy_type_set(&log4c_rollingpolicy_type_sizewin);

</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for log4c from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="log4c_rollingpolicy_is_triggering_event.3.html"><span aria-hidden="true">&larr;</span> log4c_rollingpolicy_is_triggering_event.3: Log4c rolling policy interface. defines the interface for managing and providing rolling policies.</a></li>
   <li class="next"><a href="log4c_rollingpolicy_set_udata.3.html">log4c_rollingpolicy_set_udata.3: Log4c rolling policy interface. defines the interface for managing and providing rolling policies. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
