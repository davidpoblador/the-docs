<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>redi_basic_rpstream: Class template for restricted pstreams.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Class template for restricted pstreams.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="redi_basic_rpstream (3) manual">
  <meta name="twitter:description" content="Class template for restricted pstreams.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpstreams-dev-redi_basic_rpstream-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/redi_basic_rpstream.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="redi_basic_rpstream (3) manual" />
  <meta property="og:description" content="Class template for restricted pstreams." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpstreams-dev-redi_basic_rpstream-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">redi_basic_rpstream<small> (3)</small></h1>
        <p class="lead">Class template for restricted pstreams.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/redi_basic_rpstream.3.html">
      <span itemprop="name">redi_basic_rpstream: Class template for restricted pstreams.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpstreams-dev/">
      <span itemprop="name">libpstreams-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/redi_basic_rpstream.3.html">
      <span itemprop="name">redi_basic_rpstream: Class template for restricted pstreams.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;pstream.h&gt;</p><p>Inherits basic_ostream&lt; CharT, Traits &gt;, basic_istream&lt; CharT, Traits &gt;, <strong>redi::pstream_common&lt; CharT, Traits &gt;</strong>, and <strong>redi::pstreams</strong>.</p><h3>Public Types</h3>
<p>typedef pbase_type::pmode <strong>pmode</strong></p><p><em>Type used to specify how to connect to the process. </em> typedef pbase_type::argv_type <strong>argv_type</strong></p><p><em>Type used to hold the arguments for a command. </em> typedef int <strong>fd_type</strong></p><p><em>Type used for file descriptors. </em></p>
<h3>Public Member Functions</h3>
<p><strong>basic_rpstream</strong> ()</p><p><em>Default constructor, creates an uninitialised stream. </em> <strong>basic_rpstream</strong> (const std::string &<strong>command</strong>, <strong>pmode</strong> mode=<strong>pstdout</strong>|<strong>pstdin</strong>)</p><p><em>Constructor that initialises the stream by starting a process. </em> <strong>basic_rpstream</strong> (const std::string &file, const <strong>argv_type</strong> &argv, <strong>pmode</strong> mode=<strong>pstdout</strong>|<strong>pstdin</strong>)</p><p><em>Constructor that initialises the stream by starting a process. </em> <strong>basic_rpstream</strong> (const <strong>argv_type</strong> &argv, <strong>pmode</strong> mode=<strong>pstdout</strong>|<strong>pstdin</strong>)</p><p><em>Constructor that initialises the stream by starting a process. </em> <strong>~basic_rpstream</strong> ()</p><p><em>Destructor. </em> void <strong>open</strong> (const std::string &<strong>command</strong>, <strong>pmode</strong> mode=<strong>pstdout</strong>|<strong>pstdin</strong>)</p><p><em>Start a process. </em> void <strong>open</strong> (const std::string &file, const <strong>argv_type</strong> &argv, <strong>pmode</strong> mode=<strong>pstdout</strong>|<strong>pstdin</strong>)</p><p><em>Start a process. </em> istream_type & <strong>out</strong> ()</p><p><em>Obtain a reference to the istream that reads the process' stdout</em>. <em></em> istream_type & <strong>err</strong> ()</p><p><em>Obtain a reference to the istream that reads the process' stderr</em>. <em></em></p>
<h3>Static Public Attributes</h3>
<p>static const <strong>pmode</strong> <strong>pstdin</strong> = std::ios_base::out</p><p><em>Write to stdin. </em> static const <strong>pmode</strong> <strong>pstdout</strong> = std::ios_base::in</p><p><em>Read from stdout. </em> static const <strong>pmode</strong> <strong>pstderr</strong> = std::ios_base::app</p><p><em>Read from stderr. </em></p>
<h3>Protected Types</h3>
<p>enum { <strong>bufsz</strong> = 32 }</p><p>enum { <strong>pbsz</strong> = 2 }</p>
<h3>Private Types</h3>
<p>typedef <strong>basic_pstreambuf</strong></p><p>&lt; CharT, Traits &gt; <strong>streambuf_type</strong>"</p><p>enum { <strong>bufsz</strong> = 32 }</p><p>enum { <strong>pbsz</strong> = 2 }</p><p>typedef int <strong>fd_type</strong></p><p><em>Type used for file descriptors. </em></p>
<h3>Private Member Functions</h3>
<p>void <strong>do_open</strong> (const std::string &<strong>command</strong>, <strong>pmode</strong> mode)</p><p><em>Start a process. </em> void <strong>do_open</strong> (const std::string &file, const <strong>argv_type</strong> &argv, <strong>pmode</strong> mode)</p><p><em>Start a process. </em> void <strong>close</strong> ()</p><p><em>Close the pipe. </em> bool <strong>is_open</strong> () const </p><p><em>Report whether the stream's buffer has been initialised. </em> const std::string & <strong>command</strong> () const </p><p><em>Return the command used to initialise the stream. </em> <strong>streambuf_type</strong> * <strong>rdbuf</strong> () const </p><p><em>Return a pointer to the stream buffer. </em></p>
<h3>Private Attributes</h3>
<p>std::string <strong>command_</strong></p><p><em>The command used to start the process. </em> <strong>streambuf_type</strong> <strong>buf_</strong></p><p><em>The stream buffer. </em></p>
<h3>Static Private Attributes</h3>
<p>static const <strong>pmode</strong> <strong>pstdin</strong> = std::ios_base::out</p><p><em>Write to stdin. </em> static const <strong>pmode</strong> <strong>pstdout</strong> = std::ios_base::in</p><p><em>Read from stdout. </em> static const <strong>pmode</strong> <strong>pstderr</strong> = std::ios_base::app</p><p><em>Read from stderr. </em></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<h3>template&lt;typename CharT, typename Traits = std::char_traits&lt;CharT&gt;&gt;class redi::basic_rpstream&lt; CharT, Traits &gt;</h3>
<p>Class template for Restricted PStreams.</p><p>Writing to an rpstream opened with pmode pstdin writes to the standard input of the command. It is not possible to read directly from an rpstream object, to use an rpstream as in istream you must call either <strong>basic_rpstream::out()</strong> or <strong>basic_rpstream::err()</strong>. This is to prevent accidental reads from the wrong input source. If the rpstream was not opened with pmode<strong> pstderr</strong> then the class cannot read the process' stderr<strong>, and </strong><strong>basic_rpstream::err()</strong><strong> will return an istream that reads from the process' stdout</strong><strong>, and vice versa. Reading from an rpstream opened with pmode</strong><strong> pstdout</strong><strong> and/or pstderr</strong><strong> reads the command's standard output and/or standard error. Any of the process' stdin</strong><strong>, stdout</strong><strong> or stderr</strong><strong> that is not connected to the pstream (as specified by the pmode</strong><strong>) will be the same as the process that created the pstream object, unless altered by the command itself.</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor & Destructor Documentation</h2>
        <div class="sectioncontent">
<h3>template&lt;typename CharT , typename Traits  = std::char_traits&lt;CharT&gt;&gt; \fBredi::basic_rpstream\fP&lt; CharT, Traits &gt;::\fBbasic_rpstream\fP (const std::string &command, \fBpmode\fPmode = \fC\fBpstdout\fP|\fBpstdin\fP\fP)\fC [inline]\fP</h3>
<p>Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling <strong>do_open()</strong> with the supplied arguments.</p><p><strong>Parameters:</strong></p><p><em>command</em> a string containing a shell command.</p><p><em>mode</em> the I/O mode to use when opening the pipe.</p><p><strong>See Also:</strong></p><p><strong>do_open(const std::string&, pmode)</strong></p>
<h3>template&lt;typename CharT , typename Traits  = std::char_traits&lt;CharT&gt;&gt; \fBredi::basic_rpstream\fP&lt; CharT, Traits &gt;::\fBbasic_rpstream\fP (const std::string &file, const \fBargv_type\fP &argv, \fBpmode\fPmode = \fC\fBpstdout\fP|\fBpstdin\fP\fP)\fC [inline]\fP</h3>
<p>Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling <strong>do_open()</strong> with the supplied arguments.</p><p><strong>Parameters:</strong></p><p><em>file</em> a string containing the pathname of a program to execute.</p><p><em>argv</em> a vector of argument strings passed to the new program.</p><p><em>mode</em> the I/O mode to use when opening the pipe.</p><p><strong>See Also:</strong></p><p><strong>do_open(const std::string&, const argv_type&, pmode)</strong></p>
<h3>template&lt;typename CharT , typename Traits  = std::char_traits&lt;CharT&gt;&gt; \fBredi::basic_rpstream\fP&lt; CharT, Traits &gt;::\fBbasic_rpstream\fP (const \fBargv_type\fP &argv, \fBpmode\fPmode = \fC\fBpstdout\fP|\fBpstdin\fP\fP)\fC [inline]\fP</h3>
<p>Constructor that initialises the stream by starting a process. Initialises the stream buffer by calling do_open(argv[0],argv,mode)</p><p><strong>Parameters:</strong></p><p><em>argv</em> a vector of argument strings passed to the new program.</p><p><em>mode</em> the I/O mode to use when opening the pipe.</p><p><strong>See Also:</strong></p><p><strong>do_open(const std::string&, const argv_type&, pmode)</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Function Documentation</h2>
        <div class="sectioncontent">
<h3>template&lt;typename CharT , typename Traits  = std::char_traits&lt;CharT&gt;&gt; istream_type& \fBredi::basic_rpstream\fP&lt; CharT, Traits &gt;::err ()\fC [inline]\fP</h3>
<p>Obtain a reference to the istream that reads the process' stderr.</p><p><strong>Returns:</strong></p><p>*this</p><p>References redi::pstream_common&lt; CharT, Traits &gt;::buf_, and redi::basic_pstreambuf&lt; CharT, Traits &gt;::read_err().</p>
<h3>template&lt;typename CharT , typename Traits  = std::char_traits&lt;CharT&gt;&gt; void \fBredi::basic_rpstream\fP&lt; CharT, Traits &gt;::open (const std::string &command, \fBpmode\fPmode = \fC\fBpstdout\fP|\fBpstdin\fP\fP)\fC [inline]\fP</h3>
<p>Start a process. Calls do_open( <em>command</em> , <em>mode</em> ).</p><p><strong>Parameters:</strong></p><p><em>command</em> a string containing a shell command.</p><p><em>mode</em> the I/O mode to use when opening the pipe.</p><p><strong>See Also:</strong></p><p><strong>do_open(const std::string&, pmode)</strong></p><p>References redi::pstream_common&lt; CharT, Traits &gt;::do_open().</p>
<h3>template&lt;typename CharT , typename Traits  = std::char_traits&lt;CharT&gt;&gt; void \fBredi::basic_rpstream\fP&lt; CharT, Traits &gt;::open (const std::string &file, const \fBargv_type\fP &argv, \fBpmode\fPmode = \fC\fBpstdout\fP|\fBpstdin\fP\fP)\fC [inline]\fP</h3>
<p>Start a process. Calls do_open( <em>file</em> , <em>argv</em> , <em>mode</em> ).</p><p><strong>Parameters:</strong></p><p><em>file</em> a string containing the pathname of a program to execute.</p><p><em>argv</em> a vector of argument strings passed to the new program.</p><p><em>mode</em> the I/O mode to use when opening the pipe.</p><p><strong>See Also:</strong></p><p><strong>do_open(const std::string&, const argv_type&, pmode)</strong></p><p>References redi::pstream_common&lt; CharT, Traits &gt;::do_open().</p>
<h3>template&lt;typename CharT , typename Traits  = std::char_traits&lt;CharT&gt;&gt; istream_type& \fBredi::basic_rpstream\fP&lt; CharT, Traits &gt;::out ()\fC [inline]\fP</h3>
<p>Obtain a reference to the istream that reads the process' stdout.</p><p><strong>Returns:</strong></p><p>*this</p><p>References redi::pstream_common&lt; CharT, Traits &gt;::buf_, and redi::basic_pstreambuf&lt; CharT, Traits &gt;::read_err().</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for PStreams from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="redi_basic_pstreambuf.3.html"><span aria-hidden="true">&larr;</span> redi_basic_pstreambuf.3: Class template for stream buffer.</a></li>
   <li class="next"><a href="redi_pstream_common.3.html">redi_pstream_common.3: Class template for common base class. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
