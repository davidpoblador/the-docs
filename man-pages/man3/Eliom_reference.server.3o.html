<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Eliom_reference.server: Server side state data, a.k.a eliom references</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Server side state data, a.k.a eliom references">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Eliom_reference.server (3o) manual">
  <meta name="twitter:description" content="Server side state data, a.k.a eliom references">
  <meta name="twitter:image" content="https://www.carta.tech/images/libeliom-ocaml-doc-Eliom_reference.server-3o.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3o/Eliom_reference.server.3o.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Eliom_reference.server (3o) manual" />
  <meta property="og:description" content="Server side state data, a.k.a eliom references" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libeliom-ocaml-doc-Eliom_reference.server-3o.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Eliom_reference.server<small> (3o)</small></h1>
        <p class="lead">Server side state data, a.k.a eliom references</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/Eliom_reference.server.3o.html">
      <span itemprop="name">Eliom_reference.server: Server side state data, a.k.a eliom references</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libeliom-ocaml-doc/">
      <span itemprop="name">libeliom-ocaml-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3o/Eliom_reference.server.3o.html">
      <span itemprop="name">Eliom_reference.server: Server side state data, a.k.a eliom references</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Module</h2>
        <div class="sectioncontent">
<p>Module   Eliom_reference</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Documentation</h2>
        <div class="sectioncontent">
<p>Module <strong>Eliom_reference</strong>  : <strong>sig end</strong></p><p><strong>Server side state data, a.k.a Eliom references</strong></p><p><strong>=== Please read the</strong> <strong>{% &lt;&lt;a_manual chapter="server-state" | Eliom manual &gt;&gt; %}</strong> <strong>before this page to learn how server side state works. ===</strong></p><p><em>type</em> <strong>('a, +'storage)</strong> <em>eref'</em></p><p>Eliom references come in two flavors: they may be stored persistently or the may be volatile.  The module <strong>Volatile</strong> allows creation of references which can be, get, set, modify, and unset volatile references through non-Lwt functions.</p><p><em>type</em> <strong>'a</strong> <em>eref</em> = <strong>('a, [ `Persistent | `Volatile ]) eref'</strong></p><p>The type of Eliom references whose content is of type <strong>'a</strong> .</p><p><em>exception Eref_not_initialized</em></p><p>Exception raised when trying to access an eref that has not been initaliazed, when we don't want to initialize it.</p><p><em>val eref</em> : <strong>scope:[&lt; Eliom_common.all_scope ] -&gt;</strong> <strong>?secure:bool -&gt; ?persistent:string -&gt; 'a -&gt; 'a eref</strong></p><p>The function <strong>eref ~scope value</strong> creates an Eliom reference for the given <strong>scope</strong> and initialize it with <strong>value</strong> . See the Eliom manual for more information about .</p><p>Use the optional parameter <strong>?persistent</strong> if you want the data to survive after relaunching the server. You must give an unique name to the table in which it will be stored on the hard disk (using Ocsipersist).  Be very careful to use unique names, and to change the name if you change the type of the data, otherwise the server may crash (unsafe unmarshaling). This parameter has no effect for scope <strong>Eliom_common.request_scope</strong> .</p><p>Use the optional parameter <strong>~secure:true</strong> if you want the data to be available only using HTTPS. This parameter has no effect for scopes <strong>Eliom_common.global_scope</strong> , <strong>Eliom_common.site_scope</strong> , and <strong>Eliom_common.request_scope</strong> .</p><p>Warning: Eliom references of scope <strong>Eliom_common.global_scope</strong> , <strong>Eliom_common.site_scope</strong> or <strong>Eliom_common.request_scope</strong> may be created at any time ; but for other scopes, they must be created when the site information is available to Eliom, that is, either during the initialization phase of the server (while reading the configuration file) or during a request. Otherwise, it will raise the exception <strong>Eliom_common.Eliom_site_information_not_available</strong> . If you are using static linking, you must delay the call to this function until the configuration file is read, using <strong>Eliom_service.register_eliom_module</strong> . Otherwise you will also get this exception.</p><p><em>val eref_from_fun</em> : <strong>scope:[&lt; Eliom_common.all_scope ] -&gt;</strong> <strong>?secure:bool -&gt; ?persistent:string -&gt; (unit -&gt; 'a) -&gt; 'a eref</strong></p><p>The function <strong>eref_from_fun</strong> works like the above <strong>Eliom_reference.eref</strong> , but instead of providing a value for the initial content, a function <strong>f</strong> for creating the initial content is provided (cf. also <strong>Lazy.lazy_from_fun</strong> ).</p><p>In each scope, the function <strong>f</strong> is called for creating the value of the reference the first time the reference is read (by <strong>Eliom_reference.get</strong> ), if the value has not been set explicitly before (by <strong>Eliom_reference.set</strong> ); or if the reference was reset (by <strong>Eliom_reference.reset</strong> ) before.</p><p><em>val get</em> : <strong>'a eref -&gt; 'a Lwt.t</strong></p><p>The function <strong>get eref</strong> returns the current value of the Eliom reference <strong>eref</strong> .</p><p>Warning: this function cannot be used outside of a service handler when <strong>eref</strong> has been created with a scope different of <strong>Eliom_common.global_scope</strong> ; it can neither be used outside of an Eliom module when <strong>eref</strong> has been created with scope <strong>Eliom_common.site_scope</strong></p><p><em>val set</em> : <strong>'a eref -&gt; 'a -&gt; unit Lwt.t</strong></p><p>The function <strong>set eref v</strong> set <strong>v</strong> as current value of the Eliom reference <strong>eref</strong> .</p><p>Warning: this function could not be used outside af a service handler when <strong>eref</strong> has been created with a scope different of <strong>Eliom_common.global_scope</strong> ; it can neither be used outside of an Eliom module when <strong>eref</strong> has been created with scope <strong>Eliom_common.site_scope</strong></p><p><em>val modify</em> : <strong>'a eref -&gt; ('a -&gt; 'a) -&gt; unit Lwt.t</strong></p><p>The function <strong>modify eref f</strong> modifies the content of the Eliom reference <strong>eref</strong> by applying the function <strong>f</strong> on it.</p><p>Warning: this function could not be used outside af a service handler when <strong>eref</strong> has been created with a scope different of <strong>Eliom_common.global_scope</strong> ; it can neither be used outside of an Eliom module when <strong>eref</strong> has been created with scope <strong>Eliom_common.site_scope</strong></p><p><em>val unset</em> : <strong>'a eref -&gt; unit Lwt.t</strong></p><p>The function <strong>unset eref</strong> reset the content of the Eliom reference <strong>eref</strong> to its initial value.</p><p>Warning: this function could not be used outside af a service handler when <strong>eref</strong> has been created with a scope different of <strong>Eliom_common.global_scope</strong> ; it can neither be used outside of an Eliom module when <strong>eref</strong> has been created with scope <strong>Eliom_common.site_scope</strong></p><p><em>module Volatile :</em> <strong>sig end</strong></p><p>Same functions as in <strong>Eliom_reference</strong> but a non-Lwt interface for non-persistent Eliom references.</p><p><em>module Ext :</em> <strong>sig end</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Eliom_reference.Volatile.server.3o.html"><span aria-hidden="true">&larr;</span> Eliom_reference.Volatile.server.3o: Same functions as in eliom_reference but a non-lwt interface for non-persistent eliom references.</a></li>
   <li class="next"><a href="Eliom_registration.APPL_PARAMS.server.3o.html">Eliom_registration.APPL_PARAMS.server.3o: Signature for application creation. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
