<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sort::Fields: Sort lines containing delimited fields</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sort lines containing delimited fields">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Sort::Fields (3pm) manual">
  <meta name="twitter:description" content="Sort lines containing delimited fields">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsort-fields-perl-Sort::Fields-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Sort::Fields.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Sort::Fields (3pm) manual" />
  <meta property="og:description" content="Sort lines containing delimited fields" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsort-fields-perl-Sort::Fields-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Sort::Fields<small> (3pm)</small></h1>
        <p class="lead">Sort lines containing delimited fields</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Sort::Fields.3pm.html">
      <span itemprop="name">Sort::Fields: Sort lines containing delimited fields</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsort-fields-perl/">
      <span itemprop="name">libsort-fields-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Sort::Fields.3pm.html">
      <span itemprop="name">Sort::Fields: Sort lines containing delimited fields</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Sort::Fields;
  @sorted = fieldsort [3, &apos;2n&apos;], @lines;
  @sorted = fieldsort &apos;&#92;+&apos;, [-1, -3, 0], @lines;
</pre>
<p>  $sort_3_2n = make_fieldsort [3, &apos;2n&apos;], @lines;   @sorted = $sort_3_2n-&gt;(@lines);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Sort::Fields provides a general purpose technique for efficiently sorting lists of lines that contain data separated into fields.</p><p>Sort::Fields automatically imports two subroutines, \*(C`fieldsort\*(C' and \*(C`make_fieldsort\*(C', and two variants, \*(C`stable_fieldsort\*(C' and \*(C`make_stable_fieldsort\*(C'.  \*(C`make_fieldsort\*(C' generates a sorting subroutine and returns a reference to it.  \*(C`fieldsort\*(C' is a wrapper for the \*(C`make_fieldsort\*(C' subroutine.</p><p>The first argument to make_fieldsort is a delimiter string, which is used as a regular expression argument for a \*(C`split\*(C' operator.  The delimiter string is optional.  If it is not supplied, make_fieldsort splits each line using \*(C`/&#92;s+/\*(C'.</p><p>The second argument is an array reference containing one or more field specifiers.  The specifiers indicate what fields in the strings will be used to sort the data.  The specifier \*(L"1\*(R" indicates the first field, \*(L"2\*(R" indicates the second, and so on.  A negative specifier like \*(L"-2\*(R" means to sort on the second field in reverse (descending) order.  To indicate a numeric rather than alphabetic comparison, append \*(L"n\*(R" to the specifier.  A specifier of \*(L"0\*(R" means the entire string (\*(L"-0\*(R" means the entire string, in reverse order).</p><p>The order in which the specifiers appear is the order in which they will be used to sort the data.  The primary key is first, the secondary key is second, and so on.</p><p>\*(C`fieldsort [1, 2], @data\*(C' is roughly equivalent to \*(C`make_fieldsort([1, 2])-&gt;(@data)\*(C'.  Avoid calling fieldsort repeatedly with the same sort specifiers.  If you need to use a particular sort more than once, it is more efficient to call \*(C`make_fieldsort\*(C' once and reuse the subroutine it returns.</p><p>\*(C`stable_fieldsort\*(C' and \*(C`make_stable_fieldsort\*(C' are like their \*(L"unstable\*(R" counterparts, except that the items that compare the same are maintained in their original order.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Some sample data (in array @data):</p><p>  123   asd   1.22   asdd   32    ewq   2.32   asdd   43    rewq  2.12   ewet   51    erwt  34.2   ewet   23    erww  4.21   ewet   91    fdgs  3.43   ewet   123   refs  3.22   asdd   123   refs  4.32   asdd</p><p>  # alpha sort on column 1   print fieldsort [1], @data;</p><p>  123   asd   1.22   asdd   123   refs  3.22   asdd   123   refs  4.32   asdd   23    erww  4.21   ewet   32    ewq   2.32   asdd   43    rewq  2.12   ewet   51    erwt  34.2   ewet   91    fdgs  3.43   ewet</p><p>  # numeric sort on column 1   print fieldsort [&apos;1n&apos;], @data;</p><p>  23    erww  4.21   ewet   32    ewq   2.32   asdd   43    rewq  2.12   ewet   51    erwt  34.2   ewet   91    fdgs  3.43   ewet   123   asd   1.22   asdd   123   refs  3.22   asdd   123   refs  4.32   asdd</p><p>  # reverse numeric sort on column 1   print fieldsort [&apos;-1n&apos;], @data;</p><p>  123   asd   1.22   asdd   123   refs  3.22   asdd   123   refs  4.32   asdd   91    fdgs  3.43   ewet   51    erwt  34.2   ewet   43    rewq  2.12   ewet   32    ewq   2.32   asdd   23    erww  4.21   ewet</p><p>  # alpha sort on column 2, then alpha on entire line   print fieldsort [2, 0], @data;</p><p>  123   asd   1.22   asdd   51    erwt  34.2   ewet   23    erww  4.21   ewet   32    ewq   2.32   asdd   91    fdgs  3.43   ewet   123   refs  3.22   asdd   123   refs  4.32   asdd   43    rewq  2.12   ewet</p><p>  # alpha sort on column 4, then numeric on column 1, then reverse   # numeric on column 3   print fieldsort [4, &apos;1n&apos;, &apos;-3n&apos;], @data;</p><p>  32    ewq   2.32   asdd   123   refs  4.32   asdd   123   refs  3.22   asdd   123   asd   1.22   asdd   23    erww  4.21   ewet   43    rewq  2.12   ewet   51    erwt  34.2   ewet   91    fdgs  3.43   ewet</p><p>  # now, splitting on either literal period or whitespace   # sort numeric on column 4 (fractional part of decimals) then   # numeric on column 3 (whole part of decimals)   print fieldsort &apos;(?:&#92;.|&#92;s+)&apos;, [&apos;4n&apos;, &apos;3n&apos;], @data;</p><p>  51    erwt  34.2   ewet   43    rewq  2.12   ewet   23    erww  4.21   ewet   123   asd   1.22   asdd   123   refs  3.22   asdd   32    ewq   2.32   asdd   123   refs  4.32   asdd   91    fdgs  3.43   ewet</p><p>  # alpha sort on column 4, then numeric on the entire line   # NOTE: produces warnings under -w   print fieldsort [4, &apos;0n&apos;], @data;</p><p>  32    ewq   2.32   asdd   123   asd   1.22   asdd   123   refs  3.22   asdd   123   refs  4.32   asdd   23    erww  4.21   ewet   43    rewq  2.12   ewet   51    erwt  34.2   ewet   91    fdgs  3.43   ewet</p><p>  # stable alpha sort on column 4 (maintains original relative order   # among items that compare the same)   print stable_fieldsort [4], @data;</p><p>  123   asd   1.22   asdd   32    ewq   2.32   asdd   123   refs  3.22   asdd   123   refs  4.32   asdd   43    rewq  2.12   ewet   51    erwt  34.2   ewet   23    erww  4.21   ewet   91    fdgs  3.43   ewet</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Some rudimentary tests now.</p><p>Perhaps something should be done to catch things like:</p><p>  fieldsort &apos;.&apos;, [1, 2], @lines;</p><p>'.' translates to \*(C`split /./\*(C' \*(-- probably not what you want.</p><p>Passing blank lines and/or lines containing the wrong kind of data (alphas instead of numbers) can result in copious warning messages under \*(C`-w\*(C'.</p><p>If the regexp contains memory parentheses (\*(C`(...)\*(C' rather than \*(C`(?:...)\*(C'), split will function in \*(L"delimiter retention\*(R" mode, capturing the contents of the parentheses as well as the stuff between the delimiters. I could imagine how this could be useful, but on the other hand I could also imagine how it could be confusing if encountered unexpectedly. Caveat sortor.</p><p>Not really a bug, but if you are planning to sort a large text file, consider using <em>sort</em>\|(1).  Unless, of course, your operating system doesn't have <em>sort</em>\|(1).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Joseph N. Hall, joseph@5sigma.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Sort::Fields&hellip;</h2>
        <div class="sectioncontent">
<p><em>perl</em>\|(1).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Shell::POSIX::Select.3pm.html"><span aria-hidden="true">&larr;</span> Shell::POSIX::Select.3pm: The posix shell's "select" loop for perl</a></li>
   <li class="next"><a href="Spreadsheet::ParseExcel::Simple.3pm.html">Spreadsheet::ParseExcel::Simple.3pm: A simple interface to excel data <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
