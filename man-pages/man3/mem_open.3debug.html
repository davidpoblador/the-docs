<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mem_open: Memory allocation routines for debugging</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Memory allocation routines for debugging">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mem_open (3debug) manual">
  <meta name="twitter:description" content="Memory allocation routines for debugging">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdebug0-dev-mem_open-3debug.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3debug/mem_open.3debug.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mem_open (3debug) manual" />
  <meta property="og:description" content="Memory allocation routines for debugging" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdebug0-dev-mem_open-3debug.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mem_open<small> (3debug)</small></h1>
        <p class="lead">Memory allocation routines for debugging</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3debug/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3debug/mem_open.3debug.html">
      <span itemprop="name">mem_open: Memory allocation routines for debugging</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdebug0-dev/">
      <span itemprop="name">libdebug0-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3debug/mem_open.3debug.html">
      <span itemprop="name">mem_open: Memory allocation routines for debugging</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">LIBRARIES</h2>
        <div class="sectioncontent">
<p>Debug Library (-ldebug)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;debug/memory.h&gt;</strong>

<strong>void mem_open(void (*</strong><em>fail</em><strong>)(const char *</strong><em>fmt</em><strong>, ...));</strong>

<strong>void mem_check(void);</strong>

<strong>void *mem_alloc(size_t </strong><em>size</em><strong>);</strong>

<strong>void *mem_realloc(void *</strong><em>ptr</em><strong>, size_t </strong><em>size</em><strong>);</strong>

<strong>void mem_free(void *</strong><em>ptr</em><strong>);</strong>

<strong>void mem_close(void);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mem_open()</strong> initializes the memory debugging system. It should be called before any of the other routines. You can specify a callback function which should be called whenever something bad happens, or NULL in which case the default error handler will be used. The default error handler logs error messages using the debug logging routines and exit.</p><p><strong>mem_check()</strong> check all the allocated memory areas. This is called every time memory is allocated or freed. You can also call it anytime you think memory might be corrupted.</p><p><strong>mem_alloc()</strong> allocates <em>size</em> bytes and returns a pointer to the allocated memory. The memory is not cleared.</p><p><strong>mem_realloc()</strong> changes the size of the memory block pointed to by <em>ptr</em> to <em>size</em> bytes. The contents will be unchanged to the minimum of the old and new sizes; newly allocated memory will be uninitialized. If <em>ptr</em> is <strong>NULL</strong>, the call is equivalent to <strong>mem_alloc(size)</strong>; if size is equal to zero, the call is equivalent to <strong>mem_free(ptr)</strong>. Unless <em>ptr</em> is <strong>NULL</strong>, it must have been returned by an earlier call to <strong>mem_alloc()</strong> or <strong>mem_realloc()</strong>.</p><p><strong>mem_free()</strong> frees the memory space pointed to by <em>ptr</em>, which must have been returned by a previous call to <strong>mem_alloc()</strong> or <strong>mem_realloc()</strong>. If <em>ptr</em> is <strong>NULL</strong>, no operation is performed.</p><p><strong>mem_close()</strong> checks for leaks and possible memory corruptions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>For <strong>mem_alloc()</strong>, the value returned is a pointer to the allocated memory, which is suitably aligned for any kind of variable, or <strong>NULL</strong> if the request fails.</p><p><strong>mem_realloc()</strong> returns a pointer to the newly allocated memory, which is suitably aligned for any kind of variable and may be different from <em>ptr</em>, or <strong>NULL</strong> if the request fails or if size was equal to 0. If <strong>mem_realloc()</strong> fails the original block is left untouched - it is not freed or moved.</p><p>All other functions returns no value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>If the default fail callback is used or if this routines are combined with the log routines, care should be taken to call open and close functions in the right order. The correct order is as follows:</p>
<pre>
mem_open (NULL);
log_open (NULL,LOG_NORMAL,LOG_HAVE_COLORS | LOG_PRINT_FUNCTION);
atexit (mem_close);
atexit (log_close);
</pre>
<p>Of course, <a href="../man3/atexit.3.html"><strong>atexit</strong>(3)</a> should only be used if the program will not forked.</p><p>None of the libdebug routines are thread-safe. I'm not planning to change this either! For more information, please see http://threading.2038bug.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mem_open&hellip;</h2>
        <div class="sectioncontent">
<p><strong>log_open</strong>(3), <a href="../man3/atexit.3.html"><strong>atexit</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Abraham vd Merwe &lt;abz@blio.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mem_free.3debug.html"><span aria-hidden="true">&larr;</span> mem_free.3debug: Memory allocation routines for debugging</a></li>
   <li class="next"><a href="mem_realloc.3debug.html">mem_realloc.3debug: Memory allocation routines for debugging <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
