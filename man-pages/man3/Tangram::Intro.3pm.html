<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tangram::Intro: An introduction to tangram</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="An introduction to tangram">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Tangram::Intro (3pm) manual">
  <meta name="twitter:description" content="An introduction to tangram">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtangram-perl-Tangram::Intro-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Tangram::Intro.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Tangram::Intro (3pm) manual" />
  <meta property="og:description" content="An introduction to tangram" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtangram-perl-Tangram::Intro-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Tangram::Intro<small> (3pm)</small></h1>
        <p class="lead">An introduction to tangram</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tangram::Intro.3pm.html">
      <span itemprop="name">Tangram::Intro: An introduction to tangram</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtangram-perl/">
      <span itemprop="name">libtangram-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tangram::Intro.3pm.html">
      <span itemprop="name">Tangram::Intro: An introduction to tangram</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 # http://www.faqs.org/rfcs/rfc2324.html
 perl -MNet::HTCPCP -le &apos;Net::HTCPCP-&gt;new("BREW")-&gt;send&apos;

 perldoc Tangram::Intro
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">YIN AND YANG OF OBJECT PERSISTENCE</h2>
        <div class="sectioncontent">
<p>There are yin and yang approaches to object persistence.  Are you a yin programmer or a yang programmer?</p>
<dl class='dl-vertical'>
  <dt>
    <strong>yin</strong>
  </dt>
  <dd>
    <p>(without, empty) - \*(L"I just want to store my objects\*(R"</p>
  </dd>
  <dt>
    <strong>yang</strong>
  </dt>
  <dd>
    <p>(with, full) - \*(L"I want my database to represent my object structure\*(R"</p>
  </dd>

</dl>
<p>Please skip to the introduction that suits you.</p><h3>\s-1YIN\s0 \s-1OBJECT\s0 \s-1PERSISTENCE\s0 (A \s-1LA\s0 \s-1PIXIE\s0)</h3>
<p>One yin approach is to have a single table of objects -</p><p>  +----+------------------+   | ID | DATA             |   +----+------------------+</p><p>This is the raw technique used by modules like \s-1MLDBM\s0.  Stick objects in, get a tag (or, insert with a tag), and later present that tag to get the objects out.</p><p>Modules like Pixie extend this concept, to allow you to have objects that are <em>persistent</em> (ie, have been stored and could be retrieved again by \s-1ID\s0 or name), inside other structures that are also persistent.  This is achieved without storing the same structure twice, without having to fetch all objects that are in a single persistent structure, and without requiring that the objects being stored even know that they are being stored.</p><p>Fantastic.  This method is fine for any application that doesn't mind single threading data manipulation on objects.</p><p>Enough banter, let's see some code; here's a project schema:</p><p> package MyProject::Tangram;</p><p> use Heritable::Types;  use Tangram::Core;  use Tangram::Type::Dump::Any;</p><p> our $schema =      Tangram::Schema-&gt;new          ( { classes =&gt;               [ HASH =&gt; {                     fields =&gt; {                         idbif =&gt; # poof!                            undef                     },                 },               ],            } );</p><p>  sub db { Tangram::Storage-&gt;new($schema, @_) }</p><p>This defines a sort of \*(L"store anything\*(R" schema.  You could deploy your database like this:</p><p> my $dbh = DBI-&gt;connect       ("dbi:mysql:tangram", "user", "pass");  Tangram::Relational-&gt;deploy ( $MyProject::Tangram::schema,                                $dbh );</p><p>And then shove objects in and out like this:</p><p>  use MyProject::Tangram;   my $storage = MyProject::Tangram::db       ("dbi:mysql:tangram", "user", "pass");</p><p>  my $object = bless { first_name =&gt; "Homer",                        last_lame =&gt; "Simpson",                       }, "NaturalPerson";   my $oid = $storage-&gt;insert($object);</p><p>  my $homer = $storage-&gt;load($oid);</p><p>If this Pixie-like functionality is all you're after, then you can stop there, and isn't much slower than Pixie.  You also get the choice of whether you want to freeze data structures in your database via \*(L"Data::Dumper\*(R", \*(L"Storable\*(R" or \*(L"\s-1YAML\s0\*(R".</p>
<h3>\s-1YANG\s0 \s-1OBJECT\s0 \s-1PERSISTENCE\s0</h3>
<p>If you wish to enable concurrency without paying a large performance penalty for most standard types of data access, then you may need to extract single parts of your objects into columns.  That way, you can make the most use of your database's (hopefully) highly tuned and refined ability to cache and manipulate data indices.</p><p>In that case, you may choose to start with mapping all of your object's properties to database columns (as was the only option before Tangram 2.08):</p><p> package MyProject::Tangram;</p><p> use Tangram::Core;</p><p> our $schema =      Tangram::Schema-&gt;new          ( { classes =&gt;               [ NaturalPerson =&gt; {                     fields =&gt; {                         string =&gt; {                         },                         integer =&gt; {                                     }                     },                 },               ],            } );</p><p>  sub db { Tangram::Storage-&gt;new($schema, @_) }</p><p>Tangram has been transaction-savvy since version 1.  So long as you are careful to flush Tangram's object cache, before you start doing selects that lock rows for update, then you can easily write transaction protected programs.</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Tangram::Expr.3pm.html"><span aria-hidden="true">&larr;</span> Tangram::Expr.3pm: Represent expressions on database server side</a></li>
   <li class="next"><a href="Tangram::Relational.3pm.html">Tangram::Relational.3pm: Orthogonal object persistence in relational databases <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
