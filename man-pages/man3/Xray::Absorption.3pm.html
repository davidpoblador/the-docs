<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Xray::Absorption: X-ray absorption data for the elements</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="X-ray absorption data for the elements">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Xray::Absorption (3pm) manual">
  <meta name="twitter:description" content="X-ray absorption data for the elements">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxray-absorption-perl-Xray::Absorption-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Xray::Absorption.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Xray::Absorption (3pm) manual" />
  <meta property="og:description" content="X-ray absorption data for the elements" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxray-absorption-perl-Xray::Absorption-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Xray::Absorption<small> (3pm)</small></h1>
        <p class="lead">X-ray absorption data for the elements</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Xray::Absorption.3pm.html">
      <span itemprop="name">Xray::Absorption: X-ray absorption data for the elements</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxray-absorption-perl/">
      <span itemprop="name">libxray-absorption-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Xray::Absorption.3pm.html">
      <span itemprop="name">Xray::Absorption: X-ray absorption data for the elements</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
   use Xray::Absorption;
   Xray::Absorption -&gt; load("mcmaster");
   $xsec = Xray::Absorption-&gt;cross_section(&apos;Cu&apos;, 9000);
</pre>
<p>This example returns the cross section of Copper at 9000 eV using the McMaster tables.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module supports access to X-ray absorption data.  It is designed to be a transparent interface to absorption data from a variety of sources.  Currently, the only sources of data are the 1969 McMaster tables, the 1999 Elam tables, the 1993 Henke tables, and the 1995 Chantler tables.  The Brennan-Cowen implementation of the Cromer-Liberman tables is available as a drop-on-top addition to this package.  More resources can be added easily.</p><p>Information used to compute the mass energy-absorption coefficient is taken from the tabulations of Hubbell and Seltzer: http://physics.nist.gov/PhysRefData/XrayMassCoef/cover.html</p><p>Because this is an object-oriented approach to X-ray absorption data, you must call subroutines as class methods rather than as subroutines:</p><p>   $xsec = Xray::Absorption-&gt;cross_section(&apos;Cu&apos;, 9000);</p><p>is correct, but</p><p>   $xsec = Xray::Absorption::cross_section(&apos;Cu&apos;, 9000);</p><p>is incorrect.  Using class methods rather than a function oriented approach allows the user of the \*(C`Xray::Absorption\*(C' module to <em>hot</em> swap absorption data resources.  For example</p><p>   foreach $resource (Xray::Absorption-&gt;available) {      Xray::Absorption-&gt;load($resource);      print $resource, " : ",            Xray::Absorption-&gt;cross_section(&apos;Cu&apos;, 9000), $/;    };</p><p>compares the cross section of copper at 9 keV as calculated from the all available data resources.</p><p>It is necessary to initialize \*(C`Xray::Absorption\*(C' to use a particular database by invoking the \*(C`load\*(C' method.  This method establishes and changes inheritance.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>Example:    $this = Xray::Absorption -&gt; current_resource; Identifies the currently selected resource. Example:    $is_there = Xray::Absorption -&gt; in_resource($elem); Returns true if $elem is tabulated in the current resource. $elem can be a two letter symbol, the full name of the element, or a Z number. Example:    $energy = $energy = Xray::Absorption -&gt; get_energy($elem, $edge); Returns the edge energy for $elem.  $edge is one of K, L1, L2, L3, M1, etc.  $edge may also be the Siegbahn or \s-1IUPAC\s0 symbol for a fluorescence line.  Some data resources provide more lines than others.  Some may provide no lines at all.  See the documentation for each resource for which lines are available.  When either $elem or $edge is an unrecognized symbol, this method returns 0. Example:    $next = Xray::Absorption -&gt; next_energy($elem, $edge, @list); Given a list of atomic symbols @list, return a list containing the element symbol, edge symbol, and energy in eV of the next highest edge energy after the $edge edge of $elem.  This returns an empty list if the any argument is unrecognizable. Examples:    $xsec = Xray::Absorption -&gt; cross_section($elem, $en, $mode);</p><p>   @xsec = Xray::Absorption -&gt; cross_section($elem, &#92;@en, $mode); In scalar context, return the cross section in barns/atom of $elem at $energy.  In list context, return a list of cross-sections given a reference to a list of energies.  For some data resources, list context may be significantly faster than repeated calls in scalar context, i.e. this    @xsec = Xray::Absorption -&gt; cross_section($elem, &#92;@en, $mode);    foreach (0 .. $#en) {      ... do something with energy $xsec[$_] ...    }; will be way faster than    foreach (@en) {      $xsec = Xray::Absorption -&gt; cross_section($elem, $en, $mode);      ... do something with $xsec ...    }; The optional $mode argument tells this method what kind of data to return.  The default for all data resources is to return the cross section, however each resource has several other option.  For example, the McMaster tables offer along with the absorption cross section, the coherent scattering, the incoherent scattering, or the sum of the three contributions.  The allowed values for $mode depend on the data contained in the absorption resource currently loaded, but the default is always to return the photoelectron cross section, or the full cross section if the coherent and incoherent scattering portions are included in the resource.  See the documentation for the individual resource modules.  If $mode is not given or is given incorrectly, the full cross section is returned. If an energy is requested which is right on an edge, all data resources assume that you want the cross-section just above the edge. The granularity of the comparison between the requested energy and the edge energy is 1 milivolt, so if you want a cross-section just below an edge, you should request an energy that is more than 1 milivolt less than the value returned by \*(C`get_energy\*(C'. Example:    $is_there = Xray::Absorption -&gt; data_available($elem, $edge); Returns true if the selected resource contains sufficient data for handling the specified element in the energy range around the specified edge.  Returns false otherwise. Example:    @list = Xray::Absorption -&gt; available; Returns a list of all available data resource. Example:    @list = Xray::Absorption -&gt; scattering; Returns a list of all available data resource which contain anomalous scattering functions. Example:    @list = Xray::Absorption -&gt; verbose($arg); Turn verbose operation on or off.  If $arg evaluates to true, then warning messages will be printed to standard error.  If $arg evaluates to false, then methods will silently return 0 when they encounter problems. Example:    $value = Xray::Absorption -&gt; get_atomic_weight($elem); Return the atomic weight of $elem. Example:    $value = Xray::Absorption -&gt; get_density($elem); Return the specific gravity of the pure material of $elem. Example:    $value = Xray::Absorption -&gt; get_conversion($elem); Return the factor for converting between barns/atom and cm squared/gram for $elem. Example:    $symbol = Xray::Absorption -&gt; get_Siegbahn($sym); Return the short Siegbahn symbol for an x-ray fluorescence line.  Thus \*(L"Ka1\*(R", \*(L"Kalpha1\*(R", and \*(L"K-L3\*(R" all return \*(L"Ka1\*(R".  The case of the input symbol does not matter and the symbol is returned capitalized.  White space and underscores will be removed from the input symbol.  The symbol \*(L"lb2,15\*(R" is translated to \*(L"lb2\*(R".  This returns 0 is $sym is not a recognizable symbol for a line. Example:    $symbol = Xray::Absorption -&gt; get_Siegbahn_full($sym); Return the full Siegbahn symbol for an x-ray fluorescence line.  Thus \*(L"Ka1\*(R", \*(L"Kalpha1\*(R", and \*(L"K-L3\*(R" all return \*(L"Kalpha1\*(R".  The case of the input symbol does not matter and the symbol is returned capitalized. White space and underscores will be removed from the input symbol. This returns 0 is $sym is not a recognizable symbol for a line. Example:    $symbol = Xray::Absorption -&gt; get_IUPAC($sym); Return the \s-1IUPAC\s0 symbol for an x-ray fluorescence line.  Thus \*(L"Ka1\*(R", \*(L"Kalpha1\*(R", and \*(L"K-L3\*(R" all return \*(L"K-L3\*(R".  The case of the input symbol does not matter and the symbol is returned in all capitals.  White space and underscores will be removed from the input symbol.  This returns 0 is $sym is not a recognizable symbol for a line. Example:    $symbol = Xray::Absorption -&gt; get_gamma($sym, $edge); Return an approximation of the core-hole lifetime for the given atomic symbol and edge.  This follows Feff very closely.  In fact the data used is swiped from the setgam subroutine in Feff, which is in turn swiped from K. Rahkonen and K. Krause, Atomic Data and Nuclear Data Tables, Vol 14, Number 2, 1974.  The values given by this routine are a bit different from those given by Feff since a different interpolation is used.  For O and P edges a value of 0.1 is returned, as in Feff.  If the arguments are not interpretable, a value of 0 is returned. Example:    $symbol = Xray::Absorption -&gt; get_g($sym, $energy); Return an approximation of the factor required to translate tabulated cross-section data to the mass energy-absorption coefficient, as described by Hubbell at http://physics.nist.gov/PhysRefData/XrayMassCoef/cover.html. This term, returned as \*(C`1-g\*(C' relates the the mass attenuation coefficient, \*(C`mu/rho\*(C', to the mass energy-absorption coefficient, \*(C`mu_en/rho\*(C', as     mu_en/rho = (1-g) * mu_tr/rho where the mass energy-transfer coefficient, \*(C`mu_tr\*(C', is the sum of the photoabsorption and incoherent cross-sections.  (At the energies at which this module is applicable, other cross-sections such as pair production can be ignored.) So, to use this factor, compute the sum of the photoabsorption and incoherent cross-sections at some energy and multiply by the number this method returns. The importance of this term depends on energy and on element.  For nitrogen, for example, this term becomes increasingly important above 10 keV.  For argon, it is near unity up to about 30 keV. No great care is taken to interpolate correctly around absorption edges.  That should be considered a bug. This method returns 1 whenever it's imput data is confusing.  That seems safest.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYMBOLS FOR FLUORESCENCE LINES</h2>
        <div class="sectioncontent">
<p>To specify fluorescence lines, Siegbahn or \s-1IUPAC\s0 symbols may be used. methods are provided for converting between these notations.  The Siegbahn notations can be in the short or full forms.  Here is a table of all recognized symbols:</p><p>   Full Siegbahn     Short Siegbahn    IUPAC   -------------------------------------------------       Kalpha1            Ka1           K-L3       Kalpha2            Ka2           K-L2       Kalpha3            Ka3           K-L1       Kbeta1             Kb1           K-M3       Kbeta2             Kb2           K-N2,3       Kbeta3             Kb3           K-M2       Kbeta4             Kb4           K-N4,5       Kbeta5             Kb5           K-M4,5       Lalpha1            La1           L3-M5       Lalpha2            La2           L3-M4       Lbeta1             Lb1           L2-M4       Lbeta2             Lb2           L3-N4,5       Lbeta3             Lb3           L1-M3       Lbeta4             Lb4           L1-M2       Lbeta5             Lb5           L3-O4,5       Lbeta6             Lb6           L3-N1       Lgamma1            Lg1           L2-N4       Lgamma2            Lg2           L1-N2       Lgamma3            Lg3           L1-N3       Lgamma6            Lg6           L2-O4       Ll                 Ll            L3-M1       Lnu                Ln            L2-M1       Malpha             Ma            M5-N6,7       Mbeta              Mb            M4-N6       Mgamma             Mg            M3-N5       Mzeta              Mz            M4,5-N6,7</p><p>In addition, the symbols \*(C`Lb2,15\*(C' and \*(C`Lbeta2,15\*(C' are recognized as synonyms for \*(C`Lbeta2\*(C'.  The methods which interpret these symbols will remove spaces and underscores from the input string.  Thus \*(C`K_alpha_1\*(C' and \*(C`K a 1\*(C' will both be recognized as \*(C`Kalpha1\*(C'. Since hyphens are part of the \s-1IUPAC\s0 notation, \*(C`K-alpha-1\*(C' will not be recognized as \*(C`Kalpha1\*(C'.  Thus use spaces or underscores if you want to make the Siegbahn notation more legible.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ABSORPTION DATA RESOURCES</h2>
        <div class="sectioncontent">
<p>Currently, \*(C`Xray::Absorption\*(C' has the McMaster, Elam, Henke, and Chantler tables as its data resources.  New resources may be added over time.  This section offers a few guidelines to anyone interested in supplying more resources.  It does not matter how the new resource calculates the cross section.  That is hidden behind the object-orientedness of the \*(C`Xray::Absorption\*(C' module.  It is essential that the new resource take the namespace \*(C`Xray::Absorption::\*(C'<em>Resource</em>, where <em>Resource</em> is a descriptive name, like \*(C`McMaster\*(C' or \*(C`Elam\*(C'.  It is essential that the new resource supply these methods</p><p>    current_resource     in_resource     get_energy     next_energy     cross_section</p><p>and that they use the semantics described above.  All other methods decribed in the last section are defined in <em>Absorption.pm</em> and do not need to be redefined in the resource modules.</p><p>New resources are welcome to define new methods particular to that data resource in addition to the 5 required methods.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UNITS</h2>
        <div class="sectioncontent">
<p>All energies returned by the methods of \*(C`Xray::Absorption\*(C' are in electron volts.  All cross sections are in units of barns per atom.  A conversion constant between that unit and cm squared per gram is supplied by the \*(C`get_conversion\*(C' method.  Atomic weights are in atomic units.  Densities are given as specific gravity (i.e. dimensionless).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND THINGS TO DO</h2>
        <div class="sectioncontent">
<ul>
<li><p>Check to be sure things are properly unloaded and overloaded when switching resources.</p></li><li><p>Test for pathelogical cases, such as elements that don't exist, that have Z's in the hundreds, energies that are very low or very high, and so on.</p></li><li><p>It would be nice to implement the list that is used by the \*(C`next_energy\*(C' method as a doubly linked list.  In that way, a \*(C`previous_energy\*(C' method would be trivial.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Bruce Ravel &lt;bravel@bnl.gov&gt;</p><p>http://cars9.uchicago.edu/~ravel/software/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENCE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 1999-2008 Bruce Ravel (bravel \s-1AT\s0 bnl \s-1DOT\s0 gov). All rights reserved.</p><p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. See perlartistic.</p><p>This program is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XMLTV::Version.3pm.html"><span aria-hidden="true">&larr;</span> XMLTV::Version.3pm: Adds a --version argument to xmltv grabbers</a></li>
   <li class="next"><a href="Xray::Absorption::CL.3pm.html">Xray::Absorption::CL.3pm: Perl interface to the cromer-liberman tables <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
