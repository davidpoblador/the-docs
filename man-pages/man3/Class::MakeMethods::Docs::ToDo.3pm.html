<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Class::MakeMethods::Docs::ToDo: Ideas, problems, and suggestions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ideas, problems, and suggestions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Class::MakeMethods::Docs::ToDo (3pm) manual">
  <meta name="twitter:description" content="Ideas, problems, and suggestions">
  <meta name="twitter:image" content="https://www.carta.tech/images/libclass-makemethods-perl-Class::MakeMethods::Docs::ToDo-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Class::MakeMethods::Docs::ToDo.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Class::MakeMethods::Docs::ToDo (3pm) manual" />
  <meta property="og:description" content="Ideas, problems, and suggestions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libclass-makemethods-perl-Class::MakeMethods::Docs::ToDo-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Class::MakeMethods::Docs::ToDo<small> (3pm)</small></h1>
        <p class="lead">Ideas, problems, and suggestions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MakeMethods::Docs::ToDo.3pm.html">
      <span itemprop="name">Class::MakeMethods::Docs::ToDo: Ideas, problems, and suggestions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libclass-makemethods-perl/">
      <span itemprop="name">libclass-makemethods-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MakeMethods::Docs::ToDo.3pm.html">
      <span itemprop="name">Class::MakeMethods::Docs::ToDo: Ideas, problems, and suggestions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>There are lots of things that could be done to improve this module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISTRIBUTION ISSUES</h2>
        <div class="sectioncontent">
<p>Issues about the distribution and supporting files, rather than the code:</p><h3>Documentation</h3>
<ul>
<li><p>Make sure that the documentation is broken up into appropriately-sized chunks, and that people will know which section to look at.</p></li><li><p>As user questions arrive, add the answers as documentation points or examples.</p></li><li><p>Assemble annotated examples and tutorials, and either link to or distribute them.</p></li><li><p>Finish overhauling Template documentation.</p></li><li><p>Include Global and InsideOut uses in the \s-1EXAMPLES\s0 section</p></li><li><p>Template Internals: Finish documenting disk-based meta-method code-caching.</p></li>
</ul>
<h3>Tests</h3>
<ul>
<li><p>Use Devel::Coverage to measure test coverage, and fill in missing cases.</p></li><li><p>Finish tests for Standard and Composite modules.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL ISSUES</h2>
        <div class="sectioncontent">
<ul>
<li><p>It does not appear to be possible to assign subroutine names to closures within Perl. As a result, debugging output from Carp and similar sources will show all generated methods as \*(L"\s-1<em>ANON\s0()</em>\*(R" rather than \*(L"<em>YourClass::methodname()</em>\*(R". \s-1UPDATE:\s0 There now seem to be fixes for this which should be integrated: See the new Sub::Name module and http://perlmonks.org/index.pl?node_id=304883</p></li><li><p>For scalar methods (and others) it would be nice to have a simple bounds-checking interface to approve or reject (with an exception) new values that were passed in. As pointed out by Terrence Brannon, the right interface to adopt is probably that of Attribute::Types:</p>
<pre>
  use Class::MakeMethods::Standard::Hash (
    &apos;scalar&apos; =&gt; [ &apos;count&apos; =&gt; { TYPE =&gt; &apos;INTEGER&apos; } ],
    &apos;scalar&apos; =&gt; [ &apos;name&apos; =&gt; { TYPE =&gt; qr/^[A-Z]&#92;w*$/ } ],
    &apos;scalar&apos; =&gt; [ &apos;account&apos; =&gt; { TYPE =&gt; &checksum_account_number } ]
  );
</pre>
</li><li><p>Improve use of _diagnostic hooks for debugging. Add various \*(L"(Q)\*(R" debug diagnostics.</p></li><li><p>Finish building Inheritable array and object accessors.</p></li><li><p>Finish building Composite::* packages.</p></li><li><p>Resolve DESTROY-time issues with Standard::Inheritable, Composite::Inheritable, and Template::InsideOut.</p></li><li><p>Add slice and splice functionality to Standard::*:hash and Composite::*:hash.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TEMPLATE CLASSES</h2>
        <div class="sectioncontent">
<h3>Template::Generic</h3>
<ul>
<li><p>Allow untyped object accesors if \*(C`class\*(C' attribute is not set. (Suggested in Jan-01 \s-1NY\s0 Perl Seminar discussion.)</p></li><li><p>Standardize naming templates for array, hash, other method types. Deprecate verb_x methods? Or at last make them consistently available both ways. Make list methods consistent with hash_of_lists methods, in action, and in name (x_verb).  Also for others (e.g., set_ clear_ boolean)</p></li><li><p>Should default object template provide auto-create behavior on -&gt;<em>get()</em>?</p></li><li><p>Generalize the \*(L"Generic:scalar -init_and_get\*(R" interface to support memoizing values for other accessor types.</p></li><li><p>Consider adding hash each and array iterator methods, using a closure to provide iteration.</p></li><li><p>Add support for tied arrays & scalars, a la tiedhash</p></li><li><p>Add string_multiple_index.</p></li><li><p>Extend index methods to support weak indexes with WeakRef. Perhaps just have it accept a hash ref to use as the index, and then allow people to pass in tied hashes?</p></li><li><p>Maybe make private or protected method croak if they were called by a method_init method which was called by an outside package. Not entirely clear what the right semantics or security precautions are here...</p></li>
</ul>
<h3>Template::Generic Subclasses</h3>
<ul>
<li><p>Finish building code_or_scalar meta-method.</p></li><li><p>Finish building Class::MakeMethods::ClassInherit subclass. Need to work out how to capture changes for non-scalar values. For example, if a subclass inherits an array accessor and then pops it, is there some way to provide them with copy-on-write?</p></li><li><p>Add enumerated string/number type. Provide helper methods with map of associated values (ex $o-&gt;port = 80 ... $o-&gt;port_readable eq '\s-1HTTP\s0' ). Cf. code for earlier unpublished 'lookup' method type.</p></li><li><p>For StructBuiltin: Add -fatal flag to die if core func returns false / undef Add call method to recall method with alternative arguments. Add -nocall flag to not call core func on new.</p></li><li><p>Replace ClassName:static_hash_classname with Class:indexed_string.</p></li>
</ul>
<h3>Template Internals</h3>
<ul>
<li><p>Figure out which modules, if any, should actually be using AutoLoader. Probably just Template::Generic?</p></li><li><p>Give users a way to do meta-method code-caching in Perl library hierarchy, rather than in /tmp/auto or other user-specified directory.. Provide mechanism for pre-generating these at install time. Perhaps load these via do, rather than open/read/eval? Perhaps pre-generate expanded libs with all of the -imports resolved?</p></li><li><p>Support generating code files and loading them as needed. This would be similar to Class::Classgen, except that we'd do the generation at run-time the first time it was required, rather than in a separate pass. For example, given the following declaration:   package Foo::Bar;   Class::MakeMethods::Template::Hash-&gt;import(-codecache=&gt;&apos;auto&apos;, scalar=&gt;&apos;foo&apos;); We should be able to write out the following file:   cat &apos;auto/Foo/Bar/methods-line-2.pl&apos;   # NOTE: Generated for Foo::Bar by the Class::MakeMethods module.   # Changes made here will be lost when Foo::Bar is modified.   package Foo::Bar;   sub foo {     my $self = shift;     if ( scalar @_ ) {       $self-&gt;{&apos;foo&apos;} = shift();     }     $self-&gt;{&apos;foo&apos;}   } Then on subsequent uses, we can just re-load the generated code:   require "auto/Foo/Bar/methods-line-2.pl"; To do this, we need to:</p><ul>
<li><p>Provide an option to select this if desired; maybe ... import('-cache' =&gt; 'auto/', ...)?</p></li><li><p>Figure out which directory we can/should write into.</p></li><li><p>Re-evaluate the textual code templates, without generating the closures. Substitute in any _STATIC_ATTR_ values. Make other _ATTR_ values point to some public lookup table or package scalar.</p></li><li><p>Notice if the source file (or Class::MakeMethods modules) has been updated more recently than the generated file.</p></li>
</ul></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Class::MakeMethods::Docs::ToDo&hellip;</h2>
        <div class="sectioncontent">
<p>See Class::MakeMethods for general information about this distribution.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Class::MakeMethods::Docs::RelatedModules.3pm.html"><span aria-hidden="true">&larr;</span> Class::MakeMethods::Docs::RelatedModules.3pm: Survey of class builders</a></li>
   <li class="next"><a href="Class::MakeMethods::Emulator.3pm.html">Class::MakeMethods::Emulator.3pm: Demonstrate class-generator equivalency <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
