<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libdoodle: Multi-suffix tree based file search library 0.7.0</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Multi-suffix tree based file search library 0.7.0">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libdoodle (3) manual">
  <meta name="twitter:description" content="Multi-suffix tree based file search library 0.7.0">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdoodle-dev-libdoodle-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/libdoodle.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libdoodle (3) manual" />
  <meta property="og:description" content="Multi-suffix tree based file search library 0.7.0" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdoodle-dev-libdoodle-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libdoodle<small> (3)</small></h1>
        <p class="lead">Multi-suffix tree based file search library 0.7.0</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libdoodle.3.html">
      <span itemprop="name">libdoodle: Multi-suffix tree based file search library 0.7.0</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdoodle-dev/">
      <span itemprop="name">libdoodle-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libdoodle.3.html">
      <span itemprop="name">libdoodle: Multi-suffix tree based file search library 0.7.0</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;doodle.h&gt;</strong></p><p> <strong>typedef void (*DOODLE_Logger)(void * </strong><em>context</em><strong>, unsigned int </strong><em>level</em><strong>, const char * </strong><em>message</em><strong>, ...);</strong></p><p> <strong>typedef struct {</strong></p>
<pre>
   <strong>char * </strong><em>filename</em><strong>;</strong>
   <strong>unsigned int </strong><em>mod_time</em><strong>;</strong>
</pre>
<p> <strong>} DOODLE_FileInfo;</strong></p><p> <strong>typedef void (*DOODLE_TreeCallback)(const DOODLE_FileInfo * </strong><em>fileinfo</em><strong>, void * </strong><em>arg</em><strong>);</strong></p><p> <strong>unsigned int DOODLE_getFileCount(const struct DOODLE_SuffixTree </strong><em>* tree</em><strong>);</strong></p><p> <strong>const DOODLE_File * DOODLE_getFileAt(const struct DOODLE_SuffixTree </strong><em>* tree</em><strong>, unsigned int </strong><em>index</em><strong>);</strong></p><p> <strong>struct DOODLE_SuffixTree * DOODLE_tree_create(DOODLE_Logger </strong><em>log</em><strong>, void * </strong><em>context</em><strong>, const char * </strong><em>database</em><strong>);</strong></p><p> <strong>void DOODLE_tree_set_memory_limit(struct DOODLE_SuffixTree </strong><em>*tree</em><strong>, size_t limit);</strong></p><p> <strong>void DOODLE_tree_destroy(struct DOODLE_SuffixTree </strong><em>* tree</em><strong>);</strong></p><p> <strong>int DOODLE_tree_expand(struct DOODLE_SuffixTree </strong><em>* tree</em><strong>, const unsigned char * </strong><em>searchString</em><strong>, const char * </strong><em>fileName</em><strong>);</strong></p><p> <strong>int DOODLE_tree_truncate(struct DOODLE_SuffixTree </strong><em>* tree</em><strong>, const char * </strong><em>fileName</em><strong>);</strong></p><p> <strong>int DOODLE_tree_dump(FILE * </strong><em>stream</em><strong>, struct DOODLE_SuffixTree </strong><em>* tree</em><strong>);</strong></p><p> <strong>int DOODLE_tree_search_approx(struct DOODLE_SuffixTree </strong><em>* tree</em><strong>, const unsigned int </strong><em>approx</em><strong>, const int </strong><em>ignore_case</em><strong>, const unsigned char * </strong><em>ss</em><strong>, DOODLE_ResultCallback * </strong><em>callback</em><strong>, void * </strong><em>arg</em><strong>);</strong></p><p> <strong>int DOODLE_tree_search(struct DOODLE_SuffixTree * </strong><em>tree</em><strong>, const unsigned char * </strong><em>substring</em><strong>, DOODLE_ResultCallback * </strong><em>callback</em><strong>, void * </strong><em>arg</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>libdoodle is a library that provides a multi-suffix tree to lookup files.  The basic use is to create a suffix tree, add some keywords (associated with a file), search the tree and finally free the tree.  libdoodle features code to quickly serialize the tree into a compact format.</p><p>In order to use libdoodle, client code first creates a tree (passing a callback function that will log all error messages associated with this tree and the name of the database) using DOODLE_tree_create.  The tree can then be searched using DOODLE_tree_search or DOODLE_tree_search_approx (which requires additional processing with DOODLE_tree_iterate to walk over the individual results).  The tree can be expanded with new search strings (DOODLE_tree_expand) and existing matches can be removed with DOODLE_tree_truncate.  It is only possible to remove all keywords for a given file.  With DOODLE_getFileAt and DOODLE_getFileCount it is possible to inspect the files that are currently in the tree (and to check if their respective modification timestamps, useful for keeping track of when an entry maybe outdated).  Finally the tree must be released using DOODLE_tree_destroy.  This writes the changes to the disk and frees all associated resources.</p><p>Example code for using the complete libdoodle API can be found in doodle.c.  If jni.h was found when libdoodle was compiled, libdoodle will contain methods that allow Java code to directly use libdoodle.  See org.gnunet.doodle.Doodle for Java code providing an interface to libdoodle and for a sample main method that demonstrates searching the doodle database from Java.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO libdoodle&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/doodle.1.html"><strong>doodle</strong>(1)</a>, <a href="../man1/extract.1.html"><strong>extract</strong>(1)</a>, <a href="../man3/libextractor.3.html"><strong>libextractor</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LEGAL NOTICE</h2>
        <div class="sectioncontent">
<p>libdoodle and doodle are released under the GPL.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There is at least one known bug, but nobody was able to reproduce it yet.  But in general things work fine. :-)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to mantis &lt;https://gnunet.org/bugs/&gt; or by sending electronic mail to &lt;christian@grothoff.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>doodle was originally written by Christian Grothoff &lt;christian@grothoff.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p>You can obtain the original author's latest version from http://grothoff.org/christian/doodle/.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libdnet.3.html"><span aria-hidden="true">&larr;</span> libdnet.3: Decnet database functions library</a></li>
   <li class="next"><a href="libeXosip2.3.html">libeXosip2.3: Libexosip2 version 4.1.0 <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
