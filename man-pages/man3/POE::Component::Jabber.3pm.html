<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>POE::Component::Jabber: A poe component for communicating over jabber</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A poe component for communicating over jabber">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="POE::Component::Jabber (3pm) manual">
  <meta name="twitter:description" content="A poe component for communicating over jabber">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpoe-component-jabber-perl-POE::Component::Jabber-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/POE::Component::Jabber.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="POE::Component::Jabber (3pm) manual" />
  <meta property="og:description" content="A poe component for communicating over jabber" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpoe-component-jabber-perl-POE::Component::Jabber-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">POE::Component::Jabber<small> (3pm)</small></h1>
        <p class="lead">A poe component for communicating over jabber</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/POE::Component::Jabber.3pm.html">
      <span itemprop="name">POE::Component::Jabber: A poe component for communicating over jabber</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpoe-component-jabber-perl/">
      <span itemprop="name">libpoe-component-jabber-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/POE::Component::Jabber.3pm.html">
      <span itemprop="name">POE::Component::Jabber: A poe component for communicating over jabber</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>3.00</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\s-1PCJ\s0 is a communications component that fits within the \s-1POE\s0 framework and provides the raw low level footwork of initiating a connection, negotiatating various protocol layers, and authentication necessary for the end developer to focus more on the business end of implementing a client or service.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>new()</em>
  </dt>
  <dd>
    <p>Accepts many named, required arguments which are listed below. <em>new()</em> will return a reference to the newly created reference to a \s-1PCJ\s0 object and should be stored. There are many useful methods that can be called on the object to gather various bits of information such as your negotiated \s-1JID\s0.</p>
<dl class='dl-vertical'>
  <dt>
    \s-1IP\s0
  </dt>
  <dd>
    <p>The \s-1IP\s0 address in dotted quad, or the \s-1FQDN\s0 for the server.</p>
  </dd>
  <dt>
    \s-1PORT\s0
  </dt>
  <dd>
    <p>The remote port of the server to connect.</p>
  </dd>
  <dt>
    \s-1HOSTNAME\s0
  </dt>
  <dd>
    <p>The hostname of the server. Used in addressing.</p>
  </dd>
  <dt>
    \s-1USERNAME\s0
  </dt>
  <dd>
    <p>The username to be used in authentication (\s-1OPTIONAL\s0 for jabberd14 service connections).</p>
  </dd>
  <dt>
    \s-1PASSWORD\s0
  </dt>
  <dd>
    <p>The password to be used in authentication.</p>
  </dd>
  <dt>
    \s-1RESOURCE\s0
  </dt>
  <dd>
    <p>The resource that will be used for binding and session establishment (\s-1OPTIONAL:\s0 resources aren't necessary for initialization of service oriented connections, and if not provided for client connections will be automagically generated).</p>
  </dd>
  <dt>
    \s-1ALIAS\s0
  </dt>
  <dd>
    <p>The alias the component should register for use within \s-1POE\s0. Defaults to the class name.</p>
  </dd>
  <dt>
    \s-1CONNECTIONTYPE\s0
  </dt>
  <dd>
    <p>This is the type of connection you wish to esablish. There four possible types available for use. One must be selected. Each item is exported by default.</p>
<dl class='dl-vertical'>
  <dt>
    \s-1XMPP\s0 (\s-1XMPP\s0.pm)
  </dt>
  <dd>
    <p>This connection type is for use with \s-1XMPP\s0 1.0 compliant servers. It implements all of the necessary functionality for \s-1TLS\s0, binding, and session negotiation.</p>
  </dd>
  <dt>
    \s-1LEGACY\s0 (Legacy.pm)
  </dt>
  <dd>
    <p>\s-1LEGACY\s0 is for use with pre-XMPP Jabber servers. It uses the old style authentication and non-secured socket communication.</p>
  </dd>
  <dt>
    \s-1JABBERD14_COMPONENT\s0 (J14.pm)
  </dt>
  <dd>
    <p>Use this connection type if designing a backbone level component for a server that implements \s-1XEP-114\s0 for router level communication.</p>
  </dd>
  <dt>
    \s-1JABBERD20_COMPONENT\s0 (J2.pm)
  </dt>
  <dd>
    <p>If making a router level connection to the jabberd2 server, use this connection type. It implements the modified \s-1XMPP\s0 protocol, which does most of it except the session negotiation.</p>
  </dd>

</dl>
<p>Each connection type has a corresponding module. See their respective documentation for more information each protocol dialect.</p>
  </dd>
  <dt>
    \s-1VERSION\s0
  </dt>
  <dd>
    <p>If for whatever reason you want to override the protocol version gathered from your ConnectionType, this is the place to do it. Please understand that this value \s-1SHOULD\s0 \s-1NOT\s0 be altered, but it is documented here just in case.</p>
  </dd>
  <dt>
    \s-1XMLNS\s0
  </dt>
  <dd>
    <p>If for whatever reason you want to override the protocol's default \s-1XML\s0 namespace that is gathered from your ConnectionType, use this variable. Please understand that this value \s-1SHOULD\s0 \s-1NOT\s0 be altered, but is documented here just in case.</p>
  </dd>
  <dt>
    \s-1STREAM\s0
  </dt>
  <dd>
    <p>If for whatever reason you want to override the xmlns:stream attribute in the &lt;stream:stream/&gt; this is the argument to use. This \s-1SHOULD\s0 \s-1NOT\s0 ever need to be altered, but it is available and documented just in case.</p>
  </dd>
  <dt>
    \s-1DEBUG\s0
  </dt>
  <dd>
    <p>If bool true, will enable debugging and tracing within the component. All \s-1XML\s0 sent or received through the component will be printed to \s-1STDERR\s0</p>
  </dd>

</dl>

  </dd>
  <dt>
    <em>wheel()</em> [Protected]
  </dt>
  <dd>
    <p><em>wheel()</em> returns the currently stored POE::Wheel reference. If provided an argument, that argument will replace the current POE::Wheel stored.</p>
  </dd>
  <dt>
    <em>sock()</em> [Protected]
  </dt>
  <dd>
    <p><em>sock()</em> returns the current socket being used for communication. If provided an argument, that argument will replace the current socket stored.</p>
  </dd>
  <dt>
    <em>sid()</em> [Protected]
  </dt>
  <dd>
    <p><em>sid()</em> returns the session \s-1ID\s0 that was given by the server upon the initial connection. If provided an argument, that argument will replace the current session id stored.</p>
  </dd>
  <dt>
    <em>config()</em> [Protected]
  </dt>
  <dd>
    <p><em>config()</em> returns the configuration structure (\s-1HASH\s0 reference) of \s-1PCJ\s0 that is used internally. It contains values that are either defaults or were calculated based on arguments provided in the constructor. If provided an argument, that argument will replace the current configuration.</p>
  </dd>
  <dt>
    <em>pending()</em> [Protected]
  </dt>
  <dd>
    <p><em>pending()</em> returns a hash reference to the currently pending return_to_sender transactions keyed by the 'id' attribute of the \s-1XML\s0 node. If provided an argument, that argument will replace the pending queue.</p>
  </dd>
  <dt>
    <em>queue()</em> [Protected]
  </dt>
  <dd>
    <p><em>queue()</em> returns an array reference containing the Nodes sent when there was no suitable initialized connection available. Index zero is the first Node placed into the queue with index one being the second, and so on. See under the \s-1EVENTS\s0 section, 'purge_queue' for more information.</p>
  </dd>
  <dt>
    <em>_reset()</em> [Private]
  </dt>
  <dd>
    <p><em>_reset()</em> returns \s-1PCJ\s0 back to its initial state and returns nothing.</p>
  </dd>
  <dt>
    <em>_gather_options()</em> [Private]
  </dt>
  <dd>
    <p><em>_gather_options()</em> takes an array reference of the arguments provided to <em>new()</em> (ie. &#92;@_) and populates its internal configuration with the values (the same configuration returned by <em>config()</em>).</p>
  </dd>
  <dt>
    <em>relinquish_states()</em> [Protected]
  </dt>
  <dd>
    <p><em>relinquish_states()</em> is used by Protocol subclasses to return control of the events back to the core of \s-1PCJ\s0. It is typically called when the event \s-1PCJ_READY\s0 is fired to the events handler.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PUBLISHED INPUT EVENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    'output'
  </dt>
  <dd>
    <p>This is the event that you use to push data over the wire. It accepts only one argument, a reference to a POE::Filter::XML::Node.</p>
  </dd>
  <dt>
    'return_to_sender'
  </dt>
  <dd>
    <p>This event takes (1) a POE::Filter::XML::Node and gives it a unique id, and (2) a return event and places it in the state machine. Upon receipt of response to the request, the return event is fired with the response packet. POE::Component::Jabber will publish the return event upon receipt, and rescind the event once the the return event is fired. In the context POE::Component::PubSub, this means that a subscription must exist to the return event. Subscriptions can be made prior to publishing. Please note that return_to_sender short circuits before \s-1XPATH\s0 filter and normal node received events.</p>
  </dd>
  <dt>
    'xpath_filter'
  </dt>
  <dd>
    <p>This event takes (1) a command of either 'add' or 'remove', (2) and event name to be called upon a successful match, and (3) an \s-1XPATH\s0 expression. With 'add', all three arguments are required. With 'remove', only the event name is required. Like return_to_sender, POE::Component::Jabber will publish the return event upon receipt, but will \s-1NOT\s0 rescind once the filter matches something. This allows for persistent filters and event dispatching. Every filter is evaluated for every packet (if not applicable to return_to_sender processing), allowing multiple overlapping filters. And event names are not checked to be unique, so be careful when adding filters that go to the same event, because 'remove' will remove all instances of that particular event.</p>
  </dd>
  <dt>
    'shutdown'
  </dt>
  <dd>
    <p>The shutdown event terminates the \s-1XML\s0 stream which in turn will trigger the end of the socket's life.</p>
  </dd>
  <dt>
    'connect' and 'reconnect'
  </dt>
  <dd>
    <p>This event can take (1) the ip address of a new server and (2) the port. This event may also be called without any arguments and it will force the component to [re]connect. This event must be posted before the component will initiate a connection.</p>
  </dd>
  <dt>
    'purge_queue'
  </dt>
  <dd>
    <p>If Nodes are sent to the output event when there isn't a fully initialized connection, the Nodes are placed into a queue. \s-1PCJ\s0 will not automatically purge this queue when a suitable connection \s-1DOES\s0 become available because there is no way to tell if the packets are still valid or not. It is up to the end developer to decide this and fire this event. Packets will be sent in the order in which they were received.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PUBLISHED OUTPUT EVENTS</h2>
        <div class="sectioncontent">
<p>Please see POE::Component::Jabber::Events for a list of published events to which subscriptions can be made.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHANGES</h2>
        <div class="sectioncontent">
<p>From the 2.X branch, several changes have been made improve event management.</p><p>The guts are now based around POE::Component::PubSub. This enables very specific subscriptions to status events rather than all of the status events being delivered to a single event.</p><p>Also, using the new POE::Filter::XML means that the underlying \s-1XML\s0 parser and Node implementation has changed for the better but also introduced \s-1API\s0 incompatibilities. For the most part, a simple search-and-replace will suffice. Well worth it for the power to apply \s-1XPATH\s0 expressions to nodes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>This is a connection broker. This should not be considered a first class client or service. This broker basically implements whatever core functionality is required to get the end developer to the point of writing upper level functionality quickly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>For example implementations using all four current aspects, please see the examples/ directory in the distribution.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2003-2009 Nicholas Perez. Distributed under the \s-1GPL\s0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="POE::Component::DBIAgent::Queue.3pm.html"><span aria-hidden="true">&larr;</span> POE::Component::DBIAgent::Queue.3pm: Helper class for managing a round-robin queue of po:co:dbiagent:helper's.</a></li>
   <li class="next"><a href="POE::Component::Jabber::Events.3pm.html">POE::Component::Jabber::Events.3pm: Exports constants for tracking status of pcj <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
