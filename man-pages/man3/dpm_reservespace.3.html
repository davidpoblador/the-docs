<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dpm_reservespace: Reserve space</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Reserve space">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dpm_reservespace (3) manual">
  <meta name="twitter:description" content="Reserve space">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdpm-dev-dpm_reservespace-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/dpm_reservespace.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dpm_reservespace (3) manual" />
  <meta property="og:description" content="Reserve space" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdpm-dev-dpm_reservespace-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dpm_reservespace<small> (3)</small></h1>
        <p class="lead">Reserve space</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/dpm_reservespace.3.html">
      <span itemprop="name">dpm_reservespace: Reserve space</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdpm-dev/">
      <span itemprop="name">libdpm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/dpm_reservespace.3.html">
      <span itemprop="name">dpm_reservespace: Reserve space</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;sys/types.h&gt;</strong></p><p><strong>#include "dpm_api.h"</strong></p><p><strong>int dpm_reservespace (const char </strong><em>s_type</em><strong>,</strong> <strong>const char *</strong><em>u_token</em><strong>,</strong> <strong>const char </strong><em>ret_policy</em><strong>,</strong> <strong>const char </strong><em>ac_latency</em><strong>,</strong> <strong>u_signed64 </strong><em>req_t_space</em><strong>,</strong> <strong>u_signed64 </strong><em>req_g_space</em><strong>,</strong> <strong>time_t </strong><em>req_lifetime</em><strong>,</strong> <strong>int </strong><em>nbgids</em><strong>,</strong> <strong>gid_t *</strong><em>req_gids</em><strong>,</strong> <strong>const char *</strong><em>poolname,</em> <strong>char *</strong><em>actual_s_type</em><strong>,</strong> <strong>u_signed64 *</strong><em>actual_t_space</em><strong>,</strong> <strong>u_signed64 *</strong><em>actual_g_space</em><strong>,</strong> <strong>time_t *</strong><em>actual_lifetime</em><strong>,</strong> <strong>char *</strong><em>s_token</em><strong>)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dpm_reservespace</strong> reserves space.</p><p>The input arguments are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>s_type</em></p>
  </dt>
  <dd>
    <p>specifies the type of space requested. It can be <strong>V</strong> (for Volatile), <strong>D</strong> (for Durable), <strong>P</strong> (for Permanent) or <strong>-</strong> (for any).</p>
  </dd>
  <dt>
    <p><em>u_token</em></p>
  </dt>
  <dd>
    <p>specifies the user provided description associated with the request. This argument may be NULL.</p>
  </dd>
  <dt>
    <p><em>ret_policy</em></p>
  </dt>
  <dd>
    <p>specifies the retention policy requested. It can be <strong>R</strong> (for REPLICA), <strong>O</strong> (for OUTPUT) or <strong>C</strong> (for CUSTODIAL).</p>
  </dd>
  <dt>
    <p><em>ac_latency</em></p>
  </dt>
  <dd>
    <p>specifies the access latency requested. It can be <strong>O</strong> (for ONLINE) or <strong>N</strong> (for NEARLINE).</p>
  </dd>
  <dt>
    <p><em>req_t_space</em></p>
  </dt>
  <dd>
    <p>Total space requested in bytes.</p>
  </dd>
  <dt>
    <p><em>req_g_space</em></p>
  </dt>
  <dd>
    <p>Guaranteed space requested in bytes.</p>
  </dd>
  <dt>
    <p><em>req_lifetime</em></p>
  </dt>
  <dd>
    <p>specifies the requested space lifetime (in seconds) relative to the current time.</p>
  </dd>
  <dt>
    <p><em>nbgids</em></p>
  </dt>
  <dd>
    <p>is the size of the array of group ids <em>req_gids</em>.</p>
  </dd>
  <dt>
    <p><em>req_gids</em></p>
  </dt>
  <dd>
    <p>when zero, the space is reserved for the user if the requester has a proxy without VOMS extension or for the group if the requester has a proxy with VOMS extension. If not zero, the space is reserved for this set of group ids. If the caller does not belong to the group, it must have ADMIN privileges.</p>
  </dd>
  <dt>
    <p><em>poolname</em></p>
  </dt>
  <dd>
    <p>If not NULL, reserves the space in that disk pool.</p>
  </dd>

</dl>
<p>The output arguments are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>actual_s_type</em></p>
  </dt>
  <dd>
    <p>Type of reserved space.</p>
  </dd>
  <dt>
    <p><em>actual_t_space</em></p>
  </dt>
  <dd>
    <p>Total space reserved in bytes (best effort).</p>
  </dd>
  <dt>
    <p><em>actual_g_space</em></p>
  </dt>
  <dd>
    <p>Guaranteed space reserved in bytes.</p>
  </dd>
  <dt>
    <p><em>actual_lifetime</em></p>
  </dt>
  <dd>
    <p>Lifetime of the reserved space (in seconds) relative to the current time.</p>
  </dd>
  <dt>
    <p><em>s_token</em></p>
  </dt>
  <dd>
    <p>Address of a buffer to receive the system allocated token.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>This routine returns 0 if the operation was successful or -1 if the operation failed. In the latter case, <strong>serrno</strong> is set appropriately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>EACCES</strong></p>
  </dt>
  <dd>
    <p>The caller does not belong to the group identified by <em>req_gid</em> and does not have ADMIN privileges.</p>
  </dd>
  <dt>
    <p><strong>EFAULT</strong></p>
  </dt>
  <dd>
    <p><em>nbgids</em> is greater than 0 and <em>req_gids</em> is a NULL pointer.</p>
  </dd>
  <dt>
    <p><strong>EINVAL</strong></p>
  </dt>
  <dd>
    <p>The space type is invalid or the length of the user space token description is greater than 255, the space requested is not a positive value, the pool name is longer than <strong>CA_MAXPOOLNAMELEN</strong> or unknown or the number of gids is too big.</p>
  </dd>
  <dt>
    <p><strong>SENOSHOST</strong></p>
  </dt>
  <dd>
    <p>Host unknown.</p>
  </dd>
  <dt>
    <p><strong>SEINTERNAL</strong></p>
  </dt>
  <dd>
    <p>Database error.</p>
  </dd>
  <dt>
    <p><strong>SECOMERR</strong></p>
  </dt>
  <dd>
    <p>Communication error.</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dpm_relfiles.3.html"><span aria-hidden="true">&larr;</span> dpm_relfiles.3: Release a set of files</a></li>
   <li class="next"><a href="dpm_rm.3.html">dpm_rm.3: Delete a set of files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
