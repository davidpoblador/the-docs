<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TAU_REGISTER_CONTEXT_EVENT: Registers a context event</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Registers a context event">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="TAU_REGISTER_CONTEXT_EVENT (3) manual">
  <meta name="twitter:description" content="Registers a context event">
  <meta name="twitter:image" content="https://www.carta.tech/images/tau-TAU_REGISTER_CONTEXT_EVENT-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/TAU_REGISTER_CONTEXT_EVENT.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="TAU_REGISTER_CONTEXT_EVENT (3) manual" />
  <meta property="og:description" content="Registers a context event" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/tau-TAU_REGISTER_CONTEXT_EVENT-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">TAU_REGISTER_CONTEXT_EVENT<small> (3)</small></h1>
        <p class="lead">Registers a context event</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/TAU_REGISTER_CONTEXT_EVENT.3.html">
      <span itemprop="name">TAU_REGISTER_CONTEXT_EVENT: Registers a context event</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/tau/">
      <span itemprop="name">tau</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/TAU_REGISTER_CONTEXT_EVENT.3.html">
      <span itemprop="name">TAU_REGISTER_CONTEXT_EVENT: Registers a context event</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>C/C++:</strong> <strong></strong><strong>TAU_REGISTER_CONTEXT_EVENT</strong><strong>(</strong><strong>TauUserEvent&nbsp;</strong><strong></strong><em>variable</em><strong>, </strong><strong>char&nbsp;*</strong><strong></strong><em>event_name</em><strong>);</strong></p><p><strong>Fortran:</strong> <strong></strong><strong>TAU_REGISTER_CONTEXT_EVENT</strong><strong>(</strong><strong>int&nbsp;</strong><strong></strong><em>variable</em><strong>(2)</strong><strong>, </strong><strong>character&nbsp;</strong><strong></strong><em>event_name</em><strong>(size)</strong><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Creates a context event with name. A context event appends the names of routines executing on the callstack to the name specified by the user. Whenver a context event is triggered, the callstack is examined to determine the context of execution. Starting from the parent function where the event is triggered, TAU walks up the callstack to a depth specified by the user in the environment variable TAU_CALLPATH_DEPTH. If this environment variable is not specified, TAU uses 2 as the default depth. For e.g., if the user registers a context event with the name "memory used" and specifies 3 as the callpath depth, and if the event is triggered in two locations (in routine a, when it was called by b, when it was called by c, and in routine h, when it was called by g, when it was called by i), then, we'd see the user defined event information for "memory used: c() =&gt; b() =&gt; a()" and "memory used: i() =&gt; g() =&gt; h()".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p><strong>C/C++ :</strong></p>
<pre>
int f2(void)
{
  static int count = 0;
  count ++;
  TAU_PROFILE("f2()", "(sleeps 2 sec, calls f3)", TAU_USER);
  TAU_REGISTER_CONTEXT_EVENT(event, "Iteration count");
/*
  if (count == 2)
    TAU_DISABLE_CONTEXT_EVENT(event);
*/
  printf("Inside f2: sleeps 2 sec, calls f3&#92;n");

  TAU_CONTEXT_EVENT(event, 232+count);
  <strong>sleep</strong>(2);
  f3();
  return 0;
}

</pre>
<p><strong>Fortran :</strong></p>
<pre>
subroutine foo(id)
  integer id

  integer <strong>profiler</strong>(2) / 0, 0 /
  integer <strong>maev</strong>(2) / 0, 0 /
  integer <strong>mdev</strong>(2) / 0, 0 /
  save profiler, maev, mdev

  integer :: ierr
  integer :: h, t, u
  INTEGER, ALLOCATABLE :: STORAGEARY(:)
  DOUBLEPRECISION   edata

  call TAU_PROFILE_TIMER(profiler, 'FOO')
  call TAU_PROFILE_START(profiler)
  call <strong>TAU_PROFILE_SET_NODE</strong>(0)

  call TAU_REGISTER_CONTEXT_EVENT(maev, "STORAGEARY Alloc [cubes.f:20]")
  call TAU_REGISTER_CONTEXT_EVENT(mdev, "STORAGEARY Dealloc [cubes.f:37]")

  allocate(STORAGEARY(1:999), STAT=IERR)
  edata = SIZE(STORAGEARY)*sizeof(INTEGER)
  call TAU_CONTEXT_EVENT(maev, edata)
  ...
  deallocate(STORAGEARY)
  edata = SIZE(STORAGEARY)*sizeof(INTEGER)
  call TAU_CONTEXT_EVENT(mdev, edata)
  call TAU_PROFILE_STOP(profiler)
  end subroutine foo

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO TAU_REGISTER_CONTEXT_EVENT&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/TAU_CONTEXT_EVENT.3.html"><strong>TAU_CONTEXT_EVENT</strong>(3)</a>, <a href="../man3/TAU_ENABLE_CONTEXT_EVENT.3.html"><strong>TAU_ENABLE_CONTEXT_EVENT</strong>(3)</a>, <a href="../man3/TAU_DISABLE_CONTEXT_EVENT.3.html"><strong>TAU_DISABLE_CONTEXT_EVENT</strong>(3)</a>, <a href="../man3/TAU_REGISTER_EVENT.3.html"><strong>TAU_REGISTER_EVENT</strong>(3)</a>, <a href="../man3/TAU_REPORT_STATISTICS.3.html"><strong>TAU_REPORT_STATISTICS</strong>(3)</a>, <a href="../man3/TAU_REPORT_THREAD_STATISTICS.3.html"><strong>TAU_REPORT_THREAD_STATISTICS</strong>(3)</a>, <a href="../man3/TAU_GET_EVENT_NAMES.3.html"><strong>TAU_GET_EVENT_NAMES</strong>(3)</a>, <a href="../man3/TAU_GET_EVENT_VALS.3.html"><strong>TAU_GET_EVENT_VALS</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="TAU_PROFILE_TIMER_SET_TYPE.3.html"><span aria-hidden="true">&larr;</span> TAU_PROFILE_TIMER_SET_TYPE.3: Changes the type of a timer</a></li>
   <li class="next"><a href="TAU_REGISTER_EVENT.3.html">TAU_REGISTER_EVENT.3: Registers a user event <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
