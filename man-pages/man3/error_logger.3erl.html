<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>error_logger: Erlang error logger</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Erlang error logger">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="error_logger (3erl) manual">
  <meta name="twitter:description" content="Erlang error logger">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-error_logger-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/error_logger.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="error_logger (3erl) manual" />
  <meta property="og:description" content="Erlang error logger" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-error_logger-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">error_logger<small> (3erl)</small></h1>
        <p class="lead">Erlang error logger</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/error_logger.3erl.html">
      <span itemprop="name">error_logger: Erlang error logger</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/error_logger.3erl.html">
      <span itemprop="name">error_logger: Erlang error logger</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The Erlang <em>error logger</em> is an event manager (see <strong>OTP Design Principles</strong> and <strong>gen_event(3erl)</strong>), registered as <em>error_logger</em>. Error, warning and info events are sent to the error logger from the Erlang runtime system and the different Erlang/OTP applications. The events are, by default, logged to tty. Note that an event from a process <em>P</em> is logged at the node of the group leader of <em>P</em>. This means that log output is directed to the node from which a process was created, which not necessarily is the same node as where it is executing.</p><p>Initially, <em>error_logger</em> only has a primitive event handler, which buffers and prints the raw event messages. During system startup, the application Kernel replaces this with a <em>standard event handler</em>, by default one which writes nicely formatted output to tty. Kernel can also be configured so that events are logged to file instead, or not logged at all, see <a href="../man7/kernel.7.html"><strong>kernel</strong>(7)</a></strong>.</p><p>Also the SASL application, if started, adds its own event handler, which by default writes supervisor, crash and progress reports to tty. See <a href="../man7/sasl.7.html"><strong>sasl</strong>(7)</a></strong>.</p><p>It is recommended that user defined applications should report errors through the error logger, in order to get uniform reports. User defined event handlers can be added to handle application specific events. (<em>add_report_handler/1,2</em>). Also, there is a useful event handler in STDLIB for multi-file logging of events, see <em>log_mf_h(3erl)</em>.</p><p>Warning events was introduced in Erlang/OTP R9C. To retain backwards compatibility, these are by default tagged as errors, thus showing up as error reports in the logs. By using the command line flag <em>+W &lt;w | i&gt;</em>, they can instead be tagged as warnings or info. Tagging them as warnings may require rewriting existing user defined event handlers.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA TYPES</h2>
        <div class="sectioncontent">

<pre>
<strong>report()</strong> = [{Tag :: term(), Data :: term()} | term()]

         | string()

         | term()

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
error_msg(Format) -&gt; ok

</pre>

<pre>
<strong></strong>
error_msg(Format, Data) -&gt; ok

</pre>

<pre>
<strong></strong>
format(Format, Data) -&gt; ok

</pre>
<p>Types:</p><p>Format = string()</p><p>Data = list()</p><p>Sends a standard error event to the error logger. The <em>Format</em> and <em>Data</em> arguments are the same as the arguments of <em>io:format/2</em>. The event is handled by the standard event handler.</p>
<pre>
1&gt; error_logger:error_msg("An error occurred in ~p~n", [a_module]).

=ERROR REPORT==== 11-Aug-2005::14:03:19 ===
An error occurred in a_module
ok
</pre>
<p><strong></strong> Warning:</p><p>If called with bad arguments, this function can crash the standard event handler, meaning no further events are logged. When in doubt, use <em>error_report/1</em> instead.</p>
<pre>
<strong></strong>
error_report(Report) -&gt; ok

</pre>
<p>Types:</p><p>Report = <strong>report()</strong></p><p>Sends a standard error report event to the error logger. The event is handled by the standard event handler.</p>
<pre>
2&gt; error_logger:error_report([{tag1,data1},a_term,{tag2,data}]).

=ERROR REPORT==== 11-Aug-2005::13:45:41 ===
    tag1: data1
    a_term
    tag2: data
ok
3&gt; error_logger:error_report("Serious error in my module").

=ERROR REPORT==== 11-Aug-2005::13:45:49 ===
Serious error in my module
ok
</pre>

<pre>
<strong></strong>
error_report(Type, Report) -&gt; ok

</pre>
<p>Types:</p><p>Type = term()</p><p>Report = <strong>report()</strong></p><p>Sends a user defined error report event to the error logger. An event handler to handle the event is supposed to have been added. The event is ignored by the standard event handler.</p><p>It is recommended that <em>Report</em> follows the same structure as for <em>error_report/1</em>.</p>
<pre>
<strong></strong>
warning_map() -&gt; Tag

</pre>
<p>Types:</p><p>Tag = error | warning | info</p><p>Returns the current mapping for warning events. Events sent using <em>warning_msg/1,2</em> or <em>warning_report/1,2</em> are tagged as errors (default), warnings or info, depending on the value of the command line flag <em>+W</em>.</p>
<pre>
os$ erl
Erlang (BEAM) emulator version 5.4.8 [hipe] [threads:0] [kernel-poll]

Eshell V5.4.8  (abort with ^G)
1&gt; error_logger:warning_map().
error
2&gt; error_logger:warning_msg("Warnings tagged as: ~p~n", [error]).

=ERROR REPORT==== 11-Aug-2005::15:31:23 ===
Warnings tagged as: error
ok
3&gt;
User switch command
 --&gt; q
os$ erl +W w
Erlang (BEAM) emulator version 5.4.8 [hipe] [threads:0] [kernel-poll]

Eshell V5.4.8  (abort with ^G)
1&gt; error_logger:warning_map().
warning
2&gt; error_logger:warning_msg("Warnings tagged as: ~p~n", [warning]).

=WARNING REPORT==== 11-Aug-2005::15:31:55 ===
Warnings tagged as: warning
ok
</pre>

<pre>
<strong></strong>
warning_msg(Format) -&gt; ok

</pre>

<pre>
<strong></strong>
warning_msg(Format, Data) -&gt; ok

</pre>
<p>Types:</p><p>Format = string()</p><p>Data = list()</p><p>Sends a standard warning event to the error logger. The <em>Format</em> and <em>Data</em> arguments are the same as the arguments of <em>io:format/2</em>. The event is handled by the standard event handler. It is tagged either as an error, warning or info, see <strong>warning_map/0</strong>.</p><p><strong></strong> Warning:</p><p>If called with bad arguments, this function can crash the standard event handler, meaning no further events are logged. When in doubt, use <em>warning_report/1</em> instead.</p>
<pre>
<strong></strong>
warning_report(Report) -&gt; ok

</pre>
<p>Types:</p><p>Report = <strong>report()</strong></p><p>Sends a standard warning report event to the error logger. The event is handled by the standard event handler. It is tagged either as an error, warning or info, see <strong>warning_map/0</strong>.</p>
<pre>
<strong></strong>
warning_report(Type, Report) -&gt; ok

</pre>
<p>Types:</p><p>Type = any()</p><p>Report = <strong>report()</strong></p><p>Sends a user defined warning report event to the error logger. An event handler to handle the event is supposed to have been added. The event is ignored by the standard event handler. It is tagged either as an error, warning or info, depending on the value of <strong>warning_map/0</strong>.</p>
<pre>
<strong></strong>
info_msg(Format) -&gt; ok

</pre>

<pre>
<strong></strong>
info_msg(Format, Data) -&gt; ok

</pre>
<p>Types:</p><p>Format = string()</p><p>Data = list()</p><p>Sends a standard information event to the error logger. The <em>Format</em> and <em>Data</em> arguments are the same as the arguments of <em>io:format/2</em>. The event is handled by the standard event handler.</p>
<pre>
1&gt; error_logger:info_msg("Something happened in ~p~n", [a_module]).

=INFO REPORT==== 11-Aug-2005::14:06:15 ===
Something happened in a_module
ok
</pre>
<p><strong></strong> Warning:</p><p>If called with bad arguments, this function can crash the standard event handler, meaning no further events are logged. When in doubt, use <em>info_report/1</em> instead.</p>
<pre>
<strong></strong>
info_report(Report) -&gt; ok

</pre>
<p>Types:</p><p>Report = <strong>report()</strong></p><p>Sends a standard information report event to the error logger. The event is handled by the standard event handler.</p>
<pre>
2&gt; error_logger:info_report([{tag1,data1},a_term,{tag2,data}]).

=INFO REPORT==== 11-Aug-2005::13:55:09 ===
    tag1: data1
    a_term
    tag2: data
ok
3&gt; error_logger:info_report("Something strange happened").

=INFO REPORT==== 11-Aug-2005::13:55:36 ===
Something strange happened
ok
</pre>

<pre>
<strong></strong>
info_report(Type, Report) -&gt; ok

</pre>
<p>Types:</p><p>Type = any()</p><p>Report = <strong>report()</strong></p><p>Sends a user defined information report event to the error logger. An event handler to handle the event is supposed to have been added. The event is ignored by the standard event handler.</p><p>It is recommended that <em>Report</em> follows the same structure as for <em>info_report/1</em>.</p>
<pre>
<strong></strong>
add_report_handler(Handler) -&gt; any()

</pre>

<pre>
<strong></strong>
add_report_handler(Handler, Args) -&gt; Result

</pre>
<p>Types:</p><p>Handler = module()</p><p>Args = <strong>gen_event:handler_args()</strong></p><p>Result = <strong>gen_event:add_handler_ret()</strong></p><p>Adds a new event handler to the error logger. The event handler must be implemented as a <em>gen_event</em> callback module, see <strong>gen_event(3erl)</strong>.</p><p><em>Handler</em> is typically the name of the callback module and <em>Args</em> is an optional term (defaults to []) passed to the initialization callback function <em>Handler:init/1</em>. The function returns <em>ok</em> if successful.</p><p>The event handler must be able to handle the <strong>events</strong> described below.</p>
<pre>
<strong></strong>
delete_report_handler(Handler) -&gt; Result

</pre>
<p>Types:</p><p>Handler = module()</p><p>Result = <strong>gen_event:del_handler_ret()</strong></p><p>Deletes an event handler from the error logger by calling <em>gen_event:delete_handler(error_logger, Handler, [])</em>, see <strong>gen_event(3erl)</strong>.</p>
<pre>
<strong></strong>
tty(Flag) -&gt; ok

</pre>
<p>Types:</p><p>Flag = boolean()</p><p>Enables (<em>Flag == true</em>) or disables (<em>Flag == false</em>) printout of standard events to the tty.</p><p>This is done by adding or deleting the standard event handler for output to tty, thus calling this function overrides the value of the Kernel <em>error_logger</em> configuration parameter.</p>
<pre>
<strong></strong>
logfile(Request :: {open, Filename}) -&gt; ok | {error, OpenReason}

</pre>

<pre>
<strong></strong>
logfile(Request :: close) -&gt; ok | {error, CloseReason}

</pre>

<pre>
<strong></strong>
logfile(Request :: filename) -&gt; Filename | {error, FilenameReason}

</pre>
<p>Types:</p><p>Filename = <strong>file:name()</strong></p><p>OpenReason = allready_have_logfile | <strong>open_error()</strong></p><p>CloseReason = module_not_found</p><p>FilenameReason = no_log_file</p>
<pre>
<strong>open_error()</strong> = <strong>file:posix()</strong> | badarg | system_limit
</pre>
<p>Enables or disables printout of standard events to a file.</p><p>This is done by adding or deleting the standard event handler for output to file, thus calling this function overrides the value of the Kernel <em>error_logger</em> configuration parameter.</p><p>Enabling file logging can be used in combination with calling <em>tty(false)</em>, in order to have a silent system, where all standard events are logged to a file only. There can only be one active log file at a time.</p><p><em>Request</em> is one of:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{open, Filename}</em>: Opens the log file <em>Filename</em>. Returns <em>ok</em> if successful, or <em>{error, allready_have_logfile}</em> if logging to file is already enabled, or an error tuple if another error occurred. For example, if <em>Filename</em> could not be opened.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>close</em>: Closes the current log file. Returns <em>ok</em>, or <em>{error, module_not_found}</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>filename</em>: Returns the name of the log file <em>Filename</em>, or <em>{error, no_log_file}</em> if logging to file is not enabled.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EVENTS</h2>
        <div class="sectioncontent">
<p>All event handlers added to the error logger must handle the following events. <em>Gleader</em> is the group leader pid of the process which sent the event, and <em>Pid</em> is the process which sent the event.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{error, Gleader, {Pid, Format, Data}}</em>: Generated when <em>error_msg/1,2</em> or <em>format</em> is called.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{error_report, Gleader, {Pid, std_error, Report}}</em>: Generated when <em>error_report/1</em> is called.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{error_report, Gleader, {Pid, Type, Report}}</em>: Generated when <em>error_report/2</em> is called.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{warning_msg, Gleader, {Pid, Format, Data}}</em>: Generated when <em>warning_msg/1,2</em> is called, provided that warnings are set to be tagged as warnings.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{warning_report, Gleader, {Pid, std_warning, Report}}</em>: Generated when <em>warning_report/1</em> is called, provided that warnings are set to be tagged as warnings.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{warning_report, Gleader, {Pid, Type, Report}}</em>: Generated when <em>warning_report/2</em> is called, provided that warnings are set to be tagged as warnings.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{info_msg, Gleader, {Pid, Format, Data}}</em>: Generated when <em>info_msg/1,2</em> is called.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{info_report, Gleader, {Pid, std_info, Report}}</em>: Generated when <em>info_report/1</em> is called.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{info_report, Gleader, {Pid, Type, Report}}</em>: Generated when <em>info_report/2</em> is called.</p>
  </dd>

</dl>
<p>Note that also a number of system internal events may be received, a catch-all clause last in the definition of the event handler callback function <em>Module:handle_event/2</em> is necessary. This also holds true for <em>Module:handle_info/2</em>, as there are a number of system internal messages the event handler must take care of as well.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO error_logger&hellip;</h2>
        <div class="sectioncontent">
<p>gen_event(3erl), log_mf_h(3erl), <a href="../man7/kernel.7.html"><strong>kernel</strong>(7)</a>, <a href="../man7/sasl.7.html"><strong>sasl</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="error_handler.3erl.html"><span aria-hidden="true">&larr;</span> error_handler.3erl: Default system error handler</a></li>
   <li class="next"><a href="erts_alloc.3erl.html">erts_alloc.3erl: An erlang run-time system internal memory allocator library. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
