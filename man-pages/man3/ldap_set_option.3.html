<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ldap_set_option: Ldap option handling routines</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ldap option handling routines">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ldap_set_option (3) manual">
  <meta name="twitter:description" content="Ldap option handling routines">
  <meta name="twitter:image" content="https://www.carta.tech/images/libldap2-dev-ldap_set_option-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ldap_set_option.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ldap_set_option (3) manual" />
  <meta property="og:description" content="Ldap option handling routines" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libldap2-dev-ldap_set_option-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ldap_set_option<small> (3)</small></h1>
        <p class="lead">Ldap option handling routines</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ldap_set_option.3.html">
      <span itemprop="name">ldap_set_option: Ldap option handling routines</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libldap2-dev/">
      <span itemprop="name">libldap2-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ldap_set_option.3.html">
      <span itemprop="name">ldap_set_option: Ldap option handling routines</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">LIBRARY</h2>
        <div class="sectioncontent">
<p>OpenLDAP LDAP (libldap, -lldap)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;ldap.h&gt;</strong>

<strong>int ldap_get_option(LDAP *</strong><em>ld</em><strong>, int </strong><em>option</em><strong>, void *</strong><em>outvalue</em><strong>);</strong>

<strong>int ldap_set_option(LDAP *</strong><em>ld</em><strong>, int </strong><em>option</em><strong>, const void *</strong><em>invalue</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>These routines provide access to options stored either in a LDAP handle or as global options, where applicable. They make use of a neutral interface, where the type of the value either retrieved by <a href="../man3/ldap_get_option.3.html"><strong>ldap_get_option</strong>(3)</a> or set by <a href="../man3/ldap_set_option.3.html"><strong>ldap_set_option</strong>(3)</a> is cast to <strong>void *</strong>. The actual type is determined based on the value of the <strong>option</strong> argument. Global options are set/retrieved by passing a NULL LDAP handle. LDAP handles inherit their default settings from the global options in effect at the time the handle is created.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LDAP_OPT_API_FEATURE_INFO</strong></p>
  </dt>
  <dd>
    <p>Fills-in a <strong>LDAPAPIFeatureInfo</strong>; <strong>outvalue</strong> must be a <strong>LDAPAPIFeatureInfo *</strong>, pointing to an already allocated struct. This is a read-only option.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_API_INFO</strong></p>
  </dt>
  <dd>
    <p>Fills-in a <strong>LDAPAPIInfo</strong>; <strong>outvalue</strong> must be a <strong>LDAPAPIInfo *</strong>, pointing to an already allocated struct. This is a read-only option.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_CLIENT_CONTROLS</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the client-side controls to be used for all operations. This is now deprecated as modern LDAP C API provides replacements for all main operations which accepts client-side controls as explicit arguments; see for example <a href="../man3/ldap_search_ext.3.html"><strong>ldap_search_ext</strong>(3)</a>, <a href="../man3/ldap_add_ext.3.html"><strong>ldap_add_ext</strong>(3)</a>, <a href="../man3/ldap_modify_ext.3.html"><strong>ldap_modify_ext</strong>(3)</a> and so on. <strong>outvalue</strong> must be <strong>LDAPControl ***</strong>, and the caller is responsible of freeing the returned controls, if any, by calling <a href="../man3/ldap_controls_free.3.html"><strong>ldap_controls_free</strong>(3)</a>, while <strong>invalue</strong> must be <strong>LDAPControl *const *</strong>; the library duplicates the controls passed via <strong>invalue</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_CONNECT_ASYNC</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the status of the asynchronous connect flag. <strong>invalue</strong> should either be <strong>LDAP_OPT_OFF</strong> or <strong>LDAP_OPT_ON</strong>; <strong>outvalue</strong> must be <strong>int *</strong>. When set, the library will call <a href="../man2/connect.2.html"><strong>connect</strong>(2)</a> and return, without waiting for response. This leaves the handle in a connecting state. Subsequent calls to library routines will poll for completion of the connect before performing further operations. As a consequence, library calls that need to establish a connection with a DSA do not block even for the network timeout (option <strong>LDAP_OPT_NETWORK_TIMEOUT</strong>). This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_CONNECT_CB</strong></p>
  </dt>
  <dd>
    <p>This option allows to set a connect callback. <strong>invalue</strong> must be a <strong>const struct ldap_conncb *</strong>. Callbacks are executed in last in-first served order. Handle-specific callbacks are executed first, followed by global ones. Right before freeing the callback structure, the <strong>lc_del</strong> callback handler is passed a <strong>NULL</strong> <strong>Sockbuf</strong>. Calling <a href="../man3/ldap_get_option.3.html"><strong>ldap_get_option</strong>(3)</a> for this option removes the callback whose pointer matches <strong>outvalue</strong>. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_DEBUG_LEVEL</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the debug level of the client library. <strong>invalue</strong> must be a <strong>const int *</strong>; <strong>outvalue</strong> must be a <strong>int *</strong>. Valid debug levels are <strong>LDAP_DEBUG_ANY</strong>, <strong>LDAP_DEBUG_ARGS</strong>, <strong>LDAP_DEBUG_BER</strong>, <strong>LDAP_DEBUG_CONNS</strong>, <strong>LDAP_DEBUG_NONE</strong>, <strong>LDAP_DEBUG_PACKETS</strong>, <strong>LDAP_DEBUG_PARSE</strong>, and <strong>LDAP_DEBUG_TRACE</strong>. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_DEFBASE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets a string containing the DN to be used as default base for search operations. <strong>outvalue</strong> must be a <strong>char **</strong>, and the caller is responsible of freeing the returned string by calling <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>, while <strong>invalue</strong> must be a <strong>const char *</strong>; the library duplicates the corresponding string. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_DEREF</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the value that defines when alias dereferencing must occur. <strong>invalue</strong> must be <strong>const int *</strong>; <strong>outvalue</strong> must be <strong>int *</strong>. They cannot be NULL. The value of <strong>*invalue</strong> should be one of <strong>LDAP_DEREF_NEVER</strong> (the default), <strong>LDAP_DEREF_SEARCHING</strong>, <strong>LDAP_DEREF_FINDING</strong>, or <strong>LDAP_DEREF_ALWAYS</strong>. Note that this has ever been the only means to determine alias dereferencing within search operations.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_DESC</strong></p>
  </dt>
  <dd>
    <p>Returns the file descriptor associated to the socket buffer of the LDAP handle passed in as <strong>ld</strong>; <strong>outvalue</strong> must be a <strong>int *</strong>. This is a read-only, handle-specific option.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_DIAGNOSTIC_MESSAGE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets a string containing the error string associated to the LDAP handle. This option was formerly known as <strong>LDAP_OPT_ERROR_STRING</strong>. <strong>outvalue</strong> must be a <strong>char **</strong>, and the caller is responsible of freeing the returned string by calling <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>, while <strong>invalue</strong> must be a <strong>char *</strong>; the library duplicates the corresponding string.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_HOST_NAME</strong></p>
  </dt>
  <dd>
    <p>Sets/gets a space-separated list of hosts to be contacted by the library when trying to establish a connection. This is now deprecated in favor of <strong>LDAP_OPT_URI</strong>. <strong>outvalue</strong> must be a <strong>char **</strong>, and the caller is responsible of freeing the resulting string by calling <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>, while <strong>invalue</strong> must be a <strong>const char *</strong>; the library duplicates the corresponding string.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_MATCHED_DN</strong></p>
  </dt>
  <dd>
    <p>Sets/gets a string containing the matched DN associated to the LDAP handle. <strong>outvalue</strong> must be a <strong>char **</strong>, and the caller is responsible of freeing the returned string by calling <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>, while <strong>invalue</strong> must be a <strong>const char *</strong>; the library duplicates the corresponding string.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_NETWORK_TIMEOUT</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the network timeout value after which <a href="../man2/poll.2.html"><strong>poll</strong>(2)</a>/<a href="../man2/select.2.html"><strong>select</strong>(2)</a> following a <a href="../man2/connect.2.html"><strong>connect</strong>(2)</a> returns in case of no activity. <strong>outvalue</strong> must be a <strong>struct timeval **</strong> (the caller has to free <strong>*outvalue</strong>)<strong>,</strong> and <strong>invalue</strong> must be a <strong>const struct timeval *</strong>. They cannot be NULL. Using a struct with seconds set to -1 results in an infinite timeout, which is the default. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_PROTOCOL_VERSION</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the protocol version. <strong>outvalue</strong> and <strong>invalue</strong> must be <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_REFERRAL_URLS</strong></p>
  </dt>
  <dd>
    <p>Sets/gets an array containing the referral URIs associated to the LDAP handle. <strong>outvalue</strong> must be a <strong>char ***</strong>, and the caller is responsible of freeing the returned string by calling <a href="../man3/ldap_memvfree.3.html"><strong>ldap_memvfree</strong>(3)</a>, while <strong>invalue</strong> must be a NULL-terminated <strong>char *const *</strong>; the library duplicates the corresponding string. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_REFERRALS</strong></p>
  </dt>
  <dd>
    <p>Determines whether the library should implicitly chase referrals or not. <strong>invalue</strong> must be <strong>const int *</strong>; its value should either be <strong>LDAP_OPT_OFF</strong> or <strong>LDAP_OPT_ON</strong>. <strong>outvalue</strong> must be <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_RESTART</strong></p>
  </dt>
  <dd>
    <p>Determines whether the library should implicitly restart connections (FIXME). <strong>invalue</strong> must be <strong>const int *</strong>; its value should either be <strong>LDAP_OPT_OFF</strong> or <strong>LDAP_OPT_ON</strong>. <strong>outvalue</strong> must be <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_RESULT_CODE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the LDAP result code associated to the handle. This option was formerly known as <strong>LDAP_OPT_ERROR_NUMBER</strong>. <strong>invalue</strong> must be a <strong>const int *</strong>. <strong>outvalue</strong> must be a <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_SERVER_CONTROLS</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the server-side controls to be used for all operations. This is now deprecated as modern LDAP C API provides replacements for all main operations which accepts server-side controls as explicit arguments; see for example <a href="../man3/ldap_search_ext.3.html"><strong>ldap_search_ext</strong>(3)</a>, <a href="../man3/ldap_add_ext.3.html"><strong>ldap_add_ext</strong>(3)</a>, <a href="../man3/ldap_modify_ext.3.html"><strong>ldap_modify_ext</strong>(3)</a> and so on. <strong>outvalue</strong> must be <strong>LDAPControl ***</strong>, and the caller is responsible of freeing the returned controls, if any, by calling <a href="../man3/ldap_controls_free.3.html"><strong>ldap_controls_free</strong>(3)</a>, while <strong>invalue</strong> must be <strong>LDAPControl *const *</strong>; the library duplicates the controls passed via <strong>invalue</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_SESSION_REFCNT</strong></p>
  </dt>
  <dd>
    <p>Returns the reference count associated with the LDAP handle passed in as <strong>ld</strong>; <strong>outvalue</strong> must be a <strong>int *</strong>. This is a read-only, handle-specific option. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_SIZELIMIT</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the value that defines the maximum number of entries to be returned by a search operation. <strong>invalue</strong> must be <strong>const int *</strong>, while <strong>outvalue</strong> must be <strong>int *</strong>; They cannot be NULL.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_SOCKBUF</strong></p>
  </dt>
  <dd>
    <p>Returns a pointer to the socket buffer of the LDAP handle passed in as <strong>ld</strong>; <strong>outvalue</strong> must be a <strong>Sockbuf **</strong>. This is a read-only, handle-specific option. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_TIMELIMIT</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the value that defines the time limit after which a search operation should be terminated by the server. <strong>invalue</strong> must be <strong>const int *</strong>, while <strong>outvalue</strong> must be <strong>int *</strong>, and they cannot be NULL.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_TIMEOUT</strong></p>
  </dt>
  <dd>
    <p>Sets/gets a timeout value for the synchronous API calls. <strong>outvalue</strong> must be a <strong>struct timeval **</strong> (the caller has to free <strong>*outvalue</strong>)<strong>,</strong> and <strong>invalue</strong> must be a <strong>struct timeval *</strong>, and they cannot be NULL. Using a struct with seconds set to -1 results in an infinite timeout, which is the default. This option is OpenLDAP specific.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_URI</strong></p>
  </dt>
  <dd>
    <p>Sets/gets a comma- or space-separated list of URIs to be contacted by the library when trying to establish a connection. <strong>outvalue</strong> must be a <strong>char **</strong>, and the caller is responsible of freeing the resulting string by calling <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>, while <strong>invalue</strong> must be a <strong>const char *</strong>; the library parses the string into a list of <strong>LDAPURLDesc</strong> structures, so the invocation of <a href="../man3/ldap_set_option.3.html"><strong>ldap_set_option</strong>(3)</a> may fail if URL parsing fails. URIs may only contain the <strong>schema</strong>, the <strong>host</strong>, and the <strong>port</strong> fields. This option is OpenLDAP specific.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SASL OPTIONS</h2>
        <div class="sectioncontent">
<p>The SASL options are OpenLDAP specific.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_AUTHCID</strong></p>
  </dt>
  <dd>
    <p>Gets the SASL authentication identity; <strong>outvalue</strong> must be a <strong>char **</strong>, its content needs to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_AUTHZID</strong></p>
  </dt>
  <dd>
    <p>Gets the SASL authorization identity; <strong>outvalue</strong> must be a <strong>char **</strong>, its content needs to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_MAXBUFSIZE</strong></p>
  </dt>
  <dd>
    <p>Gets/sets SASL maximum buffer size; <strong>invalue</strong> must be <strong>const ber_len_t *</strong>, while <strong>outvalue</strong> must be <strong>ber_len_t *</strong>. See also <strong>LDAP_OPT_X_SASL_SECPROPS</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_MECH</strong></p>
  </dt>
  <dd>
    <p>Gets the SASL mechanism; <strong>outvalue</strong> must be a <strong>char **</strong>, its content needs to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_MECHLIST</strong></p>
  </dt>
  <dd>
    <p>Gets the list of the available mechanisms, in form of a NULL-terminated array of strings; <strong>outvalue</strong> must be <strong>char ***</strong>. The caller must not free or otherwise muck with it.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_NOCANON</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the NOCANON flag. When unset, the hostname is canonicalized. <strong>invalue</strong> must be <strong>const int *</strong>; its value should either be <strong>LDAP_OPT_OFF</strong> or <strong>LDAP_OPT_ON</strong>. <strong>outvalue</strong> must be <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_REALM</strong></p>
  </dt>
  <dd>
    <p>Gets the SASL realm; <strong>outvalue</strong> must be a <strong>char **</strong>, its content needs to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_SECPROPS</strong></p>
  </dt>
  <dd>
    <p>Sets the SASL secprops; <strong>invalue</strong> must be a <strong>char *</strong>, containing a comma-separated list of properties. Legal values are: <strong>none</strong>, <strong>nodict</strong>, <strong>noplain</strong>, <strong>noactive</strong>, <strong>passcred</strong>, <strong>forwardsec</strong>, <strong>noanonymous</strong>, <strong>minssf=&lt;minssf&gt;</strong>, <strong>maxssf=&lt;maxssf&gt;</strong>, <strong>maxbufsize=&lt;maxbufsize&gt;</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_SSF</strong></p>
  </dt>
  <dd>
    <p>Gets the SASL SSF; <strong>outvalue</strong> must be a <strong>ber_len_t *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_SSF_EXTERNAL</strong></p>
  </dt>
  <dd>
    <p>Sets the SASL SSF value related to an authentication performed using an EXTERNAL mechanism; <strong>invalue</strong> must be a <strong>const ber_len_t *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_SSF_MAX</strong></p>
  </dt>
  <dd>
    <p>Gets/sets SASL maximum SSF; <strong>invalue</strong> must be <strong>const ber_len_t *</strong>, while <strong>outvalue</strong> must be <strong>ber_len_t *</strong>. See also <strong>LDAP_OPT_X_SASL_SECPROPS</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_SSF_MIN</strong></p>
  </dt>
  <dd>
    <p>Gets/sets SASL minimum SSF; <strong>invalue</strong> must be <strong>const ber_len_t *</strong>, while <strong>outvalue</strong> must be <strong>ber_len_t *</strong>. See also <strong>LDAP_OPT_X_SASL_SECPROPS</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_SASL_USERNAME</strong></p>
  </dt>
  <dd>
    <p>Gets the SASL username; <strong>outvalue</strong> must be a <strong>char **</strong>. Its content needs to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TCP OPTIONS</h2>
        <div class="sectioncontent">
<p>The TCP options are OpenLDAP specific. Mainly intended for use with Linux, they may not be portable.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LDAP_OPT_X_KEEPALIVE_IDLE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the number of seconds a connection needs to remain idle before TCP starts sending keepalive probes. <strong>invalue</strong> must be <strong>const int *</strong>; <strong>outvalue</strong> must be <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_KEEPALIVE_PROBES</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the maximum number of keepalive probes TCP should send before dropping the connection. <strong>invalue</strong> must be <strong>const int *</strong>; <strong>outvalue</strong> must be <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_KEEPALIVE_INTERVAL</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the interval in seconds between individual keepalive probes. <strong>invalue</strong> must be <strong>const int *</strong>; <strong>outvalue</strong> must be <strong>int *</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TLS OPTIONS</h2>
        <div class="sectioncontent">
<p>The TLS options are OpenLDAP specific.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CACERTDIR</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the path of the directory containing CA certificates. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CACERTFILE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the full-path of the CA certificate file. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CERTFILE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the full-path of the certificate file. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CIPHER_SUITE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the allowed cipher suite. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CONNECT_ARG</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the connection callback argument. <strong>invalue</strong> must be <strong>const void *</strong>; <strong>outvalue</strong> must be <strong>void **</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CONNECT_CB</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the connection callback handle. <strong>invalue</strong> must be <strong>const LDAP_TLS_CONNECT_CB *</strong>; <strong>outvalue</strong> must be <strong>LDAP_TLS_CONNECT_CB **</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CRLCHECK</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the CRL evaluation strategy, one of <strong>LDAP_OPT_X_TLS_CRL_NONE</strong>, <strong>LDAP_OPT_X_TLS_CRL_PEER</strong>, or <strong>LDAP_OPT_X_TLS_CRL_ALL</strong>. <strong>invalue</strong> must be <strong>const int *</strong>; <strong>outvalue</strong> must be <strong>int *</strong>. Requires OpenSSL.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CRLFILE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the full-path of the CRL file. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>. This option is only valid for GnuTLS.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_CTX</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the TLS library context. New TLS sessions will inherit their default settings from this library context. <strong>invalue</strong> must be <strong>const void *</strong>; <strong>outvalue</strong> must be <strong>void **</strong>. When using the OpenSSL library this is an SSL_CTX*. When using other crypto libraries this is a pointer to an OpenLDAP private structure. Applications generally should not use this option or attempt to manipulate this structure.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_DHFILE</strong></p>
  </dt>
  <dd>
    <p>Gets/sets the full-path of the file containing the parameters for Diffie-Hellman ephemeral key exchange. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>. Ignored by GnuTLS and Mozilla NSS.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_KEYFILE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the full-path of the certificate key file. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_NEWCTX</strong></p>
  </dt>
  <dd>
    <p>Instructs the library to create a new TLS library context. <strong>invalue</strong> must be <strong>const int *</strong>. A non-zero value pointed to by <strong>invalue</strong> tells the library to create a context for a server.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_PROTOCOL_MIN</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the minimum protocol version. <strong>invalue</strong> must be <strong>const int *</strong>; <strong>outvalue</strong> must be <strong>int *</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_RANDOM_FILE</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the random file when <strong>/dev/random</strong> and <strong>/dev/urandom</strong> are not available. <strong>invalue</strong> must be <strong>const char *</strong>; <strong>outvalue</strong> must be <strong>char **</strong>, and its contents need to be freed by the caller using <a href="../man3/ldap_memfree.3.html"><strong>ldap_memfree</strong>(3)</a>. Ignored by GnuTLS older than version 2.2.  Ignored by Mozilla NSS.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_REQUIRE_CERT</strong></p>
  </dt>
  <dd>
    <p>Sets/gets the peer certificate checking strategy, one of <strong>LDAP_OPT_X_TLS_NEVER</strong>, <strong>LDAP_OPT_X_TLS_HARD</strong>, <strong>LDAP_OPT_X_TLS_DEMAND</strong>, <strong>LDAP_OPT_X_TLS_ALLOW</strong>, <strong>LDAP_OPT_X_TLS_TRY</strong>.</p>
  </dd>
  <dt>
    <p><strong>LDAP_OPT_X_TLS_SSL_CTX</strong></p>
  </dt>
  <dd>
    <p>Gets the TLS session context associated with this handle. <strong>outvalue</strong> must be <strong>void **</strong>. When using the OpenSSL library this is an SSL*. When using other crypto libraries this is a pointer to an OpenLDAP private structure. Applications generally should not use this option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>On success, the functions return <strong>LDAP_OPT_SUCCESS</strong>, while they may return <strong>LDAP_OPT_ERROR</strong> to indicate a generic option handling error. Occasionally, more specific errors can be returned, like <strong>LDAP_NO_MEMORY</strong> to indicate a failure in memory allocation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The LDAP libraries with the <strong>LDAP_OPT_REFERRALS</strong> option set to <strong>LDAP_OPT_ON</strong> (default value) automatically follow referrals using an anonymous bind. Application developers are encouraged to either implement consistent referral chasing features, or explicitly disable referral chasing by setting that option to <strong>LDAP_OPT_OFF</strong>.</p><p>The protocol version used by the library defaults to LDAPv2 (now historic), which corresponds to the <strong>LDAP_VERSION2</strong> macro. Application developers are encouraged to explicitly set <strong>LDAP_OPT_PROTOCOL_VERSION</strong> to LDAPv3, using the <strong>LDAP_VERSION3</strong> macro, or to allow users to select the protocol version.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ldap_set_option&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ldap.3.html"><strong>ldap</strong>(3)</a>, <a href="../man3/ldap_error.3.html"><strong>ldap_error</strong>(3)</a>, <strong>RFC 4422</strong> (http://www.rfc-editor.org),</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p><strong>OpenLDAP Software</strong> is developed and maintained by The OpenLDAP Project &lt;http://www.openldap.org/&gt;. <strong>OpenLDAP Software</strong> is derived from University of Michigan LDAP 3.3 Release.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ldap_search_st.3.html"><span aria-hidden="true">&larr;</span> ldap_search_st.3: Perform an ldap search operation</a></li>
   <li class="next"><a href="ldap_set_rebind_proc.3.html">ldap_set_rebind_proc.3: Ldap bind routines <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
