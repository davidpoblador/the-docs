<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>xpaaccess: Return xpa access points matching template (xpa 2.1 and above)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Return xpa access points matching template (xpa 2.1 and above)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="xpaaccess (3) manual">
  <meta name="twitter:description" content="Return xpa access points matching template (xpa 2.1 and above)">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxpa-dev-xpaaccess-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/xpaaccess.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="xpaaccess (3) manual" />
  <meta property="og:description" content="Return xpa access points matching template (xpa 2.1 and above)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxpa-dev-xpaaccess-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">xpaaccess<small> (3)</small></h1>
        <p class="lead">Return xpa access points matching template (xpa 2.1 and above)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/xpaaccess.3.html">
      <span itemprop="name">xpaaccess: Return xpa access points matching template (xpa 2.1 and above)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxpa-dev/">
      <span itemprop="name">libxpa-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/xpaaccess.3.html">
      <span itemprop="name">xpaaccess: Return xpa access points matching template (xpa 2.1 and above)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  #include &lt;xpa.h&gt;

  int XPAAccess(XPA xpa,
                char *template, char *paramlist, char *mode,
                char **names, char **messages, int n);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The XPAAccess routine returns the public access points that match the specified second argument template and have the specified access type.</p><p>A template of the form \*(L"class1:name1\*(R" is sent to the \s-1XPA\s0 name server, which returns a list of at most n matching \s-1XPA\s0 servers.  A connection is established with each of these servers and the paramlist string is passed to the server as the data transfer request is initiated. If an \s-1XPA\s0 struct is passed to the call, then the persistent connections are updated as described above. Otherwise, temporary connections are made to the servers (which will be closed when the call completes).</p><p>The <em>XPAAccess()</em> routine retrieves names from at most n \s-1XPA\s0 servers that match the specified template and that were checked for access using the specified mode.  The return string contains both the class:name and ip:port.  If a given server returned an error or the server callback sends a message back to the client, then the message will be stored in the associated element of the messages array. \s-1NB:\s0 if specified, the name and messages arrays must be of size n or greater.</p><p>The returned message string will be of the form:</p><p>  XPA$ERROR error\-message (class:name ip:port)</p><p>Note that names of matching registered access points are always returned but may not be valid; it is not sufficient to assume that the returned number of access points is the number of valid access points. Rather, it is essential to check the messages array for error messages.  Any string in the messages array is an error message and indicated that the associated access point is not available.</p><p>For example, assume that a server registers a number of access points but delays entering its event loop. If a call to <em>XPAAccess()</em> is made before the event loop is entered, the call will timeout (after waiting for the long timeout period) and return an error of the form:</p><p>  XPA$ERROR: timeout waiting for server authentication (XPA:xpa1)</p><p>The error means that the \s-1XPA\s0 access point has been registered but is not yet available (because events are not being processed). When the server finally enters its event loop, subsequent calls to <em>XPAAccess()</em> will return successfully.</p><p>\s-1NB:\s0 This routine only works with \s-1XPA\s0 servers built with \s-1XPA\s0 2.1.x and later. Servers with older versions of \s-1XPA\s0 will return the error message:</p><p>  XPA$ERROR invalid xpa command in initialization string</p><p>If you get this error message, then the old server actually is ready for access, since it got to the point of fielding the query! The xpaaccess program, for example, ignores this message in order to work properly with older servers.</p><p>The third argument for <em>XPAAccess()</em> is the type of access and can be any combination of:</p><p>  type          explanation   ------        -----------   g             xpaget calls can be made on this access point   s             xpaset calls can be made on this access point   i             xpainfo calls can be made on this access point</p><p>The mode string argument is of the form: \*(L"key1=value1,key2=value2,...\*(R" The following keywords are recognized:</p><p>  key           value           default         explanation   ------        --------        --------        -----------   ack           true/false      true            if false, don&apos;t wait for ack from server (after callback completes)</p><p>The ack keyword is not very useful, since the server completes the callback in order to return the data anyway.  It is here for completion (and perhaps for future usefulness).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO xpaaccess&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/xpa.7.html"><strong>xpa</strong>(7)</a> for a list of \s-1XPA\s0 help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="xosd_uninit.3.html"><span aria-hidden="true">&larr;</span> xosd_uninit.3: Destroy a xosd window</a></li>
   <li class="next"><a href="xpaatexit.3.html">xpaatexit.3: Install exit handler <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
