<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Auth::Yubikey_WebClient: Authenticating the yubikey against the yubico web api</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Authenticating the yubikey against the yubico web api">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Auth::Yubikey_WebClient (3pm) manual">
  <meta name="twitter:description" content="Authenticating the yubikey against the yubico web api">
  <meta name="twitter:image" content="https://www.carta.tech/images/libauth-yubikey-webclient-perl-Auth::Yubikey_WebClient-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Auth::Yubikey_WebClient.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Auth::Yubikey_WebClient (3pm) manual" />
  <meta property="og:description" content="Authenticating the yubikey against the yubico web api" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libauth-yubikey-webclient-perl-Auth::Yubikey_WebClient-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Auth::Yubikey_WebClient<small> (3pm)</small></h1>
        <p class="lead">Authenticating the yubikey against the yubico web api</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Auth::Yubikey_WebClient.3pm.html">
      <span itemprop="name">Auth::Yubikey_WebClient: Authenticating the yubikey against the yubico web api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libauth-yubikey-webclient-perl/">
      <span itemprop="name">libauth-yubikey-webclient-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Auth::Yubikey_WebClient.3pm.html">
      <span itemprop="name">Auth::Yubikey_WebClient: Authenticating the yubikey against the yubico web api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>Version 3.00</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>Authenticate against the Yubico server via the Web \s-1API\s0 in Perl</p><p>Sample \s-1CGI\s0 script :-</p>
<pre>
        #!/usr/bin/perl

        use CGI;
        $cgi = new CGI;
        $otp = $cgi-&gt;param("otp");

        print "Content-type: text/html&#92;n&#92;n";
        print "&lt;html&gt;&#92;n";
        print "&lt;form method=get&gt;Yubikey : &lt;input type=text name=otp size=40 type=password&gt;&lt;/form&gt;&#92;n";

        use Auth::Yubikey_WebClient;

        $id = "&lt;enter your id here&gt;";
        $api = "&lt;enter your API key here&gt;";
        $nonce = "&lt;enter your nonce here&gt;";

        if($otp)
        {
                $result = Auth::Yubikey_WebClient::yubikey_webclient($otp,$id,$api,$nonce);
                # result can be either ERR or OK

                print "Authentication result : &lt;b&gt;$result&lt;/b&gt;&lt;br&gt;";
        }

        print "&lt;/html&gt;&#92;n";
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<h3>new</h3>
<p>Creates a new Yubikey Webclient connection</p><p>   use Auth::Yubikey_WebClient;</p><p>   my $yubi = Auth::Yubikey_WebClient-&gt;new({         id =&gt; &lt;enter your id here&gt; ,         api =&gt; &apos;&lt;enter your API key here&gt;&apos; ,         nonce =&gt; &apos;&lt;enter your nonce if you have one&gt;&apos;         });</p><p>You can overwrite the \s-1URL\s0 called if you want to call an alternate authentication server as well :-</p><p>   use Auth::Yubikey_WebClient;</p><p>   my $yubi = Auth::Yubikey_WebClient-&gt;new({         id =&gt; &lt;enter your id here&gt; ,         api =&gt; &apos;&lt;enter your API key here&gt;&apos; ,         nonce =&gt; &apos;&lt;enter your nonce if you have one&gt;&apos;,         url =&gt; &apos;http://www.otherserver.com/webapi.php&apos;         });</p>
<h3>debug</h3>
<p>Displays the debug info</p><p>   $yubi-&gt;debug();</p><p>Prints out some debug information.  Useful to be called after authentication to see what Yubico sent back.  You can also call the variables yourself, for example if you'd like to see what the token \s-1ID\s0 is, call $yubi-&gt;{publicid}.  The same goes for all the other variables printed in debug.</p>
<h3>yubikey_webclient</h3>

<h3>otp</h3>
<p>Check a \s-1OTP\s0 for validity</p><p>        $result = $yubi-&gt;otp($otp);</p><p>Call the otp procedure with the input from the yubikey.  It will return the result.</p><p>This function will also setup a few internal variables that was returned from Yubico.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>Before you can use this module, you need to register for an \s-1API\s0 key at Yubico.  This is as simple as logging onto &lt;https://upgrade.yubico.com/getapikey/&gt; and entering your Yubikey's \s-1OTP\s0 and your email address.  Once you have the \s-1API\s0 and \s-1ID\s0, you need to provide those details to the module to work.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Phil Massyn, \*(C`&lt;phil at massyn.net&gt;\*(C'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report any bugs or feature requests to \*(C`bug-auth-yubikey_webclient at rt.cpan.org\*(C', or through the web interface at http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Auth-Yubikey_WebClient &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Auth-Yubikey_WebClient&gt;.  I will be notified, and then you'll automatically be notified of progress on your bug as I make changes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>You can find documentation for this module with the perldoc command.</p><p>    perldoc Auth::Yubikey_WebClient</p><p>You can also look for information at:</p><ul>
<li><p>\s-1RT:\s0 \s-1CPAN\s0's request tracker http://rt.cpan.org/NoAuth/Bugs.html?Dist=Auth-Yubikey_WebClient &lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Auth-Yubikey_WebClient&gt;</p></li><li><p>AnnoCPAN: Annotated \s-1CPAN\s0 documentation http://annocpan.org/dist/Auth-Yubikey_WebClient &lt;http://annocpan.org/dist/Auth-Yubikey_WebClient&gt;</p></li><li><p>\s-1CPAN\s0 Ratings http://cpanratings.perl.org/d/Auth-Yubikey_WebClient &lt;http://cpanratings.perl.org/d/Auth-Yubikey_WebClient&gt;</p></li><li><p>Search \s-1CPAN\s0 http://search.cpan.org/dist/Auth-Yubikey_WebClient &lt;http://search.cpan.org/dist/Auth-Yubikey_WebClient&gt;</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Version history</h2>
        <div class="sectioncontent">
<p>0.04 - Fixed bug &lt;http://rt.cpan.org/Public/Bug/Display.html?id=51121&gt; 1.00 - Added validation of the request to Yubico (Thanks to Kirill Miazine) 2.00 - Added nounce coding (Thanks to Ludvig af Klinteberg) 2.01 - Response turning into an array due to &#92;r bug (Thanks to Peter Norin)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT & LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright 2010 Phil Massyn, all rights reserved.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Auth::Yubikey_Decrypter.3pm.html"><span aria-hidden="true">&larr;</span> Auth::Yubikey_Decrypter.3pm: Decrypting the output from the yubikey token</a></li>
   <li class="next"><a href="AuthCAS.3pm.html">AuthCAS.3pm: Client library for cas 2.0 authentication server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
