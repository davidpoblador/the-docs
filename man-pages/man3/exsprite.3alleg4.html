<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>exsprite: Datafiles access and sprite animation. allegro game programming library.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Datafiles access and sprite animation. allegro game programming library.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="exsprite (3alleg4) manual">
  <meta name="twitter:description" content="Datafiles access and sprite animation. allegro game programming library.">
  <meta name="twitter:image" content="https://www.carta.tech/images/allegro4-doc-exsprite-3alleg4.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3alleg4/exsprite.3alleg4.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="exsprite (3alleg4) manual" />
  <meta property="og:description" content="Datafiles access and sprite animation. allegro game programming library." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/allegro4-doc-exsprite-3alleg4.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">exsprite<small> (3alleg4)</small></h1>
        <p class="lead">Datafiles access and sprite animation. allegro game programming library.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg4/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg4/exsprite.3alleg4.html">
      <span itemprop="name">exsprite: Datafiles access and sprite animation. allegro game programming library.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/allegro4-doc/">
      <span itemprop="name">allegro4-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg4/exsprite.3alleg4.html">
      <span itemprop="name">exsprite: Datafiles access and sprite animation. allegro game programming library.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;allegro.h&gt;</strong></p><p><strong>Example exsprite</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This example demonstrates how to use datafiles, various sprite drawing routines and flicker-free animation.</p><p>Why is the animate() routine coded in that way?  As you probably know, VIDEO RAM is much slower than "normal" RAM, so it's advisable to reduce VRAM blits to a minimum. Drawing sprite on the screen (meaning in VRAM) and then clearing a background for it is not very fast. This example uses a different method which is much faster, but require a bit more memory.</p><p>First the buffer is cleared (it's a normal BITMAP), then the sprite is drawn on it, and when the drawing is finished this buffer is copied directly to the screen. So the end result is that there is a single VRAM blit instead of blitting/clearing the background and drawing a sprite on it.  It's a good method even when you have to restore the background. And of course, it completely removes any flickering effect.</p><p>When one uses a big (ie. 800x600 background) and draws something on it, it's wise to use a copy of background somewhere in memory and restore background using this "virtual background". When blitting from VRAM in SVGA modes, it's probably, that drawing routines have to switch banks on video card. I think, I don't have to remind how slow is it.</p><p>Note that on modern systems, the above isn't true anymore, and you usually get the best performance by caching all your animations in video ram and doing only VRAM-&gt;VRAM blits, so there is no more RAM-&gt;VRAM transfer at all anymore. And usually, such transfers can run in parallel on the graphics card's processor as well, costing virtually no main cpu time at all. See the exaccel example for an example of this.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO exsprite&hellip;</h2>
        <div class="sectioncontent">
<p><strong>BITMAP</strong>(3alleg4), <strong>DATAFILE</strong>(3alleg4), <strong>END_OF_FUNCTION</strong>(3alleg4), <strong>END_OF_MAIN</strong>(3alleg4), <strong>LOCK_FUNCTION</strong>(3alleg4), <strong>LOCK_VARIABLE</strong>(3alleg4), <strong>SCREEN_H</strong>(3alleg4), <strong>SCREEN_W</strong>(3alleg4), <strong>allegro_error</strong>(3alleg4), <strong>allegro_init</strong>(3alleg4), <strong>allegro_message</strong>(3alleg4), <strong>blit</strong>(3alleg4), <strong>circle</strong>(3alleg4), <strong>clear_bitmap</strong>(3alleg4), <strong>clear_keybuf</strong>(3alleg4), <strong>create_bitmap</strong>(3alleg4), <strong>destroy_bitmap</strong>(3alleg4), <strong>draw_sprite</strong>(3alleg4), <strong>draw_sprite_h_flip</strong>(3alleg4), <strong>draw_sprite_v_flip</strong>(3alleg4), <strong>draw_sprite_vh_flip</strong>(3alleg4), <strong>fixed</strong>(3alleg4), <strong>font</strong>(3alleg4), <strong>hline</strong>(3alleg4), <strong>install_int_ex</strong>(3alleg4), <strong>install_keyboard</strong>(3alleg4), <strong>install_sound</strong>(3alleg4), <strong>install_timer</strong>(3alleg4), <strong>itofix</strong>(3alleg4), <strong>key</strong>(3alleg4), <strong>keypressed</strong>(3alleg4), <strong>load_datafile</strong>(3alleg4), <strong>makecol</strong>(3alleg4), <strong>palette_color</strong>(3alleg4), <strong>pivot_sprite</strong>(3alleg4), <strong>pivot_sprite_v_flip</strong>(3alleg4), <strong>play_sample</strong>(3alleg4), <strong>rectfill</strong>(3alleg4), <strong>replace_filename</strong>(3alleg4), <strong>rest</strong>(3alleg4), <strong>screen</strong>(3alleg4), <strong>set_gfx_mode</strong>(3alleg4), <strong>set_palette</strong>(3alleg4), <strong>text_height</strong>(3alleg4), <strong>textout_centre_ex</strong>(3alleg4), <strong>unload_datafile</strong>(3alleg4), <strong>vsync</strong>(3alleg4)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="exspline.3alleg4.html"><span aria-hidden="true">&larr;</span> exspline.3alleg4: Constructing smooth movement paths from spline curves. allegro game programming library.</a></li>
   <li class="next"><a href="exstars.3alleg4.html">exstars.3alleg4: 3d starfield and lightsourced spaceship. allegro game programming library. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
