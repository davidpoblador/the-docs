<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NetApp::Aggregate: Oo class for creating and managing netapp filer aggregates</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Oo class for creating and managing netapp filer aggregates">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="NetApp::Aggregate (3pm) manual">
  <meta name="twitter:description" content="Oo class for creating and managing netapp filer aggregates">
  <meta name="twitter:image" content="https://www.carta.tech/images/libnetapp-perl-NetApp::Aggregate-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/NetApp::Aggregate.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="NetApp::Aggregate (3pm) manual" />
  <meta property="og:description" content="Oo class for creating and managing netapp filer aggregates" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libnetapp-perl-NetApp::Aggregate-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">NetApp::Aggregate<small> (3pm)</small></h1>
        <p class="lead">Oo class for creating and managing netapp filer aggregates</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/NetApp::Aggregate.3pm.html">
      <span itemprop="name">NetApp::Aggregate: Oo class for creating and managing netapp filer aggregates</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libnetapp-perl/">
      <span itemprop="name">libnetapp-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/NetApp::Aggregate.3pm.html">
      <span itemprop="name">NetApp::Aggregate: Oo class for creating and managing netapp filer aggregates</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use NetApp::Filer;
    use NetApp::Aggregate;

    my $filer = NetApp::Filer-&gt;new({ .... });

    my @aggregate_names = $filer-&gt;get_aggregate_names;

    my @aggregates      = $filer-&gt;get_aggregates;

    my $aggregate       = $filer-&gt;get_aggregate( &apos;aggr01&apos; );
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This class encapsulates a single NetApp filer aggregate, and provides methods for querying information about the aggregate and it's sub-objects (eg. volumes), as well as methods for managing the aggregate itself.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTANCE METHODS</h2>
        <div class="sectioncontent">
<h3>General Instance Methods</h3>
<p><em>get_filer</em></p><p>Returns the NetApp::Filer object representing the filer on which the aggregate exists.</p><p><em>get_name</em></p><p>Returns the name of the aggregate as a string.</p><p><em>get_states, get_statuses, get_options</em></p><p>Each of these methods returns a list of strings, each of which represents a single state, status, or option for the aggregate.</p><p>    NOTE: All you English grammar pluralization rules fanatics can     give up trying to convince the author to call that one method     get_stati.</p><p><em>get_state( </em><strong>$state</strong><em> ), get_status( </em><strong>$status</strong><em> ), get_option( </em><strong>$option</strong><em> )</em></p><p>Each of these methods returns the value for the specified state, status or option.  If that particular key wasn't present, then this method will return undef.  This makes it easy to tell the difference between a key that doesn't exist, and one that has a false value.</p><p><em>get_plex</em></p><p>Returns the NetApp::Aggregate::Plex object representing the plex on which the aggregate lives.</p>
<h3>Volume Specific Methods</h3>
<p><em>get_volume_names</em></p><p>Returns a list of the volume names which are contained within this aggregate.</p><p><em>get_volumes</em></p><p>Returns a list of NetApp::Volume objects, each of which represents one of the volumes in the aggregate.</p><p><em>get_volume( </em><strong>$name</strong><em> )</em></p><p>Returns a single NetApp::Volume object representing the specified volume.  If that volume doesn't exist on the aggregate, then a fatal exception is raised.</p><p><em>create_volume( </em><strong>%args</strong><em> )</em></p><p>This method creates a flexible volume in the aggregate, and returns the NetApp::Volume object representing the new volume.  The arguments are as follows.  All values are simple strings, unless otherwise noted.</p><p>    $aggregate-&gt;create_volume(         # Required arguments         name            =&gt; $name,         size            =&gt; $size,         # Optional arguments         space           =&gt; &apos;none&apos; | &apos;file&apos; | &apos;volume&apos;,         language        =&gt; $language,         source_filer    =&gt; $source_filer,         source_volume   =&gt; $source_volume,     );</p><p>Both the source_filer and source_volume arguments must be given when creating a flexcache volume.</p><p>The space and language arguments may not be specified with the source_filer/source_volume arguments.</p><p><em>destroy_volume( </em><strong>%args</strong><em> )</em></p><p>Destroys the specified volume.  Note that since this \s-1API\s0 is not designed to be used interactively, the -f (force) argument is always used.  Be sure you really want to destroy the volume, programatically.</p><p>    $aggregate-&gt;destroy_volume(         # Required argument         name            =&gt; $name,     );</p><p>The $name must be a string, and it must be one of the volumes in the $aggregate.</p>
<h3>Qtree Specific Methods</h3>
<p><em>get_qtree_names</em></p><p>Returns a list of strings, each of which is the name of a qtree on the aggregate.</p><p><em>get_qtrees</em></p><p>Returns a list of NetApp::Qtree objects, each of which represents a single qtree on the aggregate.</p><p><em>get_qtree( </em><strong>$name</strong><em> )</em></p><p>Returns a single NetApp::Qtree object for the specified qtree name. The name must in the form of a pathname, for example:</p><p>    /vol/volume_name/qtree_name</p><p>The qtree_name is optional if querying the object for a volume's qtree.  This method simply returns nothing if the specified qtree doesn't exist on the aggregate.</p>
<h3>Snapshot Specific Methods</h3>
<p><em>get_snapshots</em></p><p>Returns a list of NetApp::Snapshot objects for each of the snapshots of the aggregate.</p><p><em>get_snapshot( </em><strong>$name</strong><em> )</em></p><p>Returns a single NetApp::Snapshot object matching the specified name, if it exists for the aggregate.</p><p><em>create_snapshot( </em><strong>$name</strong><em> )</em></p><p>Creates a snapshot of the aggregate with the specified name.</p><p><em>delete_snapshot( </em><strong>$name</strong><em> )</em></p><p>Deletes a snapshot of the aggregate with the specified name.</p><p><em>get_snapshot_deltas</em></p><p>Returns a list of NetApp::Snapshot::Delta objects for each snapshot delta for the aggregate.</p><p><em>get_snapshot_reserved</em></p><p>Returns a string representing the amount of reserved space, as a percentage.  This string does \s-1NOT\s0 include the % sign.</p><p><em>set_snapshot_reserved( </em><strong>$percentage</strong><em> )</em></p><p>Sets the snapshot reserved space to the specified percentage, which should also \s-1NOT\s0 include the % sign.</p><p><em>get_snapshot_schedule</em></p><p>Returns a NetApp::Snapshot::Schedule object representing the snapshot schedule for the aggregate.</p><p><em>set_snapshot_schedule( </em><strong>%args</strong><em> )</em></p><p>Sets the snapshot schedule for the aggregate based on the arguments passed.  The argument syntax is:</p><p>    $aggregate-&gt;set_snapshot_schedule(         weekly          =&gt; $weekly,         daily           =&gt; $daily,         hourly          =&gt; $hourly,         hourlist        =&gt; [             $hour1, $hour2, $hour3, ....         ],     );</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO BE IMPLEMENTED</h2>
        <div class="sectioncontent">
<p>\s-1NOTE:\s0 Currently, all of the following methods have yet to be implemented, but will be soon.  This documentation serves as a guideline for how to implement the perl \s-1API\s0 for each associates \s-1CLI\s0 function.</p><h3>NetApp::Aggregate-&gt;create( ... )</h3>
<p>    my $aggregate       = NetApp::Aggregate-&gt;create(         # Required arguments         filer           =&gt; $filer,      # NetApp::Filer object         name            =&gt; $aggregate_name,         # Required but mutually exclusive arguments         # Either &apos;disks&apos; OR &apos;diskcount and/or disksize&apos;         disks           =&gt; [                              [ $disk1, $disk2, .... ],                              [ $diskn, $diskn+1, .... ],                            ],         diskcount       =&gt; $diskcount,         disksize        =&gt; $disksize,         # Optional arguments         raidtype        =&gt; &apos;raid0&apos; | &apos;raid4&apos; | &apos;raid-dp&apos;,         raidsize        =&gt; $raidsize,         disktype        =&gt; &apos;ATA&apos; | &apos;FCAL&apos; | &apos;LUN&apos; | &apos;SAS&apos; | &apos;SATA&apos; | &apos;SCSI&apos;,         rpm             =&gt; $rpm,         mirrored        =&gt; $boolean,     );     $aggregate-&gt;add(         # Required arguments         name            =&gt; $aggregate_name,         # Required but mutually exclusive arguments         # Either &apos;disks&apos; OR &apos;diskcount and/or disksize&apos;         disks           =&gt; [                              [ $disk1, $disk2, .... ],                              [ $diskn, $diskn+1, .... ],                            ],         diskcount       =&gt; $diskcount,         disksize        =&gt; $disksize,         # Optional arguments         raidgroup       =&gt; $raidgroup,         force           =&gt; 1,     ); \s-1NOTE:\s0 This always uses the -force option, since this \s-1API\s0 is not interactive.     $aggregate-&gt;offline(         # Optional arguments         cifsdelaytime   =&gt; $cifsdelaytime,     ); \s-1NOTE:\s0 It is unclear whether or not we should always imply -f (force =&gt; 1), or whether we should treat the prompted scenario as an error, and raise an exception.  Since forcing an aggregate online can result in data loss when -f is used, perhaps we should force that state to be cleaned up first.     $aggregate-&gt;restrict(         # Optional arguments         cifsdelaytime   =&gt; $cifsdelaytime,     );</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Net::xAP.3pm.html"><span aria-hidden="true">&larr;</span> Net::xAP.3pm: A base class for protocols such as imap, acap, imsp, and icap.</a></li>
   <li class="next"><a href="NetApp::Aggregate::Plex.3pm.html">NetApp::Aggregate::Plex.3pm: Oo class for representing netapp plexes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
