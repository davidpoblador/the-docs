<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tenjin::Template: A tenjin template object, either built from a file or from memory.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A tenjin template object, either built from a file or from memory.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Tenjin::Template (3pm) manual">
  <meta name="twitter:description" content="A tenjin template object, either built from a file or from memory.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtenjin-perl-Tenjin::Template-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Tenjin::Template.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Tenjin::Template (3pm) manual" />
  <meta property="og:description" content="A tenjin template object, either built from a file or from memory." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtenjin-perl-Tenjin::Template-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Tenjin::Template<small> (3pm)</small></h1>
        <p class="lead">A tenjin template object, either built from a file or from memory.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tenjin::Template.3pm.html">
      <span itemprop="name">Tenjin::Template: A tenjin template object, either built from a file or from memory.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtenjin-perl/">
      <span itemprop="name">libtenjin-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tenjin::Template.3pm.html">
      <span itemprop="name">Tenjin::Template: A tenjin template object, either built from a file or from memory.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 0.070001</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        # mostly used internally, but you can manipulate
        # templates like so

        my $template = Tenjin::Template-&gt;new(&apos;/path/to/templates/template.html&apos;);
        my $context = { scalar =&gt; &apos;scalar&apos;, arrayref =&gt; [&apos;one&apos;, 2, "3"] };
        $template-&gt;render($context);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module is in charge of the task of compiling Tenjin templates. Templates in Tenjin are compiled into standard Perl code (combined with any Perl code used inside the templates themselves). Rendering a template means \*(C`eval\*(C'uating that Perl code and returning its output.</p><p>The Tenjin engine reads a template file or a template string, and creates a Template object from it. Then the object compiles itself by traversing the template, parsing Tenjin macros like 'include' and 'start_capture', replaces Tenjin expressions (i.e. \*(C`[== $expr =]\*(C' or \*(C`[= $expr =]\*(C') with the appropriate Perl code, etc. This module ties a template object with a context object, but all context manipulation (and the actual \*(C`eval\*(C'uation of the Perl code) is done by Tenjin::Context.</p><p>If you're planning on using this module by itself (i.e. without the Tenjin engine), keep in mind that template caching and layout templates are not handled by this module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>new( [$filename, &#92;%opts] )</h3>
<p>Creates a new Tenjin::Template object, possibly from a file on the file system (in which case $filename must be provided and be an absolute path to a template file). Optionally, a hash-ref of options can be passed to set some customizations. Available options are 'escapefunc', which will be in charge of escaping expressions (from \*(C`[= $expr =]\*(C') instead of the internal method (which uses HTML::Entities); and 'rawclass', which can be used to prevent variables and objects of a certain class from being escaped, in which case the variable must be a hash-ref that has a key named 'str', which will be used instead. So, for example, if you have a variable named $var which is a hash-ref, and 'rawclass' is set as '\s-1HASH\s0', then writing \*(C`[= $var =]\*(C' on your templates will replace $var with \*(C`$var-&gt;{str}\*(C'.</p>
<h3>render( [$_context] )</h3>
<p>Renders the template, possibly with a context hash-ref, and returns the rendered output. If errors have occured when rendering the template (which might happen since templates have and are Perl code), then this method will croak.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERNAL METHODS</h2>
        <div class="sectioncontent">
<p>Receives an absolute path to a template file, converts that file to Perl code by calling <em>convert()</em> and returns that code. Receives a text of a template (i.e. the template itself) and possibly an absolute path to the template file (if the template comes from a file), and converts the template into Perl code, which is later \*(C`eval\*(C'uated for rendering. Conversion is done by parsing the statements in the template (see <em>parse_stmt()</em>). Receives a string which denotes the Perl code delimiter which is used inside templates. Tenjin uses '\*(C`&lt;?pl ... ?&gt;\*(C'' and '\*(C`&lt;?PL ... ?&gt;\*(C'' (the latter for preprocessing), so $pl will be 'pl'. This method returns a tranlsation regular expression which will be used for reading embedded Perl code.</p><h3>stmt_pattern</h3>
<p>Returns the default pattern (which uses 'pl') with the previous_method.</p>
<h3>\fIexpr_pattern()\fP</h3>
<p>Defines how expressions are written in Tenjin templates (\*(C`[== $expr =]\*(C' and \*(C`[= $expr =]\*(C'). Receives a buffer which is used for saving a template's expressions and the template's text, parses all expressions in the templates and pushes them to the buffer. This method is in charge of invoking macro functions which might be used inside templates. The following macros are available:</p><ul>
<li><p>\*(C`include( $filename )\*(C' Includes another template, whose name is $filename, inside the current template. The included template will be placed inside the template as if they were one unit, so the context variable applies to both.</p></li><li><p>\*(C`start_capture( $name )\*(C' and \*(C`end_capture()\*(C' Tells Tenjin to capture the output of the rendered template from the point where \*(C`start_capture()\*(C' was called to the point where \*(C`end_capture()\*(C' was called. You must provide a name for the captured portion, which will be made available in the context as \*(C`$_context-&gt;{$name}\*(C' for immediate usage. Note that the captured portion will not be printed unless you do so explicilty with \*(C`$_context-&gt;{$name}\*(C'.</p></li><li><p>\*(C`start_placeholder( $var )\*(C' and \*(C`end_placeholder()\*(C' This is a special method which can be used for making your templates a bit cleaner. Suppose your context might have a variable whose name is defined in $var. If that variable exists in the context, you simply want to print it, but if it's not, you want to print and/or perform other things. In that case you can call \*(C`start_placeholder( $var )\*(C' with the name of the context variable you want printed, and if it's not, anything you do between \*(C`start_placeholder()\*(C' and \*(C`end_placeholder()\*(C' will be printed instead.</p></li><li><p>echo( $exr ) Just prints the provided expression. You might want to use it if you're a little too comfortable with \s-1PHP\s0.</p></li>
</ul>
<h3>\fIcompile()\fP</h3>
<p>Receives a Perl expression (from \*(C`[= $expr =]\*(C') and escapes it. This will happen in one of three ways: with the escape function defined in \*(C`$opts-&gt;{escapefunc}\*(C' (if defined), with a scalar string (if \*(C`$opts-&gt;{rawclass}\*(C' is defined), or with \*(C`escape_xml()\*(C' from Tenjin::Util, which uses HTML::Entites. Receives an absolute path to a template file, reads its content and returns it. If $lock_required is passed (and has a true value), the file will be locked for reading. Receives an absolute path to a template file and the templates contents, and creates the file (or truncates it, if existing) with that contents. If $lock_required is passed (and has a true value), the file will be locked exclusively when writing.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Tenjin::Template&hellip;</h2>
        <div class="sectioncontent">
<p>Tenjin.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The \s-1CPAN\s0 version of Tenjin was forked by Ido Perlmuter &lt;ido at ido50.net&gt; from version 0.0.2 of the original plTenjin, which is developed by Makoto Kuwata at http://www.kuwata-lab.com/tenjin/ &lt;http://www.kuwata-lab.com/tenjin/&gt;.</p><p>Development of Tenjin is done with github at &lt;http://github.com/ido50/Tenjin&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Tenjin is licensed under the \s-1MIT\s0 license.</p><p>        Copyright (c) 2007-2010 the aforementioned authors.</p><p>        Permission is hereby granted, free of charge, to any person obtaining         a copy of this software and associated documentation files (the         "Software"), to deal in the Software without restriction, including         without limitation the rights to use, copy, modify, merge, publish,         distribute, sublicense, and/or sell copies of the Software, and to         permit persons to whom the Software is furnished to do so, subject to         the following conditions:</p><p>        The above copyright notice and this permission notice shall be         included in all copies or substantial portions of the Software.</p><p>        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,         EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF         MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND         NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE         LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION         OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION         WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Tenjin::Preprocessor.3pm.html"><span aria-hidden="true">&larr;</span> Tenjin::Preprocessor.3pm: Preprocessing tenjin templates</a></li>
   <li class="next"><a href="Tenjin::Util.3pm.html">Tenjin::Util.3pm: Utility methods for tenjin. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
