<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Class::MakeMethods::Composite::Hash: Composite hash methods</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Composite hash methods">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Class::MakeMethods::Composite::Hash (3pm) manual">
  <meta name="twitter:description" content="Composite hash methods">
  <meta name="twitter:image" content="https://www.carta.tech/images/libclass-makemethods-perl-Class::MakeMethods::Composite::Hash-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Class::MakeMethods::Composite::Hash.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Class::MakeMethods::Composite::Hash (3pm) manual" />
  <meta property="og:description" content="Composite hash methods" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libclass-makemethods-perl-Class::MakeMethods::Composite::Hash-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Class::MakeMethods::Composite::Hash<small> (3pm)</small></h1>
        <p class="lead">Composite hash methods</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MakeMethods::Composite::Hash.3pm.html">
      <span itemprop="name">Class::MakeMethods::Composite::Hash: Composite hash methods</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libclass-makemethods-perl/">
      <span itemprop="name">libclass-makemethods-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MakeMethods::Composite::Hash.3pm.html">
      <span itemprop="name">Class::MakeMethods::Composite::Hash: Composite hash methods</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  package MyObject;
  use Class::MakeMethods::Composite::Hash (
    new =&gt; &apos;new&apos;,
    scalar =&gt; [ &apos;foo&apos;, &apos;bar&apos; ],
    array =&gt; &apos;my_list&apos;,
    hash =&gt; &apos;my_index&apos;,
  );
  ...

  my $obj = MyObject-&gt;new( foo =&gt; &apos;Foozle&apos; );
  print $obj-&gt;foo();

  $obj-&gt;bar(&apos;Barbados&apos;);
  print $obj-&gt;bar();

  $obj-&gt;my_list(0 =&gt; &apos;Foozle&apos;, 1 =&gt; &apos;Bang!&apos;);
  print $obj-&gt;<strong>my_list</strong>(1);

  $obj-&gt;my_index(&apos;broccoli&apos; =&gt; &apos;Blah!&apos;, &apos;foo&apos; =&gt; &apos;Fiddle&apos;);
  print $obj-&gt;my_index(&apos;foo&apos;);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The Composite::Hash suclass of MakeMethods provides a basic constructor and accessors for blessed-hash object instances.</p><h3>Class::MakeMethods Calling Interface</h3>
<p>When you \*(C`use\*(C' this package, the method declarations you provide as arguments cause subroutines to be generated and installed in your module.</p><p>You can also omit the arguments to \*(C`use\*(C' and instead make methods at runtime by passing the declarations to a subsequent call to \*(C`make()\*(C'.</p><p>You may include any number of declarations in each call to \*(C`use\*(C' or \*(C`make()\*(C'. If methods with the same name already exist, earlier calls to \*(C`use\*(C' or \*(C`make()\*(C' win over later ones, but within each call, later declarations superceed earlier ones.</p><p>You can install methods in a different package by passing \*(C`-TargetClass =&gt; <strong>package\*(C'</strong> as your first arguments to \*(C`use\*(C' or \*(C`make\*(C'.</p><p>See Class::MakeMethods for more details.</p>
<h3>Class::MakeMethods::Basic Declaration Syntax</h3>
<p>The following types of Basic declarations are supported:</p><ul>
<li><p><em>generator_type</em> =&gt; "<em>method_name</em>"</p></li><li><p><em>generator_type</em> =&gt; "<em>name_1</em> <em>name_2</em>..."</p></li><li><p><em>generator_type</em> =&gt; [ "<em>name_1</em>\*(L", \*(R"<em>name_2</em>", ...]</p></li>
</ul><p>See the \*(L"\s-1METHOD\s0 \s-1GENERATOR\s0 \s-1TYPES\s0\*(R" section below for a list of the supported values of <em>generator_type</em>.</p><p>For each method name you provide, a subroutine of the indicated type will be generated and installed under that name in your module.</p><p>Method names should start with a letter, followed by zero or more letters, numbers, or underscores.</p>
<h3>Class::MakeMethods::Composite Declaration Syntax</h3>
<p>The Composite syntax also provides several ways to optionally associate a hash of additional parameters with a given method name.</p><ul>
<li><p><em>generator_type</em> =&gt; [ "<em>name_1</em>" =&gt; { <em>param</em>=&gt;<em>value</em>... }, ... ] A hash of parameters to use just for this method name. (Note: to prevent confusion with self-contained definition hashes, described below, parameter hashes following a method name must not contain the key 'name'.)</p></li><li><p><em>generator_type</em> =&gt; [ [ "<em>name_1</em>\*(L", \*(R"<em>name_2</em>", ... ] =&gt; { <em>param</em>=&gt;<em>value</em>... } ] Each of these method names gets a copy of the same set of parameters.</p></li><li><p><em>generator_type</em> =&gt; [ { \*(L"name\*(R"=&gt;"<em>name_1</em>", <em>param</em>=&gt;<em>value</em>... }, ... ] By including the reserved parameter \*(C`name\*(C', you create a self-contained declaration with that name and any associated hash values.</p></li>
</ul><p>Basic declarations, as described above, are given an empty parameter hash.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHOD GENERATOR TYPES</h2>
        <div class="sectioncontent">
<h3>new - Constructor</h3>
<p>For each method name passed, returns a subroutine with the following characteristics:</p><ul>
<li><p>Has a reference to a sample item to copy. This defaults to a reference to an empty hash, but you may override this with the \*(C`&apos;defaults&apos; =&gt; <strong>hash_ref\*(C'</strong>  method parameter.</p></li><li><p>If called as a class method, makes a new hash and blesses it into that class.</p></li><li><p>If called on a hash-based instance, makes a copy of it and blesses the copy into the same class as the original instance.</p></li><li><p>If passed a list of key-value pairs, appends them to the new hash. These arguments override any copied values, and later arguments with the same name will override earlier ones.</p></li><li><p>Returns the new instance.</p></li>
</ul><p>Sample declaration and usage:</p><p>  package MyObject;   use Class::MakeMethods::Composite::Hash (     new =&gt; &apos;new&apos;,   );   ...</p><p>  # Bare constructor   my $empty = MyObject-&gt;new();</p><p>  # Constructor with initial values   my $obj = MyObject-&gt;new( foo =&gt; &apos;Foozle&apos;, bar =&gt; &apos;Barbados&apos; );</p><p>  # Copy with overriding value   my $copy = $obj-&gt;new( bar =&gt; &apos;Bob&apos; );</p>
<h3>new --with_values - Constructor</h3>
<p>For each method name passed, returns a subroutine with the following characteristics:</p><ul>
<li><p>May be called as a class method, or (equivalently) on any existing object of that class.</p></li><li><p>Creates a hash, blesses it into the class, and returns the new instance.</p></li><li><p>If no arguments are provided, the returned hash will be empty. If passed a single hash-ref argument, copies its contents into the new hash. If called with multiple arguments, treats them as key-value pairs, and copies them into the new hash. (Note that this is a \*(L"shallow\*(R" copy, not a \*(L"deep\*(R" clone.)</p></li>
</ul>
<h3>scalar - Instance Accessor</h3>
<p>For each method name passed, uses a closure to generate a subroutine with the following characteristics:</p><ul>
<li><p>Must be called on a hash-based instance.</p></li><li><p>Has a specific hash key to use to access the related value for each instance. This defaults to the method name, but you may override this with the \*(C`&apos;hash_key&apos; =\*(C' <em>string</em>&gt; method parameter.</p></li><li><p>If called without any arguments returns the current value.</p></li><li><p>If called with an argument, stores that as the value, and returns it.</p></li><li><p>If called with multiple arguments, stores a reference to a new array with those arguments as contents, and returns that array reference.</p></li>
</ul><p>Sample declaration and usage:</p><p>  package MyObject;   use Class::MakeMethods::Composite::Hash (     scalar =&gt; &apos;foo&apos;,   );   ...</p><p>  # Store value   $obj-&gt;foo(&apos;Foozle&apos;);</p><p>  # Retrieve value   print $obj-&gt;foo;</p>
<h3>array - Instance Ref Accessor</h3>
<p>For each method name passed, uses a closure to generate a subroutine with the following characteristics:</p><ul>
<li><p>Must be called on a hash-based instance.</p></li><li><p>Has a specific hash key to use to access the related value for each instance. This defaults to the method name, but you may override this with the \*(C`&apos;hash_key&apos; =\*(C' <em>string</em>&gt; method parameter.</p></li><li><p>The value for each instance will be a reference to an array (or undef).</p></li><li><p>If called without any arguments, returns the current array-ref value (or undef).</p></li><li><p>If called with a single non-ref argument, uses that argument as an index to retrieve from the referenced array, and returns that value (or undef).</p></li><li><p>If called with a single array ref argument, uses that list to return a slice of the referenced array.</p></li><li><p>If called with a list of argument pairs, each with a non-ref index and an associated value, stores the value at the given index in the referenced array. If the instance's value was previously undefined, a new array is autovivified. The current value in each position will be overwritten, and later arguments with the same index will override earlier ones. Returns the current array-ref value.</p></li><li><p>If called with a list of argument pairs, each with the first item being a reference to an array of up to two numbers, loops over each pair and uses those numbers to splice the value array. The first controlling number is the position at which the splice will begin. Zero will start before the first item in the list. Negative numbers count backwards from the end of the array. The second number is the number of items to be removed from the list. If it is omitted, or undefined, or zero, no items are removed. If it is a positive integer, that many items will be returned. If both numbers are omitted, or are both undefined, they default to containing the entire value array. If the second argument is undef, no values will be inserted; if it is a non-reference value, that one value will be inserted; if it is an array-ref, its values will be copied. The method returns the items that removed from the array, if any.</p></li>
</ul><p>Sample declaration and usage:</p><p>  package MyObject;   use Class::MakeMethods::Composite::Hash (     array =&gt; &apos;bar&apos;,   );   ...</p><p>  # Clear and set contents of list   print $obj-&gt;bar([ &apos;Spume&apos;, &apos;Frost&apos; ] );</p><p>  # Set values by position   $obj-&gt;bar(0 =&gt; &apos;Foozle&apos;, 1 =&gt; &apos;Bang!&apos;);</p><p>  # Positions may be overwritten, and in any order   $obj-&gt;bar(2 =&gt; &apos;And Mash&apos;, 1 =&gt; &apos;Blah!&apos;);</p><p>  # Retrieve value by position   print $obj-&gt;<a href="../man1/bar.1.html"><strong>bar</strong>(1)</a>;</p><p>  # Direct access to referenced array   print scalar @{ $obj-&gt;bar() };</p><p>There are also calling conventions for slice and splice operations:</p><p>  # Retrieve slice of values by position   print join(&apos;, &apos;, $obj-&gt;bar( undef, [0, 2] ) );</p><p>  # Insert an item at position in the array   $obj-&gt;bar([3], &apos;Potatoes&apos; );</p><p>  # Remove 1 item from position 3 in the array   $obj-&gt;bar([3, 1], undef );</p><p>  # Set a new value at position 2, and return the old value   print $obj-&gt;bar([2, 1], &apos;Froth&apos; );</p>
<h3>hash - Instance Ref Accessor</h3>
<p>For each method name passed, uses a closure to generate a subroutine with the following characteristics:</p><ul>
<li><p>Must be called on a hash-based instance.</p></li><li><p>Has a specific hash key to use to access the related value for each instance. This defaults to the method name, but you may override this with the \*(C`&apos;hash_key&apos; =\*(C' <em>string</em>&gt; method parameter.</p></li><li><p>The value for each instance will be a reference to a hash (or undef).</p></li><li><p>If called without any arguments, returns the contents of the hash in list context, or a hash reference in scalar context (or undef).</p></li><li><p>If called with one non-ref argument, uses that argument as an index to retrieve from the referenced hash, and returns that value (or undef).</p></li><li><p>If called with one array-ref argument, uses the contents of that array to retrieve a slice of the referenced hash.</p></li><li><p>If called with one hash-ref argument, sets the contents of the referenced hash to match that provided.</p></li><li><p>If called with a list of key-value pairs, stores the value under the given key in the referenced hash. If the instance's value was previously undefined, a new hash is autovivified. The current value under each key will be overwritten, and later arguments with the same key will override earlier ones. Returns the contents of the hash in list context, or a hash reference in scalar context.</p></li>
</ul><p>Sample declaration and usage:</p><p>  package MyObject;   use Class::MakeMethods::Composite::Hash (     hash =&gt; &apos;baz&apos;,   );   ...</p><p>  # Set values by key   $obj-&gt;baz(&apos;foo&apos; =&gt; &apos;Foozle&apos;, &apos;bar&apos; =&gt; &apos;Bang!&apos;);</p><p>  # Values may be overwritten, and in any order   $obj-&gt;baz(&apos;broccoli&apos; =&gt; &apos;Blah!&apos;, &apos;foo&apos; =&gt; &apos;Fiddle&apos;);</p><p>  # Retrieve value by key   print $obj-&gt;baz(&apos;foo&apos;);</p><p>  # Retrive slice of values by position   print join(&apos;, &apos;, $obj-&gt;baz( [&apos;foo&apos;, &apos;bar&apos;] ) );</p><p>  # Direct access to referenced hash   print keys %{ $obj-&gt;baz() };</p><p>  # Reset the hash contents to empty   @{ $obj-&gt;baz() } = ();</p>
<h3>object - Instance Ref Accessor</h3>
<p>For each method name passed, uses a closure to generate a subroutine with the following characteristics:</p><ul>
<li><p>Must be called on a hash-based instance.</p></li><li><p>Has a specific hash key to use to access the related value for each instance. This defaults to the method name, but you may override this with the \*(C`&apos;hash_key&apos; =\*(C' <em>string</em>&gt; method parameter.</p></li><li><p>The value for each instance will be a reference to an object (or undef).</p></li><li><p>If called without any arguments returns the current value.</p></li><li><p>If called with an argument, stores that as the value, and returns it,</p></li>
</ul><p>Sample declaration and usage:</p><p>  package MyObject;   use Class::MakeMethods::Composite::Hash (     object =&gt; &apos;foo&apos;,   );   ...</p><p>  # Store value   $obj-&gt;foo( Foozle-&gt;new() );</p><p>  # Retrieve value   print $obj-&gt;foo;</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Class::MakeMethods::Composite::Hash&hellip;</h2>
        <div class="sectioncontent">
<p>See Class::MakeMethods for general information about this distribution.</p><p>See Class::MakeMethods::Composite for more about this family of subclasses.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Class::MakeMethods::Composite::Global.3pm.html"><span aria-hidden="true">&larr;</span> Class::MakeMethods::Composite::Global.3pm: Global data</a></li>
   <li class="next"><a href="Class::MakeMethods::Composite::Inheritable.3pm.html">Class::MakeMethods::Composite::Inheritable.3pm: Overridable data <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
