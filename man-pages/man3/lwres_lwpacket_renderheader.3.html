<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lwres_lwpacket_renderheader: Lightweight resolver packet handling functions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lightweight resolver packet handling functions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lwres_lwpacket_renderheader (3) manual">
  <meta name="twitter:description" content="Lightweight resolver packet handling functions">
  <meta name="twitter:image" content="https://www.carta.tech/images/libbind-dev-lwres_lwpacket_renderheader-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/lwres_lwpacket_renderheader.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lwres_lwpacket_renderheader (3) manual" />
  <meta property="og:description" content="Lightweight resolver packet handling functions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libbind-dev-lwres_lwpacket_renderheader-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lwres_lwpacket_renderheader<small> (3)</small></h1>
        <p class="lead">Lightweight resolver packet handling functions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/lwres_lwpacket_renderheader.3.html">
      <span itemprop="name">lwres_lwpacket_renderheader: Lightweight resolver packet handling functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libbind-dev/">
      <span itemprop="name">libbind-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/lwres_lwpacket_renderheader.3.html">
      <span itemprop="name">lwres_lwpacket_renderheader: Lightweight resolver packet handling functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;lwres/lwpacket.h&gt;
</pre>
<p><strong>lwres_result_t lwres_lwpacket_renderheader(lwres_buffer_t&nbsp;*</strong><em>b</em><strong>, lwres_lwpacket_t&nbsp;*</strong><em>pkt</em><strong>);</strong> <strong>lwres_result_t lwres_lwpacket_parseheader(lwres_buffer_t&nbsp;*</strong><em>b</em><strong>, lwres_lwpacket_t&nbsp;*</strong><em>pkt</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>These functions rely on a <strong>struct lwres_lwpacket</strong> which is defined in <em>lwres/lwpacket.h</em>.</p>
<pre>
typedef struct lwres_lwpacket lwres_lwpacket_t;
</pre>

<pre>
struct lwres_lwpacket {
        lwres_uint32_t          length;
        lwres_uint16_t          version;
        lwres_uint16_t          pktflags;
        lwres_uint32_t          serial;
        lwres_uint32_t          opcode;
        lwres_uint32_t          result;
        lwres_uint32_t          recvlength;
        lwres_uint16_t          authtype;
        lwres_uint16_t          authlength;
};
</pre>
<p>The elements of this structure are:</p><p><strong>length</strong></p><p>the overall packet length, including the entire packet header. This field is filled in by the lwres_gabn_*() and lwres_gnba_*() calls.</p><p><strong>version</strong></p><p>the header format. There is currently only one format, <strong>LWRES_LWPACKETVERSION_0</strong>. This field is filled in by the lwres_gabn_*() and lwres_gnba_*() calls.</p><p><strong>pktflags</strong></p><p>library-defined flags for this packet: for instance whether the packet is a request or a reply. Flag values can be set, but not defined by the caller. This field is filled in by the application wit the exception of the LWRES_LWPACKETFLAG_RESPONSE bit, which is set by the library in the lwres_gabn_*() and lwres_gnba_*() calls.</p><p><strong>serial</strong></p><p>is set by the requestor and is returned in all replies. If two or more packets from the same source have the same serial number and are from the same source, they are assumed to be duplicates and the latter ones may be dropped. This field must be set by the application.</p><p><strong>opcode</strong></p><p>indicates the operation. Opcodes between 0x00000000 and 0x03ffffff are reserved for use by the lightweight resolver library. Opcodes between 0x04000000 and 0xffffffff are application defined. This field is filled in by the lwres_gabn_*() and lwres_gnba_*() calls.</p><p><strong>result</strong></p><p>is only valid for replies. Results between 0x04000000 and 0xffffffff are application defined. Results between 0x00000000 and 0x03ffffff are reserved for library use. This field is filled in by the lwres_gabn_*() and lwres_gnba_*() calls.</p><p><strong>recvlength</strong></p><p>is the maximum buffer size that the receiver can handle on requests and the size of the buffer needed to satisfy a request when the buffer is too large for replies. This field is supplied by the application.</p><p><strong>authtype</strong></p><p>defines the packet level authentication that is used. Authorisation types between 0x1000 and 0xffff are application defined and types between 0x0000 and 0x0fff are reserved for library use. Currently these are not used and must be zero.</p><p><strong>authlen</strong></p><p>gives the length of the authentication data. Since packet authentication is currently not used, this must be zero.</p><p>The following opcodes are currently defined:</p><p><strong>NOOP</strong></p><p>Success is always returned and the packet contents are echoed. The lwres_noop_*() functions should be used for this type.</p><p><strong>GETADDRSBYNAME</strong></p><p>returns all known addresses for a given name. The lwres_gabn_*() functions should be used for this type.</p><p><strong>GETNAMEBYADDR</strong></p><p>return the hostname for the given address. The lwres_gnba_*() functions should be used for this type.</p><p><strong>lwres_lwpacket_renderheader()</strong> transfers the contents of lightweight resolver packet structure <strong>lwres_lwpacket_t</strong> <em>*pkt</em> in network byte order to the lightweight resolver buffer, <em>*b</em>.</p><p><strong>lwres_lwpacket_parseheader()</strong> performs the converse operation. It transfers data in network byte order from buffer <em>*b</em> to resolver packet <em>*pkt</em>. The contents of the buffer <em>b</em> should correspond to a <strong>lwres_lwpacket_t</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>Successful calls to <strong>lwres_lwpacket_renderheader()</strong> and <strong>lwres_lwpacket_parseheader()</strong> return <strong>LWRES_R_SUCCESS</strong>. If there is insufficient space to copy data between the buffer <em>*b</em> and lightweight resolver packet <em>*pkt</em> both functions return <strong>LWRES_R_UNEXPECTEDEND</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2004, 2005, 2007 Internet Systems Consortium, Inc. ("ISC")</p><p>Copyright &copy; 2000, 2001 Internet Software Consortium.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lwres_lwpacket_parseheader.3.html"><span aria-hidden="true">&larr;</span> lwres_lwpacket_parseheader.3: Lightweight resolver packet handling functions</a></li>
   <li class="next"><a href="lwres_net_ntop.3.html">lwres_net_ntop.3: Lightweight resolver ip address presentation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
