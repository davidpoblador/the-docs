<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Class::Default: Static calls apply to a default instantiation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Static calls apply to a default instantiation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Class::Default (3pm) manual">
  <meta name="twitter:description" content="Static calls apply to a default instantiation">
  <meta name="twitter:image" content="https://www.carta.tech/images/libclass-default-perl-Class::Default-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Class::Default.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Class::Default (3pm) manual" />
  <meta property="og:description" content="Static calls apply to a default instantiation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libclass-default-perl-Class::Default-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Class::Default<small> (3pm)</small></h1>
        <p class="lead">Static calls apply to a default instantiation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::Default.3pm.html">
      <span itemprop="name">Class::Default: Static calls apply to a default instantiation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libclass-default-perl/">
      <span itemprop="name">libclass-default-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::Default.3pm.html">
      <span itemprop="name">Class::Default: Static calls apply to a default instantiation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  # Create the defaulted class
  package Foo::Base;
</pre>
<p>  use base &apos;Class::Default&apos;;</p><p>  sub new { bless {}, $_[0] }</p><p>  sub show {       my $self = shift-&gt;_self;       "$self";   }</p><p>  # Do something to the default object</p><p>  package main;</p><p>  print Foo::Bar-&gt;show;</p><p>  # Prints &apos;Foo::Bar=HASH(0x80d22f8)&apos;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Class::Default provides a mechanism to allow your class to take static method calls and apply it to a default instantiation of an object. It provides a flexibility to an \s-1API\s0 that allows it to be used more confortably in different situations.</p><p>A good example of this technique in use is \s-1CGI\s0.pm. When you use a static method, like \*(C`CGI-\*(C'header&gt;, your call is being applied to a default instantiation of a \s-1CGI\s0 object.</p><p>This technique appears to be especially usefull when writing modules that you want to be used in either a single use or a persistant environment. In a \s-1CGI\s0 like environment, you want the simplicity of a static interface. You can call \*(C`Class-\*(C'method&gt; directly, without having to pass an instantiation around constantly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING THE MODULES</h2>
        <div class="sectioncontent">
<p>Class::Default provides a couple of levels of control. They start with simple enabling the method to apply to the default instantation, and move on to providing some level of control over the creation of the default object.</p><p><strong>&#92;$1</strong></p><p>To start, you will need to inherit from Class::Default. You do this in the normal manner, using something like \*(C`use base 'Class::Default'\*(C', or setting the @ISA value directly. \*(C`Class::Default\*(C' does not have a default constructor or any public methods, so you should be able to use it a multiple inheritance situation without any implications. To make your class work with Class::Default you need to make a small adjustment to each method that you would like to be able to access the default object.</p><p>A typical method will look something like the following</p><p>  sub foobar {       my $self = shift;</p><p>      # Do whatever the method does   }</p><p>To make the method work with Class::Default, you should change it to the following</p><p>  sub foobar {       my $self = shift-&gt;_self;</p><p>      # Do whatever the method does   }</p><p>This change is very low impact, easy to use, and will not make any other differences to the way your code works. When needed, Class::Default will make a new instantation of your class and cache it to be used whenever a static call is made. It does this in the simplest way possible, by calling \*(C`Class-\*(C'<em>new()</em>&gt; with no arguments.</p><p>This is fine if you have a very pure class that can handle creating a new object without any arguments, but many classes expect some sort of argument to the the constructor, and indeed that the constructor that should be used it the \*(C`new\*(C' method.</p><p>Enter the \*(C`_create_default_object\*(C' method. By overloading the \*(C`_create_default_object\*(C' method in your class, you can custom create the default object. This will used to create the default object on demand, the first time a method is called. For example, the following class demonstrate the use of \*(C`_create_default_object\*(C' to set some values in the default object.</p><p>  package Slashdot::User;</p><p>  use base &apos;Class::Default&apos;;</p><p>  # Constructor   sub new {         my $class = shift;         my $name = shift;</p><p>        my $self = {                 name =&gt; $name,                 favourite_color =&gt; &apos;&apos;,         };</p><p>        return bless $self, $class;   }</p><p>  # Default constructor   sub _create_default_object {         my $class = shift;</p><p>        my $self = $class-&gt;new( &apos;Anonymous Coward&apos; );         $self-&gt;{favourite_color} = &apos;Orange&apos;;</p><p>        return $self;   }</p><p>  sub name {         $_[0]-&gt;_self-&gt;{name};   }</p><p>  sub favourite_color {         $_[0]-&gt;_self-&gt;{favourite_color};   }</p><p>That provides a statically accessible default object that could be used as in the following manner.</p><p>  print "The default slashdot user is " . Slashdot::User-&gt;name       . " and they like the colour " . Slashdot::User-&gt;favourite_color;</p><p>Remember that the default object is persistant, so changes made to the statically accessible object can be recovered later. There are a few ways to do this, but the easiest way is to simple do the following</p><p>  my $default = Slashdot::User-&gt;_get_default;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>Used by methods to make the method apply to the default object if called statically without affecting normal object methods. The \*(C`_class\*(C' method provides the opposite of the \*(C`_self\*(C' method. Instead of always getting an object, \*(C`_class\*(C' will always get the class name, so a method can be guarenteed to run in a static context. This is not essential to the use of a \*(C`Class::Default\*(C' module, but is provided as a convenience. Used to get the default object directly. To be overloaded by your class to set any properties to the default object at creation time.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>No known bugs, but suggestions are welcome</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>Bugs should be reported via the \s-1CPAN\s0 bug tracker at</p><p>&lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Class-Default&gt;</p><p>For other issues, contact the author</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Adam Kennedy &lt;adamk@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Class::Default&hellip;</h2>
        <div class="sectioncontent">
<p>&lt;http://ali.as/&gt;, Class::Singleton</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2002 - 2006 Adam Kennedy.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>The full text of the license can be found in the \s-1LICENSE\s0 file included with this module.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Class::Data::Inheritable.3pm.html"><span aria-hidden="true">&larr;</span> Class::Data::Inheritable.3pm: Inheritable, overridable class data</a></li>
   <li class="next"><a href="Class::Factory.3pm.html">Class::Factory.3pm: Base class for dynamic factory classes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
