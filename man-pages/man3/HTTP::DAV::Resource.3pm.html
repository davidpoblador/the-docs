<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HTTP::DAV::Resource: Represents and interfaces with webdav resources</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Represents and interfaces with webdav resources">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="HTTP::DAV::Resource (3pm) manual">
  <meta name="twitter:description" content="Represents and interfaces with webdav resources">
  <meta name="twitter:image" content="https://www.carta.tech/images/libhttp-dav-perl-HTTP::DAV::Resource-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/HTTP::DAV::Resource.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="HTTP::DAV::Resource (3pm) manual" />
  <meta property="og:description" content="Represents and interfaces with webdav resources" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libhttp-dav-perl-HTTP::DAV::Resource-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">HTTP::DAV::Resource<small> (3pm)</small></h1>
        <p class="lead">Represents and interfaces with webdav resources</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTTP::DAV::Resource.3pm.html">
      <span itemprop="name">HTTP::DAV::Resource: Represents and interfaces with webdav resources</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libhttp-dav-perl/">
      <span itemprop="name">libhttp-dav-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTTP::DAV::Resource.3pm.html">
      <span itemprop="name">HTTP::DAV::Resource: Represents and interfaces with webdav resources</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>Sample</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Description here</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTRUCTORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>new</strong>
  </dt>
  <dd>
    <p>Returns a new resource represented by the \s-1URI\s0. $r = HTTP::DAV::Resource-&gt;new(</p>
<pre>
        -uri =&gt; $uri,
        -LockedResourceList =&gt; $locks,
        -Comms =&gt; $comms
        -Client =&gt; $dav_client
     );
</pre>
<p>On creation a Resource object needs 2 other objects passed in: 1. a \*(C`ResourceList\*(C' Object. This list will be added to if you lock this Resource. 2. a \*(C`Comms\*(C' Object. This object will be used for \s-1HTTP\s0 communication. 2. a \*(C`HTTP::DAV\*(C' Object. This object is where all locks are stored</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>get/GET</strong>
  </dt>
  <dd>
    <p>Performs an \s-1HTTP\s0 \s-1GET\s0 and returns a DAV::Response object.</p>
<pre>
 $response = $resource-&gt;get;
 print $resource-&gt;get_content if ($response-&gt;is_success);
</pre>

  </dd>
  <dt>
    <strong>put/PUT</strong>
  </dt>
  <dd>
    <p>Performs an \s-1HTTP\s0 \s-1PUT\s0 and returns a DAV::Response object. $response = $resource-&gt;put( $string ); $string is be passed as the body.  e.g.  $response = $resource-&gt;put($string);  print $resource-&gt;get_content if ($response-&gt;is_success); Will use a Lock header if this resource was previously locked.</p>
  </dd>
  <dt>
    <strong>copy</strong>
  </dt>
  <dd>
    <p>Not implemented</p>
  </dd>
  <dt>
    <strong>move</strong>
  </dt>
  <dd>
    <p>Not implemented</p>
  </dd>
  <dt>
    <strong>delete</strong>
  </dt>
  <dd>
    <p>Performs an \s-1HTTP\s0 \s-1DELETE\s0 and returns a DAV::Response object.  $response = $resource-&gt;delete;  print "Delete successful" if ($response-&gt;is_success); Will use a Lock header if this resource was previously locked.</p>
  </dd>
  <dt>
    <strong>options</strong>
  </dt>
  <dd>
    <p>Performs an \s-1HTTP\s0 \s-1OPTIONS\s0 and returns a DAV::Response object.  $response = $resource-&gt;options;  print "Yay for PUT!" if $resource-&gt;is_option("PUT");</p>
  </dd>
  <dt>
    <strong>mkcol</strong>
  </dt>
  <dd>
    <p>Performs a WebDAV \s-1MKCOL\s0 request and returns a DAV::Response object.  $response = $resource-&gt;mkcol;  print "MKCOL successful" if ($response-&gt;is_success); Will use a Lock header if this resource was previously locked.</p>
  </dd>
  <dt>
    <strong>proppatch</strong>
  </dt>
  <dd>
    <p>xxx</p>
  </dd>
  <dt>
    <strong>propfind</strong>
  </dt>
  <dd>
    <p>Performs a WebDAV \s-1PROPFIND\s0 request and returns a DAV::Response object.  $response = $resource-&gt;propfind;  if ($response-&gt;is_success) {     print "PROPFIND successful&#92;n";     print $resource-&gt;get_property("displayname") . "&#92;n";  } A successful \s-1PROPFIND\s0 fills the object with much data about the Resource. Including:</p>
<pre>
   displayname
   ...
   \s-1TODO\s0
</pre>

  </dd>
  <dt>
    <strong>lock</strong>
  </dt>
  <dd>
    <p>Performs a WebDAV \s-1LOCK\s0 request and returns a DAV::Response object.  $resource-&gt;lock(         -owner   =&gt; "Patrick Collins",         -depth   =&gt; "infinity"         -scope   =&gt; "exclusive",         -type    =&gt; "write"         -timeout =&gt; TIMEOUT&apos;,      ) lock takes the following arguments. <strong>owner</strong> - Indicates who locked this resource The default value is:  \s-1DAV\s0.pm/v$DAV::VERSION ($$)  e.g. DAV.pm/v0.1 (123) If you use a \s-1URL\s0 as the owner, the module will automatically indicate to the server that is is a \s-1URL\s0 (&lt;D:href&gt;http://...&lt;/D:href&gt;) <strong>depth</strong> - Indicates the depth of the lock. Legal values are 0 or infinity. (1 is not allowed). The default value is infinity. A lock value of 0 on a collection will lock just the collection but not it's members, whereas a lock value of infinity will lock the collection and all of it's members. <strong>scope</strong> - Indicates the scope of the lock. Legal \s-1DAV\s0 values are \*(L"exclusive\*(R" or \*(L"shared\*(R". The default value is exclusive. See section 6.1 of \s-1RFC2518\s0 for a description of shared vs. exclusive locks. <strong>type</strong> - Indicates the type of lock (read, write, etc) The only legal \s-1DAV\s0 value currently is \*(L"write\*(R". The default value is write. <strong>timeout</strong> - Indicates when the lock will timeout The timeout value may be one of, an Absolute Date, a Time Offset from now, or the word \*(L"infinity\*(R". The default value is \*(L"infinity\*(R". The following are all valid timeout values: Time Offset:</p>
<pre>
    30s          30 seconds from now
    10m          ten minutes from now
    1h           one hour from now
    1d           tomorrow
    3M           in three months
    10y          in ten years time
</pre>
<p>Absolute Date:     timeout at the indicated time & date (UTC/GMT)        2000-02-31 00:40:33</p><p>    timeout at the indicated date (UTC/GMT)        2000-02-31 You can use any of the Absolute Date formats specified in HTTP::Date (see perldoc HTTP::Date) Note: the \s-1DAV\s0 server may choose to ignore your specified timeout.</p>
  </dd>
  <dt>
    <strong>unlock</strong>
  </dt>
  <dd>
    <p>Performs a WebDAV \s-1UNLOCK\s0 request and returns a DAV::Response object.  $response = $resource-&gt;unlock()  $response = $resource-&gt;unlock( -force =&gt; 1 )  $response = $resource-&gt;unlock(     -token =&gt; "opaquelocktoken:1342-21423-2323" ) This method will automatically use the correct locktoken If: header if this resource was previously locked. <strong>force</strong> - Synonymous to calling $resource-&gt;forcefully_unlock_all.</p>
  </dd>
  <dt>
    <strong>forcefully_unlock_all</strong>
  </dt>
  <dd>
    <p>Remove all locks from a resource and return the last DAV::Response object. This method take no arguments. $response = $resource-&gt;forcefully_unlock_all; This method will perform a lockdiscovery against the resource to determine all of the current locks. Then it will \s-1UNLOCK\s0 them one by one. unlock( -token =&gt; locktoken ). This unlock process is achievable because \s-1DAV\s0 does not enforce any security over locks. Note: this method returns the \s-1LAST\s0 unlock response (this is sufficient to indicate the success of the sequence of unlocks). If an unlock fails, it will bail and return that response.  For instance, In the event that there are 3 shared locks and the second unlock method fails, then you will get returned the unsuccessful second response. The 3rd unlock will not be attempted. Don't run with this knife, you could hurt someone (or yourself).</p>
  </dd>
  <dt>
    <strong>steal_lock</strong>
  </dt>
  <dd>
    <p>Removes all locks from a resource, relocks it in your name and returns the DAV::Response object for the lock command. This method takes no arguments. $response = $resource-&gt;steal_lock; Synonymous to <em>forcefully_unlock_all()</em> and then <em>lock()</em>.</p>
  </dd>
  <dt>
    <strong>lockdiscovery</strong>
  </dt>
  <dd>
    <p>Discover the locks held against this resource and return a DAV::Response object. This method take no arguments.  $response = $resource-&gt;lockdiscovery;  @locks = $resource-&gt;get_locks if $response-&gt;is_success; This method is in fact a simplified version of <em>propfind()</em>.</p>
  </dd>
  <dt>
    <strong>as_string</strong>
  </dt>
  <dd>
    <p>Returns a string representation of the object. Mainly useful for debugging purposes. It takes no arguments. print $resource-&gt;as_string</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACCESSOR METHODS (get, set and is)</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>is_option</strong>
  </dt>
  <dd>
    <p>Returns a boolean indicating whether this resource supports the option passed in as a string. The option match is case insensitive so, \s-1PUT\s0 and Put are should both work.  if ($resource-&gt;is_option( "PUT" ) ) {     $resource-&gt;put( ... )  } Note: this routine automatically calls the <em>options()</em> routine which makes the request to the server. Subsequent calls to is_option will use the cached option list. To force a rerequest to the server call <em>options()</em></p>
  </dd>
  <dt>
    <strong>is_locked</strong>
  </dt>
  <dd>
    <p>Returns a boolean indicating whether this resource is locked.   @lock = $resource-&gt;is_locked( -owned=&gt;[1|0] ); <strong>owned</strong> - this parameter is used to ask, is this resource locked by me? Note: You must have already called <em>propfind()</em> or <em>lockdiscovery()</em> e.g. Is the resource locked at all?  print \*(L"yes\*(R" if $resource-&gt;<em>is_locked()</em>; Is the resource locked by me?  print \*(L"yes\*(R" if $resource-&gt;is_locked( -owned=&gt;1 ); Is the resource locked by someone other than me?  print \*(L"yes\*(R" if $resource-&gt;is_locked( -owned=&gt;0 );</p>
  </dd>
  <dt>
    <strong>is_collection</strong>
  </dt>
  <dd>
    <p>Returns a boolean indicating whether this resource is a collection.  print "Directory" if ( $resource-&gt;is_collection ); You must first have performed a propfind.</p>
  </dd>
  <dt>
    <strong>get_uri</strong>
  </dt>
  <dd>
    <p>Returns the \s-1URI\s0 object for this resource.  print "URL is: " . $resource-&gt;get_uri()-&gt;as_string . "&#92;n"; See the \s-1URI\s0 manpage from the \s-1LWP\s0 libraries (perldoc \s-1URI\s0)</p>
  </dd>
  <dt>
    <strong>get_property</strong>
  </dt>
  <dd>
    <p>Returns a property value. Takes a string as an argument.  print $resource-&gt;get_property( "displayname" ); You must first have performed a propfind.</p>
  </dd>
  <dt>
    <strong>get_options</strong>
  </dt>
  <dd>
    <p>Returns an array of options allowed on this resource. Note: If $resource-&gt;options has not been called then it will return an empty array. @options = $resource-&gt;get_options</p>
  </dd>
  <dt>
    <strong>get_content</strong>
  </dt>
  <dd>
    <p>Returns the resource's content/body as a string. The content is typically the result of a \s-1GET\s0. $content = $resource-&gt;get_content</p>
  </dd>
  <dt>
    <strong>get_content_ref</strong>
  </dt>
  <dd>
    <p>Returns the resource's content/body as a reference to a string. This is useful and more efficient if the content is large. ${$resource-&gt;get_content_ref} =~ s/&#92;bfoo&#92;b/bar/g; Note: You must have already called <em>get()</em></p>
  </dd>
  <dt>
    <strong>get_lock</strong>
  </dt>
  <dd>
    <p>Returns the DAV::Lock object if it exists. Requires opaquelocktoken passed as a parameter.  $lock = $resource-&gt;get_lock( "opaquelocktoken:234214--342-3444" );</p>
  </dd>
  <dt>
    <strong>get_locks</strong>
  </dt>
  <dd>
    <p>Returns a list of any DAV::Lock objects held against the resource.   @lock = $resource-&gt;get_locks( -owned=&gt;[1|0] ); <strong>owned</strong> - this parameter indicates which locks you want.  - '1', requests any of my locks. (Locked by this \s-1DAV\s0 instance).  - '0' ,requests any locks not owned by us.  - any other value or no value, requests \s-1ALL\s0 locks. Note: You must have already called <em>propfind()</em> or <em>lockdiscovery()</em> e.g.  Give me my locks</p>
<pre>
  @lock = $resource-&gt;get_locks( -owned=&gt;1 );
</pre>
<p> Give me all locks   @lock = $resource-&gt;get_locks();</p>
  </dd>
  <dt>
    <strong>get_lockedresourcelist</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>get_parentresourcelist</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>get_comms</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>set_parent_resourcelist</strong>
  </dt>
  <dd>
    <p>$resource-&gt;set_parent_resourcelist( $resourcelist ) Sets the parent resource list (ask the question, which collection am I a member of?). See HTTP::DAV::ResourceList.</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="HTTP::DAV::Lock.3pm.html"><span aria-hidden="true">&larr;</span> HTTP::DAV::Lock.3pm: Represents a webdav lock.</a></li>
   <li class="next"><a href="HTTP::DAV::Response.3pm.html">HTTP::DAV::Response.3pm: Represents a webdav http response (ala http::response) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
