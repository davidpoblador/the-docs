<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tenjin: Fast templating engine with support for embedded perl.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Fast templating engine with support for embedded perl.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Tenjin (3pm) manual">
  <meta name="twitter:description" content="Fast templating engine with support for embedded perl.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtenjin-perl-Tenjin-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Tenjin.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Tenjin (3pm) manual" />
  <meta property="og:description" content="Fast templating engine with support for embedded perl." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtenjin-perl-Tenjin-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Tenjin<small> (3pm)</small></h1>
        <p class="lead">Fast templating engine with support for embedded perl.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tenjin.3pm.html">
      <span itemprop="name">Tenjin: Fast templating engine with support for embedded perl.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtenjin-perl/">
      <span itemprop="name">libtenjin-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Tenjin.3pm.html">
      <span itemprop="name">Tenjin: Fast templating engine with support for embedded perl.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 0.070001</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        use Tenjin;

        $Tenjin::USE_STRICT = 1;        # use strict in the embedded Perl inside
                                        # your templates. Recommended, but not used
                                        # by default.

        $Tenjin::ENCODING = "UTF-8";    # set the encoding of your template files
                                        # to UTF-8. This is the default encoding used
                                        # so there&apos;s no need to do this if your
                                        # templates really are UTF-8.

        my $engine = Tenjin-&gt;new(&#92;%options);
        my $context = { title =&gt; &apos;Tenjin Example&apos;, items =&gt; [qw/AAA BBB CCC/] };
        my $filename = &apos;file.html&apos;;
        my $output = $engine-&gt;render($filename, $context);
        print $output;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Tenjin is a very fast and full-featured templating engine, implemented in several programming languages, among them Perl.</p><p>The Perl version of Tenjin supports embedded Perl code, nestable layout template, inclusion of other templates inside a template, capturing parts of or the entire template output, file and memory caching, template arguments and preprocessing.</p><p>The original version of Tenjin is developed by Makoto Kuwata. This \s-1CPAN\s0 version is developed by Ido Perlmuter and differs from the original in a few key aspects:</p><ul>
<li><p>Code is entirely revised, packages are separated into modules, with a smaller number of packages than the original version. In particular, the Tenjin::Engine module no longer exists, and is now instead just the Tenjin module (i.e. this one).</p></li><li><p>Support for rendering templates from non-file sources (such as a database) is added.</p></li><li><p>Ability to set the encoding of your templates is added (Tenjin will decode template files according to this encoding; by default, Tenjin will decode</p></li><li><p>\s-1HTML\s0 is encoded and decoded using the HTML::Entities module, instead of internally.</p></li><li><p>The \*(C`pltenjin\*(C' script is not provided, at least for now.</p></li>
</ul><p>To make it clear, the \s-1CPAN\s0 version of Tenjin might find itself diverting a bit in the future from the original Tenjin's roadmap. Although my aim is to be as compatible as possible (and this version is always updated with features and changes from the original), I cannot guarantee it (but I'll do my best). Please note that version 0.05 (and above) of this module is \s-1NOT\s0 backwards compatible with previous versions.</p><h3>A \s-1NOTE\s0 \s-1ABOUT\s0 \s-1ENCODING\s0</h3>
<p>When Tenjin opens template files, it will automatically decode their contents according to the selected encoding (\s-1UTF-8\s0 by default), so make sure your template files are properly encoded. Tenjin also writes cache files of compiled template structure. These will be automatically encoded according to the selected encoding.</p><p>When it comes to \s-1UTF-8\s0, it might interest you to know how Tenjin behaves:</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>new( &#92;%options )</h3>
<p>This creates a new instant of Tenjin. \*(C`&#92;%options\*(C' is a hash-ref containing Tenjin's configuration options:</p><ul>
<li><p><strong>path</strong> - Array-ref of filesystem paths where templates will be searched</p></li><li><p><strong>prefix</strong> - A string that will be automatically prepended to template names when searching for them in the path. Empty by default.</p></li><li><p><strong>postfix</strong> - The default extension to be automatically appended to template names when searching for them in the path. Don't forget to include the dot, such as '.html'. Empty by default.</p></li><li><p><strong>cache</strong> - If set to 1 (the default), compiled templates will be cached on the filesystem (this means the template's code will be cached, not the completed rendered output).</p></li><li><p><strong>preprocess</strong> - Enable template preprocessing (turned off by default). Only use if you're actually using any preprocessed Perl code in your templates.</p></li><li><p><strong>layout</strong> - Name of a layout template that can be optionally used. If set, templates will be automatically inserted into the layout template, in the location where you use \*(C`[== $_content ==]\*(C'.</p></li><li><p><strong>strict</strong> - Another way to make Tenjin use strict on embedded Perl code (turned off by default).</p></li><li><p><strong>encoding</strong> - Another way to set the encoding of your template files (set to \*(L"\s-1UTF-8\s0\*(R" by default). Renders a template whose name is identified by $tmpl_name. Remember that a prefix and a postfix might be added if they where set when creating the Tenjin instance.</p></li>
</ul><p>$_context is a hash-ref containing the variables that will be available for usage inside the templates. So, for example, if your \*(C`&#92;%_context\*(C' is \*(C`{ message =&gt; &apos;Hi there&apos; }\*(C', then you can use $message inside your templates.</p><p>$use_layout is a flag denoting whether or not to render this template into a layout template (when doing so, the template will be rendered, then the rendered output will be added to the context hash-ref as '_content', and finally the layout template will be rendered with the revised context and returned.</p><p>If $use_layout is 1 (which is the default in case it is undefined), then Tenjin will use the layout template that was set when creating the Tenjin instance (via the 'layout' configuration option). If you want to use a different layout template (or if you haven't defined a layout template when creating the Tenjin instance), then you must add the layout template's name to the context as '_layout'. You can also just pass the layout template's name as $use_layout, but \*(C`$_context-&gt;{_layout}\*(C' has precedence.</p><p>If $use_layout is 0, then a layout template will not be used, even if \*(C`$_context-&gt;{_layout}\*(C' is defined.</p><p>Note that you can nest layout templates as much as you like, but the only way to do so is by setting the layout template for each template in the nesting chain with \*(C`$_context-&gt;{_layout}\*(C'.</p><p>Please note that by default file templates are cached on disk (with a '.cache') extension. Tenjin automatically deprecates these cache files every 10 seconds. If you find this value is too low, you can override the $Tenjin::TIMESTAMP_INTERVAL variable with your preferred value. Receives the name of a template and its Tenjin::Template object and stores it in memory for usage by the engine. This is useful if you need to use templates that are not stored on the file system, for example from a database.</p><p>Note, however, that you need to pass a template object who's already been converted and compiled into Perl code, so if you have a template with a certain name and certain text, these are the steps you will need to perform:</p><p>        # create a Tenjin instance         my $tenjin = Tenjin-&gt;new(&#92;%options);</p><p>        # create an empty template object         my $template = Tenjin::Template-&gt;new();</p><p>        # compile template content into Perl code         $template-&gt;convert($tmpl_content);         $template-&gt;compile();</p><p>        # register the template with the Tenjin instance         $tenjin-&gt;register_template($tmpl_name, $template);</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERNAL METHODS</h2>
        <div class="sectioncontent">
<p>Receives the name of a template and the context object and tries to find that template in the engine's memory. If it's not there, it will try to find it in the file system (the cache file might be loaded, if present). Returns the template's Tenjin::Template object. Receives a template name and returns the proper file name to be searched in the file system, which will only be different than $template_name if it begins with ':', in which case the prefix and postfix configuration options will be appended and prepended to the template name (minus the ':'), respectively. Receives a template filename and searches for it in the path defined in the configuration options (or, if a path was not set, in the current working directory). Returns the absolute path to the file. Receives a template object and its absolute file path and reads that file. If preprocessing is on, preprocessing will take place using the provided context object. Receives a template filename and returns its standard cache filename (which will simply be $filename with '.cache' appended to it. Receives the name of a template cache file and the corrasponding template object, and creates the cache file on disk. Receives the name of a template cache file and the corrasponding template object, reads the cache file and stores it in the template object (as 'script'). Receives an absolute path to a template file and the context object, reads the file, processes it (which may involve loading the template's cache file or creating the template's cache file), compiles it and returns the template object.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Tenjin&hellip;</h2>
        <div class="sectioncontent">
<p>The original Tenjin website is located at http://www.kuwata-lab.com/tenjin/ &lt;http://www.kuwata-lab.com/tenjin/&gt;. In there check out http://www.kuwata-lab.com/tenjin/pltenjin-users-guide.html &lt;http://www.kuwata-lab.com/tenjin/pltenjin-users-guide.html&gt; for detailed usage guide, http://www.kuwata-lab.com/tenjin/pltenjin-examples.html &lt;http://www.kuwata-lab.com/tenjin/pltenjin-examples.html&gt; for examples, and http://www.kuwata-lab.com/tenjin/pltenjin-faq.html &lt;http://www.kuwata-lab.com/tenjin/pltenjin-faq.html&gt; for frequently asked questions.</p><p>Note that the Perl version of Tenjin is refered to as plTenjin on the Tenjin website, and that, as opposed to this module, the website suggests using a .plhtml extension for the templates instead of .html (this is entirely your choice).</p><p>Tenjin::Template, Catalyst::View::Tenjin, Dancer::Template::Tenjin.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHANGES</h2>
        <div class="sectioncontent">
<p>Version 0.05 of this module broke backwards compatibility with previous versions. In particular, the Tenjin::Engine module does not exist any more and is instead integrated into this one. Templates are also rendered entirely different (as per changes in the original tenjin) which provides much faster rendering.</p><p>Upon upgrading to versions 0.05 and above, you \s-1MUST\s0 perform the following changes for your applications (or, if you're using Catalyst, you must also upgrade Catalyst::View::Tenjin):</p><ul>
<li><p>\*(C`use Tenjin\*(C' as your normally would, but to get an instance of Tenjin you must call \*(C`Tenjin-&gt;new()\*(C' instead of the old method of calling \*(C`Tenjin::Engine-&gt;new()\*(C'.</p></li><li><p>Remove all your templates cache files (they are the '.cache' files in your template directories), they are not compatible with the new templates structure and \s-1WILL\s0 cause your application to fail if present.</p></li>
</ul><p>Version 0.06 (this version) restored the layout template feature which was accidentally missing in version 0.05, and the ability to call the utility methods of Tenjin::Util natively inside templates. You will want to remove your templates' .cache files when upgrading to 0.6 too.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The \s-1CPAN\s0 version of Tenjin was forked by Ido Perlmuter &lt;ido at ido50.net&gt; from version 0.0.2 of the original plTenjin, which is developed by Makoto Kuwata at http://www.kuwata-lab.com/tenjin/ &lt;http://www.kuwata-lab.com/tenjin/&gt;.</p><p>Development of Tenjin is done with github at &lt;http://github.com/ido50/Tenjin&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p>I would like to thank the following people for their contributions:</p><ul>
<li><p>Makoto Kuwata The original developer of Tenjin.</p></li><li><p>John Beppu &lt;beppu at cpan.org&gt; For introducing me to Tenjin and helping me understand the way it's designed.</p></li><li><p>Pedro Melo &lt;melo at cpan.org&gt; For helping me understand the logic behind some of the original Tenjin aspects and helping me fix bugs and create tests.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report any bugs or feature requests to \*(C`bug-tenjin at rt.cpan.org\*(C', or through the web interface at &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Tenjin&gt;.  I will be notified, and then you'll automatically be notified of progress on your bug as I make changes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>You can find documentation for this module with the perldoc command.</p><p>    perldoc Tenjin</p><p>You can also look for information at:</p><ul>
<li><p>\s-1RT:\s0 \s-1CPAN\s0's request tracker &lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Tenjin&gt;</p></li><li><p>AnnoCPAN: Annotated \s-1CPAN\s0 documentation &lt;http://annocpan.org/dist/Tenjin&gt;</p></li><li><p>\s-1CPAN\s0 Ratings &lt;http://cpanratings.perl.org/d/Tenjin&gt;</p></li><li><p>Search \s-1CPAN\s0 &lt;http://search.cpan.org/dist/Tenjin/&gt;</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Tenjin is licensed under the \s-1MIT\s0 license.</p><p>        Copyright (c) 2007-2011 the aforementioned authors.</p><p>        Permission is hereby granted, free of charge, to any person obtaining         a copy of this software and associated documentation files (the         "Software"), to deal in the Software without restriction, including         without limitation the rights to use, copy, modify, merge, publish,         distribute, sublicense, and/or sell copies of the Software, and to         permit persons to whom the Software is furnished to do so, subject to         the following conditions:</p><p>        The above copyright notice and this permission notice shall be         included in all copies or substantial portions of the Software.</p><p>        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,         EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF         MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND         NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE         LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION         OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION         WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p><p>See http://dev.perl.org/licenses/ for more information.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Template::XML.3pm.html"><span aria-hidden="true">&larr;</span> Template::XML.3pm: Xml plugins for the template toolkit</a></li>
   <li class="next"><a href="Tenjin::Context.3pm.html">Tenjin::Context.3pm: In charge of managing variables passed to tenjin templates. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
