<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbGetVirtualMods: Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbGetVirtualMods (3) manual">
  <meta name="twitter:description" content="Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbGetVirtualMods-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbGetVirtualMods.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbGetVirtualMods (3) manual" />
  <meta property="og:description" content="Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbGetVirtualMods-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbGetVirtualMods<small> (3)</small></h1>
        <p class="lead">Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbGetVirtualMods.3.html">
      <span itemprop="name">XkbGetVirtualMods: Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbGetVirtualMods.3.html">
      <span itemprop="name">XkbGetVirtualMods: Obtain a subset of the virtual modifier bindings (the vmods array) in a keyboard description</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>Status XkbGetVirtualMods</strong> <strong>(\^Display *</strong><em>dpy</em><strong>\^,</strong> <strong>unsigned int </strong><em>which</em><strong>\^,</strong> <strong>XkbDescPtr </strong><em>xkb</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- dpy</em></p>
  </dt>
  <dd>
    <p>connection to server</p>
  </dd>
  <dt>
    <p><em>- which</em></p>
  </dt>
  <dd>
    <p>mask indicating virtual modifier bindings to get</p>
  </dd>
  <dt>
    <p><em>- xkb</em></p>
  </dt>
  <dd>
    <p>Xkb description where results will be placed</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>XkbGetVirtualMods</em> sends a request to the server to obtain the <em>vmods</em> entries for the virtual modifiers specified in the mask, <em>which,</em> and waits for a reply.</p><p>Virtual modifiers are named by converting their string name to an X Atom and storing the Atom in the <em>names.vmods</em> array in an XkbDescRec structure. The position of a name Atom in the <em>names.vmods</em> array defines the bit position used to represent the virtual modifier and also the index used when accessing virtual modifier information in arrays: the name in the i-th (0 relative) entry of <em>names.vmods</em> is the i-th virtual modifier, represented by the mask (1&lt;&lt;i). Throughout Xkb, various functions have a parameter that is a mask representing virtual modifier choices. In each case, the i-th bit (0 relative) of the mask represents the i-th virtual modifier.</p><p>To set the name of a virtual modifier, use <em>XkbSetNames,</em> using XkbVirtualModNamesMask in <em>which</em> and the name in the <em>xkb</em> argument; to retrieve indicator names, use <em>XkbGetNames.</em></p><p>For each bit set in <em>which, XkbGetVirtualMods</em> updates the corresponding virtual modifier definition in the <em>server-&gt;vmods</em> array of <em>xkb.</em> The <em>xkb</em> parameter must be a pointer to a valid Xkb keyboard description. If successful, <em>XkbGetVirtualMods</em> returns Success.</p><p><strong>Virtual Modifier Names and Masks</strong></p><p>Virtual modifiers are named by converting their string name to an X Atom and storing the Atom in the <em>names.vmods</em> array in an XkbDescRec structure. The position of a name Atom in the <em>names.vmods</em> array defines the bit position used to represent the virtual modifier and also the index used when accessing virtual modifier information in arrays: the name in the i-th (0 relative) entry of <em>names.vmods</em> is the i-th virtual modifier, represented by the mask (1&lt;&lt;i). Throughout Xkb, various functions have a parameter that is a mask representing virtual modifier choices. In each case, the i-th bit (0 relative) of the mask represents the i-th virtual modifier.</p><p>To set the name of a virtual modifier, use <em>XkbSetNames,</em> using XkbVirtualModNamesMask in <em>which</em> and the name in the <em>xkb</em> argument; to retrieve indicator names, use <em>XkbGetNames.</em></p><p>If the <em>server</em> map has not been allocated in the <em>xkb</em> parameter, <em>XkbGetVirtualMods</em> allocates and initializes it before obtaining the virtual modifier bindings.</p><p>If the server does not have a compatible version of Xkb, or the Xkb extension has not been properly initialized, <em>XkbGetVirtualMods</em> returns BadMatch. Any errors in allocation cause <em>XkbGetVirtualMods</em> to return BadAlloc.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Success</p>
  </dt>
  <dd>
    <p>The <em>XkbGetVirtualMods</em> function returns Success when it successfully updates the corresponding virtual modifier definition in the <em>server-&gt;vmods</em> array of <em>xkb.</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STRUCTURES</h2>
        <div class="sectioncontent">
<p>The complete description of an Xkb keyboard is given by an XkbDescRec. The component structures in the XkbDescRec represent the major Xkb components.</p>
<pre>
typedef struct {
   struct _XDisplay * display;      /\(** connection to X server */
   unsigned short     flags;        /\(** private to Xkb, do not modify */
   unsigned short     device_spec;  /\(** device of interest */
   KeyCode            min_key_code; /\(** minimum keycode for device */
   KeyCode            max_key_code; /\(** maximum keycode for device */
   XkbControlsPtr     ctrls;        /\(** controls */
   XkbServerMapPtr    server;       /\(** server keymap */
   XkbClientMapPtr    map;          /\(** client keymap */
   XkbIndicatorPtr    indicators;   /\(** indicator map */
   XkbNamesPtr        names;        /\(** names for all components */
   XkbCompatMapPtr    compat;       /\(** compatibility map */
   XkbGeometryPtr     geom;         /\(** physical geometry of keyboard */
} XkbDescRec, *XkbDescPtr;

</pre>
<p>The <em>display</em> field points to an X display structure. The <em>flags</em> field is private to the library: modifying <em>flags</em> may yield unpredictable results. The <em>device_spec</em> field specifies the device identifier of the keyboard input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The <em>min_key_code</em> and <em>max_key_code</em> fields specify the least and greatest keycode that can be returned by the keyboard.</p><p>Each structure component has a corresponding mask bit that is used in function calls to indicate that the structure should be manipulated in some manner, such as allocating it or freeing it. These masks and their relationships to the fields in the XkbDescRec are shown in Table 1.</p><table class="table table-striped">
<tr>
<th>Table 1 Mask Bits for XkbDescRec</th>
<th></th>
<th></th></tr>

<tr>
<td>Mask Bit</td>
<td>XkbDescRec Field</td>
<td>Value</td></tr>

<tr>
<td>XkbControlsMask</td>
<td>ctrls</td>
<td>(1L&lt;&lt;0)</td></tr>

<tr>
<td>XkbServerMapMask</td>
<td>server</td>
<td>(1L&lt;&lt;1)</td></tr>

<tr>
<td>XkbIClientMapMask</td>
<td>map</td>
<td>(1L&lt;&lt;2)</td></tr>

<tr>
<td>XkbIndicatorMapMask</td>
<td>indicators</td>
<td>(1L&lt;&lt;3)</td></tr>

<tr>
<td>XkbNamesMask</td>
<td>names</td>
<td>(1L&lt;&lt;4)</td></tr>

<tr>
<td>XkbCompatMapMask</td>
<td>compat</td>
<td>(1L&lt;&lt;5)</td></tr>

<tr>
<td>XkbGeometryMask</td>
<td>geom</td>
<td>(1L&lt;&lt;6)</td></tr>

<tr>
<td>XkbAllComponentsMask</td>
<td>All Fields</td>
<td>(0x7f)</td></tr>
</table>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>BadAlloc</strong></p>
  </dt>
  <dd>
    <p>Unable to allocate storage</p>
  </dd>
  <dt>
    <p><strong>BadMatch</strong></p>
  </dt>
  <dd>
    <p>A compatible version of Xkb was not available in the server or an argument has correct type and range, but is otherwise invalid</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XkbGetVirtualMods&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/XkbGetNames.3.html"><strong>XkbGetNames</strong>(3)</a>, <a href="../man3/XkbSetNames.3.html"><strong>XkbSetNames</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbGetUpdatedMap.3.html"><span aria-hidden="true">&larr;</span> XkbGetUpdatedMap.3: Update the client or server map information in an existing keyboard description</a></li>
   <li class="next"><a href="XkbGetXlibControls.3.html">XkbGetXlibControls.3: Determines the current state of the library controls <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
