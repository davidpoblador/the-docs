<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HTML::LinkExtractor: Extract links from an html document</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extract links from an html document">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="HTML::LinkExtractor (3pm) manual">
  <meta name="twitter:description" content="Extract links from an html document">
  <meta name="twitter:image" content="https://www.carta.tech/images/libhtml-linkextractor-perl-HTML::LinkExtractor-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/HTML::LinkExtractor.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="HTML::LinkExtractor (3pm) manual" />
  <meta property="og:description" content="Extract links from an html document" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libhtml-linkextractor-perl-HTML::LinkExtractor-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">HTML::LinkExtractor<small> (3pm)</small></h1>
        <p class="lead">Extract links from an html document</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTML::LinkExtractor.3pm.html">
      <span itemprop="name">HTML::LinkExtractor: Extract links from an html document</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libhtml-linkextractor-perl/">
      <span itemprop="name">libhtml-linkextractor-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/HTML::LinkExtractor.3pm.html">
      <span itemprop="name">HTML::LinkExtractor: Extract links from an html document</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>HTML::LinkExtractor is used for extracting links from \s-1HTML\s0. It is very similar to HTML::LinkExtor, except that besides getting the \s-1URL\s0, you also get the link-text.</p><p>Example ( <strong>please run the examples</strong> ):</p>
<pre>
    use HTML::LinkExtractor;
    use Data::Dumper;

    my $input = q{If &lt;a href="http://perl.com/"&gt; I am a LINK!!! &lt;/a&gt;};
    my $LX = new HTML::LinkExtractor();

    $LX-&gt;parse(&#92;$input);

    print Dumper($LX-&gt;links);
    _\|_END_\|_
    # the above example will yield
    $VAR1 = [
              {
                &apos;_TEXT&apos; =&gt; &apos;&lt;a href="http://perl.com/"&gt; I am a LINK!!! &lt;/a&gt;&apos;,
                &apos;href&apos; =&gt; bless(do{&#92;(my $o = &apos;http://perl.com/&apos;)}, &apos;URI::http&apos;),
                &apos;tag&apos; =&gt; &apos;a&apos;
              }
            ];
</pre>
<p>\*(C`HTML::LinkExtractor\*(C' will also correctly extract nested <em>link-type</em> tags.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>    ## the demo     perl LinkExtractor.pm     perl LinkExtractor.pm file.html othefile.html</p><p>    ## or if the module is installed, but you don&apos;t know where</p><p>    perl -MHTML::LinkExtractor -e" system $^X, $INC{q{HTML/LinkExtractor.pm}} "     perl -MHTML::LinkExtractor -e&apos; system $^X, $INC{q{HTML/LinkExtractor.pm}} &apos;</p><p>    ## or</p><p>    use HTML::LinkExtractor;     use LWP qw( get ); #     use LWP::Simple qw( get );</p><p>    my $base = &apos;http://search.cpan.org&apos;;     my $html = get($base.&apos;/recent&apos;);     my $LX = new HTML::LinkExtractor();</p><p>    $LX-&gt;parse(&#92;$html);</p><p>    print qq{&lt;base href="$base"&gt;&#92;n};</p><p>    for my $Link( @{ $LX-&gt;links } ) {     ## new modules are linked  by /author/NAME/Dist         if( $$Link{href}=~ m{^&#92;/author&#92;/&#92;w+} ) {             print $$Link{_TEXT}."&#92;n";         }     }</p><p>    undef $LX;     _\|_END_\|_</p><p>    ## or</p><p>    use HTML::LinkExtractor;     use Data::Dumper;</p><p>    my $input = q{If &lt;a href="http://perl.com/"&gt; I am a LINK!!! &lt;/a&gt;};     my $LX = new HTML::LinkExtractor(         sub {             print Data::Dumper::Dumper(@_);         },         &apos;http://perlFox.org/&apos;,     );</p><p>    $LX-&gt;parse(&#92;$input);     $LX-&gt;<strong>strip</strong>(1);     $LX-&gt;parse(&#92;$input);     _\|_END_\|_</p><p>    #### Calculate to total size of a web-page     #### adds up the sizes of all the images and stylesheets and stuff</p><p>    use strict;     use LWP; #     use LWP::Simple;     use HTML::LinkExtractor;                                                         #     my $url  = shift || &apos;http://www.google.com&apos;;     my $html = get($url);     my $Total = length $html;                                                         #     print "initial size $Total&#92;n";                                                         #     my $LX = new HTML::LinkExtractor(         sub {             my( $X, $tag ) = @_;                                                         #             unless( grep {$_ eq $tag-&gt;{tag} } @HTML::LinkExtractor::TAGS_IN_NEED ) {                                                         #     print "$$tag{tag}&#92;n";                                                         #                 for my $urlAttr ( @{$HTML::LinkExtractor::TAGS{$$tag{tag}}} ) {                     if( exists $$tag{$urlAttr} ) {                         my $size = (head( $$tag{$urlAttr} ))[1];                         $Total += $size if $size;     print "adding $size&#92;n" if $size;                     }                 }             }         },         $url,         0     );                                                         #     $LX-&gt;parse(&#92;$html);                                                         #     print "The total size of &#92;n$url&#92;n is $Total bytes&#92;n";     _\|_END_\|_</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>Accepts 3 arguments, all of which are optional. If for example you want to pass a $baseUrl, but don't want to have a callback invoked, just put \*(C`undef\*(C' in place of a subref.</p><p>This is the only class method.</p>
<dl class='dl-vertical'>
  <dt>
    1.
  </dt>
  <dd>
    <p>a callback ( a sub reference, as in \*(C`sub{}\*(C', or \*(C`&#92;&sub\*(C') which is to be called each time a new \s-1LINK\s0 is encountered ( for @HTML::LinkExtractor::TAGS_IN_NEED this means  after the closing tag is encountered ) The callback receives an object reference($LX) and a link hashref.</p>
  </dd>
  <dt>
    2.
  </dt>
  <dd>
    <p>and a base \s-1URL\s0 ( \s-1URI-\s0&gt;new, so its up to you to make sure it's valid which is used to convert all relative \s-1URI\s0's to absolute ones.     $ALinkP{href} = URI-&gt;new_abs( $ALink{href}, $base );</p>
  </dd>
  <dt>
    3.
  </dt>
  <dd>
    <p>A \*(L"boolean\*(R" (just stick with 1). See the example in \*(L"\s-1DESCRIPTION\s0\*(R". Normally, you'd get back _TEXT that looks like     &apos;_TEXT&apos; =&gt; &apos;&lt;a href="http://perl.com/"&gt; I am a LINK!!! &lt;/a&gt;&apos;, If you turn this option on, you'll get the following instead     &apos;_TEXT&apos; =&gt; &apos; I am a LINK!!! &apos;, The private utility function \*(C`_stripHTML\*(C' does this by using HTML::TokeParsers method get_trimmed_text. You can turn this feature on an off by using \*(C`$LX-&gt;strip(undef || 0 || 1)\*(C' Each time you call \*(C`parse\*(C', you should pass it a $filename a *FILEHANDLE or a \*(C`&#92;$FileContent\*(C'</p>
  </dd>

</dl>
<p>Each time you call \*(C`parse\*(C' a new \*(C`HTML::TokeParser\*(C' object is created and stored in \*(C`$this-&gt;{_tp}\*(C'.</p><p>You shouldn't need to mess with the TokeParser object. Only after you call \*(C`parse\*(C' will this method return anything. This method returns a reference to an ArrayOfHashes, which basically looks like (Data::Dumper output)</p><p>    $VAR1 = [ { tag =&gt; &apos;img&apos;, src =&gt; &apos;image.png&apos; }, ];</p><p>Please note that if yo provide a callback this array will be empty. If you pass in \*(C`undef\*(C' (or nothing), returns the state of the option. Passing in a true or false value sets the option.</p><p>If you wanna know what the option does see \*(C`$LX-&gt;new([&#92;&callback, [$baseUrl, [1]]])\*(C'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WHAT'S A LINK-type tag</h2>
        <div class="sectioncontent">
<p>Take a look at %HTML::LinkExtractor::TAGS to see what I consider to be link-type-tag.</p><p>Take a look at @HTML::LinkExtractor::VALID_URL_ATTRIBUTES to see all the possible tag attributes which can contain \s-1URI\s0's (the links!!)</p><p>Take a look at @HTML::LinkExtractor::TAGS_IN_NEED to see the tags for which the &apos;_TEXT&apos; attribute is provided, like \*(C`&lt;a href="#"&gt; TEST &lt;/a&gt;\*(C'</p><h3>How can that be?!?!</h3>
<p>I took at look at %HTML::Tagset::linkElements and the following \s-1URL\s0's</p><p>    http://www.blooberry.com/indexdot/html/tagindex/all.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/a/a-hyperlink.htm     http://www.blooberry.com/indexdot/html/tagpages/a/applet.htm     http://www.blooberry.com/indexdot/html/tagpages/a/area.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/b/base.htm     http://www.blooberry.com/indexdot/html/tagpages/b/bgsound.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/d/del.htm     http://www.blooberry.com/indexdot/html/tagpages/d/div.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/e/embed.htm     http://www.blooberry.com/indexdot/html/tagpages/f/frame.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/i/ins.htm     http://www.blooberry.com/indexdot/html/tagpages/i/image.htm     http://www.blooberry.com/indexdot/html/tagpages/i/iframe.htm     http://www.blooberry.com/indexdot/html/tagpages/i/ilayer.htm     http://www.blooberry.com/indexdot/html/tagpages/i/inputimage.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/l/layer.htm     http://www.blooberry.com/indexdot/html/tagpages/l/link.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/o/object.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/q/q.htm</p><p>    http://www.blooberry.com/indexdot/html/tagpages/s/script.htm     http://www.blooberry.com/indexdot/html/tagpages/s/sound.htm</p><p>    And the special cases</p><p>    &lt;!DOCTYPE HTML SYSTEM "http://www.w3.org/DTD/HTML4-strict.dtd"&gt;     http://www.blooberry.com/indexdot/html/tagpages/d/doctype.htm     &apos;!doctype&apos;  is really a process instruction, but is still listed     in %TAGS with &apos;url&apos; as the attribute</p><p>    and</p><p>    &lt;meta HTTP-EQUIV="Refresh" CONTENT="5; URL=http://www.foo.com/foo.html"&gt;     http://www.blooberry.com/indexdot/html/tagpages/m/meta.htm     If there is a valid url, &apos;url&apos; is set as the attribute.     The meta tag has no &apos;attributes&apos; listed in %TAGS.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO HTML::LinkExtractor&hellip;</h2>
        <div class="sectioncontent">
<p>HTML::LinkExtor, HTML::TokeParser, HTML::Tagset.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>D.H (PodMaster)</p><p>Please use http://rt.cpan.org/ to report bugs.</p><p>Just go to http://rt.cpan.org/NoAuth/Bugs.html?Dist=HTML-Scrubber to see a bug list and/or repot new ones.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2003, 2004 by D.H. (PodMaster). All rights reserved.</p><p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. The \s-1LICENSE\s0 file contains the full text of the license.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="HTML::Highlight.3pm.html"><span aria-hidden="true">&larr;</span> HTML::Highlight.3pm: A module to highlight words or patterns in \s-1html\s0 documents</a></li>
   <li class="next"><a href="HTML::Lint.3pm.html">HTML::Lint.3pm: Check for html errors in a string or file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
