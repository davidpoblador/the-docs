<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pvm_reg_hoster: Register task as pvm slave starter.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Register task as pvm slave starter.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pvm_reg_hoster (3PVM) manual">
  <meta name="twitter:description" content="Register task as pvm slave starter.">
  <meta name="twitter:image" content="https://www.carta.tech/images/pvm-dev-pvm_reg_hoster-3PVM.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3PVM/pvm_reg_hoster.3PVM.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pvm_reg_hoster (3PVM) manual" />
  <meta property="og:description" content="Register task as pvm slave starter." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pvm-dev-pvm_reg_hoster-3PVM.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pvm_reg_hoster<small> (3PVM)</small></h1>
        <p class="lead">Register task as pvm slave starter.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3PVM/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3PVM/pvm_reg_hoster.3PVM.html">
      <span itemprop="name">pvm_reg_hoster: Register task as pvm slave starter.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pvm-dev/">
      <span itemprop="name">pvm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3PVM/pvm_reg_hoster.3PVM.html">
      <span itemprop="name">pvm_reg_hoster: Register task as pvm slave starter.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
C	#include &lt;pvmsdpro.h&gt;

	int cc = pvm_reg_hoster()


Fortran	Not Available
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Registers the calling task as a PVM slave pvmd starter. When the master pvmd receives a DM_ADD message, instead of starting the new slave pvmd processes itself, it passes a message to the hoster, which does the dirty work and sends a message back to the pvmd.</p><p>Note:  This function isn't for beginners. If you don't grok what it does, you probably don't need it. For a more complete explanation of what's going on here, you should refer to the PVM source code and/or user guide section on implementation; this is just a man page. That said...</p><p>When the master pvmd receives a <em>DM_ADD</em> message (request to add hosts to the virtual machine), it looks up the new host IP addresses, gets parameters from the host file if it was started with one, and sets default parameters. It then either attempts to start the processes (using <em>rsh</em> or <em>rexec()</em>) or, if a hoster has registered, sends it a <em>SM_STHOST</em> message.</p><p>The format of the SM_STHOST message is:</p>
<pre>
	int nhosts	// number of hosts
	{
		int tid	// of host
		string options	// from hostfile <em>so=</em> field
		string login	// in form ``[username@]hostname.domain''
		string command	// to run on remote host
	} [nhosts]
</pre>
<p>The hoster should attempt to run each command on each host and record the result. A command usually looks like:</p><p>	$PVM_ROOT/lib/pvmd -s -d8 -nhonk 1 80a9ca95:0f5a 4096 3 80a95c43:0000</p><p>and a reply from a slave pvmd like:</p><p>	ddpro&lt;2312&gt; arch&lt;ALPHA&gt; ip&lt;80a95c43:0b3f&gt; mtu&lt;4096&gt;</p><p>When finished, the hoster should send a <em>SM_STHOSTACK</em> message back to the address of the sender (the master pvmd). The format of the reply message is:</p>
<pre>
	{
		int tid	// of host, must match request
		string status	// result line from slave or error code
	} []	// implied count
</pre>
<p>The TIDs in the reply must match those in the request. They may be in a different order, however.</p><p>The result string should contain the entire reply (a single line) from each new slave pvmd, or an error code if something went wrong. Legal error codes are the literal names of the <em>pvm_errno</em> codes, for example ``PvmCantStart''. The default PVM hoster can return PvmDSysErr or PvmCantStart, and the slave pvmd itself can return PvmDupHost.</p><p>The hoster must use <em>pvm_setmwid()</em> to set the wait ID in the reply message to the same value as in the request. The wait ID in the request is obtained by calling <em>pvm_getmwid()</em>.</p><p>The hoster task must use pvm_setopt(PvmResvTids, 1) to allow sending reserved messages. Messages should be packed using encoding <em>PvmDataDefault</em> to ensure they can be unpacked anywhere in the system.</p><p>pvm_reg_hoster() returns PvmOk when successful.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pvm_reg_hoster&hellip;</h2>
        <div class="sectioncontent">
<p>pvm_addhosts(3PVM), pvm_config(3PVM), pvm_setmwid(3PVM)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pvm_reduce.3PVM.html"><span aria-hidden="true">&larr;</span> pvm_reduce.3PVM: Performs a reduction operation over members of the specified group.</a></li>
   <li class="next"><a href="pvm_reg_rm.3PVM.html">pvm_reg_rm.3PVM: Register task as pvm resource manager. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
