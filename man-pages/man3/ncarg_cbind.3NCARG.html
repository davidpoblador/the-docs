<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ncarg_cbind: Description of how to use the ncar graphics c-binding.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Description of how to use the ncar graphics c-binding.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ncarg_cbind (3NCARG) manual">
  <meta name="twitter:description" content="Description of how to use the ncar graphics c-binding.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libncarg-dev-ncarg_cbind-3NCARG.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3NCARG/ncarg_cbind.3NCARG.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ncarg_cbind (3NCARG) manual" />
  <meta property="og:description" content="Description of how to use the ncar graphics c-binding." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libncarg-dev-ncarg_cbind-3NCARG.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ncarg_cbind<small> (3NCARG)</small></h1>
        <p class="lead">Description of how to use the ncar graphics c-binding.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3NCARG/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3NCARG/ncarg_cbind.3NCARG.html">
      <span itemprop="name">ncarg_cbind: Description of how to use the ncar graphics c-binding.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libncarg-dev/">
      <span itemprop="name">libncarg-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3NCARG/ncarg_cbind.3NCARG.html">
      <span itemprop="name">ncarg_cbind: Description of how to use the ncar graphics c-binding.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>The NCAR Graphics C-binding consists of a collection of C routines that allow you to call NCAR Graphics Fortran routines from a C program without having to worry about the C to Fortran interface yourself. For detailed information about the C-binding for a particular routine, please see the man page for the corresponding Fortran routine.</p><p>A C-binding has been created for every user entry point in the NCAR Graphics utilities with the exception of some of the obsolete utilities listed below.  A GKS level 0A C-binding has also been created which adheres to the ISO/IEC standard.</p><p>From here on, a <em>utility</em> C-binding refers to a C-binding for the NCAR Graphics utilities (AREAS, CONPACK, etc.).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NAMING CONVENTION</h2>
        <div class="sectioncontent">
<p>For all of the utility user entry points, the name of the C-binding function is the same as the Fortran routine name with a "c_" prepended.  For example, the name of the C-binding for the CONPACK routine <strong>CPBACK</strong> is <strong>c_cpback</strong>.  This naming convention does not apply to the GKS C-bindings.  Instead, the C-binding names are more descriptive, like <strong>gset_fill_colr_ind</strong> which is equivalent to the Fortran routine <strong>GSFACI</strong>.  Please see the man page for ncarg_gks_cbind(3NCARG) the GKS Fortran routine to get the name of the corresponding GKS C-binding name.</p><p>The C programming language is case sensitive, so for convenience the utility C-binding names and their arguments are all in lower case.  In this man page, the Fortran routines and their arguments will be referred to in upper-case.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENT LISTS</h2>
        <div class="sectioncontent">
<p>The argument list of each utility C-binding corresponds with the argument list of the corresponding Fortran routine except in some cases where multi-dimensioned arrays and/or character strings are involved.  These exceptions will be described in separate sections.</p><p>The C-binding argument list being similar to the Fortran argument list makes using the C-bindings easier for people who already know the calling sequence of a particular Fortran routine.  For example, the NCAR Graphics routine <strong>PLCHHQ</strong> has the following argument list:</p>
<pre>
PLCHHQ(REAL X, REAL Y, CHARACTER CHRS, REAL SZ, REAL ANG, REAL CNTR)
</pre>
<p>and the corresponding C-binding <strong>c_plchhq</strong> has the same type of argument list:</p>
<pre>
c_plchhq(float x, float y, char *chrs, float sz, float ang, float cntr)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARRAYS</h2>
        <div class="sectioncontent">
<p>One of the exceptions to the utility C-binding argument lists has to do with multi-dimensioned arrays.  In Fortran, arrays are stored in column-major order, while in C they are stored in row-major order. This means that the subscripts of a multi-dimensioned array need to be switched before passing the array to a Fortran routine from C.</p><p>As an example, the <strong>CONPACK</strong> routine <strong>CPRECT</strong> takes as one of its arguments a two-dimensional array, <em>ZDAT</em>.  If the Fortran dimensions of <em>ZDAT</em> are to be 25 x 14, then in the C program you must dimension <em>ZDAT</em> to be 14 x 25 before calling the C-binding <strong>c_cprect</strong>.  The next three arguments of <strong>CPRECT</strong> describe the array in question.  The first of these three arguments, <em>KZDT</em>, is the first dimension of the array <em>ZDAT</em> as it is declared in the Fortran calling program.  For <strong>CPRECT</strong> this value would be 25.  For the C-binding <strong>c_cprect</strong>, however, this argument is the second dimension of the array as declared in the C program.  This value would be 25 as well since the subscripts had to be switched in the C program. The second and third of these three arguments (<em>MZDT</em> and <em>NZDT</em>) specify the number of elements in each row and column (respectively) to be contoured.  If you only want to contour 20 x 10 of the array <em>ZDAT</em>, then <em>MZDT</em> and <em>NZDT</em> should be 20 and 10 respectively in <strong>CPRECT</strong>.  For <strong>c_cprect</strong>, these variables specify the columns and rows, so again, the values would be 20 and 10 (because the subscripts have to be switched).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHARACTER STRINGS</h2>
        <div class="sectioncontent">
<p>Another exception to the argument lists for the utility C-bindings has to do with routines that return character strings.  The NCAR Graphics routines that return strings through the parameter list do not have a string length as part of their argument lists, so you must pass an extra argument to the C-binding which specifies the maximum length of the string.  Also, all input strings passed to the C-bindings must be null-terminated!</p><p>For example, in the routine <strong>PCGETC</strong>, you pass a parameter name and it returns the value of that parameter which in this case is a string.  The two arguments to <strong>PCGETC</strong> are <em>WHCH</em> and <em>CVAL</em>, where <em>WHCH</em> is the parameter name and <em>CVAL</em> is the string to be returned.  Since the C-binding <strong>c_pcgetc</strong> needs to know the length of <em>cval</em>, an extra argument of type "int" must be passed.  Thus, the arguments for <strong>c_pcgetc</strong> would be <em>whch</em>, <em>cval</em>, and <em>len</em>, where <em>len</em> is the length of <em>cval</em> as it is declared in the C program.  In any case of having to add an extra argument for the string length, the extra argument will always be the last one in the list.  If more than one string length argument needs to be added, then each one should be added at the end of the argument list in the order that their corresponding strings appear.</p><p>There are some routines like <strong>AGDSHN</strong> which are defined as character strings themselves.  In this case, the user does not need to pass a string length since it is already defined.  But, the string that is returned is declared statically, thus it will go away once you call the routine again.  If you need to save these character strings, be sure to copy them to your own local variable.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTION PROTOTYPES</h2>
        <div class="sectioncontent">
<p>The C-bindings are intended to be ANSI C compliant.  To get the correct function prototypes for the utility C-bindings, you can include &lt;ncarg/ncargC.h&gt;.  For the GKS C-bindings, include &lt;ncarg/gks.h&gt;.  In some cases, it may be necessary to typecast the arguments in the utility C-bindings to get the prototypes correct. For example, the C-bindings do not distinguish between singly and multiply dimensioned arrays, so if you are passing a multiply dimensioned float array, you may need to typecast it as a (float *) if this is not how it is declared in the main program.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPILING YOUR PROGRAM</h2>
        <div class="sectioncontent">
<p>To compile your NCAR Graphics C program with the C-bindings, use the NCARG application <strong>ncargcc</strong>.  <strong>ncargcc</strong> will take care of loading in the necessary C/Fortran interface libraries as well as the NCAR Graphics C and Fortran libraries.  You will either need to set the NCARG_ROOT or the NCARG_BIN, NCARG_LIB, and NCARG_INCLUDE environment variables in order to run <strong>ncargcc</strong>.  See "man ncargintro" for more information.</p><p>If you do not wish to use <strong>ncargcc</strong>, then you can just run it with no arguments to see what the necessary libraries are, and then put this information in your Makefile or whatever else you are using to compile and link your program.  Note:  if you have an ANSI C compiler, it is important that you define the macro <strong>NeedFuncProto</strong> on the compile line so that function prototyping is included.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>A few examples of C programs that call the NCAR Graphics C-bindings have been provided for your convenience.  You may be familiar with the output from these C programs as they were modeled after the Fortran programs that you can get with the <strong>ncargex</strong> command.  To copy any one of these C programs in your directory, and then compile, link, and run it, type:</p><p><strong>ncargex</strong> <em>xxxx</em></p><p>where <em>xxxx</em> is the name of the example you wish to generate. To see a list of all the C examples, type:</p><p><strong>ncargex -C -list</strong></p><p><strong>ncargex</strong> uses <strong>ncargcc</strong> to compile and link the C-binding example programs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OBSOLETE ROUTINES</h2>
        <div class="sectioncontent">
<p>C-bindings have not been provided for user entry points in the following obsolete utilities:</p><p>Conran_family, Conrec_family, Halftone, Isosrfhr, and Pwrite_family.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ncarg_cbind&hellip;</h2>
        <div class="sectioncontent">
<p>Online: <strong>ncargcc(1NCARG),</strong> <strong>ncargex(1NCARG),</strong> <strong>ncarg_gks_cbind(3NCARG),</strong> <strong>ncargintro(5NCARG).</strong></p><p>Hardcopy: NCAR Graphics Fundamentals, UNIX Version; User's Guide for NCAR GKS-0A Graphics</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1987-2002</p><p>University Corporation for Atmospheric Research</p><p>The use of this Software is governed by a License Agreement.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="natgrids.3NCARG.html"><span aria-hidden="true">&larr;</span> natgrids.3NCARG: Primary single precision fortran entry for natural neighbor gridding</a></li>
   <li class="next"><a href="ncarg_gks_cbind.3NCARG.html">ncarg_gks_cbind.3NCARG: Description of how to use the ncar graphics gks c-binding. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
