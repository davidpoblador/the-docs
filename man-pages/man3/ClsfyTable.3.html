<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ClsfyTable: Specify an opacity transfer function</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Specify an opacity transfer function">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ClsfyTable (3) manual">
  <meta name="twitter:description" content="Specify an opacity transfer function">
  <meta name="twitter:image" content="https://www.carta.tech/images/libvolpack1-dev-ClsfyTable-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ClsfyTable.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ClsfyTable (3) manual" />
  <meta property="og:description" content="Specify an opacity transfer function" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libvolpack1-dev-ClsfyTable-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ClsfyTable<small> (3)</small></h1>
        <p class="lead">Specify an opacity transfer function</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ClsfyTable.3.html">
      <span itemprop="name">ClsfyTable: Specify an opacity transfer function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libvolpack1-dev/">
      <span itemprop="name">libvolpack1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ClsfyTable.3.html">
      <span itemprop="name">ClsfyTable: Specify an opacity transfer function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;volpack.h&gt;</p><p>&#92;$1 <strong>vpSetClassifierTable(</strong><em>vpc, param_num, param_field, table,</em> table_size<strong>)</strong></p><ul>
<li><p>vpContext *<em>vpc;</em> int <em>param_num, param_field;</em> float *<em>table;</em> int <em>table_size;</em></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>vpc</em>
  </dt>
  <dd>
    <p>VolPack context from <strong>vpCreateContext.</strong></p>
  </dd>
  <dt>
    <em>param_num</em>
  </dt>
  <dd>
    <p>Parameter number identifying one parameter of the opacity transfer function.</p>
  </dd>
  <dt>
    <em>param_field</em>
  </dt>
  <dd>
    <p>Field number identifying a voxel field that contains the parameter.</p>
  </dd>
  <dt>
    <em>table</em>
  </dt>
  <dd>
    <p>Lookup table that defines the mapping from the voxel field value to the opacity.</p>
  </dd>
  <dt>
    <em>table_size</em>
  </dt>
  <dd>
    <p>Size of <em>table</em> in bytes.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>vpSetClassifierTable</strong> is used to specify lookup tables that define an opacity transfer function.  The opacity transfer function must be of the form:</p><ul>
<li><p>opacity = f0(param0) * f1(param1) * ... * fN(paramN)</p></li>
</ul><p>where each of the factors is a function of one voxel field (see below for implementing more general classification models). <strong>vpSetClassifierTable</strong> must be called once for each factor to specify a lookup table that defines the factor.  After the function has been specified, opacities are computed by calling one of the classification functions: <strong>vpClassifyScalars, vpClassifyVolume,</strong> or <strong>vpClassifyScanline.</strong>  To classify a voxel, these functions use the values in the fields of the voxel as indexes into the opacity transfer function tables, retrieve one value from each table, and multiply the values together to compute the opacity for the voxel.  The opacity should be a number in the range 0.0-1.0, so normally each table contains numbers that are also in this range.</p><p>The parameters of the opacity transfer function are numbered from zero, and the total number of parameters must be specified using <strong>vpSetVoxelSize</strong> before calling <strong>vpSetClassifierTable</strong>.  The number of parameters is independent of the number of voxel fields: some fields may not be used as parameters, and one field could be used multiple times (although this is inefficient since all of the tables indexed by the same parameter could be merged into one table).</p><p>Each table should be a 1D array of numbers with one entry for each possible value of the corresponding voxel field.  The voxel field must contain an unsigned integer quantity.  Normally each table would be declared: float table[MAX_FIELD_VALUE + 1]; where MAX_FIELD_VALUE is the maximum possible value in the voxel field as specified with <strong>vpSetVoxelField.</strong>  The table may also be dynamically allocated.  Note that VolPack will never free the table, even if the VolPack context is destroyed with <strong>vpDestroyContext,</strong> so the application is responsible for freeing the memory when appropriate.  The values in the table may be initialized or modified at any time before or after calling <strong>vpSetClassifierTable,</strong> but before calling one of the classification routines.  See the function <strong>vpRamp</strong> for a convenient way to initialize tables with piece-wise linear ramps.</p><p>Classification functions that are not expressible in the form above can be handled as follows.  First, write your own routine that computes the opacity for each voxel.  Next, quantize the opacities using somewhere between 8 and 16 bits per voxel, and store the quantized values in one field of each voxel.  Finally, define an opacity transfer function table that maps the quantized opacities into a floating point number in the range 0.0-1.0 and use the table to define a single-parameter opacity transfer function by calling <strong>vpSetClassifierTable.</strong></p><p>The minimum opacity threshold should be set at the same time as the opacity transfer function.  See the VP_MIN_VOXEL_OPACITY argument to <strong>vpSetd</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STATE VARIABLES</h2>
        <div class="sectioncontent">
<p>The current classification function parameters can be retrieved with the following state variable codes (see <strong>vpGeti</strong>(3)): VP_CLASSIFY_FIELD_COUNT, VP_CLASSIFY_FIELDS, VP_CLASSIFY_TABLES, VP_CLASSIFY_TABLE_SIZES, VP_MIN_VOXEL_OPACITY</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>The normal return value is VP_OK.  The following error return value is possible:</p>
<dl class='dl-vertical'>
  <dt>
    VPERROR_BAD_VALUE
  </dt>
  <dd>
    <p>Either <em>param_num</em> or <em>field_num</em> is out of range.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ClsfyTable&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/VolPack.3.html"><strong>VolPack</strong>(3)</a>, <strong>vpCreateContext</strong>(3), <strong>vpClassifyScanline</strong>(3), <strong>vpClassifyScalars</strong>(3), <strong>vpClassifyVolume</strong>(3), <strong>vpRamp</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ClsfyScan.3.html"><span aria-hidden="true">&larr;</span> ClsfyScan.3: Incrementally create a preclassified volume from scanlines of scalar data</a></li>
   <li class="next"><a href="ClsfyVolume.3.html">ClsfyVolume.3: Create/destroy a preclassified volume for fast rendering <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
