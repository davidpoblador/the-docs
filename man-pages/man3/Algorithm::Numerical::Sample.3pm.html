<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Algorithm::Numerical::Sample: Draw samples from a set</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Draw samples from a set">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Algorithm::Numerical::Sample (3pm) manual">
  <meta name="twitter:description" content="Draw samples from a set">
  <meta name="twitter:image" content="https://www.carta.tech/images/libalgorithm-numerical-sample-perl-Algorithm::Numerical::Sample-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Algorithm::Numerical::Sample.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Algorithm::Numerical::Sample (3pm) manual" />
  <meta property="og:description" content="Draw samples from a set" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libalgorithm-numerical-sample-perl-Algorithm::Numerical::Sample-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Algorithm::Numerical::Sample<small> (3pm)</small></h1>
        <p class="lead">Draw samples from a set</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Algorithm::Numerical::Sample.3pm.html">
      <span itemprop="name">Algorithm::Numerical::Sample: Draw samples from a set</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libalgorithm-numerical-sample-perl/">
      <span itemprop="name">libalgorithm-numerical-sample-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Algorithm::Numerical::Sample.3pm.html">
      <span itemprop="name">Algorithm::Numerical::Sample: Draw samples from a set</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Algorithm::Numerical::Sample  qw /sample/;

    @sample = sample (-set         =&gt; [1 .. 10000],
                      -sample_size =&gt; 100);

    $sampler = Algorithm::Numerical::Sample::Stream -&gt; new;
    while (&lt;&gt;) {$sampler -&gt; data ($_)}
    $random_line = $sampler -&gt; extract;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This package gives two methods to draw fair, random samples from a set. There is a procedural interface for the case the entire set is known, and an object oriented interface when the a set with unknown size has to be processed. The \*(C`sample\*(C' function takes a set and a sample size as arguments. If the sample size is omitted, a sample of 1 is taken. The keywords \*(C`set\*(C' and \*(C`sample_size\*(C' may be preceeded with an optional \*(C`-\*(C'. The function returns the sample list, or a reference to the sample list, depending on the context. The class \*(C`Algorithm::Numerical::Sample::Stream\*(C' has the following methods: This function returns an object of the \*(C`Algorithm::Numerical::Sample::Stream\*(C' class. It will take an optional argument of the form \*(C`sample_size =&gt; EXPR\*(C', where \*(C`EXPR\*(C' evaluates to the sample size to be taken. If this argument is missing, a sample of size 1 will be taken. The keyword \*(C`sample_size\*(C' may be preceeded by an optional dash. The method \*(C`data\*(C' takes a list of parameters which are elements of the set we are sampling. Any number of arguments can be given. This method will extract the sample from the object, and reset it to a fresh state, such that a sample of the same size but from a different set, can be taken. \*(C`extract\*(C' will return a list in list context, or the first element of the sample in scalar context.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CORRECTNESS PROOFS</h2>
        <div class="sectioncontent">
<h3>Algorithm A.</h3>
<p>Crucial to see that the \*(C`sample\*(C' algorithm is correct is the fact that when we sample \*(C`n\*(C' elements from a set of size \*(C`N\*(C' that the \*(C`t + 1\*(C'st element is choosen with probability \*(C`(n - m)/(N - t)\*(C', when already \*(C`m\*(C' elements have been choosen. We can immediately see that we will never pick too many elements (as the probability is 0 as soon as \*(C`n == m\*(C'), nor too few, as the probability will be 1 if we have \*(C`k\*(C' elements to choose from the remaining \*(C`k\*(C' elements, for some \*(C`k\*(C'. For the proof that the sampling is unbiased, we refer to [3]. (Section 3.4.2, Exercise 3).</p>
<h3>Algorithm B.</h3>
<p>It is easy to see that the second algorithm returns the correct number of elements. For a sample of size \*(C`n\*(C', the first \*(C`n\*(C' elements go into the reservoir, and after that, the reservoir never grows or shrinks in size; elements only get replaced. A detailed proof of the fairness of the algorithm appears in [3]. (Section 3.4.2, Exercise 7).</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LITERATURE</h2>
        <div class="sectioncontent">
<p>Both algorithms are discussed by Knuth [3] (Section 3.4.2). The first algoritm, <em>Selection sampling technique</em>, was discovered by Fan, Muller and Rezucha [1], and independently by Jones [2]. The second algorithm, <em>Reservoir sampling</em>, is due to Waterman.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    [1]
  </dt>
  <dd>
    <p>C. T. Fan, M. E. Muller and I. Rezucha, <em>J. Amer. Stat. Assoc.</em> <strong>57</strong> (1962), pp 387 - 402.</p>
  </dd>
  <dt>
    [2]
  </dt>
  <dd>
    <p>T. G. Jones, <em>\s-1CACM\s0</em> <strong>5</strong> (1962), pp 343.</p>
  </dd>
  <dt>
    [3]
  </dt>
  <dd>
    <p>D. E. Knuth: <em>The Art of Computer Programming</em>, Volume 2, Third edition. Reading: Addison-Wesley, 1997. \s-1ISBN:\s0 0-201-89684-2.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEVELOPMENT</h2>
        <div class="sectioncontent">
<p>The current sources of this module are found on github, &lt;git://github.com/Abigail/algorithm\*(--numerical--sample.git&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This package was written by Abigail, cpan@abigail.be.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT and LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1998, 1999, 2009, Abigail.</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \*(L"Software\*(R"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p><p>\s-1THE\s0 \s-1SOFTWARE\s0 \s-1IS\s0 \s-1PROVIDED\s0 \*(L"\s-1AS\s0 \s-1IS\s0\*(R", \s-1WITHOUT\s0 \s-1WARRANTY\s0 \s-1OF\s0 \s-1ANY\s0 \s-1KIND\s0, \s-1EXPRESS\s0 \s-1OR\s0 \s-1IMPLIED\s0, \s-1INCLUDING\s0 \s-1BUT\s0 \s-1NOT\s0 \s-1LIMITED\s0 \s-1TO\s0 \s-1THE\s0 \s-1WARRANTIES\s0 \s-1OF\s0 \s-1MERCHANTABILITY\s0, \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0 \s-1AND\s0 \s-1NONINFRINGEMENT\s0. \s-1IN\s0 \s-1NO\s0 \s-1EVENT\s0 \s-1SHALL\s0 \s-1THE\s0 \s-1AUTHORS\s0 \s-1OR\s0 \s-1COPYRIGHT\s0 \s-1HOLDERS\s0 \s-1BE\s0 \s-1LIABLE\s0 \s-1FOR\s0 \s-1ANY\s0 \s-1CLAIM\s0, \s-1DAMAGES\s0 \s-1OR\s0 \s-1OTHER\s0 \s-1LIABILITY\s0, \s-1WHETHER\s0 \s-1IN\s0 \s-1AN\s0 \s-1ACTION\s0 \s-1OF\s0 \s-1CONTRACT\s0, \s-1TORT\s0 \s-1OR\s0 \s-1OTHERWISE\s0, \s-1ARISING\s0 \s-1FROM\s0, \s-1OUT\s0 \s-1OF\s0 \s-1OR\s0 \s-1IN\s0 \s-1CONNECTION\s0 \s-1WITH\s0 \s-1THE\s0 \s-1SOFTWARE\s0 \s-1OR\s0 \s-1THE\s0 \s-1USE\s0 \s-1OR\s0 \s-1OTHER\s0 \s-1DEALINGS\s0 \s-1IN\s0 \s-1THE\s0 \s-1SOFTWARE\s0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Algorithm::Munkres.3pm.html"><span aria-hidden="true">&larr;</span> Algorithm::Munkres.3pm: </a></li>
   <li class="next"><a href="Any::Template::ProcessDir.3pm.html">Any::Template::ProcessDir.3pm: Process a directory of templates <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
