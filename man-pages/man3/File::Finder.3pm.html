<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>File::Finder: Nice wrapper for file::find ala find(1)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Nice wrapper for file::find ala find(1)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="File::Finder (3pm) manual">
  <meta name="twitter:description" content="Nice wrapper for file::find ala find(1)">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfile-finder-perl-File::Finder-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/File::Finder.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="File::Finder (3pm) manual" />
  <meta property="og:description" content="Nice wrapper for file::find ala find(1)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfile-finder-perl-File::Finder-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">File::Finder<small> (3pm)</small></h1>
        <p class="lead">Nice wrapper for file::find ala find(1)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/File::Finder.3pm.html">
      <span itemprop="name">File::Finder: Nice wrapper for file::find ala find(1)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfile-finder-perl/">
      <span itemprop="name">libfile-finder-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/File::Finder.3pm.html">
      <span itemprop="name">File::Finder: Nice wrapper for file::find ala find(1)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use File::Finder;
  ## simulate "-type f"
  my $all_files = File::Finder-&gt;type(&apos;f&apos;);

  ## any rule can be extended:
  my $all_files_printer = $all_files-&gt;print;

  ## traditional use: generating "wanted" subroutines:
  use File::Find;
  find($all_files_printer, @starting_points);

  ## or, we can gather up the results immediately:
  my @results = $all_files-&gt;in(@starting_points);

  ## -depth and -follow are noted, but need a bit of help for find:
  my $deep_dirs = File::Finder-&gt;depth-&gt;type(&apos;d&apos;)-&gt;ls-&gt;exec(&apos;rmdir&apos;,&apos;{}&apos;);
  find($deep_dirs-&gt;as_options, @places);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\*(C`File::Find\*(C' is great, but constructing the \*(C`wanted\*(C' routine can sometimes be a pain.  This module provides a \*(C`wanted\*(C'-writer, using syntax that is directly mappable to the <em>find</em> command's syntax.</p><p>Also, I find myself (heh) frequently just wanting the list of names that match.  With \*(C`File::Find\*(C', I have to write a little accumulator, and then access that from a closure.  But with \*(C`File::Finder\*(C', I can turn the problem inside out.</p><p>A \*(C`File::Finder\*(C' object contains a hash of \*(C`File::Find\*(C' options, and a series of steps that mimic <em>find</em>'s predicates.  Initially, a \*(C`File::Finder\*(C' object has no steps.  Each step method clones the previous object's options and steps, and then adds the new step, returning the new object.  In this manner, an object can be grown, step by step, by chaining method calls.  Furthermore, a partial sequence can be created and held, and used as the head of many different sequences.</p><p>For example, a step sequence that finds only files looks like:</p><p>  my $files = File::Finder-&gt;type(&apos;f&apos;);</p><p>Here, \*(C`type\*(C' is acting as a class method and thus a constructor.  An instance of \*(C`File::Finder\*(C' is returned, containing the one step to verify that only files are selected.  We could use this immediately as a \*(C`File::Find::find\*(C' wanted routine, although it'd be uninteresting:</p><p>  use File::Find;   find($files, "/tmp");</p><p>Calling a step method on an existing object adds the step, returning the new object:</p><p>  my $files_print = $files-&gt;print;</p><p>And now if we use this with \*(C`find\*(C', we get a nice display:</p><p>  find($files_print, "/tmp");</p><p>Of course, we didn't really need that second object: we could have generated it on the fly:</p><p>  find($files-&gt;print, "/tmp");</p><p>\*(C`File::Find\*(C' supports options to modify behavior, such as depth-first searching.  The \*(C`depth\*(C' step flags this in the options as well:</p><p>  my $files_depth_print = $files-&gt;depth-&gt;print;</p><p>However, the \*(C`File::Finder\*(C' object needs to be told explictly to generate an options hash for \*(C`File::Find::find\*(C' to pass this information along:</p><p>  find($files_depth_print-&gt;as_options, "/tmp");</p><p>A \*(C`File::Finder\*(C' object, like the <em>find</em> command, supports \s-1AND\s0, \s-1OR\s0, \s-1NOT\s0, and parenthesized sub-expressions.  \s-1AND\s0 binds tighter than \s-1OR\s0, and is also implied everywhere that it makes sense.  Like <em>find</em>, the predicates are computed in a \*(L"short-circuit\*(R" fashion, so that a false to the left of the (implied) \s-1AND\s0 keeps the right side from being evaluated, including entire parenthesized subexpressions.  Similarly, if the left side of an \s-1OR\s0 is false, the right side is evaluated, and if the left side of the \s-1OR\s0 is true, the right side is skipped.  Nested parens are handled properly.  Parens are indicated with the rather ugly \*(C`left\*(C' and \*(C`right\*(C' methods:</p><p>  my $big_or_old_files = $files-&gt;left-&gt;size("+50")-&gt;or-&gt;atime("+30")-&gt;right;</p><p>The parens here correspond directly to the parens in:</p><p>  find somewhere -type f &apos;(&apos; -size +50 -o -atime +30 &apos;)&apos;</p><p>and are needed so that the \s-1OR\s0 and the implied ANDs have the right nesting.</p><p>Besides passing the constructed \*(C`File::Finder\*(C' object to \*(C`File::Finder::find\*(C' directly as a \*(C`wanted\*(C' routine or an options hash, you can also call \*(C`find\*(C' implictly, with \*(C`in\*(C'.  \*(C`in\*(C' provides a list of starting points, and returns all filenames that match the criteria.</p><p>For example, a list of all names in /tmp can be generated simply with:</p><p> my @names = File::Finder-&gt;in("/tmp");</p><p>For more flexibility, use \*(C`collect\*(C' to execute an arbitrary block in a list context, concatenating all the results (similar to \*(C`map\*(C'):</p><p>  my %sizes = File::Finder     -&gt;collect(sub { $File::Find::name =&gt; -s _ }, "/tmp");</p><p>That's all I can think of for now.  The rest is in the detailed reference below.</p><h3>\s-1META\s0 \s-1METHODS\s0</h3>
<p>All of these methods can be used as class or instance methods, except \*(C`new\*(C', which is usually not needed and is class only.</p>
<dl class='dl-vertical'>
  <dt>
    new
  </dt>
  <dd>
    <p>Not strictly needed, because any instance method called on a class will create a new object anyway.</p>
  </dd>
  <dt>
    as_wanted
  </dt>
  <dd>
    <p>Returns a subroutine suitable for passing to \*(C`File::Find::find\*(C' or \*(C`File::Find::finddepth\*(C' as the <em>wanted</em> routine.  If the object is used in a place that wants a coderef, this happens automatically through overloading.</p>
  </dd>
  <dt>
    as_options
  </dt>
  <dd>
    <p>Returns a hashref suitable for passing to \*(C`File::Find::find\*(C' or \*(C`File::Find::finddepth\*(C' as the <em>options</em> hash. This is necessary if you want the meta-information to carry forward properly.</p>
  </dd>
  <dt>
    in(@starting_points)
  </dt>
  <dd>
    <p>Calls \*(C`File::Find::find($self-&gt;as_options, @starting_points)\*(C', gathering the results, and returns the results as a list.  At the moment, it also returns the count of those items in a scalar context. If that's useful, I'll maintain that. Calls $coderef in a list context for each of the matching items, gathering and concatenating the results, and returning the results as a list.   my $f = File::Finder-&gt;type(&apos;f&apos;);   my %sizes = $f-&gt;collect(sub { $File::Find::name, -s _ }, "/tmp"); In fact, \*(C`in\*(C' is implemented by calling \*(C`collect\*(C' with a coderef of just \*(C`sub { $File::Find::name }\*(C'.</p>
  </dd>

</dl>

<h3>\s-1STEPS\s0</h3>
<p>See File::Finder::Steps.</p>
<h3>\s-1SPEED\s0</h3>
<p>All the steps can have a compile-time and run-time component.  As much work is done during compile-time as possible.  Runtime consists of a simple linear pass executing a series of closures representing the individual steps (not method calls).  It is hoped that this will produce a speed that is within a factor of 2 or 3 of a handcrafted monolithic \*(C`wanted\*(C' routine.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO File::Finder&hellip;</h2>
        <div class="sectioncontent">
<p>File::Finder::Steps, File::Find, find2perl, File::Find::Rule</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report bugs to \*(C`bug-File-Finder@rt.cpan.org\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Randal L. Schwartz, &lt;merlyn@stonehenge.com&gt;, with a tip of the hat to Richard Clamp for \*(C`File::Find::Rule\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2003,2004 by Randal L. Schwartz, Stonehenge Consulting Services, Inc.</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.2 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="File::Find::Wanted.3pm.html"><span aria-hidden="true">&larr;</span> File::Find::Wanted.3pm: More obvious wrapper around file::find</a></li>
   <li class="next"><a href="File::Finder::Steps.3pm.html">File::Finder::Steps.3pm: Steps for file::finder <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
