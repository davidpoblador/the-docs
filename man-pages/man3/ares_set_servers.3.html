<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ares_set_servers: Initialize an ares_channel name servers configuration</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Initialize an ares_channel name servers configuration">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ares_set_servers (3) manual">
  <meta name="twitter:description" content="Initialize an ares_channel name servers configuration">
  <meta name="twitter:image" content="https://www.carta.tech/images/libc-ares-dev-ares_set_servers-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ares_set_servers.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ares_set_servers (3) manual" />
  <meta property="og:description" content="Initialize an ares_channel name servers configuration" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libc-ares-dev-ares_set_servers-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ares_set_servers<small> (3)</small></h1>
        <p class="lead">Initialize an ares_channel name servers configuration</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ares_set_servers.3.html">
      <span itemprop="name">ares_set_servers: Initialize an ares_channel name servers configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libc-ares-dev/">
      <span itemprop="name">libc-ares-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ares_set_servers.3.html">
      <span itemprop="name">ares_set_servers: Initialize an ares_channel name servers configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;ares.h&gt;</strong>

<strong>int ares_set_servers(ares_channel </strong><em>channel</em><strong>, struct ares_addr_node *</strong><em>servers</em><strong>)</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <a href="../man3/ares_set_servers.3.html"><strong>ares_set_servers</strong>(3)</a></strong> function initializes name servers configuration for the channel data identified by <em>channel</em>, from a <em>servers</em> pointer to a linked list of ares_addr_node structs holding name servers address data.</p><p>The name server linked list pointer argument may be the result of a previous call to <a href="../man3/ares_get_servers.3.html"><strong>ares_get_servers</strong>(3)</a></strong> or a linked list of ares_addr_node structs setup by other means.</p><p>This function replaces any potentially previously configured name servers with the ones given in the linked list. So, in order to configure a channel with more than one name server all the desired ones must be specified in a single list.</p><p><a href="../man3/ares_set_servers.3.html"><strong>ares_set_servers</strong>(3)</a></strong> does not take ownership of the linked list argument. The caller is responsible for freeing the linked list when no longer needed.</p><p>This function is capable of handling IPv4 and IPv6 name server addresses simultaneously, rendering <a href="../man3/ares_init_options.3.html"><strong>ares_init_options</strong>(3)</a></strong> with optmask <strong>ARES_OPT_SERVERS</strong> functionally obsolete except for IPv4-only name server usage.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p><a href="../man3/ares_set_servers.3.html"><strong>ares_set_servers</strong>(3)</a></strong> may return any of the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ARES_SUCCESS</strong></p>
  </dt>
  <dd>
    <p>The name servers configuration was successfuly initialized.</p>
  </dd>
  <dt>
    <p><strong>ARES_ENOMEM</strong></p>
  </dt>
  <dd>
    <p>The process's available memory was exhausted.</p>
  </dd>
  <dt>
    <p><strong>ARES_ENODATA</strong></p>
  </dt>
  <dd>
    <p>The channel data identified by <em>channel</em> was invalid.</p>
  </dd>
  <dt>
    <p><strong>ARES_ENOTINITIALIZED</strong></p>
  </dt>
  <dd>
    <p>c-ares library initialization not yet performed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ares_set_servers&hellip;</h2>
        <div class="sectioncontent">
<p><strong>ares_set_servers_csv</strong>(3), <a href="../man3/ares_get_servers.3.html"><strong>ares_get_servers</strong>(3)</a>, <a href="../man3/ares_init_options.3.html"><strong>ares_init_options</strong>(3)</a>, <a href="../man3/ares_dup.3.html"><strong>ares_dup</strong>(3)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p><a href="../man3/ares_set_servers.3.html"><strong>ares_set_servers</strong>(3)</a> was added in c-ares 1.7.1</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Implementation of this function and associated library internals are based on code, comments and feedback provided in November and December of 2008 by Daniel Stenberg, Gregor Jasny, Phil Blundell and Yang Tse, December 2009 by Cedric Bail, February 2010 by Jakub Hrozek. On March 2010 Yang Tse shuffled all the bits and this function popped out.</p><p>Copyright 1998 by the Massachusetts Institute of Technology.</p><p>Copyright (C) 2008-2010 by Daniel Stenberg</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ares_send.3.html"><span aria-hidden="true">&larr;</span> ares_send.3: Initiate a dns query</a></li>
   <li class="next"><a href="ares_set_socket_callback.3.html">ares_set_socket_callback.3: Set a socket creation callback <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
