<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mtp_playlists: The audio/video playlist management api.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The audio/video playlist management api.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mtp_playlists (3) manual">
  <meta name="twitter:description" content="The audio/video playlist management api.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmtp-doc-mtp_playlists-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/mtp_playlists.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mtp_playlists (3) manual" />
  <meta property="og:description" content="The audio/video playlist management api." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmtp-doc-mtp_playlists-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mtp_playlists<small> (3)</small></h1>
        <p class="lead">The audio/video playlist management api.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mtp_playlists.3.html">
      <span itemprop="name">mtp_playlists: The audio/video playlist management api.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmtp-doc/">
      <span itemprop="name">libmtp-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mtp_playlists.3.html">
      <span itemprop="name">mtp_playlists: The audio/video playlist management api.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>int LIBMTP_Create_New_Playlist (\fBLIBMTP_mtpdevice_t\fP *device, \fBLIBMTP_playlist_t\fP *constmetadata)</h3>
<p>This routine creates a new playlist based on the metadata supplied. If the tracks field of the metadata contains a track listing, these tracks will be added to the playlist.</p><p><strong>Parameters:</strong></p><p><em>device</em> a pointer to the device to create the new playlist on.</p><p><em>metadata</em> the metadata for the new playlist. If the function exits with success, the playlist_id<em> field of this struct will contain the new playlist ID of the playlist.</em></p><ul>
<li><p>metadata-&gt;parent_id should be set to the parent (e.g. folder) to store this track in. Since some devices are a bit picky about where files are placed, a default folder will be chosen if libmtp has detected one for the current filetype and this parameter is set to 0. If this is 0 and no default folder can be found, the file will be stored in the root folder.</p></li><li><p>metadata-&gt;storage_id should be set to the desired storage (e.g. memory card or whatever your device presents) to store this track in. Setting this to 0 will store the track on the primary storage.</p></li>
</ul><p><strong>Returns:</strong></p><p>0 on success, any other value means failure.</p><p><strong>See also:</strong></p><p><strong>LIBMTP_Update_Playlist()</strong></p><p><strong>LIBMTP_Delete_Object()</strong></p><p>References LIBMTP_mtpdevice_struct::default_music_folder, LIBMTP_mtpdevice_struct::default_playlist_folder, get_playlist_extension(), LIBMTP_playlist_struct::name, LIBMTP_playlist_struct::no_tracks, LIBMTP_playlist_struct::parent_id, LIBMTP_playlist_struct::playlist_id, LIBMTP_playlist_struct::storage_id, LIBMTP_playlist_struct::tracks, and LIBMTP_mtpdevice_struct::usbinfo.</p>
<h3>void LIBMTP_destroy_playlist_t (\fBLIBMTP_playlist_t\fP *playlist)</h3>
<p>This destroys a playlist metadata structure and deallocates the memory used by it, including any strings. Never use a track metadata structure again after calling this function on it.</p><p><strong>Parameters:</strong></p><p><em>playlist</em> the playlist metadata to destroy.</p><p><strong>See also:</strong></p><p><strong>LIBMTP_new_playlist_t()</strong></p><p>References LIBMTP_playlist_struct::name, and LIBMTP_playlist_struct::tracks.</p>
<h3>\fBLIBMTP_playlist_t\fP* LIBMTP_Get_Playlist (\fBLIBMTP_mtpdevice_t\fP *device, uint32_t constplid)</h3>
<p>This function retrieves an individual playlist from the device.</p><p><strong>Parameters:</strong></p><p><em>device</em> a pointer to the device to get the playlist from.</p><p><em>plid</em> the unique ID of the playlist to retrieve.</p><p><strong>Returns:</strong></p><p>a valid playlist metadata post or NULL on failure.</p><p><strong>See also:</strong></p><p><strong>LIBMTP_Get_Playlist_List()</strong></p><p>References LIBMTP_new_playlist_t(), LIBMTP_mtpdevice_struct::params, and LIBMTP_mtpdevice_struct::usbinfo.</p>
<h3>\fBLIBMTP_playlist_t\fP* LIBMTP_Get_Playlist_List (\fBLIBMTP_mtpdevice_t\fP *device)</h3>
<p>This function returns a list of the playlists available on the device. Typical usage:</p>
<pre>

</pre>
<p><strong>Parameters:</strong></p><p><em>device</em> a pointer to the device to get the playlist listing from.</p><p><strong>Returns:</strong></p><p>a playlist list on success, else NULL. If there are no playlists on the device, NULL will be returned as well.</p><p><strong>See also:</strong></p><p><strong>LIBMTP_Get_Playlist()</strong></p><p>References LIBMTP_new_playlist_t(), LIBMTP_playlist_struct::name, LIBMTP_playlist_struct::next, LIBMTP_playlist_struct::no_tracks, LIBMTP_mtpdevice_struct::params, LIBMTP_playlist_struct::parent_id, LIBMTP_playlist_struct::playlist_id, LIBMTP_playlist_struct::storage_id, LIBMTP_playlist_struct::tracks, and LIBMTP_mtpdevice_struct::usbinfo.</p>
<h3>\fBLIBMTP_playlist_t\fP* LIBMTP_new_playlist_t (void)</h3>
<p>This creates a new playlist metadata structure and allocates memory for it. Notice that if you add strings to this structure they will be freed by the corresponding LIBMTP_destroy_playlist_t operation later, so be careful of using strdup() when assigning strings, e.g.:</p>
<pre>
LIBMTP_playlist_t *pl = <strong>LIBMTP_new_playlist_t()</strong>;
pl-&gt;name = strdup(str);
....
LIBMTP_destroy_playlist_t(pl);
</pre>
<p><strong>Returns:</strong></p><p>a pointer to the newly allocated metadata structure.</p><p><strong>See also:</strong></p><p><strong>LIBMTP_destroy_playlist_t()</strong></p><p>References LIBMTP_playlist_struct::playlist_id.</p><p>Referenced by LIBMTP_Get_Playlist(), and LIBMTP_Get_Playlist_List().</p>
<h3>int LIBMTP_Set_Playlist_Name (\fBLIBMTP_mtpdevice_t\fP *device, \fBLIBMTP_playlist_t\fP *playlist, const char *newname)</h3>
<p>This function renames a single playlist object file holder. This simply means that the PTP_OPC_ObjectFileName property is updated, if this is supported by the device. The playlist filename should nominally end with an extension like '.pla'.</p><p>NOTE: if you want to change the metadata the device display about a playlist you must <em>not</em> use this function, use <strong>LIBMTP_Update_Playlist()</strong><strong> instead!</strong></p><p><strong>Parameters:</strong></p><p><em>device</em> a pointer to the device that contains the file.</p><p><em>playlist</em> the playlist metadata of the playlist to rename. On success, the name member is updated. Be aware, that this name can be different than newname depending of device restrictions.</p><p><em>newname</em> the new name for this object.</p><p><strong>Returns:</strong></p><p>0 on success, any other value means failure.</p><p><strong>See also:</strong></p><p><strong>LIBMTP_Update_Playlist()</strong></p><p>References LIBMTP_playlist_struct::name, and LIBMTP_playlist_struct::playlist_id.</p>
<h3>int LIBMTP_Update_Playlist (\fBLIBMTP_mtpdevice_t\fP *device, \fBLIBMTP_playlist_t\fP *constmetadata)</h3>
<p>This routine updates a playlist based on the metadata supplied. If the tracks field of the metadata contains a track listing, these tracks will be added to the playlist in place of those already present, i.e. the previous track listing will be deleted. For Samsung devices the playlist id (metadata-&gt;playlist_id) is likely to change.</p><p><strong>Parameters:</strong></p><p><em>device</em> a pointer to the device to create the new playlist on.</p><p><em>metadata</em> the metadata for the playlist to be updated. notice that the field playlist_id<em> must contain the apropriate playlist ID. Playlist ID be modified to a new playlist ID by the time the function returns since edit-in-place is not always possible.</em></p><p><strong>Returns:</strong></p><p>0 on success, any other value means failure.</p><p><strong>See also:</strong></p><p><strong>LIBMTP_Create_New_Playlist()</strong></p><p><strong>LIBMTP_Delete_Object()</strong></p><p>References LIBMTP_playlist_struct::name, LIBMTP_playlist_struct::no_tracks, LIBMTP_playlist_struct::playlist_id, LIBMTP_playlist_struct::tracks, and LIBMTP_mtpdevice_struct::usbinfo.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for libmtp from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mtp_objects.3.html"><span aria-hidden="true">&larr;</span> mtp_objects.3: The object management api.</a></li>
   <li class="next"><a href="mtp_propertymap_struct.3.html">mtp_propertymap_struct.3: Propertymap_struct <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
