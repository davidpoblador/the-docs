<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gtk2::Ex::Entry::Pango: Gtk2 entry that accepts pango markup.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gtk2 entry that accepts pango markup.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Gtk2::Ex::Entry::Pango (3pm) manual">
  <meta name="twitter:description" content="Gtk2 entry that accepts pango markup.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgtk2-ex-entry-pango-perl-Gtk2::Ex::Entry::Pango-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Gtk2::Ex::Entry::Pango.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Gtk2::Ex::Entry::Pango (3pm) manual" />
  <meta property="og:description" content="Gtk2 entry that accepts pango markup." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgtk2-ex-entry-pango-perl-Gtk2::Ex::Entry::Pango-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Gtk2::Ex::Entry::Pango<small> (3pm)</small></h1>
        <p class="lead">Gtk2 entry that accepts pango markup.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Gtk2::Ex::Entry::Pango.3pm.html">
      <span itemprop="name">Gtk2::Ex::Entry::Pango: Gtk2 entry that accepts pango markup.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgtk2-ex-entry-pango-perl/">
      <span itemprop="name">libgtk2-ex-entry-pango-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Gtk2::Ex::Entry::Pango.3pm.html">
      <span itemprop="name">Gtk2::Ex::Entry::Pango: Gtk2 entry that accepts pango markup.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        use Gtk2::Ex::Entry::Pango;


        # You can use any method defined in Gtk2::Entry or set_markup()
        my $entry = Gtk2::Ex::Entry::Pango-&gt;new();
        $entry-&gt;set_markup(&apos;&lt;i&gt;Pan&lt;/i&gt;&lt;b&gt;go&lt;/b&gt; is &lt;span color="red"&gt;fun&lt;/span&gt;&apos;);


        # Create a simple search field
        my $search = Gtk2::Ex::Entry::Pango-&gt;new();
        $search-&gt;set_empty_markup("&lt;span color=&apos;grey&apos; size=&apos;smaller&apos;&gt;Search...&lt;/span&gt;");


        # Realtime validation - accept only ASCII letters
        my $validation = Gtk2::Ex::Entry::Pango-&gt;new();
        $validation-&gt;signal_connect(changed =&gt; sub {
                my $text = $validation-&gt;get_text;

                # Validate the entry&apos;s text
                if ($text =~ /^[a-z]*$/) {
                        return;
                }

                # Mark the string as being erroneous
                my $escaped = Glib::Markup::escape_text($text);
                $validation-&gt;set_markup("&lt;span underline=&apos;error&apos; underline_color=&apos;red&apos;&gt;$escaped&lt;/span&gt;");
                $validation-&gt;signal_stop_emission_by_name(&apos;changed&apos;);
        });
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HIERARCHY</h2>
        <div class="sectioncontent">
<p>\*(C`Gtk2::Ex::Entry::Pango\*(C' is a subclass of Gtk2::Entry.</p><p>        Glib::Object         +----Glib::InitiallyUnowned              +----Gtk2::Object                   +----Gtk2::Widget                        +----Gtk2::Entry                             +----Gtk2::Ex::Entry::Pango</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\*(C`Gtk2::Ex::Entry::Pango\*(C' is a \*(C`Gtk2::Entry\*(C' that can accept Pango markup for various purposes (for more information about Pango text markup language see &lt;http://library.gnome.org/devel/pango/stable/PangoMarkupFormat.html&gt;).</p><p>The widget allows Pango markup to be used for input as an alternative to \*(C`set_text\*(C' or for setting a default value when the widget is empty. The default value when empty is ideal for standalone text entries that have no accompanying label (such as a text field for a search).</p><p>This widget allows for the text data to be entered either through the normal methods provided by \*(C`Gtk2::Entry\*(C' or to use the method \*(L"set_markup\*(R". It's possible to switch between two methods for applying the text. The standard \*(C`Gtk2::Entry\*(C' methods will always apply a text without styles while \*(C`set_markup()\*(C' will use a style.</p><p>The widget \*(C`Gtk2::Ex::Entry::Pango\*(C' keeps track of which style to apply by listening to the signal <em>changed</em>. This has some important consequences. If an instance needs to provide it's own <em>changed</em> listener that calls \*(C`set_markup()\*(C' then the signal <em>changed</em> has to be stopped otherwise the layout will be lost. The following code snippet show how to stop the emission of the <em>changed</em> signal:</p><p>        my $entry = Gtk2::Ex::Entry::Pango-&gt;new();         $entry-&gt;signal_connect(changed =&gt; sub {</p><p>                # Validate the text                 my $text = $entry-&gt;get_text;                 if (validate($text)) {                                 return;                 }</p><p>                # Mark the text as being erroneous                 my $escaped = Glib::Markup::escape_text($text);                 $entry-&gt;set_markup("&lt;span underline=&apos;error&apos; underline_color=&apos;red&apos;&gt;$escaped&lt;/span&gt;");                 $entry-&gt;signal_stop_emission_by_name(&apos;changed&apos;);         });</p><p>Another important thing to note is that \*(C`Gtk2::Entry::set_text()\*(C' will not update it's content if the input text is the same as the text already stored. This means that if set text is called with the same string it will not emit the signal <em>changed</em> and the widget will not pickup that the markup styles have to be dropped. This is true even it the string displayed uses markup, as long as the contents are the same \*(C`set_text()\*(C' will not make an update. The method \*(L"clear_markup\*(R" can be used for safely clearing the markup text.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>A \*(C`Gtk2::Entry\*(C' keeps track of both the text and the markup styles (Pango layout) as two different entities . The markup styles are just styles applied over the internal text. Because of this it's possible to have the widget display a different text than the one stored internally.</p><p>Because a \*(C`Gtk2::Entry\*(C' keeps track of both the text and the style layouts. It's important to always keep track of both. If the styles and text are not totally synchronized strange things will happen. In the worst case it's even possible to make the \*(C`Gtk2::Entry\*(C' widget display a different text than the one stored (the text value). This can make things more confusing.</p><p>This widget tries as hard as possible to synchronize the text data and the layout data.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERFACES</h2>
        <div class="sectioncontent">
<p>        Glib::Object::_Unregistered::AtkImplementorIface         Gtk2::Buildable         Gtk2::CellEditable         Gtk2::Editable</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>The following methods are added by this widget:</p><h3>new</h3>
<p>Creates a new instance.</p>
<h3>set_markup</h3>
<p>Sets the text of the entry using Pango markup. This method can die if the markup is not valid and fails to parse (see \*(L"parse_markup\*(R" in Gtk2::Pango).</p><p>Parameters:</p><ul>
<li><p>$markup The text to add to the entry, the text is expected to be using Pango markup. This means that even if no markup is used special characters like &lt;, &gt;, &, ' and " need to be escaped. Keep in mind that Pango markup is a subset of \s-1XML\s0. You might want to use the following code snippet for escaping the characters:         $entry-&gt;set_markup(                 sprintf "The &lt;i&gt;%s&lt;/i&gt; &lt;b&gt;%s&lt;/b&gt; fox &lt;sup&gt;%s&lt;/sup&gt; over the lazy dog",                         map { Glib::Markup::escape_text($_) } qw(quick brown jumps)         );</p></li>
</ul>
<h3>clear_markup</h3>
<p>Clears the Pango markup that was applied to the widget. This method can be called even if no markup was applied previously.</p><p><strong>\s-1NOTE\s0</strong>: That this method will emit the signal <em>markup-changed</em>.</p>
<h3>set_empty_markup</h3>
<p>Sets the Pango markup that was applied to the widget when there's the entry is empty. This method can die if the markup is not valid and fails to parse (see \*(L"parse_markup\*(R" in Gtk2::Pango).</p><p>\*(C`NOTE:\*(C' Setting an empty markup string has no effect on \*(C`get_text\*(C'. When an empty markup string is used the entry holds no data thus \*(C`get_text\*(C' will return an empty string.</p><p>Parameters:</p><ul>
<li><p>$markup The text to add to the entry, the text is expected to be using Pango markup. Make sure to escape all characters with \*(L"escape_text\*(R" in Glib::Markup. For more details about escaping the markup see \*(L"set_markup\*(R".</p></li>
</ul>
<h3>clear_empty_markup</h3>
<p>Clears the Pango markup that was applied to the widget. This method can be called even if no markup was applied previously.</p>
<h3>get_clear_on_focus</h3>
<p>Returns if the widget's Pango markup will be cleared once the widget is focused and has no user text.</p>
<h3>set_clear_on_focus</h3>
<p>Returns if the widget's Pango markup will be cleared once the widget is focused and has no user text.</p><p>Parameters:</p><ul>
<li><p>$value A boolean value that dictates if the Pango markup has to be cleared when the widget is focused and there's no text entered (the entry is empty).</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROPERTIES</h2>
        <div class="sectioncontent">
<p>The following properties are added by this widget:</p><h3>markup</h3>
<p>(string: writable)</p><p>The markup text used by this widget. This property is a string that's only writable. That's right, there's no way for extracting the markup from the widget.</p>
<h3>empty-markup</h3>
<p>(string: readable writable)</p><p>The markup text used by this widget when the entry field is empty. If this property is set the entry will display a default string in the widget when there's no text provided by the user.</p>
<h3>clear-on-focus '', 'Clear the markup when the widget has focus', 'If the Pango markup to display has to cleared when the entry has focus.', \s-1TRUE\s0, ['readable', 'writable'],</h3>
<p>(boolean: readable writable)</p><p>Indicates if the \*(C`empty-makrup\*(C' has to be cleared when the entry is empty and the widget has gained focus.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNALS</h2>
        <div class="sectioncontent">
<h3>markup-changed</h3>
<p>Emitted when the markup has been changed.</p><p>Signature:</p><p>        sub markup_changed {                 my ($widget, $markup) = @_;                 # Returns nothing         }</p><p>Parameters:</p><ul>
<li><p>$markup The new markup that's been applied. This field is a normal Perl string. If $markup is \*(C`undef\*(C' then the markup was removed.</p></li>
</ul>
<h3>empty-markup-changed</h3>
<p>Emitted when the markup used when the widget is empty has been changed.</p><p>Signature:</p><p>        sub empty_markup_changed {                 my ($widget, $markup) = @_;                 # Returns nothing         }</p><p>Parameters:</p><ul>
<li><p>$markup The new markup that's been applied when the widget is empty. This field is a normal Perl string. If $markup is \*(C`undef\*(C' then the markup was removed.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Gtk2::Ex::Entry::Pango&hellip;</h2>
        <div class="sectioncontent">
<p>Take a look at the examples for getting some ideas or inspiration on how to use this widget. For a more powerful text widget that supports more operations take a look at Gtk2::TextView.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Emmanuel Rodriguez &lt;potyl@cpan.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2008-2009 by Emmanuel Rodriguez.</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.8 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Gravatar::URL.3pm.html"><span aria-hidden="true">&larr;</span> Gravatar::URL.3pm: Make urls for gravatars from an email address</a></li>
   <li class="next"><a href="Gtk2::Ex::PodViewer.3pm.html">Gtk2::Ex::PodViewer.3pm: A gtk2 widget for displaying plain old documentation (pod).  nb: this module used to be called gtk2::podviewer. that module is now a stub that points to this module. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
