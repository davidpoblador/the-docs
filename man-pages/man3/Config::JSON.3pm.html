<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Config::JSON: A json based config file system.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A json based config file system.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Config::JSON (3pm) manual">
  <meta name="twitter:description" content="A json based config file system.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libconfig-json-perl-Config::JSON-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Config::JSON.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Config::JSON (3pm) manual" />
  <meta property="og:description" content="A json based config file system." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libconfig-json-perl-Config::JSON-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Config::JSON<small> (3pm)</small></h1>
        <p class="lead">A json based config file system.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Config::JSON.3pm.html">
      <span itemprop="name">Config::JSON: A json based config file system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libconfig-json-perl/">
      <span itemprop="name">libconfig-json-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Config::JSON.3pm.html">
      <span itemprop="name">Config::JSON: A json based config file system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 1.5100</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use Config::JSON;

 my $config = Config::JSON-&gt;create($pathToFile);
 my $config = Config::JSON-&gt;new($pathToFile);
 my $config = Config::JSON-&gt;new(pathToFile=&gt;$pathToFile);

 my $element = $config-&gt;get($directive);

 $config-&gt;set($directive,$value);

 $config-&gt;delete($directive);
 $config-&gt;deleteFromHash($directive, $key);
 $config-&gt;deleteFromArray($directive, $value);

 $config-&gt;addToHash($directive, $key, $value);
 $config-&gt;addToArray($directive, $value);

 my $path = $config-&gt;pathToFile;
 my $filename = $config-&gt;getFilename;
</pre>
<h3>Example Config File</h3>
<p> # config-file-type: JSON 1  {     "dsn" : "DBI:mysql:test",     "user" : "tester",     "password" : "xxxxxx",</p><p>    # some colors to choose from     "colors" : [ "red", "green", "blue" ],</p><p>    # some statistics     "stats" : {             "health" : 32,             "vitality" : 11     },</p><p>    # including another file     "includes" : ["macros.conf"]  }</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This package parses the config files written in \s-1JSON\s0. It also does some non-JSON stuff, like allowing for comments in the files.</p><p>If you want to see it in action, it is used as the config file system in WebGUI &lt;http://www.webgui.org/&gt;.</p><h3>Why?</h3>
<p>Why build yet another config file system? Well there are a number of reasons: We used to use other config file parsers, but we kept running into limitations. We already use \s-1JSON\s0 in our app, so using \s-1JSON\s0 to store config files means using less memory because we already have the \s-1JSON\s0 parser in memory. In addition, with \s-1JSON\s0 we can have any number of hierarchcal data structures represented in the config file, whereas most config files will give you only one level of hierarchy, if any at all. \s-1JSON\s0 parses faster than \s-1XML\s0 and \s-1YAML\s0. \s-1JSON\s0 is easier to read and edit than \s-1XML\s0. Many other config file systems allow you to read a config file, but they don't provide any mechanism or utilities to write back to it. \s-1JSON\s0 is taint safe. \s-1JSON\s0 is easily parsed by languages other than Perl when we need to do that.</p>
<h3>Multi-level Directives</h3>
<p>You may of course access a directive called \*(L"foo\*(R", but since the config is basically a hash you can traverse multiple elements of the hash when specifying a directive name by simply delimiting each level with a slash, like \*(L"foo/bar\*(R". For example you may:</p><p> my $vitality = $config-&gt;get("stats/vitality");  $config-&gt;set("stats/vitality", 15);</p><p>You may do this wherever you specify a directive name.</p>
<h3>Comments</h3>
<p>You can put comments in the config file as long as # is the first non-space character on the line. However, if you use this \s-1API\s0 to write to the config file, your comments will be eliminated.</p>
<h3>Includes</h3>
<p>There is a special directive called \*(L"includes\*(R", which is an array of include files that may be brought in to the config. Even the files you include can have an \*(L"includes\*(R" directive, so you can do hierarchical includes.</p><p>Any directive in the main file will take precedence over the directives in the includes. Likewise the files listed first in the \*(L"includes\*(R" directive will have precedence over the files that come after it. When writing to the files, the same precedence is followed.</p><p>If you're setting a new directive that doesn't currently exist, it will only be written to the main file.</p><p>If a directive is deleted, it will be deleted from all files, including the includes.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERFACE</h2>
        <div class="sectioncontent">
<h3>addToArray ( directive, value )</h3>
<p>Adds a value to an array directive in the config file.</p><p><em>directive</em></p><p>The name of the array.</p><p><em>value</em></p><p>The value to add.</p>
<h3>addToArrayBefore ( directive, insertBefore, value )</h3>
<p>Inserts a value into an array immediately before another item.  If that item can't be found, inserts at the beginning on the array.</p><p><em>directive</em></p><p>The name of the array.</p><p><em>insertBefore</em></p><p>The value to search for and base the positioning on.</p><p><em>value</em></p><p>The value to insert.</p>
<h3>addToArrayAfter ( directive, insertAfter, value )</h3>
<p>Inserts a value into an array immediately after another item.  If that item can't be found, inserts at the end on the array.</p><p><em>directive</em></p><p>The name of the array.</p><p><em>insertAfter</em></p><p>The value to search for and base the positioning on.</p><p><em>value</em></p><p>The value to insert.</p>
<h3>addToHash ( directive, key, value )</h3>
<p>Adds a value to a hash directive in the config file. <strong>\s-1NOTE:\s0</strong> This is really the same as $config-&gt;set(\*(L"directive/key\*(R", $value);</p><p><em>directive</em></p><p>The name of the hash.</p><p><em>key</em></p><p>The key to add.</p><p><em>value</em></p><p>The value to add.</p>
<h3>create ( pathToFile )</h3>
<p>Constructor. Creates a new empty config file.</p><p><em>pathToFile</em></p><p>The path and filename of the file to create.</p>
<h3>delete ( directive )</h3>
<p>Deletes a key from the config file.</p><p><em>directive</em></p><p>The name of the directive to delete.</p>
<h3>deleteFromArray ( directive, value )</h3>
<p>Deletes a value from an array directive in the config file.</p><p><em>directive</em></p><p>The name of the array.</p><p><em>value</em></p><p>The value to delete.</p>
<h3>deleteFromHash ( directive, key )</h3>
<p>Delete a key from a hash directive in the config file. <strong>\s-1NOTE:\s0</strong> This is really just the same as doing $config-&gt;delete(\*(L"directive/key\*(R");</p><p><em>directive</em></p><p>The name of the hash.</p><p><em>key</em></p><p>The key to delete.</p>
<h3>get ( directive )</h3>
<p>Returns the value of a particular directive from the config file.</p><p><em>directive</em></p><p>The name of the directive to return.</p>
<h3>getFilename ( )</h3>
<p>Returns the filename for this config.</p>
<h3>pathToFile ( )</h3>
<p>Returns the filename and path for this config. May also be called as \*(C`getFilePath\*(C' for backward campatibility sake.</p>
<h3>includes ( )</h3>
<p>Returns an array reference of Config::JSON objects that are files included by this config. May also be called as \*(C`getIncludes\*(C' for backward compatibility sake.</p>
<h3>new ( pathToFile )</h3>
<p>Constructor. Builds an object around a config file.</p><p><em>pathToFile</em></p><p>A string representing a path such as \*(L"/etc/my-cool-config.conf\*(R".</p>
<h3>set ( directive, value )</h3>
<p>Creates a new or updates an existing directive in the config file.</p><p><em>directive</em></p><p>A directive name.</p><p><em>value</em></p><p>The value to set the paraemter to. Can be a scalar, hash reference, or array reference.</p>
<h3>splitKeyParts ( key )</h3>
<p>Returns an array of key parts.</p><p><em>key</em></p><p>A key string. Could be 'foo' (simple key), 'foo/bar' (a multilevel key referring to the bar key as a child of foo), or 'foo&#92;/bar' (a simple key that contains a slash in the key). Don't forget to double escape in your perl code if you have a slash in your key parts like this:</p><p> $config-&gt;get(&apos;foo&#92;&#92;/bar&apos;);</p>
<h3>write ( )</h3>
<p>Writes the file to the filesystem. Normally you'd never need to call this as it's called automatically by the other methods when a change occurs.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>This means that the config file does not appear to be formatted properly as a \s-1JSON\s0 file. Common mistakes are missing commas or trailing commas on the end of a list. We couldn't read the config file. This usually means that the path specified in the constructor is incorrect. We couldn't write to the config file. This usually means that the file system is full, or the that the file is write protected.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PREREQS</h2>
        <div class="sectioncontent">
<p>\s-1JSON\s0 Moose List::Util Test::More Test::Deep</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    Repository
  </dt>
  <dd>
    <p>&lt;http://github.com/plainblack/Config-JSON&gt;</p>
  </dd>
  <dt>
    Bug Reports
  </dt>
  <dd>
    <p>&lt;http://rt.cpan.org/Public/Dist/Display.html?Name=Config-JSON&gt;</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>\s-1JT\s0 Smith  &lt;jt-at-plainblack-dot-com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LEGAL</h2>
        <div class="sectioncontent">
<p>Config::JSON is Copyright 2009 Plain Black Corporation (&lt;http://www.plainblack.com/&gt;) and is licensed under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Config::JFDI.3pm.html"><span aria-hidden="true">&larr;</span> Config::JFDI.3pm: Just * do it: a catalyst::plugin::configloader-style layer over config::any</a></li>
   <li class="next"><a href="Config::Merge.3pm.html">Config::Merge.3pm: Load a configuration directory tree containing yaml, json, xml, perl, ini or config::general files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
