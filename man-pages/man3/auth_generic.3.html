<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>auth_generic: Generic authentication request</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generic authentication request">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="auth_generic (3) manual">
  <meta name="twitter:description" content="Generic authentication request">
  <meta name="twitter:image" content="https://www.carta.tech/images/courier-authlib-dev-auth_generic-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/auth_generic.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="auth_generic (3) manual" />
  <meta property="og:description" content="Generic authentication request" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/courier-authlib-dev-auth_generic-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">auth_generic<small> (3)</small></h1>
        <p class="lead">Generic authentication request</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/auth_generic.3.html">
      <span itemprop="name">auth_generic: Generic authentication request</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/courier-authlib-dev/">
      <span itemprop="name">courier-authlib-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/auth_generic.3.html">
      <span itemprop="name">auth_generic: Generic authentication request</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;courierauth.h&gt;
</pre>
<p><strong>int rc=auth_generic(const&nbsp;char&nbsp;*</strong><em>service</em><strong>, const&nbsp;char&nbsp;*</strong><em>authtype</em><strong>, const&nbsp;char&nbsp;*</strong><em>authdata</em><strong>, int&nbsp;</strong><em>(*callback_func)</em><strong>&nbsp;(struct&nbsp;authinfo&nbsp;*,&nbsp;void&nbsp;*), void&nbsp;*</strong><em>callback_arg</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>auth_generic</strong> processes a generic authentication request. You do not want to use this function. You really want to use \m[blue]<strong></strong><a href="../man3/auth_login.3.html"><strong>auth_login</strong>(3)</a>\m[]\s-2\u[1]\d\s+2. <em>service</em> specifies which so-called "service" is being authenticated; like &ldquo;imap&rdquo; or &ldquo;pop3&rdquo;. <em>service</em> may or may not be used by the Courier authentication library&apos;s configured back-end module.</p><p><strong>authtype</strong> specifies the format of the authentication request. Three authentication formats are defined in courierauth.h:</p><p>AUTHTYPE_LOGIN</p><p><em>authdata</em> contains the following string: &ldquo;<em>userid</em>&#92;n<em>password</em>&#92;n&rdquo;. That is, the userid being authenticated, an ASCII newline character, the password, and a second newline character.</p><p>AUTHTYPE_CRAMMD5 or AUTHTYPE_CRAMSHA1</p><p>This format is used with CRAM-MD5 or CRAM-SHA1. <em>authdata</em> contains the following string: &ldquo;<em>challenge</em>&#92;n<em>response</em>&#92;n&rdquo;. <em>challenge</em> is the base64-encoded challenge, which is followed by an ASCII newline character. <em>response</em> is a base64-encoded string that&apos;s followed by a second newline character. The base64-encoded string consists of the responding userid, a space character, then the response to the challenge expressed as hexadecimal digits.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURNS</h2>
        <div class="sectioncontent">
<p><strong>callback_func</strong> will be invoked if <strong>auth_generic</strong> succeeds, and <strong>callback_func</strong>&apos;s return value becomes the return value from <strong>auth_generic</strong> (which should be 0, by convention). <strong>callback_func</strong> will not be invoked if an error occurs, which is reported by a non-zero return value from <strong>auth_generic</strong>. By convention, a positive return value indicates an internal, temporary failure, such as the authentication daemon process not running; a negative return value indicates that this request was processed, but it failed.</p><p>The second argument to <strong>callback_func</strong> will be <strong>callback_arg</strong>, which is not interpreted by this function in any way. The first argument will be a pointer to the following structure:</p><p><strong>Example&nbsp;1.&nbsp;struct authinfo</strong></p>
<pre>
struct authinfo {
	const char *sysusername;
	const uid_t *sysuserid;
	gid_t sysgroupid;
	const char *homedir;

	const char *address;
	const char *fullname;
	const char *maildir;
	const char *quota;
	const char *passwd;
	const char *clearpasswd;

	const char *options;

	} ;
</pre>
<p>Description of the above fields:</p><p>address</p><p>The authenticated login ID.</p><p>sysusername</p><p>The authenticated account&apos;s userid and groupid can be looked up in the password file using address. If this field is NULL, obtain the userid and the groupid from sysuserid and sysgroupid.</p><p>sysuserid</p><p>sysuserid may be NULL if sysusername is initialized, otherwise it&apos;s a pointer to the account&apos;s numeric userid.</p><p>sysgroupid</p><p>Account&apos;s numeric groupid. sysgroupid is only used when sysusername is NULL.</p><p>fullname</p><p>This is the account&apos;s full name. This field is optional, it may be NULL.</p><p>homedir</p><p>The account&apos;s home directory. This field cannot be NULL.</p><p>maildir</p><p>The pathname to the account&apos;s mailbox. This field is optional, it can be NULL in which case the default location is assumed.</p><p>quota</p><p>Optional maildir quota on the account&apos;s mailbox (and NULL if no quota is set).</p><p>passwd</p><p>The account&apos;s encrypted password, if available. If the account has a cleartext password defined, this field can be set to NULL. The encrypted password can take several formats:</p><p>A traditional triple-DES crypted password, or a MD5+salt-hashed password, as used in Linux.</p><p>&ldquo;{MD5}&rdquo; followed by a base64-encoded MD5 hash of the password.</p><p>&ldquo;{SHA}&rdquo; followed by a base64-encoded SHA1 hash of the password.</p><p>clearpasswd</p><p>The account&apos;s cleartext password, if available. If the account has an encrypted password defined, this field can be set to NULL.</p><p>options</p><p>A comma-separated list of miscellaneous account options. See below for more information.</p><h3>Account options</h3>
<p>Depending on the configuration of the Courier authentication library, accounts may have individual options associated with them. If the authentication library configuration does not implement account options, the option string will be a NULL value. Otherwise it will be a comma-separated list of &ldquo;<em>option</em>=<em>value</em>&rdquo; settings.</p><p><strong>Note</strong></p><p>The application is responsible for actually implementing the options. For example, sn authentication request for service &ldquo;imap&rdquo;, for example, will succeed provided that the userid and the password are valid, even if &ldquo;disableimap=1&rdquo; is set. The application&apos;s <strong>callback_func</strong> should check for this condition, and return a negative return code.</p><p><strong>Note</strong></p><p>The following list of account options is a combined list of implemented options supported by Courier, Courier-IMAP, and SqWebMail packages. Some of the following information is obviously not applicable for a particular package. The inapplicable bits should be obvious.</p><p>The following options are recognized by the various Courier packages:</p><p>disableimap=<em>n</em></p><p>If "n" is 1, IMAP access to this account should be disabled.</p><p>disablepop3=<em>n</em></p><p>If "n" is 1, POP3 access to this account should be disabled.</p><p>disableinsecureimap=<em>n</em></p><p>If "n" is 1, unencrypted IMAP access to this account should be disabled.</p><p>disableinsecurepop3=<em>n</em></p><p>If "n" is 1, unencrypted POP3 access to this account should be disabled.</p><p>disablewebmail=<em>n</em></p><p>If "n" is 1, webmail access to this account should be disabled.</p><p>disableshared=<em>n</em></p><p>If "n" is 1, this account should not have access to shared folders or be able to share its own folders with other people.</p><p>group=<em>name</em></p><p>This option is used by Courier-IMAP in calculating access control lists. This option places the account as a member of access group <em>name</em>. Instead of granting access rights on individual mail folders to individual accounts, the access rights can be granted to an access group &ldquo;name&rdquo;, and all members of this group get the specified access rights.</p><p>The access group name &ldquo;administrators&rdquo; is a reserved group. All accounts in the administrators group automatically receive all rights to all accessible folders.</p><p><strong>Note</strong></p><p>This option may be specified multiple times to specify that the account belongs to multiple account groups.</p><p>sharedgroup=<em>name</em></p><p>Another option used by Courier-IMAP. Append "name" to the name of the top level virtual shared folder index file. This setting restricts which virtual shared folders this account could possibly access (and that&apos;s on top of whatever else the access control lists say). See the virtual shared folder documentation for more information.</p><p>For technical reasons, group names may not include comma, tab, "/" or "|" characters.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO auth_generic&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong></strong><a href="../man3/authlib.3.html"><strong>authlib</strong>(3)</a>\m[]\s-2\u[2]\d\s+2, \m[blue]<strong></strong><a href="../man3/auth_login.3.html"><strong>auth_login</strong>(3)</a>\m[]\s-2\u[1]\d\s+2, \m[blue]<strong></strong><a href="../man3/auth_getuserinfo.3.html"><strong>auth_getuserinfo</strong>(3)</a>\m[]\s-2\u[3]\d\s+2, \m[blue]<strong></strong><a href="../man3/auth_enumerate.3.html"><strong>auth_enumerate</strong>(3)</a>\m[]\s-2\u[4]\d\s+2, \m[blue]<strong></strong><a href="../man3/auth_passwd.3.html"><strong>auth_passwd</strong>(3)</a>\m[]\s-2\u[5]\d\s+2, \m[blue]<strong></strong><a href="../man3/auth_getoption.3.html"><strong>auth_getoption</strong>(3)</a>\m[]\s-2\u[6]\d\s+2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p><a href="../man3/auth_login.3.html"><strong>auth_login</strong>(3)</a></p><p>[set $man.base.url.for.relative.links]/auth_login.html</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p><a href="../man3/authlib.3.html"><strong>authlib</strong>(3)</a></p><p>[set $man.base.url.for.relative.links]/authlib.html</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p><a href="../man3/auth_getuserinfo.3.html"><strong>auth_getuserinfo</strong>(3)</a></p><p>[set $man.base.url.for.relative.links]/auth_getuserinfo.html</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p><a href="../man3/auth_enumerate.3.html"><strong>auth_enumerate</strong>(3)</a></p><p>[set $man.base.url.for.relative.links]/auth_enumerate.html</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p><a href="../man3/auth_passwd.3.html"><strong>auth_passwd</strong>(3)</a></p><p>[set $man.base.url.for.relative.links]/auth_passwd.html</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p><a href="../man3/auth_getoption.3.html"><strong>auth_getoption</strong>(3)</a></p><p>[set $man.base.url.for.relative.links]/auth_getoption.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="auth_enumerate.3.html"><span aria-hidden="true">&larr;</span> auth_enumerate.3: Obtain list of accounts</a></li>
   <li class="next"><a href="auth_getoption.3.html">auth_getoption.3: Search an option string <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
