<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ex12bit: How to fake a 12-bit truecolor mode on an 8-bit card. allegro game programming library.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="How to fake a 12-bit truecolor mode on an 8-bit card. allegro game programming library.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ex12bit (3alleg4) manual">
  <meta name="twitter:description" content="How to fake a 12-bit truecolor mode on an 8-bit card. allegro game programming library.">
  <meta name="twitter:image" content="https://www.carta.tech/images/allegro4-doc-ex12bit-3alleg4.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3alleg4/ex12bit.3alleg4.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ex12bit (3alleg4) manual" />
  <meta property="og:description" content="How to fake a 12-bit truecolor mode on an 8-bit card. allegro game programming library." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/allegro4-doc-ex12bit-3alleg4.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ex12bit<small> (3alleg4)</small></h1>
        <p class="lead">How to fake a 12-bit truecolor mode on an 8-bit card. allegro game programming library.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg4/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg4/ex12bit.3alleg4.html">
      <span itemprop="name">ex12bit: How to fake a 12-bit truecolor mode on an 8-bit card. allegro game programming library.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/allegro4-doc/">
      <span itemprop="name">allegro4-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg4/ex12bit.3alleg4.html">
      <span itemprop="name">ex12bit: How to fake a 12-bit truecolor mode on an 8-bit card. allegro game programming library.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;allegro.h&gt;</strong></p><p><strong>Example ex12bit</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program sets up a 12-bit mode on any 8-bit card, by setting up a 256-colour palette that will fool the eye into grouping two 8-bit pixels into one 12-bit pixel. In order to do this, you make your 256-colour palette with all the combinations of blue and green, assuming green ranges from 0-15 and blue from 0-14. This takes up 16x15=240 colours. This leaves 16 colours to use as red (red ranges from 0-15). Then you put your green/blue in one pixel, and your red in the pixel next to it. The eye gets fooled into thinking it's all one pixel.</p><p>The example starts setting a normal 256 color mode, and construct a special palette for it. But then comes the trick: you need to write to a set of two adjacent pixels to form a single 12 bit dot. Two eight bit pixels is the same as one 16 bit pixel, so after setting the video mode you need to hack the screen bitmap about, halving the width and changing it to use the 16 bit drawing code. Then, once you have packed a color into the correct format (using the makecol12() function below), any of the normal Allegro drawing functions can be used with this 12 bit display!</p><p>Things to note:</p><p>The horizontal width is halved, so you get resolutions like 320x480, 400x600, and 512x768.</p><p>Because each dot is spread over two actual pixels, the display will be darker than in a normal video mode.</p><p>Any bitmap data will obviously need converting to the correct 12 bit format: regular 15 or 16 bit images won't display correctly...</p><p>Although this works like a truecolor mode, it is actually using a 256 color palette, so palette fades are still possible!</p><p>This code only works in linear screen modes (don't try Mode-X).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ex12bit&hellip;</h2>
        <div class="sectioncontent">
<p><strong>BITMAP</strong>(3alleg4), <strong>END_OF_MAIN</strong>(3alleg4), <strong>MATRIX</strong>(3alleg4), <strong>PALETTE</strong>(3alleg4), <strong>RGB</strong>(3alleg4), <strong>allegro_error</strong>(3alleg4), <strong>allegro_init</strong>(3alleg4), <strong>allegro_message</strong>(3alleg4), <strong>apply_matrix</strong>(3alleg4), <strong>blit</strong>(3alleg4), <strong>circle</strong>(3alleg4), <strong>clear_bitmap</strong>(3alleg4), <strong>clear_keybuf</strong>(3alleg4), <strong>clear_to_color</strong>(3alleg4), <strong>create_bitmap</strong>(3alleg4), <strong>create_bitmap_ex</strong>(3alleg4), <strong>destroy_bitmap</strong>(3alleg4), <strong>ellipsefill</strong>(3alleg4), <strong>fade_out</strong>(3alleg4), <strong>fixcos</strong>(3alleg4), <strong>fixed</strong>(3alleg4), <strong>fixsin</strong>(3alleg4), <strong>fixtoi</strong>(3alleg4), <strong>font</strong>(3alleg4), <strong>get_rotation_matrix</strong>(3alleg4), <strong>getpixel</strong>(3alleg4), <strong>install_keyboard</strong>(3alleg4), <strong>itofix</strong>(3alleg4), <strong>keypressed</strong>(3alleg4), <strong>line</strong>(3alleg4), <strong>makecol</strong>(3alleg4), <strong>masked_blit</strong>(3alleg4), <strong>putpixel</strong>(3alleg4), <strong>screen</strong>(3alleg4), <strong>set_clip_rect</strong>(3alleg4), <strong>set_color</strong>(3alleg4), <strong>set_gfx_mode</strong>(3alleg4), <strong>set_palette</strong>(3alleg4), <strong>text_height</strong>(3alleg4), <strong>text_length</strong>(3alleg4), <strong>textout_ex</strong>(3alleg4), <strong>textprintf_ex</strong>(3alleg4)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="enable_triple_buffer.3alleg4.html"><span aria-hidden="true">&larr;</span> enable_triple_buffer.3alleg4: Enables triple buffering. allegro game programming library.</a></li>
   <li class="next"><a href="ex3buf.3alleg4.html">ex3buf.3alleg4: Mode-x triple buffering and retrace interrupt simulation. allegro game programming library. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
