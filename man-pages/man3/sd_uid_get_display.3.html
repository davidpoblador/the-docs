<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sd_uid_get_display: Determine login state of a specific unix user id</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Determine login state of a specific unix user id">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sd_uid_get_display (3) manual">
  <meta name="twitter:description" content="Determine login state of a specific unix user id">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsystemd-dev-sd_uid_get_display-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/sd_uid_get_display.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sd_uid_get_display (3) manual" />
  <meta property="og:description" content="Determine login state of a specific unix user id" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsystemd-dev-sd_uid_get_display-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sd_uid_get_display<small> (3)</small></h1>
        <p class="lead">Determine login state of a specific unix user id</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_uid_get_display.3.html">
      <span itemprop="name">sd_uid_get_display: Determine login state of a specific unix user id</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsystemd-dev/">
      <span itemprop="name">libsystemd-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sd_uid_get_display.3.html">
      <span itemprop="name">sd_uid_get_display: Determine login state of a specific unix user id</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;systemd/sd-login.h&gt;
</pre>
<p><strong>int sd_uid_get_state(uid_t&nbsp;</strong><em>uid</em><strong>, char&nbsp;**</strong><em>state</em><strong>);</strong> <strong>int sd_uid_is_on_seat(uid_t&nbsp;</strong><em>uid</em><strong>, int&nbsp;</strong><em>require_active</em><strong>, const&nbsp;char&nbsp;*</strong><em>seat</em><strong>);</strong> <strong>int sd_uid_get_sessions(uid_t&nbsp;</strong><em>uid</em><strong>, int&nbsp;</strong><em>require_active</em><strong>, char&nbsp;***</strong><em>sessions</em><strong>);</strong> <strong>int sd_uid_get_seats(uid_t&nbsp;</strong><em>uid</em><strong>, int&nbsp;</strong><em>require_active</em><strong>, char&nbsp;***</strong><em>seats</em><strong>);</strong> <strong>int sd_uid_get_display(uid_t&nbsp;</strong><em>uid</em><strong>, char&nbsp;**</strong><em>session</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sd_uid_get_state()</strong> may be used to determine the login state of a specific Unix user identifier. The following states are currently known: "offline" (user not logged in at all), "lingering" (user not logged in, but some user services running), "online" (user logged in, but not active, i.e. has no session in the foreground), "active" (user logged in, and has at least one active session, i.e. one session in the foreground), "closing" (user not logged in, and not lingering, but some processes are still around). In the future additional states might be defined, client code should be written to be robust in regards to additional state strings being returned. The returned string needs to be freed with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use.</p><p><strong>sd_uid_is_on_seat()</strong> may be used to determine whether a specific user is logged in or active on a specific seat. Accepts a Unix user identifier and a seat identifier string as parameters. The <em>require_active</em> parameter is a boolean value. If non-zero (true), this function will test if the user is active (i.e. has a session that is in the foreground and accepting user input) on the specified seat, otherwise (false) only if the user is logged in (and possibly inactive) on the specified seat.</p><p><strong>sd_uid_get_sessions()</strong> may be used to determine the current sessions of the specified user. Accepts a Unix user identifier as parameter. The <em>require_active</em> parameter controls whether the returned list shall consist of only those sessions where the user is currently active (&gt; 0), where the user is currently online but possibly inactive (= 0), or logged in at all but possibly closing the session (&lt; 0). The call returns a <strong>NULL</strong> terminated string array of session identifiers in <em>sessions</em> which needs to be freed by the caller with the libc <a href="../man3/free.3.html"><strong>free</strong>(3)</a> call after use, including all the strings referenced. If the string array parameter is passed as <strong>NULL</strong>, the array will not be filled in, but the return code still indicates the number of current sessions. Note that instead of an empty array <strong>NULL</strong> may be returned and should be considered equivalent to an empty array.</p><p>Similarly, <strong>sd_uid_get_seats()</strong> may be used to determine the list of seats on which the user currently has sessions. Similar semantics apply, however note that the user may have multiple sessions on the same seat as well as sessions with no attached seat and hence the number of entries in the returned array may differ from the one returned by <strong>sd_uid_get_sessions()</strong>.</p><p><strong>sd_uid_get_display()</strong> returns the name of the "primary" session of a user. If the user has graphical sessions, it will be the oldest graphical session. Otherwise, it will be the oldest open session.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success, <strong>sd_uid_get_state()</strong> returns 0 or a positive integer. If the test succeeds, <strong>sd_uid_is_on_seat()</strong> returns a positive integer; if it fails, 0. <strong>sd_uid_get_sessions()</strong> and <strong>sd_uid_get_seats()</strong> return the number of entries in the returned arrays. <strong>sd_uid_get_display()</strong> returns a non-negative code on success. On failure, these calls return a negative errno-style error code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Functions described here are available as a shared library, and can be compiled and linked to using the <strong>libsystemd</strong>&nbsp;<a href="../man1/pkg-config.1.html"><strong>pkg-config</strong>(1)</a> entry.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p><strong>sd_uid_get_state()</strong>,</p>
<pre>
                <strong>sd_uid_is_on_seat()</strong>,
                <strong>sd_uid_get_sessions()</strong>,
                and <strong>sd_uid_get_seats()</strong> functions
                were added in systemd-31.
</pre>

<pre>
                .PP
</pre>
<p><strong>sd_uid_get_display()</strong> was added in systemd-213.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sd_uid_get_display&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a>, <a href="../man3/sd-login.3.html"><strong>sd-login</strong>(3)</a>, <a href="../man3/sd_pid_get_owner_uid.3.html"><strong>sd_pid_get_owner_uid</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sd_session_is_remote.3.html"><span aria-hidden="true">&larr;</span> sd_session_is_remote.3: Determine state of a specific session</a></li>
   <li class="next"><a href="sd_uid_get_seats.3.html">sd_uid_get_seats.3: Determine login state of a specific unix user id <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
