<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DateTime::Event::Recurrence: Datetime::set extension for create basic recurrence sets</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Datetime::set extension for create basic recurrence sets">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="DateTime::Event::Recurrence (3pm) manual">
  <meta name="twitter:description" content="Datetime::set extension for create basic recurrence sets">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdatetime-event-recurrence-perl-DateTime::Event::Recurrence-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/DateTime::Event::Recurrence.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="DateTime::Event::Recurrence (3pm) manual" />
  <meta property="og:description" content="Datetime::set extension for create basic recurrence sets" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdatetime-event-recurrence-perl-DateTime::Event::Recurrence-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">DateTime::Event::Recurrence<small> (3pm)</small></h1>
        <p class="lead">Datetime::set extension for create basic recurrence sets</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DateTime::Event::Recurrence.3pm.html">
      <span itemprop="name">DateTime::Event::Recurrence: Datetime::set extension for create basic recurrence sets</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdatetime-event-recurrence-perl/">
      <span itemprop="name">libdatetime-event-recurrence-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DateTime::Event::Recurrence.3pm.html">
      <span itemprop="name">DateTime::Event::Recurrence: Datetime::set extension for create basic recurrence sets</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use DateTime;
 use DateTime::Event::Recurrence;

 my $dt = DateTime-&gt;new( year   =&gt; 2000,
                         month  =&gt; 6,
                         day    =&gt; 20,
                       );

 my $daily_set = DateTime::Event::Recurrence-&gt;daily;

 my $dt_next = $daily_set-&gt;next( $dt );

 my $dt_previous = $daily_set-&gt;previous( $dt );

 my $bool = $daily_set-&gt;contains( $dt );

 my @days = $daily_set-&gt;as_list( start =&gt; $dt1, end =&gt; $dt2 );

 my $iter = $daily_set-&gt;iterator;

 while ( my $dt = $iter-&gt;next ) {
     print &apos; &apos;, $dt-&gt;datetime;
 }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides convenience methods that let you easily create \*(C`DateTime::Set\*(C' objects for various recurrences, such as \*(L"once a month\*(R" or \*(L"every day\*(R".  You can also create more complicated recurrences, such as \*(L"every Monday, Wednesday and Thursday at 10:00 \s-1AM\s0 and 2:00 \s-1PM\s0\*(R".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<ul>
<li><p>yearly monthly weekly daily hourly minutely secondly These methods all return a new \*(C`DateTime::Set\*(C' object representing the given recurrence.   my $daily_set = DateTime::Event::Recurrence-&gt;daily; If no parameters are given, then the set members each occur at the <em>beginning</em> of the specified recurrence. For example, by default, the \*(C`monthly()\*(C' method returns a set containing the first day of each month. Without parameters, the \*(C`weekly()\*(C' method returns a set containing <em>Mondays</em>. However, you can pass in parameters to alter where these datetimes fall.  The parameters are the same as those given to the \*(C`DateTime::Duration\*(C' constructor for specifying the length of a duration.  For example, to create a set representing a daily recurrence at 10:30 each day, we write this:   my $daily_at_10_30_set =       DateTime::Event::Recurrence-&gt;daily( hours =&gt; 10, minutes =&gt; 30 ); To represent every <em>Tuesday</em> (second day of the week):   my $weekly_on_tuesday_set =       DateTime::Event::Recurrence-&gt;weekly( days =&gt; 2 ); A negative duration counts backwards from the end of the period.  This is done in the same manner as is specified in \s-1RFC\s0 2445 (iCal). Negative durations are useful for creating recurrences such as the <em>last day of each month</em>:   my $last_day_of_month_set =       DateTime::Event::Recurrence-&gt;monthly( days =&gt; -1 ); You can also provide multiple sets of duration arguments, such as this:     my $set = DateTime::Event::Recurrence-&gt;daily                   ( hours =&gt;   [ 10, 14,  -1 ],                     minutes =&gt; [ 15, 30, -15 ],                   ); This specifies a recurrence occurring every day at these 9 different times:   10:15,  10:30,  10:45,   # +10h         ( +15min / +30min / last 15min (-15) )   14:15,  14:30,  14:45,   # +14h         ( +15min / +30min / last 15min (-15) )   23:15,  23:30,  23:45,   # last 1h (-1) ( +15min / +30min / last 15min (-15) ) To create a set of recurrences occurring every thirty seconds, we could do this:     my $every_30_seconds_set =         DateTime::Event::Recurrence-&gt;minutely( seconds =&gt; [ 0, 30 ] ); The following is also valid. See the section on the \*(L"interval\*(R" parameter:     my $every_30_seconds_set =         DateTime::Event::Recurrence-&gt;secondly( interval =&gt; 30 );</p></li>
</ul><h3>Invalid DateTimes</h3>
<p>Invalid values are skipped at run time.</p><p>For example, when days are added to a month, the result is checked for a nonexisting day (such as 31 or 30), and the invalid datetimes are skipped.</p><p>Another example of this would be creating a set via the \*(C`daily()\*(C' method and specifying \*(C`hours =&gt; 25\*(C'. The \*(L"days\*(R" parameter can be combined with yearly, monthly, and weekly recurrences, resulting in six possible meanings:</p><p>    # tuesday of every week     my $set = DateTime::Event::Recurrence-&gt;weekly( days =&gt; 2 );</p><p>    # 10th day of every month     my $set = DateTime::Event::Recurrence-&gt;monthly( days =&gt; 10 );</p><p>    # second tuesday of every month     my $set = DateTime::Event::Recurrence-&gt;monthly( weeks =&gt; 2, days =&gt; 2 );</p><p>    # 10th day of every year     my $set = DateTime::Event::Recurrence-&gt;yearly( days =&gt; 10 );</p><p>    # 10th day of every december     my $set = DateTime::Event::Recurrence-&gt;yearly( months =&gt; 12, days =&gt; 10 );</p><p>    # second tuesday of every year     my $set = DateTime::Event::Recurrence-&gt;yearly( weeks =&gt; 2, days =&gt; 2 );</p><p>Week days can also be called by name, as is specified in \s-1RFC\s0 2445 (iCal):</p><p>  my $weekly_on_tuesday_set =       DateTime::Event::Recurrence-&gt;weekly( days =&gt; &apos;tu&apos; );</p><p>The \*(L"days\*(R" parameter defaults to \*(L"the first day\*(R". See also the section on the \*(L"week start day\*(R" parameter.</p><p>    # second monday of every month     my $set = DateTime::Event::Recurrence-&gt;monthly( weeks =&gt; 2 ); The \*(L"interval\*(R" parameter represents how often the recurrence rule repeats.</p><p>The optional \*(L"start\*(R" parameter specifies where to start counting:</p><p>    my $dt_start = DateTime-&gt;new( year =&gt; 2003, month =&gt; 6, day =&gt; 15 );</p><p>    my $set = DateTime::Event::Recurrence-&gt;daily                   ( interval =&gt; 11,                     hours    =&gt; 10,                     minutes  =&gt; 30,                     start    =&gt; $dt_start,                   );</p><p>This specifies a recurrence that happens at 10:30 on the day specified by \*(C`start =&gt; $dt\*(C', and then every 11 days <em>before and after</em> $dt.  So we get a set like this:</p><p>    ...     2003-06-04T10:30:00,     2003-06-15T10:30:00,     2003-06-26T10:30:00,     ...</p><p>In this case, the method is used to specify the unit, so \*(C`daily()\*(C' means that our unit is a day, and \*(C`interval =&gt; 11\*(C' specifies the quantity of our unit.</p><p>The \*(L"start\*(R" parameter should have no time zone. The \*(C`week_start_day\*(C' parameter is intended for internal use by the \*(C`DateTime::Event::ICal\*(C' module, for generating \s-1RFC2445\s0 recurrences.</p><p>The \*(C`week_start_day\*(C' represents how the 'first week' of a period is calculated:</p><p>\*(L"mo\*(R" - this is the default.  The first week is one that starts in monday, and has <em>the most days</em> in this period.</p><p>\*(L"tu\*(R", \*(L"we\*(R", \*(L"th\*(R", \*(L"fr\*(R", \*(L"sa\*(R", \*(L"su\*(R" - The first week is one that starts in this week-day, and has <em>the most days</em> in this period.  Works for \*(C`weekly\*(C' and \*(C`yearly\*(C' recurrences.</p><p>\*(L"1tu\*(R", \*(L"1we\*(R", \*(L"1th\*(R", \*(L"1fr\*(R", \*(L"1sa\*(R", \*(L"1su\*(R" - The first week is one that starts in this week-day, and has <em>all days</em> in this period.  This works for \*(C`weekly()\*(C', \*(C`monthly()\*(C' and \*(C`yearly()\*(C' recurrences.</p>
<h3>Time Zones</h3>
<p>Recurrences are created in the 'floating' time zone, as specified in the \*(C`DateTime\*(C' module.</p><p>If you want to specify a time zone for a recurrence, you can do this by calling \*(C`set_time_zone()\*(C' on the returned set:</p><p>  my $daily = DateTime::Event::Recurrence-&gt;daily;   $daily-&gt;set_time_zone( &apos;Europe/Berlin&apos; );</p><p>You can also pass a \*(C`DateTime.pm\*(C' object with a time zone to the set's \*(C`next()\*(C' and \*(C`previous()\*(C' methods:</p><p>  my $dt = DateTime-&gt;today( time_zone =&gt; &apos;Europe/Berlin&apos; );   my $next = $daily-&gt;next($dt);</p><p>A recurrence can be affected \s-1DST\s0 changes, so it would be possible to specify a recurrence that creates nonexistent datetimes.  Because \*(C`DateTime.pm\*(C' throws an exception if asked to create a non-existent datetime, please be careful when setting a time zone for your recurrence.</p><p>It might be preferable to always use \*(L"\s-1UTC\s0\*(R" for your sets, and then convert the returned object to the desired time zone.</p>
<h3>Leap Seconds</h3>
<p>There are no leap seconds, because the recurrences are created in the 'floating' time zone.</p><p>The value 60 for seconds (the leap second) is ignored.  If you <em>really</em> want the leap second, then specify the second as \*(C`-1\*(C'.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Flavio Soibelmann Glock fglock@pucrs.br</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>The \s-1API\s0 was developed with help from the people in the datetime@perl.org list.</p><p>Special thanks to Dave Rolsky, Ron Hill and Matt Sisk for being around with ideas.</p><p>If you can understand what this module does by reading the docs, you should thank Dave Rolsky.  If you can't understand it, yell at him. He also helped removing weird idioms from the code.</p><p>Jerrad Pierce came with the idea to move \*(L"interval\*(R" from DateTime::Event::ICal to here.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2003 Flavio Soibelmann Glock. All rights reserved.  This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>The full text of the license can be found in the \s-1LICENSE\s0 file included with this module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO DateTime::Event::Recurrence&hellip;</h2>
        <div class="sectioncontent">
<p>datetime@perl.org mailing list</p><p>DateTime Web page at http://datetime.perl.org/</p><p>DateTime - date and time :)</p><p>DateTime::Set - for recurrence-set accessors docs. You can use DateTime::Set to specify recurrences using callback subroutines.</p><p>DateTime::Event::ICal - if you need more complex recurrences.</p><p>DateTime::SpanSet - sets of intervals, including recurring sets of intervals.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="DateTime::Event::Cron.3pm.html"><span aria-hidden="true">&larr;</span> DateTime::Event::Cron.3pm: Datetime extension for generating recurrence sets from crontab lines and files.</a></li>
   <li class="next"><a href="DateTime::Format::Builder.3pm.html">DateTime::Format::Builder.3pm: Create datetime parser classes and objects. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
