<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbAllocClientMap: Allocate and initialize an empty client map description record</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Allocate and initialize an empty client map description record">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbAllocClientMap (3) manual">
  <meta name="twitter:description" content="Allocate and initialize an empty client map description record">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbAllocClientMap-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbAllocClientMap.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbAllocClientMap (3) manual" />
  <meta property="og:description" content="Allocate and initialize an empty client map description record" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbAllocClientMap-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbAllocClientMap<small> (3)</small></h1>
        <p class="lead">Allocate and initialize an empty client map description record</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbAllocClientMap.3.html">
      <span itemprop="name">XkbAllocClientMap: Allocate and initialize an empty client map description record</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbAllocClientMap.3.html">
      <span itemprop="name">XkbAllocClientMap: Allocate and initialize an empty client map description record</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>Status XkbAllocClientMap</strong> <strong>(\^XkbDescPtr </strong><em>xkb</em><strong>\^,</strong> <strong>unsigned int </strong><em>which</em><strong>\^,</strong> <strong>unsigned int </strong><em>type_count</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- xkb</em></p>
  </dt>
  <dd>
    <p>keyboard description in which to allocate client map</p>
  </dd>
  <dt>
    <p><em>- which</em></p>
  </dt>
  <dd>
    <p>mask selecting map components to allocate</p>
  </dd>
  <dt>
    <p><em>- type_count</em></p>
  </dt>
  <dd>
    <p>value of num_types field in map to be allocated</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Calling <em>XkbGetMap</em> should be sufficient for most applications to get client and server maps. As a result, most applications do not need to directly allocate client and server maps.</p><p>If you change the number of key types or construct map components without loading the necessary components from the X server, do not allocate any map components directly using <em>malloc</em> or <em>Xmalloc.</em> Instead, use the Xkb allocators, <em>XkbAllocClientMap,</em> and <em>XkbAllocServerMap.</em></p><p>Similarly, use the Xkb destructors, <em>XkbFreeClientMap,</em> and <em>XkbFreeServerMap</em> instead of <em>free</em> or <em>Xfree.</em></p><p><em>XkbAllocClientMap</em> allocates and initializes an empty client map in the <em>map</em> field of the keyboard description specified by <em>xkb.</em> The <em>which</em> parameter specifies the particular components of the client map structure to allocate and is a mask composed by a bitwise inclusive OR of one or more of the masks shown in Table 1.</p><table class="table table-striped">
<tr>
<th>Table 1 XkbAllocClientMap Masks</th>
<th></th></tr>

<tr>
<td>Mask</td>
<td>Effect</td></tr>

<tr>
<td>XkbKeyTypesMask</td>
<td>The type_count field specifies the number of entries to preallocate for the  types field of the client map. If the type_count field is less than  XkbNumRequiredTypes returns BadValue. </td></tr>

<tr>
<td></td>
<td></td></tr>

<tr>
<td>XkbKeySymsMask</td>
<td>The min_key_code and max_key_code fields of the xkb parameter are used to  allocate the syms and key_sym_map fields of the client map. The fields are  allocated to contain the maximum number of entries necessary for max_key_code -  min_key_code + 1 keys. </td></tr>

<tr>
<td></td>
<td></td></tr>

<tr>
<td>XkbModifierMapMask</td>
<td>The min_key_code and max_key_code fields of the xkb parameter are used to  allocate the modmap field of the client map. The field is allocated to contain  the maximum number of entries necessary for max_key_code - min_key_code + 1  keys. </td></tr>
</table><p>NOTE: The <em>min_key_code</em> and <em>max_key_code</em> fields of the <em>xkb</em> parameter must be legal values if the XkbKeySymsMask or XkbModifierMapMask masks are set in the <em>which</em> parameter. If they are not valid, <em>XkbAllocClientMap</em> returns BadValue.</p><p>If the client map of the keyboard description is not NULL, and any fields are already allocated in the client map, <em>XkbAllocClientMap</em> does not overwrite the existing values; it simply ignores that part of the request. The only exception is the <em>types</em> array. If <em>type_count</em> is greater than the current <em>num_types</em> field of the client map, <em>XkbAllocClientMap</em> resizes the <em>types</em> array and resets the <em>num_types</em> field accordingly.</p><p>If <em>XkbAllocClientMap</em> is successful, it returns Success. Otherwise, it can return either BadMatch, BadAlloc, or BadValue errors.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>BadAlloc</strong></p>
  </dt>
  <dd>
    <p>Unable to allocate storage</p>
  </dd>
  <dt>
    <p><strong>BadMatch</strong></p>
  </dt>
  <dd>
    <p>A compatible version of Xkb was not available in the server or an argument has correct type and range, but is otherwise invalid</p>
  </dd>
  <dt>
    <p><strong>BadValue</strong></p>
  </dt>
  <dd>
    <p>An argument is out of range</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XkbAllocClientMap&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/XkbAllocClientMap.3.html"><strong>XkbAllocClientMap</strong>(3)</a>, <a href="../man3/XkbAllocServerMap.3.html"><strong>XkbAllocServerMap</strong>(3)</a>, <strong>XkbFreeClientMap,</strong>(3), <a href="../man3/XkbFreeServerMap.3.html"><strong>XkbFreeServerMap</strong>(3)</a>, <a href="../man3/XkbGetMap.3.html"><strong>XkbGetMap</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbAddSymInterpret.3.html"><span aria-hidden="true">&larr;</span> XkbAddSymInterpret.3: Add a symbol interpretation to the list of symbol interpretations in an xkbcompatrec</a></li>
   <li class="next"><a href="XkbAllocCompatMap.3.html">XkbAllocCompatMap.3: Allocate a new compatibility map if you do not already have one available <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
