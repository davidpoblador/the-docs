<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libg15render: Render text and graphics to a buffer usable by libg15(3) or g15daemon(1).</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Render text and graphics to a buffer usable by libg15(3) or g15daemon(1).">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libg15render (3) manual">
  <meta name="twitter:description" content="Render text and graphics to a buffer usable by libg15(3) or g15daemon(1).">
  <meta name="twitter:image" content="https://www.carta.tech/images/libg15render-dev-libg15render-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/libg15render.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libg15render (3) manual" />
  <meta property="og:description" content="Render text and graphics to a buffer usable by libg15(3) or g15daemon(1)." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libg15render-dev-libg15render-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libg15render<small> (3)</small></h1>
        <p class="lead">Render text and graphics to a buffer usable by libg15(3) or g15daemon(1).</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libg15render.3.html">
      <span itemprop="name">libg15render: Render text and graphics to a buffer usable by libg15(3) or g15daemon(1).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libg15render-dev/">
      <span itemprop="name">libg15render-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libg15render.3.html">
      <span itemprop="name">libg15render: Render text and graphics to a buffer usable by libg15(3) or g15daemon(1).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;libg15render.h&gt;</p><h3>Data Structures</h3>
<p>struct <strong>g15canvas</strong></p><p><em>This structure holds the data need to render objects to the LCD screen. </em> struct <strong>g15font</strong></p><p><em>Structure holding a single font. </em> struct <strong>g15glyph</strong></p><p><em>Structure holding glyph data for g15render font types. </em></p>
<h3>Defines</h3>
<p>#define <strong>BYTE_SIZE</strong>   8</p><p>#define <strong>G15_BUFFER_LEN</strong>   1048</p><p>#define <strong>G15_CHAR_HEADER_SIZE</strong>   4</p><p>#define <strong>G15_COLOR_BLACK</strong>   1</p><p>#define <strong>G15_COLOR_WHITE</strong>   0</p><p>#define <strong>G15_FONT_HEADER_SIZE</strong>   15</p><p>#define <strong>G15_LCD_HEIGHT</strong>   43</p><p>#define <strong>G15_LCD_OFFSET</strong>   32</p><p>#define <strong>G15_LCD_WIDTH</strong>   160</p><p>#define <strong>G15_MAX_FACE</strong>   5</p><p>#define <strong>G15_MAX_GLYPH</strong>   256</p><p>#define <strong>G15_PIXEL_FILL</strong>   1</p><p>#define <strong>G15_PIXEL_NOFILL</strong>   0</p><p>#define <strong>G15_TEXT_HUGE</strong>   3</p><p>#define <strong>G15_TEXT_LARGE</strong>   2</p><p>#define <strong>G15_TEXT_MED</strong>   1</p><p>#define <strong>G15_TEXT_SMALL</strong>   0</p><p>#define <strong>G15R_FONT_SUPPORT</strong>   1</p>
<h3>Functions</h3>
<p>void <strong>g15r_clearScreen</strong> (<strong>g15canvas</strong> *canvas, int color)</p><p><em>Fills the screen with pixels of color. </em> void <strong>g15r_deleteG15Font</strong> (<strong>g15font</strong> *font)</p><p><em>De-allocate memory associated with font. </em> void <strong>g15r_drawBar</strong> (<strong>g15canvas</strong> *canvas, int x1, int y1, int x2, int y2, int color, int num, int max, int type)</p><p><em>Draws a completion bar. </em> void <strong>g15r_drawBigNum</strong> (<strong>g15canvas</strong> *canvas, unsigned int x1, unsigned int y1, unsigned int x2, unsigned int y2, int color, int num)</p><p><em>Draw a large number. </em> void <strong>g15r_drawCircle</strong> (<strong>g15canvas</strong> *canvas, int x, int y, int r, int fill, int color)</p><p><em>Draws a circle centered at (x, y) with a radius of r. </em> void <strong>g15r_drawIcon</strong> (<strong>g15canvas</strong> *canvas, char *buf, int my_x, int my_y, int width, int height)</p><p><em>Draw an icon to the screen from a wbmp buffer. </em> void <strong>g15r_drawLine</strong> (<strong>g15canvas</strong> *canvas, int px1, int py1, int px2, int py2, const int color)</p><p><em>Draws a line from (px1, py1) to (px2, py2). </em> void <strong>g15r_drawRoundBox</strong> (<strong>g15canvas</strong> *canvas, int x1, int y1, int x2, int y2, int fill, int color)</p><p><em>Draws a box with rounded corners bounded by (x1, y1) and (x2, y2). </em> void <strong>g15r_drawSprite</strong> (<strong>g15canvas</strong> *canvas, char *buf, int my_x, int my_y, int width, int height, int start_x, int start_y, int total_width)</p><p><em>Draw a sprite to the screen from a wbmp buffer. </em> void <strong>g15r_drawXBM</strong> (<strong>g15canvas</strong> *canvas, unsigned char *data, int width, int height, int pos_x, int pos_y)</p><p><em>Draw an XBM image. </em> void <strong>g15r_G15FontRenderString</strong> (<strong>g15canvas</strong> *canvas, <strong>g15font</strong> *font, char *string, int row, unsigned int sx, unsigned int sy, int colour, int paint_bg)</p><p><em>Render a string in font 'font' to canvas. </em> void <strong>g15r_G15FPrint</strong> (<strong>g15canvas</strong> *canvas, char *string, int x, int y, int size, int center, int colour, int row)</p><p><em>Print a string using the G15 default font at size 'size'. </em> int <strong>g15r_getPixel</strong> (<strong>g15canvas</strong> *canvas, unsigned int x, unsigned int y)</p><p><em>Gets the value of the pixel at (x, y). </em> void <strong>g15r_initCanvas</strong> (<strong>g15canvas</strong> *canvas)</p><p><em>Clears the canvas and resets the mode switches. </em> <strong>g15font</strong> * <strong>g15r_loadG15Font</strong> (char *filename)</p><p><em>Load G15 font and return it in </em><strong>g15font</strong><em> struct. </em><strong></strong> int <strong>g15r_loadWbmpSplash</strong> (<strong>g15canvas</strong> *canvas, char *filename)</p><p><em>Draw a splash screen from 160x43 wbmp file. </em> char * <strong>g15r_loadWbmpToBuf</strong> (char *filename, int *img_width, int *img_height)</p><p><em>Load a wbmp file into a buffer. </em> void <strong>g15r_pixelBox</strong> (<strong>g15canvas</strong> *canvas, int x1, int y1, int x2, int y2, int color, int thick, int fill)</p><p><em>Draws a box bounded by (x1, y1) and (x2, y2). </em> void <strong>g15r_pixelOverlay</strong> (<strong>g15canvas</strong> *canvas, int x1, int y1, int width, int height, short colormap[])</p><p><em>Overlays a bitmap of size width x height starting at (x1, y1). </em> void <strong>g15r_pixelReverseFill</strong> (<strong>g15canvas</strong> *canvas, int x1, int y1, int x2, int y2, int fill, int color)</p><p><em>Fills an area bounded by (x1, y1) and (x2, y2). </em> void <strong>g15r_renderCharacterLarge</strong> (<strong>g15canvas</strong> *canvas, int x, int y, unsigned char character, unsigned int sx, unsigned int sy)</p><p><em>Renders a character in the large font at (x, y). </em> void <strong>g15r_renderCharacterMedium</strong> (<strong>g15canvas</strong> *canvas, int x, int y, unsigned char character, unsigned int sx, unsigned int sy)</p><p><em>Renders a character in the meduim font at (x, y). </em> void <strong>g15r_renderCharacterSmall</strong> (<strong>g15canvas</strong> *canvas, int x, int y, unsigned char character, unsigned int sx, unsigned int sy)</p><p><em>Renders a character in the small font at (x, y). </em> int <strong>g15r_renderG15Glyph</strong> (<strong>g15canvas</strong> *canvas, <strong>g15font</strong> *font, unsigned char character, int top_left_pixel_x, int top_left_pixel_y, int colour, int paint_bg)</p><p><em>render glyph 'character' from loaded font struct 'font'. Returns width (in pixels) of rendered glyph </em> void <strong>g15r_renderString</strong> (<strong>g15canvas</strong> *canvas, unsigned char stringOut[], int row, int size, unsigned int sx, unsigned int sy)</p><p><em>Renders a string with font size in row. </em> int <strong>g15r_saveG15Font</strong> (char *oFilename, <strong>g15font</strong> *font)</p><p><em>Save font in font struct to given file, return 0 on success. </em> void <strong>g15r_setPixel</strong> (<strong>g15canvas</strong> *canvas, unsigned int x, unsigned int y, int val)</p><p><em>Sets the value of the pixel at (x, y). </em> int <strong>g15r_testG15FontWidth</strong> (<strong>g15font</strong> *font, char *string)</p><p><em>Returns length (in pixels) of string if rendered in font 'font'. </em> void <strong>g15r_ttfLoad</strong> (<strong>g15canvas</strong> *canvas, char *fontname, int fontsize, int face_num)</p><p><em>Loads a font through the FreeType2 library. </em> void <strong>g15r_ttfPrint</strong> (<strong>g15canvas</strong> *canvas, int x, int y, int fontsize, int face_num, int color, int center, char *print_string)</p><p><em>Prints a string in a given font. </em></p>
<h3>Variables</h3>
<p>unsigned char <strong>fontdata_6x4</strong> []</p><p><em>Font data for the small (6x4) font. </em> unsigned char <strong>fontdata_7x5</strong> []</p><p><em>Font data for the medium (7x5) font. </em> unsigned char <strong>fontdata_8x8</strong> []</p><p><em>Font data for the large (8x8) font. </em></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Define Documentation</h2>
        <div class="sectioncontent">
<h3>#define BYTE_SIZE   8</h3>
<p>Definition at line 23 of file libg15render.h.</p><p>Referenced by g15r_drawIcon(), g15r_drawSprite(), g15r_getPixel(), g15r_loadWbmpToBuf(), and g15r_setPixel().</p>
<h3>#define G15_BUFFER_LEN   1048</h3>
<p>Definition at line 24 of file libg15render.h.</p><p>Referenced by g15r_clearScreen(), g15r_initCanvas(), and g15r_loadWbmpSplash().</p>
<h3>#define G15_CHAR_HEADER_SIZE   4</h3>
<p>Definition at line 38 of file libg15render.h.</p><p>Referenced by g15r_loadG15Font(), and g15r_saveG15Font().</p>
<h3>#define G15_COLOR_BLACK   1</h3>
<p>Definition at line 29 of file libg15render.h.</p><p>Referenced by g15r_drawRoundBox(), g15r_drawXBM(), g15r_pixelOverlay(), g15r_renderCharacterLarge(), g15r_renderCharacterMedium(), g15r_renderCharacterSmall(), and g15r_renderString().</p>
<h3>#define G15_COLOR_WHITE   0</h3>
<p>Definition at line 28 of file libg15render.h.</p><p>Referenced by g15r_drawRoundBox(), and g15r_pixelOverlay().</p>
<h3>#define G15_FONT_HEADER_SIZE   15</h3>
<p>Definition at line 37 of file libg15render.h.</p><p>Referenced by g15r_loadG15Font(), and g15r_saveG15Font().</p>
<h3>#define G15_LCD_HEIGHT   43</h3>
<p>Definition at line 26 of file libg15render.h.</p><p>Referenced by g15r_getPixel(), and g15r_setPixel().</p>
<h3>#define G15_LCD_OFFSET   32</h3>
<p>Definition at line 25 of file libg15render.h.</p>
<h3>#define G15_LCD_WIDTH   160</h3>
<p>Definition at line 27 of file libg15render.h.</p><p>Referenced by g15r_getPixel(), and g15r_setPixel().</p>
<h3>#define G15_MAX_FACE   5</h3>
<p>Definition at line 36 of file libg15render.h.</p><p>Referenced by g15r_ttfLoad().</p>
<h3>#define G15_MAX_GLYPH   256</h3>
<p>Definition at line 39 of file libg15render.h.</p><p>Referenced by g15r_saveG15Font().</p>
<h3>#define G15_PIXEL_FILL   1</h3>
<p>Definition at line 35 of file libg15render.h.</p>
<h3>#define G15_PIXEL_NOFILL   0</h3>
<p>Definition at line 34 of file libg15render.h.</p>
<h3>#define G15_TEXT_HUGE   3</h3>
<p>Definition at line 33 of file libg15render.h.</p>
<h3>#define G15_TEXT_LARGE   2</h3>
<p>Definition at line 32 of file libg15render.h.</p><p>Referenced by g15r_renderCharacterLarge().</p>
<h3>#define G15_TEXT_MED   1</h3>
<p>Definition at line 31 of file libg15render.h.</p><p>Referenced by g15r_renderCharacterMedium().</p>
<h3>#define G15_TEXT_SMALL   0</h3>
<p>Definition at line 30 of file libg15render.h.</p><p>Referenced by g15r_renderCharacterSmall().</p>
<h3>#define G15R_FONT_SUPPORT   1</h3>
<p>Definition at line 21 of file libg15render.h.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>void g15r_clearScreen (\fBg15canvas\fP * canvas, int color)</h3>
<p>Fills the screen with pixels of color.</p><p>Clears the screen and fills it with pixels of color</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>color</em> Screen will be filled with this color.</p><p>Definition at line 80 of file screen.c.</p><p>References g15canvas::buffer, and G15_BUFFER_LEN.</p>
<h3>void g15r_deleteG15Font (\fBg15font\fP * font)</h3>
<p>De-allocate memory associated with font.</p><p>De-allocate memory associated with <strong>g15font</strong> struct, including glyph buffers</p><p><strong>Parameters:</strong></p><p><em>font</em> <strong>g15font</strong> structure containing glyphs.</p><p>Definition at line 424 of file text.c.</p><p>References g15font::glyph_buffer.</p>
<h3>void g15r_drawBar (\fBg15canvas\fP * canvas, int x1, int y1, int x2, int y2, int color, int num, int max, int type)</h3>
<p>Draws a completion bar.</p><p>Given a maximum value, and a value between 0 and that maximum value, calculate and draw a bar showing that percentage.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x1</em> Defines leftmost bound of the bar.</p><p><em>y1</em> Defines uppermost bound of the bar.</p><p><em>x2</em> Defines rightmost bound of the bar.</p><p><em>y2</em> Defines bottommost bound of the bar.</p><p><em>color</em> The bar will be drawn this color.</p><p><em>num</em> Number of units relative to max filled.</p><p><em>max</em> Number of units equal to 100% filled.</p><p><em>type</em> Type of bar. 1=solid bar, 2=solid bar with border, 3 = solid bar with I-frame.</p><p>Definition at line 340 of file pixel.c.</p><p>References g15r_drawLine(), and g15r_pixelBox().</p>
<h3>void g15r_drawBigNum (\fBg15canvas\fP * canvas, unsigned int x1, unsigned int y1, unsigned int x2, unsigned int y2, int color, int num)</h3>
<p>Draw a large number.</p><p>Draw a large number to a canvas</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x1</em> Defines leftmost bound of the number.</p><p><em>y1</em> Defines uppermost bound of the number.</p><p><em>x2</em> Defines rightmost bound of the number.</p><p><em>y2</em> Defines bottommost bound of the number.</p><p><em>color</em> The number will be drawn this color.</p><p><em>num</em> The number to be drawn.</p><p>Definition at line 548 of file pixel.c.</p><p>References g15r_pixelBox().</p>
<h3>void g15r_drawCircle (\fBg15canvas\fP * canvas, int x, int y, int r, int fill, int color)</h3>
<p>Draws a circle centered at (x, y) with a radius of r.</p><p>Draws a circle centered at (x, y) with a radius of r.</p><p>The circle will be filled if fill != 0.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x</em> Defines horizontal center of the circle.</p><p><em>y</em> Defines vertical center of circle.</p><p><em>r</em> Defines radius of circle.</p><p><em>fill</em> The circle will be filled with color if fill != 0.</p><p><em>color</em> Lines defining the circle will be drawn this color.</p><p>Definition at line 206 of file pixel.c.</p><p>References g15r_drawLine(), and g15r_setPixel().</p>
<h3>void g15r_drawIcon (\fBg15canvas\fP * canvas, char * buf, int my_x, int my_y, int width, int height)</h3>
<p>Draw an icon to the screen from a wbmp buffer.</p><p>Draw an icon to a canvas</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated in is found.</p><p><em>buf</em> A pointer to the buffer holding the icon to be displayed.</p><p><em>my_x</em> Leftmost boundary of image.</p><p><em>my_y</em> Topmost boundary of image.</p><p><em>width</em> Width of the image in buf.</p><p><em>height</em> Height of the image in buf.</p><p>Definition at line 413 of file pixel.c.</p><p>References BYTE_SIZE, and g15r_setPixel().</p>
<h3>void g15r_drawLine (\fBg15canvas\fP * canvas, int px1, int py1, int px2, int py2, const int color)</h3>
<p>Draws a line from (px1, py1) to (px2, py2).</p><p>A line of color is drawn from (px1, py1) to (px2, py2).</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>px1</em> X component of point 1.</p><p><em>py1</em> Y component of point 1.</p><p><em>px2</em> X component of point 2.</p><p><em>py2</em> Y component of point 2.</p><p><em>color</em> Line will be drawn this color.</p><p>Definition at line 102 of file pixel.c.</p><p>References g15r_setPixel(), and swap().</p><p>Referenced by g15r_drawBar(), g15r_drawCircle(), g15r_drawRoundBox(), and g15r_pixelBox().</p>
<h3>void g15r_drawRoundBox (\fBg15canvas\fP * canvas, int x1, int y1, int x2, int y2, int fill, int color)</h3>
<p>Draws a box with rounded corners bounded by (x1, y1) and (x2, y2).</p><p>Draws a rounded box around the area bounded by (x1, y1) and (x2, y2).</p><p>The box will be filled if fill != 0.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x1</em> Defines leftmost bound of the box.</p><p><em>y1</em> Defines uppermost bound of the box.</p><p><em>x2</em> Defines rightmost bound of the box.</p><p><em>y2</em> Defines bottommost bound of the box.</p><p><em>fill</em> The box will be filled with color if fill != 0.</p><p><em>color</em> Lines defining the box will be drawn this color.</p><p>Definition at line 255 of file pixel.c.</p><p>References G15_COLOR_BLACK, G15_COLOR_WHITE, g15r_drawLine(), and g15r_setPixel().</p>
<h3>void g15r_drawSprite (\fBg15canvas\fP * canvas, char * buf, int my_x, int my_y, int width, int height, int start_x, int start_y, int total_width)</h3>
<p>Draw a sprite to the screen from a wbmp buffer.</p><p>Draw a sprite to a canvas</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated in is found.</p><p><em>buf</em> A pointer to the buffer holding a set of sprites.</p><p><em>my_x</em> Leftmost boundary of image.</p><p><em>my_y</em> Topmost boundary of image.</p><p><em>width</em> Width of the sprite.</p><p><em>height</em> Height of the sprite.</p><p><em>start_x</em> X offset for reading sprite from buf.</p><p><em>start_y</em> Y offset for reading sprite from buf.</p><p><em>total_width</em> Width of the set of sprites held in buf.</p><p>Definition at line 445 of file pixel.c.</p><p>References BYTE_SIZE, and g15r_setPixel().</p>
<h3>void g15r_drawXBM (\fBg15canvas\fP * canvas, unsigned char * data, int width, int height, int pos_x, int pos_y)</h3>
<p>Draw an XBM image.</p><p>Draw an XBM Image to the canvas</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated in is found.</p><p><em>data</em> A pointer to the buffer holding the icon to be displayed.</p><p><em>width</em> Width of the image in data.</p><p><em>height</em> Height of the image in data.</p><p><em>pos_x</em> Leftmost boundary of image.</p><p><em>pos_y</em> Topmost boundary of image.</p><p>Definition at line 625 of file pixel.c.</p><p>References G15_COLOR_BLACK, and g15r_setPixel().</p>
<h3>void g15r_G15FontRenderString (\fBg15canvas\fP * canvas, \fBg15font\fP * font, char * string, int row, unsigned int sx, unsigned int sy, int colour, int paint_bg)</h3>
<p>Render a string in font 'font' to canvas.</p><p>Render a string in given font.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>font</em> Loaded <strong>g15font</strong> structure as returned by <strong>g15r_loadG15Font()</strong></p><p><em>string</em> Pointer to string to operate on.</p><p><em>row</em> vertical font-dependent row to start printing on. can usually be left at 0</p><p><em>sx</em> horizontal top-left pixel location.</p><p><em>sy</em> vertical top-left pixel location.</p><p><em>colour</em> desired colour of character when rendered.</p><p><em>paint_bg</em> if !0, pixels in the glyph background will also be painted, obstructing any image behind the text.</p><p>Definition at line 512 of file text.c.</p><p>References g15font::ascender_height, and g15r_renderG15Glyph().</p><p>Referenced by g15r_G15FPrint().</p>
<h3>void g15r_G15FPrint (\fBg15canvas\fP * canvas, char * string, int x, int y, int size, int center, int colour, int row)</h3>
<p>Print a string using the G15 default font at size 'size'.</p><p>Render a string in the default font.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>string</em> Pointer to string to operate on.</p><p><em>x</em> horizontal top-left pixel location.</p><p><em>y</em> vertical top-left pixel location.</p><p><em>size</em> if size&gt;= 4, denotes height in pixels. if size&lt;4, standard font sizes are used.</p><p><em>center</em> Desired text justification. 0==left, 1==centered, 2==right justified.</p><p><em>colour</em> desired colour of character when rendered.</p><p><em>row</em> vertical font-dependent row to start printing on. can usually be left at 0</p><p>Definition at line 535 of file text.c.</p><p>References g15r_G15FontRenderString(), g15r_loadG15Font(), and g15r_testG15FontWidth().</p><p>Referenced by g15r_renderCharacterLarge(), g15r_renderCharacterMedium(), g15r_renderCharacterSmall(), g15r_renderString(), and g15r_ttfPrint().</p>
<h3>int g15r_getPixel (\fBg15canvas\fP * canvas, unsigned int x, unsigned int y)</h3>
<p>Gets the value of the pixel at (x, y).</p><p>Retrieves the value of the pixel at (x, y)</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x</em> X offset for pixel to be retrieved.</p><p><em>y</em> Y offset for pixel to be retrieved.</p><p>Definition at line 29 of file screen.c.</p><p>References g15canvas::buffer, BYTE_SIZE, G15_LCD_HEIGHT, and G15_LCD_WIDTH.</p><p>Referenced by g15r_pixelReverseFill(), and g15r_setPixel().</p>
<h3>void g15r_initCanvas (\fBg15canvas\fP * canvas)</h3>
<p>Clears the canvas and resets the mode switches.</p><p>Clears the screen and resets the mode values for a canvas</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct</p><p>Definition at line 91 of file screen.c.</p><p>References g15canvas::buffer, g15canvas::ftLib, G15_BUFFER_LEN, g15canvas::mode_cache, g15canvas::mode_reverse, and g15canvas::mode_xor.</p>
<h3>\fBg15font\fP* g15r_loadG15Font (char * filename)</h3>
<p>Load G15 font and return it in <strong>g15font</strong> struct.</p><p>Load a g15 font from file.</p><p><strong>Parameters:</strong></p><p><em>filename</em> string containing full name and location of font to load.</p><p><strong>Returns:</strong></p><p>pointer to completed <strong>g15font</strong> structure.</p><p>Definition at line 286 of file text.c.</p><p>References g15font::ascender_height, g15glyph::buffer, g15font::default_gap, g15font::font_height, G15_CHAR_HEADER_SIZE, G15_FONT_HEADER_SIZE, g15glyph::gap, g15font::glyph, g15font::lineheight, g15font::numchars, and g15glyph::width.</p><p>Referenced by g15r_G15FPrint().</p>
<h3>int g15r_loadWbmpSplash (\fBg15canvas\fP * canvas, char * filename)</h3>
<p>Draw a splash screen from 160x43 wbmp file.</p><p>wbmp splash screen loader - assumes image is 160x43</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>filename</em> A string holding the path to the wbmp to be displayed.</p><p>Definition at line 389 of file pixel.c.</p><p>References g15canvas::buffer, G15_BUFFER_LEN, and g15r_loadWbmpToBuf().</p>
<h3>char* g15r_loadWbmpToBuf (char * filename, int * img_width, int * img_height)</h3>
<p>Load a wbmp file into a buffer.</p><p>basic wbmp loader - loads a wbmp image into a buffer.</p><p><strong>Parameters:</strong></p><p><em>filename</em> A string holding the path to the wbmp to be loaded.</p><p><em>img_width</em> A pointer to an int that will hold the image width on return.</p><p><em>img_height</em> A pointer to an int that will hold the image height on return.</p><p>Definition at line 471 of file pixel.c.</p><p>References BYTE_SIZE.</p><p>Referenced by g15r_loadWbmpSplash().</p>
<h3>void g15r_pixelBox (\fBg15canvas\fP * canvas, int x1, int y1, int x2, int y2, int color, int thick, int fill)</h3>
<p>Draws a box bounded by (x1, y1) and (x2, y2).</p><p>Draws a box around the area bounded by (x1, y1) and (x2, y2).</p><p>The box will be filled if fill != 0 and the sides will be thick pixels wide.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x1</em> Defines leftmost bound of the box.</p><p><em>y1</em> Defines uppermost bound of the box.</p><p><em>x2</em> Defines rightmost bound of the box.</p><p><em>y2</em> Defines bottommost bound of the box.</p><p><em>color</em> Lines defining the box will be drawn this color.</p><p><em>thick</em> Lines defining the box will be this many pixels thick.</p><p><em>fill</em> The box will be filled with color if fill != 0.</p><p>Definition at line 166 of file pixel.c.</p><p>References g15r_drawLine(), and g15r_setPixel().</p><p>Referenced by g15r_drawBar(), and g15r_drawBigNum().</p>
<h3>void g15r_pixelOverlay (\fBg15canvas\fP * canvas, int x1, int y1, int width, int height, short colormap[])</h3>
<p>Overlays a bitmap of size width x height starting at (x1, y1).</p><p>A 1-bit bitmap defined in colormap[] is drawn to the canvas with an upper left corner at (x1, y1) and a lower right corner at (x1+width, y1+height).</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x1</em> Defines the leftmost bound of the area to be drawn.</p><p><em>y1</em> Defines the uppermost bound of the area to be drawn.</p><p><em>width</em> Defines the width of the bitmap to be drawn.</p><p><em>height</em> Defines the height of the bitmap to be drawn.</p><p><em>colormap</em> An array containing width*height entries of value 0 for pixel off or != 0 for pixel on.</p><p>Definition at line 77 of file pixel.c.</p><p>References G15_COLOR_BLACK, G15_COLOR_WHITE, and g15r_setPixel().</p>
<h3>void g15r_pixelReverseFill (\fBg15canvas\fP * canvas, int x1, int y1, int x2, int y2, int fill, int color)</h3>
<p>Fills an area bounded by (x1, y1) and (x2, y2).</p><p>The area with an upper left corner at (x1, y1) and lower right corner at (x2, y2) will be filled with color if fill&gt;0 or the current contents of the area will be reversed if fill==0.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x1</em> Defines leftmost bound of area to be filled.</p><p><em>y1</em> Defines uppermost bound of area to be filled.</p><p><em>x2</em> Defines rightmost bound of area to be filled.</p><p><em>y2</em> Defines bottommost bound of area to be filled.</p><p><em>fill</em> Area will be filled with color if fill != 0, else contents of area will have color values reversed.</p><p><em>color</em> If fill != 0, then area will be filled if color == 1 and emptied if color == 0.</p><p>Definition at line 48 of file pixel.c.</p><p>References g15r_getPixel(), and g15r_setPixel().</p>
<h3>void g15r_renderCharacterLarge (\fBg15canvas\fP * canvas, int col, int row, unsigned char character, unsigned int sx, unsigned int sy)</h3>
<p>Renders a character in the large font at (x, y).</p><p>Render a character in std large font</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>col</em> size-dependent column to start rendering.</p><p><em>row</em> size-dependent row to start rendering.</p><p><em>character</em> ascii character to render.</p><p><em>sx</em> horizontal top-left pixel location.</p><p><em>sy</em> vertical top-left pixel location.</p><p>Definition at line 33 of file text.c.</p><p>References G15_COLOR_BLACK, G15_TEXT_LARGE, and g15r_G15FPrint().</p>
<h3>void g15r_renderCharacterMedium (\fBg15canvas\fP * canvas, int col, int row, unsigned char character, unsigned int sx, unsigned int sy)</h3>
<p>Renders a character in the meduim font at (x, y).</p><p>Render a character in std medium font.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>col</em> size-dependent column to start rendering.</p><p><em>row</em> size-dependent row to start rendering.</p><p><em>character</em> ascii character to render.</p><p><em>sx</em> horizontal top-left pixel location.</p><p><em>sy</em> vertical top-left pixel location.</p><p>Definition at line 52 of file text.c.</p><p>References G15_COLOR_BLACK, G15_TEXT_MED, and g15r_G15FPrint().</p>
<h3>void g15r_renderCharacterSmall (\fBg15canvas\fP * canvas, int col, int row, unsigned char character, unsigned int sx, unsigned int sy)</h3>
<p>Renders a character in the small font at (x, y).</p><p>Render a character in std small font.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>col</em> size-dependent column to start rendering.</p><p><em>row</em> size-dependent row to start rendering.</p><p><em>character</em> ascii character to render.</p><p><em>sx</em> horizontal top-left pixel location.</p><p><em>sy</em> vertical top-left pixel location.</p><p>Definition at line 72 of file text.c.</p><p>References G15_COLOR_BLACK, G15_TEXT_SMALL, and g15r_G15FPrint().</p>
<h3>int g15r_renderG15Glyph (\fBg15canvas\fP * canvas, \fBg15font\fP * font, unsigned char character, int top_left_pixel_x, int top_left_pixel_y, int colour, int paint_bg)</h3>
<p>render glyph 'character' from loaded font struct 'font'. Returns width (in pixels) of rendered glyph</p><p>Render a character in given font.</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>font</em> Loaded <strong>g15font</strong> structure as returned by <strong>g15r_loadG15Font()</strong></p><p><em>character</em> ascii character to render.</p><p><em>top_left_pixel_x</em> horizontal top-left pixel location.</p><p><em>top_left_pixel_y</em> vertical top-left pixel location.</p><p><em>colour</em> desired colour of character when rendered.</p><p><em>paint_bg</em> should the background of the character cell be painted?</p><p>Definition at line 461 of file text.c.</p><p>References g15font::ascender_height, g15glyph::buffer, g15font::default_gap, g15font::font_height, g15r_setPixel(), g15font::glyph, and g15glyph::width.</p><p>Referenced by g15r_G15FontRenderString().</p>
<h3>void g15r_renderString (\fBg15canvas\fP * canvas, unsigned char stringOut[], int row, int size, unsigned int sx, unsigned int sy)</h3>
<p>Renders a string with font size in row.</p><p>Render a string in the designated size</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>stringOut</em> An unsigned char pointer to the string which is to be printed.</p><p><em>row</em> size-dependent row to start rendering.</p><p><em>size</em> size of printed string. May be 0-3 for standard sizes, or 5-39 in pixel height.</p><p><em>sx</em> horizontal top-left pixel location.</p><p><em>sy</em> vertical top-left pixel location.</p><p>Definition at line 93 of file text.c.</p><p>References G15_COLOR_BLACK, and g15r_G15FPrint().</p>
<h3>int g15r_saveG15Font (char * oFilename, \fBg15font\fP * font)</h3>
<p>Save font in font struct to given file, return 0 on success.</p><p>Save <strong>g15font</strong> struct to given file.</p><p><strong>Parameters:</strong></p><p><em>oFilename</em> string containing full name and location of font to save.</p><p><em>font</em> <strong>g15font</strong> structure containing glyphs. Glyphs to be saved should have the corresponding active[glyph] set.</p><p><strong>Returns:</strong></p><p>0 on success, -1 on failure.</p><p>Definition at line 361 of file text.c.</p><p>References g15font::active, g15font::ascender_height, g15glyph::buffer, g15font::default_gap, g15font::font_height, G15_CHAR_HEADER_SIZE, G15_FONT_HEADER_SIZE, G15_MAX_GLYPH, g15font::glyph, g15font::lineheight, g15font::numchars, and g15glyph::width.</p>
<h3>void g15r_setPixel (\fBg15canvas\fP * canvas, unsigned int x, unsigned int y, int val)</h3>
<p>Sets the value of the pixel at (x, y).</p><p>Sets the value of the pixel at (x, y)</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x</em> X offset for pixel to be set.</p><p><em>y</em> Y offset for pixel to be set.</p><p><em>val</em> Value to which pixel should be set.</p><p>Definition at line 50 of file screen.c.</p><p>References g15canvas::buffer, BYTE_SIZE, G15_LCD_HEIGHT, G15_LCD_WIDTH, g15r_getPixel(), g15canvas::mode_reverse, and g15canvas::mode_xor.</p><p>Referenced by draw_ttf_char(), g15r_drawCircle(), g15r_drawIcon(), g15r_drawLine(), g15r_drawRoundBox(), g15r_drawSprite(), g15r_drawXBM(), g15r_pixelBox(), g15r_pixelOverlay(), g15r_pixelReverseFill(), and g15r_renderG15Glyph().</p>
<h3>int g15r_testG15FontWidth (\fBg15font\fP * font, char * string)</h3>
<p>Returns length (in pixels) of string if rendered in font 'font'.</p><p>Calculate width (in pixels) of given string if rendered in font 'font'.</p><p><strong>Parameters:</strong></p><p><em>font</em> Loaded <strong>g15font</strong> structure as returned by <strong>g15r_loadG15Font()</strong></p><p><em>string</em> Pointer to string for width calculations.</p><p><strong>Returns:</strong></p><p>total width in pixels of given string.</p><p>Definition at line 439 of file text.c.</p><p>References g15font::default_gap, g15glyph::gap, g15font::glyph, and g15glyph::width.</p><p>Referenced by g15r_G15FPrint().</p>
<h3>void g15r_ttfLoad (\fBg15canvas\fP * canvas, char * fontname, int fontsize, int face_num)</h3>
<p>Loads a font through the FreeType2 library.</p><p>Load a font for use with FreeType2 font support</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>fontname</em> Absolute pathname to font file to be loaded.</p><p><em>fontsize</em> Size in points for font to be loaded.</p><p><em>face_num</em> Slot into which font face will be loaded.</p><p>Definition at line 109 of file text.c.</p><p>References g15canvas::ftLib, G15_MAX_FACE, g15canvas::ttf_face, and g15canvas::ttf_fontsize.</p>
<h3>void g15r_ttfPrint (\fBg15canvas\fP * canvas, int x, int y, int fontsize, int face_num, int color, int center, char * print_string)</h3>
<p>Prints a string in a given font.</p><p>Render a string with a FreeType2 font</p><p><strong>Parameters:</strong></p><p><em>canvas</em> A pointer to a <strong>g15canvas</strong> struct in which the buffer to be operated on is found.</p><p><em>x</em> initial x position for string.</p><p><em>y</em> initial y position for string.</p><p><em>fontsize</em> Size of string in points.</p><p><em>face_num</em> Font to be used is loaded in this slot.</p><p><em>color</em> Text will be drawn this color.</p><p><em>center</em> Text will be centered if center == 1 and right justified if center == 2.</p><p><em>print_string</em> Pointer to the string to be printed.</p><p>Definition at line 247 of file text.c.</p><p>References calc_ttf_centering(), calc_ttf_right_justify(), calc_ttf_true_ypos(), draw_ttf_str(), g15r_G15FPrint(), g15canvas::ttf_face, and g15canvas::ttf_fontsize.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Variable Documentation</h2>
        <div class="sectioncontent">
<h3>unsigned char \fBfontdata_6x4\fP[]</h3>
<p>Font data for the small (6x4) font.</p>
<h3>unsigned char \fBfontdata_7x5\fP[]</h3>
<p>Font data for the medium (7x5) font.</p>
<h3>unsigned char \fBfontdata_8x8\fP[]</h3>
<p>Font data for the large (8x8) font.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Anthony J. Mirabella &lt;mirabeaj@gmail.com&gt;</p><p>Generated automatically by Doxygen for libg15render from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libfreeipmi.3.html"><span aria-hidden="true">&larr;</span> libfreeipmi.3: Freeipmi library</a></li>
   <li class="next"><a href="libgearman.3.html">libgearman.3: Gearmand documentation, http://gearman.info/ <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
