<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>getcon_raw - get SELinux security context of a process freecon, freeconary - free memory associated with SELinux security contexts getpeercon - get security context of a peer socket setcon - set current security context of a process .</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Get selinux security context of a process freecon, freeconary - free memory associated with selinux security contexts getpeercon - get security context of a peer socket setcon - set current security context of a process .">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">getcon_raw<small> (3)</small></h1>
        <p class="lead">Get selinux security context of a process freecon, freeconary - free memory associated with selinux security contexts getpeercon - get security context of a peer socket setcon - set current security context of a process .</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man3/"><span itemprop="title">Library calls</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man3/getcon_raw.3.html"><span itemprop="title">getcon_raw</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>#include &lt;selinux/selinux.h&gt;</strong></p>
<p class='spacer'>

<p><strong>int getcon(char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int getcon_raw(char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int getprevcon(char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int getprevcon_raw(char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int getpidcon(pid_t </strong><em>pid</em><strong>, char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int getpidcon_raw(pid_t </strong><em>pid</em><strong>, char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int getpeercon(int </strong><em>fd</em><strong>, char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int getpeercon_raw(int </strong><em>fd</em><strong>, char **</strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>void freecon(char * con</strong><em>);</em></p>
<p class='spacer'>

<p><strong>void freeconary(char **</strong><em>con</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int setcon(char * </strong><em>context</em><strong>);</strong></p>
<p class='spacer'>

<p><strong>int setcon_raw(char * </strong><em>context</em><strong>);</strong> .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>getcon</strong>() retrieves the context of the current process, which must be free'd with freecon.</p>
<p class='spacer'>

<p><strong>getprevcon</strong>() same as getcon but gets the context before the last exec.</p>
<p class='spacer'>

<p><strong>getpidcon</strong>() returns the process context for the specified PID.</p>
<p class='spacer'>

<p><strong>getpeercon</strong>() retrieves context of peer socket, and set <strong>*</strong><em>context</em> to refer to it, which must be free'd with <strong>freecon</strong>().</p>
<p class='spacer'>

<p><strong>freecon</strong>() frees the memory allocated for a security context.</p>
<p class='spacer'>

<p><strong>freeconary</strong>() frees the memory allocated for a context array.</p>
<p class='spacer'>

<p>If <em>con</em> is NULL, no operation is performed.</p>
<p class='spacer'>

<p><strong>setcon</strong>() sets the current security context of the process to a new value.  Note that use of this function requires that the entire application be trusted to maintain any desired separation between the old and new security contexts, unlike exec-based transitions performed via <a href="../man3/setexeccon.3.html"><strong>setexeccon</strong>(3)</a>. When possible, decompose your application and use <a href="../man3/setexeccon.3.html"><strong>setexeccon</strong>(3)</a> and <strong>execve</strong>(3) instead.</p>
<p class='spacer'>

<p>Since access to file descriptors is revalidated upon use by SELinux, the new context must be explicitly authorized in the policy to use the descriptors opened by the old context if that is desired.  Otherwise, attempts by the process to use any existing descriptors (including <em>stdin</em>, <em>stdout</em>, and <em>stderr</em>) after performing the <strong>setcon</strong>() will fail.</p>
<p class='spacer'>

<p>A multi-threaded application can perform a <strong>setcon</strong>() prior to creating any child threads, in which case all of the child threads will inherit the new context.  However, <strong>setcon</strong>() will fail if there are any other threads running in the same process.</p>
<p class='spacer'>

<p>If the process was being ptraced at the time of the <strong>setcon</strong>() operation, ptrace permission will be revalidated against the new context and the <strong>setcon</strong>() will fail if it is not allowed by policy.</p>
<p class='spacer'>

<p><strong>getcon_raw</strong>(), <strong>getprevcon_raw</strong>(), <strong>getpidcon_raw</strong>(), <strong>getpeercon_raw</strong>() and <strong>setcon_raw</strong>() behave identically to their non-raw counterparts but do not perform context translation. .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">

<p>On error -1 is returned.  On success 0 is returned. .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man8/selinux.8.html"><strong>selinux</strong>(8)</a>, <a href="../man3/setexeccon.3.html"><strong>setexeccon</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
  <li class="previous"><a href="getcon.3.html"><span aria-hidden="true">&larr;</span> getcon.3: get SELinux security context of a process freecon, freeconary - free memory associated with SELinux security contexts getpeercon - get security context of a peer socket setcon - set current security context of a process .</a></li><li class="next"><a href="getcontext.3.html">getcontext.3: get or set the user context <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
