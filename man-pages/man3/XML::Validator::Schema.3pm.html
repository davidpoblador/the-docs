<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XML::Validator::Schema: Validate xml against a subset of w3c xml schema</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Validate xml against a subset of w3c xml schema">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XML::Validator::Schema (3pm) manual">
  <meta name="twitter:description" content="Validate xml against a subset of w3c xml schema">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxml-validator-schema-perl-XML::Validator::Schema-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/XML::Validator::Schema.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XML::Validator::Schema (3pm) manual" />
  <meta property="og:description" content="Validate xml against a subset of w3c xml schema" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxml-validator-schema-perl-XML::Validator::Schema-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XML::Validator::Schema<small> (3pm)</small></h1>
        <p class="lead">Validate xml against a subset of w3c xml schema</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/XML::Validator::Schema.3pm.html">
      <span itemprop="name">XML::Validator::Schema: Validate xml against a subset of w3c xml schema</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxml-validator-schema-perl/">
      <span itemprop="name">libxml-validator-schema-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/XML::Validator::Schema.3pm.html">
      <span itemprop="name">XML::Validator::Schema: Validate xml against a subset of w3c xml schema</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use XML::SAX::ParserFactory;
  use XML::Validator::Schema;

  #
  # create a new validator object, using foo.xsd
  #
  $validator = XML::Validator::Schema-&gt;new(file =&gt; &apos;foo.xsd&apos;);

  #
  # create a SAX parser and assign the validator as a Handler
  #
  $parser = XML::SAX::ParserFactory-&gt;parser(Handler =&gt; $validator);

  #
  # validate foo.xml against foo.xsd
  #
  eval { $parser-&gt;parse_uri(&apos;foo.xml&apos;) };
  die "File failed validation: $@" if $@;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module allows you to validate \s-1XML\s0 documents against a W3C \s-1XML\s0 Schema.  This module does not implement the full W3C \s-1XML\s0 Schema recommendation (http://www.w3.org/XML/Schema), but a useful subset. See the \s-1SCHEMA\s0 \s-1SUPPORT\s0 section below.</p><p><strong>\s-1IMPORTANT\s0 \s-1NOTE\s0</strong>: To get line and column numbers in the error messages generated by this module you must install XML::Filter::ExceptionLocator and use XML::SAX::ExpatXS as your \s-1SAX\s0 parser.  This module is much more useful if you can tell where your errors are, so using these modules is highly recommeded!</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERFACE</h2>
        <div class="sectioncontent">
<ul>
<li><p>\*(C`XML::Validator::Schema-&gt;new(file =&gt; &apos;file.xsd&apos;, cache =&gt; 1)\*(C' Call this method to create a new XML::Validator:Schema object.  The only required option is \*(C`file\*(C' which must provide a path to an \s-1XML\s0 Schema document. Setting the optional \*(C`cache\*(C' parameter to 1 causes XML::Validator::Schema to keep a copy of the schema parse tree in memory.  The tree will be reused on subsequent calls with the same \*(C`file\*(C' parameter, as long as the mtime on the schema file hasn't changed.  This can save a lot of time if you're validating many documents against a single schema. Since XML::Validator::Schema is a \s-1SAX\s0 filter you will normally pass this object to a \s-1SAX\s0 parser:   $validator = XML::Validator::Schema-&gt;new(file =&gt; &apos;foo.xsd&apos;);   $parser = XML::SAX::ParserFactory-&gt;parser(Handler =&gt; $validator); Then you can proceed to validate files using the parser:   eval { $parser-&gt;parse_uri(&apos;foo.xml&apos;) };   die "File failed validation: $@" if $@; Setting the optional \*(C`debug\*(C' parameter to 1 causes XML::Validator::Schema to output elements and associated attributes while parsing and validating the \s-1XML\s0 document. This provides useful information on the position where the validation failed (although not at useful as the line and column numbers included when XML::Filter::ExceptiionLocator and XML::SAX::ExpatXS are used).</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RATIONALE</h2>
        <div class="sectioncontent">
<p>I'm writing a piece of software which uses Xerces/\*(C+ ( http://xml.apache.org/xerces-c/ ) to validate documents against \s-1XML\s0 Schema schemas.  This works very well, but I'd like to release my project to the world.  Requiring users to install Xerces is simply too onerous a requirement; few will have it already and the Xerces installation system leaves much to be desired.</p><p>On \s-1CPAN\s0, the only available \s-1XML\s0 Schema validator is XML::Schema. Unfortunately, this module isn't ready for use as it lacks the ability to actually parse the \s-1XML\s0 Schema document format!  I looked into enhancing XML::Schema but I must admit that I'm not smart enough to understand the code...  One day, when XML::Schema is completed I will replace this module with a wrapper around it.</p><p>This module represents my attempt to support enough \s-1XML\s0 Schema syntax to be useful without attempting to tackle the full standard.  I'm sure this will mean that it can't be used in all situations, but hopefully that won't prevent it from being used at all.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SCHEMA SUPPORT</h2>
        <div class="sectioncontent">
<h3>Supported Elements</h3>
<p>The following elements are supported by the \s-1XML\s0 Schema parser.  If you don't see an element or an attribute here then you definitely can't use it in a schema document.</p><p>You can expect that the schema document parser will produce an error if you include elements which are not supported.  However, unsupported attributes <em>may</em> be silently ignored.  This should not be misconstrued as a feature and will eventually be fixed.</p><p>All of these elements must be in the http://www.w3.org/2001/XMLSchema namespace, either using a default namespace or a prefix.</p><p>  &lt;schema&gt;</p><p>     Supported attributes: targetNamespace, elementFormDefault,      attributeFormDefault</p><p>     Notes: the only supported values for elementFormDefault and      attributeFormDefault are "unqualified."  As such, targetNamespace      is essentially ignored.</p><p>  &lt;element name="foo"&gt;</p><p>     Supported attributes: name, type, minOccurs, maxOccurs, ref</p><p>  &lt;attribute&gt;</p><p>     Supported attributes: name, type, use, ref</p><p>  &lt;sequence&gt;</p><p>     Supported attributes: minOccurs, maxOccurs</p><p>  &lt;choice&gt;</p><p>     Supported attributes: minOccurs, maxOccurs</p><p>  &lt;all&gt;</p><p>     Supported attributes: minOccurs, maxOccurs</p><p>  &lt;complexType&gt;</p><p>    Supported attributes: name</p><p>  &lt;simpleContent&gt;</p><p>    The only supported sub-element is &lt;extension&gt;.</p><p>  &lt;extension&gt;</p><p>    Supported attributes: base</p><p>    Notes: only allowed inside &lt;simpleContent&gt;</p><p>  &lt;simpleType&gt;</p><p>    Supported attributes: name</p><p>  &lt;restriction&gt;</p><p>    Supported attributes: base</p><p>    Notes: only allowed inside &lt;simpleType&gt;</p><p>  &lt;whiteSpace&gt;</p><p>    Supported attributes: value</p><p>  &lt;pattern&gt;</p><p>    Supported attributes: value</p><p>  &lt;enumeration&gt;</p><p>    Supported attributes: value</p><p>  &lt;length&gt;</p><p>    Supported attributes: value</p><p>  &lt;minLength&gt;</p><p>    Supported attributes: value</p><p>  &lt;maxLength&gt;</p><p>    Supported attributes: value</p><p>  &lt;minInclusive&gt;</p><p>    Supported attributes: value</p><p>  &lt;minExclusive&gt;</p><p>    Supported attributes: value</p><p>  &lt;maxInclusive&gt;</p><p>    Supported attributes: value</p><p>  &lt;maxExclusive&gt;</p><p>    Supported attributes: value</p><p>  &lt;totalDigits&gt;</p><p>    Supported attributes: value</p><p>  &lt;fractionDigits&gt;</p><p>    Supported attributes: value</p><p>  &lt;annotation&gt;</p><p>  &lt;documentation&gt;</p><p>    Supported attributes: name</p><p>  &lt;union&gt;     Supported attributes: MemberTypes</p>
<h3>Simple Type Support</h3>
<p>Supported built-in types are:</p><p>  string</p><p>  normalizedString</p><p>  token</p><p>  NMTOKEN</p><p>   Notes: the spec says NMTOKEN should only be used for attributes,    but this rule is not enforced.</p><p>  boolean</p><p>  decimal</p><p>   Notes: the enumeration facet is not supported on decimal or any    types derived from decimal.</p><p>  integer</p><p>  int</p><p>  short</p><p>  byte</p><p>  unsignedInt</p><p>  unsignedShort</p><p>  unsignedByte</p><p>  positiveInteger</p><p>  negativeInteger</p><p>  nonPositiveInteger</p><p>  nonNegativeInteger</p><p>  dateTime</p><p>    Notes: Although dateTime correctly validates the lexical format it does not     offer comparison facets (min*, max*, enumeration).</p><p>  double</p><p>    Notes: Although double correctly validates the lexical format it     does not offer comparison facets (min*, max*, enumeration).  Also,     minimum and maximum constraints as described in the spec are not     checked.</p><p>  float</p><p>    Notes: The restrictions on double support apply to float as well.</p><p>  duration</p><p>  time</p><p>  date</p><p>  gYearMonth</p><p>  gYear</p><p>  gMonthDay</p><p>  gDay</p><p>  gMonth</p><p>  hexBinary</p><p>  base64Binary</p><p>  anyURI</p><p>  QName</p><p>  NOTATION</p>
<h3>Miscellaneous Details</h3>
<p>Other known devations from the specification:</p><ul>
<li><p>Patterns specified in pattern simpleType restrictions are Perl regexes with none of the \s-1XML\s0 Schema extensions available.</p></li><li><p>No effort is made to prevent the declaration of facets which \*(L"loosen\*(R" the restrictions on a type.  This is a bug and will be fixed in a future release.  Until then types which attempt to loosen restrictions on their base class will behave unpredictably.</p></li><li><p>No attempt has been made to exclude content models which are ambiguous, as the spec demands.  In fact, I don't see any compelling reason to do so, aside from strict compliance to the spec.  The content model implementaton uses regular expressions which should be able to handle loads of ambiguity without significant performance problems.</p></li><li><p>Marking a facet \*(L"fixed\*(R" has no effect.</p></li><li><p>SimpleTypes must come after their base types in the schema body.  For example, this is ok:     &lt;xs:simpleType name="foo"&gt;         &lt;xs:restriction base="xs:string"&gt;             &lt;xs:minLength value="10"/&gt;         &lt;/xs:restriction&gt;     &lt;/xs:simpleType&gt;     &lt;xs:simpleType name="foo_bar"&gt;         &lt;xs:restriction base="foo"&gt;             &lt;xs:length value="10"/&gt;         &lt;/xs:restriction&gt;     &lt;/xs:simpleType&gt; But this is not:     &lt;xs:simpleType name="foo_bar"&gt;         &lt;xs:restriction base="foo"&gt;             &lt;xs:length value="10"/&gt;         &lt;/xs:restriction&gt;     &lt;/xs:simpleType&gt;     &lt;xs:simpleType name="foo"&gt;         &lt;xs:restriction base="xs:string"&gt;             &lt;xs:minLength value="10"/&gt;         &lt;/xs:restriction&gt;     &lt;/xs:simpleType&gt;</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>Here are a few gotchas that you should know about:</p><ul>
<li><p>No Unicode testing has been performed, although it seems possible that the module will handle Unicode data correctly.</p></li><li><p>Namespace processing is almost entirely missing from the module.</p></li><li><p>Little work has been done to ensure that invalid schemas fail gracefully.  Until that is done you may want to develop your schemas using a more mature validator (like Xerces or \s-1XML\s0 Spy) before using them with this module.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please use \*(C`rt.cpan.org\*(C' to report bugs in this module:</p><p>  http://rt.cpan.org</p><p>Please note that I will delete bugs which merely point out the lack of support for a particular feature of \s-1XML\s0 Schema.  Those are feature requests, and believe me, I know we've got a long way to go.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>This module is supported on the perl-xml mailing-list.  Please join the list if you have questions, suggestions or patches:</p><p>  http://listserv.activestate.com/mailman/listinfo/perl-xml</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CVS</h2>
        <div class="sectioncontent">
<p>If you'd like to help develop XML::Validator::Schema you'll want to check out a copy of the \s-1CVS\s0 tree:</p><p>  http://sourceforge.net/cvs/?group_id=89764</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>The following people have contributed bug reports, test cases and/or code:</p><p>  Russell B Cecala (aka Plankton)   David Wheeler   Toby Long-Leather   Mathieu   h.bridge@fasol.fujitsu.com   michael.jacob@schering.de   josef@clubphoto.com   adamk@ali.as   Jean Flouret</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Sam Tregar &lt;sam@tregar.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2002-2003 Sam Tregar</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl 5 itself.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">A NOTE ON DEVELOPMENT METHODOLOGY</h2>
        <div class="sectioncontent">
<p>This module isn't just an \s-1XML\s0 Schema validator, it's also a test of the Test Driven Development methodology.  I've been writing tests while I develop code for a while now, but \s-1TDD\s0 goes further by requiring tests to be written <em>before</em> code.  One consequence of this is that the module code may seem naive; it really is <em>just enough</em> code to pass the current test suite.  If I'm doing it right then there shouldn't be a single line of code that isn't directly related to passing a test.  As I add functionality (by way of writing tests) I'll refactor the code a great deal, but I won't add code only to support future development.</p><p>For more information I recommend \*(L"Test Driven Development: By Example\*(R" by Kent Beck.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XML::Validator::Schema&hellip;</h2>
        <div class="sectioncontent">
<p>XML::Schema</p><p>http://www.w3.org/XML/Schema</p><p>http://xml.apache.org/xerces-c/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XML::UM.3pm.html"><span aria-hidden="true">&larr;</span> XML::UM.3pm: Convert utf-8 strings to any encoding supported by xml::encoding</a></li>
   <li class="next"><a href="XML::Validator::Schema::Attribute.3pm.html">XML::Validator::Schema::Attribute.3pm: An attribute node in a schema object <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
