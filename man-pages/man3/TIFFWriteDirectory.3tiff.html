<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TIFFWriteDirectory: Write the current directory in an open tiff file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Write the current directory in an open tiff file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="TIFFWriteDirectory (3tiff) manual">
  <meta name="twitter:description" content="Write the current directory in an open tiff file">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtiff5-dev-TIFFWriteDirectory-3tiff.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3tiff/TIFFWriteDirectory.3tiff.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="TIFFWriteDirectory (3tiff) manual" />
  <meta property="og:description" content="Write the current directory in an open tiff file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtiff5-dev-TIFFWriteDirectory-3tiff.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">TIFFWriteDirectory<small> (3tiff)</small></h1>
        <p class="lead">Write the current directory in an open tiff file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3tiff/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3tiff/TIFFWriteDirectory.3tiff.html">
      <span itemprop="name">TIFFWriteDirectory: Write the current directory in an open tiff file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtiff5-dev/">
      <span itemprop="name">libtiff5-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3tiff/TIFFWriteDirectory.3tiff.html">
      <span itemprop="name">TIFFWriteDirectory: Write the current directory in an open tiff file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;tiffio.h&gt;</strong></p><p><strong>int TIFFWriteDirectory(TIFF *</strong><em>tif</em><strong>)</strong></p><p><strong>int TIFFRewriteDirectory(TIFF *</strong><em>tif</em><strong>)</strong></p><p><strong>int TIFFCheckpointDirectory(TIFF *</strong><em>tif</em><strong>)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>TIFFWriteDirectory</em> will write the contents of the current directory to the file and setup to create a new subfile in the same file. Applications only need to call <em>TIFFWriteDirectory</em> when writing multiple subfiles to a single <small>TIFF</small> file. <em>TIFFWriteDirectory</em> is automatically called by <em>TIFFClose</em> and <em>TIFFFlush</em> to write a modified directory if the file is open for writing.</p><p>The <em>TIFFRewriteDirectory</em> function operates similarly to <em>TIFFWriteDirectory,</em> but can be called with directories previously read or written that already have an established location in the file.  It will rewrite the directory, but instead of place it at it's old location (as <em>TIFFWriteDirectory</em> would) it will place them at the end of the file, correcting the pointer from the preceding directory or file header to point to it's new location.  This is particularly important in cases where the size of the directory and pointed to data has grown, so it won't fit in the space available at the old location.</p><p>The <em>TIFFCheckpointDirectory</em> writes the current state of the tiff directory into the file to make what is currently in the file readable.  Unlike <em>TIFFWriteDirectory,</em> <em>TIFFCheckpointDirectory</em> does not free up the directory data structures in memory, so they can be updated (as strips/tiles are written) and written again.  Reading such a partial file you will at worst get a tiff read error for the first strip/tile encountered that is incomplete, but you will at least get all the valid data in the file before that.  When the file is complete, just use <em>TIFFWriteDirectory</em> as usual to finish it off cleanly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>1 is returned when the contents are successfully written to the file. Otherwise, 0 is returned if an error was encountered when writing the directory contents.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>All error messages are directed to the <em>TIFFError</em>(3TIFF) routine.</p><p><strong>Error post-encoding before directory write</strong>. Before writing the contents of the current directory, any pending data are flushed. This message indicates that an error occurred while doing this.</p><p><strong>Error flushing data before directory write</strong>. Before writing the contents of the current directory, any pending data are flushed. This message indicates that an error occurred while doing this.</p><p><strong>Cannot write directory, out of space</strong>. There was not enough space to allocate a temporary area for the directory that was to be written.</p><p><strong>Error writing directory count</strong>. A write error occurred when writing the count of fields in the directory.</p><p><strong>Error writing directory contents</strong>. A write error occurred when writing the directory fields.</p><p><strong>Error writing directory link</strong>. A write error occurred when writing the link to the next directory.</p><p><strong>Error writing data for field "%s"</strong>. A write error occurred when writing indirect data for the specified field.</p><p><strong>Error writing TIFF header</strong>. A write error occurred when re-writing header at the front of the file.</p><p><strong>Error fetching directory count</strong>. A read error occurred when fetching the directory count field for a previous directory. This can occur when setting up a link to the directory that is being written.</p><p><strong>Error fetching directory link</strong>. A read error occurred when fetching the directory link field for a previous directory. This can occur when setting up a link to the directory that is being written.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO TIFFWriteDirectory&hellip;</h2>
        <div class="sectioncontent">
<p><strong>TIFFOpen</strong>(3TIFF), <strong>TIFFError</strong>(3TIFF), <strong>TIFFReadDirectory</strong>(3TIFF), <strong>TIFFSetDirectory</strong>(3TIFF), <strong>libtiff</strong>(3TIFF)</p><p>Libtiff library home page: <strong>http://www.remotesensing.org/libtiff/</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="TIFFWarning.3tiff.html"><span aria-hidden="true">&larr;</span> TIFFWarning.3tiff: Library warning interface</a></li>
   <li class="next"><a href="TIFFWriteEncodedStrip.3tiff.html">TIFFWriteEncodedStrip.3tiff: Compress and write a strip of data to an open tiff file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
