<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pam_set_item: Set and update pam informations</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set and update pam informations">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pam_set_item (3) manual">
  <meta name="twitter:description" content="Set and update pam informations">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpam0g-dev-pam_set_item-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/pam_set_item.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pam_set_item (3) manual" />
  <meta property="og:description" content="Set and update pam informations" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpam0g-dev-pam_set_item-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pam_set_item<small> (3)</small></h1>
        <p class="lead">Set and update pam informations</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pam_set_item.3.html">
      <span itemprop="name">pam_set_item: Set and update pam informations</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpam0g-dev/">
      <span itemprop="name">libpam0g-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pam_set_item.3.html">
      <span itemprop="name">pam_set_item: Set and update pam informations</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;security/pam_modules.h&gt;
</pre>
<p><strong>int pam_set_item(pam_handle_t&nbsp;*</strong><em>pamh</em><strong>, int&nbsp;</strong><em>item_type</em><strong>, const&nbsp;void&nbsp;*</strong><em>item</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>pam_set_item</strong> function allows applications and PAM service modules to access and to update PAM informations of <em>item_type</em>. For this a copy of the object pointed to by the <em>item</em> argument is created. The following <em>item_type</em>s are supported:</p><p>PAM_SERVICE</p><p>The service name (which identifies that PAM stack that the PAM functions will use to authenticate the program).</p><p>PAM_USER</p><p>The username of the entity under whose identity service will be given. That is, following authentication, <em>PAM_USER</em> identifies the local entity that gets to use the service. Note, this value can be mapped from something (eg., "anonymous") to something else (eg. "guest119") by any module in the PAM stack. As such an application should consult the value of <em>PAM_USER</em> after each call to a PAM function.</p><p>PAM_USER_PROMPT</p><p>The string used when prompting for a user&apos;s name. The default value for this string is a localized version of "login: ".</p><p>PAM_TTY</p><p>The terminal name: prefixed by /dev/ if it is a device file; for graphical, X-based, applications the value for this item should be the <em>$DISPLAY</em> variable.</p><p>PAM_RUSER</p><p>The requesting user name: local name for a locally requesting user or a remote user name for a remote requesting user.</p><p>Generally an application or module will attempt to supply the value that is most strongly authenticated (a local account before a remote one. The level of trust in this value is embodied in the actual authentication stack associated with the application, so it is ultimately at the discretion of the system administrator.</p><p><em>PAM_RUSER@PAM_RHOST</em> should always identify the requesting user. In some cases, <em>PAM_RUSER</em> may be NULL. In such situations, it is unclear who the requesting entity is.</p><p>PAM_RHOST</p><p>The requesting hostname (the hostname of the machine from which the <em>PAM_RUSER</em> entity is requesting service). That is <em>PAM_RUSER@PAM_RHOST</em> does identify the requesting user. In some applications, <em>PAM_RHOST</em> may be NULL. In such situations, it is unclear where the authentication request is originating from.</p><p>PAM_AUTHTOK</p><p>The authentication token (often a password). This token should be ignored by all module functions besides <a href="../man3/pam_sm_authenticate.3.html"><strong>pam_sm_authenticate</strong>(3)</a> and <a href="../man3/pam_sm_chauthtok.3.html"><strong>pam_sm_chauthtok</strong>(3)</a>. In the former function it is used to pass the most recent authentication token from one stacked module to another. In the latter function the token is used for another purpose. It contains the currently active authentication token.</p><p>PAM_OLDAUTHTOK</p><p>The old authentication token. This token should be ignored by all module functions except <a href="../man3/pam_sm_chauthtok.3.html"><strong>pam_sm_chauthtok</strong>(3)</a>.</p><p>PAM_CONV</p><p>The pam_conv structure. See <a href="../man3/pam_conv.3.html"><strong>pam_conv</strong>(3)</a>.</p><p>The following additional items are specific to Linux-PAM and should not be used in portable applications:</p><p>PAM_FAIL_DELAY</p><p>A function pointer to redirect centrally managed failure delays. See <a href="../man3/pam_fail_delay.3.html"><strong>pam_fail_delay</strong>(3)</a>.</p><p>PAM_XDISPLAY</p><p>The name of the X display. For graphical, X-based applications the value for this item should be the <em>$DISPLAY</em> variable. This value may be used independently of <em>PAM_TTY</em> for passing the name of the display.</p><p>PAM_XAUTHDATA</p><p>A pointer to a structure containing the X authentication data required to make a connection to the display specified by <em>PAM_XDISPLAY</em>, if such information is necessary. See <a href="../man3/pam_xauth_data.3.html"><strong>pam_xauth_data</strong>(3)</a>.</p><p>PAM_AUTHTOK_TYPE</p><p>The default action is for the module to use the following prompts when requesting passwords: "New UNIX password: " and "Retype UNIX password: ". The example word <em>UNIX</em> can be replaced with this item, by default it is empty. This item is used by <a href="../man3/pam_get_authtok.3.html"><strong>pam_get_authtok</strong>(3)</a>.</p><p>For all <em>item_type</em>s, other than PAM_CONV and PAM_FAIL_DELAY, <em>item</em> is a pointer to a &lt;NUL&gt; terminated character string. In the case of PAM_CONV, <em>item</em> points to an initialized <em>pam_conv</em> structure. In the case of PAM_FAIL_DELAY, <em>item</em> is a function pointer: <strong>void (*delay_fn)(int retval, unsigned usec_delay, void *appdata_ptr)</strong></p><p>Both, PAM_AUTHTOK and PAM_OLDAUTHTOK, will be reseted before returning to the application. Which means an application is not able to access the authentication tokens.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>PAM_BAD_ITEM</p><p>The application attempted to set an undefined or inaccessible item.</p><p>PAM_BUF_ERR</p><p>Memory buffer error.</p><p>PAM_SUCCESS</p><p>Data was successful updated.</p><p>PAM_SYSTEM_ERR</p><p>The <em>pam_handle_t</em> passed as first argument was invalid.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pam_set_item&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/pam_get_item.3.html"><strong>pam_get_item</strong>(3)</a>, <a href="../man3/pam_strerror.3.html"><strong>pam_strerror</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pam_set_data.3.html"><span aria-hidden="true">&larr;</span> pam_set_data.3: Set module internal data</a></li>
   <li class="next"><a href="pam_setcred.3.html">pam_setcred.3: Establish / delete user credentials <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
