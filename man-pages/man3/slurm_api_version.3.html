<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>slurm_api_version: Slurm information reporting functions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Slurm information reporting functions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="slurm_api_version (3) manual">
  <meta name="twitter:description" content="Slurm information reporting functions">
  <meta name="twitter:image" content="https://www.carta.tech/images/libslurm-dev-slurm_api_version-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/slurm_api_version.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="slurm_api_version (3) manual" />
  <meta property="og:description" content="Slurm information reporting functions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libslurm-dev-slurm_api_version-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">slurm_api_version<small> (3)</small></h1>
        <p class="lead">Slurm information reporting functions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/slurm_api_version.3.html">
      <span itemprop="name">slurm_api_version: Slurm information reporting functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libslurm-dev/">
      <span itemprop="name">libslurm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/slurm_api_version.3.html">
      <span itemprop="name">slurm_api_version: Slurm information reporting functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>#include &lt;stdio.h&gt;</p><p>#include &lt;slurm/slurm.h&gt;</p><p>long <strong>slurm_api_version</strong> ();</p><p>void <strong>slurm_free_ctl_conf</strong> (</p><p>	slurm_ctl_conf_t *<em>conf_info_msg_ptr</em></p><p>);</p><p>int <strong>slurm_load_ctl_conf</strong> (</p><p>	time_t <em>update_time</em>,</p><p>	slurm_ctl_conf_t **<em>conf_info_msg_pptr</em></p><p>);</p><p>void <strong>slurm_print_ctl_conf</strong> (</p><p>	FILE *<em>out_file</em>,</p><p>	slurm_ctl_conf_t *<em>conf_info_msg_ptr</em></p><p>);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>conf_info_msg_pptr</em></p>
  </dt>
  <dd>
    <p>Specifies the double pointer to the structure to be created and filled with the time of the last configuration update and detailed configuration information. Configuration information includes control machine names, file names, timer values, etc. See slurm.h for full details on the data structure's contents.</p>
  </dd>
  <dt>
    <p><em>conf_info_msg_ptr</em></p>
  </dt>
  <dd>
    <p>Specifies the pointer to the structure created by <strong>slurm_load_ctl_conf</strong>.</p>
  </dd>
  <dt>
    <p><em>out_file</em></p>
  </dt>
  <dd>
    <p>Specifies the file to print data to.</p>
  </dd>
  <dt>
    <p><em>update_time</em></p>
  </dt>
  <dd>
    <p>For all of the following informational calls, if update_time is equal to or greater than the last time changes where made to that information, new information is not returned.  Otherwise all the configuration. job, node, or partition records are returned.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>slurm_api_version</strong> Return the SLURM API version number.</p><p><strong>slurm_free_ctl_conf</strong> Release the storage generated by the <strong>slurm_load_ctl_conf</strong> function.</p><p><strong>slurm_load_ctl_conf</strong> Returns a slurm_ctl_conf_t that contains Slurm configuration records.</p><p><strong>slurm_print_ctl_conf</strong> Prints the contents of the data structure loaded by the <strong>slurm_load_ctl_conf</strong> function.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>For <strong>slurm_api_version</strong> the SLURM API version number is returned. All other functions return zero on success and -1 on error with the SLURM error code set appropriately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p><strong>SLURM_NO_CHANGE_IN_DATA</strong> Data has not changed since <strong>update_time</strong>.</p><p><strong>SLURM_PROTOCOL_VERSION_ERROR</strong> Protocol version has changed, re-link your code.</p><p><strong>SLURM_PROTOCOL_SOCKET_IMPL_TIMEOUT</strong> Timeout in communicating with SLURM controller.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>#include &lt;stdio.h&gt;</p><p>#include &lt;stdlib.h&gt;</p><p>#include &lt;slurm/slurm.h&gt;</p><p>#include &lt;slurm/slurm_errno.h&gt;</p><p>int main (int argc, char *argv[])</p><p>{</p><p>	slurm_ctl_conf_t * conf_info_msg_ptr = NULL;</p><p>	long version = slurm_api_version();</p><p>	/* We can use the SLURM version number to determine how</p><p>	 * API should be used */</p><p>	printf("slurm_api_version: %ld, %ld.%ld.%ld&#92;n", version,</p><p>		SLURM_VERSION_MAJOR(version),</p><p>		SLURM_VERSION_MINOR(version),</p><p>		SLURM_VERSION_MICRO(version));</p><p>	/* get and print some configuration information */</p><p>	if ( slurm_load_ctl_conf ((time_t) NULL,</p><p>	                          &conf_info_msg_ptr ) ) {</p><p>		slurm_perror ("slurm_load_ctl_conf error");</p><p>		exit (1);</p><p>	}</p><p>	/* The easy way to print */</p><p>	slurm_print_ctl_conf (stdout,</p><p>	                      conf_info_msg_ptr);</p><p>	/* The hard way */</p><p>	printf ("control_machine = %s&#92;n",</p><p>	        conf_info_msg_ptr-&gt;control_machine);</p><p>	printf ("first_job_id = %u&#92;n",</p><p>	        conf_info_msg_ptr-&gt;first_job_id);</p><p>	slurm_free_ctl_conf (conf_info_msg_ptr);</p><p>	exit (0);</p><p>}</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTE</h2>
        <div class="sectioncontent">
<p>These functions are included in the libslurm library, which must be linked to your process for use (e.g. "cc -lslurm myprog.c").</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2002-2007 The Regents of the University of California. Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER). CODE-OCEC-09-009. All rights reserved.</p><p>This file is part of SLURM, a resource management program. For details, see &lt;http://slurm.schedmd.com/&gt;.</p><p>SLURM is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>SLURM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO slurm_api_version&hellip;</h2>
        <div class="sectioncontent">
<p><strong>scontrol</strong>(1), <a href="../man3/slurm_get_errno.3.html"><strong>slurm_get_errno</strong>(3)</a>, <a href="../man3/slurm_perror.3.html"><strong>slurm_perror</strong>(3)</a>, <a href="../man3/slurm_strerror.3.html"><strong>slurm_strerror</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="slurm_allocation_msg_thr_destroy.3.html"><span aria-hidden="true">&larr;</span> slurm_allocation_msg_thr_destroy.3: Slurm job initiation functions</a></li>
   <li class="next"><a href="slurm_checkpoint.3.html">slurm_checkpoint.3: Slurm checkpoint functions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
