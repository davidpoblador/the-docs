<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DateTime::Format::Natural: Create machine readable date/time with natural parsing logic</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create machine readable date/time with natural parsing logic">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="DateTime::Format::Natural (3pm) manual">
  <meta name="twitter:description" content="Create machine readable date/time with natural parsing logic">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdatetime-format-natural-perl-DateTime::Format::Natural-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/DateTime::Format::Natural.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="DateTime::Format::Natural (3pm) manual" />
  <meta property="og:description" content="Create machine readable date/time with natural parsing logic" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdatetime-format-natural-perl-DateTime::Format::Natural-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">DateTime::Format::Natural<small> (3pm)</small></h1>
        <p class="lead">Create machine readable date/time with natural parsing logic</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DateTime::Format::Natural.3pm.html">
      <span itemprop="name">DateTime::Format::Natural: Create machine readable date/time with natural parsing logic</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdatetime-format-natural-perl/">
      <span itemprop="name">libdatetime-format-natural-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DateTime::Format::Natural.3pm.html">
      <span itemprop="name">DateTime::Format::Natural: Create machine readable date/time with natural parsing logic</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use DateTime::Format::Natural;

 $parser = DateTime::Format::Natural-&gt;new;

 $date_string  = $parser-&gt;extract_datetime($extract_string);
 @date_strings = $parser-&gt;extract_datetime($extract_string);

 $dt = $parser-&gt;parse_datetime($date_string);
 @dt = $parser-&gt;parse_datetime_duration($date_string);

 if ($parser-&gt;success) {
     # operate on $dt/@dt, for example:
     printf("%02d.%02d.%4d %02d:%02d:%02d&#92;n", $dt-&gt;day,
                                              $dt-&gt;month,
                                              $dt-&gt;year,
                                              $dt-&gt;hour,
                                              $dt-&gt;min,
                                              $dt-&gt;sec);
 } else {
     warn $parser-&gt;error;
 }

 @traces = $parser-&gt;trace;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\*(C`DateTime::Format::Natural\*(C' takes a string with a human readable date/time and creates a machine readable one by applying natural parsing logic.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTRUCTOR</h2>
        <div class="sectioncontent">
<h3>new</h3>
<p>Creates a new \*(C`DateTime::Format::Natural\*(C' object. Arguments to \*(C`new()\*(C' are options and not necessarily required.</p><p> $parser = DateTime::Format::Natural-&gt;new(            datetime      =&gt; DateTime-&gt;new(...),            lang          =&gt; &apos;en&apos;,            format        =&gt; &apos;mm/dd/yy&apos;,            prefer_future =&gt; &apos;[0|1]&apos;,            time_zone     =&gt; &apos;floating&apos;,            daytime       =&gt; { morning   =&gt; 06,                               afternoon =&gt; 13,                               evening   =&gt; 20,                             },  );</p><ul>
<li><p>\*(C`datetime\*(C' Overrides the present now with a DateTime object provided.</p></li><li><p>\*(C`lang\*(C' Contains the language selected, currently limited to \*(C`en\*(C' (english). Defaults to '\*(C`en\*(C''.</p></li><li><p>\*(C`format\*(C' Specifies the format of numeric dates, defaults to '\*(C`d/m/y\*(C''.</p></li><li><p>\*(C`prefer_future\*(C' Turns ambiguous weekdays/months to their future relatives. Accepts a boolean, defaults to false.</p></li><li><p>\*(C`time_zone\*(C' The time zone to use when parsing and for output. Accepts any time zone recognized by DateTime. Defaults to 'floating'.</p></li><li><p>\*(C`daytime\*(C' An anonymous hash reference consisting of customized daytime hours, which may be selectively changed.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>parse_datetime</h3>
<p>Returns a DateTime object constructed from a human readable date/time string.</p><p> $dt = $parser-&gt;parse_datetime($date_string);  $dt = $parser-&gt;parse_datetime(string =&gt; $date_string);</p><ul>
<li><p>\*(C`string\*(C' The date string.</p></li>
</ul>
<h3>parse_datetime_duration</h3>
<p>Returns one or two DateTime objects constructed from a human readable date/time string which may contain timespans/durations. <em>Same</em> interface and options as \*(C`parse_datetime()\*(C', but should be explicitly called in list context.</p><p> @dt = $parser-&gt;parse_datetime_duration($date_string);  @dt = $parser-&gt;parse_datetime_duration(string =&gt; $date_string);</p>
<h3>extract_datetime</h3>
<p>Returns parsable date/time substrings (also known as expressions) extracted from the string provided; in scalar context only the first parsable substring is returned, whereas in list context all parsable substrings are returned. Each extracted substring can then be passed to the \*(C`parse_datetime()\*(C'/ \*(C`parse_datetime_duration()\*(C' methods.</p><p> $date_string  = $parser-&gt;extract_datetime($extract_string);  @date_strings = $parser-&gt;extract_datetime($extract_string);  # or  $date_string  = $parser-&gt;extract_datetime(string =&gt; $extract_string);  @date_strings = $parser-&gt;extract_datetime(string =&gt; $extract_string);</p>
<h3>success</h3>
<p>Returns a boolean indicating success or failure for parsing the date/time string given.</p>
<h3>error</h3>
<p>Returns the error message if the parsing did not succeed.</p>
<h3>trace</h3>
<p>Returns one or two strings with the grammar keyword for the valid expression parsed, traces of methods which were called within the Calc class and a summary how often certain units have been modified. More than one string is commonly returned for durations. Useful as a debugging aid.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GRAMMAR</h2>
        <div class="sectioncontent">
<p>The grammar handling has been rewritten to be easily extendable and hence everybody is encouraged to propose sensible new additions and/or changes.</p><p>See the classes \*(C`DateTime::Format::Natural::Lang::[language_code]\*(C' if you're intending to hack a bit on the grammar guts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>See the classes \*(C`DateTime::Format::Natural::Lang::[language_code]\*(C' for an overview of currently valid input.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS & CAVEATS</h2>
        <div class="sectioncontent">
<p>\*(C`parse_datetime()\*(C'/\*(C`parse_datetime_duration()\*(C' always return one or two DateTime objects regardless whether the parse was successful or not. In case no valid expression was found or a failure occurred, an unaltered DateTime object with its initial values (most often the \*(L"current\*(R" now) is likely to be returned. It is therefore recommended to use \*(C`success()\*(C' to assert that the parse did succeed (at least, for common uses), otherwise the absence of a parse failure cannot be guaranteed.</p><p>\*(C`parse_datetime()\*(C' is not capable of handling durations.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>Thanks to Tatsuhiko Miyagawa for the initial inspiration. See Miyagawa's journal entry &lt;http://use.perl.org/~miyagawa/journal/31378&gt; for more information.</p><p>Furthermore, thanks to (in order of appearance) who have contributed valuable suggestions and patches:</p><p> Clayton L. Scott  Dave Rolsky  CPAN Author &apos;SEKIMURA&apos;  mike (pulsation)  Mark Stosberg  Tuomas Jormola  Cory Watson  Urs Stotz  Shawn M. Moore  Andreas J. Ko\*:nig  Chia-liang Kao  Jonny Schulz  Jesse Vincent  Jason May  Pat Kale  Ankur Gupta  Alex Bowley  Elliot Shank  Anirvan Chatterjee  Michael Reddick  Christian Brink  Giovanni Pensa  Andrew Sterling Hanenkamp  Eric Wilhelm  Kevin Field  Wes Morgan  Vladimir Marek  Rod Taylor  Tim Esselens  Colm Dougan  Chifung Fan  Xiao Yafeng  Roman Filippov</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO DateTime::Format::Natural&hellip;</h2>
        <div class="sectioncontent">
<p>dateparse, DateTime, Date::Calc, &lt;http://datetime.perl.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Steven Schubiger &lt;schubiger@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This program is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</p><p>See &lt;http://dev.perl.org/licenses/&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="DateTime::Format::ISO8601.3pm.html"><span aria-hidden="true">&larr;</span> DateTime::Format::ISO8601.3pm: Parses iso8601 formats</a></li>
   <li class="next"><a href="DateTime::Format::Natural::Calc.3pm.html">DateTime::Format::Natural::Calc.3pm: Basic calculations <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
