<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pmiStart: Establish a new logimport context</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Establish a new logimport context">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pmiStart (3) manual">
  <meta name="twitter:description" content="Establish a new logimport context">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpcp3-dev-pmiStart-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/pmiStart.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pmiStart (3) manual" />
  <meta property="og:description" content="Establish a new logimport context" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpcp3-dev-pmiStart-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pmiStart<small> (3)</small></h1>
        <p class="lead">Establish a new logimport context</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pmiStart.3.html">
      <span itemprop="name">pmiStart: Establish a new logimport context</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpcp3-dev/">
      <span itemprop="name">libpcp3-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pmiStart.3.html">
      <span itemprop="name">pmiStart: Establish a new logimport context</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">C SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;pcp/pmapi.h&gt;</p><p>#include &lt;pcp/impl.h&gt;</p><p>#include &lt;pcp/import.h&gt;</p><p>int pmiStart(const char *<em>archive</em>, int <em>inherit</em>);</p><p>cc ... -lpcp_import -lpcp</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Perl SYNOPSIS</h2>
        <div class="sectioncontent">
<p>use PCP::LogImport;</p><p>pmiStart($<em>archive</em>, $<em>inherit</em>);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>As part of the Performance Co-Pilot Log Import API (see <a href="../man3/LOGIMPORT.3.html"><strong>LOGIMPORT</strong>(3)</a>), <strong>pmiStart</strong> creates a new context.  Each context maintains the following state and metadata:</p><ul>
<li><p>The base name ( .IR archive ) for the physical  files that constitute the output PCP archive.</p></li><li><p>The source hostname for the data that will be written to the PCP archive.  Defaults to the hostname of the localhost, but can be set using <a href="../man3/pmiSetHostname.3.html"><strong>pmiSetHostname</strong>(3)</a>.</p></li><li><p>The source timezone for the PCP archive.  Defaults to the timezone of the localhost, but can be set using <a href="../man3/pmiSetTimezone.3.html"><strong>pmiSetTimezone</strong>(3)</a>.</p></li><li><p>Metrics and instance domains, as defined by <a href="../man3/pmiAddMetric.3.html"><strong>pmiAddMetric</strong>(3)</a>.</p></li><li><p>Instances for each instance domain, as defined by <a href="../man3/pmiAddInstance.3.html"><strong>pmiAddInstance</strong>(3)</a>.</p></li><li><p>Handles as defined by <a href="../man3/pmiGetHandle.3.html"><strong>pmiGetHandle</strong>(3)</a>. Each handle is a metric-instance pair, and each metric-instance pair may have an associated value in each record written to the output PCP archive.</p></li><li><p>An optional set of data values for one or more metric-instance pairs (ready for the next record to be written to the output PCP archive) as defined by calls to <strong>pmPutValue</strong>(3) or <strong>pmPutValuehandle</strong>(3).</p></li>
</ul><p>If <em>inherit</em> is true, then the new context will inherit any and all metadata (metrics, instance domains, instances and handles) from the current context, otherwise the new context is created with no metadata. The basename for the output PCP archive, the source hostname, the source timezone and any data values from the current context are <strong>not</strong> inherited. If this is the first call to <strong>pmiStart</strong> the metadata will be empty independent of the value of <em>inherit</em>.</p><p>Since no physical files for the output PCP archive will be created until the first call to <a href="../man3/pmiWrite.3.html"><strong>pmiWrite</strong>(3)</a> or <strong>pmiPutRecord</strong>(3),</strong> <em>archive</em> could be NULL to create a convenience context that is populated with metadata to be inherited by subsequent contexts.</p><p>The return value is a context identifier that could be used in a subsequent call to <a href="../man3/pmUseContext.3.html"><strong>pmUseContext</strong>(3)</a> and the new context becomes the current context which persists for all subsequent calls up to either another <strong>pmiStart</strong> call or a call to <a href="../man3/pmiUseContext.3.html"><strong>pmiUseContext</strong>(3)</a> or a call to <a href="../man3/pmiEnd.3.html"><strong>pmiEnd</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>It is an error if the physical files <em>archive</em>.<strong>0</strong> and/or <em>archive</em>.<strong>index</strong> and/or <em>archive</em>.<strong>meta</strong> already exist, but this is not discovered until the first attempt is made to output some data by calling <a href="../man3/pmiWrite.3.html"><strong>pmiWrite</strong>(3)</a> or <strong>pmiPutRecord</strong>(3),</strong> so <strong>pmiStart</strong> always returns a positive context identifier.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pmiStart&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/LOGIMPORT.3.html"><strong>LOGIMPORT</strong>(3)</a>, <a href="../man3/pmiAddInstance.3.html"><strong>pmiAddInstance</strong>(3)</a>, <a href="../man3/pmiAddMetric.3.html"><strong>pmiAddMetric</strong>(3)</a>, <a href="../man3/pmiEnd.3.html"><strong>pmiEnd</strong>(3)</a>, <a href="../man3/pmiErrStr.3.html"><strong>pmiErrStr</strong>(3)</a>, <a href="../man3/pmiGetHandle.3.html"><strong>pmiGetHandle</strong>(3)</a>, <a href="../man3/pmiPutResult.3.html"><strong>pmiPutResult</strong>(3)</a>, <a href="../man3/pmiPutValue.3.html"><strong>pmiPutValue</strong>(3)</a>, <a href="../man3/pmiPutValueHandle.3.html"><strong>pmiPutValueHandle</strong>(3)</a>, <a href="../man3/pmiSetHostname.3.html"><strong>pmiSetHostname</strong>(3)</a>, <a href="../man3/pmiSetTimezone.3.html"><strong>pmiSetTimezone</strong>(3)</a>, <a href="../man3/pmiUseContext.3.html"><strong>pmiUseContext</strong>(3)</a> and <a href="../man3/pmiWrite.3.html"><strong>pmiWrite</strong>(3)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pmiSetTimezone.3.html"><span aria-hidden="true">&larr;</span> pmiSetTimezone.3: Set the source timezone for a logimport archive</a></li>
   <li class="next"><a href="pmiUnits.3.html">pmiUnits.3: Construct core metric data structures <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
