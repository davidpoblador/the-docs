<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Getopt::Mixed: Getopt processing with both long and short options</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Getopt processing with both long and short options">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Getopt::Mixed (3pm) manual">
  <meta name="twitter:description" content="Getopt processing with both long and short options">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgetopt-mixed-perl-Getopt::Mixed-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Getopt::Mixed.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Getopt::Mixed (3pm) manual" />
  <meta property="og:description" content="Getopt processing with both long and short options" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgetopt-mixed-perl-Getopt::Mixed-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Getopt::Mixed<small> (3pm)</small></h1>
        <p class="lead">Getopt processing with both long and short options</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Getopt::Mixed.3pm.html">
      <span itemprop="name">Getopt::Mixed: Getopt processing with both long and short options</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgetopt-mixed-perl/">
      <span itemprop="name">libgetopt-mixed-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Getopt::Mixed.3pm.html">
      <span itemprop="name">Getopt::Mixed: Getopt processing with both long and short options</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Getopt::Mixed;
    Getopt::Mixed::getOptions(...option-descriptions...);
    ...examine $opt_* variables...
</pre>
<p>or</p><p>    use Getopt::Mixed "nextOption";     Getopt::Mixed::init(...option-descriptions...);     while (($option, $value) = nextOption()) {         ...process option...     }     Getopt::Mixed::cleanup();</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This package is my response to the standard modules Getopt::Std and Getopt::Long.  \*(C`Std\*(C' doesn't support long options, and \*(C`Long\*(C' doesn't support short options.  I wanted both, since long options are easier to remember and short options are faster to type.</p><p>This package is intended to be the \*(L"Getopt-to-end-all-Getop's\*(R".  It combines (I hope) flexibility and simplicity.  It supports both short options (introduced by \*(C`-\*(C') and long options (introduced by \*(C`--\*(C'). Short options which do not take an argument can be grouped together. Short options which do take an argument must be the last option in their group, because everything following the option will be considered to be its argument.</p><p>There are two methods for using Getopt::Mixed:  the simple method and the flexible method.  Both methods use the same format for option descriptions.</p><p><strong>&#92;$1</strong></p><p>The option-description arguments required by \*(C`init\*(C' and \*(C`getOptions\*(C' are strings composed of individual option descriptions.  Several option descriptions can appear in the same string if they are separated by whitespace.</p><p>Each description consists of the option name and an optional trailing argument specifier.  Option names may consist of any characters but whitespace, \*(C`=\*(C', \*(C`:\*(C', and \*(C`&gt;\*(C'.</p><p>Values for argument specifiers are:</p><p>  &lt;none&gt;   option does not take an argument   =s :s    option takes a mandatory (=) or optional (:) string argument   =i :i    option takes a mandatory (=) or optional (:) integer argument   =f :f    option takes a mandatory (=) or optional (:) real number argument   &gt;new     option is a synonym for option `new'</p><p>The \*(C`&gt;\*(C' specifier is not really an argument specifier.  It defines an option as being a synonym for another option.  For example, \*(L"a=i apples&gt;a\*(R" would define <strong>-a</strong> as an option that requires an integer argument and <strong>--apples</strong> as a synonym for <strong>-a</strong>.  Only one level of synonyms is supported, and the root option must be listed first.  For example, \*(L"apples&gt;a a=i\*(R" and \*(L"a=i apples&gt;a oranges&gt;apples\*(R" are illegal; use \*(L"a=i apples&gt;a oranges&gt;a\*(R" if that's what you want.</p><p>For example, in the option description:</p>
<pre>
     \*(L"a b=i c:s apple baker&gt;b charlie:s\*(R"
         -a and --apple do not take arguments
         -b takes a mandatory integer argument
         --baker is a synonym for -b
         -c and --charlie take an optional string argument
</pre>
<p>If the first argument to \*(C`init\*(C' or \*(C`getOptions\*(C' is entirely non-alphanumeric characters with no whitespace, it represents the characters which can begin options. From the user's perspective, short options are introduced by a dash (\*(C`-\*(C') and long options are introduced by a double dash (\*(C`--\*(C'). Short options may be combined (\*(L"-a -b\*(R" can be written \*(L"-ab\*(R"), but an option that takes an argument must be the last one in its group, because anything following it is considered part of the argument.  A double dash by itself marks the end of the options; all arguments following it are treated as normal arguments, not options.  A single dash by itself is treated as a normal argument, <em>not</em> an option.</p><p>Long options may be abbreviated.  An option <strong>--all-the-time</strong> could be abbreviated <strong>--all</strong>, <strong>--a\*(--tim</strong>, or even <strong>--a</strong>.  Note that <strong>--time</strong> would not work; the abbreviation must start at the beginning of the option name.  If an abbreviation is ambiguous, an error message will be printed.</p><p>In the following examples, <strong>-i</strong> and <strong>--int</strong> take integer arguments, <strong>-f</strong> and <strong>--float</strong> take floating point arguments, and <strong>-s</strong> and <strong>--string</strong> take string arguments.  All other options do not take an argument.</p><p>  -i24            -f24.5               -sHello   -i=24 --int=-27 -f=24.5 --float=0.27 -s=Hello --string=Hello</p><p>If the argument is required, it can also be separated by whitespace:</p><p>  -i 24 --int -27 -f 24.5 --float 0.27 -s Hello --string Hello</p><p>Note that if the option is followed by \*(C`=\*(C', whatever follows the \*(C`=\*(C' <em>is</em> the argument, even if it's the null string.  In the example</p><p>  -i= 24 -f= 24.5 -s= Hello</p><p><strong>-i</strong> and <strong>-f</strong> will cause an error, because the null string is not a number, but <strong>-s</strong> is perfectly legal; its argument is the null string, not \*(L"Hello\*(R".</p><p>Remember that optional arguments <em>cannot</em> be separated from the option by whitespace. The simple method is</p><p>    use Getopt::Mixed;     Getopt::Mixed::getOptions(...option-descriptions...);</p><p>You then examine the \*(C`$opt_*\*(C' variables to find out what options were specified and the @ARGV array to see what arguments are left.</p><p>If <strong>-a</strong> is an option that doesn't take an argument, then $opt_a will be set to 1 if the option is present, or left undefined if the option is not present.</p><p>If <strong>-b</strong> is an option that takes an argument, then $opt_b will be set to the value of the argument if the option is present, or left undefined if the option is not present.  If the argument is optional but not supplied, $opt_b will be set to the null string.</p><p>Note that even if you specify that an option <em>requires</em> a string argument, you can still get the null string (if the user specifically enters it).  If the option requires a numeric argument, you will never get the null string (because it isn't a number).</p><p>When converting the option name to a Perl identifier, any non-word characters in the name will be converted to underscores (\*(C`_\*(C').</p><p>If the same option occurs more than once, only the last occurrence will be recorded.  If that's not acceptable, you'll have to use the flexible method instead. The flexible method is</p><p>    use Getopt::Mixed "nextOption";     Getopt::Mixed::init(...option-descriptions...);     while (($option, $value, $pretty) = nextOption()) {         ...process option...     }     Getopt::Mixed::cleanup();</p><p>This lets you process arguments one at a time.  You can then handle repeated options any way you want to.  It also lets you see option names with non-alphanumeric characters without any translation.  This is also the only method that lets you find out what order the options and other arguments were in.</p><p>First, you call Getopt::Mixed::init with the option descriptions. Then, you keep calling nextOption until it returns an empty list. Finally, you call Getopt::Mixed::cleanup when you're done.  The remaining (non-option) arguments will be found in @ARGV.</p><p>Each call to nextOption returns a list of the next option, its value, and the option as the user typed it.  The value will be undefined if the option does not take an argument.  The option is stripped of its starter (e.g., you get \*(L"a\*(R" and \*(L"foo\*(R", not \*(L"-a\*(R" or \*(L"--foo\*(R").  If you want to print an error message, use the third element, which does include the option starter.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER FUNCTIONS</h2>
        <div class="sectioncontent">
<p>Getopt::Mixed provides one other function you can use.  \*(C`abortMsg\*(C' prints its arguments on \s-1STDERR\s0, plus your program's name and a newline.  It then exits with status 1.  For example, if <em>foo.pl</em> calls \*(C`abortMsg\*(C' like this:</p><p>  Getopt::Mixed::abortMsg("Error");</p><p>The output will be:</p><p>  foo.pl: Error</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CUSTOMIZATION</h2>
        <div class="sectioncontent">
<p>There are several customization variables you can set.  All of these variables should be set <em>after</em> calling Getopt::Mixed::init and <em>before</em> calling nextOption.</p><p>If you set any of these variables, you <em>must</em> check the version number first.  The easiest way to do this is like this:</p><p>    use Getopt::Mixed 1.006;</p><p>If you are using the simple method, and you want to set these variables, you'll need to call init before calling getOptions, like this:</p><p>    use Getopt::Mixed 1.006;     Getopt::Mixed::init(...option-descriptions...);     ...set configuration variables...     Getopt::Mixed::getOptions();      # IMPORTANT: no parameters</p>
<dl class='dl-vertical'>
  <dt>
    $order
  </dt>
  <dd>
    <p>$order can be set to $REQUIRE_ORDER, $PERMUTE, or $RETURN_IN_ORDER. The default is $REQUIRE_ORDER if the environment variable \s-1POSIXLY_CORRECT\s0 has been set, $PERMUTE otherwise. $REQUIRE_ORDER means that no options can follow the first argument which isn't an option. $PERMUTE means that all options are treated as if they preceded all other arguments. $RETURN_IN_ORDER means that all arguments maintain their ordering. When nextOption is called, and the next argument is not an option, it returns the null string as the option and the argument as the value. nextOption never returns the null list until all the arguments have been processed.</p>
  </dd>
  <dt>
    $ignoreCase
  </dt>
  <dd>
    <p>Ignore case when matching options.  Default is 1 unless the option descriptions contain an upper-case letter.</p>
  </dd>
  <dt>
    $optionStart
  </dt>
  <dd>
    <p>A string of characters that can start options.  Default is \*(L"-\*(R".</p>
  </dd>
  <dt>
    $badOption
  </dt>
  <dd>
    <p>A reference to a function that is called when an unrecognized option is encountered.  The function receives three arguments.  $_[0] is the position in @ARGV where the option came from.  $_[1] is the option as the user typed it (including the option start character).  $_[2] is either undef or a string describing the reason the option was not recognized (Currently, the only possible value is 'ambiguous', for a long option with several possible matches).  The option has already been removed from @ARGV.  To put it back, you can say:     splice(@ARGV,$_[0],0,$_[1]); The function can do anything you want to @ARGV.  It should return whatever you want nextOption to return. The default is a function that prints an error message and exits the program.</p>
  </dd>
  <dt>
    $checkArg
  </dt>
  <dd>
    <p>A reference to a function that is called to make sure the argument type is correct.  The function receives four arguments.  $_[0] is the position in @ARGV where the option came from.  $_[1] is the text following the option, or undefined if there was no text following the option.  $_[2] is the name of the option as the user typed it (including the option start character), suitable for error messages. $_[3] is the argument type specifier. The function can do anything you want to @ARGV.  It should return the value for this option. The default is a function that prints an error message and exits the program if the argument is not the right type for the option.  You can also adjust the behavior of the default function by changing $intRegexp or $floatRegexp.</p>
  </dd>
  <dt>
    $intRegexp
  </dt>
  <dd>
    <p>A regular expression that matches an integer.  Default is '^[-+]?&#92;d+$', which matches a string of digits preceded by an optional sign.  Unlike the other configuration variables, this cannot be changed after nextOption is called, because the pattern is compiled only once.</p>
  </dd>
  <dt>
    $floatRegexp
  </dt>
  <dd>
    <p>A regular expression that matches a floating point number.  Default is '^[-+]?(&#92;d*&#92;.?&#92;d+|&#92;d+&#92;.)$', which matches the following formats: \*(L"123\*(R", \*(L"123.\*(R", \*(L"123.45\*(R", and \*(L".123\*(R" (plus an optional sign).  It does not match exponential notation.  Unlike the other configuration variables, this cannot be changed after nextOption is called, because the pattern is compiled only once.</p>
  </dd>
  <dt>
    $typeChars
  </dt>
  <dd>
    <p>A string of the characters which are legal argument types.  The default is 'sif', for String, Integer, and Floating point arguments. The string should consist only of letters.  Upper case letters are discouraged, since this will hamper the case-folding of options.  If you change this, you should set $checkType to a function that will check arguments of your new type.  Unlike the other configuration variables, this must be set <em>before</em> calling <em>init()</em>, and cannot be changed afterwards.</p>
  </dd>
  <dt>
    $checkType
  </dt>
  <dd>
    <p>If you add new types to $typeChars, you should set this to a function which will check arguments of the new types.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<ul>
<li><p>This document should be expanded.</p></li><li><p>A long option must be at least two characters long.  Sorry.</p></li><li><p>The \*(C`!\*(C' argument specifier of Getopt::Long is not supported, but you could have options <strong>--foo</strong> and <strong>--nofoo</strong> and then do something like:     $opt_foo = 0 if $opt_nofoo;</p></li><li><p>The \*(C`@\*(C' argument specifier of Getopt::Long is not supported.  If you want your values pushed into an array, you'll have to use nextOption and do it yourself.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Getopt::Mixed is distributed under the terms of the \s-1GNU\s0 General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version.</p><p>This means it is distributed in the hope that it will be useful, but <em>without any warranty</em>; without even the implied warranty of <em>merchantability</em> or <em>fitness for a particular purpose</em>.  See the \s-1GNU\s0 General Public License for more details.</p><p>Since Perl scripts are only compiled at runtime, and simply calling Getopt::Mixed does <em>not</em> bring your program under the \s-1GPL\s0, the only real restriction is that you can't use Getopt::Mixed in an binary-only distribution produced with \*(C`dump\*(C' (unless you also provide source code).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Christopher J. Madsen &lt;<em>ac608@yfn.ysu.edu</em>&gt;</p><p>Thanks are also due to Andreas Koenig for helping Getopt::Mixed conform to the standards for Perl modules and for answering a bunch of questions.  Any remaining deficiencies are my fault.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Getopt::Declare.3pm.html"><span aria-hidden="true">&larr;</span> Getopt::Declare.3pm: Declaratively expressed command-line arguments via regular expressions</a></li>
   <li class="next"><a href="Getopt::Simple.3pm.html">Getopt::Simple.3pm: Provide a simple wrapper around getopt::long. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
