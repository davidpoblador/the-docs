<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>POE::Component::Client::Ident::Agent: A component to provide a one-shot non-blocking ident query.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A component to provide a one-shot non-blocking ident query.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="POE::Component::Client::Ident::Agent (3pm) manual">
  <meta name="twitter:description" content="A component to provide a one-shot non-blocking ident query.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpoe-component-client-ident-perl-POE::Component::Client::Ident::Agent-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/POE::Component::Client::Ident::Agent.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="POE::Component::Client::Ident::Agent (3pm) manual" />
  <meta property="og:description" content="A component to provide a one-shot non-blocking ident query." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpoe-component-client-ident-perl-POE::Component::Client::Ident::Agent-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">POE::Component::Client::Ident::Agent<small> (3pm)</small></h1>
        <p class="lead">A component to provide a one-shot non-blocking ident query.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/POE::Component::Client::Ident::Agent.3pm.html">
      <span itemprop="name">POE::Component::Client::Ident::Agent: A component to provide a one-shot non-blocking ident query.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpoe-component-client-ident-perl/">
      <span itemprop="name">libpoe-component-client-ident-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/POE::Component::Client::Ident::Agent.3pm.html">
      <span itemprop="name">POE::Component::Client::Ident::Agent: A component to provide a one-shot non-blocking ident query.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use POE::Component::Client::Ident::Agent;
</pre>
<p>  my $poco = POE::Component::Client::Ident::Agent-&gt;spawn(                                                 PeerAddr =&gt; "192.168.1.12", # Originating IP Address                                                 PeerPort =&gt; 12345,          # Originating port                                                 SockAddr =&gt; "192.168.2.24", # Local IP address                                                 SockPort =&gt; 69,             # Local Port                                                 Socket   =&gt; $socket_handle, # Or pass in a socket handle                                                 IdentPort =&gt; 113,           # Port to send queries to on originator                                                                             # Default shown                                                 BuggyIdentd =&gt; 0,           # Dealing with an Identd that isn&apos;t                                                                             # RFC compatable. Default is 0.                                                 TimeOut =&gt; 30,              # Adjust the timeout period.                                                 Reference =&gt; $scalar        # Give the component a reference                                                 );</p><p>  sub _child {    my ($action,$child,$reference) = @_[ARG0,ARG1,ARG2];</p><p>   if ( $action eq &apos;create&apos; ) {      # Stuff    }   }</p><p>  sub ident_agent_reply {   }</p><p>  sub ident_agent_error {   }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>POE::Component::Client::Ident::Agent is a \s-1POE\s0 component that provides a single \*(L"one shot\*(R" look up of a username on the remote side of a \s-1TCP\s0 connection to other components and sessions, using the ident (auth/tap) protocol. The Ident protocol is described in \s-1RFC\s0 1413 &lt;http://www.faqs.org/rfcs/rfc1413.html&gt;.</p><p>The component implements a single ident request. Your session spawns the component, passing the relevant arguments and at some future point will receive either a 'ident_agent_reply' or 'ident_agent_error', depending on the outcome of the query.</p><p>If you are looking for a robust method of managing Ident::Agent sessions then please consult the documentation for POE::Component::Client::Ident, which takes care of Agent management for you.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTRUCTOR</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    spawn
  </dt>
  <dd>
    <p>Takes either the arguments:   "PeerAddr", the remote IP address where a TCP connection has originated;   "PeerPort", the port where the TCP has originated from;   "SockAddr", the address of our end of the connection;   "SockPort", the port of our end of the connection; \s-1OR:\s0   "Socket", the socket handle of the connection, the component will work out all the   details for you. If Socket is defined, it will override the settings of the other arguments,   except for:   "IdentPort", which is the port on the remote host where we send our ident queries.   This is optional, defaults to 113. You may also specify BuggyIdentd to 1, to support Identd that doesn't terminate lines as per the \s-1RFC\s0. You may also specify TimeOut between 5 and 30, to have a shorter timeout in seconds on waiting for a response from the Identd. Default is 30 seconds. Optionally, you can specify Reference, which is anything that'll fit in a scalar. This will get passed back as part of the response. See below. Returns an POE::Component::Client::Ident::Agent object, which has the following methods.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    session_id
  </dt>
  <dd>
    <p>Returns the \s-1POE\s0 session \s-1ID\s0 of the component.</p>
  </dd>
  <dt>
    shutdown
  </dt>
  <dd>
    <p>Terminates the component.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT</h2>
        <div class="sectioncontent">
<p>All the events returned by the component have a hashref as \s-1ARG0\s0. This hashref contains the arguments that were passed to the component. If a socket handle was passed, the hashref will contain the appropriate PeerAddr, PeerPort, SockAddr and SockPort. If the component was spawned with a Reference parameter, this will be passed back as a key of the hashref.</p><p>The following events are sent to the calling session by the component:</p>
<dl class='dl-vertical'>
  <dt>
    ident_agent_reply
  </dt>
  <dd>
    <p>Returned when the component receives a \s-1USERID\s0 response from the identd. \s-1ARG0\s0 is hashref, \s-1ARG1\s0 is the opsys field and \s-1ARG2\s0 is the userid or something else depending on whether the opsys field is set to '\s-1OTHER\s0' ( Don't blame me, read the \s-1RFC\s0 ).</p>
  </dd>
  <dt>
    ident_agent_error
  </dt>
  <dd>
    <p>Returned when the component receives an \s-1ERROR\s0 response from the identd, there was some sort of communication error with the remote host ( ie. no identd running ) or it had some other problem with making the connection to the other host. No matter. \s-1ARG0\s0 is hashref, \s-1ARG1\s0 is the type of error.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Chris Williams, &lt;chris@bingosnet.co.uk&lt;gt&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO POE::Component::Client::Ident::Agent&hellip;</h2>
        <div class="sectioncontent">
<p>\s-1RFC\s0 1413 &lt;http://www.faqs.org/rfcs/rfc1413.html&gt;</p><p>POE::Session</p><p>POE::Component::Client::Ident</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="POE::Component::Client::Ident.3pm.html"><span aria-hidden="true">&larr;</span> POE::Component::Client::Ident.3pm: A component that provides non-blocking ident lookups to your sessions.</a></li>
   <li class="next"><a href="POE::Component::Client::Ping.3pm.html">POE::Component::Client::Ping.3pm: A non-blocking icmp ping client <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
