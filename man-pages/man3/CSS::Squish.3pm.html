<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CSS::Squish: Compact many css files into one big file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compact many css files into one big file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CSS::Squish (3pm) manual">
  <meta name="twitter:description" content="Compact many css files into one big file">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcss-squish-perl-CSS::Squish-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/CSS::Squish.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CSS::Squish (3pm) manual" />
  <meta property="og:description" content="Compact many css files into one big file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcss-squish-perl-CSS::Squish-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CSS::Squish<small> (3pm)</small></h1>
        <p class="lead">Compact many css files into one big file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CSS::Squish.3pm.html">
      <span itemprop="name">CSS::Squish: Compact many css files into one big file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcss-squish-perl/">
      <span itemprop="name">libcss-squish-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CSS::Squish.3pm.html">
      <span itemprop="name">CSS::Squish: Compact many css files into one big file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use CSS::Squish;
  my $concatenated = CSS::Squish-&gt;concatenate(@files);

  my $squisher = CSS::Squish-&gt;new( roots =&gt; [&apos;/root1&apos;, &apos;/root2&apos;] );
  my $concatenated = $squisher-&gt;concatenate(@files);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module takes a list of \s-1CSS\s0 files and concatenates them, making sure to honor any valid @import statements included in the files.</p><p>The benefit of this is that you get to keep your \s-1CSS\s0 as individual files, but can serve it to users in one big file, saving the overhead of possibly dozens of \s-1HTTP\s0 requests.</p><p>Following the \s-1CSS\s0 2.1 spec, @import statements must be the first rules in a \s-1CSS\s0 file.  Media-specific @import statements will be honored by enclosing the included file in an @media rule.  This has the side effect of actually <em>improving</em> compatibility in Internet Explorer, which ignores media-specific @import rules but understands @media rules.</p><p>It is possible that future versions will include methods to compact whitespace and other parts of the \s-1CSS\s0 itself, but this functionality is not supported at the current time.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMON METHODS</h2>
        <div class="sectioncontent">
<h3>new( [roots=&gt;[...]] )</h3>
<p>A constructor. For backward compatibility with versions prior to 0.06 you can still call everything as a class method, but should remember that roots are shared between all callers in this case.</p><p>if you're using persistent environment (like mod_perl) then it's very recomended to use objects. Takes a list of files to concatenate and returns the results as one big scalar. Takes a filehandle to print to and a list of files to concatenate. \*(C`concatenate\*(C' uses this method with an \*(C`open\*(C'ed scalar.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESOLVING METHODS</h2>
        <div class="sectioncontent">
<p>The following methods help map URIs to files and find them on the disk.</p><p>In common situation you control \s-1CSS\s0 and can adopt it to use imports with relative URIs and most probably only have to set root(s).</p><p>However, you can subclass these methods to parse css files before submitting, implement advanced mapping of URIs to file system and other things.</p><p>Mapping works in the following way. When you call concatenate method we get content of file using file_handle method which as well lookup files in roots. If roots are not defined then files are treated as absolute paths or relative to the current directory. Using of absolute paths is not recommended as unhide server dirrectory layout to clients in css comments and as well don't allow to handle @import commands with absolute URIs. When files is found we parse its content for @import commands. On each \s-1URI\s0 we call resolve_uri method that convert absolute and relative URIs into file paths.</p><p>Here is example of processing:</p><p>    roots: /www/overlay/, /www/shared/</p><p>    $squisher-&gt;concatenate(&apos;/css/main.css&apos;);</p><p>    -&gt;file_handle(&apos;/css/main.css&apos;);         -&gt;resolve_file(&apos;/css/main.css&apos;);         &lt;- &apos;/www/shared/css/main.css&apos;;     &lt;- handle;</p><p>    content parsing     find &apos;@import url(nav.css)&apos;     -&gt; resolve_uri(&apos;nav.css&apos;, &apos;/css/main.css&apos;);     &lt;- &apos;/css/nav.css&apos;;         ... recursivly process file     find &apos;@import url(/css/another.css)&apos;     -&gt; resolve_uri(&apos;/css/another.css&apos;, &apos;/css/main.css&apos;);     &lt;- &apos;/css/another.css&apos;     ... A getter/setter for paths to search when looking for files.</p><p>The paths specified here are searched for files. This is useful if your server has multiple document roots or document root doesn't match the current dir.</p><p>See also 'resolve_file' below. Takes a path to a file, resolves (see resolve_file) it and returns a handle.</p><p>Returns undef if file couldn't be resolved or it's impossible to open file.</p><p>You can subclass it to filter content, process it with templating system or generate it on the fly:</p><p>    package My::CSS::Squish;     use base qw(CSS::Squish);</p><p>    sub file_handle {         my $self = shift;         my $file = shift;</p><p>        my $content = $self-&gt;my_prepare_content($file);         return undef unless defined $content;</p><p>        open my $fh, "&lt;", &#92;$content or warn "Couldn&apos;t open handle: $!";         return $fh;     }</p><p><strong>Note</strong> that the file is not resolved yet and is relative to the root(s), so you have to resolve it yourself or call resolve_file method. Lookup file in the root(s) and returns first path it found or undef.</p><p>When roots are not set just checks if file exists. \s-1DEPRECATED\s0. This private method is deprecated and do nothing useful except maintaining backwards compatibility. If you were using it then most probably to find files in roots before submitting them into concatenate method. Now, it's not required and this method returns back file path without changes. Takes an \s-1URI\s0 and base file path and transforms it into new file path.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND SHORTCOMINGS</h2>
        <div class="sectioncontent">
<p>At the current time, comments are not skipped.  This means comments happening before @import statements at the top of a file will cause the @import rules to not be parsed.  Make sure the @import rules are the very first thing in the file (and only one per line).  Processing of @import rules stops as soon as the first line that doesn't match an @import rule is encountered.</p><p>All other bugs should be reported via &lt;http://rt.cpan.org/Public/Dist/Display.html?Name=CSS-Squish&gt; or bug-CSS-Squish@rt.cpan.org.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Thomas Sibley &lt;trs@bestpractical.com&gt;, Ruslan Zakirov &lt;ruz@bestpractical.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2006.</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.3 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CSS::Packer.3pm.html"><span aria-hidden="true">&larr;</span> CSS::Packer.3pm: Another css minifier</a></li>
   <li class="next"><a href="CSS::Tiny.3pm.html">CSS::Tiny.3pm: Read/write .css files with as little code as possible <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
