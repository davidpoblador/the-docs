<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>queue: Abstract data type for fifo queues</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Abstract data type for fifo queues">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="queue (3erl) manual">
  <meta name="twitter:description" content="Abstract data type for fifo queues">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-queue-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/queue.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="queue (3erl) manual" />
  <meta property="og:description" content="Abstract data type for fifo queues" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-queue-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">queue<small> (3erl)</small></h1>
        <p class="lead">Abstract data type for fifo queues</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/queue.3erl.html">
      <span itemprop="name">queue: Abstract data type for fifo queues</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/queue.3erl.html">
      <span itemprop="name">queue: Abstract data type for fifo queues</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module implements (double ended) FIFO queues in an efficient manner.</p><p>All functions fail with reason <em>badarg</em> if arguments are of wrong type, for example queue arguments are not queues, indexes are not integers, list arguments are not lists. Improper lists cause internal crashes. An index out of range for a queue also causes a failure with reason <em>badarg</em>.</p><p>Some functions, where noted, fail with reason <em>empty</em> for an empty queue.</p><p>The data representing a queue as used by this module should be regarded as opaque by other modules. Any code assuming knowledge of the format is running on thin ice.</p><p>All operations has an amortized O(1) running time, except <em>len/1</em>, <em>join/2</em>, <em>split/2</em>, <em>filter/2</em> and <em>member/2</em> that have O(n). To minimize the size of a queue minimizing the amount of garbage built by queue operations, the queues do not contain explicit length information, and that is why <em>len/1</em> is O(n). If better performance for this particular operation is essential, it is easy for the caller to keep track of the length.</p><p>Queues are double ended. The mental picture of a queue is a line of people (items) waiting for their turn. The queue front is the end with the item that has waited the longest. The queue rear is the end an item enters when it starts to wait. If instead using the mental picture of a list, the front is called head and the rear is called tail.</p><p>Entering at the front and exiting at the rear are reverse operations on the queue.</p><p>The module has several sets of interface functions. The "Original API", the "Extended API" and the "Okasaki API".</p><p>The "Original API" and the "Extended API" both use the mental picture of a waiting line of items. Both also have reverse operations suffixed "_r".</p><p>The "Original API" item removal functions return compound terms with both the removed item and the resulting queue. The "Extended API" contain alternative functions that build less garbage as well as functions for just inspecting the queue ends. Also the "Okasaki API" functions build less garbage.</p><p>The "Okasaki API" is inspired by "Purely Functional Data structures" by Chris Okasaki. It regards queues as lists. The API is by many regarded as strange and avoidable. For example many reverse operations have lexically reversed names, some with more readable but perhaps less understandable aliases.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ORIGINAL API</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA TYPES</h2>
        <div class="sectioncontent">

<pre>
<strong>queue(Item)</strong>

</pre>
<p>As returned by <em>new/0</em>.</p>
<pre>
<strong>queue()</strong>

</pre>
<p><em>queue()</em> is equivalent to <em>queue(term())</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
new() -&gt; queue()

</pre>
<p>Returns an empty queue.</p>
<pre>
<strong></strong>
is_queue(Term :: term()) -&gt; boolean()

</pre>
<p>Tests if <em>Term</em> is a queue and returns <em>true</em> if so and <em>false</em> otherwise.</p>
<pre>
<strong></strong>
is_empty(Q :: queue()) -&gt; boolean()

</pre>
<p>Tests if <em>Q</em> is empty and returns <em>true</em> if so and <em>false</em> otherwise.</p>
<pre>
<strong></strong>
len(Q :: queue()) -&gt; integer() &gt;= 0

</pre>
<p>Calculates and returns the length of queue <em>Q</em>.</p>
<pre>
<strong></strong>
in(Item, Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Inserts <em>Item</em> at the rear of queue <em>Q1</em>. Returns the resulting queue <em>Q2</em>.</p>
<pre>
<strong></strong>
in_r(Item, Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Inserts <em>Item</em> at the front of queue <em>Q1</em>. Returns the resulting queue <em>Q2</em>.</p>
<pre>
<strong></strong>
out(Q1 :: queue(Item)) -&gt;
<strong></strong>
       {{value, Item}, Q2 :: queue(Item)} |
<strong></strong>
       {empty, Q1 :: queue(Item)}

</pre>
<p>Removes the item at the front of queue <em>Q1</em>. Returns the tuple <em>{{value, Item}, Q2}</em>, where <em>Item</em> is the item removed and <em>Q2</em> is the resulting queue. If <em>Q1</em> is empty, the tuple <em>{empty, Q1}</em> is returned.</p>
<pre>
<strong></strong>
out_r(Q1 :: queue(Item)) -&gt;
<strong></strong>
         {{value, Item}, Q2 :: queue(Item)} |
<strong></strong>
         {empty, Q1 :: queue(Item)}

</pre>
<p>Removes the item at the rear of the queue <em>Q1</em>. Returns the tuple <em>{{value, Item}, Q2}</em>, where <em>Item</em> is the item removed and <em>Q2</em> is the new queue. If <em>Q1</em> is empty, the tuple <em>{empty, Q1}</em> is returned.</p>
<pre>
<strong></strong>
from_list(L :: [Item]) -&gt; queue(Item)

</pre>
<p>Returns a queue containing the items in <em>L</em> in the same order; the head item of the list will become the front item of the queue.</p>
<pre>
<strong></strong>
to_list(Q :: queue(Item)) -&gt; [Item]

</pre>
<p>Returns a list of the items in the queue in the same order; the front item of the queue will become the head of the list.</p>
<pre>
<strong></strong>
reverse(Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Returns a queue <em>Q2</em> that contains the items of <em>Q1</em> in the reverse order.</p>
<pre>
<strong></strong>
split(N :: integer() &gt;= 0, Q1 :: queue(Item)) -&gt;
<strong></strong>
         {Q2 :: queue(Item), Q3 :: queue(Item)}

</pre>
<p>Splits <em>Q1</em> in two. The <em>N</em> front items are put in <em>Q2</em> and the rest in <em>Q3</em></p>
<pre>
<strong></strong>
join(Q1 :: queue(Item), Q2 :: queue(Item)) -&gt; Q3 :: queue(Item)

</pre>
<p>Returns a queue <em>Q3</em> that is the result of joining <em>Q1</em> and <em>Q2</em> with <em>Q1</em> in front of <em>Q2</em>.</p>
<pre>
<strong></strong>
filter(Fun, Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Types:</p><p>Fun = fun((Item) -&gt; boolean() | [Item])</p><p>Returns a queue <em>Q2</em> that is the result of calling <em>Fun(Item)</em> on all items in <em>Q1</em>, in order from front to rear.</p><p>If <em>Fun(Item)</em> returns <em>true</em>, <em>Item</em> is copied to the result queue. If it returns <em>false</em>, <em>Item</em> is not copied. If it returns a list the list elements are inserted instead of <em>Item</em> in the result queue.</p><p>So, <em>Fun(Item)</em> returning <em>[Item]</em> is thereby semantically equivalent to returning <em>true</em>, just as returning <em>[]</em> is semantically equivalent to returning <em>false</em>. But returning a list builds more garbage than returning an atom.</p>
<pre>
<strong></strong>
member(Item, Q :: queue(Item)) -&gt; boolean()

</pre>
<p>Returns <em>true</em> if <em>Item</em> matches some element in <em>Q</em>, otherwise <em>false</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXTENDED API</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
get(Q :: queue(Item)) -&gt; Item

</pre>
<p>Returns <em>Item</em> at the front of queue <em>Q</em>.</p><p>Fails with reason <em>empty</em> if <em>Q</em> is empty.</p>
<pre>
<strong></strong>
get_r(Q :: queue(Item)) -&gt; Item

</pre>
<p>Returns <em>Item</em> at the rear of queue <em>Q</em>.</p><p>Fails with reason <em>empty</em> if <em>Q</em> is empty.</p>
<pre>
<strong></strong>
drop(Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Returns a queue <em>Q2</em> that is the result of removing the front item from <em>Q1</em>.</p><p>Fails with reason <em>empty</em> if <em>Q1</em> is empty.</p>
<pre>
<strong></strong>
drop_r(Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Returns a queue <em>Q2</em> that is the result of removing the rear item from <em>Q1</em>.</p><p>Fails with reason <em>empty</em> if <em>Q1</em> is empty.</p>
<pre>
<strong></strong>
peek(Q :: queue(Item)) -&gt; empty | {value, Item}

</pre>
<p>Returns the tuple <em>{value, Item}</em> where <em>Item</em> is the front item of <em>Q</em>, or <em>empty</em> if <em>Q</em> is empty.</p>
<pre>
<strong></strong>
peek_r(Q :: queue(Item)) -&gt; empty | {value, Item}

</pre>
<p>Returns the tuple <em>{value, Item}</em> where <em>Item</em> is the rear item of <em>Q</em>, or <em>empty</em> if <em>Q</em> is empty.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OKASAKI API</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
cons(Item, Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Inserts <em>Item</em> at the head of queue <em>Q1</em>. Returns the new queue <em>Q2</em>.</p>
<pre>
<strong></strong>
head(Q :: queue(Item)) -&gt; Item

</pre>
<p>Returns <em>Item</em> from the head of queue <em>Q</em>.</p><p>Fails with reason <em>empty</em> if <em>Q</em> is empty.</p>
<pre>
<strong></strong>
tail(Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Returns a queue <em>Q2</em> that is the result of removing the head item from <em>Q1</em>.</p><p>Fails with reason <em>empty</em> if <em>Q1</em> is empty.</p>
<pre>
<strong></strong>
snoc(Q1 :: queue(Item), Item) -&gt; Q2 :: queue(Item)

</pre>
<p>Inserts <em>Item</em> as the tail item of queue <em>Q1</em>. Returns the new queue <em>Q2</em>.</p>
<pre>
<strong></strong>
daeh(Q :: queue(Item)) -&gt; Item

</pre>

<pre>
<strong></strong>
last(Q :: queue(Item)) -&gt; Item

</pre>
<p>Returns the tail item of queue <em>Q</em>.</p><p>Fails with reason <em>empty</em> if <em>Q</em> is empty.</p>
<pre>
<strong></strong>
liat(Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>

<pre>
<strong></strong>
init(Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>

<pre>
<strong></strong>
lait(Q1 :: queue(Item)) -&gt; Q2 :: queue(Item)

</pre>
<p>Returns a queue <em>Q2</em> that is the result of removing the tail item from <em>Q1</em>.</p><p>Fails with reason <em>empty</em> if <em>Q1</em> is empty.</p><p>The name <em>lait/1</em> is a misspelling - do not use it anymore.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="qlc.3erl.html"><span aria-hidden="true">&larr;</span> qlc.3erl: Query interface to mnesia, ets, dets, etc</a></li>
   <li class="next"><a href="random.3erl.html">random.3erl: Pseudo random number generation <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
