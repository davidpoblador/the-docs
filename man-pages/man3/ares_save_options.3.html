<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ares_save_options: Save configuration values obtained from initialized ares_channel</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Save configuration values obtained from initialized ares_channel">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ares_save_options (3) manual">
  <meta name="twitter:description" content="Save configuration values obtained from initialized ares_channel">
  <meta name="twitter:image" content="https://www.carta.tech/images/libc-ares-dev-ares_save_options-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ares_save_options.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ares_save_options (3) manual" />
  <meta property="og:description" content="Save configuration values obtained from initialized ares_channel" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libc-ares-dev-ares_save_options-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ares_save_options<small> (3)</small></h1>
        <p class="lead">Save configuration values obtained from initialized ares_channel</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ares_save_options.3.html">
      <span itemprop="name">ares_save_options: Save configuration values obtained from initialized ares_channel</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libc-ares-dev/">
      <span itemprop="name">libc-ares-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ares_save_options.3.html">
      <span itemprop="name">ares_save_options: Save configuration values obtained from initialized ares_channel</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;ares.h&gt;</strong>

<strong>int ares_save_options(ares_channel </strong><em>channel</em><strong>, struct ares_options *</strong><em>options</em><strong>, int *</strong><em>optmask</em><strong>)</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <a href="../man3/ares_save_options.3.html"><strong>ares_save_options</strong>(3)</a></strong> function saves the channel data identified by <em>channel</em>, into the options struct identified by <em>options</em>, and saves the mask of options which are set to the integer pointer (passed by reference) identified by <em>optmask</em>.</p><p>The resultant options and optmask are then able to be passed directly to ares_init_options.  When the options are no longer needed, ares_destroy_options should be called to free any associated memory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p><a href="../man3/ares_save_options.3.html"><strong>ares_save_options</strong>(3)</a></strong> can return any of the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ARES_SUCCESS</strong></p>
  </dt>
  <dd>
    <p>The channel data was successfuly stored</p>
  </dd>
  <dt>
    <p><strong>ARES_ENOMEM</strong></p>
  </dt>
  <dd>
    <p>The memory was exhausted</p>
  </dd>
  <dt>
    <p><strong>ARES_ENODATA</strong></p>
  </dt>
  <dd>
    <p>The channel data identified by <em>channel</em> were invalid.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTE</h2>
        <div class="sectioncontent">
<p>Since c-ares 1.6.0 the ares_options struct has been "locked" meaning that it won't be extended to cover new functions. This function will remain functioning, but it can only return config data that can be represented in this config struct, which may no longer be the complete set of config options. <a href="../man3/ares_dup.3.html"><strong>ares_dup</strong>(3)</a></strong> will not have that restriction.</p><p>The ares_options struct can not handle potential IPv6 name servers the ares_channel might be configured to use. The <a href="../man3/ares_save_options.3.html"><strong>ares_save_options</strong>(3)</a></strong> function will only return IPv4 servers, if any. In order to retrieve all name servers an ares_channel might be using, the <a href="../man3/ares_get_servers.3.html"><strong>ares_get_servers</strong>(3)</a></strong> function must be used instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ares_save_options&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ares_destroy_options.3.html"><strong>ares_destroy_options</strong>(3)</a>, <a href="../man3/ares_init_options.3.html"><strong>ares_init_options</strong>(3)</a>, <a href="../man3/ares_get_servers.3.html"><strong>ares_get_servers</strong>(3)</a>, <a href="../man3/ares_dup.3.html"><strong>ares_dup</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p><a href="../man3/ares_save_options.3.html"><strong>ares_save_options</strong>(3)</a> was added in c-ares 1.4.0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Brad House</p><p>Copyright 1998 by the Massachusetts Institute of Technology.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ares_query.3.html"><span aria-hidden="true">&larr;</span> ares_query.3: Initiate a single-question dns query</a></li>
   <li class="next"><a href="ares_search.3.html">ares_search.3: Initiate a dns query with domain search <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
