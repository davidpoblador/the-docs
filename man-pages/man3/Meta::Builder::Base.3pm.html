<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Meta::Builder::Base: Base class for meta::builder meta objects.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Base class for meta::builder meta objects.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Meta::Builder::Base (3pm) manual">
  <meta name="twitter:description" content="Base class for meta::builder meta objects.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmeta-builder-perl-Meta::Builder::Base-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Meta::Builder::Base.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Meta::Builder::Base (3pm) manual" />
  <meta property="og:description" content="Base class for meta::builder meta objects." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmeta-builder-perl-Meta::Builder::Base-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Meta::Builder::Base<small> (3pm)</small></h1>
        <p class="lead">Base class for meta::builder meta objects.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Meta::Builder::Base.3pm.html">
      <span itemprop="name">Meta::Builder::Base: Base class for meta::builder meta objects.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmeta-builder-perl/">
      <span itemprop="name">libmeta-builder-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Meta::Builder::Base.3pm.html">
      <span itemprop="name">Meta::Builder::Base: Base class for meta::builder meta objects.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Base class for all Meta::Builder Meta objects. This is where the methods used to define new metrics and actions live. This class allows for the creation of dynamic meta objects.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>My/Meta.pm:</p>
<pre>
    package My::Meta;
    use strict;
    use warnings;

    use base &apos;Meta::Builder::Base&apos;;

    # Name the accessor that will be defined in the class that uses the meta object
    # It is used to retrieve the classes meta object.
    _\|_PACKAGE_\|_-&gt;set_accessor( "mymeta" );

    # Add a metric with two actions
    _\|_PACKAGE_\|_-&gt;add_metric(
        mymetric =&gt; sub { [] },
        pop =&gt; sub {
            my $self = shift;
            my ( $data ) = @_;
            pop @$data;
        },
        push =&gt; sub {
            my $self = shift;
            my ( $data, $metric, $action, @args ) = @_;
            push @$data =&gt; @args;
        }
    );

    # Add an additional action to the metric
    _\|_PACKAGE_\|_-&gt;add_action( &apos;mymetric&apos;, get_ref =&gt; sub { shift });

    # Add some predefined metric types + actions
    _\|_PACKAGE_\|_-&gt;add_hash_metric( &apos;my_hashmetric&apos; );
    _\|_PACKAGE_\|_-&gt;add_lists_metric( &apos;my_listsmetric&apos; );
</pre>
<p>My.pm:</p><p>    package My;     use strict;     use warnings;</p><p>    use My::Meta;</p><p>    My::Meta-&gt;new( _\|_PACKAGE_\|_ );</p><p>    # My::Meta defines mymeta() as the accessor we use to get our meta object.     # this is the ONLY way to get the meta object for this class.</p><p>    mymeta()-&gt;mymetric_push( "some data" );     mymeta()-&gt;my_hashmetric_add( key =&gt; &apos;value&apos; );     mymeta()-&gt;my_listsmetric_push( list =&gt; qw/valueA valueB/ );</p><p>    # It works fine as an object/class method as well.     _\|_PACKAGE_\|_-&gt;mymeta-&gt;do_thing(...);</p><p>    ...;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PACKAGE METRIC</h2>
        <div class="sectioncontent">
<p>Whenever you create a new instance of a meta-object you must provide the name of the package to which the meta-object belongs. The 'package' metric will be set to this package name, and can be retirved via the 'package' method: \*(C`$meta-\*(C'<em>package()</em>&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HASH METRICS</h2>
        <div class="sectioncontent">
<p>Hash metrics are metrics that hold key/value pairs. A hash metric is defined using either the \*(C`hash_metric()\*(C' function, or the \*(C`$meta-\*(C'<em>add_hash_metric()</em>&gt; method. The following actions are automatically defined for hash metrics: Add a key/value pair to the metric. Will throw an exception if the metric already has a value for the specified key. Get the value for a specified key. Check that the metric has the specified key defined. Clear the specified key/value pair in the metric. (returns nothing) Get the value for the specified key, then clear the pair form the metric.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LISTS METRICS</h2>
        <div class="sectioncontent">
<p>Push values into the specified list for the given metric. Get the values for a specified key. Check that the metric has the specified list. Clear the specified list in the metric. (returns nothing) Get the values for the specified list in the metric, then clear the list.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLASS METHODS</h2>
        <div class="sectioncontent">
<p>Create a new instance of the meta-class, and apply it to $package. Get the meta data for the meta-class itself. (The meta-class is build using meta-data) Generate a new empty hashref. Generate the name of the method for the given metric and action. Override this if you do not like the \s-1<em>METRIC_ACTION\s0()</em> method names.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OBJECT METHODS</h2>
        <div class="sectioncontent">
<p>Get the name of the package to which this meta-class applies. Set the accessor that is used to retrieve the meta-object from the class to which it applies. Add a hash metric (see \*(L"\s-1HASH\s0 \s-1METRICS\s0\*(R"). %actions should contain \*(C`action =&lt;gt\*(C' sub {...}&gt; pairs for constructing actions (See <em>add_action()</em>). Add a lists metric (see \*(L"\s-1LISTS\s0 \s-1METRICS\s0\*(R") %actions should contain \*(C`action =&lt;gt\*(C' sub {...}&gt; pairs for constructing actions (See <em>add_action()</em>). Add a custom metric. The second argument should be a sub that generates a default value for the metric. %actions should contain \*(C`action =&lt;gt\*(C' sub {...}&gt; pairs for constructing actions (See <em>add_action()</em>). Add an action for the specified metric. See \*(L"\s-1ACTION\s0 \s-1AND\s0 \s-1HOOK\s0 \s-1METHODS\s0\*(R" for details on how to write an action coderef. Add a hook for the specified metric. See \*(L"\s-1ACTION\s0 \s-1AND\s0 \s-1HOOK\s0 \s-1METHODS\s0\*(R" for details on how to write a hook coderef. Add a hook for the specified metric. See \*(L"\s-1ACTION\s0 \s-1AND\s0 \s-1HOOK\s0 \s-1METHODS\s0\*(R" for details on how to write a hook coderef.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACTION AND HOOK METHODS</h2>
        <div class="sectioncontent">
<p>    sub {         my $self = shift;         my ( $data, $metric, $action, @args ) = @_;         ...;     }</p><p>Action and hook methods are called when someone calls \*(C`$meta-&lt;gt\*(C'metric_action(...)&gt;. First all before hooks will be called, the the action itself, and finally the after hooks will be called. All methods in the chain get the exact same unaltered arguments. Only the main action sub can return anything.</p><p>Arguments are: These are methods, so the first argument is the meta object itself. This is the data structure stored for the metric. This is the same as calling $meta-&gt;<em>metric()</em> Name of the metric Name of the action Arguments that <em>metric_action()</em> was called with.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFAULT ACTION METHODS</h2>
        <div class="sectioncontent">
<p>There are the default action methods used by hashmetrics and listsmetrics.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Chad Granum exodist7@gmail.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2010 Chad Granum</p><p>Meta-Builder is free software; Standard perl licence.</p><p>Meta-Builder is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  See the license for more details.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Meta::Builder.3pm.html"><span aria-hidden="true">&larr;</span> Meta::Builder.3pm: Tools for creating meta objects to track custom metrics.</a></li>
   <li class="next"><a href="Meta::Builder::Util.3pm.html">Meta::Builder::Util.3pm: Utility functions for meta::builder <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
