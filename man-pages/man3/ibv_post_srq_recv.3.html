<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ibv_post_srq_recv: Post a list of work requests (wrs) to a shared receive queue (srq)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Post a list of work requests (wrs) to a shared receive queue (srq)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ibv_post_srq_recv (3) manual">
  <meta name="twitter:description" content="Post a list of work requests (wrs) to a shared receive queue (srq)">
  <meta name="twitter:image" content="https://www.carta.tech/images/libibverbs-dev-ibv_post_srq_recv-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ibv_post_srq_recv.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ibv_post_srq_recv (3) manual" />
  <meta property="og:description" content="Post a list of work requests (wrs) to a shared receive queue (srq)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libibverbs-dev-ibv_post_srq_recv-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ibv_post_srq_recv<small> (3)</small></h1>
        <p class="lead">Post a list of work requests (wrs) to a shared receive queue (srq)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ibv_post_srq_recv.3.html">
      <span itemprop="name">ibv_post_srq_recv: Post a list of work requests (wrs) to a shared receive queue (srq)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libibverbs-dev/">
      <span itemprop="name">libibverbs-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ibv_post_srq_recv.3.html">
      <span itemprop="name">ibv_post_srq_recv: Post a list of work requests (wrs) to a shared receive queue (srq)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;infiniband/verbs.h&gt;</strong>

<strong>int ibv_post_srq_recv(struct ibv_srq </strong><em>*srq</em><strong>, struct ibv_recv_wr </strong><em>*wr</em><strong>,</strong>
<strong>                      struct ibv_recv_wr </strong><em>**bad_wr</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ibv_post_srq_recv()</strong> posts the linked list of work requests (WRs) starting with <em>wr</em> to the shared receive queue (SRQ) <em>srq</em>. It stops processing WRs from this list at the first failure (that can be detected immediately while requests are being posted), and returns this failing WR through <em>bad_wr</em>.</p><p>The argument <em>wr</em> is an ibv_recv_wr struct, as defined in &lt;infiniband/verbs.h&gt;.</p>
<pre>
struct ibv_recv_wr {
uint64_t                wr_id;     /* User defined WR ID */
struct ibv_recv_wr     *next;      /* Pointer to next WR in list, NULL if last WR */
struct ibv_sge         *sg_list;   /* Pointer to the s/g array */
int                     num_sge;   /* Size of the s/g array */
};

struct ibv_sge {
uint64_t                addr;      /* Start address of the local memory buffer */
uint32_t                length;    /* Length of the buffer */
uint32_t                lkey;      /* Key of the local Memory Region */
};
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p><strong>ibv_post_srq_recv()</strong> returns 0 on success, or the value of errno on failure (which indicates the failure reason).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The buffers used by a WR can only be safely reused after WR the request is fully executed and a work completion has been retrieved from the corresponding completion queue (CQ).</p><p>If a WR is being posted to a UD QP, the Global Routing Header (GRH) of the incoming message will be placed in the first 40 bytes of the buffer(s) in the scatter list.  If no GRH is present in the incoming message, then the first bytes will be undefined.  This means that in all cases, the actual data of the incoming message will start at an offset of 40 bytes into the buffer(s) in the scatter list.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ibv_post_srq_recv&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ibv_create_qp.3.html"><strong>ibv_create_qp</strong>(3)</a>, <a href="../man3/ibv_post_send.3.html"><strong>ibv_post_send</strong>(3)</a>, <a href="../man3/ibv_post_recv.3.html"><strong>ibv_post_recv</strong>(3)</a>, <a href="../man3/ibv_poll_cq.3.html"><strong>ibv_poll_cq</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Dotan Barak &lt;dotanba@gmail.com&gt;</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ibv_post_send.3.html"><span aria-hidden="true">&larr;</span> ibv_post_send.3: Post a list of work requests (wrs) to a send queue</a></li>
   <li class="next"><a href="ibv_query_device.3.html">ibv_query_device.3: Query an rdma device's attributes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
