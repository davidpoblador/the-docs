<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>seccomp_attr_get - Manage the seccomp filter attributes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Manage the seccomp filter attributes">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">seccomp_attr_get<small> (3)</small></h1>
        <p class="lead">Manage the seccomp filter attributes</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man3/"><span itemprop="title">Library calls</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man3/seccomp_attr_get.3.html"><span itemprop="title">seccomp_attr_get</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre><strong>#include &lt;seccomp.h&gt;</strong>

<strong>typedef void * scmp_filter_ctx;</strong>
<strong>enum scmp_filter_attr;</strong>

<strong>int seccomp_attr_set(scmp_filter_ctx </strong><em>ctx</em><strong>,</strong>
<strong>                     enum scmp_filter_attr </strong><em>attr</em><strong>, uint32_t </strong><em>value</em><strong>);</strong>
<strong>int seccomp_attr_get(scmp_filter_ctx </strong><em>ctx</em><strong>,</strong>
<strong>                     enum scmp_filter_attr </strong><em>attr</em><strong>, uint32_t *</strong><em>value</em><strong>);</strong>

Link with <em>-lseccomp</em>.</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>The <strong>seccomp_attr_set</strong>() function sets the different seccomp filter attributes while the <strong>seccomp_attr_get</strong>() function fetches the filter attributes.  The seccomp filter attributes are tunable values that affect how the library behaves when generating and loading the seccomp filter into the kernel.  The attributes are reset to their default values whenever the filter is initialized or reset via <strong>seccomp_filter_init</strong>(3) or <strong>seccomp_filter_reset</strong>(3).</p>
<p class='spacer'>

<p>The filter context <em>ctx</em> is the value returned by the call to <a href="../man3/seccomp_init.3.html"><strong>seccomp_init</strong>(3)</a>.</p>
<p class='spacer'>

  <p>Valid <em>attr</em> values are as follows:</p>
  <dl class='dl-vertical'>
    <dt><strong>SCMP_FLTATR_ACT_DEFAULT</strong></dt>
    <dd>
  <p>The default filter action as specified in the call to <strong>seccomp_filter_init</strong>(3) or <strong>seccomp_filter_reset</strong>(3). This attribute is read-only.</p>
    </dd>
    <dt><strong>SCMP_FLTATR_ACT_BADARCH</strong></dt>
    <dd>
  <p>The filter action taken when the loaded filter does not match the architecture of the executing application.  Defaults to the <strong>SCMP_ACT_KILL</strong> action.</p>
    </dd>
    <dt><strong>SCMP_FLTATR_CTL_NNP</strong></dt>
    <dd>
  <p>A flag to specify if the NO_NEW_PRIVS functionality should be enabled before loading the seccomp filter into the kernel.  Setting this to off ( <em>value</em> == 0) results in no action, meaning that loading the seccomp filter into the kernel will fail if CAP_SYS_ADMIN is missing and NO_NEW_PRIVS has not been externally set.  Defaults to on ( <em>value</em> == 1).</p>
    </dd>
    <dt><strong>SCMP_FLTATR_CTL_TSYNC</strong></dt>
    <dd>
  <p>A flag to specify if the kernel should attempt to synchronize the filters across all threads on <a href="../man3/seccomp_load.3.html"><strong>seccomp_load</strong>(3)</a>. If the kernel is unable to synchronize all of the thread then the load operation will fail.  This flag is only available on Linux Kernel 3.17 or greater; attempting to enable this flag on earlier kernels will result in an error being returned.  Defaults to off ( <em>value</em> == 0).</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">

<p>Returns zero on success, negative errno values on failure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>#include &lt;seccomp.h&gt;

int main(int argc, char *argv[])
{
	int rc = -1;
	scmp_filter_ctx ctx;

	ctx = seccomp_init(SCMP_ACT_ALLOW);
	if (ctx == NULL)
		goto out;

	/* ... */

	rc = seccomp_attr_set(ctx, SCMP_FLTATR_ACT_BADARCH, SCMP_ACT_TRAP);
	if (rc &lt; 0)
		goto out;

	/* ... */

out:
	seccomp_release(ctx);
	return -rc;
}</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>While the seccomp filter can be generated independent of the kernel, kernel support is required to load and enforce the seccomp filter generated by libseccomp.</p>
<p class='spacer'>

<p>The libseccomp project site, with more information and the source code repository, can be found at https://github.com/seccomp/libseccomp.  This tool, as well as the libseccomp library, is currently under development, please report any bugs at the project site or directly to the author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">

<p>Paul Moore &lt;paul@paul-moore.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man3/seccomp_init.3.html"><strong>seccomp_init</strong>(3)</a>, <a href="../man3/seccomp_reset.3.html"><strong>seccomp_reset</strong>(3)</a>, <a href="../man3/seccomp_load.3.html"><strong>seccomp_load</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="seccomp_arch_resolve_name.3.html"><span aria-hidden="true">&larr;</span> seccomp_arch_resolve_name.3: Manage seccomp filter architectures</a></li>
   <li class="next"><a href="seccomp_attr_set.3.html">seccomp_attr_set.3: Manage the seccomp filter attributes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
