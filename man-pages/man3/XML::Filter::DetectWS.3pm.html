<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XML::Filter::DetectWS: A perlsax filter that detects ignorable whitespace</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A perlsax filter that detects ignorable whitespace">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XML::Filter::DetectWS (3pm) manual">
  <meta name="twitter:description" content="A perlsax filter that detects ignorable whitespace">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxml-filter-detectws-perl-XML::Filter::DetectWS-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/XML::Filter::DetectWS.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XML::Filter::DetectWS (3pm) manual" />
  <meta property="og:description" content="A perlsax filter that detects ignorable whitespace" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxml-filter-detectws-perl-XML::Filter::DetectWS-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XML::Filter::DetectWS<small> (3pm)</small></h1>
        <p class="lead">A perlsax filter that detects ignorable whitespace</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/XML::Filter::DetectWS.3pm.html">
      <span itemprop="name">XML::Filter::DetectWS: A perlsax filter that detects ignorable whitespace</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxml-filter-detectws-perl/">
      <span itemprop="name">libxml-filter-detectws-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/XML::Filter::DetectWS.3pm.html">
      <span itemprop="name">XML::Filter::DetectWS: A perlsax filter that detects ignorable whitespace</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 use XML::Filter::DetectWS;

 my $detect = new XML::Filter::DetectWS (Handler =&gt; $handler,
                                         SkipIgnorableWS =&gt; 1);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This a PerlSAX filter that detects which character data contains ignorable whitespace and optionally filters it.</p><p>Note that this is just a first stab at the implementation and it may change completely in the near future. Please provide feedback whether you like it or not, so I know whether I should change it.</p><p>The \s-1XML\s0 spec defines ignorable whitespace as the character data found in elements that were defined in an &lt;!ELEMENT&gt; declaration with a model of '\s-1EMPTY\s0' or 'Children' (Children is the rule that does not contain '#PCDATA'.)</p><p>In addition, XML::Filter::DetectWS allows the user to define other whitespace to be <em>ignorable</em>. The ignorable whitespace is passed to the PerlSAX Handler with the <strong>ignorable_whitespace</strong> handler, provided that the Handler implements this method. (Otherwise it is passed to the characters handler.) If the <strong>SkipIgnorableWS</strong> is set, the ignorable whitespace is simply discarded.</p><p>XML::Filter::DetectWS also takes xml:space attributes into account. See below for details.</p><p>\s-1CDATA\s0 sections are passed in the standard PerlSAX way (i.e. with surrounding start_cdata and end_cdata events), unless the Handler does not implement these methods. In that case, the \s-1CDATA\s0 section is simply passed to the characters method.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor Options</h2>
        <div class="sectioncontent">
<ul>
<li><p>SkipIgnorableWS (Default: 0) When set, detected ignorable whitespace is discarded.</p></li><li><p>Handler The PerlSAX handler (or filter) that will receive the PerlSAX events from this filter.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Current Implementation</h2>
        <div class="sectioncontent">
<p>When determining which whitespace is ignorable, it first looks at the xml:space attribute of the parent element node (and its ancestors.) If the attribute value is \*(L"preserve\*(R", then it is *NOT* ignorable. (If someone took the trouble of adding xml:space=\*(L"preserve\*(R", then that is the final answer...)</p><p>If xml:space=\*(L"default\*(R", then we look at the &lt;!ELEMENT&gt; definition of the parent element. If the model is '\s-1EMPTY\s0' or follows the 'Children' rule (i.e. does not contain '#PCDATA') then we know that the whitespace is ignorable. Otherwise we need input from the user somehow.</p><p>The idea is that the \s-1API\s0 of DetectWS will be extended, so that you can specify/override e.g. which elements should behave as if xml:space=\*(L"preserve\*(R" were set, and/or which elements should behave as if the &lt;!ELEMENT&gt; model was defined a certain way, etc.</p><p>Please send feedback!</p><p>The current implementation also detects whitespace after an element-start tag, whitespace before an element-end tag. It also detects whitespace before an element-start and after an element-end tag and before or after comments, processing instruction, cdata sections etc., but this needs to be reimplemented. In either case, the detected whitespace is split off into its own PerlSAX characters event and an extra property 'Loc' is added. It can have 4 possible values:</p><ul>
<li><p>1 (\s-1WS_START\s0) - whitespace immediately after element-start tag</p></li><li><p>2 (\s-1WS_END\s0) - whitespace just before element-end tag</p></li><li><p>3 (\s-1WS_ONLY\s0) - both \s-1WS_START\s0 and \s-1WS_END\s0, i.e. it's the only text found between the start and end tag and it's all whitespace</p></li><li><p>0 (\s-1WS_INTER\s0) - none of the above, probably before an element-start tag, after an element-end tag, or before or after a comment, \s-1PI\s0, cdata section etc.</p></li>
</ul><p>Note that \s-1WS_INTER\s0 may not be that useful, so this may change.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">xml:space attribute</h2>
        <div class="sectioncontent">
<p>The \s-1XML\s0 spec states that: A special attribute named xml:space may be attached to an element to signal an intention that in that element, white space should be preserved by applications. In valid documents, this attribute, like any other, must be declared if it is used. When declared, it must be given as an enumerated type whose only possible values are \*(L"default\*(R" and \*(L"preserve\*(R". For example:</p><p> &lt;!ATTLIST poem   xml:space (default|preserve) &apos;preserve&apos;&gt;</p><p>The value \*(L"default\*(R" signals that applications' default white-space processing modes are acceptable for this element; the value \*(L"preserve\*(R" indicates the intent that applications preserve all the white space. This declared intent is considered to apply to all elements within the content of the element where it is specified, unless overriden with another instance of the xml:space attribute.</p><p>The root element of any document is considered to have signaled no intentions as regards application space handling, unless it provides a value for this attribute or the attribute is declared with a default value.</p><p>[... end of excerpt ...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>This code is highly experimental! It has not been tested well and the \s-1API\s0 may change.</p><p>The code that detects of blocks of whitespace at potential indent positions may need some work.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Enno Derksen is the Original Author.</p><p>Send bug reports, hints, tips, suggestions to T.J. Mather at &lt;<em>tjmather@tjmather.com</em>&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XML::Filter::BufferText.3pm.html"><span aria-hidden="true">&larr;</span> XML::Filter::BufferText.3pm: Filter to put all characters() in one event</a></li>
   <li class="next"><a href="XML::Filter::Reindent.3pm.html">XML::Filter::Reindent.3pm: Reformats whitespace for pretty printing xml <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
