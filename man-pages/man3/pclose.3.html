<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pclose: Pipe stream to or from a process</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pipe stream to or from a process">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pclose (3) manual">
  <meta name="twitter:description" content="Pipe stream to or from a process">
  <meta name="twitter:image" content="https://www.carta.tech/images/manpages-dev-pclose-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/pclose.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pclose (3) manual" />
  <meta property="og:description" content="Pipe stream to or from a process" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/manpages-dev-pclose-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pclose<small> (3)</small></h1>
        <p class="lead">Pipe stream to or from a process</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pclose.3.html">
      <span itemprop="name">pclose: Pipe stream to or from a process</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/manpages-dev/">
      <span itemprop="name">manpages-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pclose.3.html">
      <span itemprop="name">pclose: Pipe stream to or from a process</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;stdio.h&gt;</strong>

<strong>FILE *popen(const char *</strong><em>command</em><strong>, const char *</strong><em>type</em><strong>);</strong>

<strong>int pclose(FILE *</strong><em>stream</em><strong>);</strong>
</pre>
<p>Feature Test Macro Requirements for glibc (see <a href="../man7/feature_test_macros.7.html"><strong>feature_test_macros</strong>(7)</a>):</p><p><strong>popen</strong>(), <strong>pclose</strong>():</p><p>_POSIX_C_SOURCE&nbsp;&gt;=&nbsp;2 || _XOPEN_SOURCE || _BSD_SOURCE || _SVID_SOURCE</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>popen</strong>() function opens a process by creating a pipe, forking, and invoking the shell. Since a pipe is by definition unidirectional, the <em>type</em> argument may specify only reading or writing, not both; the resulting stream is correspondingly read-only or write-only.</p><p>The <em>command</em> argument is a pointer to a null-terminated string containing a shell command line. This command is passed to <em>/bin/sh</em> using the <strong>-c</strong> flag; interpretation, if any, is performed by the shell. The <em>type</em> argument is a pointer to a null-terminated string which must contain either the letter &apos;r&apos; for reading or the letter &apos;w&apos; for writing. Since glibc 2.9, this argument can additionally include the letter &apos;e&apos;, which causes the close-on-exec flag (<strong>FD_CLOEXEC</strong>) to be set on the underlying file descriptor; see the description of the <strong>O_CLOEXEC</strong> flag in <a href="../man2/open.2.html"><strong>open</strong>(2)</a> for reasons why this may be useful.</p><p>The return value from <strong>popen</strong>() is a normal standard I/O stream in all respects save that it must be closed with <strong>pclose</strong>() rather than <a href="../man3/fclose.3.html"><strong>fclose</strong>(3)</a>. Writing to such a stream writes to the standard input of the command; the command's standard output is the same as that of the process that called <strong>popen</strong>(), unless this is altered by the command itself. Conversely, reading from the stream reads the command's standard output, and the command's standard input is the same as that of the process that called <strong>popen</strong>().</p><p>Note that output <strong>popen</strong>() streams are fully buffered by default.</p><p>The <strong>pclose</strong>() function waits for the associated process to terminate and returns the exit status of the command as returned by <a href="../man2/wait4.2.html"><strong>wait4</strong>(2)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>The <strong>popen</strong>() function returns NULL if the <a href="../man2/fork.2.html"><strong>fork</strong>(2)</a> or <a href="../man2/pipe.2.html"><strong>pipe</strong>(2)</a> calls fail, or if it cannot allocate memory.</p><p>The <strong>pclose</strong>() function returns -1 if <a href="../man2/wait4.2.html"><strong>wait4</strong>(2)</a> returns an error, or some other error is detected. In the event of an error, these functions set <em>errno</em> to indicate the cause of the error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>The <strong>popen</strong>() function does not set <em>errno</em> if memory allocation fails. If the underlying <a href="../man2/fork.2.html"><strong>fork</strong>(2)</a> or <a href="../man2/pipe.2.html"><strong>pipe</strong>(2)</a> fails, <em>errno</em> is set appropriately. If the <em>type</em> argument is invalid, and this condition is detected, <em>errno</em> is set to <strong>EINVAL</strong>.</p><p>If <strong>pclose</strong>() cannot obtain the child status, <em>errno</em> is set to <strong>ECHILD</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p>POSIX.1-2001.</p><p>The &apos;e&apos; value for <em>type</em> is a Linux extension.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Since the standard input of a command opened for reading shares its seek offset with the process that called <strong>popen</strong>(), if the original process has done a buffered read, the command's input position may not be as expected. Similarly, the output from a command opened for writing may become intermingled with that of the original process. The latter can be avoided by calling <a href="../man3/fflush.3.html"><strong>fflush</strong>(3)</a> before <strong>popen</strong>().</p><p>Failure to execute the shell is indistinguishable from the shell's failure to execute command, or an immediate exit of the command. The only hint is an exit status of 127.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pclose&hellip;</h2>
        <div class="sectioncontent">
<p><strong>sh</strong>(1), <a href="../man2/fork.2.html"><strong>fork</strong>(2)</a>, <a href="../man2/pipe.2.html"><strong>pipe</strong>(2)</a>, <a href="../man2/wait4.2.html"><strong>wait4</strong>(2)</a>, <a href="../man3/fclose.3.html"><strong>fclose</strong>(3)</a>, <a href="../man3/fflush.3.html"><strong>fflush</strong>(3)</a>, <a href="../man3/fopen.3.html"><strong>fopen</strong>(3)</a>, <a href="../man3/stdio.3.html"><strong>stdio</strong>(3)</a>, <a href="../man3/system.3.html"><strong>system</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COLOPHON</h2>
        <div class="sectioncontent">
<p>This page is part of release 3.74 of the Linux <em>man-pages</em> project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at http://www.kernel.org/doc/man-pages/.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pclauum.3.html"><span aria-hidden="true">&larr;</span> pclauum.3: Compute the product u * u' or l' * l, where the triangular factor u or l is stored in the upper or lower triangular part of the distributed matrix sub( a ) = a(ia:ia+n-1,ja:ja+n-1)</a></li>
   <li class="next"><a href="pcpbsv.3.html">pcpbsv.3: Solve a system of linear equations   a(1:n, ja:ja+n-1) * x = b(ib:ib+n-1, 1:nrhs) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
