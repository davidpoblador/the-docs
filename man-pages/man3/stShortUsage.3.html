<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>stShortUsage: Parse command line arguments</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Parse command line arguments">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="stShortUsage (3) manual">
  <meta name="twitter:description" content="Parse command line arguments">
  <meta name="twitter:image" content="https://www.carta.tech/images/atfs-dev-stShortUsage-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/stShortUsage.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="stShortUsage (3) manual" />
  <meta property="og:description" content="Parse command line arguments" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/atfs-dev-stShortUsage-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">stShortUsage<small> (3)</small></h1>
        <p class="lead">Parse command line arguments</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/stShortUsage.3.html">
      <span itemprop="name">stShortUsage: Parse command line arguments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/atfs-dev/">
      <span itemprop="name">atfs-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/stShortUsage.3.html">
      <span itemprop="name">stShortUsage: Parse command line arguments</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;config.h&gt;</p><p>#include &lt;sttk.h&gt;</p><p>int	stParseArgs (int argCount, char *argVector,</p><p>	\h'\w'stParseArgs ('u'int newArgCount, char *(*newArgVector[]), OptDesc optionList[]);</p><p>void	stShortUsage (char *programName, OptDesc optionList[], char *extraText);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>stParseArgs</em> parses the command line for options previously declared in an option desription list. The programs argument count and argument vector are passed as <em>argCount</em> and <em>argVector</em>, and the option description list as <em>optionList</em> to stParseArgs. This filters out all known (from the option list) options and their arguments and returns the remaining tokens from the command line in <em>newArgVector</em> with <em>newArgCount</em>. Options on the command line must be preceded by a minus sign, otherwise they will not be recognized. The first entry in the argument vector, the program name, passes the function without any damage. stParseArgs may be invoked multiple times with different option lists.</p><p>The option list is an array of option definitions of the following form:</p>
<pre>
typedef struct {
  char *OptName;
  int  OptKind;
  int  (*OptFunc)();
  int  *OptVar;
  char *OptStr;
} StOptDesc;
</pre>
<p>The array is finished by an option definition containing only null entries. <em>OptName</em> is the name of the option how it appears on the command line, without the leading minus sign. The <em>OptKind</em> is a flag field defining the option type and the kind of action to be performed. Valid option types are</p>
<dl class='dl-vertical'>
  <dt>
    <p>PSWITCH</p>
  </dt>
  <dd>
    <p>The option is a switch and has no argument (default)</p>
  </dd>
  <dt>
    <p>PARG</p>
  </dt>
  <dd>
    <p>The option has an argument immediately following the option on the command line.</p>
  </dd>
  <dt>
    <p>POARG</p>
  </dt>
  <dd>
    <p>The option has an optional argument.</p>
  </dd>

</dl>
<p>The action to be prformed on occurence of an option on the command line refers either to <em>OptFunc</em>, a function to be defined by the application or to <em>OptVar</em>, an application variable, associated with the option. The different kinds of action to be performed are</p>
<dl class='dl-vertical'>
  <dt>
    <p>PCALL</p>
  </dt>
  <dd>
    <p>Call the function OptFunc (default).</p>
  </dd>
  <dt>
    <p>PSET</p>
  </dt>
  <dd>
    <p>Set the variable OptVar to 1 (TRUE).</p>
  </dd>
  <dt>
    <p>PCLEAR</p>
  </dt>
  <dd>
    <p>Set the variable OptVar to 0 (FALSE)</p>
  </dd>
  <dt>
    <p>PTOGGLE</p>
  </dt>
  <dd>
    <p>Toggle the value of the variable OptVar between 1 (TRUE) and 0 (FALSE).</p>
  </dd>
  <dt>
    <p>PUSAGE</p>
  </dt>
  <dd>
    <p>Call stShortUsage (see below).</p>
  </dd>
  <dt>
    <p>PFAIL</p>
  </dt>
  <dd>
    <p>Call stShortUsage (see below) and terminate program execution with return code 1.</p>
  </dd>

</dl>
<p>The following example shows some typical option definitions</p>
<pre>
StOptDesc bindOptions[] = {
  { "help",    PFAIL,        NULL,           NULL,         NULL },
  { "trace",   PSWITCH|PSET, NULL,           &atBindTrace, NULL },
  { "since",   PCALL|PARG,   handleBaseline, NULL,         NULL },
  { "version", PCALL,        printVersion,   NULL,         NULL },
  { NULL,      NULL,         NULL,           NULL,         NULL },
};
</pre>
<p><em>stShortUsage</em> generates a short usage message from the given <em>optionList</em>. The message starts with the <em>programName</em> and lists all option in the option list. At the end, <em>extraText</em> is added, if given. The message is written to standard error.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="stRmRegisteredFiles.3.html"><span aria-hidden="true">&larr;</span> stRmRegisteredFiles.3: Temporary files handling</a></li>
   <li class="next"><a href="stShutupFlag.3.html">stShutupFlag.3: User interaction <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
