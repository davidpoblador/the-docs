<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Parse::DebControl: Easy oo parsing of debian control-like files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Easy oo parsing of debian control-like files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Parse::DebControl (3pm) manual">
  <meta name="twitter:description" content="Easy oo parsing of debian control-like files">
  <meta name="twitter:image" content="https://www.carta.tech/images/libparse-debcontrol-perl-Parse::DebControl-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Parse::DebControl.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Parse::DebControl (3pm) manual" />
  <meta property="og:description" content="Easy oo parsing of debian control-like files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libparse-debcontrol-perl-Parse::DebControl-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Parse::DebControl<small> (3pm)</small></h1>
        <p class="lead">Easy oo parsing of debian control-like files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Parse::DebControl.3pm.html">
      <span itemprop="name">Parse::DebControl: Easy oo parsing of debian control-like files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libparse-debcontrol-perl/">
      <span itemprop="name">libparse-debcontrol-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Parse::DebControl.3pm.html">
      <span itemprop="name">Parse::DebControl: Easy oo parsing of debian control-like files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        use Parse::DebControl

        $parser = new Parse::DebControl;

        $data = $parser-&gt;parse_mem($control_data, $options);
        $data = $parser-&gt;parse_file(&apos;./debian/control&apos;, $options);
        $data = $parser-&gt;parse_web($url, $options);

        $writer = new Parse::DebControl;

        $string = $writer-&gt;write_mem($singlestanza);
        $string = $writer-&gt;write_mem([$stanza1, $stanza2]);

        $writer-&gt;write_file($filename, $singlestanza, $options);
        $writer-&gt;write_file($filename, [$stanza1, $stanza2], $options);

        $writer-&gt;write_file($handle, $singlestanza, $options);
        $writer-&gt;write_file($handle, [$stanza1, $stanza2], $options);

        $parser-&gt;DEBUG();
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>        Parse::DebControl is an easy OO way to parse debian control files and         other colon separated key-value pairs. It&apos;s specifically designed         to handle the format used in Debian control files, template files, and         the cache files used by dpkg.</p><p>        For basic format information see:         http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-controlsyntax</p><p>        This module does not actually do any intelligence with the file content         (because there are a lot of files in this format), but merely handles         the format. It can handle simple control files, or files hundreds of lines         long efficiently and easily.</p><h3>Class Methods</h3>
<ul>
<li><p>\*(C`new()\*(C'</p></li><li><p>\*(C`new(<strong>$debug)\*(C'</strong> Returns a new Parse::DebControl object. If a true parameter <em></em><strong>$debug</strong><em></em> is passed in, it turns on debugging, similar to a call to \*(C`DEBUG()\*(C' (see below);</p></li><li><p>\*(C`parse_file($control_filename,<strong>$options)\*(C'</strong> Takes a filename as a scalar and an optional hashref of options (see below). Will parse as much as it can, warning (if \*(C`DEBUG\*(C'ing is turned on) on parsing errors. Returns an array of hashrefs, containing the data in the control file, split up by stanza.  Stanzas are deliniated by newlines, and multi-line fields are expressed as such post-parsing.  Single periods are treated as special extra newline deliniators, per convention.  Whitespace is also stripped off of lines as to make it less-easy to make mistakes with hand-written conf files). The options hashref can take parameters as follows. Setting the string to true enables the option.         useTieIxHash - Instead of an array of regular hashrefs, uses Tie::IxHash-                 based hashrefs</p><p>        discardCase  - Remove all case items from keys (not values)</p><p>        stripComments - Remove all commented lines in standard #comment format.                 Literal #&apos;s are represented by ##. For instance</p><p>                Hello there #this is a comment                 Hello there, I like ##CCCCCC as a grey.</p><p>                The first is a comment, the second is a literal "#".</p><p>        verbMultiLine - Keep the description AS IS, and no not collapse leading                 spaces or dots as newlines. This also keeps whitespace from being                 stripped off the end of lines.</p><p>        tryGzip - Attempt to expand the data chunk with gzip first. If the text is                 already expanded (ie: plain text), parsing will continue normally.                 This could optionally be turned on for all items in the future, but                 it is off by default so we don&apos;t have to scrub over all the text for                 performance reasons.</p><p>    singleBlock - Only parse the first block of data and return it. This is         useful when you have possible "junk" data after the metadata.</p><p>    strict - Tries to parse obeying the strict rules for real debian control files.         This will force comment stripping for debian/control (must start line) and for         other files will check if a field may span multiple lines.</p><p>    allowUnknownFields - In strict mode, allow unknown fields.</p><p>    type - If the strict option is chosen, then this parameter defines what format         we have. Available formats is:             - debian/control             - DEBIAN/control             - .dsc             - .changes</p></li><li><p>\*(C`parse_mem($control_data, <strong>$options)\*(C'</strong> Similar to \*(C`parse_file\*(C', except takes data as a scalar. Returns the same array of hashrefs as \*(C`parse_file\*(C'. The options hashref is the same as \*(C`parse_file\*(C' as well; see above.</p></li><li><p>\*(C`parse_web($url, <strong>$options)\*(C'</strong> Similar to the other parse_* functions, this pulls down a control file from the web and attempts to parse it. For options and return values, see \*(C`parse_file\*(C', above</p></li><li><p>\*(C`write_file($filename, $data, <strong>$options)\*(C'</strong></p></li><li><p>\*(C`write_file($handle, $data)\*(C'</p></li><li><p>\*(C`write_file($filename, [$data1, $data2, $data3], <strong>$options)\*(C'</strong></p></li><li><p>\*(C`write_file($handle, [$data, $data2, $data3])\*(C' This function takes a filename or a handle and writes the data out.  The data can be given as a single hashref or as an arrayref of hashrefs. It will then write it out in a format that it can parse. The order is dependent on your hash sorting order. If you care, use Tie::IxHash.  Remember for reading back in, the module doesn't care. The <em></em><strong>$options</strong><em></em> hashref can contain one of the following two items:         addNewline - At the end of the last stanza, add an additional newline.         appendFile  - (default) Write to the end of the file         clobberFile - Overwrite the file given.         gzip - Compress the data with gzip before writing Since you determine the mode of your filehandle, passing it along with an options hashref obviously won't do anything; rather, it is ignored. The <em>addNewline</em> option solves a situation where if you are writing stanzas to a file in a loop (such as logging with this module), then the data will be streamed together, and won't parse back in correctly. It is possible that this is the behavior that you want (if you wanted to write one key at a time), so it is optional. This function returns the number of bytes written to the file, undef otherwise.</p></li><li><p>\*(C`write_mem($data)\*(C'</p></li><li><p>\*(C`write_mem([$data1,$data2,$data3])\*(C'; This function works similarly to the \*(C`write_file\*(C' method, except it returns the control structure as a scalar, instead of writing it to a file.  There is no <em></em><strong>%options</strong><em></em> for this file (yet);</p></li><li><p>\*(C`DEBUG()\*(C' Turns on debugging. Calling it with no parameter or a true parameter turns on verbose \*(C`warn()\*(C'ings.  Calling it with a false parameter turns it off. It is useful for nailing down any format or internal problems.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHANGES</h2>
        <div class="sectioncontent">
<p><strong>Version 2.005</strong> - January 13th, 2004</p><ul>
<li><p>More generic test suite fix for earlier versions of Test::More</p></li><li><p>Updated copyright statement</p></li>
</ul><p><strong>Version 2.004</strong> - January 12th, 2004</p><ul>
<li><p>More documentation formatting and typo fixes</p></li><li><p>\s-1CHANGES\s0 file now generated automatically</p></li><li><p>Fixes for potential test suite failure in Pod::Coverage run</p></li><li><p>Adds the \*(L"addNewline\*(R" option to write_file to solve the streaming stanza problem.</p></li><li><p>Adds tests for the addNewline option</p></li>
</ul><p><strong>Version 2.003</strong> - January 6th, 2004</p><ul>
<li><p>Added optional Test::Pod test</p></li><li><p>Skips potential Win32 test failure in the module where it wants to write to /tmp.</p></li><li><p>Added optional Pod::Coverage test</p></li>
</ul><p><strong>Version 2.002</strong> - October 7th, 2003</p><ul>
<li><p>No code changes. Fixes to test suite</p></li>
</ul><p><strong>Version 2.001</strong> - September 11th, 2003</p><ul>
<li><p>Cleaned up more \s-1POD\s0 errors</p></li><li><p>Added tests for file writing</p></li><li><p>Fixed bug where write_file ignored the gzip parameter</p></li>
</ul><p><strong>Version 2.0</strong> - September 5th, 2003</p><ul>
<li><p>Version increase.</p></li><li><p>Added gzip support (with the tryGzip option), so that compresses control files can be parsed on the fly</p></li><li><p>Added gzip support for writing of control files</p></li><li><p>Added parse_web to snag files right off the web. Useful for things such as apt's Sources.gz and Packages.gz</p></li>
</ul><p><strong>Version 1.10b</strong> - September 2nd, 2003</p><ul>
<li><p>Documentation fix for ## vs # in stripComments</p></li>
</ul><p><strong>Version 1.10</strong> - September 2nd, 2003</p><ul>
<li><p>Documentation fixes, as pointed out by pudge</p></li><li><p>Adds a feature to stripComments where ## will get interpolated as a literal pound sign, as suggested by pudge.</p></li>
</ul><p><strong>Version 1.9</strong> - July 24th, 2003</p><ul>
<li><p>Fix for warning for edge case (uninitialized value in chomp)</p></li><li><p>Tests for \s-1CRLF\s0</p></li>
</ul><p><strong>Version 1.8</strong> - July 11th, 2003</p><ul>
<li><p>By default, we now strip off whitespace unless verbMultiLine is in place.  This makes sense for things like conf files where trailing whitespace has no meaning. Thanks to pudge for reporting this.</p></li>
</ul><p><strong>Version 1.7</strong> - June 25th, 2003</p><ul>
<li><p>\s-1POD\s0 documentation error noticed again by Frank Lichtenheld</p></li><li><p>Also by Frank, applied a patch to add a \*(L"verbMultiLine\*(R" option so that we can hand multiline fields back unparsed.</p></li><li><p>Slightly expanded test suite to cover new features</p></li>
</ul><p><strong>Version 1.6.1</strong> - June 9th, 2003</p><ul>
<li><p>\s-1POD\s0 cleanups noticed by Frank Lichtenheld. Thank you, Frank.</p></li>
</ul><p><strong>Version 1.6</strong> - June 2nd, 2003</p><ul>
<li><p>Cleaned up some warnings when you pass in empty hashrefs or arrayrefs</p></li><li><p>Added stripComments setting</p></li><li><p>Cleaned up \s-1POD\s0 errors</p></li>
</ul><p><strong>Version 1.5</strong> - May 8th, 2003</p><ul>
<li><p>Added a line to quash errors with undef hashkeys and writing</p></li><li><p>Fixed the Makefile.PL to straighten up DebControl.pm being in the wrong dir</p></li>
</ul><p><strong>Version 1.4</strong> - April 30th, 2003</p><ul>
<li><p>Removed exports as they were unnecessary. Many thanks to pudge, who pointed this out.</p></li>
</ul><p><strong>Version 1.3</strong> - April 28th, 2003</p><ul>
<li><p>Fixed a bug where writing blank stanzas would throw a warning.  Fix found and supplied by Nate Oostendorp.</p></li>
</ul><p><strong>Version 1.2b</strong> - April 25th, 2003</p><p>Fixed:</p><ul>
<li><p>A bug in the test suite where IxHash was not disabled in 40write.t. Thanks to Jeroen Latour from cpan-testers for the report.</p></li>
</ul><p><strong>Version 1.2</strong> - April 24th, 2003</p><p>Fixed:</p><ul>
<li><p>A bug in IxHash support where multiple stanzas might be out of order</p></li>
</ul><p><strong>Version 1.1</strong> - April 23rd, 2003</p><p>Added:</p><ul>
<li><p>Writing support</p></li><li><p>Tie::IxHash support</p></li><li><p>Case insensitive reading support</p></li>
</ul><p><strong>Version 1.0</strong> - April 23rd, 2003</p><ul>
<li><p>This is the initial public release for \s-1CPAN\s0, so everything is new.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The module will let you parse otherwise illegal key-value pairs and pairs with spaces. Badly formed stanzas will do things like overwrite duplicate keys, etc.  This is your problem.</p><p>As of 1.10, the module uses advanced regexp's to figure out about comments.  If the tests fail, then stripComments won't work on your earlier perl version (should be fine on 5.6.0+)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<p>Change the name over to the Debian:: namespace, probably as Debian::ControlFormat.  This will happen as soon as the project that uses this module reaches stability, and we can do some minor tweaks.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Parse::DebControl is copyright 2003,2004 Jay Bonci &lt;jaybonci@cpan.org&gt;. This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Parse::DMIDecode::Handle.3pm.html"><span aria-hidden="true">&larr;</span> Parse::DMIDecode::Handle.3pm: Smbios structure handle object class</a></li>
   <li class="next"><a href="Parse::DebControl::Error.3pm.html">Parse::DebControl::Error.3pm: None <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
