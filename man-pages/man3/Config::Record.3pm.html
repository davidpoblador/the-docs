<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Config::Record: Configuration file access</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file access">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Config::Record (3pm) manual">
  <meta name="twitter:description" content="Configuration file access">
  <meta name="twitter:image" content="https://www.carta.tech/images/libconfig-record-perl-Config::Record-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Config::Record.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Config::Record (3pm) manual" />
  <meta property="og:description" content="Configuration file access" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libconfig-record-perl-Config::Record-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Config::Record<small> (3pm)</small></h1>
        <p class="lead">Configuration file access</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Config::Record.3pm.html">
      <span itemprop="name">Config::Record: Configuration file access</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libconfig-record-perl/">
      <span itemprop="name">libconfig-record-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Config::Record.3pm.html">
      <span itemprop="name">Config::Record: Configuration file access</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use Config::Record;


  # Create an empty record & then load from file
  my $config = Config::Record-&gt;new();
  $config-&gt;load("/etc/myapp.cfg");

  # Create & load, then save to filename
  my $config = Config::Record-&gt;new(file =&gt; "/etc/myapp.cfg");
  $config-&gt;save("/etc/myapp.cfg");

  # Load / save from filehandle
  my $fh = IO::File-&gt;new("/etc/myapp.cfg");
  my $config = Config::Record-&gt;new(file =&gt; $fh);
  $config-&gt;save($fh);

  # Get a config value, throw error if not found
  my $value = $config-&gt;get("foo");

  # Get a config value, return &apos;eek&apos; if not found
  my $value = $config-&gt;get("foo", "eek");

  # Set a value
  $config-&gt;set("foobar", "wizz");

  # Get a deep config value (ie nested hash)
  my $value = $config-&gt;get("foo/bar", "eek");

  # Get first element of an array param
  my $value = $config-&gt;get("people/[0]/forename");

  # Get the raw hash reference forming the record
  my $record = $config-&gt;record();

  # Get a new config object rooted at a sub-hash
  my $config = $config-&gt;view("foo");
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides an \s-1API\s0 for loading and saving of simple configuration file records. Entries in the configuration file are essentially key,value pairs, with the key and values separated by a single equals symbol. The \*(C`key\*(C' consists only of alphanumeric characters. There are three types of values, scalar values can contain anything except newlines. Trailing whitespace will be trimmed unless the value is surrounded in double quotes. eg</p><p>  foo = Wizz   foo = "Wizz....    "</p><p>Long lines can be split with a backslash character, without introducing newlines. Without double quotes, whitespace at beginning and end of lines will be trimmed eg</p><p>  foo = This is a long &#92;         line of text   foo = "This is a long " &#92;         "line of text"</p><p>Multi-line strings can be provided as '\s-1HERE\s0' documents, eg</p><p>  foo = &lt;&lt;EOF This is a multiple paragraph block of text with newlines preserved EOF</p><p>Array values  consist of a single right round bracket, following by one \*(C`value\*(C' per line, terminated by a single left round bracket. eg</p><p>  foo = (     Wizz     "Wizz...    "   )</p><p>Hash values consist of a single right curly bracket, followed by one key,value pair per line, terminated by a single left curly bracket. eg</p><p>  foo = {     one = Wizz     two = "Wizz....  "   }</p><p>Arrays and hashes can be nested to arbitrary depth.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>  name = Foo   title = "Wizz bang wallop"   eek = (     OOhh     Aahhh     Wizz   )   people = (     {       forename = John       surnamne = Doe     }     {       forename = Some       surname = One     }   )   wizz = {     foo = "Elk"     ooh = "fds"   }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXTRA PARSER FEATURES</h2>
        <div class="sectioncontent">
<p>The syntax described thus far is classed as the base feature set. By passing the \*(C`features\*(C' parameter when creating an instance of the \*(C`Config::Record\*(C' class, it is possible to turn on certain extra features</p><h3>\s-1QUOTED\s0 NON-ALPHANUMERIC \s-1KEYS\s0</h3>
<p>The keys for configuration parameters are normally restricted to only contain the characters 'a-Z', '0-9', '_', '-' and '.'. Sometimes it is desirable to allow arbitrary characters for keys. If this capability is required then the \*(C`quotedkeys\*(C' parameter can be set.</p><p><em>\s-1EXAMPLE\s0</em></p><p>  name = Foo   title = "Wizz bang wallop"   " some parameter " = (      foo      bar   }   "an embeded &#92;" quote" = bar   "an embeded &#92;&#92; backslash" = wizz</p>
<h3>\s-1EXTERNAL\s0 \s-1INCLUDE\s0 \s-1FILES\s0</h3>
<p>With large configuration files it can be desirable to split them into a number of smaller files. If this capability is required, then the \*(C`includes\*(C' feature can be requested. Each included file must follow the syntax rules already described.</p><p><em>\s-1EXAMPLE\s0</em></p><p>In the main file</p><p>  name = Foo   title = "Wizz bang wallop"   foo = @include(somefile.cfg)</p><p>And in somefile.cfg</p><p>  firstname = Joe   lastname = Blogs</p><p>Is equivalent to</p><p>  name = Foo   title = "Wizz bang wallop"   foo = {     firstname = Joe     lastname = Blogs   }</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>Creates a new config object, loading parameters from the file specified by the \*(C`file\*(C' parameter. The \*(C`file\*(C' parameter can either be a string representing a fully qualified filename, or a IO::Handle object. If the \*(C`file\*(C' parameter is a string, this filename will be saved and future calls to \*(C`load\*(C' or \*(C`save\*(C' are permitted to omit the filename. If the \*(C`file\*(C' parameter is not supplied then an empty configuration record is created. The \*(C`features\*(C' parameter allows extra parser features to be enabled. The two valid keys for the associated hash as \*(C`includes\*(C' and \*(C`quotedkeys\*(C' as described earlier in this document. Loads and parses a configuration record. The \*(C`file\*(C' parameter can either be a string representing a fully qualified filename, or an IO::Handle object. The $file parameter may be omitted, if a filename was specified in the constructor, or in previous calls to \*(C`load\*(C' or \*(C`save\*(C'. Prior to loading the record, the current contents of this configuration are cleared. Saves the configuration record to a file. The \*(C`file\*(C' parameter can either be a string representing a fully qualified filename, or an IO::Handle object opened for writing. The $file parameter may be omitted, if a filename was specified  in the constructor, or in previous calls to \*(C`load\*(C' or \*(C`save\*(C'. Gets the value of a configuration parameter corresponding to the name \*(C`key\*(C'. If there is no value in the record, then the optional \*(C`default\*(C' is returned. Sets the value of a configuration parameter corresponding to the name \*(C`key\*(C'. Return a new Config::Record object, rooted at the specified key. If the key doesn't resolve to a hash reference an error will be raised. Retrieves a hash reference for the entire configuration record. Currently this is the actual internal storage record, so changes will modify the configuration. In the next release this will be changed to be a deep clone of the internal storage record.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Config::Record has the following limitations</p><ul>
<li><p>If you load and then save a configuration file all comments are removed & whitespace normalized.</p></li><li><p>Ordering of elements in hash ref are not preserved across load and save sequence</p></li>
</ul><p>These limitations may be fixed in a future release if there is demand from users...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Daniel Berrange &lt;dan@berrange.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2000-2007 Daniel P. Berrange &lt;dan@berrange.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Config::Record&hellip;</h2>
        <div class="sectioncontent">
<p><strong>perl</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Config::Pit.3pm.html"><span aria-hidden="true">&larr;</span> Config::Pit.3pm: Manage settings</a></li>
   <li class="next"><a href="Config::Scoped.3pm.html">Config::Scoped.3pm: Feature rich configuration file parser <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
