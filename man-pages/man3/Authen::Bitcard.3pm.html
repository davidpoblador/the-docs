<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Authen::Bitcard: Bitcard authentication verification</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Bitcard authentication verification">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Authen::Bitcard (3pm) manual">
  <meta name="twitter:description" content="Bitcard authentication verification">
  <meta name="twitter:image" content="https://www.carta.tech/images/libauthen-bitcard-perl-Authen::Bitcard-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Authen::Bitcard.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Authen::Bitcard (3pm) manual" />
  <meta property="og:description" content="Bitcard authentication verification" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libauthen-bitcard-perl-Authen::Bitcard-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Authen::Bitcard<small> (3pm)</small></h1>
        <p class="lead">Bitcard authentication verification</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Authen::Bitcard.3pm.html">
      <span itemprop="name">Authen::Bitcard: Bitcard authentication verification</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libauthen-bitcard-perl/">
      <span itemprop="name">libauthen-bitcard-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Authen::Bitcard.3pm.html">
      <span itemprop="name">Authen::Bitcard: Bitcard authentication verification</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use CGI;
    use Authen::Bitcard;
    my $q = CGI-&gt;new;
    my $bc = Authen::Bitcard-&gt;new;
    $bc-&gt;token(&apos;bitcard-token&apos;);
    # send user to $bc-&gt;login_url(r =&gt; $return_url);
    # when the user comes back, get the user id with:
    my $user = $bc-&gt;verify($q) or die $bc-&gt;errstr;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Authen::Bitcard</em> is an implementation of verification for signatures generated by Bitcard authentication. For information on the Bitcard protocol and using Bitcard in other applications, see <em>http://www.bitcard.org/api</em>.</p><p>The module and the protocol are heavily based on <em>Authen::Typekey</em>. (In fact, the Bitcard authentication server also supports the TypeKey \s-1API\s0!)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<h3>Authen::Bitcard-&gt;new</h3>
<p>Create a new <em>Authen::Bitcard</em> object. Your Bitcard token, which you passed to Bitcard when creating the original sign-in link.</p><p>This must be set <strong>before</strong> calling <em>verify</em> or <em>login_url</em> (etc). Get/set the base \s-1URL\s0 for the Bitcard service.  The default \s-1URL\s0 is <em>https://www.bitcard.org/</em>.  The other *_url methods are build based on the \*(C`bitcard_url\*(C' value. Returns the \s-1URL\s0 for the user to login.  Takes a hash or hash ref with extra parameters to put in the \s-1URL\s0.  One of them must be the \*(C`r\*(C' parameter with the \s-1URL\s0 the user will get returned to after logging in (or canceling the login). Returns the \s-1URL\s0 you can send the user if they wish to logout.  Also needs the \*(C`r\*(C' parameter for the \s-1URL\s0 the Bitcard server should send the user back to after logging out. Returns the \s-1URL\s0 the user can edit his Bitcard account information at. Also needs the \*(C`r\*(C' parameter like \*(C`login_url\*(C' and \*(C`logout_url\*(C'. Returns the \s-1URL\s0 for a user to register a new Bitcard account.  Also needs the \*(C`r\*(C' parameter as above. Get the \s-1URL\s0 from which the Bitcard public key can be obtained. With info_required you specify what user data you require.  The possible fields are \*(L"username\*(R", \*(L"name\*(R" and \*(L"email\*(R" (see \*(C`verify\*(C' for more information).</p><p>The method takes either a comma separated string or a reference to an array.</p><p>This must be called before \*(C`login_url\*(C'.</p><p>\s-1NOTE:\s0 \*(L"name\*(R" is currently not implemented well in the Bitcard server, so we recommend you require \*(L"username\*(R", but mark \*(L"name\*(R" as optional if you want the \*(L"display name\*(R" of the user returned. As \*(C`info_required\*(C' except the Bitcard server will ask the user to allow the information to be forwarded, but not require it to proceed.</p><p>The Bitcard server will always have a confirmed email address on file before letting a user login. Verify a Bitcard signature based on the other parameters given. The signature and other parameters are found in the <em></em><strong>$query</strong><em></em> object, which should be either a hash reference, or any object that supports a <em>param</em> method\*(--for example, a <em>\s-1CGI\s0</em> or <em>Apache::Request</em> object.</p><p>If the signature is successfully verified, <em>verify</em> returns a reference to a hash containing the following values.</p><ul>
<li><p>id The unique user id of the Bitcard user on your site.  It's a 128bit number as a 40 byte hex value. The id is always returned when the verification was successful (all other user data fields are optional, see \*(C`info_required\*(C' and \*(C`info_optional\*(C').</p></li><li><p>username The unique username of the Bitcard user.</p></li><li><p>name The user's display name.</p></li><li><p>email The user's email address.</p></li><li><p>ts The timestamp at which the signature was generated, expressed as seconds since the epoch.</p></li>
</ul><p>If verification is unsuccessful, <em>verify</em> will return \*(C`undef\*(C', and the error message can be found in \*(C`$bc-&gt;errstr\*(C'. Provide a caching mechanism for the public key.</p><p>If <em></em><strong>$cache</strong><em></em> is a \s-1CODE\s0 reference, it is treated as a callback that should return the public key. The callback will be passed two arguments: the <em>Authen::TypeKey</em> object, and the \s-1URI\s0 of the key. It should return a hash reference with the <em>p</em>, <em>g</em>, <em>q</em>, and <em>pub_key</em> keys set to <em>Math::BigInt</em> objects representing the pieces of the \s-1DSA\s0 public key.</p><p>Otherwise, <em></em><strong>$cache</strong><em></em> should be the path to a local file where the public key will be cached/mirrored.</p><p>If <em></em><strong>$cache</strong><em></em> is not set, the key is not cached. By default, no caching occurs. Get/set a value indicating whether <em>verify</em> should check the expiration date and time in the TypeKey parameters. The default is to check the expiration date and time. Get/set the amount of time at which a Bitcard signature is intended to expire. The default value is 600 seconds, i.e. 10 minutes. Get/set the LWP::UserAgent-like object which will be used to retrieve the regkeys from the network.  Needs to support <em>mirror</em> and <em>get</em> methods. By default, LWP::UserAgent is used, and this method as a getter returns \*(C`undef\*(C' unless the user agent has been previously set. Get/set the version of the Bitcard protocol to use. The default version is 3. Get/set the api_secret (needed for some \s-1API\s0 calls, add_invite for example). Returns a hashref with \*(C`invite_url\*(C' and \*(C`invite_key\*(C'.  Can be used for \*(L"invitation only\*(R" sites where you have to login before you can access the site.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p><em>Authen::Bitcard</em> is distributed under the Apache License; see the \s-1LICENSE\s0 file in the distribution for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR & COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Except where otherwise noted, <em>Authen::Bitcard</em> is Copyright 2004-2010 Develooper \s-1LLC\s0, ask@develooper.com.</p><p>Parts are Copyright 2004 Six Apart Ltd, cpan@sixapart.com.</p><p>All rights reserved.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="AuthCAS.3pm.html"><span aria-hidden="true">&larr;</span> AuthCAS.3pm: Client library for cas 2.0 authentication server</a></li>
   <li class="next"><a href="Authen::NTLM.3pm.html">Authen::NTLM.3pm: An ntlm authentication module <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
