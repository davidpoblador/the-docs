<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Term::Filter: Run an interactive terminal session, filtering the input and output</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Run an interactive terminal session, filtering the input and output">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Term::Filter (3pm) manual">
  <meta name="twitter:description" content="Run an interactive terminal session, filtering the input and output">
  <meta name="twitter:image" content="https://www.carta.tech/images/libterm-filter-perl-Term::Filter-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Term::Filter.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Term::Filter (3pm) manual" />
  <meta property="og:description" content="Run an interactive terminal session, filtering the input and output" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libterm-filter-perl-Term::Filter-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Term::Filter<small> (3pm)</small></h1>
        <p class="lead">Run an interactive terminal session, filtering the input and output</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Term::Filter.3pm.html">
      <span itemprop="name">Term::Filter: Run an interactive terminal session, filtering the input and output</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libterm-filter-perl/">
      <span itemprop="name">libterm-filter-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Term::Filter.3pm.html">
      <span itemprop="name">Term::Filter: Run an interactive terminal session, filtering the input and output</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 0.03</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  package My::Term::Filter;
  use Moose;
  with &apos;Term::Filter&apos;;

  sub munge_input {
      my $self = shift;
      my ($got) = @_;
      $got =~ s/&#92;ce/E-  Elbereth&#92;n/g;
      $got;
  }

  sub munge_output {
      my $self = shift;
      my ($got) = @_;
      $got =~ s/(Elbereth)/&#92;e[35m$1&#92;e[m/g;
      $got;
  }

  My::Term::Filter-&gt;new-&gt;run(&apos;nethack&apos;);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module is a Moose role which implements running a program in a pty while being able to filter the data that goes into and out of it. This can be used to alter the inputs and outputs of a terminal based program (as in the \*(L"\s-1SYNOPSIS\s0\*(R"), or to intercept the data going in or out to record it or rebroadcast it (App::Ttyrec or App::Termcast, for instance).</p><p>This role is intended to be consumed by a class which implements its callbacks as methods; for a simpler callback-based \s-1API\s0, you may want to use Term::Filter::Callback instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ATTRIBUTES</h2>
        <div class="sectioncontent">
<h3>input</h3>
<p>The input filehandle to attach to the pty's input. Defaults to \s-1STDIN\s0.</p>
<h3>output</h3>
<p>The output filehandle to attach the pty's output to. Defaults to \s-1STDOUT\s0.</p>
<h3>pty</h3>
<p>The IO::Pty::Easy object that the subprocess will be run under. Defaults to a newly created instance.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>input_handles</h3>
<p>Returns the filehandles which will be monitored for reading. This list defaults to \*(C`input\*(C' and \*(C`pty\*(C'.</p>
<h3>add_input_handle($fh)</h3>
<p>Add an input handle to monitor for reading. After calling this method, the \*(C`read\*(C' callback will be called with $fh as an argument whenever data is available to be read from $fh.</p>
<h3>remove_input_handle($fh)</h3>
<p>Remove $fh from the list of input handles being watched for reading.</p>
<h3>run(@cmd)</h3>
<p>Run the command specified by @cmd, as though via \*(C`system\*(C'. The callbacks that have been defined will be called at the appropriate times, to allow for manipulating the data that is sent or received.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CALLBACKS</h2>
        <div class="sectioncontent">
<p>The following methods may be defined to interact with the subprocess:</p>
<dl class='dl-vertical'>
  <dt>
    setup
  </dt>
  <dd>
    <p>Called when the process has just been started. The parameters to \*(C`run\*(C' are passed to this callback.</p>
  </dd>
  <dt>
    cleanup
  </dt>
  <dd>
    <p>Called when the process terminates. Will not be called if \*(C`setup\*(C' is never run (for instance, if the process fails to start).</p>
  </dd>
  <dt>
    munge_input
  </dt>
  <dd>
    <p>Called whenever there is new data coming from the \*(C`input\*(C' handle, before it is passed to the pty. Must return the data to send to the pty (and the default implementation does this), but can do other things with the data as well.</p>
  </dd>
  <dt>
    munge_output
  </dt>
  <dd>
    <p>Called whenever the process running on the pty has produced new data, before it is passed to the \*(C`output\*(C' handle. Must return the data to send to the \*(C`output\*(C' handle (and the default implementation does this), but can do other things with the data as well.</p>
  </dd>
  <dt>
    read
  </dt>
  <dd>
    <p>Called when a filehandle other than \*(C`input\*(C' or \*(C`pty\*(C' has data available (so will never be called unless you call \*(C`add_input_handle\*(C' to register your handle with the event loop). Receives the handle with data available as its only argument.</p>
  </dd>
  <dt>
    read_error
  </dt>
  <dd>
    <p>Called when an exception state is detected in any handle in \*(C`input_handles\*(C' (including the default ones). Receives the handle with the exception state as its only argument.</p>
  </dd>
  <dt>
    winch
  </dt>
  <dd>
    <p>Called whenever the parent process receives a \*(C`SIGWINCH\*(C' signal, after it propagates that signal to the subprocess. \*(C`SIGWINCH\*(C' is sent to a process running on a terminal whenever the dimensions of that terminal change. This callback can be used to update any other handles watching the subprocess about the new terminal size.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>No known bugs.</p><p>Please report any bugs through \s-1RT:\s0 email \*(C`bug-term-filter at rt.cpan.org\*(C', or browse to http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Term-Filter &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Term-Filter&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Term::Filter&hellip;</h2>
        <div class="sectioncontent">
<p>IO::Pty::Easy</p><p>App::Termcast</p><p>App::Ttyrec</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>You can find this documentation for this module with the perldoc command.</p><p>    perldoc Term::Filter</p><p>You can also look for information at:</p><ul>
<li><p>AnnoCPAN: Annotated \s-1CPAN\s0 documentation http://annocpan.org/dist/Term-Filter &lt;http://annocpan.org/dist/Term-Filter&gt;</p></li><li><p>\s-1CPAN\s0 Ratings http://cpanratings.perl.org/d/Term-Filter &lt;http://cpanratings.perl.org/d/Term-Filter&gt;</p></li><li><p>\s-1RT:\s0 \s-1CPAN\s0's request tracker http://rt.cpan.org/NoAuth/Bugs.html?Dist=Term-Filter &lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Term-Filter&gt;</p></li><li><p>Search \s-1CPAN\s0 http://search.cpan.org/dist/Term-Filter &lt;http://search.cpan.org/dist/Term-Filter&gt;</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jesse Luehrs &lt;doy at tozt dot net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>This software is copyright (c) 2012 by Jesse Luehrs.</p><p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Term::Encoding.3pm.html"><span aria-hidden="true">&larr;</span> Term::Encoding.3pm: Detect encoding of the current terminal</a></li>
   <li class="next"><a href="Term::Filter::Callback.3pm.html">Term::Filter::Callback.3pm: Simple callback-based wrapper for term::filter <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
