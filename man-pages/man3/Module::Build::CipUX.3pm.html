<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Module::Build::CipUX: Extension for building cipux</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extension for building cipux">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Module::Build::CipUX (3pm) manual">
  <meta name="twitter:description" content="Extension for building cipux">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmodule-build-cipux-perl-Module::Build::CipUX-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Module::Build::CipUX.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Module::Build::CipUX (3pm) manual" />
  <meta property="og:description" content="Extension for building cipux" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmodule-build-cipux-perl-Module::Build::CipUX-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Module::Build::CipUX<small> (3pm)</small></h1>
        <p class="lead">Extension for building cipux</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Module::Build::CipUX.3pm.html">
      <span itemprop="name">Module::Build::CipUX: Extension for building cipux</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmodule-build-cipux-perl/">
      <span itemprop="name">libmodule-build-cipux-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Module::Build::CipUX.3pm.html">
      <span itemprop="name">Module::Build::CipUX: Extension for building cipux</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This document describes Module::Build::CipUX version 0.4.0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Module::Build::CipUX;

    my $build = Module::Build::CipUX-&gt;new(
        module_name     =&gt;  &apos;xxxx&apos;,
        license         =&gt;  &apos;gpl&apos;,
        ...
        cipux_paths       =&gt;  {
            &apos;schema&apos; =&gt;  q(/etc/ldap/schema),
            &apos;setup&apos;  =&gt;  q(/etc/cipux/setup),
        },
        # cipux_schema   =&gt;  [ glob(&apos;extras/*.schema&apos;) ],
        # cipux_setup =&gt;  [ glob(&apos;extras/*.setup&apos;) ],

        # build target
        schema_files =&gt; {
             &apos;etc/ldap/schema/cipux.schema&apos; =&gt; &apos;schema/cipux.schema&apos;,
        },
        setup_files =&gt; {
            &apos;etc/cipux/setup/courier.schema&apos;        =&gt; &apos;setup/courier.schema&apos;,
            &apos;etc/cipux/setup/debian-cipux.conf&apos;     =&gt; &apos;setup/debian-cipux.conf&apos;,
            &apos;etc/cipux/setup/debian-edu-cipux.conf&apos; =&gt; &apos;setup/debian-edu-cipux.conf&apos;,
            &apos;etc/cipux/setup/debian-edu-ldap.acl&apos;   =&gt; &apos;setup/debian-edu-ldap.acl&apos;,
            &apos;etc/cipux/setup/debian-edu-ldap.ldif&apos;  =&gt; &apos;setup/debian-edu-ldap.ldif&apos;,
            &apos;etc/cipux/setup/debian-ldap.acl&apos;       =&gt; &apos;setup/debian-ldap.acl&apos;,
            &apos;etc/cipux/setup/debian-ldap.ldif&apos;      =&gt; &apos;setup/debian-ldap.ldif&apos;,
            &apos;etc/cipux/setup/lis.schema&apos;            =&gt; &apos;setup/lis.schema&apos;,
        },

                );

    my $elem_ar = $builder-&gt;get_all_elements;
    foreach my $e (@{$elem_ar}){
        $builder-&gt;add_build_element($e);
    }

    $build-&gt;create_build_script();
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The goal of this module is build and install CipUX plugins in Perl and also handle CipUX core modules, subclassing the Module::Build and adding some extra funtionalities to it.</p><p>For a description of the interface see Module::Build::API.</p><p>This is a list of new parameters in the Module::Build::new method:</p><p>cipux_paths</p><p>    Define the install paths of the components using a hash with the following keys:</p><p>    setup</p><p>        The default value is /etc/cipux/setup.</p><p>    schema</p><p>        The default value is /etc/ldap/schema.</p><p>cipux_setup</p><p>    List of setup files to install.</p><p>cipux_schema</p><p>    List of LDAP schema files to install.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERFACE</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    cipuxrelease
  </dt>
  <dd>
    <p>  [version 0.1.0]</p><p>  Make a cipux release tarball</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTRUCTOR</h2>
        <div class="sectioncontent">
<h3>new</h3>
<p>New inscance of Module::Build::CipUX.</p><p>  my $build = Module::Build::CipUX-&gt;new();</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBROUTINES/METHODS</h2>
        <div class="sectioncontent">
<p>Build action which converts *.po files to *.mo files using gettext. Build a simple CipUX release tarball. Returns private properties from the hash in Build.PL. This was inspired by Module::Build::IkiWiki. This violates ProhibitAccessOfPrivateData. If someone knows how to do better, drop a mail to cipux-devel mailing list. Retrieve all elements and return a array reference to it.</p><p> $cipux_elements_ar = get_all_elements();</p><h3>\fIadd_all_elements()\fP</h3>
<p>Call get_all_elements and add all elements to the build list by add_build_element. \s-1PARAM:\s0</p>
<pre>
    source_prefix              # cgi
    source_extension           # pl
    destination_prefix         # webcgi
    destination_extension      # cgi
    verbose                    # 1|0
</pre>
<p>Search a given directory for files of given extension, change the extension and construct a new path with the file name. It returns a hash reference.</p>
<h3>var_dump({ \s-1PARAM\s0 })</h3>
<p>\s-1PARAM:\s0</p>
<pre>
    var_r    (mandatory)                          reference to variable
    name     (mandatory)                          name of variable
    file     (optional)                           filename if wish is to dump to file
    fh       (optional) if not defined *STDOUT;   other file handle or handle
</pre>
<p>Dump a variable to \s-1STDOUT\s0. Or if parameter is given, dump it to a file or to another location given by a handle. Find all files for mode 750 and return hash reference.  Uses find_files_by_element.</p>
<h3>\fIprocess_bin750_files()\fP</h3>
<p>Process files. Find all files for mode 755 and return hash reference.  Uses find_files_by_element.</p>
<h3>process_bin755_files</h3>
<p>Process files. Find all files for mode 750 and return hash reference.  Uses find_files_by_element.</p>
<h3>process_sbin750_files</h3>
<p>Process files. Find all files for mode 755 and return hash reference.  Uses find_files_by_element.</p>
<h3>process_sbin755_files</h3>
<p>Process files. Find all files for element webcgi and return hash reference.  Uses find_files_by_element.</p>
<h3>process_webcgi_files</h3>
<p>Process files. Find all files for element initscript and return hash reference.  Uses find_files_by_element.</p>
<h3>process_initscript_files</h3>
<p>Process files. Find all files for element conf644 and return hash reference.  Uses find_files_by_element.</p>
<h3>process_conf644_files</h3>
<p>Process files. Find all files for element conf600 and return hash reference.  Uses find_files_by_element.</p>
<h3>process_conf600_files</h3>
<p>Process files.</p>
<h3>find_bootcfg_files</h3>
<p>Find files.</p>
<h3>process_bootcfg_files</h3>
<p>Process files.</p>
<h3>find_bootcfgobject_files</h3>
<p>Find files.</p>
<h3>find_bootcfgstorage_files</h3>
<p>Find files.</p>
<h3>find_bootcfgaccess_files</h3>
<p>Find files.</p>
<h3>find_bootcfgtask_files</h3>
<p>Find files.</p>
<h3>process_bootcfgobject_files</h3>
<p>Process files.</p>
<h3>process_bootcfgstorage_files</h3>
<p>Process files.</p>
<h3>process_bootcfgaccess_files</h3>
<p>Process files.</p>
<h3>process_bootcfgtask_files</h3>
<p>Process files. Find all files for element locale and return hash reference.  Uses find_files_by_element.</p>
<h3>process_locale_files</h3>
<p>Process files. Add $element . '_files' to include list.  Returns reference to hash of all files in that directory if the directory exists; otherwise returns undef Execute find_${elelemt}_files method.  Returns list of files for trivial files. For non-trivial files it does...:</p><p>General:</p><p> make a path  skip .svn dirs  change extension for some files, copy otherwise  make some files executable  change some modes</p><p>\s-1PO:\s0</p><p> check number of *.pot files  identify the *.pot file  build file name from *.pot file for *.mo file  build *.mo file from *.po file with msgfmt</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>Error messages are from the base class. This package generates no exceptions. Occurs if it is not possible to make a directory in blib/po</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION AND ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>Module::Build::CipUX requires no configuration files or environment variables.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>Module::Build</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INCOMPATIBILITIES</h2>
        <div class="sectioncontent">
<p>None reported.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND LIMITATIONS</h2>
        <div class="sectioncontent">
<p>No bugs have been reported.</p><p>Please report any bugs or feature requests to \*(C`bug-module-build-cipux@rt.cpan.org\*(C', or through the web interface at &lt;http://rt.cpan.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Christian Kuelker  \*(C`&lt;christian.kuelker@cipworx.org&gt;\*(C'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2008 - 2009, Christian Kuelker \*(C`&lt;christian.kuelker@cipworx.org&gt;\*(C'.  All rights reserved.</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the \s-1GNU\s0 General Public License as published by the Free Software Foundation; either version 2 of the License or any later version.</p><p>This program is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0. See the \s-1GNU\s0 General Public License for more details.</p><p>You should have received a copy of the \s-1GNU\s0 General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, \s-1MA\s0 02110-1301 \s-1USA\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISCLAIMER OF WARRANTY</h2>
        <div class="sectioncontent">
<p>\s-1BECAUSE\s0 \s-1THIS\s0 \s-1SOFTWARE\s0 \s-1IS\s0 \s-1LICENSED\s0 \s-1FREE\s0 \s-1OF\s0 \s-1CHARGE\s0, \s-1THERE\s0 \s-1IS\s0 \s-1NO\s0 \s-1WARRANTY\s0 \s-1FOR\s0 \s-1THE\s0 \s-1SOFTWARE\s0, \s-1TO\s0 \s-1THE\s0 \s-1EXTENT\s0 \s-1PERMITTED\s0 \s-1BY\s0 \s-1APPLICABLE\s0 \s-1LAW\s0. \s-1EXCEPT\s0 \s-1WHEN\s0 \s-1OTHERWISE\s0 \s-1STATED\s0 \s-1IN\s0 \s-1WRITING\s0 \s-1THE\s0 \s-1COPYRIGHT\s0 \s-1HOLDERS\s0 \s-1AND/OR\s0 \s-1OTHER\s0 \s-1PARTIES\s0 \s-1PROVIDE\s0 \s-1THE\s0 \s-1SOFTWARE\s0 \*(L"\s-1AS\s0 \s-1IS\s0\*(R" \s-1WITHOUT\s0 \s-1WARRANTY\s0 \s-1OF\s0 \s-1ANY\s0 \s-1KIND\s0, \s-1EITHER\s0 \s-1EXPRESSED\s0 \s-1OR\s0 \s-1IMPLIED\s0, \s-1INCLUDING\s0, \s-1BUT\s0 \s-1NOT\s0 \s-1LIMITED\s0 \s-1TO\s0, \s-1THE\s0 \s-1IMPLIED\s0 \s-1WARRANTIES\s0 \s-1OF\s0 \s-1MERCHANTABILITY\s0 \s-1AND\s0 \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0. \s-1THE\s0 \s-1ENTIRE\s0 \s-1RISK\s0 \s-1AS\s0 \s-1TO\s0 \s-1THE\s0 \s-1QUALITY\s0 \s-1AND\s0 \s-1PERFORMANCE\s0 \s-1OF\s0 \s-1THE\s0 \s-1SOFTWARE\s0 \s-1IS\s0 \s-1WITH\s0 \s-1YOU\s0. \s-1SHOULD\s0 \s-1THE\s0 \s-1SOFTWARE\s0 \s-1PROVE\s0 \s-1DEFECTIVE\s0, \s-1YOU\s0 \s-1ASSUME\s0 \s-1THE\s0 \s-1COST\s0 \s-1OF\s0 \s-1ALL\s0 \s-1NECESSARY\s0 \s-1SERVICING\s0, \s-1REPAIR\s0, \s-1OR\s0 \s-1CORRECTION\s0.</p><p>\s-1IN\s0 \s-1NO\s0 \s-1EVENT\s0 \s-1UNLESS\s0 \s-1REQUIRED\s0 \s-1BY\s0 \s-1APPLICABLE\s0 \s-1LAW\s0 \s-1OR\s0 \s-1AGREED\s0 \s-1TO\s0 \s-1IN\s0 \s-1WRITING\s0 \s-1WILL\s0 \s-1ANY\s0 \s-1COPYRIGHT\s0 \s-1HOLDER\s0, \s-1OR\s0 \s-1ANY\s0 \s-1OTHER\s0 \s-1PARTY\s0 \s-1WHO\s0 \s-1MAY\s0 \s-1MODIFY\s0 \s-1AND/OR\s0 \s-1REDISTRIBUTE\s0 \s-1THE\s0 \s-1SOFTWARE\s0 \s-1AS\s0 \s-1PERMITTED\s0 \s-1BY\s0 \s-1THE\s0 \s-1ABOVE\s0 \s-1LICENCE\s0, \s-1BE\s0 \s-1LIABLE\s0 \s-1TO\s0 \s-1YOU\s0 \s-1FOR\s0 \s-1DAMAGES\s0, \s-1INCLUDING\s0 \s-1ANY\s0 \s-1GENERAL\s0, \s-1SPECIAL\s0, \s-1INCIDENTAL\s0, \s-1OR\s0 \s-1CONSEQUENTIAL\s0 \s-1DAMAGES\s0 \s-1ARISING\s0 \s-1OUT\s0 \s-1OF\s0 \s-1THE\s0 \s-1USE\s0 \s-1OR\s0 \s-1INABILITY\s0 \s-1TO\s0 \s-1USE\s0 \s-1THE\s0 \s-1SOFTWARE\s0 (\s-1INCLUDING\s0 \s-1BUT\s0 \s-1NOT\s0 \s-1LIMITED\s0 \s-1TO\s0 \s-1LOSS\s0 \s-1OF\s0 \s-1DATA\s0 \s-1OR\s0 \s-1DATA\s0 \s-1BEING\s0 \s-1RENDERED\s0 \s-1INACCURATE\s0 \s-1OR\s0 \s-1LOSSES\s0 \s-1SUSTAINED\s0 \s-1BY\s0 \s-1YOU\s0 \s-1OR\s0 \s-1THIRD\s0 \s-1PARTIES\s0 \s-1OR\s0 A \s-1FAILURE\s0 \s-1OF\s0 \s-1THE\s0 \s-1SOFTWARE\s0 \s-1TO\s0 \s-1OPERATE\s0 \s-1WITH\s0 \s-1ANY\s0 \s-1OTHER\s0 \s-1SOFTWARE\s0), \s-1EVEN\s0 \s-1IF\s0 \s-1SUCH\s0 \s-1HOLDER\s0 \s-1OR\s0 \s-1OTHER\s0 \s-1PARTY\s0 \s-1HAS\s0 \s-1BEEN\s0 \s-1ADVISED\s0 \s-1OF\s0 \s-1THE\s0 \s-1POSSIBILITY\s0 \s-1OF\s0 \s-1SUCH\s0 \s-1DAMAGES\s0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Modem::Vgetty.3pm.html"><span aria-hidden="true">&larr;</span> Modem::Vgetty.3pm: Interface to vgetty(8)</a></li>
   <li class="next"><a href="Module::Build::CleanInstall.3pm.html">Module::Build::CleanInstall.3pm: Subclass of module::build which removes the old module before installing the new one <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
