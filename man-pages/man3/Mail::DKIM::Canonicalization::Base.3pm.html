<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mail::DKIM::Canonicalization::Base: Base class for canonicalization methods</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Base class for canonicalization methods">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Mail::DKIM::Canonicalization::Base (3pm) manual">
  <meta name="twitter:description" content="Base class for canonicalization methods">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmail-dkim-perl-Mail::DKIM::Canonicalization::Base-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Mail::DKIM::Canonicalization::Base.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Mail::DKIM::Canonicalization::Base (3pm) manual" />
  <meta property="og:description" content="Base class for canonicalization methods" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmail-dkim-perl-Mail::DKIM::Canonicalization::Base-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Mail::DKIM::Canonicalization::Base<small> (3pm)</small></h1>
        <p class="lead">Base class for canonicalization methods</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Mail::DKIM::Canonicalization::Base.3pm.html">
      <span itemprop="name">Mail::DKIM::Canonicalization::Base: Base class for canonicalization methods</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmail-dkim-perl/">
      <span itemprop="name">libmail-dkim-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Mail::DKIM::Canonicalization::Base.3pm.html">
      <span itemprop="name">Mail::DKIM::Canonicalization::Base: Base class for canonicalization methods</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  # canonicalization results get output to STDOUT
  my $method = new Mail::DKIM::Canonicalization::relaxed(
                    output_fh =&gt; *STDOUT,
                    Signature =&gt; $dkim_signature);

  # add headers
  $method-&gt;add_header("Subject: this is the subject&#92;015&#92;012");
  $method-&gt;finish_header(Headers =&gt; &#92;@all_headers);

  # add body
  $method-&gt;add_body("This is the body.&#92;015&#92;012");
  $method-&gt;add_body("Another two lines&#92;015&#92;012of the body.&#92;015&#92;012");
  $method-&gt;finish_body;

  # this adds the signature to the end
  $method-&gt;finish_message;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTRUCTOR</h2>
        <div class="sectioncontent">
<p>Use the <em>new()</em> method of the desired canonicalization implementation class to construct a canonicalization object. E.g.</p><p>  my $method = new Mail::DKIM::Canonicalization::relaxed(                     output_fh =&gt; *STDOUT,                     Signature =&gt; $dkim_signature);</p><p>The constructors accept these arguments:</p>
<dl class='dl-vertical'>
  <dt>
    Signature
  </dt>
  <dd>
    <p>(Required) Provide the \s-1DKIM\s0 signature being constructed (if the message is being signed), or the \s-1DKIM\s0 signature being verified (if the message is being verified). The canonicalization method either writes parameters to the signature, or reads parameters from the signature (e.g. the h= tag).</p>
  </dd>
  <dt>
    output
  </dt>
  <dd>
    <p>If specified, the canonicalized message will be passed to this object with the \s-1PRINT\s0 method.</p>
  </dd>
  <dt>
    output_digest
  </dt>
  <dd>
    <p>If specified, the canonicalized message will be added to this digest. (Uses the <em>add()</em> method.)</p>
  </dd>
  <dt>
    output_fh
  </dt>
  <dd>
    <p>If specified, the canonicalized message will be written to this file handle.</p>
  </dd>

</dl>
<p>If none of the output parameters are specified, then the canonicalized message is appended to an internal buffer. The contents of this buffer can be accessed using the <em>result()</em> method.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>\fIadd_body()\fP - feeds part of the body into the canonicalization</h3>
<p>  $method-&gt;add_body("This is the body.&#92;015&#92;012");   $method-&gt;add_body("Another two lines&#92;015&#92;012of the body.&#92;015&#92;012");</p><p>The body should be fed one or more \*(L"lines\*(R" at a time. I.e. do not feed part of a line.</p>
<h3>\fIfinish_header()\fP - called when the header has been completely parsed</h3>
<p>  $method-&gt;finish_header(Headers =&gt; &#92;@all_headers);</p><p>Formerly the canonicalization object would only get the header data through successive invocations of <em>add_header()</em>. However, that required the canonicalization object to store a copy of the entire header so that it could choose the order in which headers were fed to the digest object. This is inefficient use of memory, since a message with many signatures may use many canonicalization objects and each canonicalization object has its own copy of the header.</p><p>The headers array is an array of one element per header field, with the headers not processed/canonicalized in any way.</p>
<h3>\fIresult()\fP</h3>
<p>  my $result = $method-&gt;result;</p><p>If you did not specify an object or handle to send the output to, the result of the canonicalization is stored in the canonicalization method itself, and can be accessed using this method.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Mail::DKIM::Canonicalization::Base&hellip;</h2>
        <div class="sectioncontent">
<p>Mail::DKIM</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jason Long, &lt;jlong@messiah.edu&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2006-2007 by Messiah College</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.6 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Mail::DKIM::AuthorDomainPolicy.3pm.html"><span aria-hidden="true">&larr;</span> Mail::DKIM::AuthorDomainPolicy.3pm: Represents an author domain signing practices (adsp) record</a></li>
   <li class="next"><a href="Mail::DKIM::Canonicalization::DkimCommon.3pm.html">Mail::DKIM::Canonicalization::DkimCommon.3pm: Common canonicalization methods <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
