<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>log4c_stream2_set_flags: Log4c stream2 appender interface.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Log4c stream2 appender interface.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="log4c_stream2_set_flags (3) manual">
  <meta name="twitter:description" content="Log4c stream2 appender interface.">
  <meta name="twitter:image" content="https://www.carta.tech/images/liblog4c-doc-log4c_stream2_set_flags-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/log4c_stream2_set_flags.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="log4c_stream2_set_flags (3) manual" />
  <meta property="og:description" content="Log4c stream2 appender interface." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/liblog4c-doc-log4c_stream2_set_flags-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">log4c_stream2_set_flags<small> (3)</small></h1>
        <p class="lead">Log4c stream2 appender interface.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/log4c_stream2_set_flags.3.html">
      <span itemprop="name">log4c_stream2_set_flags: Log4c stream2 appender interface.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/liblog4c-doc/">
      <span itemprop="name">liblog4c-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/log4c_stream2_set_flags.3.html">
      <span itemprop="name">log4c_stream2_set_flags: Log4c stream2 appender interface.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;log4c/defs.h&gt;</p><p>#include &lt;log4c/appender.h&gt;</p><h3>Functions</h3>
<p>LOG4C_API void <strong>log4c_stream2_set_fp</strong> (<strong>log4c_appender_t</strong> *a_this, FILE *fp)</p><p>LOG4C_API FILE * <strong>log4c_stream2_get_fp</strong> (<strong>log4c_appender_t</strong> *a_this)</p><p>LOG4C_API void <strong>log4c_stream2_set_flags</strong> (<strong>log4c_appender_t</strong> *a_this, int flags)</p><p>LOG4C_API int <strong>log4c_stream2_get_flags</strong> (<strong>log4c_appender_t</strong> *a_this)</p>
<h3>Variables</h3>
<p>__LOG4C_BEGIN_DECLS LOG4C_API const <strong>log4c_appender_type_t</strong> <strong>log4c_appender_type_stream2</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Log4c stream2 appender interface.</p><p>The stream2 appender uses a file handle FILE* for logging. It can be used with stdout, stderr or a normal file. It is pretty primitive as it does not do file rotation, or have a maximum configurable file size etc. It improves on the stream appender in a few ways that make it a better starting point for new stream based appenders.</p><p>It enhances the stream appender by allowing the default file pointer to be used in buffered or unbuffered mode. Also when you set the file pointer stream2 will not attempt to close it on exit which avoids it fighting with the owner of the file pointer. stream2 is configured via setter functions--the udata is not exposed directly. This means that new options (eg. configure the open mode ) could be added to stream2 while maintaining backward compatability.</p><p>The appender can be used with default values, for example as follows:</p>
<pre>
 log4c_appender_t* myappender;

 myappender = log4c_appender_get('/var/logs/mylog.log');
 log4c_appender_set_type(myappender,log4c_appender_type_get('stream2'));
</pre>
<p>In this case the appender will be configured automatically with default values:</p><ul>
<li><p>the filename is the same as the name of the appender, '/var/logs/mymlog.log'</p></li><li><p>the file is opened in 'w+' mode</p></li><li><p>the default system buffer is used (cf; setbuf() ) in buffered mode</p></li>
</ul><p>The stream2 appender can be configured by passing it a file pointer to use. In this case you manage the file pointer yourself--open, option setting, closing. If you set the file pointer log4c will not close the file on exiting--you must do this:</p>
<pre>
 log4c_appender_t* myappender;
 FILE * fp = fopen('myfile.log', 'w');

 myappender = log4c_appender_get('myappender');
 log4c_appender_set_type(myappender, log4c_appender_type_get('stream2'));
 log4c_stream2_set_fp(stream2_appender,myfp);
</pre>
<p>The default file pointer can be configured to use unbuffered mode. Buffered mode is typically 25%-50% faster than unbuffered mode but unbuffered mode is useful if your preference is for a more synchronized log file:</p>
<pre>
 log4c_appender_t* myappender;

 myappender = log4c_appender_get('/var/logs/mylog.log');
 log4c_appender_set_type(myappender,log4c_appender_type_get('stream2'));
 log4c_stream2_set_flags(myappender, LOG4C_STREAM2_UNBUFFERED);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>LOG4C_API int log4c_stream2_get_flags (\fBlog4c_appender_t\fP *a_this) Get the flags for this appender.</h3>
<p><strong>Parameters:</strong></p><p><em>this</em> a pointer to the appender</p><p><strong>Returns:</strong></p><p>the flags for this appender. returns -1 if there was a problem.</p>
<h3>LOG4C_API FILE* log4c_stream2_get_fp (\fBlog4c_appender_t\fP *a_this) Get the file pointer for this appender.</h3>
<p><strong>Parameters:</strong></p><p><em>this</em> a pointer to the appender</p><p><strong>Returns:</strong></p><p>the file pointer for this appender. If there's a problem returns NULL.</p>
<h3>LOG4C_API void log4c_stream2_set_flags (\fBlog4c_appender_t\fP *a_this, intflags) Set the flags for this appender.</h3>
<p><strong>Parameters:</strong></p><p><em>this</em> a pointer to the appender</p><p><em>flags</em> ar teh flags to set. These will overwrite the existing flags. Currently supported flags: LOG4C_STREAM2_UNBUFFERED</p>
<h3>LOG4C_API void log4c_stream2_set_fp (\fBlog4c_appender_t\fP *a_this, FILE *fp) Set the file pointer for this appender.</h3>
<p><strong>Parameters:</strong></p><p><em>this</em> a pointer to the appender</p><p><em>fp</em> the file pointer this appender will use. The caller is responsible for managing the file pointer (open, option setting, closing).</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Variable Documentation</h2>
        <div class="sectioncontent">
<h3>__LOG4C_BEGIN_DECLS LOG4C_API const \fBlog4c_appender_type_t\fP \fBlog4c_appender_type_stream2\fP Stream2 appender type definition.</h3>
<p>This should be used as a parameter to the <strong>log4c_appender_set_type()</strong> routine to set the type of the appender.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for log4c from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="log4c_stream2_get_fp.3.html"><span aria-hidden="true">&larr;</span> log4c_stream2_get_fp.3: Log4c stream2 appender interface.</a></li>
   <li class="next"><a href="log4c_stream2_set_fp.3.html">log4c_stream2_set_fp.3: Log4c stream2 appender interface. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
