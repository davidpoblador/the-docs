<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>snmp_clone_varbind: Netsnmp_varbind_api functions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Netsnmp_varbind_api functions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="snmp_clone_varbind (3) manual">
  <meta name="twitter:description" content="Netsnmp_varbind_api functions">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsnmp-dev-snmp_clone_varbind-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/snmp_clone_varbind.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="snmp_clone_varbind (3) manual" />
  <meta property="og:description" content="Netsnmp_varbind_api functions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsnmp-dev-snmp_clone_varbind-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">snmp_clone_varbind<small> (3)</small></h1>
        <p class="lead">Netsnmp_varbind_api functions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/snmp_clone_varbind.3.html">
      <span itemprop="name">snmp_clone_varbind: Netsnmp_varbind_api functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsnmp-dev/">
      <span itemprop="name">libsnmp-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/snmp_clone_varbind.3.html">
      <span itemprop="name">snmp_clone_varbind: Netsnmp_varbind_api functions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;net-snmp/varbind_api.h&gt;</strong></p><h3>Creation</h3>
<p><strong>netsnmp_variable_list *snmp_pdu_add_variable(</strong></p><p><strong>                     netsnmp_pdu *</strong><em>pdu</em><strong>,</strong></p><p><strong>                     const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     u_char </strong><em>type</em><strong>, const void *</strong><em>value</em><strong>, size_t </strong><em>len</em><strong>);</strong></p><p><strong>netsnmp_variable_list *snmp_varlist_add_variable(</strong></p><p><strong>                     netsnmp_variable_list *</strong><em>varlist</em><strong>,</strong></p><p><strong>                     const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     u_char </strong><em>type</em><strong>, const void *</strong><em>value</em><strong>, size_t </strong><em>len</em><strong>);</strong></p><p><strong>netsnmp_variable_list *snmp_add_null_var(</strong></p><p><strong>                     netsnmp_pdu *</strong><em>pdu</em><strong>,</strong></p><p><strong>                     const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>);</strong></p><p><strong>netsnmp_variable_list *snmp_clone_varbind(</strong></p><p><strong>                     netsnmp_variable_list *</strong><em>varlist</em><strong>);</strong></p>
<h3>Setting Values</h3>
<p><strong>int  snmp_set_var_objid( netsnmp_variable_list* </strong><em>variable</em><strong>,</strong></p><p><strong>                     const oid * </strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>);</strong></p><p><strong>int  snmp_set_var_value( netsnmp_variable_list* </strong><em>variable</em><strong>,</strong></p><p><strong>                     const void * </strong><em>value</em><strong>, size_t </strong><em>vallen</em><strong>);</strong></p><p><strong>int  snmp_set_var_typed_value( netsnmp_variable_list* </strong><em>variable</em><strong>,</strong></p><p><strong>                     u_char </strong><em>type</em><strong>,</strong></p><p><strong>                     const void * </strong><em>value</em><strong>, size_t </strong><em>vallen</em><strong>);</strong></p><p><strong>int  snmp_set_var_typed_integer( netsnmp_variable_list* </strong><em>variable</em><strong>,</strong></p><p><strong>                     u_char </strong><em>type</em><strong>, long </strong><em>value</em><strong>);</strong></p>
<h3>Output</h3>
<p><strong>void  print_variable(const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     const netsnmp_variable_list *</strong><em>variable</em><strong>);</strong></p><p><strong>void fprint_variable(FILE *</strong><em>fp</em><strong>,</strong></p><p><strong>                     const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     const netsnmp_variable_list *</strong><em>variable</em><strong>);</strong></p><p><strong>int snprint_variable(char *</strong><em>buf</em><strong>, size_t </strong><em>len</em><strong>,</strong></p><p><strong>                     const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     const netsnmp_variable_list *</strong><em>variable</em><strong>);</strong></p><p><strong>void  print_value(const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     const netsnmp_variable_list *</strong><em>variable</em><strong>);</strong></p><p><strong>void fprint_value(FILE *</strong><em>fp</em><strong>,</strong></p><p><strong>                     const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     const netsnmp_variable_list *</strong><em>variable</em><strong>);</strong></p><p><strong>int snprint_value(char *</strong><em>buf</em><strong>, size_t </strong><em>len</em><strong>,</strong></p><p><strong>                     const oid *</strong><em>objid</em><strong>, size_t </strong><em>objidlen</em><strong>,</strong></p><p><strong>                     const netsnmp_variable_list *</strong><em>variable</em><strong>);</strong></p>
<h3>Deletion</h3>
<p><strong>void snmp_free_var(       netsnmp_variable_list *</strong><em>variable</em><strong>);</strong></p><p><strong>void snmp_free_varbind( netsnmp_variable_list *</strong><em>variables</em><strong>);</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The functions dealing with variable bindings fall into four groups - dealing with the creation, setting of values, output and deletion of varbinds.</p><h3>Creation</h3>
<p><strong>snmp_pdu_add_variable</strong> will create a new varbind structure, initialised with the name ( <em>objid</em>, <em>objidlen</em> ), syntax ( <em>type</em> ) and value ( <em>value ,  len</em> ) provided. This varbind is then added to the end of the varbind list in the given PDU.</p><p><strong>snmp_varlist_add_variable</strong> is similar, but appends the new varbind to the end of the varbind list provided. When adding the first varbind to an empty list, simply pass the address of the head of the list:</p><ul>
<li>
<pre>
  netsnmp_variable_list *vl = NULL;
  snmp_varlist_add_variable(
            &vl, name1, name1_len,
            ASN_<em>TYPE</em>, &val1, val1_len);
  snmp_varlist_add_variable(
            &vl, name2, name2_len,
            ASN_<em>TYPE</em>, &val2, val2_len);
</pre>
</li>
</ul><p>In both cases, the routine will return a pointer to the new varbind structure (or NULL if the varbind creation fails).</p><p><strong>snmp_add_null_var</strong> is a convenience function to add an empty varbind to the PDU. without needing to specify the NULL value explicitly. This is the normal mechanism for constructing a GET (or similar) information retrieval request.</p><p>Again, this returns a pointer to the new varbind, or NULL.</p><p><strong>snmp_clone_varbind</strong> creates a copy of each varbind in the specified list, returning a pointer to the head of the new list (or NULL if the cloning fails).</p>
<h3>Setting of values</h3>
<p><strong>snmp_set_var_objid</strong> sets the name of the varbind structure to the specified OID.</p><p><strong>snmp_set_var_typed_value</strong> sets the syntax type and value of the varbind structure.</p><p><strong>snmp_set_var_value</strong> sets the value of the varbind structure, leaving the syntax type unchanged.</p><p><strong>snmp_set_var_typed_integer</strong> is a convenience function to set the syntax type and value for a 32-bit integer-based varbind.</p><p>All four of these return 0 if the assignment is successful, or 1 if it is not.</p>
<h3>Output</h3>
<p><strong>print_variable</strong> will take an object identifier (as returned by <strong>read_objid</strong>, <strong>snmp_parse_oid</strong> or <strong>get_module_node</strong>) and an instance of such a variable, and prints to the standard output the textual form of the object identifier together with the value of the variable.</p><p><strong>fprint_variable</strong> does the same, but prints to the FILE pointer specified by the initial parameter.</p><p><strong>snprint_variable</strong> prints the same information into the buffer pointed to by <em>buf</em> which is of length <em>len</em>. It returns the number of characters printed, or -1 if the buffer was not large enough.  In the latter case, <em>buf</em> will typically contained a truncated version of the information (but this behaviour is not guaranteed).  This function replaces the obsolete function <strong>sprint_variable</strong>.</p><p><strong>print_value</strong>, <strong>fprint_value</strong>, and <strong>snprint_value</strong> do the same as the equivalent <strong>print_variable</strong> routines, but only displaying the value of the variable, without the corresponding object identifier.</p><p>For displaying the OID of a varbind, see <strong>min_api</strong>(3).</p>
<h3>Deletion</h3>
<p><strong>snmp_free_var</strong> releases all memory used by the given varbind structure.</p><p><strong>snmp_free_varbind</strong> releases all memory used by each varbind structure in the varbind list provided.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO snmp_clone_varbind&hellip;</h2>
        <div class="sectioncontent">
<p><strong>pdu_api</strong>(3) <strong>mib_api</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="snmp_clone_pdu.3.html"><span aria-hidden="true">&larr;</span> snmp_clone_pdu.3: Netsnmp_pdu_api functions</a></li>
   <li class="next"><a href="snmp_close.3.html">snmp_close.3: Netsnmp_session_api functions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
