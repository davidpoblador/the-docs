<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Devel::Profile: Tell me why my perl program runs so slowly</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tell me why my perl program runs so slowly">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Devel::Profile (3pm) manual">
  <meta name="twitter:description" content="Tell me why my perl program runs so slowly">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdevel-profile-perl-Devel::Profile-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Devel::Profile.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Devel::Profile (3pm) manual" />
  <meta property="og:description" content="Tell me why my perl program runs so slowly" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdevel-profile-perl-Devel::Profile-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Devel::Profile<small> (3pm)</small></h1>
        <p class="lead">Tell me why my perl program runs so slowly</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Devel::Profile.3pm.html">
      <span itemprop="name">Devel::Profile: Tell me why my perl program runs so slowly</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdevel-profile-perl/">
      <span itemprop="name">libdevel-profile-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Devel::Profile.3pm.html">
      <span itemprop="name">Devel::Profile: Tell me why my perl program runs so slowly</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    perl -d:Profile program.pl
    less prof.out
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The Devel::Profile package is a Perl code profiler. This will collect information on the execution time of a Perl script and of the subs in that script. This information can be used to determine which subroutines are using the most time and which subroutines are being called most often.</p><p>To profile a Perl script, run the perl interpreter with the -d debugging switch. The profiler uses the debugging hooks. So to profile script test.pl the following command should be used:</p><p>        perl -d:Profile test.pl</p><p>When the script terminates (or periodicly while running, see \s-1ENVIRONMENT\s0) the profiler will dump the profile information to a file called <em>prof.out</em>. This file is human-readable, no additional tool is required to read it.</p><p>Note: Statistics are kept per sub, not per line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>How often to save profile data while running, in seconds, 0 to save only at exit. The default is every 2 minutes. Filename to save profile data to, default is <em>prof.out</em> Time spent running code not in 'subs' (such as naked code in main) won&#92;'t get accounted for in the normal manner. By default, we account for this time in the sub '&lt;other&gt;'. With this variable set, we leave it as 'missing' time. This reduces the effective runtime of the program, and the calculated percentages.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT FORMAT</h2>
        <div class="sectioncontent">
<p>example ouput:</p><p>    time elapsed (wall):   86.8212     time running program:  65.7657  (75.75%)     time profiling (est.): 21.0556  (24.25%)     number of calls:       647248</p><p>    %Time    Sec.     #calls   sec/call  F  name     31.74   20.8770     2306   0.009053     Configable::init_from_config     20.09   13.2116   144638   0.000091     Configable::init_field_from_config     17.49   11.5043   297997   0.000039     Configable::has_attr      8.22    5.4028      312   0.017317     MonEl::recycle      7.54    4.9570    64239   0.000077     Configable::inherit      5.02    3.3042   101289   0.000033     MonEl::unique     [...]</p><p>This is a small summary, followed by one line per sub.</p>
<dl class='dl-vertical'>
  <dt>
    time elapsed (wall)
  </dt>
  <dd>
    <p>This is the total time elapsed.</p>
  </dd>
  <dt>
    time running program
  </dt>
  <dd>
    <p>This is the amount of time spent running your program.</p>
  </dd>
  <dt>
    time profiling
  </dt>
  <dd>
    <p>This is the amount of time wasted due to profiler overhead.</p>
  </dd>
  <dt>
    number of calls
  </dt>
  <dd>
    <p>This is the total number of subroutine calls your program made.</p>
  </dd>

</dl>
<p>Followed by one line per subroutine.</p>
<dl class='dl-vertical'>
  <dt>
    name
  </dt>
  <dd>
    <p>The name of the subroutine.</p>
  </dd>
  <dt>
    %Time
  </dt>
  <dd>
    <p>The percentage of the total program runtime used by this subroutine.</p>
  </dd>
  <dt>
    Sec.
  </dt>
  <dd>
    <p>The total number of seconds used by this subroutine.</p>
  </dd>
  <dt>
    #calls
  </dt>
  <dd>
    <p>The number of times this subroutine was called.</p>
  </dd>
  <dt>
    sec/call
  </dt>
  <dd>
    <p>The average number of seconds this subroutines takes each time it is called.</p>
  </dd>
  <dt>
    F
  </dt>
  <dd>
    <p>Flags.</p><p>pseudo-function to account for otherwise unacounted for time. At least one call of this subroutine did not return (typically because of an \*(C`exit\*(C', or \*(C`die\*(C'). The statistics for it may be slightly off. At least one call of this subroutine trapped an exception. The statistics for it may be slightly off.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LONG RUNNING PROGRAMS</h2>
        <div class="sectioncontent">
<p>This module was written so that the author could profile a large long-running (daemon) program. Since normally, this program never exited, saving profiling data only at program exit was not an interesting option. This module will save profiling data periodically based on $PERL_PROFILE_SAVETIME, or the program being profiled can call \*(C`DB::save()\*(C' at any time. This allows you to watch your profiling data while the program is running.</p><p>The above program also had a very large startup phase (reading config files, building data structures, etc), the author wanted to see profiling data for the startup phase, and for the running phase seperately. The running program can call \*(C`DB::reset()\*(C' to save the profiling data and reset the statistics. Once reset, only \*(L"stuff\*(R" that happens from that point on will be reflected in the profile data file.</p><p>By default, reset is attached to the signal handler for \*(C`SIGUSR2\*(C'. Using a perl built with \*(L"safe signal handling\*(R" (5.8.0 and higher), you may safely send this signal to control profiling.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUT I WANT INCLUSIVE TIMES NOT EXCLUSIVE TIMES</h2>
        <div class="sectioncontent">
<p>Please see the spin-off module Devel::DProfLB.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Some buggy \s-1XS\s0 based perl modules can behave erroneously when run under the perl debugger. Since Devel::Profile uses the perl debugger interfaces, these modules will also behave erroneously when being profiled.</p><p>There are no known bugs in this module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This software may be copied and distributed under the terms found in the Perl \*(L"Artistic License\*(R".</p><p>A copy of the \*(L"Artistic License\*(R" may be found in the standard Perl distribution.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Devel::Profile&hellip;</h2>
        <div class="sectioncontent">
<p>    Yellowstone National Park.     Devel::DProfLB</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jeff Weisberg - http://www.tcp4me.com/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Devel::OverrideGlobalRequire.3pm.html"><span aria-hidden="true">&larr;</span> Devel::OverrideGlobalRequire.3pm: Override core::global::require safely</a></li>
   <li class="next"><a href="Devel::Refactor.3pm.html">Devel::Refactor.3pm: Perl extension for refactoring perl code. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
