<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pam - Pluggable Authentication Modules Library</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pluggable authentication modules library">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pam<small> (3)</small></h1>
        <p class="lead">Pluggable authentication modules library</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pam.3.html">
      <span itemprop="name">pam</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pam/">
      <span itemprop="name">pam</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pam.3.html">
      <span itemprop="name">pam</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p class='spacer'>

<pre>#include &lt;security/pam_appl.h&gt;</pre>

<p class='spacer'>

<pre>#include &lt;security/pam_modules.h&gt;</pre>

<p class='spacer'>

<pre>#include &lt;security/pam_ext.h&gt;</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p><strong>PAM</strong> is a system of libraries that handle the authentication tasks of applications (services) on the system. The library provides a stable general interface (Application Programming Interface - API) that privilege granting programs (such as <a href="../man1/login.1.html"><strong>login</strong>(1)</a> and <strong>su</strong>(1)) defer to to perform standard authentication tasks.</p>
  <h3>Initialization and Cleanup</h3>
<p class='spacer'>

<p>The <a href="../man3/pam_start.3.html"><strong>pam_start</strong>(3)</a> function creates the PAM context and initiates the PAM transaction. It is the first of the PAM functions that needs to be called by an application. The transaction state is contained entirely within the structure identified by this handle, so it is possible to have multiple transactions in parallel. But it is not possible to use the same handle for different transactions, a new one is needed for every new context.</p>
<p class='spacer'>

<p>The <a href="../man3/pam_end.3.html"><strong>pam_end</strong>(3)</a> function terminates the PAM transaction and is the last function an application should call in the PAM context. Upon return the handle pamh is no longer valid and all memory associated with it will be invalid. It can be called at any time to terminate a PAM transaction.</p>
  <h3>Authentication</h3>
<p class='spacer'>

<p>The <a href="../man3/pam_authenticate.3.html"><strong>pam_authenticate</strong>(3)</a> function is used to authenticate the user. The user is required to provide an authentication token depending upon the authentication service, usually this is a password, but could also be a finger print.</p>
<p class='spacer'>

<p>The <a href="../man3/pam_setcred.3.html"><strong>pam_setcred</strong>(3)</a> function manages the userscredentials.</p>
  <h3>Account Management</h3>
<p class='spacer'>

<p>The <a href="../man3/pam_acct_mgmt.3.html"><strong>pam_acct_mgmt</strong>(3)</a> function is used to determine if the users account is valid. It checks for authentication token and account expiration and verifies access restrictions. It is typically called after the user has been authenticated.</p>
  <h3>Password Management</h3>
<p class='spacer'>

<p>The <a href="../man3/pam_chauthtok.3.html"><strong>pam_chauthtok</strong>(3)</a> function is used to change the authentication token for a given user on request or because the token has expired.</p>
  <h3>Session Management</h3>
<p class='spacer'>

<p>The <a href="../man3/pam_open_session.3.html"><strong>pam_open_session</strong>(3)</a> function sets up a user session for a previously successful authenticated user. The session should later be terminated with a call to <a href="../man3/pam_close_session.3.html"><strong>pam_close_session</strong>(3)</a>.</p>
  <h3>Conversation</h3>
<p class='spacer'>

<p>The PAM library uses an application-defined callback to allow a direct communication between a loaded module and the application. This callback is specified by the <em>struct pam_conv</em> passed to <a href="../man3/pam_start.3.html"><strong>pam_start</strong>(3)</a> at the start of the transaction. See <a href="../man3/pam_conv.3.html"><strong>pam_conv</strong>(3)</a> for details.</p>
  <h3>Data Objects</h3>
<p class='spacer'>

<p>The <a href="../man3/pam_set_item.3.html"><strong>pam_set_item</strong>(3)</a> and <a href="../man3/pam_get_item.3.html"><strong>pam_get_item</strong>(3)</a> functions allows applications and PAM service modules to set and retrieve PAM informations.</p>
<p class='spacer'>

<p>The <a href="../man3/pam_get_user.3.html"><strong>pam_get_user</strong>(3)</a> function is the preferred method to obtain the username.</p>
<p class='spacer'>

<p>The <a href="../man3/pam_set_data.3.html"><strong>pam_set_data</strong>(3)</a> and <a href="../man3/pam_get_data.3.html"><strong>pam_get_data</strong>(3)</a> functions allows PAM service modules to set and retrieve free-form data from one invocation to another.</p>
  <h3>Environment and Error Management</h3>
<p class='spacer'>

<p>The <a href="../man3/pam_putenv.3.html"><strong>pam_putenv</strong>(3)</a>, <a href="../man3/pam_getenv.3.html"><strong>pam_getenv</strong>(3)</a> and <a href="../man3/pam_getenvlist.3.html"><strong>pam_getenvlist</strong>(3)</a> functions are for maintaining a set of private environment variables.</p>
<p class='spacer'>

<p>The <a href="../man3/pam_strerror.3.html"><strong>pam_strerror</strong>(3)</a> function returns a pointer to a string describing the given PAM error code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>The following return codes are known by PAM:</p>
<p class='spacer'>

<p>PAM_ABORT Critical error, immediate abort.</p>
<p class='spacer'>

<p>PAM_ACCT_EXPIRED User account has expired.</p>
<p class='spacer'>

<p>PAM_AUTHINFO_UNAVAIL Authentication service cannot retrieve authentication info.</p>
<p class='spacer'>

<p>PAM_AUTHTOK_DISABLE_AGING Authentication token aging disabled.</p>
<p class='spacer'>

<p>PAM_AUTHTOK_ERR Authentication token manipulation error.</p>
<p class='spacer'>

<p>PAM_AUTHTOK_EXPIRED Authentication token expired.</p>
<p class='spacer'>

<p>PAM_AUTHTOK_LOCK_BUSY Authentication token lock busy.</p>
<p class='spacer'>

<p>PAM_AUTHTOK_RECOVERY_ERR Authentication information cannot be recovered.</p>
<p class='spacer'>

<p>PAM_AUTH_ERR Authentication failure.</p>
<p class='spacer'>

<p>PAM_BUF_ERR Memory buffer error.</p>
<p class='spacer'>

<p>PAM_CONV_ERR Conversation failure.</p>
<p class='spacer'>

<p>PAM_CRED_ERR Failure setting user credentials.</p>
<p class='spacer'>

<p>PAM_CRED_EXPIRED User credentials expired.</p>
<p class='spacer'>

<p>PAM_CRED_INSUFFICIENT Insufficient credentials to access authentication data.</p>
<p class='spacer'>

<p>PAM_CRED_UNAVAIL Authentication service cannot retrieve user credentials.</p>
<p class='spacer'>

<p>PAM_IGNORE The return value should be ignored by PAM dispatch.</p>
<p class='spacer'>

<p>PAM_MAXTRIES Have exhausted maximum number of retries for service.</p>
<p class='spacer'>

<p>PAM_MODULE_UNKNOWN Module is unknown.</p>
<p class='spacer'>

<p>PAM_NEW_AUTHTOK_REQD Authentication token is no longer valid; new one required.</p>
<p class='spacer'>

<p>PAM_NO_MODULE_DATA No module specific data is present.</p>
<p class='spacer'>

<p>PAM_OPEN_ERR Failed to load module.</p>
<p class='spacer'>

<p>PAM_PERM_DENIED Permission denied.</p>
<p class='spacer'>

<p>PAM_SERVICE_ERR Error in service module.</p>
<p class='spacer'>

<p>PAM_SESSION_ERR Cannot make/remove an entry for the specified session.</p>
<p class='spacer'>

<p>PAM_SUCCESS Success.</p>
<p class='spacer'>

<p>PAM_SYMBOL_ERR Symbol not found.</p>
<p class='spacer'>

<p>PAM_SYSTEM_ERR System error.</p>
<p class='spacer'>

<p>PAM_TRY_AGAIN Failed preliminary check by password service.</p>
<p class='spacer'>

<p>PAM_USER_UNKNOWN User not known to the underlying authentication module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p><a href="../man3/pam_acct_mgmt.3.html"><strong>pam_acct_mgmt</strong>(3)</a>, <a href="../man3/pam_authenticate.3.html"><strong>pam_authenticate</strong>(3)</a>, <a href="../man3/pam_chauthtok.3.html"><strong>pam_chauthtok</strong>(3)</a>, <a href="../man3/pam_close_session.3.html"><strong>pam_close_session</strong>(3)</a>, <a href="../man3/pam_conv.3.html"><strong>pam_conv</strong>(3)</a>, <a href="../man3/pam_end.3.html"><strong>pam_end</strong>(3)</a>, <a href="../man3/pam_get_data.3.html"><strong>pam_get_data</strong>(3)</a>, <a href="../man3/pam_getenv.3.html"><strong>pam_getenv</strong>(3)</a>, <a href="../man3/pam_getenvlist.3.html"><strong>pam_getenvlist</strong>(3)</a>, <a href="../man3/pam_get_item.3.html"><strong>pam_get_item</strong>(3)</a>, <a href="../man3/pam_get_user.3.html"><strong>pam_get_user</strong>(3)</a>, <a href="../man3/pam_open_session.3.html"><strong>pam_open_session</strong>(3)</a>, <a href="../man3/pam_putenv.3.html"><strong>pam_putenv</strong>(3)</a>, <a href="../man3/pam_set_data.3.html"><strong>pam_set_data</strong>(3)</a>, <a href="../man3/pam_set_item.3.html"><strong>pam_set_item</strong>(3)</a>, <a href="../man3/pam_setcred.3.html"><strong>pam_setcred</strong>(3)</a>, <a href="../man3/pam_start.3.html"><strong>pam_start</strong>(3)</a>, <a href="../man3/pam_strerror.3.html"><strong>pam_strerror</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<p class='spacer'>

<p>The <em>libpam</em> interfaces are only thread-safe if each thread within the multithreaded application uses its own PAM handle.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="optopt.3.html"><span aria-hidden="true">&larr;</span> optopt.3: Parse command-line options</a></li>
   <li class="next"><a href="pam_acct_mgmt.3.html">pam_acct_mgmt.3: PAM account validation management <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
