<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Params::Coerce: Allows your classes to do coercion of parameters</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Allows your classes to do coercion of parameters">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Params::Coerce (3pm) manual">
  <meta name="twitter:description" content="Allows your classes to do coercion of parameters">
  <meta name="twitter:image" content="https://www.carta.tech/images/libparams-coerce-perl-Params::Coerce-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Params::Coerce.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Params::Coerce (3pm) manual" />
  <meta property="og:description" content="Allows your classes to do coercion of parameters" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libparams-coerce-perl-Params::Coerce-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Params::Coerce<small> (3pm)</small></h1>
        <p class="lead">Allows your classes to do coercion of parameters</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Params::Coerce.3pm.html">
      <span itemprop="name">Params::Coerce: Allows your classes to do coercion of parameters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libparams-coerce-perl/">
      <span itemprop="name">libparams-coerce-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Params::Coerce.3pm.html">
      <span itemprop="name">Params::Coerce: Allows your classes to do coercion of parameters</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  # Coerce a object of class Foo to a Bar
  my $bar = Params::Coerce::coerce(&apos;Bar&apos;, $Foo)

  # Create a coercion param function
  use Params::Coerce &apos;_Bar&apos; =&gt; &apos;Bar&apos;;
  my $bar = _Bar($Foo);

  # Usage when Bar has a &apos;from&apos; method
  my $bar = Bar-&gt;from($Foo);
</pre>
<p>Real world example using HTML::Location.</p><p>  # My class needs a URI   package Web::Spider;</p><p>  use URI;   use Params::Coerce &apos;coerce&apos;;</p><p>  sub new {       my $class = shift;</p><p>      # Where do we start spidering       my $start = coerce(&apos;URI&apos;, shift) or die "Wasn&apos;t passed a URI";</p><p>      bless { root =&gt; $start }, $class;   }</p><p>  #############################################   # Now we can do the following</p><p>  # Pass a URI as normal   my $URI     = URI-&gt;new(&apos;http://ali.as/&apos;);   my $Spider1 = Web::Spider-&gt;new( $URI );</p><p>  # We can also pass anything that can be coerced into being a URI   my $Website = HTML::Location-&gt;new( &apos;/home/adam/public_html&apos;, &apos;http://ali.as&apos; );   my $Spider2 = Web::Spider-&gt;new( $Website );</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A big part of good \s-1API\s0 design is that we should be able to be flexible in the ways that we take parameters.</p><p>Params::Coerce attempts to encourage this, by making it easier to take a variety of different arguments, while adding negligable additional complexity to your code.</p><h3>What is Coercion</h3>
<p>\*(L"Coercion\*(R" in computing terms generally referse to \*(L"implicit type conversion\*(R". This is where data and object are converted from one type to another behind the scenes, and you just just magically get what you need.</p><p>The overload pragma, and its string overloading is the form of coercion you are most likely to have encountered in Perl programming. In this case, your object is automatically (within perl itself) coerced into a string.</p><p>\*(C`Params::Coerce\*(C' is intended for higher-order coercion between various types of different objects, for use mainly in subroutine and (mostly) method parameters, particularly on external APIs.</p>
<h3>_\|_as_Another_Class Methods</h3>
<p>At the heart of \*(C`Params::Coerce\*(C' is the ability to transform objects from one thing to another. This can be done by a variety of different mechanisms.</p><p>The prefered mechanism for this is by creating a specially named method in a class that indicates it can be coerced into another type of object.</p><p>As an example, HTML::Location provides an object method that returns an equivalent \s-1URI\s0 object.</p><p>  # In the package HTML::Location</p><p>  # Coerce to a URI   sub _\|_as_URI {         my $self = shift;         return URI-&gt;new( $self-&gt;uri );   }</p>
<h3>_\|_from_Another_Class Methods</h3>
<p>From version 0.04 of \*(C`Params::Coerce\*(C', you may now also provide _\|_from_Another_Class methods as well. In the above example, rather then having to define a method in HTML::Location, you may instead define one in \s-1URI\s0. The following code has an identical effect.</p><p>  # In the package URI</p><p>  # Coerce from a HTML::Location   sub _\|_from_HTML_Location {         my $Location = shift;         return URI-&gt;new( $Location-&gt;uri );   }</p><p>\*(C`Params::Coerce\*(C' will only look for the _\|_from method, if it does not find a _\|_as method.</p>
<h3>Loading Classes</h3>
<p>One thing to note with the \*(C`_\|_as_Another_Class\*(C' methods is that you are <strong>not</strong> required to load the class you are converting to in the class you are converting from.</p><p>In the above example, HTML::Location does <strong>not</strong> have to load the \s-1URI\s0 class. The need to load the classes for every object we might some day need to be coerced to would result in highly excessive resource usage.</p><p>Instead, \*(C`Params::Coerce\*(C' guarentees that the class you are converting to \*(C`will\*(C' be loaded before it calls the _\|_as_Another_Class method. Of course, in most situations you will have already loaded it for another purpose in either the From or To classes and this won't be an issue.</p><p>If you make use of some class <strong>other than</strong> the class you are being coerced to in the _\|_as_Another_Class method, you will need to make sure that is loaded in your code, but it is suggested that you do it at run-time with a \*(C`require\*(C' if you are not using it already elsewhere.</p>
<h3>Coercing a Parameter</h3>
<p>The most explicit way of accessing the coercion functionality is with the Params::Coerce::coerce function. It takes as its first argument the name of the class you wish to coerce <strong>to</strong>, followed by the parameter to which you wish to apply the coercion.</p><p>  package My::Class;</p><p>  use URI ();   use Params::Coerce &apos;_URI&apos; =&gt; &apos;URI&apos;;</p><p>  sub new {         my $class = shift;</p><p>        # Take a URI argument         my $URI = Params::Coerce::coerce(&apos;URI&apos;, shift) or return;</p><p>        ...   }</p><p>For people doing procedural programming, you may also import this function.</p><p>  # Import the coerce function   use Params::Coerce &apos;coerce&apos;;</p><p>Please note thatThe \*(C`coerce|Params::Coerce\*(C' function is the <strong>only</strong> function that can be imported, and that the two argument pragma (or the passing of two or more arguments to -&gt;import) means something different entirely.</p>
<h3>Importing Parameter Coercion Methods</h3>
<p>The second way of using Params::Coerce, and the more common one for Object-Oriented programming, is to create method specifically for taking parameters in a coercing manner.</p><p>  package My::Class;</p><p>  use URI ();   use Params::Coerce &apos;_URI&apos; =&gt; &apos;URI&apos;;</p><p>  sub new {         my $class = shift;</p><p>        # Take a URI as parameter         my $URI1 = $class-&gt;_URI(shift) or return;         my $URI2 = _URI(shift) or return;         ...   } From version 0.11 of \*(C`Params::Coerce\*(C', an additional mechanism is available with the importable \*(C`from\*(C' constructor.</p><p>  package My::Class;</p><p>  use Params::Coerce &apos;from&apos;;</p><p>  package Other::Class;</p><p>  sub method {         my $self = shift;         my $My   = My::Class-&gt;from(shift) or die "Bad param";         ...   }</p><p>This is mainly a convenience. The above is equivalent to</p><p>  package My::Class;</p><p>  use Params::Coerce &apos;from&apos; =&gt; &apos;Params::Coerce&apos;;</p><p>In future versions, this \*(C`-&gt;from\*(C' syntax may also tweak the resolution order of the coercion.</p>
<h3>Chained Coercion</h3>
<p>While it is intended that Params::Coerce will eventually support coercion using multiple steps, like \*(C`&lt;Foo::Bar-\*(C'_\|_as_HTML_Location-&gt;_\|_as_URI&gt;&gt;, it is not currently capable of this. At this time only a single coercion step is supported.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<p>The \*(C`coerce\*(C' function takes a class name and a single parameter and attempts to coerce the parameter into the intended class, or one of its subclasses.</p><p>Please note that it is the responsibility of the consuming class to ensure that the class you wish to coerce to is loaded. \*(C`coerce\*(C' will check this and die is it is not loaded.</p><p>Returns an instance of the class you specify, or one of its subclasses. Returns \*(C`undef\*(C' if the parameter cannot be coerced into the class you wish.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO DO</h2>
        <div class="sectioncontent">
<p>- Write more unit tests</p><p>- Implement chained coercion</p><p>- Provide a way to coerce to string, int, etc that is compatible with overload and other types of things.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>Bugs should always be submitted via the \s-1CPAN\s0 bug tracker</p><p>&lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Param-Coerce&gt;</p><p>For other issues, contact the maintainer</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Adam Kennedy &lt;adamk@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2004 - 2006 Adam Kennedy.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p><p>The full text of the license can be found in the \s-1LICENSE\s0 file included with this module.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Params::CallbackRequest::Exceptions.3pm.html"><span aria-hidden="true">&larr;</span> Params::CallbackRequest::Exceptions.3pm: Parameter callback exception definitions</a></li>
   <li class="next"><a href="Params::Validate::Dummy.3pm.html">Params::Validate::Dummy.3pm: Stub for params::validate <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
