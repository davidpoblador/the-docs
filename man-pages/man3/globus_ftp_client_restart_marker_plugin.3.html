<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>globus_ftp_client_restart_marker_plugin: Restart marker plugin -</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Restart marker plugin -">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="globus_ftp_client_restart_marker_plugin (3) manual">
  <meta name="twitter:description" content="Restart marker plugin -">
  <meta name="twitter:image" content="https://www.carta.tech/images/libglobus-ftp-client-doc-globus_ftp_client_restart_marker_plugin-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/globus_ftp_client_restart_marker_plugin.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="globus_ftp_client_restart_marker_plugin (3) manual" />
  <meta property="og:description" content="Restart marker plugin -" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libglobus-ftp-client-doc-globus_ftp_client_restart_marker_plugin-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">globus_ftp_client_restart_marker_plugin<small> (3)</small></h1>
        <p class="lead">Restart marker plugin -</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_ftp_client_restart_marker_plugin.3.html">
      <span itemprop="name">globus_ftp_client_restart_marker_plugin: Restart marker plugin -</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libglobus-ftp-client-doc/">
      <span itemprop="name">libglobus-ftp-client-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_ftp_client_restart_marker_plugin.3.html">
      <span itemprop="name">globus_ftp_client_restart_marker_plugin: Restart marker plugin -</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>This plugin is intended to allow users to make restart markers persistent. During a transfer, every marker received will result in the user's 'marker' callback being called with the new restart marker that can be stored. If the application were to prematurely terminate (while transferring), the user (after restarting the application) could pass this stored marker back to the plugin via the 'begin' callback to force the transfer to be restarted from the last marked point.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Macro Definition Documentation</h2>
        <div class="sectioncontent">
<h3>#define GLOBUS_FTP_CLIENT_RESTART_MARKER_PLUGIN_MODULE   (&globus_i_ftp_client_restart_marker_plugin_module)</h3>
<p>Module descriptor</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Typedef Documentation</h2>
        <div class="sectioncontent">
<h3>typedef globus_bool_t(* globus_ftp_client_restart_marker_plugin_begin_cb_t)(void *user_arg, \fBglobus_ftp_client_handle_t\fP *handle, const char *source_url, const char *dest_url, \fBglobus_ftp_client_restart_marker_t\fP *user_saved_marker)</h3>
<p>Transfer begin callback. This callback is called when a get, put, or third party transfer is started.</p><p>The intended use for this callback is for the user to use the transfer urls to locate a restart marker in some persistent storage. If one is found, it should be copied into 'user_saved_marker' and the callback should return GLOBUS_TRUE. This will cause the transfer to be restarted using that restart marker. If one is not found, return GLOBUS_FALSE to indicate that the transfer should proceed from the beginning.</p><p>In any case, this is also an opportunity for the user to set up any storage in anticipation of restart markers for this transfer.</p><p><strong>Parameters:</strong></p><p><em>handle</em> this the client handle that this transfer will be occurring on</p><p><em>user_arg</em> this is the user_arg passed to the init func</p><p><em>source_url</em> source of the transfer (GLOBUS_NULL if 'put')</p><p><em>dest_url</em> dest of the transfer (GLOBUS_NULL if 'get')</p><p><em>user_saved_marker</em> pointer to an unitialized restart marker</p><p><strong>Returns:</strong></p><ul>
<li><p>GLOBUS_TRUE to indicate that the plugin should use 'user_saved_marker' to restart the transfer (and subsequently, destroy the marker)</p></li><li><p>GLOBUS_FALSE to indicate that 'user_saved_marker' has not been modified, and that the transfer should proceed normally</p></li>
</ul>
<h3>typedef void(* globus_ftp_client_restart_marker_plugin_complete_cb_t)(void *user_arg, \fBglobus_ftp_client_handle_t\fP *handle, globus_object_t *error, const char *error_url)</h3>
<p>Transfer complete callback</p><p>This callback will be called upon transfer completion (successful or otherwise)</p><p><strong>Parameters:</strong></p><p><em>handle</em> this the client handle that this transfer was occurring on</p><p><em>user_arg</em> this is the user_arg passed to the init func</p><p><em>error</em> the error object indicating what went wrong (GLOBUS_NULL on success)</p><p><em>error_url</em> the url which is the source of the above error (GLOBUS_NULL on success)</p><p><strong>Returns:</strong></p><ul>
<li><p>n/a</p></li>
</ul>
<h3>typedef void(* globus_ftp_client_restart_marker_plugin_marker_cb_t)(void *user_arg, \fBglobus_ftp_client_handle_t\fP *handle, \fBglobus_ftp_client_restart_marker_t\fP *marker)</h3>
<p>Restart marker received callback</p><p>This callback will be called every time a restart marker is available.</p><p>To receive restart markers in a 'put' or 'third_party_transfer', the transfer must be in Extended Block mode. 'get' transfers will have their markers generated internally. Markers generated internally will be 'sent' at most, once per second.</p><p>The intended use for this callback is to allow the user to store this marker (most likely in place of any previous marker) in a format that the 'begin_cb' can parse and pass back.</p><p><strong>Parameters:</strong></p><p><em>handle</em> this the client handle that this transfer is occurring on</p><p><em>user_arg</em> this is the user_arg passed to the init func</p><p><em>marker</em> the restart marker that has been received. Thsi marker is owned by the caller. The user must use the copy method to keep it. Note: this restart marker currently contains all ranges received as of yet. Should I instead only pass a marker with the ranges just made available? If so, the user may need a way to combine restart markers (globus_ftp_client_restart_marker_combine)</p><p><strong>Returns:</strong></p><ul>
<li><p>n/a</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>globus_result_t globus_ftp_client_restart_marker_plugin_destroy (\fBglobus_ftp_client_plugin_t\fP *plugin)</h3>
<p>Destroy restart marker plugin</p><p>Frees up memory associated with plugin</p><p><strong>Parameters:</strong></p><p><em>plugin</em> plugin previously initialized with init (above)</p><p><strong>Returns:</strong></p><ul>
<li><p>GLOBUS_SUCCESS</p></li><li><p>Error on NULL plugin</p></li>
</ul>
<h3>globus_result_t globus_ftp_client_restart_marker_plugin_init (\fBglobus_ftp_client_plugin_t\fP *plugin, \fBglobus_ftp_client_restart_marker_plugin_begin_cb_t\fPbegin_cb, \fBglobus_ftp_client_restart_marker_plugin_marker_cb_t\fPmarker_cb, \fBglobus_ftp_client_restart_marker_plugin_complete_cb_t\fPcomplete_cb, void *user_arg)</h3>
<p>Initialize a restart marker plugin</p><p>This function initializes a restart marker plugin. Any params except for the plugin may be GLOBUS_NULL</p><p><strong>Parameters:</strong></p><p><em>plugin</em> a pointer to a plugin type to be initialized</p><p><em>user_arg</em> a pointer to some user specific data that will be provided to all callbacks</p><p><em>begin_cb</em> the callback to be called upon the start of a transfer</p><p><em>marker_cb</em> the callback to be called with every restart marker received</p><p><em>complete_cb</em> the callback to be called to indicate transfer completion</p><p><strong>Returns:</strong></p><ul>
<li><p>GLOBUS_SUCCESS</p></li><li><p>Error on NULL plugin</p></li><li><p>Error on init internal plugin</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for globus_ftp_client from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="globus_ftp_client_restart_marker_insert_range.3.html"><span aria-hidden="true">&larr;</span> globus_ftp_client_restart_marker_insert_range.3: Restart markers -</a></li>
   <li class="next"><a href="globus_ftp_client_restart_marker_plugin.h.3.html">globus_ftp_client_restart_marker_plugin.h.3: Gridftp restart marker plugin implementation. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
