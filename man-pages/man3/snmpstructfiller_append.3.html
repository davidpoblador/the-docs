<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>snmpstructfiller_append: Snmpkit functions for taking making snmp requests based upon a structure.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Snmpkit functions for taking making snmp requests based upon a structure.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="snmpstructfiller_append (3) manual">
  <meta name="twitter:description" content="Snmpkit functions for taking making snmp requests based upon a structure.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsnmpkit-dev-snmpstructfiller_append-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/snmpstructfiller_append.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="snmpstructfiller_append (3) manual" />
  <meta property="og:description" content="Snmpkit functions for taking making snmp requests based upon a structure." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsnmpkit-dev-snmpstructfiller_append-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">snmpstructfiller_append<small> (3)</small></h1>
        <p class="lead">Snmpkit functions for taking making snmp requests based upon a structure.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/snmpstructfiller_append.3.html">
      <span itemprop="name">snmpstructfiller_append: Snmpkit functions for taking making snmp requests based upon a structure.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsnmpkit-dev/">
      <span itemprop="name">libsnmpkit-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/snmpstructfiller_append.3.html">
      <span itemprop="name">snmpstructfiller_append: Snmpkit functions for taking making snmp requests based upon a structure.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;snmpkit.h&gt;</strong>

<strong>SNMPSTRUCTFILLER *new_snmpstructfiller(SNMPSESSION *</strong><em>session</em><strong>);</strong>
<strong>void delete_snmpstructfiller(SNMPSTRUCTFILLER *</strong><em>doomed</em><strong>);</strong>
<strong>void snmpstructfiller_append(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>, const char *</strong><em>oidstr</em><strong>,Tags </strong><em>tag</em><strong>, unsigned int </strong><em>offset</em><strong>);</strong>
<strong>void snmpstructfiller_remove(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>,const char *</strong><em>oidstr</em><strong>);</strong>
<strong>void *snmpstructfiller_get(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>,void *</strong><em>tobefilled</em><strong>);</strong>
<strong>void *snmpstructfiller_get_next(SNMPSTRUCTFILLER *</strong><em>sf</em><strong>, void *</strong><em>tobefilled</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A snmpstructfiller is an opaque data structure used fill C structures with data from the snmp requests.</p><p>The SNMP protocol is designed in a way where there is significant overhead in process of encoding and exchanging a packet. Therefore it is very inefficient and time consuming to exchange many variables in individual request packets. The way around this is to bulk up a bunch of snmp requests into one packet. Since you are most frequently fetching information which is related the snmp structure filler is designed to associate the snmp objects and data types with the offsets into the structure. That way when you do a get or a get_next you will get back a completely filled in structure.</p><p>The <strong>new_snmpstructfiller()</strong> function creates new structfiller. You will need one of these for every different set of objects that you want to fetch. It starts out not having any requests associated with it. To add requests to this structure use the <strong>snmpstructfiller_append()</strong> function. To actually do the request, use the <strong>snmpstructfiller_get()</strong> or the <strong>snmpstructfiller_get_next()</strong> functions.</p><p>The <strong>delete_snmpstructfiller()</strong> function is the opposite of the new function. It frees all the resources used by  the structfiller structure.</p><p>The <strong>snmpstructfiller_append()</strong> function appends a new snmp object to the structure filler. It requires the oidstring. <strong>This snmp library doesn't bother attempting to read MIBS.</strong> You must specify the snmp object in dotted decimal notation. For example, system.sysDesc is "1.3.6.1.2.1.1.1.0". This means that you must look up the objects ID's before hand. This sounds like a lot of work but I have found that when writing an application it is really not that much of a problem. The tag is the type of data that the object is supposed to have as defined in the MIB and cooresponds directly to the space used in the structure you are filling. The tag can be one of the following:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>INT_TAG long</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>STRING_TAG char*</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>IPADDR_TAG unsigned long</strong></p>
  </dt>
  <dd>
    <p>You get the IPADDR back in binary format. You must translate it byte for byte to get an IPADDR in the format that is usually expected.</p>
  </dd>
  <dt>
    <p><strong>COUNTER_TAG long</strong></p>
  </dt>
  <dd>
    <p>This could concievably be an unsigned long but enough implementations of MIBS are fouled up in such that even though the mib specifies a counter, the device returns an integer. That it is best to store this number in an integer rather than an unsigned..</p>
  </dd>
  <dt>
    <p><strong>TIME_TICK_TAG long</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>The final parameter is offset into the structure. For example if you have a structure and a variable like: struct info { char *descr; char *contact; } foo;</p><p>Then the offset of descr would be <strong>(char*)&(foo.descr)-(char*)&foo</strong> and the offset of contact would be <strong>(char*)&(foo.contact)-(char*)&foo</strong> I know that this is a very bad way of doing things and I intend to change it in the future. Probably what I will do is change this to a function pointer which when called takes the pointer to the structure that it is supposed to insert the data in as well as the value of the data and it will insert it into the data into the structure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ben Woodard &lt;ben@users.sourceforge.net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The library can possibly throw different kinds of C++ execptions that won't be caught by the glue code and therefore it can cause your program to crash inexplicably.</p><p>There is no support for SNMP sets.</p><p>There is no support for getting back an OID.</p><p>There is no support for</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO snmpstructfiller_append&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/libsnmpkit.3.html"><strong>libsnmpkit</strong>(3)</a>, <a href="../man3/snmpsession.3.html"><strong>snmpsession</strong>(3)</a>, <strong>snmpsock</strong>(3), <strong>snmptable</strong>(3), <a href="../man3/snmpstructfiller.3.html"><strong>snmpstructfiller</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="snmpstructfiller.3.html"><span aria-hidden="true">&larr;</span> snmpstructfiller.3: Snmpkit functions for taking making snmp requests based upon a structure.</a></li>
   <li class="next"><a href="snprint_description.3.html">snprint_description.3: Netsnmp_mib_api functions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
