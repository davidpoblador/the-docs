<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libploticus: None</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="None">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libploticus (3) manual">
  <meta name="twitter:description" content="None">
  <meta name="twitter:image" content="https://www.carta.tech/images/libploticus0-libploticus-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/libploticus.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libploticus (3) manual" />
  <meta property="og:description" content="None" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libploticus0-libploticus-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libploticus<small> (3)</small></h1>
        <p class="lead">None</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libploticus.3.html">
      <span itemprop="name">libploticus: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libploticus0/">
      <span itemprop="name">libploticus0</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libploticus.3.html">
      <span itemprop="name">libploticus: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Name</h2>
        <div class="sectioncontent">
<p>Libploticus - C language API library for ploticus</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Description</h2>
        <div class="sectioncontent">
<p>This simple C language API has all of the funcionality of the &nbsp;ploticus program and is similarly covered by the General Public License.</p><p><strong>libploticus</strong> is built using Makefile.</p>
<pre>
 &nbsp; make clean
 &nbsp; make FPIC=-fPIC libploticus-so
</pre>
<p>Applications linking to <strong>libploticus</strong> may need additional libraries such as zlib, but this depends on exactly how <strong>libploticus</strong> was built. The specifics are noted in Makefile. The externally visible symbols in <strong>libploticus</strong> begin with these prefixes: ploticus, PL, TDH, DT, and GL.</p><p>The header file libploticus.h is required to avoid compiler warnings.</p><p>All functions return 0 when successful, or a non-zero error code.</p><p>As of version 2.11 multiple sequential plot "jobs" can be performed by a single OS process. Each plot job should begin with a ploticus_init() call and terminate with a ploticus_end() call.</p><p>No attempt has been made to write libploticus as thread-safe.</p><p>As of version 2.40 script lines can no longer be passed as string constants.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Examples</h2>
        <div class="sectioncontent">
<p>Here's a simple example (it may be found in ./pltestsuite/api_examp.c)</p>
<pre>
 &nbsp; main()
 &nbsp; {
 &nbsp; int stat;
 &nbsp; char sln[80];
 &nbsp; stat = ploticus_init( "png", "hello.png" );
 &nbsp; stat += ploticus_arg( "-scale", "0.8" );
 &nbsp; if( stat != 0 ) {
 &nbsp;	printf( "error in ploticus setup&#92;n" );
 &nbsp;     <strong>exit</strong>(1);
 &nbsp;     }
 &nbsp; strcpy( sln, "#proc annotate" ); ploticus_execline( sln );
 &nbsp; strcpy( sln, "location: 2 2" ); ploticus_execline( sln );
 &nbsp; strcpy( sln, "text: hello" ); ploticus_execline( sln );
 &nbsp; strcpy( sln, " world." ); ploticus_execline( sln );
 &nbsp; ploticus_end();
 &nbsp; }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Multi-job example</h2>
        <div class="sectioncontent">
<p>Another included example, which invokes a series of 25+ plot jobs, is in ./src/api_test.c To build:</p>
<pre>
 &nbsp; make clean
 &nbsp; make -f Makefile_api
 &nbsp; make api_test -f Makefile_api
</pre>
<p>Then, go to the pltestsuite directory and type: ../src/api_test</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">libploticus API</h2>
        <div class="sectioncontent">
<p>ploticus_init( char *device, char *outfilename )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Initialize, read your &nbsp;ploticus config file if any, and set the output device to one of png, gif, x11, svg, jpeg, eps, or swf. (Not all devices may be available, depending on the build.) outfilename is the pathname of the file where the result will be written. Example:</p>
<pre>
 &nbsp; stat = ploticus_init( "png", "bargraph.png" );
 &nbsp; if( stat != 0 ) <em>error</em>
</pre>

  </dd>

</dl>
<p>ploticus_arg( name, value )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Specify a &nbsp;pl command line argument. name specifies the argument name and value an argument value. If there is no argument value, value should be passed as "". All arguments are supported except -f, -prefab, and -ver. If needed, this function should be called after ploticus_init() but before any other ploticus function. It may be called as many times as necessary. Example:</p>
<pre>
  &nbsp; stat = ploticus_arg( "-debug", "" );
  &nbsp; stat += ploticus_arg( "-diagfile", "stdout" );
  &nbsp; stat += ploticus_arg( "-scale", "0.8" );
  &nbsp; if( stat != 0 ) <em>error</em>
</pre>

  </dd>

</dl>
<p>ploticus_begin( )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>This function is no longer necessary.  Old code that uses it will still be OK.</p>
  </dd>

</dl>
<p>ploticus_execline( char *line )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Interpret one "raw" &nbsp;ploticus script line. Typically called multiple times, allowing ploticus scripts to be generated programatically.  Script lines can contain only these directives:  #proc,  #procdef,  #endproc,  #clone and  #saveas. You can't use set, if/else, loops, or other flow-of-control directives (but these types of things can be handled by your host application). Further, these script lines do not undergo a variable-evaluation pass, so variables cannot be referenced, and select statements (etc.) that reference data field names should use one at sign (@) instead of two (@@).  If your program needs to access a variable that has been set by the ploticus engine, use ploticus_getvar(), described below. The script line may include a trailing newline or not.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>An alternative is to use ploticus_execscript() (described below) to execute an entire script file. You can't use both ploticus_execline() and ploticus_execscript() in the same application.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>Caution</strong> As of ploticus version 2.40 string constants cannot be passed in this function.  See the example in the page intro above.</p>
  </dd>

</dl>
<p>ploticus_execscript( char *scriptfile, int prefabflag )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Interpret an entire &nbsp;ploticus script file or &nbsp;prefab. scriptfile is the name of the ploticus script file.  There are no syntax limitations as with ploticus_execline(). prefabflag is 1, then scriptfile is taken to be a &nbsp;ploticus prefab name such as vbars. If prefabflag is 0, then scriptfile should be a pathname.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>An alternative is to use ploticus_execline() (described above) to execute program-generated "raw" script lines one at a time. You can't use both ploticus_execscript() and ploticus_execline() in the same application.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Example: stat = ploticus_execscript( "vbars", 1 );</p><p>Example: stat = ploticus_execscript( "/home/steve/plfiles/myscript.pl", 0 );</p>
  </dd>

</dl>
<p>ploticus_end()</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Finish up the graphic result, write it to the output file, and free up allocated memory.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">These functions are also available:</h2>
        <div class="sectioncontent">
<p>ploticus_getvar( char *name, char *value )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Get the contents of ploticus variable name. Result is copied into value.</p><p>Example: stat = ploticus_getvar( "XFINAL", xf );</p>
  </dd>

</dl>
<p>ploticus_setvar( char *name, char *value )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Set ploticus variable name to value.</p>
  </dd>

</dl>
<p>gdImagePtr PLGG_getimg( int *width, int *height )</p>
<dl class='dl-vertical'>
  <dt>
    &nbsp;
  </dt>
  <dd>
    <p>Returns a pointer to the working GD image, for situations where the host application wants to directly issue gd drawing calls. The width and height of the working image (in pixels) are also provided.  Note that the result image is generally cropped based on the extent of ploticus drawing actions, before being written out. Only valid in applications built with GD, when ploticus was initialized with one of the GD image devices (eg. png or jpeg).</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libnetpbm9-dev-libpgm.3.html"><span aria-hidden="true">&larr;</span> libpgm.3: Functions to support portable graymap (pgm) programs</a></li>
   <li class="next"><a href="libpng.3.html">libpng.3: Portable network graphics (png) reference library 1.2.50 <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
