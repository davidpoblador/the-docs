<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pathplan: Finds and smooths shortest paths</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Finds and smooths shortest paths">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pathplan (3) manual">
  <meta name="twitter:description" content="Finds and smooths shortest paths">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgraphviz-dev-pathplan-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/pathplan.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pathplan (3) manual" />
  <meta property="og:description" content="Finds and smooths shortest paths" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgraphviz-dev-pathplan-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pathplan<small> (3)</small></h1>
        <p class="lead">Finds and smooths shortest paths</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pathplan.3.html">
      <span itemprop="name">pathplan: Finds and smooths shortest paths</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgraphviz-dev/">
      <span itemprop="name">libgraphviz-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/pathplan.3.html">
      <span itemprop="name">pathplan: Finds and smooths shortest paths</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
5
#include &lt;graphviz/pathplan.h&gt;

typedef struct Pxy_t {
    double x, y;
} Pxy_t;

typedef struct Pxy_t Ppoint_t;
typedef struct Pxy_t Pvector_t;

typedef struct Ppoly_t {
    Ppoint_t *ps;
    int pn;
} Ppoly_t;

typedef Ppoly_t Ppolyline_t;

typedef struct Pedge_t {
    Ppoint_t a, b;
} Pedge_t;

typedef struct vconfig_s vconfig_t;

#define POLYID_NONE
#define POLYID_UNKNOWN

int Pshortestpath(Ppoly_t *boundary, Ppoint_t endpoints[2], Ppolyline_t *output_route);

vconfig_t *Pobsopen(Ppoly_t **obstacles, int n_obstacles);
int Pobspath(vconfig_t *config, Ppoint_t p0, int poly0, Ppoint_t p1, int poly1, Ppolyline_t *output_route);
void Pobsclose(vconfig_t *config);

int Proutespline (Pedge_t *barriers, int n_barriers, Ppolyline_t input_route, Pvector_t endpoint_slopes[2],
	Ppolyline_t *output_route);

int Ppolybarriers(Ppoly_t **polys, int n_polys, Pedge_t **barriers, int *n_barriers);

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>libpathplan</strong> provides functions for creating spline paths in the plane that are constrained by a polygonal boundary or obstacles to avoid. All polygons must be simple, but need not be convex.</p><h3>   int Pshortestpath(Ppoly_t *boundary, Ppoint_t endpoints[2], Ppolyline_t *output_route);</h3>
<p>The function <em>Pshortestpath</em> finds a shortest path between two points in a simple polygon. The polygon is specified by a list of its vertices, in either clockwise or counterclockwise order. You pass endpoints interior to the polygon boundary. A shortest path connecting the points that remains in the polygon is returned in <em>output_route</em>.  If either endpoint does not lie in the polygon, -1 is returned; otherwise, 0 is returned on success. The array of points in <em>output_route</em> is static to the library. It should not be freed, and should be used before another call to <em>Pshortestpath</em>.</p>
<h3>    vconfig_t *Pobsopen(Ppoly_t **obstacles, int n_obstacles);</h3>

<h3>    Pobspath(vconfig_t *config, Ppoint_t p0, int poly0, Ppoint_t p1, int poly1, Ppolyline_t *output_route);</h3>

<h3>    void Pobsclose(vconfig_t *config);</h3>
<p>These functions find a shortest path between two points in the plane that contains polygonal obstacles (holes). <em>Pobsopen</em> creates a configuration (an opaque struct of type 5vconfig_t) on a set of obstacles. The <em>n_obstacles</em> obstacles are given in the array <em>obstacles</em>; the points of each polygon should be in clockwise order. The function <em>Pobsclose</em> frees the data allocated in <em>Pobsopen</em>.</p><p>5Pobspath finds a shortest path between the endpoints that remains outside the obstacles.  If the endpoints are known to lie inside obstacles, 5poly0 or 5poly1 should be set to the index in the 5obstacles array.  If an endpoint is definitely not inside an obstacle, then 5POLYID_NONE should be passed.  If the caller has not checked, then 5POLYID_UNKNOWN should be passed, and the path library will perform the test. The resulting shortest path is returned in <em>output_route</em>. Note that this function does not provide for a boundary polygon. The array of points stored in <em>output_route</em> are allocated by the library, but should be freed by the user.</p>
<h3>   int Proutespline (Pedge_t *barriers, int n_barriers, Ppolyline_t input_route, Pvector_t endpoint_slopes[2], Ppolyline_t *output_route);</h3>
<p>This function fits a cubic B-spline curve to a polyline path. The curve is constructed to avoid a set of <em>n_barriers</em> barrier line segments specified in the array <em>barriers</em>. If you start with polygonal obstacles, you can supply each polygon's edges as part of the barrier list. The polyline 5input_route provides a template for the final path; it is usually the 5output_route of one of the shortest path finders, but it can be any simple path that doesn't cross any barrier segment.  The input also allows the specification of desired slopes at the endpoints via <em>endpoint_slopes</em>. These are specified as vectors. For example, to have an angle of <em>T</em> at an endpoing, one could use <em>(cos(T),sin(T))</em>. A vector (0,0) means unconstrained slope. The output is returned in <em>output_route</em> and consists of the control points of the B-spline. The function return 0 on success; a return value of -1 indicates failure. The array of points in <em>output_route</em> is static to the library. It should not be freed, and should be used before another call to <em>Proutespline</em>.</p>
<h3>   int Ppolybarriers(Ppoly_t **polys, int n_polys, Pedge_t **barriers, int *n_barriers);</h3>
<p>This is a utility function that converts an input list of polygons into an output list of barrier segments. The array of points in <em>barriers</em> is static to the library. It should not be freed, and should be used before another call to <em>Ppolybarriers</em>. The function returns 1 on success.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The function <em>Proutespline</em> does not guarantee that it will preserve the topology of the input path as regards the boundaries. For example, if some of the segments correspond to a small polygon, it may be possible that the final path has flipped over the obstacle.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>David Dobkin (dpd@cs.princeton.edu), Eleftherios Koutsofios (ek@research.att.com), Emden Gansner (erg@research.att.com).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pathconf.3.html"><span aria-hidden="true">&larr;</span> pathconf.3: Get configuration values for files</a></li>
   <li class="next"><a href="pathtools.3.html">pathtools.3: Pathtools documentation  python api library for common path and pattern functionality. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
