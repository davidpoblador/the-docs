<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Locale::Po4a::Man.pm: Convert manual pages from/to po files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert manual pages from/to po files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Locale::Po4a::Man.pm (3pm) manual">
  <meta name="twitter:description" content="Convert manual pages from/to po files">
  <meta name="twitter:image" content="https://www.carta.tech/images/po4a-Locale::Po4a::Man.pm-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Locale::Po4a::Man.pm.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Locale::Po4a::Man.pm (3pm) manual" />
  <meta property="og:description" content="Convert manual pages from/to po files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/po4a-Locale::Po4a::Man.pm-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Locale::Po4a::Man.pm<small> (3pm)</small></h1>
        <p class="lead">Convert manual pages from/to po files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Locale::Po4a::Man.pm.3pm.html">
      <span itemprop="name">Locale::Po4a::Man.pm: Convert manual pages from/to po files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/po4a/">
      <span itemprop="name">po4a</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Locale::Po4a::Man.pm.3pm.html">
      <span itemprop="name">Locale::Po4a::Man.pm: Convert manual pages from/to po files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The po4a (\s-1PO\s0 for anything) project goal is to ease translations (and more interestingly, the maintenance of translations) using gettext tools on areas where they were not expected like documentation.</p><p>Locale::Po4a::Man is a module to help the translation of documentation in the nroff format (the language of manual pages) into other [human] languages.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TRANSLATING WITH PO4A::MAN</h2>
        <div class="sectioncontent">
<p>This module tries pretty hard to make translator's life easier. For that, the text presented to translators isn't a verbatim copy of the text found in the man page. Indeed, the cruder parts of the nroff format are hidden, so that translators can't mess up with them.</p><h3>Text wrapping</h3>
<p>Unindented paragraphs are automatically rewrapped for the translator.  This can lead to some minor difference in the generated output, since the rewrapping rules used by groff aren't very clear. For example, two spaces after a parenthesis are sometimes preserved.</p><p>Anyway, the difference will only be about the position of the extra spaces in wrapped paragraph, and I think it's worth.</p>
<h3>Font specification</h3>
<p>The first change is about font change specifications.  In nroff, there are several ways to specify if a given word should be written in small, bold or italics. In the text to translate, there is only one way, borrowed from the \s-1POD\s0 (Perl online documentation) format:</p>
<dl class='dl-vertical'>
  <dt>
    I&lt;text&gt; \*(-- italic text
  </dt>
  <dd>
    <p>equivalent to &#92;fItext&#92;fP or \*(L".I text\*(R"</p>
  </dd>
  <dt>
    B&lt;text&gt; \*(-- bold text
  </dt>
  <dd>
    <p>equivalent to &#92;fBtext&#92;fP or \*(L".B text\*(R"</p>
  </dd>
  <dt>
    R&lt;text&gt; \*(-- roman text
  </dt>
  <dd>
    <p>equivalent to &#92;fRtext&#92;fP</p>
  </dd>
  <dt>
    CW&lt;text&gt; \*(-- constant width text
  </dt>
  <dd>
    <p>equivalent to &#92;f(CWtext&#92;fP or \*(L".CW text\*(R"</p>
  </dd>

</dl>
<p>Remark: The \s-1CW\s0 face is not available for all groff devices. It is not recommended to use it. It is provided for your convenience.</p>
<h3>Automatic characters transliteration</h3>
<p>Po4a automatically transliterate some characters to ease the translation or the review of the translation. Here is the list of the transliterations:</p>
<dl class='dl-vertical'>
  <dt>
    hyphens
  </dt>
  <dd>
    <p>Hyphens (-) and minus signs (&#92;-) in man pages are all transliterated as simple dashes (-) in the \s-1PO\s0 file.  Then all dash are transliterated into roff minus signs (&#92;-) when the translation is inserted into the output document. Translators can force an hyphen by using the roff glyph '&#92;[hy]' in their translations.</p>
  </dd>
  <dt>
    non-breaking spaces
  </dt>
  <dd>
    <p>Translators can use non-breaking spaces in their translations.  These non-breaking spaces (0xA0 in latin1) will be transliterated into a roff non-breaking space ('&#92; ').</p>
  </dd>
  <dt>
    quotes transliterations
  </dt>
  <dd>
    <p>`` and '' are respectively tranliterated into &#92;*(lq and &#92;*(rq. To avoid these transliterations, translators can insert a zero width roff character (i.e., using `&#92;&` or '&#92;&' respectively).</p>
  </dd>

</dl>

<h3>Putting '&lt;' and '&gt;' in translations</h3>
<p>Since these chars are used to delimit parts under font modification, you can't use them verbatim. Use E&lt;lt&gt; and E&lt;gt&gt; instead (as in \s-1POD\s0, one more time).</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS ACCEPTED BY THIS MODULE</h2>
        <div class="sectioncontent">
<p>These are this module's particular options:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>debug</strong>
  </dt>
  <dd>
    <p>Activate debugging for some internal mechanisms of this module. Use the source to see which parts can be debugged.</p>
  </dd>
  <dt>
    <strong>verbose</strong>
  </dt>
  <dd>
    <p>Increase verbosity.</p>
  </dd>
  <dt>
    <strong>groff_code</strong>
  </dt>
  <dd>
    <p>This option permits to change the behavior of the module when it encounter a .de, .ie or .if section. It can take the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <em>fail</em>
  </dt>
  <dd>
    <p>This is the default value. The module will fail when a .de, .ie or .if section is encountered.</p>
  </dd>
  <dt>
    <em>verbatim</em>
  </dt>
  <dd>
    <p>Indicates that the .de, .ie or .if sections must be copied as is from the original to the translated document.</p>
  </dd>
  <dt>
    <em>translate</em>
  </dt>
  <dd>
    <p>Indicates that the .de, .ie or .if sections will be proposed for the translation. You should only use this option if a translatable string is contained in one of these section. Otherwise, <em>verbatim</em> should be preferred.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>generated</strong>
  </dt>
  <dd>
    <p>This option specifies that the file was generated, and that po4a should not try to detect if the man pages was generated from another format. This permits to use po4a on generated man pages. This option does not take any argument.</p>
  </dd>
  <dt>
    <strong>mdoc</strong>
  </dt>
  <dd>
    <p>This option is only useful for mdoc pages. It selects a stricter support of the mdoc format by telling po4a not to translate the '\s-1NAME\s0' section. mdoc pages whose '\s-1NAME\s0' section is translated won't generate any header or footer. According to the groff_mdoc page, the \s-1NAME\s0, \s-1SYNOPSIS\s0 and \s-1DESCRIPTION\s0 sections are mandatory. There are no known issues with translated \s-1SYNOPSIS\s0 or \s-1DESCRIPTION\s0 section, but you can also specify these sections this way:  -o mdoc=NAME,SYNOPSIS,DESCRIPTION This mdoc issue can also be solved with an addendum like this one:  PO4A-HEADER:mode=before;position=^.Dd  .TH \s-1DOCUMENT_TITLE\s0 1 \*(L"Month day, year\*(R" \s-1OS\s0 \*(L"Section Name\*(R"</p>
  </dd>

</dl>
<p>The following options permit to specify the behavior of a new macro (defined with a .de request), or of a macro not supported by po4a. They take as argument a comma-separated list of macros. For example:</p>
<pre>
 -o noarg=FO,OB,AR -o translate_joined=BA,ZQ,UX
</pre>
<p>Note: if a macro is not supported by po4a and if you consider that it is a standard roff macro, you should submit it to the po4a development team.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>untranslated</strong>
  </dt>
  <dd>
    <p><strong>untranslated</strong> indicates that this macro (at its arguments) don't have to be translated.</p>
  </dd>
  <dt>
    <strong>noarg</strong>
  </dt>
  <dd>
    <p><strong>noarg</strong> is like <strong>untranslated</strong>, except that po4a will verify that no argument is added to this macro.</p>
  </dd>
  <dt>
    <strong>translate_joined</strong>
  </dt>
  <dd>
    <p><strong>translate_joined</strong> indicates that po4a must propose to translate the arguments of the macro.</p>
  </dd>
  <dt>
    <strong>translate_each</strong>
  </dt>
  <dd>
    <p>With <strong>translate_each</strong>, the arguments will also be proposed for the translation, except that each one will be translated separately.</p>
  </dd>
  <dt>
    <strong>no_wrap</strong>
  </dt>
  <dd>
    <p>This option takes as argument a list of comma-separated couples <em>begin</em>:<em>end</em>, where <em>begin</em> and <em>end</em> are commands that delimit the begin and end of a section that should not be rewrapped. Note: no test is done to ensure that an <em>end</em> command matches its <em>begin</em> command; any ending command stop the no_wrap mode. If you have a <em>begin</em> (respectively <em>end</em>) macro that has no <em>end</em> (respectively <em>begin</em>), you can specify an existing <em>end</em> (like fi) or <em>begin</em> (like nf) as a counterpart. These macros (and their arguments) wont be translated.</p>
  </dd>
  <dt>
    <strong>inline</strong>
  </dt>
  <dd>
    <p>This option specifies a list of comma-separated macros that must not split the current paragraph. The string to translate will then contain <em>foo &lt;.bar baz qux&gt; quux</em>, where <em>bar</em> is the command that should be inlined, and <em>baz qux</em> its arguments.</p>
  </dd>
  <dt>
    <strong>unknown_macros</strong>
  </dt>
  <dd>
    <p>This option indicates how po4a should behave when an unknown macro is found. By default, po4a fails with a warning. It can take the following values: <strong>failed</strong> (the default value), <strong>untranslated</strong>, <strong>noarg</strong>, <strong>translate_joined</strong>, or <strong>translate_each</strong> (see above for an explanation of these values).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORING MAN PAGES COMPLIANT WITH PO4A::MAN</h2>
        <div class="sectioncontent">
<p>This module is still very limited, and will always be, because it's not a real nroff interpreter. It would be possible to do a real nroff interpreter, to allow authors to use all the existing macros, or even to define new ones in their pages, but we didn't want to. It would be too difficult, and we thought it wasn't necessary. We do think that if manpages' authors want to see their productions translated, they may have to adapt to ease the work of translators.</p><p>So, the man parser implemented in po4a have some known limitations we are not really inclined to correct, and which will constitute some pitfalls you'll have to avoid if you want to see translators taking care of your documentation.</p><h3>Don't program in nroff</h3>
<p>nroff is a complete programming language, with macro definition, conditionals and so on. Since this parser isn't a fully featured nroff interpreter, it will fail on pages using these facilities (There are about 200 such pages on my box).</p>
<h3>Use the plain macro set</h3>
<p>There are still some macros which are not supported by po4a::man. This is only because I failed to find any documentation about them. Here is the list of unsupported macros used on my box. Note that this list isn't exhaustive since the program fails on the first encountered unsupported macro. If you have any information about some of these macros, I'll happily add support for them. Because of these macros, about 250 pages on my box are inaccessible to po4a::man.</p><p> ..               ."              .AT             .b              .bank  .BE              ..br            .Bu             .BUGS           .BY  .ce              .dbmmanage      .do                             .En  .EP              .EX             .Fi             .hw             .i  .Id              .l              .LO             .mf  .N               .na             .NF             .nh             .nl  .Nm              .ns             .NXR            .OPTIONS        .PB  .pp              .PR             .PRE            .PU             .REq  .RH              .rn             .S&lt;             .sh             .SI  .splitfont       .Sx             .T              .TF             .The  .TT              .UC             .ul             .Vb             .zZ</p>
<h3>Hiding text from po4a</h3>
<p>Sometimes, the author knows that some parts are not translatable, and should not be extracted by po4a. For example, an option may accept an <em>other</em> argument, and <em>other</em> may also appear as the last item of a list. In the first case, <em>other</em> should be not be translatable. And in the second case, <em>other</em> should be translated.</p><p>In such case, the author can avoid po4a to extract some strings, using some special groff constructs:</p><p> .if !&apos;po4a&apos;hide&apos; .B other</p><p>(this will require the <strong>-o groff_code=verbatim</strong> option)</p><p>A new macro can also be defined to automate this:  .de IR_untranslated  .    \s-1IR\s0 &#92;&#92;$@  ..</p><p> .IR_untranslated &#92;-q ", " &#92;-&#92;-quiet</p><p>(this will require the options <strong>-o groff_code=verbatim</strong> and <strong>-o untranslated=IR_untranslated</strong>; with this construct, the <strong>.if</strong> !'po4a'hide' conditional is not strictly needed since po4a will not parse the internal of the macro definition)</p><p>or using an alias:  .als IR_untranslated \s-1IR\s0</p><p> .IR_untranslated &#92;-q ", " &#92;-&#92;-quiet</p><p>(this will require the <strong>-o untranslated=als,IR_untranslated</strong> option)</p>
<h3>Conclusion</h3>
<p>To summarise this section, keep simple, and don't try to be clever while authoring your man pages. A lot of things are possible in nroff, and not supported by this parser. For example, don't try to mess with &#92;c to interrupt the text processing (like 40 pages on my box do). Or, be sure to put the macro arguments on the same line that the macro itself. I know that it's valid in nroff, but would complicate too much the parser to be handled.</p><p>Of course, another possibility is to use another format, more translator friendly (like \s-1POD\s0 using po4a::pod, or one of the \s-1XML\s0 familly like \s-1SGML\s0), but thanks to po4a::man it isn't needed anymore. That being said, if the source format of your documentation is \s-1POD\s0, or \s-1XML\s0, it may be clever to translate the source format and not this generated one. In most cases, po4a::man will detect generated pages and issue a warning. It will even refuse to process \s-1POD\s0 generated pages, because those pages are perfectly handled by po4a::pod, and because their nroff counterpart defines a lot of new macros I didn't want to write support for. On my box, 1432 of the 4323 pages are generated from \s-1POD\s0 and will be ignored by po4a::man.</p><p>In most cases, po4a::man will detect the problem and refuse to process the page, issuing an adapted message. In some rare cases, the program will complete without warning, but the output will be wrong. Such cases are called \*(L"bugs\*(R" ;) If you encounter such case, be sure to report this, along with a fix when possible...</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STATUS OF THIS MODULE</h2>
        <div class="sectioncontent">
<p>This module can be used for most of the existing man pages.</p><p>Some tests are regularly run on Linux boxes:</p><ul>
<li><p>one third of the pages are refused because they were generated from another format supported by po4a (e.g. \s-1POD\s0 or \s-1SGML\s0).</p></li><li><p>10% of the remaining pages are rejected with an error (e.g. a groff macro is not supported).</p></li><li><p>Then, less than 1% of the pages are accepted silently by po4a, but with significant issues (i.e. missing words, or new words inserted)</p></li><li><p>The other pages are usually handled without differences more important than spacing differences or line rewrapped (font issues in less than 10% of the processed pages).</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Locale::Po4a::Man.pm&hellip;</h2>
        <div class="sectioncontent">
<p><em>Locale::Po4a::Pod</em>\|(3pm), <em>Locale::Po4a::TransTractor</em>\|(3pm), <em>po4a</em>\|(7)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p> Denis Barbier &lt;barbier@linuxfr.org&gt;  Nicolas François &lt;nicolas.francois@centraliens.net&gt;  Martin Quinson (mquinson#debian.org)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright 2002-2008 by \s-1SPI\s0, inc.</p><p>This program is free software; you may redistribute it and/or modify it under the terms of \s-1GPL\s0 (see the \s-1COPYING\s0 file).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Locale::Po4a::Man.3pm.html"><span aria-hidden="true">&larr;</span> Locale::Po4a::Man.3pm: Convert manual pages from/to po files</a></li>
   <li class="next"><a href="Locale::Po4a::Po.3pm.html">Locale::Po4a::Po.3pm: Po file manipulation module <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
