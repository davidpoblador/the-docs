<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CGI::Application::Plugin::Config::Simple: Add config::simple support to cgi::application</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Add config::simple support to cgi::application">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="CGI::Application::Plugin::Config::Simple (3pm) manual">
  <meta name="twitter:description" content="Add config::simple support to cgi::application">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcgi-application-plugin-config-simple-perl-CGI::Application::Plugin::Config::Simple-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/CGI::Application::Plugin::Config::Simple.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="CGI::Application::Plugin::Config::Simple (3pm) manual" />
  <meta property="og:description" content="Add config::simple support to cgi::application" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcgi-application-plugin-config-simple-perl-CGI::Application::Plugin::Config::Simple-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">CGI::Application::Plugin::Config::Simple<small> (3pm)</small></h1>
        <p class="lead">Add config::simple support to cgi::application</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CGI::Application::Plugin::Config::Simple.3pm.html">
      <span itemprop="name">CGI::Application::Plugin::Config::Simple: Add config::simple support to cgi::application</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcgi-application-plugin-config-simple-perl/">
      <span itemprop="name">libcgi-application-plugin-config-simple-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/CGI::Application::Plugin::Config::Simple.3pm.html">
      <span itemprop="name">CGI::Application::Plugin::Config::Simple: Add config::simple support to cgi::application</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>in your CGI::Application based module</p>
<pre>
        use CGI::Application::Plugin::Config::Simple;

    sub cgiapp_init {
          my $self = shift;
          #set my config file
          $self-&gt;config_file(&apos;myapp.conf&apos;);

          #
          #do other stuff
          #
        }

        #later on in a run mode
        sub run_mode1 {
          my $self = shift;

          #just get a single parameter from my config file
          my $value = $self-&gt;config_param(&apos;my_param&apos;);

          #get a parameter in a block (if using ini style files)
          $value = $self-&gt;config_param(&apos;my_block.my_param&apos;);

          #the entire config hash reference
          my $config_vars = $self-&gt;config_param();

          #get my Config::Simple object for direct access
          my $config = $self-&gt;config;
        }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module acts as a plugin for Config::Simple to be easily used inside of a CGI::Application module. It does not provide every method available from Config::Simple but rather easy access to your configuration variables. It does however provide direct access to the underlying Config::General object created if you want to use it's full power.</p><p>The module tries to make the getting and setting of configuration variables as easy as possible. Only three methods are exported into your CGI::Application module and they are described below.</p><p>Before I wrote this module sometimes I would put my code that read in the configuration file into the <em>cgiapp_init()</em> or <em>cgiapp_prerun()</em> methods but then if I had a run mode that didn't need those config variables it was run anyway. This module helps to solve this is. The Config::Simple object is not created (and the config file is not read and parsed) until after your first call to <em>config()</em> or <em>config_param()</em> to either retrieve/set values, or get the Config::Simple object. This lazy loading idea came from Cees Hek's CGI::Application::Plugin::Session module.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>\fIconfig_param()\fP</h3>
<p>This method acts as an accessor/mutator for configuration variables coming from the configuration file.</p><p>This method will behave in three different ways depending on how many parameters it is passed. If 0 parameters are passed then the entire config structure will be returned as a hash ref. If 1 parameters is passed then the value of that parameter in the config file will be returned. If more than 1 parameter is passed then it will treat them as name value pairs and will set the parameters in the config file accordingly. In this case, if we successfully set the parameters then a true value will be returned.</p><p>        #get the complete config hash         my $config_hash = $self-&gt;config_param();         #just get one config value         my $value = $self-&gt;config_param($parameter);         #set multiple config values         my $success = $self-&gt;config_param(param1 =&gt; $value1, param2 =&gt; $value2);</p><p>This method uses Config::Simple so if you are using ini-files then you can set the values of variables inside blocks as well using the '.' notation. See Config::Simple;</p><p>You must set the name of the configuration file either using the <em>config_file()</em> method or the \s-1CGIAPP_CONFIG_FILE\s0 environment variable before calling this method or it will 'die'.</p>
<h3>\fIconfig()\fP</h3>
<p>This method will return the underlying Config::Simple object for more direct use by your application. You must set the name of the configuration file either using the <em>config_file()</em> method or the \s-1CGIAPP_CONFIG_FILE\s0 environment variable before calling this method or it will 'die'.</p><p>        my $conf = $self-&gt;config();</p>
<h3>config_file([$file_name])</h3>
<p>This method acts as an accessor/mutator to either get the name of the current config file or to change/initialize it. This method must be called to initialize the name of the config file before any call can be made to either <em>config()</em> or <em>config_param()</em> unless the '\s-1CGIAPP_CONFIG_FILE\s0' environment variable has been set. If this environment variable is set it will be used as the initial value of the config file. This is useful if we are running in a mod_perl environment when can use a statement like this in your httpd.conf file:</p><p>        PerlSetEnv  CGIAPP_CONFIG_FILE  /path/to/my/conf</p><p>It is typical to set the name of the config file in the <em>cgiapp_init()</em> phase of your application.</p><p>If a value is passed as a parameter then the config file with that name is used. It will always return the name of the current config file.</p><p>        #get the value of the CGIAPP_CONFIG_FILE environment variable (if there is one)         #since we haven&apos;t set the config file&apos;s name with config_file() yet.         my $file_name = $self-&gt;config_file();</p><p>        #set the config file&apos;s name         $self-&gt;config_file(&apos;myapp.conf&apos;);</p><p>        #get the name of the config file         $file_name = $self-&gt;config_file();</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>The CGI::Application object is implemented as a hash and we store the variables used by this module's methods inside of it as a hash named _\|_CONFIG_SIMPLE. If you use any other CGI::Application plugins there would be problems if they also used $self-&gt;{_\|_CONFIG_SIMPLE} but in practice this should never actually happen.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Michael Peters &lt;mpeters@plusthree.com&gt;</p><p>Thanks to Plus Three, \s-1LP\s0 (http://www.plusthree.com) for sponsoring my work on this module</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO CGI::Application::Plugin::Config::Simple&hellip;</h2>
        <div class="sectioncontent">
<ul>
<li><p>CGI::Application</p></li><li><p>Config::Simple</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="CGI::Application::Plugin::CAPTCHA.3pm.html"><span aria-hidden="true">&larr;</span> CGI::Application::Plugin::CAPTCHA.3pm: Easily create, use, and verify captchas in cgi::application-based web applications.</a></li>
   <li class="next"><a href="CGI::Application::Plugin::ConfigAuto.3pm.html">CGI::Application::Plugin::ConfigAuto.3pm: Easy config file management for cgi::application <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
