<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gb_sets: General balanced trees</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="General balanced trees">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gb_sets (3erl) manual">
  <meta name="twitter:description" content="General balanced trees">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-gb_sets-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/gb_sets.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gb_sets (3erl) manual" />
  <meta property="og:description" content="General balanced trees" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-gb_sets-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gb_sets<small> (3erl)</small></h1>
        <p class="lead">General balanced trees</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/gb_sets.3erl.html">
      <span itemprop="name">gb_sets: General balanced trees</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/gb_sets.3erl.html">
      <span itemprop="name">gb_sets: General balanced trees</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>An implementation of ordered sets using Prof. Arne Andersson's General Balanced Trees. This can be much more efficient than using ordered lists, for larger sets, but depends on the application.</p><p>This module considers two elements as different if and only if they do not compare equal (<em>==</em>).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPLEXITY NOTE</h2>
        <div class="sectioncontent">
<p>The complexity on set operations is bounded by either O(|S|) or O(|T| * log(|S|)), where S is the largest given set, depending on which is fastest for any particular function call. For operating on sets of almost equal size, this implementation is about 3 times slower than using ordered-list sets directly. For sets of very different sizes, however, this solution can be arbitrarily much faster; in practical cases, often between 10 and 100 times. This implementation is particularly suited for accumulating elements a few at a time, building up a large set (more than 100-200 elements), and repeatedly testing for membership in the current set.</p><p>As with normal tree structures, lookup (membership testing), insertion and deletion have logarithmic complexity.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p>All of the following functions in this module also exist and do the same thing in the <em>sets</em> and <em>ordsets</em> modules. That is, by only changing the module name for each call, you can try out different set representations.</p>
<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>add_element/2</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>del_element/2</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>filter/2</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>fold/3</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>from_list/1</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>intersection/1</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>intersection/2</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>is_element/2</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>is_set/1</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>is_subset/2</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>new/0</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>size/1</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>subtract/2</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>to_list/1</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>union/1</em></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>union/2</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATA TYPES</h2>
        <div class="sectioncontent">

<pre>
<strong>set(Element)</strong>

</pre>
<p>A GB set.</p>
<pre>
<strong>set()</strong>

</pre>
<p><em>set()</em> is equivalent to <em>set(term())</em>.</p>
<pre>
<strong>iter(Element)</strong>

</pre>
<p>A GB set iterator.</p>
<pre>
<strong>iter()</strong>

</pre>
<p><em>iter()</em> is equivalent to <em>iter(term())</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">

<pre>
<strong></strong>
add(Element, Set1) -&gt; Set2

</pre>

<pre>
<strong></strong>
add_element(Element, Set1) -&gt; Set2

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns a new set formed from <em>Set1</em> with <em>Element</em> inserted. If <em>Element</em> is already an element in <em>Set1</em>, nothing is changed.</p>
<pre>
<strong></strong>
balance(Set1) -&gt; Set2

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Rebalances the tree representation of <em>Set1</em>. Note that this is rarely necessary, but may be motivated when a large number of elements have been deleted from the tree without further insertions. Rebalancing could then be forced in order to minimise lookup times, since deletion only does not rebalance the tree.</p>
<pre>
<strong></strong>
delete(Element, Set1) -&gt; Set2

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns a new set formed from <em>Set1</em> with <em>Element</em> removed. Assumes that <em>Element</em> is present in <em>Set1</em>.</p>
<pre>
<strong></strong>
delete_any(Element, Set1) -&gt; Set2

</pre>

<pre>
<strong></strong>
del_element(Element, Set1) -&gt; Set2

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns a new set formed from <em>Set1</em> with <em>Element</em> removed. If <em>Element</em> is not an element in <em>Set1</em>, nothing is changed.</p>
<pre>
<strong></strong>
difference(Set1, Set2) -&gt; Set3

</pre>

<pre>
<strong></strong>
subtract(Set1, Set2) -&gt; Set3

</pre>
<p>Types:</p><p>Set1 = Set2 = Set3 = <strong>set</strong>(Element)</p><p>Returns only the elements of <em>Set1</em> which are not also elements of <em>Set2</em>.</p>
<pre>
<strong></strong>
empty() -&gt; Set

</pre>

<pre>
<strong></strong>
new() -&gt; Set

</pre>
<p>Types:</p><p>Set = <strong>gb_sets:set()</strong></p><p>Returns a new empty set.</p>
<pre>
<strong></strong>
filter(Pred, Set1) -&gt; Set2

</pre>
<p>Types:</p><p>Pred = fun((Element) -&gt; boolean())</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Filters elements in <em>Set1</em> using predicate function <em>Pred</em>.</p>
<pre>
<strong></strong>
fold(Function, Acc0, Set) -&gt; Acc1

</pre>
<p>Types:</p><p>Function = fun((Element, AccIn) -&gt; AccOut)</p><p>Acc0 = Acc1 = AccIn = AccOut = Acc</p><p>Set = <strong>set</strong>(Element)</p><p>Folds <em>Function</em> over every element in <em>Set</em> returning the final value of the accumulator.</p>
<pre>
<strong></strong>
from_list(List) -&gt; Set

</pre>
<p>Types:</p><p>List = [Element]</p><p>Set = <strong>set</strong>(Element)</p><p>Returns a set of the elements in <em>List</em>, where <em>List</em> may be unordered and contain duplicates.</p>
<pre>
<strong></strong>
from_ordset(List) -&gt; Set

</pre>
<p>Types:</p><p>List = [Element]</p><p>Set = <strong>set</strong>(Element)</p><p>Turns an ordered-set list <em>List</em> into a set. The list must not contain duplicates.</p>
<pre>
<strong></strong>
insert(Element, Set1) -&gt; Set2

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns a new set formed from <em>Set1</em> with <em>Element</em> inserted. Assumes that <em>Element</em> is not present in <em>Set1</em>.</p>
<pre>
<strong></strong>
intersection(Set1, Set2) -&gt; Set3

</pre>
<p>Types:</p><p>Set1 = Set2 = Set3 = <strong>set</strong>(Element)</p><p>Returns the intersection of <em>Set1</em> and <em>Set2</em>.</p>
<pre>
<strong></strong>
intersection(SetList) -&gt; Set

</pre>
<p>Types:</p><p>SetList = [<strong>set</strong>(Element), ...]</p><p>Set = <strong>set</strong>(Element)</p><p>Returns the intersection of the non-empty list of sets.</p>
<pre>
<strong></strong>
is_disjoint(Set1, Set2) -&gt; boolean()

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns <em>true</em> if <em>Set1</em> and <em>Set2</em> are disjoint (have no elements in common), and <em>false</em> otherwise.</p>
<pre>
<strong></strong>
is_empty(Set) -&gt; boolean()

</pre>
<p>Types:</p><p>Set = <strong>gb_sets:set()</strong></p><p>Returns <em>true</em> if <em>Set</em> is an empty set, and <em>false</em> otherwise.</p>
<pre>
<strong></strong>
is_member(Element, Set) -&gt; boolean()

</pre>

<pre>
<strong></strong>
is_element(Element, Set) -&gt; boolean()

</pre>
<p>Types:</p><p>Set = <strong>set</strong>(Element)</p><p>Returns <em>true</em> if <em>Element</em> is an element of <em>Set</em>, otherwise <em>false</em>.</p>
<pre>
<strong></strong>
is_set(Term) -&gt; boolean()

</pre>
<p>Types:</p><p>Term = term()</p><p>Returns <em>true</em> if <em>Term</em> appears to be a set, otherwise <em>false</em>.</p>
<pre>
<strong></strong>
is_subset(Set1, Set2) -&gt; boolean()

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns <em>true</em> when every element of <em>Set1</em> is also a member of <em>Set2</em>, otherwise <em>false</em>.</p>
<pre>
<strong></strong>
iterator(Set) -&gt; Iter

</pre>
<p>Types:</p><p>Set = <strong>set</strong>(Element)</p><p>Iter = <strong>iter</strong>(Element)</p><p>Returns an iterator that can be used for traversing the entries of <em>Set</em>; see <em>next/1</em>. The implementation of this is very efficient; traversing the whole set using <em>next/1</em> is only slightly slower than getting the list of all elements using <em>to_list/1</em> and traversing that. The main advantage of the iterator approach is that it does not require the complete list of all elements to be built in memory at one time.</p>
<pre>
<strong></strong>
largest(Set) -&gt; Element

</pre>
<p>Types:</p><p>Set = <strong>set</strong>(Element)</p><p>Returns the largest element in <em>Set</em>. Assumes that <em>Set</em> is nonempty.</p>
<pre>
<strong></strong>
next(Iter1) -&gt; {Element, Iter2} | none

</pre>
<p>Types:</p><p>Iter1 = Iter2 = <strong>iter</strong>(Element)</p><p>Returns <em>{Element, Iter2}</em> where <em>Element</em> is the smallest element referred to by the iterator <em>Iter1</em>, and <em>Iter2</em> is the new iterator to be used for traversing the remaining elements, or the atom <em>none</em> if no elements remain.</p>
<pre>
<strong></strong>
singleton(Element) -&gt; set(Element)

</pre>
<p>Returns a set containing only the element <em>Element</em>.</p>
<pre>
<strong></strong>
size(Set) -&gt; integer() &gt;= 0

</pre>
<p>Types:</p><p>Set = <strong>gb_sets:set()</strong></p><p>Returns the number of elements in <em>Set</em>.</p>
<pre>
<strong></strong>
smallest(Set) -&gt; Element

</pre>
<p>Types:</p><p>Set = <strong>set</strong>(Element)</p><p>Returns the smallest element in <em>Set</em>. Assumes that <em>Set</em> is nonempty.</p>
<pre>
<strong></strong>
take_largest(Set1) -&gt; {Element, Set2}

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns <em>{Element, Set2}</em>, where <em>Element</em> is the largest element in <em>Set1</em>, and <em>Set2</em> is this set with <em>Element</em> deleted. Assumes that <em>Set1</em> is nonempty.</p>
<pre>
<strong></strong>
take_smallest(Set1) -&gt; {Element, Set2}

</pre>
<p>Types:</p><p>Set1 = Set2 = <strong>set</strong>(Element)</p><p>Returns <em>{Element, Set2}</em>, where <em>Element</em> is the smallest element in <em>Set1</em>, and <em>Set2</em> is this set with <em>Element</em> deleted. Assumes that <em>Set1</em> is nonempty.</p>
<pre>
<strong></strong>
to_list(Set) -&gt; List

</pre>
<p>Types:</p><p>Set = <strong>set</strong>(Element)</p><p>List = [Element]</p><p>Returns the elements of <em>Set</em> as a list.</p>
<pre>
<strong></strong>
union(Set1, Set2) -&gt; Set3

</pre>
<p>Types:</p><p>Set1 = Set2 = Set3 = <strong>set</strong>(Element)</p><p>Returns the merged (union) set of <em>Set1</em> and <em>Set2</em>.</p>
<pre>
<strong></strong>
union(SetList) -&gt; Set

</pre>
<p>Types:</p><p>SetList = [<strong>set</strong>(Element), ...]</p><p>Set = <strong>set</strong>(Element)</p><p>Returns the merged (union) set of the list of sets.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gb_sets&hellip;</h2>
        <div class="sectioncontent">
<p><strong>gb_trees(3erl)</strong>, <strong>ordsets(3erl)</strong>, <strong>sets(3erl)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ftp.3erl.html"><span aria-hidden="true">&larr;</span> ftp.3erl: A file transfer protocol client</a></li>
   <li class="next"><a href="gb_trees.3erl.html">gb_trees.3erl: General balanced trees <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
