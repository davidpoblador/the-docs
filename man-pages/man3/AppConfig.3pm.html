<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AppConfig: Perl5 module for reading configuration files and parsing command line arguments.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl5 module for reading configuration files and parsing command line arguments.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="AppConfig (3pm) manual">
  <meta name="twitter:description" content="Perl5 module for reading configuration files and parsing command line arguments.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libappconfig-perl-AppConfig-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/AppConfig.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="AppConfig (3pm) manual" />
  <meta property="og:description" content="Perl5 module for reading configuration files and parsing command line arguments." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libappconfig-perl-AppConfig-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">AppConfig<small> (3pm)</small></h1>
        <p class="lead">Perl5 module for reading configuration files and parsing command line arguments.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/AppConfig.3pm.html">
      <span itemprop="name">AppConfig: Perl5 module for reading configuration files and parsing command line arguments.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libappconfig-perl/">
      <span itemprop="name">libappconfig-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/AppConfig.3pm.html">
      <span itemprop="name">AppConfig: Perl5 module for reading configuration files and parsing command line arguments.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use AppConfig;

    # create a new AppConfig object
    my $config = AppConfig-&gt;new( &#92;%cfg );

    # define a new variable
    $config-&gt;define( $varname =&gt; &#92;%varopts );

    # create/define combined
    my $config = AppConfig-&gt;new( &#92;%cfg,
        $varname =&gt; &#92;%varopts,
        $varname =&gt; &#92;%varopts,
        ...
    );

    # set/get the value
    $config-&gt;set( $varname, $value );
    $config-&gt;get($varname);

    # shortcut form
    $config-&gt;varname($value);
    $config-&gt;varname;

    # read configuration file
    $config-&gt;file($file);

    # parse command line options
    $config-&gt;args(&#92;@args);      # default to &#92;@ARGV

    # advanced command line options with Getopt::Long
    $config-&gt;getopt(&#92;@args);    # default to &#92;@ARGV

    # parse CGI parameters (GET method)
    $config-&gt;cgi($query);       # default to $ENV{ QUERY_STRING }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW</h2>
        <div class="sectioncontent">
<p>AppConfig is a Perl5 module for managing application configuration information.  It maintains the state of any number of variables and provides methods for parsing configuration files, command line arguments and \s-1CGI\s0 script parameters.</p><p>Variables values may be set via configuration files.  Variables may be flags (On/Off), take a single value, or take multiple values stored as a list or hash.  The number of arguments a variable expects is determined by its configuration when defined.</p><p>    # flags     verbose     nohelp     debug = On</p><p>    # single value     home  = /home/abw/</p><p>    # multiple list value     file = /tmp/file1     file = /tmp/file2</p><p>    # multiple hash value     book  camel = Programming Perl     book  llama = Learning Perl</p><p>The '-' prefix can be used to reset a variable to its default value and the '+' prefix can be used to set it to 1</p><p>    -verbose     +debug</p><p>Variable, environment variable and tilde (home directory) expansions can be applied (selectively, if necessary) to the values read from configuration files:</p><p>    home = ~                    # home directory     nntp = ${NNTPSERVER}        # environment variable     html = $home/html           # internal variables     img  = $html/images</p><p>Configuration files may be arranged in blocks as per the style of Win32 \*(L"\s-1INI\s0\*(R" files.</p><p>    [file]     site = kfs     src  = ~/websrc/docs/$site     lib  = ~/websrc/lib     dest = ~/public_html/$site</p><p>    [page]     header = $lib/header     footer = $lib/footer</p><p>You can also use Perl's \*(L"heredoc\*(R" syntax to define a large block of text in a configuration file.</p><p>    multiline = &lt;&lt;FOOBAR     line 1     line 2     FOOBAR</p><p>    paths  exe  = "${PATH}:${HOME}/.bin"     paths  link = &lt;&lt;&apos;FOO&apos;     ${LD_LIBARRAY_PATH}:${HOME}/lib     FOO</p><p>Variables may also be set by parsing command line arguments.</p><p>    myapp -verbose -site kfs -file f1 -file f2</p><p>AppConfig provides a simple method (<em>args()</em>) for parsing command line arguments.  A second method (<em>getopt()</em>) allows more complex argument processing by delegation to Johan Vroman's Getopt::Long module.</p><p>AppConfig also allows variables to be set by parameters passed to a \s-1CGI\s0 script via the \s-1URL\s0 (\s-1GET\s0 method).</p><p>    http://www.nowhere.com/cgi-bin/myapp?verbose&site=kfs</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PREREQUISITES</h2>
        <div class="sectioncontent">
<p>AppConfig requires Perl 5.005 or later.</p><p>The Getopt::Long and Test::More modules should be installed. If you are using a recent version of Perl (e.g. 5.8.0) then these should already be installed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OBTAINING AND INSTALLING THE AppConfig MODULE BUNDLE</h2>
        <div class="sectioncontent">
<p>The AppConfig module bundle is available from \s-1CPAN\s0.  As the 'perlmod' manual page explains:</p><p>    CPAN stands for the Comprehensive Perl Archive Network.     This is a globally replicated collection of all known Perl     materials, including hundreds of unbundled modules.</p><p>    [...]</p><p>    For an up-to-date listing of CPAN sites, see     http://www.perl.com/perl/ or ftp://ftp.perl.com/perl/ .</p><p>Within the \s-1CPAN\s0 archive, AppConfig is in the category:</p><p>    12) Option, Argument, Parameter and Configuration File Processing</p><p>The module is available in the following directories:</p><p>    /modules/by-module/AppConfig/AppConfig-&lt;version&gt;.tar.gz     /authors/id/ABW/AppConfig-&lt;version&gt;.tar.gz</p><p>AppConfig is distributed as a single gzipped tar archive file:</p><p>    AppConfig-&lt;version&gt;.tar.gz</p><p>Note that \*(L"&lt;version&gt;\*(R" represents the current AppConfig version number, of the form \*(L"n.nn\*(R", e.g. \*(L"3.14\*(R".  See the \s-1REVISION\s0 section below to determine the current version number for AppConfig.</p><p>Unpack the archive to create a AppConfig installation directory:</p><p>    gunzip AppConfig-&lt;version&gt;.tar.gz     tar xvf AppConfig-&lt;version&gt;.tar</p><p>'cd' into that directory, make, test and install the modules:</p><p>    cd AppConfig-&lt;version&gt;     perl Makefile.PL     make     make test     make install</p><p>The 't' sub-directory contains a number of test scripts that are run when a 'make test' is run.</p><p>The 'make install' will install the module on your system.  You may need administrator privileges to perform this task.  If you install the module in a local directory (for example, by executing \*(L"perl Makefile.PL LIB=~/lib\*(R" in the above - see \*(C`perldoc MakeMaker\*(C' for full details), you will need to ensure that the \s-1PERL5LIB\s0 environment variable is set to include the location, or add a line to your scripts explicitly naming the library location:</p><p>    use lib &apos;/local/path/to/lib&apos;;</p><p>The 'examples' sub-directory contains some simple examples of using the AppConfig modules.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<h3>\s-1USING\s0 \s-1THE\s0 AppConfig \s-1MODULE\s0</h3>
<p>To import and use the AppConfig module the following line should appear in your Perl script:</p><p>     use AppConfig;</p><p>To import constants defined by the AppConfig module, specify the name of one or more of the constant or tag sets as parameters to \*(C`use\*(C':</p><p>    use AppConfig qw(:expand :argcount);</p><p>See \*(L"\s-1CONSTANT\s0 \s-1DEFINITIONS\s0\*(R" below for more information on the constant tagsets defined by AppConfig.</p><p>AppConfig is implemented using object-oriented methods.  A new AppConfig object is created and initialised using the <em>new()</em> method.  This returns a reference to a new AppConfig object.</p><p>    my $config = AppConfig-&gt;new();</p><p>This will create and return a reference to a new AppConfig object.</p><p>In doing so, the AppConfig object also creates an internal reference to an AppConfig::State object in which to store variable state.  All arguments passed into the AppConfig constructor are passed directly to the AppConfig::State constructor.</p><p>The first (optional) parameter may be a reference to a hash array containing configuration information.</p><p>    my $config = AppConfig-&gt;new( {             CASE   =&gt; 1,             ERROR  =&gt; &#92;&my_error,             GLOBAL =&gt; {                     DEFAULT  =&gt; "&lt;unset&gt;",                     ARGCOUNT =&gt; ARGCOUNT_ONE,                 },         } );</p><p>See AppConfig::State for full details of the configuration options available.  These are, in brief:</p>
<dl class='dl-vertical'>
  <dt>
    \s-1CASE\s0
  </dt>
  <dd>
    <p>Used to set case sensitivity for variable names (default: off).</p>
  </dd>
  <dt>
    \s-1CREATE\s0
  </dt>
  <dd>
    <p>Used to indicate that undefined variables should be created automatically (default: off).</p>
  </dd>
  <dt>
    \s-1GLOBAL\s0
  </dt>
  <dd>
    <p>Reference to a hash array of global values used by default when defining variables.  Valid global values are \s-1DEFAULT\s0, \s-1ARGCOUNT\s0, \s-1EXPAND\s0, \s-1VALIDATE\s0 and \s-1ACTION\s0.</p>
  </dd>
  <dt>
    \s-1PEDANTIC\s0
  </dt>
  <dd>
    <p>Used to indicate that command line and configuration file parsing routines should return immediately on encountering an error.</p>
  </dd>
  <dt>
    \s-1ERROR\s0
  </dt>
  <dd>
    <p>Used to provide a error handling routine.  Arguments as per <em>printf()</em>.</p>
  </dd>

</dl>
<p>Subsequent parameters may be variable definitions.  These are passed to the <em>define()</em> method, described below in \*(L"\s-1DEFINING\s0 \s-1VARIABLES\s0\*(R".</p><p>    my $config = AppConfig-&gt;new("foo", "bar", "baz");     my $config = AppConfig-&gt;new( { CASE =&gt; 1 }, qw(foo bar baz) );</p><p>Note that any unresolved method calls to AppConfig are automatically delegated to the AppConfig::State object.  In practice, it means that it is possible to treat the AppConfig object as if it were an AppConfig::State object:</p><p>    # create AppConfig     my $config = AppConfig-&gt;new(&apos;foo&apos;, &apos;bar&apos;);</p><p>    # methods get passed through to internal AppConfig::State     $config-&gt;foo(100);     $config-&gt;set(&apos;bar&apos;, 200);     $config-&gt;define(&apos;baz&apos;);     $config-&gt;baz(300);</p>
<h3>\s-1DEFINING\s0 \s-1VARIABLES\s0</h3>
<p>The \*(C`define()\*(C' method (delegated to AppConfig::State) is used to pre-declare a variable and specify its configuration.</p><p>    $config-&gt;define("foo");</p><p>Variables may also be defined directly from the AppConfig <em>new()</em> constructor.</p><p>    my $config = AppConfig-&gt;new("foo");</p><p>In both simple examples above, a new variable called \*(L"foo\*(R" is defined.  A reference to a hash array may also be passed to specify configuration information for the variable:</p><p>    $config-&gt;define("foo", {             DEFAULT   =&gt; 99,             ALIAS     =&gt; &apos;metavar1&apos;,         });</p><p>Configuration items specified in the \s-1GLOBAL\s0 option to the module constructor are applied by default when variables are created.  e.g.</p><p>    my $config = AppConfig-&gt;new( {         GLOBAL =&gt; {             DEFAULT  =&gt; "&lt;undef&gt;",             ARGCOUNT =&gt; ARGCOUNT_ONE,         }     } );</p><p>    $config-&gt;define("foo");     $config-&gt;define("bar", { ARGCOUNT =&gt; ARGCOUNT_NONE } );</p><p>is equivalent to:</p><p>    my $config = AppConfig-&gt;new();</p><p>    $config-&gt;define( "foo", {         DEFAULT  =&gt; "&lt;undef&gt;",         ARGCOUNT =&gt; ARGCOUNT_ONE,     } );</p><p>    $config-&gt;define( "bar",         DEFAULT  =&gt; "&lt;undef&gt;",         ARGCOUNT =&gt; ARGCOUNT_NONE,     } );</p><p>Multiple variables may be defined in the same call to <em>define()</em>. Configuration hashes for variables can be omitted.</p><p>    $config-&gt;define("foo", "bar" =&gt; { ALIAS = "boozer" }, "baz");</p><p>See AppConfig::State for full details of the configuration options available when defining variables.  These are, in brief:</p>
<dl class='dl-vertical'>
  <dt>
    \s-1DEFAULT\s0
  </dt>
  <dd>
    <p>The default value for the variable (default: undef).</p>
  </dd>
  <dt>
    \s-1ALIAS\s0
  </dt>
  <dd>
    <p>One or more (list reference or \*(L"list|like|this\*(R") alternative names for the variable.</p>
  </dd>
  <dt>
    \s-1ARGCOUNT\s0
  </dt>
  <dd>
    <p>Specifies the number and type of arguments that the variable expects. Constants in \*(C`:argcount\*(C' tag set define \s-1ARGCOUNT_NONE\s0 - simple on/off flag (default), \s-1ARGCOUNT_ONE\s0 - single value, \s-1ARGCOUNT_LIST\s0 - multiple values accessed via list reference, \s-1ARGCOUNT_HASH\s0 - hash table, \*(L"key=value\*(R", accessed via hash reference.</p>
  </dd>
  <dt>
    \s-1ARGS\s0
  </dt>
  <dd>
    <p>Used to provide an argument specification string to pass to Getopt::Long via AppConfig::Getopt.  E.g. \*(L"=i\*(R", \*(L":s\*(R", \*(L"=s@\*(R".  This can also be used to implicitly set the \s-1ARGCOUNT\s0 value (\*(C`/^!/\*(C' = \s-1ARGCOUNT_NONE\s0, \*(C`/@/\*(C' = \s-1ARGCOUNT_LIST\s0, \*(C`/%/\*(C' = \s-1ARGCOUNT_HASH\s0, \*(C`/[=:].*/\*(C' = \s-1ARGCOUNT_ONE\s0)</p>
  </dd>
  <dt>
    \s-1EXPAND\s0
  </dt>
  <dd>
    <p>Specifies which variable expansion policies should be used when parsing configuration files.  Constants in \*(C`:expand\*(C' tag set define:     EXPAND_NONE - no expansion (default)     EXPAND_VAR  - expand C&lt;$var&gt; or C&lt;$(var)&gt; as other variables     EXPAND_UID  - expand C&lt;~&gt; and C&lt;~uid&gt; as user&apos;s home directory     EXPAND_ENV - expand C&lt;${var}&gt; as environment variable     EXPAND_ALL - do all expansions.</p>
  </dd>
  <dt>
    \s-1VALIDATE\s0
  </dt>
  <dd>
    <p>Regex which the intended variable value should match or code reference which returns 1 to indicate successful validaton (variable may now be set).</p>
  </dd>
  <dt>
    \s-1ACTION\s0
  </dt>
  <dd>
    <p>Code reference to be called whenever variable value changes.</p>
  </dd>

</dl>

<h3>\s-1COMPACT\s0 \s-1FORMAT\s0 \s-1DEFINITION\s0</h3>
<p>Variables can be specified using a compact format.  This is identical to the specification format of Getopt::Long and is of the form:</p><p>    "name|alias|alias&lt;argopts&gt;"</p><p>The first element indicates the variable name and subsequent \s-1ALIAS\s0 values may be added, each separated by a vertical bar '|'.</p><p>The &lt;argopts&gt; element indicates the \s-1ARGCOUNT\s0 value and may be one of the following;</p><p>    !                  ARGCOUNT_NONE     =s                 ARGCOUNT_ONE     =s@                ARGCOUNT_LIST     =s%                ARGCOUNT_HASH</p><p>Additional constructs supported by Getopt::Long may be specified instead of the \*(L"=s\*(R" element (e.g. \*(L"=f\*(R").  The entire &lt;argopts&gt; element is stored in the \s-1ARGS\s0 parameter for the variable and is passed intact to Getopt::Long when the <em>getopt()</em> method is called.</p><p>The following examples demonstrate use of the comapct format, with their equivalent full specifications:</p><p>    $config-&gt;define("foo|bar|baz!");</p><p>    $config-&gt;define(             "foo" =&gt; {                 ALIAS    =&gt; "bar|baz",                 ARGCOUNT =&gt; ARGCOUNT_NONE,             });</p><p>    $config-&gt;define("name=s");</p><p>    $config-&gt;define(             "name" =&gt; {                 ARGCOUNT =&gt; ARGCOUNT_ONE,             });</p><p>    $config-&gt;define("file|filelist|f=s@");</p><p>    $config-&gt;define(             "file" =&gt; {                 ALIAS    =&gt; "filelist|f",                 ARGCOUNT =&gt; ARGCOUNT_LIST,             });</p><p>    $config-&gt;define("user|u=s%");</p><p>    $config-&gt;define(             "user" =&gt; {                 ALIAS    =&gt; "u",                 ARGCOUNT =&gt; ARGCOUNT_HASH,             });</p><p>Additional configuration options may be specified by hash reference, as per normal.  The compact definition format will override any configuration values provided for \s-1ARGS\s0 and \s-1ARGCOUNT\s0.</p><p>    $config-&gt;define("file|filelist|f=s@", { VALIDATE = &#92;&check_file() } );</p>
<h3>\s-1READING\s0 \s-1AND\s0 \s-1MODIFYING\s0 \s-1VARIABLE\s0 \s-1VALUES\s0</h3>
<p>AppConfig defines two methods (via AppConfig::State) to manipulate variable values</p><p>    set($variable, $value);     get($variable);</p><p>Once defined, variables may be accessed directly as object methods where the method name is the same as the variable name.  i.e.</p><p>    $config-&gt;set("verbose", 1);</p><p>is equivalent to</p><p>    $config-&gt;<strong>verbose</strong>(1);</p><p>Note that AppConfig defines the following methods:</p><p>    new();     file();     args();     getopt();</p><p>And also, through delegation to AppConfig::State:</p><p>    define()     get()     set()     varlist()</p><p>If you define a variable with one of the above names, you will not be able to access it directly as an object method.  i.e.</p><p>    $config-&gt;file();</p><p>This will call the <em>file()</em> method, instead of returning the value of the 'file' variable.  You can work around this by explicitly calling <em>get()</em> and <em>set()</em> on a variable whose name conflicts:</p><p>    $config-&gt;get(&apos;file&apos;);</p><p>or by defining a \*(L"safe\*(R" alias by which the variable can be accessed:</p><p>    $config-&gt;define("file", { ALIAS =&gt; "fileopt" }); or     $config-&gt;define("file|fileopt");</p><p>    ...     $config-&gt;fileopt();</p><p>Without parameters, the current value of the variable is returned.  If a parameter is specified, the variable is set to that value and the result of the <em>set()</em> operation is returned.</p><p>    $config-&gt;age(29);        # sets &apos;age&apos; to 29, returns 1 (ok)     print $config-&gt;age();    # prints "29"</p><p>The <em>varlist()</em> method can be used to extract a number of variables into a hash array.  The first parameter should be a regular expression used for matching against the variable names.</p><p>    my %vars = $config-&gt;varlist("^file");   # all "file*" variables</p><p>A second parameter may be specified (any true value) to indicate that the part of the variable name matching the regex should be removed when copied to the target hash.</p><p>    $config-&gt;file_name("/tmp/file");     $config-&gt;file_path("/foo:/bar:/baz");</p><p>    my %vars = $config-&gt;varlist("^file_", 1);</p><p>    # %vars:     #    name =&gt; /tmp/file     #    path =&gt; "/foo:/bar:/baz"</p>
<h3>\s-1READING\s0 \s-1CONFIGURATION\s0 \s-1FILES\s0</h3>
<p>The AppConfig module provides a streamlined interface for reading configuration files with the AppConfig::File module.  The <em>file()</em> method automatically loads the AppConfig::File module and creates an object to process the configuration file or files.  Variables stored in the internal AppConfig::State are automatically updated with values specified in the configuration file.</p><p>    $config-&gt;file($filename);</p><p>Multiple files may be passed to <em>file()</em> and should indicate the file name or be a reference to an open file handle or glob.</p><p>    $config-&gt;file($filename, $filehandle, &#92;*STDIN, ...);</p><p>The file may contain blank lines and comments (prefixed by '#') which are ignored.  Continutation lines may be marked by ending the line with a '&#92;'.</p><p>    # this is a comment     callsign = alpha bravo camel delta echo foxtrot golf hipowls &#92;                india juliet kilo llama mike november oscar papa  &#92;                quebec romeo sierra tango umbrella victor whiskey &#92;                x-ray yankee zebra</p><p>Variables that are simple flags and do not expect an argument (\s-1ARGCOUNT\s0 = \s-1ARGCOUNT_NONE\s0) can be specified without any value.  They will be set with the value 1, with any value explicitly specified (except \*(L"0\*(R" and \*(L"off\*(R") being ignored.  The variable may also be specified with a \*(L"no\*(R" prefix to implicitly set the variable to 0.</p><p>    verbose                              # on  (1)     verbose = 1                          # on  (1)     verbose = 0                          # off (0)     verbose off                          # off (0)     verbose on                           # on  (1)     verbose mumble                       # on  (1)     noverbose                            # off (0)</p><p>Variables that expect an argument (\s-1ARGCOUNT\s0 = \s-1ARGCOUNT_ONE\s0) will be set to whatever follows the variable name, up to the end of the current line (including any continuation lines).  An optional equals sign may be inserted between the variable and value for clarity.</p><p>    room = /home/kitchen     room   /home/bedroom</p><p>Each subsequent re-definition of the variable value overwrites the previous value.</p><p>    print $config-&gt;room();               # prints "/home/bedroom"</p><p>Variables may be defined to accept multiple values (\s-1ARGCOUNT\s0 = \s-1ARGCOUNT_LIST\s0). Each subsequent definition of the variable adds the value to the list of previously set values for the variable.</p><p>    drink = coffee     drink = tea</p><p>A reference to a list of values is returned when the variable is requested.</p><p>    my $beverages = $config-&gt;drinks();     print join(", ", @$beverages);      # prints "coffee, tea"</p><p>Variables may also be defined as hash lists (\s-1ARGCOUNT\s0 = \s-1ARGCOUNT_HASH\s0). Each subsequent definition creates a new key and value in the hash array.</p><p>    alias l="ls -CF"     alias e="emacs"</p><p>A reference to the hash is returned when the variable is requested.</p><p>    my $aliases = $config-&gt;alias();     foreach my $k (keys %$aliases) {         print "$k =&gt; $aliases-&gt;{ $k }&#92;n";     }</p><p>The '-' prefix can be used to reset a variable to its default value and the '+' prefix can be used to set it to 1</p><p>    -verbose     +debug</p>
<h3>\s-1VARIABLE\s0 \s-1EXPANSION\s0</h3>
<p>Variable values may contain references to other AppConfig variables, environment variables and/or users' home directories.  These will be expanded depending on the \s-1EXPAND\s0 value for each variable or the \s-1GLOBAL\s0 \s-1EXPAND\s0 value.</p><p>Three different expansion types may be applied:</p><p>    bin = ~/bin          # expand &apos;~&apos; to home dir if EXPAND_UID     tmp = ~abw/tmp       # as above, but home dir for user &apos;abw&apos;</p><p>    perl = $bin/perl     # expand value of &apos;bin&apos; variable if EXPAND_VAR     ripl = $(bin)/ripl   # as above with explicit parens</p><p>    home = ${HOME}       # expand HOME environment var if EXPAND_ENV</p><p>See AppConfig::State for more information on expanding variable values.</p><p>The configuration files may have variables arranged in blocks.  A block header, consisting of the block name in square brackets, introduces a configuration block.  The block name and an underscore are then prefixed to the names of all variables subsequently referenced in that block.  The block continues until the next block definition or to the end of the current file.</p><p>    [block1]     foo = 10             # block1_foo = 10</p><p>    [block2]     foo = 20             # block2_foo = 20</p>
<h3>\s-1PARSING\s0 \s-1COMMAND\s0 \s-1LINE\s0 \s-1OPTIONS\s0</h3>
<p>There are two methods for processing command line options.  The first, <em>args()</em>, is a small and efficient implementation which offers basic functionality.  The second, <em>getopt()</em>, offers a more powerful and complete facility by delegating the task to Johan Vroman's Getopt::Long module. The trade-off between <em>args()</em> and <em>getopt()</em> is essentially one of speed/size against flexibility.  Use as appropriate.  Both implement on-demand loading of modules and incur no overhead until used.</p><p>The <em>args()</em> method is used to parse simple command line options.  It automatically loads the AppConfig::Args module and creates an object to process the command line arguments.  Variables stored in the internal AppConfig::State are automatically updated with values specified in the arguments.</p><p>The method should be passed a reference to a list of arguments to parse. The @ARGV array is used if <em>args()</em> is called without parameters.</p><p>    $config-&gt;args(&#92;@myargs);     $config-&gt;args();               # uses @ARGV</p><p>Arguments are read and shifted from the array until the first is encountered that is not prefixed by '-' or '--'.  At that point, the method returns 1 to indicate success, leaving any unprocessed arguments remaining in the list.</p><p>Each argument should be the name or alias of a variable prefixed by '-' or '--'.  Arguments that are not prefixed as such (and are not an additional parameter to a previous argument) will cause a warning to be raised.  If the \s-1PEDANTIC\s0 option is set, the method will return 0 immediately.  With \s-1PEDANTIC\s0 unset (default), the method will continue to parse the rest of the arguments, returning 0 when done.</p><p>If the variable is a simple flag (\s-1ARGCOUNT\s0 = \s-1ARGCOUNT_NONE\s0) then it is set to the value 1.  The variable may be prefixed by \*(L"no\*(R" to set its value to 0.</p><p>    myprog -verbose --debug -notaste     # $config-&gt;<strong>verbose</strong>(1)                                          # $config-&gt;<strong>debug</strong>(1)                                          # $config-&gt;<strong>taste</strong>(0)</p><p>Variables that expect an additional argument (\s-1ARGCOUNT\s0 != 0) will be set to the value of the argument following it.</p><p>    myprog -f /tmp/myfile                # $config-&gt;file(&apos;/tmp/file&apos;);</p><p>Variables that expect multiple values (\s-1ARGCOUNT\s0 = \s-1ARGCOUNT_LIST\s0 or \s-1ARGCOUNT_HASH\s0) will have sucessive values added each time the option is encountered.</p><p>    myprog -file /tmp/foo -file /tmp/bar # $config-&gt;file(&apos;/tmp/foo&apos;)                                          # $config-&gt;file(&apos;/tmp/bar&apos;)</p><p>    # file =&gt; [ &apos;/tmp/foo&apos;, &apos;/tmp/bar&apos; ]</p><p>    myprog -door "jim=Jim Morrison" -door "ray=Ray Manzarek"                                     # $config-&gt;door("jim=Jim Morrison");                                     # $config-&gt;door("ray=Ray Manzarek");</p><p>    # door =&gt; { &apos;jim&apos; =&gt; &apos;Jim Morrison&apos;, &apos;ray&apos; =&gt; &apos;Ray Manzarek&apos; }</p><p>See AppConfig::Args for further details on parsing command line arguments.</p><p>The <em>getopt()</em> method provides a way to use the power and flexibility of the Getopt::Long module to parse command line arguments and have the internal values of the AppConfig object updates automatically.</p><p>The first (non-list reference) parameters may contain a number of configuration string to pass to Getopt::Long::Configure.  A reference to a list of arguments may additionally be passed or @ARGV is used by default.</p><p>    $config-&gt;getopt();                       # uses @ARGV     $config-&gt;getopt(&#92;@myargs);     $config-&gt;getopt(qw(auto_abbrev debug));  # uses @ARGV     $config-&gt;getopt(qw(debug), &#92;@myargs);</p><p>See Getopt::Long for details of the configuration options available.</p><p>The <em>getopt()</em> method constructs a specification string for each internal variable and then initialises Getopt::Long with these values.  The specification string is constructed from the name, any aliases (delimited by a vertical bar '|') and the value of the \s-1ARGS\s0 parameter.</p><p>    $config-&gt;define("foo", {         ARGS  =&gt; "=i",         ALIAS =&gt; "bar|baz",     });</p><p>    # Getopt::Long specification: "foo|bar|baz=i"</p><p>Errors and warning generated by the Getopt::Long module are trapped and handled by the AppConfig error handler.  This may be a user-defined routine installed with the \s-1ERROR\s0 configuration option.</p><p>Please note that the AppConfig::Getopt interface is still experimental and may not be 100% operational.  This is almost undoubtedly due to problems in AppConfig::Getopt rather than Getopt::Long.</p>
<h3>\s-1PARSING\s0 \s-1CGI\s0 \s-1PARAMETERS\s0</h3>
<p>The <em>cgi()</em> method provides an interface to the AppConfig::CGI module for updating variable values based on the parameters appended to the \s-1URL\s0 for a \s-1CGI\s0 script.  This is commonly known as the \s-1CGI\s0 \*(L"\s-1GET\s0\*(R" method.  The \s-1CGI\s0 \*(L"\s-1POST\s0\*(R" method is currently not supported.</p><p>Parameter definitions are separated from the \s-1CGI\s0 script name by a question mark and from each other by ampersands.  Where variables have specific values, these are appended to the variable with an equals sign:</p><p>    http://www.here.com/cgi-bin/myscript?foo=bar&baz=qux&verbose</p><p>        # $config-&gt;foo(&apos;bar&apos;);         # $config-&gt;baz(&apos;qux&apos;);         # $config-&gt;<strong>verbose</strong>(1);</p><p>Certain values specified in a \s-1URL\s0 must be escaped in the appropriate manner (see \s-1CGI\s0 specifications at http://www.w3c.org/ for full details). The AppConfig::CGI module automatically unescapes the \s-1CGI\s0 query string to restore the parameters to their intended values.</p><p>    http://where.com/mycgi?title=%22The+Wrong+Trousers%22</p><p>    # $config-&gt;title(&apos;"The Wrong Trousers"&apos;);</p><p>Please be considerate of the security implications of providing writeable access to script variables via \s-1CGI\s0.</p><p>    http://rebel.alliance.com/cgi-bin/...         .../send_report?file=%2Fetc%2Fpasswd&email=darth%40empire.com</p><p>To avoid any accidental or malicious changing of \*(L"private\*(R" variables, define only the \*(L"public\*(R" variables before calling the <em>cgi()</em> (or any other) method.  Further variables can subequently be defined which can not be influenced by the \s-1CGI\s0 parameters.</p><p>    $config-&gt;define(&apos;verbose&apos;, &apos;debug&apos;)     $config-&gt;cgi();             # can only set verbose and debug</p><p>    $config-&gt;define(&apos;email&apos;, &apos;file&apos;);     $config-&gt;file($cfgfile);    # can set verbose, debug, email + file</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTANT DEFINITIONS</h2>
        <div class="sectioncontent">
<p>A number of constants are defined by the AppConfig module.  These may be accessed directly (e.g. AppConfig::EXPAND_VARS) or by first importing them into the caller's package.  Constants are imported by specifying their names as arguments to \*(C`use AppConfig\*(C' or by importing a set of constants identified by its \*(L"tag set\*(R" name.</p><p>    use AppConfig qw(ARGCOUNT_NONE ARGCOUNT_ONE);</p><p>    use AppConfig qw(:argcount);</p><p>The following tag sets are defined:</p>
<dl class='dl-vertical'>
  <dt>
    :expand
  </dt>
  <dd>
    <p>The ':expand' tagset defines the following constants:     EXPAND_NONE     EXPAND_VAR     EXPAND_UID     EXPAND_ENV     EXPAND_ALL       # EXPAND_VAR | EXPAND_UID | EXPAND_ENV     EXPAND_WARN See AppConfig::File for full details of the use of these constants.</p>
  </dd>
  <dt>
    :argcount
  </dt>
  <dd>
    <p>The ':argcount' tagset defines the following constants:     ARGCOUNT_NONE     ARGCOUNT_ONE     ARGCOUNT_LIST     ARGCOUNT_HASH See AppConfig::State for full details of the use of these constants.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Andy Wardley, &lt;abw@wardley.org&gt;</p><p>With contributions from Dave Viner, Ijon Tichy, Axel Gerstmair and many others whose names have been lost to the sands of time (reminders welcome).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1997-2007 Andy Wardley.  All Rights Reserved.</p><p>Copyright (C) 1997,1998 Canon Research Centre Europe Ltd.</p><p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO AppConfig&hellip;</h2>
        <div class="sectioncontent">
<p>AppConfig::State, AppConfig::File, AppConfig::Args, AppConfig::Getopt, AppConfig::CGI, Getopt::Long</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="App::pmuninstall.3pm.html"><span aria-hidden="true">&larr;</span> App::pmuninstall.3pm: Uninstall modules</a></li>
   <li class="next"><a href="AppConfig::Args.3pm.html">AppConfig::Args.3pm: Perl5 module for reading command line arguments. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
