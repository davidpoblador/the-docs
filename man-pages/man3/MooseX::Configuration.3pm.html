<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MooseX::Configuration: Define attributes which come from configuration files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Define attributes which come from configuration files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="MooseX::Configuration (3pm) manual">
  <meta name="twitter:description" content="Define attributes which come from configuration files">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmoosex-configuration-perl-MooseX::Configuration-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/MooseX::Configuration.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MooseX::Configuration (3pm) manual" />
  <meta property="og:description" content="Define attributes which come from configuration files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmoosex-configuration-perl-MooseX::Configuration-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">MooseX::Configuration<small> (3pm)</small></h1>
        <p class="lead">Define attributes which come from configuration files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MooseX::Configuration.3pm.html">
      <span itemprop="name">MooseX::Configuration: Define attributes which come from configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmoosex-configuration-perl/">
      <span itemprop="name">libmoosex-configuration-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MooseX::Configuration.3pm.html">
      <span itemprop="name">MooseX::Configuration: Define attributes which come from configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 0.02</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  package MyApp::Config;

  use Moose;
  use MooseX::Configuration;

  has database_name =&gt; (
      is      =&gt; &apos;ro&apos;,
      isa     =&gt; &apos;Str&apos;,
      default =&gt; &apos;MyApp&apos;,
      section =&gt; &apos;database&apos;,
      key     =&gt; &apos;name&apos;,
      documentation =&gt;
          &apos;The name of the database.&apos;,
  );

  has database_username =&gt; (
      is      =&gt; &apos;ro&apos;,
      isa     =&gt; Str,
      default =&gt; q{},
      section =&gt; &apos;database&apos;,
      key     =&gt; &apos;username&apos;,
      documentation =&gt;
          &apos;The username to use when connecting to the database. By default, this is empty.&apos;,
  );

  my $config = MyApp::Config-&gt;new( config_file =&gt; &apos;/path/to/config/myapp.ini&apos; );
  $config-&gt;write_file( ... );
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module lets you define attributes which can come from a configuration file. It also adds a role to your class which allows you to write a configuration file.</p><p>It is based on using a simple INI-style configuration file, which contains sections and keys:</p><p>  key1 = value   key2 = 42</p><p>  [section]   key3 = 2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ATTRIBUTE API</h2>
        <div class="sectioncontent">
<p>Simply using this module in your class changes your class's attribute metaclass to add support for defining attributes as configuration items.</p><p>There are two new parameters you can pass when defining an attribute, \*(C`section\*(C' and \*(C`key\*(C'. These tell the module how to find the attribute's value in the configuration file. The \*(C`section\*(C' parameter is optional. If you don't set it, but <em>do</em> provide a key, then the section defaults to \*(C`_\*(C', which is the main section of the config file.</p><p>If you pass a \*(C`section\*(C' you must also pass a \*(C`key\*(C'.</p><p>Defining an attribute as a configuration item has several effects. First, it changes the default value for the attribute. Before looking at a \*(C`default\*(C' or \*(C`builder\*(C' you define, the attribute will first look in the config file for a corresponding value. If one exists, it will use that, otherwise it will fall back to using a default you supply.</p><p>If you do supply a default, it must be a string (or number), not a reference or undefined value.</p><p>All configuration attributes are lazy. This is necessary because the configuration file needs to be loaded and parsed before looking up values.</p><p>The \*(C`documentation\*(C' string is used when generating a configuration file. See below for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLASS API</h2>
        <div class="sectioncontent">
<p>Your config class will do the MooseX::Configuration::Trait::Object role. This adds several attributes and methods to your class.</p><h3>config_file attribute</h3>
<p>The \*(C`config_file\*(C' attribute defines the location of the configuration file. The role supplies a builder method that you can replace, \*(C`_build_config_file\*(C'. It should return a string or Path::Class::File object pointing to the configuration file. It can also return \*(C`undef\*(C'.</p><p>If you <em>don't</em> provide your own builder, then the \*(C`config_file\*(C' will default to \*(C`undef\*(C'. This returns the raw hash reference as read by Config::INI::Reader. If no config file was defined, then this simply returns an empty hash reference. This method can be used to write a configuration file. It accepts several parameters:</p><ul>
<li><p>file This can be either a path or an open filehandle. The configuration text will be written to this file. This defaults to the value of \*(C`$self-&gt;config_file()\*(C'. If no file is provided or already set in the object, this method will die.</p></li><li><p>generated_by If this parameter is passed, it will be included as a comment at the top of the generated file.</p></li><li><p>values This should be a hash reference of attribute names and values to write to the config file. It is optional.</p></li>
</ul><p>When writing the configuration file, any configuration item that was set in the configuration file originally will be set in the new file, as will any value passed in the \*(C`values\*(C' key. An attribute value set in the constructor or by a default will <em>not</em> be included in the generated file.</p><p>Keys without a value will still be included in the file as a comment.</p><p>If an attribute includes a documentation string, that string will appear as a comment above the key. If the attribute defines a simple scalar default, that will also be included in the comment, unless the default is the empty string. Finally, if the attribute is required, that is also mentioned in the comment.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DONATIONS</h2>
        <div class="sectioncontent">
<p>If you'd like to thank me for the work I've done on this module, please consider making a \*(L"donation\*(R" to me via PayPal. I spend a lot of free time creating free software, and would appreciate any support you'd care to offer.</p><p>Please note that <strong>I am not suggesting that you must do this</strong> in order for me to continue working on this particular software. I will continue to do so, inasmuch as I have in the past, for as long as it interests me.</p><p>Similarly, a donation made in this way will probably not make me work on this software much more, unless I get so many donations that I can consider working on free software full time, which seems unlikely at best.</p><p>To donate, log into PayPal and send money to autarch@urth.org or use the button on this page: http://www.urth.org/~autarch/fs-donation.html &lt;http://www.urth.org/~autarch/fs-donation.html&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report any bugs or feature requests to \*(C`bug-moosex-configuration@rt.cpan.org\*(C', or through the web interface at &lt;http://rt.cpan.org&gt;.  I will be notified, and then you'll automatically be notified of progress on your bug as I make changes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Dave Rolsky &lt;autarch@urth.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>This software is Copyright (c) 2010 by Dave Rolsky.</p><p>This is free software, licensed under:</p><p>  The Artistic License 2.0</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="MooseX::CompileTime::Traits.3pm.html"><span aria-hidden="true">&larr;</span> MooseX::CompileTime::Traits.3pm: Allow compile time traits for classes/roles</a></li>
   <li class="next"><a href="MooseX::Emulate::Class::Accessor::Fast.3pm.html">MooseX::Emulate::Class::Accessor::Fast.3pm: Emulate class::accessor::fast behavior using moose attributes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
