<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Net::Jifty: Interface to online jifty applications</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Interface to online jifty applications">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Net::Jifty (3pm) manual">
  <meta name="twitter:description" content="Interface to online jifty applications">
  <meta name="twitter:image" content="https://www.carta.tech/images/libnet-jifty-perl-Net::Jifty-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Net::Jifty.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Net::Jifty (3pm) manual" />
  <meta property="og:description" content="Interface to online jifty applications" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libnet-jifty-perl-Net::Jifty-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Net::Jifty<small> (3pm)</small></h1>
        <p class="lead">Interface to online jifty applications</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Net::Jifty.3pm.html">
      <span itemprop="name">Net::Jifty: Interface to online jifty applications</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libnet-jifty-perl/">
      <span itemprop="name">libnet-jifty-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Net::Jifty.3pm.html">
      <span itemprop="name">Net::Jifty: Interface to online jifty applications</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Net::Jifty;
    my $j = Net::Jifty-&gt;new(
        site        =&gt; &apos;http://mushroom.mu/&apos;,
        cookie_name =&gt; &apos;MUSHROOM_KINGDOM_SID&apos;,
        email       =&gt; &apos;god@mushroom.mu&apos;,
        password    =&gt; &apos;melange&apos;,
    );

    # the story begins
    $j-&gt;create(Hero =&gt; name =&gt; &apos;Mario&apos;, job =&gt; &apos;Plumber&apos;);

    # find the hero whose job is Plumber and change his name to Luigi
    # and color to green
    $j-&gt;update(Hero =&gt; job =&gt; &apos;Plumber&apos;,
        name  =&gt; &apos;Luigi&apos;,
        color =&gt; &apos;Green&apos;,
    );

    # win!
    $j-&gt;delete(Enemy =&gt; name =&gt; &apos;Bowser&apos;);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Jifty is a full-stack web framework. It provides an optional \s-1REST\s0 interface for applications. Using this module, you can interact with that \s-1REST\s0 interface to write client-side utilities.</p><p>You can use this module directly, but you'll be better off subclassing it, such as what we've done for Net::Hiveminder.</p><p>This module also provides a number of convenient methods for writing short scripts. For example, passing \*(C`use_config =&gt; 1\*(C' to \*(C`new\*(C' will look at the config file for the username and password (or \s-1SID\s0) of the user. If neither is available, it will prompt the user for them.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>\s-1CRUD\s0 - create, read, update and delete.</h3>
<p><em>create \s-1MODEL\s0, \s-1FIELDS\s0</em></p><p>Create a new object of type \*(C`MODEL\*(C' with the \*(C`FIELDS\*(C' set.</p><p><em>read \s-1MODEL\s0, \s-1KEY\s0 =&gt; \s-1VALUE\s0</em></p><p>Find some \*(C`MODEL\*(C' where \*(C`KEY\*(C' is \*(C`VALUE\*(C' and return it.</p><p><em>update \s-1MODEL\s0, \s-1KEY\s0 =&gt; \s-1VALUE\s0, \s-1FIELDS\s0</em></p><p>Find some \*(C`MODEL\*(C' where \*(C`KEY\*(C' is \*(C`VALUE\*(C' and set \*(C`FIELDS\*(C' on it.</p><p><em>delete \s-1MODEL\s0, \s-1KEY\s0 =&gt; \s-1VALUE\s0</em></p><p>Find some \*(C`MODEL\*(C' where \*(C`KEY\*(C' is \*(C`VALUE\*(C' and delete it.</p>
<h3>Other actions</h3>
<p><em>search \s-1MODEL\s0, FIELDS[, \s-1OUTCOLUMN\s0]</em></p><p>Searches for all objects of type \*(C`MODEL\*(C' that satisfy \*(C`FIELDS\*(C'. The optional \*(C`OUTCOLUMN\*(C' defines the output column, in case you don't want the entire records.</p><p><em>act \s-1ACTION\s0, \s-1ARGS\s0</em></p><p>Perform any \*(C`ACTION\*(C', using \*(C`ARGS\*(C'. This does use the \s-1REST\s0 interface.</p>
<h3>Arguments of actions</h3>
<p>Arguments are treated as arrays with (name, value) pairs so you can do the following:</p><p>    $jifty-&gt;create(&apos;Model&apos;, x =&gt; 1, x =&gt; 2, x =&gt; 3 );</p><p>Some actions may require file uploads then you can use hash reference as value with content, filename and content_type fields. filename and content_type are optional. content_type by default is 'application/octeat-stream'.</p><p><em>validate_action_args action =&gt; args</em></p><p>Validates the given action, to check to make sure that all mandatory arguments are given and that no unknown arguments are given.</p><p>Arguments are checked \s-1CRUD\s0 and act methods if 'strict_arguments' is set to true.</p><p>You may give action as a string, which will be interpreted as the action name; or as an array reference for \s-1CRUD\s0 - the first element will be the action (create, update, or delete) and the second element will be the model name.</p><p>This will throw an error or if validation succeeds, will return 1.</p>
<h3>Specifications of actions and models</h3>
<p><em>get_action_spec \s-1NAME\s0</em></p><p>Returns the action spec (which arguments it takes, and metadata about them). The first request for a particular action will ask the server for the spec. Subsequent requests will return it from the cache.</p><p><em>get_model_spec \s-1NAME\s0</em></p><p>Returns the model spec (which columns it has).  The first request for a particular model will ask the server for the spec.  Subsequent requests will return it from the cache.</p>
<h3>Subclassing</h3>
<p><em>\s-1BUILD\s0</em></p><p>Each Net::Jifty object will do the following upon creation:</p>
<dl class='dl-vertical'>
  <dt>
    Read config
  </dt>
  <dd>
    <p>..but only if you \*(C`use_config\*(C' is set to true.</p>
  </dd>
  <dt>
    Log in
  </dt>
  <dd>
    <p>..unless a sid is available, in which case we're already logged in.</p>
  </dd>

</dl>
<p><em>login</em></p><p>This method is called automatically when each Net::Jifty object is constructed (unless a session \s-1ID\s0 is passed in).</p><p>This assumes your site is using Jifty::Plugin::Authentication::Password. If that's not the case, override this in your subclass.</p><p><em>prompt_login_info</em></p><p>This will ask the user for her email and password. It may do so repeatedly until login is successful.</p><p><em>call \s-1ACTION\s0, \s-1ARGS\s0</em></p><p>This uses the Jifty \*(L"web services\*(R" \s-1API\s0 to perform \*(C`ACTION\*(C'. This is <em>not</em> the \s-1REST\s0 interface, though it resembles it to some degree.</p><p>This module currently only uses this to log in.</p>
<h3>Requests helpers</h3>
<p><em>post \s-1URL\s0, \s-1ARGS\s0</em></p><p>This will post \*(C`ARGS\*(C' to \*(C`URL\*(C'. See the documentation for \*(C`method\*(C' about the format of \*(C`URL\*(C'.</p><p><em>get \s-1URL\s0, \s-1ARGS\s0</em></p><p>This will get the specified \*(C`URL\*(C' with \*(C`ARGS\*(C' as query parameters. See the documentation for \*(C`method\*(C' about the format of \*(C`URL\*(C'.</p><p><em>method \s-1METHOD\s0, URL[, \s-1ARGS\s0]</em></p><p>This will perform a \*(C`METHOD\*(C' (\s-1GET\s0, \s-1POST\s0, \s-1PUT\s0, \s-1DELETE\s0, etc) using the internal LWP::UserAgent object.</p><p>\*(C`URL\*(C' may be a string or an array reference (which will have its parts properly escaped and joined with \*(C`/\*(C'). \*(C`URL\*(C' already has \*(C`http://your.site/=/\*(C' prepended to it, and \*(C`.yml\*(C' appended to it, so you only need to pass something like \*(C`model/YourApp.Model.Foo/name\*(C', or \*(C`[qw/model YourApp.Model.Foo name]\*(C'.</p><p>This will return the data structure returned by the Jifty application, or throw an error.</p><p><em>form_url_encoded_args \s-1ARGS\s0</em></p><p>This will take an array containing (name, value) argument pairs and convert those arguments into \s-1URL\s0 encoded form. I.e., (x =&gt; 1, y =&gt; 2, z =&gt; 3) becomes:</p><p>  x=1&y=2&z=3</p><p>These are then ready to be appened to the \s-1URL\s0 on a \s-1GET\s0 or placed into the content of a \s-1PUT\s0. However this method can not handle file uploads as they must be sent using 'multipart/form-date'.</p><p>See also /\*(L"form_form_data_args \s-1ARGS\s0\*(R" and \*(L"Arguments of actions\*(R".</p><p><em>form_form_data_args \s-1ARGS\s0</em></p><p>This will take an array containing (name, value) argument pairs and convert those arguments into HTTP::Message objects ready for adding to a 'mulitpart/form-data' HTTP::Request as parts with something like:</p><p>    my $req = HTTP::Request-&gt;new( POST =&gt; $uri );     $req-&gt;header(&apos;Content-type&apos; =&gt; &apos;multipart/form-data&apos;);     $req-&gt;add_part( $_ ) foreach $self-&gt;form_form_data_args( @args );</p><p>This method can handle file uploads, read more in \*(L"Arguments of actions\*(R".</p><p>See also /\*(L"form_form_data_args \s-1ARGS\s0\*(R" and \*(L"Arguments of actions\*(R".</p><p><em>join_url \s-1FRAGMENTS\s0</em></p><p>Encodes \*(C`FRAGMENTS\*(C' and joins them with \*(C`/\*(C'.</p><p><em>escape \s-1STRINGS\s0</em></p><p>Returns \*(C`STRINGS\*(C', properly URI-escaped.</p>
<h3>Various helpers</h3>
<p><em>email_eq \s-1EMAIL\s0, \s-1EMAIL\s0</em></p><p>Compares the two email addresses. Returns true if they're equal, false if they're not.</p><p><em>is_me \s-1EMAIL\s0</em></p><p>Returns true if \*(C`EMAIL\*(C' looks like it is the same as the current user's.</p><p><em>email_of \s-1ID\s0</em></p><p>Retrieve user \*(C`ID\*(C''s email address.</p><p><em>load_date \s-1DATE\s0</em></p><p>Loads \*(C`DATE\*(C' (which must be of the form \*(C`YYYY-MM-DD\*(C') into a DateTime object.</p><p><em>get_sid</em></p><p>Retrieves the sid from the LWP::UserAgent object.</p>
<h3>Working with config</h3>
<p><em>load_config</em></p><p>This will return a hash reference of the user's preferences. Because this method is designed for use in small standalone scripts, it has a few peculiarities.</p><ul>
<li><p>It will \*(C`warn\*(C' if the permissions are too liberal on the config file, and fix them.</p></li><li><p>It will prompt the user for an email and password if necessary. Given the email and password, it will attempt to log in using them. If that fails, then it will try again.</p></li><li><p>Upon successful login, it will write a new config consisting of the options already in the config plus session \s-1ID\s0, email, and password.</p></li>
</ul><p><em>config_permissions</em></p><p>This will warn about (and fix) config files being readable by group or others.</p><p><em>read_config_file</em></p><p>This transforms the config file into a hashref. It also does any postprocessing needed, such as transforming localhost to 127.0.0.1 (due to an obscure bug, probably in HTTP::Cookies).</p><p>The config file is a \s-1YAML\s0 document that looks like:</p><p>    ---     email: you@example.com     password: drowssap     sid: 11111111111111111111111111111111</p><p><em>write_config_file</em></p><p>This will write the config to disk. This is usually only done when a sid is discovered, but may happen any time.</p><p><em>filter_config [\s-1DIRECTORY\s0] -&gt; \s-1HASH\s0</em></p><p>Looks at the (given or) current directory, and all parent directories, for files named \*(C`$self-&gt;filter_file\*(C'. Each file is \s-1YAML\s0. The contents of the files will be merged (such that child settings override parent settings), and the merged hash will be returned.</p><p>What this is used for is up to the application or subclasses. Net::Jifty doesn't look at this at all, but it may in the future (such as for email and password).</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Net::Jifty&hellip;</h2>
        <div class="sectioncontent">
<p>Jifty, Net::Hiveminder</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Shawn M Moore, \*(C`&lt;sartak at bestpractical.com&gt;\*(C'</p><p>Ruslan Zakirov, \*(C`&lt;ruz at bestpractical.com&gt;\*(C'</p><p>Jesse Vincent, \*(C`&lt;jesse at bestpractical.com&gt;\*(C'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTRIBUTORS</h2>
        <div class="sectioncontent">
<p>Andrew Sterling Hanenkamp, \*(C`&lt;hanenkamp@gmail.com&gt;\*(C',</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report any bugs or feature requests to \*(C`bug-net-jifty at rt.cpan.org\*(C', or through the web interface at http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Net-Jifty &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Net-Jifty&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT & LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright 2007-2009 Best Practical Solutions.</p><p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Net::Jabber::Bot.3pm.html"><span aria-hidden="true">&larr;</span> Net::Jabber::Bot.3pm: Automated bot creation with safeties</a></li>
   <li class="next"><a href="Net::LDAP::FilterBuilder.3pm.html">Net::LDAP::FilterBuilder.3pm: Build ldap filter statements <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
