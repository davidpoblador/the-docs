<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tspi_Context_GetRegisteredKeysByUUID2: Get an array of tss_km_keyinfo2 structures based on the state of persistent storage.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Get an array of tss_km_keyinfo2 structures based on the state of persistent storage.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Tspi_Context_GetRegisteredKeysByUUID2 (3) manual">
  <meta name="twitter:description" content="Get an array of tss_km_keyinfo2 structures based on the state of persistent storage.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libtspi-dev-Tspi_Context_GetRegisteredKeysByUUID2-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/Tspi_Context_GetRegisteredKeysByUUID2.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Tspi_Context_GetRegisteredKeysByUUID2 (3) manual" />
  <meta property="og:description" content="Get an array of tss_km_keyinfo2 structures based on the state of persistent storage." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libtspi-dev-Tspi_Context_GetRegisteredKeysByUUID2-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Tspi_Context_GetRegisteredKeysByUUID2<small> (3)</small></h1>
        <p class="lead">Get an array of tss_km_keyinfo2 structures based on the state of persistent storage.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/Tspi_Context_GetRegisteredKeysByUUID2.3.html">
      <span itemprop="name">Tspi_Context_GetRegisteredKeysByUUID2: Get an array of tss_km_keyinfo2 structures based on the state of persistent storage.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libtspi-dev/">
      <span itemprop="name">libtspi-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/Tspi_Context_GetRegisteredKeysByUUID2.3.html">
      <span itemprop="name">Tspi_Context_GetRegisteredKeysByUUID2: Get an array of tss_km_keyinfo2 structures based on the state of persistent storage.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;tss/platform.h&gt;</strong>
<strong>#include &lt;tss/tcpa_defines.h&gt;</strong>
<strong>#include &lt;tss/tcpa_typedef.h&gt;</strong>
<strong>#include &lt;tss/tcpa_struct.h&gt;</strong>
<strong>#include &lt;tss/tss_typedef.h&gt;</strong>
<strong>#include &lt;tss/tss_structs.h&gt;</strong>
<strong>#include &lt;tss/tspi.h&gt;</strong>

<strong>TSS_RESULT Tspi_Context_GetRegisteredKeysByUUID2(TSS_HCONTEXT     </strong><em>hContext</em><strong>,  TSS_FLAG </strong><em>persistentStorageType</em><strong>,</strong>
<strong>                                                TSS_UUID*        </strong><em>pUuidData</em><strong>, UINT32*  </strong><em>pulKeyHierarchySize</em><strong>,</strong>
<strong>                                                TSS_KM_KEYINFO2** </strong><em>ppKeyHierarchy</em><strong>);</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>TSS_Context_GetRegisteredKeysByUUID2</strong>  gets an array of TSS_KM_KEYINFO2 structures. This information reflects the state of the registered key hierarchy. The keys stored in the persistent storage are totallly independent from either the context provided in the function call or the context, which was provided while processing the key registration.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<h3>hContext</h3>
<p>The handle of the context object.</p>
<h3>persistentStorageType</h3>
<p>Flag indicating the persistent storage the key is registered in.</p>
<h3>pUuidData</h3>
<p>The UUID the key was registered in the persistent storage (TSP or connected TCS). If no key UUID is provided, thus KeyUUID is NULL, the returned array of the TSS_KM_KEYINFO2 structure contains data reflecting the whole key hierarchy starting with root key. If a certain key is UUID is provided, the returned array of TSS_KM_KEYINFO2 structures only contains data reflecting the path of the key hierarchy regarding that key. The first array entry is the key addressed by the given UUID followed by its parent key up to the root key.</p>
<h3>pulKeyHierarchySize</h3>
<p>Recieves the length (number of array entries) of the ppKeyHierarchy parameter.</p>
<h3>ppKeyHierarchy</h3>
<p>On successful completion of the command, this parameter points to a buffer containing the actual key hierarchy data.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN CODES</h2>
        <div class="sectioncontent">
<p><strong>Tspi_Context_GetRegisteredKeysByUUID2</strong> returns TSS_SUCCESS on success, otherwise one of the following values are returned:</p>
<dl class='dl-vertical'>
  <dt>
    <p><small>TSS_E_INVALID_HANDLE - </small><em>hContext</em> is an invalid handle.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><small>TSS_E_BAD_PARAMETER</small></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><small>TSS_E_INTERNAL_ERROR</small></p>
  </dt>
  <dd>
    <p>An error occurred internal to the TSS.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p><strong>Tspi_Context_GetRegisteredKeysByUUID2</strong> conforms to the Trusted Computing Group Software Specification version 1.2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Tspi_Context_GetRegisteredKeysByUUID2&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/Tspi_Context_LoadKeyByUUID.3.html"><strong>Tspi_Context_LoadKeyByUUID</strong>(3)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Tspi_Context_GetRegisteredKeysByUUID.3.html"><span aria-hidden="true">&larr;</span> Tspi_Context_GetRegisteredKeysByUUID.3: Get an array of tss_km_keyinfo structures based on the state of persistent storage.</a></li>
   <li class="next"><a href="Tspi_Context_GetTpmObject.3.html">Tspi_Context_GetTpmObject.3: Get the handle of the tpm object associated with a context. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
