<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NetApp::Filer: Oo class for managing netapp filer devices</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Oo class for managing netapp filer devices">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="NetApp::Filer (3pm) manual">
  <meta name="twitter:description" content="Oo class for managing netapp filer devices">
  <meta name="twitter:image" content="https://www.carta.tech/images/libnetapp-perl-NetApp::Filer-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/NetApp::Filer.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="NetApp::Filer (3pm) manual" />
  <meta property="og:description" content="Oo class for managing netapp filer devices" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libnetapp-perl-NetApp::Filer-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">NetApp::Filer<small> (3pm)</small></h1>
        <p class="lead">Oo class for managing netapp filer devices</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/NetApp::Filer.3pm.html">
      <span itemprop="name">NetApp::Filer: Oo class for managing netapp filer devices</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libnetapp-perl/">
      <span itemprop="name">libnetapp-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/NetApp::Filer.3pm.html">
      <span itemprop="name">NetApp::Filer: Oo class for managing netapp filer devices</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use NetApp::Filer;

    my $filer           = NetApp::Filer-&gt;new({
        hostname        =&gt; $hostname_of_nasfiler,
        ssh_identity    =&gt; "/path/to/ssh/identify/file",
    });

    my $filer           = NetApp::Filer-&gt;new({
        hostname        =&gt; $hostname_of_nasfiler,
        protocol        =&gt; &apos;telnet&apos;,
        telnet_password =&gt; $telnet_password,
    });
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This class implements methods for communication with a NetApp Filer device.  Both ssh and telnet are supported, but only ssh is really recommended.  NetApp doesn't support concurrent access via telnet, and the error checking using ssh is far more robust.  Not to mention, you can configure secure access via ssh without using passwords, but telnet access will always require a password.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>Filer Specific Methods</h3>
<p><em>new( </em><strong>$args_ref</strong><em> )</em></p><p>This method takes a hash reference of arguments, and returns a NetApp::Filer object to be used to communicate with the specified filer.</p><p>The arguments are as follows:</p><p>    NetApp::Filer-&gt;new({         # Required arguments         hostname        =&gt; $hostname,         # Optional arguments         username        =&gt; $username,         ssh_identify    =&gt; $ssh_identity,         ssh_command     =&gt; [ @ssh_command ],         protocol        =&gt; &apos;ssh&apos; | &apos;telnet&apos;,         telnet_password =&gt; $telnet_password,         telnet_timeout  =&gt; $telnet_timeout,         cache_enabled   =&gt; 0 || 1,         cache_expiration =&gt; $cache_expiration,     });</p>
<dl class='dl-vertical'>
  <dt>
    (required) hostname
  </dt>
  <dd>
    <p>The value of this argument is a string, which is the hostname of the filer to connect to.</p>
  </dd>
  <dt>
    (optional) username
  </dt>
  <dd>
    <p>The username to use for communication.  Defaults to 'root'.</p>
  </dd>
  <dt>
    (optional) ssh_identify
  </dt>
  <dd>
    <p>The ssh identify file to use for ssh communication.  If not specified then ssh will be invoked without the -i argument, and will use whatever default identify file is setup for the current user. In practice, this argument will almost always be required, but the code allows it to be optional. If the specified file doesn't exist, then a fatal exception is raised.</p>
  </dd>
  <dt>
    (optional) ssh_command
  </dt>
  <dd>
    <p>An array reference representing the ssh command to be used to communication.  Defaults to just ['ssh']. Don't use this argument to specify the identity via -i.  Instead, use the ssh_identify argument.  If you need to specify certain ssh options, for example StrictHostKeyChecking, then use this argument. For example:     my $filer           = NetApp::Filer-&gt;new({         hostname        =&gt; $somenasfiler,         ssh_command     =&gt; [qw( ssh -o StrictHostKeyChecking=no )],     });</p>
  </dd>
  <dt>
    (optional) protocol
  </dt>
  <dd>
    <p>This option is a string, either 'ssh' or 'telnet'.  The default, and recommended, protocol is ssh.  While telnet is supported, only one concurrent root telnet session per filer is allowed, and the error checking over telnet is far less robust than ssh.</p>
  </dd>
  <dt>
    (optional) telnet_password
  </dt>
  <dd>
    <p>This option is a string, and specified the root password to use when connecting via telnet.  Note that password based ssh connectivity is not supported, and telnet access, while supported, is not recommended. The author uses the telnet support for only one thing: installing the ssh keys, and configuring ssh access.</p>
  </dd>
  <dt>
    (optional) cache_enabled
  </dt>
  <dd>
    <p>\s-1NOTE:\s0 The caching mechanism is considered experimental.  For one thing, it depends on using a patched version of Memoize::Expire, which is still not yet available on \s-1CPAN\s0.  Use with caution. This option has a boolean value, and is used to disable the internal caching of the results of several \s-1API\s0 calls.  By default, the cache is disabled.  If enabled, then the result of any of the following NetApp::Filer methods will be cached, using Memoize:     get_aggregate     get_volume     get_qtree To enable caching of these \s-1API\s0 calls, set cache_enabled to a true value.  The cached values will expire (see the next option), unless the expiration value is set to 0.</p>
  </dd>
  <dt>
    (optional) cache_expiration
  </dt>
  <dd>
    <p>This option is an integer, and is the number of seconds to cache results of the above \s-1API\s0 calls.  The default value is 10 seconds. Setting this value to 0 will prevent the cached values from expiring at all.</p>
  </dd>

</dl>
<p><em>get_version</em></p><p>Returns a NetApp::Filer::Version object.</p><p><em>get_licenses</em></p><p>Returns a list of NetApp::Filer::License objects, each of which represents a single licensed service on the filer.  Note that if the service is \*(L"not licensed\*(R", it is ignored.  Only services with active of expired licensed are returned.</p><p><em>get_license( </em><strong>$service</strong><em> )</em></p><p>Returns a single NetApp::Filer::License object for the specified service.</p><p><em>add_license( </em><strong>$code</strong><em> )</em></p><p>Adds a license using the specified code.  Returns a boolean value only.</p><p><em>delete_license( </em><strong>$service</strong><em> )</em></p><p>Deleted the license for the specified service.  Returns a boolean value only.</p>
<h3>Aggregate Specific Methods</h3>
<p><em>get_aggregate_names</em></p><p>Returns a list of strings, each of which is the name of an aggregate on the filer.</p><p><em>get_aggregates</em></p><p>Returns a list of NetApp::Aggregate objects, each of which represents an aggregate on the filer.</p><p><em>get_aggregate( </em><strong>$name</strong><em> )</em></p><p>Returns a single NetApp::Aggregate object for the specified aggregate name.</p><p><em>create_aggregate( </em><strong>%args</strong><em> )</em></p><p>Create an aggregate using the specified arguments, and returns the NetApp::Aggregate object that represents it.  The arguments are as follows:</p><p>    my $aggregate = $filer-&gt;create_aggregate(         # Required arguments         name            =&gt; $name,         # Optional arguments         raidtype        =&gt; &apos;raid0&apos; | &apos;raid4&apos; | &apos;raid_dp&apos;,         raidsize        =&gt; $raidsize,         disktype        =&gt; &apos;ATA&apos; | &apos;FCAL&apos; | &apos;LUN&apos; | &apos;SAS&apos; | &apos;SATA&apos; | &apos;SCSI&apos;,         diskcount       =&gt; $diskcount,         disksize        =&gt; $disksize,         rpm             =&gt; $rpm,         language        =&gt; $language,         snaplock        =&gt; &apos;Compliance&apos; | &apos;Enterprise&apos;,         mirrored        =&gt; 1,           # -m         traditional     =&gt; 1,           # -v         force           =&gt; 1,           # -f         disks           =&gt; [             # To specify a single set of disks:             &apos;disk1&apos;, &apos;disk2&apos;, ....             # To specify two sets of disks:             [ &apos;disk1&apos;, &apos;disk2&apos;, .... ],             [ &apos;diskn&apos;, &apos;disktn+1&apos;, .... ],         ],     );</p><p><em>destroy_aggregate( </em><strong>%args</strong><em> )</em></p><p>Destroy an aggregate using the specified arguments.  The arguments are as follows:</p><p>    $filer-&gt;destroy_aggregate(         # Required arguments         name            =&gt; $name,     );</p>
<h3>Volume Specific Methods</h3>
<p><em>get_volume_names</em></p><p>Returns a list of strings, each of which is the name of a volume on the filer.</p><p><em>get_volumes</em></p><p>Returns a list of NetApp::Volume objects, each of which represents a volume on the filer.</p><p><em>get_volume( </em><strong>$name</strong><em> )</em></p><p>Returns a single NetApp::Volume object for the specified volume name.</p>
<h3>Qtree Specific Methods</h3>
<p><em>get_qtree_names</em></p><p>Returns a list of strings, each of which is the name of a qtree on the filer.</p><p><em>get_qtrees</em></p><p>Returns a list of NetApp::Qtree objects, each of which represents a single qtree on the filer.</p><p><em>get_qtree( </em><strong>$name</strong><em> )</em></p><p>Returns a single NetApp::Qtree object for the specified qtree name. The name must in the form of a pathname, for example:</p><p>    /vol/volume_name/qtree_name</p><p>The qtree_name is optional if querying the object for a volume's qtree.</p><p><em>create_qtree( </em><strong>%args</strong><em> )</em></p><p>Creates a qtree on the filer.  The arguments are as follows:</p><p>    $filer-&gt;create_qtree(         # Required arguments         name            =&gt; $name,         # Optional arguments         mode            =&gt; $mode,         security        =&gt; &apos;unix&apos; | &apos;ntfs&apos; | &apos;mixed&apos;,         oplocks         =&gt; 0 | 1,     );</p>
<dl class='dl-vertical'>
  <dt>
    (required) name
  </dt>
  <dd>
    <p>The name of the qtree to create.</p>
  </dd>
  <dt>
    (optional) mode
  </dt>
  <dd>
    <p>The \s-1UNIX\s0 mode bits to use when creating the qtree.</p>
  </dd>
  <dt>
    (optional) security
  </dt>
  <dd>
    <p>The security of the qtree.  This must be one of: unix, ntfs, or mixed.</p>
  </dd>
  <dt>
    (optional) oplocks
  </dt>
  <dd>
    <p>This option specified whether or not oplocks are to be enabled on the qtree.  The value is interpreted in a boolean context, true meaning \*(L"enabled\*(R" and false meaning \*(L"disabled\*(R".</p>
  </dd>

</dl>

<h3>Snapmirror Specific Methods</h3>
<p><em>set_snapmirror_state( </em><strong>$state</strong><em> )</em></p><p>Sets the snapmirror state on the filer to the specified value, which must be either of the strings \*(L"off\*(R" or \*(L"on\*(R".</p><p><em>get_snapmirror_state</em></p><p>Returns a string, either \*(L"off\*(R" or \*(L"on\*(R", indicating whether or not snapmirror is turned off or on for this filer.</p><p><em>get_snapmirrors</em></p><p>Returns a list of NetApp::Snapmirror objecte, each of which represents a single snapmirror relationship on the filer.</p>
<h3>Export Specific Methods</h3>
<p>There is one general purpose method to retrieve all of the \s-1NFS\s0 exports on a filer, and 4 special purpose ones that make it easy to see the difference between the contents of /etc/exports, and the live exports reported by \*(L"exportfs\*(R".</p><p><em>get_exports</em></p><p>Returns a list of NetApp::Filer::Export objects, each of which represents an \s-1NFS\s0 export on the filer.</p><p><em>get_permanent_exports</em></p><p>Returns a list of NetApp::Filer::Export objects, each of which represents a permanent export, which is one found in the /etc/exports file.</p><p><em>get_temporary_exports</em></p><p>Returns a list of NetApp::Filer::Export objects, each of which represents a temporary export, which is one \s-1NOT\s0 found in the /etc/exports file.  Temporary exports are ones created manually, using \*(L"exportfs -io\*(R", or by using the \*(L"exportfs -b\*(R" option to fence clients, or any other command which creates a live \s-1NFS\s0 export that has not yet been written to /etc/exports, and which will not survive a reboot of the filer.</p><p><em>get_active_exports</em></p><p>Returns a list of NetApp::Filer::Export objects, each of which represents a active export.  Active exports are those reported by the \*(L"exportfs\*(R" command.  They can be permanent, if they are found in /etc/exports, or temporary, if created by hand.</p><p><em>get_inactive_exports</em></p><p>Returns a list of NetApp::Filer::Export objects, each of which represents a inactive export.  An inactive export is a permanent export found in /etc/exports, but which is \s-1NOT\s0 found in the list of active exports reported by \*(L"exportfs\*(R".  If the options of a permanent export are changed, but not saved to /etc/exports (eg. re-export something with \*(L"exportfs -io\*(R"), then the active, temporary export for that same path, and the inactive, permanent export in /etc/exports can both exist concurrently.</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="NetApp::Aggregate::RAIDGroup.3pm.html"><span aria-hidden="true">&larr;</span> NetApp::Aggregate::RAIDGroup.3pm: Oo class for representing netapp raidgroups</a></li>
   <li class="next"><a href="NetApp::Filer::Export.3pm.html">NetApp::Filer::Export.3pm: Oo class for representing nfs exports <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
