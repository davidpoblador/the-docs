<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Render: Render a volume</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Render a volume">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Render (3) manual">
  <meta name="twitter:description" content="Render a volume">
  <meta name="twitter:image" content="https://www.carta.tech/images/libvolpack1-dev-Render-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/Render.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Render (3) manual" />
  <meta property="og:description" content="Render a volume" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libvolpack1-dev-Render-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Render<small> (3)</small></h1>
        <p class="lead">Render a volume</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/Render.3.html">
      <span itemprop="name">Render: Render a volume</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libvolpack1-dev/">
      <span itemprop="name">libvolpack1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/Render.3.html">
      <span itemprop="name">Render: Render a volume</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;volpack.h&gt;</p><p>&#92;$1 <strong>vpRenderRawVolume(</strong><em>vpc</em><strong>)</strong></p><ul>
<li><p>vpContext *<em>vpc;</em></p><p><strong>vpRenderClassifiedVolume(</strong><em>vpc</em><strong>)</strong> vpContext *<em>vpc;</em></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>vpc</em>
  </dt>
  <dd>
    <p>VolPack context from <strong>vpCreateContext.</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>These routines are used to render a volume using the parameters in a rendering context.  <strong>vpRenderRawVolume</strong> renders the data in the current voxel array and stores the result in the current image array. If an octree is present in the context (see <strong>vpCreateMinMaxOctree</strong>(3)) then it is used to accelerate rendering.  <strong>vpRenderClassifiedVolume</strong> is identical in function except that it renders the current preclassified volume (see <strong>vpClassifyVolume</strong>(3)) instead of the voxel array, and the octree is not used.</p><p><strong>vpRenderClassifiedVolume</strong> should be used when the same volume is rendered multiple times with the same opacity transfer function.  This rendering mode is the fastest.  The opacity transfer function must not change because the voxel opacities must be fixed to compute a preclassified volume.</p><p><strong>vpRenderRawVolume</strong> should be used when the volume data or the opacity transfer function changes in between renderings.  If the volume data remains fixed then a min-max octree should be computed to accelerate rendering.  Rendering is significantly faster with an octree than without, although it is still slower than rendering with <strong>vpRenderClassifiedVolume</strong>.</p><p>Before the rendering routines are called the rendering context must be initialized to set the volume parameters, classification parameters (<strong>vpRenderRawVolume</strong> only), viewing parameters, shading and lighting parameters, and image array.  See <a href="../man3/VolPack.3.html"><strong>VolPack</strong>(3)</a> for a list of relevant functions.</p><p>One important state variable should be adjusted before calling the rendering routines: the maximum opacity threshold.  This number specifies a threshold value for the opacity of an image pixel.  If the opacity of the pixel reaches the threshold then no more voxels are composited into the pixel.  The threshold should be a number slightly less than one (0.95 is a good value); numbers closer to 1.0 result in longer rendering times, but less error.  The value of the threshold is changed by calling <strong>vpSetd</strong> with the VP_MAX_RAY_OPACITY option. The default value is 1.0.</p><p>There are two additional state variables that can be adjusted to set the size of an internal data structure.  During rendering, a work buffer called the intermediate image is used to hold temporary results.  The size of this data structure depends on the size of the volume and the current view transformation matrix.  Over the course of an animation sequence the intermediate image may have to be enlarged multiple times, resulting in many calls to the memory allocator. Normally the overhead of reallocating the data structure is negligible and can be ignored.  However, this overhead can be eliminated by specifying hints for the maximum size of the intermediate image.  The data structure will then be allocated once, and will never be reallocated unless an even larger intermediate image is required.  To set the size hints, call <strong>vpSeti</strong> with the VP_INT_WIDTH_HINT and VP_INT_HEIGHT_HINT state variable codes.  If the viewing transformation does not include any scaling, then the maximum possible size of each dimension of the intermediate image is twice the size of the largest dimension of the volume.  To get a more precise bound, the intermediate image size required for rendering a volume with the current viewing parameters can be found by calling <strong>vpGeti</strong> with the VP_INTERMEDIATE_WIDTH and VP_INTERMEDIATE_HEIGHT state variable codes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>The normal return value is VP_OK.  The following error return values are possible:</p>
<dl class='dl-vertical'>
  <dt>
    VPERROR_BAD_SHADER
  </dt>
  <dd>
    <p>The shading lookup tables are sized incorrectly, or one of the voxel fields used to index the tables is invalid, or the number of material types is invalid.</p>
  </dd>
  <dt>
    VPERROR_SINGULAR
  </dt>
  <dd>
    <p>One of the current view transformation matrices is singular.</p>
  </dd>
  <dt>
    VPERROR_BAD_VOLUME
  </dt>
  <dd>
    <p>The volume size has not been set or is invalid, or there is no volume data.</p>
  </dd>
  <dt>
    VPERROR_BAD_VOXEL
  </dt>
  <dd>
    <p>The voxel size or the voxel fields have not been specified or have been incorrectly specified.</p>
  </dd>
  <dt>
    VPERROR_BAD_CLASSIFIER
  </dt>
  <dd>
    <p>The opacity transfer function tables have invalid sizes or are associated with invalid voxel fields or have been incorrectly specified.  (<strong>vpRenderRawVolume</strong> only)</p>
  </dd>
  <dt>
    VPERROR_BAD_SHADOW
  </dt>
  <dd>
    <p>The angle between the shadow light vector and the viewing direction is too large (must be less than 45 degrees).  Either change the light direction or disable shadows (see vpSetShadowLookupShader).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Render&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/VolPack.3.html"><strong>VolPack</strong>(3)</a>, <strong>vpCreateContext</strong>(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="RectObj.3.html"><span aria-hidden="true">&larr;</span> RectObj.3: Rectobj  the rectobj widget class "rectobj" "widget class" "rectobj"</a></li>
   <li class="next"><a href="Resample.3.html">Resample.3: Resample an array <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
