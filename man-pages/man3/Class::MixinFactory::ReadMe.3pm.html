<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Class::MixinFactory::ReadMe: About the mixin class factory</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="About the mixin class factory">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Class::MixinFactory::ReadMe (3pm) manual">
  <meta name="twitter:description" content="About the mixin class factory">
  <meta name="twitter:image" content="https://www.carta.tech/images/libclass-mixinfactory-perl-Class::MixinFactory::ReadMe-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Class::MixinFactory::ReadMe.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Class::MixinFactory::ReadMe (3pm) manual" />
  <meta property="og:description" content="About the mixin class factory" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libclass-mixinfactory-perl-Class::MixinFactory::ReadMe-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Class::MixinFactory::ReadMe<small> (3pm)</small></h1>
        <p class="lead">About the mixin class factory</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MixinFactory::ReadMe.3pm.html">
      <span itemprop="name">Class::MixinFactory::ReadMe: About the mixin class factory</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libclass-mixinfactory-perl/">
      <span itemprop="name">libclass-mixinfactory-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Class::MixinFactory::ReadMe.3pm.html">
      <span itemprop="name">Class::MixinFactory::ReadMe: About the mixin class factory</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  package MyClass;
  use Class::MixinFactory -hasafactory;
  sub new { ... }
  sub foo { return "Foo Bar" }

  package MyClass::Logging;
  sub foo { warn "Calling foo"; (shift)-&gt;NEXT(&apos;foo&apos;, @_) }

  package MyClass::UpperCase;
  sub foo { uc( (shift)-&gt;NEXT(&apos;foo&apos;, @_) ) }

  package main;

  my $class = MyClass-&gt;class( &apos;Logging&apos;, &apos;UpperCase&apos; );

  print $class-&gt;new()-&gt;foo();
  # Calls MyClass::Logging::foo, MyClass::UpperCase::foo, MyClass::foo
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ABSTRACT</h2>
        <div class="sectioncontent">
<p>This distribution facilitates the run-time generation of classes which inherit from a base class and some optional selection of mixin classes.</p><p>A factory is provided to generate the mixed classes with multiple inheritance. A \s-1NEXT\s0 method allows method redispatch up the inheritance chain.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MOTIVATION</h2>
        <div class="sectioncontent">
<h3>The Challenge</h3>
<p>When developing an object class that will be used by different people for different purposes, I find myself drawn to solutions in which a minimal base class provides the shared behavior they all need, and a collection of subclasses provides layers of additional functionality.</p><p>For example, consider a text templating framework, which might be separated into several elements:</p><ul>
<li><p>a base class, which provides methods to convert marked-up text into runnable code,</p></li><li><p>an extension which enhances security by runing the code in a Safe compartment,</p></li><li><p>an extension which feeds output through an HTML-escaping filter, and</p></li><li><p>an extension which records internal profiling data for benchmarking purposes.</p></li>
</ul><p>(See Text::MicroMason for an example of this design.)</p>
<h3>A Bad Approach</h3>
<p>A naive implementation of this might use a subclass for each behaviour, and look like the following:</p><p>                    +---------+                     |   Base  |                     +---------+                          |        +-----------------+-----------------+        v                 v                 v   +---------+       +---------+       +---------+   |Benchmark|       |  Filter |       |   Safe  | @ISA=qw(Base)   +---------+       +---------+       +---------+</p><p>The well-known problem with this implementation appears when you want to combine several features:</p><p>                    +---------+                     |   Base  |                     +---------+                          |        +-----------------+-----------------+        v                 v                 v   +---------+       +---------+       +---------+   |Benchmark|       |  Filter |       |   Safe  | @ISA=qw(Base)   +---------+       +---------+       +---------+                          |                 |                          +--------+--------+                                   v                            +-------------+                            | Safe_Filter | @ISA=qw(Filter Safe)                            +-------------+</p><p>This is the dreaded \*(L"diamond inheritance\*(R" problem: if Base provides a <em>compile()</em> method, which Filter and Safe each override to perform additional actions before or after calling <em>SUPER::compile()</em>, how can we ensure they are all called in the correct sequence?</p>
<h3>A Good Approach</h3>
<p>The standard software engineering solution is to replace the use of inheritance with decomposition into several different classes of objects, which then cooperate through decoration and delegation; for example, using separate classes for a resolver, a lexer, a parser, a compiler, and an output channel. (See HTML::Mason for an example of this design.)</p><p>Indeed, composition is an underutilized design technique, and there are many times when inheritance is not the best tool to use. But of course, in Perl there's more than one way to solve this problem, one of which is facilitated by this distribution.</p>
<h3>A Different Approach</h3>
<p>We can rearrange our class hierarchy to avoid diamond inheritance by using a base and a collection of mixin classes, which don't directly inherit from the base class:</p><p>  +---------+       +---------+       +---------+       +---------+   |Benchmark|       |  Filter |       |   Safe  |       |   Base  |   +---------+       +---------+       +---------+       +---------+                          |                 |                 |                          +-----------------+-----------------+                                            v                                     +-------------+                                     | Safe_Filter | @ISA=qw(Filter                                     +-------------+     Safe Base)</p><p>However, in this condition our mixin classes can't call \s-1SUPER\s0 methods at all! Instead, another redispatch mechanism is needed, one that is able to back-track through the inheritance tree and explore other branches. (See \s-1NEXT\s0 for such an implementation.)</p><p>The order in which mixins are stacked is significant, so the caller does need to have some understanding of how their behaviors interact. For example, you'd typically want to ensure that the Benchmarking mixin was the first in the chain, so that it could time everything later in the sequence.</p>
<h3>This Distribution</h3>
<p>The Class::MixinFactory distribution provides serveral elements to facilitate tihs kind of dynamic mixin architecture. The top level package is just a facade that loads the other necessary classes and provides a few import options for compile-time convenience. (See Class::MixinFactory.)</p><p>To generate an object with some combination of mixins, you first use a mixin factory to generate a mixed class. If a class with that combination of classes has already been created, it is reused. You can add a factory method to your base class, create a separate factory object, or inherit to produce a factory class. (See Class::MixinFactory::Factory.)</p><p>To allow mixin classes to redispatch to subsequent classes, all mixed classes also inherit from a class which provides a \s-1<em>NEXT\s0()</em> method. (If you would prefer, your mixin class can alternately use the \s-1AUTOLOAD\s0 solution provided by the \s-1NEXT::ACTUAL\s0 module from \s-1CPAN\s0, or any other equivalent re-dispatch mechanism.) (See Class::MixinFactory::NEXT.)</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED MODULES</h2>
        <div class="sectioncontent">
<p>There are number of other modules on \s-1CPAN\s0 that also support mixins, method importing, or run-time multiple inheritance, while others don't use mixins but are addressing a similar area of concern.</p><ul>
<li><p>The mixin, Class::Mixin, and Spiffy modules support mixin classes but don't have a configurable factory object or support run-time mixin selection.</p></li><li><p>The Class::Mix and Class::Mutator modules provide run-time class generation with multiple inheritance, but don't provide a configurable factory object or a redispatch technique.</p></li><li><p>The Class::Factory module has a factory interface, but doesn't support multiple inheritance.</p></li><li><p>The \s-1NEXT\s0 module provides a backtracking equivalent to \s-1SUPER\s0 similar to the \s-1NEXT\s0 method included here, but uses \s-1AUTOLOAD\s0 rather than a universal method.</p></li><li><p>The Class::Delegate and other modules support decoration to address this problem via decomposition.</p></li><li><p>The Class::Role, Class::Roles and Class::Trait modules support composing shared behaviors into your class.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This is version 0.92.</p><p>Elements of the interface remain open to change.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>This module is new and relatively untested.</p><p>Please report any problems you encounter to the author at the below address.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTALLATION</h2>
        <div class="sectioncontent">
<p>This module should work with any version of Perl 5, without platform dependencies or additional modules beyond the core distribution.</p><p>You should be able to install this module using the \s-1CPAN\s0 shell interface:</p><p>  perl -MCPAN -e &apos;install Class::MixinFactory&apos;</p><p>Alternately, you may retrieve this package from \s-1CPAN\s0 (\*(C`http://search.cpan.org/~evo/\*(C') or from the author's site (\*(C`http://www.evoscript.org/Class-MixinFactory\*(C').</p><p>After downloading the distribution, follow the normal procedure to unpack and install it, using the commands shown below or their local equivalents on your system:</p><p>  tar xzf Class-MixinFactory-*.tar.gz   cd Class-MixinFactory-*   perl Makefile.PL   make test && sudo make install</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>If you have questions or feedback about this module, please feel free to contact the author at the below address. Although there is no formal support program, I do attempt to answer email promptly.</p><p>I would be particularly interested in any suggestions towards improving the documentation, correcting any Perl-version or platform dependencies, as well as general feedback and suggested additions.</p><p>Bug reports that contain a failing test case are greatly appreciated, and suggested patches will be promptly considered for inclusion in future releases.</p><p>To report bugs via the \s-1CPAN\s0 web tracking system, go to \*(C`http://rt.cpan.org/NoAuth/Bugs.html?Dist=Class-MixinFactory\*(C' or send mail to \*(C`Dist=Class-MixinFactory#rt.cpan.org\*(C', replacing \*(C`#\*(C' with \*(C`@\*(C'.</p><p>If you've found this module useful or have feedback about your experience with it, consider sharing your opinion with other Perl users by posting your comment to \s-1CPAN\s0's ratings system (\*(C`http://cpanratings.perl.org/rate/?distribution=Class-MixinFactory\*(C').</p><p>For more general discussion, you may wish to post a message on PerlMonks (\*(C`http://perlmonks.org/?node=Seekers%20of%20Perl%20Wisdom\*(C') or on the comp.lang.perl.misc newsgroup (\*(C`http://groups.google.com/groups?group=comp.lang.perl.misc\*(C').</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Developed by Matthew Simon Cavalletto at Evolution Softworks.  You may contact the author directly at \*(C`evo#cpan.org\*(C' or \*(C`simonm#cavalletto.org\*(C', replacing \*(C`#\*(C' with \*(C`@\*(C'.</p><p>Custom development and technical consulting are available at \*(C`www.evolutionsoftworks.com\*(C'. More free Perl software is available at \*(C`www.evoscript.org\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THANKS</h2>
        <div class="sectioncontent">
<p>My sincere thanks to the Perl Monks community for their feedback on earlier versions of this commentary.</p><p>  http://perlmonks.org/index.pl?node_id=398061   http://perlmonks.org/index.pl?node_id=399040</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright 2004 Matthew Simon Cavalletto.</p><p>You may use, modify, and distribute this software under the same terms as Perl.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Class::MixinFactory::NEXT.3pm.html"><span aria-hidden="true">&larr;</span> Class::MixinFactory::NEXT.3pm: Superclass method redispatch for mixins</a></li>
   <li class="next"><a href="Class::Multimethods.3pm.html">Class::Multimethods.3pm: Support multimethods and function overloading in perl <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
