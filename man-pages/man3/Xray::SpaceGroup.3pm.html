<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Xray::SpaceGroup: Symmetry operations for the crystal space groups</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Symmetry operations for the crystal space groups">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Xray::SpaceGroup (3pm) manual">
  <meta name="twitter:description" content="Symmetry operations for the crystal space groups">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxray-spacegroup-perl-Xray::SpaceGroup-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Xray::SpaceGroup.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Xray::SpaceGroup (3pm) manual" />
  <meta property="og:description" content="Symmetry operations for the crystal space groups" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxray-spacegroup-perl-Xray::SpaceGroup-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Xray::SpaceGroup<small> (3pm)</small></h1>
        <p class="lead">Symmetry operations for the crystal space groups</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Xray::SpaceGroup.3pm.html">
      <span itemprop="name">Xray::SpaceGroup: Symmetry operations for the crystal space groups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxray-spacegroup-perl/">
      <span itemprop="name">libxray-spacegroup-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Xray::SpaceGroup.3pm.html">
      <span itemprop="name">Xray::SpaceGroup: Symmetry operations for the crystal space groups</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This documentation refers to libperlxray version 0.1.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
   my $sg = Xray::SpaceGroup -&gt; new("Pm3m");
   $sg -&gt; fix({a     =&gt; $a,     b    =&gt; $b,    c     =&gt; $c,
               alpha =&gt; $alpha, beta =&gt; $beta, gamma =&gt; $gamma})
   @symmetry_ops  = $sg -&gt; positions;
   @bravais_trans = $sg -&gt; bravais;
   print $sg -&gt; report;
</pre>
<p>The two lists can be used to populate a unit cell, given a set of Wyckoff positions.  The report is a user-readable summary of the properties of the space group.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This provides an object-oriented interface to a database of space group symmetries transcribed from volume A of the International Tables for Crystallography.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>Accessor Methods</h3>
<p>This creates a new Xray::SpaceGroup object.   my $sg = Xray::SpaceGroup -&gt; new({group=&gt;"Pm3m"}); The space group symbol can be a Hermann-Maguin symbol, a Schoenflies symbol, the number of the space group, one of several nicknames (diamond, cscl, etc), or a few other symbols from the International Tables. The H-M symbol can contain any number of spaces and is case insensitive.  An overscore is indicated by a leading dash (\*(C`-\*(C') and a subscript is simply written as a normal character, as in \*(C`p 42 3 2\*(C' where \*(L"4 sub 2\*(R" is written as 42.  A slash is indicated by a forward slash (\*(C`/\*(C'). The sub- and superscripts of the Schoenflies symbol can come in either order and are indicated by caret (\*(C`^\*(C') and underscore (\*(C`_\*(C'). The nicknames are as follows:     symbol       number        nicknames    ------------------------------------------------------------     p 63 m c      186        graphite, gra     p 63/m m c    194        hex, hcp     f -4 3 m      216        zincblende, zns     p m -3 m      221        cubic, cscl, perov, perovskite     f m -3 m      225        fcc, salt, nacl     f m -3 d      227        diamond     i m -3 m      229        bcc Set the crystal setting based on the values of the lattice constants and verify that the lattice constants make sense for the selected crystal class.    $sg -&gt; fix({a     =&gt; $a,     b    =&gt; $b,    c     =&gt; $c,                alpha =&gt; $alpha, beta =&gt; $beta, gamma =&gt; $gamma}) The first chore of this method is quite necessary for a space group with multiple settings.  Selecting the correct setting requires knowledge of the lattice parameters.  For many space groups, including all cubic groups, this is a no-op. This will return a non-empty string if a problem was found in the \*(C`fix\*(C' method.  Most such problems result from a mismatch between the lattice constant values and what is expected for the crystal class. For instance, if a monoclinic space group symbol is given but all three angles are 90 degrees, a warning will be returned by this method.  This sort of problem rarely requires that your program stops, so no explicit exception is thrown when \*(C`fix\*(C' finds a problem.  If you want to know whether a problem was found, you must explicitly call this method. This method is the meaty part of this module.  This returns a list of lists containing the symmetry operations for your space group and the appropriate crystal setting.  Here is an example using a monoclinic space group, which has a short list of symmetry operations.     use Data::Dumper;     my $sg = Xray::SpaceGroup -&gt; new({group=&gt;&apos;7&apos;});     my @positions = $sg-&gt;positions;     print Data::Dumper-&gt;Dump([&#92;@positions], [qw(positions)]);       ==prints==&gt;         $positions = [                       [ &apos;$x&apos;, &apos;$y&apos;, &apos;$z&apos;      ],                       [ &apos;$x&apos;, &apos;-$y&apos;, &apos;$z+1/2&apos; ]                      ]; The elements of these lists are strings and are intended to be evaluated using perl's eval function.  For example, if you have a Wyckoff position of \*(C`(0.2, 0.3, 0.4)\*(C', then you might do this:     ($x, $y, $z) = (0.2, 0.3, 0.4);     @pos0 = (eval "$positions[0]-&gt;[0]",              eval "$positions[0]-&gt;[1]",              eval "$positions[0]-&gt;[2]"  );     @pos1 = (eval "$positions[1]-&gt;[0]",              eval "$positions[1]-&gt;[1]",              eval "$positions[1]-&gt;[2]"  ); This will result in \*(C`@pos0 = (0.2, 0.3, 0.4)\*(C' and \*(C`@pos2 = (0.2, -0.3, 0.9)\*(C'.  You would, in practice, wrap these evaluations inside proper control structures.  You might also use a Safe compartment if you are worried about the possibility of the database having been tainted. For high symmetry groups and high symmetry Wyckoff positions, these evaluations will generate the same positions repeatedly.  It is the responsibility of your application to weed out these repetitions.</p><p>There are also \*(C`set\*(C' and \*(C`get\*(C' methods, but properties of the space group should be obtained via the reporting methods listed below.</p>
<h3>Reporting Methods</h3>
<p>This writes a summary of the properties of the space group in a human-readable form.    my $space = Xray::SpaceGroup -&gt; new({group=&gt;7});    print join(", ", $space-&gt;bravais), $/;     ==prints==&gt;        Space group: p c (7)          supplied symbol        : 7          crystal class          : monoclinic            Schoenflies symbol   : c_s^2            crystal setting      : b_unique_1            Bravais translations :              none            Positions :              $x           $y           $z              $x           -$y          $z+1/2 This returns the canonical space symbol for this space group.    print $sg-&gt;group, $/;     ==prints==&gt;        p m -3 m This returns the space symbol supplied when the object was created.    print $sg-&gt;given, $/;     ==prints==&gt;        Pm3m This returns the number of the space group as in the International Tables.    print $sg-&gt;number, $/;     ==prints==&gt;        221 This returns the full symbol of the space group as in the International Tables.    print $sg-&gt;full, $/;     ==prints==&gt;        p 4/m -3 2/m This returns the Schoenflies symbol of the space group.    print $sg-&gt;schoenflies, $/;     ==prints==&gt;        o_h^1 This returns the symbol of the space group as it appeared in the 1935 edition of the International Tables, if it was different from the canonical symbol.  Otherwise this returns an empty string.    print $sg-&gt;thirtyfive, $/;     ==prints==&gt;        p m 3 m This returns the new symbol of the space group as introduced by the IUCr nomenclature report of 1992.  Only a handful of groups with glide planes have new symbols.  An empty string is returned for most groups.    my $sgnew = Xray::SpaceGroup -&gt; new({group=&gt;"a b a 2"});    print $sgnew-&gt;newsymbol, $/;     ==prints==&gt;        a e a 2 This returns the crystal class of the space group    print $sg-&gt;class, $/;     ==prints==&gt;        cubic This returns the setting of the space group using the nomenclature of the database used by this module.  If there is only one setting, this returns 0. For rhombohedral space groups, this returns a string \*(-- either \*(L"positions\*(R" or \*(L"rhombohedral\*(R" \*(-- indicating which set of symmetry operations should be used. For most monoclinic groups, this returns one of \*(L"b_unique\*(R", \*(L"c_unique\*(R", or \*(L"a_unique\*(R", indicating which set of symmetry operations should be used.  If the beta angle is not 90 degrees, the \*(L"b_unique\*(R" setting should be used.  If the gamma or alpha angles are not 90 degrees, the \*(L"c_unique\*(R" or \*(L"a_unique\*(R" settings should be used, respectively. For several monoclinic space groups, there are additional settings for each unique axis. These are indicated as \*(L"b_unique_1\*(R", \*(L"b_unique_2\*(R", \*(L"b_unique_3\*(R", and so on. This returns a 0, 3, 6, or 9 element list containing the Bravais translation vectors associated with the space group.    my $diamond = Xray::SpaceGroup -&gt; new({group=&gt;"f d -3 m"});    print join(", ", $diamond-&gt;bravais), $/;     ==prints==&gt;         0.000, 0.500, 0.500, 0.500, 0.000, 0.500, 0.500, 0.500, 0.000 Each triplet is a Bravais translation. The Bravais translations attempt to be sensitive to the specified crystal setting.  If you use ambiguous input (i.e. the number or the Schoenflies symbol) it is possible that a Bravais translation other than the one you want will be returned.  The telepathic interface is planned for version 2.0.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COERCIONS</h2>
        <div class="sectioncontent">
<p>When the reference to the Xray::SpaceGroup object is used in string context, the \*(C`group\*(C' method is returned.  When used in numerical context, the \*(C`number\*(C' method is returned.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION AND ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>This requires that the <em>space_groups.db</em> file, which is generated by the <em>space_groups.db.PL</em> script, be installed in the correct location. There are no other configuration options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>This module uses several things from the standard distribution along with:</p><p>Class::Std</p><p>List::MoreUtils</p><p>Readonly</p><p>Regexp::List</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND LIMITATIONS</h2>
        <div class="sectioncontent">
<p>Missing features:</p><ul>
<li><p>Groups 5, 8, 12 list 9 symbols, but 3 sets of positions.  What's up with that?</p></li><li><p>Groups 12 - 15, short notation is ambiguous, requires angles to resolve.</p></li><li><p>\*(C`_determine_monoclinic\*(C' should use alpha/beta/gamma, \*(C`_canonicalize_group\*(C' already parsed the given_group</p></li><li><p>Recognize setting for R groups</p></li><li><p>Rotate symmetry ops for orthorhombic groups to the setting specified by the symbol.  In atoms, I rotate the coordinates and rotate them back.  Rotating the symmetry ops is a better, more general purpose solution.</p></li><li><p>Handle alternate tetragonal group settings here rather than in the application.</p></li>
</ul><p>Please report problems to Bruce Ravel (bravel \s-1AT\s0 bnl \s-1DOT\s0 gov)</p><p>Patches are welcome.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Bruce Ravel (bravel \s-1AT\s0 bnl \s-1DOT\s0 gov)</p><p>http://cars9.uchicago.edu/~ravel/software/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p>Julie Cross and Matt Newville gave me a copy of volume A of the International Tables for Crystallography as a graduation present from grad school.  Was that a blessing or a curse?</p><p>Saulius Grazulis, whose useful feedback inspired this most recent rewrite of this code.  Earlier versions of Atoms benefited from the help and criticism of Shelly Kelly, Daniel Haskel, Chuck Bouldin, Hannes Fischer, Glenn Forney, Chris Glover, John Rehr, Hubert Renevier, Julia Wienold, Andrzej Wilamowski, Boyan Boyanovich, Ed Stern, Hans Stragier, Kalle Voss, Steve Zabinsky, and Yanjun Zhang. All the users of my codes over the years have driven me to provide the best possible code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENCE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 1999-2008 Bruce Ravel (bravel \s-1AT\s0 bnl \s-1DOT\s0 gov). All rights reserved.</p><p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. See perlartistic.</p><p>This program is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Xray::Scattering::WaasKirf.3pm.html"><span aria-hidden="true">&larr;</span> Xray::Scattering::WaasKirf.3pm: Perl interface to the waaskirf-kirfel tables</a></li>
   <li class="next"><a href="YAML::Shell.3pm.html">YAML::Shell.3pm: The yaml test shell <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
