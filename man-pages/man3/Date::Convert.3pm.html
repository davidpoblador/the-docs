<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Date::Convert: Convert between any two calendrical formats</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert between any two calendrical formats">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Date::Convert (3pm) manual">
  <meta name="twitter:description" content="Convert between any two calendrical formats">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdate-convert-perl-Date::Convert-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Date::Convert.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Date::Convert (3pm) manual" />
  <meta property="og:description" content="Convert between any two calendrical formats" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdate-convert-perl-Date::Convert-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Date::Convert<small> (3pm)</small></h1>
        <p class="lead">Convert between any two calendrical formats</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Date::Convert.3pm.html">
      <span itemprop="name">Date::Convert: Convert between any two calendrical formats</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdate-convert-perl/">
      <span itemprop="name">libdate-convert-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Date::Convert.3pm.html">
      <span itemprop="name">Date::Convert: Convert between any two calendrical formats</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        use Date::DateCalc;
</pre>
<p>        $date=new Date::Convert::Gregorian(1997, 11, 27);         @date=$date-&gt;date;         convert Date::Convert::Hebrew $date;         print $date-&gt;date_string, "&#92;n";</p><p>Currently defined subclasses:</p><p>        Date::Convert::Absolute         Date::Convert::Gregorian         Date::Convert::Hebrew         Date::Convert::Julian</p><p>Date::Convert is intended to allow you to convert back and forth between any arbitrary date formats (ie. pick any from: Gregorian, Julian, Hebrew, Absolute, and any others that get added on).  It does this by having a separate subclass for each format, and requiring each class to provide standardized methods for converting to and from the date format of the base class.  In this way, instead of having to code a conversion routine for going between and two arbitrary formats foo and bar, the function only needs to convert foo to the base class and the base class to bar.  Ie:</p><p>        Gregorian &lt;--&gt; Base class &lt;--&gt; Hebrew</p><p>The base class includes a <strong>Convert</strong> method to do this transparently.</p><p>Nothing is exported because it wouldn't make any sense to export.  :)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Fucntion can be split into several categories:</p><ul>
<li><p>Universal functions available for all subclasses (ie. all formats).  The fundamental conversion routines fit this category.</p></li><li><p>Functions that are useful but don't necessarily make sense for all subclasses.  The overwhelming majority of functions fall into this category.  Even such seemingly universal concepts as year, for instance, don't apply to all date formats.</p></li><li><p>Private functions that are required of all subclasses, ie. <strong>initialize</strong>. These should <em>not</em> be called by users.</p></li>
</ul><p>Here's the breakdown by category:</p><p><strong>&#92;$1</strong></p>
<dl class='dl-vertical'>
  <dt>
    new
  </dt>
  <dd>
    <p>Create a new object in the specified format with the specified start paramaters, ie. \*(C`$date = new Date::Convert::Gregorian(1974, 11, 27)\*(C'.  The start parameters vary with the subclass.  My personal preference is to order in decreasing order of generality (ie. year first, then month, then day, or year then week, etc.) This can have a default date, which should probably be \*(L"today\*(R".</p>
  </dd>
  <dt>
    date
  </dt>
  <dd>
    <p>Extract the date in a format appropriate for the subclass.  Preferably this should match the format used with <strong>new</strong>, so         (new date::Convert::SomeClass(@a))-&gt;date; should be an identity function on @a if @a was in a legitmate format.</p>
  </dd>
  <dt>
    date_string
  </dt>
  <dd>
    <p>Return the date in a pretty format.</p>
  </dd>
  <dt>
    convert
  </dt>
  <dd>
    <p>Change the date to a new format.</p>
  </dd>
  <dt>
    year
  </dt>
  <dd>
    <p>Return just the year element of date.</p>
  </dd>
  <dt>
    month
  </dt>
  <dd>
    <p>Just like year.</p>
  </dd>
  <dt>
    day
  </dt>
  <dd>
    <p>Just like year and month.</p>
  </dd>
  <dt>
    is_leap
  </dt>
  <dd>
    <p>Boolean.  Note that (for <strong>::Hebrew</strong> and <strong>::Gregorian</strong>, at least!) this can be also be used as a static.  That is, you can either say 	$date-&gt;is_leap or 	is_leap Date::Convert::Hebrew 5757 You shouldn't call these, but if you want to add a class, you'll need to write them!  Or it, since at the moment, there's only one.</p>
  </dd>
  <dt>
    initialize
  </dt>
  <dd>
    <p>Read in args and initialize object based on their values.  If there are no args, initialize with the base class's initialize (which will initialize in the default way described above for <strong>new</strong>.)  Note the American spelling of \*(L"initialize\*(R": \*(L"z\*(R", not \*(L"s\*(R".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBCLASS SPECIFIC NOTES</h2>
        <div class="sectioncontent">
<p>The \*(L"Absolute\*(R" calendar is just the number of days from a certain reference point.  Calendar people should recognize it as the \*(L"Julian Day Number\*(R" with one minor modification:  When you convert a Gregorian day n to absolute, you get the \s-1JDN\s0 of the Gregorian day from noon on.</p><p>Since \*(L"absolute\*(R" has no notion of years it is an extremely easy calendar for conversion purposes.  I stole the \*(L"absolute\*(R" calendar format from Reingold's emacs calendar mode, for debugging purposes.</p><p>The subclass is little more than the base class, and as the lowest common denominator, doesn't have any special functions. The Gregorian calendar is a purely solar calendar, with a month that is only an approximation of a lunar month.  It is based on the old Julian (Roman) calendar.  This is the calendar that has been used by most of the Western world for the last few centuries.  The time of its adoption varies from country to country.  This <strong>::Gregorian</strong> allows you to extrapolate back to 1 A.D., as per the prorgamming tradition, even though the calendar definitely was not in use then.</p><p>In addition to the required methods, <strong>Gregorian</strong> also has <strong>year</strong>, <strong>month</strong>, <strong>day</strong>, and <strong>is_leap</strong> methods.  As mentioned above, <strong>is_leap</strong> can also be used statically. This is the traditional Jewish calendar.  It's based on the solar year, on the lunar month, and on a number of additional rules created by Rabbis to make life tough on people who calculate calendars.  :)  If you actually wade through the source, you should note that the seventh month really does come before the first month, that's not a bug.</p><p>It comes with the following additional methods: <strong>year</strong>, <strong>month</strong>, <strong>day</strong>, <strong>is_leap</strong>, <strong>rosh</strong>, <strong>part_add</strong>, and <strong>part_mult</strong>.  <strong>rosh</strong> returns the absolute day corresponding to \*(L"Rosh HaShana\*(R" (New year) for a given year, and can also be invoked as a static.  <strong>part_add</strong> and <strong>part_mult</strong> are useful functions for Hebrew calendrical calculations are not for much else; if you're not familiar with the Hebrew calendar, don't worry about them. The traditional Muslim calendar, a purely lunar calendar with a year that is a rough approximation of a solar year.  Currently unimplemented. The old Roman calendar, allegedly named for Julius Caesar.  Purely solar, with a month that is a rough approximation of the lunar month.  Used extensively in the Western world up to a few centuries ago, then the West gradually switched over to the more accurate Gregorian.  Now used only by the Eastern Orthodox Church, \s-1AFAIK\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ADDING NEW SUBCLASSES</h2>
        <div class="sectioncontent">
<p>This section describes how to extend <strong>Date::Convert</strong> to add your favorite date formats.  If you're not interested, feel free to skip it.  :)</p><p>There are only three function you <em>have</em> to write to add a new subclass: you need <strong>initialize</strong>, <strong>date</strong>, and <strong>date_string</strong>.  Of course, helper functions would probably help. . .  You do <em>not</em> need to write a <strong>new</strong> or <strong>convert</strong> function, since the base class handles them nicely.</p><p>First, a quick conceptual overhaul: the base class uses an \*(L"absolute day format\*(R" (basically \*(L"Julian day format\*(R") borrowed from <strong>emacs</strong>.  This is just days numbered absolutely from an extremely long time ago.  It's really easy to use, particularly if you have emacs and emacs' <strong>calendar mode</strong>. Each Date::Convert object is a reference to a hash (as in all \s-1OO\s0 perl) and includes a special \*(L"absol\*(R" value stored under a reserved \*(L"absol\*(R" key.  When <strong>initialize</strong> initializes an object, say a Gregorian date, it stores whatever data it was given in the object and it also calculates the \*(L"absol\*(R" equivalent of the date and stores it, too.  If the user converts to another date, the object is wiped clean of all data except \*(L"absol\*(R".  Then when the <strong>date</strong> method for the new format is called, it calculates the date in the new format from the \*(L"absol\*(R" data.</p><p>Now that I've thoroughly confused you, here's a more compartmentalized version:</p>
<dl class='dl-vertical'>
  <dt>
    initialize
  </dt>
  <dd>
    <p>Take the date supplied as argument as appropriate to the format, and convert it to \*(L"absol\*(R" format.  Store it as $$self{'absol'}.  You might also want to store other data, ie. <strong>::Gregorian</strong> stores $$self{'year'}, $$self{'month'}, and $$self{'day'}.  If no args are supplied, explicitly call the base class's initialize, ie. \*(C`Date::Convert::initialize\*(C', to initialize with a default 'absol' date and nothing else. <em>\s-1NOTE:\s0</em>  I may move the default behavior into the new constructor.</p>
  </dd>
  <dt>
    date
  </dt>
  <dd>
    <p>Return the date in a appropriate format.  Note that the only fact that <strong>date</strong> can take as given is that $$self{'absol'} is defined, ie. this object may <em>not</em> have been initialized by the <strong>initialize</strong> of this object's class.  For instance, you might have it check if $$self{'year'} is defined.  If it is, then you have the year component, otherwise, you calculate year from $$self{'absol'}.</p>
  </dd>
  <dt>
    date_string
  </dt>
  <dd>
    <p>This is the easy part.  Just call date, then return a pretty string based on the values.</p>
  </dd>

</dl>
<p><em>\s-1NOTE:\s0</em> The <strong>::Absolute</strong> subclass is a special case, since it's nearly an empty subclass (ie. it's just the base class with the required methods filled out).  Don't use it as an example!  The easiest code to follow would have been <strong>::Julian</strong> except that Julian inherits from <strong>::Gregorian</strong>. Maybe I'll reverse that. . .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>        #!/usr/local/bin/perl5 -w</p><p>        use Date::Convert;</p><p>        $date=new Date::Convert::Gregorian(1974, 11, 27);         convert Date::Convert::Hebrew $date;         print $date-&gt;date_string, "&#92;n";</p><p>My Gregorian birthday is 27 Nov 1974.  The above prints my Hebrew birthday.</p><p>        convert Date::Convert::Gregorian $date;         print $date-&gt;date_string, "&#92;n";</p><p>And that converts it back and prints it in Gregorian.</p><p>        $guy = new Date::Convert::Hebrew (5756, 7, 8);         print $guy-&gt;date_string, " -&gt; ";         convert Date::Convert::Gregorian $guy;         print $guy-&gt;date_string, "&#92;n";</p><p>Another day, done in reverse.</p><p>        @a=(5730, 3, 2);         @b=(new Date::Convert::Hebrew @a)-&gt;date;         print "@a&#92;n@b&#92;n";</p><p>The above should be an identity for any list @a that represents a legitimate date.</p><p>        #!/usr/local/bin/perl -an</p><p>        use Date::Convert;</p><p>        $date = new Date::Convert::Gregorian @F;         convert Date::Convert::Hebrew $date;         print $date-&gt;date_string, "&#92;n";</p><p>And that's a quick Greg -&gt; Hebrew conversion program, for those times when people ask.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Date::Convert&hellip;</h2>
        <div class="sectioncontent">
<p><em>perl</em>\|(1), <em>Date::DateCalc</em>\|(3)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>Date::Convert 0.15 (pre-alpha)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Mordechai T. Abzug &lt;morty@umbc.edu&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS AND FURTHER READING</h2>
        <div class="sectioncontent">
<p>The basic idea of using astronomical dates as an intermediary between all calculations comes from Dershowitz and Reingold.  Reingold's code is the basis of emacs's calendar mode.  Two papers describing their work (which I used to own, but lost!  Darn.) are:</p><p>``Calendrical Calculations'' by Nachum Dershowitz and Edward M. Reingold, <em>Software\*(--Practice and Experience</em>, Volume 20, Number 9 (September, 1990), pages 899-928.  ``Calendrical Calculations, Part \s-1II:\s0 Three Historical Calendars'' by E. M. Reingold, N. Dershowitz, and S. M. Clamen, <em>Software\*(--Practice and Experience</em>, Volume 23, Number 4 (April, 1993), pages 383-404.</p><p>They were also scheduled to come out with a book on calendrical calculations in Dec. 1996, but as of March 1997, it still isn't out yet.</p><p>The Hebrew calendrical calculations are largely based on a cute little English book called <em>The Hebrew Calendar</em> (I think. . .)  in a box somewhere at my parents' house.  (I'm organized, see!)  I'll have to dig around next time I'm there to find it.  If you want to access the original Hebrew sources, let me give you some advice: Hilchos Kiddush HaChodesh in the Mishneh Torah is not the Rambam's most readable treatment of the subject.  He later wrote a little pamphlet called \*(L"MaAmar HaEibur\*(R" which is both more complete and easier to comprehend.  It's included in \*(L"Mich't'vei HaRambam\*(R" (or some such; I've <em>got</em> to visit that house), which was reprinted just a few years ago.</p><p>Steffen Beyer's Date::DateCalc showed me how to use MakeMaker and write \s-1POD\s0 documentation.  Of course, any error is my fault, not his!</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 1997 by Mordechai T. Abzug</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE STUFF</h2>
        <div class="sectioncontent">
<p>You can distribute, modify, and otherwise mangle Date::Convert under the same terms as perl.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Data::YAML::Writer.3pm.html"><span aria-hidden="true">&larr;</span> Data::YAML::Writer.3pm: Easy yaml serialisation</a></li>
   <li class="next"><a href="Date::Hijri.3pm.html">Date::Hijri.3pm: Perl extension to convert islamic (hijri) and gregorian dates. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
