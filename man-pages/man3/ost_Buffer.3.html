<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ost_Buffer: The buffer class represents an ipc service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The buffer class represents an ipc service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ost_Buffer (3) manual">
  <meta name="twitter:description" content="The buffer class represents an ipc service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcommoncpp2-doc-ost_Buffer-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ost_Buffer.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ost_Buffer (3) manual" />
  <meta property="og:description" content="The buffer class represents an ipc service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcommoncpp2-doc-ost_Buffer-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ost_Buffer<small> (3)</small></h1>
        <p class="lead">The buffer class represents an ipc service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ost_Buffer.3.html">
      <span itemprop="name">ost_Buffer: The buffer class represents an ipc service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcommoncpp2-doc/">
      <span itemprop="name">libcommoncpp2-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ost_Buffer.3.html">
      <span itemprop="name">ost_Buffer: The buffer class represents an ipc service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;buffer.h&gt;</p><p>Inherits <strong>ost::Conditional</strong>.</p><p>Inherited by <strong>ost::FixedBuffer</strong>.</p><h3>Public Member Functions</h3>
<p><strong>Buffer</strong> (size_t capacity)</p><p><em>Create a buffer object of known capacity. </em> virtual <strong>~Buffer</strong> ()</p><p><em>In derived functions, may be used to free the actual memory used to hold buffered data. </em> size_t <strong>getSize</strong> (void)</p><p><em>Return the capacity of the buffer as specified at creation. </em> size_t <strong>getUsed</strong> (void)</p><p><em>Return the current capacity in use for the buffer. </em> size_t <strong>wait</strong> (void *buf, <strong>timeout_t</strong> <strong>timeout</strong>=0)</p><p><em>Let one or more threads wait for an object to become available in the buffer. </em> size_t <strong>post</strong> (void *buf, <strong>timeout_t</strong> <strong>timeout</strong>=0)</p><p><em>Post an object into the buffer and enable a waiting thread to receive it. </em> size_t <strong>peek</strong> (void *buf)</p><p><em>Peek at the current content (first object) in the buffer. </em> virtual bool <strong>isValid</strong> (void)</p><p><em>New virtual to test if buffer is a valid object. </em></p>
<h3>Static Public Attributes</h3>
<p>static const size_t <strong>timeout</strong></p><p><em>value to return when a timed operation returned with a timeout. </em></p>
<h3>Protected Member Functions</h3>
<p>virtual size_t <strong>onPeek</strong> (void *buf)=0</p><p><em>Invoke derived class buffer peeking method. </em> virtual size_t <strong>onWait</strong> (void *buf)=0</p><p><em>Invoke derived class object request from buffer. </em> virtual size_t <strong>onPost</strong> (void *buf)=0</p><p><em>Invoke derived class posting of object to buffer. </em></p>
<h3>Related Functions</h3>
<p>(Note that these are not member functions.) size_t <strong>get</strong> (<strong>Buffer</strong> &b, void *o, <strong>timeout_t</strong> t=0)</p><p>size_t <strong>put</strong> (<strong>Buffer</strong> &b, void *o, <strong>timeout_t</strong> t=0)</p><p>size_t <strong>peek</strong> (<strong>Buffer</strong> &b, void *o)</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>The buffer class represents an IPC service that is built upon a buffer of fixed capacity that can be used to transfer objects between one or more producer and consumer threads.</p><p>Producer threads post objects into the buffer, and consumer threads wait for and receive objects from the buffer. Semaphores are used to to block the buffer from overflowing and indicate when there is data available, and mutexes are used to protect multiple consumers and producer threads from stepping over each other.</p><p>The buffer class is an abstract class in that the actual data being buffered is not directly specified within the buffer class itself. The buffer class should be used as a base class for a class that actually impliments buffering and which may be aware of the data types actually are being buffered. A template class could be created based on buffer for this purpose. Another possibility is to create a class derived from both <strong>Thread</strong> and <strong>Buffer</strong> which can be used to implement message passing threads.</p><p><strong>Author:</strong></p><p>David Sugar dyfet@ostel.com Producer/Consumer buffer for use between threads.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor & Destructor Documentation</h2>
        <div class="sectioncontent">
<h3>ost::Buffer::Buffer (size_tcapacity)</h3>
<p>Create a buffer object of known capacity.</p><p><strong>Parameters:</strong></p><p><em>capacity</em> is the integer capacity of the buffer.</p>
<h3>virtual ost::Buffer::~Buffer ()\fC [virtual]\fP</h3>
<p>In derived functions, may be used to free the actual memory used to hold buffered data.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Function Documentation</h2>
        <div class="sectioncontent">
<h3>size_t ost::Buffer::getSize (void)\fC [inline]\fP</h3>
<p>Return the capacity of the buffer as specified at creation.</p><p><strong>Returns:</strong></p><p>size of buffer.</p>
<h3>size_t ost::Buffer::getUsed (void)\fC [inline]\fP</h3>
<p>Return the current capacity in use for the buffer. Free space is technically <strong>getSize()</strong> - <strong>getUsed()</strong>.</p><p><strong>Returns:</strong></p><p>integer used capacity of the buffer.</p><p><strong>See Also:</strong></p><p><strong>getSize</strong></p>
<h3>virtual bool ost::Buffer::isValid (void)\fC [virtual]\fP</h3>
<p>New virtual to test if buffer is a valid object.</p><p><strong>Returns:</strong></p><p>true if object is valid.</p><p>Reimplemented in <strong>ost::FixedBuffer</strong>.</p>
<h3>virtual size_t ost::Buffer::onPeek (void *buf)\fC [protected]\fP, \fC [pure virtual]\fP</h3>
<p>Invoke derived class buffer peeking method.</p><p><strong>Returns:</strong></p><p>size of object found.</p><p><strong>Parameters:</strong></p><p><em>buf</em> pointer to copy contents of head of buffer to.</p><p>Implemented in <strong>ost::FixedBuffer</strong>.</p>
<h3>virtual size_t ost::Buffer::onPost (void *buf)\fC [protected]\fP, \fC [pure virtual]\fP</h3>
<p>Invoke derived class posting of object to buffer.</p><p><strong>Returns:</strong></p><p>size of object posted.</p><p><strong>Parameters:</strong></p><p><em>buf</em> pointer to object being posted to the buffer.</p><p>Implemented in <strong>ost::FixedBuffer</strong>.</p>
<h3>virtual size_t ost::Buffer::onWait (void *buf)\fC [protected]\fP, \fC [pure virtual]\fP</h3>
<p>Invoke derived class object request from buffer.</p><p><strong>Returns:</strong></p><p>size of object returned.</p><p><strong>Parameters:</strong></p><p><em>buf</em> pointer to hold object returned from the buffer.</p><p>Implemented in <strong>ost::FixedBuffer</strong>.</p>
<h3>size_t ost::Buffer::peek (void *buf)</h3>
<p>Peek at the current content (first object) in the buffer.</p><p><strong>Returns:</strong></p><p>size of object in the buffer.</p><p><strong>Parameters:</strong></p><p><em>buf</em> pointer to store object found in the buffer.</p><p>Referenced by peek().</p>
<h3>size_t ost::Buffer::post (void *buf, \fBtimeout_t\fPtimeout = \fC0\fP)</h3>
<p>Post an object into the buffer and enable a waiting thread to receive it.</p><p><strong>Returns:</strong></p><p>size of object posted in bytes.</p><p><strong>Parameters:</strong></p><p><em>buf</em> pointer to object to store in the buffer.</p><p><em>timeout</em> time to wait.</p><p>Referenced by put().</p>
<h3>size_t ost::Buffer::wait (void *buf, \fBtimeout_t\fPtimeout = \fC0\fP)</h3>
<p>Let one or more threads wait for an object to become available in the buffer. The waiting thread(s) will wait forever if no object is ever placed into the buffer.</p><p><strong>Returns:</strong></p><p>size of object passed by buffer in bytes.</p><p><strong>Parameters:</strong></p><p><em>buf</em> pointer to store object retrieved from the buffer.</p><p><em>timeout</em> time to wait.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Friends And Related Function Documentation</h2>
        <div class="sectioncontent">
<h3>size_t get (\fBBuffer\fP &b, void *o, \fBtimeout_t\fPt = \fC0\fP)\fC [related]\fP</h3>

<h3>size_t peek (\fBBuffer\fP &b, void *o)\fC [related]\fP</h3>
<p><strong>Examples: </strong> <strong>SampleSocketPort.cpp</strong>.</p><p>References peek().</p>
<h3>size_t put (\fBBuffer\fP &b, void *o, \fBtimeout_t\fPt = \fC0\fP)\fC [related]\fP</h3>
<p>References post().</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Data Documentation</h2>
        <div class="sectioncontent">
<h3>const size_t ost::Buffer::timeout\fC [static]\fP</h3>
<p>value to return when a timed operation returned with a timeout.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for GNU CommonC++ from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ost_BaseObject.3.html"><span aria-hidden="true">&larr;</span> ost_BaseObject.3: Baseobject.</a></li>
   <li class="next"><a href="ost_CRC16Digest.3.html">ost_CRC16Digest.3: A crc16 collection/compution hash accumulator class. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
