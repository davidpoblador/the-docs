<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DBIx::Class::DynamicDefault: Automatically set and update fields</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Automatically set and update fields">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="DBIx::Class::DynamicDefault (3pm) manual">
  <meta name="twitter:description" content="Automatically set and update fields">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdbix-class-dynamicdefault-perl-DBIx::Class::DynamicDefault-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/DBIx::Class::DynamicDefault.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="DBIx::Class::DynamicDefault (3pm) manual" />
  <meta property="og:description" content="Automatically set and update fields" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdbix-class-dynamicdefault-perl-DBIx::Class::DynamicDefault-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">DBIx::Class::DynamicDefault<small> (3pm)</small></h1>
        <p class="lead">Automatically set and update fields</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DBIx::Class::DynamicDefault.3pm.html">
      <span itemprop="name">DBIx::Class::DynamicDefault: Automatically set and update fields</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdbix-class-dynamicdefault-perl/">
      <span itemprop="name">libdbix-class-dynamicdefault-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/DBIx::Class::DynamicDefault.3pm.html">
      <span itemprop="name">DBIx::Class::DynamicDefault: Automatically set and update fields</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  package My::Schema::SomeTable;

  _\|_PACKAGE_\|_-&gt;load_components(qw/DynamicDefault ... Core/);

  _\|_PACKAGE_\|_-&gt;add_columns(
          quux          =&gt; { data_type =&gt; &apos;integer&apos; },
          quux_plus_one =&gt; { data_type =&gt; &apos;integer&apos;,
                             dynamic_default_on_create =&gt; &#92;&quux_plus_one_default,
                             dynamic_default_on_update =&gt; &apos;quux_plus_one_default&apos;, },
          last_changed  =&gt; { data_type =&gt; &apos;integer&apos;,
                             dynamic_default_on_create =&gt; &apos;now&apos;,
                             dynamic_default_on_update =&gt; &apos;now, },
  );

  sub quux_plus_one_default {
      my ($self) = @_;
      return $self-&gt;quux + 1;
  }

  sub now {
      return DateTime-&gt;now-&gt;epoch;
  }
</pre>
<p>Now, any update or create actions will set the specified columns to the value returned by the callback you specified as a method name or code reference.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Automatically set and update fields with values calculated at runtime.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>dynamic_default_on_create</h3>
<p>  dynamic_default_on_create =&gt; sub { ... }</p><p>  dynamic_default_on_create =&gt; &apos;method_name&apos;</p><p>When inserting a new row all columns with the \*(C`dynamic_default_on_create\*(C' option will be set to the return value of the specified callback unless the columns value has been explicitly set. The callback, that'll be invoked with the row object as its only argument, may be a code reference or a method name.</p>
<h3>dynamic_default_on_update</h3>
<p>  dynamic_default_on_update =&gt; sub { ... }</p><p>  dynamic_default_on_update =&gt; &apos;method_name&apos;</p><p>When updating a row all columns with the \*(C`dynamic_default_on_update\*(C' option will be set to the return value of the specified callback unless the columns value has been explicitly set.</p><p>Columns will only be altered if other dirty columns exist. See \*(C`always_update\*(C' on how to change this.</p>
<h3>always_update</h3>
<p>  always_update =&gt; 1</p><p>When setting \*(C`always_update\*(C' to 1 \*(C`dynamic_default_on_update\*(C' callbacks will always be invoked, even if no other columns are dirty.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Florian Ragwitz &lt;rafl@debian.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This software is copyright (c) 2008 by Florian Ragwitz.</p><p>This is free software; you can redistribute it and/or modify it under the same terms as perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="DBIx::Class::Cursor::Cached.3pm.html"><span aria-hidden="true">&larr;</span> DBIx::Class::Cursor::Cached.3pm: Cursor class with built-in caching support</a></li>
   <li class="next"><a href="DBIx::Class::HTMLWidget.3pm.html">DBIx::Class::HTMLWidget.3pm: Like fromform but with dbix::class and html::widget <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
