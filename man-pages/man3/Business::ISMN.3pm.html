<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Business::ISMN: Work with international standard music numbers</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Work with international standard music numbers">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Business::ISMN (3pm) manual">
  <meta name="twitter:description" content="Work with international standard music numbers">
  <meta name="twitter:image" content="https://www.carta.tech/images/libbusiness-ismn-perl-Business::ISMN-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Business::ISMN.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Business::ISMN (3pm) manual" />
  <meta property="og:description" content="Work with international standard music numbers" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libbusiness-ismn-perl-Business::ISMN-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Business::ISMN<small> (3pm)</small></h1>
        <p class="lead">Work with international standard music numbers</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Business::ISMN.3pm.html">
      <span itemprop="name">Business::ISMN: Work with international standard music numbers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libbusiness-ismn-perl/">
      <span itemprop="name">libbusiness-ismn-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Business::ISMN.3pm.html">
      <span itemprop="name">Business::ISMN: Work with international standard music numbers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
        use Business::ISMN;

        $ismn_object = new Business::ISMN(&apos;M021765430&apos;);
        $ismn_object = new Business::ISMN(&apos;M-021-76543-0&apos;);

        #print the ISMN with hyphens at positions specified
        #by constructor
        print $ismn_object-&gt;as_string;

        #print the ISMN with hyphens at specified positions.
        #this not does affect the default positions
        print $ismn_object-&gt;as_string([]);

        #print the publisher or publisher code
        print $ismn-&gt;publisher;
        print $ismn-&gt;publisher_code;

        #check to see if the ISMN is valid
        $ismn_object-&gt;is_valid;

        #fix the ISMN checksum.  BEWARE:  the error might not be
        #in the checksum!
        $ismn_object-&gt;fix_checksum;

        # create an EAN13 barcode in PNG format
        $ismn_object-&gt;png_barcode;

        #EXPORTABLE FUNCTIONS

        use Business::ISMN qw( is_valid_checksum
                ismn_to_ean ean_to_ismn );

        #verify the checksum
        if( is_valid_checksum(&apos;0123456789&apos;)
                eq Business::ISMN::GOOD_ISMN )
                { ... }

        #convert to EAN (European Article Number)
        $ean = ismn_to_ean(&apos;1565921496&apos;);

        #convert from EAN (European Article Number)
        $ismn = ean_to_ismn(&apos;9781565921498&apos;);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<h3>Methods</h3>

<dl class='dl-vertical'>
  <dt>
    new($ismn)
  </dt>
  <dd>
    <p>The constructor accepts a scalar representing the \s-1ISMN\s0. The string representing the \s-1ISMN\s0 may contain characters other than \*(C`[0-9mM]\*(C', although these will be removed in the internal representation.  The resulting string must look like an \s-1ISMN\s0 - the first character is an 'M' and the following nine characters must be digits. The constructor attempts to determine the country code and the publisher code.  If these data cannot be determined, the constructor sets \*(C`$obj-&gt;is_valid\*(C' to something other than \*(C`GOOD_ISMN\*(C'. An object is still returned and it is up to the program to check \*(C`$obj-&gt;is_valid\*(C' for one of five values (which may be exported on demand). The actual values of these symbolic versions are the same as those from previous versions of this module which used literal values.         Business::ISMN::INVALID_PUBLISHER_CODE         Business::ISMN::BAD_CHECKSUM         Business::ISMN::GOOD_ISMN         Business::ISMN::BAD_ISMN The string passed as the \s-1ISMN\s0 need not be a valid \s-1ISMN\s0 as long as it superficially looks like one.  This allows one to use the \*(C`fix_checksum()\*(C' method.  Despite the disclaimer in the discussion of that method, the author has found it extremely useful.  One should check the validity of the \s-1ISMN\s0 with \*(C`is_valid()\*(C' rather than relying on the return value of the constructor.  If all one wants to do is check the validity of an \s-1ISMN\s0, one can skip the object-oriented interface and use the \*(C`is_valid_checksum()\*(C' function which is exportable on demand. If the constructor decides it cannot create an object, it returns \*(C`undef\*(C'.  It may do this if the string passed as the \s-1ISMN\s0 cannot be munged to the internal format meaning that it does not even come close to looking like an \s-1ISMN\s0.</p>
  </dd>
  <dt>
    ismn
  </dt>
  <dd>
    <p>Returns the \s-1ISMN\s0 as a string</p>
  </dd>
  <dt>
    publisher
  </dt>
  <dd>
    <p>Returns the country associated with the publisher code.</p>
  </dd>
  <dt>
    publisher_code
  </dt>
  <dd>
    <p>Returns the publisher code or \*(C`undef\*(C' if no publisher code was found.</p>
  </dd>
  <dt>
    article_code
  </dt>
  <dd>
    <p>Returns the article code or \*(C`undef\*(C' if no article code was found.</p>
  </dd>
  <dt>
    checksum
  </dt>
  <dd>
    <p>Returns the checksum or \*(C`undef\*(C' if no publisher code was found.</p>
  </dd>
  <dt>
    hyphen_positions
  </dt>
  <dd>
    <p>Returns the list of hyphen positions as determined from the country and publisher codes.  the \*(C`as_string\*(C' method provides a way to temporarily override these positions and to even forego them altogether.</p>
  </dd>
  <dt>
    <em>as_string()</em>,  as_string([])
  </dt>
  <dd>
    <p>Return the \s-1ISMN\s0 as a string.  This function takes an optional anonymous array (or array reference) that specifies the placement of hyphens in the string.  An empty anonymous array produces a string with no hyphens. An empty argument list automatically hyphenates the \s-1ISMN\s0 based on the discovered publisher code.  An \s-1ISMN\s0 that is not valid may produce strange results. The positions specified in the passed anonymous array are only used for one method use and do not replace the values specified by the constructor. The method assumes that you know what you are doing and will attempt to use the least three positions specified.  If you pass an anonymous array of several positions, the list will be sorted and the lowest three positions will be used. Positions less than 1 and greater than 9 are silently ignored.</p>
  </dd>
  <dt>
    is_valid
  </dt>
  <dd>
    <p>Returns \*(C`Business::ISMN::GOOD_ISMN\*(C' if the checksum is valid and the country and publisher codes are defined. Returns \*(C`Business::ISMN::BAD_CHECKSUM\*(C' if the \s-1ISMN\s0 does not pass the checksum test. The constructor accepts invalid \s-1ISMN\s0's so that they might be fixed with \*(C`fix_checksum\*(C'. Returns \*(C`Business::ISMN::INVALID_PUBLISHER_CODE\*(C' if a publisher code could not be determined. Returns \*(C`Business::ISMN::BAD_ISMN\*(C' if the string has no hope of ever looking like a valid \s-1ISMN\s0.  This might include strings such as "abc", "123456", and so on.</p>
  </dd>
  <dt>
    is_valid_publisher_code
  </dt>
  <dd>
    <p>Returns true if the publisher code is valid, and false otherwise.</p>
  </dd>
  <dt>
    <em>fix_checksum()</em>
  </dt>
  <dd>
    <p>Replace the tenth character with the checksum the corresponds to the previous nine digits.  This does not guarantee that the \s-1ISMN\s0 corresponds to the product one thinks it does, or that the \s-1ISMN\s0 corresponds to any product at all.  It only produces a string that passes the checksum routine.  If the \s-1ISMN\s0 passed to the constructor was invalid, the error might have been in any of the other nine positions. Converts the \s-1ISMN\s0 to the equivalent \s-1EAN\s0 (European Article Number). No pricing extension is added.  Returns the \s-1EAN\s0 as a string.  This method can also be used as an exportable function since it checks its argument list to determine what to do.</p>
  </dd>
  <dt>
    <em>png_barcode()</em>
  </dt>
  <dd>
    <p>Creates a \s-1PNG\s0 image of the \s-1EAN13\s0 barcode which corresponds to the \s-1ISMN\s0. Returns the image as a string.</p>
  </dd>

</dl>

<h3>\s-1EXPORTABLE\s0 \s-1FUNCTIONS\s0</h3>
<p>Some functions can be used without the object interface.  These do not use object technology behind the scenes.</p>
<dl class='dl-vertical'>
  <dt>
    is_valid_checksum('M021765430')
  </dt>
  <dd>
    <p>Takes the \s-1ISMN\s0 string and runs it through the checksum comparison routine.  Returns \*(C`Business::ISMN::GOOD_ISMN\*(C' if the \s-1ISMN\s0 is valid, \*(C`Business::ISMN::BAD_CHECKSUM\*(C' if the string looks like an \s-1ISMN\s0 but has an invalid checksum, and \*(C`Business::ISMN::BAD_ISMN\*(C' if the string does not look like an \s-1ISMN\s0.</p>
  </dd>
  <dt>
    ismn_to_ean('M021765430')
  </dt>
  <dd>
    <p>Takes the \s-1ISMN\s0 string and converts it to the equivalent \s-1EAN\s0 string.  This function checks for a valid \s-1ISMN\s0 and will return undef for invalid ISMNs, otherwise it returns the \s-1EAN\s0 as a string. Uses as_ean internally, which checks its arguments to determine what to do.</p>
  </dd>
  <dt>
    ean_to_ismn('9790021765439')
  </dt>
  <dd>
    <p>Takes the \s-1EAN\s0 string and converts it to the equivalent \s-1ISMN\s0 string.  This function checks for a valid \s-1ISMN\s0 and will return undef for invalid ISMNs, otherwise it returns the \s-1EAN\s0 as a string. Uses as_ean internally, which checks its arguments to determine what to do.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO DO</h2>
        <div class="sectioncontent">
<p>* i need more \s-1ISMN\s0 numbers for tests</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE AVAILABILITY</h2>
        <div class="sectioncontent">
<p>This source is part of a SourceForge project which always has the latest sources in \s-1CVS\s0, as well as all of the previous releases.</p><p>        http://sourceforge.net/projects/brian-d-foy/</p><p>If, for some reason, I disappear from the world, one of the other members of the project can shepherd this module appropriately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>brian d foy, \*(C`&lt;bdfoy@cpan.org&gt;\*(C'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2001-2007, brian d foy, All Rights Reserved.</p><p>You may redistribute this under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Business::EDI::Spec.3pm.html"><span aria-hidden="true">&larr;</span> Business::EDI::Spec.3pm: Object class for csv-based u.n. edi specifications</a></li>
   <li class="next"><a href="Business::OnlinePayment::AuthorizeNet.3pm.html">Business::OnlinePayment::AuthorizeNet.3pm: Authorizenet backend for business::onlinepayment <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
