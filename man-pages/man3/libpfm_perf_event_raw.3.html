<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libpfm_perf_event_raw: Support for perf_events raw events syntax</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Support for perf_events raw events syntax">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libpfm_perf_event_raw (3) manual">
  <meta name="twitter:description" content="Support for perf_events raw events syntax">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/libpfm_perf_event_raw.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libpfm_perf_event_raw (3) manual" />
  <meta property="og:description" content="Support for perf_events raw events syntax" />
  <meta property="fb:app_id" content="1241677679199500" />

</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libpfm_perf_event_raw<small> (3)</small></h1>
        <p class="lead">Support for perf_events raw events syntax</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libpfm_perf_event_raw.3.html">
      <span itemprop="name">libpfm_perf_event_raw: Support for perf_events raw events syntax</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/perfmon2/">
      <span itemprop="name">perfmon2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/libpfm_perf_event_raw.3.html">
      <span itemprop="name">libpfm_perf_event_raw: Support for perf_events raw events syntax</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;perfmon/pfmlib.h&gt;</strong>

<strong>PMU name: perf_raw</strong>
<strong>PMU desc: Raw perf_events event syntax</strong>

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The library supports a pseudo PMU model to allow raw encodings of PMU events for the Linux perf_events kernel interface.</p><p>With this PMU, it is possible to provide the raw hexadecimal encoding of any hardware event for any PMU models. The raw encoding is passed as is to the kernel. All events are encoded as <strong>PERF_TYPE_RAW</strong>. As such, perf_events generic events, such as cycles, instructions, cannot be encoded by this PMU.</p><p>The syntax is very simple: rX. X is the hexadecimal 64-bit value for the event. It may include event filters on some PMU models. The hexadecimal number is passed without the 0x prefix, e.g., r01c4.</p><p>The library's standard perf_events attributes are supported by this PMU model. They are separated with colons as is customary with the library.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MODIFIERS</h2>
        <div class="sectioncontent">
<p>The following modifiers are supported by this PMU model:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>u</strong></p>
  </dt>
  <dd>
    <p>Measure at user level which includes privilege levels 1, 2, 3. This corresponds to <strong>PFM_PLM3</strong>. This is a boolean modifier.</p>
  </dd>
  <dt>
    <p><strong>k</strong></p>
  </dt>
  <dd>
    <p>Measure at kernel level which includes privilege level 0. This corresponds to <strong>PFM_PLM0</strong>. This is a boolean modifier.</p>
  </dd>
  <dt>
    <p><strong>h</strong></p>
  </dt>
  <dd>
    <p>Measure at the hypervisor level. This corresponds to <strong>PFM_PLMH</strong>. This is a boolean modifier</p>
  </dd>
  <dt>
    <p><strong>mg</strong></p>
  </dt>
  <dd>
    <p>Measure guest execution only. This is a boolean modifier</p>
  </dd>
  <dt>
    <p><strong>mh</strong></p>
  </dt>
  <dd>
    <p>Measure host execution only. This is a boolean modifier</p>
  </dd>
  <dt>
    <p><strong>period</strong></p>
  </dt>
  <dd>
    <p>Specify the the sampling period value. Value can be expressed in decimal or hexadecimal. Value is 64-bit wide. This option is mutually exclusive with <strong>freq</strong>. The period is expressed in the unit of the event. There is no default value.</p>
  </dd>
  <dt>
    <p><strong>freq</strong></p>
  </dt>
  <dd>
    <p>Specify the the sampling frequency value. Value can be expressed in decimal or hexadecimal. Value is 64-bit wide. This options is mutually exclusive with <strong>period</strong>. The value is expressed in Hertz. For instance, freq=100, means that the event should be sampled 100 times per second on average. There is no default value.</p>
  </dd>
  <dt>
    <p><strong>excl</strong></p>
  </dt>
  <dd>
    <p>The associated event is the only event measured on the PMU. This applies only to hardware events. This attribute requires admin privileges. Default is off.</p>
  </dd>
  <dt>
    <p><strong>precise</strong></p>
  </dt>
  <dd>
    <p>Enables precise sampling mode. This option is only valid on sampling events. This is an integer value. It can have the following values: 1 enable precise sampling, 2 enable precise sampling and eliminate skid. Not all events necessarily support precise mode, this is dependent on the underlying PMU. Eliminating skid is a best effort feature. It may not work for all samples.</p>
  </dd>
  <dt>
    <p><strong>cpu</strong></p>
  </dt>
  <dd>
    <p>This integer option is used with system-wide events, i.e., events attached to a CPU instead of a thread. The value designate the CPU to attach the event to. It is up to the caller of the library to use the cpu field in the library event encoding argument to create the event. No verification on the validity of the CPU number is made by the library. Default value is -1 for this field.</p>
  </dd>
  <dt>
    <p><strong>pinned</strong></p>
  </dt>
  <dd>
    <p>This boolean option is used with system-wide events, i.e., events attached to a CPU instead of a thread. If set, then the event is marked as pinned. That means it needs to remain on the counters at all time, i.e., it cannot be multiplexed. There can only be as many pinned events as there are counters, yet the library does not check for that, the perf_event subsystem does. The default value for this field is false, i.e., the event is not pinned.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">

<pre>
Stephane Eranian &lt;eranian@gmail.com&gt;

</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libpfm_mips_74k.3.html"><span aria-hidden="true">&larr;</span> libpfm_mips_74k.3: Support for mips 74k processors</a></li>
   <li class="next"><a href="lio_listio.3.html">lio_listio.3: Initiate a list of i/o requests <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
