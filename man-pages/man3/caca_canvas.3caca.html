<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>caca_canvas: Libcaca canvas drawing -</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Libcaca canvas drawing -">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="caca_canvas (3caca) manual">
  <meta name="twitter:description" content="Libcaca canvas drawing -">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcaca-dev-caca_canvas-3caca.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3caca/caca_canvas.3caca.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="caca_canvas (3caca) manual" />
  <meta property="og:description" content="Libcaca canvas drawing -" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcaca-dev-caca_canvas-3caca.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">caca_canvas<small> (3caca)</small></h1>
        <p class="lead">Libcaca canvas drawing -</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3caca/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3caca/caca_canvas.3caca.html">
      <span itemprop="name">caca_canvas: Libcaca canvas drawing -</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcaca-dev/">
      <span itemprop="name">libcaca-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3caca/caca_canvas.3caca.html">
      <span itemprop="name">caca_canvas: Libcaca canvas drawing -</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>These functions provide low-level character printing routines and higher level graphics functions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Macro Definition Documentation</h2>
        <div class="sectioncontent">
<h3>#define CACA_MAGIC_FULLWIDTH   0x000ffffe</h3>
<p>Used to indicate that the previous character was a fullwidth glyph.</p><p>Referenced by caca_blit(), caca_flip(), caca_put_attr(), caca_put_char(), and caca_rotate_180().</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>__extern int caca_gotoxy (\fBcaca_canvas_t\fP *cv, intx, inty)</h3>
<p>Put the cursor at the given coordinates. Functions making use of the cursor will use the new values. Setting the cursor position outside the canvas is legal but the cursor will not be shown.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><em>x</em> X cursor coordinate.</p><p><em>y</em> Y cursor coordinate.</p><p><strong>Returns:</strong></p><p>This function always returns 0.</p><p>Referenced by caca_conio_cgets(), caca_conio_clrscr(), caca_conio_cprintf(), caca_conio_cputs(), caca_conio_gotoxy(), caca_conio_printf(), and caca_conio_putch().</p>
<h3>__extern int caca_wherex (\fBcaca_canvas_t\fP const *cv)</h3>
<p>Retrieve the X coordinate of the cursor's position.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><strong>Returns:</strong></p><p>The cursor's X coordinate.</p><p>Referenced by caca_conio_cgets(), caca_conio_clreol(), caca_conio_cprintf(), caca_conio_cputs(), caca_conio_printf(), caca_conio_putch(), and caca_conio_wherex().</p>
<h3>__extern int caca_wherey (\fBcaca_canvas_t\fP const *cv)</h3>
<p>Retrieve the Y coordinate of the cursor's position.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><strong>Returns:</strong></p><p>The cursor's Y coordinate.</p><p>Referenced by caca_conio_cgets(), caca_conio_clreol(), caca_conio_cprintf(), caca_conio_cputs(), caca_conio_printf(), caca_conio_putch(), and caca_conio_wherey().</p>
<h3>__extern int caca_put_char (\fBcaca_canvas_t\fP *cv, intx, inty, uint32_tch)</h3>
<p>Print an ASCII or Unicode character at the given coordinates, using the default foreground and background colour values.</p><p>If the coordinates are outside the canvas boundaries, nothing is printed. If a fullwidth Unicode character gets overwritten, its remaining visible parts are replaced with spaces. If the canvas' boundaries would split the fullwidth character in two, a space is printed instead.</p><p>The behaviour when printing non-printable characters or invalid UTF-32 characters is undefined. To print a sequence of bytes forming an UTF-8 character instead of an UTF-32 character, use the <strong>caca_put_str()</strong> function.</p><p>This function returns the width of the printed character. If it is a fullwidth character, 2 is returned. Otherwise, 1 is returned.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><em>x</em> X coordinate.</p><p><em>y</em> Y coordinate.</p><p><em>ch</em> The character to print.</p><p><strong>Returns:</strong></p><p>The width of the printed character: 2 for a fullwidth character, 1 otherwise.</p><p>References caca_add_dirty_rect(), CACA_MAGIC_FULLWIDTH, and caca_utf32_is_fullwidth().</p><p>Referenced by caca_conio_cgets(), caca_conio_cputs(), caca_conio_putch(), caca_dither_bitmap(), caca_fill_box(), caca_fill_triangle(), caca_flush_figlet(), caca_put_figchar(), and caca_put_str().</p>
<h3>__extern uint32_t caca_get_char (\fBcaca_canvas_t\fP const *cv, intx, inty)</h3>
<p>Get the ASCII or Unicode value of the character at the given coordinates. If the value is less or equal to 127 (0x7f), the character can be printed as ASCII. Otherise, it must be handled as a UTF-32 value.</p><p>If the coordinates are outside the canvas boundaries, a space (0x20) is returned.</p><p>A special exception is when CACA_MAGIC_FULLWIDTH is returned. This value is guaranteed not to be a valid Unicode character, and indicates that the character at the left of the requested one is a fullwidth character.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><em>x</em> X coordinate.</p><p><em>y</em> Y coordinate.</p><p><strong>Returns:</strong></p><p>The Unicode character at the given coordinates.</p><p>Referenced by caca_flush_figlet(), and caca_put_figchar().</p>
<h3>__extern int caca_put_str (\fBcaca_canvas_t\fP *cv, intx, inty, char const *s)</h3>
<p>Print an UTF-8 string at the given coordinates, using the default foreground and background values. The coordinates may be outside the canvas boundaries (eg. a negative Y coordinate) and the string will be cropped accordingly if it is too long.</p><p>See <strong>caca_put_char()</strong> for more information on how fullwidth characters are handled when overwriting each other or at the canvas' boundaries.</p><p>This function returns the number of cells printed by the string. It is not the number of characters printed, because fullwidth characters account for two cells.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><em>x</em> X coordinate.</p><p><em>y</em> Y coordinate.</p><p><em>s</em> The string to print.</p><p><strong>Returns:</strong></p><p>The number of cells printed.</p><p>References caca_put_char(), caca_utf32_is_fullwidth(), and caca_utf8_to_utf32().</p><p>Referenced by caca_vprintf().</p>
<h3>__extern int caca_printf (\fBcaca_canvas_t\fP *cv, intx, inty, char const *format, ...)</h3>
<p>Format a string at the given coordinates, using the default foreground and background values. The coordinates may be outside the canvas boundaries (eg. a negative Y coordinate) and the string will be cropped accordingly if it is too long. The syntax of the format string is the same as for the C printf() function.</p><p>This function returns the number of cells printed by the string. It is not the number of characters printed, because fullwidth characters account for two cells.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><em>x</em> X coordinate.</p><p><em>y</em> Y coordinate.</p><p><em>format</em> The format string to print.</p><p><em>...</em> Arguments to the format string.</p><p><strong>Returns:</strong></p><p>The number of cells printed.</p><p>References caca_vprintf().</p>
<h3>__extern int caca_vprintf (\fBcaca_canvas_t\fP *cv, intx, inty, char const *format, va_listargs)</h3>
<p>Format a string at the given coordinates, using the default foreground and background values. The coordinates may be outside the canvas boundaries (eg. a negative X coordinate) and the string will be cropped accordingly if it is too long. The syntax of the format string is the same as for the C vprintf() function.</p><p>This function returns the number of cells printed by the string. It is not the number of characters printed, because fullwidth characters account for two cells.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><em>x</em> X coordinate.</p><p><em>y</em> Y coordinate.</p><p><em>format</em> The format string to print.</p><p><em>args</em> A va_list containting the arguments to the format string.</p><p><strong>Returns:</strong></p><p>The number of cells printed.</p><p>References caca_put_str().</p><p>Referenced by caca_conio_cprintf(), caca_conio_printf(), and caca_printf().</p>
<h3>__extern int caca_clear_canvas (\fBcaca_canvas_t\fP *cv)</h3>
<p>Clear the canvas using the current foreground and background colours.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> The canvas to clear.</p><p><strong>Returns:</strong></p><p>This function always returns 0.</p><p>References caca_add_dirty_rect().</p><p>Referenced by caca_conio_clrscr().</p>
<h3>__extern int caca_set_canvas_handle (\fBcaca_canvas_t\fP *cv, intx, inty)</h3>
<p>Set the canvas' handle. Blitting functions will use the handle value to put the canvas at the proper coordinates.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><em>x</em> X handle coordinate.</p><p><em>y</em> Y handle coordinate.</p><p><strong>Returns:</strong></p><p>This function always returns 0.</p><p>Referenced by caca_put_figchar().</p>
<h3>__extern int caca_get_canvas_handle_x (\fBcaca_canvas_t\fP const *cv)</h3>
<p>Retrieve the X coordinate of the canvas' handle.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><strong>Returns:</strong></p><p>The canvas' handle's X coordinate.</p>
<h3>__extern int caca_get_canvas_handle_y (\fBcaca_canvas_t\fP const *cv)</h3>
<p>Retrieve the Y coordinate of the canvas' handle.</p><p>This function never fails.</p><p><strong>Parameters:</strong></p><p><em>cv</em> A handle to the libcaca canvas.</p><p><strong>Returns:</strong></p><p>The canvas' handle's Y coordinate.</p>
<h3>__extern int caca_blit (\fBcaca_canvas_t\fP *dst, intx, inty, \fBcaca_canvas_t\fP const *src, \fBcaca_canvas_t\fP const *mask)</h3>
<p>Blit a canvas onto another one at the given coordinates. An optional mask canvas can be used.</p><p>If an error occurs, -1 is returned and <strong>errno</strong> is set accordingly:</p><ul>
<li><p>EINVAL A mask was specified but the mask size and source canvas size do not match.</p></li>
</ul><p><strong>Parameters:</strong></p><p><em>dst</em> The destination canvas.</p><p><em>x</em> X coordinate.</p><p><em>y</em> Y coordinate.</p><p><em>src</em> The source canvas.</p><p><em>mask</em> The mask canvas.</p><p><strong>Returns:</strong></p><p>0 in case of success, -1 if an error occurred.</p><p>References caca_add_dirty_rect(), and CACA_MAGIC_FULLWIDTH.</p><p>Referenced by caca_conio_movetext(), caca_export_area_to_memory(), caca_import_area_from_file(), caca_import_area_from_memory(), caca_put_figchar(), and caca_set_canvas_boundaries().</p>
<h3>__extern int caca_set_canvas_boundaries (\fBcaca_canvas_t\fP *cv, intx, inty, intw, inth)</h3>
<p>Set new boundaries for a canvas. This function can be used to crop a canvas, to expand it or for combinations of both actions. All frames are affected by this function.</p><p>If an error occurs, -1 is returned and <strong>errno</strong> is set accordingly:</p><ul>
<li><p>EINVAL Specified width or height is invalid.</p></li><li><p>EBUSY The canvas is in use by a display driver and cannot be resized.</p></li><li><p>ENOMEM Not enough memory for the requested canvas size. If this happens, the canvas handle becomes invalid and should not be used.</p></li>
</ul><p><strong>Parameters:</strong></p><p><em>cv</em> The canvas to crop.</p><p><em>x</em> X coordinate of the top-left corner.</p><p><em>y</em> Y coordinate of the top-left corner.</p><p><em>w</em> The width of the cropped area.</p><p><em>h</em> The height of the cropped area.</p><p><strong>Returns:</strong></p><p>0 in case of success, -1 if an error occurred.</p><p>References caca_add_dirty_rect(), caca_blit(), caca_create_canvas(), caca_create_frame(), caca_get_frame_count(), and caca_set_frame().</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for libcaca from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="caca_attributes.3caca.html"><span aria-hidden="true">&larr;</span> caca_attributes.3caca: Libcaca attribute conversions -</a></li>
   <li class="next"><a href="caca_charfont.3caca.html">caca_charfont.3caca: Libcaca character font handling - <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
