<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Term::Prompt: Perl extension for prompting a user for information</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl extension for prompting a user for information">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Term::Prompt (3pm) manual">
  <meta name="twitter:description" content="Perl extension for prompting a user for information">
  <meta name="twitter:image" content="https://www.carta.tech/images/libterm-prompt-perl-Term::Prompt-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Term::Prompt.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Term::Prompt (3pm) manual" />
  <meta property="og:description" content="Perl extension for prompting a user for information" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libterm-prompt-perl-Term::Prompt-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Term::Prompt<small> (3pm)</small></h1>
        <p class="lead">Perl extension for prompting a user for information</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Term::Prompt.3pm.html">
      <span itemprop="name">Term::Prompt: Perl extension for prompting a user for information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libterm-prompt-perl/">
      <span itemprop="name">libterm-prompt-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Term::Prompt.3pm.html">
      <span itemprop="name">Term::Prompt: Perl extension for prompting a user for information</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Term::Prompt;
    $value = prompt(...);

    use Term::Prompt qw(termwrap);
    print termwrap(...);

    $Term::Prompt::MULTILINE_INDENT = &apos;&apos;;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PREREQUISITES</h2>
        <div class="sectioncontent">
<p>You must have Text::Wrap and Term::ReadKey available on your system.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This main function of this module is to accept interactive input. You specify the type of inputs allowed, a prompt, help text and defaults and it will deal with the user interface, (and the user!), by displaying the prompt, showing the default, and checking to be sure that the response is one of the legal choices.  Additional 'types' that could be added would be a phone type, a social security type, a generic numeric pattern type...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<h3>prompt</h3>
<p>This is the main function of the module. Its first argument determines its usage and is one of the following single characters:</p><p> x: do not care  a: alpha-only  n: numeric-only  i: ignore case  c: case sensitive  r: ranged by the low and high values  f: floating-point  y: yes/no  e: regular expression  s: sub (actually, a code ref, but &apos;c&apos; was taken)  p: password (keystrokes not echoed)  m: menu</p>
<dl class='dl-vertical'>
  <dt>
    x: do not care
  </dt>
  <dd>
    <p> $result = prompt(&apos;x&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos; ); $result is whatever the user types.</p>
  </dd>
  <dt>
    a: alpha-only
  </dt>
  <dd>
    <p> $result = prompt(&apos;a&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos; ); $result is a single 'word' consisting of [A-Za-z] only. The response is rejected until it conforms.</p>
  </dd>
  <dt>
    n: numeric-only
  </dt>
  <dd>
    <p> $result = prompt(&apos;n&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos; ); The result will be a positive integer or 0.  $result = prompt(&apos;-n&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos; ); The result will be a negative integer or 0.  $result = prompt(&apos;+-n&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos; ); The result will be a any integer or 0.</p>
  </dd>
  <dt>
    i: ignore case
  </dt>
  <dd>
    <p> $result = prompt(&apos;i&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;,                       &apos;legal_options-ignore-case-list&apos;);</p>
  </dd>
  <dt>
    c: case sensitive
  </dt>
  <dd>
    <p> $result = prompt(&apos;c&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;,                       &apos;legal_options-case-sensitive-list&apos;);</p>
  </dd>
  <dt>
    r: ranged by the low and high values
  </dt>
  <dd>
    <p> $result = prompt(&apos;r&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;,                   &apos;low&apos;, &apos;high&apos;);</p>
  </dd>
  <dt>
    f: floating-point
  </dt>
  <dd>
    <p> $result = prompt(&apos;f&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;); The result will be a floating-point number.</p>
  </dd>
  <dt>
    y: yes/no
  </dt>
  <dd>
    <p> $result = prompt(&apos;y&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;) The result will be 1 for y, 0 for n. A default not starting with y, Y, n or N will be treated as y for positive, n for negative.</p>
  </dd>
  <dt>
    e: regular expression
  </dt>
  <dd>
    <p> $result = prompt(&apos;e&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;,                   &apos;regular expression&apos;); The regular expression has and implicit ^ and $ surrounding it; just put in .* before or after if you need to free it up before or after.</p>
  </dd>
  <dt>
    s: sub
  </dt>
  <dd>
    <p> $result = prompt(&apos;s&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;,                   sub { warn &apos;Your input was &apos; . shift; 1 });  $result = prompt(&apos;s&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos;,                   &#92;&my_custom_validation_handler); User reply is passed to given code reference as first and only argument.  If code returns true, input is accepted.</p>
  </dd>
  <dt>
    p: password
  </dt>
  <dd>
    <p> $result = prompt(&apos;p&apos;, &apos;text prompt&apos;, &apos;help prompt&apos;, &apos;default&apos; ); $result is whatever the user types, but the characters are not echoed to the screen.</p>
  </dd>
  <dt>
    m: menu
  </dt>
  <dd>
    <p> @results = prompt(                         &apos;m&apos;,                         {                         prompt           =&gt; &apos;text prompt&apos;,                         title            =&gt; &apos;My Silly Menu&apos;,             items            =&gt; [ qw (foo bar baz biff spork boof akak) ],                         order            =&gt; &apos;across&apos;,                         rows             =&gt; 1,                         cols             =&gt; 1,                         display_base     =&gt; 1,                         return_base      =&gt; 0,                         accept_multiple_selections =&gt; 0,                         accept_empty_selection     =&gt; 0,             ignore_whitespace =&gt; 0,             separator         =&gt; &apos;[^0-9]+&apos;                         },                     &apos;help prompt&apos;,                         &apos;default&apos;); This will create a menu with numbered items to select. You replace the normal <em>prompt</em> argument with a hash reference containing this information:</p>
<dl class='dl-vertical'>
  <dt>
    prompt
  </dt>
  <dd>
    <p>The prompt string.</p>
  </dd>
  <dt>
    title
  </dt>
  <dd>
    <p>Text printed above the menu.</p>
  </dd>
  <dt>
    items
  </dt>
  <dd>
    <p>An array reference to the list of text items to display. They will be numbered ascending in the order presented.</p>
  </dd>
  <dt>
    order
  </dt>
  <dd>
    <p>If set to 'across', the item numbers run across the menu:  1) foo    2) bar    3) baz  4) biff   5) spork  6) boof  7) akak If set to 'down', the item numbers run down the menu:  1) foo    4) biff   7) akak  2) bar    5) spork  3) baz    6) boof 'down' is the default.</p>
  </dd>
  <dt>
    rows,cols
  </dt>
  <dd>
    <p>Forces the number of rows and columns. Otherwise, the number of rows and columns is determined from the number of items and the maximum length of an item with its number. Usually, you would set rows = 1 or cols = 1 to force a non-wrapped layout. Setting both in tandem is untested. Cavet programmer.</p>
  </dd>
  <dt>
    display_base,return_base
  </dt>
  <dd>
    <p>Internally, the items are indexed the 'Perl' way, from 0 to scalar -1. The display_base is the number added to the index on the menu display. The return_base is the number added to the index before the reply is returned to the programmer. The defaults are 1 and 0, respectively.</p>
  </dd>
  <dt>
    accept_multiple_selections
  </dt>
  <dd>
    <p>When set to logical true (1 will suffice), more than one menu item may be selected. The return from <em></em><em>prompt()</em><em></em> will be an array or array ref, depending on how it is called. The default is 0. The return value is a single scalar containing the selection.</p>
  </dd>
  <dt>
    accept_empty_selection
  </dt>
  <dd>
    <p>When set to logical true (1 will suffice), if no items are selected, the menu will not be repeated and the 'empty' selection will be returned. The value of an 'empty' selection is an empty array or a reference to same, if <em>accept_multiple_selections</em> is in effect, or <em>undef</em> if not.</p>
  </dd>
  <dt>
    separator
  </dt>
  <dd>
    <p>A regular expression that defines what characters are allowed between multiple responses. The default is to allow all non-numeric characters to be separators. That can cause problems when a user mistakenly enters the lead letter of the menu item instead of the item number. You are better off replacing the default with something more reasonable, such as:  [,]    ## Commas  [,/]   ## Commas or slashes  [,/&#92;s] ## Commas or slashes or whitespace</p>
  </dd>
  <dt>
    ignore_whitespace
  </dt>
  <dd>
    <p>When set, allows spaces between menu responses to be ignored, so that  1, 5, 6 is collapsed to  1,5,6 before parsing. <strong>\s-1NOTE:\s0</strong> Do not set this option if you are including whitespace as a legal separator.</p>
  </dd>
  <dt>
    ignore_empties
  </dt>
  <dd>
    <p>When set, consecutive separators will not result in an empty entry. For example, without setting this option:  1,,8,9 will result in a return of  (1,&apos;&apos;,8,9) When set, the return will be:  (1,8,9) which is probably what you want.</p>
  </dd>

</dl>

  </dd>

</dl>

<h3>Other Functions and Variables</h3>

<dl class='dl-vertical'>
  <dt>
    termwrap
  </dt>
  <dd>
    <p>Part of Term::Prompt is the optionally exported function termwrap, which is used to wrap lines to the width of the currently selected filehandle (or to \s-1STDOUT\s0 or \s-1STDERR\s0 if the width of the current filehandle cannot be determined).  It uses the GetTerminalSize function from Term::ReadKey then Text::Wrap.</p>
  </dd>
  <dt>
    \s-1MULTILINE_INDENT\s0
  </dt>
  <dd>
    <p>This package variable holds the string to be used to indent lines of a multiline prompt, after the first line. The default is \*(L"&#92;t\*(R", which is how the module worked before the variable was exposed. If you do not want \s-1ANY\s0 indentation:  $Term::Prompt::MULTILINE_INDENT = &apos;&apos;;</p>
  </dd>

</dl>

<h3>Text and Help Prompts</h3>
<p>What, you might ask, is the difference between a 'text prompt' and a 'help prompt'?  Think about the case where the 'legal_options' look something like: '1-1000'.  Now consider what happens when you tell someone that '0' is not between 1-1000 and that the possible choices are: :) 1 2 3 4 5 .....  This is what the 'help prompt' is for.</p><p>It will work off of unique parts of 'legal_options'.</p><p>Changed by Allen - if you capitalize the type of prompt, it will be treated as a true 'help prompt'; that is, it will be printed \s-1ONLY\s0 if the menu has to be redisplayed due to and entry error. Otherwise, it will be treated as a list of options and displayed only the first time the menu is displayed.</p><p>Capitalizing the type of prompt will also mean that a return may be accepted as a response, even if there is no default; whether it actually is will depend on the type of prompt. Menus, for example, do not do this.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Original Author: Mark Henderson (henderson@mcs.anl.gov or systems@mcs.anl.gov). Derived from im_prompt2.pl, from anlpasswd (see ftp://info.mcs.anl.gov/pub/systems/), with permission.</p><p>Contributors:</p><p>E. Allen Smith (easmith@beatrice.rutgers.edu): Revisions for Perl 5, additions of alternative help text presentation, floating point type, regular expression type, yes/no type, line wrapping and regular expression functionality added by E. Allen Smith.</p><p>Matthew O. Persico (persicom@cpan.org): Addition of menu functionality and $Term::Prompt::MULTILINE_INDENT.</p><p>Tuomas Jormola (tjormola@cc.hut.fi): Addition of code refs.</p><p>Current maintainer: Matthew O. Persico (persicom@cpan.org)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Term::Prompt&hellip;</h2>
        <div class="sectioncontent">
<p>perl, Term::ReadKey, and Text::Wrap.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2004 by Matthew O. Persico</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.6.1 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Term::Filter::Callback.3pm.html"><span aria-hidden="true">&larr;</span> Term::Filter::Callback.3pm: Simple callback-based wrapper for term::filter</a></li>
   <li class="next"><a href="Term::Query.3pm.html">Term::Query.3pm: Table-driven query routine. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
