<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Image::MetaData::JPEG::MakerNotes: This document contains random information and details on makernotes; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. the note on makernote parsing in the main manual page is of particular interest.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="This document contains random information and details on makernotes; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. the note on makernote parsing in the main manual page is of particular interest.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Image::MetaData::JPEG::MakerNotes (3pm) manual">
  <meta name="twitter:description" content="This document contains random information and details on makernotes; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. the note on makernote parsing in the main manual page is of particular interest.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libimage-metadata-jpeg-perl-Image::MetaData::JPEG::MakerNotes-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Image::MetaData::JPEG::MakerNotes.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Image::MetaData::JPEG::MakerNotes (3pm) manual" />
  <meta property="og:description" content="This document contains random information and details on makernotes; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. the note on makernote parsing in the main manual page is of particular interest." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libimage-metadata-jpeg-perl-Image::MetaData::JPEG::MakerNotes-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Image::MetaData::JPEG::MakerNotes<small> (3pm)</small></h1>
        <p class="lead">This document contains random information and details on makernotes; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. the note on makernote parsing in the main manual page is of particular interest.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Image::MetaData::JPEG::MakerNotes.3pm.html">
      <span itemprop="name">Image::MetaData::JPEG::MakerNotes: This document contains random information and details on makernotes; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. the note on makernote parsing in the main manual page is of particular interest.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libimage-metadata-jpeg-perl/">
      <span itemprop="name">libimage-metadata-jpeg-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Image::MetaData::JPEG::MakerNotes.3pm.html">
      <span itemprop="name">Image::MetaData::JPEG::MakerNotes: This document contains random information and details on makernotes; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. the note on makernote parsing in the main manual page is of particular interest.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Pieces of information available after parsing the MakerNote</h2>
        <div class="sectioncontent">
<p>The result of the process of parsing the maker note is stored in a directory in the internal data structure for the \s-1APP1\s0 Segment, whose path is \*(L"IFD@SubIFD@MakerNoteData_$format\*(R", where $format is the specific note format; the 'MakerNote' entry in IFD0@SubIFD is then removed. This translation happens always, because there is a catch-all 'unknown' rule for a binary makernote with very broad acceptance rules. The maker note directory contains, in addition, a special subdir with some fields reporting about the parsing process.</p>
<pre>
    key         content
    --------    -------
    ORIGINAL    the raw content of the maker note (unparsed)
    SIGNATURE   the first few bytes which allowed the format to be chosen
    ENDIANNESS  the byte order chosen during parsing
    FORMAT      the maker note format chosen during parsing
    ERROR       [optional] error details, in case of failure while parsing
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Supported MakerNote formats</h2>
        <div class="sectioncontent">
<p>Maker note formats are specified in a special internal hash, with a key for each format (including the 'unknown' format). Each format entry corresponds to an anonymous hash containing information for parsing the MakerNote; the \*(L"normal\*(R" format is considered to be an IFD-like MakerNote with a next_link pointer, offsets counted from the global \s-1TIFF\s0 header and no MakerNote internal \s-1TIFF\s0 header.</p><p>        key         meaning or effect         ---------   -----------------         signature   the MakerNote signature (a regular expression)         maker       the Maker signature (i.e., its name, no regex)         tags        a reference to a hash for tag translations     (A) mkntstart   if set, offsets are counted from the maker note start     (B) mkntTIFF    if set, offsets are counted from the internal TIFF header     (C) ignore      if set, the format is to be ignored     (D) nonext      if set, the maker note IFD does not have a next_link     (E) endianness  if set, the byte order is fixed to this value     (F) nonIFD      if set, the maker note is not IFD-like</p><p>Currently, \*(L"supported\*(R" formats are described in the following table; authoritative data is indeed kept in Tables_makernotes.pl, to which the reader should refer for tag definitions and translations. Remember that both the 'signature' and the 'maker' fields are regular expressions matching at the beginning (the real signature corresponds to $1).</p><p>                A B C D E F Maker     Signature                 ----------- --------- -----------------     Agfa                    AGFA      (AGFA &#92;000&#92;001)     Canon                   Canon     ()     Casio_1                 CASIO     ()[^Q]     Casio_2                 CASIO     (QVC&#92;000{3})     Epson                   EPSON     (EPSON&#92;000&#92;001&#92;000)     Foveon                  FOVEON    (FOVEON&#92;000{2}&#92;001&#92;000)     Fujifilm    x           FUJIFILM  (FUJIFILM&#92;014&#92;000{3})     HPackard        x       Hewlett-Packard    (HP)     Kyocera     x     x     KYOCERA   (KYOCERA {12}&#92;000{3})     Kodak               B x KODAK     (KDK INFO[a-zA-Z0-9]*  )     Minolta_1               MINOLTA   ().{10}MLT0     Minolta_2               Minolta   ().{10}MLT0     Konica          x       Minolta|KONICA ((MLY|KC|(&#92;+M){4})|&#92;001&#92;000{5}&#92;004)     Nikon_1                 NIKON     (Nikon&#92;000&#92;001&#92;000)     Nikon_2                 NIKON     ()[^N]     Nikon_3       x         NIKON     (Nikon&#92;000&#92;002[&#92;020&#92;000]&#92;000{2})     Olympus                 OLYMPUS   (OLYMP&#92;000[&#92;001&#92;002]&#92;000)     Panasonic_1       x     Panasonic (Panasonic&#92;000{3})     Panasonic_2     x x     Panasonic (MKED)     Pentax_1    x           Asahi     ()[^A]     Pentax_2    x     x     Asahi     (AOC&#92;000..)     Ricoh_1         x       RICOH     (Rv|Rev)     Ricoh_2         x       RICOH     (&#92;000)     Ricoh_3                 RICOH     ((Ricoh|RICOH)&#92;000{3})     Sanyo                   SANYO     (SANYO&#92;000&#92;001&#92;000)     Sigma                   SIGMA     (SIGMA&#92;000{3}&#92;001&#92;000)     Sony              x     SONY      (SONY (CAM|DSC) &#92;000{3})     Toshiba         x       TOSHIBA   ()     unknown             x   .         ()</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">References</h2>
        <div class="sectioncontent">
<p>MakerNote format details are not usually released by vendors (well, this is an euphemism: no vendor ever, to my knowledge, released any detail on its format, exception made for Sigma/Foveon). All information used for this package was collected on the Internet (and its reliability is therefore limited) or through personal tests. Some interesting sites are (not an exhaustive list at all):</p><p>  General:   home.arcor.de/ahuggel/exiv2/makernote.html     .....:   www.ozhiker.com/electronics/pjmt/jpeg_info/makernotes.html</p><p>  Agfa:      www.ozhiker.com/electronics/pjmt/jpeg_info/agfa_mn.html   Canon:     www.burren.cx/david/canon.html   Casio:     park2.wakwak.com/~tsuruzoh/Computer/Digicams/exif-e.html     ...:     www.dicasoft.de/casiomn.htm   Epson:     www.ozhiker.com/electronics/pjmt/jpeg_info/epson_mn.html   Foveon:    Foveon is the same as Sigma, see Sigma   Fujifilm:  park2.wakwak.com/~tsuruzoh/Computer/Digicams/exif-e.html     ......:  www.ozhiker.com/electronics/pjmt/jpeg_info/fujifilm_mn.html   Kyocera:   www.ozhiker.com/electronics/pjmt/jpeg_info/kyocera_mn.html   Kodak:     my personal tests with my Kodak DX3900 (not IFD-like)   Minolta:   www.dalibor.cz/minolta/makernote.htm     .....:   www.ozhiker.com/electronics/pjmt/jpeg_info/minolta_mn.html   Nikon:     park2.wakwak.com/~tsuruzoh/Computer/Digicams/exif-e.html     ...:     www.tawbaware.com/990exif.htm     ...:     www.ozhiker.com/electronics/pjmt/jpeg_info/nikon_mn.html   Olympus:   park2.wakwak.com/~tsuruzoh/Computer/Digicams/exif-e.html     .....:   www.ozhiker.com/electronics/pjmt/jpeg_info/olympus_mn.html   Panasonic: www.compton.nu/panasonic.html   Pentax:    www.ozhiker.com/electronics/pjmt/jpeg_info/pentax_mn.html   Ricoh:     www.ozhiker.com/electronics/pjmt/jpeg_info/ricoh_mn.html   Sanyo:     www.exif.org/makernotes/SanyoMakerNote.html   Sigma:     www.x3f.info/technotes/FileDocs/MakerNoteDoc.html   Sony:      www.ozhiker.com/electronics/pjmt/jpeg_info/sony_mn.html</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DX3900 MakerNote format</h2>
        <div class="sectioncontent">
<p>Kodak MakerNotes are written in a proprietary binary format, which is not IFD-like. So, there is no way to detect the beginning, end and type of a field; everything here was inferred through a careful comparison of the content of a set of Kodak \s-1JPEG\s0 files and their shot parameters. Fields seems to be aligned on four bytes boundaries. For the \s-1DX3900\s0 model the endianness is always fixed to big endian. The signature regular expression is \*(L"^(\s-1KDK\s0 INFO[a-zA-Z0-9]* )\*(R", the maker is '\s-1KODAK\s0'. The meaning of the tags is as follows:</p><p>  BYTE   ???                firmware version? This is always 3   BYTE   Compression        1 = normal, 2 = 2160x1440 high compression   BYTE   BurstMode          0 = off,    1 = on   BYTE   MacroMode          0 = normal, 1 = close-up   SHORT  PixelXDimension    &#92; allowed     2160x1440, 1800x1200,   SHORT  PixelYDimension    /     values: 1536x1024, 1080x720   SHORT  Year               the year value, with four digits   BYTE   Month              the month value  (in [1,12])   BYTE   Day                the day value    (in [1,31])   BYTE   Hour               the hour value   (in [0,23])   BYTE   Minute             the minute value (in [0,59])   BYTE   Second             the second value (in [0,59])   BYTE   SubSecond          (in 130th of seconds?)   SHORT  ???                ???   BYTE   ???                ???   BYTE   ShutterMode        0 = auto, 32 = manual   BYTE   MeteringMode       0 = multi-pattern, 1=centre weight., 2=centre spot   BYTE   BurstSequenceIndex index in [1,8], 0 if burst mode off   SHORT  FNumber            100 times the Exif F-number   LONG   ExposureTime       in 10^-5 seconds   SSHORT ExposureBiasValue  1000 times the exposure bias in [-2,+2 step .5]   SHORT  ???                ???   LONG   ???                &#92;   LONG   ???                 &#92; is this an estimate of the subject   LONG   ???                 / distance? If so, it is very rough.   LONG   ???                /   BYTE   FocusMode          0 = auto, 2 = close, 3 = infinity   BYTE   ???                always 2   SHORT  ???                ???   SSHORT PanoramaMode       0 = normal, -1 = focus at infinity   SHORT  SubjectDistance    (x-28)*2.54+7 looks like the distance in cm   BYTE   WhiteBalance       0 = normal, 1 = fluor., 2 = tungsten, 3 = daylight   (27 bytes with unknown meaning here)   BYTE   FlashMode          0 = auto, 1 = on, 2 = off, 3 = red-eyes   BYTE   FlashFired         0 = yes,  1 = no   SHORT  ISOSpeedMode       the requested speed in {100,200,400} or zero   SHORT  ???                ???   SHORT  TotalZoomFactor    100 times the zoom factor in [+1,+6 step 0.1]   SHORT  DateTimeStampMode  0 = none, [1,6] = the six modes   SHORT  ColourMode         1 = black & white, 2 = sepia, 32 = colour   SHORT  DigitalZoomFactor  100 times the zoom factor in [+1,+3 step 0.1]   BYTE   ???                always zero   SBYTE  Sharpness          0 = standard, 1 = sharp, -1 = soft   (808 bytes with unknown meaning here, maybe a thumbnail?)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Stefano Bettelli, <strong>bettelli@cpan.org</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2004,2005,2006 by Stefano Bettelli</p><p>This library is free software; you can redistribute it and/or modify it under the terms of the \s-1GNU\s0 General Public License. See the \s-1COPYING\s0 and \s-1LICENSE\s0 file for the license terms.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Image::MetaData::JPEG::MakerNotes&hellip;</h2>
        <div class="sectioncontent">
<p>The main documentation page for the Image::MetaData::JPEG module.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Image::MetaData::JPEG.3pm.html"><span aria-hidden="true">&larr;</span> Image::MetaData::JPEG.3pm: Perl extension for showing/modifying jpeg (meta)data.</a></li>
   <li class="next"><a href="Image::MetaData::JPEG::Structures.3pm.html">Image::MetaData::JPEG::Structures.3pm: This document describes the structure of a jpeg file; it is an appendix to the main manual page of the image::metadata::jpeg module, which the reader should refer to for further details and the general scope. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
