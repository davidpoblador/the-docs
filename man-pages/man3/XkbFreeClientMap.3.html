<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbFreeClientMap: Free memory used by the client map member of an xkbdescrec structure</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Free memory used by the client map member of an xkbdescrec structure">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbFreeClientMap (3) manual">
  <meta name="twitter:description" content="Free memory used by the client map member of an xkbdescrec structure">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbFreeClientMap-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbFreeClientMap.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbFreeClientMap (3) manual" />
  <meta property="og:description" content="Free memory used by the client map member of an xkbdescrec structure" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbFreeClientMap-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbFreeClientMap<small> (3)</small></h1>
        <p class="lead">Free memory used by the client map member of an xkbdescrec structure</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbFreeClientMap.3.html">
      <span itemprop="name">XkbFreeClientMap: Free memory used by the client map member of an xkbdescrec structure</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbFreeClientMap.3.html">
      <span itemprop="name">XkbFreeClientMap: Free memory used by the client map member of an xkbdescrec structure</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>void XkbFreeClientMap</strong> <strong>(\^XkbDescPtr </strong><em>xkb</em><strong>\^,</strong> <strong>unsigned int </strong><em>which</em><strong>\^,</strong> <strong>Bool </strong><em>free_all</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- xkb</em></p>
  </dt>
  <dd>
    <p>keyboard description containing client map to free</p>
  </dd>
  <dt>
    <p><em>- which</em></p>
  </dt>
  <dd>
    <p>mask identifying components of map to free</p>
  </dd>
  <dt>
    <p><em>- free_all</em></p>
  </dt>
  <dd>
    <p>True =&gt; free all client components and map itself</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>XkbFreeClientMap</em> frees the components of client map specified by <em>which</em> in the XkbDescRec structure specified by the <em>xkb</em> parameter and sets the corresponding structure component values to NULL. The <em>which</em> parameter specifies a combination of the client map masks shown in Table 1.</p><p>If <em>free_all</em> is True, <em>which</em> is ignored; <em>XkbFreeClientMap</em> frees every non-NULL structure component in the client map, frees the XkbClientMapRec structure referenced by the <em>map</em> member of the <em>xkb</em> parameter, and sets the <em>map</em> member to NULL.</p><table class="table table-striped">
<tr>
<th>Table 1 XkbAllocClientMap Masks</th>
<th></th></tr>

<tr>
<td>Mask</td>
<td>Effect</td></tr>

<tr>
<td>XkbKeyTypesMask</td>
<td>The type_count field specifies the number of entries to preallocate for the  types field of the client map. If the type_count field is less than  XkbNumRequiredTypes returns BadValue. </td></tr>

<tr>
<td></td>
<td></td></tr>

<tr>
<td>XkbKeySymsMask</td>
<td>The min_key_code and max_key_code fields of the xkb parameter are used to  allocate the syms and key_sym_map fields of the client map. The fields are  allocated to contain the maximum number of entries necessary for max_key_code -  min_key_code + 1 keys. </td></tr>

<tr>
<td></td>
<td></td></tr>

<tr>
<td>XkbModifierMapMask</td>
<td>The min_key_code and max_key_code fields of the xkb parameter are used to  allocate the modmap field of the client map. The field is allocated to contain  the maximum number of entries necessary for max_key_code - min_key_code + 1  keys. </td></tr>
</table><p>NOTE: The <em>min_key_code</em> and <em>max_key_code</em> fields of the <em>xkb</em> parameter must be legal values if the XkbKeySymsMask or XkbModifierMapMask masks are set in the <em>which</em> parameter. If they are not valid, <em>XkbAllocClientMap</em> returns BadValue.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STRUCTURES</h2>
        <div class="sectioncontent">
<p>The complete description of an Xkb keyboard is given by an XkbDescRec. The component structures in the XkbDescRec represent the major Xkb components.</p>
<pre>
typedef struct {
   struct _XDisplay * display;      /\(** connection to X server */
   unsigned short     flags;        /\(** private to Xkb, do not modify */
   unsigned short     device_spec;  /\(** device of interest */
   KeyCode            min_key_code; /\(** minimum keycode for device */
   KeyCode            max_key_code; /\(** maximum keycode for device */
   XkbControlsPtr     ctrls;        /\(** controls */
   XkbServerMapPtr    server;       /\(** server keymap */
   XkbClientMapPtr    map;          /\(** client keymap */
   XkbIndicatorPtr    indicators;   /\(** indicator map */
   XkbNamesPtr        names;        /\(** names for all components */
   XkbCompatMapPtr    compat;       /\(** compatibility map */
   XkbGeometryPtr     geom;         /\(** physical geometry of keyboard */
} XkbDescRec, *XkbDescPtr;

</pre>
<p>The <em>display</em> field points to an X display structure. The <em>flags field is private to the library: modifying</em> <em>flags</em> may yield unpredictable results. The <em>device_spec</em> field specifies the device identifier of the keyboard input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The <em>min_key_code</em> and <em>max_key_code</em> fields specify the least and greatest keycode that can be returned by the keyboard.</p><p>Each structure component has a corresponding mask bit that is used in function calls to indicate that the structure should be manipulated in some manner, such as allocating it or freeing it. These masks and their relationships to the fields in the XkbDescRec are shown in Table 2.</p><table class="table table-striped">
<tr>
<th>Table 2 Mask Bits for XkbDescRec</th>
<th></th>
<th></th></tr>

<tr>
<td>Mask Bit</td>
<td>XkbDescRec Field</td>
<td>Value</td></tr>

<tr>
<td>XkbControlsMask</td>
<td>ctrls</td>
<td>(1L&lt;&lt;0)</td></tr>

<tr>
<td>XkbServerMapMask</td>
<td>server</td>
<td>(1L&lt;&lt;1)</td></tr>

<tr>
<td>XkbIClientMapMask</td>
<td>map</td>
<td>(1L&lt;&lt;2)</td></tr>

<tr>
<td>XkbIndicatorMapMask</td>
<td>indicators</td>
<td>(1L&lt;&lt;3)</td></tr>

<tr>
<td>XkbNamesMask</td>
<td>names</td>
<td>(1L&lt;&lt;4)</td></tr>

<tr>
<td>XkbCompatMapMask</td>
<td>compat</td>
<td>(1L&lt;&lt;5)</td></tr>

<tr>
<td>XkbGeometryMask</td>
<td>geom</td>
<td>(1L&lt;&lt;6)</td></tr>

<tr>
<td>XkbAllComponentsMask</td>
<td>All Fields</td>
<td>(0x7f)</td></tr>
</table><p>The <em>map</em> field of the complete Xkb keyboard description is a pointer to the Xkb client map, which is of type XkbClientMapRec:</p>
<pre>
   typedef struct {                   /\(** Client Map */
      unsigned char     size_types;   /\(** # occupied entries in types */
      unsigned char     num_types;    /\(** # entries in types */
      XkbKeyTypePtr     types;        /\(** vector of key types used by this keymap */
      unsigned short    size_syms;    /\(** length of the syms array */
      unsigned short    num_syms;     /\(** # entries in syms */
      KeySym *          syms;         /\(** linear 2d tables of keysyms, 1 per key */
      XkbSymMapPtr      key_sym_map;  /\(** 1 per keycode, maps keycode to syms */
      unsigned char *   modmap;       /\(** 1 per keycode, real mods bound to key */
} XkbClientMapRec, *XkbClientMapPtr;

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>BadValue</strong></p>
  </dt>
  <dd>
    <p>An argument is out of range</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XkbFreeClientMap&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/XkbAllocClientMap.3.html"><strong>XkbAllocClientMap</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbForceDeviceBell.3.html"><span aria-hidden="true">&larr;</span> XkbForceDeviceBell.3: Rings the bell on any keyboard, overriding user preference settings for audible bells</a></li>
   <li class="next"><a href="XkbFreeCompatMap.3.html">XkbFreeCompatMap.3: Free an entire compatibility map or selected portions of one <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
