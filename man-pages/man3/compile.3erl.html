<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>compile: Erlang compiler</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Erlang compiler">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="compile (3erl) manual">
  <meta name="twitter:description" content="Erlang compiler">
  <meta name="twitter:image" content="https://www.carta.tech/images/erlang-manpages-compile-3erl.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3erl/compile.3erl.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="compile (3erl) manual" />
  <meta property="og:description" content="Erlang compiler" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/erlang-manpages-compile-3erl.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">compile<small> (3erl)</small></h1>
        <p class="lead">Erlang compiler</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/compile.3erl.html">
      <span itemprop="name">compile: Erlang compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/erlang-manpages/">
      <span itemprop="name">erlang-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3erl/compile.3erl.html">
      <span itemprop="name">compile: Erlang compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides an interface to the standard Erlang compiler. It can generate either a new file which contains the object code, or return a binary which can be loaded directly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p><strong></strong> file(File)</p><p>Is the same as <em>file(File, [verbose,report_errors,report_warnings])</em>.</p><p><strong></strong> file(File, Options) -&gt; CompRet</p><p>Types:</p><p>CompRet = ModRet | BinRet | ErrRet</p><p>ModRet = {ok,ModuleName} | {ok,ModuleName,Warnings}</p><p>BinRet = {ok,ModuleName,Binary} | {ok,ModuleName,Binary,Warnings}</p><p>ErrRet = error | {error,Errors,Warnings}</p><p>Compiles the code in the file <em>File</em>, which is an Erlang source code file without the <em>.erl</em> extension. <em>Options</em> determine the behavior of the compiler.</p><p>Returns <em>{ok,ModuleName}</em> if successful, or <em>error</em> if there are errors. An object code file is created if the compilation succeeds with no errors. It is considered to be an error if the module name in the source code is not the same as the basename of the output file.</p><p>Here follows first all elements of <em>Options</em> that in some way control the behavior of the compiler.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>basic_validation</em>: This option is fast way to test whether a module will compile successfully (mainly useful for code generators that want to verify the code they emit). No code will generated. If warnings are enabled, warnings generated by the <em>erl_lint</em> module (such as warnings for unused variables and functions) will be returned too.</p><p>Use the <em>strong_validation</em> option to generate all warnings that the compiler would generate.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>strong_validation</em>: Similar to the <em>basic_validation</em> option, no code will be generated, but more compiler passes will be run to ensure also warnings generated by the optimization passes are generated (such as clauses that will not match or expressions that are guaranteed to fail with an exception at run-time).</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>binary</em>: Causes the compiler to return the object code in a binary instead of creating an object file. If successful, the compiler returns <em>{ok,ModuleName,Binary}</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>bin_opt_info</em>: The compiler will emit informational warnings about binary matching optimizations (both successful and unsuccessful). See the <em>Efficiency Guide</em> for further information.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>compressed</em>: The compiler will compress the generated object code, which can be useful for embedded systems.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>debug_info</em>:</p><p>Include debug information in the form of abstract code (see <strong>The Abstract Format</strong> in ERTS User's Guide) in the compiled beam module. Tools such as Debugger, Xref and Cover require the debug information to be included.</p><p><em>Warning</em>: Source code can be reconstructed from the debug information. Use encrypted debug information (see below) to prevent this.</p><p>See <strong>beam_lib(3erl)</strong> for details.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{debug_info_key,KeyString}</em>:</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{debug_info_key,{Mode,KeyString}}</em>:</p><p>Include debug information, but encrypt it, so that it cannot be accessed without supplying the key. (To give the <em>debug_info</em> option as well is allowed, but is not necessary.) Using this option is a good way to always have the debug information available during testing, yet protect the source code.</p><p><em>Mode</em> is the type of crypto algorithm to be used for encrypting the debug information. The default type -- and currently the only type -- is <em>des3_cbc</em>.</p><p>See <strong>beam_lib(3erl)</strong> for details.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>encrypt_debug_info</em>:</p><p>Like the <em>debug_info_key</em> option above, except that the key will be read from an <em>.erlang.crypt</em> file.</p><p>See <strong>beam_lib(3erl)</strong> for details.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>makedep</em>: Produce a Makefile rule to track headers dependencies. No object file is produced.</p><p>By default, this rule is written to <em>&lt;File&gt;.Pbeam</em>. However, if the option <em>binary</em> is set, nothing is written and the rule is returned in <em>Binary</em>.</p><p>For instance, if one has the following module:</p>
  </dd>

</dl>

<pre>
-module(module).

-include_lib("eunit/include/eunit.hrl").
-include("header.hrl").

</pre>
<p>Here is the Makefile rule generated by this option:</p>
<pre>
module.beam: module.erl &#92;
  /usr/local/lib/erlang/lib/eunit/include/eunit.hrl &#92;
  header.hrl

</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{makedep_output, Output}</em>: Write generated rule(s) to <em>Output</em> instead of the default <em>&lt;File&gt;.Pbeam</em>. <em>Output</em> can be a filename or an <em>io_device()</em>. To write to stdout, use <em>standard_io</em>. However if <em>binary</em> is set, nothing is written to <em>Output</em> and the result is returned to the caller with <em>{ok, ModuleName, Binary}</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{makedep_target, Target}</em>: Change the name of the rule emitted to <em>Target</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>makedep_quote_target</em>: Characters in <em>Target</em> special to <a href="../man1/make.1.html"><strong>make</strong>(1)</a> are quoted.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>makedep_add_missing</em>: Consider missing headers as generated files and add them to the dependencies.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>makedep_phony</em>: Add a phony target for each dependency.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>'P'</em>: Produces a listing of the parsed code after preprocessing and parse transforms, in the file <em>&lt;File&gt;.P</em>. No object file is produced.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>'E'</em>: Produces a listing of the code after all source code transformations have been performed, in the file <em>&lt;File&gt;.E</em>. No object file is produced.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>'S'</em>: Produces a listing of the assembler code in the file <em>&lt;File&gt;.S</em>. No object file is produced.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>report_errors/report_warnings</em>: Causes errors/warnings to be printed as they occur.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>report</em>: This is a short form for both <em>report_errors</em> and <em>report_warnings</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>return_errors</em>: If this flag is set, then <em>{error,ErrorList,WarningList}</em> is returned when there are errors.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>return_warnings</em>: If this flag is set, then an extra field containing <em>WarningList</em> is added to the tuples returned on success.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>warnings_as_errors</em>: Causes warnings to be treated as errors. This option is supported since R13B04.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>return</em>: This is a short form for both <em>return_errors</em> and <em>return_warnings</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>verbose</em>: Causes more verbose information from the compiler describing what it is doing.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{source,FileName}</em>: Sets the value of the source, as returned by <em>module_info(compile)</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{outdir,Dir}</em>: Sets a new directory for the object code. The current directory is used for output, except when a directory has been specified with this option.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>export_all</em>: Causes all functions in the module to be exported.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{i,Dir}</em>: Add <em>Dir</em> to the list of directories to be searched when including a file. When encountering an <em>-include</em> or <em>-include_lib</em> directive, the compiler searches for header files in the following directories:</p>
<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><em>"."</em>, the current working directory of the file server;</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>the base name of the compiled file;</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p>the directories specified using the <em>i</em> option. The directory specified last is searched first.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{d,Macro}</em>:</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{d,Macro,Value}</em>: Defines a macro <em>Macro</em> to have the value <em>Value</em>. <em>Macro</em> is of type atom, and <em>Value</em> can be any term. The default <em>Value</em> is <em>true</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{parse_transform,Module}</em>: Causes the parse transformation function <em>Module:parse_transform/2</em> to be applied to the parsed code before the code is checked for errors.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>from_asm</em>: The input file is expected to be assembler code (default file suffix ".S"). Note that the format of assembler files is not documented, and may change between releases.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>from_core</em>: The input file is expected to be core code (default file suffix ".core"). Note that the format of core files is not documented, and may change between releases.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>no_strict_record_tests</em>: This option is not recommended.</p><p>By default, the generated code for the <em>Record#record_tag.field</em> operation verifies that the tuple <em>Record</em> is of the correct size for the record and that the first element is the tag <em>record_tag</em>. Use this option to omit the verification code.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>no_error_module_mismatch</em>: Normally the compiler verifies that the module name given in the source code is the same as the base name of the output file and refuses to generate an output file if there is a mismatch. If you have a good reason (or other reason) for having a module name unrelated to the name of the output file, this option disables that verification (there will not even be a warning if there is a mismatch).</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{no_auto_import,[{F,A}, ...]}</em>: Makes the function <em>F/A</em> no longer being auto-imported from the module <em>erlang</em>, which resolves BIF name clashes. This option has to be used to resolve name clashes with BIFs auto-imported before R14A, if one wants to call the local function with the same name as an auto-imported BIF without module prefix.</p>
  </dd>

</dl>
<p><strong></strong> Note:</p><p>From R14A and forward, the compiler resolves calls without module prefix to local or imported functions before trying auto-imported BIFs. If the BIF is to be called, use the <em>erlang</em> module prefix in the call, not <em>{ no_auto_import,[{F,A}, ...]}</em></p><p>If this option is written in the source code, as a <em>-compile</em> directive, the syntax <em>F/A</em> can be used instead of <em>{F,A}</em>. Example:</p>
<pre>
-compile({no_auto_import,[error/1]}).
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>no_auto_import</em>: Do not auto import any functions from the module <em>erlang</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>no_line_info</em>: Omit line number information in order to produce a slightly smaller output file.</p>
  </dd>

</dl>
<p>If warnings are turned on (the <em>report_warnings</em> option described above), the following options control what type of warnings that will be generated. With the exception of <em>{warn_format,Verbosity}</em> all options below have two forms; one <em>warn_xxx</em> form to turn on the warning and one <em>nowarn_xxx</em> form to turn off the warning. In the description that follows, the form that is used to change the default value is listed.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{warn_format, Verbosity}</em>: Causes warnings to be emitted for malformed format strings as arguments to <em>io:format</em> and similar functions. <em>Verbosity</em> selects the amount of warnings: 0 = no warnings; 1 = warnings for invalid format strings and incorrect number of arguments; 2 = warnings also when the validity could not be checked (for example, when the format string argument is a variable). The default verbosity is 1. Verbosity 0 can also be selected by the option <em>nowarn_format</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>nowarn_bif_clash</em>: This option is removed, it will generate a fatal error if used.</p>
  </dd>

</dl>
<p><strong></strong> Warning:</p><p>Beginning with R14A, the compiler no longer calls the auto-imported BIF if the name clashes with a local or explicitly imported function and a call without explicit module name is issued. Instead the local or imported function is called. Still accepting <em>nowarn_bif_clash</em> would makes a module calling functions clashing with autoimported BIFs compile with both the old and new compilers, but with completely different semantics, why the option was removed.</p><p>The use of this option has always been strongly discouraged. From OTP R14A and forward it's an error to use it.</p><p>To resolve BIF clashes, use explicit module names or the <em>{no_auto_import,[F/A]}</em> compiler directive.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{nowarn_bif_clash, FAs}</em>: This option is removed, it will generate a fatal error if used.</p>
  </dd>

</dl>
<p><strong></strong> Warning:</p><p>The use of this option has always been strongly discouraged. From OTP R14A and forward it's an error to use it.</p><p>To resolve BIF clashes, use explicit module names or the <em>{no_auto_import,[F/A]}</em> compiler directive.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>warn_export_all</em>: Causes a warning to be emitted if the <em>export_all</em> option has also been given.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>warn_export_vars</em>: Causes warnings to be emitted for all implicitly exported variables referred to after the primitives where they were first defined. No warnings for exported variables unless they are referred to in some pattern, which is the default, can be selected by the option <em>nowarn_export_vars</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>warn_shadow_vars</em>: Causes warnings to be emitted for "fresh" variables in functional objects or list comprehensions with the same name as some already defined variable. The default is to warn for such variables. No warnings for shadowed variables can be selected by the option <em>nowarn_shadow_vars</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>nowarn_unused_function</em>: Turns off warnings for unused local functions. By default (<em>warn_unused_function</em>), warnings are emitted for all local functions that are not called directly or indirectly by an exported function. The compiler does not include unused local functions in the generated beam file, but the warning is still useful to keep the source code cleaner.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{nowarn_unused_function, FAs}</em>: Turns off warnings for unused local functions as <em>nowarn_unused_function</em> but only for the mentioned local functions. <em>FAs</em> is a tuple <em>{Name,Arity}</em> or a list of such tuples.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>nowarn_deprecated_function</em>: Turns off warnings for calls to deprecated functions. By default (<em>warn_deprecated_function</em>), warnings are emitted for every call to a function known by the compiler to be deprecated. Note that the compiler does not know about the <em>-deprecated()</em> attribute but uses an assembled list of deprecated functions in Erlang/OTP. To do a more general check the <em>Xref</em> tool can be used. See also <strong>xref(3erl)</strong> and the function <strong>xref:m/1</strong> also accessible through the <strong>c:xm/1</strong> function.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>{nowarn_deprecated_function, MFAs}</em>: Turns off warnings for calls to deprecated functions as <em>nowarn_deprecated_function</em> but only for the mentioned functions. <em>MFAs</em> is a tuple <em>{Module,Name,Arity}</em> or a list of such tuples.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>nowarn_deprecated_type</em>: Turns off warnings for uses of deprecated types. By default (<em>warn_deprecated_type</em>), warnings are emitted for every use of a type known by the compiler to be deprecated.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>warn_obsolete_guard</em>: Causes warnings to be emitted for calls to old type testing BIFs such as <em>pid/1</em> and <em>list/1</em>. See the <strong>Erlang Reference Manual</strong> for a complete list of type testing BIFs and their old equivalents. No warnings for calls to old type testing BIFs, which is the default, can be selected by the option <em>nowarn_obsolete_guard</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>warn_unused_import</em>: Causes warnings to be emitted for unused imported functions. No warnings for unused imported functions, which is the default, can be selected by the option <em>nowarn_unused_import</em>.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>nowarn_unused_vars</em>: By default, warnings are emitted for variables which are not used, with the exception of variables beginning with an underscore ("Prolog style warnings"). Use this option to turn off this kind of warnings.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p><em>nowarn_unused_record</em>: Turns off warnings for unused record types. By default (<em>warn_unused_records</em>), warnings are emitted for unused locally defined record types.</p>
  </dd>

</dl>
<p>Another class of warnings is generated by the compiler during optimization and code generation. They warn about patterns that will never match (such as <em>a=b</em>), guards that will always evaluate to false, and expressions that will always fail (such as <em>atom+42</em>).</p><p>Note that the compiler does not warn for expressions that it does not attempt to optimize. For instance, the compiler tries to evaluate <em>1/0</em>, notices that it will cause an exception and emits a warning. On the other hand, the compiler is silent about the similar expression <em>X/0</em>; because of the variable in it, the compiler does not even try to evaluate and therefore it emits no warnings.</p><p>Currently, those warnings cannot be disabled (except by disabling all warnings).</p><p><strong></strong> Warning:</p><p>Obviously, the absence of warnings does not mean that there are no remaining errors in the code.</p><p>Note that all the options except the include path (<em>{i,Dir}</em>) can also be given in the file with a <em>-compile([Option,...])</em>. attribute. The <em>-compile()</em> attribute is allowed after function definitions.</p><p>Note also that the <em>{nowarn_unused_function, FAs}</em>, <em>{nowarn_bif_clash, FAs}</em>, and <em>{nowarn_deprecated_function, MFAs}</em> options are only recognized when given in files. They are not affected by the <em>warn_unused_function</em>, <em>warn_bif_clash</em>, or <em>warn_deprecated_function</em> options.</p><p>For debugging of the compiler, or for pure curiosity, the intermediate code generated by each compiler pass can be inspected. A complete list of the options to produce list files can be printed by typing <em>compile:options()</em> at the Erlang shell prompt. The options will be printed in order that the passes are executed. If more than one listing option is used, the one representing the earliest pass takes effect.</p><p><em>Unrecognized options are ignored.</em></p><p>Both <em>WarningList</em> and <em>ErrorList</em> have the following format:</p>
<pre>
[{FileName,[ErrorInfo]}].

</pre>
<p><em>ErrorInfo</em> is described below. The file name has been included here as the compiler uses the Erlang pre-processor <em>epp</em>, which allows the code to be included in other files. For this reason, it is important to know to <em>which</em> file an error or warning line number refers.</p><p><strong></strong> forms(Forms)</p><p>Is the same as <em>forms(File, [verbose,report_errors,report_warnings])</em>.</p><p><strong></strong> forms(Forms, Options) -&gt; CompRet</p><p>Types:</p><p>Forms = [Form]</p><p>CompRet = BinRet | ErrRet</p><p>BinRet = {ok,ModuleName,BinaryOrCode} | {ok,ModuleName,BinaryOrCode,Warnings}</p><p>BinaryOrCode = binary() | term()</p><p>ErrRet = error | {error,Errors,Warnings}</p><p>Analogous to <em>file/1</em>, but takes a list of forms (in the Erlang abstract format representation) as first argument. The option <em>binary</em> is implicit; i.e., no object code file is produced. Options that would ordinarily produce a listing file, such as 'E', will instead cause the internal format for that compiler pass (an Erlang term; usually not a binary) to be returned instead of a binary.</p><p><strong></strong> format_error(ErrorDescriptor) -&gt; chars()</p><p>Types:</p><p>ErrorDescriptor = errordesc()</p><p>Uses an <em>ErrorDescriptor</em> and returns a deep list of characters which describes the error. This function is usually called implicitly when an <em>ErrorInfo</em> structure is processed. See below.</p><p><strong></strong> output_generated(Options) -&gt; true | false</p><p>Types:</p><p>Options = [term()]</p><p>Determines whether the compiler would generate a <em>beam</em> file with the given options. <em>true</em> means that a <em>beam</em> file would be generated; <em>false</em> means that the compiler would generate some listing file, return a binary, or merely check the syntax of the source code.</p><p><strong></strong> noenv_file(File, Options) -&gt; CompRet</p><p>Works exactly like <strong>file/2</strong>, except that the environment variable <em>ERL_COMPILER_OPTIONS</em> is not consulted.</p><p><strong></strong> noenv_forms(Forms, Options) -&gt; CompRet</p><p>Works exactly like <strong>forms/2</strong>, except that the environment variable <em>ERL_COMPILER_OPTIONS</em> is not consulted.</p><p><strong></strong> noenv_output_generated(Options) -&gt; true | false</p><p>Types:</p><p>Options = [term()]</p><p>Works exactly like <strong>output_generated/1</strong>, except that the environment variable <em>ERL_COMPILER_OPTIONS</em> is not consulted.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFAULT COMPILER OPTIONS</h2>
        <div class="sectioncontent">
<p>The (host operating system) environment variable <em>ERL_COMPILER_OPTIONS</em> can be used to give default compiler options. Its value must be a valid Erlang term. If the value is a list, it will be used as is. If it is not a list, it will be put into a list.</p><p>The list will be appended to any options given to <strong>file/2</strong>, <strong>forms/2</strong>, and <strong>output_generated/2</strong>. Use the alternative functions <strong>noenv_file/2</strong>, <strong>noenv_forms/2</strong>, or <strong>noenv_output_generated/2</strong> if you don't want the environment variable to be consulted (for instance, if you are calling the compiler recursively from inside a parse transform).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INLINING</h2>
        <div class="sectioncontent">
<p>The compiler can do function inlining within an Erlang module. Inlining means that a call to a function is replaced with the function body with the arguments replaced with the actual values. The semantics are preserved, except if exceptions are generated in the inlined code. Exceptions will be reported as occurring in the function the body was inlined into. Also, <em>function_clause</em> exceptions will be converted to similar <em>case_clause</em> exceptions.</p><p>When a function is inlined, the original function will be kept if it is exported (either by an explicit export or if the <em>export_all</em> option was given) or if not all calls to the function were inlined.</p><p>Inlining does not necessarily improve running time. For instance, inlining may increase Beam stack usage which will probably be detrimental to performance for recursive functions.</p><p>Inlining is never default; it must be explicitly enabled with a compiler option or a <em>-compile()</em> attribute in the source module.</p><p>To enable inlining, either use the <em>inline</em> option to let the compiler decide which functions to inline or <em>{inline,[{Name,Arity},...]}</em> to have the compiler inline all calls to the given functions. If the option is given inside a <em>compile</em> directive in an Erlang module, <em>{Name,Arity}</em> may be written as <em>Name/Arity</em>.</p><p>Example of explicit inlining:</p>
<pre>
-compile({inline,[pi/0]}).

pi() -&gt; 3.1416.

</pre>
<p>Example of implicit inlining:</p>
<pre>
-compile(inline).

</pre>
<p>The <em>{inline_size,Size}</em> option controls how large functions that are allowed to be inlined. Default is <em>24</em>, which will keep the size of the inlined code roughly the same as the un-inlined version (only relatively small functions will be inlined).</p><p>Example:</p>
<pre>
%% Aggressive inlining - will increase code size.
-compile(inline).
-compile({inline_size,100}).

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INLINING OF LIST FUNCTIONS</h2>
        <div class="sectioncontent">
<p>The compiler can also inline a variety of list manipulation functions from the stdlib's lists module.</p><p>This feature must be explicitly enabled with a compiler option or a <em>-compile()</em> attribute in the source module.</p><p>To enable inlining of list functions, use the <em>inline_list_funcs</em> option.</p><p>The following functions are inlined:</p>
<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:all/2</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:any/2</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:foreach/2</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:map/2</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:flatmap/2</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:filter/2</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:foldl/3</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:foldr/3</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:mapfoldl/3</strong></p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>*</p>
  </dt>
  <dd>
    <p><strong>lists:mapfoldr/3</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARSE TRANSFORMATIONS</h2>
        <div class="sectioncontent">
<p>Parse transformations are used when a programmer wants to use Erlang syntax but with different semantics. The original Erlang code is then transformed into other Erlang code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERROR INFORMATION</h2>
        <div class="sectioncontent">
<p>The <em>ErrorInfo</em> mentioned above is the standard <em>ErrorInfo</em> structure which is returned from all IO modules. It has the following format:</p>
<pre>
{ErrorLine, Module, ErrorDescriptor}

</pre>
<p><em>ErrorLine</em> will be the atom <em>none</em> if the error does not correspond to a specific line (e.g. if the source file does not exist).</p><p>A string describing the error is obtained with the following call:</p>
<pre>
Module:format_error(ErrorDescriptor)

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO compile&hellip;</h2>
        <div class="sectioncontent">
<p><strong>epp(3erl)</strong>, <strong>erl_id_trans(3erl)</strong>, <strong>erl_lint(3erl)</strong>, <strong>beam_lib(3erl)</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="common_test.3erl.html"><span aria-hidden="true">&larr;</span> common_test.3erl: A framework for automated testing of arbitrary target nodes</a></li>
   <li class="next"><a href="corba.3erl.html">corba.3erl: The functions on corba module level <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
