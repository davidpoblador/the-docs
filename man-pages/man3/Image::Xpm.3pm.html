<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Image::Xpm: Load, create, manipulate and save xpm image files.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Load, create, manipulate and save xpm image files.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Image::Xpm (3pm) manual">
  <meta name="twitter:description" content="Load, create, manipulate and save xpm image files.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libimage-base-bundle-perl-Image::Xpm-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Image::Xpm.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Image::Xpm (3pm) manual" />
  <meta property="og:description" content="Load, create, manipulate and save xpm image files." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libimage-base-bundle-perl-Image::Xpm-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Image::Xpm<small> (3pm)</small></h1>
        <p class="lead">Load, create, manipulate and save xpm image files.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Image::Xpm.3pm.html">
      <span itemprop="name">Image::Xpm: Load, create, manipulate and save xpm image files.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libimage-base-bundle-perl/">
      <span itemprop="name">libimage-base-bundle-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Image::Xpm.3pm.html">
      <span itemprop="name">Image::Xpm: Load, create, manipulate and save xpm image files.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use Image::Xpm;

    my $j = Image::Xpm-&gt;new(-file, &apos;Camel.xpm&apos;);

    my $i = Image::Xpm-&gt;new(-width =&gt; 10, -height =&gt; 16);

    my $h = $i-&gt;new; # Copy of $i

    $i-&gt;xy(5, 8, &apos;red&apos;);       # Set a colour (& add to palette if necessary)
    print $i-&gt;xy(9, 3);        # Get a colour

    $i-&gt;xy(120, 130, &apos;#1256DD&apos;);
    $i-&gt;xy(120, 130, $i-&gt;rgb2colour(66, 0x4D, 31));

    $i-&gt;vec(24, &apos;#808080&apos;);    # Set a colour using a vector offset
    print $i-&gt;vec(24);         # Get a colour using a vector offset

    print $i-&gt;get(-width);     # Get and set object attributes
    $i-&gt;set(-height, 15);

    $i-&gt;load(&apos;test.xpm&apos;);
    $i-&gt;save;

    # Changing just the palette
    $i-&gt;add_colours(qw(red green blue #123456 #C0C0C0));
    $i-&gt;del_colour(&apos;blue&apos;);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This class module provides basic load, manipulate and save functionality for the xpm file format. It inherits from \*(C`Image::Base\*(C' which provides additional manipulation functionality, e.g. \*(C`new_from_image()\*(C'. See the \*(C`Image::Base\*(C' pod for information on adding your own functionality to all the Image::Base derived classes.</p><p><strong>&#92;$1</strong></p><p>    my $i = Image::Xpm-&gt;new(-file =&gt; &apos;test.xpm&apos;);     my $j = Image::Xpm-&gt;new(-width =&gt; 12, -height =&gt; 18);     my $k = $i-&gt;new;</p><p>We can create a new xpm image by reading in a file, or by creating an image from scratch (all the pixels are white by default), or by copying an image object that we created earlier.</p><p>If we set \*(C`-file\*(C' then all the other arguments are ignored (since they're taken from the file). If we don't specify a file, \*(C`-width\*(C' and \*(C`-height\*(C' are mandatory and \*(C`-cpp\*(C' will default to 1 unless specified otherwise. The name of the file to read when creating the image. May contain a full path. This is also the default name used for \*(C`load\*(C'ing and \*(C`save\*(C'ing, though it can be overridden when you load or save. The width of the image; taken from the file or set when the object is created; read-only. The height of the image; taken from the file or set when the object is created; read-only. Characters per pixel. Commonly 1 or 2, default is 1 for images created by the module; read-only. See the example for how to change an image's cpp. The x-coord of the image's hotspot; taken from the file or set when the object is created. Set to -1 if there is no hotspot. The y-coord of the image's hotspot; taken from the file or set when the object is created. Set to -1 if there is no hotspot. The number of unique colours in the palette. The image may not be using all of them; read-only. An hash whose keys are colour names, e.g. '#123456' or 'blue' and whose values are the palette names, e.g. ' ', '#', etc; read-only. If you want to add more colours to the image itself simply write pixels with the new colours using \*(C`xy\*(C'; if you want to add more colours to the palette without necessarily using them in the image use \*(C`add_colours\*(C'. A hash whose keys are the palette names, e.g. ' ', '#', etc. and whose values are hashes of colour type x colour name pairs, e.g. \*(C`c =&gt; red\*(C', etc; read-only. If you want to add more colours to the image itself simply write pixels with the new colours using \*(C`xy\*(C'; if you want to add more colours to the palette without necessarily using them in the image use \*(C`add_colours\*(C'. A string of palette names which constitutes the data for the image itself; read-only. The name of the extension text if any; commonly \s-1XPMEXT\s0; read-only. The lines of text of any extensions; read-only. An array (possibly empty) of comment lines that were in a file that was read in; they will be written out although we make no guarantee regarding their placement; read-only.     my $width = $i-&gt;get(-width);     my ($hotx, $hoty) = $i-&gt;get(-hotx, -hoty);</p><p>Get any of the object's attributes. Multiple attributes may be requested in a single call.</p><p>See \*(C`xy\*(C' and \*(C`vec\*(C' to get/set colours of the image itself.     $i-&gt;set(-hotx =&gt; 120, -hoty =&gt; 32);</p><p>Set any of the object's attributes. Multiple attributes may be set in a single call; some attributes are read-only.</p><p>See \*(C`xy\*(C' and \*(C`vec\*(C' to get/set colours of the image itself.     $i-&gt;xy(4, 11, &apos;#123454&apos;);    # Set the colour at point 4,11     my $v = $i-&gt;xy(9, 17);       # Get the colour at point 9,17</p><p>Get/set colours using x, y coordinates; coordinates start at 0. If the colour does not exist in the palette it will be added automatically.</p><p>When called to set the colour the value returned is characters used for that colour in the palette; when called to get the colour the value returned is the colour name, e.g. 'blue' or '#f0f0f0', etc, e.g.</p><p>    $colour = xy($x, $y);            # e.g. #123456     $cc     = xy($x, $y, $colour);   # e.g. !</p><p>We don't normally pick up the return value when setting the colour.     $i-&gt;vec(43, 0);      # Unset the bit at offset 43     my $v = $i-&gt;vec(87); # Get the bit at offset 87</p><p>Get/set bits using vector offsets; offsets start at 0. The offset of a pixel is ((y * width * cpp) + (x * cpp)).</p><p>The sort of return value depends on whether we are reading (getting) or writing (setting) the colour - see \*(C`xy\*(C' for an explanation.     $i-&gt;rgb2colour(0xff, 0x40, 0x80);    # Returns #ff4080     Image::Xpm-&gt;rgb2colour(10, 20, 30);  # Returns #0a141e</p><p>Convenience class or object methods which accept three integers and return a colour name string.     $i-&gt;load;     $i-&gt;load(&apos;test.xpm&apos;);</p><p>Load the image whose name is given, or if none is given load the image whose name is in the \*(C`-file\*(C' attribute.     $i-&gt;save;     $i-&gt;save(&apos;test.xpm&apos;);</p><p>Save the image using the name given, or if none is given save the image using the name in the \*(C`-file\*(C' attribute. The image is saved in xpm format.     $i-&gt;add_colours(qw(#C0C0DD red blue #123456));</p><p>These are for adding colours to the palette; you don't need to use them to set a pixel's colour - use \*(C`xy\*(C' for that.</p><p>Add one or more colour names either as hex strings or as literal colour names. These are always added as type 'c' colours; duplicates are ignored.</p><p>\s-1NB\s0 If you just want to set some pixels in colours that may not be in the palette, simply do so using \*(C`xy\*(C' since new colours are added automatically.     $i-&gt;del_colour(&apos;green&apos;);</p><p>Delete a colour from the palette; returns undef if the colour isn't in the palette, false (0) if the colour is in the palette but also in the image, or true (1) if the colour has been deleted (i.e. it was in the palette but not in use in the image).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>    my $i = Image::Xpm(-file =&gt; &apos;test1.xpm&apos;); # test1.xpm has cpp == 1     my $j = $i-&gt;new_from_image(&apos;Image::xpm&apos;, -cpp =&gt; 2);     $j-&gt;save(&apos;test2.xpm&apos;);</p><p>    # Could have written 2nd line above as:     my $j = $i-&gt;new_from_image(ref $i, -cpp =&gt; 2);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHANGES</h2>
        <div class="sectioncontent">
<p>2000/11/09</p><p>Added Jerrad Pierce's patch to allow <em>load()</em> to accept filehandles or strings; will document in next release.</p><p>2000/10/19</p><p>Fixed bugs in <em>xy()</em> and <em>vec()</em> reported by Pat Gunn.</p><p>2000/05/25</p><p>Fixed a bug in the test file; fixed a bug in <em>save()</em> which affected xpm extensions.</p><p>2000/05/04</p><p>Fixed bugs in <em>xy()</em>, <em>vec()</em>, <em>save()</em> and <em>load()</em>. Improved the test program.</p><p>2000/05/03</p><p>Created.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Mark Summerfield. I can be contacted as &lt;summer@perlpress.com&gt; - please include the word 'xpm' in the subject line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) Mark Summerfield 2000. All Rights Reserved.</p><p>This module may be used/distributed/modified under the \s-1GPL\s0.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Image::Xbm.3pm.html"><span aria-hidden="true">&larr;</span> Image::Xbm.3pm: Load, create, manipulate and save xbm image files.</a></li>
   <li class="next"><a href="Inline::Files.3pm.html">Inline::Files.3pm: Multiple virtual files at the end of your code <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
