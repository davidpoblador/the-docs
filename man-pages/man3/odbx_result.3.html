<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>odbx_result: Retrieves a result set from the database server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Retrieves a result set from the database server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="odbx_result (3) manual">
  <meta name="twitter:description" content="Retrieves a result set from the database server">
  <meta name="twitter:image" content="https://www.carta.tech/images/libopendbx1-dev-odbx_result-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/odbx_result.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="odbx_result (3) manual" />
  <meta property="og:description" content="Retrieves a result set from the database server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libopendbx1-dev-odbx_result-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">odbx_result<small> (3)</small></h1>
        <p class="lead">Retrieves a result set from the database server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/odbx_result.3.html">
      <span itemprop="name">odbx_result: Retrieves a result set from the database server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libopendbx1-dev/">
      <span itemprop="name">libopendbx1-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/odbx_result.3.html">
      <span itemprop="name">odbx_result: Retrieves a result set from the database server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
\*(T&lt;#include &lt;opendbx/api.h&gt;\*(T&gt;
</pre>
<p>\*(T&lt;int <strong>odbx_result</strong>\*(T&gt; \kx \*(T&lt;(odbx_t* <em>handle</em>, odbx_result_t** <em>result</em>, struct timeval* <em>timeout</em>, unsigned long <em>chunk</em>);\*(T&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Retrieves the result of a query statement sent by \*(T&lt;<strong>odbx_query</strong>\*(T&gt;() from the database server. After a statement was successfully executed, a dynamically allocated object representing the result set is stored in \*(T&lt;result\*(T&gt; which must be freed afterwards by \*(T&lt;<strong>odbx_result_finish</strong>\*(T&gt;(). Result sets for SELECT-like statements returned successfully by this function can be processed by calling \*(T&lt;<strong>odbx_row_fetch</strong>\*(T&gt;() until all rows are retrieved. If the statement was an INSERT, UPDATE, DELETE or a similar statement, the number of affected rows is available via \*(T&lt;<strong>odbx_rows_affected</strong>\*(T&gt;().</p><p>If a timeout or error occurs, the \*(T&lt;result\*(T&gt; pointer is set to NULL. In case of a timeout, \*(T&lt;<strong>odbx_result</strong>\*(T&gt;() should be called again because the query isn't canceled. This function must be called multiple times until it returns zero, even if the query contains only one statement. Otherwise, memory will be leaked and \*(T&lt;<strong>odbx_query</strong>\*(T&gt;() will return an error.</p><p>The third parameter (\*(T&lt;timeout\*(T&gt;) restricts the time the function is waiting for a result form the server. It may be NULL to wait until a result arrives. Otherwise, it can contain any number of seconds and microseconds in a timeval structure to wait for. The timeval structure must be set each time before calling \*(T&lt;<strong>odbx_result</strong>\*(T&gt;() because its content may get changed by the function. If the server doesn't respond within the timeout, the query isn't canceled! Instead, the next call to this function will wait for the same result set. Waiting the specified time may be implemented in the backends if it is possible, but there is no guarantee. If not, \*(T&lt;<strong>odbx_result</strong>\*(T&gt;() will return not before a responds arrives.</p><p>Dependent on the native database library, it may be possible to retrieve all rows at once (if \*(T&lt;chunk\*(T&gt; is zero), one by one or more than one row at once. All positive values including zero are allowed as values for \*(T&lt;chunk\*(T&gt; If paging (more than one row at once) is not supported by the backend, it will use "one by one" or "all at once" if this is the only option provided.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>\*(T&lt;<strong>odbx_result</strong>\*(T&gt;() returns \*(T&lt;ODBX_RES_ROWS\*(T&gt; ("3") if a result set is available and zero if no more results will be returned for the last query string sent via \*(T&lt;<strong>odbx_query</strong>\*(T&gt;() successfully. \*(T&lt;ODBX_RES_NOROWS\*(T&gt; ("2") is returned if the statement was executed successfully but will not return a results set (like for INSERT, UPDATE and DELETE statements) and \*(T&lt;ODBX_RES_TIMEOUT\*(T&gt; ("1") indicates a timeout. As soon as \*(T&lt;ODBX_RES_DONE\*(T&gt; ("0") is returned, the available result sets were processed. The named constants are available since OpenDBX 1.3.2 and the numbers in brackets have to be used instead if a previous release is is the basis for the application development.</p><p>It returns an error code whose value is less than zero if one of the operations couldn't be completed successfully. Possible error codes are listed in the error section and they can be feed to \*(T&lt;<strong>odbx_error</strong>\*(T&gt;() and \*(T&lt;<strong>odbx_error_type</strong>\*(T&gt;() to get further details. In this case, the backends are responsible for freeing the data structures they allocated inside the function and to clear the errornous result set if there's one available. The backends will also set the given result pointer to NULL before returning the error. Nevertheless, if a non-fatal error occurred it's possible to retrieve further result sets and this is necessary before calling \*(T&lt;<strong>odbx_query</strong>\*(T&gt;() on the same connection again.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>-\*(T&lt;ODBX_ERR_BACKEND\*(T&gt;</p>
  </dt>
  <dd>
    <p>The native database library returned an error</p>
  </dd>
  <dt>
    <p>-\*(T&lt;ODBX_ERR_PARAM\*(T&gt;</p>
  </dt>
  <dd>
    <p>Either \*(T&lt;handle\*(T&gt; or \*(T&lt;result\*(T&gt; are NULL or \*(T&lt;handle\*(T&gt; is invalid</p>
  </dd>
  <dt>
    <p>-\*(T&lt;ODBX_ERR_NOMEM\*(T&gt;</p>
  </dt>
  <dd>
    <p>Allocating the required memory for the result failed</p>
  </dd>
  <dt>
    <p>-\*(T&lt;ODBX_ERR_RESULT\*(T&gt;</p>
  </dt>
  <dd>
    <p>Waiting for a response from the server failed because the connection was lost</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO odbx_result&hellip;</h2>
        <div class="sectioncontent">
<p>\*(T&lt;<strong>odbx_column_count</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_column_name</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_column_type</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_rows_affected</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_row_fetch</strong>\*(T&gt;(), \*(T&lt;<strong>odbx_result_finish</strong>\*(T&gt;()</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="odbx_query.3.html"><span aria-hidden="true">&larr;</span> odbx_query.3: Send a statement to the database server</a></li>
   <li class="next"><a href="odbx_result_finish.3.html">odbx_result_finish.3: Closes the result set and frees its allocated memory <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
