<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rfiosetopt: Set rfio options</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Set rfio options">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rfiosetopt (3) manual">
  <meta name="twitter:description" content="Set rfio options">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdpm-dev-rfiosetopt-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/rfiosetopt.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rfiosetopt (3) manual" />
  <meta property="og:description" content="Set rfio options" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdpm-dev-rfiosetopt-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rfiosetopt<small> (3)</small></h1>
        <p class="lead">Set rfio options</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/rfiosetopt.3.html">
      <span itemprop="name">rfiosetopt: Set rfio options</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdpm-dev/">
      <span itemprop="name">libdpm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/rfiosetopt.3.html">
      <span itemprop="name">rfiosetopt: Set rfio options</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;sys/types.h&gt;</strong></p><p><strong>#include "rfio_api.h"</strong></p><p><strong>int rfiosetopt (int </strong><em>opt</em><strong>,</strong> <strong>int *</strong><em>pval</em><strong>,</strong> <strong>int </strong><em>len</em><strong>)</strong></p><p><strong>int rfio_setbufsize (int </strong><em>s</em><strong>,</strong> <strong>int </strong><em>bufsize</em><strong>)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>rfiosetopt</strong> sets the RFIO option <em>opt</em> to the content of the memory cell pointed by <em>pval</em>.</p><p><strong>rfio_setbufsize</strong> sets the size of the readahead buffer to be used on a particular socket connection.</p><p><em>opt</em> can have on of the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>RFIO_READOPT</strong></p>
  </dt>
  <dd>
    <p>The value pointed by pval can be 0, RFIO_READBUF, RFIO_READAHEAD or RFIO_STREAM (V3).</p>
<dl class='dl-vertical'>
  <dt>
    <p>If set to zero, a normal read will be used (one request to the server per read).</p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>If set to RFIO_READBUF, an internal buffer is allocated in the client API, each call to the server fills this buffer and the user buffer is filled from the internal buffer. There is one server call per buffer fill.</p><p>If set to RFIO_READAHEAD, an initial call is sent to the server which pushes data to the client buffer until end of file is reached or an error occurs or a new request comes from the client. There is no intermediate buffer unless RFIO_READBUF|RFIO_READAHEAD is specified.</p><p>If RFIO_STREAM is set, the V3 protocol is enabled. This uses 2 socket connections between the client and the server and the server itself is multi-threaded allowing overlap of disk and network operations. The data is pushed on the data socket until end of file is reached or an error occurs. The transfer can be interrupted by sending a packet on the control socket.</p><p>Default is RFIO_READBUF.</p><p>The default internal buffer size is 128kB, but the buffer size can be set with an entry RFIO IOBUFSIZE in <strong>shift.conf</strong> or thru the environment variable RFIO_IOBUFSIZE.</p>
  </dd>
  <dt>
    <p><strong>RFIO_NETOPT</strong></p>
  </dt>
  <dd>
    <p>The value pointed by pval can be RFIO_NONET or RFIO_NET. If set to RFIO_NONET, the NET entries in <strong>shift.conf</strong> are ignored. Default is RFIO_NET.</p>
  </dd>
  <dt>
    <p><strong>RFIO_NETRETRYOPT</strong></p>
  </dt>
  <dd>
    <p>The value pointed by pval can be RFIO_RETRYIT or RFIO_NOTIME2RETRY.</p><p>If set to RFIO_RETRYIT, there will be retries on failing connect. The number of retries is given by the environment variable RFIO_CONRETRY or the RFIO CONRETRY entry in <strong>shift.conf</strong>. The retry interval (in seconds) is given by the environment variable RFIO_CONRETRYINT or the RFIO CONRETRYINT entry.</p><p>If set to RFIO_NOTIME2RETRY, there will be no retry on failing connect.</p><p>Default is RFIO_RETRYIT.</p>
  </dd>
  <dt>
    <p><strong>RFIO_CONNECTOPT</strong></p>
  </dt>
  <dd>
    <p>The value pointed by pval can be RFIO_NOLOCAL or RFIO_FORCELOCAL. If set to RFIO_FORCELOCAL, no parsing is done on pathname. The file is assumed to be local. Default is RFIO_NOLOCAL.</p>
  </dd>

</dl>
<p>The <em>len</em> argument is ignored.</p><p><em>s</em> is the file descriptor of the receiving socket.</p><p><em>bufsize</em> is the size of the readahead buffer to be used.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p><strong>rfiosetopt</strong> returns 0 if the operation was successful or -1 if the operation failed. In the latter case, <strong>serrno</strong> is set appropriately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>ENOMEM</strong></p>
  </dt>
  <dd>
    <p>buffer could not be allocated.</p>
  </dd>
  <dt>
    <p><strong>EINVAL</strong></p>
  </dt>
  <dd>
    <p><em>opt</em> is not a valid option, <em>bufsize</em> is negative or the user tries to change the buffer size after the actual I/O has started.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rfiosetopt&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/rfio_open.3.html"><strong>rfio_open</strong>(3)</a></strong>, <a href="../man3/rfioreadopt.3.html"><strong>rfioreadopt</strong>(3)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>LCG Grid Deployment</strong> Team</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rfioreadopt.3.html"><span aria-hidden="true">&larr;</span> rfioreadopt.3: Get rfio options</a></li>
   <li class="next"><a href="rgxg_net_cidr_ipv4.3.html">rgxg_net_cidr_ipv4.3: Create regex that matches all addresses of the given cidr block <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
