<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>al_create_audio_stream: Allegro 5 api</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Allegro 5 api">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="al_create_audio_stream (3alleg5) manual">
  <meta name="twitter:description" content="Allegro 5 api">
  <meta name="twitter:image" content="https://www.carta.tech/images/allegro5-doc-al_create_audio_stream-3alleg5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3alleg5/al_create_audio_stream.3alleg5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="al_create_audio_stream (3alleg5) manual" />
  <meta property="og:description" content="Allegro 5 api" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/allegro5-doc-al_create_audio_stream-3alleg5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">al_create_audio_stream<small> (3alleg5)</small></h1>
        <p class="lead">Allegro 5 api</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg5/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg5/al_create_audio_stream.3alleg5.html">
      <span itemprop="name">al_create_audio_stream: Allegro 5 api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/allegro5-doc/">
      <span itemprop="name">allegro5-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3alleg5/al_create_audio_stream.3alleg5.html">
      <span itemprop="name">al_create_audio_stream: Allegro 5 api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<ul>
<li>
<pre>
#include&nbsp;&lt;allegro5/allegro_audio.h&gt;

ALLEGRO_AUDIO_STREAM&nbsp;*al_create_audio_stream(size_t&nbsp;fragment_count,
&nbsp;&nbsp;&nbsp;unsigned&nbsp;int&nbsp;frag_samples,&nbsp;unsigned&nbsp;int&nbsp;freq,&nbsp;ALLEGRO_AUDIO_DEPTH&nbsp;depth,
&nbsp;&nbsp;&nbsp;ALLEGRO_CHANNEL_CONF&nbsp;chan_conf)

</pre>
</li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Creates an ALLEGRO_AUDIO_STREAM(3alleg5). The stream will be set to play by default. It will feed audio data from a buffer, which is split into a number of fragments.</p><p>Parameters:</p>
<dl class='dl-vertical'>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>fragment_count - How many fragments to use for the audio stream. Usually only two fragments are required - splitting the audio buffer in two halves. But it means that the only time when new data can be supplied is whenever one half has finished playing. When using many fragments, you usually will use fewer samples for one, so there always will be (small) fragments available to be filled with new data.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>frag_samples - The size of a fragment in samples. See note below.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>freq - The frequency, in Hertz.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>depth - Must be one of the values listed for ALLEGRO_AUDIO_DEPTH(3alleg5).</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>chan_conf - Must be one of the values listed for ALLEGRO_CHANNEL_CONF(3alleg5).</p>
  </dd>

</dl>
<p>The choice of <em>fragment_count</em>, <em>frag_samples</em> and <em>freq</em> directly influences the audio delay. The delay in seconds can be expressed as:</p><ul>
<li>
<pre>
delay&nbsp;=&nbsp;fragment_count&nbsp;*&nbsp;frag_samples&nbsp;/&nbsp;freq

</pre>
</li>
</ul><p>This is only the delay due to Allegro\[aq]s streaming, there may be additional delay caused by sound drivers and/or hardware.</p><p><em>Note:</em> If you know the fragment size in bytes, you can get the size in samples like this:</p><ul>
<li>
<pre>
sample_size&nbsp;=&nbsp;al_get_channel_count(chan_conf)&nbsp;*&nbsp;al_get_audio_depth_size(depth);
samples&nbsp;=&nbsp;bytes_per_fragment&nbsp;/&nbsp;sample_size;

</pre>
</li>
</ul><p>The size of the complete buffer is:</p><ul>
<li>
<pre>
buffer_size&nbsp;=&nbsp;bytes_per_fragment&nbsp;*&nbsp;fragment_count

</pre>
</li>
</ul><p><em>Note:</em> unlike many Allegro objects, audio streams are not implicitly destroyed when Allegro is shut down. You must destroy them manually with al_destroy_audio_stream(3alleg5) before the audio system is shut down.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="al_copy_transform.3alleg5.html"><span aria-hidden="true">&larr;</span> al_copy_transform.3alleg5: Allegro 5 api</a></li>
   <li class="next"><a href="al_create_bitmap.3alleg5.html">al_create_bitmap.3alleg5: Allegro 5 api <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
