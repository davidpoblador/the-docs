<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MooseX::Params::Validate: An extension of params::validate using moose's types</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="An extension of params::validate using moose's types">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="MooseX::Params::Validate (3pm) manual">
  <meta name="twitter:description" content="An extension of params::validate using moose's types">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmoosex-params-validate-perl-MooseX::Params::Validate-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/MooseX::Params::Validate.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MooseX::Params::Validate (3pm) manual" />
  <meta property="og:description" content="An extension of params::validate using moose's types" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmoosex-params-validate-perl-MooseX::Params::Validate-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">MooseX::Params::Validate<small> (3pm)</small></h1>
        <p class="lead">An extension of params::validate using moose's types</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MooseX::Params::Validate.3pm.html">
      <span itemprop="name">MooseX::Params::Validate: An extension of params::validate using moose's types</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmoosex-params-validate-perl/">
      <span itemprop="name">libmoosex-params-validate-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MooseX::Params::Validate.3pm.html">
      <span itemprop="name">MooseX::Params::Validate: An extension of params::validate using moose's types</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 0.18</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  package Foo;
  use Moose;
  use MooseX::Params::Validate;

  sub foo {
      my ( $self, %params ) = validated_hash(
          &#92;@_,
          bar =&gt; { isa =&gt; &apos;Str&apos;, default =&gt; &apos;Moose&apos; },
      );
      return "Hooray for $params{bar}!";
  }

  sub bar {
      my $self = shift;
      my ( $foo, $baz, $gorch ) = validated_list(
          &#92;@_,
          foo   =&gt; { isa =&gt; &apos;Foo&apos; },
          baz   =&gt; { isa =&gt; &apos;ArrayRef | HashRef&apos;, optional =&gt; 1 },
          gorch =&gt; { isa =&gt; &apos;ArrayRef[Int]&apos;, optional =&gt; 1 }
      );
      [ $foo, $baz, $gorch ];
  }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module fills a gap in Moose by adding method parameter validation to Moose. This is just one of many developing options, it should not be considered the \*(L"official\*(R" one by any means though.</p><p>You might also want to explore \*(C`MooseX::Method::Signatures\*(C' and \*(C`MooseX::Declare\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>It is not possible to introspect the method parameter specs; they are created as needed when the method is called and cached for subsequent calls.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p>This behaves similarly to the standard Params::Validate \*(C`validate\*(C' function and returns the captured values in a \s-1HASH\s0. The one exception is where if it spots an instance in the @_, then it will handle it appropriately (unlike Params::Validate which forces you to shift you $self first). The values in @_ can either be a set of name-value pairs or a single hash reference. The %parameter_spec accepts the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <em>isa</em>
  </dt>
  <dd>
    <p>The \*(C`isa\*(C' option can be either; class name, Moose type constraint name or an anon Moose type constraint.</p>
  </dd>
  <dt>
    <em>does</em>
  </dt>
  <dd>
    <p>The \*(C`does\*(C' option can be either; role name or an anon Moose type constraint.</p>
  </dd>
  <dt>
    <em>default</em>
  </dt>
  <dd>
    <p>This is the default value to be used if the value is not supplied.</p>
  </dd>
  <dt>
    <em>optional</em>
  </dt>
  <dd>
    <p>As with Params::Validate, all options are considered required unless otherwise specified. This option is passed directly to Params::Validate.</p>
  </dd>
  <dt>
    <em>coerce</em>
  </dt>
  <dd>
    <p>If this is true and the parameter has a type constraint which has coercions, then the coercion will be called for this parameter. If the type does have coercions, then this parameter is ignored.</p>
  </dd>

</dl>
<p>This function is also available under its old name, \*(C`validate\*(C'.</p><p>The %parameter_spec accepts the same options as above, but returns the parameters as positional values instead of a \s-1HASH\s0. This is best explained by example:   sub foo {       my ( $self, $foo, $bar ) = validated_list(           &#92;@_,           foo =&gt; { isa =&gt; &apos;Foo&apos; },           bar =&gt; { isa =&gt; &apos;Bar&apos; },       );       $foo-&gt;baz($bar);   } We capture the order in which you defined the parameters and then return them as a list in the same order. If a param is marked optional and not included, then it will be set to \*(C`undef\*(C'. The values in @_ can either be a set of name-value pairs or a single hash reference. Like \*(C`validated_hash\*(C', if it spots an object instance as the first parameter of @_, it will handle it appropriately, returning it as the first argument. This function is also available under its old name, \*(C`validatep\*(C'. This function validates a list of positional parameters. Each $spec should validate one of the parameters in the list:   sub foo {       my $self = shift;       my ( $foo, $bar ) = pos_validated_list(           &#92;@_,           { isa =&gt; &apos;Foo&apos; },           { isa =&gt; &apos;Bar&apos; },       );</p><p>      ...   } Unlike the other functions, this function <em>cannot</em> find $self in the argument list. Make sure to shift it off yourself before doing validation. The values in @_ must be a list of values. You cannot pass the values as an array reference, because this cannot be distinguished from passing one value which is itself an array reference. If a parameter is marked as optional and is not present, it will simply not be returned. If you want to pass in any of the cache control parameters described below, simply pass them after the list of parameter validation specs:   sub foo {       my $self = shift;       my ( $foo, $bar ) = pos_validated_list(           &#92;@_,           { isa =&gt; &apos;Foo&apos; },           { isa =&gt; &apos;Bar&apos; },           MX_PARAMS_VALIDATE_NO_CACHE =&gt; 1,       );</p><p>      ...   }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ALLOWING EXTRA PARAMETERS</h2>
        <div class="sectioncontent">
<p>By default, any parameters not mentioned in the parameter spec cause this module to throw an error. However, you can have have this module simply ignore them by setting \*(C`MX_PARAMS_VALIDATE_ALLOW_EXTRA\*(C' to a true value when calling a validation subroutine.</p><p>When calling \*(C`validated_hash\*(C' or \*(C`pos_validated_list\*(C' the extra parameters are simply returned in the hash or list as appropriate. However, when you call \*(C`validated_list\*(C' the extra parameters will not be returned at all. You can get them by looking at the original value of @_.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORTS</h2>
        <div class="sectioncontent">
<p>By default, this module exports the \*(C`validated_hash\*(C', \*(C`validated_list\*(C', and \*(C`pos_validated_list\*(C'.</p><p>If you would prefer to import the now deprecated functions \*(C`validate\*(C' and \*(C`validatep\*(C' instead, you can use the \*(C`:deprecated\*(C' tag to import them.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IMPORTANT NOTE ON CACHING</h2>
        <div class="sectioncontent">
<p>When a validation subroutine is called the first time, the parameter spec is prepared and cached to avoid unnecessary regeneration. It uses the fully qualified name of the subroutine (package + subname) as the cache key.  In 99.999% of the use cases for this module, that will be the right thing to do.</p><p>However, I have (ab)used this module occasionally to handle dynamic sets of parameters. In this special use case you can do a couple things to better control the caching behavior.</p><ul>
<li><p>Passing in the \*(C`MX_PARAMS_VALIDATE_NO_CACHE\*(C' flag in the parameter spec this will prevent the parameter spec from being cached.   sub foo {       my ( $self, %params ) = validated_hash(           &#92;@_,           foo                         =&gt; { isa =&gt; &apos;Foo&apos; },           MX_PARAMS_VALIDATE_NO_CACHE =&gt; 1,       );</p><p>  }</p></li><li><p>Passing in \*(C`MX_PARAMS_VALIDATE_CACHE_KEY\*(C' with a value to be used as the cache key will bypass the normal cache key generation.   sub foo {       my ( $self, %params ) = validated_hash(           &#92;@_,           foo                          =&gt; { isa =&gt; &apos;Foo&apos; },           MX_PARAMS_VALIDATE_CACHE_KEY =&gt; &apos;foo-42&apos;,       );</p><p>  }</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MAINTAINER</h2>
        <div class="sectioncontent">
<p>Dave Rolsky &lt;autarch@urth.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please submit bugs to the \s-1CPAN\s0 \s-1RT\s0 system at http://rt.cpan.org/NoAuth/ReportBug.html?Queue=moosex-params-validate or via email at bug-moosex-params-validate@rt.cpan.org.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<ul>
<li><p>Stevan Little &lt;stevan.little@iinteractive.com&gt;</p></li><li><p>Dave Rolsky &lt;autarch@urth.org&gt;</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>This software is copyright (c) 2013 by Stevan Little &lt;stevan.little@iinteractive.com&gt;.</p><p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="MooseX::Param.3pm.html"><span aria-hidden="true">&larr;</span> MooseX::Param.3pm: Simple role to provide a standard param method</a></li>
   <li class="next"><a href="MooseX::RelatedClassRoles.3pm.html">MooseX::RelatedClassRoles.3pm: Apply roles to a class related to yours <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
