<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Games::Go::Dg2Mp: Perl extension to convert games::go::diagrams to john hobby's metapost (which is adapted from donald knuth's metafont).</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl extension to convert games::go::diagrams to john hobby's metapost (which is adapted from donald knuth's metafont).">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Games::Go::Dg2Mp (3pm) manual">
  <meta name="twitter:description" content="Perl extension to convert games::go::diagrams to john hobby's metapost (which is adapted from donald knuth's metafont).">
  <meta name="twitter:image" content="https://www.carta.tech/images/sgf2dg-Games::Go::Dg2Mp-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Games::Go::Dg2Mp.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Games::Go::Dg2Mp (3pm) manual" />
  <meta property="og:description" content="Perl extension to convert games::go::diagrams to john hobby's metapost (which is adapted from donald knuth's metafont)." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sgf2dg-Games::Go::Dg2Mp-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Games::Go::Dg2Mp<small> (3pm)</small></h1>
        <p class="lead">Perl extension to convert games::go::diagrams to john hobby's metapost (which is adapted from donald knuth's metafont).</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Games::Go::Dg2Mp.3pm.html">
      <span itemprop="name">Games::Go::Dg2Mp: Perl extension to convert games::go::diagrams to john hobby's metapost (which is adapted from donald knuth's metafont).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sgf2dg/">
      <span itemprop="name">sgf2dg</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Games::Go::Dg2Mp.3pm.html">
      <span itemprop="name">Games::Go::Dg2Mp: Perl extension to convert games::go::diagrams to john hobby's metapost (which is adapted from donald knuth's metafont).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>use Games::Go::Dg2Mp</p>
<pre>
 my $dg2mp = B&lt;Games::Go::Dg2Mp-E&lt;gt&gt;new&gt; (options);
 $dg2mp-&gt;convertDiagram($diagram);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A Games::Go::Dg2Mp object converts a Games::Go::Diagram object into a TeX (.tex) and a MetaPost (.mp) file.  The MetaPost file contains figures for each of the diagrams and overstones required to make the complete game diagram.  Running MetaPost (mpost or possibly mp) on the .mp file creates a set of figure files, each of which is an Encapsulated PostScript figure.  Running TeX (tex) on the .tex file creates a .dvi file which tries to include the Encapsulated PostScript figures.  Running dvips on the .dvi file (from TeX) creates the final PostScript (.ps) file containing the complete game diagram.</p><p>See 'man mpost' (or possibly 'man 'mp') for more details of the overall MetaPost system and environment.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<p>A <strong>new</strong> Games::Go::Dg2Mp takes the following options:</p><h3>General Dg2 Converter Options:</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>boardSize</strong> =&gt; number
  </dt>
  <dd>
    <p>Sets the size of the board. Default: 19</p>
  </dd>
  <dt>
    <strong>doubleDigits</strong> =&gt; true | false
  </dt>
  <dd>
    <p>Numbers on stones are wrapped back to 1 after they reach 100. Numbers associated with comments and diagram titles are not affected. Default: false</p>
  </dd>
  <dt>
    <strong>stone_width</strong> =&gt; points
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>stone_height</strong> =&gt; points
  </dt>
  <dd>
    <p>The <strong>stone_width</strong> and <strong>stone_height</strong> determine the size of the stones and diagrams. If <strong>stone_width</strong> is not explicitly set, it is calculated from the <strong>stone_fontSize</strong> to allow up to three digits on a stone .  The default <strong>stone_fontSize</strong> allows for three diagrams (with -coords) per 'letter' page if comments don't take up extra space below diagrams.  If <strong>doubleDigits</strong> is specified, the stones and board are slightly smaller (stone 100 may look a bit cramped). If <strong>stone_height</strong> is not explicitly set, it will be 1.05 * <strong>stone_width</strong>, creating a slightly rectangular diagram. Default: undef - determined from <strong>stone_fontSize</strong></p>
  </dd>
  <dt>
    <strong>coords</strong> =&gt; true | false
  </dt>
  <dd>
    <p>Generates a coordinate grid. Default: false</p>
  </dd>
  <dt>
    <strong>topLine</strong>     =&gt; number (Default: 1)
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>bottomLine</strong>  =&gt; number (Default: 19)
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>leftLine</strong>    =&gt; number (Default: 1)
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>rightLine</strong>   =&gt; number (Default: 19)
  </dt>
  <dd>
    <p>The edges of the board that should be displayed.  Any portion of the board that extends beyond these numbers is not included in the output. This callback defines a subroutine to convert coordinates from $x, $y to whatever coordinates are used in the Games::Go::Diagram object.  The default <strong>diaCoords</strong> converts 1-based $x, $y to the same coordinates used in \s-1SGF\s0 format files.  You only need to define this if you're using a different coordinate system in the Diagram. Default:</p>
<pre>
    sub { my ($x, $y) = @_;
          $x = chr($x - 1 + ord('a')); # convert 1 to 'a', etc
          $y = chr($y - 1 + ord('a'));
          return(\*(L"$x$y\*(R"); },           # concatenate two letters
</pre>
<p>A user defined subroutine to replace the default printing method. This callback is called from the <strong>print</strong> method (below) with the reference to the <strong>Dg2Mp</strong> object and a list of lines that are part of the TeX diagram source.</p>
  </dd>

</dl>

<h3>Dg2Mp-specific options:</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>stone_fontName</strong> =&gt; 'font'  Default: 'cmssbx10'
  </dt>
  <dd>
    <p>Quoting from the discussion on fonts in section 7 of _A User's Manual for MetaPost_ (by John D. Hobby): \*(L"...the new font name should be something that \s-1TEX\s0 would understand since MetaPost gets height and width information by reading the tfm file. (This is explained in The TEXbook. [5] ) It should be possible to use built-in PostScript fonts, but the names for them are system-dependent. Some systems may use rptmr or ps-times-roman instead of Times-Roman. A \s-1TEX\s0 font such as cmr10 is a little dangerous because it does not have a space character or certain \s-1ASCII\s0 symbols. In addition, MetaPost does not use the ligatures and kerning information that comes with a \s-1TEX\s0 font.\*(R"</p>
  </dd>
  <dt>
    <strong>stone_fontSize</strong> =&gt; points
  </dt>
  <dd>
    <p>The stone_fontSize determines the size of the stones and diagrams. Stone size is chosen to allow up to three digits on a stone. If <strong>doubleDigits</strong> is specified, the stones and board are slightly smaller (stone 100 may look a bit cramped). Default: 8 Change Dg2Mp options from values passed at <strong>new</strong> time. <strong>print</strong>s raw TeX code to <strong>file</strong> as defined at <strong>new</strong> time. Whether or not <strong>file</strong> was defined, <strong>print</strong> accumulates the TeX code for later retrieval with <strong>converted</strong>. The TeX output filename is derived from the MetaPost filename by changing the .mp extension to .tex. <strong>print</strong>s raw MetaPost code to MetaPost output file (as defined at -&gt;<strong>new</strong> or -&gt;<strong>configure</strong> time). Returns the TeX source code converted so far for the <strong>Dg2Mp</strong> object.  If $replacement_tex is defined, the accumulated TeX source code is replaced by $replacement_tex. Inserts the TeX comment character ('%') in front of each line of each comment and <strong>print</strong>s it to <strong>file</strong>. Converts a <em>Games::Go::Diagram</em> into TeX/MetaPost.  If <strong>file</strong> was defined in the <strong>new</strong> method, the TeX source is dumped into the <strong>file</strong>.tex and the MetaPost source into <strong>file</strong>.mp.  In any case, the TeX source is returned as a string scalar. Converts $text into TeX code by changing certain characters that are not available in TeX cmr10 font, and by converting &#92;n&#92;n into &#92;hfil&#92;break.  <strong>convertText</strong> behavior is modified by <strong>texComments</strong> and <strong>simple</strong> options. Returns the converted text. <strong>convertProperties</strong> takes a reference to a hash of properties as extracted from an \s-1SGF\s0 file.  Each hash key is a property \s-1ID\s0 and the hash value is a reference to an array of property values: $hash-&gt;{propertyId}-&gt;[values].  The following \s-1SGF\s0 properties are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    \s-1GN\s0 GameName
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1EV\s0 EVent
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1RO\s0 ROund
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1PW\s0 PlayerWhite
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1WR\s0 WhiteRank
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1PB\s0 PlayerBlack
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1BR\s0 BlackRank
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1DT\s0 DaTe
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1PC\s0 PlaCe
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1GC\s0 GameComment
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1KM\s0 KoMi
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1RE\s0 REsult
  </dt>
  <dd>
    
  </dd>
  <dt>
    \s-1TM\s0 TiMe
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Both long and short property names are recognized, and all unrecognized properties are ignored with no warnings.  Note that these properties are all intended as game-level notations.</p><p><strong>print</strong> the TeX closer (&#92;bye) and close the dg2mp object.  Also closes <strong>file</strong> if appropriate.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Games::Go::Dg2Mp&hellip;</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    sgf2dg(1)
  </dt>
  <dd>
    <p>Script to convert \s-1SGF\s0 format files to Go diagrams</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Is this a trick question?</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Reid Augustin, &lt;reid@hellosix.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2005 by Reid Augustin</p><p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself, either Perl version 5.8.5 or, at your option, any later version of Perl 5 you may have available.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Games::Go::Dg2ASCII.3pm.html"><span aria-hidden="true">&larr;</span> Games::Go::Dg2ASCII.3pm: Perl extension to convert games::go::diagrams to ascii diagrams</a></li>
   <li class="next"><a href="Games::Go::Dg2PDF.3pm.html">Games::Go::Dg2PDF.3pm: Perl extension to convert games::go::diagrams to \s-1pdf\s0 (portable document format). <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
