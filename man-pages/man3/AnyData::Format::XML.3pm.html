<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AnyData::Format::XML: </title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="AnyData::Format::XML (3pm) manual">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://www.carta.tech/images/libanydata-perl-AnyData::Format::XML-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/AnyData::Format::XML.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="AnyData::Format::XML (3pm) manual" />
  <meta property="og:description" content="" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libanydata-perl-AnyData::Format::XML-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">AnyData::Format::XML<small> (3pm)</small></h1>
        <p class="lead"></p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/AnyData::Format::XML.3pm.html">
      <span itemprop="name">AnyData::Format::XML: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libanydata-perl/">
      <span itemprop="name">libanydata-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/AnyData::Format::XML.3pm.html">
      <span itemprop="name">AnyData::Format::XML: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p> # access XML data via a multidimensional tied hash  # see AnyData.pod for full details  #  use AnyData;  my $table = adTie( &apos;XML&apos;, $file, $mode, $flags );</p><p> OR</p><p> # convert data to and from XML  # see AnyData.pod for full details  #  use AnyData;  adConvert( &apos;XML&apos;, $file1, $any_other_format, $file2, $flags );  adConvert( $any_other_format, $file1, &apos;XML&apos;, $file2, $flags );</p><p> OR</p><p> # access the data via DBI and SQL  # see DBD::AnyData.pod for full details  #  use DBI;  my $dbh = DBI-&gt;connect( &apos;dbi:AnyData&apos; );  $dbh-&gt;func(&apos;mytable&apos;,&apos;XML&apos;,$file,$flags,&apos;ad_catalog&apos;);</p><p>See below for a description of the optional flags that apply to all of these examples.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module allows you to create, search, modify and/or convert \s-1XML\s0 data and files by treating them as databases without having to actually create separate database files.  The data can be accessed via a multidimensional tiedhash using AnyData.pm or via \s-1DBI\s0 and \s-1SQL\s0 commands using DBD::AnyData.pm.  See those modules for complete details of usage.</p><p>The module is built on top of Michel Rodriguez's excellent XML::Twig which means that the AnyData interfaces can now include information from DTDs, be smarter about inferring data structure, reduce memory consumption on huge files, and provide access to many powerful features of XML::Twig and XML::Parser on which it is based.</p><p>Importing options allow you to import/access/modify \s-1XML\s0 of almost any length or complexity.  This includes the ability to access different subtrees as separate or joined databases.</p><p>Exporting and converting options allow you to take data from almost any source (a perl array, any \s-1DBI\s0 database, etc.) and output it as an \s-1XML\s0 file.  You can control the formatting of the resulting \s-1XML\s0 either by supplying a \s-1DTD\s0 listing things like nesting of tags and which columns should be output as attributes and/or you can use XML::Twig pretty_print settings to generate half a dozen different levels of compactness or whitespace in how the \s-1XML\s0 looks.</p><p>The documentation below outlines the special flags that can be used in either of the interfaces to fine-tune how the \s-1XML\s0 is treated.</p><p>The flags listed below define the relationship between tags and attributes in the \s-1XML\s0 document and columns in the resulting database. In many cases, you can simply accept the defaults and the database will be built automatically.  However, you can also fine tune the generation of the database by specifying which tags and attributes you are interested in and their relationship with database columns.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<h3>Prerequisites</h3>
<p>To use the tied hash interface, you will need</p><p> AnyData  XML::Twig  XML::Parser</p><p>To use the \s-1DBI/SQL\s0 interface, you will need those, and also</p><p> DBI  DBD::AnyData</p>
<h3>Required flags ( none )</h3>
<p>If no flags are specified, then the module determines the database structure from examining the file or data itself, making use of the \s-1DTD\s0 if there is one, otherwise scanning the first child of the \s-1XML\s0 tree for structural information.</p>
<h3>Optional flags</h3>
<p> If the default behavior is not sufficient, you may either specify a  "record_tag" which will be used to define column names, or you can define an  entire tag-to-column mapping.</p><p>For simple \s-1XML\s0, no flags are necessary:</p><p> &lt;table&gt;     &lt;row row_id="1"&gt;&lt;name&gt;Joe&lt;/name&gt;&lt;location&gt;Seattle&lt;/location&gt;&lt;/row&gt;     &lt;row row_id="2"&gt;&lt;name&gt;Sue&lt;/name&gt;&lt;location&gt;Portland&lt;/location&gt;&lt;/row&gt;  &lt;/table&gt;</p><p>The record_tag will default to the first child, namely \*(L"row\*(R".  The column names will be generated from the attributes of the record tag and all of the tags included under the record tag, so the column names in this example will be \*(L"row_id\*(R",\*(L"name\*(R",\*(L"location\*(R".</p><p>If the record_tag is not the first child, you will need to specify it.  For example:</p><p> &lt;db&gt;    &lt;table table_id="1"&gt;      &lt;row row_id="1"&gt;&lt;name&gt;Joe&lt;/name&gt;&lt;location&gt;Seattle&lt;/location&gt;&lt;/row&gt;      &lt;row row_id="2"&gt;&lt;name&gt;Sue&lt;/name&gt;&lt;location&gt;Portland&lt;/location&gt;&lt;/row&gt;    &lt;/table&gt;    &lt;table table_id="2"&gt;      &lt;row row_id="1"&gt;&lt;name&gt;Bob&lt;/name&gt;&lt;location&gt;Boise&lt;/location&gt;&lt;/row&gt;      &lt;row row_id="2"&gt;&lt;name&gt;Bev&lt;/name&gt;&lt;location&gt;Billings&lt;/location&gt;&lt;/row&gt;    &lt;/table&gt;  &lt;/db&gt;</p><p>In this case you will need to specify \*(L"row\*(R" as the record_tag since it is not the first child of the tree.  The column names will be generated from the attributes of row's parent (if the parent is not the root), from row's attributes and sub tags, i.e. \*(L"table_id\*(R",\*(L"row_id\*(R",\*(L"name\*(R",\*(L"location\*(R".</p><p>In some cases you will need to specify an entire tag-to-column mapping.  For example, if you want to use a different name for the database column than is used in the \s-1XML\s0 (especially if the \s-1XML\s0 tag is not a valid \s-1SQL\s0 column name).  You'd also need to specify a mapping if there are two tags with the same name in different places in the \s-1XML\s0 tree.</p><p>The column mapping is a reference to an array of column definitions.  A column definition is either a simple name of a tag, or a hash reference with the key containing the full path of the \s-1XML\s0 tag and the value containing the desired column name alias.</p><p>For example:</p><p>  col_map =&gt; [ &apos;part_id&apos;, &apos;part_name&apos;, &apos;availability&apos; ];</p><p>That will find the first three tags with those names and create the database using the same names for the tags.</p><p>Or:</p><p>  col_map =&gt; [                { &apos;/parts/shop/id&apos;        =&gt; &apos;shop_id&apos;},                { &apos;/parts/shop/part/id&apos;   =&gt; &apos;part_id&apos;},                { &apos;/parts/shop/part/name&apos; =&gt; &apos;part_name&apos;},              ];</p><p>That would find the three tags referenced on the left and create a database with the three column names referenced on the right.</p><p>When exporting \s-1XML\s0, you can specify a \s-1DTD\s0 to control the output.  For example, if you import a table from \s-1CSV\s0 or from an Array, you can output as \s-1XML\s0 and specify which of the columns become tags and which become attributes and also specify the nesting of the tags in your \s-1DTD\s0.</p><p>The \s-1XML\s0 format parser is built on top of Michel Rodriguez's excellent XML::Twig which is itself based on XML::Parser.  Parameters to either of those modules may be passed in the flags for <em>adTie()</em> and the other commands including the \*(L"prettyPrint\*(R" flag to specify how the output \s-1XML\s0 is displayed and things like ProtocolEncoding.  ProtocolEncoding defaults to '\s-1ISO-8859-1\s0', all other flags keep the defaults of XML::Twig and XML::Parser.  See the documentation of those modules for details;</p><p> CAUTION: Unlike other formats, the XML format does not save changes to  the file as they are entered, but only saves the changes when you explicitly  request them to be saved with the adExport() command.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR & COPYRIGHT</h2>
        <div class="sectioncontent">
<p>copyright 2000, Jeff Zucker &lt;jeff@vpservices.com&gt; all rights reserved</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="AnyData::Format::Weblog.3pm.html"><span aria-hidden="true">&larr;</span> AnyData::Format::Weblog.3pm: Tiedhash & dbi/sql access to httpd logs</a></li>
   <li class="next"><a href="AnyData::Storage::File.3pm.html">AnyData::Storage::File.3pm:  <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
