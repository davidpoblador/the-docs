<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Viewer: Displays a graphical component view hierarchy</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Displays a graphical component view hierarchy">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Viewer (3U) manual">
  <meta name="twitter:description" content="Displays a graphical component view hierarchy">
  <meta name="twitter:image" content="https://www.carta.tech/images/ivtools-dev-Viewer-3U.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3U/Viewer.3U.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Viewer (3U) manual" />
  <meta property="og:description" content="Displays a graphical component view hierarchy" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ivtools-dev-Viewer-3U.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Viewer<small> (3U)</small></h1>
        <p class="lead">Displays a graphical component view hierarchy</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3U/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3U/Viewer.3U.html">
      <span itemprop="name">Viewer: Displays a graphical component view hierarchy</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ivtools-dev/">
      <span itemprop="name">ivtools-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3U/Viewer.3U.html">
      <span itemprop="name">Viewer: Displays a graphical component view hierarchy</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;Unidraw/viewer.h&gt;</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A Viewer displays a graphical component view and provides an interface to scrolling and zooming it.  The viewer also processes user input events and generates the appropriate calls on Unidraw objects in response.  The Viewer class is a derived from GraphicBlock; thus it can draw the structured graphics hierarchy embodied in GraphicView's graphic.  A viewer uses a damage object to keep the screen up to date. Viewer's sensor catches up and down events, and its Handle implements implements the tool manipulation loop.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PUBLIC OPERATIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>Viewer(</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Editor*, GraphicView*, Page*, Grid* = nil,</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Coord width = 0, Coord height = 0, Orientation = Normal,</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Alignment = Center, Zooming = Binary</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>Viewer(</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    const char*, Editor*, GraphicView*, Page*, Grid* = nil,</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Coord width = 0, Coord height = 0</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Alignment = Center, Zooming = Binary</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>)</strong></p>
  </dt>
  <dd>
    <p>Both constructors take the enclosing editor, the GraphicView object that the viewer will display, a page object, and optionally a grid, a natural width and height, initial page orientation, alignment, and zooming specifications.  The second form adds a parameter for specifying the Viewer's instance name.</p>
  </dd>
  <dt>
    <p><strong>virtual void Update()</strong></p>
  </dt>
  <dd>
    <p>Viewer augments GraphicBlock's Update semantics by repairing any damage that has been accumulated.  In addition, Update will replace its graphical view if its subject differs from the editor's component; in that case, it will create a graphical view of the editor's component, delete its own view, and replace it with the new one.</p>
  </dd>
  <dt>
    <p><strong>virtual void Adjust(Perspective&)</strong></p>
  </dt>
  <dd>
    <p>Viewer's Adjust operation will automatically update the editor's MagnifVar (if it defines one) to reflect the current magnification.</p>
  </dd>
  <dt>
    <p><strong>virtual void Handle(Event&)</strong></p>
  </dt>
  <dd>
    <p>By default, Handle employs the editor's current tool on a LEFTMOUSE down event.  On MIDDLEMOUSE or RIGHTMOUSE down events, it momentarily engages the editor's MoveTool or SelectTool, respectively, allowing the user to move or select a graphical component without changing the current tool explicitly.  Nothing happens if the editor does not define a keyboard equivalent for engaging these tools.  The Handle function calls either the UseTool or MomentaryUseTool protected member functions (described below) in response to these events.</p>
  </dd>
  <dt>
    <p><strong>virtual void SetGraphicView(GraphicView*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void SetPage(Page*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void SetGrid(Grid*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual GraphicView* GetGraphicView()</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual Page* GetPage()</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual Grid* GetGrid()</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual Editor* GetEditor()</strong></p>
  </dt>
  <dd>
    <p>Explicitly set or get a constructor-specified parameter.  The Set operations delete the value they replace if it is different from the given one.</p>
  </dd>
  <dt>
    <p><strong>virtual void SetMagnification(float)</strong></p>
  </dt>
  <dd>
    <p>Viewer's SetMagnification operation amends GraphicBlock::SetMagnification to set the value of the enclosing editor's MagnifVar, if it defines one.</p>
  </dd>
  <dt>
    <p><strong>virtual void SetOrientation(Orientation)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual Orientation GetOrientation()</strong></p>
  </dt>
  <dd>
    <p>Set and get the viewer's orientation parameter, which specifies whether the graphical view, page, and grid will appear in portrait or landscape mode.  No transformation will be applied in portrait mode, while landscape mode will rotate the page -90 degrees and translate it vertically by an amount equal to the width of the page's bounding box.</p>
  </dd>
  <dt>
    <p><strong>virtual Selection* GetSelection()</strong></p>
  </dt>
  <dd>
    <p>Return the enclosing editor's selection object; it is equivalent to calling GetEditor and then calling GetSelection on the result.</p>
  </dd>
  <dt>
    <p><strong>virtual Damage* GetDamage()</strong></p>
  </dt>
  <dd>
    <p>Return the viewer's damage object.</p>
  </dd>
  <dt>
    <p><strong>virtual void InitRubberband(Rubberband*)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void InitTextDisplay(TextDisplay*, Painter*)</strong></p>
  </dt>
  <dd>
    <p>These operations let Rubberband and TextDisplay instances appear to work in a viewer by allowing them to draw on the viewer's canvas. InitRubberband sets the rubberband's canvas to the viewer's and initializes its painter as well.  InitTextDisplay likewise sets the TextDisplay's canvas to the viewer's.  It also modifies the given painter's background color to match the viewer's and supplies the painter to the TextDisplay for its use.</p>
  </dd>
  <dt>
    <p><strong>virtual void IncurTextDisplayDamage(TextDisplay*, Painter*)</strong></p>
  </dt>
  <dd>
    <p>Incur minimal damage on the viewer's damage object to account for the TextDisplay's current size.  The TextDisplay's painter must be passed explicitly.</p>
  </dd>
  <dt>
    <p><strong>virtual void CenterOp()</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void Magnify(Coord, Coord, Coord, Coord)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void ReduceToFit()</strong></p>
  </dt>
  <dd>
    <p>Convenience functions for adjusting the viewer's perspective. CenterOp centers the page in the viewer's canvas without changing the magnification.  Magnify scrolls and magnifies the given area (in canvas coordinates) so that it fills the viewer's canvas.  Magnify ensures that the area will remain fully visible in the viewer. ReduceToFit scrolls and reduces the view so that the entire page is visible.</p>
  </dd>
  <dt>
    <p><strong>virtual void Constrain(Coord&, Coord&)</strong></p>
  </dt>
  <dd>
    <p>Constrain the supplied coordinates to fall on the nearest grid point if the viewer defines a grid and if the enclosing editor defines an active GravityVar.</p>
  </dd>
  <dt>
    <p><strong>virtual void UseTool(Tool*)</strong></p>
  </dt>
  <dd>
    <p>Commence direct-manipulation with the given tool without an explicit action on the user's part.  Normally, direct manipulation with the currently engaged tool (as returned by the editor's GetCurTool operation) starts automatically when the user clicks in the viewer.</p>
  </dd>
  <dt>
    <p><strong>virtual void Align(GraphicComp*, Alignment)</strong></p>
  </dt>
  <dd>
    <p>Align the graphical component with respect to viewer's canvas, assuming a view of the component appears in the viewer.  For example, a ``Center'' alignment will align the component's center with the canvas'; a ``BottomLeft'' alignment will align the component's bottom-left corner to the canvas'.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROTECTED OPERATIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>void Init(</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Editor*, GraphicView*, Page*, Grid*,</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>    Coord, Coord, Orientation</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>void Init(Editor*, GraphicView*, Page*, Grid*)</strong></p>
  </dt>
  <dd>
    <p>Initialize the viewer's member variables.  The first form of this operation initializes all parameters that can be passed to a constructor.  The first form calls the second form, which initializes a subset of the attributes that may change independently of the others.</p>
  </dd>
  <dt>
    <p><strong>Tool* CurTool()</strong></p>
  </dt>
  <dd>
    <p>A convenience function equivalent to calling the same operation on the enclosing editor.</p>
  </dd>
  <dt>
    <p><strong>Transformer* GetTransformer()</strong></p>
  </dt>
  <dd>
    <p>Return the transformer that the viewer uses to implement scrolling and zooming.</p>
  </dd>
  <dt>
    <p><strong>virtual void Manipulate(Manipulator*, Event&)</strong></p>
  </dt>
  <dd>
    <p>This operation implements a direct manipulation loop governed by the given manipulator.  First it calls Grasp on the manipulator with the given event.  Then it reads events in a loop, calling the manipulator's Manipulating operation with each new event.  When Manipulating returns false, it calls Effect on the manipulator with the event read last.</p>
  </dd>
  <dt>
    <p><strong>virtual void UseTool(Tool*, Event&)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>virtual void MomentaryUseTool(Tool*, Event&)</strong></p>
  </dt>
  <dd>
    <p>Helper functions for initiating direct manipulation with tools and executing their effect.  UseTool first instructs the given tool to create a manipulator, and then it calls Manipulate to carry the manipulation through to completion.  Next it asks the tool to interpret the manipulator, which in turn may produce a command. Finally, UseTool executes and logs the command produced. MomentaryUseTool simply engages the given tool, calls UseTool, and re-engages the original tool.</p>
  </dd>
  <dt>
    <p><strong>virtual void Reorient()</strong></p>
  </dt>
  <dd>
    <p>A helper function that rotates the viewer's graphic to reflect its current orientation.</p>
  </dd>
  <dt>
    <p><strong>virtual void UpdateMagnifVar()</strong></p>
  </dt>
  <dd>
    <p>A helper function used in SetMagnification to notify the enclosing viewer's MagnifVar (if it defines one) of the change in magnification.</p>
  </dd>
  <dt>
    <p><strong>virtual ClassId ViewCategory()</strong></p>
  </dt>
  <dd>
    <p>Returns the view category (see classes(3U)) the viewer will use to instantiate a view if it is not given one explicitly.  ViewCategory returns COMPONENT_VIEW by default.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Viewer&hellip;</h2>
        <div class="sectioncontent">
<p>Damage(3U), Editor(3U), Event(3I), Graphic(3U), GraphicBlock(3U), GraphicComp(3U), GraphicView(3U), Grid(3U), Manipulator(3U), MoveTool(3U), Page(3U), Perspective(3I), Rubband(3I), SelectTool(3U), Selection(3U), Sensor(3I), TextDisplay(3I), Tool(3U), classes(3U), globals(3U), statevars(3U)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="VerticesComp.3U.html"><span aria-hidden="true">&larr;</span> VerticesComp.3U: Abstract base classes for vertexed graphical component subjects and their views and postscript external representations</a></li>
   <li class="next"><a href="align.3U.html">align.3U: Commands for aligning interactors to each other and to a grid <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
