<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PQgetvf: Gets one or more values from a pgresult in a scanf fashion.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gets one or more values from a pgresult in a scanf fashion.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="PQgetvf (3) manual">
  <meta name="twitter:description" content="Gets one or more values from a pgresult in a scanf fashion.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpqtypes-dev-PQgetvf-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/PQgetvf.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="PQgetvf (3) manual" />
  <meta property="og:description" content="Gets one or more values from a pgresult in a scanf fashion." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpqtypes-dev-PQgetvf-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">PQgetvf<small> (3)</small></h1>
        <p class="lead">Gets one or more values from a pgresult in a scanf fashion.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/PQgetvf.3.html">
      <span itemprop="name">PQgetvf: Gets one or more values from a pgresult in a scanf fashion.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpqtypes-dev/">
      <span itemprop="name">libpqtypes-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/PQgetvf.3.html">
      <span itemprop="name">PQgetvf: Gets one or more values from a pgresult in a scanf fashion.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;libpqtypes.h&gt;</strong></p><p>int PQgetf(const PGresult *<em>res</em>, int <em>tup_num</em>,</p>
<pre>
           const char *<em>format</em>, ...);
</pre>
<p>int PQgetvf(const PGresult *<em>res</em>, int <em>tup_num</em>,</p>
<pre>
           const char *<em>format</em>, va_list ap);
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>PQgetf</em>() and <em>PQgetvf</em>() functions get one or more field values from a PGresult using a scanf style interface.  The <em>tup_num</em> argument indicates which tuple to read values from; values can only be read from one tuple at a time.</p><p>The <em>format</em> argument is a data type specifier string indicating the values to retrieve, like %int4 or #timestamp.  Any number of fields, in any order, can be retrieved in a single call. Each data type specifier has a cooresponding <strong>field_num, type-args, [...]</strong> contained within the function\'s variable argument list.  The <strong>field_num</strong> either indicates tuple field number or tuple field name, depending on whether the data type in <em>format</em> used a \'%\' or \'#\' specifer mark (&#96;man <a href="../man3/pqt-specs.3.html"><strong>pqt-specs</strong>(3)</a></em>\').  The <strong>type-args</strong> can be one or more arguments required by the specific data type: for example, "%int4" would require a pointer to a PGint4.  All built-in PostgreSQL data types require a single pointer value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success, a non-zero value is returned.  On error, zero is returned and <a href="../man3/PQgeterror.3.html"><strong>PQgeterror</strong>(3)</a></em> will contain an error message.</p><p>If the retrieval of any field fails, the get operation is aborted and function will fail.  Eventhough some fields may have succeeded prior to the failure, their values should not be trusted.  Instead, make another <em>PQgetf</em>() call.  Getting an array or a composite can lead to memory leaks when getf fails.  This is because these types allocate a PGresult object that must be cleared.  To avoid leaks, it is recommended to perform cleanup even if getf fails, retrieve arrays and composites by themselves or make them the last field in a getf call.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<h3>Using PQgetf on a PGresult</h3>
<p>The example uses the libpq PQexec function to execute a query and then uses <em>PQgetf</em>() to retrieve field values.  It is important to note that libpqtypes execution functions, like <a href="../man3/PQparamExec.3.html"><strong>PQparamExec</strong>(3)</a></em>, do not need to generate the PGresult provided to <em>PQgetf</em>().</p>
<pre>
<strong>int success;</strong>
PGint4 i4;
PGtext text;
PGbytea bytea;
PGpoint pt;
PGresult *res = PQexec(conn, "SELECT i,t,b,p FROM tbl");

/* Get some field values from the result (order doesn\'t matter) */
success = PQgetf(res,
	0,            /* get field values from tuple 0 */
	"%int4 #text %bytea %point",
	              /* type format specifiers (get text by name \'#\') */
	0,   &i4,     /* get an int4 from field num 0 */
	"t", &text,   /* get a text from field name "t" */
	2,   &bytea,  /* get a bytea from field num 2 */
	3,   &pt);    /* get a point from field num 3 */

/* Output an error message using <a href="../man3/PQgeterror.3.html"><strong>PQgeterror</strong>(3)</a>. */
if(!success)
	fprintf(stderr, "*ERROR: %s&#92;n", PQgeterror());

/* Output the values, do this before PQclear() */
else
	printf("int4=%d, text=%s, bytea=%d bytes, point=(%f,%f)&#92;n",
		i4, text, bytea.len, pt.x, pt.y);

PQclear(res);

</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>A contribution of eSilo, LLC. for the PostgreSQL Database Management System. Written by Andrew Chernow and Merlin Moncure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;libpqtypes@esilo.com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2011 eSilo, LLC. All rights reserved.</p><p>This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or  FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO PQgetvf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/pqt-specs.3.html"><strong>pqt-specs</strong>(3)</a></em>, <a href="../man3/PQgeterror.3.html"><strong>PQgeterror</strong>(3)</a></em></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="PQgetf.3.html"><span aria-hidden="true">&larr;</span> PQgetf.3: Gets one or more values from a pgresult in a scanf fashion.</a></li>
   <li class="next"><a href="PQinitTypes.3.html">PQinitTypes.3: Initializes libpqtypes with the libpq event system. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
