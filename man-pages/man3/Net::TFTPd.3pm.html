<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Net::TFTPd: Perl extension for trivial file transfer protocol server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perl extension for trivial file transfer protocol server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Net::TFTPd (3pm) manual">
  <meta name="twitter:description" content="Perl extension for trivial file transfer protocol server">
  <meta name="twitter:image" content="https://www.carta.tech/images/libnet-tftpd-perl-Net::TFTPd-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Net::TFTPd.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Net::TFTPd (3pm) manual" />
  <meta property="og:description" content="Perl extension for trivial file transfer protocol server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libnet-tftpd-perl-Net::TFTPd-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Net::TFTPd<small> (3pm)</small></h1>
        <p class="lead">Perl extension for trivial file transfer protocol server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Net::TFTPd.3pm.html">
      <span itemprop="name">Net::TFTPd: Perl extension for trivial file transfer protocol server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libnet-tftpd-perl/">
      <span itemprop="name">libnet-tftpd-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Net::TFTPd.3pm.html">
      <span itemprop="name">Net::TFTPd: Perl extension for trivial file transfer protocol server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  use strict;
  use Net::TFTPd;

  my $tftpdOBJ = Net::TFTPd-&gt;new(&apos;RootDir&apos; =&gt; &apos;path/to/files&apos;)
    or die "Error creating TFTPd listener: %s", Net::TFTPd-&gt;error;

  my $tftpRQ = $tftpdOBJ-&gt;waitRQ(10)
    or die "Error waiting for TFTP request: %s", Net::TFTPd-&gt;error;

  $tftpRQ-&gt;processRQ()
    or die "Error processing TFTP request: %s", Net::TFTPd-&gt;error;

  printf "%u bytes has been transferred", $tftpRQ-&gt;getTotalBytes() || 0;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\*(C`Net::TFTPd\*(C' is a class implementing a simple <em>Trivial File Transfer Protocol</em> server in Perl as described in \s-1RFC1350\s0.</p><p>\*(C`Net::TFTPd\*(C' also supports the \s-1TFTP\s0 Option Extension (as described in \s-1RFC2347\s0), with the following options:</p><p>  RFC2348 TFTP Blocksize Option   RFC2349 TFTP Timeout Interval and Transfer Size Options</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORT</h2>
        <div class="sectioncontent">
<p>None by default. The %OPCODES tag exports the <em></em><strong>%OPCODES</strong><em></em> hash:</p><p>  %OPCODES = (     1       =&gt; &apos;RRQ&apos;,     2       =&gt; &apos;WRQ&apos;,     3       =&gt; &apos;DATA&apos;,     4       =&gt; &apos;ACK&apos;,     5       =&gt; &apos;ERROR&apos;,     6       =&gt; &apos;OACK&apos;,     &apos;RRQ&apos;   =&gt; 1,     &apos;WRQ&apos;   =&gt; 2,     &apos;DATA&apos;  =&gt; 3,     &apos;ACK&apos;   =&gt; 4,     &apos;ERROR&apos; =&gt; 5,     &apos;OACK&apos;  =&gt; 6   );</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Listener constructor</h2>
        <div class="sectioncontent">
<h3>\fInew()\fP</h3>
<p>  $listener = new Net::TFTPd( [&apos;RootDir&apos; =&gt; &apos;path/to/files&apos; | &apos;FileName&apos; =&gt; &apos;path/to/file&apos;] [, OPTIONS ] );</p><p>or</p><p>  $listener = Net::TFTPd-&gt;new( [&apos;RootDir&apos; =&gt; &apos;path/to/files&apos; | &apos;FileName&apos; =&gt; &apos;path/to/file&apos;] [, OPTIONS ] );</p><p>Create a new Net::TFTPd object where 'path/to/files' is the default path to file repository or 'path/to/file' is the single file allowed for download, and \s-1OPTIONS\s0 are the default server options.</p><p>Valid options are:</p><p>  Option     Description                                        Default   ------     -----------                                        -------   LocalAddr  Interface to bind to (for multi-homed server)          any   LocalPort  Port to bind server to                                  69   Timeout    Timeout in seconds to wait for a request                10   ACKtimeout Timeout in seconds to wait for an ACK packet             4   ACKretries Maximum number of retries waiting for ACK                4   Readable   Clients are allowed to read files                        1   Writable   Clients are allowed to write files                       0   BlkSize    Minimum blocksize to negotiate for transfers           512   CallBack   Reference to code executed for each transferred block    -   Debug      Activates debug mode (verbose)                           0   Family     Address family IPv4/IPv6                              IPv4                Valid values for IPv4:                  4, v4, ip4, ipv4, AF_INET (constant)                Valid values for IPv6:                  6, v6, ip6, ipv6, AF_INET6 (constant)</p><p><strong>\s-1NOTE\s0</strong>:  IPv6 requires <strong>IO::Socket::IP</strong>.  Failback is <strong>IO::Socket::INET</strong> and only IPv4 support.</p>
<h3>CallBack</h3>
<p>The CallBack code is called by processRQ method for each tranferred block.</p><p>The code receives (into @_ array) a reference to internal <em></em><strong>$request</strong><em></em> object.</p><p>Example:</p><p>  sub callback   {     my $req = shift;     printf "block: %u&#92;/%u&#92;n", $req-&gt;{&apos;_REQUEST_&apos;}{&apos;LASTACK&apos;}, $req-&gt;{&apos;_REQUEST_&apos;}{&apos;LASTBLK&apos;};   }</p><p>  my $tftpdOBJ = Net::TFTPd-&gt;new(&apos;RootDir&apos; =&gt; &apos;c:/temp&apos;, &apos;Timeout&apos; =&gt; 60, &apos;CallBack&apos; =&gt; &#92;&callback) or die Net::TFTPd-&gt;error;</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Listener methods</h2>
        <div class="sectioncontent">
<h3>\fIwaitRQ()\fP</h3>
<p>  $request = $listener-&gt;waitRQ([Timeout]);</p><p>Waits for a client request (\s-1RRQ\s0 or \s-1WRQ\s0) and returns a <em></em><strong>$request</strong><em></em> object or <em>undef</em> if timed out.</p><p>If <em>Timeout</em> is missing, the timeout defined for <em></em><strong>$listener</strong><em></em> object is used instead.</p><p>When the method returns, the program should <em>fork()</em> and process the request invoking <em>processRQ()</em> while the parent process should re-start waiting for another request.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Request methods</h2>
        <div class="sectioncontent">
<h3>\fIprocessRQ()\fP</h3>
<p>  $ret = $request-&gt;processRQ();</p><p>Processes a request and returns 1 if success, undef if error.</p>
<h3>\fIgetFileName()\fP</h3>
<p>  $ret = $request-&gt;getFileName();</p><p>Returns the requested file name.</p>
<h3>\fIgetMode()\fP</h3>
<p>  $ret = $request-&gt;getMode();</p><p>Returns the transfer mode for the request.</p>
<h3>\fIgetBlkSize()\fP</h3>
<p>  $ret = $request-&gt;getBlkSize();</p><p>Returns the block size used for the transfer.</p>
<h3>\fIserver()\fP</h3>
<p>  $ret = $request-&gt;server();</p><p>Return <strong>IO::Socket::*</strong> object for the created server. All <strong>IO::Socket::*</strong> accessors can then be called.</p>
<h3>\fIgetPeerAddr()\fP</h3>
<p>  $ret = $request-&gt;getPeerAddr();</p><p>Returns the address of the requesting client.</p>
<h3>\fIgetPeerPort()\fP</h3>
<p>  $ret = $request-&gt;getPeerMode();</p><p>Returns the port of the requesting client.</p>
<h3>\fIgetTotalBytes()\fP</h3>
<p>  $ret = $request-&gt;getTotalBytes();</p><p>Returns the number of bytes transferred for the request.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>Thanks to Michael Vincent (&lt;\s-1VINSWORLD\s0&gt;) for the \s-1NETASCII\s0 support, transferred bytes and IPv6 patches.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Luigino Masarati, &lt;lmasarati@hotmail.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Net::TFTPd&hellip;</h2>
        <div class="sectioncontent">
<p>Net::TFTP.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Net::TFTP.3pm.html"><span aria-hidden="true">&larr;</span> Net::TFTP.3pm: Tftp client class</a></li>
   <li class="next"><a href="Net::Telnet::Cisco.3pm.html">Net::Telnet::Cisco.3pm: Interact with a cisco router <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
