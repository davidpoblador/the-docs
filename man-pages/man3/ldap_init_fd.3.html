<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ldap_init_fd: Initialize the ldap library and open a connection to an ldap server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Initialize the ldap library and open a connection to an ldap server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ldap_init_fd (3) manual">
  <meta name="twitter:description" content="Initialize the ldap library and open a connection to an ldap server">
  <meta name="twitter:image" content="https://www.carta.tech/images/libldap2-dev-ldap_init_fd-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ldap_init_fd.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ldap_init_fd (3) manual" />
  <meta property="og:description" content="Initialize the ldap library and open a connection to an ldap server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libldap2-dev-ldap_init_fd-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ldap_init_fd<small> (3)</small></h1>
        <p class="lead">Initialize the ldap library and open a connection to an ldap server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ldap_init_fd.3.html">
      <span itemprop="name">ldap_init_fd: Initialize the ldap library and open a connection to an ldap server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libldap2-dev/">
      <span itemprop="name">libldap2-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ldap_init_fd.3.html">
      <span itemprop="name">ldap_init_fd: Initialize the ldap library and open a connection to an ldap server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">LIBRARY</h2>
        <div class="sectioncontent">
<p>OpenLDAP LDAP (libldap, -lldap)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
#include &lt;ldap.h&gt;

LDAP *ldap_open(host, port)
char *host;
int port;

LDAP *ldap_init(host, port)
char *host;
int port;

int ldap_initialize(ldp, uri)
LDAP **ldp;
char *uri;

int ldap_set_urllist_proc(ld, proc, params)
LDAP *ld;
LDAP_URLLIST_PROC *proc;
void *params;

int (LDAP_URLLIST_PROC)(ld, urllist, url, params);
LDAP *ld;
LDAPURLDesc **urllist;
LDAPURLDesc **url;
void *params;

#include &lt;ldap_pvt.h&gt;

int ldap_init_fd(fd, proto, uri, ldp)
ber_socket_t fd;
int proto;
char *uri;
LDAP **ldp;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ldap_open()</strong> opens a connection to an LDAP server and allocates an LDAP structure which is used to identify the connection and to maintain per-connection information. <strong>ldap_init()</strong> allocates an LDAP structure but does not open an initial connection. <strong>ldap_initialize()</strong> allocates an LDAP structure but does not open an initial connection. <strong>ldap_init_fd()</strong> allocates an LDAP structure using an existing connection on the provided socket. One of these routines must be called before any operations are attempted.</p><p><strong>ldap_open()</strong> takes <em>host</em>, the hostname on which the LDAP server is running, and <em>port</em>, the port number to which to connect.  If the default IANA-assigned port of 389 is desired, LDAP_PORT should be specified for <em>port</em>.  The <em>host</em> parameter may contain a blank-separated list of hosts to try to connect to, and each host may optionally by of the form <em>host:port</em>.  If present, the <em>:port</em> overrides the <em>port</em> parameter to <strong>ldap_open()</strong>. Upon successfully making a connection to an LDAP server, <strong>ldap_open()</strong> returns a pointer to an opaque LDAP structure, which should be passed to subsequent calls to <strong>ldap_bind()</strong>, <strong>ldap_search()</strong>, etc. Certain fields in the LDAP structure can be set to indicate size limit, time limit, and how aliases are handled during operations; read and write access to those fields must occur by calling <a href="../man3/ldap_get_option.3.html"><strong>ldap_get_option</strong>(3)</a> and <a href="../man3/ldap_set_option.3.html"><strong>ldap_set_option</strong>(3)</a> respectively, whenever possible.</p><p><strong></strong> ldap_init() acts just like <strong>ldap_open()</strong>, but does not open a connection to the LDAP server.  The actual connection open will occur when the first operation is attempted.</p><p><strong>ldap_initialize()</strong> acts like <strong>ldap_init()</strong>, but it returns an integer indicating either success or the failure reason, and it allows to specify details for the connection in the schema portion of the URI. The <em>uri</em> parameter may be a comma- or whitespace-separated list of URIs containing only the <em>schema</em>, the <em>host</em>, and the <em>port</em> fields. Apart from <strong>ldap</strong>, other (non-standard) recognized values of the <em>schema</em> field are <strong>ldaps</strong> (LDAP over TLS), <strong>ldapi</strong> (LDAP over IPC), and <strong>cldap</strong> (connectionless LDAP). If other fields are present, the behavior is undefined.</p><p>At this time, <strong>ldap_open()</strong> and <strong>ldap_init()</strong> are deprecated in favor of <strong>ldap_initialize()</strong>, essentially because the latter allows to specify a schema in the URI and it explicitly returns an error code.</p><p><strong>ldap_init_fd()</strong> allows an LDAP structure to be initialized using an already-opened connection. The <em>proto</em> parameter should be one of LDAP_PROTO_TCP, LDAP_PROTO_UDP, or LDAP_PROTO_IPC for a connection using TCP, UDP, or IPC, respectively. The value LDAP_PROTO_EXT may also be specified if user-supplied sockbuf handlers are going to be used. Note that support for UDP is not implemented unless libldap was built with LDAP_CONNECTIONLESS defined. The <em>uri</em> parameter may optionally be provided for informational purposes.</p><p><strong>ldap_set_urllist_proc()</strong> allows to set a function <em>proc</em> of type <em>LDAP_URLLIST_PROC</em> that is called when a successful connection can be established. This function receives the list of URIs parsed from the <em>uri</em> string originally passed to <strong>ldap_initialize()</strong>, and the one that successfully connected. The function may manipulate the URI list; the typical use consists in moving the successful URI to the head of the list, so that subsequent attempts to connect to one of the URIs using the same LDAP handle will try it first. If <em>ld</em> is null, <em>proc</em> is set as a global parameter that is inherited by all handlers within the process that are created after the call to <strong>ldap_set_urllist_proc()</strong>. By default, no <em>LDAP_URLLIST_PROC</em> is set. In a multithreaded environment, <strong>ldap_set_urllist_proc()</strong> must be called before any concurrent operation using the LDAP handle is started.</p><p>Note: the first call into the LDAP library also initializes the global options for the library. As such the first call should be single-threaded or otherwise protected to insure that only one call is active. It is recommended that <strong>ldap_get_option</strong>() or <strong>ldap_set_option</strong>() be used in the program's main thread before any additional threads are created. See <a href="../man3/ldap_get_option.3.html"><strong>ldap_get_option</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>If an error occurs, <strong>ldap_open()</strong> and <strong>ldap_init()</strong> will return NULL and <em>errno</em> should be set appropriately. <strong>ldap_initialize()</strong> and <strong>ldap_init_fd()</strong> will directly return the LDAP code associated to the error (or <em>LDAP_SUCCESS</em> in case of success); <em>errno</em> should be set as well whenever appropriate. <strong>ldap_set_urllist_proc()</strong> returns LDAP_OPT_ERROR on error, and LDAP_OPT_SUCCESS on success.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ldap_init_fd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/ldap.3.html"><strong>ldap</strong>(3)</a>, <a href="../man3/ldap_bind.3.html"><strong>ldap_bind</strong>(3)</a>, <a href="../man3/ldap_get_option.3.html"><strong>ldap_get_option</strong>(3)</a>, <a href="../man3/ldap_set_option.3.html"><strong>ldap_set_option</strong>(3)</a>, <a href="../man3/lber-sockbuf.3.html"><strong>lber-sockbuf</strong>(3)</a>, <a href="../man3/errno.3.html"><strong>errno</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p><strong>OpenLDAP Software</strong> is developed and maintained by The OpenLDAP Project &lt;http://www.openldap.org/&gt;. <strong>OpenLDAP Software</strong> is derived from University of Michigan LDAP 3.3 Release.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ldap_init.3.html"><span aria-hidden="true">&larr;</span> ldap_init.3: Initialize the ldap library and open a connection to an ldap server</a></li>
   <li class="next"><a href="ldap_initialize.3.html">ldap_initialize.3: Initialize the ldap library and open a connection to an ldap server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
