<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WebService::Validator::HTML::W3C: Access the w3cs online html validator</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Access the w3cs online html validator">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="WebService::Validator::HTML::W3C (3pm) manual">
  <meta name="twitter:description" content="Access the w3cs online html validator">
  <meta name="twitter:image" content="https://www.carta.tech/images/libwebservice-validator-html-w3c-perl-WebService::Validator::HTML::W3C-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/WebService::Validator::HTML::W3C.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="WebService::Validator::HTML::W3C (3pm) manual" />
  <meta property="og:description" content="Access the w3cs online html validator" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libwebservice-validator-html-w3c-perl-WebService::Validator::HTML::W3C-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">WebService::Validator::HTML::W3C<small> (3pm)</small></h1>
        <p class="lead">Access the w3cs online html validator</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/WebService::Validator::HTML::W3C.3pm.html">
      <span itemprop="name">WebService::Validator::HTML::W3C: Access the w3cs online html validator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libwebservice-validator-html-w3c-perl/">
      <span itemprop="name">libwebservice-validator-html-w3c-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/WebService::Validator::HTML::W3C.3pm.html">
      <span itemprop="name">WebService::Validator::HTML::W3C: Access the w3cs online html validator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use WebService::Validator::HTML::W3C;

    my $v = WebService::Validator::HTML::W3C-&gt;new(
                detailed    =&gt;  1
            );

    if ( $v-&gt;validate("http://www.example.com/") ) {
        if ( $v-&gt;is_valid ) {
            printf ("%s is valid&#92;n", $v-&gt;uri);
        } else {
            printf ("%s is not valid&#92;n", $v-&gt;uri);
            foreach my $error ( @{$v-&gt;errors} ) {
                printf("%s at line %d&#92;n", $error-&gt;msg,
                                          $error-&gt;line);
            }
        }
    } else {
        printf ("Failed to validate the website: %s&#92;n", $v-&gt;validator_error);
    }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>WebService::Validator::HTML::W3C provides access to the W3C's online Markup validator. As well as reporting on whether a page is valid it also provides access to a detailed list of the errors and where in the validated document they occur.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>new</h3>
<p>    my $v = WebService::Validator::HTML::W3C-&gt;new();</p><p>Returns a new instance of the WebService::Validator::HTML::W3C object.</p><p>There are various options that can be set when creating the Validator object like so:</p><p>    my $v = WebService::Validator::HTML::W3C-&gt;new( http_timeout =&gt; 20 );</p>
<dl class='dl-vertical'>
  <dt>
    validator_uri
  </dt>
  <dd>
    <p>The \s-1URI\s0 of the validator to use.  By default this accesses the W3Cs validator at http://validator.w3.org/check. If you have a local installation of the validator ( recommended if you wish to do a lot of testing ) or wish to use a validator at another location then you can use this option. Please note that you need to use the full path to the validator cgi.</p>
  </dd>
  <dt>
    ua
  </dt>
  <dd>
    <p>The user agent to use. Should be an LWP::UserAgent object or something that provides the same interface. If this argument is provided, the \*(C`http_timeout\*(C' and \*(C`proxy\*(C' arguments are ignored.</p>
  </dd>
  <dt>
    http_timeout
  </dt>
  <dd>
    <p>How long (in seconds) to wait for the \s-1HTTP\s0 connection to timeout when contacting the validator. By default this is 30 seconds.</p>
  </dd>
  <dt>
    detailed
  </dt>
  <dd>
    <p>This fetches the \s-1XML\s0 response from the validator in order to provide information for the errors method. You should set this to true if you intend to use the errors method.</p>
  </dd>
  <dt>
    proxy
  </dt>
  <dd>
    <p>An \s-1HTTP\s0 proxy to use when communicating with the validation service.</p>
  </dd>
  <dt>
    output
  </dt>
  <dd>
    <p>Controls which output format is used. Can be either xml or soap12. The default is soap12 as the \s-1XML\s0 format is deprecated and is likely to be removed in the future. The default will always work so unless you're using a locally installed Validator you can safely ignore this.</p>
  </dd>

</dl>

<h3>validate</h3>
<p>    $v-&gt;validate( &apos;http:://www.example.com/&apos; );</p><p>Validate a \s-1URI\s0. Returns 0 if the validation fails (e.g if the validator cannot be reached), otherwise 1.</p>
<h3>validate_file</h3>
<p>    $v-&gt;validate_file( &apos;./file.html&apos; );</p><p>Validate a file by uploading it to the W3C Validator. \s-1NB\s0 This has only been tested on a Linux box so may not work on non unix machines.</p>
<h3>validate_markup</h3>
<p>    $v-&gt;validate_markup( $markup );</p><p>Validate a scalar containing \s-1HTML\s0.</p>
<h3>Alternate interface</h3>
<p>You can also pass a hash in to specify what you wish to validate. This is provided to ensure compatibility with the \s-1CSS\s0 validator module.</p><p>        $v-&gt;validate( uri =&gt; &apos;http://example.com/&apos; );         $v-&gt;validate( string =&gt; $markup );         $v-&gt;validate( file =&gt; &apos;./file.html&apos; );</p>
<h3>is_valid</h3>
<p>    $v-&gt;is_valid;</p><p>Returns true (1) if the \s-1URI\s0 validated otherwise 0.</p>
<h3>uri</h3>
<p>    $v-&gt;uri();</p><p>Returns the \s-1URI\s0 of the last page on which validation succeeded.</p>
<h3>num_errors</h3>
<p>    $num_errors = $v-&gt;num_errors();</p><p>Returns the number of errors that the validator encountered.</p>
<h3>errorcount</h3>
<p>Synonym for num_errors. There to match \s-1CSS\s0 Validator interface.</p>
<h3>warningcount</h3>
<p>    $num_errors = $v-&gt;warningcount();</p><p>Returns the number of warnings that the validator encountered.</p>
<h3>errors</h3>
<p>    $errors = $v-&gt;errors();</p><p>    foreach my $err ( @$errors ) {         printf("line: %s, col: %s&#92;n&#92;terror: %s&#92;n",                 $err-&gt;line, $err-&gt;col, $err-&gt;msg);     }</p><p>Returns an array ref of WebService::Validator::HTML::W3C::Error objects. These have line, col and msg methods that return a line number, a column in that line and the error that occurred at that point.</p><p>Note that you need XML::XPath for this to work and you must have initialised WebService::Validator::HTML::W3C with the detailed option. If you have not set the detailed option a warning will be issued, the detailed option will be set and a second request made to the validator in order to fetch the required information.</p><p>If there was a problem processing the detailed information then this method will return 0.</p>
<h3>warnings</h3>
<p>    $warnings = $v-&gt;warnings();</p><p>Works exactly the same as errors only returns an array ref of WebService::Validator::HTML::W3C::Warning objects. In all other respects it's the same.</p>
<h3>validator_error</h3>
<p>    $error = $v-&gt;validator_error();</p><p>Returns a string indicating why validation may not have occurred. This is not the reason that a webpage was invalid. It is the reason that no meaningful information about the attempted validation could be obtained. This is most likely to be an \s-1HTTP\s0 error</p><p>Possible values are:</p>
<dl class='dl-vertical'>
  <dt>
    You need to supply a \s-1URI\s0 to validate
  </dt>
  <dd>
    <p>You didn't pass a \s-1URI\s0 to the validate method</p>
  </dd>
  <dt>
    You need to supply a \s-1URI\s0 with a scheme
  </dt>
  <dd>
    <p>The \s-1URI\s0 you passed to validate didn't have a scheme on the front. The W3C validator can't handle URIs like www.example.com but instead needs URIs of the form http://www.example.com/.</p>
  </dd>
  <dt>
    Not a W3C Validator or Bad \s-1URI\s0
  </dt>
  <dd>
    <p>The \s-1URI\s0 did not return the headers that WebService::Validator::HTML::W3C relies on so it is likely that there is not a W3C Validator at that \s-1URI\s0. The other possibility is that it didn't like the \s-1URI\s0 you provided. Sadly the Validator doesn't give very useful feedback on this at the moment.</p>
  </dd>
  <dt>
    Could not contact validator
  </dt>
  <dd>
    <p>WebService::Validator::HTML::W3C could not establish a connection to the \s-1URI\s0.</p>
  </dd>
  <dt>
    Did not get a sensible result from the validator
  </dt>
  <dd>
    <p>Should never happen and most likely indicates a problem somewhere but on the off chance that WebService::Validator::HTML::W3C is unable to make sense of the response from the validator you'll get this error.</p>
  </dd>
  <dt>
    Result format does not appear to be SOAP|XML
  </dt>
  <dd>
    <p>If you've asked for detailed results and the reponse from the validator isn't in the expected format then you'll get this error. Most likely to happen if you ask for \s-1SOAP\s0 output from a validator that doesn't support that format.</p>
  </dd>
  <dt>
    You need to provide a uri, string or file to validate
  </dt>
  <dd>
    <p>You've passed in a hash ( or in fact more than one argument ) to validate but the hash does not contain one of the three expected keys.</p>
  </dd>

</dl>

<h3>validator_uri</h3>
<p>    $uri = $v-&gt;validator_uri();     $v-&gt;validator_uri(&apos;http://validator.w3.org/check&apos;);</p><p>Returns or sets the \s-1URI\s0 of the validator to use. Please note that you need to use the full path to the validator cgi.</p>
<h3>http_timeout</h3>
<p>    $timeout = $v-&gt;http_timeout();     $v-&gt;http_timeout(10);</p><p>Returns or sets the timeout for the \s-1HTTP\s0 request.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER MODULES</h2>
        <div class="sectioncontent">
<p>Please note that there is also an official W3C module that is part of the W3C::LogValidator distribution. However that module is not very useful outside the constraints of that package. WebService::Validator::HTML::W3C is meant as a more general way to access the W3C Validator.</p><p>HTML::Validator uses nsgmls to validate against the W3Cs DTDs. You have to fetch the relevant DTDs and so on.</p><p>There is also the HTML::Parser based HTML::Lint which mostly checks for known tags rather than \s-1XML/HTML\s0 validity.</p><p>WebService::Validator::CSS::W3C provides the same functionality as this module for the W3C's \s-1CSS\s0 validator.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IMPORTANT</h2>
        <div class="sectioncontent">
<p>This module is not in any way associated with the W3C so please do not report any problems with this module to them. Also please remember that the online Validator is a shared resource so do not abuse it. This means sleeping between requests. If you want to do a lot of testing against it then please consider downloading and installing the Validator software which is available from the W3C. Debian testing users will also find that it is available via apt-get.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>While the interface to the Validator is fairly stable it may be updated. I will endeavour to track any changes with this module so please check on \s-1CPAN\s0 for new versions if you find things break. Also note that this module is only guaranteed to work with the currently stable version of the validator. It will most likely work with any Beta versions but don't rely on it.</p><p>If in doubt please try and run the test suite before reporting bugs. Note that in order to run tests against the validator service you will need to have a connection to the internet and also set an environment variable called \s-1TEST_AUTHOR\s0.</p><p>That said I'm very happy to hear about bugs. All the more so if they come with patches ;).</p><p>Please use &lt;http://rt.cpan.org/&gt; for filing bug reports, and indeed feature requests. The code can also be found on github &lt;https://github.com/struan/webservice-validator-html-w3c&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THANKS</h2>
        <div class="sectioncontent">
<p>To the various people on the code review ladder mailing list who provided useful suggestions.</p><p>Carl Vincent provided a patch to allow for proxy support.</p><p>Chris Dolan provided a patch to allow for custom user agents.</p><p>Matt Ryder provided a patch for support of the explanations in the \s-1SOAP\s0 output.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<p>author email or via &lt;http://rt.cpan.org/&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Struan Donald &lt;struan@cpan.org&gt;</p><p>&lt;http://www.exo.org.uk/code/&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2003-2008 Struan Donald. All rights reserved.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO WebService::Validator::HTML::W3C&hellip;</h2>
        <div class="sectioncontent">
<p><em>perl</em>\|(1).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="WebService::Validator::CSS::W3C.3pm.html"><span aria-hidden="true">&larr;</span> WebService::Validator::CSS::W3C.3pm: Interface to the w3c css validator</a></li>
   <li class="next"><a href="WebService::Validator::HTML::W3C::Error.3pm.html">WebService::Validator::HTML::W3C::Error.3pm: Error messages from the w3cs online validator <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
