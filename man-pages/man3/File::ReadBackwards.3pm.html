<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>File::ReadBackwards: Read a file backwards by lines.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Read a file backwards by lines.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="File::ReadBackwards (3pm) manual">
  <meta name="twitter:description" content="Read a file backwards by lines.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libfile-readbackwards-perl-File::ReadBackwards-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/File::ReadBackwards.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="File::ReadBackwards (3pm) manual" />
  <meta property="og:description" content="Read a file backwards by lines." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libfile-readbackwards-perl-File::ReadBackwards-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">File::ReadBackwards<small> (3pm)</small></h1>
        <p class="lead">Read a file backwards by lines.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/File::ReadBackwards.3pm.html">
      <span itemprop="name">File::ReadBackwards: Read a file backwards by lines.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libfile-readbackwards-perl/">
      <span itemprop="name">libfile-readbackwards-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/File::ReadBackwards.3pm.html">
      <span itemprop="name">File::ReadBackwards: Read a file backwards by lines.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    use File::ReadBackwards ;

    # Object interface

    $bw = File::ReadBackwards-&gt;new( &apos;log_file&apos; ) or
                        die "can&apos;t read &apos;log_file&apos; $!" ;

    while( defined( $log_line = $bw-&gt;readline ) ) {
            print $log_line ;
    }

    # ... or the alternative way of reading

    until ( $bw-&gt;eof ) {
            print $bw-&gt;readline ;
    }

    # Tied Handle Interface

    tie *BW, &apos;File::ReadBackwards&apos;, &apos;log_file&apos; or
                        die "can&apos;t read &apos;log_file&apos; $!" ;

    while( &lt;BW&gt; ) {
            print ;
    }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module reads a file backwards line by line. It is simple to use, memory efficient and fast. It supports both an object and a tied handle interface.</p><p>It is intended for processing log and other similar text files which typically have their newest entries appended to them. By default files are assumed to be plain text and have a line ending appropriate to the \s-1OS\s0. But you can set the input record separator string on a per file basis.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OBJECT INTERFACE</h2>
        <div class="sectioncontent">
<p>These are the methods in \*(C`File::ReadBackwards\*(C'' object interface: \*(C`new\*(C' takes as arguments a filename, an optional record separator and an optional flag that marks the record separator as a regular expression. It either returns the object on a successful open or undef upon failure. $! is set to the error code if any.</p><h3>readline</h3>
<p>\*(C`readline\*(C' takes no arguments and it returns the previous line in the file or undef when there are no more lines in the file. If the file is a non-seekable file (e.g. a pipe), then undef is returned.</p>
<h3>getline</h3>
<p>\*(C`getline\*(C' is an alias for the readline method. It is here for compatibility with the IO::* classes which has a getline method.</p>
<h3>eof</h3>
<p>\*(C`eof\*(C' takes no arguments and it returns true when <em>readline()</em> has iterated through the whole file.</p>
<h3>close</h3>
<p>\*(C`close\*(C' takes no arguments and it closes the handle</p>
<h3>tell</h3>
<p>\*(C`tell\*(C' takes no arguments and it returns the current filehandle position. This value may be used to <em>seek()</em> back to this position using a normal file handle.</p>
<h3>get_handle</h3>
<p>\*(C`get_handle\*(C' takes no arguments and it returns the internal Perl filehandle used by the File::ReadBackwards object.  This handle may be used to read the file forward. Its seek position will be set to the position that is returned by the <em>tell()</em> method.  Note that interleaving forward and reverse reads may produce unpredictable results.  The only use supported at present is to read a file backward to a certain point, then use 'handle' to extract the handle, and read forward from that point.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TIED HANDLE INTERFACE</h2>
        <div class="sectioncontent">
<p>The \s-1TIEHANDLE\s0, \s-1READLINE\s0, \s-1EOF\s0, \s-1CLOSE\s0 and \s-1TELL\s0 methods are aliased to the new, readline, eof, close and tell methods respectively so refer to them for their arguments and \s-1API\s0.  Once you have tied a handle to File::ReadBackwards the only I/O operation permissible is &lt;&gt; which will read the previous line. You can call <em>eof()</em> and <em>close()</em> on the tied handle as well. All other tied handle operations will generate an unknown method error. Do not seek, write or perform any other unsupported operations on the tied handle.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LINE AND RECORD ENDINGS</h2>
        <div class="sectioncontent">
<p>Since this module needs to use low level I/O for efficiency, it can't portably seek and do block I/O without managing line ending conversions. This module supports the default record separators of normal line ending strings used by the \s-1OS\s0. You can also set the separator on a per file basis.</p><p>The record separator is a regular expression by default, which differs from the behavior of $/.</p><p>Only if the record separator is <strong>not</strong> specified and it defaults to \s-1CR/LF\s0 (e.g, \s-1VMS\s0, redmondware) will it will be converted to a single newline. Unix and MacOS files systems use only a single character for line endings and the lines are left unchanged.  This means that for native text files, you should be able to process their lines backwards without any problems with line endings. If you specify a record separator, no conversions will be done and you will get the records as if you read them in binary mode.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESIGN</h2>
        <div class="sectioncontent">
<p>It works by reading a large (8kb) block of data from the end of the file.  It then splits them on the record separator and stores a list of records in the object. Each call to readline returns the top record of the list and if the list is empty it refills it by reading the previous block from the file and splitting it.  When the beginning of the file is reached and there are no more lines, undef is returned.  All boundary conditions are handled correctly i.e. if there is a trailing partial line (no newline) it will be the first line returned and lines larger than the read buffer size are handled properly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>There is no support for list context in either the object or tied interfaces. If you want to slurp all of the lines into an array in backwards order (and you don't care about memory usage) just do:</p><p>        @back_lines = reverse &lt;FH&gt;.</p><p>This module is only intended to read one line at a time from the end of a file to the beginning.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Uri Guttman, uri@stemsystems.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2003 by Uri Guttman. All rights reserved.  This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="File::Queue.3pm.html"><span aria-hidden="true">&larr;</span> File::Queue.3pm: Persistent fifo queue implemented in pure perl!</a></li>
   <li class="next"><a href="File::Remove.3pm.html">File::Remove.3pm: Remove files and directories <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
