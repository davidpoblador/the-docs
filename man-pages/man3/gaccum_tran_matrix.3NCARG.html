<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gaccum_tran_matrix: Accumulate transformation matrix</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Accumulate transformation matrix">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gaccum_tran_matrix (3NCARG) manual">
  <meta name="twitter:description" content="Accumulate transformation matrix">
  <meta name="twitter:image" content="https://www.carta.tech/images/libncarg-dev-gaccum_tran_matrix-3NCARG.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3NCARG/gaccum_tran_matrix.3NCARG.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gaccum_tran_matrix (3NCARG) manual" />
  <meta property="og:description" content="Accumulate transformation matrix" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libncarg-dev-gaccum_tran_matrix-3NCARG.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gaccum_tran_matrix<small> (3NCARG)</small></h1>
        <p class="lead">Accumulate transformation matrix</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3NCARG/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3NCARG/gaccum_tran_matrix.3NCARG.html">
      <span itemprop="name">gaccum_tran_matrix: Accumulate transformation matrix</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libncarg-dev/">
      <span itemprop="name">libncarg-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3NCARG/gaccum_tran_matrix.3NCARG.html">
      <span itemprop="name">gaccum_tran_matrix: Accumulate transformation matrix</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>gaccum_tran_matrix (Accumulate transformation matrix) - Constructs a GKS segment transformation matrix by starting with an existing matrix and composing it with a shift vector, a rotation angle, and X and Y scale factors to create a new transformation matrix.  The rotation and scaling are done with respect to a user-defined fixed point.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;ncarg/gks.h&gt;</p><p>void gaccum_tran_matrix(const Gtran_matrix t_matrix, const Gpoint *point, const Gvec *shift, Gdouble angle, const Gvec *scale, Gcoord_switch coord_switch, Gtran_matrix tran_matrix);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    t_matrix
  </dt>
  <dd>
    <p>(Gfloat, Input) - A 2x3 GKS transformation matrix.</p>
  </dd>
  <dt>
    point.x
  </dt>
  <dd>
    <p>(Gfloat, Input) - X coordinate value for a fixed point to be used for the scaling and rotation parts of the output transformation.  point.x is either in world coordinates or normalized device coordinates depending on the setting of the argument coord_switch described below.</p>
  </dd>
  <dt>
    point.y
  </dt>
  <dd>
    <p>(Gfloat, Input) - Y coordinate value for a fixed point to be used for the scaling and rotation parts of the output transformation.  point.y is either in world coordinates or normalized device coordinates depending on the setting of the argument coord_switch described below.</p>
  </dd>
  <dt>
    shift.delta_x
  </dt>
  <dd>
    <p>(Gfloat, Input) - The X component of a shift vector to be used for the scaling part of the output transformation.  shift.delta_x is either in world coordinates or normalized device coordinates depending on the setting of the argument coord_switch described below.</p>
  </dd>
  <dt>
    shift.delta_y
  </dt>
  <dd>
    <p>(Gfloat, Input) - The Y component of a shift vector to be used for the scaling part of the output transformation.  shift.delta_y is either in world coordinates or normalized device coordinates depending on the setting of the argument coord_switch described below.</p>
  </dd>
  <dt>
    angle
  </dt>
  <dd>
    <p>(Input) - The rotation angle, in radians, to be used for the rotation part of the output transformation.</p>
  </dd>
  <dt>
    scale.delta_x
  </dt>
  <dd>
    <p>(Gfloat, Input) - X coordinate scale factor to be used in the scaling part of the output transformation.</p>
  </dd>
  <dt>
    scale.delta_y
  </dt>
  <dd>
    <p>(Gfloat, Input) - Y coordinate scale factor to be used in the scaling part of the output transformation.</p>
  </dd>
  <dt>
    coord_switch
  </dt>
  <dd>
    <p>(Input) - A coordinate switch to indicate whether the values for the arguments point and shift (described above) are in world coordinates or normalized device coordinates.  Possible values include:</p>
<dl class='dl-vertical'>
  <dt>
    GCOORD_WC
  </dt>
  <dd>
    <p>World coordinates</p>
  </dd>
  <dt>
    GCOORD_NDC
  </dt>
  <dd>
    <p>Normalized device coordinates</p>
  </dd>
  <dt>
    tran_matrix
  </dt>
  <dd>
    <p>(Gfloat, Output) - A 2x3 array that contains the GKS transformation matrix in a form that can be used as input to other GKS functions such as gset_seg_tran.  This matrix is constructed by composing the scale, rotate, and shift input, described above, with the original input matrix t_matrix.</p>
  </dd>

</dl>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>If world coordinates are used, the shift vector and the fixed point are transformed by the current normalization transformation.</p><p>The order in which the transformations are applied is: input matrix, scale, rotate, and shift.</p><p>Elements tran_matrix[0][2] and tran_matrix[1][2] are in normalized device coordinates and the other elements of tran_matrix are unitless.</p><p>gaccum_tran_matrix can be used to construct more general transformation matrices than geval_tran_matrix.  The most common usage of gaccum_tran_matrix is to change the order in which the operations of scale, rotate, and shift are applied (which is fixed in geval_tran_matrix).  The example below shows how to construct a transformation matrix that shifts first and then rotates.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Assuming that the input matrix t_matrix is initially the identity, the following code</p>
<pre>
      pi = 3.1415926;
      point.x = point.y = 0.5;
      shift.delta_x = 0.25;
      shift.delta_y = 0.;
      scale.delta_x = 1.0;
      scale.delta_y = 1.0;
      gaccum_tran_matrix(t_matrix,&point,&shift,0.,&scale,GCOORD_WC,tout);
      for( i = 0; i &lt; 2; i++ ) {
          for( j = 0; j &lt; 3; j++ ) {
              t_matrix[i][j] = tout[i][j];
          }
      }
      shift.delta_x = 0.;
      shift.delta_y = 0.;
      gaccum_tran_matrix(t_matrix,&point,&shift,45.*pi/180.,&scale,GCOORD_WC,tout);

</pre>
<p>would produce a transformation matrix in tout that would shift by (.25,0.) first, and then rotate by 45 degrees.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACCESS</h2>
        <div class="sectioncontent">
<p>To use the GKS C-binding routines, load the ncarg_gks and ncarg_c libraries.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gaccum_tran_matrix&hellip;</h2>
        <div class="sectioncontent">
<p>Online: <strong>geval_tran_matrix(3NCARG),</strong> <strong>gclose_seg(3NCARG),</strong> <strong>gcreate_seg(3NCARG),</strong> <strong>gcopy_seg_ws(3NCARG),</strong> <strong>gdel_seg(3NCARG),</strong> <strong>ginq_name_open_seg(3NCARG),</strong> <strong>ginq_set_seg_names(3NCARG),</strong> <strong>gset_seg_tran(3NCARG),</strong> <strong>gks(3NCARG),</strong> <strong>ncarg_gks_cbind(3NCARG)</strong></p><p>Hardcopy: User's Guide for NCAR GKS-0A Graphics; NCAR Graphics Fundamentals, UNIX Version</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1987-2009</p><p>University Corporation for Atmospheric Research</p><p>The use of this Software is governed by a License Agreement.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fy.3NCARG.html"><span aria-hidden="true">&larr;</span> fy.3NCARG: Mxf is a user modifiable function that, given one end point of a vector in both grid and metacode coordinates, returns the x coordinate of the other end of the vector in metacode coordinates.  myf - myf is a user modifiable function that, given one end point of a vector in both grid and metcode coordinates, returns the y coordinate of the other end of the vector in metacode coordinates.</a></li>
   <li class="next"><a href="gacolr.3NCARG.html">gacolr.3NCARG: Sets the values of internal parameters determining the color of various parts of the background. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
