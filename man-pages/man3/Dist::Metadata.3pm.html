<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dist::Metadata: Information about a perl module distribution</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Information about a perl module distribution">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Dist::Metadata (3pm) manual">
  <meta name="twitter:description" content="Information about a perl module distribution">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdist-metadata-perl-Dist::Metadata-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/Dist::Metadata.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Dist::Metadata (3pm) manual" />
  <meta property="og:description" content="Information about a perl module distribution" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdist-metadata-perl-Dist::Metadata-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Dist::Metadata<small> (3pm)</small></h1>
        <p class="lead">Information about a perl module distribution</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Dist::Metadata.3pm.html">
      <span itemprop="name">Dist::Metadata: Information about a perl module distribution</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdist-metadata-perl/">
      <span itemprop="name">libdist-metadata-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/Dist::Metadata.3pm.html">
      <span itemprop="name">Dist::Metadata: Information about a perl module distribution</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 0.925</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  my $dist = Dist::Metadata-&gt;new(file =&gt; $path_to_archive);

  my $description = sprintf "Dist %s (%s)", $dist-&gt;name, $dist-&gt;version;

  my $provides = $dist-&gt;package_versions;
  while( my ($package, $version) = each %$provides ){
    print "$description includes $package $version&#92;n";
  }
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This module provides an easy interface for getting various metadata about a Perl module distribution.</p><p>It takes care of the common logic of:</p><ul>
<li><p>reading a tar file (Archive::Tar)</p></li><li><p>finding and reading the correct \s-1META\s0 file if the distribution contains one (CPAN::Meta)</p></li><li><p>and determining some of the metadata if there is no \s-1META\s0 file (Module::Metadata, CPAN::DistnameInfo)</p></li>
</ul><p>This is mostly a wrapper around CPAN::Meta providing an easy interface to find and load the meta file from a <em>tar.gz</em> file. A dist can also be represented by a directory or merely a structure of data.</p><p>If the dist does not contain a meta file the module will attempt to determine some of that data from the dist.</p><p><strong>\s-1NOTE\s0</strong>: This interface is still being defined. Please submit any suggestions or concerns.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>new</h3>
<p>  Dist::Metadata-&gt;new(file =&gt; $path);</p><p>A dist can be represented by a tar file, a directory, or a data structure.</p><p>The format will be determined by the presence of the following options (checked in this order):</p><ul>
<li><p>\*(C`struct\*(C' - hash of data to build a mock dist; See Dist::Metadata::Struct.</p></li><li><p>\*(C`dir\*(C' - path to the root directory of a dist</p></li><li><p>\*(C`file\*(C' - the path to a <em>.tar.gz</em> file</p></li>
</ul><p>You can also slyly pass in your own object as a \*(C`dist\*(C' parameter in which case this module will just use that. This can be useful if you need to use your own subclass (perhaps while developing a new format).</p><p>Other options that can be specified:</p><ul>
<li><p>\*(C`name\*(C' - dist name</p></li><li><p>\*(C`version\*(C' - dist version</p></li><li><p>\*(C`determine_packages\*(C' - boolean to indicate whether dist should be searched for packages if no \s-1META\s0 file is found.  Defaults to true.</p></li><li><p>\*(C`include_inner_packages\*(C' - When determining provided packages the default behavior is to only include packages that match the name of the file that defines them (like \*(C`Foo::Bar\*(C' matches \*(C`*/Bar.pm\*(C'). This way only modules that can be loaded (via \*(C`use\*(C' or \*(C`require\*(C') will be returned (and \*(L"inner\*(R" packages will be ignored). This mimics the behavior of \s-1PAUSE\s0. Set this to true to include any \*(L"inner\*(R" packages provided by the dist (that are not otherwise excluded by another mechanism (such as \*(C`no_index\*(C')).</p></li>
</ul>
<h3>dist</h3>
<p>Returns the dist object (subclass of Dist::Metadata::Dist).</p>
<h3>default_metadata</h3>
<p>Returns a hashref of default values used to initialize a CPAN::Meta object when a \s-1META\s0 file is not found. Called from \*(L"determine_metadata\*(R".</p>
<h3>determine_metadata</h3>
<p>Examine the dist and try to determine metadata. Returns a hashref which can be passed to \*(L"new\*(R" in CPAN::Meta. This is used when the dist does not contain a \s-1META\s0 file.</p>
<h3>determine_packages</h3>
<p>  my $provides = $dm-&gt;determine_packages($meta);</p><p>Attempt to determine packages provided by the dist. This is used when the \s-1META\s0 file does not include a \*(C`provides\*(C' section and \*(C`determine_packages\*(C' is not set to false in the constructor.</p><p>If a CPAN::Meta object is not provided a default one will be used. Files contained in the dist and packages found therein will be checked against the meta object's \*(C`no_index\*(C' attribute (see \*(L"should_index_file\*(R" in CPAN::Meta and  \*(L"should_index_package\*(R" in CPAN::Meta). By default this ignores any files found in <em>inc/</em>, <em>t/</em>, or <em>xt/</em> directories.</p>
<h3>load_meta</h3>
<p>Loads the metadata from the \*(L"dist\*(R".</p>
<h3>meta</h3>
<p>Returns the CPAN::Meta instance in use.</p>
<h3>meta_from_struct</h3>
<p>  $meta = $dm-&gt;meta_from_struct(&#92;%struct);</p><p>Passes the the provided \*(C`&#92;%struct\*(C' to \*(L"create\*(R" in CPAN::Meta and returns the result.</p>
<h3>package_versions</h3>
<p>  $pv = $dm-&gt;package_versions();   # { &apos;Package::Name&apos; =&gt; &apos;1.0&apos;, &apos;Module::2&apos; =&gt; &apos;2.1&apos; }</p><p>Returns a simplified version of \*(C`provides\*(C': a hashref with package names as keys and versions as values.</p><p>This can also be called as a class method which will operate on a passed in hashref.</p><p>  $pv = Dist::Metadata-&gt;package_versions(&#92;%provides);</p>
<h3>module_info</h3>
<p>Returns a hashref of meta data for each of the packages provided by this dist.</p><p>The hashref starts with the same data as \*(L"provides\*(R" but additional data can be added to the output by specifying options in a hashref: Use the specified algorithm to compute a hex digest of the file. The type you specify will be the key in the returned hashref. You can use an arrayref to specify more than one type.   $dm-&gt;module_info({checksum =&gt; [&apos;sha256&apos;, &apos;md5&apos;]});   # returns:   {     &apos;Mod::Name&apos; =&gt; {       file    =&gt; &apos;lib/Mod/Name.pm&apos;,       version =&gt; &apos;0.1&apos;,       md5     =&gt; &apos;258e88dcbd3cd44d8e7ab43f6ecb6af0&apos;,       sha256  =&gt; &apos;f22136124cd3e1d65a48487cecf310771b2fd1e83dc032e3d19724160ac0ff71&apos;,     },   } See \*(L"file_checksum\*(R" in Dist::Metadata::Dist for more information. The default is to start with the hashref returned from \*(L"provides\*(R" but you can pass in an alternate hashref using this key.</p><p>Other options may be added in the future.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INHERITED METHODS</h2>
        <div class="sectioncontent">
<p>The following methods are available on this object and simply call the corresponding method on the CPAN::Meta object.</p><ul>
<li><p> name</p></li><li><p> provides</p></li><li><p> version</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TODO</h2>
        <div class="sectioncontent">
<ul>
<li><p>More tests</p></li><li><p>\*(C`trust_meta\*(C' option (to allow setting it to false)</p></li><li><p>Guess main module from dist name if no packages can be found</p></li><li><p>Determine abstract?</p></li><li><p>Add change log info (CPAN::Changes)?</p></li><li><p>Subclass as \*(C`CPAN::Dist::Metadata\*(C' just so that it has \*(C`CPAN\*(C' in the name?</p></li><li><p>Use File::Find::Rule::Perl?</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Dist::Metadata&hellip;</h2>
        <div class="sectioncontent">
<h3>Dependencies</h3>
<ul>
<li><p>CPAN::Meta</p></li><li><p>Module::Metadata</p></li><li><p>CPAN::DistnameInfo</p></li>
</ul>
<h3>Related Modules</h3>
<ul>
<li><p>MyCPAN::Indexer</p></li><li><p>CPAN::ParseDistribution</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORT</h2>
        <div class="sectioncontent">
<h3>Perldoc</h3>
<p>You can find documentation for this module with the perldoc command.</p><p>  perldoc Dist::Metadata</p>
<h3>Websites</h3>
<p>The following websites have more information about this module, and may be of help to you. As always, in addition to those websites please use your favorite search engine to discover more resources.</p><ul>
<li><p>Search \s-1CPAN\s0 The default \s-1CPAN\s0 search engine, useful to view \s-1POD\s0 in \s-1HTML\s0 format. http://search.cpan.org/dist/Dist-Metadata &lt;http://search.cpan.org/dist/Dist-Metadata&gt;</p></li><li><p>\s-1RT:\s0 \s-1CPAN\s0's Bug Tracker The \s-1RT\s0 ( Request Tracker ) website is the default bug/issue tracking system for \s-1CPAN\s0. http://rt.cpan.org/NoAuth/Bugs.html?Dist=Dist-Metadata &lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Dist-Metadata&gt;</p></li><li><p>\s-1CPAN\s0 Ratings The \s-1CPAN\s0 Ratings is a website that allows community ratings and reviews of Perl modules. http://cpanratings.perl.org/d/Dist-Metadata &lt;http://cpanratings.perl.org/d/Dist-Metadata&gt;</p></li><li><p>\s-1CPAN\s0 Testers The \s-1CPAN\s0 Testers is a network of smokers who run automated tests on uploaded \s-1CPAN\s0 distributions. http://www.cpantesters.org/distro/D/Dist-Metadata &lt;http://www.cpantesters.org/distro/D/Dist-Metadata&gt;</p></li><li><p>\s-1CPAN\s0 Testers Matrix The \s-1CPAN\s0 Testers Matrix is a website that provides a visual overview of the test results for a distribution on various Perls/platforms. http://matrix.cpantesters.org/?dist=Dist-Metadata &lt;http://matrix.cpantesters.org/?dist=Dist-Metadata&gt;</p></li><li><p>\s-1CPAN\s0 Testers Dependencies The \s-1CPAN\s0 Testers Dependencies is a website that shows a chart of the test results of all dependencies for a distribution. &lt;http://deps.cpantesters.org/?module=Dist::Metadata&gt;</p></li>
</ul>
<h3>Bugs / Feature Requests</h3>
<p>Please report any bugs or feature requests by email to \*(C`bug-dist-metadata at rt.cpan.org\*(C', or through the web interface at http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Dist-Metadata &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Dist-Metadata&gt;. You will be automatically notified of any progress on the request by the system.</p>
<h3>Source Code</h3>
<p>https://github.com/rwstauner/Dist-Metadata &lt;https://github.com/rwstauner/Dist-Metadata&gt;</p><p>  git clone https://github.com/rwstauner/Dist-Metadata.git</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Randy Stauner &lt;rwstauner@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>This software is copyright (c) 2011 by Randy Stauner.</p><p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Directory::Scratch::Structured.3pm.html"><span aria-hidden="true">&larr;</span> Directory::Scratch::Structured.3pm: </a></li>
   <li class="next"><a href="Dist::Metadata::Archive.3pm.html">Dist::Metadata::Archive.3pm: Base class for dist::metadata archive files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
