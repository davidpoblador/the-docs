<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ost_RandomFile: The purpose of this class is to define a base class for low level random file access that is portable between win32 and posix systems.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The purpose of this class is to define a base class for low level random file access that is portable between win32 and posix systems.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ost_RandomFile (3) manual">
  <meta name="twitter:description" content="The purpose of this class is to define a base class for low level random file access that is portable between win32 and posix systems.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libcommoncpp2-doc-ost_RandomFile-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/ost_RandomFile.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ost_RandomFile (3) manual" />
  <meta property="og:description" content="The purpose of this class is to define a base class for low level random file access that is portable between win32 and posix systems." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libcommoncpp2-doc-ost_RandomFile-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ost_RandomFile<small> (3)</small></h1>
        <p class="lead">The purpose of this class is to define a base class for low level random file access that is portable between win32 and posix systems.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ost_RandomFile.3.html">
      <span itemprop="name">ost_RandomFile: The purpose of this class is to define a base class for low level random file access that is portable between win32 and posix systems.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libcommoncpp2-doc/">
      <span itemprop="name">libcommoncpp2-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/ost_RandomFile.3.html">
      <span itemprop="name">ost_RandomFile: The purpose of this class is to define a base class for low level random file access that is portable between win32 and posix systems.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;file.h&gt;</p><p>Inherits <strong>ost::Mutex</strong>, and <strong>ost::File</strong>.</p><p>Inherited by <strong>ost::MappedFile</strong>, <strong>ost::SharedFile</strong>, and <strong>ost::ThreadFile</strong>.</p><h3>Public Member Functions</h3>
<p>virtual <strong>~RandomFile</strong> ()</p><p><em>Destroy a random access file or it's derived class. </em> bool <strong>initial</strong> (void)</p><p><em>This method should be called right after a </em><strong>RandomFile</strong><em> derived object has been created. </em><strong></strong> off_t <strong>getCapacity</strong> (void)</p><p><em>Get current file capacity. </em> virtual <strong>Error</strong> <strong>restart</strong> (void)</p><p><em>This method is commonly used to close and re-open an existing database. </em> <strong>Error</strong> <strong>getErrorNumber</strong> (void)</p><p><em>Return current error id. </em> char * <strong>getErrorString</strong> (void)</p><p><em>Return current error string. </em> bool <strong>operator!</strong> (void)</p>
<h3>Protected Member Functions</h3>
<p><strong>RandomFile</strong> (const char *name=NULL)</p><p><em>Create an unopened random access file. </em> <strong>RandomFile</strong> (const <strong>RandomFile</strong> &rf)</p><p><em>Default copy constructor. </em> <strong>Error</strong> <strong>error</strong> (<strong>Error</strong> errid, char *errstr=NULL)</p><p><em>Post an error event. </em> <strong>Error</strong> <strong>error</strong> (char *err)</p><p><em>Post an extended string error message. </em> void <strong>setError</strong> (bool enable)</p><p><em>Used to enable or disable throwing of exceptions on errors. </em> <strong>Error</strong> <strong>setCompletion</strong> (<strong>Complete</strong> mode)</p><p><em>Used to set file completion modes. </em> void <strong>setTemporary</strong> (bool enable)</p><p><em>Used to set the temporary attribute for the file. </em> virtual <strong>Attr</strong> <strong>initialize</strong> (void)</p><p><em>This method is used to initialize a newly created file as indicated by the 'initial' flag. </em> void <strong>final</strong> (void)</p><p><em>Close the file. </em></p>
<h3>Protected Attributes</h3>
<p>int <strong>fd</strong></p><p><strong>Access</strong> <strong>access</strong></p><p>char * <strong>pathname</strong></p><p>struct {</p>
<pre>
   unsigned <strong>count</strong>: 16
</pre>

<pre>
   bool <strong>thrown</strong>: 1
</pre>

<pre>
   bool <strong>initial</strong>: 1
</pre>

<pre>
   bool <strong>immediate</strong>: 1
</pre>

<pre>
   bool <strong>temp</strong>: 1
</pre>
<p>} <strong>flags</strong></p>
<h3>Related Functions</h3>
<p>(Note that these are not member functions.) bool <strong>__EXPORT</strong> <strong>isDir</strong> (const char *path)</p><p>bool <strong>__EXPORT</strong> <strong>isFile</strong> (const char *path)</p><p>bool <strong>__EXPORT</strong> <strong>isDevice</strong> (const char *path)</p><p>bool <strong>__EXPORT</strong> <strong>canAccess</strong> (const char *path)</p><p>bool <strong>__EXPORT</strong> <strong>canModify</strong> (const char *path)</p><p>time_t <strong>__EXPORT</strong> <strong>lastModified</strong> (const char *path)</p><p>time_t <strong>__EXPORT</strong> <strong>lastAccessed</strong> (const char *path)</p>
<h3>Additional Inherited Members</h3>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>The purpose of this class is to define a base class for low level random file access that is portable between Win32 and Posix systems.</p><p>This class is a foundation both for optimized thread shared and traditional locked file access that is commonly used to build database services, rather than the standard C++ streaming file classes.</p><p><strong>Author:</strong></p><p>David Sugar dyfet@ostel.com Portable random disk file access.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Constructor & Destructor Documentation</h2>
        <div class="sectioncontent">
<h3>ost::RandomFile::RandomFile (const char *name = \fCNULL\fP)\fC [protected]\fP</h3>
<p>Create an unopened random access file.</p>
<h3>ost::RandomFile::RandomFile (const \fBRandomFile\fP &rf)\fC [protected]\fP</h3>
<p>Default copy constructor.</p>
<h3>virtual ost::RandomFile::~RandomFile ()\fC [virtual]\fP</h3>
<p>Destroy a random access file or it's derived class.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Function Documentation</h2>
        <div class="sectioncontent">
<h3>\fBError\fP ost::RandomFile::error (\fBError\fPerrid, char *errstr = \fCNULL\fP)\fC [protected]\fP</h3>
<p>Post an error event.</p><p><strong>Returns:</strong></p><p>error code.</p><p><strong>Parameters:</strong></p><p><em>errid</em> error code.</p><p><em>errstr</em> error message string.</p>
<h3>\fBError\fP ost::RandomFile::error (char *err)\fC [inline]\fP, \fC [protected]\fP</h3>
<p>Post an extended string error message.</p><p><strong>Returns:</strong></p><p>errExtended.</p><p><strong>Parameters:</strong></p><p><em>err</em> error string.</p><p>References ost::error().</p>
<h3>void ost::RandomFile::final (void)\fC [protected]\fP</h3>
<p>Close the file.</p>
<h3>off_t ost::RandomFile::getCapacity (void)</h3>
<p>Get current file capacity.</p><p><strong>Returns:</strong></p><p>total file size.</p>
<h3>\fBError\fP ost::RandomFile::getErrorNumber (void)\fC [inline]\fP</h3>
<p>Return current error id.</p><p><strong>Returns:</strong></p><p>last error identifier set.</p>
<h3>char* ost::RandomFile::getErrorString (void)\fC [inline]\fP</h3>
<p>Return current error string.</p><p><strong>Returns:</strong></p><p>last error string set.</p>
<h3>bool ost::RandomFile::initial (void)</h3>
<p>This method should be called right after a <strong>RandomFile</strong> derived object has been created. This method will invoke initialize if the object is newly created, and set file access permissions appropriately.</p><p><strong>Returns:</strong></p><p>true if file had to be initialized.</p>
<h3>virtual \fBAttr\fP ost::RandomFile::initialize (void)\fC [protected]\fP, \fC [virtual]\fP</h3>
<p>This method is used to initialize a newly created file as indicated by the 'initial' flag. This method also returns the file access permissions that should be associated with the file. This method should never be called directly, but is instead used to impliment the 'Initial' method. Typically one would use this to build an empty database shell when a previously empty database file is created.</p><p><strong>Returns:</strong></p><p>access, or attrInvalid if should be removed.</p>
<h3>bool ost::RandomFile::operator! (void)</h3>

<h3>virtual \fBError\fP ost::RandomFile::restart (void)\fC [virtual]\fP</h3>
<p>This method is commonly used to close and re-open an existing database. This may be used when the database has been unlinked and an external process provides a new one to use.</p><p>Reimplemented in <strong>ost::SharedFile</strong>, and <strong>ost::ThreadFile</strong>.</p>
<h3>\fBError\fP ost::RandomFile::setCompletion (\fBComplete\fPmode)\fC [protected]\fP</h3>
<p>Used to set file completion modes.</p><p><strong>Returns:</strong></p><p>errSuccess if okay.</p><p><strong>Parameters:</strong></p><p><em>mode</em> completion mode.</p>
<h3>void ost::RandomFile::setError (boolenable)\fC [inline]\fP, \fC [protected]\fP</h3>
<p>Used to enable or disable throwing of exceptions on errors.</p><p><strong>Parameters:</strong></p><p><em>enable</em> true if errors will be thrown.</p>
<h3>void ost::RandomFile::setTemporary (boolenable)\fC [inline]\fP, \fC [protected]\fP</h3>
<p>Used to set the temporary attribute for the file. Temporary files are automatically deleted when closed.</p><p><strong>Parameters:</strong></p><p><em>enable</em> true for marking as temporary.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Friends And Related Function Documentation</h2>
        <div class="sectioncontent">
<h3>bool \fB__EXPORT\fP canAccess (const char *path)\fC [related]\fP</h3>

<h3>bool \fB__EXPORT\fP canModify (const char *path)\fC [related]\fP</h3>

<h3>bool \fB__EXPORT\fP isDevice (const char *path)\fC [related]\fP</h3>

<h3>bool \fB__EXPORT\fP isDir (const char *path)\fC [related]\fP</h3>

<h3>bool \fB__EXPORT\fP isFile (const char *path)\fC [related]\fP</h3>

<h3>time_t \fB__EXPORT\fP lastAccessed (const char *path)\fC [related]\fP</h3>

<h3>time_t \fB__EXPORT\fP lastModified (const char *path)\fC [related]\fP</h3>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Member Data Documentation</h2>
        <div class="sectioncontent">
<h3>\fBAccess\fP ost::RandomFile::access\fC [protected]\fP</h3>

<h3>unsigned ost::RandomFile::count</h3>

<h3>int ost::RandomFile::fd\fC [protected]\fP</h3>

<h3>struct { ... }   ost::RandomFile::flags\fC [protected]\fP</h3>

<h3>bool ost::RandomFile::immediate</h3>

<h3>bool ost::RandomFile::initial</h3>

<h3>char* ost::RandomFile::pathname\fC [protected]\fP</h3>

<h3>bool ost::RandomFile::temp</h3>

<h3>bool ost::RandomFile::thrown</h3>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for GNU CommonC++ from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ost_Process.3.html"><span aria-hidden="true">&larr;</span> ost_Process.3: A class for containing portable process related functions that help create portable code.</a></li>
   <li class="next"><a href="ost_ReadLock.3.html">ost_ReadLock.3: The readlock class is used to protect a section of code through a threadlock for 'read' access to the member function. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
