<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mdb.c: Lightning memory-mapped database library.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lightning memory-mapped database library.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mdb.c (3) manual">
  <meta name="twitter:description" content="Lightning memory-mapped database library.">
  <meta name="twitter:image" content="https://www.carta.tech/images/lmdb-doc-mdb.c-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/mdb.c.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mdb.c (3) manual" />
  <meta property="og:description" content="Lightning memory-mapped database library." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lmdb-doc-mdb.c-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mdb.c<small> (3)</small></h1>
        <p class="lead">Lightning memory-mapped database library.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mdb.c.3.html">
      <span itemprop="name">mdb.c: Lightning memory-mapped database library.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lmdb-doc/">
      <span itemprop="name">lmdb-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/mdb.c.3.html">
      <span itemprop="name">mdb.c: Lightning memory-mapped database library.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>#include &lt;sys/types.h&gt;</p><p>#include &lt;sys/stat.h&gt;</p><p>#include &lt;sys/param.h&gt;</p><p>#include &lt;sys/uio.h&gt;</p><p>#include &lt;sys/mman.h&gt;</p><p>#include &lt;fcntl.h&gt;</p><p>#include &lt;errno.h&gt;</p><p>#include &lt;limits.h&gt;</p><p>#include &lt;stddef.h&gt;</p><p>#include &lt;inttypes.h&gt;</p><p>#include &lt;stdio.h&gt;</p><p>#include &lt;stdlib.h&gt;</p><p>#include &lt;string.h&gt;</p><p>#include &lt;time.h&gt;</p><p>#include &lt;unistd.h&gt;</p><p>#include &lt;netinet/in.h&gt;</p><p>#include &lt;resolv.h&gt;</p><p>#include &lt;pthread.h&gt;</p><p>#include 'lmdb.h'</p><p>#include 'midl.h'</p><h3>Data Structures</h3>
<p>struct <strong>MDB_rxbody</strong></p><p>struct <strong>MDB_reader</strong></p><p>struct <strong>MDB_txbody</strong></p><p>struct <strong>MDB_txninfo</strong></p><p>struct <strong>MDB_page</strong></p><p>struct <strong>MDB_node</strong></p><p>struct <strong>MDB_db</strong></p><p>struct <strong>MDB_meta</strong></p><p>union <strong>MDB_metabuf</strong></p><p>struct <strong>MDB_dbx</strong></p><p>struct <strong>MDB_txn</strong></p><p><em>Opaque structure for a transaction handle. </em> struct <strong>MDB_cursor</strong></p><p><em>Opaque structure for navigating through a database. </em> struct <strong>MDB_xcursor</strong></p><p>struct <strong>MDB_pgstate</strong></p><p>struct <strong>MDB_env</strong></p><p><em>Opaque structure for a database environment. </em> struct <strong>MDB_ntxn</strong></p><p>struct <strong>mdb_copy</strong></p>
<h3>Macros</h3>
<p>#define <strong>_GNU_SOURCE</strong>   1</p><p>#define <strong>MDB_PID_T</strong>   pid_t</p><p>#define <strong>MDB_THR_T</strong>   pthread_t</p><p>#define <strong>CACHEFLUSH</strong>(addr, bytes, cache)</p><p>#define <strong>VGMEMP_CREATE</strong>(h, r, z)</p><p>#define <strong>VGMEMP_ALLOC</strong>(h, a, s)</p><p>#define <strong>VGMEMP_FREE</strong>(h, a)</p><p>#define <strong>VGMEMP_DESTROY</strong>(h)</p><p>#define <strong>VGMEMP_DEFINED</strong>(a, s)</p><p>#define <strong>BYTE_ORDER</strong>   __BYTE_ORDER</p><p>#define <strong>LITTLE_ENDIAN</strong>   __LITTLE_ENDIAN</p><p>#define <strong>BIG_ENDIAN</strong>   __BIG_ENDIAN</p><p>#define <strong>ESECT</strong>   __attribute__ ((section('text_env')))</p><p>#define <strong>MDB_DEVEL</strong>   0</p><p>#define <strong>mdb_func_</strong>   '&lt;mdb_unknown&gt;'</p><p>#define <strong>THREAD_RET</strong>   void *</p><p>#define <strong>THREAD_CREATE</strong>(thr, start, arg)   pthread_create(&thr,NULL,start,arg)</p><p>#define <strong>THREAD_FINISH</strong>(thr)   pthread_join(thr,NULL)</p><p>#define <strong>Z</strong>   'z'</p><p>#define <strong>MDB_PIDLOCK</strong>   1</p><p>#define <strong>LOCK_MUTEX_R</strong>(env)   pthread_mutex_lock(&(env)-&gt;me_txns-&gt;mti_mutex)</p><p>#define <strong>UNLOCK_MUTEX_R</strong>(env)   pthread_mutex_unlock(&(env)-&gt;me_txns-&gt;mti_mutex)</p><p>#define <strong>LOCK_MUTEX_W</strong>(env)   pthread_mutex_lock(&(env)-&gt;me_txns-&gt;mti_wmutex)</p><p>#define <strong>UNLOCK_MUTEX_W</strong>(env)   pthread_mutex_unlock(&(env)-&gt;me_txns-&gt;mti_wmutex)</p><p>#define <strong>ErrCode</strong>()   errno</p><p>#define <strong>HANDLE</strong>   int</p><p>#define <strong>INVALID_HANDLE_VALUE</strong>   (-1)</p><p>#define <strong>GET_PAGESIZE</strong>(x)   ((x) = sysconf(_SC_PAGE_SIZE))</p><p>#define <strong>MNAME_LEN</strong>   (sizeof(pthread_mutex_t))</p><p>#define <strong>MDB_DSYNC</strong>   O_DSYNC</p><p>#define <strong>MDB_FDATASYNC</strong>   fdatasync</p><p>#define <strong>MDB_MSYNC</strong>(addr, len, flags)   msync(addr,len,flags)</p><p>#define <strong>MS_SYNC</strong>   1</p><p>#define <strong>MS_ASYNC</strong>   0</p><p>#define <strong>MDB_DEBUG</strong>   0</p><p>#define <strong>DPRINTF</strong>(args)   ((void) 0)</p><p>#define <strong>DPUTS</strong>(arg)   DPRINTF(('%s', arg))</p><p>#define <strong>DDBI</strong>(mc)   (((mc)-&gt;mc_flags & <strong>C_SUB</strong>) ? -(int)(mc)-&gt;mc_dbi : (int)(mc)-&gt;mc_dbi)</p><p>#define <strong>MAX_PAGESIZE</strong>   (<strong>PAGEBASE</strong> ? 0x10000 : 0x8000)</p><p><em>The maximum size of a database page. </em> #define <strong>MDB_MINKEYS</strong>   2</p><p>#define <strong>MDB_MAGIC</strong>   0xBEEFC0DE</p><p>#define <strong>MDB_DATA_VERSION</strong>   ((<strong>MDB_DEVEL</strong>) ? 999 : 1)</p><p>#define <strong>MDB_LOCK_VERSION</strong>   1</p><p>#define <strong>MDB_MAXKEYSIZE</strong>   ((<strong>MDB_DEVEL</strong>) ? 0 : 511)</p><p><em>The max size of a key we can write, or 0 for dynamic max. </em> #define <strong>ENV_MAXKEY</strong>(env)   (<strong>MDB_MAXKEYSIZE</strong>)</p><p>#define <strong>MAXDATASIZE</strong>   0xffffffffUL</p><p><em>The maximum size of a data item. </em> #define <strong>DKBUF</strong></p><p>#define <strong>DKEY</strong>(x)   0</p><p>#define <strong>P_INVALID</strong>   (~(<strong>pgno_t</strong>)0)</p><p>#define <strong>F_ISSET</strong>(w, f)   (((w) & (f)) == (f))</p><p>#define <strong>EVEN</strong>(n)   (((n) + 1U) & -2) /* sign-extending -2 to match n+1U */</p><p>#define <strong>DEFAULT_MAPSIZE</strong>   1048576</p><p>#define <strong>DEFAULT_READERS</strong>   126</p><p>#define <strong>CACHELINE</strong>   64</p><p>#define <strong>mr_txnid</strong>   mru.mrx.mrb_txnid</p><p>#define <strong>mr_pid</strong>   mru.mrx.mrb_pid</p><p>#define <strong>mr_tid</strong>   mru.mrx.mrb_tid</p><p>#define <strong>mti_magic</strong>   mt1.mtb.mtb_magic</p><p>#define <strong>mti_format</strong>   mt1.mtb.mtb_format</p><p>#define <strong>mti_mutex</strong>   mt1.mtb.mtb_mutex</p><p>#define <strong>mti_rmname</strong>   mt1.mtb.mtb_rmname</p><p>#define <strong>mti_txnid</strong>   mt1.mtb.mtb_txnid</p><p>#define <strong>mti_numreaders</strong>   mt1.mtb.mtb_numreaders</p><p>#define <strong>mti_wmutex</strong>   mt2.mt2_wmutex</p><p>#define <strong>MDB_LOCK_FORMAT</strong></p><p>#define <strong>mp_pgno</strong>   mp_p.p_pgno</p><p>#define <strong>mp_next</strong>   mp_p.p_next</p><p>#define <strong>P_BRANCH</strong>   0x01</p><p>#define <strong>P_LEAF</strong>   0x02</p><p>#define <strong>P_OVERFLOW</strong>   0x04</p><p>#define <strong>P_META</strong>   0x08</p><p>#define <strong>P_DIRTY</strong>   0x10</p><p>#define <strong>P_LEAF2</strong>   0x20</p><p>#define <strong>P_SUBP</strong>   0x40</p><p>#define <strong>P_LOOSE</strong>   0x4000</p><p>#define <strong>P_KEEP</strong>   0x8000</p><p>#define <strong>mp_lower</strong>   mp_pb.pb.pb_lower</p><p>#define <strong>mp_upper</strong>   mp_pb.pb.pb_upper</p><p>#define <strong>mp_pages</strong>   mp_pb.pb_pages</p><p>#define <strong>PAGEHDRSZ</strong>   ((unsigned) offsetof(<strong>MDB_page</strong>, mp_ptrs))</p><p>#define <strong>METADATA</strong>(p)   ((void *)((char *)(p) + <strong>PAGEHDRSZ</strong>))</p><p>#define <strong>PAGEBASE</strong>   ((<strong>MDB_DEVEL</strong>) ? <strong>PAGEHDRSZ</strong> : 0)</p><p>#define <strong>NUMKEYS</strong>(p)   (((p)-&gt;mp_lower - (<strong>PAGEHDRSZ</strong>-<strong>PAGEBASE</strong>)) &gt;&gt; 1)</p><p>#define <strong>SIZELEFT</strong>(p)   (<strong>indx_t</strong>)((p)-&gt;mp_upper - (p)-&gt;mp_lower)</p><p>#define <strong>PAGEFILL</strong>(env, p)</p><p>#define <strong>FILL_THRESHOLD</strong>   250</p><p>#define <strong>IS_LEAF</strong>(p)   <strong>F_ISSET</strong>((p)-&gt;mp_flags, <strong>P_LEAF</strong>)</p><p>#define <strong>IS_LEAF2</strong>(p)   <strong>F_ISSET</strong>((p)-&gt;mp_flags, <strong>P_LEAF2</strong>)</p><p>#define <strong>IS_BRANCH</strong>(p)   <strong>F_ISSET</strong>((p)-&gt;mp_flags, <strong>P_BRANCH</strong>)</p><p>#define <strong>IS_OVERFLOW</strong>(p)   <strong>F_ISSET</strong>((p)-&gt;mp_flags, <strong>P_OVERFLOW</strong>)</p><p>#define <strong>IS_SUBP</strong>(p)   <strong>F_ISSET</strong>((p)-&gt;mp_flags, <strong>P_SUBP</strong>)</p><p>#define <strong>OVPAGES</strong>(size, psize)   ((<strong>PAGEHDRSZ</strong>-1 + (size)) / (psize) + 1)</p><p>#define <strong>NEXT_LOOSE_PAGE</strong>(p)   (*(<strong>MDB_page</strong> **)((p) + 2))</p><p>#define <strong>F_BIGDATA</strong>   0x01</p><p>#define <strong>F_SUBDATA</strong>   0x02</p><p>#define <strong>F_DUPDATA</strong>   0x04</p><p>#define <strong>NODE_ADD_FLAGS</strong>   (<strong>F_DUPDATA</strong>|<strong>F_SUBDATA</strong>|<strong>MDB_RESERVE</strong>|<strong>MDB_APPEND</strong>)</p><p>#define <strong>NODESIZE</strong>   offsetof(<strong>MDB_node</strong>, mn_data)</p><p>#define <strong>PGNO_TOPWORD</strong>   ((<strong>pgno_t</strong>)-1 &gt; 0xffffffffu ? 32 : 0)</p><p>#define <strong>INDXSIZE</strong>(k)   (<strong>NODESIZE</strong> + ((k) == NULL ? 0 : (k)-&gt;mv_size))</p><p>#define <strong>LEAFSIZE</strong>(k, d)   (<strong>NODESIZE</strong> + (k)-&gt;mv_size + (d)-&gt;mv_size)</p><p>#define <strong>NODEPTR</strong>(p, i)   ((<strong>MDB_node</strong> *)((char *)(p) + (p)-&gt;mp_ptrs[i] + <strong>PAGEBASE</strong>))</p><p>#define <strong>NODEKEY</strong>(node)   (void *)((node)-&gt;mn_data)</p><p>#define <strong>NODEDATA</strong>(node)   (void *)((char *)(node)-&gt;mn_data + (node)-&gt;mn_ksize)</p><p>#define <strong>NODEPGNO</strong>(node)</p><p>#define <strong>SETPGNO</strong>(node, pgno)</p><p>#define <strong>NODEDSZ</strong>(node)   ((node)-&gt;mn_lo | ((unsigned)(node)-&gt;mn_hi &lt;&lt; 16))</p><p>#define <strong>SETDSZ</strong>(node, size)</p><p>#define <strong>NODEKSZ</strong>(node)   ((node)-&gt;mn_ksize)</p><p>#define <strong>COPY_PGNO</strong>(dst, src)</p><p>#define <strong>LEAF2KEY</strong>(p, i, ks)   ((char *)(p) + <strong>PAGEHDRSZ</strong> + ((i)*(ks)))</p><p>#define <strong>MDB_GET_KEY</strong>(node, keyptr)</p><p>#define <strong>MDB_GET_KEY2</strong>(node, key)   { key.mv_size = <strong>NODEKSZ</strong>(node); key.mv_data = <strong>NODEKEY</strong>(node); }</p><p>#define <strong>MDB_VALID</strong>   0x8000</p><p>#define <strong>PERSISTENT_FLAGS</strong>   (0xffff & ~(MDB_VALID))</p><p>#define <strong>VALID_FLAGS</strong></p><p>#define <strong>FREE_DBI</strong>   0</p><p>#define <strong>MAIN_DBI</strong>   1</p><p>#define <strong>mm_psize</strong>   mm_dbs[0].md_pad</p><p>#define <strong>mm_flags</strong>   mm_dbs[0].md_flags</p><p>#define <strong>DB_DIRTY</strong>   0x01</p><p>#define <strong>DB_STALE</strong>   0x02</p><p>#define <strong>DB_NEW</strong>   0x04</p><p>#define <strong>DB_VALID</strong>   0x08</p><p>#define <strong>MDB_TXN_RDONLY</strong>   0x01</p><p>#define <strong>MDB_TXN_ERROR</strong>   0x02</p><p>#define <strong>MDB_TXN_DIRTY</strong>   0x04</p><p>#define <strong>MDB_TXN_SPILLS</strong>   0x08</p><p>#define <strong>CURSOR_STACK</strong>   32</p><p>#define <strong>C_INITIALIZED</strong>   0x01</p><p>#define <strong>C_EOF</strong>   0x02</p><p>#define <strong>C_SUB</strong>   0x04</p><p>#define <strong>C_DEL</strong>   0x08</p><p>#define <strong>C_SPLITTING</strong>   0x20</p><p>#define <strong>C_UNTRACK</strong>   0x40</p><p>#define <strong>MDB_FATAL_ERROR</strong>   0x80000000U</p><p>#define <strong>MDB_ENV_ACTIVE</strong>   0x20000000U</p><p>#define <strong>MDB_ENV_TXKEY</strong>   0x10000000U</p><p>#define <strong>me_pglast</strong>   me_pgstate.mf_pglast</p><p>#define <strong>me_pghead</strong>   me_pgstate.mf_pghead</p><p>#define <strong>MDB_COMMIT_PAGES</strong>   64</p><p>#define <strong>MAX_WRITE</strong>   (0x80000000U &gt;&gt; (sizeof(ssize_t) == 4))</p><p>#define <strong>TXN_DBI_EXIST</strong>(txn, dbi)   ((txn) && (dbi) &lt; (txn)-&gt;mt_numdbs && ((txn)-&gt;mt_dbflags[dbi] & <strong>DB_VALID</strong>))</p><p>#define <strong>TXN_DBI_CHANGED</strong>(txn, dbi)   ((txn)-&gt;mt_dbiseqs[dbi] != (txn)-&gt;mt_env-&gt;me_dbiseqs[dbi])</p><p>#define <strong>MDB_PS_MODIFY</strong>   1</p><p>#define <strong>MDB_PS_ROOTONLY</strong>   2</p><p>#define <strong>MDB_PS_FIRST</strong>   4</p><p>#define <strong>MDB_PS_LAST</strong>   8</p><p>#define <strong>MDB_SPLIT_REPLACE</strong>   <strong>MDB_APPENDDUP</strong></p><p>#define <strong>mdb_env_close0</strong>(env, excl)   mdb_env_close1(env)</p><p>#define <strong>mdb_cassert</strong>(mc, expr)   mdb_assert0((mc)-&gt;mc_txn-&gt;mt_env, expr, #expr)</p><p>#define <strong>mdb_tassert</strong>(mc, expr)   mdb_assert0((txn)-&gt;mt_env, expr, #expr)</p><p>#define <strong>mdb_eassert</strong>(env, expr)   mdb_assert0(env, expr, #expr)</p><p>#define <strong>mdb_assert0</strong>(env, expr, expr_txt)</p><p>#define <strong>mdb_txn_reset0</strong>(txn, act)   mdb_txn_reset0(txn)</p><p>#define <strong>DO_PWRITE</strong>(rc, fd, ptr, size, len, pos)</p><p>#define <strong>MDB_ERRCODE_ROFS</strong>   EROFS</p><p>#define <strong>MDB_CLOEXEC</strong>   0</p><p>#define <strong>LOCKNAME</strong>   '/lock.mdb'</p><p>#define <strong>DATANAME</strong>   '/data.mdb'</p><p>#define <strong>LOCKSUFF</strong>   '-lock'</p><p>#define <strong>CHANGEABLE</strong>   (<strong>MDB_NOSYNC</strong>|<strong>MDB_NOMETASYNC</strong>|<strong>MDB_MAPASYNC</strong>|<strong>MDB_NOMEMINIT</strong>)</p><p>#define <strong>CHANGELESS</strong></p><p>#define <strong>mdb_cmp_clong</strong>   <strong>mdb_cmp_cint</strong></p><p>#define <strong>MDB_NOSPILL</strong>   0x8000</p><p>#define <strong>MDB_WBUF</strong>   (1024*1024)</p><p>#define <strong>DO_WRITE</strong>(rc, fd, ptr, w2, len)   len = write(fd, ptr, w2); rc = (len &gt;= 0)</p><p>#define <strong>DO_WRITE</strong>(rc, fd, ptr, w2, len)   len = write(fd, ptr, w2); rc = (len &gt;= 0)</p>
<h3>Typedefs</h3>
<p>typedef <strong>MDB_ID</strong> <strong>pgno_t</strong></p><p>typedef <strong>MDB_ID</strong> <strong>txnid_t</strong></p><p>typedef uint16_t <strong>indx_t</strong></p>
<h3>Enumerations</h3>
<p>enum <strong>Pidlock_op</strong> { <strong>Pidset</strong> = F_SETLK, <strong>Pidcheck</strong> = F_GETLK }</p>
<h3>Functions</h3>
<p>static int <strong>mdb_page_alloc</strong> (<strong>MDB_cursor</strong> *mc, int num, <strong>MDB_page</strong> **mp)</p><p>static int <strong>mdb_page_new</strong> (<strong>MDB_cursor</strong> *mc, uint32_t flags, int num, <strong>MDB_page</strong> **mp)</p><p>static int <strong>mdb_page_touch</strong> (<strong>MDB_cursor</strong> *mc)</p><p>static int <strong>mdb_page_get</strong> (<strong>MDB_txn</strong> *txn, <strong>pgno_t</strong> pgno, <strong>MDB_page</strong> **mp, int *lvl)</p><p>static int <strong>mdb_page_search_root</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, int modify)</p><p>static int <strong>mdb_page_search</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, int flags)</p><p>static int <strong>mdb_page_merge</strong> (<strong>MDB_cursor</strong> *csrc, <strong>MDB_cursor</strong> *cdst)</p><p>static int <strong>mdb_page_split</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *newkey, <strong>MDB_val</strong> *newdata, <strong>pgno_t</strong> newpgno, unsigned int nflags)</p><p>static int <strong>mdb_env_read_header</strong> (<strong>MDB_env</strong> *env, <strong>MDB_meta</strong> *meta)</p><p>static int <strong>mdb_env_pick_meta</strong> (const <strong>MDB_env</strong> *env)</p><p>static int <strong>mdb_env_write_meta</strong> (<strong>MDB_txn</strong> *txn)</p><p>static void <strong>mdb_env_close0</strong> (<strong>MDB_env</strong> *env, int excl)</p><p>static <strong>MDB_node</strong> * <strong>mdb_node_search</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, int *exactp)</p><p>static int <strong>mdb_node_add</strong> (<strong>MDB_cursor</strong> *mc, <strong>indx_t</strong> indx, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, <strong>pgno_t</strong> pgno, unsigned int flags)</p><p>static void <strong>mdb_node_del</strong> (<strong>MDB_cursor</strong> *mc, int ksize)</p><p>static void <strong>mdb_node_shrink</strong> (<strong>MDB_page</strong> *mp, <strong>indx_t</strong> indx)</p><p>static int <strong>mdb_node_move</strong> (<strong>MDB_cursor</strong> *csrc, <strong>MDB_cursor</strong> *cdst)</p><p>static int <strong>mdb_node_read</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_node</strong> *leaf, <strong>MDB_val</strong> *data)</p><p>static size_t <strong>mdb_leaf_size</strong> (<strong>MDB_env</strong> *env, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data)</p><p>static size_t <strong>mdb_branch_size</strong> (<strong>MDB_env</strong> *env, <strong>MDB_val</strong> *key)</p><p>static int <strong>mdb_rebalance</strong> (<strong>MDB_cursor</strong> *mc)</p><p>static int <strong>mdb_update_key</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key)</p><p>static void <strong>mdb_cursor_pop</strong> (<strong>MDB_cursor</strong> *mc)</p><p>static int <strong>mdb_cursor_push</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_page</strong> *mp)</p><p>static int <strong>mdb_cursor_del0</strong> (<strong>MDB_cursor</strong> *mc)</p><p>static int <strong>mdb_del0</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, unsigned flags)</p><p>static int <strong>mdb_cursor_sibling</strong> (<strong>MDB_cursor</strong> *mc, int move_right)</p><p>static int <strong>mdb_cursor_next</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, <strong>MDB_cursor_op</strong> op)</p><p>static int <strong>mdb_cursor_prev</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, <strong>MDB_cursor_op</strong> op)</p><p>static int <strong>mdb_cursor_set</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, <strong>MDB_cursor_op</strong> op, int *exactp)</p><p>static int <strong>mdb_cursor_first</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data)</p><p>static int <strong>mdb_cursor_last</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data)</p><p>static void <strong>mdb_cursor_init</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_xcursor</strong> *mx)</p><p>static void <strong>mdb_xcursor_init0</strong> (<strong>MDB_cursor</strong> *mc)</p><p>static void <strong>mdb_xcursor_init1</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_node</strong> *node)</p><p>static int <strong>mdb_drop0</strong> (<strong>MDB_cursor</strong> *mc, int subs)</p><p>static void <strong>mdb_default_cmp</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi)</p><p>char * <strong>mdb_version</strong> (int *major, int *minor, int *patch)</p><p><em>Return the LMDB library version information. </em> char * <strong>mdb_strerror</strong> (int err)</p><p><em>Return a string describing a given error code. </em> static void <strong>mdb_assert_fail</strong> (<strong>MDB_env</strong> *env, const char *expr_txt, const char *func, const char *file, int line)</p><p>int <strong>mdb_cmp</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, const <strong>MDB_val</strong> *a, const <strong>MDB_val</strong> *b)</p><p><em>Compare two data items according to a particular database. </em> int <strong>mdb_dcmp</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, const <strong>MDB_val</strong> *a, const <strong>MDB_val</strong> *b)</p><p><em>Compare two data items according to a particular database. </em> static <strong>MDB_page</strong> * <strong>mdb_page_malloc</strong> (<strong>MDB_txn</strong> *txn, unsigned num)</p><p>static void <strong>mdb_page_free</strong> (<strong>MDB_env</strong> *env, <strong>MDB_page</strong> *mp)</p><p>static void <strong>mdb_dpage_free</strong> (<strong>MDB_env</strong> *env, <strong>MDB_page</strong> *dp)</p><p>static void <strong>mdb_dlist_free</strong> (<strong>MDB_txn</strong> *txn)</p><p>static int <strong>mdb_page_loose</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_page</strong> *mp)</p><p>static int <strong>mdb_pages_xkeep</strong> (<strong>MDB_cursor</strong> *mc, unsigned pflags, int all)</p><p>static int <strong>mdb_page_flush</strong> (<strong>MDB_txn</strong> *txn, int keep)</p><p>static int <strong>mdb_page_spill</strong> (<strong>MDB_cursor</strong> *m0, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data)</p><p>static <strong>txnid_t</strong> <strong>mdb_find_oldest</strong> (<strong>MDB_txn</strong> *txn)</p><p>static void <strong>mdb_page_dirty</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_page</strong> *mp)</p><p>static void <strong>mdb_page_copy</strong> (<strong>MDB_page</strong> *dst, <strong>MDB_page</strong> *src, unsigned int psize)</p><p>static int <strong>mdb_page_unspill</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_page</strong> *mp, <strong>MDB_page</strong> **ret)</p><p>int <strong>mdb_env_sync</strong> (<strong>MDB_env</strong> *env, int force)</p><p><em>Flush the data buffers to disk. </em> static int <strong>mdb_cursor_shadow</strong> (<strong>MDB_txn</strong> *src, <strong>MDB_txn</strong> *dst)</p><p>static void <strong>mdb_cursors_close</strong> (<strong>MDB_txn</strong> *txn, unsigned merge)</p><p>static void <strong>mdb_txn_reset0</strong> (<strong>MDB_txn</strong> *txn, const char *act)</p><p>static int <strong>mdb_reader_pid</strong> (<strong>MDB_env</strong> *env, enum Pidlock_op op, MDB_PID_T pid)</p><p>static int <strong>mdb_txn_renew0</strong> (<strong>MDB_txn</strong> *txn)</p><p>int <strong>mdb_txn_renew</strong> (<strong>MDB_txn</strong> *txn)</p><p><em>Renew a read-only transaction. </em> int <strong>mdb_txn_begin</strong> (<strong>MDB_env</strong> *env, <strong>MDB_txn</strong> *parent, unsigned int flags, <strong>MDB_txn</strong> **ret)</p><p><em>Create a transaction for use with the environment. </em> <strong>MDB_env</strong> * <strong>mdb_txn_env</strong> (<strong>MDB_txn</strong> *txn)</p><p><em>Returns the transaction's </em><strong>MDB_env</strong><em>. </em><strong></strong> static void <strong>mdb_dbis_update</strong> (<strong>MDB_txn</strong> *txn, int keep)</p><p>void <strong>mdb_txn_reset</strong> (<strong>MDB_txn</strong> *txn)</p><p><em>Reset a read-only transaction. </em> void <strong>mdb_txn_abort</strong> (<strong>MDB_txn</strong> *txn)</p><p><em>Abandon all the operations of the transaction instead of saving them. </em> static int <strong>mdb_freelist_save</strong> (<strong>MDB_txn</strong> *txn)</p><p>int <strong>mdb_txn_commit</strong> (<strong>MDB_txn</strong> *txn)</p><p><em>Commit all the operations of a transaction into the database. </em> static void <strong>ESECT</strong> <strong>mdb_env_init_meta0</strong> (<strong>MDB_env</strong> *env, <strong>MDB_meta</strong> *meta)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_init_meta</strong> (<strong>MDB_env</strong> *env, <strong>MDB_meta</strong> *meta)</p><p>int <strong>ESECT</strong> <strong>mdb_env_create</strong> (<strong>MDB_env</strong> **env)</p><p><em>Create an LMDB environment handle. </em> static int <strong>ESECT</strong> <strong>mdb_env_map</strong> (<strong>MDB_env</strong> *env, void *addr)</p><p>int <strong>ESECT</strong> <strong>mdb_env_set_mapsize</strong> (<strong>MDB_env</strong> *env, size_t size)</p><p><em>Set the size of the memory map to use for this environment. </em> int <strong>ESECT</strong> <strong>mdb_env_set_maxdbs</strong> (<strong>MDB_env</strong> *env, <strong>MDB_dbi</strong> dbs)</p><p><em>Set the maximum number of named databases for the environment. </em> int <strong>ESECT</strong> <strong>mdb_env_set_maxreaders</strong> (<strong>MDB_env</strong> *env, unsigned int readers)</p><p><em>Set the maximum number of threads/reader slots for the environment. </em> int <strong>ESECT</strong> <strong>mdb_env_get_maxreaders</strong> (<strong>MDB_env</strong> *env, unsigned int *readers)</p><p><em>Get the maximum number of threads/reader slots for the environment. </em> static int <strong>ESECT</strong> <strong>mdb_env_open2</strong> (<strong>MDB_env</strong> *env)</p><p>static void <strong>mdb_env_reader_dest</strong> (void *ptr)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_share_locks</strong> (<strong>MDB_env</strong> *env, int *excl)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_excl_lock</strong> (<strong>MDB_env</strong> *env, int *excl)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_setup_locks</strong> (<strong>MDB_env</strong> *env, char *lpath, int mode, int *excl)</p><p>int <strong>ESECT</strong> <strong>mdb_env_open</strong> (<strong>MDB_env</strong> *env, const char *path, unsigned int flags, <strong>mdb_mode_t</strong> mode)</p><p><em>Open an environment handle. </em> void <strong>ESECT</strong> <strong>mdb_env_close</strong> (<strong>MDB_env</strong> *env)</p><p><em>Close the environment and release the memory map. </em> static int <strong>mdb_cmp_long</strong> (const <strong>MDB_val</strong> *a, const <strong>MDB_val</strong> *b)</p><p>static int <strong>mdb_cmp_int</strong> (const <strong>MDB_val</strong> *a, const <strong>MDB_val</strong> *b)</p><p>static int <strong>mdb_cmp_cint</strong> (const <strong>MDB_val</strong> *a, const <strong>MDB_val</strong> *b)</p><p>static int <strong>mdb_cmp_memn</strong> (const <strong>MDB_val</strong> *a, const <strong>MDB_val</strong> *b)</p><p>static int <strong>mdb_cmp_memnr</strong> (const <strong>MDB_val</strong> *a, const <strong>MDB_val</strong> *b)</p><p>static int <strong>mdb_page_search_lowest</strong> (<strong>MDB_cursor</strong> *mc)</p><p>static int <strong>mdb_ovpage_free</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_page</strong> *mp)</p><p>int <strong>mdb_get</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data)</p><p><em>Get items from a database. </em> int <strong>mdb_cursor_get</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, <strong>MDB_cursor_op</strong> op)</p><p><em>Retrieve by cursor. </em> static int <strong>mdb_cursor_touch</strong> (<strong>MDB_cursor</strong> *mc)</p><p>int <strong>mdb_cursor_put</strong> (<strong>MDB_cursor</strong> *mc, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, unsigned int flags)</p><p><em>Store by cursor. </em> int <strong>mdb_cursor_del</strong> (<strong>MDB_cursor</strong> *mc, unsigned int flags)</p><p><em>Delete current key/data pair. </em> int <strong>mdb_cursor_open</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_cursor</strong> **ret)</p><p><em>Create a cursor handle. </em> int <strong>mdb_cursor_renew</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_cursor</strong> *mc)</p><p><em>Renew a cursor handle. </em> int <strong>mdb_cursor_count</strong> (<strong>MDB_cursor</strong> *mc, size_t *countp)</p><p><em>Return count of duplicates for current key. </em> void <strong>mdb_cursor_close</strong> (<strong>MDB_cursor</strong> *mc)</p><p><em>Close a cursor handle. </em> <strong>MDB_txn</strong> * <strong>mdb_cursor_txn</strong> (<strong>MDB_cursor</strong> *mc)</p><p><em>Return the cursor's transaction handle. </em> <strong>MDB_dbi</strong> <strong>mdb_cursor_dbi</strong> (<strong>MDB_cursor</strong> *mc)</p><p><em>Return the cursor's database handle. </em> static void <strong>mdb_cursor_copy</strong> (const <strong>MDB_cursor</strong> *csrc, <strong>MDB_cursor</strong> *cdst)</p><p>int <strong>mdb_del</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data)</p><p><em>Delete items from a database. </em> int <strong>mdb_put</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_val</strong> *key, <strong>MDB_val</strong> *data, unsigned int flags)</p><p><em>Store items into a database. </em> static THREAD_RET <strong>ESECT</strong> <strong>mdb_env_copythr</strong> (void *arg)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_cthr_toggle</strong> (<strong>mdb_copy</strong> *my, int st)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_cwalk</strong> (<strong>mdb_copy</strong> *my, <strong>pgno_t</strong> *pg, int flags)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_copyfd1</strong> (<strong>MDB_env</strong> *env, <strong>HANDLE</strong> fd)</p><p>static int <strong>ESECT</strong> <strong>mdb_env_copyfd0</strong> (<strong>MDB_env</strong> *env, <strong>HANDLE</strong> fd)</p><p>int <strong>ESECT</strong> <strong>mdb_env_copyfd2</strong> (<strong>MDB_env</strong> *env, <strong>HANDLE</strong> fd, unsigned int flags)</p><p>int <strong>ESECT</strong> <strong>mdb_env_copyfd</strong> (<strong>MDB_env</strong> *env, <strong>HANDLE</strong> fd)</p><p>int <strong>ESECT</strong> <strong>mdb_env_copy2</strong> (<strong>MDB_env</strong> *env, const char *path, unsigned int flags)</p><p><em>Copy an LMDB environment to the specified path, with options. </em> int <strong>ESECT</strong> <strong>mdb_env_copy</strong> (<strong>MDB_env</strong> *env, const char *path)</p><p><em>Copy an LMDB environment to the specified path. </em> int <strong>ESECT</strong> <strong>mdb_env_set_flags</strong> (<strong>MDB_env</strong> *env, unsigned int flag, int onoff)</p><p><em>Set environment flags. </em> int <strong>ESECT</strong> <strong>mdb_env_get_flags</strong> (<strong>MDB_env</strong> *env, unsigned int *arg)</p><p><em>Get environment flags. </em> int <strong>ESECT</strong> <strong>mdb_env_set_userctx</strong> (<strong>MDB_env</strong> *env, void *ctx)</p><p><em>Set application information associated with the </em><strong>MDB_env</strong><em>. </em><strong></strong> void *<strong>ESECT</strong> <strong>mdb_env_get_userctx</strong> (<strong>MDB_env</strong> *env)</p><p><em>Get the application information associated with the </em><strong>MDB_env</strong><em>. </em><strong></strong> int <strong>ESECT</strong> <strong>mdb_env_set_assert</strong> (<strong>MDB_env</strong> *env, <strong>MDB_assert_func</strong> *func)</p><p>int <strong>ESECT</strong> <strong>mdb_env_get_path</strong> (<strong>MDB_env</strong> *env, const char **arg)</p><p><em>Return the path that was used in </em><strong>mdb_env_open()</strong><em>. </em><strong></strong> int <strong>ESECT</strong> <strong>mdb_env_get_fd</strong> (<strong>MDB_env</strong> *env, <strong>mdb_filehandle_t</strong> *arg)</p><p><em>Return the filedescriptor for the given environment. </em> static int <strong>ESECT</strong> <strong>mdb_stat0</strong> (<strong>MDB_env</strong> *env, <strong>MDB_db</strong> *db, <strong>MDB_stat</strong> *arg)</p><p>int <strong>ESECT</strong> <strong>mdb_env_stat</strong> (<strong>MDB_env</strong> *env, <strong>MDB_stat</strong> *arg)</p><p><em>Return statistics about the LMDB environment. </em> int <strong>ESECT</strong> <strong>mdb_env_info</strong> (<strong>MDB_env</strong> *env, <strong>MDB_envinfo</strong> *arg)</p><p><em>Return information about the LMDB environment. </em> int <strong>mdb_dbi_open</strong> (<strong>MDB_txn</strong> *txn, const char *name, unsigned int flags, <strong>MDB_dbi</strong> *dbi)</p><p><em>Open a database in the environment. </em> int <strong>mdb_stat</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_stat</strong> *arg)</p><p><em>Retrieve statistics for a database. </em> void <strong>mdb_dbi_close</strong> (<strong>MDB_env</strong> *env, <strong>MDB_dbi</strong> dbi)</p><p><em>Close a database handle. Normally unnecessary. Use with care: </em> int <strong>mdb_dbi_flags</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, unsigned int *flags)</p><p><em>Retrieve the DB flags for a database handle. </em> int <strong>mdb_drop</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, int del)</p><p><em>Empty or delete+close a database. </em> int <strong>mdb_set_compare</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_cmp_func</strong> *cmp)</p><p><em>Set a custom key comparison function for a database. </em> int <strong>mdb_set_dupsort</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_cmp_func</strong> *cmp)</p><p><em>Set a custom data comparison function for a </em><strong>MDB_DUPSORT</strong><em> database. </em><strong></strong> int <strong>mdb_set_relfunc</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, <strong>MDB_rel_func</strong> *rel)</p><p><em>Set a relocation function for a </em><strong>MDB_FIXEDMAP</strong><em> database. </em><strong></strong> int <strong>mdb_set_relctx</strong> (<strong>MDB_txn</strong> *txn, <strong>MDB_dbi</strong> dbi, void *ctx)</p><p><em>Set a context pointer for a </em><strong>MDB_FIXEDMAP</strong><em> database's relocation function. </em><strong></strong> int <strong>ESECT</strong> <strong>mdb_env_get_maxkeysize</strong> (<strong>MDB_env</strong> *env)</p><p><em>Get the maximum size of keys and </em><strong>MDB_DUPSORT</strong><em> data we can write. </em><strong></strong> int <strong>ESECT</strong> <strong>mdb_reader_list</strong> (<strong>MDB_env</strong> *env, <strong>MDB_msg_func</strong> *func, void *ctx)</p><p><em>Dump the entries in the reader lock table. </em> static int <strong>ESECT</strong> <strong>mdb_pid_insert</strong> (MDB_PID_T *ids, MDB_PID_T pid)</p><p>int <strong>ESECT</strong> <strong>mdb_reader_check</strong> (<strong>MDB_env</strong> *env, int *dead)</p><p><em>Check for stale entries in the reader lock table. </em></p>
<h3>Variables</h3>
<p>static char *const <strong>mdb_errstr</strong> []</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>Lightning memory-mapped database library.</p><p>A Btree-based database management library modeled loosely on the BerkeleyDB API, but much simplified.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Macro Definition Documentation</h2>
        <div class="sectioncontent">
<h3>#define ESECT   __attribute__ ((section('text_env')))</h3>
<p>Put infrequently used env functions in separate section</p>
<h3>#define mr_txnid   mru.mrx.mrb_txnid</h3>
<p>shorthand for mrb_txnid</p>
<h3>#define mm_psize   mm_dbs[0].md_pad</h3>
<p>The size of pages used in this DB</p>
<h3>#define mm_flags   mm_dbs[0].md_flags</h3>
<p>Any persistent environment flags. <strong>Environment Flags</strong></p>
<h3>#define MDB_FATAL_ERROR   0x80000000U</h3>
<p>Failed to update the meta page. Probably an I/O error.</p>
<h3>#define MDB_ENV_ACTIVE   0x20000000U</h3>
<p>Some fields are initialized.</p>
<h3>#define MDB_ENV_TXKEY   0x10000000U</h3>
<p>me_txkey is set</p>
<h3>#define DO_PWRITE(rc, fd, ptr, size, len, pos)</h3>
<p><strong>Value:</strong></p>
<pre>
do {      len = pwrite(fd, ptr, size, pos);        rc = (len &gt;= 0); } <strong>while</strong>(0)
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for LMDB from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mdb.3.html"><span aria-hidden="true">&larr;</span> mdb.3: Openldap lightning memory-mapped database manager.</a></li>
   <li class="next"><a href="mdb_Version.3.html">mdb_Version.3: Version macros - <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
