<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XpCreateContext: Creates and initializes a new print context.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Creates and initializes a new print context.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XpCreateContext (3Xp) manual">
  <meta name="twitter:description" content="Creates and initializes a new print context.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libxp-dev-XpCreateContext-3Xp.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3Xp/XpCreateContext.3Xp.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XpCreateContext (3Xp) manual" />
  <meta property="og:description" content="Creates and initializes a new print context." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libxp-dev-XpCreateContext-3Xp.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XpCreateContext<small> (3Xp)</small></h1>
        <p class="lead">Creates and initializes a new print context.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3Xp/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3Xp/XpCreateContext.3Xp.html">
      <span itemprop="name">XpCreateContext: Creates and initializes a new print context.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libxp-dev/">
      <span itemprop="name">libxp-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3Xp/XpCreateContext.3Xp.html">
      <span itemprop="name">XpCreateContext: Creates and initializes a new print context.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
      cc [ flag... ] file... -lXp [ library... ]
</pre>

<pre>
      #include &lt;X11/extensions/Print.h&gt;
</pre>
<p><strong>XPContext XpCreateContext</strong> ( <em>display,</em> <em>printer_name</em> )</p>
<pre>
      Display *<em>display</em>\^;
</pre>

<pre>
      char *<em>printer_name</em>\^;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>display</em></p>
  </dt>
  <dd>
    <p>Specifies a pointer to the Display structure; returned from XOpenDisplay.</p>
  </dd>
  <dt>
    <p><em>printer_name</em></p>
  </dt>
  <dd>
    <p>The name of a printer on display. String encoded as COMPOUND_TEXT.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>XpCreateContext creates a new print context that is initialized with the default printer attributes and other information available for <em>printer_name</em> on display. A print context maintains the printer name, print attributes, font capabilities, print (rendering) state and results, and is the object upon which the Xp calls act.</p><p>If the library fails to generate a new print context-id, a value of None is returned, otherwise a print context-id is always returned. If <em>printer_name</em> is invalid, a BadMatch is generated later by the <em>X Print Server.</em></p><p>A call to XpGetPrinterList will return a valid list of values for <em>printer_name.</em> All printer name values in the X Print Service are encoded as COMPOUND_TEXT (of which the ISO-8859-1 code-set is a proper subset).</p><p>As soon as a print context is created, the print attributes in it can be accessed and modified by calling XpGetAttributes and XpSetAttributes, and the event selections in it can be modified by calling XpSelectInput and XpInputSelected. Other Xp calls that explicitly take a print context-id as a parameter will operate directly on that print context. All Xp and X calls without a print context-id parameter (for example, all rendering oriented calls like XpStartJob and XDrawLine) require that a print context be set on the display connection (see XpSetContext). Failure to set a print context prior to calling a print-context-dependent call will result in the generation of an XPBadContext error.</p><p>The XPContext returned by XpCreateContext is an XID, and can be used to set the print context on display connections by calling XpSetContext. The XPContext id can be shared between processes and display connections. It is the responsibility of the clients sharing a print context to coordinate their usage of the context; for example they must ensure that in-use print contexts are not prematurely destroyed.</p><p>The context_id remains valid for all clients until 1) the client creating the print context closes its display connection, or 2) any client calls XpDestroyContext. The context_id can be kept valid after the creating client's display connection closes if XSetCloseDownMode is called on display with RetainPermanent or RetainTemporary.</p><p>After creating a print context, and possibly modifying the XPDocAttr attribute document-format using a value from the list of available formats shown in the XPPrinterAttr attribute document-formats-supported, the application must query the <em>X Print Server</em> via XpGetScreenOfContext for the screen that has been associated with the print context, and then create all server resources that will be used in the print job on that screen. Failure to do so will result in undefined behavior.</p><p>When XpCreateContext is called, the <em>client's</em> locale (see XpSetLocaleHinter) is included in the request as a "hint" to the <em>X Print Server.</em> If supported by the implementation, the <em>X Print Server</em> will use the hint to initialize the attribute pools with any localized attribute values (for example, the human readable XPPrinterAttr attribute "descriptor" may be available in several different languages, and the hint will be used to select one). If the <em>X Print Server</em> cannot understand the hint, the <em>X Print Server</em> chooses a default value.</p><p>This function can generate a BadMatch error if the specified <em>printer_name</em> does not exist on display, or if the print server could not interpret the code set specified in <em>printer_name.</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><small>BadMatch</small></p>
  </dt>
  <dd>
    <p>The value specified for doc_fmt is not valid for the current document type or the value specified for drawable is not valid for the print context and print screen.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XpCreateContext&hellip;</h2>
        <div class="sectioncontent">
<p><strong>XpDestroyContext</strong>(3Xp), <strong>XpGetAttributes</strong>(3Xp), <strong>XpGetPrinterList</strong>(3Xp), <strong>XpGetScreenOfContext</strong>(3Xp), <strong>XpInputSelected</strong>(3Xp), <strong>XpSelectInput</strong>(3Xp), <strong>XpSetAttributes</strong>(3Xp), <strong>XpSetContext</strong>(3Xp), <strong>XpSetLocaleHinter</strong>(3Xp), <strong>XpStartJob</strong>(3Xp)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XpCancelPage.3Xp.html"><span aria-hidden="true">&larr;</span> XpCancelPage.3Xp: Cancels a print page.</a></li>
   <li class="next"><a href="XpDestroyContext.3Xp.html">XpDestroyContext.3Xp: Gets the current print context-id for a display connection. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
