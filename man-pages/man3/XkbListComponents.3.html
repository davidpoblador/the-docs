<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XkbListComponents: List of components for one or more component types</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="List of components for one or more component types">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XkbListComponents (3) manual">
  <meta name="twitter:description" content="List of components for one or more component types">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-doc-XkbListComponents-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/XkbListComponents.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XkbListComponents (3) manual" />
  <meta property="og:description" content="List of components for one or more component types" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-doc-XkbListComponents-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XkbListComponents<small> (3)</small></h1>
        <p class="lead">List of components for one or more component types</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbListComponents.3.html">
      <span itemprop="name">XkbListComponents: List of components for one or more component types</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-doc/">
      <span itemprop="name">libx11-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/XkbListComponents.3.html">
      <span itemprop="name">XkbListComponents: List of components for one or more component types</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>XkbComponentListPtr XkbListComponents</strong> <strong>(\^Display *</strong><em>dpy</em><strong>\^,</strong> <strong>unsigned int </strong><em>device_spec</em><strong>\^,</strong> <strong>XkbComponentNamesPtr </strong><em>ptrns</em><strong>\^,</strong> <strong>int *</strong><em>max_inout</em><strong>\^);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>- dpy</em></p>
  </dt>
  <dd>
    <p>connection to X server</p>
  </dd>
  <dt>
    <p><em>- device_spec</em></p>
  </dt>
  <dd>
    <p>device ID, or XkbUseCoreKbd</p>
  </dd>
  <dt>
    <p><em>- ptrns</em></p>
  </dt>
  <dd>
    <p>namelist for components of interest</p>
  </dd>
  <dt>
    <p><em>- max_inout</em></p>
  </dt>
  <dd>
    <p>max # returned names, # left over</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>You may ask the server for a list of components for one or more component types. The request takes the form of a set of patterns, one pattern for each of the component types, including a pattern for the complete keyboard description. To obtain this list, use <em>XkbListComponents.</em></p><p><em>XkbListComponents</em> queries the server for a list of component names matching the patterns specified in <em>ptrns.</em> It waits for a reply and returns the matching component names in an XkbComponentListRec structure. When you are done using the structure, you should free it using <em>XkbFreeComponentList. device_spec</em> indicates a particular device in which the caller is interested. A server is allowed (but not required) to restrict its reply to portions of the database that are relevant for that particular device.</p><p><em>ptrns</em> is a pointer to an XkbComponentNamesRec. Each of the fields in <em>ptrns</em> contains a pattern naming the components of interest. Each of the patterns is composed of characters from the ISO Latin1 encoding, but can contain only parentheses, the wildcard characters `?' and `*', and characters permitted in a component class or member name. A pattern may be NULL, in which case no components for that type is returned. Pattern matches with component names are case sensitive. The `?' wildcard matches any single character, except a left or right parenthesis; the `*' wildcard matches any number of characters, except a left or right parenthesis. If an implementation allows additional characters in a component class or member name other than those required by the Xkb extension, the result of comparing one of the additional characters to either of the wildcard characters is implementation-dependent.</p><p>If a pattern contains illegal characters, the illegal characters are ignored. The matching process is carried out as if the illegal characters were omitted from the pattern.</p><p><em>max_inout</em> is used to throttle the amount of data passed to and from the server. On input, it specifies the maximum number of names to be returned (the total number of names in all component categories). Upon return from <em>XkbListComponents,</em> max_inout contains the number of names that matched the request but were not returned because of the limit.</p><p><strong>Component Names</strong></p><p>Component names have the form <em>class(member)</em> where <em>class</em> describes a subset of the available components for a particular type and the optional <em>member</em> identifies a specific component from that subset. For example, the name "atlantis(acme)" for a symbols component might specify the symbols used for the atlantis national keyboard layout by the vendor "acme." Each class has an optional <em>default</em> member - references that specify a class but not a member refer to the default member of the class, if one exists. Xkb places no constraints on the interpretation of the class and member names used in component names.</p><p>The <em>class</em> and <em>member</em> names are both specified using characters from the Latin-1 character set. Xkb implementations must accept all alphanumeric characters, minus (`-') and underscore (`_') in class or member names, and must not accept parentheses, plus, vertical bar, percent sign, asterisk, question mark, or white space. The use of other characters is implementation-dependent.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STRUCTURES</h2>
        <div class="sectioncontent">
<p>The component name patterns used to describe the request are passed to <em>XkbListComponents</em> using an XkbComponentNamesRec structure. This structure has no special allocation constraints or interrelationships with other structures; allocate and free this structure using standard <em>malloc</em> and <em>free</em> calls or their equivalent:</p>
<pre>
    typedef struct _XkbComponentNames {
        char *         keymap;           /\(** keymap names */
        char *         keycodes;         /\(** keycode names */
        char *         types;            /\(** type names */
        char *         compat;           /\(** compatibility map names */
        char *         symbols;          /\(** symbol names */
        char *         geometry;         /\(** geometry names */
    } XkbComponentNamesRec, *XkbComponentNamesPtr;

</pre>
<p><em>XkbListComponents</em> returns a pointer to an XkbComponentListRec:</p>
<pre>
    typedef struct _XkbComponentList {
        int                      num_keymaps;  /\(** number of entries in keymap */
        int                      num_keycodes; /\(** number of entries in keycodes */
        int                      num_types;    /\(** number of entries in types */
        int                      num_compat;   /\(** number of entries in compat */
        int                      num_symbols;  /\(** number of entries in symbols */
        int                      num_geometry; /\(** number of entries in geometry;
        XkbComponentNamePtr      keymap;       /\(** keymap names */
        XkbComponentNamePtr      keycodes;     /\(** keycode names */
        XkbComponentNamePtr      types;        /\(** type names */
        XkbComponentNamePtr      compat;       /\(** compatibility map names */
        XkbComponentNamePtr      symbols;      /\(** symbol names */
        XkbComponentNamePtr      geometry;     /\(** geometry names */
    } XkbComponentListRec, *XkbComponentListPtr;

    typedef struct _XkbComponentName {
        unsigned short           flags;        /\(** hints regarding component name */
        char *                   name;         /\(** name of component */
    } XkbComponentNameRec, *XkbComponentNamePtr;

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XkbListComponents&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/XkbFreeComponentList.3.html"><strong>XkbFreeComponentList</strong>(3)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Note that the structure used to specify patterns on input is an XkbComponentNamesRec, and that used to hold the individual component names upon return is an XkbComponentNameRec (no trailing `s' in Name).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="XkbLibraryVersion.3.html"><span aria-hidden="true">&larr;</span> XkbLibraryVersion.3: Determines the compatibility of a library at runtime.</a></li>
   <li class="next"><a href="XkbLockGroup.3.html">XkbLockGroup.3: Locks the keysym group <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
