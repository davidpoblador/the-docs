<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>POE::API::Peek: Peek into the internals of a running poe environment</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Peek into the internals of a running poe environment">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="POE::API::Peek (3pm) manual">
  <meta name="twitter:description" content="Peek into the internals of a running poe environment">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpoe-api-peek-perl-POE::API::Peek-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/POE::API::Peek.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="POE::API::Peek (3pm) manual" />
  <meta property="og:description" content="Peek into the internals of a running poe environment" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpoe-api-peek-perl-POE::API::Peek-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">POE::API::Peek<small> (3pm)</small></h1>
        <p class="lead">Peek into the internals of a running poe environment</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/POE::API::Peek.3pm.html">
      <span itemprop="name">POE::API::Peek: Peek into the internals of a running poe environment</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpoe-api-peek-perl/">
      <span itemprop="name">libpoe-api-peek-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/POE::API::Peek.3pm.html">
      <span itemprop="name">POE::API::Peek: Peek into the internals of a running poe environment</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>version 2.20</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>POE::API::Peek extends the POE::Kernel interface to provide clean access to Kernel internals in a cross-version compatible manner. Other calculated data is also available.</p><p>My intention is to provide massive amounts of internal data for use in \s-1POE\s0 debugging.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNING</h2>
        <div class="sectioncontent">
<p><strong>This version of this module is certified against \s-1POE\s0 version 1.300 and</strong> above. It will fail on any other \s-1POE\s0 version.</p><p><strong>Further, this module requires perl v5.6.1 or above.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">METHODS</h2>
        <div class="sectioncontent">
<h3>new</h3>

<pre>
  my $api = POE::API::Peek-&gt;new();
</pre>
<p>Returns a blessed reference. Takes no parameters.</p>
<h3>id</h3>
<p>  my $foo = $api-&gt;id();</p><p>Obtain the unique id for the kernel. Takes no parameters. Returns a scalar containing a string.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KERNEL UTILITIES</h2>
        <div class="sectioncontent">
<h3>is_kernel_running</h3>
<p>  if($api-&gt;is_kernel_running) {       # do stuff...   }</p><p>Tell if the \s-1POE\s0 Kernel is running and active. Returns 1 if the Kernel is running and 0 if it is not.</p>
<h3>active_event</h3>
<p>  my $event = $api-&gt;active_event();</p><p>Get the active event name. Returns a string containing the event name.</p>
<h3>kernel_memory_size</h3>
<p>  my $size = $api-&gt;kernel_memory_size();</p><p>Get the memory footprint of the kernel and consequently the entire \s-1POE\s0 environment. See the Devel::Size documentation for several caveats involved in this metric.</p>
<h3>event_list</h3>
<p>  my $events = $api-&gt;event_list();</p><p>Gets the list of events for the whole \s-1POE\s0 environment. Returns a hash with the session IDs as the keys and a list of events as the values.</p>
<h3>which_loop</h3>
<p>  my $loop_name = $api-&gt;which_loop();</p><p>Tell which Loop \s-1POE\s0 has decided to use. Returns the string name of the Loop module.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SESSION UTILITIES</h2>
        <div class="sectioncontent">
<h3>current_session</h3>
<p>  my $foo = $api-&gt;current_session();</p><p>Get the POE::Session object for the currently active session. Takes no parameters. Returns a scalar containing a reference.</p>
<h3>get_session_children</h3>
<p>    my @children = $api-&gt;get_session_children($session_id);     my @children = $api-&gt;get_session_children();</p><p>Get the children (if any) for a given session. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not provided, the method defaults to the currently active session. Returns a list of POE::Session objects.</p>
<h3>is_session_child</h3>
<p>  if($api-&gt;is_session_child($parent, $session_id)) { }   if($api-&gt;is_session_child($parent, $session)) { }   if($api-&gt;is_session_child($parent)) { }</p><p>Determine if POE::Session A is a child of POE::Session B. Takes one mandatory parameter, a POE::Session object which is the potential parent session this method will interrogate. Takes one optional parameter, a POE::Session object which is the session whose parentage this method will determine. If this parameter is not specified, it will default to the currently active session. Returns a boolean.</p>
<h3>get_session_parent</h3>
<p>    my $parent = $api-&gt;get_session_parent($session_id);     my $parent = $api-&gt;get_session_parent($session);     my $parent = $api-&gt;get_session_parent();</p><p>Get the parent for a given session. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not provided, the method defaults to the currently active session. Returns a POE::Session object.</p>
<h3>resolve_session_to_ref</h3>
<p>  my $session = $api-&gt;resolve_session_to_ref($session_id);   my $session = $api-&gt;resolve_session_to_ref();</p><p>Obtain a reference to a session given its \s-1ID\s0. Takes one optional parameter, a POE::Session \s-1ID\s0. If this parameter is not specified, it will default to the currently active session. Returns a reference to a POE::Session object on success; undef on failure.</p>
<h3>resolve_session_to_id</h3>
<p>  my $session_id = $api-&gt;resolve_session_to_id($session);   my $session_id = $api-&gt;resolve_session_to_id();</p><p>Obtain the session id for a given POE::Session object. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not specified, it will default to the currently active session. Returns an integer on success and undef on failure.</p>
<h3>get_session_refcount</h3>
<p>  my $count = $api-&gt;get_session_refcount($session_id);   my $count = $api-&gt;get_session_refcount($session);   my $count = $api-&gt;get_session_refcount();</p><p>Obtain the reference count for a given POE::Session. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not specified, it will default to the currently active session. Returns an integer.</p>
<h3>session_count</h3>
<p>  my $count = $api-&gt;session_count();</p><p>Obtain a count of how many sessions exist. Takes no parameters. Returns an integer.</p><p>Note: for various reasons, the Kernel counts as a session.</p>
<h3>session_list</h3>
<p>  my @sessions = $api-&gt;session_list();</p><p>Obtain a list of all the sessions that exist. Takes no parameters. Returns a list populated with POE::Session objects.</p><p>Note: While the Kernel counts as a session, it has been extracted from this list.</p>
<h3>session_memory_size</h3>
<p>  my $size = $api-&gt;session_memory_size();   my $size = $api-&gt;session_memory_size($session);   my $size = $api-&gt;session_memory_size($session_id);</p><p>Get the memory footprint of a session. If no session is provided, the current session is used. See the Devel::Size documentation for several caveats involved in this metric.</p>
<h3>session_event_list</h3>
<p>  my @events = $api-&gt;session_event_list();   my $events = $api-&gt;session_event_list();   my @events = $api-&gt;session_event_list($session);   my $events = $api-&gt;session_event_list($session);   my @events = $api-&gt;session_event_list($session_id);   my $events = $api-&gt;session_event_list($session_id);</p><p>Get the list of events for a session. If no session is provided, the current session is used.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ALIAS UTILITIES</h2>
        <div class="sectioncontent">
<h3>resolve_alias</h3>
<p>  my $session = $api-&gt;resolve_alias($session_alias);</p><p>Resolve a session alias into a POE::Session object. Takes one mandatory parameter, a session alias. Returns a POE::Session object on success or undef on failure.</p>
<h3>session_alias_list</h3>
<p>  my @aliases = $api-&gt;session_alias_list($session_id);   my @aliases = $api-&gt;session_alias_list($session);   my @aliases = $api-&gt;session_alias_list();</p><p>Obtain a list of aliases for a POE::Session object. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not specified, it will default to the currently active session. Returns a list of strings.</p>
<h3>session_alias_count</h3>
<p>  my $count = $api-&gt;session_alias_count($session_id);   my $count = $api-&gt;session_alias_count($session);   my $count = $api-&gt;session_alias_count();</p><p>Obtain the count of how many aliases a session has. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not specified, it will default to the currently active session. Returns an integer.</p>
<h3>session_id_loggable</h3>
<p>    my $str = $api-&gt;session_id_loggable($session_id);     my $str = $api-&gt;session_id_loggable($session);     my $str = $api-&gt;session_id_loggable();</p><p>Obtain a loggable version of a session id. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not specified, it will default to the currently active session. Returns a string.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EVENT UTILITIES</h2>
        <div class="sectioncontent">
<p># event_count_to {{{</p><h3>event_count_to</h3>
<p>  my $count = $api-&gt;event_count_to($session_id);   my $count = $api-&gt;event_count_to($session);   my $count = $api-&gt;event_count_to();</p><p>Get the number of events heading toward a particular session. Takes one parameter, a POE::Session object or \s-1ID\s0. if none is provided, defaults to the current session. Returns an integer.</p>
<h3>event_count_from</h3>
<p>  my $count = $api-&gt;get_session_extref_count($session_id);   my $count = $api-&gt;event_count_from($session);   my $count = $api-&gt;event_count_from();</p><p>Get the number of events heading out from a particular session. Takes one parameter, a POE::Session object or \s-1ID\s0. If none is provided, defaults to the current session. Return an integer.</p>
<h3>event_queue</h3>
<p>  my $foo = $api-&gt;event_queue();</p><p>Access the internal event queue. Takes no parameters. Returns a scalar containing a reference to a POE::Queue::Array object.</p>
<h3>event_queue_dump</h3>
<p>  my @queue = $api-&gt;event_queue_dump();</p><p>Dump the contents of the event queue in a nice understandable fashion.  Takes no parameters. Returns a list of queue items. Each item is a hash containing the following entries:</p><ul>
<li><p>\s-1ID\s0 The id number that \s-1POE\s0's queue identifies this entry as.</p></li><li><p>index The index into the POE::Queue::Array which holds this entry.</p></li><li><p>priority The priority level this entry has.</p></li><li><p>event The name of this event</p></li><li><p>source What caused this event. Usually a POE::Session.</p></li><li><p>destination Where this event is headed. Usually a POE::Session.</p></li><li><p>type The type of event this is. May have the value User, _start, _stop, _signal, _garbage_collect, _parent, _child, _sigchld_poll, Alarm, File Activity, or Unknown.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXTREF UTILITIES</h2>
        <div class="sectioncontent">
<h3>extref_count</h3>
<p>  my $count = $api-&gt;extref_count();</p><p>Obtain a count of sessions with extra references. Takes no parameters. Returns an integer.</p>
<h3>get_session_extref_count</h3>
<p>  my $count = $api-&gt;get_session_extref_count($session_id);   my $count = $api-&gt;get_session_extref_count($session);   my $count = $api-&gt;get_session_extref_count();</p><p>Obtain the number of extra references a session has. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not specified, it will default to the currently active session. Returns an integer.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILEHANDLE UTILITIES</h2>
        <div class="sectioncontent">
<h3>is_handle_tracked</h3>
<p>  if($api-&gt;is_handle_tracked($handle, $mode)) { }</p><p>Determine if \s-1POE\s0 is tracking a handle. Takes two mandatory parameters, a filehandle and a mode indicator. Returns a boolean.</p>
<h3>handle_count</h3>
<p>  my $count = $api-&gt;handle_count();</p><p>Obtain a count of how many handles \s-1POE\s0 is tracking. Takes no parameters. Returns an integer.</p>
<h3>session_handle_count</h3>
<p>  my $count = $api-&gt;session_handle_count($session_id);   my $count = $api-&gt;session_handle_count($session);   my $count = $api-&gt;session_handle_count();</p><p>Obtain a count of the active handles for a given session. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not supplied, it will default to the currently active session.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PID UTILITIES</h2>
        <div class="sectioncontent">
<h3>session_pid_count</h3>
<p>    my $count = $api-&gt;session_pid_count($session_id);     my $count = $api-&gt;session_pid_count($session);     my $count = $api-&gt;session_pid_count();</p><p>Obtain a count of the process IDs being watched by a session. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not supplied, it will default to the currently active session.</p><p>Since 1.350 of \s-1POE\s0 it is no longer possible to query the number of processes a session is watching. This method is deprecated and will be removed in a future version.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNAL UTILITIES</h2>
        <div class="sectioncontent">
<p>\s-1POTENTIAL\s0 \s-1BREAKAGE\s0 \s-1NOTE:\s0 In \s-1POE\s0 v1.293 (in particular: svn rev 2916) changed the structure of signals. Previously, the data portion of a signal was simply the name of the event to be called. Now it contains a data portion, continuation style arguments that may be passed on to the signal handler.</p><p>See the POE::Kernel documentation for more info.</p><h3>get_safe_signals</h3>
<p>  my @safe_signals = $api-&gt;get_safe_signals();</p><p>Obtain a list of signals which it is safe for \s-1POE\s0 to manipulate. Takes no parameters. Returns a list of strings.</p>
<h3>get_signal_type</h3>
<p>  my $type = $api-&gt;get_signal_type($signal_name);</p><p>Figure out which type of signal this is. Signals can be one of three types, \s-1BENIGN\s0, \s-1TERMINAL\s0, \s-1NONMASKABLE\s0. The type value returned here, corresponds to subroutine constants \s-1SIGTYPE_BENIGN\s0, \s-1SIGTYPE_TERMINAL\s0, and \s-1SIGTYPE_NONMASKABLE\s0 in POE::Kernel's namespace. Takes one mandatory parameter, a signal name.</p>
<h3>is_signal_watched</h3>
<p>  if($api-&gt;is_signal_watched($signal_name)) { }</p><p>Determine if a signal is being explicitly watched. Takes one mandatory parameter, a signal name. Returns a boolean.</p>
<h3>signals_watched_by_session</h3>
<p>  my %signals = $api-&gt;signals_watched_by_session($session);   my %signals = $api-&gt;signals_watched_by_session();</p><p>Get the signals watched by a session and the events they generate. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not supplied, it will default to the currently active session. Returns a hash, with a signal name as the key and the event the session generates as the value.</p>
<h3>signal_watchers</h3>
<p>  my %watchers = $api-&gt;signal_watchers($signal_name);</p><p>Get a list of the sessions watching a particular signal. Takes one mandatory parameter, a signal name. Returns a hash, keyed by session reference with an event name as the value.</p>
<h3>is_signal_watched_by_session</h3>
<p>  if($api-&gt;is_signal_watched_by_session($signal_name, $session_id)) { }   if($api-&gt;is_signal_watched_by_session($signal_name, $session)) { }   if($api-&gt;is_signal_watched_by_session($signal_name)) { }</p><p>Determine if a given session is explicitly watching a signal. Takes one mandatory parameter, a signal name. Takes one optional parameter, a POE::Session object or \s-1ID\s0. If this parameter is not provided, it will default to the currently active session. Returns a boolean.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>sungo &lt;sungo@sungo.us&gt; Yuval Kogman &lt;nothingmuch@woobling.org&gt; Chris 'BinGOs' Williams &lt;bingos@cpan.org&gt; Philip Gwyn &lt;gwyn@cpan.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>This software is Copyright (c) 2012 by Matt Cashner (sungo).</p><p>This is free software, licensed under:</p><p>  The (three-clause) BSD License</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="POD2::PT::POD2::Base.3pm.html"><span aria-hidden="true">&larr;</span> POD2::PT::POD2::Base.3pm: None</a></li>
   <li class="next"><a href="POE::Component::Client::Ident.3pm.html">POE::Component::Client::Ident.3pm: A component that provides non-blocking ident lookups to your sessions. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
