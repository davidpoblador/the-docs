<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>wnutil: Utility functions used by the interface code</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Utility functions used by the interface code">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="wnutil (3WN) manual">
  <meta name="twitter:description" content="Utility functions used by the interface code">
  <meta name="twitter:image" content="https://www.carta.tech/images/wordnet-dev-wnutil-3WN.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3WN/wnutil.3WN.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="wnutil (3WN) manual" />
  <meta property="og:description" content="Utility functions used by the interface code" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/wordnet-dev-wnutil-3WN.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">wnutil<small> (3WN)</small></h1>
        <p class="lead">Utility functions used by the interface code</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3WN/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3WN/wnutil.3WN.html">
      <span itemprop="name">wnutil: Utility functions used by the interface code</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/wordnet-dev/">
      <span itemprop="name">wordnet-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3WN/wnutil.3WN.html">
      <span itemprop="name">wnutil: Utility functions used by the interface code</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include "wn.h"</strong></p><p><strong>int wninit(void);</strong></p><p><strong>int re_wninit(void);</strong></p><p><strong>int cntwords(char *str, char separator);</strong></p><p><strong>char *strtolower(char *str);</strong></p><p><strong>char *ToLowerCase(char *str);</strong></p><p><strong>char *strsubst(char *str, char from, char to);</strong></p><p><strong>int getptrtype(char *ptr_symbol);</strong></p><p><strong>int getpos(char *ss_type);</strong></p><p><strong>int getsstype(char *ss_type);</strong></p><p><strong>int StrToPos(char **pos);</strong></p><p><strong>SynsetPtr GetSynsetForSense(char *sense_key);</strong></p><p><strong>long GetDataOffset(char *sense_key);</strong></p><p><strong>int GetPolyCount(char *sense_key);</strong></p><p><strong>char *WNSnsToStr(IndexPtr idx, int sense_num);</strong></p><p><strong>IndexPtr GetValidIndexPointer(char *str, int pos);</strong></p><p><strong>int GetWNSense(char *lemma, *lex_sense);</strong></p><p><strong>SnsIndexPtr GetSenseIndex(char *sense_key);</strong></p><p><strong>int GetTagcnt(IndexPtr idx, int sense);</strong></p><p><strong>int default_display_message(char *msg);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The WordNet library contains many utility functions used by the interface code, other library functions, and various applications and tools.  Only those of importance to the WordNet search code, or which are generally useful are described here.</p><p><strong>wninit(\|)</strong> opens the files necessary for using WordNet with the WordNet library functions.  The database files are opened, and <strong>morphinit(\|)</strong> is called to open the exception list files.  Returns <strong>0</strong> if successful, <strong>-1</strong> otherwise.  The database and exception list files must be open before the WordNet search and morphology functions are used.  If the database is successfully opened, the global variable <strong>OpenDB</strong> is set to <strong>1</strong>.  Note that it is possible for the database files to be opened (<strong>OpenDB == 1</strong>), but not the exception list files.</p><p><strong>re_wninit(\|)</strong> is used to close the database files and reopen them, and is used exclusively for WordNet development. <strong>re_morphinit(\|)</strong> is called to close and reopen the exception list files.  Return codes are as described above.</p><p><strong>cntwords(\|)</strong> counts the number of underscore or space separated words in <em>str</em>. A hyphen is passed in <em>separator</em> if is is to be considered a word delimiter.  Otherwise <em>separator</em> can be any other character, or an underscore if another character is not desired.</p><p><strong>strtolower(\|)</strong> converts <em>str</em> to lower case and removes a trailing adjective marker, if present.  <em>str</em> is actually modified by this function, and a pointer to the modified string is returned.</p><p><strong>ToLowerCase(\|)</strong> converts <em>str</em> to lower case as above, without removing an adjective marker.</p><p><strong>strsubst(\|)</strong> replaces all occurrences of <em>from</em> with <em>to</em> in <em>str</em> and returns resulting string.</p><p><strong>getptrtype(\|)</strong> returns the integer <em>ptr_type</em> corresponding to the pointer character passed in <em>ptr_symbol</em>.  See <strong>wnsearch</strong>(3WN) for a table of pointer symbols and types.</p><p><strong>getpos(\|)</strong> returns the integer constant corresponding to the synset type passed. <em>ss_type</em> may be one of the following: <strong>n, v, a, r, s</strong>.  If <strong>s</strong> is passed, <small>ADJ</small> is returned.  Exits with <strong>-1</strong> if <em>ss_type</em> is invalid.</p><p><strong>getsstype(\|)</strong> works like <strong>getpos(\|)</strong>, but returns <small>SATELLITE</small> if <em>ss_type</em> is <strong>s</strong>.</p><p><strong>StrToPos(\|)</strong> returns the integer constant corresponding to the syntactic category passed in <em>pos</em>.  <em>string</em> must be one of the following: <strong>noun, verb, adj, adv</strong>.  <strong>-1</strong> is returned if <em>pos</em> is invalid.</p><p><strong>GetSynsetForSense(\|)</strong> returns the synset that contains the word sense <em>sense_key</em> and <small>NULL</small> in case of error.</p><p><strong>GetDataOffset(\|)</strong> returns the synset offset for synset that contains the word sense <em>sense_key</em>, and <strong>0</strong> if <em>sense_key</em> is not in sense index file.</p><p><strong>GetPolyCount(\|)</strong> returns the polysemy count (number of senses in WordNet) for <em>lemma</em> encoded in <em>sense_key</em> and <strong>0</strong> if word is not found.</p><p><strong>WNSnsToStr(\|)</strong> returns sense key encoding for <em>sense_num</em> entry in <em>idx</em>.</p><p><strong>GetValidIndexPointer(\|)</strong> returns the Index structure for <em>word</em> in <em>pos</em>.  Calls <strong>morphstr</strong>(3WN) to find a valid base form if <em>word</em> is inflected.</p><p><strong>GetWNSense(\|)</strong> returns the WordNet sense number for the sense key encoding represented by <em>lemma</em> and <em>lex_sense</em>.</p><p><strong>GetSenseIndex(\|)</strong> returns parsed sense index entry for <em>sense_key</em> and <small>NULL</small> if <em>sense_key</em> is not in sense index.</p><p><strong>GetTagcnt(\|)</strong> returns the number of times the sense passed has been tagged according to the <em>cntlist</em> file.</p><p><strong>default_display_message(\|)</strong> simply returns <strong>-1</strong>.  This is the default value for the global variable <strong>display_message</strong>, that points to a function to call to display an error message.  In general, applications (including the WordNet interfaces) define an application specific function and set <strong>display_message</strong> to point to it.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p><strong>include/wn.h</strong> lists all the pointer and search types and their corresponding constant values.  There is no description of what each search type is or the results returned. Using the WordNet interface is the best way to see what types of searches are available, and the data returned for each.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO wnutil&hellip;</h2>
        <div class="sectioncontent">
<p><strong>wnintro</strong>(3WN), <strong>wnsearch</strong>(3WN), <strong>morph</strong>(3WN), <strong>wnintro</strong>(5WN), <strong>wnintro</strong>(7WN).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNINGS</h2>
        <div class="sectioncontent">
<p>Error checking on passed arguments is not rigorous.  Passing <small>NULL</small> pointers or invalid values will often cause an application to die.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="wnsearch.3WN.html"><span aria-hidden="true">&larr;</span> wnsearch.3WN: Functions for searching the wordnet database</a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
