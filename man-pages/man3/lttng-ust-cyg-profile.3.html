<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lttng-ust-cyg-profile: Lttng-ust-cyg-profile  lttng ust 2.x function tracing</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lttng-ust-cyg-profile  lttng ust 2.x function tracing">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lttng-ust-cyg-profile (3) manual">
  <meta name="twitter:description" content="Lttng-ust-cyg-profile  lttng ust 2.x function tracing">
  <meta name="twitter:image" content="https://www.carta.tech/images/liblttng-ust-dev-lttng-ust-cyg-profile-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/lttng-ust-cyg-profile.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lttng-ust-cyg-profile (3) manual" />
  <meta property="og:description" content="Lttng-ust-cyg-profile  lttng ust 2.x function tracing" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/liblttng-ust-dev-lttng-ust-cyg-profile-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lttng-ust-cyg-profile<small> (3)</small></h1>
        <p class="lead">Lttng-ust-cyg-profile  lttng ust 2.x function tracing</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/lttng-ust-cyg-profile.3.html">
      <span itemprop="name">lttng-ust-cyg-profile: Lttng-ust-cyg-profile  lttng ust 2.x function tracing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/liblttng-ust-dev/">
      <span itemprop="name">liblttng-ust-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/lttng-ust-cyg-profile.3.html">
      <span itemprop="name">lttng-ust-cyg-profile: Lttng-ust-cyg-profile  lttng ust 2.x function tracing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>Compile the application source code with option <strong>-finstrument-functions</strong> and launch your application either with:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LD_PRELOAD=liblttng-ust-cyg-profile-fast.so</strong> appname</p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>or (to use verbose function tracing)</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LD_PRELOAD=liblttng-ust-cyg-profile.so</strong> appname</p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>All events emitted for function tracing are provided on loglevel TRACE_DEBUG_FUNCTION. The following command can be used to add function tracing events in your trace session:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>lttng enable-event -u -a --loglevel-only TRACE_DEBUG_FUNCTION</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>For compilers that provide code generation option <strong>-finstrument-functions</strong> (e.g. GCC and LLVM/Clang) LTTng-UST provides shared libraries that allow users to trace the function flow of their applications.</p><p>Function tracing comes in two flavors (each providing different trade-offs):</p>
<dl class='dl-vertical'>
  <dt>
    liblttng-ust-cyg-profile-fast.so
  </dt>
  <dd>
    <p>This is a lightweight variant that should only be used where it can be guaranteed that the complete event stream is recorded without any missing events. Any kind of duplicate information is left out.</p><p>At each function entry the address of the called function is recored as lttng_ust_cyg_profile_fast:func_entry. Function exit is recorded as lttng_ust_cyg_profile_fast:func_exit (without any field data).</p>
  </dd>
  <dt>
    liblttng-ust-cyg-profile.so
  </dt>
  <dd>
    <p>This is a more robust variant which also works for use-cases where events might get discarded or not recorded from application startup. In these cases the trace analyzer needs extra information to be able to reconstruct the program flow.</p><p>For each function entry and exit the address of the called function and the call site address are recorded as lttng_ust_cyg_profile:func_entry and lttng_ust_cyg_profile:func_exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>To use function tracing you need to make sure the sources of your application are compiled with -finstrument-functions. It might be necessary to limit the number of source files where this option is used to prevent excessive amount of trace data to be generated during run time. Usually there are additional compiler flags that allow you to specify more fine grained selection of function instrumentation.</p><p>For each instrumented function the executable will contain calls to profiling function hooks (after function entry and just before function exit).</p><p>By preloading (LD_PRELOAD) one of the provided shared libraries, these profiling hooks get defined to emit LTTng events (as described above).</p><p>Using this feature can result in massive amount trace data to be generated by the instrumented application. Application runtime is also considerably affected. Be careful on systems with limited resources.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lttng-ust-cyg-profile&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/lttng-ust.3.html"><strong>lttng-ust</strong>(3)</a>, <a href="../man1/lttng.1.html"><strong>lttng</strong>(1)</a>, <strong>gcc</strong>(1), <a href="../man8/ld.so.8.html"><strong>ld.so</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>If you encounter any issues or usability problem, please report it on our mailing list &lt;lttng-dev@lists.lttng.org&gt; to help improve this project.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>liblttng-ust is distributed under the GNU Lesser General Public License version 2.1. The headers are distributed under the MIT license.</p><p>See http://lttng.org for more information on the LTTng project.</p><p>Mailing list for support and development: &lt;lttng-dev@lists.lttng.org&gt;.</p><p>You can find us on IRC server irc.oftc.net (OFTC) in #lttng.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>liblttng-ust was originally written by Mathieu Desnoyers, with additional contributions from various other people. It is currently maintained by Mathieu Desnoyers &lt;mathieu.desnoyers@efficios.com&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lttng-ust.3.html"><span aria-hidden="true">&larr;</span> lttng-ust.3: Lttng-ust  linux trace toolkit next generation user-space tracer 2.x</a></li>
   <li class="next"><a href="lttng-ust-dl.3.html">lttng-ust-dl.3: Lttng-ust-dl  lttng ust 2.x dynamic linker tracing <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
