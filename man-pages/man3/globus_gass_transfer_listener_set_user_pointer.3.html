<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>globus_gass_transfer_listener_set_user_pointer: Gass server implementation.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gass server implementation.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="globus_gass_transfer_listener_set_user_pointer (3) manual">
  <meta name="twitter:description" content="Gass server implementation.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libglobus-gass-transfer-doc-globus_gass_transfer_listener_set_user_pointer-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/globus_gass_transfer_listener_set_user_pointer.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="globus_gass_transfer_listener_set_user_pointer (3) manual" />
  <meta property="og:description" content="Gass server implementation." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libglobus-gass-transfer-doc-globus_gass_transfer_listener_set_user_pointer-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">globus_gass_transfer_listener_set_user_pointer<small> (3)</small></h1>
        <p class="lead">Gass server implementation.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_gass_transfer_listener_set_user_pointer.3.html">
      <span itemprop="name">globus_gass_transfer_listener_set_user_pointer: Gass server implementation.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libglobus-gass-transfer-doc/">
      <span itemprop="name">libglobus-gass-transfer-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/globus_gass_transfer_listener_set_user_pointer.3.html">
      <span itemprop="name">globus_gass_transfer_listener_set_user_pointer: Gass server implementation.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Detailed Description</h2>
        <div class="sectioncontent">
<p>GASS Server Implementation.</p><p>Another mode of using the GASS Transfer API is to implement data servers. The primary difference between the client and server parts of the GASS Transfer API are how requests are generated.</p><p>To implement a server, the user would call <strong>globus_gass_transfer_create_listener()</strong> to create a new server port on which a specific protocol will be used to request file transfer operations. The user may obtain the URL that the listener is bound to by calling <strong>globus_gass_transfer_listener_get_base_url()</strong>.</p><p>Once the listener is created, the user can call <strong>globus_gass_transfer_register_listen()</strong> to wait for clients to connect to it. Once the server has detected an attempt to connect by a client, the use can call <strong>globus_gass_transfer_register_accept()</strong> to accept the connection from the client and parse the request.</p><p>In the callback associated with <strong>globus_gass_transfer_register_accept()</strong>, the server can decide how to process the request. The user may choose to authorize the request by calling <strong>globus_gass_transfer_authorize()</strong>, refer it to another URL or URLs by calling <strong>globus_gass_transfer_refer()</strong> or deny the client access to the URL by calling <strong>globus_gass_transfer_deny()</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Typedef Documentation</h2>
        <div class="sectioncontent">
<h3>typedef void(*  globus_gass_transfer_close_callback_t)(void *callback_arg, globus_gass_transfer_listener_t listener)</h3>
<p>Listener close callback</p><p><strong>Parameters:</strong></p><p><em>callback_arg</em></p><p><em>listener</em></p>
<h3>typedef void(*  globus_gass_transfer_listen_callback_t)(void *callback_arg, globus_gass_transfer_listener_t listener)</h3>
<p>Listen callback.</p><p><strong>Parameters:</strong></p><p><em>callback_arg</em></p><p><em>listener</em></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Function Documentation</h2>
        <div class="sectioncontent">
<h3>int globus_gass_transfer_authorize (\fBglobus_gass_transfer_request_t\fPrequest, globus_size_ttotal_length)</h3>
<p>Authorize a request.</p><p>This function causes the request to be authorized for processing. It should be called in response to a request accept callback when the server wants to agree to process this request. After calling this function, the server implementation should call <strong>globus_gass_transfer_send_bytes()</strong> or <strong>globus_gass_transfer_receive_bytes()</strong> to send or receive the data associated with the URL.</p><p><strong>Parameters:</strong></p><p><em>request</em> A new request handle, passed to the server in an accept callback.</p><p><em>total_length</em> For a 'get' request, the total_length of the file to be retrieved if known. This value may be GLOBUS_GASS_LENGTH_UNKNOWN if the protocol supports transferring arbitrarily-sized files.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</em> The request handle was not valid, not created by calling <strong>globus_gass_transfer_register_accept()</strong>, or has already been denied or authorized.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</em> The protocol module does not support authorizing requests.</p><p><strong>See also:</strong></p><p><strong>globus_gass_transfer_refer()</strong>, <strong>globus_gass_transfer_deny()</strong></p>
<h3>int globus_gass_transfer_close_listener (globus_gass_transfer_listener_tlistener, \fBglobus_gass_transfer_close_callback_t\fPcallback, void *user_arg)</h3>
<p>Close a GASS listener.</p><p>This function calls the protocol specific function needed to close a GASS server listener port. Callbacks for any outstanding accepts will be called before the close callback is invoked.</p><p><strong>Parameters:</strong></p><p><em>listener</em> Listener handle created by calling <strong>globus_gass_transfer_create_listener()</strong>.</p><p><em>callback</em> Function to call once the listener handle has been closed.</p><p><em>user_arg</em> Argument to be passed to the <em>callback</em> function.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_SUCCESS</em> The close operation was successfully registered on the listener.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</em> The listener handle was invalid.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NOT_INITIALIZED</em> The listener handle was not properly initialized.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_DONE</em> A close has already been registered on the listener.</p>
<h3>int globus_gass_transfer_create_listener (globus_gass_transfer_listener_t *listener, globus_gass_transfer_listenerattr_t *attr, char *scheme)</h3>
<p>Create a new protocol-specific listener socket for a GASS server.</p><p>This function creates a new socket to listen for client connections as a GASS server. The listener handle pointer is initialized to contain the a new handle which can be used in subsequent server operations.</p><p>After calling this function, a user may call the <strong>globus_gass_transfer_register_listen()</strong> or <strong>globus_gass_transfer_close_listener()</strong> functions with this listener handle.</p><p><strong>Parameters:</strong></p><p><em>listener</em> A new listener handle to initialize.</p><p><em>attr</em> Protocol-specific attributes for the new listener.</p><p><em>scheme</em> The protocol scheme to implement for the listener.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_SUCCESS</em> The listener was successfully created.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NULL_POINTER</em> The <em>listener</em> or <em>scheme</em> parameter was NULL</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</em> The <em>scheme</em> is not supported by any protocol module.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_MALLOC_FAILED</em> Data structures associated with the transfer could not be allocated.</p>
<h3>int globus_gass_transfer_deny (\fBglobus_gass_transfer_request_t\fPrequest, intreason, char *message)</h3>
<p>Deny a request.</p><p>This function causes the request to be denied for further processing. It should be called in response to a request ccept callback when the server wants to refuse processing this request for the client. After calling this function, the server implementation need do nothing further with the request handle.</p><p><strong>Parameters:</strong></p><p><em>request</em> A new request handle, passed to the server in an accept callback.</p><p><em>reason</em> A protocol-specific reason code.</p><p><em>message</em> An informational message to be sent to the client.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</em> The request handle was not valid, not created by calling <strong>globus_gass_transfer_register_accept()</strong>, or has already been denied or authorized.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</em> The protocol module does not support denying requests.</p><p><strong>See also:</strong></p><p><strong>globus_gass_transfer_refer()</strong>, <strong>globus_gass_transfer_authorize()</strong></p>
<h3>char* globus_gass_transfer_listener_get_base_url (globus_gass_transfer_listener_tlistener)</h3>
<p>Get the base URL of a listener.</p><p>This function queries a listener handle for the base URL which the server is listening on. For most protocols, this contains the protocol scheme, host, and port that the listener has registered itself on.</p><p><strong>Parameters:</strong></p><p><em>listener</em> The listener handle to query.</p><p><strong>Returns:</strong></p><p>This function returns a pointer to a string containing the base URL. This string must not be freed or modified by the caller. It may not be referred to after the function globus_gass_transfer_listener_close() has been called.</p>
<h3>void* globus_gass_transfer_listener_get_user_pointer (globus_gass_transfer_listener_tlistener)</h3>
<p>Get the user pointer associated with a listener.</p><p>This function will query the listener's user_pointer field and return it's value.</p><p><strong>Parameters:</strong></p><p><em>listener</em> The listener handle.</p><p><strong>Returns:</strong></p><p>If the listener handle is invalid or the user_pointer's value has not been set, then GLOBUS_NULL will be returned. Otherwise, the value of the user pointer will be returned.</p><p><strong>See also:</strong></p><p><strong>globus_gass_transfer_listener_set_user_pointer()</strong></p>
<h3>int globus_gass_transfer_listener_set_user_pointer (globus_gass_transfer_listener_tlistener, void *user_pointer)</h3>
<p>Set the user pointer associated with a listener.</p><p>This function will set the listener's user_pointer field. The pointer may be used to associate any pointer-sized data with a listener handle.</p><p><strong>Parameters:</strong></p><p><em>listener</em> The listener handle.</p><p><em>user_pointer</em> The value of the user pointer.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_SUCCESS</em> The user pointer was successfully set.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</em> The <em>listener</em> handle was invalid.</p><p><strong>See also:</strong></p><p><strong>globus_gass_transfer_listener_get_user_pointer()</strong></p>
<h3>int globus_gass_transfer_refer (\fBglobus_gass_transfer_request_t\fPrequest, char **urls, globus_size_tnum_urls)</h3>
<p>Refer a request.</p><p>This function causes the request to be referred to another URL or list of URLs. It should be called in response to a request accept callback when the server wants to refer the client to another server or servers to process the request.</p><p><strong>Parameters:</strong></p><p><em>request</em> A new request handle, passed to the server in an accept callback.</p><p><em>urls</em> An array of strings, each being a URL pointing to sources of the same data as the original URL.</p><p><em>num_urls</em> The length of the <em>urls</em> array.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</em> The request handle was not valid, not created by calling <strong>globus_gass_transfer_register_accept()</strong>, or has already been denied or authorized.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NOT_IMPLEMENTED</em> The protocol module does not support referrals.</p><p><strong>See also:</strong></p><p><strong>globus_gass_transfer_deny()</strong>, <strong>globus_gass_transfer_authorize()</strong></p>
<h3>int globus_gass_transfer_register_accept (\fBglobus_gass_transfer_request_t\fP *request, globus_gass_transfer_requestattr_t *attr, globus_gass_transfer_listener_tlistener, globus_gass_transfer_callback_tcallback, void *user_arg)</h3>
<p>Accept new client connections.</p><p>This function causes the listener handle to accept a new connection on the listener and parse the file request. Once the file request has been parsed, the specified <em>callback</em> function will be called. The server implementation must then either authorize, deny, or refer this request.</p><p><strong>Parameters:</strong></p><p><em>request</em> A pointer to a new request handle. This request handle will be initialized when the callback function is invoked.</p><p><em>attr</em> Request attributes.</p><p><em>listener</em> The listener handle to register for the new request.</p><p><em>callback</em> Function to call when the protocol module has parsed the file request.</p><p><em>user_arg</em> Argument to be passed to the callback function.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_SUCCESS</em> The listen callback has been registered with the protocol module.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</em> An invalid <em>listener</em> handle was passed to this function.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NOT_INITIALIZED</em> An uninitialized <em>listener</em> handle was passed to this function.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INTERNAL_ERROR</em> The request could not be initialized due to some internal resource depletion.</p><p><em>GLOBUS_GASS_NOT_REGISTERED.</em> The <strong>globus_gass_transfer_register_listen()</strong> function has not yet been called.</p><p><em>GLOBUS_GASS_ALREADY_REGISTERED.</em> The listener is already processing a new request.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_DONE</em> The listener has been registered for closing.</p><p><strong>See also:</strong></p><p><strong>globus_gass_transfer_register_listen()</strong>;</p>
<h3>int globus_gass_transfer_register_listen (globus_gass_transfer_listener_tlistener, \fBglobus_gass_transfer_listen_callback_t\fPcallback, void *user_arg)</h3>
<p>Listen for new client connections.</p><p>This function causes the listener handle to listen for new client connections. When one is ready, it calls the specified <em>callback</em> function, letting the server implementer continue to accept the connection and process the request.</p><p><strong>Parameters:</strong></p><p><em>listener</em> The listener handle to register for new connections.</p><p><em>callback</em> Function to call when a new connection may be accepted.</p><p><em>user_arg</em> Argument to be passed to the callback function.</p><p><strong>Return values:</strong></p><p><em>GLOBUS_SUCCESS</em> The listen callback has been registered with the protocol module.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_INVALID_USE</em> An invalid <em>listener</em> handle was passed to this function.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_NOT_INITIALIZED</em> An uninitialized <em>listener</em> handle was passed to this function.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_ALREADY_REGISTERED</em> The listener has already been registered for a new connection.</p><p><em>GLOBUS_GASS_TRANSFER_ERROR_DONE</em> The listener has been registered for closing.</p><p><strong>See also:</strong></p><p><strong>globus_gass_transfer_register_accept()</strong>;</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Generated automatically by Doxygen for globus_gass_transfer from the source code.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="globus_gass_transfer_listener_proto_t.3.html"><span aria-hidden="true">&larr;</span> globus_gass_transfer_listener_proto_t.3: Protocol implementation api.</a></li>
   <li class="next"><a href="globus_gass_transfer_listenerattr.3.html">globus_gass_transfer_listenerattr.3: Listener attributes - <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
