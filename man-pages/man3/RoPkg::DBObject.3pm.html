<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>RoPkg::DBObject: </title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="RoPkg::DBObject (3pm) manual">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://www.carta.tech/images/libropkg-perl-RoPkg::DBObject-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/RoPkg::DBObject.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="RoPkg::DBObject (3pm) manual" />
  <meta property="og:description" content="" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libropkg-perl-RoPkg::DBObject-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">RoPkg::DBObject<small> (3pm)</small></h1>
        <p class="lead"></p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/RoPkg::DBObject.3pm.html">
      <span itemprop="name">RoPkg::DBObject: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libropkg-perl/">
      <span itemprop="name">libropkg-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/RoPkg::DBObject.3pm.html">
      <span itemprop="name">RoPkg::DBObject: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>0.1.4</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This class can be used as a base class for objects who holds all their information in a database. The class provides the base methods to add/delete/update/select the object to/from a database.</p><p>RoPkg::DBObject inherits RoPkg::Object .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p> package RoPkg::Person;</p><p> use strict;  use warnings;</p><p> use RoPkg::DBObject;  use RoPkg::Exceptions;</p><p> use vars qw($VERSION @ISA);</p><p> @ISA=qw(RoPkg::DBObject);</p><p> my $methods = {    id =&gt; '-',    Name =&gt; '-',    Addr =&gt; '-',  };</p><p> sub new {    my ($class, %opt) = @_;    my $self;</p><p>   $opt{methods} = $methods;    $self = $class-&gt;SUPER::new(%opt);</p><p>   return $self;  }</p><p> sub AddToDB {    my ($self) = @_;</p><p>   OutsideClass-&gt;throw('Called from outside class')      if ( !$self or ref($self) ne $CLASS);</p><p>   return $self-&gt;SQL_Insert();  }</p><p> 1;</p><p> tester.pl</p><p> use warnings;  use strict;</p><p> use RoPkg::Person;  use RoPkg::DB;</p><p> sub main {    my ($p, $db);</p><p>   $db = new RoPkg::DB();    $db-&gt;add('dsn...', 'user', 'pass', 'dbc');    $p = new RoPkg::Person(dbo =&gt; $db, dbo_method =&gt; 'db_dbc');</p><p>   $p-&gt;id(1);    $p-&gt;Name('John Doe');    $p-&gt;Addr('home');    $p-&gt;AddToDB();  }</p><p> main();</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBROUTINES/METHODS</h2>
        <div class="sectioncontent">
<p><strong>&#92;$1</strong></p><p>Constructor of the class. At this moment <em>new()</em> accepts 3 parameters:</p>
<dl class='dl-vertical'>
  <dt>
    *) dbo
  </dt>
  <dd>
    
  </dd>
  <dt>
    *) dbo_method
  </dt>
  <dd>
    
  </dd>
  <dt>
    *) quote_char
  </dt>
  <dd>
    
  </dd>

</dl>
<p><strong>dbo</strong> and <strong>dbo_method</strong> <strong>must</strong> be given to the constructor. <strong>quote_char</strong> is optional. <em>dbo</em> is the database object (a instance of RoPkg::DB)and <em>dbo_method</em> dbo_method is the name of the method used to have access to the database handle. <strong>quote_char</strong> is the char used internally by \s-1DBI\s0 to quote the table names, field names and so on. Default, the quote_char is empty (no quotation). If you are using PostgreSQL and you have upcase chars in table and fields names use quote_char =&gt; q{"} .</p><p>Exceptions:</p><p>RoPkg::DBObject uses the exceptions provided by RoPkg::Exceptions. <em>new()</em> throws the following exceptions:</p>
<dl class='dl-vertical'>
  <dt>
    *) Param::Mising
  </dt>
  <dd>
    
  </dd>
  <dt>
    *) Param::Wrong
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Param::Missing is raised when <em>dbo</em> or <em>dbo_method</em> parameters have not been specified in the parameters list.</p><p>Param::Wrong is raised when <em>dbo</em> or <em>dbo_method</em> parameters are not defined (or empty). get/set method. If $dbo is present (and defined), the internal $dbo object will be replaced with the new one. If $dbo is not present, the method acts as a get method, and will return the database object. The method will raise OutsideClass exception if is called outside the class instance. get/set method. If $dbo_method is present (and defined), the internal $dbo_method value will be replaced with the one specified by $dbo_method parameter. Otherwise, the get behaviour will be selected, and the method will return the current value of $dbo_method. The method will raise OutsideClass exception if is called outside the class instance. Returns the \s-1DBI\s0 object used by this object.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SQL METHODS</h2>
        <div class="sectioncontent">
<p>The following methods are responsable for all operations involving the database. All methods use SQL::Abstract to generate sql queries to ensure portability of the queries.</p><p>The data that will be added/deleted to the database, is taken from the methods provided by <em>$methods</em> . add the current object to the database. Returns the value of \s-1DBI-\s0&gt;execute. update the data from database. The fields array hold all the field names who will uniquely identify the object in the database (usually the id of the object). update the data from database. The fields array hold all the field names who will uniquely identify the object in the database (usually the id of the object). searches into the database for the object and initialize the current object with the values found.  The fields array hold all the field names who will uniquely identify the object in the database (usually the id of the object). This method is special. It will look only at the first record who meet the requirements (in sql '\s-1LIMIT\s0 1'). Also, if no records are found DB::NoResults exception is raised.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>RoPkg::Object require perl 5.008 or later and the following modules:</p>
<dl class='dl-vertical'>
  <dt>
    SQL::Abstract
  </dt>
  <dd>
    
  </dd>
  <dt>
    RoPkg::Object
  </dt>
  <dd>
    
  </dd>
  <dt>
    RoPkg::Exceptions
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PERL CRITIC</h2>
        <div class="sectioncontent">
<p>The code is perl critic level 2 compliant and almost level 1 compliant</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>This module comes with his own tests. To run the tests unpack the source, and use 'make test' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION AND ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>This module does not use any configuration files or environment variables. The dependencies however can use them. Please read the man page of each dependency to be sure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INCOMPATIBILITIES</h2>
        <div class="sectioncontent">
<p>Do not install this version on the same machine with Simba &lt;= 0.7.1</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND LIMITATIONS</h2>
        <div class="sectioncontent">
<p>None known to the author</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Subredu Manuel &lt;diablo@iasi.roedu.net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2005 Subredu Manuel.  All Rights Reserved. This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. The \s-1LICENSE\s0 file contains the full text of the license.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="RoPkg::DBCollection.3pm.html"><span aria-hidden="true">&larr;</span> RoPkg::DBCollection.3pm: Base class who can be used for collections of database objects</a></li>
   <li class="next"><a href="RoPkg::Exceptions.3pm.html">RoPkg::Exceptions.3pm: Exceptions used by ropkg packages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
