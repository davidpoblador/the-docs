<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MooseX::MarkAsMethods: Mark overload code symbols as methods</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mark overload code symbols as methods">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="MooseX::MarkAsMethods (3pm) manual">
  <meta name="twitter:description" content="Mark overload code symbols as methods">
  <meta name="twitter:image" content="https://www.carta.tech/images/libmoosex-markasmethods-perl-MooseX::MarkAsMethods-3pm.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3pm/MooseX::MarkAsMethods.3pm.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MooseX::MarkAsMethods (3pm) manual" />
  <meta property="og:description" content="Mark overload code symbols as methods" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libmoosex-markasmethods-perl-MooseX::MarkAsMethods-3pm.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">MooseX::MarkAsMethods<small> (3pm)</small></h1>
        <p class="lead">Mark overload code symbols as methods</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MooseX::MarkAsMethods.3pm.html">
      <span itemprop="name">MooseX::MarkAsMethods: Mark overload code symbols as methods</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libmoosex-markasmethods-perl/">
      <span itemprop="name">libmoosex-markasmethods-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3pm/MooseX::MarkAsMethods.3pm.html">
      <span itemprop="name">MooseX::MarkAsMethods: Mark overload code symbols as methods</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This document describes version 0.15 of MooseX::MarkAsMethods - released May 30, 2012 as part of MooseX-MarkAsMethods.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
    package Foo;
    use Moose;

    # mark overloads as methods and wipe other non-methods
    use MooseX::MarkAsMethods autoclean =&gt; 1;

    # define overloads, etc as normal
    use overload &apos;""&apos; =&gt; sub { shift-&gt;stringify };

    package Baz;
    use Moose::Role;
    use MooseX::MarkAsMethods autoclean =&gt; 1;

    # overloads defined in a role will "just work" when the role is
    # composed into a class; they MUST use the anon-sub style invocation
    use overload &apos;""&apos; =&gt; sub { shift-&gt;stringify };

    # additional methods generated outside Class::MOP/Moose can be marked, too
    use constant foo =&gt; &apos;bar&apos;;
    _\|_PACKAGE_\|_-&gt;meta-&gt;mark_as_method(&apos;foo&apos;);

    package Bar;
    use Moose;

    # order is important!
    use namespace::autoclean;
    use MooseX::MarkAsMethods;

    # ...
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>MooseX::MarkAsMethods allows one to easily mark certain functions as Moose methods.  This will allow other packages such as namespace::autoclean to operate without blowing away your overloads.  After using MooseX::MarkAsMethods your overloads will be recognized by Class::MOP as being methods, and class extension as well as composition from roles with overloads will \*(L"just work\*(R".</p><p>By default we check for overloads, and mark those functions as methods.</p><p>If \*(C`autoclean =&gt; 1\*(C' is passed to import on using this module, we will invoke namespace::autoclean to clear out non-methods.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TRAITS APPLIED</h2>
        <div class="sectioncontent">
<p>Using this package causes a trait to be applied to your metaclass (for both roles and classes), that provides a <em>mark_as_method()</em> method.  You can use this to mark newly generated methods at runtime (e.g. during class composition) that some other package has created for you.</p><p><em>mark_as_method()</em> is invoked with one or more names to mark as a method.  We die on any error (e.g. name not in symbol table, already a method, etc).  e.g.</p><p>    _\|_PACKAGE_\|_-&gt;meta-&gt;mark_as_method(&apos;newly_generated&apos;);</p><p>e.g. say you have some sugar from another package that creates accessors of some sort; you could mark them as methods via a method modifier:</p><p>    # called as _\|_PACKAGE_\|_-&gt;foo_generator(&apos;name&apos;, ...)     after &apos;foo_generator&apos; =&gt; sub {</p><p>        shift-&gt;meta-&gt;mark_as_method(shift);     };</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IMPLICATIONS FOR ROLES</h2>
        <div class="sectioncontent">
<p>Using MooseX::MarkAsMethods in a role will cause Moose to track and treat your overloads like any other method defined in the role, and things will \*(L"just work\*(R".  That's it.</p><p>Except...  note that due to the way overloads, roles, and Moose work, you'll need to use the coderef or anonymous subroutine approach to overload declaration, or things will not work as you expect.  Remember, we're talking about _methods_ here, so we need to make it easy for overload to find the right method.  The easiest (and supported) way to do this is to create an anonymous sub to wrap the overload method.</p><p>That is, this will work:</p><p>    # note method resolution, things will "just work"     use overload &apos;""&apos; =&gt; sub { shift-&gt;stringify };</p><p>...and this will not:</p><p>    use overload &apos;""&apos; =&gt; &apos;stringify&apos;;</p><p>...and will result in an error message like:</p><p>    # wah-wah     Can&apos;t resolve method "???" overloading """" in package "overload"</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<h3>Roles</h3>
<p>See the \*(L"\s-1IMPLICATIONS\s0 \s-1FOR\s0 \s-1ROLES\s0\*(R" section, above.</p>
<h3>meta-&gt;\fImark_as_method()\fP</h3>
<p><strong>You almost certainly don't need or want to do this.</strong>  CMOP/Moose are fairly good about determining what is and what isn't a method, but not perfect. Before using this method, you should pause and think about why you need to.</p>
<h3>namespace::autoclean</h3>
<p>As currently implemented, we run our \*(L"method maker\*(R" at the end of the calling package's compile scope (B::Hooks::EndOfScope).  As namespace::autoclean does the same thing, it's important that if namespace::autoclean is used that it be used \s-1BEFORE\s0 MooseX::MarkAsMethods, so that its end_of_scope block is run after ours.</p><p>e.g.</p><p>    # yes!     use namespace::autoclean;     use MooseX::MarkAsMethods;</p><p>    # no -- overloads will be removed     use MooseX::MarkAsMethods;     use namespace::autoclean;</p><p>The easiest way to invoke this module and clean out non-methods without having to worry about ordering is:</p><p>    use MooseX::MarkAsMethods autoclean =&gt; 1;</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO MooseX::MarkAsMethods&hellip;</h2>
        <div class="sectioncontent">
<p>Please see those modules/websites for more information related to this module.</p><ul>
<li><p>overload, B::Hooks::EndOfScope, namespace::autoclean, Class::MOP,</p></li><li><p>Moose.</p></li><li><p>MooseX::Role::WithOverloading does allow for overload application from</p></li><li><p>roles, but it does this by copying the overload symbols from the (not</p></li><li><p>namespace::autoclean'ed role) the symbols handing overloads during class</p></li><li><p>composition; we work by marking the overloads as methods and letting</p></li><li><p>CMOP/Moose handle them.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE</h2>
        <div class="sectioncontent">
<p>The development version is on github at http://github.com/RsrchBoy/moosex-markasmethods &lt;http://github.com/RsrchBoy/moosex-markasmethods&gt; and may be cloned from git://github.com/RsrchBoy/moosex-markasmethods.git &lt;git://github.com/RsrchBoy/moosex-markasmethods.git&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report any bugs or feature requests on the bugtracker website https://github.com/RsrchBoy/moosex-markasmethods/issues</p><p>When submitting a bug or request, please include a test-file or a patch to an existing test-file that illustrates the bug or desired feature.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Chris Weyl &lt;cweyl@alumni.drew.edu&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>This software is Copyright (c) 2011 by Chris Weyl.</p><p>This is free software, licensed under:</p><p>  The GNU Lesser General Public License, Version 2.1, February 1999</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="MooseX::Log::Log4perl::Easy.3pm.html"><span aria-hidden="true">&larr;</span> MooseX::Log::Log4perl::Easy.3pm: A role for easy usage of logging in your moose based modules based on moosex::log::log4perl</a></li>
   <li class="next"><a href="MooseX::Meta::Role::Strict.3pm.html">MooseX::Meta::Role::Strict.3pm: Ensure we use strict role application. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
