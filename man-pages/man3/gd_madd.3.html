<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gd_madd: Gd_add, gd_madd  add a field to a dirfile</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gd_add, gd_madd  add a field to a dirfile">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gd_madd (3) manual">
  <meta name="twitter:description" content="Gd_add, gd_madd  add a field to a dirfile">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgetdata-dev-gd_madd-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man3/gd_madd.3.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gd_madd (3) manual" />
  <meta property="og:description" content="Gd_add, gd_madd  add a field to a dirfile" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgetdata-dev-gd_madd-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gd_madd<small> (3)</small></h1>
        <p class="lead">Gd_add, gd_madd  add a field to a dirfile</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gd_madd.3.html">
      <span itemprop="name">gd_madd: Gd_add, gd_madd  add a field to a dirfile</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgetdata-dev/">
      <span itemprop="name">libgetdata-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/gd_madd.3.html">
      <span itemprop="name">gd_madd: Gd_add, gd_madd  add a field to a dirfile</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;getdata.h&gt;</strong> <strong>int gd_add(DIRFILE *</strong><em>dirfile</em><strong>, const gd_entry_t *</strong><em>entry</em><strong>);</strong> <strong>int gd_madd(DIRFILE *</strong><em>dirfile</em><strong>, const gd_entry_t *</strong><em>entry</em><strong>,</strong> <strong>const char *</strong><em>parent</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>gd_add</strong>() function adds the field described by <em>entry</em> to the dirfile specified by <em>dirfile</em>. The <strong>gd_madd</strong>() function behaves similarly, but adds the field as a metafield under the field indicated by the field code <em>parent</em>.</p><p>The form of <em>entry</em> is described in detail on the <a href="../man3/gd_entry.3.html"><strong>gd_entry</strong>(3)</a> man page.  All relevant members of <em>entry</em> for the field type specified must be properly initialised.  If <em>entry</em> specifies a <strong>CONST</strong> or <strong>CARRAY</strong> field, the field's data will be set to zero.  If <em>entry</em> specifies a <strong>STRING</strong> field, the field data will be set to the empty string.</p><p>When adding a metafield, the <em>entry</em>-&gt;<em>field</em> member should contain just the metafield's name, not the fully formed <em>&lt;parent-field&gt;</em><strong>/</strong><em>&lt;meta-field&gt;</em> field code.  Also, <strong>gd_madd</strong>() ignores the value of <em>entry</em>-&gt;<em>fragment_index</em>, and instead adds the new meta field to the same format specification fragment in which the parent field is defined.</p><p>Fields added with this interface may contain either literal parameters or parameters based on scalar fields.  If an element of the <em>entry</em>-&gt;<em>scalar</em> array defined for the specified field type is non-NULL, this element will be used as the scalar field code, and the corresponding numerical member will be ignored, and need not be initialised.  Conversely, if numerical parameters are intended, the corresponding <em>entry</em>-&gt;<em>scalar</em> elements should be set to NULL.  If using an element of a <strong>CARRAY</strong> field, <em>entry</em>-&gt;<em>scalar_ind</em> should also be set.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success, <strong>gd_add</strong>() and <strong>gd_madd</strong>() return zero.   On error, -1 is returned and the dirfile error is set to a non-zero error value.  Possible error values are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>GD_E_ACCMODE</strong></p>
  </dt>
  <dd>
    <p>The specified dirfile was opened read-only.</p>
  </dd>
  <dt>
    <p><strong>GD_E_ALLOC</strong></p>
  </dt>
  <dd>
    <p>The library was unable to allocate memory.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_CODE</strong></p>
  </dt>
  <dd>
    <p>The field name provided in <em>entry</em>-&gt;<em>field</em> contained invalid characters. Alternately, the <em>parent</em> field code was not found, or was already a metafield.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_DIRFILE</strong></p>
  </dt>
  <dd>
    <p>The supplied dirfile was invalid.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_ENTRY</strong></p>
  </dt>
  <dd>
    <p>There was an error in the specification of the field described by <em>entry</em>, or the caller attempted to add a field of type <strong>RAW</strong> as a metafield.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_INDEX</strong></p>
  </dt>
  <dd>
    <p>The <em>entry</em>-&gt;<em>fragment_index</em> parameter was out of range.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BAD_TYPE</strong></p>
  </dt>
  <dd>
    <p>The <em>entry</em>-&gt;<em>data_type</em> parameter provided with a <strong>RAW</strong> entry, or the <em>entry</em>-&gt;<em>const_type</em> parameter provided with a <strong>CONST</strong> or <strong>CARRAY</strong> entry, was invalid.</p>
  </dd>
  <dt>
    <p><strong>GD_E_BOUNDS</strong></p>
  </dt>
  <dd>
    <p>The <em>entry</em>-&gt;<em>array_len</em> parameter provided with a <strong>CARRAY</strong> entry was greater than GD_MAX_CARRAY_LENGTH.</p>
  </dd>
  <dt>
    <p><strong>GD_E_DUPLICATE</strong></p>
  </dt>
  <dd>
    <p>The field name provided in <em>entry</em>-&gt;<em>field</em> duplicated that of an already existing field.</p>
  </dd>
  <dt>
    <p><strong>GD_E_INTERNAL_ERROR</strong></p>
  </dt>
  <dd>
    <p>An internal error occurred in the library while trying to perform the task. This indicates a bug in the library.  Please report the incident to the GetData developers.</p>
  </dd>
  <dt>
    <p><strong>GD_E_PROTECTED</strong></p>
  </dt>
  <dd>
    <p>The metadata of the fragment was protected from change.  Or, the creation of a <strong>RAW</strong> field was attempted and the data of the fragment was protected.</p>
  </dd>
  <dt>
    <p><strong>GD_E_RAW_IO</strong></p>
  </dt>
  <dd>
    <p>An I/O error occurred while creating an empty binary file to be associated with a newly added <strong>RAW</strong> field.</p>
  </dd>
  <dt>
    <p><strong>GD_E_UNKNOWN_ENCODING</strong></p>
  </dt>
  <dd>
    <p>The encoding scheme of the indicated format specification fragment is not known to the library.  As a result, the library was unable to create an empty binary file to be associated with a newly added <strong>RAW</strong> field.</p>
  </dd>
  <dt>
    <p><strong>GD_E_UNSUPPORTED</strong></p>
  </dt>
  <dd>
    <p>The encoding scheme of the indicated format specification fragment does not support creating an empty binary file to be associated with a newly added <strong>RAW</strong> field.</p>
  </dd>

</dl>
<p>The dirfile error may be retrieved by calling <a href="../man3/gd_error.3.html"><strong>gd_error</strong>(3)</a>. A descriptive error string for the last error encountered can be obtained from a call to <a href="../man3/gd_error_string.3.html"><strong>gd_error_string</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>GetData artifically limits the number of elements in a <strong>CARRAY</strong> to the value of the symbol GD_MAX_CARRAY_LENGTH defined in getdata.h.  This is done to be certain that the <strong>CARRAY</strong> won't overrun the line when flushed to disk.  On a 32-bit system, this number is 2**24.  It is larger on a 64-bit system.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gd_madd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/gd_add_bit.3.html"><strong>gd_add_bit</strong>(3)</a>, <a href="../man3/gd_add_carray.3.html"><strong>gd_add_carray</strong>(3)</a>, <a href="../man3/gd_add_const.3.html"><strong>gd_add_const</strong>(3)</a>, <a href="../man3/gd_add_divide.3.html"><strong>gd_add_divide</strong>(3)</a>, <a href="../man3/gd_add_lincom.3.html"><strong>gd_add_lincom</strong>(3)</a>, <a href="../man3/gd_add_linterp.3.html"><strong>gd_add_linterp</strong>(3)</a>, <a href="../man3/gd_add_multiply.3.html"><strong>gd_add_multiply</strong>(3)</a>, <a href="../man3/gd_add_phase.3.html"><strong>gd_add_phase</strong>(3)</a>, <a href="../man3/gd_add_polynom.3.html"><strong>gd_add_polynom</strong>(3)</a>, <a href="../man3/gd_add_raw.3.html"><strong>gd_add_raw</strong>(3)</a>, <a href="../man3/gd_add_recip.3.html"><strong>gd_add_recip</strong>(3)</a>, <a href="../man3/gd_add_sbit.3.html"><strong>gd_add_sbit</strong>(3)</a>, <a href="../man3/gd_add_spec.3.html"><strong>gd_add_spec</strong>(3)</a>, <a href="../man3/gd_add_string.3.html"><strong>gd_add_string</strong>(3)</a>, <a href="../man3/gd_entry.3.html"><strong>gd_entry</strong>(3)</a>, <a href="../man3/gd_error.3.html"><strong>gd_error</strong>(3)</a>, <a href="../man3/gd_error_string.3.html"><strong>gd_error_string</strong>(3)</a>, <a href="../man3/gd_madd_bit.3.html"><strong>gd_madd_bit</strong>(3)</a>, <a href="../man3/gd_madd_carray.3.html"><strong>gd_madd_carray</strong>(3)</a>, <a href="../man3/gd_madd_const.3.html"><strong>gd_madd_const</strong>(3)</a>, <a href="../man3/gd_madd_divide.3.html"><strong>gd_madd_divide</strong>(3)</a>, <a href="../man3/gd_madd_lincom.3.html"><strong>gd_madd_lincom</strong>(3)</a>, <a href="../man3/gd_madd_linterp.3.html"><strong>gd_madd_linterp</strong>(3)</a>, <a href="../man3/gd_madd_multiply.3.html"><strong>gd_madd_multiply</strong>(3)</a>, <a href="../man3/gd_madd_phase.3.html"><strong>gd_madd_phase</strong>(3)</a>, <a href="../man3/gd_madd_polynom.3.html"><strong>gd_madd_polynom</strong>(3)</a>, <a href="../man3/gd_madd_recip.3.html"><strong>gd_madd_recip</strong>(3)</a>, <a href="../man3/gd_madd_sbit.3.html"><strong>gd_madd_sbit</strong>(3)</a>, <a href="../man3/gd_madd_spec.3.html"><strong>gd_madd_spec</strong>(3)</a>, <a href="../man3/gd_madd_string.3.html"><strong>gd_madd_string</strong>(3)</a>, <a href="../man3/gd_metaflush.3.html"><strong>gd_metaflush</strong>(3)</a>, <a href="../man3/gd_open.3.html"><strong>gd_open</strong>(3)</a>, <a href="../man5/dirfile-format.5.html"><strong>dirfile-format</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gd_invalid_dirfile.3.html"><span aria-hidden="true">&larr;</span> gd_invalid_dirfile.3: Gd_invalid_dirfile  obtain an pointer to an invalid dirfile object</a></li>
   <li class="next"><a href="gd_madd_bit.3.html">gd_madd_bit.3: Gd_madd_bit, gd_madd_carray, gd_madd_clincom, gd_madd_const, gd_madd_cpolynom, gd_madd_crecip, gd_madd_divide, gd_madd_lincom, gd_madd_linterp, gd_madd_multiply, gd_madd_phase, gd_madd_polynom, gd_madd_recip, gd_madd_sbit, gd_madd_string  add a field to a dirfile <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
