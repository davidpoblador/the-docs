<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>wesnothd-1.10: Battle for wesnoth multiplayer network daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Battle for wesnoth multiplayer network daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="wesnothd-1.10 (6) manual">
  <meta name="twitter:description" content="Battle for wesnoth multiplayer network daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/wesnoth-1.10-server-wesnothd-1.10-6.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man6/wesnothd-1.10.6.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="wesnothd-1.10 (6) manual" />
  <meta property="og:description" content="Battle for wesnoth multiplayer network daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/wesnoth-1.10-server-wesnothd-1.10-6.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">wesnothd-1.10<small> (6)</small></h1>
        <p class="lead">Battle for wesnoth multiplayer network daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man6/">
      <span itemprop="name">Games</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man6/wesnothd-1.10.6.html">
      <span itemprop="name">wesnothd-1.10: Battle for wesnoth multiplayer network daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/wesnoth-1.10-server/">
      <span itemprop="name">wesnoth-1.10-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man6/wesnothd-1.10.6.html">
      <span itemprop="name">wesnothd-1.10: Battle for wesnoth multiplayer network daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>wesnothd</strong> [\|<strong>-dv</strong>\|] [\|<strong>-c</strong> <em>path</em>\|] [\|<strong>-p</strong> <em>port</em>\|] [\|<strong>-t</strong> <em>number</em>\|] [\|<strong>-T</strong> <em>number</em>\|]</p><p><strong>wesnothd</strong> <strong>-V</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Manages Battle for Wesnoth multiplayer games. See http://www.wesnoth.org/wiki/ServerAdministration on what commands the server accepts via the wesnoth client (/query ...) or the fifo.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c</strong><em>path</em><strong>,</strong><em>--config</em><strong></strong><em>path</em></p>
  </dt>
  <dd>
    <p>tells wesnothd where to find the config file to use. See the section <strong>SERVER CONFIG</strong> below for the syntax. You can reload the config with sending SIGHUP to the server process.</p>
  </dd>
  <dt>
    <p><strong>-d, --daemon</strong></p>
  </dt>
  <dd>
    <p>runs wesnothd as a daemon.</p>
  </dd>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>tells you what the command line options do.</p>
  </dd>
  <dt>
    <p><strong>--log-</strong><em>level</em><strong>=</strong><em>domain1</em><strong>,</strong><em>domain2</em><strong>,</strong><em>...</em></p>
  </dt>
  <dd>
    <p>sets the severity level of the log domains. <strong>all</strong> can be used to match any log domain. Available levels: <strong>error</strong>,<strong>warning</strong>,<strong>info</strong>,<strong>debug</strong>. By default the <strong>error</strong> level is used and the <strong>info</strong> level for the <strong>server</strong> domain.</p>
  </dd>
  <dt>
    <p><strong>-p</strong><em>port</em><strong>,</strong><em>--port</em><strong></strong><em>port</em></p>
  </dt>
  <dd>
    <p>binds the server to the specified port. If no port is specified, port <strong>15000</strong> will be used.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em>number</em><strong>,</strong><em>--threads</em><strong></strong><em>number</em></p>
  </dt>
  <dd>
    <p>sets the maximum number of waiting worker threads for network I/O to n (default: <strong>5</strong>,<strong>max:</strong>30<strong>).</strong></p>
  </dd>
  <dt>
    <p><strong>-T</strong><em>number</em><strong>,</strong><em>--max-threads</em><strong></strong><em>number</em></p>
  </dt>
  <dd>
    <p>sets the maximum number of worker threads that will be created. If set to <strong>0</strong> there will be no limit (default: <strong>0</strong>).</p>
  </dd>
  <dt>
    <p><strong>-V, --version</strong></p>
  </dt>
  <dd>
    <p>shows version number and exits.</p>
  </dd>
  <dt>
    <p><strong>-v, --verbose</strong></p>
  </dt>
  <dd>
    <p>turns debug logging on.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SERVER CONFIG</h2>
        <div class="sectioncontent">
<h3>The general syntax is:</h3>
<p>[<em>tag</em>]</p><ul>
<li><p><em>key</em>="<em>value</em>"</p></li><li><p><em>key</em>="<em>value</em>,<em>value</em>,..."</p></li>
</ul><p>[/<em>tag</em>]</p>
<h3>Global keys:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>allow_remote_shutdown</strong></p>
  </dt>
  <dd>
    <p>If set to <strong>no</strong> (default), shut_down and restart requests are ignored unless they come from the fifo. Set it to <strong>yes</strong> to allow remote shutdown via a /query by an administrator.</p>
  </dd>
  <dt>
    <p><strong>ban_save_file</strong></p>
  </dt>
  <dd>
    <p>Full or relative path to a (gzip compressed) file that the server can read and write. Bans will be saved to this file and read again on server start.</p>
  </dd>
  <dt>
    <p><strong>compress_stored_rooms</strong></p>
  </dt>
  <dd>
    <p>Determines whether the rooms file should be read and written to in compressed form. Defaults to <strong>yes</strong>.</p>
  </dd>
  <dt>
    <p><strong>connections_allowed</strong></p>
  </dt>
  <dd>
    <p>The number of allowed connections from the same IP. <strong>0</strong> means infinite. (default: <strong>5</strong>)</p>
  </dd>
  <dt>
    <p><strong>disallow_names</strong></p>
  </dt>
  <dd>
    <p>Names/nicks that are not accepted by the server. <strong>*</strong> and <strong>?</strong> from wildcard patterns are supported. See <a href="../man7/glob.7.html"><strong>glob</strong>(7)</a> for more details. Default values (used if nothing is specified) are: <strong>*admin*,*admln*,*server*,ai,ai?,computer,human,network,player</strong>.</p>
  </dd>
  <dt>
    <p><strong>fifo_path</strong></p>
  </dt>
  <dd>
    <p>The path to the fifo you can echo server commands into (same as /query ... from wesnoth). If not specified defaults to the compile-time path (default: <strong>/var/run/socket/wesnothd/socket</strong>).</p>
  </dd>
  <dt>
    <p><strong>max_messages</strong></p>
  </dt>
  <dd>
    <p>The number of allowed messages in <strong>messages_time_period</strong>. (default: <strong>4</strong>)</p>
  </dd>
  <dt>
    <p><strong>messages_time_period</strong></p>
  </dt>
  <dd>
    <p>The time period (in seconds) message flooding is detected in. (default: <strong>10</strong> seconds)</p>
  </dd>
  <dt>
    <p><strong>motd</strong></p>
  </dt>
  <dd>
    <p>The message of the day.</p>
  </dd>
  <dt>
    <p><strong>new_room_policy</strong></p>
  </dt>
  <dd>
    <p>Determines who can create new rooms on the server. Available values are <strong>everyone</strong>, <strong>registered</strong>, <strong>admin</strong> and <strong>nobody</strong>, and give the permission respectively to everyone, registered users, admin users or disables new room creation. Default value is <strong>everyone</strong>.</p>
  </dd>
  <dt>
    <p><strong>passwd</strong></p>
  </dt>
  <dd>
    <p>The password used to gain admin privileges (via <strong>/query admin </strong><em>password</em>).</p>
  </dd>
  <dt>
    <p><strong>replay_save_path</strong></p>
  </dt>
  <dd>
    <p>The directory where the server stores game replays. (Don't forget the trailing /!) Defaults to `' which means the directory wesnothd was started in.</p>
  </dd>
  <dt>
    <p><strong>restart_command</strong></p>
  </dt>
  <dd>
    <p>The command that the server uses to start a new server process via the <strong>restart</strong> command. (Can only be issued via the fifo. See the <strong>allow_remote_shutdown</strong> setting.)</p>
  </dd>
  <dt>
    <p><strong>room_save_file</strong></p>
  </dt>
  <dd>
    <p>Path to a file where the room info should be stored. This file is read on server startup and written to later. If empty or not set, rooms are not loaded and not saved.</p>
  </dd>
  <dt>
    <p><strong>save_replays</strong></p>
  </dt>
  <dd>
    <p>Defines whether the server will automatically save replays of games. (default: <strong>false</strong>)</p>
  </dd>
  <dt>
    <p><strong>versions_accepted</strong></p>
  </dt>
  <dd>
    <p>A comma separated list of version strings to be accepted by the server. <strong>*</strong> and <strong>?</strong> from wildcard patterns are supported. (defaults to the corresponding wesnoth version)</p><p>Example: <strong>versions_accepted="*"</strong> accepts any version string.</p>
  </dd>
  <dt>
    <p><strong>user_handler</strong></p>
  </dt>
  <dd>
    <p>The name of the user handler to use. Currently available user handlers are <strong>forum</strong> (to connect wesnothd to a phpbb forum database) and <strong>sample</strong> (a sample implementation of the user handler interface, if you use this on anything real you are insane). The default value is <strong>forum</strong>. You must also add a <strong>[user_handler]</strong> section, see below.</p>
  </dd>

</dl>

<h3>Global tags:</h3>
<p><strong>[redirect]</strong> A tag to specify a server to redirect certain client versions to.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>host</strong></p>
  </dt>
  <dd>
    <p>The address of the server to redirect to.</p>
  </dd>
  <dt>
    <p><strong>port</strong></p>
  </dt>
  <dd>
    <p>The port to connect to.</p>
  </dd>
  <dt>
    <p><strong>version</strong></p>
  </dt>
  <dd>
    <p>A comma separated list of versions to redirect. Behaves the same way as <strong>versions_accepted</strong> in regard to wildcard patterns.</p>
  </dd>

</dl>
<p><strong>[ban_time]</strong> A tag to define convenient keywords for temporary ban time lengths.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>name</strong></p>
  </dt>
  <dd>
    <p>The name used to reference the ban time.</p>
  </dd>
  <dt>
    <p><strong>time</strong></p>
  </dt>
  <dd>
    <p>The time length definition. The format is: %d[%s[%d%s[...]]] where %s is s (seconds), m (minutes), h (hours), D (days), M (months) or Y (years) and %d is a number. If no time modifier is given minutes (m) are assumed. Example: <strong>time="1D12h30m"</strong> results in a ban time of 1 day, 12 hours and 30 minutes.</p>
  </dd>

</dl>
<p><strong>[proxy]</strong> A tag to tell the server to act as a proxy and forward the connected client's requests to the specified server. Accepts the same keys as <strong>[redirect]</strong>.</p><p><strong>[user_handler]</strong> Configures the user handler. Available keys vary depending on which user handler is set with the <strong>user_handler</strong> key. If no <strong>[user_handler]</strong> section is present in the configuration the server will run without any nick registration service.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>db_host</strong></p>
  </dt>
  <dd>
    <p>(for user_handler=forum) The hostname of the database server</p>
  </dd>
  <dt>
    <p><strong>db_name</strong></p>
  </dt>
  <dd>
    <p>(for user_handler=forum) The name of the database</p>
  </dd>
  <dt>
    <p><strong>db_user</strong></p>
  </dt>
  <dd>
    <p>(for user_handler=forum) The name of the user under which to log into the database</p>
  </dd>
  <dt>
    <p><strong>db_password</strong></p>
  </dt>
  <dd>
    <p>(for user_handler=forum) This user's password</p>
  </dd>
  <dt>
    <p><strong>db_users_table</strong></p>
  </dt>
  <dd>
    <p>(for user_handler=forum) The name of the table in which your phpbb forums saves its user data. Most likely this will be &lt;table-prefix&gt;_users (e.g. phpbb3_users).</p>
  </dd>
  <dt>
    <p><strong>db_extra_table</strong></p>
  </dt>
  <dd>
    <p>(for user_handler=forum) The name of the table in which wesnothd will save its own data about users. You will have to create this table manually, e.g.: <strong>CREATE TABLE &lt;table-name&gt;(username VARCHAR(255) PRIMARY KEY, user_lastvisit INT UNSIGNED NOT NULL DEFAULT 0, user_is_moderator <strong>TINYINT</strong>(4) NOT NULL DEFAULT 0);</strong></p>
  </dd>
  <dt>
    <p><strong>user_expiration</strong></p>
  </dt>
  <dd>
    <p>(for user_handler=sample) The time after which a registered nick expires (in days).</p>
  </dd>

</dl>
<p><strong>[mail]</strong> Configures an SMTP server through which the user handler can send mail. Currently only used by the sample user handler.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>server</strong></p>
  </dt>
  <dd>
    <p>The hostname of the mail server</p>
  </dd>
  <dt>
    <p><strong>username</strong></p>
  </dt>
  <dd>
    <p>The user name under which to log into the mail server.</p>
  </dd>
  <dt>
    <p><strong>password</strong></p>
  </dt>
  <dd>
    <p>This user's password.</p>
  </dd>
  <dt>
    <p><strong>from_address</strong></p>
  </dt>
  <dd>
    <p>The reply-to address of you mail.</p>
  </dd>
  <dt>
    <p><strong>mail_port</strong></p>
  </dt>
  <dd>
    <p>The port on which your mail server is running. Default is 25.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>Normal exit status is 0 when the server was properly shutdown. An exit status of 2 indicates an error with the command line options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by David White &lt;davidnwhite@verizon.net&gt;. Edited by Nils Kneuper &lt;crazy-ivanovic@gmx.net&gt;, ott &lt;ott@gaon.net&gt;, Soliton &lt;soliton.de@gmail.com&gt; and Thomas Baumhauer &lt;thomas.baumhauer@gmail.com&gt;. This manual page was originally written by Cyril Bouthors &lt;cyril@bouthors.org&gt;.</p><p>Visit the official homepage: http://www.wesnoth.org/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2003-2013 David White &lt;davidnwhite@verizon.net&gt;</p><p>This is Free Software; this software is licensed under the GPL version 2, as published by the Free Software Foundation. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO wesnothd-1.10&hellip;</h2>
        <div class="sectioncontent">
<p><strong>wesnoth</strong>(6).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="wesnoth-1.10_editor.6.html"><span aria-hidden="true">&larr;</span> wesnoth-1.10_editor.6: Battle for wesnoth, a turn-based fantasy strategy game</a></li>
   <li class="next"><a href="wfut.6.html">wfut.6: Worldforge update tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
