<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>and.priorities: Priority database for the auto nice daemon.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Priority database for the auto nice daemon.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="and.priorities (5) manual">
  <meta name="twitter:description" content="Priority database for the auto nice daemon.">
  <meta name="twitter:image" content="https://www.carta.tech/images/and-and.priorities-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/and.priorities.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="and.priorities (5) manual" />
  <meta property="og:description" content="Priority database for the auto nice daemon." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/and-and.priorities-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">and.priorities<small> (5)</small></h1>
        <p class="lead">Priority database for the auto nice daemon.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/and.priorities.5.html">
      <span itemprop="name">and.priorities: Priority database for the auto nice daemon.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/and/">
      <span itemprop="name">and</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/and.priorities.5.html">
      <span itemprop="name">and.priorities: Priority database for the auto nice daemon.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This manual page documents and.priorities for <strong>and</strong> version 1.2.2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This is the priority database file for <strong>and.</strong> It stores (user, group, command, parent, nicelevels) tuples (hereafter called entries) to determine the new nice level (or the kill signal, for that matter) when a job reaches one of the time limits defined in <em>/etc/and.conf.</em> (See lv1time, lv2time, and lv3time on the and.conf manual page for details.) See the <strong>affinity</strong> setting in <em>/etc/and.conf</em> for how ambiguities between the fields (user, group, command, parent) are dealt with when searching the database to determine the new nice level for a job. Note that if more than one entry matches with the same accuracy (e.g. with a parent= entry and an ancestor= entry), the <strong>last entry wins!</strong></p><p>Comments start with a # in the <strong>first column.</strong> Empty lines are ignored. Unlike with other configuration files, lines <strong>cannot be concatenated</strong> with a backslash. Furthermore, this file is <strong>case sensitive.</strong></p><p><strong>and</strong> allows for host-specific sections in the configuration file. These work as lines of the form <em>on somehost</em> and work as follows: the parser determines if the host name (as returned by gethostname) matches the extended regular expression that follows the <em>on</em> keyword. If it does, it just keeps processing the file as if nothing had happened. If it does not match, however, everything up to the next <em>on</em> keyword is skipped. So if you want to end a host-specific section, you must write <em>on .*</em> (which matches all hosts) to switch back to normal.</p><p>Don't forget to <strong>kill -HUP</strong> the auto nice daemon to enable the changes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SETTINGS</h2>
        <div class="sectioncontent">
<p>A valid entry consists of a line of six columns, separated by one or more spaces. These columns are: (in that order)</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>user</strong></p>
  </dt>
  <dd>
    <p>The user ID the command is running under. May be a user name (which will be looked up in the password file and, if enabled, via NIS), or a numeric user ID, or an asterisk for any user.</p>
  </dd>
  <dt>
    <p><strong>group</strong></p>
  </dt>
  <dd>
    <p>The group ID the command is running under. May be a group name (which will be looked up in the group file and again, if enabled, via NIS), or a numeric group ID, or an asterisk for any group.</p>
  </dd>
  <dt>
    <p><strong>command</strong></p>
  </dt>
  <dd>
    <p>The name of the command, without path. May be a command, a regular expression to match multiple commands, or an asterisk for any command. Note that "foobar" will <strong>not</strong> match "/usr/bin/foobar" - you probably mean ".*foobar" or even ".*foobar.*".</p>
  </dd>
  <dt>
    <p><strong>parent</strong></p>
  </dt>
  <dd>
    <p>There are two modes of operation for the parent field, determined by a keyword: <strong>parent=foobar</strong> will match if a process' direct parent process matches the command or regular expression after the equal sign, whereas <strong>ancestor=foobar</strong> will match if <em>any</em> ancestor process matches. After the keyword and the equal sign goes the name of the parent process, without path. May be a command, a regular expression to match multiple commands, or an asterisk for any command. (You can just use the asterisk if you want to ignore parents for this entry.) Note that again "foobar" will <strong>not</strong> match "/usr/bin/foobar", as with command.</p>
  </dd>
  <dt>
    <p><strong>nicelevel 1</strong></p>
  </dt>
  <dd>
    <p>The nice level after lv1time CPU time was used by the command. Positive numbers and 0 are interpreted as nice levels; negative numbers are interpreted as signals to be sent to the command. A "nice level" of 19 will almost stop the job, -9 will actually kill it. (Like in kill -9.) lv1time can be set in <em>/etc/and.conf</em></p>
  </dd>
  <dt>
    <p><strong>nicelevel 2</strong></p>
  </dt>
  <dd>
    <p>Same but after lv2time.</p>
  </dd>
  <dt>
    <p><strong>nicelevel 3</strong></p>
  </dt>
  <dd>
    <p>Same but after lv3time.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Here are some entries from the real world (i.e. from "my" cluster at the Institute). As lv[123]time, 5 min., 20 min., and 1 hour is assumed. (Which is the default. See <em>/etc/and.conf</em> for details.) You might also check the default priority database that comes with <strong>and.</strong></p><p># A finer default nice level</p><p>* * * * 4 8 12</p><p># User dau is an idiot, so treat him like accordingly</p><p>dau * * * 19 19 19</p><p># Netscape sometimes goes berserk, we must stop it</p><p>* * netscape * 4 -9 -9</p><p># Most hosts are free for everyone but some are</p><p># especially for the FOO group</p><p>* * * * 4 8 12</p><p>on (bar|baz)</p><p>* * * * 8 12 16</p><p># ... or, more radical: * * * * -9 -9 -9</p><p>* foo * * 4 8 12</p><p>on .*</p><p># KDE screen savers...</p><p>* * .*kss * 16 16 16</p><p># Grid jobs (assuming they are started by a master</p><p># process)</p><p>* * * ancestor=grid_master 10 10 10</p><p># Now some clever yet deceitful user might start all</p><p># his jobs using a shell script named grid_master.</p><p># He shall regret... whereas the original grid_master</p><p># (owned by grid) is left alone.</p><p>* * grid_master * -9 -9 -9</p><p>grid * grid_master * 0 0 0</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/and.priorities</strong></p>
  </dt>
  <dd>
    <p>The priority database (in plain text). Contains the (user, group, command, nicelevels) tuples. This is what this manual page is about.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO and.priorities&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/and.8.html"><strong>and</strong>(8)</a>, <a href="../man5/and.conf.5.html"><strong>and.conf</strong>(5)</a>, <a href="../man1/kill.1.html"><strong>kill</strong>(1)</a>, <a href="../man7/regex.7.html"><strong>regex</strong>(7)</a>, <strong>renice</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERNET</h2>
        <div class="sectioncontent">
<p><strong>http://and.sourceforge.net/</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The auto nice daemon and this manual page were written by Patrick Schemitz &lt;schemitz@users.sourceforge.net&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="and.conf.5.html"><span aria-hidden="true">&larr;</span> and.conf.5: General configuration parameters for the auto nice daemon.</a></li>
   <li class="next"><a href="app.5.html">app.5: Application resource file. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
