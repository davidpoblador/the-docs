<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cliapp: Config file and option conventions for python command line framework</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Config file and option conventions for python command line framework">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cliapp (5) manual">
  <meta name="twitter:description" content="Config file and option conventions for python command line framework">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-cliapp-cliapp-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/cliapp.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cliapp (5) manual" />
  <meta property="og:description" content="Config file and option conventions for python command line framework" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-cliapp-cliapp-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cliapp<small> (5)</small></h1>
        <p class="lead">Config file and option conventions for python command line framework</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/cliapp.5.html">
      <span itemprop="name">cliapp: Config file and option conventions for python command line framework</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-cliapp/">
      <span itemprop="name">python-cliapp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/cliapp.5.html">
      <span itemprop="name">cliapp: Config file and option conventions for python command line framework</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>cliapp</strong> is a Python programming framework for writing command line applications for Unix-like operating systems. This manual page describes the conventions for configuration files and command line parsing provided by <strong>cliapp</strong>.</p><p><em>Configuration file variables</em> and <em>command line options</em> are handled by <strong>cliapp</strong> under a uniform abstraction: every setting is available both in configuration files and command line options. There are a few settings, provided by the framework itself, which are only available on the command line. For example, <strong>--help</strong> outputs a short help text, listing all the available options, and <strong>--dump-config</strong> outputs a list of current configuration settings.</p><p><em>Command line parsing</em> follows GNU conventions: short options start with a single dash, long options with two dashes, and options may be used anywhere on the command line. The order of options versus non-options does not matter. The exception is some of the options provided by the framework, which are executed immediately when found, and may be prevent the rest of the options from being parsed. (<strong>--dump-config</strong> is one of these, so use it at the end of the command line only.) Use <strong>--</strong> on the command line to signal the end of options: no arguments after that are considered to be option.</p><p>Some settings may have aliases, which can be only a single character, and in that case they're parsed as single-character option names.</p><p>Some applications have <em>subcommands</em>, which means that the first non-option argument is used to tell the application what to do. This is similar to what many version control systems do, for example CVS, svn, bzr, and git. Options are global, and are not specific to subcommands. Thus, <strong>--foo</strong> means the same thing, regardless of what subcommand is being used.</p><h3>Configuration files</h3>
<p>Configuration files use INI file syntax. All the settings are in the <strong>[config]</strong> section. Other sections are allowed, but it is up to the application to give meaning to them.</p><p>Multiple configuration files may be read. Settings from later ones override settings from earlier ones. Options override settings from the configuration files.</p>
<h3>String list settings</h3>
<p>Some settings may be a list of values (each value being a string). For example, there might be a setting for patterns to search for, and multiple patterns are allowed. On the command line, that happens by using the option multiple times. In the configuration file, all values are given on one line, separated by commas. This is a non-standard extension to the INI file syntax. There is no way to escape commas.</p><p>Example:</p><ul>
<li>
<pre>
[config]
pattern = foo, bar, foobar
</pre>
</li>
</ul>
<h3>Boolean (true/false or on/off or yes/no) settings</h3>
<p>When a setting can be either on or off, it's called a Boolean setting. Such settings are turned off by default, and turned on if used on the command line. In a configuration file, they need to be set to a value: if the value is one of <strong>yes</strong>, <strong>on</strong>, <strong>true</strong>, or the number 1, the setting is turned on. Any other value means it is turned off.</p><ul>
<li>
<pre>
[config]
verbose = true
attack-kittens = no
</pre>
</li>
</ul><p>This turns the verbose setting on, but does not launch attack kittens.</p><p>For every boolean setting, two command line options are added. If the setting is called <em>foo</em>, the option <em>--foo</em> will turn the setting on, and <em>--no-foo</em> will turn it off. The negation is only usable on the command line: its purpose is to allow the command line to override a setting from the configuration file.</p>
<h3>Logging and log files</h3>
<p>Programs using <strong>cliapp</strong> automatically support several options for configuring the Python <strong>logging</strong> module. See the <strong>--help</strong> output for options starting with <strong>log</strong> for details. Logging can happen to a file or the system log. Log files can be rotated automatically based on size.</p><p>The <strong>--trace</strong> option enables additional debug logging, which is usually only useful for programmers. The option configures the <strong>tracing</strong> library for Python, by Lars Wirzenius, which allows logging values of variables and other debug information in a way that is very lightweight when the tracing is turned off. The option specifies for which source code files to turn on tracing. The actual logging happens via the normal Python logging facilities, at the debug level.</p>
<h3>Python profiling support</h3>
<p>You can run the application under the Python profiler (<strong>cProfile</strong>) by setting an environment variable. The name of the variable is <strong>FOO_PROFILE</strong>, where <strong>FOO</strong> is the name of the program, as set by the application code or determined by <strong>cliapp</strong> automatically. The value of the environment variable is the name of the file to which the resulting profile is to be written.</p>
<h3>Manual page generation</h3>
<p><strong>cliapp</strong> can generate parts of a manual page: the <em>SYNOPSIS</em> and <em>OPTIONS</em> sections. It fills these in automatically based on the subcommand and settings that a program supports. Use the <strong>--generate-manpage</strong>=<em>FILE</em> option, which is added automatically by <strong>cliapp</strong>. The <em>FILE</em> is a manual page marked up using the <strong>-man</strong> macros for <strong>troff</strong>(1). It should have empty <em>SYNOPSIS</em> and <em>OPTIONS</em> sections, and <strong>cliapp</strong> will fill them in. The output it to the standard output.</p><p>For example:</p><p>foo --generate-manpage=foo.1.in &gt; foo.1</p><p>You would keep the source code for the manual page in <em>foo.1.in</em> and have your Makefile produce <em>foo.1</em> as shown above.</p>
<h3>Subcommands</h3>
<p><strong>cliapp</strong> provides a way for the application to have <em>subcommands</em>, in the style of <a href="../man1/git.1.html"><strong>git</strong>(1)</a>, for example. If the application is called <em>foo</em>, then it can have subcommands such as <em>foo search</em>, and <em>foo print</em>. The application gets to define the name and meaning of each subcommand. However, all settings (options and configuration files) are global, and can be used with all subcommands. It is up to each subcommand what settings it obeys.</p><p>If there are any subcommands, <strong>cliapp</strong> automatically adds the <strong>help</strong> subcommand. It allows you to get the help text for a specific subommand: <em>foo help print</em>, for example.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>cliapp</strong> reads a list of configuration files at startup, on behalf of the application. The name of the application is included in the name. In the filenames below, the application name is <em>progname</em>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/progname.conf</strong></p>
  </dt>
  <dd>
    <p>Global configuration file.</p>
  </dd>
  <dt>
    <p><strong>/etc/progname/*.conf</strong></p>
  </dt>
  <dd>
    <p>More global configuration files. These are read in ASCII sorted order.</p>
  </dd>
  <dt>
    <p><strong>~/.progname.conf</strong></p>
  </dt>
  <dd>
    <p>Per-user configuration file.</p>
  </dd>
  <dt>
    <p><strong>~/.config/progname/*.conf</strong></p>
  </dt>
  <dd>
    <p>More per-user configuration files. Again, ASCII sorted order.</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="classes.conf.5.html"><span aria-hidden="true">&larr;</span> classes.conf.5: Class configuration file for cups</a></li>
   <li class="next"><a href="client-local.cfg.5.html">client-local.cfg.5: Local configuration settings for xymon clients <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
