<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nslcd.conf: Configuration file for ldap nameservice daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for ldap nameservice daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nslcd.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for ldap nameservice daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/pynslcd-nslcd.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/pynslcd-nslcd.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nslcd.conf (5) manual" />
  <meta property="og:description" content="Configuration file for ldap nameservice daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pynslcd-nslcd.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nslcd.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for ldap nameservice daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nslcd.conf.5.html">
      <span itemprop="name">nslcd.conf: Configuration file for ldap nameservice daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pynslcd/">
      <span itemprop="name">pynslcd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nslcd.conf.5.html">
      <span itemprop="name">nslcd.conf: Configuration file for ldap nameservice daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>nss-pam-ldapd</em> package allows LDAP directory servers to be used as a primary source of name service information. (Name service information typically includes users, hosts, groups, and other such data historically stored in flat files or NIS.)</p><p>The file \*(T&lt;<em>nslcd.conf</em>\*(T&gt; contains the configuration information for running <strong>nslcd</strong> (see <a href="../man8/nslcd.8.html"><strong>nslcd</strong>(8)</a>). The file contains options, one on each line, defining the way NSS lookups and PAM actions are mapped to LDAP lookups.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>RUNTIME OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>threads</strong>\*(T&gt; <em>NUM</em></p>
  </dt>
  <dd>
    <p>Specifies the number of threads to start that can handle requests and perform LDAP queries. Each thread opens a separate connection to the LDAP server. The default is to start 5 threads.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>uid</strong>\*(T&gt; <em>UID</em></p>
  </dt>
  <dd>
    <p>This specifies the user id with which the daemon should be run. This can be a numerical id or a symbolic value. If no uid is specified no attempt to change the user will be made. Note that you should use values that don't need LDAP to resolve.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>gid</strong>\*(T&gt; <em>GID</em></p>
  </dt>
  <dd>
    <p>This specifies the group id with which the daemon should be run. This can be a numerical id or a symbolic value. If no gid is specified no attempt to change the group will be made. Note that you should use values that don't need LDAP to resolve.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>log</strong>\*(T&gt; <em>SCHEME</em> [<em>LEVEL</em>]</p>
  </dt>
  <dd>
    <p>This option controls the way logging is done. The <em>SCHEME</em> argument may either be \*(T&lt;none\*(T&gt;, \*(T&lt;syslog\*(T&gt; or an absolute file name. The <em>LEVEL</em> argument is optional and specifies the log level. The log level may be one of: \*(T&lt;crit\*(T&gt;, \*(T&lt;error\*(T&gt;, \*(T&lt;warning\*(T&gt;, \*(T&lt;notice\*(T&gt;, \*(T&lt;info\*(T&gt; or \*(T&lt;debug\*(T&gt;. The default log level is \*(T&lt;info\*(T&gt;. All messages with the specified loglevel or higher are logged. This option can be supplied multiple times. If this option is omitted \*(T&lt;syslog info\*(T&gt; is assumed.</p>
  </dd>

</dl>

<h3>GENERAL CONNECTION OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>uri</strong>\*(T&gt; <em>URI</em></p>
  </dt>
  <dd>
    <p>Specifies the LDAP URI of the server to connect to. The URI scheme may be \*(T&lt;ldap\*(T&gt;, \*(T&lt;ldapi\*(T&gt; or \*(T&lt;ldaps\*(T&gt;, specifying LDAP over TCP, ICP or SSL respectively (if supported by the LDAP library).</p><p>Alternatively, the value \*(T&lt;DNS\*(T&gt; may be used to try to lookup the server using DNS SRV records. By default the current domain is used but another domain can be queried by using the \*(T&lt;DNS:\*(T&gt;<em>DOMAIN</em> syntax.</p><p>When using the ldapi scheme, %2f should be used to escape slashes (e.g. ldapi://%2fvar%2frun%2fslapd%2fldapi/), although most of the time this should not be needed.</p><p>This option may be specified multiple times. Normally, only the first server will be used with the following servers as fall-back (see \*(T&lt;<strong>bind_timelimit</strong>\*(T&gt; below).</p><p>If LDAP lookups are used for host name resolution, any host names should be specified as an IP address or name that can be resolved without using LDAP.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>ldap_version</strong>\*(T&gt; <em>VERSION</em></p>
  </dt>
  <dd>
    <p>Specifies the version of the LDAP protocol to use. The default is to use the maximum version supported by the LDAP library.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>binddn</strong>\*(T&gt; <em>DN</em></p>
  </dt>
  <dd>
    <p>Specifies the distinguished name with which to bind to the directory server for lookups. The default is to bind anonymously.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>bindpw</strong>\*(T&gt; <em>PASSWORD</em></p>
  </dt>
  <dd>
    <p>Specifies the credentials with which to bind. This option is only applicable when used with \*(T&lt;<strong>binddn</strong>\*(T&gt; above. If you set this option you should consider changing the permissions of the \*(T&lt;<em>nslcd.conf</em>\*(T&gt; file to only grant access to the root user.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>rootpwmoddn</strong>\*(T&gt; <em>DN</em></p>
  </dt>
  <dd>
    <p>Specifies the distinguished name to use when the root user tries to modify a user's password using the PAM module.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>rootpwmodpw</strong>\*(T&gt; <em>PASSWORD</em></p>
  </dt>
  <dd>
    <p>Specifies the credentials with which to bind if the root user tries to change a user's password. This option is only applicable when used with \*(T&lt;<strong>rootpwmoddn</strong>\*(T&gt; above. If this option is not specified the PAM module prompts the user for this password. If you set this option you should consider changing the permissions of the \*(T&lt;<em>nslcd.conf</em>\*(T&gt; file to only grant access to the root user.</p>
  </dd>

</dl>

<h3>SASL AUTHENTICATION OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>sasl_mech</strong>\*(T&gt; <em>MECHANISM</em></p>
  </dt>
  <dd>
    <p>Specifies the SASL mechanism to be used when performing SASL authentication.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>sasl_realm</strong>\*(T&gt; <em>REALM</em></p>
  </dt>
  <dd>
    <p>Specifies the SASL realm to be used when performing SASL authentication.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>sasl_authcid</strong>\*(T&gt; <em>AUTHCID</em></p>
  </dt>
  <dd>
    <p>Specifies the authentication identity to be used when performing SASL authentication.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>sasl_authzid</strong>\*(T&gt; <em>AUTHZID</em></p>
  </dt>
  <dd>
    <p>Specifies the authorization identity to be used when performing SASL authentication. Must be specified in one of the formats: dn:&lt;distinguished name&gt; or u:&lt;username&gt;.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>sasl_secprops</strong>\*(T&gt; <em>PROPERTIES</em></p>
  </dt>
  <dd>
    <p>Specifies Cyrus SASL security properties. Allowed values are described in the <a href="../man5/ldap.conf.5.html"><strong>ldap.conf</strong>(5)</a> manual page.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>sasl_canonicalize</strong>\*(T&gt; yes|no</p>
  </dt>
  <dd>
    <p>Determines whether the LDAP server host name should be canonicalised. If this is set to yes the LDAP library will do a reverse host name lookup. By default, it is left up to the LDAP library whether this check is performed or not.</p>
  </dd>

</dl>

<h3>KERBEROS AUTHENTICATION OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>krb5_ccname</strong>\*(T&gt; <em>NAME</em></p>
  </dt>
  <dd>
    <p>Set the name for the GSS-API Kerberos credentials cache.</p>
  </dd>

</dl>

<h3>SEARCH/MAPPING OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>base</strong>\*(T&gt; [<em>MAP</em>] <em>DN</em></p>
  </dt>
  <dd>
    <p>Specifies the base distinguished name (DN) to use as search base. This option may be supplied multiple times and all specified bases will be searched.</p><p>A global search base may be specified or a MAP-specific one. If no MAP-specific search bases are defined the global ones are used.</p><p>If, instead of a DN, the value <em>DOMAIN</em> is specified, the host's DNS domain is used to construct a search base.</p><p>If this value is not defined an attempt is made to look it up in the configured LDAP server. Note that if the LDAP server is unavailable during start-up <strong>nslcd</strong> will not start.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>scope</strong>\*(T&gt; [<em>MAP</em>] sub[tree]|one[level]|base|children</p>
  </dt>
  <dd>
    <p>Specifies the search scope (subtree, onelevel, base or children). The default scope is subtree; base scope is almost never useful for name service lookups; children scope is not supported on all servers.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>deref</strong>\*(T&gt; never|searching|finding|always</p>
  </dt>
  <dd>
    <p>Specifies the policy for dereferencing aliases. The default policy is to never dereference aliases.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>referrals</strong>\*(T&gt; yes|no</p>
  </dt>
  <dd>
    <p>Specifies whether automatic referral chasing should be enabled. The default behaviour is to chase referrals.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>filter</strong>\*(T&gt; <em>MAP</em> <em>FILTER</em></p>
  </dt>
  <dd>
    <p>The <em>FILTER</em> is an LDAP search filter to use for a specific map. The default filter is a basic search on the objectClass for the map (e.g. \*(T&lt;(objectClass=posixAccount)\*(T&gt;).</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>map</strong>\*(T&gt; <em>MAP</em> <em>ATTRIBUTE</em> <em>NEWATTRIBUTE</em></p>
  </dt>
  <dd>
    <p>This option allows for custom attributes to be looked up instead of the default RFC 2307 attributes. The <em>MAP</em> may be one of the supported maps below. The <em>ATTRIBUTE</em> is the one as used in RFC 2307 (e.g. \*(T&lt;userPassword\*(T&gt;, \*(T&lt;ipProtocolNumber\*(T&gt;, \*(T&lt;macAddress\*(T&gt;, etc.). The <em>NEWATTRIBUTE</em> may be any attribute as it is available in the directory.</p><p>If the <em>NEWATTRIBUTE</em> is presented in quotes (") it is treated as an expression which will be evaluated to build up the actual value used. See the section on attribute mapping expressions below for more details.</p><p>Only some attributes for group, passwd and shadow entries may be mapped with an expression (because other attributes may be used in search filters). For group entries only the \*(T&lt;userPassword\*(T&gt; attribute may be mapped with an expression. For passwd entries the following attributes may be mapped with an expression: \*(T&lt;userPassword\*(T&gt;, \*(T&lt;gidNumber\*(T&gt;, \*(T&lt;gecos\*(T&gt;, \*(T&lt;homeDirectory\*(T&gt; and \*(T&lt;loginShell\*(T&gt;. For shadow entries the following attributes may be mapped with an expression: \*(T&lt;userPassword\*(T&gt;, \*(T&lt;shadowLastChange\*(T&gt;, \*(T&lt;shadowMin\*(T&gt;, \*(T&lt;shadowMax\*(T&gt;, \*(T&lt;shadowWarning\*(T&gt;, \*(T&lt;shadowInactive\*(T&gt;, \*(T&lt;shadowExpire\*(T&gt; and \*(T&lt;shadowFlag\*(T&gt;.</p><p>The \*(T&lt;uidNumber\*(T&gt; and \*(T&lt;gidNumber\*(T&gt; attributes in the \*(T&lt;passwd\*(T&gt; and \*(T&lt;group\*(T&gt; maps may be mapped to the \*(T&lt;objectSid\*(T&gt; followed by the domain SID to derive numeric user and group ids from the SID (e.g. \*(T&lt;objectSid:S-1-5-21-3623811015-3361044348-30300820\*(T&gt;).</p><p>By default all \*(T&lt;userPassword\*(T&gt; attributes are mapped to the unmatchable password ("*") to avoid accidentally leaking password information.</p>
  </dd>

</dl>

<h3>TIMING/RECONNECT OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>bind_timelimit</strong>\*(T&gt; <em>SECONDS</em></p>
  </dt>
  <dd>
    <p>Specifies the time limit (in seconds) to use when connecting to the directory server. This is distinct from the time limit specified in \*(T&lt;<strong>timelimit</strong>\*(T&gt; and affects the set-up of the connection only. Note that not all LDAP client libraries have support for setting the connection time out. The default \*(T&lt;<strong>bind_timelimit</strong>\*(T&gt; is 10 seconds.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>timelimit</strong>\*(T&gt; <em>SECONDS</em></p>
  </dt>
  <dd>
    <p>Specifies the time limit (in seconds) to wait for a response from the LDAP server. A value of zero (0), which is the default, is to wait indefinitely for searches to be completed.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>idle_timelimit</strong>\*(T&gt; <em>SECONDS</em></p>
  </dt>
  <dd>
    <p>Specifies the period if inactivity (in seconds) after which the connection to the LDAP server will be closed. The default is not to time out connections.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>reconnect_sleeptime</strong>\*(T&gt; <em>SECONDS</em></p>
  </dt>
  <dd>
    <p>Specifies the number of seconds to sleep when connecting to all LDAP servers fails. By default 1 second is waited between the first failure and the first retry.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>reconnect_retrytime</strong>\*(T&gt; <em>SECONDS</em></p>
  </dt>
  <dd>
    <p>Specifies the time after which the LDAP server is considered to be permanently unavailable. Once this time is reached retries will be done only once per this time period. The default value is 10 seconds.</p>
  </dd>

</dl>
<p>Note that the reconnect logic as described above is the mechanism that is used between <strong>nslcd</strong> and the LDAP server. The mechanism between the NSS and PAM client libraries on one end and <strong>nslcd</strong> on the other is simpler with a fixed compiled-in time out of a 10 seconds for writing to <strong>nslcd</strong> and a time out of 60 seconds for reading answers. <strong>nslcd</strong> itself has a read time out of 0.5 seconds and a write time out of 60 seconds.</p>
<h3>SSL/TLS OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>ssl</strong>\*(T&gt; on|off|start_tls</p>
  </dt>
  <dd>
    <p>Specifies whether to use SSL/TLS or not (the default is not to). If <em>start_tls</em> is specified then StartTLS is used rather than raw LDAP over SSL. Not all LDAP client libraries support both SSL, StartTLS and all related configuration options.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>tls_reqcert</strong>\*(T&gt; never|allow|try|demand|hard</p>
  </dt>
  <dd>
    <p>Specifies what checks to perform on a server-supplied certificate. The meaning of the values is described in the <a href="../man5/ldap.conf.5.html"><strong>ldap.conf</strong>(5)</a> manual page. At least one of \*(T&lt;<strong>tls_cacertdir</strong>\*(T&gt; and \*(T&lt;<strong>tls_cacertfile</strong>\*(T&gt; is required if peer verification is enabled.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>tls_cacertdir</strong>\*(T&gt; <em>PATH</em></p>
  </dt>
  <dd>
    <p>Specifies the directory containing X.509 certificates for peer authentication. This parameter is ignored when using GnuTLS. On Debian OpenLDAP is linked against GnuTLS.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>tls_cacertfile</strong>\*(T&gt; <em>PATH</em></p>
  </dt>
  <dd>
    <p>Specifies the path to the X.509 certificate for peer authentication.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>tls_randfile</strong>\*(T&gt; <em>PATH</em></p>
  </dt>
  <dd>
    <p>Specifies the path to an entropy source. This parameter is ignored when using GnuTLS. On Debian OpenLDAP is linked against GnuTLS.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>tls_ciphers</strong>\*(T&gt; <em>CIPHERS</em></p>
  </dt>
  <dd>
    <p>Specifies the ciphers to use for TLS. See your TLS implementation's documentation for further information.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>tls_cert</strong>\*(T&gt; <em>PATH</em></p>
  </dt>
  <dd>
    <p>Specifies the path to the file containing the local certificate for client TLS authentication.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>tls_key</strong>\*(T&gt; <em>PATH</em></p>
  </dt>
  <dd>
    <p>Specifies the path to the file containing the private key for client TLS authentication.</p>
  </dd>

</dl>

<h3>OTHER OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>pagesize</strong>\*(T&gt; <em>NUMBER</em></p>
  </dt>
  <dd>
    <p>Set this to a number greater than 0 to request paged results from the LDAP server in accordance with RFC2696. The default (0) is to not request paged results.</p><p>This is useful for LDAP servers that contain a lot of entries (e.g. more than 500) and limit the number of entries that are returned with one request. For OpenLDAP servers you may need to set \*(T&lt;<strong>sizelimit size.prtotal=unlimited</strong>\*(T&gt; for allowing more entries to be returned over multiple pages.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>nss_initgroups_ignoreusers</strong>\*(T&gt; user1,user2,...</p>
  </dt>
  <dd>
    <p>This option prevents group membership lookups through LDAP for the specified users. This can be useful in case of unavailability of the LDAP server. This option may be specified multiple times.</p><p>Alternatively, the value \*(T&lt;ALLLOCAL\*(T&gt; may be used. With that value nslcd builds a full list of non-LDAP users on startup.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>nss_min_uid</strong>\*(T&gt; <em>UID</em></p>
  </dt>
  <dd>
    <p>This option ensures that LDAP users with a numeric user id lower than the specified value are ignored. Also requests for users with a lower user id are ignored.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>nss_nested_groups</strong>\*(T&gt; yes|no</p>
  </dt>
  <dd>
    <p>If this option is set, the \*(T&lt;member\*(T&gt; attribute of a group may point to another group. Members of nested groups are also returned in the higher level group and parent groups are returned when finding groups for a specific user. The default is not to perform extra searches for nested groups.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>validnames</strong>\*(T&gt; <em>REGEX</em></p>
  </dt>
  <dd>
    <p>This option can be used to specify how user and group names are verified within the system. This pattern is used to check all user and group names that are requested and returned from LDAP.</p><p>The regular expression should be specified as a POSIX extended regular expression. The expression itself needs to be separated by slash (/) characters and the 'i' flag may be appended at the end to indicate that the match should be case-insensetive. The default value is \*(T&lt;/^[a-z0-9._@$()]([a-z0-9._@$() &#92;&#92;~-]*[a-z0-9._@$()~-])?$/i\*(T&gt;</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>ignorecase</strong>\*(T&gt; yes|no</p>
  </dt>
  <dd>
    <p>This specifies whether or not to perform searches for group, netgroup, passwd, protocols, rpc, services and shadow maps using case-insensitive matching. Setting this to \*(T&lt;yes\*(T&gt; could open up the system to authorisation vulnerabilities and introduce nscd cache poisoning vulnerabilities which allow denial of service. The default is to perform case-sensitve filtering of LDAP search results for the above maps.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>pam_authz_search</strong>\*(T&gt; <em>FILTER</em></p>
  </dt>
  <dd>
    <p>This option allows flexible fine tuning of the authorisation check that should be performed. The search filter specified is executed and if any entries match, access is granted, otherwise access is denied.</p><p>The search filter can contain the following variable references: \*(T&lt;$username\*(T&gt;, \*(T&lt;$service\*(T&gt;, \*(T&lt;$ruser\*(T&gt;, \*(T&lt;$rhost\*(T&gt;, \*(T&lt;$tty\*(T&gt;, \*(T&lt;$hostname\*(T&gt;, \*(T&lt;$fqdn\*(T&gt;, \*(T&lt;$dn\*(T&gt;, and \*(T&lt;$uid\*(T&gt;. These references are substituted in the search filter using the same syntax as described in the section on attribute mapping expressions below.</p><p>For example, to check that the user has a proper \*(T&lt;authorizedService\*(T&gt; value if the attribute is present (this almost emulates the \*(T&lt;<strong>pam_check_service_attr</strong>\*(T&gt; option in PADL's pam_ldap):</p>
<pre>
\*(T&lt;(&(objectClass=posixAccount)(uid=$username)(|(authorizedService=$service)(!(authorizedService=*))))\*(T&gt;
</pre>
<p>The \*(T&lt;<strong>pam_check_host_attr</strong>\*(T&gt; option can be emulated with:</p>
<pre>
\*(T&lt;(&(objectClass=posixAccount)(uid=$username)(|(host=$hostname)(host=$fqdn)(host=&#92;&#92;*)))\*(T&gt;
</pre>
<p>This option may be specified multiple times and all specified searches should at least return one entry for access to be granted.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>pam_password_prohibit_message</strong>\*(T&gt; "<em>MESSAGE</em>"</p>
  </dt>
  <dd>
    <p>If this option is set password modification using pam_ldap will be denied and the specified message will be presented to the user instead. The message can be used to direct the user to an alternative means of changing their password.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>reconnect_invalidate</strong>\*(T&gt; <em>DB</em>,<em>DB</em>,...</p>
  </dt>
  <dd>
    <p>If this option is set, on start-up and whenever a connection to the LDAP server is re-established after an error the specified caches are flushed.</p><p>If <em>DB</em> is one of the nsswitch maps, <strong>nscd</strong> is contacted to flush its cache for the specified database. If <em>DB</em> is \*(T&lt;nfsidmap\*(T&gt;, <strong>nfsidmap</strong> is contacted to clear its cache.</p><p>Using this option ensures that external caches are cleared of information (typically the absence of users) while the LDAP server was unavailable.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>cache</strong>\*(T&gt; <em>CACHE</em> <em>TIME</em> [<em>TIME</em>]</p>
  </dt>
  <dd>
    <p>Configure the time entries are kept in the specified internal cache.</p><p>The first <em>TIME</em> value specifies the time to keep found entries in the cache. The second <em>TIME</em> value specifies to the time to remember that a particular entry was not found. If the second parameter is absent, it is assumed to be the same as the first.</p><p>Time values are specified as a number followed by an \*(T&lt;s\*(T&gt; for seconds, \*(T&lt;m\*(T&gt; for minutes, \*(T&lt;h\*(T&gt; for hours or \*(T&lt;d\*(T&gt; for days. Use \*(T&lt;0\*(T&gt; or \*(T&lt;off\*(T&gt; to disable the cache.</p><p>Currently, only the \*(T&lt;dn2uid\*(T&gt; cache is supported that is used to remember DN to username lookups that are used when the \*(T&lt;member\*(T&gt; attribute is used. The default time value for this cache is \*(T&lt;15m\*(T&gt;.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED MAPS</h2>
        <div class="sectioncontent">
<p>The following maps are supported. They are referenced as <em>MAP</em> in the options above.</p>
<dl class='dl-vertical'>
  <dt>
    <p>alias[es]</p>
  </dt>
  <dd>
    <p>Mail aliases. Note that most mail servers do not use the NSS interface for requesting mail aliases and parse \*(T&lt;<em>/etc/aliases</em>\*(T&gt; on their own.</p>
  </dd>
  <dt>
    <p>ether[s]</p>
  </dt>
  <dd>
    <p>Ethernet numbers (mac addresses).</p>
  </dd>
  <dt>
    <p>group</p>
  </dt>
  <dd>
    <p>Posix groups.</p>
  </dd>
  <dt>
    <p>host[s]</p>
  </dt>
  <dd>
    <p>Host names.</p>
  </dd>
  <dt>
    <p>netgroup</p>
  </dt>
  <dd>
    <p>Host and user groups used for access control.</p>
  </dd>
  <dt>
    <p>network[s]</p>
  </dt>
  <dd>
    <p>Network numbers.</p>
  </dd>
  <dt>
    <p>passwd</p>
  </dt>
  <dd>
    <p>Posix users.</p>
  </dd>
  <dt>
    <p>protocol[s]</p>
  </dt>
  <dd>
    <p>Protocol definitions (like in \*(T&lt;<em>/etc/protocols</em>\*(T&gt;).</p>
  </dd>
  <dt>
    <p>rpc</p>
  </dt>
  <dd>
    <p>Remote procedure call names and numbers.</p>
  </dd>
  <dt>
    <p>service[s]</p>
  </dt>
  <dd>
    <p>Network service names and numbers.</p>
  </dd>
  <dt>
    <p>shadow</p>
  </dt>
  <dd>
    <p>Shadow user password information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ATTRIBUTE MAPPING EXPRESSIONS</h2>
        <div class="sectioncontent">
<p>For some attributes a mapping expression may be used to construct the resulting value. This is currently only possible for attributes that do not need to be used in search filters. The expressions are a subset of the double quoted string expressions in the Bourne (POSIX) shell. Instead of variable substitution, attribute lookups are done on the current entry and the attribute value is substituted. The following expressions are supported:</p>
<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;${attr}\*(T&gt; (or \*(T&lt;$attr\*(T&gt; for short)</p>
  </dt>
  <dd>
    <p>will substitute the value of the attribute</p>
  </dd>
  <dt>
    <p>\*(T&lt;${attr:-word}\*(T&gt;</p>
  </dt>
  <dd>
    <p>(use default) will substitbute the value of the attribute or, if the attribute is not set or empty substitute the word</p>
  </dd>
  <dt>
    <p>\*(T&lt;${attr:+word}\*(T&gt;</p>
  </dt>
  <dd>
    <p>(use alternative) will substitbute \*(T&lt;word\*(T&gt; if attribute is set, otherwise substitute the empty string</p>
  </dd>
  <dt>
    <p>\*(T&lt;${attr#word}\*(T&gt;</p>
  </dt>
  <dd>
    <p>remove the shortest possible match of \*(T&lt;word\*(T&gt; from the left of the attribute value</p>
  </dd>
  <dt>
    <p>\*(T&lt;${attr##word}\*(T&gt;</p>
  </dt>
  <dd>
    <p>remove the longest possible match of \*(T&lt;word\*(T&gt; from the left of the attribute value (<strong>pynslcd</strong> only)</p>
  </dd>
  <dt>
    <p>\*(T&lt;${attr%word}\*(T&gt;</p>
  </dt>
  <dd>
    <p>remove the shortest possible match of \*(T&lt;word\*(T&gt; from the right of the attribute value (<strong>pynslcd</strong> only)</p>
  </dd>
  <dt>
    <p>\*(T&lt;${attr%%word}\*(T&gt;</p>
  </dt>
  <dd>
    <p>remove the longest possible match of \*(T&lt;word\*(T&gt; from the right of the attribute value (<strong>pynslcd</strong> only)</p>
  </dd>

</dl>
<p>Only the # matching expression is supported in <strong>nslcd</strong> and only with the ? wildcard symbol. The <strong>pynslcd</strong> implementation supports full matching.</p><p>Quote (\*(T&lt;"\*(T&gt;), dollar (\*(T&lt;$\*(T&gt;) and backslash (\*(T&lt;&#92;\*(T&gt;) characters should be escaped with a backslash (\*(T&lt;&#92;\*(T&gt;).</p><p>The expressions are checked to figure out which attributes to fetch from LDAP. Some examples to demonstrate how these expressions may be used in attribute mapping:</p>
<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;"${shadowFlag:-0}"\*(T&gt;</p>
  </dt>
  <dd>
    <p>use the \*(T&lt;shadowFlag\*(T&gt; attribute, using the value 0 as default</p>
  </dd>
  <dt>
    <p>\*(T&lt;"${homeDirectory:-/home/$uid}"\*(T&gt;</p>
  </dt>
  <dd>
    <p>use the \*(T&lt;uid\*(T&gt; attribute to build a \*(T&lt;homeDirectory\*(T&gt; value if that attribute is missing</p>
  </dd>
  <dt>
    <p>\*(T&lt;"${isDisabled:+100}"\*(T&gt;</p>
  </dt>
  <dd>
    <p>if the \*(T&lt;isDisabled\*(T&gt; attribute is set, return 100, otherwise leave value empty</p>
  </dd>
  <dt>
    <p>\*(T&lt;"${userPassword#{crypt&#92;}}"\*(T&gt;</p>
  </dt>
  <dd>
    <p>strip the {crypt} prefix from the userPassword attribute, returning the raw hash value</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<em>/etc/nslcd.conf</em>\*(T&gt;</p>
  </dt>
  <dd>
    <p>the main configuration file</p>
  </dd>
  <dt>
    <p>\*(T&lt;<em>/etc/nsswitch.conf</em>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Name Service Switch configuration file</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nslcd.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/nslcd.8.html"><strong>nslcd</strong>(8)</a>, <a href="../man5/nsswitch.conf.5.html"><strong>nsswitch.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual was written by Arthur de Jong &lt;arthur@arthurdejong.org&gt; and is based on the <strong>nss_ldap</strong>(5) manual developed by PADL Software Pty Ltd.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nslcd-nslcd.conf.5.html"><span aria-hidden="true">&larr;</span> nslcd.conf.5: Configuration file for ldap nameservice daemon</a></li>
   <li class="next"><a href="nss.5.html">nss.5: Name service switch configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
