<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bwctlrc: Bandwidth control configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Bandwidth control configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="bwctlrc (5) manual">
  <meta name="twitter:description" content="Bandwidth control configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/bwctl-server-bwctlrc-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/bwctlrc.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="bwctlrc (5) manual" />
  <meta property="og:description" content="Bandwidth control configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/bwctl-server-bwctlrc-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">bwctlrc<small> (5)</small></h1>
        <p class="lead">Bandwidth control configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/bwctlrc.5.html">
      <span itemprop="name">bwctlrc: Bandwidth control configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/bwctl-server/">
      <span itemprop="name">bwctl-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/bwctlrc.5.html">
      <span itemprop="name">bwctlrc: Bandwidth control configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>bwctlrc</strong> file is a configuration file for the <strong>bwctl</strong>(8) program. If a test is requested using bwctl, and there is not a local <a href="../man8/bwctld.8.html"><strong>bwctld</strong>(8)</a> running, bwctl will spawn its own copy of bwctld. This configuration file is used to configure the basic operation of the automatically spawned server. For example, it can be used to configure whether to allow the local clock to be unsynchroznied, or where the iperf command is located.</p><p>This file can be placed in ~/.bwctlrc, where it will be automatically read by bwctl when it spawns off a bwctld. If the file is put elsewhere, the BWCTLRC environmental variable can be set to the path to the file and bwctl will read it.</p><p>The format of this file is:</p><ul>
<li><p>Comment lines are any line where the first non-whitespace character is '#'. These lines are counted for the purposes of returning line numbers in error messages but are otherwise ignored by the spawned <strong>bwctld</strong>.</p></li><li><p>Lines may be continued using the semi-standard '&#92;' character followed immediately by a newline character. This is the only valid place for the '&#92;' character. If it is found elsewhere, a syntax error is reported.</p></li><li><p>Blank lines are treated as comment lines.</p></li><li><p>All other lines are used to set configuration options. The format of these lines is an initial keyword followed by a variable list of arguments, separated by whitespace.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>access_priority</strong><em> priority</em></p>
  </dt>
  <dd>
    <p>Syslog <em>priority</em> to log access messages.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>LOG_INFO</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>allow_unsync</strong></p>
  </dt>
  <dd>
    <p>Directs <strong>bwctld</strong> to continue accepting valid requests for throughput tests when the system clock is not synchronized. <strong>bwctld</strong> prefers to have an NTP synchronized system clock to ensure the two endpoints of the test are actually agreeing to the same scheduled time window for test execution. This option is used to bypass this requirement for systems that either do not have the NTP system calls, or prefer not to configure NTP.</p><p>Note: if the difference between the system clocks on the two endpoints is too great, the eventual throughput test will fail when the endpoints attempt to run the test at different times. The threshold for this difference is controlled using the <em>sync_fuzz</em> option. (If you set allow_unsync, you should set <em>sync_fuzz</em> to a reasonable value for your system.)</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>unset (set if the operating system does have the NTP system calls)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>auth_mode</strong><em> authmode</em></p>
  </dt>
  <dd>
    <p>Specify the authentication modes the server is willing to use for communication. <em>auth_mode</em> should be set as a character string, with any or all of the characters "AEO". The modes are:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>A</strong>
  </dt>
  <dd>
    <p>[<strong>A</strong>]uthenticated. This mode encrypts the control connection.</p>
  </dd>
  <dt>
    <strong>E</strong>
  </dt>
  <dd>
    <p>[<strong>E</strong>]ncrypted. This mode encrypts the control connection. If the test supports encryption, this mode will additionally encrypt the test stream. (Encryption of the test stream is not currently supported, so this mode is currently identical to authenticated.)</p>
  </dd>
  <dt>
    <strong>O</strong>
  </dt>
  <dd>
    <p>[<strong>O</strong>]pen. No encryption of any kind is done.</p>
  </dd>

</dl>
<p>The server can specify all the modes with which it is willing to communicate. The most strict mode that both the server and the client are willing to use will be selected.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>"AEO"</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>bottleneck_capacity</strong><em> bottleneckcapacity</em></p>
  </dt>
  <dd>
    <p>This value is used in the algorithm to dynamically set the TCP send/recv window sizes. This option is likely to be removed in the future once a dynamic <em>bottleneck_capacity</em> algorithm is incorporated into the code. (This option only really works when the local NIC is the bottleneck.) If this option is not specified, the dynamic window calculation requested by the <strong>-W</strong> option to <strong>bwctl</strong> is not done and the advisory value is used.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>unset</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>control_timeout</strong><em> controltimeout</em></p>
  </dt>
  <dd>
    <p>Number of seconds to wait for protocol messages before timing out. This value should be significantly larger than what typical users specify for the <strong>-I</strong> flag of <strong>bwctl</strong> or <strong>bwctl</strong> will have to open a new control connection for each new test it requests.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>7200 (Picked to be the same as the default for TCP keepalive)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>die_by</strong><em> dieby</em></p>
  </dt>
  <dd>
    <p>Number of seconds to wait for child processes to gracefully terminate before killing them with <strong>SIGKILL</strong>. This is in response to the master process receiving <strong>SIGTERM</strong> or <strong>SIGHUP</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>30</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>facility</strong><em> facility</em></p>
  </dt>
  <dd>
    <p>Syslog <em>facility</em> to log messages.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>LOG_DAEMON</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>group</strong><em> group</em></p>
  </dt>
  <dd>
    <p>Specifies the gid the <strong>bwctld</strong> process should run as. <em>group</em> can be specified using a valid group name on the system or by using -gid. This option is only used if <strong>bwctld</strong> is started as root.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>unset</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>iperf_cmd</strong><em> iperfcmd</em></p>
  </dt>
  <dd>
    <p>The path to the <strong>Iperf</strong> command on the system. If the <em>iperf_cmd</em> does not contain a '/' character, then the PATH of the <strong>bwctld</strong> environment will be searched to find the <strong>Iperf</strong> executable.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>iperf</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>iperf_port</strong><em> iperfport</em></p>
  </dt>
  <dd>
    <p>The port number(s) that <strong>Iperf</strong> receivers will use. Currently, <strong>bwctld</strong> simply cycles through this range linearly. <em>iperf_port</em> can be specified as a single valid port number or as a range as <em>low</em>-<em>high</em>. The range must be specified as two valid port numbers with the '-' character separating them. Whitespace is not allowed within the <em>iperf_port</em>. For example, <strong>"5001-5004"</strong> would be valid, but <strong>"5001 - 5004"</strong> would be invalid.</p><p>This value should be set to a range because it can take a few minutes for a port to become free after a test has run. If the port is not free when the next test starts, the test will fail. If set to a range, the daemon will cycle through them when starting tests, decreasing the chance that a port will still be open when the test starts. For best results, ensure that this range is different from that of nuttcp_port and thrulay_port.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>5001</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>log_location</strong></p>
  </dt>
  <dd>
    <p>Directs the <strong>bwctld</strong> process to report source code file and line number information with error messages. This is a particularly useful option to set when sending in messages as part of a bug report.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>unset</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>nuttcp_cmd</strong><em> nuttcpcmd</em></p>
  </dt>
  <dd>
    <p>The path to the <strong>Nuttcp</strong> command on the system. If the <em>nuttcp_cmd</em> does not contain a '/' character, then the PATH of the <strong>bwctl</strong> environment will be searched to find the <strong>Nuttcp</strong> executable.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>nuttcp</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>nuttcp_port</strong><em> nuttcpport</em></p>
  </dt>
  <dd>
    <p>The port number(s) that <strong>Nuttcp</strong> receivers will use. Currently, <strong>bwctld</strong> simply cycles through this range linearly. <em>nuttcp_port</em> can be specified as a single valid port number or as a range as <em>low</em>-<em>high</em>. The range must be specified as two valid port numbers with the '-' character separating them. Whitespace is not allowed within the <em>nuttcp_port</em>. For example, <strong>"5001-5004"</strong> would be valid, but <strong>"5001 - 5004"</strong> would be invalid.</p><p>This value should be set to a range because it can take a few minutes for a port to become free after a test has run. If the port is not free when the next test starts, the test will fail. If set to a range, the daemon will cycle through them when starting tests, decreasing the chance that a port will still be open when the test starts. For best results, ensure that this range is different from that of iperf_port and thrulay_port.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>5001</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>peer_port</strong><em> 0 | lowport-highport</em></p>
  </dt>
  <dd>
    <p>Specify the port range that will be used on the local host for peer connections to other <strong>bwctld</strong> servers. These connections are used to verify clock timing between the servers and to exchange test results. This is a required part of the protocol used by <strong>BWCTL</strong> to run tests. However, this option allows system administrators to limit these connections to a specific port range, which should allow <strong>BWCTL</strong> to work in a firewall environment. This option can be specified in two ways. First, as a 0, which would indicate that <strong>bwctld</strong> should allow the system to pick the port (ephemeral). Second, as a range. <em>lowport</em> must be a smaller value than <em>highport</em> and both numbers must be valid port values. (16-bit unsigned integer values)</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>0</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>post_hook</strong><em> /path/to/script</em></p>
  </dt>
  <dd>
    <p>Specifies a script to run after each bwctl session has finished. These hooks can be used to save the results into a database, track usage or any number of other tasks. You can specify as many hooks as you want by including multiple post_hook entries.</p>
  </dd>
  <dt>
    <p><strong>priority</strong><em> priority</em></p>
  </dt>
  <dd>
    <p>Syslog <em>priority</em> to log error messages.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>LOG_ERR</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>root_folly</strong></p>
  </dt>
  <dd>
    <p>Disables the checks that disable <strong>bwctld</strong> if it is run with <em>root</em> permissions. There are legitimate reasons to run <strong>bwctld</strong> as root, but it is risky. Forcing this additional option will make it less likely root permissions are accidently used.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>unset</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>src_node</strong><em> nodename:port</em></p>
  </dt>
  <dd>
    <p>Specify the address and port on which <strong>bwctld</strong> will listen for requests. <em>nodename</em> can be specified using a DNS name or using the textual representation of the address. It is possible to set the source address without setting the <em>port</em> by simply leaving off the ':' and <em>port</em> specification. If an IPv6 address is specified, note that the accepted format contains <em>nodename</em> in square brackets as: [fe80::fe9f:62d8]. This ensures the port number is distinct from the address specification.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p><em>nodename</em> is wildcarded as any currently available address</p><p><em>port</em> is 4823</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>sync_fuzz</strong><em> syncfuzz</em></p>
  </dt>
  <dd>
    <p>This value is added to the NTP error estimates to increase the tolerance of <strong>bwctld</strong> to incomplete NTP configurations, or if the NTP system calls are not available. If NTP is unavailable to <strong>bwctld</strong> it assumes the clock is accurate to within one second plus the value of <em>sync_fuzz</em>. This option is specified as a floating point number in seconds. For example, to indicate that the system is synchronized within one second, you could specify this option as 1.0.</p><p>Practically, this option is used to determine the size of the time window buffer before and after each throughput test.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>0.0</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>thrulay_port</strong><em> thrulayport</em></p>
  </dt>
  <dd>
    <p>The port number(s) that <strong>Thrulay</strong> receivers will use. Currently, <strong>bwctld</strong> simply cycles through this range linearly. <em>thrulay_port</em> can be specified as a single valid port number or as a range as <em>low</em>-<em>high</em>. The range must be specified as two valid port numbers with the '-' character separating them. Whitespace is not allowed within the <em>thrulay_port</em>. For example, <strong>"5001-5004"</strong> would be valid, but <strong>"5001 - 5004"</strong> would be invalid.</p><p>This value should be set to a range because it can take a few minutes for a port to become free after a test has run. If the port is not free when the next test starts, the test will fail. If set to a range, the daemon will cycle through them when starting tests, decreasing the chance that a port will still be open when the test starts. For best results, ensure that this range is different from that of iperf_port and nuttcp_port.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>5003</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>user</strong><em> user</em></p>
  </dt>
  <dd>
    <p>Specifies the uid the <strong>bwctld</strong> process should run as. <em>user</em> can be specified using a valid user name on the system or by using -uid. This option is only used if <strong>bwctld</strong> is started as root. If the given <em>user</em> has <em>root</em> permissions, the <em>root_folly</em> option must also be specified.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>unset</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>var_dir</strong><em> vardir</em></p>
  </dt>
  <dd>
    <p>Directory path where the bwctld.pid file will be placed.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Current directory</p>
  </dd>

</dl>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO bwctlrc&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/bwctl.1.html"><strong>bwctl</strong>(1)</a>, <a href="../man8/bwctld.8.html"><strong>bwctld</strong>(8)</a>, <a href="../man5/bwctld.limits.5.html"><strong>bwctld.limits</strong>(5)</a>, <a href="../man5/bwctld.keys.5.html"><strong>bwctld.keys</strong>(5)</a>, and the http://e2epi.internet2.edu/bwctl/ web site.</p><p>For details on <strong>Iperf</strong>, see the http://sourceforge.net/projects/iperf web site.</p><p>For details on <strong>Nuttcp</strong>, see the http://www.wcisd.hpc.mil/nuttcp/Nuttcp-HOWTO.html web site.</p><p>For details on <strong>Thrulay</strong>, see the http://e2epi.internet2.edu/thrulay/ web site.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGMENTS</h2>
        <div class="sectioncontent">
<p>This material is based in part on work supported by the National Science Foundation (NSF) under Grant No. ANI-0314723. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the NSF.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="bwctld.limits.5.html"><span aria-hidden="true">&larr;</span> bwctld.limits.5: Bandwidth control daemon policy configuration file</a></li>
   <li class="next"><a href="byteprefix.5.html">byteprefix.5: Configuration for display of sizes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
