<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>shorewall6-tunnels: Shorewall6 vpn definition file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shorewall6 vpn definition file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="shorewall6-tunnels (5) manual">
  <meta name="twitter:description" content="Shorewall6 vpn definition file">
  <meta name="twitter:image" content="https://www.carta.tech/images/shorewall6-shorewall6-tunnels-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/shorewall6-tunnels.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="shorewall6-tunnels (5) manual" />
  <meta property="og:description" content="Shorewall6 vpn definition file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/shorewall6-shorewall6-tunnels-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">shorewall6-tunnels<small> (5)</small></h1>
        <p class="lead">Shorewall6 vpn definition file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/shorewall6-tunnels.5.html">
      <span itemprop="name">shorewall6-tunnels: Shorewall6 vpn definition file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/shorewall6/">
      <span itemprop="name">shorewall6</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/shorewall6-tunnels.5.html">
      <span itemprop="name">shorewall6-tunnels: Shorewall6 vpn definition file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/etc/shorewall6/tunnels</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The tunnels file is used to define rules for encapsulated (usually encrypted) traffic to pass between the Shorewall6 system and a remote gateway. Traffic flowing through the tunnel is handled using the normal zone/policy/rule mechanism. See \m[blue]<strong>http://www.shorewall.net/VPNBasics.html</strong>\m[]\s-2\u[1]\d\s+2 for details.</p><p>The columns in the file are as follows (where the column name is followed by a different name in parentheses, the different name is used in the alternate specification syntax).</p><p><strong>TYPE</strong> - {<strong>ipsec</strong>[<strong>:{noah</strong>|ah}]|<strong>ipsecnat</strong>|<strong>gre</strong>|l2tp|<strong>pptpclient</strong>|<strong>pptpserver</strong>|{<strong>openvpn</strong>|<strong>openvpnclient</strong>|<strong>openvpnserver</strong>}[:{<strong>tcp</strong>|<strong>udp</strong>}]<strong>[</strong>:<em>port</em>]|<strong>generic</strong><strong>:</strong><em>protocol</em>[<strong>:</strong><em>port</em>]}</p><p>Types are as follows:</p>
<pre>
        <strong>ipsec</strong>         - IPv6 IPSEC
        <strong>ipsecnat</strong>      - IPv6 IPSEC with NAT Traversal (UDP port 4500 encapsulation)
        <strong>gre</strong>           - Generalized Routing Encapsulation (Protocol 47)
        <strong>l2tp</strong>          - Layer 2 Tunneling Protocol (UDP port 1701)
        <strong>openvpn</strong>       - OpenVPN in point-to-point mode
        <strong>openvpnclient</strong> - OpenVPN client runs on the firewall
        <strong>openvpnserver</strong> - OpenVPN server runs on the firewall
        <strong>generic</strong>       - Other tunnel type
</pre>
<p>If the type is <strong>ipsec</strong>, it may be followed by <strong>:ah</strong> to indicate that the Authentication Headers protocol (51) is used by the tunnel (the default is <strong>:noah</strong> which means that protocol 51 is not used). NAT traversal is only supported with ESP (protocol 50) so <strong>ipsecnat</strong> tunnels don&apos;t allow the <strong>ah</strong> option (<strong>ipsecnat:noah</strong> may be specified but is redundant).</p><p>If type is <strong>openvpn</strong>, <strong>openvpnclient</strong> or <strong>openvpnserver</strong> it may optionally be followed by ":" and <strong>tcp</strong> or <strong>udp</strong> to specify the protocol to be used. If not specified, <strong>udp</strong> is assumed. Note: At this writing, OpenVPN does not support IPv6.</p><p>If type is <strong>openvpn</strong>, <strong>openvpnclient</strong> or <strong>openvpnserver</strong> it may optionally be followed by ":" and the port number used by the tunnel. if no ":" and port number are included, then the default port of 1194 will be used. . Where both the protocol and port are specified, the protocol must be given first (e.g., openvpn:tcp:4444).</p><p>If type is <strong>generic</strong>, it must be followed by ":" and a protocol name (from /etc/protocols) or a protocol number. If the protocol is <strong>tcp</strong> or <strong>udp</strong> (6 or 17), then it may optionally be followed by ":" and a port number.</p><p>Comments may be attached to Netfilter rules generated from entries in this file through the use of COMMENT lines. These lines begin with the word COMMENT; the remainder of the line is treated as a comment which is attached to subsequent rules until another COMMENT line is found or until the end of the file is reached. To stop adding comments to rules, use a line with only the word COMMENT.</p><p><strong>Note</strong></p><p>Beginning with Shorewall 4.5.11, ?COMMENT is a synonym for COMMENT and is preferred.</p><p><strong>ZONE</strong> - <em>zone</em></p><p>The <em>zone</em> of the physical interface through which tunnel traffic passes. This is normally your internet zone.</p><p><strong>GATEWAY</strong>(S) (gateway or gateways) - <em>address-or-range</em> <strong>[ , ... ]</strong></p><p>The IP address of the remote tunnel gateway. If the remote gateway has no fixed address (Road Warrior) then specify the gateway as <strong>::/0</strong>. May be specified as a network address and if your kernel and ip6tables include iprange match support then IP address ranges are also allowed.</p><p>Beginning with Shorewall 4.5.3, a list of addresses or ranges may be given. Exclusion (\m[blue]<strong>shorewall6-exclusion</strong>\m[]\s-2\u[2]\d\s+2 (5) ) is not supported.</p><p><strong>GATEWAY ZONE(S)</strong> (gateway_zone or gateway_zones) - [<em>zone</em>[<strong>,</strong><em>zone</em>]...]</p><p>Optional. If the gateway system specified in the third column is a standalone host then this column should contain a comma-separated list of the names of the zones that the host might be in. This column only applies to IPSEC tunnels where it enables ISAKMP traffic to flow through the tunnel to the remote gateway(s).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Example 1:</p><p>IPSec tunnel.</p><p>The remote gateway is 2001:cec792b4:1::44. The tunnel does not use the AH protocol</p>
<pre>
        #TYPE           ZONE    GATEWAY
        ipsec:noah      net     2002:cec792b4:1::44
</pre>
<p>Example 2:</p><p>Road Warrior (LapTop that may connect from anywhere) where the "gw" zone is used to represent the remote LapTop</p>
<pre>
        #TYPE           ZONE    GATEWAY                 GATEWAY ZONES
        ipsec           net     ::/0                    gw
</pre>
<p>Example 3:</p><p>Host 2001:cec792b4:1::44 is a standalone system connected via an ipsec tunnel to the firewall system. The host is in zone gw.</p>
<pre>
        #TYPE           ZONE    GATEWAY                 GATEWAY ZONES
        ipsec           net     2001:cec792b4:1::44     gw
</pre>
<p>Example 4:</p><p>OPENVPN tunnel. The remote gateway is 2001:cec792b4:1::44 and openvpn uses port 7777.</p>
<pre>
        #TYPE           ZONE    GATEWAY                 GATEWAY ZONES
        openvpn:7777    net     2001:cec792b4:1::44
</pre>
<p>Example 8:</p><p>You have a tunnel that is not one of the supported types. Your tunnel uses UDP port 4444. The other end of the tunnel is 2001:cec792b4:1::44.</p>
<pre>
        #TYPE            ZONE    GATEWAY                GATEWAY ZONES
        generic:udp:4444 net     2001:cec792b4:1::44
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/shorewall6/tunnels</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO shorewall6-tunnels&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>http://www.shorewall.net/configuration_file_basics.htm#Pairs</strong>\m[]\s-2\u[3]\d\s+2</p><p><strong>shorewall6</strong>(8), <a href="../man5/shorewall6-accounting.5.html"><strong>shorewall6-accounting</strong>(5)</a>, <a href="../man5/shorewall6-actions.5.html"><strong>shorewall6-actions</strong>(5)</a>, <a href="../man5/shorewall6-blacklist.5.html"><strong>shorewall6-blacklist</strong>(5)</a>, <a href="../man5/shorewall6-hosts.5.html"><strong>shorewall6-hosts</strong>(5)</a>, <a href="../man5/shorewall6-interfaces.5.html"><strong>shorewall6-interfaces</strong>(5)</a>, <a href="../man5/shorewall6-maclist.5.html"><strong>shorewall6-maclist</strong>(5)</a>, <a href="../man5/shorewall6-netmap.5.html"><strong>shorewall6-netmap</strong>(5)</a>,<a href="../man5/shorewall6-params.5.html"><strong>shorewall6-params</strong>(5)</a>, <a href="../man5/shorewall6-policy.5.html"><strong>shorewall6-policy</strong>(5)</a>, <a href="../man5/shorewall6-providers.5.html"><strong>shorewall6-providers</strong>(5)</a>, <a href="../man5/shorewall6-rtrules.5.html"><strong>shorewall6-rtrules</strong>(5)</a>, <a href="../man5/shorewall6-routestopped.5.html"><strong>shorewall6-routestopped</strong>(5)</a>, <a href="../man5/shorewall6-rules.5.html"><strong>shorewall6-rules</strong>(5)</a>, <a href="../man5/shorewall6.conf.5.html"><strong>shorewall6.conf</strong>(5)</a>, <a href="../man5/shorewall6-secmarks.5.html"><strong>shorewall6-secmarks</strong>(5)</a>, <a href="../man5/shorewall6-tcclasses.5.html"><strong>shorewall6-tcclasses</strong>(5)</a>, <a href="../man5/shorewall6-tcdevices.5.html"><strong>shorewall6-tcdevices</strong>(5)</a>, <a href="../man5/shorewall6-mangle.5.html"><strong>shorewall6-mangle</strong>(5)</a>, <a href="../man5/shorewall6-tos.5.html"><strong>shorewall6-tos</strong>(5)</a>, <a href="../man5/shorewall6-zones.5.html"><strong>shorewall6-zones</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>http://www.shorewall.net/VPNBasics.html</p><p>http://www.shorewall.net/VPNBasics.html</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>shorewall6-exclusion</p><p>http://www.shorewall.net/manpages6/shorewall6-exclusion.html</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p>http://www.shorewall.net/configuration_file_basics.htm#Pairs</p><p>http://www.shorewall.net/configuration_file_basics.htm#Pairs</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shorewall6-tos.5.html"><span aria-hidden="true">&larr;</span> shorewall6-tos.5: Shorewall6 type of service rules file</a></li>
   <li class="next"><a href="shorewall6-vardir.5.html">shorewall6-vardir.5: Shorewall6 file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
