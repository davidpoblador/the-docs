<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>k5identity: Kerberos v5 client principal selection rules</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Kerberos v5 client principal selection rules">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="k5identity (5) manual">
  <meta name="twitter:description" content="Kerberos v5 client principal selection rules">
  <meta name="twitter:image" content="https://www.carta.tech/images/krb5-doc-k5identity-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/k5identity.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="k5identity (5) manual" />
  <meta property="og:description" content="Kerberos v5 client principal selection rules" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/krb5-doc-k5identity-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">k5identity<small> (5)</small></h1>
        <p class="lead">Kerberos v5 client principal selection rules</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/k5identity.5.html">
      <span itemprop="name">k5identity: Kerberos v5 client principal selection rules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/krb5-doc/">
      <span itemprop="name">krb5-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/k5identity.5.html">
      <span itemprop="name">k5identity: Kerberos v5 client principal selection rules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The .k5identity file, which resides in a user&apos;s home directory, contains a list of rules for selecting a client principals based on the server being accessed.  These rules are used to choose a credential cache within the cache collection when possible.</p><p>Blank lines and lines beginning with <strong>#</strong> are ignored.  Each line has the form:</p><p><em>principal</em> <em>field</em>=<em>value</em> ...</p><p>If the server principal meets all of the field constraints, then principal is chosen as the client principal.  The following fields are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>realm</strong><strong></strong></p>
  </dt>
  <dd>
    <p>If the realm of the server principal is known, it is matched against <em>value</em>, which may be a pattern using shell wildcards. For host-based server principals, the realm will generally only be known if there is a <em>domain_realm</em> section in <a href="../man5/krb5.conf.5.html"><strong>krb5.conf</strong>(5)</a></em> with a mapping for the hostname.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>service</strong><strong></strong></p>
  </dt>
  <dd>
    <p>If the server principal is a host-based principal, its service component is matched against <em>value</em>, which may be a pattern using shell wildcards.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>host</strong><strong></strong></p>
  </dt>
  <dd>
    <p>If the server principal is a host-based principal, its hostname component is converted to lower case and matched against <em>value</em>, which may be a pattern using shell wildcards.</p><p>If the server principal matches the constraints of multiple lines in the .k5identity file, the principal from the first matching line is used.  If no line matches, credentials will be selected some other way, such as the realm heuristic or the current primary cache.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following example .k5identity file selects the client principal <strong>alice@KRBTEST.COM</strong> if the server principal is within that realm, the principal <strong>alice/root@EXAMPLE.COM</strong> if the server host is within a servers subdomain, and the principal <strong>alice/mail@EXAMPLE.COM</strong> when accessing the IMAP service on <strong>mail.example.com</strong>:</p>
<pre>
alice@KRBTEST.COM       realm=KRBTEST.COM
alice/root@EXAMPLE.COM  host=*.servers.example.com
alice/mail@EXAMPLE.COM  host=mail.example.com service=imap
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO k5identity&hellip;</h2>
        <div class="sectioncontent">
<p><strong>kerberos</strong>(1), <a href="../man5/krb5.conf.5.html"><strong>krb5.conf</strong>(5)</a></em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>MIT</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>1985-2013, MIT</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="jython.conf.5.html"><span aria-hidden="true">&larr;</span> jython.conf.5: Jython registry for system-wide options</a></li>
   <li class="next"><a href="k5login.5.html">k5login.5: Kerberos v5 acl file for host access <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
