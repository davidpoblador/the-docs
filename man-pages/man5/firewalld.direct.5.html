<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>firewalld.direct: Firewalld direct configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Firewalld direct configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="firewalld.direct (5) manual">
  <meta name="twitter:description" content="Firewalld direct configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/firewalld-firewalld.direct-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/firewalld.direct.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="firewalld.direct (5) manual" />
  <meta property="og:description" content="Firewalld direct configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/firewalld-firewalld.direct-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">firewalld.direct<small> (5)</small></h1>
        <p class="lead">Firewalld direct configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/firewalld.direct.5.html">
      <span itemprop="name">firewalld.direct: Firewalld direct configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/firewalld/">
      <span itemprop="name">firewalld</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/firewalld.direct.5.html">
      <span itemprop="name">firewalld.direct: Firewalld direct configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<em>/etc/firewalld/direct.xml</em>

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Direct configuration gives a more direct access to the firewall. It requires user to know basic ip(6)tables concepts, i.e. <em>table</em> (filter/mangle/nat/...), <em>chain</em> (INPUT/OUTPUT/FORWARD/...), <em>commands</em> (-A/-D/-I/...), <em>parameters</em> (-p/-s/-d/-j/...) and <em>targets</em> (ACCEPT/DROP/REJECT/...). Direct configuration should be used only as a last resort when it&apos;s not possible to use <a href="../man5/firewalld.zone.5.html"><strong>firewalld.zone</strong>(5)</a>. See also <em>Direct Options</em> in <strong>firewall-cmd</strong>(1).</p><p>A firewalld direct configuration file contains informations about permanent direct chains, rules and passthrough ...</p><p>This is the structure of a direct configuration file:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;direct&gt;
  [ &lt;chain ipv="<em>ipv4</em>|<em>ipv6</em>" table="<em>table</em>" chain="<em>chain</em>"/&gt; ]
  [ &lt;rule ipv="<em>ipv4</em>|<em>ipv6</em>" table="<em>table</em>" chain="<em>chain</em>" priority="<em>priority</em>"&gt; args &lt;/rule&gt; ]
  [ &lt;passthrough ipv="<em>ipv4</em>|<em>ipv6</em>"&gt; args &lt;/passthrough&gt; ]
&lt;/direct&gt;

</pre>
<h3>direct</h3>
<p>The mandatory direct start and end tag defines the direct. This tag can only be used once in a direct configuration file. There are no attributes for direct.</p>
<h3>chain</h3>
<p>Is an optional empty-element tag and can be used several times. It can be used to define names for additional chains. A chain entry has exactly three attributes:</p><p>ipv="<em>ipv4</em>|<em>ipv6</em>"</p><p>The IP family where the chain will be created. This can be either <em>ipv4</em> or <em>ipv6</em>.</p><p>table="<em>table</em>"</p><p>The table name where the chain will be created. This can be one of the tables that can be used for iptables or ip6tables. For the possible values, please have a look at the TABLES section in the iptables man pages: For ipv="<em>ipv4</em>" in <a href="../man8/iptables.8.html"><strong>iptables</strong>(8)</a>, for ipv="<em>ipv6</em>" in <a href="../man8/ip6tables.8.html"><strong>ip6tables</strong>(8)</a>.</p><p>chain="<em>chain</em>"</p><p>The name of the chain, that will be created. Please make sure that there is no other chain with this name already.</p><p>Please remember to add a rule or passthrough rule with an <strong>--jump</strong> or <strong>--goto</strong> option to connect the chain to another one.</p>
<h3>rule</h3>
<p>Is an optional element tag and can be used several times. It can be used to add rules to a built-in or added chain. A rule entry has exactly four attributes:</p><p>ipv="<em>ipv4</em>|<em>ipv6</em>"</p><p>The IP family where the rule will be added. This can be either <em>ipv4</em> or <em>ipv6</em>.</p><p>table="<em>table</em>"</p><p>The table name where the rule will be added. This can be one of the tables that casn be used for iptables or ip6tables. For the possible values, please have a look at the TABLES section in the iptables man pages: For ipv="<em>ipv4</em>" in <a href="../man8/iptables.8.html"><strong>iptables</strong>(8)</a>, for ipv="<em>ipv6</em>" in <a href="../man8/ip6tables.8.html"><strong>ip6tables</strong>(8)</a>.</p><p>chain="<em>chain</em>"</p><p>The name of the chain where the rule will be added. This can be either a built-in chain or a chain that has been created with the chain tag. If the chain name is a built-in chain, then the rule will be added to <em>chain</em>_direct, else the supplied chain name is used. <em>chain</em>_direct is created internally for all built-in chains to make sure that the added rules do not conflict with the rules created by firewalld.</p><p>priority="<em>priority</em>"</p><p>The priority is used to order rules. Priority 0 means add rule on top of the chain, with a higher priority the rule will be added further down. Rules with the same priority are on the same level and the order of these rules is not fixed and may change. If you want to make sure that a rule will be added after another one, use a low priority for the first and a higher for the following.</p><p>The <em>args</em> can be any arguments of iptables or ip6tables, that do not conflict with the table or chain attributes.</p>
<h3>passthrough</h3>
<p>Is an optional element tag and can be used several times. It can be used to add rules to a built-in or added chain. A rule entry has exactly one attribute:</p><p>ipv="<em>ipv4</em>|<em>ipv6</em>"</p><p>The IP family where the passthrough rule will be added. This can be either <em>ipv4</em> or <em>ipv6</em>.</p><p>The <em>args</em> can be any arguments of iptables or ip6tables.</p><p>The passthrough rule will be added to the chain directly. There is no mechanism like for the direct <strong>rule</strong> above. The user of the passthrough rule has to make sure that there will be no conflict with the rules created by firewalld.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Blacklisting of the networks 192.168.1.0/24 and 192.168.5.0/24 with logging and dropping early in the raw table:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;direct&gt;
  &lt;chain ipv="ipv4" table="raw" chain="blacklist"/&gt;
  &lt;rule ipv="ipv4" table="raw" chain="PREROUTING" priority="0"&gt;-s 192.168.1.0/24 -j blacklist&lt;/rule&gt;
  &lt;rule ipv="ipv4" table="raw" chain="PREROUTING" priority="1"&gt;-s 192.168.5.0/24 -j blacklist&lt;/rule&gt;
  &lt;rule ipv="ipv4" table="raw" chain="blacklist" priority="0"&gt;-m limit --limit 1/min -j LOG --log-prefix "blacklisted: "&lt;/rule&gt;
  &lt;rule ipv="ipv4" table="raw" chain="blacklist" priority="1"&gt;-j DROP&lt;/rule&gt;
&lt;/direct&gt;

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO firewalld.direct&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/firewall-applet.1.html"><strong>firewall-applet</strong>(1)</a>, <a href="../man1/firewalld.1.html"><strong>firewalld</strong>(1)</a>, <strong>firewall-cmd</strong>(1), <a href="../man1/firewall-config.1.html"><strong>firewall-config</strong>(1)</a>, <a href="../man5/firewalld.conf.5.html"><strong>firewalld.conf</strong>(5)</a>, <a href="../man5/firewalld.direct.5.html"><strong>firewalld.direct</strong>(5)</a>, <a href="../man5/firewalld.icmptype.5.html"><strong>firewalld.icmptype</strong>(5)</a>, <a href="../man5/firewalld.lockdown-whitelist.5.html"><strong>firewalld.lockdown-whitelist</strong>(5)</a>, <a href="../man1/firewall-offline-cmd.1.html"><strong>firewall-offline-cmd</strong>(1)</a>, <a href="../man5/firewalld.richlanguage.5.html"><strong>firewalld.richlanguage</strong>(5)</a>, <a href="../man5/firewalld.service.5.html"><strong>firewalld.service</strong>(5)</a>, <a href="../man5/firewalld.zone.5.html"><strong>firewalld.zone</strong>(5)</a>, <a href="../man5/firewalld.zones.5.html"><strong>firewalld.zones</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>firewalld home page:</p><p>\m[blue]<strong>http://www.firewalld.org</strong>\m[]</p><p>More documentation with examples:</p><p>\m[blue]<strong>http://fedoraproject.org/wiki/FirewallD</strong>\m[]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>Thomas Woerner</strong> &lt;twoerner@redhat.com&gt;</p><p>Developer</p><p><strong>Jiri Popelka</strong> &lt;jpopelka@redhat.com&gt;</p><p>Developer</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="firewalld.dbus.5.html"><span aria-hidden="true">&larr;</span> firewalld.dbus.5: Firewalld d-bus interface description</a></li>
   <li class="next"><a href="firewalld.icmptype.5.html">firewalld.icmptype.5: Firewalld icmptype configuration files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
