<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pptpd.conf: Pptp vpn daemon configuration</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pptp vpn daemon configuration">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pptpd.conf (5) manual">
  <meta name="twitter:description" content="Pptp vpn daemon configuration">
  <meta name="twitter:image" content="https://www.carta.tech/images/pptpd-pptpd.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/pptpd.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pptpd.conf (5) manual" />
  <meta property="og:description" content="Pptp vpn daemon configuration" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pptpd-pptpd.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pptpd.conf<small> (5)</small></h1>
        <p class="lead">Pptp vpn daemon configuration</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/pptpd.conf.5.html">
      <span itemprop="name">pptpd.conf: Pptp vpn daemon configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pptpd/">
      <span itemprop="name">pptpd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/pptpd.conf.5.html">
      <span itemprop="name">pptpd.conf: Pptp vpn daemon configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><a href="../man8/pptpd.8.html"><strong>pptpd</strong>(8)</a> reads options from this file, usually <em>/etc/pptpd.conf</em>. Most options can be overridden by the command line.  The local and remote IP addresses for clients must come from the configuration file or from <a href="../man8/pppd.8.html"><strong>pppd</strong>(8)</a> configuration files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>option </strong><em>option-file</em></p>
  </dt>
  <dd>
    <p>the name of an option file to be passed to <a href="../man8/pppd.8.html"><strong>pppd</strong>(8)</a> in place of the default <em>/etc/ppp/options</em> so that PPTP specific options can be given. Equivalent to the command line <strong>--option</strong> option.</p>
  </dd>
  <dt>
    <p><strong>stimeout </strong><em>seconds</em></p>
  </dt>
  <dd>
    <p>number of seconds to wait for a PPTP packet before forking the <a href="../man8/pptpctrl.8.html"><strong>pptpctrl</strong>(8)</a> program to handle the client.  The default is 10 seconds.  This is a denial of service protection feature. Equivalent to the command line <strong>--stimeout</strong> option.</p>
  </dd>
  <dt>
    <p><strong>logwtmp</strong></p>
  </dt>
  <dd>
    <p>update <a href="../man5/wtmp.5.html"><strong>wtmp</strong>(5)</a> as users connect and disconnect.  See <strong>wtmp</strong>(1).</p>
  </dd>
  <dt>
    <p><strong>debug</strong></p>
  </dt>
  <dd>
    <p>turns on debugging mode, sending debugging information to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>. Has no effect on <a href="../man8/pppd.8.html"><strong>pppd</strong>(8)</a> debugging.  Equivalent to the command line <strong>--debug</strong> option.</p>
  </dd>
  <dt>
    <p><strong>bcrelay </strong><em>internal-interface</em></p>
  </dt>
  <dd>
    <p>turns on broadcast relay mode, sending all broadcasts received on the server's internal interface to the clients. Equivalent to the command line <strong>--bcrelay</strong> option.</p>
  </dd>
  <dt>
    <p><strong>connections </strong><em>n</em></p>
  </dt>
  <dd>
    <p>limits the number of client connections that may be accepted. If pptpd is allocating IP addresses (e.g. <strong>delegate</strong> is not used) then the number of connections is also limited by the <strong>remoteip</strong> option.  The default is 100.</p>
  </dd>
  <dt>
    <p><strong>delegate</strong></p>
  </dt>
  <dd>
    <p>delegates the allocation of client IP addresses to <a href="../man8/pppd.8.html"><strong>pppd</strong>(8)</a>. Without this option, which is the default, pptpd manages the list of IP addresses for clients and passes the next free address to pppd. With this option, pptpd does not pass an address, and so pppd may use radius or chap-secrets to allocate an address.</p>
  </dd>
  <dt>
    <p><strong>localip </strong><em>ip-specification</em></p>
  </dt>
  <dd>
    <p>one or many IP addresses to be used at the local end of the tunnelled PPP links between the server and the client.  If one address only is given, this address is used for all clients.  Otherwise, one address per client must be given, and if there are no free addresses then any new clients will be refused. <strong>localip</strong> will be ignored if the <strong>delegate</strong> option is used.</p>
  </dd>
  <dt>
    <p><strong>remoteip </strong><em>ip-specification</em></p>
  </dt>
  <dd>
    <p>a list of IP addresses to assign to remote PPTP clients. Each connected client must have a different address, so there must be at least as many addresses as you have simultaneous clients, and preferably some spare, since you cannot change this list without restarting pptpd. A warning will be sent to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a> when the IP address pool is exhausted. <strong>remoteip</strong> will be ignored if the <strong>delegate</strong> option is used.</p>
  </dd>
  <dt>
    <p><strong>noipparam</strong></p>
  </dt>
  <dd>
    <p>by default, the original client IP address is given to ip-up scripts using the <a href="../man8/pppd.8.html"><strong>pppd</strong>(8)</a> option <strong>ipparam.</strong> The <strong>noipparam</strong> option prevents this. Equivalent to the command line <strong>--noipparam</strong> option.</p>
  </dd>
  <dt>
    <p><strong>listen </strong><em>ip-address</em></p>
  </dt>
  <dd>
    <p>the local interface IP address to listen on for incoming PPTP connections (TCP port 1723). Equivalent to the command line <strong>--listen</strong> option.</p>
  </dd>
  <dt>
    <p><strong>vrf </strong><em>vrf-name</em></p>
  </dt>
  <dd>
    <p>VRF to use for the TCP listening socket as well as the GRE packets. Equivalent to the command line <strong>--vrf</strong> option.</p>
  </dd>
  <dt>
    <p><strong>pidfile </strong><em>pid-file</em></p>
  </dt>
  <dd>
    <p>specifies an alternate location to store the process ID file (default /var/run/pptpd.pid).  Equivalent to the command line <strong>--pidfile</strong> option.</p>
  </dd>
  <dt>
    <p><strong>speed </strong><em>speed</em></p>
  </dt>
  <dd>
    <p>specifies a speed (in bits per second) to pass to the PPP daemon as the interface speed for the tty/pty pair.  This is ignored by some PPP daemons, such as Linux's <a href="../man8/pppd.8.html"><strong>pppd</strong>(8)</a>. The default is 115200 bytes per second, which some implementations interpret as meaning "no limit".  Equivalent to the command line <strong>--speed</strong> option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>An <em>ip-specification</em> above (for the <strong>localip</strong> and <strong>remoteip</strong> tags) may be a list of IP addresses (for example 192.168.0.2,192.168.0.3), a range (for example 192.168.0.1-254 or 192.168.0-255.2) or some combination (for example 192.168.0.2,192.168.0.5-8).  For some valid pairs might be (depending on use of the VPN):</p><p><strong>localip </strong><em>192.168.0.1</em></p><p><strong>remoteip </strong><em>192.168.0.2-254</em></p><p>or</p><p><strong>localip </strong><em>192.168.1.2-254</em></p><p><strong>remoteip </strong><em>192.168.0.2-254</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ROUTING CHECKLIST - PROXYARP</h2>
        <div class="sectioncontent">
<p>Allocate a section of your LAN addresses for use by clients.</p><p>In <em>/etc/ppp/options.pptpd.</em> set the <strong>proxyarp</strong> option. In <em>pptpd.conf</em> do not set <strong>localip</strong> option, but set <strong>remoteip</strong> to the allocated address range. Enable kernel forwarding of packets, (e.g. using <em>/proc/sys/net/ipv4/ip_forward</em> ).</p><p>The server will advertise the clients to the LAN using ARP, providing it's own ethernet address. <a href="../man8/bcrelay.8.html"><strong>bcrelay</strong>(8)</a> should not be required.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ROUTING CHECKLIST - FORWARDING</h2>
        <div class="sectioncontent">
<p>Allocate a subnet for the clients that is routable from your LAN, but is not part of your LAN.</p><p>In <em>pptpd.conf</em> set <strong>localip</strong> to a single address or range in the allocated subnet, set <strong>remoteip</strong> to a range in the allocated subnet. Enable kernel forwarding of packets, (e.g. using <em>/proc/sys/net/ipv4/ip_forward</em> ). The LAN must have a route to the clients using the server as gateway.</p><p>The server will forward the packets unchanged between the clients and the LAN. <a href="../man8/bcrelay.8.html"><strong>bcrelay</strong>(8)</a> will be required to support broadcast protocols such as NETBIOS.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ROUTING CHECKLIST - MASQUERADE</h2>
        <div class="sectioncontent">
<p>Allocate a subnet for the clients that is not routable from your LAN, and not otherwise routable from the server (e.g. 10.0.0.0/24).</p><p>Set <strong>localip</strong> to a single address in the subnet (e.g. 10.0.0.1), set <strong>remoteip</strong> to a range for the rest of the subnet, (e.g. 10.0.0.2-200). Enable kernel forwarding of packets, (e.g. using <em>/proc/sys/net/ipv4/ip_forward</em> ). Enable masquerading on eth0 (e.g. <em></em> iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE ).</p><p>The server will translate the packets between the clients and the LAN. The clients will appear to the LAN as having the address corresponding to the server.  The LAN need not have an explicit route to the clients. <a href="../man8/bcrelay.8.html"><strong>bcrelay</strong>(8)</a> will be required to support broadcast protocols such as NETBIOS.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FIREWALL RULES</h2>
        <div class="sectioncontent">
<p><a href="../man8/pptpd.8.html"><strong>pptpd</strong>(8)</a> accepts control connections on TCP port 1723, and then uses GRE (protocol 47) to exchange data packets.  Add these rules to your <a href="../man8/iptables.8.html"><strong>iptables</strong>(8)</a> configuration, or use them as the basis for your own rules:</p><p>iptables --append INPUT --protocol 47 --jump ACCEPT</p>
<pre>
iptables --append INPUT --protocol tcp --match tcp &#92;

         --destination-port 1723 --jump ACCEPT
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pptpd.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/pppd.8.html"><strong>pppd</strong>(8)</a>, <a href="../man8/pptpd.8.html"><strong>pptpd</strong>(8)</a>, <a href="../man5/pptpd.conf.5.html"><strong>pptpd.conf</strong>(5)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ppm.5.html"><span aria-hidden="true">&larr;</span> ppm.5: Portable pixmap file format</a></li>
   <li class="next"><a href="prboom-plus.cfg.5.html">prboom-plus.cfg.5: Configuration file for prboom+ <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
