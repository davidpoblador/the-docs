<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>upsstats.html: Html template for network ups tools upsstats</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Html template for network ups tools upsstats">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="upsstats.html (5) manual">
  <meta name="twitter:description" content="Html template for network ups tools upsstats">
  <meta name="twitter:image" content="https://www.carta.tech/images/nut-cgi-upsstats.html-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/upsstats.html.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="upsstats.html (5) manual" />
  <meta property="og:description" content="Html template for network ups tools upsstats" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nut-cgi-upsstats.html-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">upsstats.html<small> (5)</small></h1>
        <p class="lead">Html template for network ups tools upsstats</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/upsstats.html.5.html">
      <span itemprop="name">upsstats.html: Html template for network ups tools upsstats</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nut-cgi/">
      <span itemprop="name">nut-cgi</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/upsstats.html.5.html">
      <span itemprop="name">upsstats.html: Html template for network ups tools upsstats</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This file is used by <a href="../man8/upsstats.cgi.8.html"><strong>upsstats.cgi</strong>(8)</a> to generate status pages. Certain commands are recognized, and will be replaced with various status elements on the fly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMATTING</h2>
        <div class="sectioncontent">
<p>Commands can be placed anywhere on a line, but must start and end with @. Any extra characters before or after the commands will be passed through unchanged. It is allowed to use more than one command on a single line, as long as each command has its own start and end character. If you need to use the @ sign, use @ to prevent it from being treated as a start character.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BLOCK CONTROL</h2>
        <div class="sectioncontent">
<p>Some commands begin blocks - sections of the template that will be included, excluded, or repeated depending on certain parameters.</p><h3>BLOCK CONTROL - ITERATION</h3>
<p><strong>@FOREACHUPS@</strong></p><p>Starts a block that will be repeated for each MONITOR directive in the <a href="../man5/hosts.conf.5.html"><strong>hosts.conf</strong>(5)</a>. This is how you can generate pages that monitor all of your systems simultaneously.</p><p><strong>@ENDFOR@</strong></p><p>Ends a FOREACHUPS block.</p>
<h3>BLOCK CONTROL - MATCHING SPECIFIC CASES</h3>
<p><strong>@IFSUPP </strong><strong></strong><em>var</em>@*</p><p>Starts a block that will only be printed if the variable var is supported by the current UPS. This is generally used to suppress "not supported" messages by avoiding the label and variable call entirely.</p><p><strong>@IFEQ</strong> <em>var</em> <em>value</em><strong>@</strong></p><p>Starts a block if the value returned from the variable <em>var</em> matches <em>value</em>.</p><p><strong>@IFBETWEEN</strong> <em>varlow</em> <em>varhigh</em> <em>varvalue</em><strong>@</strong></p><p>Starts a block if the value returned by the variable <em>varvalue</em> is between the values returned by the variables <em>varlow</em> and <em>varhigh</em>.</p><p><strong>@ELSE@</strong></p><p>If the previous IF-command did not match, perform this instead.</p><p><strong>@ENDIF@</strong></p><p>Ends an IF/ELSE-block.</p>
<h3>BLOCK CONTROL - ADVANCED EXPRESSIONS</h3>
<p>Even though the parser is pretty limited, it\(cqs still possible to create rather advanced expressions. The key to this is the fact that multiple block control commands are AND:ed. This is illustrated with an example (more examples are available in upsstats.html).</p>
<pre>
@IFSUPP ambient.humidity@
@IFSUPP ambient.temperature@
This UPS knows both ambient temperature and humidity.
@ELSE@
@IFSUPP ambient.humidity@
This UPS only knows ambient humidity.
@ELSE@
@IFSUPP ambient.temperature@
This UPS only knows ambient temperature.
@ELSE@
This UPS knows nothing, how annoying.
@ENDIF@
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER COMMANDS</h2>
        <div class="sectioncontent">
<p><strong>@AMBTEMP@</strong></p><p>Insert the ambient temperature in the current temperature scale.</p><p><strong>@DATE</strong> <em>format</em><strong>@</strong></p><p>Insert the current date and time. The format string is passed to strftime, so almost anything is possible. See <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a> for possible values.</p><p><strong>@DEGREES@</strong></p><p>Insert the entity for degrees (\(de) and either C or F depending on the current temperature scale.</p><p><strong>@HOST@</strong></p><p>Insert the designation of the host being monitored, like myups@localhost.</p><p><strong>@HOSTDESC@</strong></p><p>Insert the hout\(cqs description from <a href="../man5/hosts.conf.5.html"><strong>hosts.conf</strong>(5)</a>.</p><p><strong>@HOSTLINK@</strong></p><p>Insert a link to upsstats.cgi with the "host" variable set to the current UPS. This is only useful within a FOREACHUPS block.</p><p><strong>@IMG</strong> <em>varname</em> <strong>@</strong></p><p>Insert an IMG SRC to <a href="../man8/upsimage.cgi.8.html"><strong>upsimage.cgi</strong>(8)</a> for one of these status variables:</p><p>battery.charge</p><p>Battery charge - a percentage</p><p>battery.voltage</p><p>The charge on the battery in volts</p><p>input.frequency</p><p>Incoming utility frequency (Hz)</p><p>input.voltage</p><p>Incoming utility voltage</p><p>input.L1-L2.voltage</p><p>Incoming voltage, L1-L2 (3phase)</p><p>input.L2-L3.voltage</p><p>Incoming voltage, L2-L3 (3phase)</p><p>input.L3-L1.voltage</p><p>Incoming voltage, L3-L1 (3phase)</p><p>output.frequency</p><p>Outgoing utility frequency (Hz)</p><p>output.voltage</p><p>Outgoing voltage (from the UPS)</p><p>output.L1-L2.voltage</p><p>Outgoing voltage, L1-L2 (3phase)</p><p>output.L2-L3.voltage</p><p>Outgoing voltage, L2-L3 (3phase)</p><p>output.L3-L1.voltage</p><p>Outgoing voltage, L3-L1 (3phase)</p><p>output.L1.power.percent</p><p>UPS load, L1 (3phase)</p><p>output.L2.power.percent</p><p>UPS load, L2 (3phase)</p><p>output.L3.power.percent</p><p>UPS load, L3 (3phase)</p><p>ups.load</p><p>UPS load - percentage</p><p>ups.temperature</p><p>UPS temperature</p><p><em>extra</em> is where you can put additional definitions. Right now the valid definitions are colors for various parts of the bars drawn by upsimage.cgi. Possible color names are:</p><p>back_col</p><p>background color</p><p>scale_num_col</p><p>scale number color</p><p>summary_col</p><p>summary color (number at the bottom)</p><p>ok_zone_maj_col</p><p>major scale color for the normal ("ok") zone</p><p>ok_zone_min_col</p><p>minor scale color for the normal ("ok") zone</p><p>neutral_zone_maj_col</p><p>major scale color for the neutral zone</p><p>neutral_zone_min_col</p><p>minor scale color for the neutral zone</p><p>warn_zone_maj_col</p><p>major scale color for the warning zone</p><p>warn_zone_min_col</p><p>minor scale color for the warning zone</p><p>bar_col</p><p>the color of the bar in the middle</p><p>All colors are hex triplets - 0xff0000 is red, 0x00ff00 is green, and 0x0000ff is blue.</p><p>Examples:</p>
<pre>
@IMG battery.charge@
@IMG battery.charge back_col=0xff00ff bar_col=0xaabbcc@
@IMG input.voltage ok_zone_maj_col=0x123456@
</pre>
<p><strong>@REFRESH@</strong></p><p>Insert the META header magic for refreshing the page if that variable has been set by the browser. This needs to be in the HEAD section of the page.</p><p><strong>@STATUS@</strong></p><p>Expand the abbreviations in the ups.status variable - OL becomes "On line", OB becomes "On battery", and so on.</p><p><strong>@STATUSCOLOR@</strong></p><p>Insert red, green, or yellow color triplets depending on the severity of the current UPS status. Normal operations are green, warnings like voltage trim/boost or "off" are yellow, and other events like being on battery or having a low battery are red.</p><p><strong>@VAR</strong> <em>varname</em><strong>@</strong></p><p>Insert the current value of the status variable varname on the host being monitored, or "Not supported".</p><p><strong>@RUNTIME@</strong></p><p>Inserts the current runtime, in hh:mm:ss format.</p><p><strong>@TEMPC@</strong></p><p>Use the Celsius scale for temperature data (default).</p><p><strong>@TEMPF@</strong></p><p>Use the Fahrenheit scale for temperature data.</p><p><strong>@UPSTEMP@</strong></p><p>Insert the UPS temperature in the current scale.</p><p><strong>@BATTTEMP@</strong></p><p>Insert the battery temperature in the current scale.</p><p><strong>@UTILITYCOLOR@</strong></p><p>Obsoleted. Use IFBETWEEN instead (see example in upsstats.html).</p><p><strong>@VERSION@</strong></p><p>Insert the version number of the software.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER TEMPLATES</h2>
        <div class="sectioncontent">
<p><a href="../man8/upsstats.cgi.8.html"><strong>upsstats.cgi</strong>(8)</a> will also open a file called upsstats-single.html if you call it with "host=" set in the URL. That file uses the same rules and techniques documented here.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO upsstats.html&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/upsstats.cgi.8.html"><strong>upsstats.cgi</strong>(8)</a>, <a href="../man8/upsimage.cgi.8.html"><strong>upsimage.cgi</strong>(8)</a></p><h3>Internet resources:</h3>
<p>The NUT (Network UPS Tools) home page: http://www.networkupstools.org/</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="upsset.conf.5.html"><span aria-hidden="true">&larr;</span> upsset.conf.5: Configuration for network ups tools upsset.cgi</a></li>
   <li class="next"><a href="uptimed.conf.5.html">uptimed.conf.5: The configuration file for uptimed(8) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
