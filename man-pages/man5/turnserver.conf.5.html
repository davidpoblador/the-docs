<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>turnserver.conf: Turnserver configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Turnserver configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="turnserver.conf (5) manual">
  <meta name="twitter:description" content="Turnserver configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/turnserver-turnserver.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/turnserver.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="turnserver.conf (5) manual" />
  <meta property="og:description" content="Turnserver configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/turnserver-turnserver.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">turnserver.conf<small> (5)</small></h1>
        <p class="lead">Turnserver configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/turnserver.conf.5.html">
      <span itemprop="name">turnserver.conf: Turnserver configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/turnserver/">
      <span itemprop="name">turnserver</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/turnserver.conf.5.html">
      <span itemprop="name">turnserver.conf: Turnserver configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/usr/local/etc/turnserver.conf</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This is the TurnServer configuration file.</p><p>Here are the configuration options supported.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The file contains the following definitions:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>listen_address </strong>= { IPv4 address, ... }</p>
  </dt>
  <dd>
    <p>The public IPv4 address of any relayed address (if not set, no relay for IPv4). You can set more than one address, example:</p><p>listen_address = { "172.16.2.1", "173.17.2.1" }</p><p>The main advantage to have multiple public IPv4 addresses is to do load sharing.</p>
  </dd>
  <dt>
    <p><strong>listen_addressv6 </strong>= { IPv6 address, ...}</p>
  </dt>
  <dd>
    <p>The public IPv6 address of any relayed address (if not set, no relay for IPv6). You can set more than one address, example:</p><p>listen_addressv6 = { "2001:db8:1::1", "2001:db8:2::1" }</p><p>The main advantage to have multiple public IPv6 addresses is to do load sharing.</p>
  </dd>
  <dt>
    <p><strong>udp_port </strong>= number</p>
  </dt>
  <dd>
    <p>The UDP port of the server to listen for incoming connections.</p>
  </dd>
  <dt>
    <p><strong>tcp_port </strong>= number</p>
  </dt>
  <dd>
    <p>The TCP port of the server to listen for incoming connections.</p>
  </dd>
  <dt>
    <p><strong>tls_port </strong>= number</p>
  </dt>
  <dd>
    <p>The TLS port of the server to listen for incoming connections.</p>
  </dd>
  <dt>
    <p><strong>tls </strong>= boolean</p>
  </dt>
  <dd>
    <p>Enable or not TLS over TCP connections.</p>
  </dd>
  <dt>
    <p><strong>dtls </strong>= boolean</p>
  </dt>
  <dd>
    <p>Enable or not TLS over UDP connections. It is an experimental feature of TurnServer and it is not defined by TURN standard.</p>
  </dd>
  <dt>
    <p><strong>max_port </strong>= number</p>
  </dt>
  <dd>
    <p>Maximum allocation port number.</p>
  </dd>
  <dt>
    <p><strong>min_port </strong>= number</p>
  </dt>
  <dd>
    <p>Minimum allocation port number.</p>
  </dd>
  <dt>
    <p><strong>turn_tcp </strong>= boolean</p>
  </dt>
  <dd>
    <p>Enable or not TURN-TCP extension. This extension is documented in RFC6062.</p>
  </dd>
  <dt>
    <p><strong>tcp_buffer_userspace </strong>= boolean</p>
  </dt>
  <dd>
    <p>Enable or not userspace buffering for TURN-TCP extension. If false server will use OS buffering.</p>
  </dd>
  <dt>
    <p><strong>tcp_buffer_size </strong>= number</p>
  </dt>
  <dd>
    <p>TURN-TCP internal buffer size. It is used to bufferize data coming from TCP peer when client does not have sent ConnectionBind.</p>
  </dd>
  <dt>
    <p><strong>daemon </strong>= boolean</p>
  </dt>
  <dd>
    <p>Run the program as daemon.</p>
  </dd>
  <dt>
    <p><strong>unpriv_user </strong>= string</p>
  </dt>
  <dd>
    <p>If the program is run as root or setuid root, the program will drop its privileges to the unpriv_user privileges.</p><p>To use this feature, create a special user with the adduser command: adduser --system --group turnserver</p>
  </dd>
  <dt>
    <p><strong>realm </strong>= string</p>
  </dt>
  <dd>
    <p>Realm value (i.e. domain.org).</p>
  </dd>
  <dt>
    <p><strong>nonce_key </strong>= string</p>
  </dt>
  <dd>
    <p>Key used to hash nonce.</p>
  </dd>
  <dt>
    <p><strong>max_relay_per_username </strong>= number</p>
  </dt>
  <dd>
    <p>Maximum number of allocation per username.</p>
  </dd>
  <dt>
    <p><strong>allocation_lifetime </strong>= number</p>
  </dt>
  <dd>
    <p>Lifetime of an allocation in second.</p>
  </dd>
  <dt>
    <p><strong>bandwidth_per_allocation </strong>= number</p>
  </dt>
  <dd>
    <p>Bandwidth limit for an allocation in KBytes/s. 0 value means disable bandwidth quota.</p>
  </dd>
  <dt>
    <p><strong>restricted_bandwidth </strong>= number</p>
  </dt>
  <dd>
    <p>Bandwidth limit for restricted userse in KBytes/s. 0 value means disable bandwidth limitation.</p>
  </dd>
  <dt>
    
<pre>
<strong>denied_address {</strong>
<strong> address </strong>= IPv4 | IPv6 address
<strong> mask </strong>= bitmask number
<strong> port </strong>= number (1 - 65535)
<strong>}</strong>
</pre>

  </dt>
  <dd>
    <p>Defines an entry for the denied access list. This can appear multiple time. Format is defined as follow:</p><p><strong>address</strong> is a string representing an IPv4 or IPv6 address.</p><p><strong>mask</strong> is a number representing the bitmask (i.e. 24 is similar as 255.255.255.0, ...).</p><p><strong>port</strong> is a number representing the network port. The 0 value means all ports.</p><p>It is strongly recommended to restrict addresses 127.0.0.1 and ::1 if there are private services running on the TURN server.</p>
  </dd>
  <dt>
    <p><strong>ca_file </strong>= string</p>
  </dt>
  <dd>
    <p>The pathname of the Certification Authority certificate (required when tls=true).</p>
  </dd>
  <dt>
    <p><strong>cert_file </strong>= string</p>
  </dt>
  <dd>
    <p>The pathname of the server certificate (required when tls=true).</p>
  </dd>
  <dt>
    <p><strong>private_key_file </strong>= string</p>
  </dt>
  <dd>
    <p>The pathname of the server private key (required when tls=true).</p>
  </dd>
  <dt>
    <p><strong>account_method </strong>= [file | db | ldap ...]</p>
  </dt>
  <dd>
    <p>The method to retrieve account data. Note that only the "file" method is implemented.</p>
  </dd>
  <dt>
    <p><strong>account_file </strong>= string</p>
  </dt>
  <dd>
    <p>The pathname of the account file (required when account_method=file).</p>
  </dd>
  <dt>
    <p><strong>mod_tmpuser </strong>= boolean</p>
  </dt>
  <dd>
    <p>Enable or not mod_tmpuser which consist of a socket that listen on localhost and external program can create or delete temporary user.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>listen_address = { "172.16.0.1" }</p><p>listen_addressv6 = { "2001:db8::1" }</p><p>udp_port = 3478</p><p>tcp_port = 3478</p><p>tls_port = 5349</p><p>tls = true</p><p>dtls = false</p><p>max_port = 65535</p><p>min_port = 49152</p><p>turn_tcp = false</p><p>tcp_buffer_userspace = true</p><p>tcp_buffer_size = 32768</p><p>daemon = false</p><p>unpriv_user = turnserver</p><p>realm = "domain.org"</p><p>nonce_key = "hieKedq"</p><p>max_relay_per_username = 10</p><p>allocation_lifetime = 1800</p><p>bandwidth_per_allocation = 150</p><p>restricted_bandwidth = 10</p><p>denied_address {</p>
<pre>
  address = "172.1.0.3"
  mask = 24
  port = 0
</pre>
<p>}</p><p>denied_address {</p>
<pre>
  address = "127.0.0.1"
  mask = 8
  port = 0
</pre>
<p>}</p><p>denied_address {</p>
<pre>
  address = "::1"
  mask = 128
  port = 0
</pre>
<p>}</p><p>ca_file = "/etc/ca.crt"</p><p>cert_file = "/etc/server.crt"</p><p>private_key_file = "/etc/server.key"</p><p>account_method = "file"</p><p>account_file = "/etc/turnusers.txt</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Sebastien Vincent &lt;sebastien.vincent@turnserver.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO turnserver.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/turnserver.1.html"><strong>turnserver</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ttylinkd.conf.5.html"><span aria-hidden="true">&larr;</span> ttylinkd.conf.5: Ttylinkd configuration file.</a></li>
   <li class="next"><a href="tvtime.xml.5.html">tvtime.xml.5: Tvtime configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
