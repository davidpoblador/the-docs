<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>racoon-tool.conf: Configuration file for racoon-tool(8).</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for racoon-tool(8).">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="racoon-tool.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for racoon-tool(8).">
  <meta name="twitter:image" content="https://www.carta.tech/images/racoon-racoon-tool.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/racoon-tool.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="racoon-tool.conf (5) manual" />
  <meta property="og:description" content="Configuration file for racoon-tool(8)." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/racoon-racoon-tool.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">racoon-tool.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for racoon-tool(8).</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/racoon-tool.conf.5.html">
      <span itemprop="name">racoon-tool.conf: Configuration file for racoon-tool(8).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/racoon/">
      <span itemprop="name">racoon</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/racoon-tool.conf.5.html">
      <span itemprop="name">racoon-tool.conf: Configuration file for racoon-tool(8).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents briefly the <a href="../man5/racoon-tool.conf.5.html"><strong>racoon-tool.conf</strong>(5)</a><strong>,</strong> configuration file format.</p><p>Please consult the <strong>racoon.conf</strong>(5) man-page first to better understand what is written about here.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>The <a href="../man5/racoon-tool.conf.5.html"><strong>racoon-tool.conf</strong>(5)</a> file is laid out in sections.</p><p>Comments are delimited on the left by `#', and can be on a line by themselves, or at the end of a line.</p><p>The possible sections are <em>global,</em> <em>connection,</em> and <em>peer.</em> The possible templates are <em>spdadd,</em> <em>spdadd_transport_ip4,</em> <em>spdadd_transport_ip6,</em> <em>spdinit,</em> <em>sadinit,</em> <em>sadadd,</em> <em>remote,</em> <em>sainfo,</em> and <em>racooninit.</em></p><p>Sections start with <em>section:</em> and then continue with their properties (name terminated by `:' then value), and templates ALWAYS have to have each line started with <em>template:</em> Sections and templates can be named, with the name occurring in parenthesis between the last character of their type and the final colon.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECTIONS</h2>
        <div class="sectioncontent">
<p>The possible sections are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>global:</strong></p>
  </dt>
  <dd>
    <p>Contains global parameters for the generated <strong>racoon.conf</strong>(5), and global settings used by <a href="../man8/racoon-tool.8.html"><strong>racoon-tool</strong>(8)</a>. Available settings are: <em>path_pre_shared_key,</em> <em>path_certificate,</em> <em>path_racoon_conf,</em> <em>privsep,</em> <em>privsep_chroot,</em> <em>privsep_user,</em> <em>privsep_group,</em> <em>racoon_command,</em> <em>racoon_pid_file,</em> <em>log,</em> <em>listen[[0-9a-z]],</em> and <em>complex_bundle.</em></p><p>Apart from <em>racoon_command,</em> and <em>racoon_pid_file,</em> the setting map across to the similar names in <strong>racoon.conf</strong>(5).</p><p>These items <em>privsep,</em> <em>privsep_chroot,</em> <em>privsep_user,</em> <em>privsep_group,</em> are related to the <em>privsep</em> section in <strong>racoon.conf</strong>(5)</strong> <em>Privsep</em> is a boolean option to turn on privilege separation. The default is to chroot to '/', as quite a bit of setup is required in the chroot directory.</p><p>The <em>listen</em> directive is a bit different from the man-page and takes multiple <em>{ip-address} [[port]]</em> statements by attaching an index `0-9',`a-z' in square brackets immediately before the colon.</p>
  </dd>
  <dt>
    <p><strong>connection(</strong>%default|%anonymous|[-_a-z0-9]+<strong>):</strong></p>
  </dt>
  <dd>
    <p>Connection as described by the complementary SPD entries.  Creates `sainfo' sections in the generated <strong>racoon.conf</strong>(5), and associated SPD entries.</p><p>Directives and values are basically one for one with the relevant entries in <strong>racoon.conf</strong>(5). <em>Spdadd:</em> can be used to override the template automatically selected. The templates that are automatically selected depending om connection <em>mode</em> and IPv4 or IPv6 addresssing are <strong>spdadd,</strong> <strong>spdadd_transport_ip4,</strong> and <strong>spdadd_transport_ip6.</strong> The supplied default transport mode templates do not encrypt ICMP as this can easily result in SPD policy difficulties. Boolean parameters <em>auto_ah_on_esp, always_ah_on_esp</em> can be used to add AH encapsulation to the `esp' mode transform supplied by the default <strong>spdadd</strong> templates.  The IKE phase 2 identifier type can be set with the <em>id_type</em> option, either `address' or `subnet'.  Compression can be added to the default transforms by using the <em>compression</em> boolean.</p><p>Multiple SPD rule pairs can be entered in place of the pair supplied by the default spdadd templates. They are signified by adding an index made up from the characters (case-insensitive) in the regular expression `[-_0-9a-z]+' to the <em>src_port,</em> and/or <em>dst_port</em> entries, within square brackets immediately before the colon. Only one port needs to be defined, with the other defaulting to `[any]'. Additional properties for the rule pair can be given by <em>encap,</em> and <em>policy</em> entries, with the appropriate index entry in square brackets before the colon.</p><p>Please note that on the FreeBSD kernel ( <strong>ipsec</strong>(4) ) nested ipsec policy transforms are not supported, and that ipcomp is buggy.</p><p>The `%default' VPN connection fills in entries in other specified connections, unless they are otherwise defined within the specific connection. The `%anonymous' connection is there for a passive VPN server.</p>
  </dd>
  <dt>
    <p><strong>peer(</strong>%default|%anonymous|[a-f0-9:.]+<strong>):</strong></p>
  </dt>
  <dd>
    <p>Defines the phase 1 attributes associated with a peer.  This creates `remote' entries in the generated <strong>racoon.conf</strong>(5).</p><p>Directives and values are basically one for one with the relevant entries in <strong>racoon.conf</strong>(5). Different proposals are signified by adding an index `0-9', `a-z', or made up from characters (case-insensitive) in the regular expression `[-_0-9a-z]+' to the <em>encryption_algorithm,</em> <em>hash_algorithm,</em> <em>dh_group,</em> and <em>authentication_method</em> entries, within square brackets immediately before the colon.</p><p>The `%default' VPN connection fills in entries in other specified connections, unless they are otherwise defined within the specific connection. The `%anonymous' connection is there for a passive VPN server.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TEMPLATES</h2>
        <div class="sectioncontent">
<p>Templates are described briefly here.  You will have to look inside the <a href="../man8/racoon-tool.8.html"><strong>racoon-tool</strong>(8)</a> perl script to see exactly what you can do.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>spdinit:</strong></p>
  </dt>
  <dd>
    <p>Portion that can be used to initialise the SPD.  Uses setkey syntax. See <strong>setkey</strong>(8).</p>
  </dd>
  <dt>
    <p><strong>sadinit:</strong></p>
  </dt>
  <dd>
    <p>Portion that can be used to initialise the SAD.  Uses setkey syntax. See <strong>setkey</strong>(8).</p>
  </dd>
  <dt>
    <p><strong>spdadd(%default|[-_a-z0-9]+):</strong></p>
  </dt>
  <dd>
    <p>Template for adding SPD entries. Different templates can be used. Keys for replacement are of the form `___setkey_name___', with names found in <strong>setkey</strong>(8). The built in template is named `%default'.</p>
  </dd>
  <dt>
    <p><strong>spdadd_transport_ip4(%transport_ip4_default|[-_a-z0-9]+):</strong></p>
  </dt>
  <dd>
    <p>Template for adding SPD entries for IPv4 when transport <em>mode</em> is desired. Different templates can be used, but have to be selected with the <em>spdadd</em> connection property. Keys for replacement are of the form `___setkey_name___', with names found in <strong>setkey</strong>(8). The built in template is named `%transport_ip4_default'.</p>
  </dd>
  <dt>
    <p><strong>spdadd_transport_ip6(%transport_ip6_default|[-_a-z0-9]+):</strong></p>
  </dt>
  <dd>
    <p>Template for adding SPD entries for IPv6 when transport <em>mode</em> is desired. Different templates can be used, but have to be selected with the <em>spdadd</em> connection property. Keys for replacement are of the form `___setkey_name___', with names found in <strong>setkey</strong>(8). The built in template is named `%transport_ip4_default'.</p>
  </dd>
  <dt>
    <p><strong>sadadd(%default|[-_a-z0-9]+):</strong></p>
  </dt>
  <dd>
    <p>Template for adding SAD entries. Different templates can be used. Keys for replacement are of the form `___setkey_name___', with names found in <strong>setkey</strong>(8). The built in template is named `%default'.</p>
  </dd>
  <dt>
    <p><strong>remote(%default|[-_a-z0-9]+):</strong></p>
  </dt>
  <dd>
    <p>Template for adding 'remote' entries to the generated <strong>racoon.conf</strong>(5).</strong> Different templates can be used.  Keys for replacement are of the form `___setkey_name___', with names found in <strong>setkey</strong>(8). The built in template is named `%default'.</p>
  </dd>
  <dt>
    <p><strong>sainfo(%default|[-_a-z0-9]+):</strong></p>
  </dt>
  <dd>
    <p>Template for adding 'sainfo' entries to the generated <strong>racoon.conf</strong>(5). Different templates can be used. Keys for replacement are of the form `___setkey_name___', with names found in <strong>setkey</strong>(8). The built in template is named `%default'.</p>
  </dd>
  <dt>
    <p><strong>racooninit:</strong></p>
  </dt>
  <dd>
    <p>Template for adding your own section to the start of the generated <strong>racoon.conf</strong>(5).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Example of a simple configuration using PSK authentication.</p>
<pre>
#
# Configuration file for racoon-tool
#
# See <a href="../man5/racoon-tool.conf.5.html"><strong>racoon-tool.conf</strong>(5)</a> for details
#

#
# Simple PSK - authentication defaults to pre_shared_key
#
connection(bacckdoor-doormat):
	src_range: 192.168.223.1/32
	dst_range: 192.168.200.0/24
	src_ip: 172.31.1.1
	dst_ip: 10.0.0.1
	admin_status: enabled
	compression: no
	lifetime: time 20 min
	authentication_algorithm: hmac_sha1
	encryption_algorithm: 3des

peer(10.0.0.1):
	verify_cert: on
	passive: off
	verify_identifier: off
	lifetime: time 60 min
	hash_algorithm[0]: sha1
	encryption_algorithm[0]: 3des

</pre>
<p>Example of a complex configuration with multple networks betweenthe same endpoints, as well as use of `%default' for common settings.</p>
<pre>
#
# Configuration file for racoon-tool
#

global:
	log: notify

# default settings to save typing
peer(%default):
	certificate_type: x509 blurke-ipsec.crt blurke-ipsec.key
	my_identifier: fqdn blurke.bar.com
	lifetime: time 60 min
	verify_identifier: on
	verify_cert: on
	hash_algorithm[0]: sha1
	encryption_algorithm[0]: 3des
	authentication_method[0]: rsasig

connection(%default):
	authentication_algorithm: hmac_sha1
	encryption_algorithm: 3des
	src_ip: 172.31.1.1
	lifetime: time 20 min

# Connection to work
peer(10.0.0.1):
	peers_identifier: fqdn blue.sky.com

connection(blurke-blue-sky-work):
	src_range: 192.168.203.1/32
	dst_range: 172.16.0.0/24
	dst_ip: 10.0.0.1
	admin_status: enabled

# Connection to telehoused servers
connection(blurke-mail):
	src_range: 192.168.203.0/24
	dst_range: 172.20.1.1
	dst_ip: 10.100.0.1
	encryption_algorithm: blowfish
	compression: on
	admin_status: yes

peer(10.100.0.1):
	peers_identifier: fqdn mail.bar.com

connection(blurke-web1):
	src_range: 192.168.203.0/24
	dst_range: 172.20.1.23
	dst_ip: 10.100.0.1
	encryption_algorithm: blowfish
	admin_status: yes

connection(blurke-web2):
	src_range: 192.168.203.0/24
	dst_range: 172.20.1.24
	dst_ip: 10.100.0.1
	encryption_algorithm: blowfish
	admin_status: yes



# Test connection to Free S/WAN
connection(blurke-freeswan):
	src_range: 192.168.203.0/24
	dst_range: 172.17.100.0/24
	dst_ip: 172.30.1.1
	admin_status: yes

peer(172.30.1.1):
	peers_identifier: fqdn banshee
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/racoon/racoon-tool.conf</em></p>
  </dt>
  <dd>
    <p>(configuration header file)</p>
  </dd>
  <dt>
    <p><em>/etc/racoon/racoon-tool.conf.d/*.conf</em></p>
  </dt>
  <dd>
    <p>optional portions.  The file(s) that this man page describes.</p>
  </dd>
  <dt>
    <p><em>/var/lib/racoon/racoon.conf</em></p>
  </dt>
  <dd>
    <p>The generated racoon.conf.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO racoon-tool.conf&hellip;</h2>
        <div class="sectioncontent">
<p><strong>racoon.conf</strong>(5), <a href="../man8/racoon-tool.8.html"><strong>racoon-tool</strong>(8)</a>, <strong>racoon</strong>(8), <strong>setkey</strong>(8), <strong>ipsec</strong>(4)</strong> on FreeBSD.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>This man page is by no means complete.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by Matthew Grant &lt;matthewgrant5@gmail.com&gt; for the Debian GNU/Linux system (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rabbitmq-env.conf.5.html"><span aria-hidden="true">&larr;</span> rabbitmq-env.conf.5: Default settings for rabbitmq amqp server</a></li>
   <li class="next"><a href="radiusd.conf.5.html">radiusd.conf.5: Configuration file for the freeradius server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
