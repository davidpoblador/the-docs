<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>luaotfload.conf: Luaotfload configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Luaotfload configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="luaotfload.conf (5) manual">
  <meta name="twitter:description" content="Luaotfload configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/texlive-luatex-luaotfload.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/luaotfload.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="luaotfload.conf (5) manual" />
  <meta property="og:description" content="Luaotfload configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/texlive-luatex-luaotfload.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">luaotfload.conf<small> (5)</small></h1>
        <p class="lead">Luaotfload configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/luaotfload.conf.5.html">
      <span itemprop="name">luaotfload.conf: Luaotfload configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/texlive-luatex/">
      <span itemprop="name">texlive-luatex</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/luaotfload.conf.5.html">
      <span itemprop="name">luaotfload.conf: Luaotfload configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<ul>
<li><p><strong>./luaotfload{.conf,rc}</strong></p></li><li><p><strong>XDG_CONFIG_HOME/luaotfload/luaotfload{.conf,rc}</strong></p></li><li><p><strong>~/.luaotfloadrc</strong></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The file <strong>luaotfload.conf</strong> contains configuration options for <em>Luaotfload</em>, a font loading and font management component for LuaTeX.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>A small Luaotfload configuration file with few customizations could look as follows:</p>
<pre>
[db]
    formats = afm, pfa, pfb
    compress = false

[misc]
    termwidth = 60

[run]
    log-level = 6
</pre>
<p>This will make Luaotfload ignore all font files except for PostScript formats. NB: With a default Tex Live install the PS fonts will take much longer to index than OpenType or TrueType ones. Also, an uncompressed index file will be dumped which is going to be much larger due to the huge amount of PostScript fonts indexed. The terminal width is truncated to 60 characters which influences the verbose output during indexing. Finally, the verbosity is increased greatly: each font file being processed will be printed to the stdout on a separate line, along with lots of other information.</p><p>To observe the difference in behavior, save above snippet to <strong>./luaotfload.conf</strong> and update the font index:</p>
<pre>
luaotfload --update --force
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>The configuration file syntax follows the common INI format. For a more detailed description please refer to the section “CONFIGURATION FILE” of <a href="../man1/git-config.1.html"><strong>git-config</strong>(1)</a>. A brief list of rules is given below:</p><ul>
<li><p>Blank lines and lines starting with a semicolon (<strong>;</strong>) are ignored.</p></li><li><p>A configuration file is partitioned into sections that are declared by specifying the section title in brackets on a separate line:</p>
<pre>
[some-section]
... section content ...
</pre>
</li><li><p>Sections consist of one or more variable assignments of the form <strong>variable-name = value</strong>  E. g.:</p>
<pre>
[foo]
    bar = baz
    quux = xyzzy
    ...
</pre>
</li><li><p>Section and variable names may contain only uppercase and lowercase letters as well as dashes (<strong>-</strong>).</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VARIABLES</h2>
        <div class="sectioncontent">
<p>Variables in belong into a configuration section and their values must be of a certain type. Some of them have further constraints. For example, the “color callback” must be a string of one of the values <strong>pre_linebreak_filter</strong> or <strong>pre_output_filter</strong>, defined in the section <em>run</em>.</p><p>Currently, the configuration is organized into four sections:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>db</strong></p>
  </dt>
  <dd>
    <p>Options relating to the font index.</p>
  </dd>
  <dt>
    <p><strong>misc</strong></p>
  </dt>
  <dd>
    <p>Options without a clearly defined category.</p>
  </dd>
  <dt>
    <p><strong>paths</strong></p>
  </dt>
  <dd>
    <p>Path and file name settings.</p>
  </dd>
  <dt>
    <p><strong>run</strong></p>
  </dt>
  <dd>
    <p>Options controlling runtime behavior of Luaotfload.</p><p>The list of valid variables, the sections they are part of and their type is given below. Types represent Lua types that the values must be convertible to; they are abbreviated as follows: <strong>s</strong> for the <em>string</em> type, <strong>n</strong> for <em>number</em>, <strong>b</strong> for <em>boolean</em>. A value of <strong>nil</strong> means the variable is unset.</p>
  </dd>

</dl>
<h3>Section \fBdb\fP</h3>
<table class="table table-striped">
<tr>
<th>variable</th></tr>

<tr>
<td>type</td></tr>

<tr>
<td>default</td></tr>

<tr>
<td>compress</td></tr>

<tr>
<td>b</td></tr>

<tr>
<td><strong>true</strong></td></tr>

<tr>
<td>formats</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"otf,ttf,ttc,dfont"</strong></td></tr>

<tr>
<td>max-fonts</td></tr>

<tr>
<td>n</td></tr>

<tr>
<td><strong>2^51</strong></td></tr>

<tr>
<td>scan-local</td></tr>

<tr>
<td>b</td></tr>

<tr>
<td><strong>false</strong></td></tr>

<tr>
<td>skip-read</td></tr>

<tr>
<td>b</td></tr>

<tr>
<td><strong>false</strong></td></tr>

<tr>
<td>strip</td></tr>

<tr>
<td>b</td></tr>

<tr>
<td><strong>true</strong></td></tr>

<tr>
<td>update-live</td></tr>

<tr>
<td>b</td></tr>

<tr>
<td><strong>true</strong></td></tr>
</table><p>The flag <strong>compress</strong> determines whether the font index (usually <strong>luaotfload-names.lua[.gz]</strong> will be stored in compressed forms. If unset it is equivalent of passing <strong>--no-compress</strong> to <strong>luaotfload-tool</strong>. Since the file is only created for convenience and has no effect on the runtime behavior of Luaotfload, the flag should remain set. Most editors come with zlib support anyways.</p><p>The list of <strong>formats</strong> must be a comma separated sequence of strings containing one or more of these elements:</p><ul>
<li><p><strong>otf</strong>               (OpenType format),</p></li><li><p><strong>ttf</strong> and <strong>ttc</strong>   (TrueType format),</p></li><li><p><strong>dfont</strong>             (Macintosh TrueType format),</p></li><li><p><strong>afm</strong>               (Adobe Font Metrics),</p></li><li><p><strong>pfb</strong> and <strong>pfa</strong>   (PostScript format).</p><p>It corresponds loosely to the <strong>--formats</strong> option to <strong>luaotfload-tool</strong>. Invalid or duplicate members are ignored; if the list does not contain any useful identifiers, the default list <strong>"otf,ttf,ttc,dfont"</strong> will be used.</p><p>The variable <strong>max-fonts</strong> determines after processing how many font files the font scanner will terminate the search. This is useful for debugging issues with the font index and has the same effect as the option <strong>--max-fonts</strong> to <strong>luaotfload-tools</strong>.</p><p>The <strong>scan-local</strong> flag, if set, will incorporate the current working directory as a font search location. NB: This will potentially slow down document processing because a font index with local fonts will not be saved to disk, so these fonts will have to be re-indexed whenever the document is built.</p><p>The <strong>skip-read</strong> flag is only useful for debugging: It makes Luaotfload skip reading fonts. The font information for rebuilding the index is taken from the presently existing one.</p><p>Unsetting the <strong>strip</strong> flag prevents Luaotfload from removing data from the index that is only useful when processing font files. NB: this can increase the size of the index files significantly and has no effect on the runtime behavior.</p><p>If <strong>update-live</strong> is set, Luaotfload will reload the database if it cannot find a requested font. Those who prefer to update manually using <strong>luaotfload-tool</strong> should unset this flag.</p></li>
</ul>
<h3>Section \fBdefault-features\fP</h3>
<p>By default Luaotfload enables <strong>node</strong> mode and picks the default font features that are prescribed in the OpenType standard. This behavior may be overridden in the <strong>default-features</strong> section. Global defaults that will be applied for all scripts can be set via the <strong>global</strong> option, others by the script they are to be applied to. For example, a setting of</p>
<pre>
[default-features]
    global = mode=base,color=0000FF
    dflt   = smcp,onum
</pre>
<p>would force <em>base</em> mode, tint all fonts blue and activate small capitals and text figures globally. Features are specified as a comma separated list of variables or variable-value pairs. Variables without an explicit value are set to <strong>true</strong>.</p>
<h3>Section \fBmisc\fP</h3>
<table class="table table-striped">
<tr>
<th>variable</th></tr>

<tr>
<td>type</td></tr>

<tr>
<td>default</td></tr>

<tr>
<td>statistics</td></tr>

<tr>
<td>b</td></tr>

<tr>
<td><strong>false</strong></td></tr>

<tr>
<td>termwidth</td></tr>

<tr>
<td>n</td></tr>

<tr>
<td><strong>nil</strong></td></tr>

<tr>
<td>version</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td>&lt;Luaotfload version&gt;</td></tr>
</table><p>With <strong>statistics</strong> enabled, extra statistics will be collected during index creation and appended to the index file. It may then be queried at the Lua end or inspected by reading the file itself.</p><p>The value of <strong>termwidth</strong>, if set, overrides the value retrieved by querying the properties of the terminal in which Luatex runs. This is useful if the engine runs with <strong>shell_escape</strong> disabled and the actual terminal dimensions cannot be retrieved.</p><p>The value of <strong>version</strong> is derived from the version string hard-coded in the Luaotfload source. Override at your own risk.</p>
<h3>Section \fBpaths\fP</h3>
<table class="table table-striped">
<tr>
<th>variable</th></tr>

<tr>
<td>type</td></tr>

<tr>
<td>default</td></tr>

<tr>
<td>cache-dir</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"fonts"</strong></td></tr>

<tr>
<td>names-dir</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"names"</strong></td></tr>

<tr>
<td>index-file</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"luaotfload-names.lua"</strong></td></tr>

<tr>
<td>lookups-file</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"luaotfload-lookup-cache.lua"</strong></td></tr>
</table><p>The paths <strong>cache-dir</strong> and <strong>names-dir</strong> determine the subdirectory inside the Luaotfload subtree of the <strong>luatex-cache</strong> directory where the font cache and the font index will be stored, respectively.</p><p>Inside the index directory, the names of the index file and the font lookup cache will be derived from the respective values of <strong>index-file</strong> and <strong>lookups-file</strong>. This is the filename base for the bytecode compiled version as well as -- for the index -- the gzipped version.</p>
<h3>Section \fBrun\fP</h3>
<table class="table table-striped">
<tr>
<th>variable</th></tr>

<tr>
<td>type</td></tr>

<tr>
<td>default</td></tr>

<tr>
<td>color-callback</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"pre_linebreak_filter"</strong></td></tr>

<tr>
<td>definer</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"patch"</strong></td></tr>

<tr>
<td>log-level</td></tr>

<tr>
<td>n</td></tr>

<tr>
<td><strong>0</strong></td></tr>

<tr>
<td>resolver</td></tr>

<tr>
<td>s</td></tr>

<tr>
<td><strong>"cached"</strong></td></tr>
</table><p>The <strong>color-callback</strong> option determines the stage at which fonts that defined with a <strong>color=xxyyzz</strong> feature will be colorized. By default this happens in a <strong>pre_linebreak_filter</strong> but alternatively the <strong>pre_output_filter</strong> may be chosen, which is faster but might produce inconsistent output. The latter also was the default in the 1.x series of Luaotfload.</p><p>The <strong>definer</strong> allows for switching the <strong>define_font</strong> callback. Apart from the default <strong>patch</strong> one may also choose the <strong>generic</strong> one that comes with the vanilla fontloader. Beware that this might break tools like Fontspect that rely on the <strong>patch_font</strong> callback provided by Luaotfload to perform important corrections on font data.</p><p>The value of <strong>log-level</strong> sets the default verbosity of messages printed by Luaotfload. Only messages defined with a verbosity of less than or equal to the supplied value will be output on the terminal. At a log level of five Luaotfload can be very noisy. Also, printing too many messages will slow down the interpreter due to line buffering being disabled (see <a href="../man3/setbuf.3.html"><strong>setbuf</strong>(3)</a>).</p><p>The <strong>resolver</strong> setting allows choosing the font name resolution function: With the default value <strong>cached</strong> Luaotfload saves the result of a successful font name request to a cache file to speed up subsequent lookups. The alternative, <strong>normal</strong> circumvents the cache and resolves every request individually. (Since to the restructuring of the font name index in Luaotfload 2.4 the performance difference between the cached and uncached lookups should be marginal.)</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Luaotfload only processes the first configuration file it encounters at one of the search locations. The file name may be either <strong>luaotfload.conf</strong> or <strong>luaotfloadrc</strong>, except for the dotfile in the user’s home directory which is expected at <strong>~/.luaotfloadrc</strong>.</p><p>Configuration files are located following a series of steps. The search terminates as soon as a suitable file is encountered. The sequence of locations that Luaotfload looks at is</p>
<dl class='dl-vertical'>
  <dt>
    i.
  </dt>
  <dd>
    <p>The current working directory of the LuaTeX process.</p>
  </dd>
  <dt>
    ii.
  </dt>
  <dd>
    <p>The subdirectory <strong>luaotfload/</strong> inside the XDG configuration tree, e. g. <strong>/home/oenothea/config/luaotfload/</strong>.</p>
  </dd>
  <dt>
    iii.
  </dt>
  <dd>
    <p>The dotfile.</p>
  </dd>
  <dt>
    iv.
  </dt>
  <dd>
    <p>The <em>TEXMF</em> (using kpathsea).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO luaotfload.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/luaotfload-tool.1.html"><strong>luaotfload-tool</strong>(1)</a>, <a href="../man1/luatex.1.html"><strong>luatex</strong>(1)</a>, <strong>lua</strong>(1)</p><ul>
<li><p><strong>texdoc luaotfload</strong> to display the PDF manual for the <em>Luaotfload</em> package</p></li><li><p>Luaotfload development <em>https://github.com/lualatex/luaotfload</em></p></li><li><p>LuaLaTeX mailing list  <em>http://tug.org/pipermail/lualatex-dev/</em></p></li><li><p>LuaTeX                 <em>http://luatex.org/</em></p></li><li><p>Luaotfload on CTAN     <em>http://ctan.org/pkg/luaotfload</em></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<ul>
<li><p>The XDG base specification <em>http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html</em>.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><em>Luaotfload</em> is maintained by the LuaLaTeX dev team (<em>https://github.com/lualatex/</em>).</p><p>This manual page was written by Philipp Gesang &lt;<em>philipp.gesang@alumni.uni-heidelberg.de</em>&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>GPL v2.0</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lts.conf.5.html"><span aria-hidden="true">&larr;</span> lts.conf.5: Main configuration file for ltsp</a></li>
   <li class="next"><a href="lvm.conf.5.html">lvm.conf.5: Lvm.conf  configuration file for lvm2 <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
