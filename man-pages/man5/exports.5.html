<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>exports: Nfs server export table</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Nfs server export table">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="exports (5) manual">
  <meta name="twitter:description" content="Nfs server export table">
  <meta name="twitter:image" content="https://www.carta.tech/images/nfs-kernel-server-exports-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/exports.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="exports (5) manual" />
  <meta property="og:description" content="Nfs server export table" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nfs-kernel-server-exports-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">exports<small> (5)</small></h1>
        <p class="lead">Nfs server export table</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/exports.5.html">
      <span itemprop="name">exports: Nfs server export table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nfs-kernel-server/">
      <span itemprop="name">nfs-kernel-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/exports.5.html">
      <span itemprop="name">exports: Nfs server export table</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The file <em>/etc/exports</em> contains a table of local physical file systems on an NFS server that are accessible to NFS clients. The contents of the file are maintained by the server's system administrator.</p><p>Each file system in this table has a list of options and an access control list. The table is used by <a href="../man8/exportfs.8.html"><strong>exportfs</strong>(8)</a> to give information to <a href="../man8/mountd.8.html"><strong>mountd</strong>(8)</a>.</p><p>The file format is similar to the SunOS <em>exports</em> file. Each line contains an export point and a whitespace-separated list of clients allowed to mount the file system at that point. Each listed client may be immediately followed by a parenthesized, comma-separated list of export options for that client. No whitespace is permitted between a client and its option list.</p><p>Also, each line may have one or more specifications for default options after the path name, in the form of a dash ("-") followed by an option list. The option list is used for all subsequent exports on that line only.</p><p>Blank lines are ignored.  A pound sign ("#") introduces a comment to the end of the line. Entries may be continued across newlines using a backslash. If an export name contains spaces it should be quoted using double quotes. You can also specify spaces or other unusual character in the export name using a backslash followed by the character code as three octal digits.</p><p>To apply changes to this file, run <strong>exportfs</strong>-ra or restart the NFS server.</p><h3>Machine Name Formats</h3>
<p>NFS clients may be specified in a number of ways:</p>
<dl class='dl-vertical'>
  <dt>
    single host
  </dt>
  <dd>
    <p>You may specify a host either by an abbreviated name recognized be the resolver, the fully qualified domain name, an IPv4 address, or an IPv6 address. IPv6 addresses must not be inside square brackets in /etc/exports lest they be confused with character-class wildcard matches.</p>
  </dd>
  <dt>
    IP networks
  </dt>
  <dd>
    <p>You can also export directories to all hosts on an IP (sub-) network simultaneously. This is done by specifying an IP address and netmask pair as <em>address/netmask</em> where the netmask can be specified in dotted-decimal format, or as a contiguous mask length. For example, either `/255.255.252.0' or `/22' appended to the network base IPv4 address results in identical subnetworks with 10 bits of host. IPv6 addresses must use a contiguous mask length and must not be inside square brackets to avoid confusion with character-class wildcards. Wildcard characters generally do not work on IP addresses, though they may work by accident when reverse DNS lookups fail.</p>
  </dd>
  <dt>
    wildcards
  </dt>
  <dd>
    <p>Machine names may contain the wildcard characters <em>*</em> and <em>?</em>, or may contain character class lists within [square brackets]. This can be used to make the <em>exports</em> file more compact; for instance, <em>*.cs.foo.edu</em> matches all hosts in the domain <em>cs.foo.edu</em>.  As these characters also match the dots in a domain name, the given pattern will also match all hosts within any subdomain of <em>cs.foo.edu</em>.</p>
  </dd>
  <dt>
    netgroups
  </dt>
  <dd>
    <p>NIS netgroups may be given as <em>@group</em>. Only the host part of each netgroup members is consider in checking for membership.  Empty host parts or those containing a single dash (-) are ignored.</p>
  </dd>
  <dt>
    anonymous
  </dt>
  <dd>
    <p>This is specified by a single <em>*</em> character (not to be confused with the <em>wildcard</em> entry above) and will match all clients.</p>
  </dd>

</dl>
<p>If a client matches more than one of the specifications above, then the first match from the above list order takes precedence - regardless of the order they appear on the export line. However, if a client matches more than one of the same type of specification (e.g. two netgroups), then the first match from the order they appear on the export line takes precedence.</p>
<h3>RPCSEC_GSS security</h3>
<p>You may use the special strings "gss/krb5", "gss/krb5i", or "gss/krb5p" to restrict access to clients using rpcsec_gss security.  However, this syntax is deprecated; on linux kernels since 2.6.23, you should instead use the "sec=" export option:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>sec=</em></p>
  </dt>
  <dd>
    <p>The sec= option, followed by a colon-delimited list of security flavors, restricts the export to clients using those flavors.  Available security flavors include sys (the default--no cryptographic security), krb5 (authentication only), krb5i (integrity protection), and krb5p (privacy protection).  For the purposes of security flavor negotiation, order counts: preferred flavors should be listed first.  The order of the sec= option with respect to the other options does not matter, unless you want some options to be enforced differently depending on flavor. In that case you may include multiple sec= options, and following options will be enforced only for access using flavors listed in the immediately preceding sec= option.  The only options that are permitted to vary in this way are ro, rw, no_root_squash, root_squash, and all_squash.</p>
  </dd>

</dl>

<h3>General Options</h3>
<p><strong>exportfs</strong> understands the following export options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>secure</em></p>
  </dt>
  <dd>
    <p>This option requires that requests originate on an Internet port less than IPPORT_RESERVED (1024). This option is on by default. To turn it off, specify <em>insecure</em>.</p>
  </dd>
  <dt>
    <p><em>rw</em></p>
  </dt>
  <dd>
    <p>Allow both read and write requests on this NFS volume. The default is to disallow any request which changes the filesystem. This can also be made explicit by using the <em>ro</em> option.</p>
  </dd>
  <dt>
    <p><em>async</em></p>
  </dt>
  <dd>
    <p>This option allows the NFS server to violate the NFS protocol and reply to requests before any changes made by that request have been committed to stable storage (e.g. disc drive).</p><p>Using this option usually improves performance, but at the cost that an unclean server restart (i.e. a crash) can cause data to be lost or corrupted.</p>
  </dd>
  <dt>
    <p><em>sync</em></p>
  </dt>
  <dd>
    <p>Reply to requests only after the changes have been committed to stable storage (see <em>async</em> above).</p><p>In releases of nfs-utils up to and including 1.0.0, the <em>async</em> option was the default.  In all releases after 1.0.0, <em>sync</em> is the default, and <em>async</em> must be explicitly requested if needed. To help make system administrators aware of this change, <strong>exportfs</strong> will issue a warning if neither <em>sync</em> nor <em>async</em> is specified.</p>
  </dd>
  <dt>
    <p><em>no_wdelay</em></p>
  </dt>
  <dd>
    <p>This option has no effect if <em>async</em> is also set.  The NFS server will normally delay committing a write request to disc slightly if it suspects that another related write request may be in progress or may arrive soon.  This allows multiple write requests to be committed to disc with the one operation which can improve performance.  If an NFS server received mainly small unrelated requests, this behaviour could actually reduce performance, so <em>no_wdelay</em> is available to turn it off. The default can be explicitly requested with the <em>wdelay</em> option.</p>
  </dd>
  <dt>
    <p><em>nohide</em></p>
  </dt>
  <dd>
    <p>This option is based on the option of the same name provided in IRIX NFS.  Normally, if a server exports two filesystems one of which is mounted on the other, then the client will have to mount both filesystems explicitly to get access to them.  If it just mounts the parent, it will see an empty directory at the place where the other filesystem is mounted.  That filesystem is "hidden".</p><p>Setting the <em>nohide</em> option on a filesystem causes it not to be hidden, and an appropriately authorised client will be able to move from the parent to that filesystem without noticing the change.</p><p>However, some NFS clients do not cope well with this situation as, for instance, it is then possible for two files in the one apparent filesystem to have the same inode number.</p><p>The <em>nohide</em> option is currently only effective on <em>single host</em> exports.  It does not work reliably with netgroup, subnet, or wildcard exports.</p><p>This option can be very useful in some situations, but it should be used with due care, and only after confirming that the client system copes with the situation effectively.</p><p>The option can be explicitly disabled with <em>hide</em>.</p>
  </dd>
  <dt>
    <p><em>crossmnt</em></p>
  </dt>
  <dd>
    <p>This option is similar to <em>nohide</em> but it makes it possible for clients to move from the filesystem marked with crossmnt to exported filesystems mounted on it.  Thus when a child filesystem "B" is mounted on a parent "A", setting crossmnt on "A" has the same effect as setting "nohide" on B.</p>
  </dd>
  <dt>
    <p><em>no_subtree_check</em></p>
  </dt>
  <dd>
    <p>This option disables subtree checking, which has mild security implications, but can improve reliability in some circumstances.</p><p>If a subdirectory of a filesystem is exported, but the whole filesystem isn't then whenever a NFS request arrives, the server must check not only that the accessed file is in the appropriate filesystem (which is easy) but also that it is in the exported tree (which is harder). This check is called the <em>subtree_check</em>.</p><p>In order to perform this check, the server must include some information about the location of the file in the "filehandle" that is given to the client.  This can cause problems with accessing files that are renamed while a client has them open (though in many simple cases it will still work).</p><p>subtree checking is also used to make sure that files inside directories to which only root has access can only be accessed if the filesystem is exported with <em>no_root_squash</em> (see below), even if the file itself allows more general access.</p><p>As a general guide, a home directory filesystem, which is normally exported at the root and may see lots of file renames, should be exported with subtree checking disabled.  A filesystem which is mostly readonly, and at least doesn't see many file renames (e.g. /usr or /var) and for which subdirectories may be exported, should probably be exported with subtree checks enabled.</p><p>The default of having subtree checks enabled, can be explicitly requested with <em>subtree_check</em>.</p><p>From release 1.1.0 of nfs-utils onwards, the default will be <em>no_subtree_check</em> as subtree_checking tends to cause more problems than it is worth. If you genuinely require subtree checking, you should explicitly put that option in the <strong>exports</strong> file.  If you put neither option, <strong>exportfs</strong> will warn you that the change is pending.</p>
  </dd>
  <dt>
    <p><em>insecure_locks</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><em>no_auth_nlm</em></p>
  </dt>
  <dd>
    <p>This option (the two names are synonymous) tells the NFS server not to require authentication of locking requests (i.e. requests which use the NLM protocol).  Normally the NFS server will require a lock request to hold a credential for a user who has read access to the file.  With this flag no access checks will be performed.</p><p>Early NFS client implementations did not send credentials with lock requests, and many current NFS clients still exist which are based on the old implementations.  Use this flag if you find that you can only lock files which are world readable.</p><p>The default behaviour of requiring authentication for NLM requests can be explicitly requested with either of the synonymous <em>auth_nlm</em>, or <em>secure_locks</em>.</p>
  </dd>
  <dt>
    <p><em>mountpoint=</em>path</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><em>mp</em></p>
  </dt>
  <dd>
    <p>This option makes it possible to only export a directory if it has successfully been mounted. If no path is given (e.g. <em>mountpoint</em> or <em>mp</em>) then the export point must also be a mount point.  If it isn't then the export point is not exported.  This allows you to be sure that the directory underneath a mountpoint will never be exported by accident if, for example, the filesystem failed to mount due to a disc error.</p><p>If a path is given (e.g. <em>mountpoint=</em>/path or <em>mp=</em>/path) then the nominated path must be a mountpoint for the exportpoint to be exported.</p>
  </dd>
  <dt>
    <p><em>fsid=</em>num|root|uuid</p>
  </dt>
  <dd>
    <p>NFS needs to be able to identify each filesystem that it exports. Normally it will use a UUID for the filesystem (if the filesystem has such a thing) or the device number of the device holding the filesystem (if the filesystem is stored on the device).</p><p>As not all filesystems are stored on devices, and not all filesystems have UUIDs, it is sometimes necessary to explicitly tell NFS how to identify a filesystem.  This is done with the <em>fsid=</em> option.</p><p>For NFSv4, there is a distinguished filesystem which is the root of all exported filesystem.  This is specified with <em>fsid=root</em> or <em>fsid=0</em> both of which mean exactly the same thing.</p><p>Other filesystems can be identified with a small integer, or a UUID which should contain 32 hex digits and arbitrary punctuation.</p><p>Linux kernels version 2.6.20 and earlier do not understand the UUID setting so a small integer must be used if an fsid option needs to be set for such kernels.  Setting both a small number and a UUID is supported so the same configuration can be made to work on old and new kernels alike.</p>
  </dd>
  <dt>
    <p><em>refer=</em>path@host[+host][:path@host[+host]]</p>
  </dt>
  <dd>
    <p>A client referencing the export point will be directed to choose from the given list an alternative location for the filesystem. (Note that the server must have a mountpoint here, though a different filesystem is not required; so, for example, <em>mount --bind</em> /path /path is sufficient.)</p>
  </dd>
  <dt>
    <p><em>replicas=</em>path@host[+host][:path@host[+host]]</p>
  </dt>
  <dd>
    <p>If the client asks for alternative locations for the export point, it will be given this list of alternatives. (Note that actual replication of the filesystem must be handled elsewhere.)</p>
  </dd>

</dl>

<h3>User ID Mapping</h3>
<p><strong>nfsd</strong> bases its access control to files on the server machine on the uid and gid provided in each NFS RPC request. The normal behavior a user would expect is that she can access her files on the server just as she would on a normal file system. This requires that the same uids and gids are used on the client and the server machine. This is not always true, nor is it always desirable.</p><p>Very often, it is not desirable that the root user on a client machine is also treated as root when accessing files on the NFS server. To this end, uid 0 is normally mapped to a different id: the so-called anonymous or <em>nobody</em> uid. This mode of operation (called `root squashing') is the default, and can be turned off with <em>no_root_squash</em>.</p><p>By default, <strong>exportfs</strong> chooses a uid and gid of 65534 for squashed access. These values can also be overridden by the <em>anonuid</em> and <em>anongid</em> options. Finally, you can map all user requests to the anonymous uid by specifying the <em>all_squash</em> option.</p><p>Here's the complete list of mapping options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>root_squash</em></p>
  </dt>
  <dd>
    <p>Map requests from uid/gid 0 to the anonymous uid/gid. Note that this does not apply to any other uids or gids that might be equally sensitive, such as user <em>bin</em> or group <em>staff</em>.</p>
  </dd>
  <dt>
    <p><em>no_root_squash</em></p>
  </dt>
  <dd>
    <p>Turn off root squashing. This option is mainly useful for diskless clients.</p>
  </dd>
  <dt>
    <p><em>all_squash</em></p>
  </dt>
  <dd>
    <p>Map all uids and gids to the anonymous user. Useful for NFS-exported public FTP directories, news spool directories, etc. The opposite option is <em>no_all_squash</em>, which is the default setting.</p>
  </dd>
  <dt>
    <p><em>anonuid</em> and <em>anongid</em></p>
  </dt>
  <dd>
    <p>These options explicitly set the uid and gid of the anonymous account. This option is primarily useful for PC/NFS clients, where you might want all requests appear to be from one user. As an example, consider the export entry for <strong>/home/joe</strong> in the example section below, which maps all requests to uid 150 (which is supposedly that of user joe).</p>
  </dd>

</dl>

<h3>Extra Export Tables</h3>
<p>After reading <em>/etc/exports</em> <strong>exportfs</strong> reads files under <em>/etc/exports.d.</em> directory as extra export tables. <strong>exportfs</strong> regards only a file which name is ended with <em>.exports</em> and not started with <em>.</em> as an extra export file. A file which name is not met this condition is just ignored. The format for extra export tables is the same as <em>/etc/exports</em></p><ul>
<li></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
# sample /etc/exports file
/               master(rw) trusty(rw,no_root_squash)
/projects       proj*.local.domain(rw)
/usr            *.local.domain(ro) @trusted(rw)
/home/joe       pc001(rw,all_squash,anonuid=150,anongid=100)
/pub            *(ro,insecure,all_squash)
/srv/www        -sync,rw server @trusted @external(ro)
/foo            2001:db8:9:e54::/64(rw) 192.0.2.0/24(rw)
/build          buildhost[0-9].local.domain(rw)
</pre>
<p>The first line exports the entire filesystem to machines master and trusty. In addition to write access, all uid squashing is turned off for host trusty. The second and third entry show examples for wildcard hostnames and netgroups (this is the entry `@trusted'). The fourth line shows the entry for the PC/NFS client discussed above. Line 5 exports the public FTP directory to every host in the world, executing all requests under the nobody account. The <em>insecure</em> option in this entry also allows clients with NFS implementations that don't use a reserved port for NFS. The sixth line exports a directory read-write to the machine 'server' as well as the `@trusted' netgroup, and read-only to netgroup `@external', all three mounts with the `sync' option enabled. The seventh line exports a directory to both an IPv6 and an IPv4 subnet. The eighth line demonstrates a character class wildcard match.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/exports /etc/exports.d</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO exports&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/exportfs.8.html"><strong>exportfs</strong>(8)</a>, <a href="../man5/netgroup.5.html"><strong>netgroup</strong>(5)</a>, <a href="../man8/mountd.8.html"><strong>mountd</strong>(8)</a>, <a href="../man8/nfsd.8.html"><strong>nfsd</strong>(8)</a>, <a href="../man8/showmount.8.html"><strong>showmount</strong>(8)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="expire.ctl.5.html"><span aria-hidden="true">&larr;</span> expire.ctl.5: Control file for usenet article expiration</a></li>
   <li class="next"><a href="express.conf.5.html">express.conf.5: Configuration file for openshift <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
