<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tinyproxy.conf: Tinyproxy http proxy daemon configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tinyproxy http proxy daemon configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tinyproxy.conf (5) manual">
  <meta name="twitter:description" content="Tinyproxy http proxy daemon configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/tinyproxy-tinyproxy.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/tinyproxy.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tinyproxy.conf (5) manual" />
  <meta property="og:description" content="Tinyproxy http proxy daemon configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/tinyproxy-tinyproxy.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tinyproxy.conf<small> (5)</small></h1>
        <p class="lead">Tinyproxy http proxy daemon configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/tinyproxy.conf.5.html">
      <span itemprop="name">tinyproxy.conf: Tinyproxy http proxy daemon configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/tinyproxy/">
      <span itemprop="name">tinyproxy</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/tinyproxy.conf.5.html">
      <span itemprop="name">tinyproxy.conf: Tinyproxy http proxy daemon configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>tinyproxy.conf</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><a href="../man8/tinyproxy.8.html"><strong>tinyproxy</strong>(8)</a> reads its configuration file, typically stored in /etc/tinyproxy/tinyproxy.conf (or passed to Tinyproxy with -c on the command line). This manpage describes the syntax and contents of the configuration file.</p><p>The Tinyproxy configuration file contains key-value pairs, one per line. Lines starting with # and empty lines are comments and are ignored. Keywords are case-insensitive, whereas values are case-sensitive. Values may be enclosed in double-quotes (") if they contain spaces.</p><p>The possible keywords and their descriptions are as follows:</p><p><strong>User</strong></p><p>The user which the Tinyproxy process should run as, after the initial port-binding has been done as the root user. Either the user name or the UID may be specified.</p><p><strong>Group</strong></p><p>The group which the Tinyproxy process should run as, after the initial port-binding has been done as the root user. Either the group name or the GID may be specified.</p><p><strong>Port</strong></p><p>The port which the Tinyproxy service will listen on. If the port is less than 1024, you will need to start the Tinyproxy process as the root user.</p><p><strong>Listen</strong></p><p>By default, Tinyproxy listens for connections on all available interfaces (i.e. it listens on the wildcard address 0.0.0.0). With this configuration parameter, Tinyproxy can be told to listen only on one specific address.</p><p><strong>Bind</strong></p><p>This allows you to specify which address Tinyproxy will bind to for outgoing connections to web servers or upstream proxies.</p><p><strong>BindSame</strong></p><p>If this boolean parameter is set to yes, then Tinyproxy will bind the outgoing connection to the IP address of the incoming connection that triggered the outgoing request.</p><p><strong>Timeout</strong></p><p>The maximum number of seconds of inactivity a connection is allowed to have before it is closed by Tinyproxy.</p><p><strong>ErrorFile</strong></p><p>This parameter controls which HTML file Tinyproxy returns when a given HTTP error occurs. It takes two arguments, the error number and the location of the HTML error file.</p><p><strong>DefaultErrorFile</strong></p><p>This parameter controls the HTML template file returned when an error occurs for which no specific error file has been set.</p><p><strong>StatHost</strong></p><p>This configures the host name or IP address that is treated as the stat host: Whenever a request for this host is received, Tinyproxy will return an internal statistics page instead of forwarding the request to that host. The template for this page can be configured with the StatFile configuration option. The default value of StatHost is tinyproxy.stats.</p><p><strong>StatFile</strong></p><p>This configures the HTML file that Tinyproxy sends when a request for the stathost is received. If this parameter is not set, Tinyproxy returns a hard-coded basic statistics page. See the STATHOST section in the <a href="../man8/tinyproxy.8.html"><strong>tinyproxy</strong>(8)</a> manual page for details.</p><p>Note that the StatFile and the error files configured with ErrorFile and DefaultErrorFile are template files that can contain a few template variables that Tinyproxy expands prior to delivery. Examples are "{cause}" for an abbreviated error description and "{detail}" for a detailed error message. The <a href="../man8/tinyproxy.8.html"><strong>tinyproxy</strong>(8)</a> manual page contains a description of all template variables.</p><p><strong>LogFile</strong></p><p>This controls the location of the file to which Tinyproxy writes its debug output. Alternatively, Tinyproxy can log to syslog &ndash; see the Syslog option.</p><p><strong>Syslog</strong></p><p>When set to On, this option tells Tinyproxy to write its debug messages to syslog instead of to a log file configured with LogFile. These two options are mutually exclusive.</p><p><strong>LogLevel</strong></p><p>Sets the log level. Messages from the set level and above are logged. For example, if the LogLevel was set to Warning, then all log messages from Warning to Critical would be output, but Notice and below would be suppressed. Allowed values are:</p><p>Critical (least verbose)</p><p>Error</p><p>Warning</p><p>Notice</p><p>Connect (log connections without Info\(cqs noise)</p><p>Info (most verbose)</p><p><strong>PidFile</strong></p><p>This option controls the location of the file where the main Tinyproxy process stores its process ID for signaling purposes.</p><p><strong>XTinyproxy</strong></p><p>Setting this option to Yes tells Tinyproxy to add a header X-Tinyproxy containing the client\(cqs IP address to the request.</p><p><strong>Upstream</strong>, <strong>No Upstream</strong></p><p>This option allows you to set up a set of rules for deciding whether an upstream proxy server is to be used, based on the host or domain of the site being accessed. The rules are stored in the order encountered in the configuration file and the LAST matching rule wins. There are three possible forms for specifying upstream rules:</p><p><em>upstream host:port</em> turns proxy upstream support on generally.</p><p><em>upstream host:port "site_spec"</em> turns on the upstream proxy for the sites matching site_spec.</p><p><em>no upstream "site_spec"</em> turns off upstream support for sites matching site_spec.</p>
<pre>
The site can be specified in various forms as a hostname, domain
name or as an IP range:
</pre>
<p><em>name</em> matches host exactly</p><p><em>.name</em> matches any host in domain "name"</p><p><em>.</em> matches any host with no domain (in <em>empty</em> domain)</p><p><em>IP/bits</em> matches network/mask</p><p><em>IP/mask</em> matches network/mask</p><p><strong>MaxClients</strong></p><p>Tinyproxy creates one child process for each connected client. This options specifies the absolute highest number processes that will be created. With other words, only MaxClients clients can be connected to Tinyproxy simultaneously.</p><p><strong>MinSpareServers</strong>, <strong>MaxSpareServers</strong></p><p>Tinyproxy always keeps a certain number of idle child processes so that it can handle new incoming client requests quickly. MinSpareServer and MaxSpareServers control the lower and upper limits for the number of spare processes. I.e. when the number of spare servers drops below MinSpareServers then Tinyproxy will start forking new spare processes in the background and when the number of spare processes exceeds MaxSpareServers then Tinyproxy will kill off extra processes.</p><p><strong>StartServers</strong></p><p>The number of servers to start initially. This should usually be set to a value between MinSpareServers and MaxSpareServers.</p><p><strong>MaxRequestsPerChild</strong></p><p>This limits the number of connections that a child process will handle before it is killed. The default value is 0 which disables this feature. This option is meant as an emergency measure in the case of problems with memory leakage. In that case, setting MaxRequestsPerChild to a value of e.g. 1000, or 10000 can be useful.</p><p><strong>Allow</strong>, <strong>Deny</strong></p><p>The Allow and Deny options provide a means to customize which clients are allowed to access Tinyproxy. Allow and Deny lines can be specified multiple times to build the access control list for Tinyproxy. The order in the config file is important. If there are no Allow or Deny lines, then all clients are allowed. Otherwise, the default action is to deny access. The argument to Allow or Deny can be a single IP address of a client host, like 127.0.0.1, an IP address range, like 192.168.0.1/24 or a string that will be matched against the end of the client host name, i.e, this can be a full host name like host.example.com or a domain name like .example.com or even a top level domain name like .com.</p><p><strong>AddHeader</strong></p><p>Configure one or more HTTP request headers to be added to outgoing HTTP requests that Tinyproxy makes. Note that this option will not work for HTTPS traffic, as Tinyproxy has no control over what headers are exchanged.</p>
<pre>
AddHeader "X-My-Header" "Powered by Tinyproxy"
</pre>
<p><strong>ViaProxyName</strong></p><p>RFC 2616 requires proxies to add a Via header to the HTTP requests, but using the real host name can be a security concern. If the ViaProxyname option is present, then its string value will be used as the host name in the Via header. Otherwise, the server\(cqs host name will be used.</p><p><strong>DisableViaHeader</strong></p><p>When this is set to yes, Tinyproxy does NOT add the Via header to the requests. This virtually puts Tinyproxy into stealth mode. Note that RFC 2616 requires proxies to set the Via header, so by enabling this option, you break compliance. Don\(cqt disable the Via header unless you know what you are doing...</p><p><strong>Filter</strong></p><p>Tinyproxy supports filtering of web sites based on URLs or domains. This option specifies the location of the file containing the filter rules, one rule per line.</p><p><strong>FilterURLs</strong></p><p>If this boolean option is set to Yes or On, filtering is performed for URLs rather than for domains. The default is to filter based on domains.</p><p><strong>FilterExtended</strong></p><p>If this boolean option is set to Yes, then extended POSIX regular expressions are used for matching the filter rules. The default is to use basic POSIX regular expressions.</p><p><strong>FilterCaseSensitive</strong></p><p>If this boolean option is set to Yes, then the filter rules are matched in a case sensitive manner. The default is to match case-insensitively.</p><p><strong>FilterDefaultDeny</strong></p><p>The default filtering policy is to allow everything that is not matched by a filtering rule. Setting FilterDefaultDeny to Yes changes the policy do deny everything but the domains or URLs matched by the filtering rules.</p><p><strong>Anonymous</strong></p><p>If an Anonymous keyword is present, then anonymous proxying is enabled. The headers listed with Anonymous are allowed through, while all others are denied. If no Anonymous keyword is present, then all headers are allowed through. You must include quotes around the headers.</p><p>Most sites require cookies to be enabled for them to work correctly, so you will need to allow cookies through if you access those sites.</p><p>Example:</p>
<pre>
Anonymous "Host"
Anonymous "Authorization"
Anonymous "Cookie"
</pre>
<p><strong>ConnectPort</strong></p><p>This option can be used to specify the ports allowed for the CONNECT method. If no ConnectPort line is found, then all ports are allowed. To disable CONNECT altogether, include a single ConnectPort line with a value of 0.</p><p><strong>ReversePath</strong></p><p>Configure one or more ReversePath directives to enable reverse proxy support. With reverse proxying it\(cqs possible to make a number of sites appear as if they were part of a single site.</p><p>If you uncomment the following two directives and run Tinyproxy on your own computer at port 8888, you can access example.com, using http://localhost:8888/example/.</p>
<pre>
ReversePath "/example/" "http://www.example.com/"
</pre>
<p><strong>ReverseOnly</strong></p><p>When using Tinyproxy as a reverse proxy, it is STRONGLY recommended that the normal proxy is turned off by setting this boolean option to Yes.</p><p><strong>ReverseMagic</strong></p><p>Setting this option to Yes, makes Tinyproxy use a cookie to track reverse proxy mappings. If you need to reverse proxy sites which have absolute links you must use this option.</p><p><strong>ReverseBaseURL</strong></p><p>The URL that is used to access this reverse proxy. The URL is used to rewrite HTTP redirects so that they won\(cqt escape the proxy. If you have a chain of reverse proxies, you\(cqll need to put the outermost URL here (the address which the end user types into his/her browser). If this option is not set then no rewriting of redirects occurs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>To report bugs in Tinyproxy, please visit &lt;https://www.banu.com/tinyproxy/&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tinyproxy.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/tinyproxy.8.html"><strong>tinyproxy</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by the Tinyproxy project team.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 1998-2000 Steven Young; Copyright (c) 2000-2001 Robert James Kaes; Copyright (c) 2009-2010 Mukund Sivaraman; Copyright (c) 2009-2010 Michael Adam.</p><p>This program is distributed under the terms of the GNU General Public License version 2 or above. See the COPYING file for additional information.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="tin.5.html"><span aria-hidden="true">&larr;</span> tin.5: Related files</a></li>
   <li class="next"><a href="tlsdated.conf.5.html">tlsdated.conf.5: Tlsdated config file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
