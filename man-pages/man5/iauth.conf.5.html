<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>iauth.conf: The internet relay chat authentication configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The internet relay chat authentication configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="iauth.conf (5) manual">
  <meta name="twitter:description" content="The internet relay chat authentication configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/ircd-irc2-iauth.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/iauth.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="iauth.conf (5) manual" />
  <meta property="og:description" content="The internet relay chat authentication configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ircd-irc2-iauth.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">iauth.conf<small> (5)</small></h1>
        <p class="lead">The internet relay chat authentication configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/iauth.conf.5.html">
      <span itemprop="name">iauth.conf: The internet relay chat authentication configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ircd-irc2/">
      <span itemprop="name">ircd-irc2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/iauth.conf.5.html">
      <span itemprop="name">iauth.conf: The internet relay chat authentication configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>iauth.conf</em> file is read by the <em>iauth</em> program upon startup, it contains the list of modules that should be used to authenticate a particular connection.  The list is ordered, which means that the first module to successfully authenticate a connection will be the last to be tried.</p><p>The file is divided in sections, the first section is used for iauth options, each subsequent section specifies a module with eventual options using the following format:</p>
<pre>
module&nbsp;<em>module-name</em>
[TAB]option = <em>string</em>
[TAB]host = <em>host-name</em>
[TAB]ip = <em>ip-address</em>
[TAB]timeout = <em>value</em>
[TAB]port = <em>value</em>
[TAB]reason = <em>string</em>

</pre>
<p>The section ends with an empty line.  The <em>module-name</em> defines which module the section applies to.  A particular module may be used in several sections.  An option <em>string</em> of undefined format may be specified, it will then be passed to the module upon initialization, see the MODULES section to find out if a module accepts any option.</p><p>If <em>host-name</em> and <em>ip-address</em> fields are specified, then the module will only be used for connections matching one of the fields given in the configuration.  An entry prefixed with the character ! indicates a negative match.  IP addresses are checked first.</p><p>Port is mandatory for socks and webproxy modules and not used in others. It tells module what port it should connect to to do its work.</p><p>If no host nor ip entry is specified, then the module will always be used.</p><p>Reason is text to send to clients rejected by given module.</p><p>When writing a configuration file, one should <strong>always</strong> verify the syntax using the <em>iauth</em> program to avoid later problems.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IAUTH OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>timeout = &lt;seconds&gt;</strong></p>
  </dt>
  <dd>
    <p>This allows one to specify how much time each module has to complete its work for each connection.  This option can also be specified individually for each module. The default is 30 seconds.</p>
  </dd>
  <dt>
    <p><strong>required</strong></p>
  </dt>
  <dd>
    <p>By specifying this keyword, the IRC server is told not to accept new user connections unless the authentication is handled by <em>iauth</em>.  This does NOT mean that the server will wait forever to get the data from iauth, see the <em>notimeout</em> option.</p>
  </dd>
  <dt>
    <p><strong>notimeout</strong></p>
  </dt>
  <dd>
    <p>By specifying this keyword, the IRC server is told not to accept a user connection if <em>iauth</em> hasn't finished its work in time. Note that modules specified after <em>delayed</em> keyword are not considered.</p>
  </dd>
  <dt>
    <p><strong>extinfo</strong></p>
  </dt>
  <dd>
    <p>This keyword allows extra information (user supplied username, and eventually password) to be received by <em>iauth</em> from the server.  This is only useful if a module using this information is loaded.</p>
  </dd>
  <dt>
    <p><strong>delayed</strong></p>
  </dt>
  <dd>
    <p>All modules below this keyword will run in "delayed" execution mode. This means that ircd gets (fake) message that iauth is done with this client so that it allows it. Modules however do work as usual and upon deciding that this client should be removed, message is sent to ircd and client removed.</p>
  </dd>
  <dt>
    <p><strong>shared &lt;name&gt; &lt;mod_name.so&gt;</strong></p>
  </dt>
  <dd>
    <p>If iauth was compiled with Dynamically Shared Module support, it can be told to dynamically load a module using this option.  The module can then be loaded.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MODULES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>pipe</strong></p>
  </dt>
  <dd>
    <p>This module is provided as a replacement to the (now obsolete) R configuration lines supported by the IRC daemon.  It runs an external program with the client IP and port as arguments.  The program should output either 'Y' (Yes, let the client in), or 'N' (No, don't let them in).</p><p>Note that this module is quite expensive as it forks a separate process for each connection received by the IRC daemon.</p><p>This module requires the following option: <strong>prog=/path/to/external/program</strong></p>
  </dd>
  <dt>
    <p><strong>socks</strong></p>
  </dt>
  <dd>
    <p>This module performs a basic check to verify that the host where the connection originated from doesn't run a SOCKS v4 or v5 proxy server on a given in configuration port that is open to the world. It is useful to reject abusive clients using a relay to evade kill lines and bans. Multiple instances (with different ports) are allowed.</p><p>This module understands ten options: <strong>reject</strong> to reject connections originating from a host where an open proxy was detected, <strong>log</strong> to log hostnames where an open proxy is detected. <strong>protocol</strong> to log protocol errors <strong>paranoid</strong> to consider proxies which deny the request because of a userid/ident mismatch to be OPEN proxies. <strong>megaparanoid</strong> which is paranoid plus it considers all proxies not explicitly stating they are closed to be OPEN proxies -- that includes all protocol errors, unexpected results etc. <strong>cache[=value]</strong> to set the cache lifetime in minutes.  By default, caching is enabled for 30 minutes.  A value of 0 disables caching. <strong>careful</strong> to make sure socks v5 is properly configured with IP rulesets.  Without this parameter, module will not send additional query and assume first positive answer as valid. <strong>v4only</strong> to check only socks v4. <strong>v5only</strong> to check only socks v5.</p>
  </dd>
  <dt>
    <p><strong>rfc931</strong></p>
  </dt>
  <dd>
    <p>This module is for authentication TCP connections using the protocol defined in RFC 1413 (which obsoletes RFC 931).  It is always loaded, and does not recognize the <em>host</em> nor <em>ip</em> fields.</p>
  </dd>
  <dt>
    <p><strong>lhex</strong></p>
  </dt>
  <dd>
    <p>This module acts as a proxy, communicating with a LHEx server to perform authentication of client connections.  It takes a single (mandatory) option, which is the IP-address of the LHEx server to use.</p>
  </dd>
  <dt>
    <p><strong>webproxy</strong></p>
  </dt>
  <dd>
    <p>This module performs a basic HTTP CONNECT to verify that the host where the connection originated from doesn't run an open WWW proxy. It is useful to reject abusive clients using a relay to evade kill lines and bans. Multiple instances (with different ports) are allowed.</p><p>This module understands five options: <strong>reject</strong> to reject connections originating from a host where an open proxy was detected. <strong>log</strong> to log hostnames where an open proxy is detected. <strong>cache[=value]</strong> to set the cache lifetime in minutes.  By default, caching is enabled for 30 minutes.  A value of 0 disables caching. <strong>careful</strong> to make sure that we connected to our own ircd; without this parameter, module will accept any "HTTP/1.? 200" with an exception of servers sending "Date:" header along (which is common with some Apache+PHP configurations).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following file will cause the IRC daemon to reject all connections originating from a system where an open proxy is running for hosts within *.fr and *.enserb.u-bordeaux.fr but not for other hosts matching *.u-bordeaux.fr.  For all connections, an ident lookup (RFC 1413) will be performed as well as checking for WWW proxy on port 8080 and 3128. In addition, every connection is authenticated with the LHEx server at IP-address 127.0.0.1. Client will be let in after ident and lhex are done but if socks or webproxy finds an open proxy, client will be removed asap.</p>
<pre>
module rfc931

module lhex
        option = 127.0.0.1

delayed

module socks
        option = reject,paranoid
        host = *.enserb.u-bordeaux.fr
        host = !*.u-bordeaux.fr
        host = *.fr
        port = 1080

module webproxy
        option = reject
        port = 8080

module webproxy
        option = reject,careful
        port = 3128

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>When the option <strong>extinfo</strong> is set, connections registering as a server or a service with the IRC server are not guaranteed to receive the "user" authentication provided by modules (such as the rfc931 module).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>(c) 1998,1999 Christophe Kalt</p><p>For full COPYRIGHT see LICENSE file with IRC package.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>"iauth.conf"</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO iauth.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/iauth.8.html"><strong>iauth</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Christophe Kalt.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="hylafax-shutdown.5.html"><span aria-hidden="true">&larr;</span> hylafax-shutdown.5: Server shutdown control file</a></li>
   <li class="next"><a href="idhost.5.html">idhost.5: Reformat and inject a message into the queue. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
