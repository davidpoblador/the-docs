<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>realmd.conf: Tweak behavior of realmd</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tweak behavior of realmd">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="realmd.conf (5) manual">
  <meta name="twitter:description" content="Tweak behavior of realmd">
  <meta name="twitter:image" content="https://www.carta.tech/images/realmd-realmd.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/realmd.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="realmd.conf (5) manual" />
  <meta property="og:description" content="Tweak behavior of realmd" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/realmd-realmd.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">realmd.conf<small> (5)</small></h1>
        <p class="lead">Tweak behavior of realmd</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/realmd.conf.5.html">
      <span itemprop="name">realmd.conf: Tweak behavior of realmd</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/realmd/">
      <span itemprop="name">realmd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/realmd.conf.5.html">
      <span itemprop="name">realmd.conf: Tweak behavior of realmd</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILE</h2>
        <div class="sectioncontent">
<p><strong>realmd</strong> can be tweaked by network administrators to act in specific ways. This is done by placing settings in a /etc/realmd.conf. This file does not exist by default. The syntax of this file is the same as an INI file or Desktop Entry file.</p><p>In general, settings in this file only apply at the point of joining a domain or realm. Once the realm has been setup the settings have no effect. You may choose to configure \m[blue]<strong>SSSD</strong>\m[]\s-2\u[1]\d\s+2 or \m[blue]<strong>Winbind</strong>\m[]\s-2\u[2]\d\s+2 directly.</p><p>Only specify the settings you wish to override in the /etc/realmd.conf file. Settings not specified will be loaded from their packaged defaults. Only override the settings below. You may find other settings if you look through the <strong>realmd</strong> source code. However these are not guaranteed to remain stable.</p><p>There are various sections in the config file. Some sections are global topic sections, and are listed below. Other sections are specific to a given realm. These realm specific sections should always contain the domain name in lower case as their section header.</p><p>Examples of each setting is found below, including the header of the section it should be placed in. However in the resulting file only include each section once, and combine the various section setting together as lines underneath the section. For example</p>
<pre>
[users]
default-home = /home/%U
default-shell = /bin/bash
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACTIVE-DIRECTORY</h2>
        <div class="sectioncontent">
<p>These options should go in an <strong>[active-directory]</strong> section of the /etc/realmd.conf file. Only specify the settings you wish to override.</p><p><strong>default-client</strong></p><p>Specify the <strong>default-client</strong> setting in order to control which client software is the preferred default for use with Active Directory.</p>
<pre>
[active-directory]
default-client = sssd
# default-client = winbind

</pre>
<p>The default setting for this is <strong>sssd</strong> which uses \m[blue]<strong>SSSD</strong>\m[]\s-2\u[1]\d\s+2 as the Active Directory client. You can also specify <strong>winbind</strong> to use \m[blue]<strong>Samba Winbind</strong>\m[]\s-2\u[2]\d\s+2.</p><p>Some callers of <strong>realmd</strong> such as the <strong>realm</strong> command line tool allow specifying which client software should be used. Others, such as GNOME Control Center, simplify choose the default.</p><p>You can verify the preferred default client softawre by running the following command. The realm with the preferred client software will be listed first.</p>
<pre>
$ <strong>realm discover domain.example.com</strong>
domain.example.com
  configured: no
  server-software: active-directory
  client-software: sssd
  type: kerberos
  realm-name: AD.THEWALTER.LAN
  domain-name: ad.thewalter.lan
domain.example.com
  configured: no
  server-software: active-directory
  client-software: winbind
  type: kerberos
  realm-name: AD.THEWALTER.LAN
  domain-name: ad.thewalter.lan
</pre>
<p><strong>os-name</strong></p><p>(see below)</p><p><strong>os-version</strong></p><p>Specify the <strong>os-name</strong> and/or <strong>os-version</strong> settings to control the values that are placed in the computer account <strong>operatingSystem</strong> and <strong>operatingSystemVersion</strong> attributes.</p><p>This is an Active Directory specific option.</p>
<pre>
[active-directory]
os-name = Gentoo Linux
os-version = 9.9.9.9.9
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SERVICE</h2>
        <div class="sectioncontent">
<p>These options should go in an <strong>[service]</strong> section of the /etc/realmd.conf file. Only specify the settings you wish to override.</p><p><strong>automatic-install</strong></p><p>Set this to <em>no</em> to disable automatic installation of packages via package-kit.</p>
<pre>
[service]
automatic-install = no
# automatic-install = yes
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USERS</h2>
        <div class="sectioncontent">
<p>These options should go in an <strong>[users]</strong> section of the /etc/realmd.conf file. Only specify the settings you wish to override.</p><p><strong>default-home</strong></p><p>Specify the <strong>default-home</strong> setting in order to control how to set the home directory for accounts that have no home directory explicitly set.</p>
<pre>
[users]
default-home = /home/%D/%U
# default-home = /nfs/home/%D-%U

</pre>
<p>The default setting for this is <strong>/home/%D/%U</strong>. The <strong>%D</strong> format is replaced by the domain name. The <strong>%U</strong> format is replaced by the user name.</p><p>You can verify the home directory for a user by running the following command.</p>
<pre>
$ <strong>getent passwd &apos;DOMAIN/User&apos;</strong>
DOMAIN&#92;user:*:13445:13446:Name:/home/DOMAIN/user:/bin/bash
</pre>
<p>Note that in the case of IPA domains, most users already have a home directory configured in the domain. Therefore this configuration setting may rarely show through.</p><p><strong>default-shell</strong></p><p>Specify the <strong>default-shell</strong> setting in order to control how to set the Unix shell for accounts that have no shell explicitly set.</p>
<pre>
[users]
default-shell = /bin/bash
# default-shell = /bin/sh

</pre>
<p>The default setting for this is <strong>/bin/bash</strong> shell. The shell should be a valid shell if you expect the domain users be able to log in. For example it should exist in the /etc/shells file.</p><p>You can verify the shell for a user by running the following command.</p>
<pre>
$ <strong>getent passwd &apos;DOMAIN/User&apos;</strong>
DOMAIN&#92;user:*:13445:13446:Name:/home/DOMAIN/user:/bin/bash
</pre>
<p>Note that in the case of IPA domains, most users already have a shell configured in the domain. Therefore this configuration setting may rarely show through.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REALM SPECIFIC SETTINGS</h2>
        <div class="sectioncontent">
<p>These options should go in an section with the same name as the realm in the /etc/realmd.conf file. For example for the <strong>domain.example.com</strong> domain the section would be called <strong>[domain.example.com]</strong>. To figure out the canonical name for a realm use the <strong>realm</strong> command:</p>
<pre>
$ <strong>realm discover --name DOMAIN.example.com</strong>
domain.example.com
...
</pre>
<p>Only specify the settings you wish to override.</p><p><strong>computer-ou</strong></p><p>Specify this option to create directory computer accounts in a location other than the default. This currently only works with Active Directory domains.</p>
<pre>
[domain.example.com]
computer-ou = OU=Linux Computers,DC=domain,DC=example,DC=com
# computer-ou = OU=Linux Computers,

</pre>
<p>Specify the OU as an LDAP DN. It can be relative to the Root DSE, or a complete LDAP DN. Obviously the OU must exist in the directory.</p><p>It is also possible to use the <strong>--computer-ou</strong> argument of the <strong>realm</strong> command to create a computer account at a specific OU.</p><p><strong>user-prinicpal</strong></p><p>Set the <strong>user-prinicpal</strong> to yes to create <strong>userPrincipalName</strong> attributes for the computer account in the realm, in the form host/computer@REALM</p>
<pre>
[domain.example.com]
user-principal = yes
</pre>
<p><strong>automatic-id-mapping</strong></p><p>This option is on by default for Active Directory realms. Turn it off to use UID and GID information stored in the directory (as-per RFC2307) rather than automatically generating UID and GID numbers.</p><p>This option only makes sense for Active Directory realms.</p>
<pre>
[domain.example.com]
automatic-id-mapping = no
# automatic-id-mapping = yes
</pre>
<p><strong>manage-system</strong></p><p>This option is on by default. Normally joining a realm affects many aspects of the configuration and management of the system. Turning this off limits the interaction with the realm or domain to authentication and identity.</p>
<pre>
[domain.example.com]
manage-system = no
# manage-system = yes

</pre>
<p>When this option is turned on <strong>realmd</strong> defaults to using domain policy to control who can log into this machine. Further adjustments to login policy can be made with the <strong>realm permit</strong> command.</p><p><strong>fully-qualified-names</strong></p><p>This option is on by default. If turned off then realm user and group names are not qualified their name. This may cause them to conflict with local user and group names.</p>
<pre>
[domain.example.com]
fully-qualified-names = no
# fully-qualified-names = yes
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Stef Walter</strong> &lt;stef@thewalter.net&gt;</p><p>Maintainer</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>SSSD</p><p>https://fedorahosted.org/sssd/</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>Winbind</p><p>http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/winbind.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="reader.conf.5.html"><span aria-hidden="true">&larr;</span> reader.conf.5: Configuration file for pcscd readers' drivers</a></li>
   <li class="next"><a href="recoll.conf.5.html">recoll.conf.5: Main personal configuration file for recoll <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
