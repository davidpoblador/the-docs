<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>v2cc.libs: Vhdl library mapping file for the freehdl compiler/simulator.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Vhdl library mapping file for the freehdl compiler/simulator.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="v2cc.libs (5) manual">
  <meta name="twitter:description" content="Vhdl library mapping file for the freehdl compiler/simulator.">
  <meta name="twitter:image" content="https://www.carta.tech/images/freehdl-v2cc.libs-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/v2cc.libs.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="v2cc.libs (5) manual" />
  <meta property="og:description" content="Vhdl library mapping file for the freehdl compiler/simulator." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/freehdl-v2cc.libs-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">v2cc.libs<small> (5)</small></h1>
        <p class="lead">Vhdl library mapping file for the freehdl compiler/simulator.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/v2cc.libs.5.html">
      <span itemprop="name">v2cc.libs: Vhdl library mapping file for the freehdl compiler/simulator.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/freehdl/">
      <span itemprop="name">freehdl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/v2cc.libs.5.html">
      <span itemprop="name">v2cc.libs: Vhdl library mapping file for the freehdl compiler/simulator.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>FreeHDL</strong> is a compiler/simulator suite for the hardware description language VHDL.  VHDL'93 as well as VHDL'87 standards are supported.</p><p><strong>FreeHDL</strong> translates the original VHDL source FILEs into C++. Then, the C++ source can be compiled and linked to the kernel to build the simulation program. Starting the generated executable will simulate the corresponding VHDL model. The actual build process to generate the simulator from the VHDL source is a complex process which is handled by the <strong>gvhdl</strong> script.</p><p>FreeHDL does not have a opaque notion of design libraries.  VHDL files are not pre-analyzed and checked into some library data base as in other VHDL compiler/simulator systems.  Instead, whenever a reference to a design unit needs to be made, FreeHDL parses the VHDL code of that design unit from fresh.  Therefore, it needs to be able to find the source file of a design unit given the VHDL name of that unit.</p><p>Thus, as far as FreeHDL is concerned, a design library is a mapping from VHDL identifiers to file names.  There is also a mapping for getting library names from mapping files.</p><p>Such a mapping is specified via a "mapping file".  It contains a list of pattern rules that each transform a certain class of identifiers into file names.</p><p>The syntax of a mapping file is:</p>
<pre>
  Lexical:
</pre>

<pre>
     litchar: 'a'..'z' | 'A'..'Z' | '0'..'9' | '_' | '/' | '-' | '.' escchar
</pre>

<pre>
     escchar: '&#92;' char
</pre>

<pre>
     whitespace: ' ' | '&#92;n' | '&#92;v' | '&#92;t' | comment
</pre>

<pre>
     comment: '#' any_character* '&#92;n'
</pre>

<pre>
     opchar: ':' | ',' | '(' | ')'
</pre>

<pre>
     specchar: every printable char except litchar, whitespace and opchar
</pre>

<pre>
     symchar: litchar | specchar
</pre>

<pre>
     symbol: symchar+
</pre>

<pre>
  Grammar:
</pre>

<pre>
     mapping: version patternrule*
</pre>

<pre>
     version: "v2cc_mapfile" "0"
</pre>

<pre>
     patternrule: symbol [ ':' symbol ]
</pre>
<p>Comments are ignored.</p><p>A mapping files specifies a sequence of pattern rules.  When transforming an identifier, each rule is tried in turn and the first one that matches is chosen.</p><p>A rule looks like</p>
<pre>
  pattern: filename
</pre>
<p>When the ": filename" part is omitted, it defaults to "patternEXT" where "EXT" is determined by the user of the mapping file.</p><p>The "pattern" can contain the special character "&lt;" which introduces a `wildcard'.  The "&lt;" must be followed by a "&gt;", with arbitrary characters inbetween.  These characters form the name of the wildcard. A wildcard matches any sequence of characters.  There can be any number of wildcards in the pattern, but each must have a unique name.</p><p>The "filename" can also contain the character "&lt;", followed by a name, followed by "&gt;".  There, it introduces a `wildcard substitution'.  It will be replaced with the characters that matched the wildcard with the same name in "pattern".  When there is no wildcard in "pattern" with the right name, it will be replaced with nothing.  While doing this replacement, the characters "#" and "/" are replaced as "##", and "#-" respectively.  No other character translations are done, so if you have funny characters in your VHDL identifiers, you will have funny characters in your filenames.</p><p>Before doing the comparison with the patterns, the VHDL identifier is brought into a canonical form: when it is not an abstract identifier, all its characters are down-cased.</p><p>When the resulting filename is relative (does not begin with "/"), it is prefixed with the directory of the mapping file.</p><p>A non-existent mapping file is equivalent to the single rule</p>
<pre>
  &lt;&gt;
</pre>
<p>An empty mapping file is just that: an empty mapping.</p><p>The mapping does not need to be reversible.  It is OK when multiple identifiers map to a single filename.</p><p>No special character besides "&lt;" and "&gt;" is valid in "pattern" or "filename".  They are reserved for future extensions.</p><p>The mapping files for going from design unit names to filenames are found by looking into directories specified by the `v2cc library path'.  You can use the environment variable V2CC_LIBRARY_PATH and command line options to define the path.  When the environment variable is not set, it defaults to a value that makes the standard libraries available that are distributed and installed with v2cc itself.  When it is set, it completely overwrites this default value.</p><p>The variable V2CC_LIBRARY_PATH consists of ":" separated filenames. The filename "*" is replaced with the default value mentioned above.</p><p>In addition to the environment variable, you can use the "-L libdir" command line option with v2cc.  The directories specified with "-L" are added in front of the ones specified by V2CC_LIBRARY_PATH.  In the final library path, they appear in the same order as on the command line.</p><p>Looking for a design unit named UNIT in a library named LIB is done like this:</p>
<pre>
     for each component of the library path, L
       if L is a regular file
         set LMAP to L
       else if L is a directory
         set LMAP to L/v2cc.libs
       else
         continue with next component
       translate LIB into FLIB using LMAP with EXT=""
       if FLIB.vhdl exists
         terminate with FLIB.vhdl as the result
       if FLIB.v2cc exists
         set UMAP to FLIB.v2cc
       else if FLIB is a directory
         set UMAP to FLIB/v2cc.units
       else
         continue with next component
       translate UNIT into FUNIT using UMAP with EXT=".vhdl"
       terminate with FUNIT as the result
     terminate unsuccessfully
</pre>
<p>This mechanism is used for all design units that are referenced from within VHDL code (or via other means).  There is a complication with architectures and package bodies, though, because they are not uniquely identified by a single identifier.  For them, a artificial identifier is constructed.  Architectures get names of the form</p>
<pre>
    &lt;entity&gt;(&lt;architecture&gt;)
</pre>
<p>while package bodies become</p>
<pre>
    &lt;package&gt;(body)
</pre>
<p>For example, "architecture struct of model" is turned into "model(struct)" and "package body misc" is turned into "misc(body)".</p><p>When a design file contains multiple design units, they are all parsed, checked for correctness and remembered, but only the needed unit will be used for code generation.  That is, when a design file contains both a package header and a package body and the package header is referenced from another design unit, no code will be generated for the package body.  When one of the ignored units will be referenced later in the same invocation of v2cc, the design file will not be read again because all design units are retained in core.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The simplest situation is when you have no mapping files at all.  A design library is then a directory on your library path.  The name of that directory is that of the library in VHDL.  Each file in that directory with a ".vhdl" extension is used for a design unit with the same name as the file without the extension.</p><p>Say you have this directory structure</p>
<pre>
    somedir/
      std/
        standard.vhdl
        textio.vhdl
      ieee/
        numeric_bit.vhdl
        std_logic_1164.vhdl
</pre>
<p>When you put "somedir" into your library path, you have access to the design units</p>
<pre>
       STD.STANDARD
       STD.TEXTIO
       IEEE.NUMERIC_BIT
       IEEE.STD_LOGIC_1164
</pre>
<p>In this situation, you have one file per design unit.  When you have one file per design library, it would look like this</p>
<pre>
    somedir/
      fmf.vhdl
</pre>
<p>All references to design units in the FMF design library would be routed to "fmf.vhdl".</p><p>As another example assume that all VHDL libraries are mapped into subdirs starting from root directory "/foo". Further, assume that there are VHDL libraries named "lib1" and "lib2". They shall be mapped to subdir "/foo/lib1_dir" and "/foo/lib2_dir". Hence, the file/directory structure is as follows:</p><p>/foo  			&lt;-  library root directory /foo/v2cc.libs  	&lt;-  mapping control file /foo/lib1_dir		&lt;-  library dir for VHDL library lib1 /foo/lib1_dir/comp1.vhdl &lt;- file that contains VHDL model comp1 /foo/lib2_dir		&lt;-  library dir for VHDL library lib2 /foo/lib2_dir/comp2.vhdl &lt;- file that contains VHDL model comp2</p><p>Then, file "/foo/v2cc.libs" should contain:</p><p>v2cc_mapfile 0 lib1 : lib1_dir lib2 : lib2_dir</p><p>In order to compile a design named comp1 (stored in file comp1.vhdl) into VHDL library lib1 goto subdir "/foo/lib1_dir" and execute:</p>
<pre>
    gvhdl -c -L .. -l lib1 comp1.vhdl
</pre>
<p>Note that option "-l lib1" forces the compiler to associate the model stored in "comp1.vhdl" with VHDL library lib1.  Note further, that the compiler switch "-L .." specifies the path to the directory where "v2cc.libs" is stored. You may also specify an absolute path:</p>
<pre>
    gvhdl -c -L /foo -l lib1 comp1.vhdl
</pre>
<p>Note that comp1 should reside in a file named "comp1.vhdl".</p><p>If lib2 contains a design comp2 that makes use of comp1 from lib1 then goto "/foo/lib2_dir" and run the following command to create an executable for model comp2:</p>
<pre>
    gvhdl -L .. -l lib2 comp2.vhdl ../lib1_dir/comp1.o
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO v2cc.libs&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/gvhdl.1.html"><strong>gvhdl</strong>(1)</a>, <a href="../man1/freehdl-v2cc.1.html"><strong>freehdl-v2cc</strong>(1)</a>, <a href="../man1/freehdl-config.1.html"><strong>freehdl-config</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p>The latest version of FreeHDL can always be obtained from <strong>www.freehdl.seul.org</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Known bugs are documented within the BUGS file.  If your report addresses a parser related topic then contact Marius Vollmer &lt;mvo@zagadka.ping.de&gt;.  If it is related to the code generator or compiler then send an email to Edwin Naroska &lt;edwin@ds.e-technik.uni-dortmund.de&gt;.  If your are not sure send it to Edwin.  He will take care of forwarding your report to the appropriate recipient.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Edwin Naroska &copy; 1999, 2000, 2001, 2002, 2003, 2004, 2005 &lt;edwin@ds.e-technik.uni-dortmund.de&gt;</p><p>This is free software; see the source for copying conditions.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Written by Marius Vollmer &lt;mvo@zagadka.ping.de&gt; and Edwin Naroska &lt;edwin@ds.e-technik.uni-dortmund.de&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="uuencode.5.html"><span aria-hidden="true">&larr;</span> uuencode.5: Format of an encoded uuencode file</a></li>
   <li class="next"><a href="variables.5.html">variables.5:  <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
