<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>shorewall-blacklist: Shorewall blacklist file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shorewall blacklist file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="shorewall-blacklist (5) manual">
  <meta name="twitter:description" content="Shorewall blacklist file">
  <meta name="twitter:image" content="https://www.carta.tech/images/shorewall-shorewall-blacklist-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/shorewall-blacklist.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="shorewall-blacklist (5) manual" />
  <meta property="og:description" content="Shorewall blacklist file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/shorewall-shorewall-blacklist-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">shorewall-blacklist<small> (5)</small></h1>
        <p class="lead">Shorewall blacklist file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/shorewall-blacklist.5.html">
      <span itemprop="name">shorewall-blacklist: Shorewall blacklist file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/shorewall/">
      <span itemprop="name">shorewall</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/shorewall-blacklist.5.html">
      <span itemprop="name">shorewall-blacklist: Shorewall blacklist file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/etc/shorewall/blacklist</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The blacklist file is used to perform static blacklisting by source address (IP or MAC), or by application. The use of this file is deprecated and beginning with Shorewall 4.5.7, the file is no longer installed.</p><p>The columns in the file are as follows (where the column name is followed by a different name in parentheses, the different name is used in the alternate specification syntax).</p><p><strong>ADDRESS/SUBNET</strong> (networks) - {<strong>-</strong>|<strong>~</strong><em>mac-address</em>|<em>ip-address</em>|<em>address-range</em>|<strong>+</strong><em>ipset</em>}</p><p>Host address, network address, MAC address, IP address range (if your kernel and iptables contain iprange match support) or ipset name prefaced by "+" (if your kernel supports ipset match). Exclusion (\m[blue]<strong>shorewall-exclusion</strong>\m[]\s-2\u[1]\d\s+2(5)) is supported.</p><p>MAC addresses must be prefixed with "~" and use "-" as a separator.</p><p>Example: ~00-A0-C9-15-39-78</p><p>A dash ("-") in this column means that any source address will match. This is useful if you want to blacklist a particular application using entries in the PROTOCOL and PORTS columns.</p><p><strong>PROTOCOL</strong> (proto) - {<strong>-</strong>|[!]<em>protocol-number</em>|[!]<em>protocol-name</em>}</p><p>Optional - If specified, must be a protocol number or a protocol name from <a href="../man5/protocols.5.html"><strong>protocols</strong>(5)</a>.</p><p><strong>PORTS</strong> - {<strong>-</strong>|[!]<em>port-name-or-number</em>[,<em>port-name-or-number</em>]...}</p><p>Optional - may only be specified if the protocol is TCP (6) or UDP (17). A comma-separated list of destination port numbers or service names from <a href="../man5/services.5.html"><strong>services</strong>(5)</a>.</p><p>OPTIONS - {-|{dst|src|whitelist|audit}[,...]}</p><p>Optional - added in 4.4.12. If specified, indicates whether traffic <em>from</em> ADDRESS/SUBNET (<strong>src</strong>) or traffic <em>to</em> ADDRESS/SUBNET (<strong>dst</strong>) should be blacklisted. The default is <strong>src</strong>. If the ADDRESS/SUBNET column is empty, then this column has no effect on the generated rule.</p><p><strong>Note</strong></p><p>In Shorewall 4.4.12, the keywords from and to were used in place of src and dst respectively. Blacklisting was still restricted to traffic <em>arriving</em> on an interface that has the &apos;blacklist&apos; option set. So to block traffic from your local network to an internet host, you had to specify <strong>blacklist</strong> on your internal interface in \m[blue]<strong>shorewall-interfaces</strong>\m[]\s-2\u[2]\d\s+2 (5).</p><p><strong>Note</strong></p><p>Beginning with Shorewall 4.4.13, entries are applied based on the <strong>blacklist</strong> setting in \m[blue]<strong>shorewall-zones</strong>\m[]\s-2\u[3]\d\s+2(5):</p><p>&apos;blacklist&apos; in the OPTIONS or IN_OPTIONS column. Traffic from this zone is passed against the entries in this file that have the <strong>src</strong> option (specified or defaulted).</p><p>&apos;blacklist&apos; in the OPTIONS or OUT_OPTIONS column. Traffic to this zone is passed against the entries in this file that have the <strong>dst</strong> option.</p><p>In Shorewall 4.4.20, the <strong>whitelist</strong> option was added. When <strong>whitelist</strong> is specified, packets/connections that match the entry are not matched against the remaining entries in the file.</p><p>The <strong>audit</strong> option was also added in 4.4.20 and causes packets matching the entry to be audited. The <strong>audit</strong> option may not be specified in whitelist entries and require AUDIT_TARGET support in the kernel and iptables.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Example 1:</p><p>To block DNS queries from address 192.0.2.126:</p>
<pre>
        #ADDRESS/SUBNET         PROTOCOL        PORT
        192.0.2.126             udp             53
</pre>
<p>Example 2:</p><p>To block some of the nuisance applications:</p>
<pre>
        #ADDRESS/SUBNET         PROTOCOL        PORT
        -                       udp             1024:1033,1434
        -                       tcp             57,1433,1434,2401,2745,3127,3306,3410,4899,5554,6101,8081,9898
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/shorewall/blacklist</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO shorewall-blacklist&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>http://www.shorewall.net/blacklisting_support.htm</strong>\m[]\s-2\u[4]\d\s+2</p><p>\m[blue]<strong>http://www.shorewall.net/configuration_file_basics.htm#Pairs</strong>\m[]\s-2\u[5]\d\s+2</p><p><strong>shorewall</strong>(8), <a href="../man5/shorewall-accounting.5.html"><strong>shorewall-accounting</strong>(5)</a>, <a href="../man5/shorewall-actions.5.html"><strong>shorewall-actions</strong>(5)</a>, <a href="../man5/shorewall-hosts.5.html"><strong>shorewall-hosts</strong>(5)</a>, <strong>shorewall_interfaces</strong>(5), <a href="../man5/shorewall-ipsets.5.html"><strong>shorewall-ipsets</strong>(5)</a>, <a href="../man5/shorewall-maclist.5.html"><strong>shorewall-maclist</strong>(5)</a>, <a href="../man5/shorewall-masq.5.html"><strong>shorewall-masq</strong>(5)</a>, <a href="../man5/shorewall-nat.5.html"><strong>shorewall-nat</strong>(5)</a>, <a href="../man5/shorewall-netmap.5.html"><strong>shorewall-netmap</strong>(5)</a>, <a href="../man5/shorewall-params.5.html"><strong>shorewall-params</strong>(5)</a>, <a href="../man5/shorewall-policy.5.html"><strong>shorewall-policy</strong>(5)</a>, <a href="../man5/shorewall-providers.5.html"><strong>shorewall-providers</strong>(5)</a>, <a href="../man5/shorewall-proxyarp.5.html"><strong>shorewall-proxyarp</strong>(5)</a>, <a href="../man5/shorewall-rtrules.5.html"><strong>shorewall-rtrules</strong>(5)</a>, <a href="../man5/shorewall-routestopped.5.html"><strong>shorewall-routestopped</strong>(5)</a>, <a href="../man5/shorewall-rules.5.html"><strong>shorewall-rules</strong>(5)</a>, <strong>shorewall.conf</strong>(5), <a href="../man5/shorewall-secmarks.5.html"><strong>shorewall-secmarks</strong>(5)</a>, <a href="../man5/shorewall-tcclasses.5.html"><strong>shorewall-tcclasses</strong>(5)</a>, <a href="../man5/shorewall-tcdevices.5.html"><strong>shorewall-tcdevices</strong>(5)</a>, <a href="../man5/shorewall-mangle.5.html"><strong>shorewall-mangle</strong>(5)</a>, <a href="../man5/shorewall-tos.5.html"><strong>shorewall-tos</strong>(5)</a>, <a href="../man5/shorewall-tunnels.5.html"><strong>shorewall-tunnels</strong>(5)</a>, <a href="../man5/shorewall-zones.5.html"><strong>shorewall-zones</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>shorewall-exclusion</p><p>http://www.shorewall.net/manpages/shorewall-exclusion.html</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>shorewall-interfaces</p><p>http://www.shorewall.net/manpages/shorewall-interfaces.html</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p>shorewall-zones</p><p>http://www.shorewall.net/manpages/shorewall-zones.html</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p>http://www.shorewall.net/blacklisting_support.htm</p><p>http://www.shorewall.net/blacklisting_support.htm</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p>http://www.shorewall.net/configuration_file_basics.htm#Pairs</p><p>http://www.shorewall.net/configuration_file_basics.htm#Pairs</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shorewall-arprules.5.html"><span aria-hidden="true">&larr;</span> shorewall-arprules.5: Shorewall arp rules file</a></li>
   <li class="next"><a href="shorewall-blrules.5.html">shorewall-blrules.5: Shorewall blacklist file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
