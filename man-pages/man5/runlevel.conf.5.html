<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>runlevel.conf: The file-rc runlevel configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The file-rc runlevel configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="runlevel.conf (5) manual">
  <meta name="twitter:description" content="The file-rc runlevel configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/file-rc-runlevel.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/runlevel.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="runlevel.conf (5) manual" />
  <meta property="og:description" content="The file-rc runlevel configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/file-rc-runlevel.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">runlevel.conf<small> (5)</small></h1>
        <p class="lead">The file-rc runlevel configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/runlevel.conf.5.html">
      <span itemprop="name">runlevel.conf: The file-rc runlevel configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/file-rc/">
      <span itemprop="name">file-rc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/runlevel.conf.5.html">
      <span itemprop="name">runlevel.conf: The file-rc runlevel configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>runlevel.conf</strong> is the configuration file for the package <strong>file-rc</strong> an alternative <a href="../man8/init.8.html"><strong>init</strong>(8)</a> boot concept.  While the SysV init scheme implements runlevels through symlinks in <strong>/etc/rc</strong><em>?</em><strong>.d/*</strong> , <strong>file-rc</strong> uses only one file <strong>runlevel.conf</strong> to replace all these symlinks.</p><p>This file consists of 4 columns separated by TABs or spaces with the following contents:</p><ul>
<li><p>The first column is the sort criteria for starting and stopping the scripts.</p></li><li><p>The second column consists of a comma-separated list of runlevels in which the script should be switched `off' <em>or</em> a single `<strong>-</strong>' if the script should never be stopped (within that sort-number).</p></li><li><p>The third column consists of a comma-separated list of runlevels in which the script should be switched `on' <em>or</em> a single `<strong>-</strong>' if the script should never be started (with that sort-number).</p></li><li><p>The last column specifies the full name of the script.</p></li>
</ul><p>Lines beginning with `<strong>#</strong>' and empty lines are ignored.</p><h3>Overview</h3>
<p>All scripts executed by the init system are located in <em>/etc/init.d</em>.</p><p>If a scripts has the <em>.sh</em> suffix it is a bourne shell script and MAY be handled in an optimized manner.  The behaviour of executing script in an optimized way will not differ in any way from it being forked and executed in the regular way.</p><p>The following runlevels are defined:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>N</strong></p>
  </dt>
  <dd>
    <p>System bootup (NONE).</p>
  </dd>
  <dt>
    <p><strong>S</strong></p>
  </dt>
  <dd>
    <p>Single user mode (not to be switched to directly)</p>
  </dd>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>halt</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>single user mode</p>
  </dd>
  <dt>
    <p><strong>2</strong>..<strong>5</strong></p>
  </dt>
  <dd>
    <p>multi user mode</p>
  </dd>
  <dt>
    <p><strong>6</strong></p>
  </dt>
  <dd>
    <p>reboot</p>
  </dd>

</dl>

<h3>Boot</h3>
<p>When the systems boots, the lines with '<em>S</em>' in the third column are executed.  It in turn executes all these scripts in alphabetical (and thus numerical) order. The first argument passed to the executed scripts is <em>start</em>. The runlevel at this point is '<em>N</em>' (none).</p><p>Only things that need to be run once to get the system in a consistent state are to be run.  The '<em>S</em>' state is NOT meant to replace <em>rc.local</em>. One should not start daemons in this runlevel unless absolutely necessary. Eg, NFS might need the portmapper, so it is OK to start it early in the bootprocess. But this is not the time to start the squid proxy server.</p>
<h3>Going multiuser</h3>
<p>After the '<em>S</em>' scripts have been executed, init switches to the default runlevel as specified in <em>/etc/inittab</em>, usually '<em>2</em>'.</p><p><a href="../man8/init.8.html"><strong>init</strong>(8)</a> then executes the <em>/etc/init.d/rc</em> script which takes care of starting the services with '<em>2</em>' in the third column.</p><p>Because the previous runlevel is '<em>N</em>' (none) the scripts with '<em>2</em>' in the second column will NOT be executed - there is nothing to stop yet, the system is busy coming up.</p><p>If for example there is a service that wants to run in runlevel 4 and ONLY in that level, it will place '<em>2,3,5</em>' in the second column to stop the service when switching out of runlevel 4.  We do not need to run that script at this point.</p><p>The scripts will be executed in alphabetical order, with the first argument set to '<em>start</em>'.</p>
<h3>Switching runlevels</h3>
<p>When one switches from (for example) runlevel 2 to runlevel 3, <strong>/etc/init.d/rc</strong> will first execute in alphabetical order all scripts with '<em>3</em>' in the second column with '<em>stop</em>' as first argument and then all scripts with '<em>3</em>' in the third column with '<em>start</em>' as first argument.</p><p>As an optimization, a check is made for each "service" to see if it was already running in the previous runlevel.  If it was, and there is no entry present in the second column for the new runlevel, there is no need to start it a second time so that will not be done.</p><p>On the other hand, if there was an entry in the second column, it is assumed the service was stopped on purpose first and so needs to be restarted.</p><p>We MIGHT make the same optimization for stop scripts as well - if no entry in the third column was present in the previous runlevel, we can assume that service was not running and we don't need to stop it either.  In that case we can remove the "coming from level N" special case mentioned above.  But right now that has not been implemented.</p>
<h3>Single user mode</h3>
<p>Switching to single user mode is done by switching to runlevel 1. That will cause all services to be stopped (assuming they all have '<em>1</em>' in the second column). The runlevel 1 scripts will then switch to runlevel '<em>S</em>' which has no scripts - all it does is spawn a shell directly on <strong>/dev/console</strong> for maintenance.</p>
<h3>Halt/reboot</h3>
<p>Going to runlevel 0 or 6 will cause the system to be halted or rebooted, respectively.  For example, if we go to runlevel 6 (reboot) first all scripts with '<em>6</em>' in the second column will be executed alphabetically with '<em>stop</em>' as the first argument.</p><p>Then the scripts with '<em>6</em>' in the third column will be executed alphabetically with '<em>stop</em>' as the first argument as well.  The reason is that there is nothing to start anymore at this point - all scripts that are run are meant to bring the system down.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
#&lt;sort&gt; &lt;off&gt;   &lt;on&gt;            &lt;script&gt;
05      -       0               /etc/init.d/halt
05      -       1               /etc/init.d/single
05      -       6               /etc/init.d/reboot
10      0,1,6   2,3,4,5         /etc/init.d/sysklogd
12      0,1,6   2,3,4,5         /etc/init.d/kerneld
[...]
89      0,1,6   2,3,4,5         /etc/init.d/cron
99      -       2,3,4,5         /etc/init.d/rmnologin
99      0,1,6   2,3,4,5         /etc/init.d/xdm
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/runlevel.conf</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>file-rc</strong> was originally written by Winfried Tr\[:u]mper &lt;winni@xpilot.org&gt; and adapted to the Debian system by Tom Lees &lt;tom@lpsg.demon.co.uk&gt;, Martin Schulze &lt;joey@debian.org&gt; and Roland Rosenfeld &lt;roland@debian.org&gt;.</p><p>This man page was written by Roland Rosenfeld &lt;roland@debian.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO runlevel.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/init.8.html"><strong>init</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rsyslog.conf.5.html"><span aria-hidden="true">&larr;</span> rsyslog.conf.5: Rsyslogd(8) configuration file</a></li>
   <li class="next"><a href="rxecho.conf.5.html">rxecho.conf.5: Control rxecho ax.25 packet routing. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
