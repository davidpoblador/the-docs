<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tasks.cfg: Task definitions for the xymonlaunch utility</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Task definitions for the xymonlaunch utility">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tasks.cfg (5) manual">
  <meta name="twitter:description" content="Task definitions for the xymonlaunch utility">
  <meta name="twitter:image" content="https://www.carta.tech/images/xymon-tasks.cfg-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/tasks.cfg.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tasks.cfg (5) manual" />
  <meta property="og:description" content="Task definitions for the xymonlaunch utility" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/xymon-tasks.cfg-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tasks.cfg<small> (5)</small></h1>
        <p class="lead">Task definitions for the xymonlaunch utility</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/tasks.cfg.5.html">
      <span itemprop="name">tasks.cfg: Task definitions for the xymonlaunch utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/xymon/">
      <span itemprop="name">xymon</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/tasks.cfg.5.html">
      <span itemprop="name">tasks.cfg: Task definitions for the xymonlaunch utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>~xymon/server/etc/tasks.cfg</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The tasks.cfg file holds the list of tasks that xymonlaunch runs to perform all of the tasks needed by the Xymon monitor.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE FORMAT</h2>
        <div class="sectioncontent">
<p>A task is defined by a <strong>key</strong>, a <strong>command</strong>, and optionally also <strong>interval</strong>, <strong>environment</strong>, and <strong>logfile</strong>.</p><p>Blank lines and lines starting with a hash mark (#) are treated as comments and ignored.  Long lines can be broken up by putting a backslash at the end of the line and continuing the entry on the next line.</p><p>An entry looks like this:</p>
<pre>
    [xymond]
</pre>

<pre>
          ENVFILE /usr/local/xymon/server/etc/xymonserver.cfg
</pre>

<pre>
          CMD /usr/local/xymon/server/bin/xymond
</pre>

<pre>
    [updateweb]
</pre>

<pre>
          ENVFILE /usr/local/xymon/server/etc/xymonserver.cfg
</pre>

<pre>
          CMD /usr/local/xymon/server/bin/xymongen
</pre>

<pre>
          NEEDS xymond
</pre>

<pre>
          GROUP webupdates
</pre>

<pre>
          INTERVAL 5m
</pre>

<pre>
          ONHOST localhost
</pre>

<pre>
          MAXTIME 10m
</pre>

<pre>
          LOGFILE /var/log/xymon/updateweb.log
</pre>

<pre>
    [monthlyreport]
</pre>

<pre>
          ENVFILE /usr/local/xymon/server/etc/xymonserver.cfg
</pre>

<pre>
          CMD /usr/local/xymon/server/ext/monthlyreport.sh
</pre>

<pre>
          CRONDATE 30 4 1 * *
</pre>
<p>The <strong>key</strong> is enclosed in angle brackets, and must be unique for each task. You can choose your key-names as you like, they are only used internally in xymonlaunch to identify each task.</p><p>The <strong>command</strong> is defined by the <strong>CMD</strong> keyword. This is the full command including any options you want to use for this task. This is required for all tasks.</p><p>The <strong>DISABLED</strong> keyword means that this command is disabled. xymonlaunch will not start this task. It is recommended that you use this to disable standard tasks, instead of removing them or commenting them out. Upgrades to Xymon will add standard tasks back into the file, so unless you have them listed as DISABLED then tasks may re-appear unexpectedly after an upgrade. There is also a corresponding <strong>ENABLED</strong> keyword, to explicitly enable a task.</p><p>The <strong>ONHOST</strong> keyword tells xymonlaunch that this task should only run on specific hosts. After the ONHOST keyword, you must provide a "regular expression"; if the hostname where xymonlaunch runs matches this expression, then the task will run. If it doesn't match, then the task is treated as if it were DISABLED.</p><p>The <strong>MAXTIME</strong> keyword sets a maximum time that the task may run; if exceeded, xymonlaunch will kill the task. The time is in seconds by default, you can specify minutes, hours or days by adding an "m", "h" or "d" after the number. By default there is no upper limit on how long a taskmay run.</p><p>The <strong>NEEDS</strong> instructs xymonlaunch not to run this task unless the task defined by the NEEDS keyword is already running. This is used e.g. to delay the start of some application until the needed daemons have been started. The task that must be running is defined by its <strong>key</strong>.</p><p>The <strong>GROUP</strong> keyword can be used to limit the number of tasks that may run simultaneously. E.g. if you are generating multiple pagesets of webpages, you don't want them to run at the same time. Putting them into a GROUP will cause xymonlaunch to delay the start of new tasks, so that only one task will run per group. You can change the limit by defining the group before the tasks, with a "GROUP groupname maxtasks" line.</p><p>The <strong>INTERVAL</strong> keyword defines how often this command is executed. The example shows a command that runs every 5 minutes. If no interval is given, the task is only run once - this is useful for tasks that run continually as daemons - although if the task stops for some reason, then xymonlaunch will attempt to restart it. Intervals can be specified in seconds (if you just put a number there), or in minutes (5m), hours (2h), or days (1d).</p><p>The <strong>CRONDATE</strong> keyword is used for tasks that must run at regular intervals or at a specific time. The time specification is identical to the one used by cron in <a href="../man5/crontab.5.html"><strong>crontab</strong>(5)</a></em> entries, i.e. a sequence of numbers for minute, hour, day-of-month, month and day-of-week. Three-letter abbreviations in english can be used for the month and day-of-week fields. An asterisk is a wildcard. So in the example above, this job would run once a month, at 4:30 AM on the 1st day of the month.</p><p>The <strong>ENVFILE</strong> setting points to a file with definitions of environment variables. Before running the task, xymonlaunch will setup all of the environment variables listed in this file. Since this is a per-task setting, you can use the same xymonlaunch instance to run e.g. both the server- and client-side Xymon tasks. If this option is not present, then the environment defined to xymonlaunch is used.</p><p>The <strong>ENVAREA</strong> setting modifies which environment variables are loaded, by picking up the ones that are defined for this specific "area". See <a href="../man5/xymonserver.cfg.5.html"><strong>xymonserver.cfg</strong>(5)</a></em> for information about environment areas.</p><p>The <strong>LOGFILE</strong> setting defines a logfile for the task. xymonlaunch will start the task with stdout and stderr redirected to this file. If this option is not present, then the output goes to the same location as the xymonlaunch output.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tasks.cfg&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/xymonlaunch.8.html"><strong>xymonlaunch</strong>(8)</a>, <strong>xymond</strong>(8), <a href="../man5/crontab.5.html"><strong>crontab</strong>(5)</a>, <a href="../man7/xymon.7.html"><strong>xymon</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="task-tutorial.5.html"><span aria-hidden="true">&larr;</span> task-tutorial.5: A tutorial for the task(1) command line todo manager.</a></li>
   <li class="next"><a href="tayga.conf.5.html">tayga.conf.5: Configuration file of the tayga stateless nat64 daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
