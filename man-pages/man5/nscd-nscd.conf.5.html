<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nscd.conf: Configuration file for name service caching daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for name service caching daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nscd.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for name service caching daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/nscd-nscd.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/nscd-nscd.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nscd.conf (5) manual" />
  <meta property="og:description" content="Configuration file for name service caching daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nscd-nscd.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nscd.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for name service caching daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nscd.conf.5.html">
      <span itemprop="name">nscd.conf: Configuration file for name service caching daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nscd/">
      <span itemprop="name">nscd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nscd.conf.5.html">
      <span itemprop="name">nscd.conf: Configuration file for name service caching daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>/etc/nscd.conf</em> configures the caches used by <strong>nscd</strong>(8) as well as some generic options. <strong>nscd</strong>(8) is able to use a configuration file at a different location, when supplied with the <em>-f</em> or <em>--config-file</em> command line option.</p><p>The configuration file consists of a set of lines. Empty lines, and text after a '#' is ignored. All remaining lines denote the setting of an option. White space before and after options, and between options and option arguments is ignored.</p><p>There are two kinds of options: General options influence <strong>nscd</strong>(8)'s general behaviour, while cache related options only affect the specified cache. Options are set like this:</p>
<pre>
  general_option option
  cache_option cache_name option
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>logfile</strong><em></em><strong>file</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the debug log-file that <strong>nscd</strong>(8) should use if <strong>debug-level</strong> is higher than <strong>0</strong>. If this option is not set, <strong>nscd</strong>(8) will write its debug output to stderr.</p>
  </dd>
  <dt>
    <p><strong>debug-level</strong><em></em><strong>level</strong></p>
  </dt>
  <dd>
    <p>If <em>level</em> is higher than <strong>0</strong>, <strong>nscd</strong>(8) will create some debug output. The higher the level, the more verbose the output.</p>
  </dd>
  <dt>
    <p><strong>threads</strong><em></em><strong>#threads</strong></p>
  </dt>
  <dd>
    <p>This option sets the number of threads that <strong>nscd</strong>(8) should use by default. It can be overridden by calling <strong>nscd</strong>(8) with the <em>-t</em> or <em>--nthreads</em> argument. If neither this configuration option nor the command line argument is given, <strong>nscd</strong>(8) uses 5 threads by default. The minimum is 3. More threads means more simultaneous connections that <strong>nscd</strong>(8) can handle.</p>
  </dd>
  <dt>
    <p><strong>max-threads</strong><em></em><strong>#threads</strong></p>
  </dt>
  <dd>
    <p>Specifies the maximum number of threads to be started.</p>
  </dd>
  <dt>
    <p><strong>server-user</strong><em></em><strong>user</strong></p>
  </dt>
  <dd>
    <p>By default, <strong>nscd</strong>(8) is run as user root. This option can be set to force <strong>nscd</strong>(8) to drop root privileges after startup. It cannot be used when <strong>nscd</strong>(8) is called with the <em>-S</em> or <em>--secure</em> argument. Also note that some services require that nscd run as root, so using this may break those lookup services.</p>
  </dd>
  <dt>
    <p><strong>stat-user</strong><em></em><strong>user</strong></p>
  </dt>
  <dd>
    <p>Specifies the user who is allowed to request statistics.</p>
  </dd>
  <dt>
    <p><strong>paranoia</strong><em></em><strong>bool</strong></p>
  </dt>
  <dd>
    <p><em>bool</em> must be one of <strong>yes</strong> or <strong>no</strong>. Enabling paranoia mode causes <strong>nscd</strong>(8) to restart itself periodically.</p>
  </dd>
  <dt>
    <p><strong>restart-interval</strong><em></em><strong>time</strong></p>
  </dt>
  <dd>
    <p>Sets the restart interval to time seconds if periodic restart is enabled by enabling paranoia mode. The default value is 3600.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CACHE OPTIONS</h2>
        <div class="sectioncontent">
<p>All cache options take two arguments. The first one denotes the service or cache the option should affect. Currently <em>service</em> can be one of <strong>passwd</strong>, <strong>group</strong>, or <strong>hosts</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>enable-cache</strong><em></em><strong>service</strong><em>bool</em></p>
  </dt>
  <dd>
    <p><em>bool</em> must be one of <strong>yes</strong> or <strong>no</strong>. Each cache is disabled by default and must be enabled explicitly by setting this options to <strong>yes</strong>.</p>
  </dd>
  <dt>
    <p><strong>positive-time-to-live</strong><em></em><strong>service</strong><em>secs</em></p>
  </dt>
  <dd>
    <p>This is the number of seconds after which a cached entry is removed from the cache. This defaults to 3600 seconds (i. e. one hour).</p>
  </dd>
  <dt>
    <p><strong>negative-time-to-live</strong><em></em><strong>service</strong><em>secs</em></p>
  </dt>
  <dd>
    <p>If an entry is not found by the Name Service, it is added to the cache and marked as "not existent". This option sets the number of seconds after which such a not existent entry is removed from the cache. This defaults to 20 seconds for the <strong>password</strong> and <strong>host</strong> caches and to 60 seconds for the <strong>group</strong> cache.</p>
  </dd>
  <dt>
    <p><strong>suggested-size</strong><em></em><strong>service</strong><em>prime-number</em></p>
  </dt>
  <dd>
    <p>This option sets the size of the hash that is used to store the cache entries. As this is a hash, it should be reasonably larger than the maximum number of entries that is expected to be cached simultaneously and should be a prime number. It defaults to a size of 211 entries.</p>
  </dd>
  <dt>
    <p><strong>check-files</strong><em></em><strong>service</strong><em>bool</em></p>
  </dt>
  <dd>
    <p><em>bool</em> must be one of <strong>yes</strong> (default) or <strong>no</strong>. If file checking is enabled, <strong>nscd</strong>(8) periodically checks the modification time of <em>/etc/passwd</em>, <em>/etc/group</em>, or <em>/etc/hosts</em> (for the <strong>passwd</strong>, <strong>group</strong>, and <strong>host</strong> cache respectively) and invalidates the cache if the file has changed since the last check.</p>
  </dd>
  <dt>
    <p><strong>persistent</strong><em></em><strong>service</strong><em>bool</em></p>
  </dt>
  <dd>
    <p><em>bool</em> must be one of <strong>yes</strong> (default) or <strong>no</strong>. Keep the content of the cache for service over <strong>nscd</strong>(8) restarts. Useful when paranoia mode is set.</p>
  </dd>
  <dt>
    <p><strong>shared</strong><em></em><strong>service</strong><em>bool</em></p>
  </dt>
  <dd>
    <p><em>bool</em> must be one of <strong>yes</strong> (default) or <strong>no</strong>. The memory mapping of the <strong>nscd</strong>(8) databases for service is shared with the clients so that they can directly search in them instead of having to ask the daemon over the socket each time a lookup is performed.</p>
  </dd>
  <dt>
    <p><strong>reload-count</strong><em></em><strong>#number</strong></p>
  </dt>
  <dd>
    <p>Sets the number of times a cached record is reloaded before it is pruned from the cache. Each cache record has a timeout, when that timeout expires, <strong>nscd</strong>(8) will either reload it (query the NSS service again if the data hasn't changed), or drop it.</p>
  </dd>
  <dt>
    <p><strong>max-db-size</strong><em></em><strong>service</strong><em>number-of-bytes</em></p>
  </dt>
  <dd>
    <p>Sets the maximum allowable size for the service.</p>
  </dd>
  <dt>
    <p><strong>auto-propagate</strong><em></em><strong>service</strong><em>bool</em></p>
  </dt>
  <dd>
    <p>When set to no for passwd or group service, then the <em>.byname</em> requests are not added to <em>passwd.byuid</em> or <em>group.bygid</em> cache. This may help for tables containing multiple records for the same id.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
# This is a comment.

    logfile                 /var/log/nscd.log
    threads                 6
    server-user             nobody
    debug-level             0

    enable-cache            passwd          yes
    positive-time-to-live   passwd          600
    negative-time-to-live   passwd          20
    suggested-size          passwd          211
    check-files             passwd          yes

    enable-cache            group           yes
    positive-time-to-live   group           3600
    negative-time-to-live   group           60
    suggested-size          group           211
    check-files             group           yes

    enable-cache            hosts           yes
    positive-time-to-live   hosts           3600
    negative-time-to-live   hosts           20
    suggested-size          hosts           211
    check-files             hosts           yes
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nscd.conf&hellip;</h2>
        <div class="sectioncontent">
<p><strong>nscd</strong>(8), <a href="../man5/nsswitch.conf.5.html"><strong>nsswitch.conf</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="glibc-source-nscd.conf.5.html"><span aria-hidden="true">&larr;</span> nscd.conf.5: Configuration file for name service caching daemon</a></li>
   <li class="next"><a href="nsd.conf.5.html">nsd.conf.5: Nsd configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
