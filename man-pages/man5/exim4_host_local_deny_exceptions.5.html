<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>exim4_host_local_deny_exceptions: Files in use by the debian exim4 packages</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Files in use by the debian exim4 packages">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="exim4_host_local_deny_exceptions (5) manual">
  <meta name="twitter:description" content="Files in use by the debian exim4 packages">
  <meta name="twitter:image" content="https://www.carta.tech/images/exim4-config-exim4_host_local_deny_exceptions-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/exim4_host_local_deny_exceptions.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="exim4_host_local_deny_exceptions (5) manual" />
  <meta property="og:description" content="Files in use by the debian exim4 packages" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/exim4-config-exim4_host_local_deny_exceptions-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">exim4_host_local_deny_exceptions<small> (5)</small></h1>
        <p class="lead">Files in use by the debian exim4 packages</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/exim4_host_local_deny_exceptions.5.html">
      <span itemprop="name">exim4_host_local_deny_exceptions: Files in use by the debian exim4 packages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/exim4-config/">
      <span itemprop="name">exim4-config</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/exim4_host_local_deny_exceptions.5.html">
      <span itemprop="name">exim4_host_local_deny_exceptions: Files in use by the debian exim4 packages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>/etc/aliases</p><p>/etc/email-addresses</p><p>/etc/exim4/local_host_blacklist</p><p>/etc/exim4/host_local_deny_exceptions</p><p>/etc/exim4/local_sender_blacklist</p><p>/etc/exim4/sender_local_deny_exceptions</p><p>/etc/exim4/local_sender_callout</p><p>/etc/exim4/local_rcpt_callout</p><p>/etc/exim4/local_domain_dnsbl_whitelist</p><p>/etc/exim4/hubbed_hosts</p><p>/etc/exim4/passwd</p><p>/etc/exim4/passwd.client</p><p>/etc/exim4/exim.crt</p><p>/etc/exim4/exim.key</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page describes the files that are in use by the Debian exim4 packages and which are not part of an exim installation done from source.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/aliases</h2>
        <div class="sectioncontent">
<p>is a table providing a mechanism to redirect mail for local recipients. /etc/aliases is a text file which is roughly compatible with Sendmail. The file should contain lines of the form</p><p>name: address, address, ...</p><p>The name is a local address without domain part. All local domains are handled equally. For more detailed documentation, please refer to /usr/share/doc/exim4-base/spec.txt.gz, chapter 22, and to /usr/share/doc/exim4-base/README.Debian.gz. Please note that it is not possible to use delivery to arbitrary files, directories and to pipes. This is forbidden in Debian's exim4 default configuration.</p><p>You should at least set up an alias for postmaster in the /etc/aliases file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/email-addresses</h2>
        <div class="sectioncontent">
<p>is used to rewrite the email addresses of users. This is particularly useful for users who use their ISP's domain for email.</p><p>The file should contain lines of the form</p><p>user: someone@isp.com</p><p>otheruser: someoneelse@anotherisp.com</p><p>This way emails from user will appear to be from someone@isp.com to the outside world. Technically, the from, reply-to, and sender addresses, along with the envelope sender, are rewritten for users that appear to be in the local domain.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/local_host_blacklist</h2>
        <div class="sectioncontent">
<p><em>[exim host list]</em> is an optional file containing a list of IP addresses, networks and host names whose messages will be denied with the error message "locally blacklisted". This is a full exim 4 host list, and all available features can be used. This includes negative items, and so it is possible to exclude addresses from being blacklisted. For convenience, as an additional method to whitelist addresses from being blocked, an explicit whitelist is read in from /etc/exim4/host_local_deny_exceptions. Entries in the whitelist override corresponding blacklist entries.</p><p>In the blacklist, the trick is to read a line break as "or" if it follows a positive item, and as "and" if it follows a negative item.</p><p>For example, a /etc/exim4/local_host_blacklist</p><p>192.168.10.0/24</p><p>!172.16.10.128/26</p><p>172.16.10.0/24</p><p>10.0.0.0/8</p><p>Exim just evaluates left to right (or up-down in the file listing context), so you don't get the same kind of operator binding as in a programming language.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/host_local_deny_exceptions</h2>
        <div class="sectioncontent">
<p><em>[exim host list]</em> contains a list of IP addresses, networks and host names whose messages will be accepted despite the address is also listed in /etc/exim4/local_host_blacklist, overriding a blacklisting.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/local_sender_blacklist</h2>
        <div class="sectioncontent">
<p><em>[exim address list]</em> is an optional files containing a list of envelope senders whose messages will be denied with the error message "locally blacklisted". This is a full exim 4 address list, and all available features can be used. This includes negative items, and so it is possible to exclude addresses from being blacklisted. For convenience, as an additional method to whitelist addresses from being blocked, an explicit whitelist is read in from /etc/exim4/sender_local_deny_exceptions. Entries in the whitelist override corresponding blacklist entries.</p><p>In the blacklist, the trick is to read a line break as "or" if it follows a positive item, and as "and" if it follows a negative item.</p><p>For example, a /etc/exim4/local_sender_blacklist</p><p>domain1.example</p><p>!local@domain2.example</p><p>domain2.example</p><p>domain3.example</p><p>Exim just evaluates left to right (or up-down in the file listing context), so you don't get the same kind of operator binding as in a programming language.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/sender_local_deny_exceptions</h2>
        <div class="sectioncontent">
<p><em>[exim address list]</em> is an optional file containing a list of envelope senders whose messages will be accepted despite the address being also listed in /etc/exim4/local_sender_blacklist, overriding a blacklisting.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/local_sender_callout</h2>
        <div class="sectioncontent">
<p><em>[exim address list]</em> is an optional file containing a list of envelope senders whose messages are subject to sender verification with a callout. This is a full exim4 address list, and all available features can be used.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/local_rcpt_callout</h2>
        <div class="sectioncontent">
<p><em>[exim address list]</em> is an optional file containing a list of envelope recipients for which incoming messages are subject to recipient verification with a callout. This is a full exim4 address list, and all available features can be used.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/local_domain_dnsbl_whitelist</h2>
        <div class="sectioncontent">
<p><em>[exim address list]</em> is an optional file containing a list of envelope senders whose messages are exempt from blacklisting via a domain-based DNSBL. This is a full exim4 address list, and all available features can be used. This feature is intended to be used in case of a domain-based DNSBL being too heavy handed, for example listing entire top-level domains for their registry policies.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/hubbed_hosts</h2>
        <div class="sectioncontent">
<p><em>[exim domain list]</em> is an optional file containing a list of route_data records which can be used to override or augment MX information from the DNS. This is particularly useful for mail hubs which are highest-priority MX for a domain in the DNS but are not final destination of the messages, passing them on to a host which is not publicly reachable, or to temporarily fix mail routing in case of broken DNS setups.</p><p>The file should contain key-value pairs of domain pattern and route data of the form</p><p>domain: host-list options</p><p>dict.ref.example:  mail-1.ref.example:mail-2.ref.example</p><p>foo.example: internal.mail.example.com</p><p>bar.example: 192.168.183.3</p><p>which will cause mail for foo.example to be sent to the host internal.mail.example (IP address derived from A record only), and mail to bar.example to be sent to 192.168.183.3.</p><p>See spec.txt chapter 20.3 through 20.7 for a more detailed explanation of host list format and available options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/passwd</h2>
        <div class="sectioncontent">
<p>contains account and password data for SMTP authentication when the local exim is SMTP server and clients authenticate to the local exim.</p><p>The file should contain lines of the form</p><p>username:crypted-password:clear-password</p><p>crypted-password is the <a href="../man3/crypt.3.html"><strong>crypt</strong>(3)</a>-created hash of your password. You can, for example, use the mkpasswd program from the whois package to create a crypted password. It is recommended to use a modern hash algorithm, see mkpasswd --method=help. Consider not using crypt or MD5.</p><p>clear-password is only necessary if you want to offer CRAM-MD5 authentication. If you don't plan on doing so, the third column can be omitted completely.</p><p>This file must be readable for the Debian-exim user and should not be readable for others. Recommended file mode is root:Debian-exim 640.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/passwd.client</h2>
        <div class="sectioncontent">
<p>contains account and password data for SMTP authentication when exim is authenticating as a client to some remote server.</p><p>The file should contain lines of the form</p><p>target.mail.server.example:login-user-name:password</p><p>which will cause exim to use login-user-name and password when sending messages to a server with the canonical host name target.mail.server.example.  Please note that this does not configure the mail server to send to (this is determined in Debconf), but only creates the correlation between host name and authentication credentials to avoid exposing passwords to the wrong host.</p><p>Please note that target.mail.server.example is currently the value that exim can read from reverse DNS: It first follows the host name of the target system until it finds an IP address, and then looks up the reverse DNS for that IP address to use the outcome of this query (or the IP address itself should the query fail) as index into /etc/exim4/passwd.client.</p><p>This goes inevitably wrong if the host name of the mail server is a CNAME (a DNS alias), or the reverse lookup does not fit the forward one.</p><p>Currently, you need to manually lookup all reverse DNS names for all IP addresses that your SMTP server host name points to, for example by using the host command.  If the SMTP smarthost alias expands to multiple IPs, you need to have multiple lines for all the hosts.  When your ISP changes the alias, you will need to manually fix that.</p><p>You may minimize this trouble by using a wild card entry or regular expressions, thus reducing the risk of divulging the password to the wrong SMTP server while reducing the number of necessary lines.  For a deeper discussion, see the Debian BTS #244724.</p><p>password is your SMTP password in clear text. If you do not know about your SMTP password, you can try using your POP3 password as a first guess.</p><p>This file must be readable for the Debian-exim user and should not be readable for others. Recommended file mode is root:Debian-exim 640.</p><p># example for CONFDIR/passwd.client</p><p># this will only match if the server's generic name matches exactly</p><p>mail.server.example:user:password</p><p># this will deliver the password to any server</p><p>*:username:password</p><p># this will deliver the password to servers whose generic name ends in</p><p># mail.server.example</p><p>*.mail.server.example:user:password</p><p># this will deliver the password to servers whose generic name matches</p><p># the regular expression</p><p>^smtp[0-9]*.mail.server.example:user:password</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/exim.crt</h2>
        <div class="sectioncontent">
<p>contains the certificate that exim uses to initiate TLS connections. This is public information and can be world readable. /usr/share/doc/exim4-base/examples/exim-gencert can be used to generate a private key and self-signed certificate.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/exim4/exim.key</h2>
        <div class="sectioncontent">
<p>contains the private key belonging to the certificate in exim.crt. This file's contents must be kept secret and should have mode root:Debian-exim 640.  /usr/share/doc/exim4-base/examples/exim-gencert can be used to generate a private key and self-signed certificate.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Plenty. Please report them through the Debian BTS</p><p>This manual page needs a major re-work. If somebody knows better groff than us and has more experience in writing manual pages, any patches would be greatly appreciated.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<h3>Unresolvable items in host lists</h3>
<p>Adding or keeping items in the abovementioned host lists which are not resolvable by DNS has severe consequences.</p><p>e.g. if resolving a <strong>hostname</strong> in local_host_blacklist returns a temporary error (DNS timeout) exim will not be able to check whether a connecting host is part of the list. Exim will therefore return a temporary SMTP error for <em>every</em> connecting host.</p><p>On the other hand if there is a permanent error in resolving a name in the host list (the record was removed from DNS) exim behaves as if the host does not match the list. e.g. a local_host_blacklist consisting of</p><p>notresolvable.example.com:rejectme.example.com</p><p>is equivalent to an empty one. - Exim tries to match the IP-address of the conecting host to notresolvable.example.com, resolving this IP by DNS fails, exim behaves as if the connecting host does not match the list. List processing stops at this point!</p><p>Starting the list with the special pattern +ignore_unknown as a safeguard against this behavior is strongly recommended if hostnames are used in hostlists.</p><p>See Exim specification Chapter <em>Domain, host, address, and local part lists</em> , section <em>Behaviour when an IP address or name cannot be found.</em> &lt;http://www.exim.org/exim-html-current/doc/html/spec_html/ch-domain_host_address_and_local_part_lists.html&gt;</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO exim4_host_local_deny_exceptions&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/exim.8.html"><strong>exim</strong>(8)</a>,</p><p><a href="../man8/update-exim4.conf.8.html"><strong>update-exim4.conf</strong>(8)</a>,</strong></p><p><strong>/usr/share/doc/exim4-base/,</strong></p><p>and for general notes and details about interaction with debconf <strong>/usr/share/doc/exim4-base/README.Debian.gz</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Marc Haber &lt;mh+debian-packages@zugschlus.de&gt; with help from Ross Boylan.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="exim4_exim_key.5.html"><span aria-hidden="true">&larr;</span> exim4_exim_key.5: Files in use by the debian exim4 packages</a></li>
   <li class="next"><a href="exim4_hubbed_hosts.5.html">exim4_hubbed_hosts.5: Files in use by the debian exim4 packages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
