<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>multipath.conf: Multipath daemon configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Multipath daemon configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="multipath.conf (5) manual">
  <meta name="twitter:description" content="Multipath daemon configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/multipath-tools-multipath.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/multipath.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="multipath.conf (5) manual" />
  <meta property="og:description" content="Multipath daemon configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/multipath-tools-multipath.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">multipath.conf<small> (5)</small></h1>
        <p class="lead">Multipath daemon configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/multipath.conf.5.html">
      <span itemprop="name">multipath.conf: Multipath daemon configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/multipath-tools/">
      <span itemprop="name">multipath-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/multipath.conf.5.html">
      <span itemprop="name">multipath.conf: Multipath daemon configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>multipath.conf</strong> is the configuration file for the multipath daemon. It is used to overwrite the built-in configuration table of <strong>multipathd</strong>. Any line whose first non-white-space character is a '#' is considered a comment line. Empty lines are ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>The configuration file contains entries of the form:</p>
<pre>
&lt;section&gt; {
&lt;attribute&gt; &lt;value&gt;
<em>...</em>
&lt;subsection&gt; {
&lt;attribute&gt; &lt;value&gt;
<em>...</em>
</pre>
<p>} }</p><p>Each <em>section</em> contains one or more attributes or subsections. The recognized keywords for attributes or subsections depend on the section in which they occur.</p><p>The following <em>section</em> keywords are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>defaults</strong></p>
  </dt>
  <dd>
    <p>This section defines default values for attributes which are used whenever no values are given in the appropriate device or multipath sections.</p>
  </dd>
  <dt>
    <p><strong>blacklist</strong></p>
  </dt>
  <dd>
    <p>This section defines which devices should be excluded from the multipath topology discovery.</p>
  </dd>
  <dt>
    <p><strong>blacklist_exceptions</strong></p>
  </dt>
  <dd>
    <p>This section defines which devices should be included in the multipath topology discovery, despite being listed in the <em>blacklist</em> section.</p>
  </dd>
  <dt>
    <p><strong>multipaths</strong></p>
  </dt>
  <dd>
    <p>This section defines the multipath topologies. They are indexed by a <em>World Wide Identifier</em>(wwid), which is taken to be the value of the udev attribute given by the <em>uid_attribute</em> keyword.</p>
  </dd>
  <dt>
    <p><strong>devices</strong></p>
  </dt>
  <dd>
    <p>This section defines the device-specific settings.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">defaults section</h2>
        <div class="sectioncontent">
<p>The <strong>defaults</strong> section recognizes the following keywords:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>polling_interval</strong></p>
  </dt>
  <dd>
    <p>interval between two path checks in seconds. For properly functioning paths, the interval between checks will gradually increase to <strong>max_polling_interval.</strong> This value will be overridden by the <strong>WatchdogSec</strong> setting in the multipathd.service definition if systemd is used. Default is <em>5</em></p>
  </dd>
  <dt>
    <p><strong>max_polling_interval</strong></p>
  </dt>
  <dd>
    <p>maximal interval between two path checks in seconds; default is <em>4 * polling_interval</em></p>
  </dd>
  <dt>
    <p><strong>multipath_dir</strong></p>
  </dt>
  <dd>
    <p>directory where the dynamic shared objects are stored; default is system dependent, commonly <em>/lib/multipath</em></p>
  </dd>
  <dt>
    <p><strong>verbosity</strong></p>
  </dt>
  <dd>
    <p>default verbosity. Higher values increase the verbosity level. Valid levels are between 0 and 6; default is <em>2</em></p>
  </dd>
  <dt>
    <p><strong>reassign_maps</strong></p>
  </dt>
  <dd>
    <p>enable reassigning of device-mapper maps. With this option multipathd will remap existing device-mapper maps to always point to multipath device, not the underlying block devices. Possible values are <em>yes</em> and <em>no</em>. Default is <em>yes</em></p>
  </dd>
  <dt>
    <p><strong>path_selector</strong></p>
  </dt>
  <dd>
    <p>The default path selector algorithm to use; they are offered by the kernel multipath target. There are three selector algorithms.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>round-robin 0</strong></p>
  </dt>
  <dd>
    <p>Loop through every path in the path group, sending the same amount of IO to each.</p>
  </dd>
  <dt>
    <p><strong>queue-length 0</strong></p>
  </dt>
  <dd>
    <p>Send the next bunch of IO down the path with the least amount of outstanding IO.</p>
  </dd>
  <dt>
    <p><strong>service-time 0</strong></p>
  </dt>
  <dd>
    <p>Choose the path for the next bunch of IO based on the amount of outstanding IO to the path and its relative throughput.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>path_grouping_policy</strong></p>
  </dt>
  <dd>
    <p>The default path grouping policy to apply to unspecified multipaths. Possible values are</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>failover</strong></p>
  </dt>
  <dd>
    <p>1 path per priority group</p>
  </dd>
  <dt>
    <p><strong>multibus</strong></p>
  </dt>
  <dd>
    <p>all paths in 1 priority group</p>
  </dd>
  <dt>
    <p><strong>group_by_serial</strong></p>
  </dt>
  <dd>
    <p>1 priority group per serial number</p>
  </dd>
  <dt>
    <p><strong>group_by_prio</strong></p>
  </dt>
  <dd>
    <p>1 priority group per priority value. Priorities are determined by callout programs specified as a global, per-controller or per-multipath option in the configuration file.</p>
  </dd>
  <dt>
    <p><strong>group_by_node_name</strong></p>
  </dt>
  <dd>
    <p>1 priority group per target node name. Target node names are fetched in /sys/class/fc_transport/target*/node_name.</p>
  </dd>
  <dt>
    <p>Default value is <em>failover</em>.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>uid_attribute</strong></p>
  </dt>
  <dd>
    <p>The udev attribute providing a unique path identifier. Default value is <em>ID_SERIAL</em></p>
  </dd>
  <dt>
    <p><strong>getuid_callout</strong></p>
  </dt>
  <dd>
    <p>The default program and args to callout to obtain a unique path identifier. Should be specified with an absolute path. This parameter is deprecated; <em>uid_attribute</em> should be used instead.</p>
  </dd>
  <dt>
    <p><strong>prio</strong></p>
  </dt>
  <dd>
    <p>The name of the path priority routine. The specified routine should return a numeric value specifying the relative priority of this path. Higher number have a higher priority. <em>none</em> is a valid value. Currently the following path priority routines are implemented:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>const</strong></p>
  </dt>
  <dd>
    <p>Return a constant priority of <em>1</em>.</p>
  </dd>
  <dt>
    <p><strong>emc</strong></p>
  </dt>
  <dd>
    <p>Generate the path priority for EMC arrays.</p>
  </dd>
  <dt>
    <p><strong>alua</strong></p>
  </dt>
  <dd>
    <p>Generate the path priority based on the SCSI-3 ALUA settings.</p>
  </dd>
  <dt>
    <p><strong>ontap</strong></p>
  </dt>
  <dd>
    <p>Generate the path priority for NetApp arrays.</p>
  </dd>
  <dt>
    <p><strong>rdac</strong></p>
  </dt>
  <dd>
    <p>Generate the path priority for LSI/Engenio/NetApp E-Series RDAC controller.</p>
  </dd>
  <dt>
    <p><strong>hp_sw</strong></p>
  </dt>
  <dd>
    <p>Generate the path priority for Compaq/HP controller in active/standby mode.</p>
  </dd>
  <dt>
    <p><strong>hds</strong></p>
  </dt>
  <dd>
    <p>Generate the path priority for Hitachi HDS Modular storage arrays.</p>
  </dd>
  <dt>
    <p><strong>random</strong></p>
  </dt>
  <dd>
    <p>Generate a random priority between 1 and 10.</p>
  </dd>
  <dt>
    <p><strong>weightedpath</strong></p>
  </dt>
  <dd>
    <p>Generate the path priority based on the regular expression and the priority provided as argument. requires prio_args keyword.</p>
  </dd>
  <dt>
    <p>Default value is <strong>none</strong>.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>prio_args</strong></p>
  </dt>
  <dd>
    <p>Arguments to pass to to the prio function.  Currently only used with <em>weighted, which needs a value of the form</em> <em>&lt;hbtl|devname&gt; &lt;regex1&gt; &lt;prio1&gt; &lt;regex2&gt; &lt;prio2&gt; ...</em> <em>hbtl</em> regex can be of SCSI H:B:T:L format  Ex: 1:0:.:. , *:0:0:. <em>devname</em> regex can be of device name format  Ex: sda , sd.e</p>
  </dd>
  <dt>
    <p><strong>features</strong></p>
  </dt>
  <dd>
    <p>Specify any device-mapper features to be used. Syntax is <em>num list</em> where <em>num</em> is the number of features in <em>list.</em> Possible values for the feature list are</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>queue_if_no_path</strong></p>
  </dt>
  <dd>
    <p>Queue IO if no path is active; identical to the <em>no_path_retry</em> keyword.</p>
  </dd>
  <dt>
    <p><strong>no_partitions</strong></p>
  </dt>
  <dd>
    <p>Disable automatic partitions generation via kpartx.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>path_checker</strong></p>
  </dt>
  <dd>
    <p>The default method used to determine the paths state. Possible values are</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>readsector0</strong></p>
  </dt>
  <dd>
    <p>(Deprecated) Read the first sector of the device. This checker is being deprecated, please use <em>directio</em> instead</p>
  </dd>
  <dt>
    <p><strong>tur</strong></p>
  </dt>
  <dd>
    <p>Issue a <em>TEST UNIT READY</em> command to the device.</p>
  </dd>
  <dt>
    <p><strong>emc_clariion</strong></p>
  </dt>
  <dd>
    <p>Query the EMC Clariion specific EVPD page 0xC0 to determine the path state.</p>
  </dd>
  <dt>
    <p><strong>hp_sw</strong></p>
  </dt>
  <dd>
    <p>Check the path state for HP storage arrays with Active/Standby firmware.</p>
  </dd>
  <dt>
    <p><strong>rdac</strong></p>
  </dt>
  <dd>
    <p>Check the path state for LSI/Engenio/NetApp E-Series RDAC storage controller.</p>
  </dd>
  <dt>
    <p><strong>directio</strong></p>
  </dt>
  <dd>
    <p>Read the first sector with direct I/O.</p>
  </dd>
  <dt>
    <p>Default value is <em>directio</em>.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>failback</strong></p>
  </dt>
  <dd>
    <p>Tell multipathd how to manage path group failback.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>immediate</strong></p>
  </dt>
  <dd>
    <p>Immediately failback to the highest priority pathgroup that contains active paths.</p>
  </dd>
  <dt>
    <p><strong>manual</strong></p>
  </dt>
  <dd>
    <p>Do not perform automatic failback.</p>
  </dd>
  <dt>
    <p><strong>followover</strong></p>
  </dt>
  <dd>
    <p>Only perform automatic failback when the first path of a pathgroup becomes active. This keeps a node from automatically failing back when another node requested the failover.</p>
  </dd>
  <dt>
    <p><strong>values &gt; 0</strong></p>
  </dt>
  <dd>
    <p>deferred failback (time to defer in seconds)</p>
  </dd>
  <dt>
    <p>Default value is <em>manual</em>.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>rr_min_io</strong></p>
  </dt>
  <dd>
    <p>The number of IO to route to a path before switching to the next in the same path group. This is only for BIO based multipath. Default is <em>1000</em></p>
  </dd>
  <dt>
    <p><strong>rr_min_io_rq</strong></p>
  </dt>
  <dd>
    <p>The number of IO requests to route to a path before switching to the next in the same path group. This is only for request based multipath. Default is <em>1</em></p>
  </dd>
  <dt>
    <p><strong>rr_weight</strong></p>
  </dt>
  <dd>
    <p>If set to <em>priorities</em> the multipath configurator will assign path weights as "path prio * rr_min_io". Possible values are <em>priorities</em> or <em>uniform</em>. Default is <em>uniform</em>.</p>
  </dd>
  <dt>
    <p><strong>no_path_retry</strong></p>
  </dt>
  <dd>
    <p>Specify the number of retries until disable queueing, or <em>fail</em> for immediate failure (no queueing), <em>queue</em> for never stop queueing. If unset no queueing is attempted. Default is unset.</p>
  </dd>
  <dt>
    <p><strong>user_friendly_names</strong></p>
  </dt>
  <dd>
    <p>If set to <em>yes</em> , using the bindings file <em>/etc/multipath/bindings</em> to assign a persistent and unique alias to the multipath, in the form of mpath&lt;n&gt;. If set to <em>no</em> use the WWID as the alias. In either case this be will be overridden by any specific aliases in the <em>multipaths</em> section. Default is <em>no</em></p>
  </dd>
  <dt>
    <p><strong>flush_on_last_del</strong></p>
  </dt>
  <dd>
    <p>If set to <em>yes</em> , multipathd will disable queueing when the last path to a device has been deleted. Default is <em>no</em></p>
  </dd>
  <dt>
    <p><strong>max_fds</strong></p>
  </dt>
  <dd>
    <p>Specify the maximum number of file descriptors that can be opened by multipath and multipathd.  This is equivalent to ulimit -n. A value of <em>max</em> will set this to the system limit from /proc/sys/fs/nr_open. If this is not set, the maximum number of open fds is taken from the calling process. It is usually 1024. To be safe, this should be set to the maximum number of paths plus 32, if that number is greated than 1024.</p>
  </dd>
  <dt>
    <p><strong>checker_timeout</strong></p>
  </dt>
  <dd>
    <p>Specify the timeout to user for path checkers that issue scsi commands with an explicit timeout, in seconds; default taken from <em>/sys/block/sd&lt;x&gt;/device/timeout</em></p>
  </dd>
  <dt>
    <p><strong>fast_io_fail_tmo</strong></p>
  </dt>
  <dd>
    <p>Specify the number of seconds the scsi layer will wait after a problem has been detected on a FC remote port before failing IO to devices on that remote port. This should be smaller than dev_loss_tmo. Setting this to <em>off</em> will disable the timeout.</p>
  </dd>
  <dt>
    <p><strong>dev_loss_tmo</strong></p>
  </dt>
  <dd>
    <p>Specify the number of seconds the scsi layer will wait after a problem has been detected on a FC remote port before removing it from the system. This can be set to "infinity" which sets it to the max value of 2147483647 seconds, or 68 years. It will be automatically adjusted to the overall retry interval <em>no_path_retry</em> * <em>polling_interval</em> if a number of retries is given with <em>no_path_retry</em> and the overall retry interval is longer than the specified <em>dev_loss_tmo</em> value. The linux kernel will cap this value to <em>300</em> if <strong>fast_io_fail_tmo</strong> is not set.</p>
  </dd>
  <dt>
    <p><strong>queue_without_daemon</strong></p>
  </dt>
  <dd>
    <p>If set to <em>no</em> , when multipathd stops, queueing will be turned off for all devices. This is useful for devices that set no_path_retry.  If a machine is shut down while all paths to a device are down, it is possible to hang waiting for IO to return from the device after multipathd has been stopped. Without multipathd running, access to the paths cannot be restored, and the kernel cannot be told to stop queueing IO. Setting queue_without_daemon to <em>no</em> , avoids this problem. Default is <em>yes</em></p>
  </dd>
  <dt>
    <p><strong>bindings_file</strong></p>
  </dt>
  <dd>
    <p>The full pathname of the binding file to be used when the user_friendly_names option is set. Defaults to <em>/etc/multipath/bindings</em></p>
  </dd>
  <dt>
    <p><strong>wwids_file</strong></p>
  </dt>
  <dd>
    <p>The full pathname of the wwids file, which is used by multipath to keep track of the wwids for LUNs it has created multipath devices on in the past. Defaults to <em>/etc/multipath/wwids</em></p>
  </dd>
  <dt>
    <p><strong>log_checker_err</strong></p>
  </dt>
  <dd>
    <p>If set to <em>once</em> , multipathd logs the first path checker error at logging level 2. Any later errors are logged at level 3 until the device is restored. If set to <em>always</em> , multipathd always logs the path checker error at logging level 2. Default is <em>always</em></p>
  </dd>
  <dt>
    <p><strong>reservation_key</strong></p>
  </dt>
  <dd>
    <p>This is the service action reservation key used by mpathpersist.  It must be set for all multipath devices using persistent reservations, and it must be the same as the RESERVATION KEY field of the PERSISTENT RESERVE OUT parameter list which contains an 8-byte value provided by the application client to the device server to identify the I_T nexus. It is unset by default.</p>
  </dd>
  <dt>
    <p><strong>retain_attached_hw_handler</strong></p>
  </dt>
  <dd>
    <p>If set to <em>yes</em> and the scsi layer has already attached a hardware_handler to the device, multipath will not force the device to use the hardware_handler specified by mutipath.conf. If the scsi layer has not attached a hardware handler, multipath will continue to use its configured hardware handler. Default is <em>no</em></p>
  </dd>
  <dt>
    <p><strong>detect_prio</strong></p>
  </dt>
  <dd>
    <p>If set to <em>yes</em> , multipath will try to detect if the device supports ALUA. If so, the device will automatically use the <em>alua</em> prioritizer. If not, the prioritizer will be selected as usual. Default is <em>no</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">blacklist section</h2>
        <div class="sectioncontent">
<p>The <em>blacklist</em> section is used to exclude specific device from inclusion in the multipath topology. It is most commonly used to exclude local disks or LUNs for the array controller.</p><p>The following keywords are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>wwid</strong></p>
  </dt>
  <dd>
    <p>The <em>World Wide Identification</em> of a device.</p>
  </dd>
  <dt>
    <p><strong>devnode</strong></p>
  </dt>
  <dd>
    <p>Regular expression of the device nodes to be excluded.</p>
  </dd>
  <dt>
    <p><strong>property</strong></p>
  </dt>
  <dd>
    <p>Regular expression of the udev property to be excluded.</p>
  </dd>
  <dt>
    <p><strong>device</strong></p>
  </dt>
  <dd>
    <p>Subsection for the device description. This subsection recognizes the <em>vendor</em> and <em>product</em> keywords. For a full description of these keywords please see the <em>devices</em> section description.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">blacklist_exceptions section</h2>
        <div class="sectioncontent">
<p>The <em>blacklist_exceptions</em> section is used to revert the actions of the <em>blacklist</em> section, ie to include specific device in the multipath topology. This allows one to selectively include devices which would normally be excluded via the <em>blacklist</em> section.</p><p>The following keywords are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>wwid</strong></p>
  </dt>
  <dd>
    <p>The <em>World Wide Identification</em> of a device.</p>
  </dd>
  <dt>
    <p><strong>property</strong></p>
  </dt>
  <dd>
    <p>Regular expression of the udev property to be whitelisted. Defaults to <em>(ID_WWN|ID_SCSI_VPD)</em></p>
  </dd>
  <dt>
    <p><strong>devnode</strong></p>
  </dt>
  <dd>
    <p>Regular expression of the device nodes to be whitelisted.</p>
  </dd>
  <dt>
    <p><strong>device</strong></p>
  </dt>
  <dd>
    <p>Subsection for the device description. This subsection recognizes the <em>vendor</em> and <em>product</em> keywords. For a full description of these keywords please see the <em>devices</em> section description.</p>
  </dd>

</dl>
<p>The <em>property</em> blacklist and whitelist handling is different from the usual handling in the sense that the whitelist <strong>has</strong> to be set, otherwise the device will be blacklisted. In these cases the message <em>blacklisted, udev property missing</em> will be displayed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">multipaths section</h2>
        <div class="sectioncontent">
<p>The only recognized attribute for the <strong>multipaths</strong> section is the <em>multipath</em> subsection.</p><p>The <strong>multipath</strong> subsection recognizes the following attributes:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>wwid</strong></p>
  </dt>
  <dd>
    <p>Index of the container. Mandatory for this subsection.</p>
  </dd>
  <dt>
    <p><strong>alias</strong></p>
  </dt>
  <dd>
    <p>(Optional) symbolic name for the multipath map.</p>
  </dd>

</dl>
<p>The following attributes are optional; if not set the default values are taken from the <em>defaults</em> or <em>devices</em> section:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>path_grouping_policy</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>path_selector</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>prio</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>prio_args</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>failback</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>rr_weight</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>flush_on_last_del</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>no_path_retry</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>rr_min_io</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>rr_min_io_rq</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>features</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>reservation_key</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">devices section</h2>
        <div class="sectioncontent">
<p>The only recognized attribute for the <strong>devices</strong> section is the <em>device</em> subsection.</p><p>The <em>device</em> subsection recognizes the following attributes:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>vendor</strong></p>
  </dt>
  <dd>
    <p>(Mandatory) Vendor identifier</p>
  </dd>
  <dt>
    <p><strong>product</strong></p>
  </dt>
  <dd>
    <p>(Mandatory) Product identifier</p>
  </dd>
  <dt>
    <p><strong>revision</strong></p>
  </dt>
  <dd>
    <p>(Optional) Revision identfier</p>
  </dd>
  <dt>
    <p><strong>product_blacklist</strong></p>
  </dt>
  <dd>
    <p>(Optional) Product strings to blacklist for this vendor</p>
  </dd>
  <dt>
    <p><strong>alias_prefix</strong></p>
  </dt>
  <dd>
    <p>(Optional) The user_friendly_names prefix to use for this device type, instead of the default "mpath"</p>
  </dd>
  <dt>
    <p><strong>hardware_handler</strong></p>
  </dt>
  <dd>
    <p>(Optional) The hardware handler to use for this device type. The following hardware handler are implemented:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>1 emc</strong></p>
  </dt>
  <dd>
    <p>Hardware handler for EMC storage arrays.</p>
  </dd>
  <dt>
    <p><strong>1 rdac</strong></p>
  </dt>
  <dd>
    <p>Hardware handler for LSI/Engenio/NetApp E-Series RDAC storage controller.</p>
  </dd>
  <dt>
    <p><strong>1 hp_sw</strong></p>
  </dt>
  <dd>
    <p>Hardware handler for Compaq/HP storage arrays in active/standby mode.</p>
  </dd>
  <dt>
    <p><strong>1 alua</strong></p>
  </dt>
  <dd>
    <p>Hardware handler for SCSI-3 ALUA compatible arrays.</p>
  </dd>

</dl>

  </dd>

</dl>
<p>The following attributes are optional; if not set the default values are taken from the <em>defaults</em> section:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>path_grouping_policy</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>uid_attribute</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>path_selector</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>path_checker</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>prio</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>prio_args</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>features</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>failback</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>rr_weight</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>no_path_retry</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>rr_min_io</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>rr_min_io_rq</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>fast_io_fail_tmo</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>dev_loss_tmo</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>flush_on_last_del</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>retain_attached_hw_handler</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>detect_prio</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KNOWN ISSUES</h2>
        <div class="sectioncontent">
<p>The usage of <strong>queue_if_no_path</strong> option can lead to <strong>D state</strong> processes being hung and not killable in situations where all the paths to the LUN go offline. It is advisable to use the <strong>no_path_retry</strong> option instead.</p><p>The use of <strong>queue_if_no_path</strong> or <strong>no_path_retry</strong> might lead to a deadlock if the <strong>dev_loss_tmo</strong> setting results in a device being removed while I/O is still queued. The multipath daemon will update the <strong>dev_loss_tmo</strong> setting accordingly to avoid this deadlock. Hence if both values are specified the order of precedence is <em>no_path_retry, queue_if_no_path, dev_loss_tmo</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO multipath.conf&hellip;</h2>
        <div class="sectioncontent">
<p><strong>udev</strong>(8), <a href="../man8/dmsetup.8.html"><strong>dmsetup</strong>(8)</a> <a href="../man8/multipath.8.html"><strong>multipath</strong>(8)</a> <a href="../man8/multipathd.8.html"><strong>multipathd</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>multipath</strong> was developed by Christophe Varoqui, &lt;christophe.varoqui@opensvc.com&gt; and others.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mu-bookmarks.5.html"><span aria-hidden="true">&larr;</span> mu-bookmarks.5: File with bookmarks (shortcuts) for mu search expressions</a></li>
   <li class="next"><a href="mustache.5.html">mustache.5: Logic-less templates. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
