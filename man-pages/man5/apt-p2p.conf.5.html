<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>apt-p2p.conf: Apt-p2p.conf  configuration file for apt-p2p.conf</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Apt-p2p.conf  configuration file for apt-p2p.conf">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="apt-p2p.conf (5) manual">
  <meta name="twitter:description" content="Apt-p2p.conf  configuration file for apt-p2p.conf">
  <meta name="twitter:image" content="https://www.carta.tech/images/apt-p2p-apt-p2p.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/apt-p2p.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="apt-p2p.conf (5) manual" />
  <meta property="og:description" content="Apt-p2p.conf  configuration file for apt-p2p.conf" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/apt-p2p-apt-p2p.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">apt-p2p.conf<small> (5)</small></h1>
        <p class="lead">Apt-p2p.conf  configuration file for apt-p2p.conf</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/apt-p2p.conf.5.html">
      <span itemprop="name">apt-p2p.conf: Apt-p2p.conf  configuration file for apt-p2p.conf</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/apt-p2p/">
      <span itemprop="name">apt-p2p</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/apt-p2p.conf.5.html">
      <span itemprop="name">apt-p2p.conf: Apt-p2p.conf  configuration file for apt-p2p.conf</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Configuration information for apt-p2p.conf is searched for in the following order, with later entries overriding former ones:</p>
<dl class='dl-vertical'>
  <dt>
       1.
  </dt>
  <dd>
    <p>/etc/apt-p2p/apt-p2p.conf</p>
  </dd>
  <dt>
       2.
  </dt>
  <dd>
    <p>$HOME/.apt-p2p/apt-p2p.conf</p>
  </dd>
  <dt>
       3.
  </dt>
  <dd>
    <p>the location specified by the config-file parameter</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMAT</h2>
        <div class="sectioncontent">
<p>apt-p2p.conf has a structure similar to Microsoft Windows INI files. The configuration file consists of sections, led by a '[section]' header and followed by 'name = value' or 'name: value' entries, with continuations in the style of RFC 822 (values can span multiple lines by starting the subsequent lines with one or more spaces). Some values indicate times, in which case a suffix of 'd' for days, 'h' for hours, 'm' for minutes, and 's' for seconds can be used. Boolean values can be '1', 'yes', 'true', and 'on' to evaluate to True, or '0', 'no', 'false', and 'off' to evaluate to false. Note that leading whitespace is removed from values, and case is not important. Lines beginning with '#' or ';' are ignored and may be used to provide comments.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VARIABLES</h2>
        <div class="sectioncontent">
<p>There are 2 required sections in the config file. The first is the DEFAULT section, providing variables for the configuration of the main application. The second is the section that provides variables for the configuration of the DHT.</p><h3>DEFAULT</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>PORT = </strong><em>number</em><em></em>
  </dt>
  <dd>
    <p>The <em>number</em> of the port to listen on for requests. The main application will use this TCP port to listen for requests from APT, and for uploads to other peers. If a port is not specified for the DHT, it will also use this UDP port to listen for DHT requests. (Default is 9977.)</p>
  </dd>
  <dt>
    <strong>UPLOAD_LIMIT = </strong><em>speed</em><em></em>
  </dt>
  <dd>
    <p>The <em>speed</em> to limit sending data to peers to, in KBytes/sec. Set this to 0 to not limit the upload bandwidth. (Default is 0)</p>
  </dd>
  <dt>
    <strong>MIN_DOWNLOAD_PEERS = </strong><em>number</em><em></em>
  </dt>
  <dd>
    <p>The minimum <em>number</em> of peers before the mirror is not used. If there are fewer peers than this for a file, the mirror will also be used to speed up the download. Set to 0 to never use the mirror if there are peers. (Default is 3)</p>
  </dd>
  <dt>
    <strong>CACHE_DIR = </strong><em>directory</em><em></em>
  </dt>
  <dd>
    <p>The <em>directory</em> to store the downloaded files in. (Default is $HOME/.apt-p2p/cache.)</p>
  </dd>
  <dt>
    <strong>OTHER_DIRS = </strong><em>list</em><em></em>
  </dt>
  <dd>
    <p>The <em>list</em> of directories containing packages to share with others. All files in these directories will be hashed and available for everybody to download. (Default is to share only the files downloaded.)</p>
  </dd>
  <dt>
    <strong>LOCAL_OK = </strong><em>boolean</em><em></em>
  </dt>
  <dd>
    <p>Whether it's OK for the application to use for sharing files an IP address from a known local or private range (RFC 1918). This should only be set true if you are running your own private apt-p2p network that no one else will be connecting to. (Default is false)</p>
  </dd>
  <dt>
    <strong>REMOTE_STATS = </strong><em>boolean</em><em></em>
  </dt>
  <dd>
    <p>Whether a remote peer can access the statistics page. (Default is True)</p>
  </dd>
  <dt>
    <strong>UNLOAD_PACKAGES_CACHE = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The <em>time</em> of inactivity to wait for before unloading the packages cache. The packages cache uses a lot of memory, and only takes a few seconds to reload when a new request arrives. (Default is 5 minutes.)</p>
  </dd>
  <dt>
    <strong>KEY_REFRESH = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The <em>time</em> after which to refresh DHT keys. This should be a time slightly less than the DHT's KEY_EXPIRE value. (Default is 2.5 hours.)</p>
  </dd>
  <dt>
    <strong>USERNAME = </strong><em>user</em><em></em>
  </dt>
  <dd>
    <p>The <em>user</em> name to try and run as. Leaving this blank will try to run as current user. (Default is 'apt-p2p'.)</p>
  </dd>
  <dt>
    <strong>DHT = </strong><em>string</em><em></em>
  </dt>
  <dd>
    <p>The DHT implementation to use. It must be possile to do (in python) 'from &lt;DHT&gt;.DHT import DHT' to get a class that implements the IDHT interface. There should also be a similarly named section in the config file to specify the options for the DHT. (Default is 'apt_p2p_Khashmir')</p>
  </dd>
  <dt>
    <strong>DHT-ONLY = </strong><em>boolean</em><em></em>
  </dt>
  <dd>
    <p>Whether to only run the DHT. This can be useful for providing only a bootstrap node. (Default is false)</p>
  </dd>

</dl>

<h3>apt_p2p_Khashmir</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>PORT = </strong><em>number</em><em></em>
  </dt>
  <dd>
    <p>The <em>number</em> of the port to listen on for DHT (UDP) requests. (Default is to use the value specified in the DEFAULT section.)</p>
  </dd>
  <dt>
    <strong>BOOTSTRAP = </strong><em>list</em><em></em>
  </dt>
  <dd>
    <p>The <em>list</em> of bootstrap nodes to contact to join the DHT. Each node should be on a separate line, and start with the IP address or host name, followed by a colon and the port number. (Default is a list of known good nodes.)</p>
  </dd>
  <dt>
    <strong>BOOTSTRAP_NODE = </strong><em>boolean</em><em></em>
  </dt>
  <dd>
    <p>Whether this node is a bootstrap node. (Default is false)</p>
  </dd>
  <dt>
    <strong>CHECKPOINT_INTERVAL = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The <em>time</em> to wait between saves of the running state. (Default is 5 minutes.)</p>
  </dd>
  <dt>
    <strong>CONCURRENT_REQS = </strong><em>number</em><em></em>
  </dt>
  <dd>
    <p>The concurrent <em>number</em> of calls per find node/value request. (Default is 8.)</p>
  </dd>
  <dt>
    <strong>STORE_REDUNDANCY = </strong><em>number</em><em></em>
  </dt>
  <dd>
    <p>The <em>number</em> of redundant copies of a value to store in the DHT. (Default is 6.)</p>
  </dd>
  <dt>
    <strong>RETRIEVE_VALUES = </strong><em>number</em><em></em>
  </dt>
  <dd>
    <p>The <em>number</em> of values to attempt to retrieve from the DHT. Setting this to 0 will try and get all values (which could take a while if a lot of nodes have values). Setting it negative will try to get that number of results from only the closest STORE_REDUNDANCY nodes to the hash. (Default is -10000, which is a large negative number so all values from the closest STORE_REDUNDANCY nodes will be retrieved.)</p>
  </dd>
  <dt>
    <strong>MAX_FAILURES = </strong><em>number</em><em></em>
  </dt>
  <dd>
    <p>The <em>number</em> of times in a row a node can fail to respond before it's booted from the routing table. (Default is 3.)</p>
  </dd>
  <dt>
    <strong>MIN_PING_INTERVAL = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The minimum <em>time</em> to wait before re-pinging a node. (Default is 15 minutes.)</p>
  </dd>
  <dt>
    <strong>BUCKET_STALENESS = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The maximum <em>time</em> to wait before refreshing a bucket. (Default is 1 hour.)</p>
  </dd>
  <dt>
    <strong>LOCAL_OK = </strong><em>boolean</em><em></em>
  </dt>
  <dd>
    <p>Whether it's OK to add nodes to the routing table that use an IP address from a known local or private range (RFC 1918). This should only be set true if you are running your own private apt-p2p network that no one else will be connecting to. (Default is to use the value specified in the DEFAULT section.)</p>
  </dd>
  <dt>
    <strong>KEY_EXPIRE = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The <em>time</em> to wait before expiring unrefreshed keys. (Default is 3 hours.)</p>
  </dd>
  <dt>
    <strong>KRPC_TIMEOUT = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The <em>time</em> to wait before KRPC requests timeout. (Default is 9 seconds.)</p>
  </dd>
  <dt>
    <strong>KRPC_INITIAL_DELAY = </strong><em>time</em><em></em>
  </dt>
  <dd>
    <p>The <em>time</em> to start with when resending KRPC requests using exponential backoff. The request will first be resent after the delay set here. The request will be resent again after twice the delay set here, and so on. e.g. if TIMEOUT is 9 sec., and INITIAL_DELAY is 2 sec., then requests will be resent at times 0, 2 (2 sec. later), and 6 (4 sec. later), and then will timeout at 9. (Default is 2 seconds.)</p>
  </dd>
  <dt>
    <strong>SPEW = </strong><em>boolean</em><em></em>
  </dt>
  <dd>
    <p>Whether to log lots of info about the requests and responses in the protocol. (Default is false)</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO apt-p2p.conf&hellip;</h2>
        <div class="sectioncontent">
<p><strong>apt-p2p</strong><strong>(8)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by Cameron Dale &lt;camrdale@gmail.com&gt; for the <strong>Debian</strong> system (but may be used by others).  Permission is granted to copy, distribute and/or modify this document under the terms of the GNU General Public License, Version 2 or any later version published by the Free Software Foundation.</p><p>On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common-licenses/GPL.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="appup.5.html"><span aria-hidden="true">&larr;</span> appup.5: Application upgrade file.</a></li>
   <li class="next"><a href="apt.conf.5.html">apt.conf.5: Configuration file for apt <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
