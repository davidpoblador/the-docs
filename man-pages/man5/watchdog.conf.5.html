<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>watchdog.conf: Configuration file for the watchdog daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for the watchdog daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="watchdog.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for the watchdog daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/watchdog-watchdog.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/watchdog.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="watchdog.conf (5) manual" />
  <meta property="og:description" content="Configuration file for the watchdog daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/watchdog-watchdog.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">watchdog.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for the watchdog daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/watchdog.conf.5.html">
      <span itemprop="name">watchdog.conf: Configuration file for the watchdog daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/watchdog/">
      <span itemprop="name">watchdog</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/watchdog.conf.5.html">
      <span itemprop="name">watchdog.conf: Configuration file for the watchdog daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This file carries all configuration options for the Linux watchdog daemon. Each option has to be written on a line for itself. Comments start with '#'. Blanks are ignored except after the '=' sign. An empty text after the '=' sign disables the feature as long as that makes sense.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>interval = &lt;interval&gt;</p>
  </dt>
  <dd>
    <p>Set the highest possible interval between two writes to the watchdog device. The device is triggered after each check regardless of the time it took. After finishing all checks watchdog goes to sleep for a full cycle of &lt;interval&gt; seconds. Default value is 1 second. The kernel drivers expects a write command every minute. Otherwise the system will be rebooted.  Therefore an interval of more than a minute can only be used with the -f command-line option.</p>
  </dd>
  <dt>
    <p>logtick = &lt;logtick&gt;</p>
  </dt>
  <dd>
    <p>If you enable verbose logging, a message is written into the syslog or a logfile. While this is nice, it is not necessary to get a message every 10 seconds which really fills up disk and needs CPU. logtick allows adjustment of the number of intervals skipped before a log message is written. If you use logtick = 60 and interval = 10, only every 10 minutes (600 seconds) a message is written. This may make the exact time of a crash harder to find but greatly reduces disk usage and administrator nerves if you're looking for a particular syslog entry in between of watchdog messages.</p>
  </dd>
  <dt>
    <p>max-load-1 = &lt;load1&gt;</p>
  </dt>
  <dd>
    <p>Set the maximal allowed load average for a 1 minute span. Once this load average is reached the system is rebooted. Default value is 0. That means the load average check is disabled. Be careful not to this parameter too low. To set a value less then the predefined minimal value of 2, you have to use the -f commandline option.</p>
  </dd>
  <dt>
    <p>max-load-5 = &lt;load5&gt;</p>
  </dt>
  <dd>
    <p>Set the maximal allowed load average for a 5 minute span. Once this load average is reached the system is rebooted. Default value is 3/4*max-load-1. Be careful not to this parameter too low. To set a value less then the predefined minimal value of 2, you have to use the -f commandline option.</p>
  </dd>
  <dt>
    <p>max-load-15 = &lt;load15&gt;</p>
  </dt>
  <dd>
    <p>Set the maximal allowed load average for a 15 minute span. Once this load average is reached the system is rebooted. Default value is 1/2*max-load-1. Be careful not to this parameter too low. To set a value less then the predefined minimal value of 2, you have to use the -f commandline option.</p>
  </dd>
  <dt>
    <p>min-memory = &lt;minpage&gt;</p>
  </dt>
  <dd>
    <p>Set the minimal amount of virtual memory that has to stay free. Note that this is in pages. Default value is 0 pages which means this test is disabled. The page size is taken from the system include files.</p>
  </dd>
  <dt>
    <p>allocatable-memory = &lt;minpage&gt;</p>
  </dt>
  <dd>
    <p>Set the minimum amount of allocatable memory available on the system. Note that this is in pages.  Default value is 0 pages which means the test is disabled.  As with min-memory, the page size is taken from the system include files.</p>
  </dd>
  <dt>
    <p>max-temperature = &lt;temp&gt;</p>
  </dt>
  <dd>
    <p>Set the maximal allowed temperature. Once this temperature is reached the system is halted. Default value is 120. There is no unit conversion, so make sure you use the same unit as your hardware. Watchdog will issue warnings once the temperature increases 90%, 95% and 98% of this temperature.</p>
  </dd>
  <dt>
    <p>watchdog-device = &lt;device&gt;</p>
  </dt>
  <dd>
    <p>Set the watchdog device name. Default is to disable keep alive support.</p>
  </dd>
  <dt>
    <p>watchdog-timeout = &lt;timeout&gt;</p>
  </dt>
  <dd>
    <p>Set the watchdog device timeout during startup.  If not set, a default is used that should be set to the kernel timer margin at compile time.</p>
  </dd>
  <dt>
    <p>temperature-device = &lt;temp-dev&gt;</p>
  </dt>
  <dd>
    <p>Set the temperature device name. Default is to disable temperature checking.</p>
  </dd>
  <dt>
    <p>file = &lt;filename&gt;</p>
  </dt>
  <dd>
    <p>Set file name for file mode. This option can be given as often as you like to check several files.</p>
  </dd>
  <dt>
    <p>change = &lt;mtime&gt;</p>
  </dt>
  <dd>
    <p>Set the change interval time for file mode. This options always belongs to the active filename, that is when finding a 'change =' line watchdog assumes it belongs to the most recently read 'file =' line. They don't neccessarily have to follow each other directly. But you cannot specify a 'change =' before a 'file ='. The default is to only stat the file and don't look for changes. Using this feature to monitor changes in /var/log/messages might require some special syslog daemon configuration, e.g. rsyslog needs "$ActionWriteAllMarkMessages on" to be set to make sure the marks are written no matter what.</p>
  </dd>
  <dt>
    <p>pidfile = &lt;pidfilename&gt;</p>
  </dt>
  <dd>
    <p>Set pidfile name for server test mode. This option can be given as often as you like to check several servers.</p>
  </dd>
  <dt>
    <p>ping = &lt;ip-addr&gt;</p>
  </dt>
  <dd>
    <p>Set IP address for ping mode. This option can be used more than once to check different connections.</p>
  </dd>
  <dt>
    <p>interface = &lt;if-name&gt;</p>
  </dt>
  <dd>
    <p>Set interface name for network mode. This option can be used more than once to check different interfaces.</p>
  </dd>
  <dt>
    <p>test-binary = &lt;testbin&gt;</p>
  </dt>
  <dd>
    <p>Execute the given binary to do some user defined tests.</p>
  </dd>
  <dt>
    <p>test-timeout = &lt;timeout in seconds&gt;</p>
  </dt>
  <dd>
    <p>User defined tests may only run for &lt;timeout&gt; seconds. Set to 0 for unlimited.</p>
  </dd>
  <dt>
    <p>repair-binary = &lt;repbin&gt;</p>
  </dt>
  <dd>
    <p>Execute the given binary in case of a problem instead of shutting down the system.</p>
  </dd>
  <dt>
    <p>repair-timeout = &lt;timeout in seconds&gt;</p>
  </dt>
  <dd>
    <p>repair command may only run for &lt;timeout&gt; seconds. Set to 0 for unlimited.</p>
  </dd>
  <dt>
    <p>admin = &lt;mail-address&gt;</p>
  </dt>
  <dd>
    <p>Email address to send admin mail to. That is, who shall be notified that the machine is being halted or rebooted. Default is 'root'. If you want to disable notification via email just set admin to en empty string.</p>
  </dd>
  <dt>
    <p>realtime = &lt;yes|no&gt;</p>
  </dt>
  <dd>
    <p>If set to yes watchdog will lock itself into memory so it is never swapped out.</p>
  </dd>
  <dt>
    <p>priority = &lt;schedule priority&gt;</p>
  </dt>
  <dd>
    <p>Set the schedule priority for realtime mode.</p>
  </dd>
  <dt>
    <p>test-directory = &lt;test directory&gt;</p>
  </dt>
  <dd>
    <p>Set the directory to run user test/repair scripts.  Default is '/etc/watchdog.d' See the Test Directory section in <a href="../man8/watchdog.8.html"><strong>watchdog</strong>(8)</a> for more information.</p>
  </dd>
  <dt>
    <p>log-dir = &lt;log directory&gt;</p>
  </dt>
  <dd>
    <p>Set the log directory to capture the standard output and standard error from repair-binary and test-binary execution. Default is '/var/log/watchdog'.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/watchdog.conf</em></p>
  </dt>
  <dd>
    <p>The watchdog configuration file</p>
  </dd>
  <dt>
    <p><em>/etc/watchdog.d</em></p>
  </dt>
  <dd>
    <p>A directory containing test-or-repair commands. See the Test Directory section in <a href="../man8/watchdog.8.html"><strong>watchdog</strong>(8)</a> for more information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO watchdog.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/watchdog.8.html"><strong>watchdog</strong>(8)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="watchcatd.conf.5.html"><span aria-hidden="true">&larr;</span> watchcatd.conf.5: Configuration file for watchcatd(8)</a></li>
   <li class="next"><a href="wavemonrc.5.html">wavemonrc.5: Wavemon configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
