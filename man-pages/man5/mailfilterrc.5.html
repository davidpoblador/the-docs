<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mailfilterrc: Mailfilter configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mailfilter configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mailfilterrc (5) manual">
  <meta name="twitter:description" content="Mailfilter configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/mailfilter-mailfilterrc-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/mailfilterrc.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mailfilterrc (5) manual" />
  <meta property="og:description" content="Mailfilter configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mailfilter-mailfilterrc-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mailfilterrc<small> (5)</small></h1>
        <p class="lead">Mailfilter configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/mailfilterrc.5.html">
      <span itemprop="name">mailfilterrc: Mailfilter configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mailfilter/">
      <span itemprop="name">mailfilter</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/mailfilterrc.5.html">
      <span itemprop="name">mailfilterrc: Mailfilter configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>$HOME/.mailfilterrc</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>For a quick start read the INSTALL file provided with the Mailfilter distribution and copy its example configuration. This is enough to run the program with some basic features.</p><p>Generally the rcfile contains all of Mailfilter's settings and information on the mail accounts that should be checked for spam. It is possible to place remarks in that file by beginning a line with `#'.</p><p>It does not matter in which order keywords are inserted, except for the account set-up. To define an account you <strong>must</strong> use this whole block of commands:</p><p>SERVER = "your.pop.server.com"</p><p>USER = "your.username"</p><p>PASS = "your.password"</p><p>PROTOCOL = "pop3"</p><p>PORT = 110</p><p>Currently Mailfilter supports the POP3, and APOP protocols which usually communicate over port 110.  However, port 995 is required, if Mailfilter is instructed to communicate using the SSL layer as in:</p><p>SERVER = "your.pop.ssl.server.com"</p><p>USER = "your.username"</p><p>PASS = "your.password"</p><p>PROTOCOL = "pop3/ssl"</p><p>PORT = 995</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KEYWORDS</h2>
        <div class="sectioncontent">
<p>Generally the rcfile is not case-sensitive, which means it does not matter whether the keywords are spelled in capitals or not. You can place white space characters before and in between a command and its parameters.</p><p># This is a typical comment</p><p>DENY = "^Subject:.*Get rich fast"</p><p>To see some example applications of the engaged keywords, please refer to the <a href="../man5/mailfilterex.5.html"><strong>mailfilterex</strong>(5)</a></strong> man page.</p><p><small>ALLOW =  </small><strong>expression</strong> </p><p>This keyword can be used to override spam filters i.e. to define `friends'. A message that matches any ALLOW rules will not be filtered or deleted. ALLOW takes a Regular Expression as argument.</p><p><small>DEL_DUPLICATES =  </small><strong>[yes|no]</strong> </p><p>This keyword can be used to delete duplicates of messages sent to one or several accounts at once, i.e. it removes redundant e-mails. DEL_DUPLICATES takes either `yes' or `no' as argument. The default value is `no'.</p><p><small>DENY =  </small><strong>expression</strong> </p><p>This keyword can be used to define spam filters. Messages that match spam filters (unless they match an ALLOW rule at the same time) are being deleted from the mail server. DENY takes a Regular Expression as argument.</p><p><small>DENY &lt;&gt;  </small><strong>expression</strong> </p><p>This keyword can be used to define a negative spam filter. Messages that do not match the negative filters are being deleted from the server. DENY&lt;&gt; takes a Regular Expression as argument, e.g. `DENY&lt;&gt;^To:.*my_username'.</p><p><small>DENY_CASE =  </small><strong>expression</strong> </p><p>This keyword can be used to define case-sensitive spam filters. It overrides the default settings for case-sensivity (see REG_CASE for details). DENY_CASE takes a Regular Expression as argument.</p><p><small>DENY_CASE &lt;&gt;  </small><strong>expression</strong> </p><p>This keyword can be used to define negative case-sensitive spam filters. It overrides the default settings for case-sensivity (see REG_CASE for details). DENY_CASE&lt;&gt; takes a Regular Expression as argument.</p><p><small>DENY_NOCASE =  </small><strong>expression</strong> </p><p>This keyword can be used to define case-insensitive spam filters. It overrides the default settings for case-sensivity (see REG_CASE for details). DENY_NOCASE takes a Regular Expression as argument.</p><p><small>DENY_NOCASE &lt;&gt;  </small><strong>expression</strong> </p><p>This keyword can be used to define negative case-insensitive spam filters. It overrides the default settings for case-sensivity (see REG_CASE for details). DENY_NOCASE&lt;&gt; takes a Regular Expression as argument.</p><p><small>HIGHSCORE = </small><strong>value</strong></p><p>This keyword can be used to define a discrete threshold upon which messages should be deleted.  Individual scores are accumulated by assigning values and filters with the SCORE or MAXSIZE_SCORE keywords.  Its default value is 100.</p><p><small>INCLUDE =  </small><strong>path</strong> </p><p>This keyword can be used to include additional configuration files into the main Mailfilter rcfile. That is, the program settings may be conveniently split into several different files. INCLUDE expects a path and file name as argument.</p><p><small>LOGFILE =  </small><strong>path</strong> </p><p>This keyword can be used to define a log file for Mailfilter. The log file is being used to store error messages and information on deleted messages. LOGFILE expects a path and file name as argument.</p><p><small>MAXLENGTH = </small><strong>value</strong></p><p>This keyword can be used to define a maximum string length that must not be exceeded by any field of a message header. The according Internet standard RFC 822 suggests a limit of 998 characters per field. This option even overrides any `friendly' ALLOW rules, i.e. deletes them if they exceed the limit. Assigning a `0' disables the feature.</p><p><small>MAXSIZE_ALLOW = </small><strong>value</strong></p><p>This keyword can be used to define a maximum message size that must not be exceeded by all messages that match any ALLOW rule. (One could say, this is the size limit `friends' should not exceed.) The limit does not affect other messages. To define a more general message size limit, use MAXSIZE_DENY instead. MAXSIZE_ALLOW takes the number of bytes as argument. Assigning a `0' disables this feature.</p><p><small>MAXSIZE_DENY = </small><strong>value</strong></p><p>This keyword can be used to define a general message size limit that must not be exceeded. (Unless the incoming message matches an ALLOW rule. In that case MAXSIZE_ALLOW would apply.) MAXSIZE_DENY takes the number of bytes as argument. Assigning a `0' disables this feature.</p><p><small>MAXSIZE_SCORE </small><strong>value</strong> = <strong>value</strong></p><p>This keyword can be used to attach a score to a size limit.  If that limit is exceeded, then the score will be added to the accumulated score from applying other scored filters (see the SCORE keyword below).  The first value (before `=') is the score, the second value (after `=') is the size limit.  Assigning a `0' to either the score or the size limit disables this feature.</p><p><small>NORMAL =  </small><strong>[yes|no]</strong> </p><p>This keyword tells Mailfilter to `normalise' the subject strings in messages. A normalised string consists only of alpha-numeric characters. When normalisation is turned on, Mailfilter tries to apply its filters first to the original subject line, before it tries to match the normalised one. NORMAL takes either `yes' or `no' as argument. The default value is `no'.</p><p><small>REG_CASE =  </small><strong>[yes|no]</strong> </p><p>This keyword can be used to define how Mailfilter should treat its Regular Expressions, case-sensitive or case-insensitive. REG_CASE takes either `yes' as argument to enable case-sensivity or otherwise `no' to disable it.  The default behaviour is to ignore the case.</p><p><small>REG_TYPE =  </small><strong>[basic|extended]</strong> </p><p>This keyword can be used to define which type of Regular Expression Mailfilter should use. REG_TYPE can either be switched to `extended' or `basic'. The default value is `basic'.</p><p><small>SCORE </small><strong>value</strong> =  <strong>expression</strong> </p><p>This keyword can be used to assign a score to a filter.  It expects a discrete number and a Regular Expression filter as input.  If the filter matches a line of the message header, the score is being accumulated to previously matched filters. (See mailfilterex (5) for an example.)</p><p><small>SCORE </small><strong>value</strong> &lt;&gt;  <strong>expression</strong> </p><p>This keyword can be used in the same fashion as SCORE, but it assigns the score only if the filter can not be matched to any line of the message header.</p><p><small>SCORE_CASE </small><strong>value</strong> =  <strong>expression</strong> </p><p>This keyword is similar to SCORE, but it treats the Regular Expression as case sensitive filter, regardless of other program settings.</p><p><small>SCORE_CASE </small><strong>value</strong> &lt;&gt;  <strong>expression</strong> </p><p>This keyword can be used in the same fashion as SCORE_CASE, but it assigns the score only if the filter can not be matched to any line of the message header.</p><p><small>SCORE_NOCASE </small><strong>value</strong> =  <strong>expression</strong> </p><p>This keyword is similar to SCORE, but it treats the Regular Expression as case insensitive filter, regardless of other program settings.</p><p><small>SCORE_NOCASE </small><strong>value</strong> &lt;&gt;  <strong>expression</strong> </p><p>This keyword can be used in the same fashion as SCORE_NOCASE, but it assigns the score only if the filter can not be matched to any line of the message header.</p><p><small>SERVER / USER / PASS / PROTOCOL / PORT</small></p><p>These keywords can only be used as a whole and in the given order. Such a block defines an e-mail account to be checked for spam by Mailfilter. A typical block looks like this:</p><p>SERVER = "your.pop.server.com"</p><p>USER = "your.username"</p><p>PASS = "your.password"</p><p>PROTOCOL = "protocol"</p><p>PORT = 110</p><p>It is especially important to not change the arrangement of this block. At the moment, PROTOCOL supports either `pop3' (`pop3/ssl'), or `apop' (`apop/ssl').  The normal variant usually corresponds to port 110, while encrypted communication via SSL, typically, requires port 995.</p><p><small>SHOW_HEADERS =  </small><strong>path</strong> </p><p>This keyword can be used to store the message headers of absolutely all filtered e-mails of an account. SHOW_HEADERS expects a path and a file name as argument indicating where to store the headers in.</p><p><small>TEST =  </small><strong>[yes|no]</strong> </p><p>This keyword prevents Mailfilter from deleting any messages on any e-mail accounts. It is useful to experiment with filters and Regular Expressions and to see how Mailfilter reacts to the user's changes. The option can be turned on by assigning `yes' to TEST. The default value is `no'.</p><p><small>TIMEOUT = </small><strong>value</strong></p><p>This keyword can be used to define a server response time out in seconds. That is, the mail server has to respond to an issued command within a given time span, otherwise Mailfilter will drop the connection and issue an error. TIMEOUT takes an integer value as argument. The default is set to 30 (seconds).</p><p><small>VERBOSE = </small><strong>value</strong></p><p>This keyword can be used to define the level of verbosity. It takes an integer as argument.</p>
<dl class='dl-vertical'>
  <dt>
    0
  </dt>
  <dd>
    <p>Silent, show nothing at all</p>
  </dd>
  <dt>
    1
  </dt>
  <dd>
    <p>Only show errors</p>
  </dd>
  <dt>
    2
  </dt>
  <dd>
    <p>Only show "Deleted..." messages and errors</p>
  </dd>
  <dt>
    3
  </dt>
  <dd>
    <p>Default; Show "Deleted..." messages,  errors and "Examining..." messages</p>
  </dd>
  <dt>
    4
  </dt>
  <dd>
    <p>Like (3), except this also shows the current account's username</p>
  </dd>
  <dt>
    5
  </dt>
  <dd>
    <p>Like (4), except this also shows which filter matched which string of an e-mail header</p>
  </dd>
  <dt>
    6
  </dt>
  <dd>
    <p>Debugging mode; prints out almost everything</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPRECATED KEYWORDS</h2>
        <div class="sectioncontent">
<p>There are a few keywords from older versions of Mailfilter that are not supported anymore. The following list contains all these keywords and recommends substitutes.</p>
<dl class='dl-vertical'>
  <dt>
    ICASE
  </dt>
  <dd>
    <p>Use REG_CASE instead.</p>
  </dd>
  <dt>
    MAXSIZE
  </dt>
  <dd>
    <p>Use MAXSIZE_ALLOW and MAXSIZE_DENY instead.</p>
  </dd>
  <dt>
    MODE
  </dt>
  <dd>
    <p>Use VERBOSE instead.</p>
  </dd>

</dl>
<p>Even though Mailfilter still `silently' supports some of these words, you can not rely on that for future versions. It is highly recommended to update old configuration files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mailfilterrc&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/mailfilter.1.html"><strong>mailfilter</strong>(1)</a>, <a href="../man5/mailfilterex.5.html"><strong>mailfilterex</strong>(5)</a>, <a href="../man7/regex.7.html"><strong>regex</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2000-2014 Andreas Bauer &lt;baueran@gmail.com&gt;</p><p>This is free software; see the source for copying conditions.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mailfilterex.5.html"><span aria-hidden="true">&larr;</span> mailfilterex.5: Mailfilter configuration file examples</a></li>
   <li class="next"><a href="mailname.5.html">mailname.5: The visible mail name of the system <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
