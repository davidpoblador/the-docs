<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ups.conf: Ups definitions for network ups tools</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ups definitions for network ups tools">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ups.conf (5) manual">
  <meta name="twitter:description" content="Ups definitions for network ups tools">
  <meta name="twitter:image" content="https://www.carta.tech/images/nut-server-ups.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/ups.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ups.conf (5) manual" />
  <meta property="og:description" content="Ups definitions for network ups tools" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nut-server-ups.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ups.conf<small> (5)</small></h1>
        <p class="lead">Ups definitions for network ups tools</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/ups.conf.5.html">
      <span itemprop="name">ups.conf: Ups definitions for network ups tools</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nut-server/">
      <span itemprop="name">nut-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/ups.conf.5.html">
      <span itemprop="name">ups.conf: Ups definitions for network ups tools</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This file is read by the driver controller <a href="../man8/upsdrvctl.8.html"><strong>upsdrvctl</strong>(8)</a>, the UPS drivers that use the common core (see <a href="../man8/nutupsdrv.8.html"><strong>nutupsdrv</strong>(8)</a>, and <a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a>). The file begins with global directives, and then each UPS has a section which contains a number of directives that set parameters for that UPS.</p><p>A UPS section begins with the name of the UPS in brackets, and continues until the next UPS name in brackets or until EOF. The name "default" is used internally in upsd, so you can\(cqt use it in this file.</p><p>You must define the <em>driver</em> and <em>port</em> elements for each entry. Anything after that in a section is optional. A simple example might look like this:</p>
<pre>
[myups]
        driver = blazer_ser
        port = /dev/ttyS0
        desc = "Web server UPS"
</pre>
<p>A slightly more complicated version includes some extras for the hardware-specific part of the driver:</p>
<pre>
[bigups]
        driver = apcsmart
        port = /dev/cua00
        cable = 940-0095B
        sdtype = 2
        desc = "Database server UPS"
</pre>
<p>In this case, the <a href="../man8/apcsmart.8.html"><strong>apcsmart</strong>(8)</a> driver will receive variables called "cable" and "sdtype" which have special meanings. See the man pages of your driver(s) to learn which variables are supported and what they do.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GLOBAL DIRECTIVES</h2>
        <div class="sectioncontent">
<p><strong>chroot</strong></p><p>Optional. The driver will <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a> to this directory during initialization. This can be useful when securing systems.</p><p><strong>driverpath</strong></p><p>Optional. Path name of the directory in which the UPS driver executables reside. If you don\(cqt specify this, the programs look in a built-in default directory, which is often /usr/local/ups/bin.</p><p><strong>maxstartdelay</strong></p><p>Optional. Same as the UPS field of the same name, but this is the default for UPSes that don\(cqt have the field.</p><p><strong>maxretry</strong></p><p>Optional. Specify the number of attempts to start the driver(s), in case of failure, before giving up. A delay of <em>retrydelay</em> is inserted between each attempt. Caution should be taken when using this option, since it can impact the time taken by your system to start.</p><p>The default is 1 attempt.</p><p><strong>retrydelay</strong></p><p>Optional. Specify the delay between each restart attempt of the driver(s), as specified by <em>maxretry</em>. Caution should be taken when using this option, since it can impact the time taken by your system to start.</p><p>The default is 5 seconds.</p><p><strong>pollinterval</strong></p><p>Optional. The status of the UPS will be refreshed after a maximum delay which is controlled by this setting. This is normally 2 seconds. This may be useful if the driver is creating too much of a load on your system or network.</p><p><strong>user</strong></p><p>Optional. If started as root, the driver will <a href="../man2/setuid.2.html"><strong>setuid</strong>(2)</a> to the user id associated with <em>username</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UPS FIELDS</h2>
        <div class="sectioncontent">
<p><strong>driver</strong></p><p>Required. This specifies which program will be monitoring this UPS. You need to specify the one that is compatible with your hardware. See <a href="../man8/nutupsdrv.8.html"><strong>nutupsdrv</strong>(8)</a> for more information on drivers in general and pointers to the man pages of specific drivers.</p><p><strong>port</strong></p><p>Required. This is the serial port where the UPS is connected. On a Linux system, the first serial port usually is <em>/dev/ttyS0</em>. On FreeBSD and similar systems, it probably will be <em>/dev/cuaa0</em>.</p><p><strong>sdorder</strong></p><p>Optional. When you have multiple UPSes on your system, you usually need to turn them off in a certain order. upsdrvctl shuts down all the 0s, then the 1s, 2s, and so on. To exclude a UPS from the shutdown sequence, set this to -1.</p><p>The default value for this parameter is 0.</p><p><strong>desc</strong></p><p>Optional. This allows you to set a brief description that upsd will provide to clients that ask for a list of connected equipment.</p><p><strong>nolock</strong></p><p>Optional. When you specify this, the driver skips the port locking routines every time it starts. This may allow other processes to seize the port if you start more than one accidentally.</p><p>You should only use this if your system won\(cqt work without it.</p><p>This may be needed on Mac OS X systems.</p><p><strong>ignorelb</strong></p><p>Optional. When you specify this, the driver ignores a low battery condition flag that is reported by the UPS (some devices will switch off almost immediately after setting this flag, or will report this as soons as the mains fails). Instead it will use either of the following conditions to determine when the battery is low:</p>
<pre>
battery.charge &lt; battery.charge.low
battery.runtime &lt; battery.runtime.low
</pre>
<p>The idea is to set the battery.charge.low and/or battery.runtime.low levels in <strong>ups.conf</strong> to a value that gives enough time to cleanly shutdown your system:</p>
<pre>
override.battery.charge.low = 30
override.battery.runtime.low = 180
</pre>
<p>In order for this to work, your UPS should be able to (reliably) report charge and/or runtime remaining on battery. Use with caution!</p><p><strong>maxstartdelay</strong></p><p>Optional. This can be set as a global variable above your first UPS definition and it can also be set in a UPS section. This value controls how long upsdrvctl will wait for the driver to finish starting. This keeps your system from getting stuck due to a broken driver or UPS.</p><p>The default is 45 seconds.</p><p><strong>default.&lt;variable&gt;</strong></p><p>Optional. Set a default value for &lt;variable&gt; which is used in case the UPS doesn\(cqt provide a value, but will be overwritten if a value is available from the UPS:</p>
<pre>
default.input.voltage.nominal = 230
</pre>
<p>The above will report the nominal input voltage to be 230, unless the UPS tells us differently.</p><p><strong>override.&lt;variable&gt;</strong></p><p>Optional. Set a value for &lt;value&gt; that overrides any value that may be read from the UPS. Used for overriding values from the UPS that are clearly wrong (some devices report wrong values for battery voltage for instance):</p>
<pre>
override.battery.voltage.nominal = 12
</pre>
<p>Use with caution! This will only change the appearance of the variable to the outside world, internally in the UPS the original value is used.</p><p>All other fields are passed through to the hardware-specific part of the driver. See those manuals for the list of what is allowed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTEGRATION</h2>
        <div class="sectioncontent">
<p><a href="../man8/upsdrvctl.8.html"><strong>upsdrvctl</strong>(8)</a> uses this file to start and stop the drivers.</p><p>The drivers themselves also obtain configuration data from this file. Each driver looks up its section and uses that to configure itself.</p><p><a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a> learns about which UPSes are installed on this system by reading this file. If this system is called "doghouse" and you have defined a UPS in your <strong>ups.conf</strong> called "snoopy", then you can monitor it from <a href="../man8/upsc.8.html"><strong>upsc</strong>(8)</a> or similar as "snoopy@doghouse".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ups.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/upsd.8.html"><strong>upsd</strong>(8)</a>, <a href="../man8/nutupsdrv.8.html"><strong>nutupsdrv</strong>(8)</a>, <a href="../man8/upsdrvctl.8.html"><strong>upsdrvctl</strong>(8)</a></p><h3>Internet resources</h3>
<p>The NUT (Network UPS Tools) home page: http://www.networkupstools.org/</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="upnpd.conf.5.html"><span aria-hidden="true">&larr;</span> upnpd.conf.5: Upnpd(8) configuration file</a></li>
   <li class="next"><a href="upsd.conf.5.html">upsd.conf.5: Configuration for network ups tools upsd <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
