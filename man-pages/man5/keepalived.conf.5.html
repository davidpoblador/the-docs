<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>keepalived.conf: Configuration file for keepalived</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for keepalived">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="keepalived.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for keepalived">
  <meta name="twitter:image" content="https://www.carta.tech/images/keepalived-keepalived.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/keepalived.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="keepalived.conf (5) manual" />
  <meta property="og:description" content="Configuration file for keepalived" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/keepalived-keepalived.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">keepalived.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for keepalived</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/keepalived.conf.5.html">
      <span itemprop="name">keepalived.conf: Configuration file for keepalived</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/keepalived/">
      <span itemprop="name">keepalived</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/keepalived.conf.5.html">
      <span itemprop="name">keepalived.conf: Configuration file for keepalived</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>keepalived.conf</strong> is the configuration file which describes all the keepalived keywords. keywords are placed in hierachies of blocks (and subblocks), each layer being delimited by '{' and '}' pairs.</p><p>Comments start with '#' or '!' to the end of the line and can start anywhere in a line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TOP HIERACHY</h2>
        <div class="sectioncontent">
<p><strong>GLOBAL CONFIGURATION</strong></p><p><strong>VRRPD CONFIGURATION</strong></p><p><strong>LVS CONFIGURATION</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GLOBAL CONFIGURATION</h2>
        <div class="sectioncontent">
<p>contains subblocks of <strong>Global definitions</strong> and <strong>Static routes</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Global definitions</h2>
        <div class="sectioncontent">
<p> global_defs           # Block id  {  notification_email    # To:</p>
<pre>
        {
        admin@example1.com
        ...
        }
</pre>
<p> # From: from address that will be in header  notification_email_from admin@example.com  smtp_server 127.0.0.1        # IP  smtp_connect_timeout 30      # integer, seconds  router_id my_hostname        # string identifying the machine,</p>
<pre>
                              # (doesn't have to be hostname).
</pre>
<p> vrrp_mcast_group4 224.0.0.18 # optional, default 224.0.0.18  vrrp_mcast_group6 ff02::12   # optional, default ff02::12  enable_traps                 # enable SNMP traps  }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Static routes/addresses</h2>
        <div class="sectioncontent">
<p>keepalived can configure static addresses and routes. These addresses are <strong>NOT</strong> moved by vrrpd, they stay on the machine. If you already have IPs and routes on your machines and your machines can ping each other, you don't need this section.</p><p>The syntax is the same as for virtual addresses and virtual routes.</p><p> static_ipaddress  {  192.168.1.1/24 dev eth0 scope global  ...  }</p><p> static_routes  {  192.168.2.0/24 via 192.168.1.100 dev eth0  ...  }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VRRPD CONFIGURATION</h2>
        <div class="sectioncontent">
<p>contains subblocks of <strong>VRRP synchronization group(s)</strong> and <strong>VRRP instance(s)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VRRP synchronization group(s)</h2>
        <div class="sectioncontent">
<p> #string, name of group of IPs that failover together  vrrp_sync_group VG_1 {</p>
<pre>
    group {
      inside_network   # name of vrrp_instance (below)
      outside_network  # One for each moveable IP.
      ...
    }
</pre>

<pre>
    # notify scripts and alerts are optional
    #
    # filenames of scripts to run on transitions
    # can be unquoted (if just filename)
    # or quoted (if has parameters)
    # to MASTER transition
    notify_master /path/to_master.sh
    # to BACKUP transition
    notify_backup /path/to_backup.sh
    # FAULT transition
    notify_fault "/path/fault.sh VG_1"
</pre>

<pre>
    # for ANY state transition.
    # "notify" script is called AFTER the
    # notify_* script(s) and is executed
    # with 3 arguments provided by keepalived
    # (ie don't include parameters in the notify line).
    # arguments
    # $1 = "GROUP"|"INSTANCE"
    # $2 = name of group or instance
    # $3 = target state of transition
    #     ("MASTER"|"BACKUP"|"FAULT")
    notify /path/notify.sh
</pre>

<pre>
    # Send email notifcation during state transition,
    # using addresses in global_defs above.
    smtp_alert
</pre>
<p> }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VRRP instance(s)</h2>
        <div class="sectioncontent">
<p>describes the moveable IP for each instance of a group in vrrp_sync_group. Here are described two IPs (on inside_network and on outside_network), on machine "my_hostname", which belong to the group VG_1 and which will transition together on any state change.</p><p> #You will need to write another block for outside_network.  vrrp_instance inside_network {</p>
<pre>
    # Initial state, MASTER|BACKUP
    # As soon as the other machine(s) come up,
    # an election will be held and the machine
    # with the highest "priority" will become MASTER.
    # So the entry here doesn't matter a whole lot.
    state MASTER
</pre>

<pre>
    # interface for inside_network, bound by vrrp
    interface eth0
</pre>

<pre>
    # Use VRRP Virtual MAC.
    use_vmac &lt;VMAC_INTERFACE&gt;
</pre>

<pre>
    # Send/Recv VRRP messages from base interface instead of
    # VMAC interface
    vmac_xmit_base
</pre>

<pre>
    # Ignore VRRP interface faults (default unset)
    dont_track_primary
</pre>

<pre>
    # optional, monitor these as well.
    # go to FAULT state if any of these go down.
    track_interface {
      eth0
      eth1
      ...
    }
</pre>

<pre>
    # default IP for binding vrrpd is the primary IP
    # on interface. If you want to hide location of vrrpd,
    # use this IP as src_addr for multicast or unicast vrrp
    # packets. (since it's multicast, vrrpd will get the reply
    # packet no matter what src_addr is used).
    # optional
    mcast_src_ip &lt;IPADDR&gt;
    unicast_src_ip &lt;IPADDR&gt;
</pre>

<pre>
    # Do not send VRRP adverts over VRRP multicast group.
    # Instead it sends adverts to the following list of
    # ip addresses using unicast design fashion. It can
    # be cool to use VRRP FSM and features in a networking
    # environement where multicast is not supported !
    # IP Addresses specified can IPv4 as well as IPv6
    unicast_peer {
      &lt;IPADDR&gt;
      ...
    }
</pre>

<pre>
    # Binding interface for lvs syncd
    lvs_sync_daemon_interface eth1
</pre>

<pre>
    # delay for gratuitous ARP after transition to MASTER
    garp_master_delay 10 # secs, default 5
</pre>

<pre>
    # arbitary unique number 0..255
    # used to differentiate multiple instances of vrrpd
    # running on the same NIC (and hence same socket).
    virtual_router_id 51
</pre>

<pre>
    # for electing MASTER, highest priority wins.
    # to be MASTER, make 50 more than other machines.
    priority 100
</pre>

<pre>
    # VRRP Advert interval, secs (use default)
    advert_int 1
    authentication {     # Authentication block
        # PASS||AH
        # PASS - Simple Passwd (suggested)
        # AH - IPSEC (not recommended))
        auth_type PASS
        # Password for accessing vrrpd.
        # should be the same for all machines.
        # Only the first eight (8) characters are used.
        auth_pass 1234
    }
</pre>

<pre>
    #addresses add|del on change to MASTER, to BACKUP.
    #With the same entries on other machines,
    #the opposite transition will be occuring.
    virtual_ipaddress {
        &lt;IPADDR&gt;/&lt;MASK&gt; brd &lt;IPADDR&gt; dev &lt;STRING&gt; scope &lt;SCOPE&gt; label &lt;LABEL&gt;
        192.168.200.17/24 dev eth1
        192.168.200.18/24 dev eth2 label eth2:1
    }
</pre>

<pre>
    #VRRP IP excluded from VRRP
    #optional.
    #For cases with large numbers (eg 200) of IPs
    #on the same interface. To decrease the number
    #of packets sent in adverts, you can exclude
    #most IPs from adverts.
    #The IPs are add|del as for virtual_ipaddress.
    virtual_ipaddress_excluded {
     &lt;IPADDR&gt;/&lt;MASK&gt; brd &lt;IPADDR&gt; dev &lt;STRING&gt; scope &lt;SCOPE&gt;
     &lt;IPADDR&gt;/&lt;MASK&gt; brd &lt;IPADDR&gt; dev &lt;STRING&gt; scope &lt;SCOPE&gt;
        ...
    }
    # routes add|del when changing to MASTER, to BACKUP
    virtual_routes {
        # src &lt;IPADDR&gt; [to] &lt;IPADDR&gt;/&lt;MASK&gt; via|gw &lt;IPADDR&gt; [or &lt;IPADDR&gt;] dev &lt;STRING&gt; scope &lt;SCOPE&gt; tab
        src 192.168.100.1 to 192.168.109.0/24 via 192.168.200.254 dev eth1
        192.168.110.0/24 via 192.168.200.254 dev eth1
        192.168.111.0/24 dev eth2
        192.168.112.0/24 via 192.168.100.254
</pre>
<p>	192.168.113.0/24 via 192.168.200.254 or 192.168.100.254 dev eth1 	blackhole 192.168.114.0/24</p>
<pre>
    }
</pre>

<pre>
    # VRRP will normally preempt a lower priority
    # machine when a higher priority machine comes
    # online.  "nopreempt" allows the lower priority
    # machine to maintain the master role, even when
    # a higher priority machine comes back online.
    # NOTE: For this to work, the initial state of this
    # entry must be BACKUP.
    nopreempt
</pre>

<pre>
    # Seconds after startup until preemption
    # (if not disabled by "nopreempt").
    # Range: 0 (default) to 1,000
    # NOTE: For this to work, the initial state of this
    # entry must be BACKUP.
    preempt_delay 300    # waits 5 minutes
</pre>

<pre>
    # Debug level, not implemented yet.
    debug
</pre>

<pre>
    # notify scripts, alert as above
    notify_master &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
    notify_backup &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
    notify_fault &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
    notify &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
    smtp_alert
</pre>
<p> }</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LVS CONFIGURATION</h2>
        <div class="sectioncontent">
<p>contains subblocks of <strong>Virtual server group(s)</strong> and <strong>Virtual server(s)</strong></p><p>The subblocks contain arguments for <a href="../man8/ipvsadm.8.html"><strong>ipvsadm</strong>(8)</a>.</em> A knowlege of <a href="../man8/ipvsadm.8.html"><strong>ipvsadm</strong>(8)</a></em> will be helpful here.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Virtual server group(s)</h2>
        <div class="sectioncontent">
<p> # optional  # this groups allows a service on a real_server  # to belong to multiple virtual services  # and to be only health checked once.  # Only for very large LVSs.  virtual_server_group &lt;STRING&gt; {</p>
<pre>
        #VIP port
        &lt;IPADDR&gt; &lt;PORT&gt;
        &lt;IPADDR&gt; &lt;PORT&gt;
        ...
        #
        # &lt;IPADDR RANGE&gt; has the form
        # XXX.YYY.ZZZ.WWW-VVV eg 192.168.200.1-10
        # range includes both .1 and .10 address
        &lt;IPADDR RANGE&gt; &lt;PORT&gt;# VIP range VPORT
        &lt;IPADDR RANGE&gt; &lt;PORT&gt;
        ...
        fwmark &lt;INT&gt;  # fwmark
        fwmark &lt;INT&gt;
        ...
</pre>
<p>}</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Virtual server(s)</h2>
        <div class="sectioncontent">
<p>A virtual_server can be a declaration of one of</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>vip vport (IPADDR PORT pair)</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>fwmark &lt;INT&gt;</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>(virtual server) group &lt;STRING&gt;</strong></p>
  </dt>
  <dd>
    
<pre>
    #setup service
    virtual_server IP port |
    virtual_server fwmark int |
    virtual_server group string
    {
    # delay timer for service polling
    delay_loop &lt;INT&gt;
</pre>

<pre>
    # LVS scheduler
    lb_algo rr|wrr|lc|wlc|lblc|sh|dh
    # Enable One-Packet-Scheduling for UDP (-O in ipvsadm)
    ops
    # LVS forwarding method
    lb_kind NAT|DR|TUN
    # LVS persistence timeout, sec
    persistence_timeout &lt;INT&gt;
    # LVS granularity mask (-M in ipvsadm)
    persistence_granularity &lt;NETMASK&gt;
    # Only TCP is implemented
    protocol TCP
    # If VS IP address is not set,
    # suspend healthchecker's activity
    ha_suspend
</pre>

<pre>
    # VirtualHost string for HTTP_GET or SSL_GET
    # eg virtualhost www.firewall.loc
    virtualhost &lt;STRING&gt;
</pre>

<pre>
    # Assume silently all RSs down and healthchecks
    # failed on start. This helps preventing false
    # positive actions on startup. Alpha mode is
    # disabled by default.
    alpha
</pre>

<pre>
    # On daemon shutdown, consider quorum and RS
    # down notifiers for execution, where appropriate.
    # Omega mode is disabled by default.
    omega
</pre>

<pre>
    # Minimum total weight of all live servers in
    # the pool necessary to operate VS with no
    # quality regression. Defaults to 1.
    quorum &lt;INT&gt;
</pre>

<pre>
    # Tolerate this much weight units compared to the
    # nominal quorum, when considering quorum gain
    # or loss. A flap dampener. Defaults to 0.
    hysteresis &lt;INT&gt;
</pre>

<pre>
    # Script to launch when quorum is gained.
    quorum_up &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
</pre>

<pre>
    # Script to launch when quorum is lost.
    quorum_down &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
</pre>

<pre>
    # setup realserver(s)
</pre>

<pre>
    # RS to add when all realservers are down
    sorry_server &lt;IPADDR&gt; &lt;PORT&gt;
    # applies inhibit_on_failure behaviour to the
    # preceding sorry_server directive
    sorry_server_inhibit
</pre>

<pre>
    # one entry for each realserver
    real_server &lt;IPADDR&gt; &lt;PORT&gt;
       {
           # relative weight to use, default: 1
           weight &lt;INT&gt;
           # Set weight to 0
           # when healthchecker detects failure
           inhibit_on_failure
</pre>

<pre>
           # Script to launch when healthchecker
           # considers service as up.
           notify_up &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
           # Script to launch when healthchecker
           # considers service as down.
           notify_down &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
</pre>

<pre>
           # pick one healthchecker
           # HTTP_GET|SSL_GET|TCP_CHECK|SMTP_CHECK|MISC_CHECK
</pre>

<pre>
           # HTTP and SSL healthcheckers
           HTTP_GET|SSL_GET
           {
               # A url to test
               # can have multiple entries here
               url {
                 #eg path / , or path /mrtg2/
                 path &lt;STRING&gt;
                 # healthcheck needs status_code
                 # or status_code and digest
                 # Digest computed with genhash
                 # eg digest 9b3a0c85a887a256d6939da88aabd8cd
                 digest &lt;STRING&gt;
                 # status code returned in the HTTP header
                 # eg status_code 200
                 status_code &lt;INT&gt;
               }
               # number of get retry
               nb_get_retry &lt;INT&gt;
               # delay before retry
               delay_before_retry &lt;INT&gt;
</pre>

<pre>
               # ======== generic connection options
               # Optional IP address to connect to.
               # The default is real server's IP
               connect_ip &lt;IP ADDRESS&gt;
               # Optional port to connect to if not
               # The default is real server's port
               connect_port &lt;PORT&gt;
               # Optional interface to use to
               # originate the connection
               bindto &lt;IP ADDRESS&gt;
               # Optional source port to
               # originate the connection from
               bind_port &lt;PORT&gt;
               # Optional connection timeout in seconds.
               # The default is 5 seconds
               connect_timeout &lt;INTEGER&gt;
               # Optional fwmark to mark all outgoing
               # checker pakets with
               fwmark &lt;INTEGER&gt;
</pre>

<pre>
               # Optional random delay to begin initial check for
               # maximum N seconds.
               # Useful to scatter multiple simultaneous
               # checks to the same RS. Enabled by default, with
               # the maximum at delay_loop. Specify 0 to disable
               warmup &lt;INT&gt;
           } #HTTP_GET|SSL_GET
</pre>

<pre>
           #TCP healthchecker (bind to IP port)
           TCP_CHECK
           {
               # ======== generic connection options
               # Optional IP address to connect to.
               # The default is real server's IP
               connect_ip &lt;IP ADDRESS&gt;
               # Optional port to connect to if not
               # The default is real server's port
               connect_port &lt;PORT&gt;
               # Optional interface to use to
               # originate the connection
               bindto &lt;IP ADDRESS&gt;
               # Optional source port to
               # originate the connection from
               bind_port &lt;PORT&gt;
               # Optional connection timeout in seconds.
               # The default is 5 seconds
               connect_timeout &lt;INTEGER&gt;
               # Optional fwmark to mark all outgoing
               # checker pakets with
               fwmark &lt;INTEGER&gt;
</pre>

<pre>
               # Optional random delay to begin initial check for
               # maximum N seconds.
               # Useful to scatter multiple simultaneous
               # checks to the same RS. Enabled by default, with
               # the maximum at delay_loop. Specify 0 to disable
               warmup &lt;INT&gt;
           } #TCP_CHECK
</pre>

<pre>
           # SMTP healthchecker
           SMTP_CHECK
           {
               # An optional host interface to check.
               # If no host directives are present, only
               # the ip address of the real server will
               # be checked.
               host {
                 # ======== generic connection options
                 # Optional IP address to connect to.
                 # The default is real server's IP
                 connect_ip &lt;IP ADDRESS&gt;
                 # Optional port to connect to if not
                 # the default of 25
                 connect_port &lt;PORT&gt;
                 # Optional interface to use to
                 # originate the connection
                 bindto &lt;IP ADDRESS&gt;
                 # Optional source port to
                 # originate the connection from
                 bind_port &lt;PORT&gt;
                 # Optional per-host connection timeout.
                 # Default is outer-scope connect_timeout
                 connect_timeout &lt;INTEGER&gt;
                 # Optional fwmark to mark all outgoing
                 # checker pakets with
                 fwmark &lt;INTEGER&gt;
              }
              # Connection and read/write timeout
              # in seconds. The default is 5 seconds
              connect_timeout &lt;INTEGER&gt;
              # Number of times to retry a failed check
              retry &lt;INTEGER&gt;
              # Delay in seconds before retrying
              delay_before_retry &lt;INTEGER&gt;
              # Optional string to use for the smtp HELO request
              helo_name &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
</pre>

<pre>
              # Optional random delay to begin initial check for
              # maximum N seconds.
              # Useful to scatter multiple simultaneous
              # checks to the same RS. Enabled by default, with
              # the maximum at delay_loop. Specify 0 to disable
              warmup &lt;INT&gt;
           } #SMTP_CHECK
</pre>

<pre>
           #MISC healthchecker, run a program
           MISC_CHECK
           {
               # External system script or program
               misc_path &lt;STRING&gt;|&lt;QUOTED-STRING&gt;
               # Script execution timeout
               misc_timeout &lt;INT&gt;
</pre>

<pre>
               # Optional random delay to begin initial check for
               # maximum N seconds.
               # Useful to scatter multiple simultaneous
               # checks to the same RS. Enabled by default, with
               # the maximum at delay_loop. Specify 0 to disable
               warmup &lt;INT&gt;
</pre>

<pre>
               # If set, exit code from healthchecker is used
               # to dynamically adjust the weight as follows:
               #   exit status 0: svc check success, weight
               #     unchanged.
               #   exit status 1: svc check failed.
               #   exit status 2-255: svc check success, weight
               #     changed to 2 less than exit status.
               #   (for example: exit status of 255 would set
               #     weight to 253)
               misc_dynamic
           }
       } # realserver defn
    } # virtual service
</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Joseph Mack.</p><p>Information derived from doc/keepalived.conf.SYNOPSIS, doc/samples/keepalived.conf.* and Changelog by Alexandre Cassen for keepalived-1.1.4, and from HOWTOs by Adam Fletcher and Vince Worthington.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO keepalived.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ipvsadm.8.html"><strong>ipvsadm</strong>(8)</a>, ip --help.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="kdump-tools.5.html"><span aria-hidden="true">&larr;</span> kdump-tools.5: Configuration file for the kdump-tools init script</a></li>
   <li class="next"><a href="kernel-img.conf.5.html">kernel-img.conf.5: Site wide configuration file for kernel image packages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
