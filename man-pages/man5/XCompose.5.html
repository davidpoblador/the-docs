<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>XCompose: X client mappings for multi-key input sequences</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="X client mappings for multi-key input sequences">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="XCompose (5) manual">
  <meta name="twitter:description" content="X client mappings for multi-key input sequences">
  <meta name="twitter:image" content="https://www.carta.tech/images/libx11-data-XCompose-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/XCompose.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="XCompose (5) manual" />
  <meta property="og:description" content="X client mappings for multi-key input sequences" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libx11-data-XCompose-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">XCompose<small> (5)</small></h1>
        <p class="lead">X client mappings for multi-key input sequences</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/XCompose.5.html">
      <span itemprop="name">XCompose: X client mappings for multi-key input sequences</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libx11-data/">
      <span itemprop="name">libx11-data</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/XCompose.5.html">
      <span itemprop="name">XCompose: X client mappings for multi-key input sequences</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The X library, libX11, provides a simple input method for characters beyond those represented on typical keyboards using sequences of key strokes that are combined to enter a single character.</p><p>The compose file is searched for in  the following order:</p><ul>
<li><p>If the environment variable <strong>$XCOMPOSEFILE</strong> is set, its value is used as the name of the Compose file.</p></li><li><p>If the user's home directory has a file named <em>.XCompose</em>, it is used as the Compose file.</p></li><li><p>The system provided compose file is used by mapping the locale to a compose file from the list in <em>/usr/share/X11/locale/compose.dir</em>.</p></li>
</ul><p>Compose files can use an \*q<strong>include</strong>\*q instruction.  This allows local modifications to be made to existing compose files without including all of the content directly.  For example, the system's iso8859-1 compose file can be included with a line like this:</p><p><strong>include \*q</strong><em>%S/iso8859-1/Compose</em><strong>\*q</strong></p><p>There are several substitutions that can be made in the file name of the include instruction:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>%H</em></p>
  </dt>
  <dd>
    <p>expands to the user's home directory (the <strong>$HOME</strong> environment variable)</p>
  </dd>
  <dt>
    <p><em>%L</em></p>
  </dt>
  <dd>
    <p>expands to the name of the locale specific Compose file (i.e., \*q<em>/usr/share/X11/locale/&lt;localename&gt;/Compose</em>\*q)</p>
  </dd>
  <dt>
    <p><em>%S</em></p>
  </dt>
  <dd>
    <p>expands to the name of the system directory for Compose files (i.e., \*q<em>/usr/share/X11/locale</em>\*q)</p>
  </dd>

</dl>
<p>For example, you can include in your compose file the default Compose file by using:</p><p><strong>include \*q%L\*q</strong></p><p>and then rewrite only the few rules that you need to change.  New compose rules can be added, and previous ones replaced.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE FORMAT</h2>
        <div class="sectioncontent">
<p>Compose files are plain text files, with a separate line for each compose sequence.   Comments begin with <strong>#</strong> characters.   Each compose sequence specifies one or more events and a resulting input sequence, with an optional comment at the end of the line:</p><p><em>EVENT</em> [<em>EVENT</em>...] <strong>:</strong> <em>RESULT</em> [<strong>#</strong> <em>COMMENT</em>]</p><p>Each event consists of a specified input keysym, and optional modifier states:</p><p>[<em>MODIFIER_LIST</em>] <strong>&lt;</strong><em>keysym</em><strong>&gt;</strong></p><p>Each modifier consists of a specified modifier and a state:</p><p>(<strong>!</strong> <em>MODIFIER</em> ) | <strong>None</strong></p><p>Modifiers may be preceded by a \*q<strong>~</strong>\*q character to indicate that the modifier must not be present.</p><p>The result specifies a string, keysym, or both, that the X client receives as input when the sequence of events is input:</p><p><strong>\*q</strong><em>STRING</em><strong>\*q</strong> | <em>keysym</em> | <strong>\*q</strong><em>STRING</em><strong>\*q</strong> <em>keysym</em></p><p>Keysyms are specified without the <strong>XK_</strong> prefix.</p><p>Strings may be direct text encoded in the locale for which the compose file is to be used, or an escaped octal or hexadecimal character code.   Octal codes are specified as <strong>\*q&#92;123\*q</strong> and hexadecimal codes as <strong>\*q&#92;0x123a\*q</strong>. It is not necessary to specify in the right part of a rule a locale encoded string in addition to the keysym name.  If the string is omitted, Xlib figures it out from the keysym according to the current locale. I.e., if a rule looks like:</p><p><strong>&lt;dead_grave&gt; &lt;A&gt; : \*q&#92;300\*q Agrave</strong></p><p>the result of the composition is always the letter with the "&#92;300" code.  But if the rule is:</p><p><strong>&lt;dead_grave&gt; &lt;A&gt; : Agrave</strong></p><p>the result depends on how Agrave is mapped in the current locale.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>XCOMPOSEFILE</strong></p>
  </dt>
  <dd>
    <p>File to use for compose sequences.</p>
  </dd>
  <dt>
    <p><strong>XCOMPOSECACHE</strong></p>
  </dt>
  <dd>
    <p>Directory to use for caching compiled compose files.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>$HOME/.XCompose</em></p>
  </dt>
  <dd>
    <p>User default compose file if XCOMPOSEFILE is not set.</p>
  </dd>
  <dt>
    <p><em>/usr/share/X11/locale/compose.dir</em></p>
  </dt>
  <dd>
    <p>File listing the compose file path to use for each locale.</p>
  </dd>
  <dt>
    <p><em>/usr/share/X11/locale/&lt;localemapping&gt;/Compose</em></p>
  </dt>
  <dd>
    <p>System default compose file for the locale, mapped via compose.dir.</p>
  </dd>
  <dt>
    <p><em>/var/cache/libx11/compose/</em></p>
  </dt>
  <dd>
    <p>System-wide cache directory for compiled compose files.</p>
  </dd>
  <dt>
    <p><em>$HOME/.compose-cache/</em></p>
  </dt>
  <dd>
    <p>Per-user cache directory for compiled compose files.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO XCompose&hellip;</h2>
        <div class="sectioncontent">
<p><strong>XLookupString</strong>(3), <strong>XmbLookupString</strong>(3), <strong>XwcLookupString</strong>(3), <strong>Xutf8LookupString</strong>(3), <strong>mkcomposecache</strong>(1), <a href="../man7/locale.7.html"><strong>locale</strong>(7)</a>.</p><p><em>\*(xL</em></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="WML.5.html"><span aria-hidden="true">&larr;</span> WML.5: Wml  the widget meta-language file format for creating uil compilers "widget meta-language" "wml"</a></li>
   <li class="next"><a href="Xsession.5.html">Xsession.5: Initialize x session <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
