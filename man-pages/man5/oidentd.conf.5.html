<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>oidentd.conf: The oidentd configuration file.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The oidentd configuration file.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="oidentd.conf (5) manual">
  <meta name="twitter:description" content="The oidentd configuration file.">
  <meta name="twitter:image" content="https://www.carta.tech/images/oidentd-oidentd.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/oidentd.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="oidentd.conf (5) manual" />
  <meta property="og:description" content="The oidentd configuration file." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/oidentd-oidentd.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">oidentd.conf<small> (5)</small></h1>
        <p class="lead">The oidentd configuration file.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/oidentd.conf.5.html">
      <span itemprop="name">oidentd.conf: The oidentd configuration file.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/oidentd/">
      <span itemprop="name">oidentd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/oidentd.conf.5.html">
      <span itemprop="name">oidentd.conf: The oidentd configuration file.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>oidentd</strong> configuration file is used to specify the amount of control users have over the responses <strong>oidentd</strong> returns upon successful lookups for connections owned by them.</p><p>The <strong>$HOME/.oidentd.conf</strong> file allows a user to specify what ident response will be returned for specific connections.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">/etc/oidentd.conf SYNTAX</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>USER DIRECTIVE</strong></p>
  </dt>
  <dd>
    <p>The <strong>oidentd.conf</strong> file consists of 0 or more <em>user</em> directives. The <em>user</em> directive is used to grant capabilities on a per-user basis.</p><p>The <em>user</em> directive has the following syntax:</p>
<pre>
<em>default</em> {
	&lt;<em>range directive</em>&gt;
}

OR

<em>user</em> &lt;username&gt; {
	&lt;<em>range directive</em>&gt;
}
</pre>
<p>The <em>default</em> directive matches all users for whom rules are not defined. There should only be one <em>default</em> directive, and it should be the first statement in the file. All entries for users defined after the default definition will inherit the capabilities of the default user. Capabilities can then be allowed, denied, or forced on a per-user basis by way of the <em>user</em> statement followed by the username of the user to whom the properties that follow will apply.</p>
  </dd>
  <dt>
    <p><strong>RANGE DIRECTIVE</strong></p>
  </dt>
  <dd>
    <p>The body of a <em>user</em> directive consists of 1 or more <em>range</em> directives.</p><p>The <em>range</em> directive is used to specify a host/port range for which a set of capabilities is binding. A range directive consists of 1 or more statements of the following form:</p>
<pre>
default {
	&lt;capability directive&gt;
}

OR

<em>to</em> &lt;host&gt; <em>lport</em> &lt;lport&gt; <em>from</em> &lt;host&gt; <em>fport</em> &lt;fport&gt; {
	&lt;capability directive&gt;
}
</pre>
<p>The <em>default</em> directive matches all host/port pairs for which rules are not defined. There should only be one <em>default</em> directive, and it should be the first statement in the block.</p><p>Anywhere from 1 to all 4 of the <em>to</em>, <em>lport</em>, <em>from</em>, and <em>fport</em> parameters may be specified.</p><p>The <em>to</em> parameter is used to specify the address to which a connection is made.</p><p>The <em>from</em> parameter is used to specify the address from which a connection originates. It may be useful to specify this address when a system has more than 1 IP address.</p><p>The <em>to</em> and <em>from</em> parameters take either an IP address or a hostname argument.</p><p>The <em>lport</em> parameter is used to specify the local port from which a connection originates.</p><p>The <em>fport</em> parameter is used to specify the destination port of a connection.</p><p>The <em>lport</em> and <em>fport</em> parameters take either a port or a port range. Ports can be specified numerically (e.g. 113) or by giving a service name (e.g. "auth"). Ranges of ports take the form &lt;starting port&gt;:&lt;ending port&gt;. The ending port is optional. If the ending port is omitted, the range is taken to be any port greater than or equal to the starting port.</p><p>The omission of any of the <em>to</em>, <em>lport</em>, <em>from</em> and <em>fport</em> parameters acts like a wildcard for that parameter. For example, the statement "from localhost" matches all connections from localhost on any port to any host on any port.</p>
  </dd>
  <dt>
    <p><strong>CAPABILITY DIRECTIVE</strong></p>
  </dt>
  <dd>
    <p>The body of a <em>range</em> directive consists of one or more capability directives.</p><p>Capabilities are used to assign or deny privileges to specific users. Valid capabilities inside user directives are <em>allow</em>, <em>deny</em>, and<em>force</em>.</p><p>The capability directive consists of one or more statements of the form:</p><p><em>allow</em> OR <em>deny</em> OR <em>force</em> &lt;capability&gt;.</p><p>The capability argument must be one of the capabilities described in the <strong>capability</strong> section below.</p><p>The force action takes a third argument when the capability is <em>reply</em>. For example, <em>force reply "randomuser"</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">$HOME/.oidentd.conf SYNTAX</h2>
        <div class="sectioncontent">
<p>A user's .oidentd.conf configuration file may contain 0 or more of the following statements:</p>
<pre>
<em>global</em> {
	&lt;capability&gt;
}

OR

&lt;range directive&gt; {
	&lt;capability&gt;
}
</pre>
<p>The <em>global</em> directive acts as a wildcard, matching all connections, so if used at all, the global directive should be the first entry in the file and should be used only once. Use is permitted anywhere in the file and infinitely many times, however it doesn't make much sense to use it in this manner.</p><p>The range directive has the same syntax and semantics as the range directive in the <strong>/etc/oidentd.conf</strong> file. See above for a description.</p><p>Valid capabilities are <em>reply</em>, <em>random</em>, <em>numeric</em>, <em>random_numeric</em>, and <em>hide</em>. Descriptions can be found below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAPABILITIES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>spoof</strong></p>
  </dt>
  <dd>
    <p>Allow spoofed ident responses; allow the user to specify a string of her choosing as the ident reply. The only restriction on the spoofed response is that it must not be the username of another user. When a user spoofs her ident reply, the login name of the user is recorded along with the forged reply.</p><p>This capability does not apply to the <em>force</em> action.</p>
  </dd>
  <dt>
    <p><strong>spoof_all</strong></p>
  </dt>
  <dd>
    <p>Allow the usernames of other users to be used as ident responses.</p><p>This capability does not apply to the <em>force</em> action.</p>
  </dd>
  <dt>
    <p><strong>spoof_privport</strong></p>
  </dt>
  <dd>
    <p>Allow ident replies to be spoofed on privileged ports (ports lower than 1024).</p><p>This capability does not apply to the <em>force</em> action.</p>
  </dd>
  <dt>
    <p><strong>reply</strong> &lt;string&gt; [&lt;string1&gt; ... &lt;stringN&gt;]</p>
  </dt>
  <dd>
    <p>Reply to successful ident lookups with the ident response specified in &lt;string&gt;. If more than one string parameter is given, one of the strings will be selected randomly.</p><p>In a user's <strong>$HOME/.oidentd.conf</strong> file, up to 20 strings may be specified for a <strong>reply</strong> statement.</p><p>In the <strong>/etc/oidentd.conf</strong> file, there is no limitation on the number of strings that may be specified.</p><p>The strings must be quoted strings (e.g. "string"). Strings may contain the following escape characters:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&#92;n</strong></p>
  </dt>
  <dd>
    <p>new line</p>
  </dd>
  <dt>
    <p><strong>&#92;t</strong></p>
  </dt>
  <dd>
    <p>tab</p>
  </dd>
  <dt>
    <p><strong>&#92;r</strong></p>
  </dt>
  <dd>
    <p>carriage return</p>
  </dd>
  <dt>
    <p><strong>&#92;b</strong></p>
  </dt>
  <dd>
    <p>backspace</p>
  </dd>
  <dt>
    <p><strong>&#92;v</strong></p>
  </dt>
  <dd>
    <p>vertical tab</p>
  </dd>
  <dt>
    <p><strong>&#92;f</strong></p>
  </dt>
  <dd>
    <p>form feed</p>
  </dd>
  <dt>
    <p><strong>&#92;a</strong></p>
  </dt>
  <dd>
    <p>alert (bell)</p>
  </dd>
  <dt>
    <p><strong>&#92;e</strong></p>
  </dt>
  <dd>
    <p>escape</p>
  </dd>
  <dt>
    <p><strong>&#92;&#92;</strong></p>
  </dt>
  <dd>
    <p>backslash</p>
  </dd>
  <dt>
    <p><strong>&#92;</strong><em>NNN</em><strong></strong></p>
  </dt>
  <dd>
    <p>The character with the ASCII code <em>NNN</em> in the octal base system.</p>
  </dd>
  <dt>
    <p><strong>&#92;x</strong><em>NNN</em><strong></strong></p>
  </dt>
  <dd>
    <p>The character with the ASCII code <em>NNN</em> in the hexadecimal base system.</p>
  </dd>

</dl>
<p>\tThis capability only applies to the <em>force</em> action.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>hide</strong></p>
  </dt>
  <dd>
    <p>Hide the user; report a "HIDDEN-USER" error when an ident lookup succeeds.</p>
  </dd>
  <dt>
    <p><strong>random</strong></p>
  </dt>
  <dd>
    <p>Reply to successful ident lookups with a randomly generated ident response of consisting of alphanumeric characters.</p>
  </dd>
  <dt>
    <p><strong>numeric</strong></p>
  </dt>
  <dd>
    <p>Reply to successful ident lookups with the UID of the user that was looked up.</p>
  </dd>
  <dt>
    <p><strong>random_numeric</strong></p>
  </dt>
  <dd>
    <p>Reply to successful with a randomly generated ident response of the form userN, where N is a random number between 0 and 100000.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE /etc/oidentd.conf FILE</h2>
        <div class="sectioncontent">

<pre>
default {
	default {
		deny spoof
		deny spoof_all
		deny spoof_privport
		allow random_numeric
		allow numeric
		allow hide
	}
}
</pre>
<p>Grant all users the ability to generate random numeric ident replies, the ability to generate numeric ident replies and the ability to hide their identities on all ident queries. Explicitly deny the ability to spoof ident responses.</p>
<pre>
user root {
	default {
		force reply "UNKNOWN"
	}
}
</pre>
<p>Reply with "UNKNOWN" for all successful ident queries for root.</p>
<pre>
user ryan {
	default {
		allow spoof
		allow spoof_all
		allow random
		allow hide
	}

	from 127.0.0.1 {
		allow spoof_privport
	}
}
</pre>
<p>Grant the user "ryan" the capability to spoof ident replies, including the ability to use other usernames as ident replies, generate random replies and hide his ident for all connections, and grant the user "ryan" the capability to spoof ident replies to privileged ports (&lt; 1024) on connections originating from the host 127.0.0.1.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE $HOME/.oidentd.conf FILE</h2>
        <div class="sectioncontent">

<pre>
global {
	reply "unknown"
}
</pre>
<p>Reply with "unknown" to all successful ident lookups.</p>
<pre>
to irc.example.org {
	reply "example"
}
</pre>
<p>Reply with "example" to ident lookups for connections to irc.example.org.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ryan McCabe &lt;ryan@numb.org&gt;</p><p>http://dev.ojnk.net</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO oidentd.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/oidentd.8.html"><strong>oidentd</strong>(8)</a> <a href="../man5/oidentd_masq.conf.5.html"><strong>oidentd_masq.conf</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ods-timing.5.html"><span aria-hidden="true">&larr;</span> ods-timing.5: Opendnssec timing specification</a></li>
   <li class="next"><a href="oidentd_masq.conf.5.html">oidentd_masq.conf.5: Oidentd ip masquerading/nat configuration file. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
