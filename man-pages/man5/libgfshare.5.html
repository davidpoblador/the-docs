<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libgfshare: Shamir secret sharing</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shamir secret sharing">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libgfshare (5) manual">
  <meta name="twitter:description" content="Shamir secret sharing">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgfshare-dev-libgfshare-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/libgfshare.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libgfshare (5) manual" />
  <meta property="og:description" content="Shamir secret sharing" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgfshare-dev-libgfshare-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libgfshare<small> (5)</small></h1>
        <p class="lead">Shamir secret sharing</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/libgfshare.5.html">
      <span itemprop="name">libgfshare: Shamir secret sharing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgfshare-dev/">
      <span itemprop="name">libgfshare-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/libgfshare.5.html">
      <span itemprop="name">libgfshare: Shamir secret sharing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>#include &lt;libgfshare.h&gt;</strong>

<strong>gfshare_ctx *gfshare_ctx_init_enc( unsigned char *</strong><em>sharenrs</em><strong>,</strong>

<strong>                                   unsigned int   </strong><em>sharecount</em><strong>,</strong>

<strong>                                   unsigned char  </strong><em>threshold</em><strong>,</strong>

<strong>                                   unsigned int   </strong><em>size</em><strong> );</strong>

<strong>gfshare_ctx *gfshare_ctx_init_dec( unsigned char *</strong><em>sharenrs</em><strong>,</strong>

<strong>                                   unsigned int   </strong><em>sharecount</em><strong>,</strong>

<strong>                                   unsigned int   </strong><em>size</em><strong> );</strong>

<strong>void gfshare_ctx_free( gfshare_ctx *</strong><em>ctx</em><strong> );</strong>

<strong>void gfshare_ctx_enc_setsecret( gfshare_ctx   *</strong><em>ctx</em><strong>,</strong>

<strong>                                unsigned char *</strong><em>secret</em><strong> );</strong>

<strong>void gfshare_ctx_enc_getshare( gfshare_ctx   *</strong><em>ctx</em><strong>,</strong>

<strong>                               unsigned char  </strong><em>sharenr</em><strong>,</strong>

<strong>                               unsigned char *</strong><em>share</em><strong> );</strong>

<strong>void gfshare_ctx_dec_newshares( gfshare_ctx   *</strong><em>ctx</em><strong>,</strong>

<strong>                                unsigned char *</strong><em>sharenrs</em><strong> );</strong>

<strong>void gfshare_ctx_dec_giveshare( gfshare_ctx   *</strong><em>ctx</em><strong>,</strong>

<strong>                                unsigned char  </strong><em>sharenr</em><strong>,</strong>

<strong>                                unsigned char *</strong><em>share</em><strong> );</strong>

<strong>void gfshare_ctx_dec_extract( gfshare_ctx   *</strong><em>ctx</em><strong>,</strong>

<strong>                              unsigned char *</strong><em>secretbuf</em><strong> );</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>gfshare_ctx_init_enc</strong>() function returns a context object which can be used for encoding shares of a secret. The context encodes against <em>sharecount</em> shares which are numbered in the array <em>sharenrs</em>. The secret is always <em>size</em> bytes long and the resultant shares will need at least <em>threshold</em> of the shares present for recombination. It is critical that <em>threshold</em> be at least one lower than <em>sharecount</em>.</p><p>The <strong>gfshare_ctx_init_dec</strong>() function returns a context object which can be used to recombine shares to recover a secret. Each share and the resulting secret will be <em>size</em> bytes long. The context can be used to recombine <em>sharecount</em> shares which are numbered in the <em>sharenrs</em> array.</p><p>The <strong>gfshare_ctx_free</strong>() function frees all the memory associated with a gfshare context including the memory belonging to the context itself.</p><p>The <strong>gfshare_ctx_enc_setsecret</strong>() function provides the secret you wish to encode to the context. The <em>secret</em> will be copied into the internal buffer of the library.</p><p>The <strong>gfshare_ctx_enc_getshare</strong>() function extracts a particular share from the context. The <em>share</em> buffer must be preallocated to the size of the shares and the <em>sharenr</em> parameter is an index into the <em>sharenrs</em> array used to initialise the context</p><p>The <strong>gfshare_ctx_dec_newshares</strong>() function informs the decode context of a change in the share numbers available to the context. The number of shares cannot be changed but the <em>sharenrs</em> can be zero to indicate that a particular share is missing currently.</p><p>The <strong>gfshare_ctx_dec_giveshare</strong>() function provides the decode context with a given share. The share number itself was previously provided in a <em>sharenrs</em> array and the <em>sharenr</em> parameter is the index into that array of the number of the share being provided in the <em>share</em> memory block.</p><p>The <strong>gfshare_ctx_dec_extract</strong>() function combines the provided shares to recalculate the secret. It is recommended that you <strong>mlock()</strong> the <em>secretbuf</em> before calling this function, so that the recombined secret will never be written to swap. This may help to prevent a malicious party discovering the content of your secret. You should also randomise the content of the buffer once you are finished using the recombined secret.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>Any function which can fail for any reason will return NULL on error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Daniel Silverstone.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs against the libgfshare product on www.launchpad.net.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2006 Daniel Silverstone.</p><p>This is free software. You may redistribute copies of it under the terms of the MIT licence (the COPYRIGHT file in the source distribution). There is NO WARRANTY, to the extent permitted by law.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO libgfshare&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/gfsplit.1.html"><strong>gfsplit</strong>(1)</a>, <a href="../man1/gfcombine.1.html"><strong>gfcombine</strong>(1)</a>, <a href="../man7/gfshare.7.html"><strong>gfshare</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libforms1.5.html"><span aria-hidden="true">&larr;</span> libforms1.5: A gui toolkit for x window systems</a></li>
   <li class="next"><a href="libipmiconsole.conf.5.html">libipmiconsole.conf.5: Specify default values for libipmiconsole <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
