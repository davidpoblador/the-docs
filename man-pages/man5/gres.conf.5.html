<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gres.conf: Slurm configuration file for generic resource management.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Slurm configuration file for generic resource management.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gres.conf (5) manual">
  <meta name="twitter:description" content="Slurm configuration file for generic resource management.">
  <meta name="twitter:image" content="https://www.carta.tech/images/slurm-client-gres.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/gres.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gres.conf (5) manual" />
  <meta property="og:description" content="Slurm configuration file for generic resource management." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/slurm-client-gres.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gres.conf<small> (5)</small></h1>
        <p class="lead">Slurm configuration file for generic resource management.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/gres.conf.5.html">
      <span itemprop="name">gres.conf: Slurm configuration file for generic resource management.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/slurm-client/">
      <span itemprop="name">slurm-client</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/gres.conf.5.html">
      <span itemprop="name">gres.conf: Slurm configuration file for generic resource management.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>gres.conf</strong> is an ASCII file which describes the configuration of generic resources on each compute node. Each node must contain a gres.conf file if generic resources are to be scheduled by SLURM. The file location can be modified at system build time using the DEFAULT_SLURM_CONF parameter or at execution time by setting the SLURM_CONF environment variable. The file will always be located in the same directory as the <strong>slurm.conf</strong> file. If generic resource counts are set by the gres plugin function node_config_load(), this file may be optional.</p><p>Parameter names are case insensitive. Any text following a "#" in the configuration file is treated as a comment through the end of that line. Changes to the configuration file take effect upon restart of SLURM daemons, daemon receipt of the SIGHUP signal, or execution of the command "scontrol reconfigure" unless otherwise noted.</p><p>The overall configuration parameters available include:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Count</strong></p>
  </dt>
  <dd>
    <p>Number of resources of this type available on this node. The default value is set to the number of <strong>File</strong> values specified (if any), otherwise the default value is one. A suffix of "K", "M" or "G" may be used to multiply the number by 1024, 1048576 or 1073741824 respectively. Note that Count is a 32-bit field and the maximum value is 4,294,967,295.</p>
  </dd>
  <dt>
    <p><strong>CPUs</strong></p>
  </dt>
  <dd>
    <p>Specify the CPU index numbers for the specific CPUs which can use this resource. For example, it may be strongly preferable to use specific CPUs with specific devices (e.g. on a NUMA architecture). Multiple CPUs may be specified using a comma delimited list or a range may be specified using a "-" separator (e.g. "0,1,2,3" or "0-3"). If specified, then only the identified CPUs can be allocated with each generic resource; an attempt to use other CPUs will not be honored. If not specified, then any CPU can be used with the resources. If any CPU can be effectively used with the resources, then do not specify the <strong>CPUs</strong> option for improved speed in the SLURM scheduling logic.</p><p>Since SLURM must be able to perform resource management on heterogeneous clusters having various CPU ID numbering schemes, use the SLURM CPU index numbers here (CPU_ID = Board_ID x threads_per_board + Socket_ID x threads_per_socket + Core_ID x threads_per_core + Thread_ID).</p>
  </dd>
  <dt>
    <p><strong>File</strong></p>
  </dt>
  <dd>
    <p>Fully qualified pathname of the device files associated with a resource. The file name parsing logic does not include any support for regular expressions. Each file must be explicitly named, one per line. This field is generally required if enforcement of generic resource allocations is to be supported (i.e. prevents a users from making use of resources allocated to a different user). If <strong>File</strong> is specified then <strong>Count</strong> must be either set to the number of file names specified or not set (the default value is the number of files specified). Slurm must track the utilization of each individual device If device file names are specified, which involves more overhead than just tracking the device counts. Use the <strong>File</strong> parameter only if the <strong>Count</strong> is not sufficient for tracking purposes. NOTE: If you specify the <strong>File</strong> parameter for a resource on some node, the option must be specified on all nodes and SLURM will track the assignment of each specific resource on each node. Otherwise SLURM will only track a count of allocated resources rather than the state of each individual device file.</p>
  </dd>
  <dt>
    <p><strong>Name</strong></p>
  </dt>
  <dd>
    <p>Name of the generic resource. Any desired name may be used. Each generic resource has an optional plugin which can provide resource-specific options. Generic resources that currently include an optional plugin are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>gpu</strong></p>
  </dt>
  <dd>
    <p>Graphics Processing Unit</p>
  </dd>
  <dt>
    <p><strong>nic</strong></p>
  </dt>
  <dd>
    <p>Network Interface Card</p>
  </dd>
  <dt>
    <p><strong>mic</strong></p>
  </dt>
  <dd>
    <p>Intel Many Integrated Core (MIC) processor</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>NodeName</strong></p>
  </dt>
  <dd>
    <p>An optional NodeName specification can be used to permit one gres.conf file to be used for all compute nodes in a cluster by specifying the node(s) that each line should apply to. The NodeName specification can use a Slurm hostlist specification as shown in the example below.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>##################################################################</p><p># SLURM's Generic Resource (GRES) configuration file</p><p>##################################################################</p><p># Configure support for our four GPUs</p><p>Name=gpu File=/dev/nvidia0 CPUs=0,1</p><p>Name=gpu File=/dev/nvidia1 CPUs=0,1</p><p>Name=gpu File=/dev/nvidia2 CPUs=2,3</p><p>Name=gpu File=/dev/nvidia3 CPUs=2,3</p><p>Name=bandwidth Count=20M</p><p>##################################################################</p><p># SLURM's Generic Resource (GRES) configuration file</p><p># Use a single gres.conf file for all compute nodes</p><p>##################################################################</p><p>NodeName=tux[0-15]  Name=gpu File=/dev/nvidia[0-3]</p><p>NodeName=tux[16-31] Name=gpu File=/dev/nvidia[0-7]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2010 The Regents of the University of California. Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).</p><p>Copyright (C) 2010-2013 SchedMD LLC.</p><p>This file is part of SLURM, a resource management program. For details, see &lt;http://slurm.schedmd.com/&gt;.</p><p>SLURM is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>SLURM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gres.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/slurm.conf.5.html"><strong>slurm.conf</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="graphs.cfg.5.html"><span aria-hidden="true">&larr;</span> graphs.cfg.5: Configuration of the showgraph cgi</a></li>
   <li class="next"><a href="greylist.conf.5.html">greylist.conf.5: Milter-greylist configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
