<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>opendmarc.conf: Configuration file for opendmarc</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for opendmarc">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="opendmarc.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for opendmarc">
  <meta name="twitter:image" content="https://www.carta.tech/images/opendmarc-opendmarc.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/opendmarc.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="opendmarc.conf (5) manual" />
  <meta property="og:description" content="Configuration file for opendmarc" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/opendmarc-opendmarc.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">opendmarc.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for opendmarc</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/opendmarc.conf.5.html">
      <span itemprop="name">opendmarc.conf: Configuration file for opendmarc</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/opendmarc/">
      <span itemprop="name">opendmarc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/opendmarc.conf.5.html">
      <span itemprop="name">opendmarc.conf: Configuration file for opendmarc</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">LOCATION</h2>
        <div class="sectioncontent">
<p><em>/etc/opendmarc.conf</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><a href="../man8/opendmarc.8.html"><strong>opendmarc</strong>(8)</a></em> implements the proposed <strong>DMARC</strong> specification for message authentication, policy enforcement, and reporting. This file is its configuration file.</p><p>Blank lines are ignored.  Lines containing a hash ("#") character are truncated at the hash character to allow for comments in the file.</p><p>Other content should be the name of a parameter, followed by white space, followed by the value of that parameter, each on a separate line.</p><p>For parameters that are Boolean in nature, only the first byte of the value is processed.  For positive values, the following are accepted: "T", "t", "Y", "y", "1".  For negative values, the following are accepted: "F", "f", "N", "n", "0".</p><p>Some, but not all, of these parameters are also available as command line options to <a href="../man8/opendmarc.8.html"><strong>opendmarc</strong>(8)</a>.</em> However, new parameters are generally not added as command line options so the complete set of options is available here, and thus use of the configuration file is encouraged.  In some future release, the set of available command line options is likely to get trimmed.</p><p>See the <a href="../man8/opendmarc.8.html"><strong>opendmarc</strong>(8)</a></em> man page for details about how and when the configuration file contents are reloaded.</p><p>Unless otherwise stated, Boolean values default to "false", integer values default to 0, and string and dataset values default to being undefined.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>AuthservID (string)</em></p>
  </dt>
  <dd>
    <p>Sets the "authserv-id" to use when generating the Authentication-Results: header field after verifying a message.  The default is to use the name of the MTA processing the message.  If the string "HOSTNAME" is provided, the name of the host running the filter (as returned by the <strong>gethostname</strong>(3)</em> function) will be used.</p>
  </dd>
  <dt>
    <p><em>AuthservIDWithJobID (Boolean)</em></p>
  </dt>
  <dd>
    <p>If "true", requests that the authserv-id portion of the added Authentication-Results: header fields contain the job ID of the message being evaluated.</p>
  </dd>
  <dt>
    <p><em>AutoRestart (Boolean)</em></p>
  </dt>
  <dd>
    <p>Automatically re-start on failures.  Use with caution; if the filter fails instantly after it starts, this can cause a tight <a href="../man2/fork.2.html"><strong>fork</strong>(2)</a></em> loop.</p>
  </dd>
  <dt>
    <p><em>AutoRestartCount (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the maximum automatic restart count.  After this number of automatic restarts, the filter will give up and terminate. A value of 0 implies no limit; this is the default.</p>
  </dd>
  <dt>
    <p><em>AutoRestartRate (string)</em></p>
  </dt>
  <dd>
    <p>Sets the maximum automatic restart rate.  If the filter begins restarting faster than the rate defined here, it will give up and terminate. This is a string of the form <em>n/t[u]</em> where <em>n</em> is an integer limiting the count of restarts in the given interval and <em>t[u]</em> defines the time interval through which the rate is calculated; <em>t</em> is an integer and <em>u</em> defines the units thus represented ("s" or "S" for seconds, the default; "m" or "M" for minutes; "h" or "H" for hours; "d" or "D" for days).  For example, a value of "10/1h" limits the restarts to 10 in one hour.  There is no default, meaning restart rate is not limited.</p>
  </dd>
  <dt>
    <p><em>Background (Boolean)</em></p>
  </dt>
  <dd>
    <p>Causes <em>opendmarc</em> to fork and exits immediately, leaving the service running in the background. The default is "true".</p>
  </dd>
  <dt>
    <p><em>BaseDirectory (string)</em></p>
  </dt>
  <dd>
    <p>If set, instructs the filter to change to the specified directory using <a href="../man2/chdir.2.html"><strong>chdir</strong>(2)</a></em> before doing anything else.  This means any files referenced elsewhere in the configuration file can be specified relative to this directory. It's also useful for arranging that any crash dumps will be saved to a specific location.</p>
  </dd>
  <dt>
    <p><em>ChangeRootDirectory (string)</em></p>
  </dt>
  <dd>
    <p>Requests that the operating system change the effective root directory of the process to the one specified here prior to beginning execution. <strong>chroot (2)</strong> requires superuser access. A warning will be generated if <em>UserID</em> is not also set.</p>
  </dd>
  <dt>
    <p><em>CopyFailuresTo (string)</em></p>
  </dt>
  <dd>
    <p>Adds the specified recipient to the message's envelope if it fails the DMARC evaluation.</p>
  </dd>
  <dt>
    <p><em>DNSTimeout (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the DNS timeout in seconds.  A value of 0 causes an infinite wait. The default is 5.  Ignored if not using an asynchronous resolver package.</p>
  </dd>
  <dt>
    <p><em>EnableCoredumps (Boolean)</em></p>
  </dt>
  <dd>
    <p>On systems that have such support, make an explicit request to the kernel to dump cores when the filter crashes for some reason.  Some modern UNIX systems suppress core dumps during crashes for security reasons if the user ID has changed during the lifetime of the process.  Currently only supported on Linux.</p>
  </dd>
  <dt>
    <p><em>FailureReports (Boolean)</em></p>
  </dt>
  <dd>
    <p>Enables generation of failure reports when the DMARC test fails and the purported sender of the message has requested such reports.  Reports are formatted per RFC6591.</p>
  </dd>
  <dt>
    <p><em>FailureReportsBcc (string)</em></p>
  </dt>
  <dd>
    <p>When failure reports are enabled and one is to be generated, always send one to the address(es) specified here.  If a failure report is requested by the domain owner, the address(es) are added in a Bcc: field.  If no request is made, they address(es) are used in a To: field.  There is no default.</p>
  </dd>
  <dt>
    <p><em>FailureReportsOnNone (Boolean)</em></p>
  </dt>
  <dd>
    <p>Supplementary to the previous setting, enables generation of failure reports for sending domains that publish a "none" policy.</p>
  </dd>
  <dt>
    <p><em>FailureReportsSentBy (string)</em></p>
  </dt>
  <dd>
    <p>Sets the value of the From: field to be used when sending failure reports (see above).  The default is to use the userid of the user executing the filter and the local host name to construct an email address.</p>
  </dd>
  <dt>
    <p><em>HistoryFile (string)</em></p>
  </dt>
  <dd>
    <p>If set, specifies the location of a text file to which records are written that can be used to generate DMARC aggregate reports.  Records are batches of rows containing information about a single received message, and include all relevant information needed to generate a DMARC aggregate report.  It is expected that this will not be used in its raw form, but rather periodically imported into a relational database from which the aggregate reports can be extracted.</p>
  </dd>
  <dt>
    <p><em>IgnoreAuthenticatedClients (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, causes mail from authenticated clients (i.e., those that used SMTP AUTH) to be ignored by the filter.  The default is "false".</p>
  </dd>
  <dt>
    <p><em>IgnoreHosts (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the path to a file that contains a list of hostnames, IP addresses, and/or CIDR expressions identifying hosts whose SMTP connections are to be ignored by the filter.  If not specified, defaults to "127.0.0.1" only.</p>
  </dd>
  <dt>
    <p><em>IgnoreMailFrom (string)</em></p>
  </dt>
  <dd>
    <p>Gives a list of domain names whose mail (based on the From: domain) is to be ignored by the filter.  The list should be comma-separated.  Matching against this list is case-insensitive.  The default is an empty list, meaning no mail is ignored.</p>
  </dd>
  <dt>
    <p><em>MilterDebug (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the debug level to be requested from the milter library.  The default is 0.</p>
  </dd>
  <dt>
    <p><em>PidFile (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the path to a file that should be created at process start containing the process ID.</p>
  </dd>
  <dt>
    <p><em>PublicSuffixList (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the path to a file that contains top-level domains (TLDs) that will be used to compute the Organizational Domain for a given domain name, as described in the DMARC specification.  If not provided, the filter will not be able to determine the Organizational Domain and only the presented domain will be evaluated.</p>
  </dd>
  <dt>
    <p><em>RecordAllMessages (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set and <em>HistoryFile</em> is in use, all received messages are recorded to the history file.  If not set (the default), only messages for which the From: domain published a DMARC record will be recorded in the history file.</p>
  </dd>
  <dt>
    <p><em>RejectFailures (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, messages will be rejected if they fail the DMARC evaluation, or temp-failed if evaluation could not be completed.  By default, no message will be rejected or temp-failed regardless of the outcome of the DMARC evaluation of the message.  Instead, an Authentication-Results header field will be added. The default is "false".</p>
  </dd>
  <dt>
    <p><em>ReportCommand (string)</em></p>
  </dt>
  <dd>
    <p>Indicates the shell command to which failure reports should be passed for delivery when <em>FailureReports</em> is enabled.  Defaults to <em>/usr/sbin/sendmail.</em></p>
  </dd>
  <dt>
    <p><em>RequiredHeaders (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, the filter will ensure the header of the message conforms to the basic header field count restrictions laid out in RFC5322, Section 3.6.  Messages failing this test are rejected without further processing.  A From: field from which no domain name could be extracted will also be rejected.</p>
  </dd>
  <dt>
    <p><em>Socket (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the socket that should be established by the filter to receive connections from <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></em> in order to provide service. <em>socketspec</em> is in one of two forms: <em>local:path,</em> which creates a UNIX domain socket at the specified <em>path,</em> or <em>inet:port[@host]</em> or <em>inet6:port[@host]</em> which creates a TCP socket on the specified <em>port</em> for the appropriate protocol family.  If the <em>host</em> is not given as either a hostname or an IP address, the socket will be listening on all interfaces.  This option is mandatory either in the configuration file or on the command line.  If an IP address is used, it must be enclosed in square brackets.</p>
  </dd>
  <dt>
    <p><em>SoftwareHeader (Boolean)</em></p>
  </dt>
  <dd>
    <p>Causes <em>opendmarc</em> to add a "DMARC-Filter" header field indicating the presence of this filter in the path of the message from injection to delivery.  The product's name, version, and the job ID are included in the header field's contents.</p>
  </dd>
  <dt>
    <p><em>SPFIgnoreResults (Boolean)</em></p>
  </dt>
  <dd>
    <p>Causes the filter to ignore any SPF results in the header of the message.  This is useful if you want the filter to perfrom SPF checks itself, or because you don't trust the arriving header.  The default is "false".</p>
  </dd>
  <dt>
    <p><em>SPFSelfValidate (Boolean)</em></p>
  </dt>
  <dd>
    <p>Causes the filter to perform a fallback SPF check itself when it can find no SPF results in the message header.  If SPFIgnoreResults is also set, it never looks for SPF results in headers and always performs the SPF check itself when this is set.  The default is "false".</p>
  </dd>
  <dt>
    <p><em>Syslog (Boolean)</em></p>
  </dt>
  <dd>
    <p>Log via calls to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></em> any interesting activity.</p>
  </dd>
  <dt>
    <p><em>SyslogFacility (string)</em></p>
  </dt>
  <dd>
    <p>Log via calls to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></em> using the named facility.  The facility names are the same as the ones allowed in <strong>syslog.conf</strong>(5).</em> The default is "mail".</p>
  </dd>
  <dt>
    <p><em>TemporaryDirectory (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the directory in which temporary files should be written.  The default is <em>/var/tmp.</em></p>
  </dd>
  <dt>
    <p><em>TrustedAuthservIDs (string)</em></p>
  </dt>
  <dd>
    <p>Provides a list of authserv-ids that are to be used to identify Authentication-Results header fields whose contents are to be assumed as valid input for the DMARC assessment.  To provide a list, separate values by commas. If the string "HOSTNAME" is provided, the name of the host running the filter (as returned by the <strong>gethostname</strong>(3)</em> function) will be used.  Matching against this list is case-insensitive.  The default is to use the value of <em>AuthservID.</em></p>
  </dd>
  <dt>
    <p><em>UMask (integer)</em></p>
  </dt>
  <dd>
    <p>Requests a specific permissions mask to be used for file creation. This only really applies to creation of the socket when <em>Socket</em> specifies a UNIX domain socket, and to the <em>PidFile</em> (if any); temporary files are created by the <a href="../man3/mkstemp.3.html"><strong>mkstemp</strong>(3)</a></em> function that enforces a specific file mode on creation regardless of the process umask.  See <a href="../man2/umask.2.html"><strong>umask</strong>(2)</a></em> for more information.</p>
  </dd>
  <dt>
    <p><em>UserID (string)</em></p>
  </dt>
  <dd>
    <p>Attempts to become the specified userid before starting operations. The value is of the form <em>userid[:group].</em> The process will be assigned all of the groups and primary group ID of the named <em>userid</em> unless an alternate <em>group</em> is specified.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/opendmarc.conf</em></p>
  </dt>
  <dd>
    <p>Default location of this file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This man page covers version 1.3.0 of <em>opendmarc.</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2012-2014, The Trusted Domain Project.  All rights reserved.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO opendmarc.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/opendmarc.8.html"><strong>opendmarc</strong>(8)</a>, <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></em></p><p>RFC4408 - Sender Policy Framework</p><p>RFC5451 - Message Header Field for Indicating Message Authentication Status</p><p>RFC5965 - An Extensible Format for Email Feedback Reports</p><p>RFC6376 - DomainKeys Identified Mail</p><p>RFC6591 - Authentication Failure Reporting Using the Abuse Reporting Format</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="opendkim.conf.5.html"><span aria-hidden="true">&larr;</span> opendkim.conf.5: Configuration file for opendkim</a></li>
   <li class="next"><a href="optimise.5.html">optimise.5: Output data file formats <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
