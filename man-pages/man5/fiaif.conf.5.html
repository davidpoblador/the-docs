<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fiaif.conf: Fiaif global configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Fiaif global configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fiaif.conf (5) manual">
  <meta name="twitter:description" content="Fiaif global configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/fiaif-fiaif.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/fiaif.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fiaif.conf (5) manual" />
  <meta property="og:description" content="Fiaif global configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fiaif-fiaif.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fiaif.conf<small> (5)</small></h1>
        <p class="lead">Fiaif global configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/fiaif.conf.5.html">
      <span itemprop="name">fiaif.conf: Fiaif global configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fiaif/">
      <span itemprop="name">fiaif</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/fiaif.conf.5.html">
      <span itemprop="name">fiaif.conf: Fiaif global configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>fiaif.conf</strong> is the file that declares which zones should be set up in the firewall. A "zone" is a piece of the "IP universe" existing on the other side of a particular interface. A zone is defined in a file listing rules for the handling of IP traffic into, out of, and through the associated interface. The zonefile is described in <strong>zone.conf</strong>(8)<strong>.</strong> General configuration parameters are also declared in this file.</p><p><strong>fiaif.conf</strong> and the zonefiles are <a href="../man1/bash.1.html"><strong>bash</strong>(1)</a> scripts in which the values of variables used in the fiaif program are assigned. Although they are shell scripts, they should contain nothing but assignment statements.</p><p>Parameters in the configuration files are of three forms:</p><p><strong>SIMPLE</strong></p><p>These parameters take only a single value. The value may be a number or a string.</p><p><strong>GROUP</strong></p><p>These parameters are treated as a group, and all members of the group are processed in the same way. There are two parts to these parameters\' names. The first part is the name of the group, and the second part is a mnemonic.</p><p><strong>ARRAY</strong></p><p>Parameter values are declared in an array. Any number of values can be specified by incrementing the array index for each value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFINITIONS</h2>
        <div class="sectioncontent">
<p>bashcommand -&gt; [a shell command line]</p><p>dirpath -&gt; [path to a directory (no trailing \'/\')]</p><p>fname -&gt; [filename with no path]</p><p>modulename -&gt; [the name of an iptables module]</p><p>portspec -&gt; [a port number | a service in /etc/services]</p><p>posint -&gt; [an integer &gt;= 0]</p><p>TOStype -&gt; [a Type-of-service name | a Type-of-service number]</p><p>zonename -&gt; [the zone identifier from a zone file]</p><p>byteint -&gt; 0..255</p><p>cidrmask -&gt; 0..32</p><p>nullstring -&gt; [nothing]</p><p>string -&gt; [char]&lt;string&gt;|&lt;nullstring&gt;</p><p>boolean -&gt; 0|1</p><p>burstspec -&gt; &lt;posint&gt;|&lt;posint&gt;/&lt;timespec&gt;</p><p>IP4addr -&gt; &lt;byteint&gt;.&lt;byteint&gt;.&lt;byteint&gt;.&lt;byteint&gt;</p><p>iptablesprotocol -&gt; [a protocol number | a protocol name from /etc/protocols]</p><p>modulelist -&gt; &lt;nullstring&gt;|&lt;modulename&gt; &lt;modulelist&gt;</p><p>netaddr -&gt; &lt;IP4addr&gt;/&lt;cidrmask&gt;</p><p>netlist -&gt; &lt;nullstring&gt;|&lt;netaddr&gt; &lt;netlist&gt;</p><p>pathlist -&gt; &lt;dirpath&gt;|&lt;dirpath&gt;:&lt;pathlist&gt;</p><p>plist -&gt; &lt;nullstring&gt;|&lt;iptablesprotocol&gt; &lt;plist&gt;</p><p>tablelist -&gt; mangle filter nat</p><p>timespec -&gt; second|minute|hour|day</p><p>TOSportlist -&gt; &lt;nullstring&gt; | any | &lt;TOSportlistOpt&gt;</p><p>TOSportlistOpt -&gt; &lt;portspec&gt; | &lt;portspec&gt;,&lt;TOSportlist&gt;</p><p>ICMPtype -&gt; &lt;ICMP type string&gt;</p><p>zonelist -&gt; &lt;nullstring&gt;|&lt;zonename&gt; &lt;zonelist&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSTANT PARAMETERS</h2>
        <div class="sectioncontent">
<p>The values of these parameters should (almost certainly) not be altered.</p><h3>TABLES</h3>
<p>Syntax: <strong>TABLES=</strong> <em></em> "&lt;tablelist&gt;"</p><p>A list of the packet processing tables in the Linux kernel. As of version 2.4.18, only three tables are available: <strong>mangle</strong>, <strong>filter</strong>, and <strong>nat</strong>.</p>
<h3>RESERVED_NETWORKS</h3>
<p>Syntax: <strong>RESERVED_NETWORKS=</strong> <em></em> "&lt;netlist&gt;"|"&lt;fname&gt;"</p><p>A list of the reserved ipnumbers and masks, or a file containing this list, one &lt;netaddr&gt; per line. See http://www.iana.com for more information.</p>
<h3>PRIVATE_NETWORKS</h3>
<p>Syntax: <strong>PRIVATE_NETWORKS=</strong> <em></em> "&lt;netlist&gt;"|"&lt;fname&gt;"</p><p>A list of the private ipnumbers and masks, or a file containing this list, one &lt;netaddr&gt; per line. See http://www.iana.com and rfc1918 for more information.</p>
<h3>LOOPBACK_NET</h3>
<p>Syntax: <strong>LOOPBACK_NET=</strong> <em></em> "&lt;netaddr&gt;"</p><p>The network of the loopback interface. "127.0.0.1/8" in the distribution.</p>
<h3>BIN_PATH</h3>
<p>Syntax: <strong>BIN_PATH=</strong> <em></em> "&lt;pathlist&gt;"</p><p>The search path for the iptables and tc binaries.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p>The values of these parameters should be altered. They define the firewall deployed by fiaif and customize it for local networks and security policy.</p><h3>DONT_START</h3>
<p>Syntax: <strong>DONT_START=</strong> <em></em> &lt;boolean&gt;</p><p>If set to one, the firewall will not be started. <strong>DONT_START</strong> is set to 1 in the distributed fiaf.conf to prevent the inadvertant deployment of an unconfigured firewall from a download. Set the value to zero or delete the line to enable the firewall.</p>
<h3>CONF_DIR</h3>
<p>Syntax: <strong>CONF_DIR=</strong> <em></em> "&lt;directorypath&gt;/"</p><p>The path to the configuration directory. <strong>CONF_DIR</strong> is set to "/etc/fiaif/" in the distribution.</p>
<h3>SET_PROC_ERRORS</h3>
<p>Syntax: <strong>SET_PROC_ERRORS=</strong> <em></em> &lt;boolean&gt;</p>
<h3>SET_PROC_WARNINGS</h3>
<p>Syntax: <strong>SET_PROC_WARNINGS=</strong> <em></em> &lt;boolean&gt;</p><p>When the command "fiaif test" is issued, a list of errors and warnings are displayed.</p><p>If <strong>SET_PROC_ERRORS</strong> is 1, FIAIF will attempt to correct the errors.</p><p>If <strong>SET_PROC_WARNINGS</strong> is 1, FIAIF will attempt to correct the warnings.</p>
<h3>SAVE_STATE</h3>
<p>Syntax: <strong>SAVE_STATE=</strong> <em>&lt;boolean&gt;</em></p><p>If enabled, FIAIF will save all iptables rules to a file after these have been applied, if no errors were encountered while generating the rules. When FIAIF is started again, this file is used if and only if no modifications have been made to any configuration files. Rules are saved to <strong>/var/lib/fiaif/iptables.</strong></p><p>Enabling this option greatly improves start time of FIAIF, but may cause problems if, for example, the ipnumber of a static interface changes, in which case <strong>/etc/init.d/fiaif</strong> <strong>force-reload</strong> should be used to rebuild ruleset from configuration files.</p>
<h3>ZONES</h3>
<p>Syntax: <strong>ZONES=</strong> <em></em> "&lt;zonelist&gt;"</p><p>A list of the zones to be set up. There must be a zone file in the configuration directory matching each zone named in this list.</p><p>Example:</p><p><strong>ZONES="INT EXT"</strong></p>
<h3>CONF_[XXX]</h3>
<p>Syntax: <strong>CONF_[XXX]=</strong> <em></em> "&lt;fname&gt;"</p><p>A group (CONF) containing the names of the zone files. It should match closly the names listed in the <strong>ZONES</strong> parameter. The zone files must be in the directory specified in <strong>CONF_DIR</strong>.</p><p>Example:</p><p><strong>CONF_INT="zone.internal"</strong></p><p><strong>CONT_EXT="zone.external"</strong></p>
<h3>TEST_FILE</h3>
<p>Syntax: <strong>TEST_FILE=</strong> <em></em> "&lt;dirpath&gt;/&lt;fname&gt;"</p><p>The absolute pathname of the file to which commands are written when fiaif is run with the <strong>\'test\'</strong> option. Set to "/tmp/fiaif.out" in the distribution.</p>
<h3>DEBUG</h3>
<p>Syntax: <strong>DEBUG=</strong> <em></em> &lt;boolean&gt;</p><p>If set to 1, fiaif will not drop any packets, but all rules are still applied, and the results will be in the syslog. Use this as a debugging tool if you are experiencing problems while setting up the zones. Set to zero for fiaif to work normally.</p>
<h3>VERBOSE</h3>
<p>Syntax: <strong>VERBOSE=</strong> <em></em> &lt;boolean&gt;</p><p>Set this variable to 1 to have fiaif log all dropped or redirected packets in the syslog. If no logging is wanted, set it to 0. See LOG_LIMIT and LOG_BURST for details on when logging occurs.</p>
<h3>LOG_PREFIX</h3>
<p>Syntax: <strong>FIAIF_</strong> <em></em> &lt;string&gt;</p><p>Specify the prefix to use when logging packets to system log or though ulogd.</p>
<h3>ENABLE_ULOGD</h3>
<p>Syntax: <strong>ENABLE_ULOGD=</strong> <em></em> &lt;boolean&gt;</p><p>If set to 1 (and the ulogd is running on the system), fiaif logs via a ulogd. If set to 0, fiaif logs through the standard syslog facility.</p>
<h3>LOG_LIMIT</h3>
<p>Syntax: <strong>LOG_LIMIT=</strong> <em></em> &lt;posint&gt;</p>
<h3>LOG_BURST</h3>
<p>Syntax: <strong>LOG_BURST=</strong> <em></em> "&lt;burstspec&gt;"</p><p>Specify how often dropped or rejected packets should be entered into the system log. Tune to avoid spamming of logs.</p><p><strong>LOG_LIMIT</strong> is the maximum  average matching rate. If no &lt;timespec&gt; is provided, \'/second\' is assumed.</p><p><strong>LOG_BURST</strong> is the maximum  initial  number  of packets to match; this number is incrememted by one every time  the  limit specified  above is not reached, up to this number. Note the quotes around <strong>LOG_BURST\'s</strong> value.</p>
<h3>LOG_LEVEL</h3>
<p>Syntax: <strong>LOG_LEVEL=</strong> <em></em> &lt;byteint&gt;</p><p>This specifies the loglevel, for logging to <strong>syslog</strong> or <strong>ulogd.</strong> When using syslog, the number specifies the priority, see <strong>syslog.conf</strong>(5).</strong> If <strong>ENABLE_ULOG</strong> is true, <strong>LOG_LEVEL</strong> number specifies the netlink group (1-32), to which the line to be logged is is sent.</p>
<h3>MODULES</h3>
<p>Syntax: <strong>MODULES=</strong> <em></em> "&lt;modulelist&gt;"</p><p>Specifies iptables modules to be loaded upon starting the firewall. The modules remain loaded as long as the firewall is deployed.</p>
<h3>PRE_SCRIPT[N]</h3>
<p>Syntax: <strong>PRE_SCRIPT[N]=</strong> <em></em> "&lt;bashcommand&gt;"</p>
<h3>POST_SCRIPT[N]</h3>
<p>Syntax: <strong>POST_SCRIPT[N]=</strong> <em></em> "&lt;bashcommand&gt;"</p><p>This pair of array parameters may contain shell commands to be executed before/after fiaif creates the iptables rules. The lines are executed in array-index sequence.</p><p>Three chains per zone exists to support user-defined rules. The chain names are: <strong>USER_INPUT_&lt;ZONE_NAME&gt;</strong> <strong>USER_OUTPUT_&lt;ZONE_NAME&gt;</strong> <strong>USER_FORWARD_&lt;ZONE_NAME&gt;</strong> Where the zone name is the name of the zone. Packets will go though these chains before hitting rules generated by INPUT, OUTPUT and FORWARD rules in the zone configuration files. Remember that only packets in the NEW state will hit these chains, and hence there is no need to test the state of a packet in these chains.</p>
<h3>ALIASES</h3>
<p>Points to a file with IP alias specifications. These aliases are available to all zone configuration files, and can be used in rules where the syntax <strong>[&lt;ip&gt;[/&lt;mask&gt;]=&gt;[&lt;ip&gt;[/&lt;mask&gt;]</strong> is used, as replacement for either side. See IPSET in <strong>zone.conf</strong>(8) for more information.</p>
<h3>TOS_FILE</h3>
<p>Syntax: <strong>TOS_FILE=</strong> <em></em> "&lt;fname&gt;"</p><p>Specify the name of the Type-Of-Service configuration file located in the configuration directory. This file specifies manipulation of the TOS bits in TCP and UDP packets. Traffic control examines these fields to determine into which class a packet should fall.</p><p>The file contains a group (TOS) with values of the form:</p><p><strong>TOS_[XXX]=</strong> <em></em> "&lt;TOS-type&gt; &lt;protocol&gt; &lt;TOSportlist|ICMPtype&gt;"</p><p>Examples:</p><p><strong>TOS_MIN_DLY_UDP=</strong> "Minimize-Delay udp"</p><p><strong>TOS_NORM_SRVC_TCP=</strong> "Normal-Service tcp www,https"</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/fiaif/fiaif.conf</em></p><p>The configuration file for FIAIF</p><p><em>/etc/fiaif/private_networks</em></p><p>A list of private networks as specified by RFC1918</p><p><em>/etc/fiaif/reserved_networks</em></p><p>A list of reserved networks as specified by IANA.</p><p><em>/etc/fiaif/aliases</em></p><p>Specifies IP aliases to be used for all configuration files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Anders Fugmann &lt;anders(at)fugmann.net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO fiaif.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/fiaif.8.html"><strong>fiaif</strong>(8)</a>, <strong>zone.conf</strong>(8)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="feed2imaprc.5.html"><span aria-hidden="true">&larr;</span> feed2imaprc.5: Feed2imap configuration file</a></li>
   <li class="next"><a href="file_contexts.5.html">file_contexts.5: Userspace selinux labeling interface and configuration file format for the file contexts backend <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
