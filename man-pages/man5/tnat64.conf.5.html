<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tnat64.conf: Configuration file for tnat64(8)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for tnat64(8)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tnat64.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for tnat64(8)">
  <meta name="twitter:image" content="https://www.carta.tech/images/tnat64-tnat64.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/tnat64.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tnat64.conf (5) manual" />
  <meta property="og:description" content="Configuration file for tnat64(8)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/tnat64-tnat64.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tnat64.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for tnat64(8)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/tnat64.conf.5.html">
      <span itemprop="name">tnat64.conf: Configuration file for tnat64(8)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/tnat64/">
      <span itemprop="name">tnat64</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/tnat64.conf.5.html">
      <span itemprop="name">tnat64.conf: Configuration file for tnat64(8)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW</h2>
        <div class="sectioncontent">
<p>The configuration for tnat64 can be anything from two lines to hundreds of lines based on the needs at any particular site. The basic idea is to define any networks the machine can access directly via IPv4 and define one or many NAT64 prefixes to be used to access other networks (including a 'default' prefix).</p><p>Local networks are declared using the 'local' keyword in the configuration file. When applications attempt to connect to machines in networks marked as local tnat64 will not attempt to use a NAT64 prefix.</p><p>Obviously if a connection is not to a locally accessible network it will need to be proxied over a NAT64. However, sometimes you may need to use different NAT64 prefixes to access different internal (and external) networks. For this reason the configuration file allows the definition of 'paths' as well as a default NAT64 prefix.</p><p>Paths are declared as blocks in the configuration file. That is, they begin with a 'path {' line in the configuration file and end with a '}' line. Inside this block directives should be used to declare a NAT64 proxy (as documented later in this manual page) and 'subnet' directives should be used to declare networks and even destination ports in those networks that this server should be used to reach. Please note that each path MUST define a NAT64 prefix and contain one or more 'subnet' directives.</p><p>NAT64 prefix declaration directives that are not contained within a 'path' block define the default NAT64 prefix. If tnat64 needs to connect to a machine via a NAT64 (i.e it isn't a network declared as 'local') and no 'path' has declared it can reach that network via a 'subnet' directive, this NAT64 prefix is used to construct IPv6 addresses.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION SYNTAX</h2>
        <div class="sectioncontent">
<p>The basic structure of all lines in the configuration file is:</p><p>&lt;directive&gt; = &lt;parameters&gt;</p><p>The exception to this is 'path' blocks which look like:</p><p>path {</p><p>&lt;directive&gt; = &lt;parameters&gt;</p><p>}</p><p>Empty lines are ignored and all input on a line after a '#' character is ignored.</p><h3>DIRECTIVES</h3>
<p>The following directives are used in the tnat64 configuration file:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>nat64_prefix</em></p>
  </dt>
  <dd>
    <p>The prefix of IPv6 address of the NAT64 (e.g. "nat64_prefix = 64:ff9b::"). Only one NAT64 prefix may be specified per path block, or one outside a path block (to define the default NAT64 prefix). The NAT64 prefix is always /96.</p>
  </dd>
  <dt>
    <p><em>local</em></p>
  </dt>
  <dd>
    <p>An IP/subnet pair specifying a network which may be accessed directly without proxying through NAT64 (e.g "local = 10.0.0.0/255.0.0.0").</p>
  </dd>
  <dt>
    <p><em>subnet</em></p>
  </dt>
  <dd>
    <p>This directive is only valid inside a path block. Its parameter is formed as IP[:startport[-endport]]/subnet and it specifies a network (and a range of ports on that network) that can be accessed by through NAT64 specified in this path block. For example, in a path block "subnet = 150.0.0.0:80-1024/255.0.0.0" indicates to tnat64 that the NAT64 prefix specified in the current path block should be used to access any IPs in the range 150.0.0.0 to 150.255.255.255 when the connection request is for ports 80-1024.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UTILITIES</h2>
        <div class="sectioncontent">
<p>tnat64 comes with two utilities that can be useful in creating and verifying the tnat64 configuration file.</p>
<dl class='dl-vertical'>
  <dt>
    <p>tnat64-validateconf</p>
  </dt>
  <dd>
    <p>tnat64-validateconf can be used to verify the configuration file. It checks the format of the file and also the contents for errors. Having read the file it dumps the configuration to the screen in a formatted, readable manner. This can be extremely useful in debugging problems.</p><p>tnat64-validateconf can read a configuration file from a location other than the location specified at compile time with the -f &lt;filename&gt; command line option.</p><p>Normally tnat64-validateconf simply dumps the configuration read to the screen (in a nicely readable format), however it also has a useful 'test' mode. When passed a hostname/ip on the command line like -t &lt;hostname/ip&gt;, tnat64-validateconf determines which of the NAT64 prefixes specified in the configuration file would be used by tnat64 to access the specified host.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tnat64.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/tnat64.8.html"><strong>tnat64</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Andrew O. Shadura (bugzilla@tut.by), Shaun Clowes (delius@progsoc.uts.edu.au)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2011 Andrew O. Shadura</p><p>Original tsocks manual page, copyright 2000 Shaun Clowes</p><p>tnat64 and its documentation may be freely copied under the terms and conditions of version 2 of the GNU General Public License, as published by the Free Software Foundation (Cambridge, Massachusetts, United States of America).</p><p>This documentation is heavily based on the documentation for tsocks, transparent SOCKSification library, whose documentation itself is based on the documentation for logwrites, another shared library interceptor. One line of code from it was used in tnat64 and a lot of the documentation :) logwrites is by adam@yggdrasil.com (Adam J. Richter) and can be had from ftp.yggdrasil.com pub/dist/pkg</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="tmpreaper.conf.5.html"><span aria-hidden="true">&larr;</span> tmpreaper.conf.5: Defines parameters for daily run of tmpreaper</a></li>
   <li class="next"><a href="topology.conf.5.html">topology.conf.5: Slurm configuration file for defining the network topology <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
