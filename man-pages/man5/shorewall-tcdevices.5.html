<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>shorewall-tcdevices: Shorewall traffic shaping devices file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shorewall traffic shaping devices file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="shorewall-tcdevices (5) manual">
  <meta name="twitter:description" content="Shorewall traffic shaping devices file">
  <meta name="twitter:image" content="https://www.carta.tech/images/shorewall-shorewall-tcdevices-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/shorewall-tcdevices.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="shorewall-tcdevices (5) manual" />
  <meta property="og:description" content="Shorewall traffic shaping devices file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/shorewall-shorewall-tcdevices-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">shorewall-tcdevices<small> (5)</small></h1>
        <p class="lead">Shorewall traffic shaping devices file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/shorewall-tcdevices.5.html">
      <span itemprop="name">shorewall-tcdevices: Shorewall traffic shaping devices file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/shorewall/">
      <span itemprop="name">shorewall</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/shorewall-tcdevices.5.html">
      <span itemprop="name">shorewall-tcdevices: Shorewall traffic shaping devices file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/etc/shorewall/tcdevices</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Entries in this file define the bandwidth for interfaces on which you want traffic shaping to be enabled.</p><p>If you do not plan to use traffic shaping for a device, don&apos;t put it in here as it limits the throughput of that device to the limits you set here.</p><p>A note on the <em>bandwidth</em> definitions used in this file:</p><p>don&apos;t use a space between the integer value and the unit: 30kbit is valid while 30 kbit is not.</p><p>you can use one of the following units:</p><p><strong>kbps</strong></p><p>Kilobytes per second.</p><p><strong>mbps</strong></p><p>Megabytes per second.</p><p><strong>kbit</strong></p><p>Kilobits per second.</p><p><strong>mbit</strong></p><p>Megabits per second.</p><p><strong>bps</strong> or <strong>number</strong></p><p>Bytes per second.</p><p>Only whole integers are allowed.</p><p>The columns in the file are as follows (where the column name is followed by a different name in parentheses, the different name is used in the alternate specification syntax).</p><p><strong>INTERFACE</strong> - [<em>number</em>:]<em>interface</em></p><p>Name of <em>interface</em>. Each interface may be listed only once in this file. You may NOT specify the name of an alias (e.g., eth0:0) here; see \m[blue]<strong>http://www.shorewall.net/FAQ.htm#faq18</strong>\m[]\s-2\u[1]\d\s+2</p><p>You may NOT specify wildcards here, e.g. if you have multiple ppp interfaces, you need to put them all in here!</p><p>If the device doesn&apos;t exist, a warning message will be issued during "shorewall [re]start" and "shorewall refresh" and traffic shaping configuration will be skipped for that device.</p><p>Shorewall assigns a sequential interface number to each interface (the first entry in the file is interface 1, the second is interface 2 and so on) You can explicitly specify the interface number by prefixing the interface name with the number and a colon (":"). Example: 1:eth0.</p><p><strong>IN-BANDWIDTH (in_bandwidth)</strong> - {-|<em>bandwidth</em>[:<em>burst</em>]|~<em>bandwidth</em>[:<em>interval</em>:<em>decay_interval</em>]}</p><p>The incoming <em>bandwidth</em> of that interface. Please note that you are not able to do traffic shaping on incoming traffic, as the traffic is already received before you could do so. But this allows you to define the maximum traffic allowed for this interface in total, if the rate is exceeded, the packets are dropped. You want this mainly if you have a DSL or Cable connection to avoid queuing at your providers side.</p><p>If you don&apos;t want any traffic to be dropped, set this to a value to zero in which case Shorewall will not create an ingress qdisc.Must be set to zero if the REDIRECTED INTERFACES column is non-empty.</p><p>The optional burst option was added in Shorewall 4.4.18. The default <em>burst</em> is 10kb. A larger <em>burst</em> can help make the <em>bandwidth</em> more accurate; often for fast lines, the enforced rate is well below the specified <em>bandwidth</em>.</p><p>What is described above creates a rate/burst policing filter. Beginning with Shorewall 4.4.25, a rate-estimated policing filter may be configured instead. Rate-estimated filters should be used with Ethernet adapters that have Generic Receive Offload enabled by default. See \m[blue]<strong>Shorewall FAQ 97a</strong>\m[]\s-2\u[2]\d\s+2.</p><p>To create a rate-estimated filter, precede the bandwidth with a tilde ("~"). The optional interval and decay_interval determine how often the rate is estimated and how many samples are retained for estimating. Please see \m[blue]<strong>http://ace-host.stuart.id.au/russell/files/tc/doc/estimators.txt</strong>\m[] for details.</p><p><strong>OUT-BANDWIDTH</strong> (out_bandwidth) - <em>bandwidth</em></p><p>The outgoing <em>bandwidth</em> of that interface. This is the maximum speed your connection can handle. It is also the speed you can refer as "full" if you define the tc classes in \m[blue]<strong>shorewall-tcclasses</strong>\m[]\s-2\u[3]\d\s+2(5). Outgoing traffic above this rate will be dropped.</p><p><strong>OPTIONS</strong> - {<strong>-</strong>|<strong>{classify</strong>|<strong>htb|hfsc</strong>|<strong>linklayer</strong>={<strong>ethernet</strong>|<strong>atm</strong>|<strong>adsl</strong>}|<strong>tsize</strong>=<em>tsize</em>|<strong>mtu</strong>=<em>mtu</em>|<strong>mpu</strong>=<em>mpu</em>|<strong>overhead</strong>=<em>overhead</em>} ,...}</p><p><strong>classify</strong> &ndash; When specified, Shorewall will not generate tc or Netfilter rules to classify traffic based on packet marks. You must do all classification using CLASSIFY rules in \m[blue]<strong>shorewall-mangle</strong>\m[]\s-2\u[4]\d\s+2(5).</p><p><strong>htb</strong> - Use the Hierarchical Token Bucket queuing discipline. This is the default.</p><p><strong>hfsc</strong> - Shorewall normally uses the Hierarchical Token Bucket queuing discipline. When <strong>hfsc</strong> is specified, the Hierarchical Fair Service Curves discipline is used instead (see tc-hfsc (7)).</p><p><strong>linklayer</strong> - Added in Shorewall 4.5.6. Type of link (ethernet, atm, adsl). When specified, causes scheduler packet size manipulation as described in tc-stab (8). When this option is given, the following options may also be given after it: <strong>mtu</strong>=<em>mtu</em> - The device MTU; default 2048 (will be rounded up to a power of two)</p><p><strong>mpu</strong>=<em>mpubytes</em> - Minimum packet size used in calculations. Smaller packets will be rounded up to this size</p><p><strong>tsize</strong>=<em>tablesize</em> - Size table entries; default is 512</p><p><strong>overhead</strong>=<em>overheadbytes</em> - Number of overhead bytes per packet.</p><p><strong>REDIRECTED INTERFACES</strong> (redirect)- [<em>interface</em>[,<em>interface</em>]...]</p><p>May only be specified if the interface in the INTERFACE column is an Intermediate Frame Block (IFB) device. Causes packets that enter each listed interface to be passed through the egress filters defined for this device, thus providing a form of incoming traffic shaping. When this column is non-empty, the <strong>classify</strong> option is assumed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Example 1:</p><p>Suppose you are using PPP over Ethernet (DSL) and ppp0 is the interface for this. The device has an outgoing bandwidth of 500kbit and an incoming bandwidth of 6000kbit</p>
<pre>
        #INTERFACE   IN-BANDWIDTH    OUT-BANDWIDTH         OPTIONS         REDIRECTED
        #                                                                  INTERFACES
        1:ppp0         6000kbit        500kbit
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/shorewall/tcdevices</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO shorewall-tcdevices&hellip;</h2>
        <div class="sectioncontent">
<p>tc-hfsc (7)</p><p>\m[blue]<strong>http://www.shorewall.net/traffic_shaping.htm</strong>\m[]\s-2\u[5]\d\s+2</p><p>\m[blue]<strong>http://www.shorewall.net/configuration_file_basics.htm#Pairs</strong>\m[]\s-2\u[6]\d\s+2</p><p>\m[blue]<strong>http://ace-host.stuart.id.au/russell/files/tc/doc/estimators.txt</strong>\m[]</p><p><strong>shorewall</strong>(8), <a href="../man5/shorewall-accounting.5.html"><strong>shorewall-accounting</strong>(5)</a>, <a href="../man5/shorewall-actions.5.html"><strong>shorewall-actions</strong>(5)</a>, <a href="../man5/shorewall-blacklist.5.html"><strong>shorewall-blacklist</strong>(5)</a>, <a href="../man5/shorewall-hosts.5.html"><strong>shorewall-hosts</strong>(5)</a>, <strong>shorewall_interfaces</strong>(5), <a href="../man5/shorewall-ipsets.5.html"><strong>shorewall-ipsets</strong>(5)</a>, <a href="../man5/shorewall-maclist.5.html"><strong>shorewall-maclist</strong>(5)</a>, <a href="../man5/shorewall-masq.5.html"><strong>shorewall-masq</strong>(5)</a>, <a href="../man5/shorewall-nat.5.html"><strong>shorewall-nat</strong>(5)</a>, <a href="../man5/shorewall-netmap.5.html"><strong>shorewall-netmap</strong>(5)</a>, <a href="../man5/shorewall-params.5.html"><strong>shorewall-params</strong>(5)</a>, <a href="../man5/shorewall-policy.5.html"><strong>shorewall-policy</strong>(5)</a>, <a href="../man5/shorewall-providers.5.html"><strong>shorewall-providers</strong>(5)</a>, <a href="../man5/shorewall-proxyarp.5.html"><strong>shorewall-proxyarp</strong>(5)</a>, <a href="../man5/shorewall-rtrules.5.html"><strong>shorewall-rtrules</strong>(5)</a>, <a href="../man5/shorewall-routestopped.5.html"><strong>shorewall-routestopped</strong>(5)</a>, <a href="../man5/shorewall-rules.5.html"><strong>shorewall-rules</strong>(5)</a>, <strong>shorewall.conf</strong>(5), <a href="../man5/shorewall-secmarks.5.html"><strong>shorewall-secmarks</strong>(5)</a>, <a href="../man5/shorewall-tcclasses.5.html"><strong>shorewall-tcclasses</strong>(5)</a>, <a href="../man5/shorewall-mangle.5.html"><strong>shorewall-mangle</strong>(5)</a>, <a href="../man5/shorewall-tos.5.html"><strong>shorewall-tos</strong>(5)</a>, <a href="../man5/shorewall-tunnels.5.html"><strong>shorewall-tunnels</strong>(5)</a>, <a href="../man5/shorewall-zones.5.html"><strong>shorewall-zones</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>http://www.shorewall.net/FAQ.htm#faq18</p><p>http://www.shorewall.net/FAQ.htm#faq18</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>Shorewall FAQ 97a</p><p>http://www.shorewall.net/FAQ.htm#faq97a</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p>shorewall-tcclasses</p><p>http://www.shorewall.net/manpages/shorewall-tcclasses.html</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p>shorewall-mangle</p><p>http://www.shorewall.net/manpages/shorewall-mangle.html</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p>http://www.shorewall.net/traffic_shaping.htm</p><p>http://www.shorewall.net/traffic_shaping.htm</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p>http://www.shorewall.net/configuration_file_basics.htm#Pairs</p><p>http://www.shorewall.net/configuration_file_basics.htm#Pairs</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shorewall-tcclasses.5.html"><span aria-hidden="true">&larr;</span> shorewall-tcclasses.5: Shorewall file to define htb and hfsc classes</a></li>
   <li class="next"><a href="shorewall-tcfilters.5.html">shorewall-tcfilters.5: Shorewall u32/basic classifier rules file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
