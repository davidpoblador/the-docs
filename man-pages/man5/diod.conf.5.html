<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>diod.conf: Distributed i/o daemon configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distributed i/o daemon configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="diod.conf (5) manual">
  <meta name="twitter:description" content="Distributed i/o daemon configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/diod-diod.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/diod.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="diod.conf (5) manual" />
  <meta property="og:description" content="Distributed i/o daemon configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/diod-diod.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">diod.conf<small> (5)</small></h1>
        <p class="lead">Distributed i/o daemon configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/diod.conf.5.html">
      <span itemprop="name">diod.conf: Distributed i/o daemon configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/diod/">
      <span itemprop="name">diod</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/diod.conf.5.html">
      <span itemprop="name">diod.conf: Distributed i/o daemon configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The diod.conf file is actually a LUA script. Internal config defaults are overridden by settings in the file, and some of those values can in turn be overridden on the command line.</p><p>Config settings take the form of LUA global variables which are read out after the config file is executed.  Therefore, the values of said variables can either be statically assigned or computed. The variables are described below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIG VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>listen = {  IP:PORT  [, IP:PORT ,...] }</em></p>
  </dt>
  <dd>
    <p>List the interfaces and ports that <strong>diod</strong> should listen on. The default is "0.0.0.0:564".</p>
  </dd>
  <dt>
    <p><em>exports = {  /path  [,  /path , ...] }</em></p>
  </dt>
  <dd>
    <p>List the file systems that clients will be allowed to mount. All paths should be fully qualified. The exports table can include two types of element: a string element (as above), or an alternate table element form <em>{ path="/path", opts="ro" }</em>. In the alternate form, the (optional) opts attribute is a comma-separated list of export options, as described below in EXPORT OPTIONS. The two table element forms can be mixed in the exports table. Note that although <strong>diod</strong> will not traverse file system boundaries for a given mount due to inode uniqueness constraints, subdirectories of a file system can be separately exported.</p>
  </dd>
  <dt>
    <p><em>exportall = 1</em></p>
  </dt>
  <dd>
    <p>Export all file systems listed in /proc/mounts. If new file systems are mounted after <strong>diod</strong> has started, they will become immediately mountable. If there is a duplicate entry for a file system in the <em>exports</em> list, any options listed in the exports entry will apply.</p>
  </dd>
  <dt>
    <p><em>exportopts =  opt,opt,... </em></p>
  </dt>
  <dd>
    <p>Establish a default set of export options.  These are overridden, not appended to, by opts attributes in an "exports" entry.</p>
  </dd>
  <dt>
    <p><em>nwthreads = INTEGER</em></p>
  </dt>
  <dd>
    <p>Sets the (fixed) number of worker threads created to handle 9P requests for a unique aname.  The default is 16 per aname.</p>
  </dd>
  <dt>
    <p><em>auth_required = 0</em></p>
  </dt>
  <dd>
    <p>Allow clients to connect without authentication, i.e. without a valid MUNGE credential.</p>
  </dd>
  <dt>
    <p><em>userdb = 0</em></p>
  </dt>
  <dd>
    <p>This option disables password/group lookups. It allows any uid to attach and assumes gid=uid, and supplementary groups contain only the primary gid.</p>
  </dd>
  <dt>
    <p><em>allsquash = 1</em></p>
  </dt>
  <dd>
    <p>Remap all users to "nobody". The attaching user need not be present in the password file.</p>
  </dd>
  <dt>
    <p><em>squashuser = "nobody"</em></p>
  </dt>
  <dd>
    <p>Change the squash user from the default of nobody. The squash user must be present in the password file.</p>
  </dd>
  <dt>
    <p><em>logdest = "DEST"</em></p>
  </dt>
  <dd>
    <p>Set the destination for logging. <em>DEST</em> is in the form of <em>syslog:facility:level</em> or <em>filename</em>. The default is <em>syslog:daemon:err</em>.</p>
  </dd>
  <dt>
    <p><em>statfs_passthru = 1</em></p>
  </dt>
  <dd>
    <p>This option configures statfs to return the host file system's type rather than V9FS_MAGIC. The default is 0 (return V9FS_MAGIC).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPORT OPTIONS</h2>
        <div class="sectioncontent">
<p>The following export options are defined:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>ro</em></p>
  </dt>
  <dd>
    <p>Export the file system read-only.</p>
  </dd>
  <dt>
    <p><em>suppress</em></p>
  </dt>
  <dd>
    <p>Exclude this file system from exports. Useful following <em>exportall = 1</em>.</p>
  </dd>
  <dt>
    <p><em>sharefd</em></p>
  </dt>
  <dd>
    <p>Allow limited server-side file descriptor sharing for files opened O_RDONLY by the same user.</p>
  </dd>
  <dt>
    <p><em>privport</em></p>
  </dt>
  <dd>
    <p>Reject attach request unless client is bound to a port in the privileged port range (512-1023). The <strong>diodcat</strong> utility has a <em>--privport</em> option which, when run as root, binds to a privileged socket before connecting. This provides limited additional security, especially in open networks, as it is vulnerable to IP spoofing attacks.</p>
  </dd>
  <dt>
    <p><em>noauth</em></p>
  </dt>
  <dd>
    <p>Allow attach to succeed without authentication.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
--
-- example diod.conf
--
listen = { "0.0.0.0:10002" }
exports = {
	"/home",
	"/usr/global",
	{ path="ctl", opts="ro,noauth" },
	{ path="/usr/local", opts="ro" },
}
nwthreads = 8
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/diod.conf</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO diod.conf&hellip;</h2>
        <div class="sectioncontent">
<p>lua (1), diod (8), openlog (3)</p><p>http://www.lua.org/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dictionary.5.html"><span aria-hidden="true">&larr;</span> dictionary.5: Radius dictionary file</a></li>
   <li class="next"><a href="dir_colors.5.html">dir_colors.5: Configuration file for dircolors(1) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
