<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>audisp-remote.conf: The audisp-remote configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The audisp-remote configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="audisp-remote.conf (5) manual">
  <meta name="twitter:description" content="The audisp-remote configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/audispd-plugins-audisp-remote.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/audisp-remote.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="audisp-remote.conf (5) manual" />
  <meta property="og:description" content="The audisp-remote configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/audispd-plugins-audisp-remote.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">audisp-remote.conf<small> (5)</small></h1>
        <p class="lead">The audisp-remote configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/audisp-remote.conf.5.html">
      <span itemprop="name">audisp-remote.conf: The audisp-remote configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/audispd-plugins/">
      <span itemprop="name">audispd-plugins</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/audisp-remote.conf.5.html">
      <span itemprop="name">audisp-remote.conf: The audisp-remote configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>audisp-remote.conf</strong> is the file that controls the configuration of the audit remote logging subsystem. The options that are available are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>remote_server</em></p>
  </dt>
  <dd>
    <p>This is a one word character string that is the remote server hostname or address that this plugin will send log information to. This can be the numeric address or a resolvable hostname.</p>
  </dd>
  <dt>
    <p><em>port</em></p>
  </dt>
  <dd>
    <p>This option is an unsigned integer that indicates what port to connect to on the remote machine.</p>
  </dd>
  <dt>
    <p><em>local_port</em></p>
  </dt>
  <dd>
    <p>This option is an unsigned integer that indicates what local port to connect from on the local machine.  If unspecified (the default) or set to the word <em>any</em> then any available unpriviledged port is used. This is a security mechanism to prevent untrusted user space apps from injecting events into the audit daemon. You should set it to an unused port &lt; 1024 to ensure that only privileged users can bind to that port. Then also set the tcp_client_ports in the aggregating auditd.conf file to match the ports that clients are sending from.</p>
  </dd>
  <dt>
    <p><em>transport</em></p>
  </dt>
  <dd>
    <p>This parameter tells the remote logging app how to send events to the remote system. The only valid value right now is <em>tcp</em>. If set to <em>tcp</em>, the remote logging app will just make a normal clear text connection to the remote system. This is not used if kerberos is enabled.</p>
  </dd>
  <dt>
    <p><em>mode</em></p>
  </dt>
  <dd>
    <p>This parameter tells the remote logging app what strategy to use getting records to the remote system. Valid values are <em>immediate</em>, and <em>forward</em> . If set to <em>immediate</em>, the remote logging app will attempt to send events immediately after getting them. <em>forward</em> means that it will store the events to disk and then attempt to send the records. If the connection cannot be made, it will queue records until it can connect to the remote system. The depth of the queue is controlled by the <em>queue_depth</em> option.</p>
  </dd>
  <dt>
    <p><em>queue_file</em></p>
  </dt>
  <dd>
    <p>Path of a file used for the event queue if <em>mode</em> is set to <em>forward</em>.  The default is <strong>/var/spool/audit/remote.log</strong>.</p>
  </dd>
  <dt>
    <p><em>queue_depth</em></p>
  </dt>
  <dd>
    <p>This option is an unsigned integer that determines how many records can be buffered to disk or in memory before considering it to be a failure sending. This parameter affects the <em>forward</em> mode of the <em>mode</em> option and internal queueing for temporary network outtages. The default depth is 2048.</p>
  </dd>
  <dt>
    <p><em>format</em></p>
  </dt>
  <dd>
    <p>This parameter tells the remote logging app what data format will be used for the messages sent over the network.  The default is <em>managed</em> which adds some overhead to ensure each message is properly handled on the remote end, and to receive status messages from the remote server. If <em>ascii</em> is given instead, each message is a simple ASCII text line with no overhead at all.  If <em>mode</em> is set to <em>forward</em>, <em>format</em> must be <em>managed</em>.</p>
  </dd>
  <dt>
    <p><em>network_retry_time</em></p>
  </dt>
  <dd>
    <p>The time, in seconds, between retries when a network error is detected.  Note that this pause applies starting after the second attempt, so as to avoid unneeded delays if a reconnect is sufficient to fix the problem.  The default is 1 second.</p>
  </dd>
  <dt>
    <p><em>max_tries_per_record</em></p>
  </dt>
  <dd>
    <p>The maximum number of times an attempt is made to deliver each message.  The minimum value is one, as even a completely successful delivery requires at least one try.  If too many attempts are made, the network_failure_action action is performed.  The default is 3.</p>
  </dd>
  <dt>
    <p><em>max_time_per_record</em></p>
  </dt>
  <dd>
    <p>The maximum amount of time, in seconds, spent attempting to deliver each message.  Note that both this and <em>max_tries_per_record</em> should be set, as each try may take a long time to time out.  The default value is 5 seconds.  If too much time is used on a message, the network_failure_action action is performed.</p>
  </dd>
  <dt>
    <p><em>heartbeat_timeout</em></p>
  </dt>
  <dd>
    <p>This parameter determines how often in seconds the client should send a heartbeat event to the remote server. This is used to let both the client and server know that each end is alive and has not terminated in a way that it did not shutdown the connection uncleanly. This value must be coordinated with the server's <em>tcp_client_max_idle</em> setting. The default value is 0 which disables sending a heartbeat.</p>
  </dd>
  <dt>
    <p><em>network_failure_action</em></p>
  </dt>
  <dd>
    <p>This parameter tells the system what action to take whenever there is an error detected when sending audit events to the remote system. Valid values are <em>ignore</em>, <em>syslog</em>, <em>exec</em>, <em>suspend</em>, <em>single</em>, <em>halt</em>, and <em>stop</em>. If set to <em>ignore</em>, the remote logging app does nothing. <em>Syslog</em> means that it will issue a warning to syslog.  This is the default. <em>exec</em> /path-to-script will execute the script. You cannot pass parameters to the script. <em>Suspend</em> will cause the remote logging app to stop sending records to the remote system. The logging app will still be alive. The <em>single</em> option will cause the remote logging app to put the computer system in single user mode. The <em>stop</em> option will cause the remote logging app to exit, but leave other plugins running. The <em>halt</em> option will cause the remote logging app to shutdown the computer system.</p>
  </dd>
  <dt>
    <p><em>disk_low_action</em></p>
  </dt>
  <dd>
    <p>Likewise, this parameter tells the system what action to take if the remote end signals a disk low error.  The default is to ignore it.</p>
  </dd>
  <dt>
    <p><em>disk_full_action</em></p>
  </dt>
  <dd>
    <p>Likewise, this parameter tells the system what action to take if the remote end signals a disk full error.  The default is to ignore it.</p>
  </dd>
  <dt>
    <p><em>disk_error_action</em></p>
  </dt>
  <dd>
    <p>Likewise, this parameter tells the system what action to take if the remote end signals a disk error.  The default is to log it to syslog.</p>
  </dd>
  <dt>
    <p><em>remote_ending_action</em></p>
  </dt>
  <dd>
    <p>Likewise, this parameter tells the system what action to take if the remote end signals a disk error. This action has one additional option, <em>reconnect</em> which tells the remote plugin to attempt to reconnect to the server upon receipt of the next audit record. If it is unsuccessful, the audit record could be lost. The default is to reconnect.</p>
  </dd>
  <dt>
    <p><em>generic_error_action</em></p>
  </dt>
  <dd>
    <p>Likewise, this parameter tells the system what action to take if the remote end signals an error we don't recognize.  The default is to log it to syslog.</p>
  </dd>
  <dt>
    <p><em>generic_warning_action</em></p>
  </dt>
  <dd>
    <p>Likewise, this parameter tells the system what action to take if the remote end signals a warning we don't recognize.  The default is to log it to syslog.</p>
  </dd>
  <dt>
    <p><em>queue_error_action</em></p>
  </dt>
  <dd>
    <p>Likewise, this parameter tells the system what action to take if there is a problem working with a local record queue.  The default is to exit.</p>
  </dd>
  <dt>
    <p><em>overflow_action</em></p>
  </dt>
  <dd>
    <p>This parameter tells the system what action to take if the internal event queue overflows. Valid values are <em>ignore</em>, <em>syslog</em>, <em>suspend</em>, <em>single</em>, and <em>halt</em> . If set to <em>ignore</em>, the remote logging app does nothing. <em>Syslog</em> means that it will issue a warning to syslog.  This is the default. <em>Suspend</em> will cause the remote logging app to stop sending records to the remote system. The logging app will still be alive. The <em>single</em> option will cause the remote logging app to put the computer system in single user mode. The <em>halt</em> option will cause the remote logging app to shutdown the computer system.</p>
  </dd>
  <dt>
    <p><em>enable_krb5</em></p>
  </dt>
  <dd>
    <p>If set to "yes", Kerberos 5 will be used for authentication and encryption.  Default is "no".  Note that encryption can only be used with managed connections, not plain ASCII.</p>
  </dd>
  <dt>
    <p><em>krb5_principal</em></p>
  </dt>
  <dd>
    <p>If specified, This is the expected principal for the server.  The client and server will use the specified principal to negotiate the encryption.  The format for the <em>krb5_principal</em> is like somename/hostname, see the auditd.conf man page for details.  If not specified, the krb5_client_name and remote_server values are used.</p>
  </dd>
  <dt>
    <p><em>krb5_client_name</em></p>
  </dt>
  <dd>
    <p>This specifies the name portion of the client's own principal.  If unspecified, the default is "auditd".  The remainder of the principal will consist of the host's fully qualified domain name and the default Kerberos realm, like this: <em>auditd/host14.example.com@EXAMPLE.COM</em> (assuming you gave "auditd" as the krb_client_name).  Note that the client and server must have the same principal name and realm.</p>
  </dd>
  <dt>
    <p><em>krb5_key_file</em></p>
  </dt>
  <dd>
    <p>Location of the key for this client's principal. Note that the key file must be owned by root and mode 0400. The default is <em>/etc/audisp/audisp-remote.key</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Specifying a local port may make it difficult to restart the audit subsystem due to the previous connection being in a TIME_WAIT state, if you're reconnecting to and from the same hosts and ports as before.</p><p>The network failure logic works as follows: The first attempt to deliver normally "just works".  If it doesn't, a second attempt is immediately made, perhaps after reconnecting to the server.  If the second attempt also fails, <em>audispd-remote</em> pauses for the configured time and tries again.  It continues to pause and retry until either too many attempts have been made or the allowed time expires.  Note that these times govern the maximum amount of time the remote server is allowed in order to reboot, if you want to maintain logging across a reboot.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO audisp-remote.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/audispd.8.html"><strong>audispd</strong>(8)</a>, <a href="../man8/audisp-remote.8.html"><strong>audisp-remote</strong>(8)</a>,</strong> <a href="../man5/auditd.conf.5.html"><strong>auditd.conf</strong>(5)</a>.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Steve Grubb</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="audisp-prelude.conf.5.html"><span aria-hidden="true">&larr;</span> audisp-prelude.conf.5: The audisp-prelude configuration file</a></li>
   <li class="next"><a href="audispd.conf.5.html">audispd.conf.5: The audit event dispatcher configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
