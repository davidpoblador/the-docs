<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>systemd.network: Network configuration</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Network configuration">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="systemd.network (5) manual">
  <meta name="twitter:description" content="Network configuration">
  <meta name="twitter:image" content="https://www.carta.tech/images/systemd-systemd.network-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/systemd.network.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="systemd.network (5) manual" />
  <meta property="og:description" content="Network configuration" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/systemd-systemd.network-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">systemd.network<small> (5)</small></h1>
        <p class="lead">Network configuration</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/systemd.network.5.html">
      <span itemprop="name">systemd.network: Network configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/systemd/">
      <span itemprop="name">systemd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/systemd.network.5.html">
      <span itemprop="name">systemd.network: Network configuration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><em>network</em>.network</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Network setup is performed by <a href="../man8/systemd-networkd.8.html"><strong>systemd-networkd</strong>(8)</a>.</p><p>Network files must have the extension .network; other extensions are ignored. Networks are applied to links whenever the links appear.</p><p>The .network files are read from the files located in the system network directory /lib/systemd/network, the volatile runtime network directory /run/systemd/network and the local administration network directory /etc/systemd/network. All configuration files are collectively sorted and processed in lexical order, regardless of the directories in which they live. However, files with identical filenames replace each other. Files in /etc have the highest priority, files in /run take precedence over files with the same name in /lib. This can be used to override a system-supplied configuration file with a local file if needed; a symlink in /etc with the same name as a configuration file in /lib, pointing to /dev/null, disables the configuration file entirely.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">[MATCH] SECTION OPTIONS</h2>
        <div class="sectioncontent">
<p>The network file contains a "[Match]" section, which determines if a given network file may be applied to a given device; and a "[Network]" section specifying how the device should be configured. The first (in lexical order) of the network files that matches a given device is applied.</p><p>A network file is said to match a device if each of the entries in the "[Match]" section matches, or if the section is empty. The following keys are accepted:</p><p><em>MACAddress=</em></p><p>The hardware address.</p><p><em>Path=</em></p><p>The persistent path, as exposed by the udev property "ID_PATH". May contain shell style globs.</p><p><em>Driver=</em></p><p>The driver currently bound to the device, as exposed by the udev property "DRIVER" of its parent device, or if that is not set the driver as exposed by "ethtool -i" of the device itself.</p><p><em>Type=</em></p><p>The device type, as exposed by the udev property "DEVTYPE".</p><p><em>Name=</em></p><p>The device name, as exposed by the udev property "INTERFACE". May contain shell style globs.</p><p><em>Host=</em></p><p>Matches against the hostname or machine ID of the host. See "ConditionHost=" in <strong>systemd.unit</strong>(5) for details.</p><p><em>Virtualization=</em></p><p>Checks whether the system is executed in a virtualized environment and optionally test whether it is a specific implementation. See "ConditionVirtualization=" in <strong>systemd.unit</strong>(5) for details.</p><p><em>KernelCommandLine=</em></p><p>Checks whether a specific kernel command line option is set (or if prefixed with the exclamation mark unset). See "ConditionKernelCommandLine=" in <strong>systemd.unit</strong>(5) for details.</p><p><em>Architecture=</em></p><p>Checks whether the system is running on a specific architecture. See "ConditionArchitecture=" in <strong>systemd.unit</strong>(5) for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">[NETWORK] SECTION OPTIONS</h2>
        <div class="sectioncontent">
<p>The "[Network]" section accepts the following keys:</p><p><em>Description=</em></p><p>A description of the device. This is only used for presentation purposes.</p><p><em>DHCP=</em></p><p>Enables DHCPv4 and/or DHCPv6 support. Accepts "both", "none", "v4" or "v6".</p><p><em>DHCPServer=</em></p><p>A boolean. Enables a basic DHCPv4 server on the device. Mostly useful for handing out leases to container instances.</p><p><em>IPv4LL=</em></p><p>A boolean. When true, enables IPv4 link-local support. If "DHCP=" is also true, acquiring DHCP address will deprecate previously acquired IPv4 link-local address or stop acquiring process if one has not been acquired before.</p><p><em>Address=</em></p><p>A static IPv4 or IPv6 address and its prefix length, separated by a "/" character. Specify this key more than once to configure several addresses. The format of the address must be as described in <a href="../man3/inet_pton.3.html"><strong>inet_pton</strong>(3)</a>. This is a short-hand for an [Address] section only containing an Address key (see below). This option may be specified more than once.</p><p>If the specified address is 0.0.0.0 (for IPv4) or [::] (for IPv6), a new address range of the requested size is automatically allocated from a system-wide pool of unused ranges. The allocated range is checked against all current network interfaces and all known network configuration files to avoid address range conflicts. The default system-wide pool consists of 192.168.0.0/16, 172.16.0.0/12 and 10.0.0.0/8 for IPv4, and fc00::/7 for IPv6. This functionality is useful to manage a large number of dynamically created network interfaces with the same network configuration and automatic address range assignment.</p><p><em>Gateway=</em></p><p>The gateway address, which must be in the format described in <a href="../man3/inet_pton.3.html"><strong>inet_pton</strong>(3)</a>. This is a short-hand for a [Route] section only containing a Gateway key. This option may be specified more than once.</p><p><em>DNS=</em></p><p>A DNS server address, which must be in the format described in <a href="../man3/inet_pton.3.html"><strong>inet_pton</strong>(3)</a>. This option may be specified more than once.</p><p><em>Bridge=</em></p><p>The name of the bridge to add the link to.</p><p><em>Bond=</em></p><p>The name of the bond to add the link to.</p><p><em>VLAN=</em></p><p>The name of a VLAN to create on the link. This option may be specified more than once.</p><p><em>MACVLAN=</em></p><p>The name of a MACVLAN to create on the link. This option may be specified more than once.</p><p><em>VXLAN=</em></p><p>The name of a VXLAN to create on the link. This option may be specified more than once.</p><p><em>Tunnel=</em></p><p>The name of a Tunnel to create on the link. This option may be specified more than once.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">[ADDRESS] SECTION OPTIONS</h2>
        <div class="sectioncontent">
<p>An "[Address]" section accepts the following keys. Specify several "[Address]" sections to configure several addresses.</p><p><em>Address=</em></p><p>As in the "[Network]" section. This key is mandatory.</p><p><em>Broadcast=</em></p><p>The broadcast address, which must be in the format described in <a href="../man3/inet_pton.3.html"><strong>inet_pton</strong>(3)</a>. This key only applies to IPv4 addresses. If it is not given, it is derived from the "Address" key.</p><p><em>Label=</em></p><p>An address label.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">[ROUTE] SECTION OPTIONS</h2>
        <div class="sectioncontent">
<p>The "[Route]" section accepts the following keys. Specify several "[Route]" sections to configure several routes.</p><p><em>Gateway=</em></p><p>As in the "[Network]" section. This key is mandatory.</p><p><em>Destination=</em></p><p>The destination prefix of the route. Possibly followed by a slash and the prefixlength. If ommitted, a full-length host route is assumed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">[DHCP] SECTION OPTIONS</h2>
        <div class="sectioncontent">
<p>The "[DHCP]" section accepts the following keys:</p><p><em>UseDNS=</em></p><p>When true (the default), the DNS servers received from the DHCP server will be used and take precedence over any statically configured ones.</p><p><em>UseMTU=</em></p><p>When true, the interface maximum transmission unit from the DHCP server will be used on the current link. Defaults to false.</p><p><em>SendHostname=</em></p><p>When true (the default), the machine&apos;s hostname will be sent to the DHCP server</p><p><em>UseHostname=</em></p><p>When true (the default), the hostname received from the DHCP server will be used as the transient hostname.</p><p><em>UseRoutes=</em></p><p>When true (the default), the static routes will be requested from the DHCP server and added to the routing table with metric of 1024.</p><p><em>CriticalConnection=</em></p><p>When true, the connection will never be torn down even if the DHCP lease expires. This is contrary to the DHCP specification, but may be the best choice if, say, the root filesystem relies on this connection. Defaults to false.</p><p><em>RequestBroadcast=</em></p><p>Request the server to use broadcast messages before the IP address has been configured. This is necessary for devices that cannot receive RAW packets, or that cannot receive packets at all before an IP address has been configured. On the other hand, this must not be enabled on networks where broadcasts are filtered out.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p><strong>Example&nbsp;1.&nbsp;/etc/systemd/network/50-static.network</strong></p>
<pre>
[Match]
Name=enp2s0

[Network]
Address=192.168.0.15/24
Gateway=192.168.0.1
</pre>
<p><strong>Example&nbsp;2.&nbsp;/etc/systemd/network/80-dhcp.network</strong></p>
<pre>
[Match]
Name=en*

[Network]
DHCP=yes
</pre>
<p><strong>Example&nbsp;3.&nbsp;/etc/systemd/network/bridge-static.network</strong></p>
<pre>
[Match]
Name=bridge0

[Network]
Address=192.168.0.15/24
Gateway=192.168.0.1
DNS=192.168.0.1
</pre>
<p><strong>Example&nbsp;4.&nbsp;/etc/systemd/network/bridge-slave-interface.network</strong></p>
<pre>
[Match]
Name=enp2s0

[Network]
Bridge=bridge0
</pre>
<p><strong>Example&nbsp;5.&nbsp;/etc/systemd/network/ipip.network</strong></p>
<pre>
[Match]
Name=em1

[Network]
Tunnel=ipip-tun
</pre>
<p><strong>Example&nbsp;6.&nbsp;/etc/systemd/network/sit.network</strong></p>
<pre>
[Match]
Name=em1

[Network]
Tunnel=sit-tun
</pre>
<p><strong>Example&nbsp;7.&nbsp;/etc/systemd/network/gre.network</strong></p>
<pre>
[Match]
Name=em1

[Network]
Tunnel=gre-tun
</pre>
<p><strong>Example&nbsp;8.&nbsp;/etc/systemd/network/vti.network</strong></p>
<pre>
[Match]
Name=em1

[Network]
Tunnel=vti-tun
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO systemd.network&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/systemd.1.html"><strong>systemd</strong>(1)</a>, <a href="../man8/systemd-networkd.8.html"><strong>systemd-networkd</strong>(8)</a>, <a href="../man5/systemd.netdev.5.html"><strong>systemd.netdev</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="systemd.netdev.5.html"><span aria-hidden="true">&larr;</span> systemd.netdev.5: Virtual network device configuration</a></li>
   <li class="next"><a href="systemd.path.5.html">systemd.path.5: Path unit configuration <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
