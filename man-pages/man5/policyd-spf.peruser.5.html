<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>policyd-spf.peruser: Pure-python postfix policy daemon for spf checking</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pure-python postfix policy daemon for spf checking">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="policyd-spf.peruser (5) manual">
  <meta name="twitter:description" content="Pure-python postfix policy daemon for spf checking">
  <meta name="twitter:image" content="https://www.carta.tech/images/postfix-policyd-spf-python-policyd-spf.peruser-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/policyd-spf.peruser.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="policyd-spf.peruser (5) manual" />
  <meta property="og:description" content="Pure-python postfix policy daemon for spf checking" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postfix-policyd-spf-python-policyd-spf.peruser-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">policyd-spf.peruser<small> (5)</small></h1>
        <p class="lead">Pure-python postfix policy daemon for spf checking</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/policyd-spf.peruser.5.html">
      <span itemprop="name">policyd-spf.peruser: Pure-python postfix policy daemon for spf checking</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postfix-policyd-spf-python/">
      <span itemprop="name">postfix-policyd-spf-python</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/policyd-spf.peruser.5.html">
      <span itemprop="name">policyd-spf.peruser: Pure-python postfix policy daemon for spf checking</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>1.3</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>Usage:</p>
<pre>
  policyd-spf [/etc/policyd-spf/policyd-spf.conf]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER DOCUMENTATION</h2>
        <div class="sectioncontent">
<p>This documentation assumes you have read Postfix's README_FILES/ SMTPD_POLICY_README and are generally familiar with Sender Policy Framework (SPF).  See RFC 7208 for details.</p><p>man 1 policyd-spf provides general operation documentation for this package.</p><p>See man 5 policyd-spf.conf for configuration file information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>python-policyd-spf operates with a default installed configuration file and set of default configuration options that are used if the configuration file cannot be found.  These options can be changed by changing the installed configuration files or through giving a path to an alternate configuration file.</p><p>Additionally, different configurations can be provided on a per user basis. This man page describes setup and user of per user (mail recipient) configurations.  Currently these configurations can either be stored in a text file or a Berkeley DB (libdb) datase.  If there is sufficient interest, other data storage methods may be supported in the future.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Use of per-user configuration is defined in the application configuration file with the setting "Per_User".  The value of the setting gives the type and location of the per-user configuration information.  Currently supported types are text and bsddb.  User is defined an email address of a recipient of the message.</p><p>All options available at the application level (See man 5 policyd-spf.conf) can be adjusted on a per-user basis.  Per-user checks can only be done as part of smtpd_recipient_restrictions.  Per-user actions are not possible at other stages of the SMTP dialogue.  The user is not yet known for smtpd_client_restrictions, smtpd_helo_restrictions, or smtpd_sender_restrictions.  If used during smtpd_data_restrictions or smtpd_end_of_data_restrictions, the entire message will be available only if the message was only to a single recipient.  If per-user configurations are used when recipient information is not available, warnings will be logged and the per-user information will be ignored.</p><p>In addition to specifying individual users, regular expression matching is also available, but may have performance implications since the entire user table has to be traversed for each message recipient.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Text Per-User Configuration File</h2>
        <div class="sectioncontent">
<p>The text file option is useful for testing and when only a small number of users require per-user configurations.  It is specified in the main configuration file:</p><p>"Per_User = text,/etc/pypolicyd-spf/userconf"</p><p>Lines beginning with "#" are treated as comments and ignored.  The location of the file is determined by the system administrator. No default file is provided in or installed by the package.</p><p>The configuration of the file is a comma separated combination of user and configuration information, with one line per user's configuration information (NOTE: due to man page formating requirements, these lines are wrapped - in the config file, it must be one line per user):</p><p>postmaster@example.com,Mail_From_reject=No_Check|PermError_reject= False|HELO_reject=SPF_Not_Pass|defaultSeedOnly=1|debugLevel=5| skip_addresses=127.0.0.0/8,::ffff:127.0.0.0//104,::1//128|TempError_Defer=False strict@example.com,PermError_rejec=True|HELO_reject=SPF_Not_Pass| TempError_Defer=True</p><p>It is not necessary to specify all configuration parameters for each user, only those that are different than the overall configuration need to be specified.</p><p>If the specified per user configuration file is missing, an error is logged and the global configuration is used instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO policyd-spf.peruser&hellip;</h2>
        <div class="sectioncontent">
<p>man 1 policyd-spf, man 5 policyd-spf.conf, python-spf, &lt;http://www.openspf.org&gt;, RFC 7208</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>This version of <strong>pypolicyd-spf</strong> was written by Copyright © 2007-2011, Scott Kitterman &lt;scott@kitterman.com&gt;.  It is derived from Tumgreyspf, written by Sean Reifschneider, tummy.com, ltd &lt;jafo@tummy.com&gt;.</p><p>This man-page was created by Scott Kitterman &lt;scott@kitterman.com&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="policyd-spf.conf.5.html"><span aria-hidden="true">&larr;</span> policyd-spf.conf.5: Pure-python postfix policy daemon for spf checking</a></li>
   <li class="next"><a href="polish.5.html">polish.5: A list of polish words <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
