<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>libuser.conf: Configuration for libuser and libuser utilities</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration for libuser and libuser utilities">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="libuser.conf (5) manual">
  <meta name="twitter:description" content="Configuration for libuser and libuser utilities">
  <meta name="twitter:image" content="https://www.carta.tech/images/libuser-libuser.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/libuser.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="libuser.conf (5) manual" />
  <meta property="og:description" content="Configuration for libuser and libuser utilities" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libuser-libuser.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">libuser.conf<small> (5)</small></h1>
        <p class="lead">Configuration for libuser and libuser utilities</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/libuser.conf.5.html">
      <span itemprop="name">libuser.conf: Configuration for libuser and libuser utilities</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libuser/">
      <span itemprop="name">libuser</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/libuser.conf.5.html">
      <span itemprop="name">libuser.conf: Configuration for libuser and libuser utilities</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">FILE FORMAT</h2>
        <div class="sectioncontent">
<p><strong>libuser.conf</strong> is a text file. Leading and trailing white space on each line is ignored. Lines starting with <strong>#</strong> are ignored.</p><p>The file defines variables grouped into sections.  Each section starts with a section header:</p><p><strong>[</strong><em>section name</em><strong>]</strong></p><p>A single section header can appear more than once in the file.</p><p>The lines following a section header define variables from that section:</p><p><em>variable</em> <strong>=</strong> <em>value</em></p><p>The <em>value</em> can be empty.</p><p>A <em>variable</em> can have more than one value, specified by using more than one line defining that <em>variable</em>. All currently defined variables accept only the first value and ignore the others, if any.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[defaults]\fR</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>create_modules</strong></p>
  </dt>
  <dd>
    <p>A list of module names to use when creating user or group entries, unless the application specifies a different list. The module names in the list can be separated using space, tab or comma. Default value is <strong>files shadow</strong>.</p>
  </dd>
  <dt>
    <p><strong>crypt_style</strong></p>
  </dt>
  <dd>
    <p>The algorithm to use for password encryption when creating new passwords. The current algorithm may be retained when changing a password of an existing user, depending on the application.</p><p>Possible values are <strong>des</strong>, <strong>md5</strong>, <strong>blowfish</strong>, <strong>sha256</strong> and <strong>sha512</strong>, all case-insensitive. Unrecognized values are treated as <strong>des</strong>. Default value is <strong>des</strong>.</p>
  </dd>
  <dt>
    <p><strong>hash_rounds_min</strong>, <strong>hash_rounds_max</strong></p>
  </dt>
  <dd>
    <p>These variables specify an inclusive range of hash rounds used when <strong>crypt_style</strong> is <strong>sha256</strong> or <strong>sha512</strong>. A number of hash rounds is chosen from this interval randomly. A larger number of rounds makes password checking, and brute-force attempts to guess the password by reversing the hash, more CPU-intensive. The number of rounds is restricted to the interval [1000, 999999999].</p><p>If only one of the above variables is specified, the number of rounds used is specified by the other variable. If neither variable is specified, the number of rounds is chosen by <strong>libc</strong>.</p>
  </dd>
  <dt>
    <p><strong>mailspooldir</strong></p>
  </dt>
  <dd>
    <p>The directory containing user's mail spool files. Default value is <strong>/var/mail</strong>.</p>
  </dd>
  <dt>
    <p><strong>moduledir</strong></p>
  </dt>
  <dd>
    <p>The directory containing <strong>libuser</strong> modules. Default value uses the modules installed with <strong>libuser</strong>, corresponding to the architecture of the <strong>libuser</strong> library, e.g. <strong>/usr/lib/libuser</strong> or <strong>/usr/lib64/libuser</strong> (assuming <strong>libuser</strong> was configured with <strong>--prefix=/usr</strong>).</p>
  </dd>
  <dt>
    <p><strong>modules</strong></p>
  </dt>
  <dd>
    <p>A list of module names to use when not creating user or group entries, unless the application specifies a different list. The module names in the list can be separated using space, tab or comma. Default value is <strong>files shadow</strong>.</p>
  </dd>
  <dt>
    <p><strong>skeleton</strong></p>
  </dt>
  <dd>
    <p>The directory containing files to copy to newly created home directories. Default value is <strong>/etc/skel</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[import]\fR</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>login_defs</strong></p>
  </dt>
  <dd>
    <p>A path to the <em>login.defs</em> file from <strong>shadow</strong>. If this variable is defined, the variables from the named file are used in place of some <strong>libuser</strong> variables. Variables explicitly defined in <em>libuser.conf</em> are not affected by contents of <em>login.defs</em>.</p><p>The following variables are imported:</p><table class="table table-striped">
<tr>
<th>Variable</th></tr>

<tr>
<td>Imported as</td></tr>

<tr>
<td>ENCRYPT_METHOD</td></tr>

<tr>
<td>defaults/crypt_style</td></tr>

<tr>
<td>GID_MIN</td></tr>

<tr>
<td>groupdefaults/LU_GIDNUMBER</td></tr>

<tr>
<td>MAIL_DIR</td></tr>

<tr>
<td>defaults/mailspooldir</td></tr>

<tr>
<td>MD5_CRYPT_ENAB</td></tr>

<tr>
<td>defaults/crypt_style</td></tr>

<tr>
<td>PASS_MAX_DAYS</td></tr>

<tr>
<td>userdefaults/LU_SHADOWMAX</td></tr>

<tr>
<td>PASS_MIN_DAYS</td></tr>

<tr>
<td>userdefaults/LU_SHADOWMIN</td></tr>

<tr>
<td>PASS_WARN_AGE</td></tr>

<tr>
<td>userdefaults/LU_SHADOWWARNING</td></tr>

<tr>
<td>SHA_CRYPT_MIN_ROUNDS</td></tr>

<tr>
<td>defaults/hash_rounds_min</td></tr>

<tr>
<td>SHA_CRYPT_MAX_ROUNDS</td></tr>

<tr>
<td>defaults/hash_rounds_max</td></tr>

<tr>
<td>UID_MIN</td></tr>

<tr>
<td>userdefaults/LU_UIDNUMBER</td></tr>
</table><p>The following variables are <em>not</em> imported: <strong>CREATE_HOME</strong>, <strong>GID_MAX</strong>, <strong>MAIL_FILE</strong>, <strong>SYSLOG_SG_ENAB</strong>, <strong>UID_MAX</strong>, <strong>UMASK</strong>, <strong>USERDEL_CMD</strong>, <strong>USERGROUPS_ENAB</strong></p>
  </dd>
  <dt>
    <p><strong>default_useradd</strong></p>
  </dt>
  <dd>
    <p>A path to the <em>default/useradd</em> file from <strong>useradd</strong> in <strong>shadow</strong>. If this variable is defined, the variables from the named file are used in place of some <strong>libuser</strong> variables. Variables explicitly defined in <em>libuser.conf</em> are not affected by contents of <em>default/useradd</em>.</p><p>The following variables are imported:</p><table class="table table-striped">
<tr>
<th>Variable</th></tr>

<tr>
<td>Imported as</td></tr>

<tr>
<td>EXPIRE</td></tr>

<tr>
<td>userdefaults/LU_SHADOWEXPIRE</td></tr>

<tr>
<td>GROUP</td></tr>

<tr>
<td>userdefaults/LU_GIDNUMBER</td></tr>

<tr>
<td>HOME</td></tr>

<tr>
<td>userdefaults/LU_HOMEDIRECTORY</td></tr>

<tr>
<td>INACTIVE</td></tr>

<tr>
<td>userdefaults/LU_SHADOWINACTIVE</td></tr>

<tr>
<td>SHELL</td></tr>

<tr>
<td>userdefaults/LU_LOGINSHELL</td></tr>

<tr>
<td>SKEL</td></tr>

<tr>
<td>defaults/skeleton</td></tr>
</table><p>The <strong>HOME</strong> variable value has <strong>/%n</strong> appended to it before importing.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[userdefaults]\fR</h2>
        <div class="sectioncontent">
<p>This section defines attribute values of newly created user entities. There is one special variable:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LU_UIDNUMBER</strong></p>
  </dt>
  <dd>
    <p>A decimal number, the first allowed UID value for regular users (not system users). Default value is <strong>500</strong>.</p>
  </dd>

</dl>
<p>All other variables have the same names as the attribute names from <strong>&lt;libuser/entity.h&gt;</strong> and define attribute values. Either the macro name (e.g. <strong>LU_GECOS</strong>) or the macro content (e.g. <strong>pw_gecos</strong>) can be used; if both are used, the one appearing later in the configuration file is used.</p><p>The <strong>%</strong> character in the value of the variable introduces an escape sequence: <strong>%n</strong> is replaced by the user name, <strong>%d</strong> is replaced by current date in days since the epoch, <strong>%u</strong> is replaced by the user's UID. There is no way to escape the <strong>%</strong> character and avoid this substitution.</p><p>After the <strong>userdefaults</strong> section is processed, modules may define additional attributes or even override the attributes defined in this section.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[groupdefaults]\fR</h2>
        <div class="sectioncontent">
<p>The <strong>groupdefaults</strong> section is similar to <strong>userdefaults</strong>. There is one special variable:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LU_GIDNUMBER</strong></p>
  </dt>
  <dd>
    <p>A decimal number, the first allowed GID value for regular groups (not system groups). Default value is <strong>500</strong>.</p>
  </dd>

</dl>
<p>The other variables follow the same rules as in the <strong>userdefaults</strong> section, except that <strong>%n</strong> and <strong>%u</strong> are replaced by the group name and group's GID, respectively.</p><p>After the <strong>groupdefaults</strong> section is processed, modules may define additional attributes or even override the attributes defined in this section.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[files]\fR</h2>
        <div class="sectioncontent">
<p>Configures the <strong>files</strong> module, which manages <em>/etc/group</em> and <em>/etc/passwd</em>. The configuration variables are probably useful only for <strong>libuser</strong> development.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>directory</strong></p>
  </dt>
  <dd>
    <p>The directory containing the <em>group</em> and <em>passwd</em> files. Default value is <strong>/etc</strong>.</p>
  </dd>
  <dt>
    <p><strong>nonroot</strong></p>
  </dt>
  <dd>
    <p>Allow module initialization when not invoked as the <strong>root</strong> user if the value is <strong>yes</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[shadow]\fR</h2>
        <div class="sectioncontent">
<p>Configures the <strong>files</strong> module, which manages <em>/etc/gshadow</em> and <em>/etc/shadow</em>. The configuration variables are probably useful only for <strong>libuser</strong> development.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>directory</strong></p>
  </dt>
  <dd>
    <p>The directory containing the <em>gshadow</em> and <em>shadow</em> files. Default value is <strong>/etc</strong>.</p>
  </dd>
  <dt>
    <p><strong>nonroot</strong></p>
  </dt>
  <dd>
    <p>Allow module initialization when not invoked as the <strong>root</strong> user if the value is <strong>yes</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[ldap]\fR</h2>
        <div class="sectioncontent">
<p>Configures the <strong>ldap</strong> module, which manages an user database accessible using LDAP.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>userBranch</strong></p>
  </dt>
  <dd>
    <p>The LDAP suffix for user entities. Default value is <strong>ou=People</strong>.</p>
  </dd>
  <dt>
    <p><strong>groupBranch</strong></p>
  </dt>
  <dd>
    <p>The LDAP suffix for group entities. Default value is <strong>ou=Group</strong>.</p>
  </dd>
  <dt>
    <p><strong>server</strong></p>
  </dt>
  <dd>
    <p>A domain name or an URI of the LDAP server. The URI can use the <strong>ldap</strong>, <strong>ldapi</strong> or the <strong>ldaps</strong> protocol. When a simple domain name is used, the connection fails if TLS can not be used; an URI using the <strong>ldap</strong> protocol allows connection without TLS. TLS is never used with the <strong>ldapi</strong> protocol. Default value is <strong>ldap</strong>.</p>
  </dd>
  <dt>
    <p><strong>basedn</strong></p>
  </dt>
  <dd>
    <p>The base DN of the server. Default value is <strong>dc=example,dc=com</strong>.</p>
  </dd>
  <dt>
    <p><strong>binddn</strong></p>
  </dt>
  <dd>
    <p>A DN for binding to the server. If the value is empty or binding using this DN fails, a DN of <strong>uid=</strong><em>user</em>,<em>userBranch</em>,<em>basedn</em> is used, where <em>userBranch</em> and <em>basedn</em> are variables from this section and <em>user</em> is the user name of the invoking user, unless overridden by the <strong>user</strong> variable from this section. Default value is <strong>cn=manager,dc=example,dc=com</strong>.</p>
  </dd>
  <dt>
    <p><strong>user</strong></p>
  </dt>
  <dd>
    <p>The SASLv2 identity for authenticating to the LDAP server, also overrides the user name for generating a bind DN. Default value is the name of the invoking user.</p>
  </dd>
  <dt>
    <p><strong>password</strong></p>
  </dt>
  <dd>
    <p>The password used for a simple bind by default.  If not specified, there is no default and the user must supply the password each time.</p><p><strong>IT IS STRONGLY RECOMMENDED NOT TO STORE A PASSWORD IN THE SYSTEM-WIDE</strong> <em>/etc/libuser.conf</em> <strong>FILE.</strong> The configuration file is world-readable by default, and setuid programs that prompt for a server name could be used to send the password to an attacker-controlled server.</p>
  </dd>
  <dt>
    <p><strong>authuser</strong></p>
  </dt>
  <dd>
    <p>The SASLv2 authorization user, if non-empty. Default value is empty.</p>
  </dd>
  <dt>
    <p><strong>bindtype</strong></p>
  </dt>
  <dd>
    <p>The list of bind types to use, separated by commas. Allowed bind types are <strong>simple</strong>, <strong>sasl</strong>, and <strong>sasl/</strong><em>mechanism</em>, where <em>mechanism</em> is a SASL mechanism. The bind types (but not necessarily <em>mechanism</em>) are case-insensitive. If more than one bind type is specified, their relative order is ignored. Default value is <strong>simple,sasl</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">\fB[sasl]\fR</h2>
        <div class="sectioncontent">
<p>Configures the <strong>sasl</strong> module, which manages a SASLv2 user database.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>appname</strong></p>
  </dt>
  <dd>
    <p>Name of the SASLv2 application. Default value is empty.</p>
  </dd>
  <dt>
    <p><strong>domain</strong></p>
  </dt>
  <dd>
    <p>Domain used by libuser for the SASLv2 authentication object. Default value is empty.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Invalid lines in the configuration file (or the imported <strong>shadow</strong> configuration files) are silently ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/libuser.conf</em></p>
  </dt>
  <dd>
    <p>The default location of the configuration file. Can be overridden by the <em>LIBUSER_CONF</em> environment variable, except in set-uid or set-gid programs.</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="libnss-ldap.conf.5.html"><span aria-hidden="true">&larr;</span> libnss-ldap.conf.5: Ldap nameservice provider</a></li>
   <li class="next"><a href="lilo.conf.5.html">lilo.conf.5: Configuration file for lilo <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
