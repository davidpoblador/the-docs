<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>srec_aomf: Intel absolute object module format</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Intel absolute object module format">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="srec_aomf (5) manual">
  <meta name="twitter:description" content="Intel absolute object module format">
  <meta name="twitter:image" content="https://www.carta.tech/images/srecord-srec_aomf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/srec_aomf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="srec_aomf (5) manual" />
  <meta property="og:description" content="Intel absolute object module format" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/srecord-srec_aomf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">srec_aomf<small> (5)</small></h1>
        <p class="lead">Intel absolute object module format</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/srec_aomf.5.html">
      <span itemprop="name">srec_aomf: Intel absolute object module format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/srecord/">
      <span itemprop="name">srecord</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/srec_aomf.5.html">
      <span itemprop="name">srec_aomf: Intel absolute object module format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The Absolute Object Module Format (AOMF) is a subset of the 8051 OMF. The structure of an absolute object file (the order of the records in it) is similar to that of a relocatable object file.  There are three main differences:  the first is that an absolute object file contains one module only, the second is that not all the records can appear in the absolute file and the third is that the records can contain only absolute information.</p><h3>Generic Record Format</h3>
<p>Each record starts with a record type which indicates the type of the record, and record length which contain the number of bytes in the record exclusive of the first two fields. The record ends with a checksum byte which contains the 2s complement of the sum (modulo 256) of all other bytes in the record.  Therefore the sum (modulo 256) of all bytes in the record is zero.</p><p>The record length includes the payload and checksum fields, but excludes the type and length fields.</p><p>All 16\[hy]bit fields are little\[hy]endian.</p><table class="table table-striped">
<tr>
<th>REC        TYP        8 bits   </th>
<th>Record        Length        16 bits   </th>
<th>Payload   </th>
<th>CHK        SUM        8 bits   </th></tr>
</table><p>Here are some of the relevant record types:</p><table class="table table-striped">
<tr>
<th>0x01</th>
<th>Scope Definition Record</th></tr>

<tr>
<td>0x02</td>
<td>Module Start Record</td></tr>

<tr>
<td>0x04</td>
<td>Module End Record</td></tr>

<tr>
<td>0x06</td>
<td>Content Record</td></tr>

<tr>
<td>0x0E</td>
<td>Segment Definition Record</td></tr>

<tr>
<td>0x12</td>
<td>Debug Items Record</td></tr>

<tr>
<td>0x16</td>
<td>Public Definition Record</td></tr>

<tr>
<td>0x18</td>
<td>External Definition Record</td></tr>
</table><p>Names are not stored a C strings.  Names are stored as a length byte followed by the contents.</p>
<h3>Structure</h3>
<p>An AOMF file consists of a module header record (0x02), followed by one or more content (0x06), scope (0x01) or debug (0x12) records, and ends in a module end record (0x04).</p><p>The records with the following types are extraneous (they may appear in the file but are ignored):  0x0E, 0x16 and 0x18 (definition records). All records which are not part of the AOMF and are not extraneous are considered erroneous.</p>
<h3>Module Header Record</h3>
<table class="table table-striped">
<tr>
<th>REC            TYP            0x02     </th>
<th>Record            Length            16 bits     </th>
<th>Module            Name     </th>
<th>TRN ID            8 bits     </th>
<th>zero            8 bits     </th>
<th>CHK            SUM            8 bits     </th></tr>
</table><p>Each module must starts with a module header record.  It is used to identify the module for the RL51 and other future processors of 8051 object files.  In addition to the Module Name the record contains:</p>
<dl class='dl-vertical'>
  <dt>
    <p>TRN ID</p>
  </dt>
  <dd>
    <p>The byte identifies the program which has generated this module:</p><table class="table table-striped">
<tr>
<th>0xFD</th>
<th>ASM51</th></tr>

<tr>
<td>0xFE</td>
<td>PL/M-51</td></tr>

<tr>
<td>0xFF</td>
<td>RL51.</td></tr>
</table>
  </dd>

</dl>

<h3>Module End Record</h3>
<table class="table table-striped">
<tr>
<th>REC              TYP              0x04      </th>
<th>Record              Length              16 bits      </th>
<th>Module              Name      </th>
<th>zero              16 bits      </th>
<th>REG              MSK              8 bits      </th>
<th>zero              8 bits      </th>
<th>CHK              SUM              8 bits      </th></tr>
</table><p>The record ends the module sequence and contains the following information:  characteristics</p>
<dl class='dl-vertical'>
  <dt>
    <p>MODULE NAME</p>
  </dt>
  <dd>
    <p>The name of the module is given here for a consistency check.  It must match the name given in the Module Header Record.</p>
  </dd>
  <dt>
    <p>REGISTER MASK (REG MSK)</p>
  </dt>
  <dd>
    <p>The field contains a bit for each of the four register banks.  Each bit, when set specifies that the corresponding bank is used by the module:</p>
<dl class='dl-vertical'>
  <dt>
    <p>Bit 0 (the least significant bit)</p>
  </dt>
  <dd>
    <p>bank #0.</p>
  </dd>
  <dt>
    <p>Bit 1</p>
  </dt>
  <dd>
    <p>bank #1.</p>
  </dd>
  <dt>
    <p>Bit 2</p>
  </dt>
  <dd>
    <p>bank #2.</p>
  </dd>
  <dt>
    <p>Bit 3</p>
  </dt>
  <dd>
    <p>bank #3.</p>
  </dd>

</dl>

  </dd>

</dl>

<h3>Content Record</h3>
<table class="table table-striped">
<tr>
<th>REC            TYP            0x06     </th>
<th>Record            Length            16 bits     </th>
<th>SEG ID            8 bits     </th>
<th>Offset            16 bits     </th>
<th>DATA     </th>
<th>CHK            SUM            8 bits     </th></tr>
</table><p>This record provides one or more bytes of contiguous data, from which a portion of a memory image may be constructed.</p>
<dl class='dl-vertical'>
  <dt>
    <p>SEG ID</p>
  </dt>
  <dd>
    <p>This field must be zero.</p>
  </dd>
  <dt>
    <p>OFFSET</p>
  </dt>
  <dd>
    <p>Gives the absolute address of the first byte of data in the record, within the CODE address space.</p>
  </dd>
  <dt>
    <p>DATA</p>
  </dt>
  <dd>
    <p>A sequence of data bytes to be loaded from OFFSET to OFFSET+RECORDLENGTH\[mi]5.</p>
  </dd>

</dl>

<h3>Size Multiplier</h3>
<p>In general, raw binary data will expand in sized by approximately 1.02 times when represented with this format.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE</h2>
        <div class="sectioncontent">

<pre>
http://www.intel.com/design/mcs96/swsup/omf96_pi.pdf
ftp://download.intel.com/design/mcs51/SWSUP/omf51.exe (zip archive)
http://www.elsist.net/WebSite/ftp/various/OMF51EPS.pdf
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p><em>\*(n)</em> version \*(v)</p><p>Copyright \*(Y) Peter Miller</p><p>The <em>\*(n)</em> program comes with ABSOLUTELY NO WARRANTY; for details use the '<em>\*(n) -VERSion License</em>' command. This is free software and you are welcome to redistribute it under certain conditions; for details use the '<em>\*(n) -VERSion License</em>' command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<table class="table table-striped">
<tr>
<th>Peter Miller</th>
<th>E\[hy]Mail:</th>
<th>pmiller@opensource.org.au</th></tr>

<tr>
<td>/&#92</td>
<td>/&#92</td>
<td>*</td></tr>

<tr>
<td>WWW:</td>
<td>http://miller.emu.id.au/pmiller/</td></tr>
</table>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="srec.5.html"><span aria-hidden="true">&larr;</span> srec.5: Motorola s-record record and file format</a></li>
   <li class="next"><a href="srec_ascii_hex.5.html">srec_ascii_hex.5: Ascii\[hy]hex file format <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
