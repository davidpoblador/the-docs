<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>backup.d: Action configuration files for backupninja(1).</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Action configuration files for backupninja(1).">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="backup.d (5) manual">
  <meta name="twitter:description" content="Action configuration files for backupninja(1).">
  <meta name="twitter:image" content="https://www.carta.tech/images/backupninja-backup.d-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/backup.d.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="backup.d (5) manual" />
  <meta property="og:description" content="Action configuration files for backupninja(1)." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/backupninja-backup.d-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">backup.d<small> (5)</small></h1>
        <p class="lead">Action configuration files for backupninja(1).</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/backup.d.5.html">
      <span itemprop="name">backup.d: Action configuration files for backupninja(1).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/backupninja/">
      <span itemprop="name">backupninja</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/backup.d.5.html">
      <span itemprop="name">backup.d: Action configuration files for backupninja(1).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/etc/backup.d/* </strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>To preform the actual backup actions, backupninja processes each action configuration file in /etc/backup.d according to the file's suffix.</p>
<dl class='dl-vertical'>
  <dt>
    .sh
  </dt>
  <dd>
    <p>run this file as a shell script.</p>
  </dd>
  <dt>
    .rdiff
  </dt>
  <dd>
    <p>backup action for rdiff-backup.</p>
  </dd>
  <dt>
    .dup
  </dt>
  <dd>
    <p>backup action for duplicity.</p>
  </dd>
  <dt>
    .maildir
  </dt>
  <dd>
    <p>backup action for slow, incremental rsyncs of tens of thousands of maildirs.</p>
  </dd>
  <dt>
    .mysql
  </dt>
  <dd>
    <p>backup action for safe MySQL dumps.</p>
  </dd>
  <dt>
    .pgsql
  </dt>
  <dd>
    <p>backup action for safe PostgreSQL dumps.</p>
  </dd>
  <dt>
    .sys
  </dt>
  <dd>
    <p>backup action for general system reports and hardware information.</p>
  </dd>
  <dt>
    .svn
  </dt>
  <dd>
    <p>backup action for safe backups of subversion repositories.</p>
  </dd>
  <dt>
    .trac
  </dt>
  <dd>
    <p>backup action for safe backups of trac repositories.</p>
  </dd>
  <dt>
    .makecd
  </dt>
  <dd>
    <p>backup action for burning backups to CD/DVD or creating ISOs.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>These files must be owned by root and must not be world or group readable/writable. Support for additional configuration types can be added by dropping bash scripts with the name of the suffix into /usr/share/backupninja.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>The configuration files are processed in alphabetical order. However, it is suggested that you name the config files in "sysvinit style."</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>For example:</p>
  </dt>
  <dd>
    <p> 10-local.pgsql.disabled  15-runthisfirst.sh  20-runthisnext.mysql  90-runthislast.rdiff</p>
  </dd>
  <dt>
    <p>Typically, you will put a '.rdiff' config file last, so that any database dumps you make are included in the filesystem backup. Action configurations which end with .disabled are skipped.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Example templates for the action configuration files can be found in /usr/share/doc/backupninja/examples. You can also use <a href="../man1/ninjahelper.1.html"><strong>ninjahelper</strong>(1)</a></strong>, a console based "wizard" for creating backup actions.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SCHEDULING</h2>
        <div class="sectioncontent">
<p>By default, each configuration file is processed everyday at 01:00 (1 AM). This can be changed by specifying the 'when' option in a backup action's config file or in the global configuration file. Special value 'manual' will disable scheduling for the backup action. It is possible to run the backup action manually by invoking <a href="../man1/ninjahelper.1.html"><strong>ninjahelper</strong>(1)</a></strong> with --run command line argument.</p><p>For example:</p>
<pre>
  when = sundays at 02:00
  when = 30th at 22
  when = 30 at 22:00
  when = everyday at 01
  when = Tuesday at 05:00
  when = hourly
  when = manual
</pre>
<p>These values for "when" are invalid:</p>
<pre>
  when = tuesday at 2am
  when = tuesday at 2
  when = tues at 02
</pre>
<p>A configuration file will be processed at the time(s) specified by the "when" option. If multiple "when" options are present, then they all apply. If two configurations files are scheduled to run in the same hour, then we fall back on the alphabetical ordering specified above. The "when" must occur before any sections in the action configuration file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE FORMAT</h2>
        <div class="sectioncontent">
<p>The file format of the action configuration files is "ini style." Sections are created by using square bracket. Long lines are connected with a backslash. For example:</p>
<pre>
   # this is a comment
   [fishes]
   fish = red
   fish = blue
   [fruit]
   apple = yes
   pear = no thanks &#92;
   i will not have a pear.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO backup.d&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/backupninja.1.html"><strong>backupninja</strong>(1)</a>, <a href="../man1/ninjahelper.1.html"><strong>ninjahelper</strong>(1)</a>, <a href="../man5/backupninja.conf.5.html"><strong>backupninja.conf</strong>(5)</a>,</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>BACKUPNINJA was written by the riseup.net collective.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="axspawn.conf.5.html"><span aria-hidden="true">&larr;</span> axspawn.conf.5: Control the operation of axspawn.</a></li>
   <li class="next"><a href="backupninja.conf.5.html">backupninja.conf.5: Configuration file(s) for backupninja (1). <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
