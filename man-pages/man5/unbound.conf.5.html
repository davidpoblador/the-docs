<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>unbound.conf: Unbound configuration file.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Unbound configuration file.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="unbound.conf (5) manual">
  <meta name="twitter:description" content="Unbound configuration file.">
  <meta name="twitter:image" content="https://www.carta.tech/images/unbound-unbound.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/unbound.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="unbound.conf (5) manual" />
  <meta property="og:description" content="Unbound configuration file." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/unbound-unbound.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">unbound.conf<small> (5)</small></h1>
        <p class="lead">Unbound configuration file.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/unbound.conf.5.html">
      <span itemprop="name">unbound.conf: Unbound configuration file.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/unbound/">
      <span itemprop="name">unbound</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/unbound.conf.5.html">
      <span itemprop="name">unbound.conf: Unbound configuration file.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>unbound.conf</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>unbound.conf</strong> is used to configure <a href="../man8/unbound.8.html"><strong>unbound</strong>(8)</a>. The file format has attributes and values. Some attributes have attributes inside them. The notation is: attribute: value.</p><p>Comments start with # and last to the end of line. Empty lines are ignored as is whitespace at the beginning of a line.</p><p>The utility <a href="../man8/unbound-checkconf.8.html"><strong>unbound-checkconf</strong>(8)</a> can be used to check unbound.conf prior to usage.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>An example config file is shown below. Copy this to /etc/unbound/unbound.conf and start the server with:</p>
<pre>
	$ unbound -c /etc/unbound/unbound.conf
</pre>
<p>Most settings are the defaults. Stop the server with:</p>
<pre>
	$ kill `cat /etc/unbound/unbound.pid`
</pre>
<p>Below is a minimal config file. The source distribution contains an extensive example.conf file with all the options.</p>
<pre>
# <a href="../man5/unbound.conf.5.html"><strong>unbound.conf</strong>(5)</a> config file for <a href="../man8/unbound.8.html"><strong>unbound</strong>(8)</a>.
server:
	directory: "/etc/unbound"
	username: unbound
	# make sure unbound can access entropy from inside the chroot.
	# e.g. on linux the use these commands (on BSD, <strong>devfs</strong>(8) is used):
	#      mount --bind -n /dev/random /etc/unbound/dev/random
	# and  mount --bind -n /dev/log /etc/unbound/dev/log
	chroot: "/etc/unbound"
	# logfile: "/etc/unbound/unbound.log"  #uncomment to use logfile.
	pidfile: "/etc/unbound/unbound.pid"
	# verbosity: 1		# uncomment and increase to get more logging.
	# listen on all interfaces, answer queries from the local subnet.
	interface: 0.0.0.0
	interface: ::0
	access-control: 10.0.0.0/8 allow
	access-control: 2001:DB8::/64 allow
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE FORMAT</h2>
        <div class="sectioncontent">
<p>There must be whitespace between keywords. Attribute keywords end with a colon ':'. An attribute is followed by its containing attributes, or a value.</p><p>Files can be included using the <strong>include:</strong> directive. It can appear anywhere, it accepts a single file name as argument. Processing continues as if the text from the included file was copied into the config file at that point.  If also using chroot, using full path names for the included files works, relative pathnames for the included names work if the directory where the daemon is started equals its chroot/working directory.  Wildcards can be used to include multiple files, see <a href="../man7/glob.7.html"><strong>glob</strong>(7)</a>.</p><h3>Server Options</h3>
<p>These options are part of the <strong>server:</strong> clause.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>verbosity: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>The verbosity number, level 0 means no verbosity, only errors. Level 1 gives operational information. Level 2 gives detailed operational information. Level 3 gives query level information, output per query. Level 4 gives algorithm level information.  Level 5 logs client identification for cache misses.  Default is level 1. The verbosity can also be increased from the commandline, see <a href="../man8/unbound.8.html"><strong>unbound</strong>(8)</a>.</p>
  </dd>
  <dt>
    <p><strong>statistics-interval: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>The number of seconds between printing statistics to the log for every thread. Disable with value 0 or "". Default is disabled.  The histogram statistics are only printed if replies were sent during the statistics interval, requestlist statistics are printed for every interval (but can be 0). This is because the median calculation requires data to be present.</p>
  </dd>
  <dt>
    <p><strong>statistics-cumulative: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If enabled, statistics are cumulative since starting unbound, without clearing the statistics counters after logging the statistics. Default is no.</p>
  </dd>
  <dt>
    <p><strong>extended-statistics: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If enabled, extended statistics are printed from <a href="../man8/unbound-control.8.html"><strong>unbound-control</strong>(8)</a>. Default is off, because keeping track of more statistics takes time.  The counters are listed in <a href="../man8/unbound-control.8.html"><strong>unbound-control</strong>(8)</a>.</p>
  </dd>
  <dt>
    <p><strong>num-threads: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>The number of threads to create to serve clients. Use 1 for no threading.</p>
  </dd>
  <dt>
    <p><strong>port: </strong><em>&lt;port number&gt;</em></p>
  </dt>
  <dd>
    <p>The port number, default 53, on which the server responds to queries.</p>
  </dd>
  <dt>
    <p><strong>interface: </strong><em>&lt;ip address[@port]&gt;</em></p>
  </dt>
  <dd>
    <p>Interface to use to connect to the network. This interface is listened to for queries from clients, and answers to clients are given from it. Can be given multiple times to work on several interfaces. If none are given the default is to listen to localhost. The interfaces are not changed on a reload (kill -HUP) but only on restart. A port number can be specified with @port (without spaces between interface and port number), if not specified the default port (from <strong>port</strong>) is used.</p>
  </dd>
  <dt>
    <p><strong>ip-address: </strong><em>&lt;ip address[@port]&gt;</em></p>
  </dt>
  <dd>
    <p>Same as interface: (for easy of compatibility with nsd.conf).</p>
  </dd>
  <dt>
    <p><strong>interface-automatic: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Detect source interface on UDP queries and copy them to replies.  This feature is experimental, and needs support in your OS for particular socket options.  Default value is no.</p>
  </dd>
  <dt>
    <p><strong>outgoing-interface: </strong><em>&lt;ip address&gt;</em></p>
  </dt>
  <dd>
    <p>Interface to use to connect to the network. This interface is used to send queries to authoritative servers and receive their replies. Can be given multiple times to work on several interfaces. If none are given the default (all) is used. You can specify the same interfaces in <strong>interface:</strong> and <strong>outgoing-interface:</strong> lines, the interfaces are then used for both purposes. Outgoing queries are sent via a random outgoing interface to counter spoofing.</p>
  </dd>
  <dt>
    <p><strong>outgoing-range: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of ports to open. This number of file descriptors can be opened per thread. Must be at least 1. Default depends on compile options. Larger numbers need extra resources from the operating system.  For performance a a very large value is best, use libevent to make this possible.</p>
  </dd>
  <dt>
    <p><strong>outgoing-port-permit: </strong><em>&lt;port number or range&gt;</em></p>
  </dt>
  <dd>
    <p>Permit unbound to open this port or range of ports for use to send queries. A larger number of permitted outgoing ports increases resilience against spoofing attempts. Make sure these ports are not needed by other daemons. By default only ports above 1024 that have not been assigned by IANA are used. Give a port number or a range of the form "low-high", without spaces.</p><ul>
<li><p>The <strong>outgoing-port-permit</strong> and <strong>outgoing-port-avoid</strong> statements are processed in the line order of the config file, adding the permitted ports and subtracting the avoided ports from the set of allowed ports.  The processing starts with the non IANA allocated ports above 1024 in the set of allowed ports.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>outgoing-port-avoid: </strong><em>&lt;port number or range&gt;</em></p>
  </dt>
  <dd>
    <p>Do not permit unbound to open this port or range of ports for use to send queries. Use this to make sure unbound does not grab a port that another daemon needs. The port is avoided on all outgoing interfaces, both IP4 and IP6. By default only ports above 1024 that have not been assigned by IANA are used. Give a port number or a range of the form "low-high", without spaces.</p>
  </dd>
  <dt>
    <p><strong>outgoing-num-tcp: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of outgoing TCP buffers to allocate per thread. Default is 10. If set to 0, or if do_tcp is "no", no TCP queries to authoritative servers are done.</p>
  </dd>
  <dt>
    <p><strong>incoming-num-tcp: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of incoming TCP buffers to allocate per thread. Default is 10. If set to 0, or if do_tcp is "no", no TCP queries from clients are accepted.</p>
  </dd>
  <dt>
    <p><strong>edns-buffer-size: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of bytes size to advertise as the EDNS reassembly buffer size. This is the value put into datagrams over UDP towards peers.  The actual buffer size is determined by msg-buffer-size (both for TCP and UDP).  Do not set higher than that value.  Default is 4096 which is RFC recommended. If you have fragmentation reassembly problems, usually seen as timeouts, then a value of 1480 can fix it.  Setting to 512 bypasses even the most stringent path MTU problems, but is seen as extreme, since the amount of TCP fallback generated is excessive (probably also for this resolver, consider tuning the outgoing tcp number).</p>
  </dd>
  <dt>
    <p><strong>max-udp-size: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Maximum UDP response size (not applied to TCP response).  65536 disables the udp response size maximum, and uses the choice from the client, always. Suggested values are 512 to 4096. Default is 4096.</p>
  </dd>
  <dt>
    <p><strong>msg-buffer-size: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of bytes size of the message buffers. Default is 65552 bytes, enough for 64 Kb packets, the maximum DNS message size. No message larger than this can be sent or received. Can be reduced to use less memory, but some requests for DNS data, such as for huge resource records, will result in a SERVFAIL reply to the client.</p>
  </dd>
  <dt>
    <p><strong>msg-cache-size: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of bytes size of the message cache. Default is 4 megabytes. A plain number is in bytes, append 'k', 'm' or 'g' for kilobytes, megabytes or gigabytes (1024*1024 bytes in a megabyte).</p>
  </dd>
  <dt>
    <p><strong>msg-cache-slabs: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of slabs in the message cache. Slabs reduce lock contention by threads. Must be set to a power of 2. Setting (close) to the number of cpus is a reasonable guess.</p>
  </dd>
  <dt>
    <p><strong>num-queries-per-thread: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>The number of queries that every thread will service simultaneously. If more queries arrive that need servicing, and no queries can be jostled out (see <em>jostle-timeout</em>), then the queries are dropped. This forces the client to resend after a timeout; allowing the server time to work on the existing queries. Default depends on compile options, 512 or 1024.</p>
  </dd>
  <dt>
    <p><strong>jostle-timeout: </strong><em>&lt;msec&gt;</em></p>
  </dt>
  <dd>
    <p>Timeout used when the server is very busy.  Set to a value that usually results in one roundtrip to the authority servers.  If too many queries arrive, then 50% of the queries are allowed to run to completion, and the other 50% are replaced with the new incoming query if they have already spent more than their allowed time.  This protects against denial of service by slow queries or high query rates.  Default 200 milliseconds. The effect is that the qps for long-lasting queries is about (numqueriesperthread / 2) / (average time for such long queries) qps. The qps for short queries can be about (numqueriesperthread / 2) / (jostletimeout in whole seconds) qps per thread, about (1024/2)*5 = 2560 qps by default.</p>
  </dd>
  <dt>
    <p><strong>delay-close: </strong><em>&lt;msec&gt;</em></p>
  </dt>
  <dd>
    <p>Extra delay for timeouted UDP ports before they are closed, in msec. Default is 0, and that disables it.  This prevents very delayed answer packets from the upstream (recursive) servers from bouncing against closed ports and setting off all sort of close-port counters, with eg. 1500 msec.  When timeouts happen you need extra sockets, it checks the ID and remote IP of packets, and unwanted packets are added to the unwanted packet counter.</p>
  </dd>
  <dt>
    <p><strong>so-rcvbuf: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>If not 0, then set the SO_RCVBUF socket option to get more buffer space on UDP port 53 incoming queries.  So that short spikes on busy servers do not drop packets (see counter in netstat -su).  Default is 0 (use system value).  Otherwise, the number of bytes to ask for, try "4m" on a busy server.  The OS caps it at a maximum, on linux unbound needs root permission to bypass the limit, or the admin can use sysctl net.core.rmem_max.  On BSD change kern.ipc.maxsockbuf in /etc/sysctl.conf. On OpenBSD change header and recompile kernel. On Solaris ndd -set /dev/udp udp_max_buf 8388608.</p>
  </dd>
  <dt>
    <p><strong>so-sndbuf: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>If not 0, then set the SO_SNDBUF socket option to get more buffer space on UDP port 53 outgoing queries.  This for very busy servers handles spikes in answer traffic, otherwise 'send: resource temporarily unavailable' can get logged, the buffer overrun is also visible by netstat -su. Default is 0 (use system value).  Specify the number of bytes to ask for, try "4m" on a very busy server.  The OS caps it at a maximum, on linux unbound needs root permission to bypass the limit, or the admin can use sysctl net.core.wmem_max.  On BSD, Solaris changes are similar to so-rcvbuf.</p>
  </dd>
  <dt>
    <p><strong>so-reuseport: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If yes, then open dedicated listening sockets for incoming queries for each thread and try to set the SO_REUSEPORT socket option on each socket.  May distribute incoming queries to threads more evenly.  Default is no.  Only supported on Linux &gt;= 3.9.  You can enable it (on any platform and kernel), it then attempts to open the port and passes the option if it was available at compile time, if that works it is used, if it fails, it continues silently (unless verbosity 3) without the option.</p>
  </dd>
  <dt>
    <p><strong>rrset-cache-size: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of bytes size of the RRset cache. Default is 4 megabytes. A plain number is in bytes, append 'k', 'm' or 'g' for kilobytes, megabytes or gigabytes (1024*1024 bytes in a megabyte).</p>
  </dd>
  <dt>
    <p><strong>rrset-cache-slabs: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of slabs in the RRset cache. Slabs reduce lock contention by threads. Must be set to a power of 2.</p>
  </dd>
  <dt>
    <p><strong>cache-max-ttl: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Time to live maximum for RRsets and messages in the cache. Default is 86400 seconds (1 day). If the maximum kicks in, responses to clients still get decrementing TTLs based on the original (larger) values. When the internal TTL expires, the cache item has expired. Can be set lower to force the resolver to query for data often, and not trust (very large) TTL values.</p>
  </dd>
  <dt>
    <p><strong>cache-min-ttl: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Time to live minimum for RRsets and messages in the cache. Default is 0. If the the minimum kicks in, the data is cached for longer than the domain owner intended, and thus less queries are made to look up the data. Zero makes sure the data in the cache is as the domain owner intended, higher values, especially more than an hour or so, can lead to trouble as the data in the cache does not match up with the actual data any more.</p>
  </dd>
  <dt>
    <p><strong>infra-host-ttl: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Time to live for entries in the host cache. The host cache contains roundtrip timing, lameness and EDNS support information. Default is 900.</p>
  </dd>
  <dt>
    <p><strong>infra-cache-slabs: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of slabs in the infrastructure cache. Slabs reduce lock contention by threads. Must be set to a power of 2.</p>
  </dd>
  <dt>
    <p><strong>infra-cache-numhosts: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of hosts for which information is cached. Default is 10000.</p>
  </dd>
  <dt>
    <p><strong>do-ip4: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Enable or disable whether ip4 queries are answered or issued. Default is yes.</p>
  </dd>
  <dt>
    <p><strong>do-ip6: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Enable or disable whether ip6 queries are answered or issued. Default is yes. If disabled, queries are not answered on IPv6, and queries are not sent on IPv6 to the internet nameservers.</p>
  </dd>
  <dt>
    <p><strong>do-udp: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Enable or disable whether UDP queries are answered or issued. Default is yes.</p>
  </dd>
  <dt>
    <p><strong>do-tcp: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Enable or disable whether TCP queries are answered or issued. Default is yes.</p>
  </dd>
  <dt>
    <p><strong>tcp-upstream: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Enable or disable whether the upstream queries use TCP only for transport. Default is no.  Useful in tunneling scenarios.</p>
  </dd>
  <dt>
    <p><strong>ssl-upstream: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Enabled or disable whether the upstream queries use SSL only for transport. Default is no.  Useful in tunneling scenarios.  The SSL contains plain DNS in TCP wireformat.  The other server must support this (see <strong>ssl-service-key</strong>).</p>
  </dd>
  <dt>
    <p><strong>ssl-service-key: </strong><em>&lt;file&gt;</em></p>
  </dt>
  <dd>
    <p>If enabled, the server provider SSL service on its TCP sockets.  The clients have to use ssl-upstream: yes.  The file is the private key for the TLS session.  The public certificate is in the ssl-service-pem file.  Default is "", turned off.  Requires a restart (a reload is not enough) if changed, because the private key is read while root permissions are held and before chroot (if any).  Normal DNS TCP service is not provided and gives errors, this service is best run with a different <strong>port:</strong> config or <em>@port</em> suffixes in the <strong>interface</strong> config.</p>
  </dd>
  <dt>
    <p><strong>ssl-service-pem: </strong><em>&lt;file&gt;</em></p>
  </dt>
  <dd>
    <p>The public key certificate pem file for the ssl service.  Default is "", turned off.</p>
  </dd>
  <dt>
    <p><strong>ssl-port: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>The port number on which to provide TCP SSL service, default 443, only interfaces configured with that port number as @number get the SSL service.</p>
  </dd>
  <dt>
    <p><strong>do-daemonize: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Enable or disable whether the unbound server forks into the background as a daemon. Default is yes.</p>
  </dd>
  <dt>
    <p><strong>access-control: </strong><em>&lt;IP netblock&gt; &lt;action&gt;</em></p>
  </dt>
  <dd>
    <p>The netblock is given as an IP4 or IP6 address with /size appended for a classless network block. The action can be <em>deny</em>, <em>refuse</em>, <em>allow</em>, <em>allow_snoop</em>, <em>deny_non_local</em> or <em>refuse_non_local</em>.</p><ul>
<li><p>The action <em>deny</em> stops queries from hosts from that netblock.</p></li><li><p>The action <em>refuse</em> stops queries too, but sends a DNS rcode REFUSED error message back.</p></li><li><p>The action <em>allow</em> gives access to clients from that netblock. It gives only access for recursion clients (which is what almost all clients need).  Nonrecursive queries are refused.</p></li><li><p>The <em>allow</em> action does allow nonrecursive queries to access the local-data that is configured.  The reason is that this does not involve the unbound server recursive lookup algorithm, and static data is served in the reply.  This supports normal operations where nonrecursive queries are made for the authoritative data.  For nonrecursive queries any replies from the dynamic cache are refused.</p></li><li><p>The action <em>allow_snoop</em> gives nonrecursive access too.  This give both recursive and non recursive access.  The name <em>allow_snoop</em> refers to cache snooping, a technique to use nonrecursive queries to examine the cache contents (for malicious acts).  However, nonrecursive queries can also be a valuable debugging tool (when you want to examine the cache contents). In that case use <em>allow_snoop</em> for your administration host.</p></li><li><p>By default only localhost is <em>allow</em>ed, the rest is <em>refuse</em>d. The default is <em>refuse</em>d, because that is protocol-friendly. The DNS protocol is not designed to handle dropped packets due to policy, and dropping may result in (possibly excessive) retried queries.</p></li><li><p>The deny_non_local and refuse_non_local settings are for hosts that are only allowed to query for the authoritative local-data, they are not allowed full recursion but only the static data.  With deny_non_local, messages that are disallowed are dropped, with refuse_non_local they receive error code REFUSED.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>chroot: </strong><em>&lt;directory&gt;</em></p>
  </dt>
  <dd>
    <p>If chroot is enabled, you should pass the configfile (from the commandline) as a full path from the original root. After the chroot has been performed the now defunct portion of the config file path is removed to be able to reread the config after a reload.</p><ul>
<li><p>All other file paths (working dir, logfile, roothints, and key files) can be specified in several ways: as an absolute path relative to the new root, as a relative path to the working directory, or as an absolute path relative to the original root. In the last case the path is adjusted to remove the unused portion.</p></li><li><p>The pidfile can be either a relative path to the working directory, or an absolute path relative to the original root. It is written just prior to chroot and dropping permissions. This allows the pidfile to be /var/run/unbound.pid and the chroot to be /var/unbound, for example.</p></li><li><p>Additionally, unbound may need to access /dev/random (for entropy) from inside the chroot.</p></li><li><p>If given a chroot is done to the given directory. The default is "/etc/unbound". If you give "" no chroot is performed.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>username: </strong><em>&lt;name&gt;</em></p>
  </dt>
  <dd>
    <p>If given, after binding the port the user privileges are dropped. Default is "unbound". If you give username: "" no user change is performed.</p><ul>
<li><p>If this user is not capable of binding the port, reloads (by signal HUP) will still retain the opened ports. If you change the port number in the config file, and that new port number requires privileges, then a reload will fail; a restart is needed.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>directory: </strong><em>&lt;directory&gt;</em></p>
  </dt>
  <dd>
    <p>Sets the working directory for the program. Default is "/etc/unbound".</p>
  </dd>
  <dt>
    <p><strong>logfile: </strong><em>&lt;filename&gt;</em></p>
  </dt>
  <dd>
    <p>If "" is given, logging goes to stderr, or nowhere once daemonized. The logfile is appended to, in the following format:</p>
<pre>
[seconds since 1970] unbound[pid:tid]: type: message.
</pre>
<p>If this option is given, the use-syslog is option is set to "no". The logfile is reopened (for append) when the config file is reread, on SIGHUP.</p>
  </dd>
  <dt>
    <p><strong>use-syslog: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Sets unbound to send log messages to the syslogd, using <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>. The log facility LOG_DAEMON is used, with identity "unbound". The logfile setting is overridden when use-syslog is turned on. The default is to log to syslog.</p>
  </dd>
  <dt>
    <p><strong>log-time-ascii: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Sets logfile lines to use a timestamp in UTC ascii. Default is no, which prints the seconds since 1970 in brackets. No effect if using syslog, in that case syslog formats the timestamp printed into the log files.</p>
  </dd>
  <dt>
    <p><strong>log-queries: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Prints one line per query to the log, with the log timestamp and IP address, name, type and class.  Default is no.  Note that it takes time to print these lines which makes the server (significantly) slower.  Odd (nonprintable) characters in names are printed as '?'.</p>
  </dd>
  <dt>
    <p><strong>pidfile: </strong><em>&lt;filename&gt;</em></p>
  </dt>
  <dd>
    <p>The process id is written to the file. Default is "/etc/unbound/unbound.pid". So,</p>
<pre>
kill -HUP `cat /etc/unbound/unbound.pid`
</pre>
<p>triggers a reload,</p>
<pre>
kill -QUIT `cat /etc/unbound/unbound.pid`
</pre>
<p>gracefully terminates.</p>
  </dd>
  <dt>
    <p><strong>root-hints: </strong><em>&lt;filename&gt;</em></p>
  </dt>
  <dd>
    <p>Read the root hints from this file. Default is nothing, using builtin hints for the IN class. The file has the format of zone files, with root nameserver names and addresses only. The default may become outdated, when servers change, therefore it is good practice to use a root-hints file.</p>
  </dd>
  <dt>
    <p><strong>hide-identity: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If enabled id.server and hostname.bind queries are refused.</p>
  </dd>
  <dt>
    <p><strong>identity: </strong><em>&lt;string&gt;</em></p>
  </dt>
  <dd>
    <p>Set the identity to report. If set to "", the default, then the hostname of the server is returned.</p>
  </dd>
  <dt>
    <p><strong>hide-version: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If enabled version.server and version.bind queries are refused.</p>
  </dd>
  <dt>
    <p><strong>version: </strong><em>&lt;string&gt;</em></p>
  </dt>
  <dd>
    <p>Set the version to report. If set to "", the default, then the package version is returned.</p>
  </dd>
  <dt>
    <p><strong>target-fetch-policy: </strong><em>&lt;"list of numbers"&gt;</em></p>
  </dt>
  <dd>
    <p>Set the target fetch policy used by unbound to determine if it should fetch nameserver target addresses opportunistically. The policy is described per dependency depth.</p><ul>
<li><p>The number of values determines the maximum dependency depth that unbound will pursue in answering a query. A value of -1 means to fetch all targets opportunistically for that dependency depth. A value of 0 means to fetch on demand only. A positive value fetches that many targets opportunistically.</p></li><li><p>Enclose the list between quotes ("") and put spaces between numbers. The default is "3 2 1 0 0". Setting all zeroes, "0 0 0 0 0" gives behaviour closer to that of BIND 9, while setting "-1 -1 -1 -1 -1" gives behaviour rumoured to be closer to that of BIND 8.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>harden-short-bufsize: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Very small EDNS buffer sizes from queries are ignored. Default is off, since it is legal protocol wise to send these, and unbound tries to give very small answers to these queries, where possible.</p>
  </dd>
  <dt>
    <p><strong>harden-large-queries: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Very large queries are ignored. Default is off, since it is legal protocol wise to send these, and could be necessary for operation if TSIG or EDNS payload is very large.</p>
  </dd>
  <dt>
    <p><strong>harden-glue: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Will trust glue only if it is within the servers authority. Default is on.</p>
  </dd>
  <dt>
    <p><strong>harden-dnssec-stripped: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Require DNSSEC data for trust-anchored zones, if such data is absent, the zone becomes bogus. If turned off, and no DNSSEC data is received (or the DNSKEY data fails to validate), then the zone is made insecure, this behaves like there is no trust anchor. You could turn this off if you are sometimes behind an intrusive firewall (of some sort) that removes DNSSEC data from packets, or a zone changes from signed to unsigned to badly signed often. If turned off you run the risk of a downgrade attack that disables security for a zone. Default is on.</p>
  </dd>
  <dt>
    <p><strong>harden-below-nxdomain: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>From draft-vixie-dnsext-resimprove, returns nxdomain to queries for a name below another name that is already known to be nxdomain.  DNSSEC mandates noerror for empty nonterminals, hence this is possible.  Very old software might return nxdomain for empty nonterminals (that usually happen for reverse IP address lookups), and thus may be incompatible with this.  To try to avoid this only DNSSEC-secure nxdomains are used, because the old software does not have DNSSEC.  Default is off.</p>
  </dd>
  <dt>
    <p><strong>harden-referral-path: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Harden the referral path by performing additional queries for infrastructure data.  Validates the replies if trust anchors are configured and the zones are signed.  This enforces DNSSEC validation on nameserver NS sets and the nameserver addresses that are encountered on the referral path to the answer. Default off, because it burdens the authority servers, and it is not RFC standard, and could lead to performance problems because of the extra query load that is generated.  Experimental option. If you enable it consider adding more numbers after the target-fetch-policy to increase the max depth that is checked to.</p>
  </dd>
  <dt>
    <p><strong>use-caps-for-id: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Use 0x20-encoded random bits in the query to foil spoof attempts. This perturbs the lowercase and uppercase of query names sent to authority servers and checks if the reply still has the correct casing. Disabled by default. This feature is an experimental implementation of draft dns-0x20.</p>
  </dd>
  <dt>
    <p><strong>private-address: </strong><em>&lt;IP address or subnet&gt;</em></p>
  </dt>
  <dd>
    <p>Give IPv4 of IPv6 addresses or classless subnets. These are addresses on your private network, and are not allowed to be returned for public internet names.  Any occurence of such addresses are removed from DNS answers. Additionally, the DNSSEC validator may mark the answers bogus. This protects against so-called DNS Rebinding, where a user browser is turned into a network proxy, allowing remote access through the browser to other parts of your private network.  Some names can be allowed to contain your private addresses, by default all the <strong>local-data</strong> that you configured is allowed to, and you can specify additional names using <strong>private-domain</strong>.  No private addresses are enabled by default.  We consider to enable this for the RFC1918 private IP address space by default in later releases. That would enable private addresses for 10.0.0.0/8 172.16.0.0/12 192.168.0.0/16 169.254.0.0/16 fd00::/8 and fe80::/10, since the RFC standards say these addresses should not be visible on the public internet.  Turning on 127.0.0.0/8 would hinder many spamblocklists as they use that.</p>
  </dd>
  <dt>
    <p><strong>private-domain: </strong><em>&lt;domain name&gt;</em></p>
  </dt>
  <dd>
    <p>Allow this domain, and all its subdomains to contain private addresses. Give multiple times to allow multiple domain names to contain private addresses. Default is none.</p>
  </dd>
  <dt>
    <p><strong>unwanted-reply-threshold: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>If set, a total number of unwanted replies is kept track of in every thread. When it reaches the threshold, a defensive action is taken and a warning is printed to the log.  The defensive action is to clear the rrset and message caches, hopefully flushing away any poison.  A value of 10 million is suggested.  Default is 0 (turned off).</p>
  </dd>
  <dt>
    <p><strong>do-not-query-address: </strong><em>&lt;IP address&gt;</em></p>
  </dt>
  <dd>
    <p>Do not query the given IP address. Can be IP4 or IP6. Append /num to indicate a classless delegation netblock, for example like 10.2.3.4/24 or 2001::11/64.</p>
  </dd>
  <dt>
    <p><strong>do-not-query-localhost: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If yes, localhost is added to the do-not-query-address entries, both IP6 ::1 and IP4 127.0.0.1/8. If no, then localhost can be used to send queries to. Default is yes.</p>
  </dd>
  <dt>
    <p><strong>prefetch: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If yes, message cache elements are prefetched before they expire to keep the cache up to date.  Default is no.  Turning it on gives about 10 percent more traffic and load on the machine, but popular items do not expire from the cache.</p>
  </dd>
  <dt>
    <p><strong>prefetch-key: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If yes, fetch the DNSKEYs earlier in the validation process, when a DS record is encountered.  This lowers the latency of requests.  It does use a little more CPU.  Also if the cache is set to 0, it is no use. Default is no.</p>
  </dd>
  <dt>
    <p><strong>rrset-roundrobin: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If yes, Unbound rotates RRSet order in response (the random number is taken from the query ID, for speed and thread safety).  Default is no.</p>
  </dd>
  <dt>
    <p><strong>minimal-responses: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If yes, Unbound doesn't insert authority/additional sections into response messages when those sections are not required.  This reduces response size significantly, and may avoid TCP fallback for some responses. This may cause a slight speedup.  The default is no, because the DNS protocol RFCs mandate these sections, and the additional content could be of use and save roundtrips for clients.</p>
  </dd>
  <dt>
    <p><strong>module-config: </strong><em>&lt;"module names"&gt;</em></p>
  </dt>
  <dd>
    <p>Module configuration, a list of module names separated by spaces, surround the string with quotes (""). The modules can be validator, iterator. Setting this to "iterator" will result in a non-validating server. Setting this to "validator iterator" will turn on DNSSEC validation. The ordering of the modules is important. You must also set trust-anchors for validation to be useful.</p>
  </dd>
  <dt>
    <p><strong>trust-anchor-file: </strong><em>&lt;filename&gt;</em></p>
  </dt>
  <dd>
    <p>File with trusted keys for validation. Both DS and DNSKEY entries can appear in the file. The format of the file is the standard DNS Zone file format. Default is "", or no trust anchor file.</p>
  </dd>
  <dt>
    <p><strong>auto-trust-anchor-file: </strong><em>&lt;filename&gt;</em></p>
  </dt>
  <dd>
    <p>File with trust anchor for one zone, which is tracked with RFC5011 probes. The probes are several times per month, thus the machine must be online frequently.  The initial file can be one with contents as described in <strong>trust-anchor-file</strong>.  The file is written to when the anchor is updated, so the unbound user must have write permission.</p>
  </dd>
  <dt>
    <p><strong>trust-anchor: </strong><em>&lt;"Resource Record"&gt;</em></p>
  </dt>
  <dd>
    <p>A DS or DNSKEY RR for a key to use for validation. Multiple entries can be given to specify multiple trusted keys, in addition to the trust-anchor-files. The resource record is entered in the same format as 'dig' or 'drill' prints them, the same format as in the zone file. Has to be on a single line, with "" around it. A TTL can be specified for ease of cut and paste, but is ignored. A class can be specified, but class IN is default.</p>
  </dd>
  <dt>
    <p><strong>trusted-keys-file: </strong><em>&lt;filename&gt;</em></p>
  </dt>
  <dd>
    <p>File with trusted keys for validation. Specify more than one file with several entries, one file per entry. Like <strong>trust-anchor-file</strong> but has a different file format. Format is BIND-9 style format, the trusted-keys { name flag proto algo "key"; }; clauses are read. It is possible to use wildcards with this statement, the wildcard is expanded on start and on reload.</p>
  </dd>
  <dt>
    <p><strong>dlv-anchor-file: </strong><em>&lt;filename&gt;</em></p>
  </dt>
  <dd>
    <p>File with trusted keys for DLV (DNSSEC Lookaside Validation). Both DS and DNSKEY entries can be used in the file, in the same format as for <em>trust-anchor-file:</em> statements. Only one DLV can be configured, more would be slow. The DLV configured is used as a root trusted DLV, this means that it is a lookaside for the root. Default is "", or no dlv anchor file.</p>
  </dd>
  <dt>
    <p><strong>dlv-anchor: </strong><em>&lt;"Resource Record"&gt;</em></p>
  </dt>
  <dd>
    <p>Much like trust-anchor, this is a DLV anchor with the DS or DNSKEY inline.</p>
  </dd>
  <dt>
    <p><strong>domain-insecure: </strong><em>&lt;domain name&gt;</em></p>
  </dt>
  <dd>
    <p>Sets domain name to be insecure, DNSSEC chain of trust is ignored towards the domain name.  So a trust anchor above the domain name can not make the domain secure with a DS record, such a DS record is then ignored. Also keys from DLV are ignored for the domain.  Can be given multiple times to specify multiple domains that are treated as if unsigned.  If you set trust anchors for the domain they override this setting (and the domain is secured).</p><ul>
<li><p>This can be useful if you want to make sure a trust anchor for external lookups does not affect an (unsigned) internal domain.  A DS record externally can create validation failures for that internal domain.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>val-override-date: </strong><em>&lt;rrsig-style date spec&gt;</em></p>
  </dt>
  <dd>
    <p>Default is "" or "0", which disables this debugging feature. If enabled by giving a RRSIG style date, that date is used for verifying RRSIG inception and expiration dates, instead of the current date. Do not set this unless you are debugging signature inception and expiration. The value -1 ignores the date altogether, useful for some special applications.</p>
  </dd>
  <dt>
    <p><strong>val-sig-skew-min: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Minimum number of seconds of clock skew to apply to validated signatures. A value of 10% of the signature lifetime (expiration - inception) is used, capped by this setting.  Default is 3600 (1 hour) which allows for daylight savings differences.  Lower this value for more strict checking of short lived signatures.</p>
  </dd>
  <dt>
    <p><strong>val-sig-skew-max: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Maximum number of seconds of clock skew to apply to validated signatures. A value of 10% of the signature lifetime (expiration - inception) is used, capped by this setting.  Default is 86400 (24 hours) which allows for timezone setting problems in stable domains.  Setting both min and max very low disables the clock skew allowances.  Setting both min and max very high makes the validator check the signature timestamps less strictly.</p>
  </dd>
  <dt>
    <p><strong>val-bogus-ttl: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>The time to live for bogus data. This is data that has failed validation; due to invalid signatures or other checks. The TTL from that data cannot be trusted, and this value is used instead. The value is in seconds, default 60. The time interval prevents repeated revalidation of bogus data.</p>
  </dd>
  <dt>
    <p><strong>val-clean-additional: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Instruct the validator to remove data from the additional section of secure messages that are not signed properly. Messages that are insecure, bogus, indeterminate or unchecked are not affected. Default is yes. Use this setting to protect the users that rely on this validator for authentication from protentially bad data in the additional section.</p>
  </dd>
  <dt>
    <p><strong>val-log-level: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Have the validator print validation failures to the log.  Regardless of the verbosity setting.  Default is 0, off.  At 1, for every user query that fails a line is printed to the logs.  This way you can monitor what happens with validation.  Use a diagnosis tool, such as dig or drill, to find out why validation is failing for these queries.  At 2, not only the query that failed is printed but also the reason why unbound thought it was wrong and which server sent the faulty data.</p>
  </dd>
  <dt>
    <p><strong>val-permissive-mode: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Instruct the validator to mark bogus messages as indeterminate. The security checks are performed, but if the result is bogus (failed security), the reply is not withheld from the client with SERVFAIL as usual. The client receives the bogus data. For messages that are found to be secure the AD bit is set in replies. Also logging is performed as for full validation. The default value is "no".</p>
  </dd>
  <dt>
    <p><strong>ignore-cd-flag: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>Instruct unbound to ignore the CD flag from clients and refuse to return bogus answers to them.  Thus, the CD (Checking Disabled) flag does not disable checking any more.  This is useful if legacy (w2008) servers that set the CD flag but cannot validate DNSSEC themselves are the clients, and then unbound provides them with DNSSEC protection. The default value is "no".</p>
  </dd>
  <dt>
    <p><strong>val-nsec3-keysize-iterations: </strong><em>&lt;"list of values"&gt;</em></p>
  </dt>
  <dd>
    <p>List of keysize and iteration count values, separated by spaces, surrounded by quotes. Default is "1024 150 2048 500 4096 2500". This determines the maximum allowed NSEC3 iteration count before a message is simply marked insecure instead of performing the many hashing iterations. The list must be in ascending order and have at least one entry. If you set it to "1024 65535" there is no restriction to NSEC3 iteration values. This table must be kept short; a very long list could cause slower operation.</p>
  </dd>
  <dt>
    <p><strong>add-holddown: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Instruct the <strong>auto-trust-anchor-file</strong> probe mechanism for RFC5011 autotrust updates to add new trust anchors only after they have been visible for this time.  Default is 30 days as per the RFC.</p>
  </dd>
  <dt>
    <p><strong>del-holddown: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Instruct the <strong>auto-trust-anchor-file</strong> probe mechanism for RFC5011 autotrust updates to remove revoked trust anchors after they have been kept in the revoked list for this long.  Default is 30 days as per the RFC.</p>
  </dd>
  <dt>
    <p><strong>keep-missing: </strong><em>&lt;seconds&gt;</em></p>
  </dt>
  <dd>
    <p>Instruct the <strong>auto-trust-anchor-file</strong> probe mechanism for RFC5011 autotrust updates to remove missing trust anchors after they have been unseen for this long.  This cleans up the state file if the target zone does not perform trust anchor revocation, so this makes the auto probe mechanism work with zones that perform regular (non-5011) rollovers. The default is 366 days.  The value 0 does not remove missing anchors, as per the RFC.</p>
  </dd>
  <dt>
    <p><strong>key-cache-size: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of bytes size of the key cache. Default is 4 megabytes. A plain number is in bytes, append 'k', 'm' or 'g' for kilobytes, megabytes or gigabytes (1024*1024 bytes in a megabyte).</p>
  </dd>
  <dt>
    <p><strong>key-cache-slabs: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of slabs in the key cache. Slabs reduce lock contention by threads. Must be set to a power of 2. Setting (close) to the number of cpus is a reasonable guess.</p>
  </dd>
  <dt>
    <p><strong>neg-cache-size: </strong><em>&lt;number&gt;</em></p>
  </dt>
  <dd>
    <p>Number of bytes size of the aggressive negative cache. Default is 1 megabyte. A plain number is in bytes, append 'k', 'm' or 'g' for kilobytes, megabytes or gigabytes (1024*1024 bytes in a megabyte).</p>
  </dd>
  <dt>
    <p><strong>local-zone: </strong><em>&lt;zone&gt; &lt;type&gt;</em></p>
  </dt>
  <dd>
    <p>Configure a local zone. The type determines the answer to give if there is no match from local-data. The types are deny, refuse, static, transparent, redirect, nodefault, typetransparent, and are explained below. After that the default settings are listed. Use local-data: to enter data into the local zone. Answers for local zones are authoritative DNS answers. By default the zones are class IN.</p><ul>
<li><p>If you need more complicated authoritative data, with referrals, wildcards, CNAME/DNAME support, or DNSSEC authoritative service, setup a stub-zone for it as detailed in the stub zone section below.</p></li>
</ul>
  </dd>
  <dt>
    <p>\h'5'<em>deny</em></p>
  </dt>
  <dd>
    <p>Do not send an answer, drop the query. If there is a match from local data, the query is answered.</p>
  </dd>
  <dt>
    <p>\h'5'<em>refuse</em></p>
  </dt>
  <dd>
    <p>Send an error message reply, with rcode REFUSED. If there is a match from local data, the query is answered.</p>
  </dd>
  <dt>
    <p>\h'5'<em>static</em></p>
  </dt>
  <dd>
    <p>If there is a match from local data, the query is answered. Otherwise, the query is answered with nodata or nxdomain. For a negative answer a SOA is included in the answer if present as local-data for the zone apex domain.</p>
  </dd>
  <dt>
    <p>\h'5'<em>transparent</em></p>
  </dt>
  <dd>
    <p>If there is a match from local data, the query is answered. Otherwise if the query has a different name, the query is resolved normally. If the query is for a name given in localdata but no such type of data is given in localdata, then a noerror nodata answer is returned. If no local-zone is given local-data causes a transparent zone to be created by default.</p>
  </dd>
  <dt>
    <p>\h'5'<em>typetransparent</em></p>
  </dt>
  <dd>
    <p>If there is a match from local data, the query is answered.  If the query is for a different name, or for the same name but for a different type, the query is resolved normally.  So, similar to transparent but types that are not listed in local data are resolved normally, so if an A record is in the local data that does not cause a nodata reply for AAAA queries.</p>
  </dd>
  <dt>
    <p>\h'5'<em>redirect</em></p>
  </dt>
  <dd>
    <p>The query is answered from the local data for the zone name. There may be no local data beneath the zone name. This answers queries for the zone, and all subdomains of the zone with the local data for the zone. It can be used to redirect a domain to return a different address record to the end user, with local-zone: "example.com." redirect and local-data: "example.com. A 127.0.0.1" queries for www.example.com and www.foo.example.com are redirected, so that users with web browsers cannot access sites with suffix example.com.</p>
  </dd>
  <dt>
    <p>\h'5'<em>nodefault</em></p>
  </dt>
  <dd>
    <p>Used to turn off default contents for AS112 zones. The other types also turn off default contents for the zone. The 'nodefault' option has no other effect than turning off default contents for the given zone.</p>
  </dd>

</dl>
<p>The default zones are localhost, reverse 127.0.0.1 and ::1, and the AS112 zones. The AS112 zones are reverse DNS zones for private use and reserved IP addresses for which the servers on the internet cannot provide correct answers. They are configured by default to give nxdomain (no reverse information) answers. The defaults can be turned off by specifying your own local-zone of that name, or using the 'nodefault' type. Below is a list of the default zone contents.</p>
<dl class='dl-vertical'>
  <dt>
    <p>\h'5'<em>localhost</em></p>
  </dt>
  <dd>
    <p>The IP4 and IP6 localhost information is given. NS and SOA records are provided for completeness and to satisfy some DNS update tools. Default content:</p>
<pre>
local-zone: "localhost." static
local-data: "localhost. 10800 IN NS localhost."
local-data: "localhost. 10800 IN
    SOA localhost. nobody.invalid. 1 3600 1200 604800 10800"
local-data: "localhost. 10800 IN A 127.0.0.1"
local-data: "localhost. 10800 IN AAAA ::1"
</pre>

  </dd>
  <dt>
    <p>\h'5'<em>reverse IPv4 loopback</em></p>
  </dt>
  <dd>
    <p>Default content:</p>
<pre>
local-zone: "127.in-addr.arpa." static
local-data: "127.in-addr.arpa. 10800 IN NS localhost."
local-data: "127.in-addr.arpa. 10800 IN
    SOA localhost. nobody.invalid. 1 3600 1200 604800 10800"
local-data: "1.0.0.127.in-addr.arpa. 10800 IN
    PTR localhost."
</pre>

  </dd>
  <dt>
    <p>\h'5'<em>reverse IPv6 loopback</em></p>
  </dt>
  <dd>
    <p>Default content:</p>
<pre>
local-zone: "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.
    0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa." static
local-data: "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.
    0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa. 10800 IN
    NS localhost."
local-data: "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.
    0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa. 10800 IN
    SOA localhost. nobody.invalid. 1 3600 1200 604800 10800"
local-data: "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.
    0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa. 10800 IN
    PTR localhost."
</pre>

  </dd>
  <dt>
    <p>\h'5'<em>reverse RFC1918 local use zones</em></p>
  </dt>
  <dd>
    <p>Reverse data for zones 10.in-addr.arpa, 16.172.in-addr.arpa to 31.172.in-addr.arpa, 168.192.in-addr.arpa. The <strong>local-zone:</strong> is set static and as <strong>local-data:</strong> SOA and NS records are provided.</p>
  </dd>
  <dt>
    <p>\h'5'<em>reverse RFC3330 IP4 this, link-local, testnet and broadcast</em></p>
  </dt>
  <dd>
    <p>Reverse data for zones 0.in-addr.arpa, 254.169.in-addr.arpa, 2.0.192.in-addr.arpa (TEST NET 1), 100.51.198.in-addr.arpa (TEST NET 2), 113.0.203.in-addr.arpa (TEST NET 3), 255.255.255.255.in-addr.arpa.</p>
  </dd>
  <dt>
    <p>\h'5'<em>reverse RFC4291 IP6 unspecified</em></p>
  </dt>
  <dd>
    <p>Reverse data for zone</p>
<pre>
0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.
0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa.
</pre>

  </dd>
  <dt>
    <p>\h'5'<em>reverse RFC4193 IPv6 Locally Assigned Local Addresses</em></p>
  </dt>
  <dd>
    <p>Reverse data for zone D.F.ip6.arpa.</p>
  </dd>
  <dt>
    <p>\h'5'<em>reverse RFC4291 IPv6 Link Local Addresses</em></p>
  </dt>
  <dd>
    <p>Reverse data for zones 8.E.F.ip6.arpa to B.E.F.ip6.arpa.</p>
  </dd>
  <dt>
    <p>\h'5'<em>reverse IPv6 Example Prefix</em></p>
  </dt>
  <dd>
    <p>Reverse data for zone 8.B.D.0.1.0.0.2.ip6.arpa. This zone is used for tutorials and examples. You can remove the block on this zone with:</p>
<pre>
  local-zone: 8.B.D.0.1.0.0.2.ip6.arpa. nodefault
</pre>
<p>You can also selectively unblock a part of the zone by making that part transparent with a local-zone statement. This also works with the other default zones.</p>
  </dd>
  <dt>
    <p><strong>local-data: </strong><em>"&lt;resource record string&gt;"</em></p>
  </dt>
  <dd>
    <p>Configure local data, which is served in reply to queries for it. The query has to match exactly unless you configure the local-zone as redirect. If not matched exactly, the local-zone type determines further processing. If local-data is configured that is not a subdomain of a local-zone, a transparent local-zone is configured. For record types such as TXT, use single quotes, as in local-data: 'example. TXT "text"'.</p><ul>
<li><p>If you need more complicated authoritative data, with referrals, wildcards, CNAME/DNAME support, or DNSSEC authoritative service, setup a stub-zone for it as detailed in the stub zone section below.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>local-data-ptr: </strong><em>"IPaddr name"</em></p>
  </dt>
  <dd>
    <p>Configure local data shorthand for a PTR record with the reversed IPv4 or IPv6 address and the host name.  For example "192.0.2.4 www.example.com". TTL can be inserted like this: "2001:DB8::4 7200 www.example.com"</p>
  </dd>

</dl>

<h3>Remote Control Options</h3>
<p>In the <strong>remote-control:</strong> clause are the declarations for the remote control facility.  If this is enabled, the <a href="../man8/unbound-control.8.html"><strong>unbound-control</strong>(8)</a> utility can be used to send commands to the running unbound server.  The server uses these clauses to setup SSLv3 / TLSv1 security for the connection.  The <a href="../man8/unbound-control.8.html"><strong>unbound-control</strong>(8)</a> utility also reads the <strong>remote-control</strong> section for options.  To setup the correct self-signed certificates use the <strong>unbound-control-setup</strong>(8) utility.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>control-enable: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>The option is used to enable remote control, default is "yes". If turned off, the server does not listen for control commands.</p>
  </dd>
  <dt>
    <p><strong>control-interface: &lt;ip address&gt;</strong></p>
  </dt>
  <dd>
    <p>Give IPv4 or IPv6 addresses to listen on for control commands. By default localhost (127.0.0.1 and ::1) is listened to. Use 0.0.0.0 and ::0 to listen to all interfaces.</p>
  </dd>
  <dt>
    <p><strong>control-port: &lt;port number&gt;</strong></p>
  </dt>
  <dd>
    <p>The port number to listen on for control commands, default is 8953. If you change this port number, and permissions have been dropped, a reload is not sufficient to open the port again, you must then restart.</p>
  </dd>
  <dt>
    <p><strong>server-key-file: &lt;private key file&gt;</strong></p>
  </dt>
  <dd>
    <p>Path to the server private key, by default unbound_server.key. This file is generated by the <em>unbound-control-setup</em> utility. This file is used by the unbound server, but not by <em>unbound-control</em>.</p>
  </dd>
  <dt>
    <p><strong>server-cert-file: &lt;certificate file.pem&gt;</strong></p>
  </dt>
  <dd>
    <p>Path to the server self signed certificate, by default unbound_server.pem. This file is generated by the <em>unbound-control-setup</em> utility. This file is used by the unbound server, and also by <em>unbound-control</em>.</p>
  </dd>
  <dt>
    <p><strong>control-key-file: &lt;private key file&gt;</strong></p>
  </dt>
  <dd>
    <p>Path to the control client private key, by default unbound_control.key. This file is generated by the <em>unbound-control-setup</em> utility. This file is used by <em>unbound-control</em>.</p>
  </dd>
  <dt>
    <p><strong>control-cert-file: &lt;certificate file.pem&gt;</strong></p>
  </dt>
  <dd>
    <p>Path to the control client certificate, by default unbound_control.pem. This certificate has to be signed with the server certificate. This file is generated by the <em>unbound-control-setup</em> utility. This file is used by <em>unbound-control</em>.</p>
  </dd>

</dl>

<h3>Stub Zone Options</h3>
<p>There may be multiple <strong>stub-zone:</strong> clauses. Each with a name: and zero or more hostnames or IP addresses. For the stub zone this list of nameservers is used. Class IN is assumed. The servers should be authority servers, not recursors; unbound performs the recursive processing itself for stub zones.</p><p>The stub zone can be used to configure authoritative data to be used by the resolver that cannot be accessed using the public internet servers. This is useful for company-local data or private zones. Setup an authoritative server on a different host (or different port). Enter a config entry for unbound with <strong>stub-addr:</strong> &lt;ip address of host[@port]&gt;. The unbound resolver can then access the data, without referring to the public internet for it.</p><p>This setup allows DNSSEC signed zones to be served by that authoritative server, in which case a trusted key entry with the public key can be put in config, so that unbound can validate the data and set the AD bit on replies for the private zone (authoritative servers do not set the AD bit).  This setup makes unbound capable of answering queries for the private zone, and can even set the AD bit ('authentic'), but the AA ('authoritative') bit is not set on these replies.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>name: </strong><em>&lt;domain name&gt;</em></p>
  </dt>
  <dd>
    <p>Name of the stub zone.</p>
  </dd>
  <dt>
    <p><strong>stub-host: </strong><em>&lt;domain name&gt;</em></p>
  </dt>
  <dd>
    <p>Name of stub zone nameserver. Is itself resolved before it is used.</p>
  </dd>
  <dt>
    <p><strong>stub-addr: </strong><em>&lt;IP address&gt;</em></p>
  </dt>
  <dd>
    <p>IP address of stub zone nameserver. Can be IP 4 or IP 6. To use a nondefault port for DNS communication append '@' with the port number.</p>
  </dd>
  <dt>
    <p><strong>stub-prime: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>This option is by default off.  If enabled it performs NS set priming, which is similar to root hints, where it starts using the list of nameservers currently published by the zone.  Thus, if the hint list is slightly outdated, the resolver picks up a correct list online.</p>
  </dd>
  <dt>
    <p><strong>stub-first: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If enabled, a query is attempted without the stub clause if it fails. The data could not be retrieved and would have caused SERVFAIL because the servers are unreachable, instead it is tried without this clause. The default is no.</p>
  </dd>

</dl>

<h3>Forward Zone Options</h3>
<p>There may be multiple <strong>forward-zone:</strong> clauses. Each with a <strong>name:</strong> and zero or more hostnames or IP addresses.  For the forward zone this list of nameservers is used to forward the queries to. The servers listed as <strong>forward-host:</strong> and <strong>forward-addr:</strong> have to handle further recursion for the query.  Thus, those servers are not authority servers, but are (just like unbound is) recursive servers too; unbound does not perform recursion itself for the forward zone, it lets the remote server do it.  Class IN is assumed. A forward-zone entry with name "." and a forward-addr target will forward all queries to that other server (unless it can answer from the cache).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>name: </strong><em>&lt;domain name&gt;</em></p>
  </dt>
  <dd>
    <p>Name of the forward zone.</p>
  </dd>
  <dt>
    <p><strong>forward-host: </strong><em>&lt;domain name&gt;</em></p>
  </dt>
  <dd>
    <p>Name of server to forward to. Is itself resolved before it is used.</p>
  </dd>
  <dt>
    <p><strong>forward-addr: </strong><em>&lt;IP address&gt;</em></p>
  </dt>
  <dd>
    <p>IP address of server to forward to. Can be IP 4 or IP 6. To use a nondefault port for DNS communication append '@' with the port number.</p>
  </dd>
  <dt>
    <p><strong>forward-first: </strong><em>&lt;yes or no&gt;</em></p>
  </dt>
  <dd>
    <p>If enabled, a query is attempted without the forward clause if it fails. The data could not be retrieved and would have caused SERVFAIL because the servers are unreachable, instead it is tried without this clause. The default is no.</p>
  </dd>

</dl>

<h3>Python Module Options</h3>
<p>The <strong>python:</strong> clause gives the settings for the <strong>python</strong>(1) script module.  This module acts like the iterator and validator modules do, on queries and answers. To enable the script module it has to be compiled into the daemon, and the word "python" has to be put in the <strong>module-config:</strong> option (usually first, or between the validator and iterator).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>python-script: </strong><em>&lt;python file&gt;</em></p>
  </dt>
  <dd>
    <p>The script file to load.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MEMORY CONTROL EXAMPLE</h2>
        <div class="sectioncontent">
<p>In the example config settings below memory usage is reduced. Some service levels are lower, notable very large data and a high TCP load are no longer supported. Very large data and high TCP loads are exceptional for the DNS. DNSSEC validation is enabled, just add trust anchors. If you do not have to worry about programs using more than 3 Mb of memory, the below example is not for you. Use the defaults to receive full service, which on BSD-32bit tops out at 30-40 Mb after heavy usage.</p>
<pre>
# example settings that reduce memory usage
server:
	num-threads: 1
	outgoing-num-tcp: 1	# this limits TCP service, uses less buffers.
	incoming-num-tcp: 1
	outgoing-range: 60	# uses less memory, but less performance.
	msg-buffer-size: 8192   # note this limits service, 'no huge stuff'.
	msg-cache-size: 100k
	msg-cache-slabs: 1
	rrset-cache-size: 100k
	rrset-cache-slabs: 1
	infra-cache-numhosts: 200
	infra-cache-slabs: 1
	key-cache-size: 100k
	key-cache-slabs: 1
	neg-cache-size: 10k
	num-queries-per-thread: 30
	target-fetch-policy: "2 1 0 0 0 0"
	harden-large-queries: "yes"
	harden-short-bufsize: "yes"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/unbound</em></p>
  </dt>
  <dd>
    <p>default unbound working directory.</p>
  </dd>
  <dt>
    <p><em>/etc/unbound</em></p>
  </dt>
  <dd>
    <p>default <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a> location.</p>
  </dd>
  <dt>
    <p><em>/etc/unbound/unbound.conf</em></p>
  </dt>
  <dd>
    <p>unbound configuration file.</p>
  </dd>
  <dt>
    <p><em>/etc/unbound/unbound.pid</em></p>
  </dt>
  <dd>
    <p>default unbound pidfile with process ID of the running daemon.</p>
  </dd>
  <dt>
    <p><em>unbound.log</em></p>
  </dt>
  <dd>
    <p>unbound log file. default is to log to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO unbound.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/unbound.8.html"><strong>unbound</strong>(8)</a>, <a href="../man8/unbound-checkconf.8.html"><strong>unbound-checkconf</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>Unbound</strong> was written by NLnet Labs. Please see CREDITS file in the distribution for further details.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="umax_pp.5.html"><span aria-hidden="true">&larr;</span> umax_pp.5: Sane backend for umax astra parallel port flatbed scanners</a></li>
   <li class="next"><a href="unifont.5.html">unifont.5: A bitmapped font with full unicode plane 0 (bmp) coverage <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
