<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>opendkim.conf: Configuration file for opendkim</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for opendkim">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="opendkim.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for opendkim">
  <meta name="twitter:image" content="https://www.carta.tech/images/opendkim-opendkim.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/opendkim.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="opendkim.conf (5) manual" />
  <meta property="og:description" content="Configuration file for opendkim" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/opendkim-opendkim.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">opendkim.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for opendkim</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/opendkim.conf.5.html">
      <span itemprop="name">opendkim.conf: Configuration file for opendkim</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/opendkim/">
      <span itemprop="name">opendkim</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/opendkim.conf.5.html">
      <span itemprop="name">opendkim.conf: Configuration file for opendkim</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">LOCATION</h2>
        <div class="sectioncontent">
<p><em>/etc/opendkim.conf</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a></em> implements the <strong>DKIM</strong> specification for signing and verifying e-mail messages on a per-domain basis.  This file is its configuration file.</p><p>Blank lines are ignored.  Lines containing a hash ("#") character are truncated at the hash character to allow for comments in the file.</p><p>Other content should be the name of a parameter, followed by white space, followed by the value of that parameter, each on a separate line.</p><p>For parameters that are Boolean in nature, only the first byte of the value is processed.  For positive values, the following are accepted: "T", "t", "Y", "y", "1".  For negative values, the following are accepted: "F", "f", "N", "n", "0".</p><p>Many, but not all, of these parameters are also available as command line options to <a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a>.</em> However, new parameters are generally not added as command line options so the complete set of options is available here, and thus use of the configuration file is encouraged.  In some future release, the set of available command line options is likely to get trimmed.</p><p>See the <a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a></em> man page for details about how and when the configuration file contents are reloaded.</p><p>Some of these parameters are listed as having a type of "dataset". See the <a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a></em> man page for a description of such parameters.</p><p>Unless otherwise stated, Boolean values default to "false", integer values default to 0, and string and dataset values default to being undefined.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>AddAllSignatureResults (Boolean)</em></p>
  </dt>
  <dd>
    <p>If "true", results for all signatures will be reported by an added Authentication-Results header field.  Otherwise, only one signature will be reported, and which one depends on the <em>TrustSignaturesFrom</em> setting or, in its absence, which one(s) passed first or, if none passed, which one was found first during message processing.</p>
  </dd>
  <dt>
    <p><em>ADSPAction (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when an ADSP check against a message with no valid author signature results in the message being deemed suspicious and discardable.  Possible values are "discard" (accept the mesasge but throw it away) and "reject" (bounce the message).  If not set, discardable messages will still be delivered.</p>
  </dd>
  <dt>
    <p><em>ADSPNoSuchDomain (Boolean)</em></p>
  </dt>
  <dd>
    <p>If "true", requests rejection of messages that are determined to be from nonexistent domains according to the author domain signing practises (ADSP) test.</p>
  </dd>
  <dt>
    <p><em>AllowSHA1Only (Boolean)</em></p>
  </dt>
  <dd>
    <p>Permit verify mode when only SHA1 support is available.  RFC6376 requires that verifiers implement both SHA1 and SHA256 support.  Setting this feature changes the absence of SHA256 support from an error to a warning.</p>
  </dd>
  <dt>
    <p><em>AlwaysAddARHeader (Boolean)</em></p>
  </dt>
  <dd>
    <p>Add an "Authentication-Results:" header field even to unsigned messages from domains with no "signs all" policy.  The reported DKIM result will be "none" in such cases.  Normally unsigned mail from non-strict domains does not cause the results header field to be added.</p>
  </dd>
  <dt>
    <p><em>AuthservID (string)</em></p>
  </dt>
  <dd>
    <p>Sets the "authserv-id" to use when generating the Authentication-Results: header field after verifying a message.  The default is to use the name of the MTA processing the message.  If the string "HOSTNAME" is provided, the name of the host running the filter (as returned by the <strong>gethostname</strong>(3)</em> function) will be used.</p>
  </dd>
  <dt>
    <p><em>AuthservIDWithJobID (Boolean)</em></p>
  </dt>
  <dd>
    <p>If "true", requests that the authserv-id portion of the added Authentication-Results: header fields contain the job ID of the message being evaluated.</p>
  </dd>
  <dt>
    <p><em>AutoRestart (Boolean)</em></p>
  </dt>
  <dd>
    <p>Automatically re-start on failures.  Use with caution; if the filter fails instantly after it starts, this can cause a tight <a href="../man2/fork.2.html"><strong>fork</strong>(2)</a></em> loop.</p>
  </dd>
  <dt>
    <p><em>AutoRestartCount (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the maximum automatic restart count.  After this number of automatic restarts, the filter will give up and terminate. A value of 0 implies no limit; this is the default.</p>
  </dd>
  <dt>
    <p><em>AutoRestartRate (string)</em></p>
  </dt>
  <dd>
    <p>Sets the maximum automatic restart rate.  If the filter begins restarting faster than the rate defined here, it will give up and terminate. This is a string of the form <em>n/t[u]</em> where <em>n</em> is an integer limiting the count of restarts in the given interval and <em>t[u]</em> defines the time interval through which the rate is calculated; <em>t</em> is an integer and <em>u</em> defines the units thus represented ("s" or "S" for seconds, the default; "m" or "M" for minutes; "h" or "H" for hours; "d" or "D" for days).  For example, a value of "10/1h" limits the restarts to 10 in one hour.  There is no default, meaning restart rate is not limited.</p>
  </dd>
  <dt>
    <p><em>Background (Boolean)</em></p>
  </dt>
  <dd>
    <p>Causes <em>opendkim</em> to fork and exits immediately, leaving the service running in the background. The default is "true".</p>
  </dd>
  <dt>
    <p><em>BaseDirectory (string)</em></p>
  </dt>
  <dd>
    <p>If set, instructs the filter to change to the specified directory using <a href="../man2/chdir.2.html"><strong>chdir</strong>(2)</a></em> before doing anything else.  This means any files referenced elsewhere in the configuration file can be specified relative to this directory. It's also useful for arranging that any crash dumps will be saved to a specific location.</p>
  </dd>
  <dt>
    <p><em>BodyLengthDB (dataset)</em></p>
  </dt>
  <dd>
    <p>Requests that <em>opendkim</em> include a "l=" body length tag when the set contains any of the envelope recipient addresses.  The addresses presented are tested against the database in various forms as described under the <em>SigningTable</em> setting (below).  This feature of the protocol exists to improve the likelihood that a signature will survive transit through a mailing list server, as they commonly append footers to messages.  Note, however, that this creates a potential security issue since someone could add arbitrary text to the signed message and the signature would still validate. See the DKIM specification for details.</p>
  </dd>
  <dt>
    <p><em>BogusKey (string)</em></p>
  </dt>
  <dd>
    <p>Instructs the filter to treat a passing signature associated with a bogus (forged) key in a special way.  Possible values are <em>neutral</em> (return a "neutral" result), <em>none</em> (take no special action) and <em>fail</em> (return a "fail" result; this is the default).</p>
  </dd>
  <dt>
    <p><em>BogusPolicy (string)</em></p>
  </dt>
  <dd>
    <p>Instructs the filter to treat an ADSP policy found in an bogus (forged) DNS record in a special way.  Possible values are <em>apply</em> (apply the policy) and <em>ignore</em> (ignore the policy; this is the default).</p>
  </dd>
  <dt>
    <p><em>CaptureUnknownErrors (Boolean)</em></p>
  </dt>
  <dd>
    <p>When set, and on systems where MTA quarantine is available, the filter will request quarantine of a message that results in an internal error or resource exhaustion.</p>
  </dd>
  <dt>
    <p><em>Canonicalization (string)</em></p>
  </dt>
  <dd>
    <p>Selects the canonicalization method(s) to be used when signing messages. When verifying, the message's DKIM-Signature: header field specifies the canonicalization method.  The recognized values are <em>relaxed</em> and <em>simple</em> as defined by the DKIM specification.  The default is <em>simple.</em> The value may include two different canonicalizations separated by a slash ("/") character, in which case the first will be applied to the header and the second to the body.</p>
  </dd>
  <dt>
    <p><em>ChangeRootDirectory (string)</em></p>
  </dt>
  <dd>
    <p>Requests that the operating system change the effective root directory of the process to the one specified here prior to beginning execution. <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a> requires superuser access. A warning will be generated if <em>UserID</em> is not also set.</p>
  </dd>
  <dt>
    <p><em>ClockDrift (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the tolerance in seconds to be applied when determining whether a signature was either expired or generated in the future.  The default is 300.</p>
  </dd>
  <dt>
    <p><em>Diagnostics (Boolean)</em></p>
  </dt>
  <dd>
    <p>Requests the inclusion of "z=" tags in signatures, which encode the original header field set for use by verifiers when diagnosing verification failures.  Not recommended for normal operation.</p>
  </dd>
  <dt>
    <p><em>DiagnosticDirectory (string)</em></p>
  </dt>
  <dd>
    <p>Directory into which to write diagnostic reports when message verification fails on a message bearing a "z=" tag.  If not set (the default), these files are not generated.</p>
  </dd>
  <dt>
    <p><em>DisableADSP (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, suppresses Author Domain Signing Practices (ADSP) checks, which require multiple additional DNS queries.</p>
  </dd>
  <dt>
    <p><em>DisableCryptoInit (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, skips initialization of the SSL library initialization steps, which are normaly required in multi-threaded environments.  This assumes some other library opendkim is using will do the required initialization and shutdown.</p>
  </dd>
  <dt>
    <p><em>DNSConnect (Boolean)</em></p>
  </dt>
  <dd>
    <p>Requests that the asynchronous resolver start using TCP immediately rather than using UDP until TCP is actually needed.  Does not work with all resolvers.</p>
  </dd>
  <dt>
    <p><em>DNSTimeout (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the DNS timeout in seconds.  A value of 0 causes an infinite wait. The default is 5.  Ignored if not using an asynchronous resolver package. See also the NOTES section below.</p>
  </dd>
  <dt>
    <p><em>Domain (dataset)</em></p>
  </dt>
  <dd>
    <p>A set of domains whose mail should be signed by this filter.  Mail from other domains will be verified rather than being signed.</p><p>This parameter is not required if a <em>SigningTable</em> is in use; in that case, the list of signed domains is implied by the lines in that file.</p><p>This parameter is ignored if a <em>KeyTable</em> is defined.</p>
  </dd>
  <dt>
    <p><em>DomainKeysCompat (boolean)</em></p>
  </dt>
  <dd>
    <p>If set, backward compatibility with DomainKeys (RFC4870) key records is enabled.  When not set, such keys are considered to be syntactically invalid. The default is "false".</p>
  </dd>
  <dt>
    <p><em>DontSignMailTo (dataset)</em></p>
  </dt>
  <dd>
    <p>A set of e-mail address, mail to which should never be signed by the filter. Note that this is an "any" feature; if any one of the recipients of the message matches a member of this list, the message will not be signed.</p>
  </dd>
  <dt>
    <p><em>EnableCoredumps (boolean)</em></p>
  </dt>
  <dd>
    <p>On systems that have such support, make an explicit request to the kernel to dump cores when the filter crashes for some reason.  Some modern UNIX systems suppress core dumps during crashes for security reasons if the user ID has changed during the lifetime of the process.  Currently only supported on Linux.</p>
  </dd>
  <dt>
    <p><em>ExemptDomains (dataset)</em></p>
  </dt>
  <dd>
    <p>Specifies a set of domains, mail from which should be ignored entirely by the filter.  This is similar to the <em>PeerList</em> setting except that it bases its decision on the sender of the message as identified from the header fields or other message data, not the identity of the SMTP client sending the message.</p>
  </dd>
  <dt>
    <p><em>ExternalIgnoreList (dataset)</em></p>
  </dt>
  <dd>
    <p>Identifies a set of "external" hosts that may send mail through the server as one of the signing domains without credentials as such.  This has the effect of suppressing the "external host (hostname) tried to send mail as (domain)" log messages.  Entries in the data set should be of the same form as those of the <em>PeerList</em> option below.  The set is empty by default.</p>
  </dd>
  <dt>
    <p><em>FinalPolicyScript (string)</em></p>
  </dt>
  <dd>
    <p>Gives the name of a Lua script that should be run after the entire message has been received.  This can be used to enact local policy decisions such as message rejection, quarantine, rerouting, etc. based on signatures found on the message, the results of attempts to verify them, and other properties of the message or signatures.  See <a href="../man3/opendkim-lua.3.html"><strong>opendkim-lua</strong>(3)</a></em> for details.</p>
  </dd>
  <dt>
    <p><em>FixCRLF (Boolean)</em></p>
  </dt>
  <dd>
    <p>Requests that the DKIM library convert bare CRs and LFs to CRLFs during body canonicalization, anticipating that an MTA somewhere before delivery will do that conversion anyway.  The default is to leave them as-is.</p>
  </dd>
  <dt>
    <p><em>IdentityHeader (string)</em></p>
  </dt>
  <dd>
    <p>This specifies the header field where an identity is stored. (Experimental feature not enabled for this installation.)</p>
  </dd>
  <dt>
    <p><em>IdentityHeaderRemove (Boolean)</em></p>
  </dt>
  <dd>
    <p>Remove the <em>IdentityHeader</em> after signing. (Experimental feature not enabled for this installation.)</p>
  </dd>
  <dt>
    <p><em>Include (string)</em></p>
  </dt>
  <dd>
    <p>Names a file to be opened and read as an additional configuration file. Nesting is allowed to a maximum of five levels.</p>
  </dd>
  <dt>
    <p><em>InternalHosts (dataset)</em></p>
  </dt>
  <dd>
    <p>Identifies a set internal hosts whose mail should be signed rather than verified.  Entries in this data set follow the same form as those of the <em>PeerList</em> option below.  If not specified, the default of "127.0.0.1" is applied. Naturally, providing a value here overrides the default, so if mail from 127.0.0.1 should be signed, the list provided here should include that address explicitly.</p>
  </dd>
  <dt>
    <p><em>KeepAuthResults (boolean)</em></p>
  </dt>
  <dd>
    <p>Suppresses removal of Authentication-Results header fields containing DKIM results apparently added by this filter (usually the result of a misconfiguration or a forgery).</p>
  </dd>
  <dt>
    <p><em>KeepTemporaryFiles (boolean)</em></p>
  </dt>
  <dd>
    <p>Instructs the filter to create temporary files containing the header and body canonicalizations of messages that are signed or verified. The location of these files can be set using the <em>TemporaryDirectory</em> parameter.  Intended only for debugging verification problems.</p>
  </dd>
  <dt>
    <p><em>KeyFile (string)</em></p>
  </dt>
  <dd>
    <p>Gives the location of a PEM-formatted private key to be used for signing all messages.  Ignored if a <em>KeyTable</em> is defined.</p>
  </dd>
  <dt>
    <p><em>KeyTable (dataset)</em></p>
  </dt>
  <dd>
    <p>Gives the location of a file mapping key names to signing keys. If present, overrides any <em>KeyFile</em> setting in the configuration file.  The data set named here maps each key name to three values: (a) the name of the domain to use in the signature's "d=" value; (b) the name of the selector to use in the signature's "s=" value; and (c) either a private key or a path to a file containing a private key. If the first value consists solely of a percent sign ("%") character, it will be replaced by the apparent domain of the sender when generating a signature. If the third value starts with a slash ("/") character, or "./" or "../", then it is presumed to refer to a file from which the private key should be read, otherwise it is itself a PEM-encoded private key or a base64-encoded DER private key; a "%" in the third value in this case will be replaced by the apparent domain name of the sender.  The <em>SigningTable</em> (see below) is used to select records from this table to be used to add signatures based on the message sender.</p>
  </dd>
  <dt>
    <p><em>LDAPAuthMechanism (string)</em></p>
  </dt>
  <dd>
    <p>Names the authentication mechanism to use when connecting to an LDAP server.  The default is the empty string, meaning "simple" authentication should be done.</p>
  </dd>
  <dt>
    <p><em>LDAPAuthName (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the authenticating name to use when using SASL to authenticate to an LDAP server.  Requires SASL support be installed on the local system. There is no default.</p>
  </dd>
  <dt>
    <p><em>LDAPAuthRealm (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the authentication realm to use when using SASL to authenticate to an LDAP server.  Requires SASL support be installed on the local system. There is no default.</p>
  </dd>
  <dt>
    <p><em>LDAPAuthUser (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the authenticating user to use when using SASL to authenticate to an LDAP server.  Requires SASL support be installed on the local system. There is no default.</p>
  </dd>
  <dt>
    <p><em>LDAPBindPassword (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the password to use when conducting an LDAP "bind" operation. There is no default.</p>
  </dd>
  <dt>
    <p><em>LDAPBindUser (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the user ID to use when conducting an LDAP "bind" operation. There is no default.</p>
  </dd>
  <dt>
    <p><em>LDAPDisableCache (Boolean)</em></p>
  </dt>
  <dd>
    <p>Suppresses creation of a local cache in front of LDAP queries.</p>
  </dd>
  <dt>
    <p><em>LDAPKeepaliveIdle (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the number of seconds a connection to an LDAP server needs to remain idle before TCP starts sending keepalive probes.  If not specified, the LDAP library default is used.</p>
  </dd>
  <dt>
    <p><em>LDAPKeepaliveInterval (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the interval in seconds between TCP keepalive probes.  If not specified, the LDAP library default is used.</p>
  </dd>
  <dt>
    <p><em>LDAPKeepaliveProbes (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the maximum number of keepalive probes TCP should send before abandoning the connection.  If not specified, the LDAP library default is used.</p>
  </dd>
  <dt>
    <p><em>LDAPSoftStart (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, the inability to bind and authenticate to an LDAP server will not prevent the filter from starting, and reconnections will be attempted for each query.  The default is "False".</p>
  </dd>
  <dt>
    <p><em>LDAPTimeout (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the time in seconds after which an LDAP operation should be abandoned. The default is 5.</p>
  </dd>
  <dt>
    <p><em>LDAPUseTLS (Boolean)</em></p>
  </dt>
  <dd>
    <p>Indicates whether or not a TLS connection should be established when contacting an LDAP server.  The default is "False".</p>
  </dd>
  <dt>
    <p><em>LocalADSP (dataset)</em></p>
  </dt>
  <dd>
    <p>Allows specification of local ADSP overrides for domains.  This is expected to be a data set with keys and matching values; the keys are each either a fully-qualified domain name (e.g. "foo.example.com") or a subdomain name preceded by a period (e.g. ".example.com"), and the values are either <em>unknown,</em> <em>all,</em> or <em>discardable,</em> as per the ADSP specification (RFC5617).  This allows local overrides of policies to enforce for domains that either don't publish ADSP or publish weaker policies than the verifier would like to enforce.</p>
  </dd>
  <dt>
    <p><em>LogResults (boolean)</em></p>
  </dt>
  <dd>
    <p>If logging is enabled (see <em>Syslog</em> below), requests that the results of evaluation of all signatures that were at least partly intact (i.e., the "d=", "s=", and "b=" tags could be extracted).</p>
  </dd>
  <dt>
    <p><em>LogWhy (boolean)</em></p>
  </dt>
  <dd>
    <p>If logging is enabled (see <em>Syslog</em> below), issues very detailed logging about the logic behind the filter's decision to either sign a message or verify it.  The logic behind the decision is non-trivial and can be confusing to administrators not familiar with its operation.  A description of how the decision is made can be found in the OPERATIONS section of the <a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a></em> man page.  This causes a large increase in the amount of log data generated for each message, so it should be limited to debugging use and not enabled for general operation.</p>
  </dd>
  <dt>
    <p><em>MacroList (dataset)</em></p>
  </dt>
  <dd>
    <p>Defines a set of MTA-provided <em>macros</em> that should be checked to see if the sender has been determined to be a local user and therefore whether or not the message should be signed.  If a <em>value</em> is specified matching a macro name in the data set, the value of the macro must match a value specified (matching is case-sensitive), otherwise the macro must be defined but may contain any value.  The set is empty by default, meaning macros are not considered when making the sign-verify decision.  The general format of the value is <em>value1[|value2[|...]];</em> if one or more value is defined then the macro must be set to one of the listed values, otherwise the macro must be set but can contain any value.</p><p>In order for the macro and its value to be available to the filter for checking, the MTA must send it during the protocol exchange.  This is either accomplished via manual configuration of the MTA to send the desired macros or, for MTA/filter combinations that support the feature, the filter can request those macros that are of interest.  The latter is a feature negotiated at the time the filter receives a connection from the MTA and its availability depends upon the version of milter used to compile the filter and the version of the MTA making the connection.</p><p>This data set must be of type "file" or "csl".</p>
  </dd>
  <dt>
    <p><em>MaximumHeaders (integer)</em></p>
  </dt>
  <dd>
    <p>Defines the maximum number of bytes the header block of a message may consume before the filter will reject the message.  This mitigates a denial-of-service attack in which a client connects to the MTA and begins feeding an unbounded number of header fields of arbitrary size; since the filter keeps a cache of these, the attacker could cause the filter to allocate an unspecified amount of memory.  The default is 65536; a value of 0 removes the limit.</p>
  </dd>
  <dt>
    <p><em>MaximumSignaturesToVerify (integer)</em></p>
  </dt>
  <dd>
    <p>Defines the maximum number of signatures on a message for which verification should be conducted.  The default is three.  Signatures are selected from the top of the message downward.  If <em>TrustSignaturesFrom</em> is set, signatures from domains in that data set are always verified, which may consume part or all of, or even exceed, this limit.  Note that this could cause an author domain signature to be ignored, causing the ADSP evaluation to fail and, if <em>SendADSPReports</em> is enabled, a questionable report could be generated.</p>
  </dd>
  <dt>
    <p><em>MaximumSignedBytes (integer)</em></p>
  </dt>
  <dd>
    <p>Specifies the maximum number of bytes of message body to be signed. Messages shorter than this limit will be signed in their entirety. Setting this value implies use of <em>BodyLengthDB</em> for all addresses.</p>
  </dd>
  <dt>
    <p><em>MilterDebug (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the debug level to be requested from the milter library.  The default is 0.</p>
  </dd>
  <dt>
    <p><em>Minimum (string)</em></p>
  </dt>
  <dd>
    <p>Instructs the verification code to fail messages for which a partial signature was received.  There are three possible formats: <em>min</em> indicating at least <em>min</em> bytes of the message must be signed (or if the message is smaller than <em>min</em> then all of it must be signed); <em>min%</em> requiring that at least <em>min</em> percent of the received message must be signed; and <em>min+</em> meaning there may be no more than <em>min</em> bytes of unsigned data appended to the message for it to be considered valid.</p>
  </dd>
  <dt>
    <p><em>MinimumKeyBits (integer)</em></p>
  </dt>
  <dd>
    <p>Establishes a minimum key size for acceptable signatures.  Signatures with smaller key sizes, even if they otherwise pass DKIM validation, will me marked as invalid.  The default is 1024, which accepts all signatures.  A value of 0 causes the default to be used.</p>
  </dd>
  <dt>
    <p><em>Mode (string)</em></p>
  </dt>
  <dd>
    <p>Selects operating modes.  The string is a concatenation of characters that indicate which mode(s) of operation are desired.  Valid modes are <em>s</em> (signer) and <em>v</em> (verifier).  The default is <em>sv</em> except in test mode (see the <a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a></em> man page) in which case the default is <em>v.</em> When signing mode is enabled, one of the following combinations must also be set: (a) Domain, KeyFile, Selector, no KeyTable, no SigningTable; (b) KeyTable, SigningTable, no Domain, no KeyFile, no Selector; (c) KeyTable, SetupPolicyScript, no Domain, no KeyFile, no Selector.</p>
  </dd>
  <dt>
    <p><em>MTA (dataset)</em></p>
  </dt>
  <dd>
    <p>A set of MTA names (a la the <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></em> DaemonPortOptions Name parameter) whose mail should be signed by this filter.  There is no default, meaning MTA name is not considered when making the sign-verify decision.</p>
  </dd>
  <dt>
    <p><em>MTACommand (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the path to an executable to be used for sending mail such as that generated by <em>SendADSPReports</em> and <em>SendReports.</em> The default is /usr/sbin/sendmail.  The executable should accept typical <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></strong> command line options "-t" (take addresses from message body) and "-f" (set envelope sender), accept the new message on its standard input, and return a non-zero exit status on any error.</p>
  </dd>
  <dt>
    <p><em>MultipleSignatures (Boolean)</em></p>
  </dt>
  <dd>
    <p>Allow addition of multiple signatures when a signing table is in use.  See <em>SigningTable</em> for more information.</p>
  </dd>
  <dt>
    <p><em>MustBeSigned (dataset)</em></p>
  </dt>
  <dd>
    <p>Specifies a set of header fields that, if present, must be covered by the DKIM signature when verifying a message.  If a header field in this set is present in the message and is not signed, the filter will treat even an otherwise valid signature as invalid.  The default is an empty list.</p>
  </dd>
  <dt>
    <p><em>Nameservers (string)</em></p>
  </dt>
  <dd>
    <p>Provides a comma-separated list of IP addresses that are to be used when doing DNS queries to retrieve DKIM keys, ADSP policies, VBR records, etc. These override any local defaults built in to the resolver in use, which may be defined in <em>/etc/resolv.conf</em> or hard-coded into the software.</p>
  </dd>
  <dt>
    <p><em>NoHeaderB (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, this feature suppresses the use of "header.b" tags in added Authentication-Results header fields.  The default is "false", which means those tags will be applied.</p>
  </dd>
  <dt>
    <p><em>OmitHeaders (dataset)</em></p>
  </dt>
  <dd>
    <p>Specifies a set of header fields that should be omitted when generating signatures.  If an entry in the list names any header field that is mandated by the DKIM specification, the entry is ignored.  A set of header fields is listed in the DKIM specification (RFC6376, Section 5.4) as "SHOULD NOT" be signed; the default list for this parameter contains those fields (Return-Path, Received, Comments, Keywords, Bcc, Resent-Bcc and DKIM-Signature).  To omit no headers, simply use the string "." (or any string that will match no header field names). Specifying a list with this parameter replaces the default entirely, unless one entry is "*" in which case the list is interpreted as a delta to the default; for example, "*,+foobar" will use the entire default list plus the name "foobar", while "*,-Bcc" would use the entire default list except for the "Bcc" entry.</p>
  </dd>
  <dt>
    <p><em>On-BadSignature (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when a signature fails to validate. Possible values (with abbreviated forms in parentheses): <em>accept</em> (a) accept the message; <em>discard</em> (d) discard the message; <em>quarantine</em> (q) quarantine the message; <em>reject</em> (r) reject the message; <em>tempfail</em> (t) temp-fail the message. The default is <em>accept.</em> Note that the "t" (testing) flag in a DKIM key bypasses this behaviour; a bad signature that references a testing flag will still be delivered, though the added Authentication-Results field will indicate both the failed result and the test mode so that consumers of the message can take appropriate action.</p>
  </dd>
  <dt>
    <p><em>On-Default (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when any verification or internal error of any kind is encountered.  This is processed before the other "On-" values so it can be used as a blanket setting followed by specific overrides.</p>
  </dd>
  <dt>
    <p><em>On-DNSError (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when a transient DNS error is encountered. Possible values are the same as those for <em>On-BadSignature.</em> The default is <em>tempfail.</em></p>
  </dd>
  <dt>
    <p><em>On-InternalError (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when an internal error of some kind is encountered.  Possible values are the same as those for <em>On-BadSignature.</em> The default is <em>tempfail.</em></p>
  </dd>
  <dt>
    <p><em>On-KeyNotFound (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when the key referenced by a signature is not present in the DNS.  Possible values are the same as those for <em>On-BadSignature.</em> The default is <em>accept.</em></p>
  </dd>
  <dt>
    <p><em>On-NoSignature (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when a message arrives unsigned. Possible values are the same as those for <em>On-BadSignature.</em> The default is <em>accept.</em></p>
  </dd>
  <dt>
    <p><em>On-PolicyError (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when a an attempt to retrieve and evaluate the author domain's signing policy (ADSP) is unsuccessful. Possible values are the same as those for <em>On-BadSignature.</em> The default is <em>accept.</em></p>
  </dd>
  <dt>
    <p><em>On-Security (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when a message arrives containing properties that may be a security concern.  Possible values are the same as those for <em>On-BadSignature.</em> The default is <em>tempfail.</em></p>
  </dd>
  <dt>
    <p><em>On-SignatureError (string)</em></p>
  </dt>
  <dd>
    <p>Selects the action to be taken when a message cannot be signed because of issues with the message or the key provided for signing.  Possible values are the same as those for <em>On-BadSignature.</em> The default is <em>reject.</em></p>
  </dd>
  <dt>
    <p><em>OversignHeaders (dataset)</em></p>
  </dt>
  <dd>
    <p>Specifies a set of header fields that should be included in all signature header lists (the "h=" tag) once more than the number of times they were actually present in the signed message.  The set is empty by default.  The purpose of this, and especially of listing an absent header field, is to prevent the addition of important fields between the signer and the verifier. Since the verifier would include that header field when performing verification if it had been added by an intermediary, the signed message and the verified message were different and the verification would fail.  Note that listing a field name here and not listing it in the <em>SignHeaders</em> list is likely to generate invalid signatures.</p>
  </dd>
  <dt>
    <p><em>PeerList (dataset)</em></p>
  </dt>
  <dd>
    <p>Identifies a set of "peers" that identifies clients whose connections should be accepted without processing by this filter.  The set should contain on each line a hostname, domain name (e.g. ".example.com"), IP address, an IPv6 address (including an IPv4 mapped address), or a CIDR-style IP specification (e.g. "192.168.1.0/24").  An entry beginning with a bang ("!") character means "not", allowing exclusions of specific hosts that are otherwise members of larger sets.  Host and domain names are matched first, then the IP or IPv6 address depending on the connection type.  More precise entries are preferred over less precise ones, i.e. "192.168.1.1" will match before "!192.168.1.0/24".  The text form of IPv6 addresses will be forced to lowercase when queried (RFC5952), so the contents of this data set should also use lowercase.  The IP address portion of an entry may optionally contain square brackets; both forms (with and without) will be checked.</p>
  </dd>
  <dt>
    <p><em>PidFile (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the path to a file that should be created at process start containing the process ID.</p>
  </dd>
  <dt>
    <p><em>POPDBFile (dataset)</em></p>
  </dt>
  <dd>
    <p>Requests that the filter consult a set for IP addresses that should be allowed for signing. This feature was designed for POP-before-SMTP datastores. (Not enabled for this installation.)</p>
  </dd>
  <dt>
    <p><em>Quarantine (Boolean)</em></p>
  </dt>
  <dd>
    <p>Requests that messages which fail verification be quarantined by the MTA.  (Requires a sufficiently recent version of the milter library.)</p>
  </dd>
  <dt>
    <p><em>QueryCache (Boolean)</em></p>
  </dt>
  <dd>
    <p>Instructs the DKIM library to maintain its own local cache of keys and policies retrieved from DNS, rather than relying on the nameserver for caching service.  Useful if the nameserver being used by the filter is not local.</p>
  </dd>
  <dt>
    <p><em>RedirectFailuresTo (address)</em></p>
  </dt>
  <dd>
    <p>Messages bearing signatures that failed to verify are redirected to the specified address.  The original envelope recipient set is recorded in the header before redirection occurs.  By default, no redirection is done.</p>
  </dd>
  <dt>
    <p><em>RemoveARAll (Boolean)</em></p>
  </dt>
  <dd>
    <p>Removes all Authentication-Results: header fields that also satisfy the requirements of <em>RemoveARFrom</em> below.  By default, only those containing a DKIM result are removed.</p>
  </dd>
  <dt>
    <p><em>RemoveARFrom (dataset)</em></p>
  </dt>
  <dd>
    <p>Defines a set of hostnames whose Authentication-Results: header fields should be removed before the message is passed for delivery.  By default only those header fields matching the local host's canonical name will be removed. Matching is only done on full hostnames (e.g. "host.example.com") or on domain names (e.g. ".example.com").</p>
  </dd>
  <dt>
    <p><em>RemoveOldSignatures (Boolean)</em></p>
  </dt>
  <dd>
    <p>Removes all existing signatures when operating in signing mode.</p>
  </dd>
  <dt>
    <p><em>ReplaceHeaders (data set)</em></p>
  </dt>
  <dd>
    <p>Defines a set of header fields that should be affected by the text replacement rules defined by the <em>ReplaceRules</em> setting.  By default, all header fields are included. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>ReplaceRules (string)</em></p>
  </dt>
  <dd>
    <p>Specifies a file containing a list of text replacement rules that are applied to the message header fields to replace certain content expected to be changed as the message passes through local MTAs.  This can be used to accommodate expected changes such as are made to From: fields by MTA "masquerade" features.  Each entry in the file consists of a POSIX regular expression, followed by a tab (ASCII 9), followed by the text that should be used to replace the text matching the expression.  The '#' character denotes the beginning of a comment and text from that point on in a single line is ignored.  Blank lines are also skipped. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>ReportAddress (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the string to use in the From: header field for outgoing reports (see <em>SendReports</em> and <em>SendADSPReports</em> below).  If not specified, the executing user and local hostname will be used to construct the address.</p>
  </dd>
  <dt>
    <p><em>ReportBccAddress (string)</em></p>
  </dt>
  <dd>
    <p>Specifies address(es) to include in a Bcc: header field on outgoing reports (see <em>SendReports</em> and <em>SendADSPReports</em> below). If multiple addresses are required, they should be comma separated.</p>
  </dd>
  <dt>
    <p><em>RequestReports (boolean)</em></p>
  </dt>
  <dd>
    <p>When signing, includes a request for signature evaluation failures in the signature.  (See draft-ietf-marf-dkim-reporting for details.)</p>
  </dd>
  <dt>
    <p><em>RequiredHeaders (boolean)</em></p>
  </dt>
  <dd>
    <p>Checks all messages for compliance with RFC5322 header field count requirements.  Non-compliant messages are rejected.</p>
  </dd>
  <dt>
    <p><em>RequireSafeKeys (boolean)</em></p>
  </dt>
  <dd>
    <p>When reading a key file, a message will be logged if the key file has the read or write bit set other than for the owner or for a group that the executing process is in.  With this feature set to "true", the filter will further consider this an error and refuse to make use of the file's contents.  The default is "true".</p>
  </dd>
  <dt>
    <p><em>ResignAll (boolean)</em></p>
  </dt>
  <dd>
    <p>Where <em>ResignMailTo</em> triggers a re-signing action, this flag indicates whether or not all mail should be signed (if set) versus only verified mail being signed (if not set). The default is "false". (Experimental feature not enabled for this installation.)</p>
  </dd>
  <dt>
    <p><em>ResignMailTo (dataset)</em></p>
  </dt>
  <dd>
    <p>Checks each message recipient against the specified dataset for a matching record.  The full address is checked in each case, then the hostname, then each domain preceded by ".".  If there is a match, the value returned is presumed to be the name of a key in the <em>KeyTable</em> (if defined) to be used to re-sign the message in addition to verifying it. If there is a match without a <em>KeyTable,</em> the default key is applied. (Experimental feature not enabled for this installation.)</p>
  </dd>
  <dt>
    <p><em>ResolverConfiguration (string)</em></p>
  </dt>
  <dd>
    <p>Provides the given string as configuration information to the underlying resolver.  For the standard UNIX resolver, this is unused; for Unbound, the string contains a filename that is considered to be a configuration file. There is no default.</p>
  </dd>
  <dt>
    <p><em>ResolverTracing (Boolean)</em></p>
  </dt>
  <dd>
    <p>Requests resolver tracing features be enabled, if available.  The effect of this depends on how debugging features of the resolver might be implemented. Currently only effective with the OpenDKIM asynchronous resolver library.</p>
  </dd>
  <dt>
    <p><em>ScreenPolicyScript (string)</em></p>
  </dt>
  <dd>
    <p>Gives the name of a Lua script that should be run after all of the header fields have been processed for a message; in particular, this is useful after all DKIM signatures have been detected and initial evaluation has been done.  The script has access to all of the header fields and connection information and can that certain signatures be ignored based on that information.  See <a href="../man3/opendkim-lua.3.html"><strong>opendkim-lua</strong>(3)</a></em> for details.</p>
  </dd>
  <dt>
    <p><em>SelectCanonicalizationHeader (string)</em></p>
  </dt>
  <dd>
    <p>Defines a header field name which, if present, adjusts which canonicalization will be used to generate an outgoing signature.  Overrides the <em>Canonicalization</em> setting if the header field is present.  The default is "X-Canonicalization".</p>
  </dd>
  <dt>
    <p><em>Selector (string)</em></p>
  </dt>
  <dd>
    <p>Defines the name of the selector to be used when signing messages. See the <strong>DKIM</strong> specification for details.  Used only when signing with a single key; see the <em>SigningTable</em> parameter below for more information.</p><p>This parameter is ignored if a <em>KeyTable</em> is defined.</p>
  </dd>
  <dt>
    <p><em>SelectorHeader (string)</em></p>
  </dt>
  <dd>
    <p>Names a header field whose contents name the key to use when signing. The referenced key must appear in the <em>KeyTable.</em> @SELECTOR_HEADER_MANNOTICE@</p>
  </dd>
  <dt>
    <p><em>SelectorHeaderRemove (Boolean)</em></p>
  </dt>
  <dd>
    <p>Remove the <em>SelectorHeader</em> before signing. @SELECTOR_HEADER_MANNOTICE@</p>
  </dd>
  <dt>
    <p><em>SendADSPReports (Boolean)</em></p>
  </dt>
  <dd>
    <p>If true, when a policy evaluation fails and the signing site advertises a reporting address (i.e. <em>r=user</em> in its policy record) and a request for reports of such failures, the filter will send a structured report to that address containing details of the incident.</p>
  </dd>
  <dt>
    <p><em>SenderHeaders (dataset)</em></p>
  </dt>
  <dd>
    <p>Specifies an ordered list of header fields that should be searched to determine the sender of a message.  The first header field found is the one whose value is used.  This is mainly used when verifying a message to determine the origin domain (for policy checks), and when signing for deciding which signing request(s) to make.  By default, the DKIM library's internal list is used, which consists solely of the "From" header field.  See the <em>OmitHeaders</em> setting for a description of possible values.</p>
  </dd>
  <dt>
    <p><em>SenderMacro (string)</em></p>
  </dt>
  <dd>
    <p>Use the milter macro string to determine the sender of the message. (Experimental feature not enabled for this installation.)</p>
  </dd>
  <dt>
    <p><em>SendReports (Boolean)</em></p>
  </dt>
  <dd>
    <p>If true, when a signature verification fails and the signing site advertises a reporting address (i.e. <em>r=user</em> in its policy record) and a request for reports of such failures, the filter will send a structured report to that address containing details needed to reproduce the problem.</p>
  </dd>
  <dt>
    <p><em>SetupPolicyScript (string)</em></p>
  </dt>
  <dd>
    <p>Gives the name of a Lua script that should be run once all header fields for a message have arrived.  The script has access to all of the header fields and connection information and can request DKIM verification or signing based on that information.  See <a href="../man3/opendkim-lua.3.html"><strong>opendkim-lua</strong>(3)</a></em> for details.</p>
  </dd>
  <dt>
    <p><em>SignatureAlgorithm (string)</em></p>
  </dt>
  <dd>
    <p>Selects the signing algorithm to use when generating signatures. Use 'opendkim -V' to see the list of supported algorithms. The default is <em>rsa-sha256</em> if it is available, otherwise it will be <em>rsa-sha1.</em></p>
  </dd>
  <dt>
    <p><em>SignatureTTL (integer)</em></p>
  </dt>
  <dd>
    <p>Sets the time-to-live, in seconds, of signatures generated by the filter. If not set, no expiration time is added to signatures.</p>
  </dd>
  <dt>
    <p><em>SignHeaders (dataset)</em></p>
  </dt>
  <dd>
    <p>Specifies the set of header fields that should be included when generating signatures.  If the list omits any header field that is mandated by the DKIM specification, those fields are implicitly added.  By default, those fields listed in the DKIM specification as "SHOULD" be signed (RFC6376, Section 5.4) will be signed by the filter.  See the <em>OmitHeaders</em> configuration option for more information about the format and interpretation of this field.</p>
  </dd>
  <dt>
    <p><em>SigningTable (dataset)</em></p>
  </dt>
  <dd>
    <p>Defines a table used to select one or more signatures to apply to a message based on the address found in the From: header field.  Keys in this table vary depending on the type of table used; values in this data set should include one field that contains a name found in the <em>KeyTable</em> (see above) that identifies which key should be used in generating the signature, and an optional second field naming the signer of the message that will be included in the "i=" tag in the generated signature.  Note that the "i=" value will not be included in the signature if it conflicts with the signing domain (the "d=" value).</p><p>If the first field contains only a "%" character, it will be replaced by the domain found in the From: header field.  Similarly, within the optional second field, any "%" character will be replaced by the domain found in the From: header field.</p><p>If this table specifies a regular expression file ("refile"), then the keys are wildcard patterns that are matched against the address found in the From: header field.  Entries are checked in the order in which they appear in the file.</p><p>For all other database types, the full <em>user@host</em> is checked first, then simply <em>host,</em> then <em>user@.domain</em> (with all superdomains checked in sequence, so "foo.example.com" would first check "user@foo.example.com", then "user@.example.com", then "user@.com"), then <em>.domain,</em> then <em>user@*,</em> and finally <em>*.</em></p><p>In any case, only the first match is applied, unless <em>MultipleSignatures</em> is enabled in which case all matches are applied.</p>
  </dd>
  <dt>
    <p><em>SMTPURI (string)</em></p>
  </dt>
  <dd>
    <p>Specifies a URI (e.g., "smtp://localhost") to which mail should be sent via SMTP when notifications are generated. (Not enabled for this installation.)</p>
  </dd>
  <dt>
    <p><em>Socket (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the socket that should be established by the filter to receive connections from <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></em> in order to provide service. <em>socketspec</em> is in one of two forms: <em>local:path,</em> which creates a UNIX domain socket at the specified <em>path,</em> or <em>inet:port[@host]</em> or <em>inet6:port[@host]</em> which creates a TCP socket on the specified <em>port</em> and in the specified protocol family.  If the <em>host</em> is not given as either a hostname or an IP address, the socket will be listening on all interfaces.  A literal IP address must be enclosed in square brackets.  This option is mandatory either in the configuration file or on the command line.</p>
  </dd>
  <dt>
    <p><em>SoftwareHeader (Boolean)</em></p>
  </dt>
  <dd>
    <p>Causes <em>opendkim</em> to add an "DKIM-Filter" header field indicating the presence of this filter in the path of the message from injection to delivery.  The product's name, version, and the job ID are included in the header field's contents.  Note that the header field is not added if the <em>Mode</em> setting causes the message to be ignored (e.g., if only signing mode is enabled and the configuration causes the message not to be signed, or only verify mode is enabled and configuration would otherwise have caused the message to be signed, then it will not have this header field added).</p>
  </dd>
  <dt>
    <p><em>Statistics (filename)</em></p>
  </dt>
  <dd>
    <p>This specifies a file in which to store DKIM transaction statistics.  See <a href="../man8/opendkim-stats.8.html"><strong>opendkim-stats</strong>(8)</a></em> for a mechanism to parse the file's contents, and <em>opendkim-importstats()</em> for a mechanism to translate the file's contents into SQL database insertions. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>StatisticsName (string)</em></p>
  </dt>
  <dd>
    <p>Defines the name to be used as the reporting host in statistics logs. By default, the local host's name returned by <strong>gethostname</strong>(3)</em> is used. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>StatisticsPrefix (string)</em></p>
  </dt>
  <dd>
    <p>When <em>AnonymousStatistics</em> is enabled, this string may be specified and will be prepended to all data before hashing for more complete anonymization.  This means two records from different sources referencing the same source will still produce different hashes, meaning such correlation is now only possible within the data from a single repoter.</p>
  </dd>
  <dt>
    <p><em>StrictHeaders (Boolean)</em></p>
  </dt>
  <dd>
    <p>If set, instructs the DKIM library to refuse processing of a message if the header field count does not conform to RFC5322 Section 3.6.</p>
  </dd>
  <dt>
    <p><em>StrictTestMode (Boolean)</em></p>
  </dt>
  <dd>
    <p>Selects strict CRLF mode during testing (see the <em>-t</em> command line flag in the <a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a></em> man page); messages for which all header fields and body lines are not CRLF-terminated are considered malformed and will produce an error.</p>
  </dd>
  <dt>
    <p><em>SubDomains (Boolean)</em></p>
  </dt>
  <dd>
    <p>Sign subdomains of those listed by the <em>Domain</em> parameter as well as the actual domains.</p>
  </dd>
  <dt>
    <p><em>Syslog (Boolean)</em></p>
  </dt>
  <dd>
    <p>Log via calls to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></em> any interesting activity.</p>
  </dd>
  <dt>
    <p><em>SyslogFacility (string)</em></p>
  </dt>
  <dd>
    <p>Log via calls to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></em> using the named facility.  The facility names are the same as the ones allowed in <strong>syslog.conf</strong>(5).</em> The default is "mail".</p>
  </dd>
  <dt>
    <p><em>SyslogSuccess (Boolean)</em></p>
  </dt>
  <dd>
    <p>Log via calls to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></em> additional entries indicating successful signing or verification of messages.</p>
  </dd>
  <dt>
    <p><em>TemporaryDirectory (string)</em></p>
  </dt>
  <dd>
    <p>Specifies the directory in which temporary canonicalization files should be written.  The default is to use the <em>libdkim</em> default location, currently <em>/tmp.</em></p>
  </dd>
  <dt>
    <p><em>TestDNSData (data set)</em></p>
  </dt>
  <dd>
    <p>Provides a data set whose keys will be treated as DNS record names and values as TXT record contents.  Intended for use during automated testing.</p>
  </dd>
  <dt>
    <p><em>TestPublicKeys (string)</em></p>
  </dt>
  <dd>
    <p>Names a file from which public keys should be read.  Intended for use only during automated testing.</p>
  </dd>
  <dt>
    <p><em>TrustAnchorFile (string)</em></p>
  </dt>
  <dd>
    <p>Specifies a file from which trust anchor data should be read when doing DNS queries and applying the DNSSEC protocol.  This is currently ignored unless the underlying library is compiled to use Unbound; see the documentation at at http://unbound.net for the expected format of this file.</p>
  </dd>
  <dt>
    <p><em>TrustSignaturesFrom (dataset)</em></p>
  </dt>
  <dd>
    <p>This value consists of a set of domains that are considered trustworthy in terms of third-party signatures.  That is, if a message arrives with a signature from a domain that doesn't match the domain in the From: header, this setting determines whether or not that signature will be trusted.  If this value is undefined, all signatures are trusted.</p>
  </dd>
  <dt>
    <p><em>UMask (integer)</em></p>
  </dt>
  <dd>
    <p>Requests a specific permissions mask to be used for file creation. This only really applies to creation of the socket when <em>Socket</em> specifies a UNIX domain socket, and to the <em>PidFile</em> (if any); temporary files are created by the <a href="../man3/mkstemp.3.html"><strong>mkstemp</strong>(3)</a></em> function that enforces a specific file mode on creation regardless of the process umask.  See <a href="../man2/umask.2.html"><strong>umask</strong>(2)</a></em> for more information.</p>
  </dd>
  <dt>
    <p><em>UnprotectedKey (string)</em></p>
  </dt>
  <dd>
    <p>Instructs the filter to treat a passing signature associated with a key found in an insecure (i.e. not protected by DNSSEC) DNS record in a special way.  Possible values are <em>neutral</em> (return a "neutral" result), <em>none</em> (take no special action; this is the default) and <em>fail</em> (return a "fail" result).</p>
  </dd>
  <dt>
    <p><em>UnprotectedPolicy (string)</em></p>
  </dt>
  <dd>
    <p>Instructs the filter to treat an ADSP policy found in an insecure (i.e. not protected by DNSSEC) DNS record in a special way.  Possible values are <em>apply</em> (apply the policy; this is the default) and <em>ignore</em> (ignore the policy).</p>
  </dd>
  <dt>
    <p><em>UserID (string)</em></p>
  </dt>
  <dd>
    <p>Attempts to become the specified userid before starting operations. The value is of the form <em>userid[:group].</em> The process will be assigned all of the groups and primary group ID of the named <em>userid</em> unless an alternate <em>group</em> is specified.</p>
  </dd>
  <dt>
    <p><em>VBR-Certifiers (string)</em></p>
  </dt>
  <dd>
    <p>The default certifiers if not specified in X-VBR-Certifiers header field. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>VBR-PurgeFields (string)</em></p>
  </dt>
  <dd>
    <p>If set, arranges to remove X-VBR-Certifiers and X-VBR-Type fields on messages prior to sending them. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>VBR-TrustedCertifiers (string)</em></p>
  </dt>
  <dd>
    <p>A colon or comma sparated list of trusted certifiers to accept when verifying VBR-Info header field. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>VBR-TrustedCertifiersOnly (Boolean)</em></p>
  </dt>
  <dd>
    <p>By default, the certifiers that are in both the trusted certifiers list (above) and those in the message's VBR-Info header field will be checked for vouching.  With this option set, the trusted certifiers will be checked and the ones claimed by the message will be ignored. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>VBR-Type (string)</em></p>
  </dt>
  <dd>
    <p>This default VBR type if not specified in the X-VBR-Type header field. (Note: Feature is experimental.)</p>
  </dd>
  <dt>
    <p><em>WeakSyntaxChecks (Boolean)</em></p>
  </dt>
  <dd>
    <p>Requests that the library continue processing messages even if syntax errors are discovered early in message analysis.  This means, for example, that a signed message with a mangled From: field will still proceed to verification even if the author's domain could not be determined, which makes later ADSP checks impossible.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>When using DNS timeouts (see the <em>DNSTimeout</em> option above), be sure not to use a timeout that is larger than the timeout being used for interaction between <em>sendmail</em> and the filter.  Otherwise, the MTA could abort a message while waiting for a reply from the filter, which in turn is still waiting for a DNS reply.</p><p>Features that involve specification of IPv4 addresses or CIDR blocks will use the <a href="../man3/inet_addr.3.html"><strong>inet_addr</strong>(3)</a></em> function to parse that information.  Users should be familiar with the way that function handles the non-trivial cases (for example, "192.0.2/24" and "192.0.2.0/24" are not the same thing).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/opendkim.conf</em></p>
  </dt>
  <dd>
    <p>Default location of this file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This man page covers version 2.9.2 of <em>opendkim.</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2007, 2008, Sendmail, Inc. and its suppliers.  All rights reserved.</p><p>Copyright (c) 2009-2013, The Trusted Domain Project.  All rights reserved.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO opendkim.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/opendkim.8.html"><strong>opendkim</strong>(8)</a>, <a href="../man3/opendkim-lua.3.html"><strong>opendkim-lua</strong>(3)</a>, <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a></em></p><p>RFC5451 - Message Header Field for Indicating Message Authentication Status</p><p>RFC5617 - DKIM Author Domain Signing Practises</p><p>RFC5965 - An Extensible Format for Email Feedback Reports</p><p>RFC6008 - Authentication-Results Registration for Differentiating among Cryptographic Results</p><p>RFC6376 - DomainKeys Identified Mail</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="openais.conf.5.html"><span aria-hidden="true">&larr;</span> openais.conf.5: Openais executive configuration file</a></li>
   <li class="next"><a href="opendmarc.conf.5.html">opendmarc.conf.5: Configuration file for opendmarc <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
