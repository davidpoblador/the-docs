<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>radsecproxy.conf: Radsec proxy configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Radsec proxy configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="radsecproxy.conf (5) manual">
  <meta name="twitter:description" content="Radsec proxy configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/radsecproxy-radsecproxy.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/radsecproxy.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="radsecproxy.conf (5) manual" />
  <meta property="og:description" content="Radsec proxy configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/radsecproxy-radsecproxy.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">radsecproxy.conf<small> (5)</small></h1>
        <p class="lead">Radsec proxy configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/radsecproxy.conf.5.html">
      <span itemprop="name">radsecproxy.conf: Radsec proxy configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/radsecproxy/">
      <span itemprop="name">radsecproxy</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/radsecproxy.conf.5.html">
      <span itemprop="name">radsecproxy.conf: Radsec proxy configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>When the proxy server starts, it will first check the command line arguments, and then read the configuration file. Normally radsecproxy will read the configuration file \*(T&lt;<em>/etc/radsecproxy.conf</em>\*(T&gt;. The command line \*(T&lt;<strong>-c</strong>\*(T&gt; option can be used to instead read an alternate file (see <a href="../man1/radsecproxy.1.html"><strong>radsecproxy</strong>(1)</a> for details).</p><p>If the configuration file can not be found, the proxy will exit with an error message. Note that there is also an include facility so that any configuration file may include other configuration files. The proxy will also exit on configuration errors.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION SYNTAX</h2>
        <div class="sectioncontent">
<p>When the configuration file is processed, whitespace (spaces and tabs) are generally ignored. For each line, leading and trailing whitespace are ignored. A line is ignored if it is empty, only consists of whitespace, or if the first non-whitespace character is a \*(T&lt;#\*(T&gt;. The configuration is generally case insensitive, but in some cases the option values (see below) are not.</p><p>There are two types of configuration structures than can be used. The first and simplest are lines on the format <em>option value</em>. That is, an option name, see below for a list of valid options, followed by whitespace (at least one space or tab character), followed by a value. Note that if the value contains whitespace, then it must be quoted using \*(T&lt;""\*(T&gt; or \*(T&lt;''\*(T&gt;. Any whitespace in front of the option or after the value will be ignored.</p><p>The other type of structure is a block. A block spans at least two lines, and has the format:</p>
<pre>
blocktype name {
    option value
    option value
    ...
}

</pre>
<p>That is, some blocktype, see below for a list of the different block types, and then enclosed in braces you have zero or more lines that each have the previously described <em>option</em> value format. Different block types have different rules for which options can be specified, they are listed below. The rules regarding white space, comments and quotes are as above. Hence you may do things like:</p>
<pre>
blocktype name {
#    option value
    option "value with space"
    ...
}

</pre>
<p>Option value characters can also be written in hex. This is done by writing the character \*(T&lt;%\*(T&gt; followed by two hexadecimal digits. If a \*(T&lt;%\*(T&gt; is used without two following hexadecimal digits, the \*(T&lt;%\*(T&gt; and the following characters are used as written. If you want to write a \*(T&lt;%\*(T&gt; and not use this decoding, you may of course write \*(T&lt;%\*(T&gt; in hex; i.e., \*(T&lt;%25\*(T&gt;.</p><p>There is one special option that can be used both as a basic option and inside all blocks. That is the option \*(T&lt;Include\*(T&gt; where the value specifies files to be included. The value can be a single file, or it can use normal shell globbing to specify multiple files, e.g.:</p><p>include /etc/radsecproxy.conf.d/*.conf</p><p>The files are sorted alphabetically. Included files are read in the order they are specified, when reaching the end of a file, the next file is read. When reaching the end of the last included file, the proxy returns to read the next line following the \*(T&lt;Include\*(T&gt; option. Included files may again include other files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BASIC OPTIONS</h2>
        <div class="sectioncontent">
<p>The following basic options may be specified in the configuration file. Note that blocktypes and options inside blocks are discussed later. Note that none of these options are required, and indeed in many cases they are not needed. Note that you should specify each at most once. The behaviour with multiple occurences is undefined.</p>
<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;PidFile\*(T&gt;</p>
  </dt>
  <dd>
    <p>The PidFile option specifies the name of a file to which the process id (PID) will be written. This is overridden by the \*(T&lt;<strong>-i</strong>\*(T&gt; command line option. There is no default value for the PidFile option.</p>
  </dd>
  <dt>
    <p>\*(T&lt;LogLevel\*(T&gt;</p>
  </dt>
  <dd>
    <p>This option specifies the debug level. It must be set to 1, 2, 3, 4 or 5, where 1 logs only serious errors, and 5 logs everything. The default is 2 which logs errors, warnings and a few informational messages. Note that the command line option \*(T&lt;<strong>-d</strong>\*(T&gt; overrides this.</p>
  </dd>
  <dt>
    <p>\*(T&lt;LogDestination\*(T&gt;</p>
  </dt>
  <dd>
    <p>This specifies where the log messages should go. By default the messages go to syslog with facility \*(T&lt;LOG_DAEMON\*(T&gt;. Using this option you can specify another syslog facility, or you may specify that logging should be to a particular file, not using syslog. The value must be either a file or syslog URL. The file URL is the standard one, specifying a local file that should be used. For syslog, you must use the syntax: \*(T&lt;x-syslog:///FACILITY\*(T&gt; where \*(T&lt;FACILITY\*(T&gt; must be one of \*(T&lt;LOG_DAEMON\*(T&gt;, \*(T&lt;LOG_MAIL\*(T&gt;, \*(T&lt;LOG_USER\*(T&gt;, \*(T&lt;LOG_LOCAL0\*(T&gt;, \*(T&lt;LOG_LOCAL1\*(T&gt;, \*(T&lt;LOG_LOCAL2\*(T&gt;, \*(T&lt;LOG_LOCAL3\*(T&gt;, \*(T&lt;LOG_LOCAL4\*(T&gt;, \*(T&lt;LOG_LOCAL5\*(T&gt;, \*(T&lt;LOG_LOCAL6\*(T&gt; or \*(T&lt;LOG_LOCAL7\*(T&gt;. You may omit the facility from the URL to specify logging to the default facility, but this is not very useful since this is the default log destination. Note that this option is ignored if \*(T&lt;<strong>-f</strong>\*(T&gt; is specified on the command line.</p>
  </dd>
  <dt>
    <p>\*(T&lt;FTicksReporting\*(T&gt;</p>
  </dt>
  <dd>
    <p>The FTicksReporting option is used to enable F-Ticks logging and can be set to \*(T&lt;None\*(T&gt;, \*(T&lt;Basic\*(T&gt; or \*(T&lt;Full\*(T&gt;. Its default value is \*(T&lt;None\*(T&gt;. If FTicksReporting is set to anything other than \*(T&lt;None\*(T&gt;, note that the default value for FTicksMAC is \*(T&lt;VendorKeyHashed\*(T&gt; which needs FTicksKey to be set.</p><p>See \*(T&lt;radsecproxy.conf-example\*(T&gt; for details. Note that radsecproxy has to be configured with F-Ticks support (\*(T&lt;--enable-fticks\*(T&gt;) for this option to have any effect.</p>
  </dd>
  <dt>
    <p>\*(T&lt;FTicksMAC\*(T&gt;</p>
  </dt>
  <dd>
    <p>The FTicksMAC option can be used to control if and how Calling-Station-Id (the users Ethernet MAC address) is being logged. It can be set to one of \*(T&lt;Static\*(T&gt;, \*(T&lt;Original\*(T&gt;, \*(T&lt;VendorHashed\*(T&gt;, \*(T&lt;VendorKeyHashed\*(T&gt;, \*(T&lt;FullyHashed\*(T&gt; or \*(T&lt;FullyKeyHashed\*(T&gt;.</p><p>The default value for FTicksMAC is \*(T&lt;VendorKeyHashed\*(T&gt;. This means that FTicksKey has to be set.</p><p>Before chosing any of \*(T&lt;Original\*(T&gt;, \*(T&lt;FullyHashed\*(T&gt; or \*(T&lt;VendorHashed\*(T&gt;, consider the implications for user privacy when MAC addresses are collected. How will the logs be stored, transferred and accessed?</p><p>See \*(T&lt;radsecproxy.conf-example\*(T&gt; for details. Note that radsecproxy has to be configured with F-Ticks support (\*(T&lt;--enable-fticks\*(T&gt;) for this option to have any effect.</p>
  </dd>
  <dt>
    <p>\*(T&lt;FTicksKey\*(T&gt;</p>
  </dt>
  <dd>
    <p>The FTicksKey option is used to specify the key to use when producing HMAC's as an effect of specifying VendorKeyHashed or FullyKeyHashed for the FTicksMAC option.</p><p>Note that radsecproxy has to be configured with F-Ticks support (\*(T&lt;--enable-fticks\*(T&gt;) for this option to have any effect.</p>
  </dd>
  <dt>
    <p>\*(T&lt;FTicksSyslogFacility\*(T&gt;</p>
  </dt>
  <dd>
    <p>The FTicksSyslogFacility option is used to specify a dedicated syslog facility for F-Ticks messages. This allows for easier filtering of F-Ticks messages. If no FTicksSyslogFacility option is given, F-Ticks messages are written to what the LogDestination option specifies.</p><p>F-Ticks messages are always logged using the log level LOG_DEBUG. Note that specifying a file in FTicksSyslogFacility (using the file:/// prefix) is not supported.</p>
  </dd>
  <dt>
    <p>\*(T&lt;ListenUDP\*(T&gt;</p>
  </dt>
  <dd>
    <p>Normally the proxy will listen to the standard RADIUS UDP port \*(T&lt;1812\*(T&gt; if configured to handle UDP clients. On most systems it will do this for all of the system's IP addresses (both IPv4 and IPv6). On some systems however, it may respond to only IPv4 or only IPv6. To specify an alternate port you may use a value on the form \*(T&lt;*:port\*(T&gt; where port is any valid port number. If you also want to specify a specific address you can do e.g. \*(T&lt;192.168.1.1:1812\*(T&gt; or \*(T&lt;[2001:db8::1]:1812\*(T&gt;. The port may be omitted if you want the default one (like in these examples). These examples are equivalent to \*(T&lt;192.168.1.1\*(T&gt; and \*(T&lt;2001:db8::1\*(T&gt;. Note that you must use brackets around the IPv6 address. This option may be specified multiple times to listen to multiple addresses and/or ports.</p>
  </dd>
  <dt>
    <p>\*(T&lt;ListenTCP\*(T&gt;</p>
  </dt>
  <dd>
    <p>This option is similar to the \*(T&lt;ListenUDP\*(T&gt; option, except that it is used for receiving connections from TCP clients. The default port number is \*(T&lt;1812\*(T&gt;.</p>
  </dd>
  <dt>
    <p>\*(T&lt;ListenTLS\*(T&gt;</p>
  </dt>
  <dd>
    <p>This is similar to the \*(T&lt;ListenUDP\*(T&gt; option, except that it is used for receiving connections from TLS clients. The default port number is \*(T&lt;2083\*(T&gt;. Note that this option was previously called \*(T&lt;ListenTCP\*(T&gt;.</p>
  </dd>
  <dt>
    <p>\*(T&lt;ListenDTLS\*(T&gt;</p>
  </dt>
  <dd>
    <p>This is similar to the \*(T&lt;ListenUDP\*(T&gt; option, except that it is used for receiving connections from DTLS clients. The default port number is \*(T&lt;2083\*(T&gt;.</p>
  </dd>
  <dt>
    <p>\*(T&lt;SourceUDP\*(T&gt;</p>
  </dt>
  <dd>
    <p>This can be used to specify source address and/or source port that the proxy will use for sending UDP client messages (e.g. Access Request).</p>
  </dd>
  <dt>
    <p>\*(T&lt;SourceTCP\*(T&gt;</p>
  </dt>
  <dd>
    <p>This can be used to specify source address and/or source port that the proxy will use for TCP connections.</p>
  </dd>
  <dt>
    <p>\*(T&lt;SourceTLS\*(T&gt;</p>
  </dt>
  <dd>
    <p>This can be used to specify source address and/or source port that the proxy will use for TLS connections.</p>
  </dd>
  <dt>
    <p>\*(T&lt;SourceDTLS\*(T&gt;</p>
  </dt>
  <dd>
    <p>This can be used to specify source address and/or source port that the proxy will use for DTLS connections.</p>
  </dd>
  <dt>
    <p>\*(T&lt;TTLAttribute\*(T&gt;</p>
  </dt>
  <dd>
    <p>This can be used to change the default TTL attribute. Only change this if you know what you are doing. The syntax is either a numerical value denoting the TTL attribute, or two numerical values separated by column specifying a vendor attribute, i.e. \*(T&lt;vendorid:attribute\*(T&gt;.</p>
  </dd>
  <dt>
    <p>\*(T&lt;AddTTL\*(T&gt;</p>
  </dt>
  <dd>
    <p>If a TTL attribute is present, the proxy will decrement the value and discard the message if zero. Normally the proxy does nothing if no TTL attribute is present. If you use the AddTTL option with a value 1-255, the proxy will when forwarding a message with no TTL attribute, add one with the specified value. Note that this option can also be specified for a client/server. It will then override this setting when forwarding a message to that client/server.</p>
  </dd>
  <dt>
    <p>\*(T&lt;LoopPrevention\*(T&gt;</p>
  </dt>
  <dd>
    <p>This can be set to \*(T&lt;on\*(T&gt; or \*(T&lt;off\*(T&gt; with \*(T&lt;off\*(T&gt; being the default. When this is enabled, a request will never be sent to a server named the same as the client it was received from. I.e., the names of the client block and the server block are compared. Note that this only gives limited protection against loops. It can be used as a basic option and inside server blocks where it overrides the basic setting.</p>
  </dd>
  <dt>
    <p>\*(T&lt;IPv4Only and IPv6Only\*(T&gt;</p>
  </dt>
  <dd>
    <p>These can be set to \*(T&lt;on\*(T&gt; or \*(T&lt;off\*(T&gt; with \*(T&lt;off\*(T&gt; being the default. At most one of \*(T&lt;IPv4Only\*(T&gt; and \*(T&lt;IPv6Only\*(T&gt; can be enabled. Enabling \*(T&lt;IPv4Only\*(T&gt; or \*(T&lt;IPv6Only\*(T&gt; makes radsecproxy resolve DNS names to the corresponding address family only, and not the other. This is done for both clients and servers. Note that this can be overridden in \*(T&lt;client\*(T&gt; and \*(T&lt;server\*(T&gt; blocks, see below.</p>
  </dd>
  <dt>
    <p>\*(T&lt;Include\*(T&gt;</p>
  </dt>
  <dd>
    <p>This is not a normal configuration option; it can be specified multiple times. It can both be used as a basic option and inside blocks. For the full description, see the configuration syntax section above.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BLOCKS</h2>
        <div class="sectioncontent">
<p>There are five types of blocks, they are \*(T&lt;client\*(T&gt;, \*(T&lt;server\*(T&gt;, \*(T&lt;realm\*(T&gt;, \*(T&lt;tls\*(T&gt; and \*(T&lt;rewrite\*(T&gt;. At least one instance of each of \*(T&lt;client\*(T&gt; and \*(T&lt;realm\*(T&gt; is required. This is necessary for the proxy to do anything useful, and it will exit if not. The \*(T&lt;tls\*(T&gt; block is required if at least one TLS/DTLS client or server is configured. Note that there can be multiple blocks for each type. For each type, the block names should be unique. The behaviour with multiple occurences of the same name for the same block type is undefined. Also note that some block option values may reference a block by name, in which case the block name must be previously defined. Hence the order of the blocks may be significant.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLIENT BLOCK</h2>
        <div class="sectioncontent">
<p>The client block is used to configure a client. That is, tell the proxy about a client, and what parameters should be used for that client. The name of the client block must (with one exception, see below) be either the IP address (IPv4 or IPv6) of the client, an IP prefix (IPv4 or IPv6) on the form IpAddress/PrefixLength, or a domain name (FQDN). The way an FQDN is resolved into an IP address may be influenced by the use of the \*(T&lt;IPv4Only\*(T&gt; and \*(T&lt;IPv6Only\*(T&gt; options. Note that literal IPv6 addresses must be enclosed in brackets.</p><p>If a domain name is specified, then this will be resolved immediately to all the addresses associated with the name, and the proxy will not care about any possible DNS changes that might occur later. Hence there is no dependency on DNS after startup.</p><p>When some client later sends a request to the proxy, the proxy will look at the IP address the request comes from, and then go through all the addresses of each of the configured clients (in the order they are defined), to determine which (if any) of the clients this is.</p><p>In the case of TLS/DTLS, the name of the client must match the FQDN or IP address in the client certificate. Note that this is not required when the client name is an IP prefix.</p><p>Alternatively one may use the \*(T&lt;host\*(T&gt; option inside a client block. In that case, the value of the \*(T&lt;host\*(T&gt; option is used as above, while the name of the block is only used as a descriptive name for the administrator. The host option may be used multiple times, and can be a mix of addresses, FQDNs and prefixes.</p><p>The allowed options in a client block are \*(T&lt;host\*(T&gt;, \*(T&lt;IPv4Only\*(T&gt;, \*(T&lt;IPv6Only\*(T&gt;, \*(T&lt;type\*(T&gt;, \*(T&lt;secret\*(T&gt;, \*(T&lt;tls\*(T&gt;, \*(T&lt;certificateNameCheck\*(T&gt;, \*(T&lt;matchCertificateAttribute\*(T&gt;, \*(T&lt;duplicateInterval\*(T&gt;, \*(T&lt;AddTTL\*(T&gt;, \*(T&lt;fticksVISCOUNTRY\*(T&gt;, \*(T&lt;fticksVISINST\*(T&gt;, \*(T&lt;rewrite\*(T&gt;, \*(T&lt;rewriteIn\*(T&gt;, \*(T&lt;rewriteOut\*(T&gt;, and \*(T&lt;rewriteAttribute\*(T&gt;. We already discussed the \*(T&lt;host\*(T&gt; option. To specify how radsecproxy should resolve a \*(T&lt;host\*(T&gt; given as a DNS name, the \*(T&lt;IPv4Only\*(T&gt; or the \*(T&lt;IPv6Only\*(T&gt; can be set to \*(T&lt;on\*(T&gt;. At most one of these options can be enabled. Enabling \*(T&lt;IPv4Only\*(T&gt; or \*(T&lt;IPv6Only\*(T&gt; here overrides any basic settings set at the top level. The value of \*(T&lt;type\*(T&gt; must be one of \*(T&lt;udp\*(T&gt;, \*(T&lt;tcp\*(T&gt;, \*(T&lt;tls\*(T&gt; or \*(T&lt;dtls\*(T&gt;. The value of \*(T&lt;secret\*(T&gt; is the shared RADIUS key used with this client. If the secret contains whitespace, the value must be quoted. This option is optional for TLS/DTLS and if omitted will default to "radsec". (Note that using a secret other than "radsec" for TLS is a violation of the standard (RFC 6614) and that the proposed standard for DTLS stipulates that the secret must be "radius/dtls".)</p><p>For a TLS/DTLS client you may also specify the \*(T&lt;tls\*(T&gt; option. The option value must be the name of a previously defined TLS block. If this option is not specified, the TLS block with the name \*(T&lt;defaultClient\*(T&gt; will be used if defined. If not defined, it will try to use the TLS block named \*(T&lt;default\*(T&gt;. If the specified TLS block name does not exist, or the option is not specified and none of the defaults exist, the proxy will exit with an error. NOTE: All versions of radsecproxy up to and including 1.6 erroneously verify client certificate chains using the CA in the very first matching client block regardless of which block is used for the final decision. This was changed in version 1.6.1 so that a client block with a different \*(T&lt;tls\*(T&gt; option than the first matching client block is no longer considered for verification of clients.</p><p>For a TLS/DTLS client, the option \*(T&lt;certificateNameCheck\*(T&gt; can be set to \*(T&lt;off\*(T&gt;, to disable the default behaviour of matching CN or SubjectAltName against the specified hostname or IP address.</p><p>Additional validation of certificate attributes can be done by use of the \*(T&lt;matchCertificateAttribute\*(T&gt; option. Currently one can only do some matching of CN and SubjectAltName. For regexp matching on CN, one can use the value \*(T&lt;CN:/regexp/\*(T&gt;. For SubjectAltName one can only do regexp matching of the URI, this is specified as \*(T&lt;SubjectAltName:URI:/regexp/\*(T&gt;. Note that currently this option can only be specified once in a client block.</p><p>The \*(T&lt;duplicateInterval\*(T&gt; option can be used to specify for how many seconds duplicate checking should be done. If a proxy receives a new request within a few seconds of a previous one, it may be treated the same if from the same client, with the same authenticator etc. The proxy will then ignore the new request (if it is still processing the previous one), or returned a copy of the previous reply.</p><p>The \*(T&lt;AddTTL\*(T&gt; option is similar to the \*(T&lt;AddTTL\*(T&gt; option used in the basic config. See that for details. Any value configured here overrides the basic one when sending messages to this client.</p><p>The \*(T&lt;fticksVISCOUNTRY\*(T&gt; option configures clients eligible to F-Ticks logging as defined by the \*(T&lt;FTicksReporting\*(T&gt; basic option.</p><p>The \*(T&lt;fticksVISINST\*(T&gt; option overwrites the default \*(T&lt;VISINST\*(T&gt; value taken from the client block name.</p><p>The \*(T&lt;rewrite\*(T&gt; option is deprecated. Use \*(T&lt;rewriteIn\*(T&gt; instead.</p><p>The \*(T&lt;rewriteIn\*(T&gt; option can be used to refer to a rewrite block that specifies certain rewrite operations that should be performed on incoming messages from the client. The rewriting is done before other processing. For details, see the rewrite block text below. Similarly to \*(T&lt;tls\*(T&gt; discussed above, if this option is not used, there is a fallback to using the \*(T&lt;rewrite\*(T&gt; block named \*(T&lt;defaultClient\*(T&gt; if it exists; and if not, a fallback to a block named \*(T&lt;default\*(T&gt;.</p><p>The \*(T&lt;rewriteOut\*(T&gt; option is used in the same way as \*(T&lt;rewriteIn\*(T&gt;, except that it specifies rewrite operations that should be performed on outgoing messages to the client. The rewriting is done after other processing. Also, there is no rewrite fallback if this option is not used.</p><p>The \*(T&lt;rewriteAttribute\*(T&gt; option currently makes it possible to specify that the User-Name attribute in a client request shall be rewritten in the request sent by the proxy. The User-Name attribute is written back to the original value if a matching response is later sent back to the client. The value must be on the form User-Name:/regexpmatch/replacement/. Example usage:</p><p>rewriteAttribute User-Name:/^(.*)@local$/&#92;1@example.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SERVER BLOCK</h2>
        <div class="sectioncontent">
<p>The server block is used to configure a server. That is, tell the proxy about a server, and what parameters should be used when communicating with that server. The name of the server block must (with one exception, see below) be either the IP address (IPv4 or IPv6) of the server, or a domain name (FQDN). If a domain name is specified, then this will be resolved immediately to all the addresses associated with the name, and the proxy will not care about any possible DNS changes that might occur later. Hence there is no dependency on DNS after startup. If the domain name resolves to multiple addresses, then for UDP/DTLS the first address is used. For TCP/TLS, the proxy will loop through the addresses until it can connect to one of them. The way an FQDN is resolved into an IP address may be influenced by the use of the \*(T&lt;IPv4Only\*(T&gt; and \*(T&lt;IPv6Only\*(T&gt; options. In the case of TLS/DTLS, the name of the server must match the FQDN or IP address in the server certificate.</p><p>Alternatively one may use the \*(T&lt;host\*(T&gt; option inside a server block. In that case, the value of the \*(T&lt;host\*(T&gt; option is used as above, while the name of the block is only used as a descriptive name for the administrator. Note that multiple host options may be used. This will then be treated as multiple names/addresses for the same server. When initiating a TCP/TLS connection, all addresses of all names may be attempted, but there is no failover between the different host values. For failover one must use separate server blocks.</p><p>Note that the name of the block, or values of host options may include a port number (separated with a column). This port number will then override the default port or a port option in the server block. Also note that literal IPv6 addresses must be enclosed in brackets.</p><p>The allowed options in a server block are \*(T&lt;host\*(T&gt;, \*(T&lt;port\*(T&gt;, \*(T&lt;IPv4Only\*(T&gt;, \*(T&lt;IPv6Only\*(T&gt;, \*(T&lt;type\*(T&gt;, \*(T&lt;secret\*(T&gt;, \*(T&lt;tls\*(T&gt;, \*(T&lt;certificateNameCheck\*(T&gt;, \*(T&lt;matchCertificateAttribute\*(T&gt;, \*(T&lt;AddTTL\*(T&gt;, \*(T&lt;rewrite\*(T&gt;, \*(T&lt;rewriteIn\*(T&gt;, \*(T&lt;rewriteOut\*(T&gt;, \*(T&lt;statusServer\*(T&gt;, \*(T&lt;retryCount\*(T&gt;, \*(T&lt;dynamicLookupCommand\*(T&gt; and \*(T&lt;retryInterval\*(T&gt; and \*(T&lt;LoopPrevention\*(T&gt;.</p><p>We already discussed the \*(T&lt;host\*(T&gt; option. To specify how radsecproxy should resolve a \*(T&lt;host\*(T&gt; given as a DNS name, the \*(T&lt;IPv4Only\*(T&gt; or the \*(T&lt;IPv6Only\*(T&gt; can be set to \*(T&lt;on\*(T&gt;. At most one of these options can be enabled. Enabling \*(T&lt;IPv4Only\*(T&gt; or \*(T&lt;IPv6Only\*(T&gt; here overrides any basic settings set at the top level. The \*(T&lt;port\*(T&gt; option allows you to specify which port number the server uses. The usage of \*(T&lt;type\*(T&gt;, \*(T&lt;secret\*(T&gt;, \*(T&lt;tls\*(T&gt;, \*(T&lt;certificateNameCheck\*(T&gt;, \*(T&lt;matchCertificateAttribute\*(T&gt;, \*(T&lt;AddTTL\*(T&gt;, \*(T&lt;rewrite\*(T&gt;, \*(T&lt;rewriteIn\*(T&gt; and \*(T&lt;rewriteOut\*(T&gt; are just as specified for the \*(T&lt;client block\*(T&gt; above, except that \*(T&lt;defaultServer\*(T&gt; (and not \*(T&lt;defaultClient\*(T&gt;) is the fallback for the \*(T&lt;tls\*(T&gt;, \*(T&lt;rewrite\*(T&gt; and \*(T&lt;rewriteIn\*(T&gt; options.</p><p>\*(T&lt;statusServer\*(T&gt; can be specified to enable the use of status-server messages for this server. The value must be either \*(T&lt;on\*(T&gt; or \*(T&lt;off\*(T&gt;. The default when not specified, is \*(T&lt;off\*(T&gt;. If statusserver is enabled, the proxy will during idle periods send regular status-server messages to the server to verify that it is alive. This should only be enabled if the server supports it.</p><p>The options \*(T&lt;retryCount\*(T&gt; and \*(T&lt;retryInterval\*(T&gt; can be used to specify how many times the proxy should retry sending a request and how long it should wait between each retry. The defaults are 2 retries and an interval of 5s.</p><p>The option \*(T&lt;dynamicLookupCommand\*(T&gt; can be used to specify a command that should be executed to dynamically configure a server. The executable file should be given with full path and will be invoked with the name of the realm as its first and only argument. It should either print a valid \*(T&lt;server\*(T&gt; option on stdout and exit with a code of 0 or print nothing and exit with a non-zero exit code. An example of a shell script resolving the DNS NAPTR records for the realm and then the SRV records for each NAPTR matching 'x-eduroam:radius.tls' is provided in \*(T&lt;tools/naptr-eduroam.sh\*(T&gt;. This option was added in radsecproxy-1.3 but tends to crash radsecproxy versions earlier than 1.6.</p><p>Using the \*(T&lt;LoopPrevention\*(T&gt; option here overrides any basic setting of this option. See section \*(T&lt;BASIC OPTIONS\*(T&gt; for details on this option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REALM BLOCK</h2>
        <div class="sectioncontent">
<p>When the proxy receives an Access-Request it needs to figure out to which server it should be forwarded. This is done by looking at the Username attribute in the request, and matching that against the names of the defined realm blocks. The proxy will match against the blocks in the order they are specified, using the first match if any. If no realm matches, the proxy will simply ignore the request. Each realm block specifies what the server should do when a match is found. A realm block may contain none, one or multiple \*(T&lt;server\*(T&gt; options, and similarly \*(T&lt;accountingServer\*(T&gt; options. There are also \*(T&lt;replyMessage\*(T&gt; and \*(T&lt;accountingResponse\*(T&gt; options. We will discuss these later.</p><h3>REALM BLOCK NAMES AND MATCHING</h3>
<p>In the general case the proxy will look for a \*(T&lt;@\*(T&gt; in the username attribute, and try to do an exact case insensitive match between what comes after the \*(T&lt;@\*(T&gt; and the name of the realm block. So if you get a request with the attribute value \*(T&lt;anonymous@example.com\*(T&gt;, the proxy will go through the realm names in the order they are specified, looking for a realm block named \*(T&lt;example.com\*(T&gt;.</p><p>There are two exceptions to this, one is the realm name \*(T&lt;*\*(T&gt; which means match everything. Hence if you have a realm block named \*(T&lt;*\*(T&gt;, then it will always match. This should then be the last realm block defined, since any blocks after this would never be checked. This is useful for having a default.</p><p>The other exception is regular expression matching. If the realm name starts with a \*(T&lt;/\*(T&gt;, the name is treated as an regular expression. A case insensitive regexp match will then be done using this regexp on the value of the entire Username attribute. Optionally you may also have a trailing \*(T&lt;/\*(T&gt; after the regexp. So as an example, if you want to use regexp matching the domain \*(T&lt;example.com\*(T&gt; you could have a realm block named \*(T&lt;/@example&#92;&#92;.com$\*(T&gt;. Optinally this can also be written \*(T&lt;/@example&#92;&#92;.com$/\*(T&gt;. If you want to match all domains under the \*(T&lt;.com\*(T&gt; top domain, you could do \*(T&lt;/@.*&#92;&#92;.com$\*(T&gt;. Note that since the matching is done on the entire attribute value, you can also use rules like \*(T&lt;/^[a-k].*@example&#92;&#92;.com$/\*(T&gt; to get some of the users in this domain to use one server, while other users could be matched by another realm block and use another server.</p>
<h3>REALM BLOCK OPTIONS</h3>
<p>A realm block may contain none, one or multiple \*(T&lt;server\*(T&gt; options. If defined, the values of the \*(T&lt;server\*(T&gt; options must be the names of previously defined server blocks. Normally requests will be forwarded to the first server option defined. If there are multiple server options, the proxy will do fail-over and use the second server if the first is down. If the two first are down, it will try the third etc. If say the first server comes back up, it will go back to using that one. Currently detection of servers being up or down is based on the use of StatusServer (if enabled), and that TCP/TLS/DTLS connections are up.</p><p>A realm block may also contain none, one or multiple \*(T&lt;accountingServer\*(T&gt; options. This is used exactly like the \*(T&lt;server\*(T&gt; option, except that it is used for specifying where to send matching accounting requests. The values must be the names of previously defined server blocks. When multiple accounting servers are defined, there is a failover mechanism similar to the one for the \*(T&lt;server\*(T&gt; option.</p><p>If there is no \*(T&lt;server\*(T&gt; option, the proxy will if \*(T&lt;replyMessage\*(T&gt; is specified, reply back to the client with an Access Reject message. The message contains a replyMessage attribute with the value as specified by the \*(T&lt;replyMessage\*(T&gt; option. Note that this is different from having no match since then the request is simply ignored. You may wonder why this is useful. One example is if you handle say all domains under say \*(T&lt;.bv\*(T&gt;. Then you may have several realm blocks matching the domains that exists, while for other domains under \*(T&lt;.bv\*(T&gt; you want to send a reject. At the same time you might want to send all other requests to some default server. After the realms for the subdomains, you would then have two realm definitions. One with the name \*(T&lt;/@.*&#92;&#92;.bv$\*(T&gt; with no servers, followed by one with the name \*(T&lt;*\*(T&gt; with the default server defined. This may also be useful for blocking particular usernames.</p><p>If there is no \*(T&lt;accountingServer\*(T&gt; option, the proxy will normally do nothing, ignoring accounting requests. There is however an option called \*(T&lt;accountingResponse\*(T&gt;. If this is set to \*(T&lt;on\*(T&gt;, the proxy will log some of the accounting information and send an Accounting-Response back. This is useful if you do not care much about accounting, but want to stop clients from retransmitting accounting requests. By default this option is set to \*(T&lt;off\*(T&gt;.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TLS BLOCK</h2>
        <div class="sectioncontent">
<p>The TLS block specifies TLS configuration options and you need at least one of these if you have clients or servers using TLS/DTLS. As discussed in the client and server block descriptions, a client or server block may reference a particular TLS block by name. There are also however the special TLS block names \*(T&lt;default\*(T&gt;, \*(T&lt;defaultClient\*(T&gt; and \*(T&lt;defaultServer\*(T&gt; which are used as defaults if the client or server block does not reference a TLS block. Also note that a TLS block must be defined before the client or server block that would use it. If you want the same TLS configuration for all TLS/DTLS clients and servers, you need just a single tls block named \*(T&lt;default\*(T&gt;, and the client and servers need not refer to it. If you want all TLS/DTLS clients to use one config, and all TLS/DTLS servers to use another, then you would be fine only defining two TLS blocks named \*(T&lt;defaultClient\*(T&gt; and \*(T&lt;defaultServer\*(T&gt;. If you want different clients (or different servers) to have different TLS parameters, then you may need to create other TLS blocks with other names, and reference those from the client or server definitions. Note that you could also have say a client block refer to a default, even \*(T&lt;defaultServer\*(T&gt; if you really want to.</p><p>The available TLS block options are \*(T&lt;CACertificateFile\*(T&gt;, \*(T&lt;CACertificatePath\*(T&gt;, \*(T&lt;certificateFile\*(T&gt;, \*(T&lt;certificateKeyFile\*(T&gt;, \*(T&lt;certificateKeyPassword\*(T&gt;, \*(T&lt;cacheExpiry\*(T&gt;, \*(T&lt;CRLCheck\*(T&gt; and \*(T&lt;policyOID\*(T&gt;. When doing RADIUS over TLS/DTLS, both the client and the server present certificates, and they are both verified by the peer. Hence you must always specify \*(T&lt;certificateFile\*(T&gt; and \*(T&lt;certificateKeyFile\*(T&gt; options, as well as \*(T&lt;certificateKeyPassword\*(T&gt; if a password is needed to decrypt the private key. Note that \*(T&lt;CACertificateFile\*(T&gt; may be a certificate chain. In order to verify certificates, or send a chain of certificates to a peer, you also always need to specify \*(T&lt;CACertificateFile\*(T&gt; or \*(T&lt;CACertificatePath\*(T&gt;. Note that you may specify both, in which case the certificates in \*(T&lt;CACertificateFile\*(T&gt; are checked first. By default CRLs are not checked. This can be changed by setting \*(T&lt;CRLCheck\*(T&gt; to \*(T&lt;on\*(T&gt;. One can require peer certificates to adhere to certain policies by specifying one or multiple policyOIDs using one or multiple \*(T&lt;policyOID\*(T&gt; options.</p><p>CA certificates and CRLs are normally cached permanently. That is, once a CA or CRL has been read, the proxy will never attempt to re-read it. CRLs may change relatively often and the proxy should ideally always use the latest CRLs. Rather than restarting the proxy, there is an option \*(T&lt;cacheExpiry\*(T&gt; that specifies how many seconds the CA and CRL information should be cached. Reasonable values might be say 3600 (1 hour) or 86400 (24 hours), depending on how frequently CRLs are updated and how critical it is to be up to date. This option may be set to zero to disable caching.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REWRITE BLOCK</h2>
        <div class="sectioncontent">
<p>The rewrite block specifies rules that may rewrite RADIUS messages. It can be used to add, remove and modify specific attributes from messages received from and sent to clients and servers. As discussed in the client and server block descriptions, a client or server block may reference a particular rewrite block by name. There are however also the special rewrite block names \*(T&lt;default\*(T&gt;, \*(T&lt;defaultClient\*(T&gt; and \*(T&lt;defaultServer\*(T&gt; which are used as defaults if the client or server block does not reference a block. Also note that a rewrite block must be defined before the client or server block that would use it. If you want the same rewrite rules for input from all clients and servers, you need just a single rewrite block named \*(T&lt;default\*(T&gt;, and the client and servers need not refer to it. If you want all clients to use one config, and all servers to use another, then you would be fine only defining two rewrite blocks named \*(T&lt;defaultClient\*(T&gt; and \*(T&lt;defaultServer\*(T&gt;. Note that these defaults are only used for rewrite on input. No rewriting is done on output unless explicitly specified using the \*(T&lt;rewriteOut\*(T&gt; option.</p><p>The available rewrite block options are \*(T&lt;addAttribute\*(T&gt;, \*(T&lt;addVendorAttribute\*(T&gt;, \*(T&lt;removeAttribute\*(T&gt;, \*(T&lt;removeVendorAttribute\*(T&gt; and \*(T&lt;modifyAttribute\*(T&gt;. They can all be specified none, one or multiple times.</p><p>\*(T&lt;addAttribute\*(T&gt; is used to add attributes to a message. The option value must be on the form \*(T&lt;attribute:value\*(T&gt; where attribute is a numerical value specifying the attribute. Simliarly, the \*(T&lt;addVendorAttribute\*(T&gt; is used to specify a vendor attribute to be added. The option value must be on the form \*(T&lt;vendor:subattribute:value\*(T&gt;, where vendor and subattribute are numerical values.</p><p>The \*(T&lt;removeAttribute\*(T&gt; option is used to specify an attribute that should be removed from received messages. The option value must be a numerical value specifying which attribute is to be removed. Similarly, \*(T&lt;removeVendorAttribute\*(T&gt; is used to specify a vendor attribute that is to be removed. The value can be a numerical value for removing all attributes from a given vendor, or on the form \*(T&lt;vendor:subattribute\*(T&gt;, where vendor and subattribute are numerical values, for removing a specific subattribute for a specific vendor.</p><p>\*(T&lt;modifyAttribute\*(T&gt; is used to specify modification of attributes. The value must be on the form \*(T&lt;attribute:/regexpmatch/replacement/\*(T&gt; where attribute is a numerical attribute type, regexpmatch is regexp matching rule and replacement specifies how to replace the matching regexp. Example usage:</p><p>modifyAttribute 1:/^(.*)@local$/&#92;1@example.com/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO radsecproxy.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/radsecproxy.1.html"><strong>radsecproxy</strong>(1)</a>, &#92;$2 \(la&#92;$1\(ra&#92;$3</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="radrelay.conf.5.html"><span aria-hidden="true">&larr;</span> radrelay.conf.5: Configuration file for the freeradius server "radrelay" personality</a></li>
   <li class="next"><a href="radvd.conf.5.html">radvd.conf.5: Configuration file of the router advertisement daemon radvd <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
