<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nsscache.conf: Nss local cache synchroniser configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Nss local cache synchroniser configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nsscache.conf (5) manual">
  <meta name="twitter:description" content="Nss local cache synchroniser configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/nsscache-nsscache.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/nsscache.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nsscache.conf (5) manual" />
  <meta property="og:description" content="Nss local cache synchroniser configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nsscache-nsscache.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nsscache.conf<small> (5)</small></h1>
        <p class="lead">Nss local cache synchroniser configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nsscache.conf.5.html">
      <span itemprop="name">nsscache.conf: Nss local cache synchroniser configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nsscache/">
      <span itemprop="name">nsscache</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nsscache.conf.5.html">
      <span itemprop="name">nsscache.conf: Nss local cache synchroniser configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/etc/nsscache.conf</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>nsscache</strong> synchronises a local NSS cache, and other databases, against a remote data source. This approach allows the administrator to separate the network from the NSS lookup codepath, improving speed and reliability of name services.</p><p>The nsscache configuration file comprises of one DEFAULT section, followed by zero or more map-specific configuration sections.  The file format is similar to that of ".ini" files.</p><p>The DEFAULT section must provide at least one <strong>source</strong> keyword, specifying the data source to use, one <strong>cache</strong> keyword, specifying the means in which the cache data will be stored locally, and one <strong>maps</strong> keyword, specifying which NSS maps should be cached, and one <strong>timestamp_dir</strong> keyword, specifying the location of the timestamps used for incremental updates.</p><p>Additional global defaults, such as LDAP search parameters, or the filesystem location of the cache, may also be included in the DEFAULT section.</p><p>Additional sections may be included that allow per-map overrides to configuration options.  For example, one might specify their global LDAP search base as <strong>ou=People</strong> but want to override that for the <em>group</em> mapping as <strong>ou=Groups</strong></p><p>Apart from the <em>source</em>, <em>cache</em>, and <em>maps</em> configuration options, all options are prefixed by the name of the module that they configure.</p><p>A complete list of configuration options follows.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFAULT-only OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>source</strong></p>
  </dt>
  <dd>
    <p>Specifies the source to use to retrieve NSS data from.</p><p>Valid Options: <em>ldap</em></p>
  </dd>
  <dt>
    <p><strong>cache</strong></p>
  </dt>
  <dd>
    <p>Specifies the cache method to use to store the data, which will be queried by the NSS itself.</p><p>Valid options: <em>files</em> Store in a plain text file, similar in format to <em>/etc/passwd</em></p><p><em>cache</em> Store in a plain text cache file, with a <strong>.cache</strong> suffix, and an index, for use with the <em>nss-cache</em> NSS module.</p><p><em>nssdb</em> Store in a Berkeley DB file, for use with the <em>nss_db</em> NSS module.  Please note that this option is deprecated in favour of <em>cache</em></p>
  </dd>
  <dt>
    <p><strong>maps</strong></p>
  </dt>
  <dd>
    <p>Specifies the names of the maps that will be queried and cached by <em>nsscache</em></p><p>Valid options: <em>passwd</em> <em>group</em> <em>shadow</em> <em>netgroup</em> <em>automount</em> <em>sshkey</em></p>
  </dd>
  <dt>
    <p><strong>timestamp_dir</strong></p>
  </dt>
  <dd>
    <p>Specifies the directory where update and modify timestamps are stored.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ldap SOURCE OPTIONS</h2>
        <div class="sectioncontent">
<p>These options configure the behaviour of the <em>ldap</em> source.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ldap_uri</strong></p>
  </dt>
  <dd>
    <p>The LDAP URI to connect to.</p>
  </dd>
  <dt>
    <p><strong>ldap_base</strong></p>
  </dt>
  <dd>
    <p>The base to perform LDAP searches under.</p>
  </dd>
  <dt>
    <p><strong>ldap_filter</strong></p>
  </dt>
  <dd>
    <p>The search filter to use when querying.</p>
  </dd>
  <dt>
    <p><strong>ldap_scope</strong></p>
  </dt>
  <dd>
    <p>The search scope to use.  Defaults to <em>one</em></p>
  </dd>
  <dt>
    <p><strong>ldap_bind_dn</strong></p>
  </dt>
  <dd>
    <p>The bind DN to use when connecting to LDAP.  Emtpy string is an anonymous bind.  Defaults to the empty string.</p>
  </dd>
  <dt>
    <p><strong>ldap_bind_password</strong></p>
  </dt>
  <dd>
    <p>The bind password to use when connecting to LDAP.  Empty string is used for anonymous binds.  Defaults to the empty string.</p>
  </dd>
  <dt>
    <p><strong>ldap_timelimit</strong></p>
  </dt>
  <dd>
    <p>Timelimit in seconds for search results to return.  -1 means no limit. Defaults to -1.</p>
  </dd>
  <dt>
    <p><strong>ldap_retry_max</strong></p>
  </dt>
  <dd>
    <p>Number of retries on soft failures before giving up.  Defaults to 3.</p>
  </dd>
  <dt>
    <p><strong>ldap_retry_delay</strong></p>
  </dt>
  <dd>
    <p>Delay in seconds between retries.  Defaults to 5.</p>
  </dd>
  <dt>
    <p><strong>ldap_tls_require_cert</strong></p>
  </dt>
  <dd>
    <p>Sets expectations for SSL certificates, using TLS.  One of 'never', 'hard', 'demand', 'allow', or 'try'.  See <a href="../man5/ldap.conf.5.html"><strong>ldap.conf</strong>(5)</a> for more information.</p>
  </dd>
  <dt>
    <p><strong>ldap_tls_cacertdir</strong></p>
  </dt>
  <dd>
    <p>Directory for trusted CA certificates.  Defaults to <em>/usr/share/ssl</em></p>
  </dd>
  <dt>
    <p><strong>ldap_tls_cacertfile</strong></p>
  </dt>
  <dd>
    <p>Filename containing trusted CA certificates.  Defaults to <em>/usr/share/ssl/cert.pem</em></p>
  </dd>
  <dt>
    <p><strong>ldap_debug</strong></p>
  </dt>
  <dd>
    <p>Sets the debug level for the underlying C library.  Defaults to no logging.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">nssdb CACHE OPTIONS</h2>
        <div class="sectioncontent">
<p>These options configure the behaviour of the <em>nssdb</em> cache.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>nssdb_dir</strong></p>
  </dt>
  <dd>
    <p>Directory to store the Berkeley DB databases.  Defaults to the current directory.  Note that <strong>nss_db</strong> hardcodes the path to <em>/var/lib/misc</em> on Debian systems, and <em>/var/db</em> on Red Hat systems.</p>
  </dd>
  <dt>
    <p><strong>nssdb_makedb</strong></p>
  </dt>
  <dd>
    <p>Path to the <strong>makedb</strong>(1) command, which is used by the nssdb cache code to ensure that the Berkeley DB version created by the module matches that expected by the <strong>nss_db</strong> NSS module.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">files CACHE OPTIONS</h2>
        <div class="sectioncontent">
<p>These optiosn configure the behaviour of the <em>files</em> cache.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>files_dir</strong></p>
  </dt>
  <dd>
    <p>Directory location to store the plain text files in.  Defaults to the current directory.</p>
  </dd>
  <dt>
    <p><strong>files_cache_filename_suffix</strong></p>
  </dt>
  <dd>
    <p>A suffix appended to the cache filename to differentiate it from, say, system NSS databases.  Defaults to '.cache'.</p>
  </dd>
  <dt>
    <p><strong>files_local_automount_master</strong></p>
  </dt>
  <dd>
    <p>A yes/no field only used for automount maps.  A 'yes' value will cause nsscache to update the auto.master file with the master map from the source.  A 'no' value will cause nsscache to leave auto.master alone, allowing the system to manage this file in other ways.  When set to 'no', nsscache will only update other automount maps defined both locally and in the source.  Defaults to 'yes'.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>A typical example might look like this:</p>
<pre>
  [DEFAULT]
  source = ldap
  cache = nssdb
  maps = passwd, group, shadow
  ldap_uri = ldap://ldap.example.com
  ldap_base = ou=People,dc=example,dc=com
  ldap_filter = (objectclass=posixAccount)
  nssdb_dir = /var/lib/misc
</pre>

<pre>
  [group]
  ldap_base = ou=Group,dc=example,dc=com
  ldap_filter = (objectclass=posixGroup)
</pre>

<pre>
  [shadow]
  ldap_filter = (objectclass=posixAccount)
</pre>
<p>And a complementary <em>\|/etc/nsswitch.conf\|</em> might look like this:</p>
<pre>
  passwd: files db
  group: files db
  shadow: files db
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>\|/etc/nsscache.conf\|</em></p>
  </dt>
  <dd>
    <p>The system-wide nsscache configuration file</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nsscache.conf&hellip;</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><a href="../man1/nsscache.1.html"><strong>nsscache</strong>(1)</a></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><a href="../man5/nsswitch.conf.5.html"><strong>nsswitch.conf</strong>(5)</a></p>
  </dt>
  <dd>
    <p>The system name service switch configuration file</p>
  </dd>
  <dt>
    <p><a href="../man5/ldap.conf.5.html"><strong>ldap.conf</strong>(5)</a></p>
  </dt>
  <dd>
    <p>Details on LDAP configuration options exposed by the LDAP client libraries.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Jamie Wilkinson (jaq@google.com) and Vasilios Hoffman (vasilios@google.com).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2007 Google, Inc.</p><p>This is free software; see the source for copying conditions.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nss.5.html"><span aria-hidden="true">&larr;</span> nss.5: Name service switch configuration file</a></li>
   <li class="next"><a href="nsswitch.conf.5.html">nsswitch.conf.5: Name service switch configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
