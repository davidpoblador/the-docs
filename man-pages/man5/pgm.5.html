<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pgm: Portable graymap file format</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Portable graymap file format">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pgm (5) manual">
  <meta name="twitter:description" content="Portable graymap file format">
  <meta name="twitter:image" content="https://www.carta.tech/images/netpbm-pgm-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/pgm.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pgm (5) manual" />
  <meta property="og:description" content="Portable graymap file format" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/netpbm-pgm-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pgm<small> (5)</small></h1>
        <p class="lead">Portable graymap file format</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/pgm.5.html">
      <span itemprop="name">pgm: Portable graymap file format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/netpbm/">
      <span itemprop="name">netpbm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/pgm.5.html">
      <span itemprop="name">pgm: Portable graymap file format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The PGM format is a lowest common denominator grayscale file format. It is designed to be extremely easy to learn and write programs for. (It's so simple that most people will simply reverse engineer it because it's easier than reading this specification).</p><p>A PGM image represents a grayscale graphic image.  There are many psueudo-PGM formats in use where everything is as specified herein except for the meaning of individual pixel values.  For most purposes, a PGM image can just be thought of an array of arbitrary integers, and all the programs in the world that think they're processing a grayscale image can easily be tricked into processing something else.</p><p>One official variant of PGM is the transparency mask.  A transparency mask in Netpbm is represented by a PGM image, except that in place of pixel intensities, there are opaqueness values.  See below.</p><p>The format definition is as follows.</p><p>A PGM file consists of a sequence of one or more PGM images. There are no data, delimiters, or padding before, after, or between images.</p><p>Each PGM image consists of the following:</p><ul>
<li><p>A "magic number" for identifying the file type. A pgm image's magic number is the two characters "P5".</p></li><li><p>Whitespace (blanks, TABs, CRs, LFs).</p></li><li><p>A width, formatted as ASCII characters in decimal.</p></li><li><p>Whitespace.</p></li><li><p>A height, again in ASCII decimal.</p></li><li><p>Whitespace.</p></li><li><p>The maximum gray value (Maxval), again in ASCII decimal.  Must be less than 65536.</p></li><li><p>Newline or other single whitespace character.</p></li><li><p>A raster of Width * Height gray values, proceeding through the image in normal English reading order.  Each gray value is a number from 0 through Maxval, with 0 being black and Maxval being white.  Each gray value is represented in pure binary by either 1 or 2 bytes.  If the Maxval is less than 256, it is 1 byte.  Otherwise, it is 2 bytes.  The most significant byte is first.</p></li><li><p>Each gray value is a number proportional to the intensity of the pixel, adjusted by the CIE Rec. 709 gamma transfer function.  (That transfer function specifies a gamma number of 2.2 and has a linear section for small intensities).  A value of zero is therefore black. A value of Maxval represents CIE D65 white and the most intense value in the image and any other image to which the image might be compared.</p></li><li><p>Note that a common variation on the PGM format is to have the gray value be "linear," i.e. as specified above except without the gamma adjustment. <strong>pnmgamma</strong> takes such a PGM variant as input and produces a true PGM as output.</p></li><li><p>In the transparency mask variation on PGM, the value represents opaqueness.  It is proportional to the fraction of intensity of a pixel that would show in place of an underlying pixel, with the same gamma transfer function mentioned above applied.  So what normally means white represents total opaqueness and what normally means black represents total transparency.  In between, you would compute the intensity of a composite pixel of an "under" and "over" pixel as under * (1-(alpha/alpha_maxval)) + over * (alpha/alpha_maxval).&lt;</p></li><li><p>Characters from a "#" to the next end-of-line, before the maxval line, are comments and are ignored.</p></li>
</ul><p>Note that you can use <strong>pnmdepth</strong> To convert between a the format with 1 byte per gray value and the one with 2 bytes per gray value.</p><p>There is actually another version of the PGM format that is fairly rare: "plain" PGM format.  The format above, which generally considered the normal one, is known as the "raw" PGM format.  See <a href="../man5/pbm.5.html"><strong>pbm</strong>(5)</a> for some commentary on how plain and raw formats relate to one another.</p><p>The difference in the plain format is:</p><ul>
<li><p>There is exactly one image in a file.</p></li><li><p>The magic number is P2 instead of P5.</p></li><li><p>Each pixel in the raster is represented as an ASCII decimal number (of arbitrary size).</p></li><li><p>Each pixel in the raster has white space before and after it.  There must be at least one character of white space between any two pixels, but there is no maximum.</p></li><li><p>No line should be longer than 70 characters.</p></li>
</ul><p>Here is an example of a small graymap in this format:</p>
<pre>
P2
# feep.pgm
24 7
15
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  3  3  3  3  0  0  7  7  7  7  0  0 11 11 11 11  0  0 15 15 15 15  0
0  3  0  0  0  0  0  7  0  0  0  0  0 11  0  0  0  0  0 15  0  0 15  0
0  3  3  3  0  0  0  7  7  7  0  0  0 11 11 11  0  0  0 15 15 15 15  0
0  3  0  0  0  0  0  7  0  0  0  0  0 11  0  0  0  0  0 15  0  0  0  0
0  3  0  0  0  0  0  7  7  7  7  0  0 11 11 11 11  0  0 15  0  0  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
</pre>
<p>Programs that read this format should be as lenient as possible, accepting anything that looks remotely like a graymap.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p>Before April 2000, a raw format PGM file could not have a maxval greater than 255.  Hence, it could not have more than one byte per sample.  Old programs may depend on this.</p><p>Before July 2000, there could be at most one image in a PGM file.  As a result, most tools to process PGM files ignore (and don't read) any data after the first image.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pgm&hellip;</h2>
        <div class="sectioncontent">
<p><strong>fitstopgm</strong>(1), <a href="../man1/fstopgm.1.html"><strong>fstopgm</strong>(1)</a>, <a href="../man1/hipstopgm.1.html"><strong>hipstopgm</strong>(1)</a>, <a href="../man1/lispmtopgm.1.html"><strong>lispmtopgm</strong>(1)</a>, <a href="../man1/psidtopgm.1.html"><strong>psidtopgm</strong>(1)</a>, <a href="../man1/rawtopgm.1.html"><strong>rawtopgm</strong>(1)</a>, <a href="../man1/pgmbentley.1.html"><strong>pgmbentley</strong>(1)</a>, <strong>pgmcrater</strong>(1), <a href="../man1/pgmedge.1.html"><strong>pgmedge</strong>(1)</a>, <a href="../man1/pgmenhance.1.html"><strong>pgmenhance</strong>(1)</a>, <a href="../man1/pgmhist.1.html"><strong>pgmhist</strong>(1)</a>, <a href="../man1/pgmnorm.1.html"><strong>pgmnorm</strong>(1)</a>, <a href="../man1/pgmoil.1.html"><strong>pgmoil</strong>(1)</a>, <a href="../man1/pgmramp.1.html"><strong>pgmramp</strong>(1)</a>, <a href="../man1/pgmtexture.1.html"><strong>pgmtexture</strong>(1)</a>, <strong>pgmtofits</strong>(1), <a href="../man1/pgmtofs.1.html"><strong>pgmtofs</strong>(1)</a>, <a href="../man1/pgmtolispm.1.html"><strong>pgmtolispm</strong>(1)</a>, <a href="../man1/pgmtopbm.1.html"><strong>pgmtopbm</strong>(1)</a>, <a href="../man5/pnm.5.html"><strong>pnm</strong>(5)</a>, <a href="../man5/pbm.5.html"><strong>pbm</strong>(5)</a>, <a href="../man5/ppm.5.html"><strong>ppm</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1989, 1991 by Jef Poskanzer.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pgbouncer.5.html"><span aria-hidden="true">&larr;</span> pgbouncer.5: Lightweight connection pooler for postgresql.</a></li>
   <li class="next"><a href="pk_config_data.5.html">pk_config_data.5: Configuration file for pkcsslotd. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
