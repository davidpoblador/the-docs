<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lvm.conf: Lvm.conf  configuration file for lvm2</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lvm.conf  configuration file for lvm2">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lvm.conf (5) manual">
  <meta name="twitter:description" content="Lvm.conf  configuration file for lvm2">
  <meta name="twitter:image" content="https://www.carta.tech/images/lvm2-lvm.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/lvm.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lvm.conf (5) manual" />
  <meta property="og:description" content="Lvm.conf  configuration file for lvm2" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lvm2-lvm.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lvm.conf<small> (5)</small></h1>
        <p class="lead">Lvm.conf  configuration file for lvm2</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/lvm.conf.5.html">
      <span itemprop="name">lvm.conf: Lvm.conf  configuration file for lvm2</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lvm2/">
      <span itemprop="name">lvm2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/lvm.conf.5.html">
      <span itemprop="name">lvm.conf: Lvm.conf  configuration file for lvm2</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>/etc/lvm/lvm.conf</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lvm.conf</strong> is loaded during the initialisation phase of <a href="../man8/lvm.8.html"><strong>lvm</strong>(8)</a>.  This file can in turn lead to other files being loaded - settings read in later override earlier settings.  File timestamps are checked between commands and if any have changed, all the files are reloaded.</p><p>The settings defined in lvm.conf can be overridden by any of these extended configuration methods:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>direct config override on command line</strong></p>
  </dt>
  <dd>
    <p>The <strong>--config ConfigurationString</strong> command line option takes the ConfigurationString as direct string representation of the configuration to override the existing configuration. The ConfigurationString is of exactly the same format as used in any LVM configuration file.</p>
  </dd>
  <dt>
    <p><strong>profile config</strong></p>
  </dt>
  <dd>
    <p>A profile is a set of selected customizable configuration settings that are aimed to achieve a certain characteristics in various environments or uses. It's used to override existing configuration. Normally, the name of the profile should reflect that environment or use.</p><p>There are two groups of profiles recognised: <strong>command profiles</strong> and <strong>metadata profiles</strong>.</p><p>The <strong>command profile</strong> is used to override selected configuration settings at global LVM command level - it is applied at the very beginning of LVM command execution and it is used throughout the whole time of LVM command execution. The command profile is applied by using the <strong>--commandprofile ProfileName</strong> command line option that is recognised by all LVM2 commands.</p><p>The <strong>metadata profile</strong> is used to override selected configuration settings at Volume Group/Logical Volume level - it is applied independently for each Volume Group/Logical Volume that is being processed. As such, each Volume Group/Logical Volume can store the profile name used in its metadata so next time the Volume Group/Logical Volume is processed, the profile is applied automatically. If Volume Group and any of its Logical Volumes have different profiles defined, the profile defined for the Logical Volume is preferred. The metadata profile can be attached/detached by using the <strong>lvchange</strong> and <strong>vgchange</strong> commands and their <strong>--metadataprofile ProfileName</strong> and <strong>--detachprofile</strong> options or the <strong>--metadataprofile</strong> option during creation when using <strong>vgcreate</strong> or <strong>lvcreate</strong> command. The <strong>vgs</strong> and <strong>lvs</strong> reporting commands provide <strong>-o vg_profile</strong> and <strong>-o lv_profile</strong> output options to show the metadata profile currently attached to a Volume Group or a Logical Volume.</p><p>The set of options allowed for command profiles is mutually exclusive when compared to the set of options allowed for metadata profiles. The settings that belong to either of these two sets can't be mixed together and LVM tools will reject such profiles.</p><p>LVM itself provides a few predefined configuration profiles. Users are allowed to add more profiles with different values if needed. For this purpose, there's the <strong>command_profile_template.profile</strong> (for command profiles) and <strong>metadata_profile_template.profile</strong> (for metadata profiles) which contain all settings that are customizable by profiles of certain type. Users are encouraged to copy these template profiles and edit them as needed. Alternatively, the <strong>lvm dumpconfig --file &lt;ProfileName.profile&gt; --type profilable-command &lt;section&gt;</strong> or <strong>lvm dumpconfig --file &lt;ProfileName.profile&gt; --type profilable-metadata &lt;section&gt;</strong> can be used to generate a configuration with profilable settings in either of the type for given section and save it to new ProfileName.profile (if the section is not specified, all profilable settings are reported).</p><p>The profiles are stored in /etc/lvm/profile directory by default. This location can be changed by using the <strong>config/profile_dir</strong> setting. Each profile configuration is stored in <strong>ProfileName.profile</strong> file in the profile directory. When referencing the profile, the <strong>.profile</strong> suffix is left out.</p>
  </dd>
  <dt>
    <p><strong>tag config</strong></p>
  </dt>
  <dd>
    <p>See <strong>tags</strong> configuration setting description below.</p>
  </dd>

</dl>
<p>When several configuration methods are used at the same time and when LVM looks for the value of a particular setting, it traverses this <strong>config cascade</strong> from left to right:</p><p><strong>direct config override on command line</strong> -&gt; <strong>command profile config</strong> -&gt; <strong>metadata profile config</strong> -&gt; <strong>tag config</strong> -&gt; <strong>lvm.conf</strong></p><p>No part of this cascade is compulsory. If there's no setting value found at the end of the cascade, a default value is used for that setting. Use <strong>lvm dumpconfig</strong> to check what settings are in use and what the default values are.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>This section describes the configuration file syntax.</p><p>Whitespace is not significant unless it is within quotes. This provides a wide choice of acceptable indentation styles. Comments begin with # and continue to the end of the line. They are treated as whitespace.</p><p>Here is an informal grammar:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>file</strong> = <strong>value</strong>*</p>
  </dt>
  <dd>
    <p>A configuration file consists of a set of values.</p>
  </dd>
  <dt>
    <p><strong>value</strong> = <strong>section</strong> | <strong>assignment</strong></p>
  </dt>
  <dd>
    <p>A value can either be a new section, or an assignment.</p>
  </dd>
  <dt>
    <p><strong>section</strong> = <strong>identifier</strong> '<strong>{</strong>' <strong>value</strong>* '<strong>}</strong>'</p>
  </dt>
  <dd>
    <p>A section is groups associated values together.</p><p>It is denoted by a name and delimited by curly brackets.</p><p>e.g.	backup {</p><p>		...</p><p>	}</p>
  </dd>
  <dt>
    <p><strong>assignment</strong> = <strong>identifier</strong> '<strong>=</strong>' ( <strong>array</strong> | <strong>type</strong> )</p>
  </dt>
  <dd>
    <p>An assignment associates a type with an identifier.</p><p>e.g.	level = 7</p>
  </dd>
  <dt>
    <p><strong>array</strong> =  '<strong>[</strong>' ( <strong>type</strong> '<strong>,</strong>')* <strong>type</strong> '<strong>]</strong>' | '<strong>[</strong>' '<strong>]</strong>'</p>
  </dt>
  <dd>
    <p>Inhomogeneous arrays are supported.</p><p>Elements must be separated by commas.</p><p>An empty array is acceptable.</p>
  </dd>
  <dt>
    <p><strong>type</strong> = <strong>integer</strong> | <strong>float</strong> | <strong>string</strong></p>
  </dt>
  <dd>
    <p><strong>integer</strong> = [0-9]*</p><p><strong>float</strong> = [0-9]*'<strong>.</strong>'[0-9]*</p><p><strong>string </strong>= '<strong>"</strong>'.*'<strong>"</strong>'</p><ul>
<li><p>Strings must be enclosed in double quotes.</p></li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECTIONS</h2>
        <div class="sectioncontent">
<p>The sections that may be present in the file are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>devices</strong> &ndash; Device settings</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>dir</strong> &ndash; Directory in which to create volume group device nodes. Defaults to "/dev".  Commands also accept this as a prefix on volume group names.</p></li><li><p><strong>scan</strong> &ndash; List of directories to scan recursively for LVM physical volumes. Devices in directories outside this hierarchy will be ignored. Defaults to "/dev".</p></li><li><p><strong>preferred_names</strong> &ndash; List of patterns compared in turn against all the pathnames referencing the same device in in the scanned directories. The pathname that matches the earliest pattern in the list is the one used in any output.  As an example, if device-mapper multipathing is used, the following will select multipath device names:</p><p><strong>devices { preferred_names = [ "^/dev/mapper/mpath" ] }</strong></p></li><li><p><strong>filter</strong> &ndash; List of patterns to apply to devices found by a scan. Patterns are regular expressions delimited by any character and preceded by <strong>a</strong> (for accept) or <strong>r</strong> (for reject).  The list is traversed in order, and the first regex that matches determines if the device will be accepted or rejected (ignored).  Devices that don't match any patterns are accepted. If you want to reject patterns that don't match, end the list with "r/.*/". If there are several names for the same device (e.g. symbolic links in /dev), if the first matching pattern in the list for any of the names is an <strong>a</strong> pattern, the device is accepted; otherwise if the first matching pattern in the list for any of the names is an <strong>r</strong> pattern it is rejected; otherwise it is accepted.  As an example, to ignore /dev/cdrom you could use:</p><p><strong>devices { filter=["r|cdrom|"] }</strong></p></li><li><p><strong>global_filter</strong> &ndash; Since "filter" might get overridden from the command line, it is not suitable for system-wide device filtering (udev rules, lvmetad). To hide devices from LVM-specific udev processing and/or from lvmetad, you need to set global_filter. The syntax is the same as for normal "filter" above. Devices that fail the global_filter are not even opened by LVM.</p></li><li><p><strong>cache_dir</strong> &ndash; Persistent filter cache file directory. Defaults to "/etc/lvm/cache".</p></li><li><p><strong>write_cache_state</strong> &ndash; Set to 0 to disable the writing out of the persistent filter cache file when <strong>lvm</strong> exits. Defaults to 1.</p></li><li><p><strong>types</strong> &ndash; List of pairs of additional acceptable block device types found in /proc/devices together with maximum (non-zero) number of partitions (normally 16).  By default, LVM2 supports ide, sd, md, loop, dasd, dac960, nbd, ida, cciss, ubd, ataraid, drbd, power2, i2o_block and iseries/vd.  Block devices with major numbers of different types are ignored by LVM2. Example: <strong>types = ["fd", 16]</strong>. To create physical volumes on device-mapper volumes created outside LVM2, perhaps encrypted ones from <strong>cryptsetup</strong>, you'll need <strong>types = ["device-mapper", 16]</strong>.  But if you do this, be careful to avoid recursion within LVM2.  The figure for number of partitions is not currently used in LVM2 - and might never be.</p></li><li><p><strong>sysfs_scan</strong> &ndash; If set to 1 and your kernel supports sysfs and it is mounted, sysfs will be used as a quick way of filtering out block devices that are not present.</p></li><li><p><strong>md_component_detection</strong> &ndash; If set to 1, LVM2 will ignore devices used as components of software RAID (md) devices by looking for md superblocks. This doesn't always work satisfactorily e.g. if a device has been reused without wiping the md superblocks first.</p></li><li><p><strong>md_chunk_alignment</strong> &ndash; If set to 1, and a Physical Volume is placed directly upon an md device, LVM2 will align its data blocks with the md device's stripe-width.</p></li><li><p><strong>data_alignment_detection</strong> &ndash; If set to 1, and your kernel provides topology information in sysfs for the Physical Volume, the start of data area will be aligned on a multiple of the ’minimum_io_size’ or ’optimal_io_size’ exposed in sysfs.  minimum_io_size is the smallest request the device can perform without incurring a read-modify-write penalty (e.g. MD's chunk size).  optimal_io_size is the device's preferred unit of receiving I/O (e.g. MD's stripe width).  minimum_io_size is used if optimal_io_size is undefined (0).  If both <strong>md_chunk_alignment</strong> and <strong>data_alignment_detection</strong> are enabled the result of <strong>data_alignment_detection</strong> is used.</p></li><li><p><strong>data_alignment</strong> &ndash; Default alignment (in KB) of start of data area when creating a new Physical Volume using the <strong>lvm2</strong> format. If a Physical Volume is placed directly upon an md device and <strong>md_chunk_alignment</strong> or <strong>data_alignment_detection</strong> is enabled this parameter is ignored.  Set to 0 to use the default alignment of 64KB or the page size, if larger.</p></li><li><p><strong>data_alignment_offset_detection</strong> &ndash; If set to 1, and your kernel provides topology information in sysfs for the Physical Volume, the start of the aligned data area of the Physical Volume will be shifted by the alignment_offset exposed in sysfs.</p><p>To see the location of the first Physical Extent of an existing Physical Volume use <strong>pvs -o +pe_start</strong> .  It will be a multiple of the requested <strong>data_alignment</strong> plus the alignment_offset from <strong>data_alignment_offset_detection</strong> (if enabled) or the pvcreate commandline.</p></li><li><p><strong>disable_after_error_count</strong> &ndash; During each LVM operation errors received from each device are counted.  If the counter of a particular device exceeds the limit set here, no further I/O is sent to that device for the remainder of the respective operation. Setting the parameter to 0 disables the counters altogether.</p></li><li><p><strong>pv_min_size</strong> &ndash; Minimal size (in KB) of the block device which can be used as a PV. In clustered environment all nodes have to use the same value. Any value smaller than 512KB is ignored.  Up to and include version 2.02.84 the default was 512KB.  From 2.02.85 onwards it was changed to 2MB to avoid floppy drives by default.</p></li><li><p><strong>issue_discards</strong> &ndash; Issue discards to a logical volumes's underlying physical volume(s) when the logical volume is no longer using the physical volumes' space (e.g. lvremove, lvreduce, etc).  Discards inform the storage that a region is no longer in use. Storage that supports discards advertise the protocol specific way discards should be issued by the kernel (TRIM, UNMAP, or WRITE SAME with UNMAP bit set). Not all storage will support or benefit from discards but SSDs and thinly provisioned LUNs generally do.  If set to 1, discards will only be issued if both the storage and kernel provide support.</p></li><li></li>
</ul>
  </dd>
  <dt>
    <p><strong>allocation</strong> &ndash; Space allocation policies</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>cling_tag_list</strong> &ndash; List of PV tags matched by the <strong>cling</strong> allocation policy.</p></li><li><p>When searching for free space to extend an LV, the <strong>cling</strong> allocation policy will choose space on the same PVs as the last segment of the existing LV.  If there is insufficient space and a list of tags is defined here, it will check whether any of them are attached to the PVs concerned and then seek to match those PV tags between existing extents and new extents.</p></li><li><p>The @ prefix for tags is required. Use the special tag "@*" as a wildcard to match any PV tag and so use all PV tags for this purpose.</p></li><li><p>For example, LVs are mirrored between two sites within a single VG. PVs are tagged with either @site1 or @site2 to indicate where they are situated and these two PV tags are selected for use with this allocation policy:</p></li><li><p>cling_tag_list = [ "@site1", "@site2" ]</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>log</strong> &ndash; Default log settings</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>file</strong> &ndash; Location of log file.  If this entry is not present, no log file is written.</p></li><li><p><strong>overwrite</strong> &ndash; Set to 1 to overwrite the log file each time a tool is invoked.  By default tools append messages to the log file.</p></li><li><p><strong>level</strong> &ndash; Log level (0-9) of messages to write to the file. 9 is the most verbose; 0 should produce no output.</p></li><li><p><strong>verbose</strong> &ndash; Default level (0-3) of messages sent to stdout or stderr. 3 is the most verbose; 0 should produce the least output.</p></li><li><p><strong>silent</strong> &ndash; Set to 1 to suppress all non-essential tool output. When set, display and reporting tools will still write the requested device properties to standard output, but messages confirming that something was or wasn't changed will be reduced to the 'verbose' level and not appear unless -v is supplied.</p></li><li><p><strong>syslog</strong> &ndash; Set to 1 (the default) to send log messages through syslog. Turn off by setting to 0.  If you set to an integer greater than one, this is used - unvalidated - as the facility.  The default is LOG_USER. See /usr/include/sys/syslog.h for safe facility values to use. For example, LOG_LOCAL0 might be 128.</p></li><li><p><strong>indent</strong> &ndash; When set to 1 (the default) messages are indented according to their severity, two spaces per level. Set to 0 to turn off indentation.</p></li><li><p><strong>command_names</strong> &ndash; When set to 1, the command name is used as a prefix for each message. Default is 0 (off).</p></li><li><p><strong>prefix</strong> &ndash; Prefix used for all messages (after the command name). Default is two spaces.</p></li><li><p><strong>activation</strong> &ndash; Set to 1 to log messages while devices are suspended during activation. Only set this temporarily while debugging a problem because in low memory situations this setting can cause your machine to lock up.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>backup</strong> &ndash; Configuration for metadata backups.</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>archive_dir</strong> &ndash; Directory used for automatic metadata archives. Backup copies of former metadata for each volume group are archived here. Defaults to "/etc/lvm/archive".</p></li><li><p><strong>backup_dir</strong> &ndash; Directory used for automatic metadata backups. A single backup copy of the current metadata for each volume group is stored here. Defaults to "/etc/lvm/backup".</p></li><li><p><strong>archive</strong> &ndash; Whether or not tools automatically archive existing metadata into <strong>archive_dir</strong> before making changes to it. Default is 1 (automatic archives enabled). Set to 0 to disable. Disabling this might make metadata recovery difficult or impossible if something goes wrong.</p></li><li><p><strong>backup</strong> &ndash; Whether or not tools make an automatic backup into <strong>backup_dir</strong> after changing metadata. Default is 1 (automatic backups enabled).  Set to 0 to disable. Disabling this might make metadata recovery difficult or impossible if something goes wrong.</p></li><li><p><strong>retain_min</strong> &ndash; Minimum number of archives to keep. Defaults to 10.</p></li><li><p><strong>retain_days</strong> &ndash; Minimum number of days to keep archive files. Defaults to 30.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>shell</strong> &ndash; LVM2 built-in readline shell settings</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>history_size</strong> &ndash; Maximum number of lines of shell history to retain (default 100) in $HOME/.lvm_history</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>global</strong> &ndash; Global settings</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>test</strong> &ndash; If set to 1, run tools in test mode i.e. no changes to the on-disk metadata will get made.  It's equivalent to having the -t option on every command.</p></li><li><p><strong>activation</strong> &ndash; Set to 0 to turn off all communication with the device-mapper driver.  Useful if you want to manipulate logical volumes while device-mapper is not present in your kernel.</p></li><li><p><strong>proc</strong> &ndash; Mount point of proc filesystem. Defaults to /proc.</p></li><li><p><strong>umask</strong> &ndash; File creation mask for any files and directories created. Interpreted as octal if the first digit is zero. Defaults to 077. Use 022 to allow other users to read the files by default.</p></li><li><p><strong>format</strong> &ndash; The default value of <strong>--metadatatype</strong> used to determine which format of metadata to use when creating new physical volumes and volume groups. <strong>lvm1</strong> or <strong>lvm2</strong>.</p></li><li><p><strong>fallback_to_lvm1</strong> &ndash; Set this to 1 if you need to be able to switch between 2.4 kernels using LVM1 and kernels including device-mapper. The LVM2 tools should be installed as normal and the LVM1 tools should be installed with a .lvm1 suffix e.g. vgscan.lvm1. If an LVM2 tool is then run but unable to communicate with device-mapper, it will automatically invoke the equivalent LVM1 version of the tool.  Note that for LVM1 tools to manipulate physical volumes and volume groups created by LVM2 you must use <strong>--metadataformat lvm1</strong> when creating them.</p></li><li><p><strong>library_dir</strong> &ndash; A directory searched for LVM2's shared libraries ahead of the places <strong>dlopen</strong> (3) searches.</p></li><li><p><strong>format_libraries</strong> &ndash; A list of shared libraries to load that contain code to process different formats of metadata. For example, liblvm2formatpool.so is needed to read GFS pool metadata if LVM2 was configured <strong>--with-pool=shared</strong>.</p></li><li><p><strong>locking_type</strong> &ndash; What type of locking to use. 1 is the default, which use flocks on files in <strong>locking_dir</strong> (see below) to avoid conflicting LVM2 commands running concurrently on a single machine. 0 disables locking and risks corrupting your metadata. If set to 2, the tools will load the external <strong>locking_library</strong> (see below). If the tools were configured <strong>--with-cluster=internal</strong> (the default) then 3 means to use built-in cluster-wide locking. Type 4 enforces read-only metadata and forbids any operations that might want to modify Volume Group metadata. All changes to logical volumes and their states are communicated using locks.</p></li><li><p><strong>wait_for_locks</strong> &ndash; When set to 1, the default, the tools wait if a lock request cannot be satisfied immediately. When set to 0, the operation is aborted instead.</p></li><li><p><strong>locking_dir</strong> &ndash; The directory LVM2 places its file locks if <strong>locking_type</strong> is set to 1.  The default is <strong>/var/lock/lvm</strong>.</p></li><li><p><strong>locking_library</strong> &ndash; The name of the external locking library to load if <strong>locking_type</strong> is set to 2. The default is <strong>liblvm2clusterlock.so</strong>.  If you need to write such a library, look at the lib/locking source code directory.</p></li><li><p><strong>use_lvmetad</strong> &ndash; Whether to use (trust) a running instance of lvmetad. If this is set to 0, all commands fall back to the usual scanning mechanisms. When set to 1 <strong>and</strong> when lvmetad is running (it is not auto-started), the volume group metadata and PV state flags are obtained from the lvmetad instance and no scanning is done by the individual commands. In a setup with lvmetad, lvmetad udev rules <strong>must</strong> be set up for LVM to work correctly. Without proper udev rules, all changes in block device configuration will be <strong>ignored</strong> until a manual 'pvscan --cache' is performed.</p><p>If lvmetad has been running while use_lvmetad was 0, it <strong>MUST</strong> be stopped before changing use_lvmetad to 1 and started again afterwards.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>tags</strong> &ndash; Host tag settings</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>hosttags</strong> &ndash; If set to 1, create a host tag with the machine name. Setting this to 0 does nothing, neither creating nor destroying any tag. The machine name used is the nodename as returned by <strong>uname</strong> (2).</p></li><li><p>Additional host tags to be set can be listed here as subsections. The @ prefix for tags is optional. Each of these host tag subsections can contain a <strong>host_list</strong> array of host names. If any one of these entries matches the machine name exactly then the host tag gets defined on this particular host, otherwise it doesn't.</p></li><li><p>After lvm.conf has been processed, LVM2 works through each host tag that has been defined in turn, and if there is a configuration file called lvm_<strong>&lt;host_tag&gt;</strong>.conf it attempts to load it. The activation/volume_list, devices/filter and devices/types settings are merged (these all are lists), otherwise any settings read in override settings found in earlier files. Any additional host tags defined get appended to the search list, so in turn they can lead to further configuration files being processed. Use <strong>lvm dumpconfig</strong> to check the result of config file processing.</p></li><li><p>The following example always sets host tags <strong>tag1</strong> and sets <strong>tag2</strong> on machines fs1 and fs2:</p></li><li><p>tags { tag1 { } tag2 { host_list = [ "fs1", "fs2" ] } }</p></li><li><p>These options are useful if you are replicating configuration files around a cluster.  Use of <strong>hosttags = 1</strong> means every machine can have static and identical local configuration files yet use different settings and activate different logical volumes by default.  See also <strong>volume_list</strong> below and <strong>--addtag</strong> in <strong>lvm</strong> (8).</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>activation</strong> &ndash; Settings affecting device-mapper activation</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>missing_stripe_filler</strong> &ndash; When activating an incomplete logical volume in partial mode, this option dictates how the missing data is replaced.  A value of "error" will cause activation to create error mappings for the missing data, meaning that read access to missing portions of the volume will result in I/O errors. You can instead also use a device path, and in that case this device will be used in place of missing stripes. However, note that using anything other than "error" with mirrored or snapshotted volumes is likely to result in data corruption.  For instructions on how to create a device that always returns zeros, see <strong>lvcreate</strong> (8).</p></li><li><p><strong>mirror_region_size</strong> &ndash; Unit size in KB for copy operations when mirroring.</p></li><li><p><strong>readahead</strong> &ndash; Used when there is no readahead value stored in the volume group metadata.  Set to <strong>none</strong> to disable readahead in these circumstances or <strong>auto</strong> to use the default value chosen by the kernel.</p></li><li><p><strong>reserved_memory</strong>, <strong>reserved_stack</strong> &ndash; How many KB to reserve for LVM2 to use while logical volumes are suspended.  If insufficient memory is reserved before suspension, there is a risk of machine deadlock.</p></li><li><p><strong>process_priority</strong> &ndash; The nice value to use while devices are suspended.  This is set to a high priority so that logical volumes are suspended (with I/O generated by other processes to those logical volumes getting queued) for the shortest possible time.</p></li><li><p><strong>volume_list</strong> &ndash; This acts as a filter through which all requests to activate a logical volume on this machine are passed.  A logical volume is only activated if it matches an item in the list.  Tags must be preceded by @ and are checked against all tags defined in the logical volume and volume group metadata for a match. @* is short-hand to check every tag set on the host machine (see <strong>tags</strong> above). Logical volume and volume groups can also be included in the list by name e.g. vg00, vg00/lvol1. If this setting is not present but at least one host tag is defined then a default single-entry list containing @* is assumed.</p></li><li><p><strong>auto_activation_volume_list</strong> &ndash; This acts as a filter through which all requests to autoactivate a logical volume on this machine are passed. A logical volume is autoactivated if it matches an item in the list. Volumes must also pass the <strong>volume_list</strong> filter, if present. Tags must be preceded by @ and are checked against all tags defined in the logical volume and volume group metadata for a match. @* is short-hand to check every tag set on the host machine (see <strong>tags</strong> above). Logical volume and volume groups can also be included in the list by name e.g. vg00, vg00/lvol1.</p></li><li><p><strong>read_only_volume_list</strong> &ndash; This acts as a filter through which all requests to activate a logical volume on this machine are passed.  A logical volume is activated in read-only mode (instead of read-write) if it matches an item in the list.  Volumes must first pass the <strong>volume_list</strong> filter, if present.  Tags must be preceded by @ and are checked against all tags defined in the logical volume and volume group metadata for a match. @* is short-hand to check every tag set on the host machine (see <strong>tags</strong> above). Logical volume and volume groups can also be included in the list by name e.g. vg00, vg00/lvol1.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>metadata</strong> &ndash; Advanced metadata settings</p>
  </dt>
  <dd>
    <ul>
<li><p><strong>pvmetadatacopies</strong> &ndash; When creating a physical volume using the LVM2 metadata format, this is the default number of copies of metadata to store on each physical volume. Currently it can be set to 0, 1 or 2.  The default is 1. If set to 2, one copy is placed at the beginning of the disk and the other is placed at the end. It can be overridden on the command line with <strong>--pvmetadatacopies</strong> (see <strong>pvcreate</strong>). If creating a volume group with just one physical volume, it's a good idea to have 2 copies.  If creating a large volume group with many physical volumes, you may decide that 3 copies of the metadata is sufficient, i.e. setting it to 1 on three of the physical volumes, and 0 on the rest.  Every volume group must contain at least one physical volume with at least 1 copy of the metadata (unless using the text files described below).  The disadvantage of having lots of copies is that every time the tools access the volume group, every copy of the metadata has to be accessed, and this slows down the tools.</p></li><li><p><strong>pvmetadatasize</strong> &ndash; Approximate number of sectors to set aside for each copy of the metadata. Volume groups with large numbers of physical or logical volumes, or volumes groups containing complex logical volume structures will need additional space for their metadata. The metadata areas are treated as circular buffers, so unused space becomes filled with an archive of the most recent previous versions of the metadata.</p></li><li><p><strong>pvmetadataignore</strong> When creating a physical volume using the LVM2 metadata format, this states whether metadata areas should be ignored. The default is "n".  If metadata areas on a physical volume are ignored, LVM will not not store metadata in the metadata areas present on newly created Physical Volumes.  The option can be overridden on the command line with <strong>--metadataignore</strong> (See <strong>pvcreate</strong> and <strong>pvchange</strong>). Metadata areas cannot be created or extended after Logical Volumes have been allocated on the device. If you do not want to store metadata on this device, it is still wise always to allocate a metadata area (use a non-zero value for <strong>--pvmetadatacopies</strong>) in case you need it in the future and to use this option to instruct LVM2 to ignore it.</p></li><li><p><strong>vgmetadatacopies</strong> &ndash; When creating a volume group using the LVM2 metadata format, this is the default number of copies of metadata desired across all the physical volumes in the volume group.  If set to a non-zero value, LVM will automatically set or clear the metadataignore flag on the physical volumes (see <strong>pvcreate</strong> and <strong>pvchange</strong> <strong>--metadataignore</strong>) in order to achieve the desired number of metadata copies.  An LVM command that adds or removes physical volumes (for example, <strong>vgextend</strong>, <strong>vgreduce</strong>, <strong>vgsplit</strong>, or <strong>vgmerge</strong>), may cause LVM to automatically set or clear the metadataignore flags.  Also, if physical volumes go missing or reappear, or a new number of copies is explicitly set (see <strong>vgchange --vgmetadatacopies</strong>), LVM may adjust the metadataignore flags. Set <strong>vgmetadatacopies</strong> to 0 instructs LVM not to set or clear the metadataignore flags automatically.  You may set a value larger than the sum of all metadata areas on all physical volumes.  The value can be overridden on the command line with <strong>--vgmetadatacopies</strong> for various commands (for example, <strong>vgcreate</strong> and <strong>vgchange</strong>), and can be queryied with the <strong>vg_mda_copies</strong> field of <strong>vgs</strong>.  This option is useful for volume groups containing large numbers of physical volumes with metadata as it may be used to minimize metadata read and write overhead.</p></li><li><p><strong>dirs</strong> &ndash; List of directories holding live copies of LVM2 metadata as text files.  These directories must not be on logical volumes.  It is possible to use LVM2 with a couple of directories here, preferably on different (non-logical-volume) filesystems and with no other on-disk metadata, <strong>pvmetadatacopies = 0</strong>. Alternatively these directories can be in addition to the on-disk metadata areas.  This feature was created during the development of the LVM2 metadata before the new on-disk metadata areas were designed and no longer gets tested. It is not supported under low-memory conditions, and it is important never to edit these metadata files unless you fully understand how things work: to make changes you should always use the tools as normal, or else vgcfgbackup, edit backup, vgcfgrestore.</p></li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/lvm/lvm.conf</em></p><p><em>/etc/lvm/archive</em></p><p><em>/etc/lvm/backup</em></p><p><em>/etc/lvm/cache/.cache</em></p><p><em>/run/lock/lvm</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lvm.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/lvm.8.html"><strong>lvm</strong>(8)</a>, <a href="../man2/umask.2.html"><strong>umask</strong>(2)</a>, <a href="../man2/uname.2.html"><strong>uname</strong>(2)</a>, <a href="../man3/dlopen.3.html"><strong>dlopen</strong>(3)</a>, <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a>, <strong>syslog.conf</strong>(5)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="luaotfload.conf.5.html"><span aria-hidden="true">&larr;</span> luaotfload.conf.5: Luaotfload configuration file</a></li>
   <li class="next"><a href="lwatch.conf.5.html">lwatch.conf.5: Lwatch.conf   configuration file for lwatch(1), syntax highlighting for syslog/syslog-ng file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
