<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>initramfs.conf: Configuration file for mkinitramfs</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for mkinitramfs">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="initramfs.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for mkinitramfs">
  <meta name="twitter:image" content="https://www.carta.tech/images/initramfs-tools-initramfs.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/initramfs.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="initramfs.conf (5) manual" />
  <meta property="og:description" content="Configuration file for mkinitramfs" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/initramfs-tools-initramfs.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">initramfs.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for mkinitramfs</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/initramfs.conf.5.html">
      <span itemprop="name">initramfs.conf: Configuration file for mkinitramfs</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/initramfs-tools/">
      <span itemprop="name">initramfs-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/initramfs.conf.5.html">
      <span itemprop="name">initramfs.conf: Configuration file for mkinitramfs</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The behaviour of <strong>mkinitramfs</strong> can be modified by its configuration file.</p><p>Each line in the file can be a configuration variable, a blank line, or a comment. The value of an variable is assigned by an statement of the form: <em>name</em>=[<em>value</em>]</p><p>Configuration options can be broken out into configuration snippets and placed in individual files in the /etc/initramfs-tools/conf.d directory.  Files in this directory are always read <strong>after</strong> the main configuration file, so you can override the settings in the main config file without editing it directly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong> MODULES</strong></p>
  </dt>
  <dd>
    <p>Specifies the modules for the initramfs image.</p><p>Modules listed in <em>/etc/initramfs-tools/modules</em> and <em>/usr/share/initramfs-tools/modules.d/*</em> are always included in the initramfs, and are loaded early in the boot process.</p><p><em>list</em> doesn't load any additional modules at boot time, other than those listed in the above files.</p><p><em>most</em> adds most file system, all ata, sata, scsi and usb drivers.</p><p><em>dep</em> tries to guess which modules are necessary for the running box and only adds those modules.</p><p><em>netboot</em> adds the base and network modules, but skips block devices.</p><p>The default setting is <em>most</em>.</p>
  </dd>
  <dt>
    <p><strong> BUSYBOX</strong></p>
  </dt>
  <dd>
    <p>Include busybox utilities for the boot scripts. If set to 'n' <strong>mkinitramfs</strong> will build an initramfs without busybox. Beware that many boot scripts need busybox utilities.</p>
  </dd>
  <dt>
    <p><strong> KEYMAP</strong></p>
  </dt>
  <dd>
    <p>If set to 'y', the console keymap will be loaded during the initramfs stage. The keymap will anyway be loaded by the initscripts later, and the packages that might need input will normally set this variable automatically, so there should normally be no need to set this.</p>
  </dd>
  <dt>
    <p><strong> COMPRESS</strong></p>
  </dt>
  <dd>
    <p>Specifies the compression method used for the initramfs image. <strong>mkinitramfs</strong> will default to gzip if the kernel lacks support (CONFIG_RD) or the corresponding userspace utility is not present.</p>
  </dd>
  <dt>
    <p><strong> UMASK</strong></p>
  </dt>
  <dd>
    <p>Set the umask value of the generated initramfs file. Useful to not disclose eventual keys.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NFS VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong> BOOT</strong></p>
  </dt>
  <dd>
    <p>Allows one to use an nfs drive as the root of the drive. The default is to boot from <em>local</em> media (hard drive, USB stick). Set to <em>nfs</em> for an NFS root share.</p>
  </dd>
  <dt>
    <p><strong> DEVICE</strong></p>
  </dt>
  <dd>
    <p>Specifies the network interface, like eth0.</p>
  </dd>
  <dt>
    <p><strong> ROOT</strong></p>
  </dt>
  <dd>
    <p>Allows optional root bootarg hardcoding, when no root bootarg can be passed. A root bootarg overrides that special setting.</p>
  </dd>
  <dt>
    <p><strong> NFSROOT</strong></p>
  </dt>
  <dd>
    <p>Defaults to <em>auto</em> in order to pick up value from DHCP server. Otherwise you need to specify <em>HOST:MOUNT</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/initramfs-tools/initramfs.conf</em></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The initramfs-tools are written by Maximilian Attems &lt;maks@debian.org&gt;, Jeff Bailey &lt;jbailey@raspberryginger.com&gt; and numerous others. Loosely based on mkinitrd.conf by Herbert Xu.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO initramfs.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/initramfs-tools.8.html"><strong>initramfs-tools</strong>(8)</a>, <a href="../man8/mkinitramfs.8.html"><strong>mkinitramfs</strong>(8)</a>, <a href="../man8/update-initramfs.8.html"><strong>update-initramfs</strong>(8)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="init-d-script.5.html"><span aria-hidden="true">&larr;</span> init-d-script.5: Interpreter for short and simple init.d scripts.</a></li>
   <li class="next"><a href="initscript.5.html">initscript.5: Script that executes inittab commands. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
