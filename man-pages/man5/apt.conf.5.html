<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>apt.conf: Configuration file for apt</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for apt">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="apt.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for apt">
  <meta name="twitter:image" content="https://www.carta.tech/images/apt-apt.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/apt.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="apt.conf (5) manual" />
  <meta property="og:description" content="Configuration file for apt" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/apt-apt.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">apt.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for apt</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/apt.conf.5.html">
      <span itemprop="name">apt.conf: Configuration file for apt</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/apt/">
      <span itemprop="name">apt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/apt.conf.5.html">
      <span itemprop="name">apt.conf: Configuration file for apt</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>/etc/apt/apt.conf is the main configuration file shared by all the tools in the APT suite of tools, though it is by no means the only place options can be set. The suite also shares a common command line parser to provide a uniform environment.</p><p>When an APT tool starts up it will read the configuration files in the following order:</p><p>the file specified by the <strong>APT_CONFIG</strong> environment variable (if any)</p><p>all files in Dir::Etc::Parts in alphanumeric ascending order which have either no or "conf" as filename extension and which only contain alphanumeric, hyphen (-), underscore (_) and period (.) characters. Otherwise APT will print a notice that it has ignored a file, unless that file matches a pattern in the Dir::Ignore-Files-Silently configuration list - in which case it will be silently ignored.</p><p>the main configuration file specified by Dir::Etc::main</p><p>the command line options are applied to override the configuration directives or to load even more configuration files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>The configuration file is organized in a tree with options organized into functional groups. Option specification is given with a double colon notation; for instance APT::Get::Assume-Yes is an option within the APT tool group, for the Get tool. Options do not inherit from their parent groups.</p><p>Syntactically the configuration language is modeled after what the ISC tools such as bind and dhcp use. Lines starting with // are treated as comments (ignored), as well as all text between /* and */, just like C/C++ comments. Each line is of the form APT::Get::Assume-Yes "true";. The quotation marks and trailing semicolon are required. The value must be on one line, and there is no kind of string concatenation. Values must not include backslashes or extra quotation marks. Option names are made up of alphanumeric characters and the characters "/-:._+". A new scope can be opened with curly braces, like this:</p>
<pre>
APT {
  Get {
    Assume-Yes "true";
    Fix-Broken "true";
  };
};
</pre>
<p>with newlines placed to make it more readable. Lists can be created by opening a scope and including a single string enclosed in quotes followed by a semicolon. Multiple entries can be included, separated by a semicolon.</p>
<pre>
DPkg::Pre-Install-Pkgs {"/usr/sbin/dpkg-preconfigure --apt";};
</pre>
<p>In general the sample configuration file /usr/share/doc/apt/examples/configure-index.gz is a good guide for how it should look.</p><p>Case is not significant in names of configuration items, so in the previous example you could use dpkg::pre-install-pkgs.</p><p>Names for the configuration items are optional if a list is defined as can be seen in the DPkg::Pre-Install-Pkgs example above. If you don&apos;t specify a name a new entry will simply add a new option to the list. If you specify a name you can override the option in the same way as any other option by reassigning a new value to the option.</p><p>Two special commands are defined: #include (which is deprecated and not supported by alternative implementations) and #clear. #include will include the given file, unless the filename ends in a slash, in which case the whole directory is included. #clear is used to erase a part of the configuration tree. The specified element and all its descendants are erased. (Note that these lines also need to end with a semicolon.)</p><p>The #clear command is the only way to delete a list or a complete scope. Reopening a scope (or using the syntax described below with an appended ::) will <em>not</em> override previously written entries. Options can only be overridden by addressing a new value to them - lists and scopes can&apos;t be overridden, only cleared.</p><p>All of the APT tools take an -o option which allows an arbitrary configuration directive to be specified on the command line. The syntax is a full option name (APT::Get::Assume-Yes for instance) followed by an equals sign then the new value of the option. To append a new element to a list, add a trailing :: to the name of the list. (As you might suspect, the scope syntax can&apos;t be used on the command line.)</p><p>Note that appending items to a list using :: only works for one item per line, and that you should not use it in combination with the scope syntax (which adds :: implicitly). Using both syntaxes together will trigger a bug which some users unfortunately depend on: an option with the unusual name "::" which acts like every other option with a name. This introduces many problems; for one thing, users who write multiple lines in this <em>wrong</em> syntax in the hope of appending to a list will achieve the opposite, as only the last assignment for this option "::" will be used. Future versions of APT will raise errors and stop working if they encounter this misuse, so please correct such statements now while APT doesn&apos;t explicitly complain about them.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE APT GROUP</h2>
        <div class="sectioncontent">
<p>This group of options controls general APT behavior as well as holding the options for all of the tools.</p><p><strong>Architecture</strong></p><p>System Architecture; sets the architecture to use when fetching files and parsing package lists. The internal default is the architecture apt was compiled for.</p><p><strong>Architectures</strong></p><p>All Architectures the system supports. For instance, CPUs implementing the amd64 (also called x86-64) instruction set are also able to execute binaries compiled for the i386 (x86) instruction set. This list is used when fetching files and parsing package lists. The initial default is always the system&apos;s native architecture (APT::Architecture), and foreign architectures are added to the default list when they are registered via <strong>dpkg --add-architecture</strong>.</p><p><strong>Build-Profiles</strong></p><p>List of all build profiles enabled for build-dependency resolution, without the "profile." namespace prefix. By default this list is empty. The <strong>DEB_BUILD_PROFILES</strong> as used by <a href="../man1/dpkg-buildpackage.1.html"><strong>dpkg-buildpackage</strong>(1)</a> overrides the list notation.</p><p><strong>Default-Release</strong></p><p>Default release to install packages from if more than one version is available. Contains release name, codename or release version. Examples: &apos;stable&apos;, &apos;testing&apos;, &apos;unstable&apos;, &apos;jessie&apos;, &apos;stretch&apos;, &apos;4.0&apos;, &apos;5.0*&apos;. See also <a href="../man5/apt_preferences.5.html"><strong>apt_preferences</strong>(5)</a>.</p><p><strong>Ignore-Hold</strong></p><p>Ignore held packages; this global option causes the problem resolver to ignore held packages in its decision making.</p><p><strong>Clean-Installed</strong></p><p>Defaults to on. When turned on the autoclean feature will remove any packages which can no longer be downloaded from the cache. If turned off then packages that are locally installed are also excluded from cleaning - but note that APT provides no direct means to reinstall them.</p><p><strong>Immediate-Configure</strong></p><p>Defaults to on, which will cause APT to install essential and important packages as soon as possible in an install/upgrade operation, in order to limit the effect of a failing <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> call. If this option is disabled, APT treats an important package in the same way as an extra package: between the unpacking of the package A and its configuration there can be many other unpack or configuration calls for other unrelated packages B, C etc. If these cause the <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> call to fail (e.g. because package B&apos;s maintainer scripts generate an error), this results in a system state in which package A is unpacked but unconfigured - so any package depending on A is now no longer guaranteed to work, as its dependency on A is no longer satisfied.</p><p>The immediate configuration marker is also applied in the potentially problematic case of circular dependencies, since a dependency with the immediate flag is equivalent to a Pre-Dependency. In theory this allows APT to recognise a situation in which it is unable to perform immediate configuration, abort, and suggest to the user that the option should be temporarily deactivated in order to allow the operation to proceed. Note the use of the word "theory" here; in the real world this problem has rarely been encountered, in non-stable distribution versions, and was caused by wrong dependencies of the package in question or by a system in an already broken state; so you should not blindly disable this option, as the scenario mentioned above is not the only problem it can help to prevent in the first place.</p><p>Before a big operation like dist-upgrade is run with this option disabled you should try to explicitly install the package APT is unable to configure immediately; but please make sure you also report your problem to your distribution and to the APT team with the buglink below, so they can work on improving or correcting the upgrade process.</p><p><strong>Force-LoopBreak</strong></p><p>Never enable this option unless you <em>really</em> know what you are doing. It permits APT to temporarily remove an essential package to break a Conflicts/Conflicts or Conflicts/Pre-Depends loop between two essential packages. <em>Such a loop should never exist and is a grave bug</em>. This option will work if the essential packages are not <strong>tar</strong>, <strong>gzip</strong>, <strong>libc</strong>, <strong>dpkg</strong>, <strong>dash</strong> or anything that those packages depend on.</p><p><strong>Cache-Start</strong>, <strong>Cache-Grow</strong>, <strong>Cache-Limit</strong></p><p>APT uses since version 0.7.26 a resizable memory mapped cache file to store the available information. Cache-Start acts as a hint of the size the cache will grow to, and is therefore the amount of memory APT will request at startup. The default value is 20971520 bytes (~20 MB). Note that this amount of space needs to be available for APT; otherwise it will likely fail ungracefully, so for memory restricted devices this value should be lowered while on systems with a lot of configured sources it should be increased. Cache-Grow defines in bytes with the default of 1048576 (~1 MB) how much the cache size will be increased in the event the space defined by Cache-Start is not enough. This value will be applied again and again until either the cache is big enough to store all information or the size of the cache reaches the Cache-Limit. The default of Cache-Limit is 0 which stands for no limit. If Cache-Grow is set to 0 the automatic growth of the cache is disabled.</p><p><strong>Build-Essential</strong></p><p>Defines which packages are considered essential build dependencies.</p><p><strong>Get</strong></p><p>The Get subsection controls the <a href="../man8/apt-get.8.html"><strong>apt-get</strong>(8)</a> tool; please see its documentation for more information about the options here.</p><p><strong>Cache</strong></p><p>The Cache subsection controls the <a href="../man8/apt-cache.8.html"><strong>apt-cache</strong>(8)</a> tool; please see its documentation for more information about the options here.</p><p><strong>CDROM</strong></p><p>The CDROM subsection controls the <a href="../man8/apt-cdrom.8.html"><strong>apt-cdrom</strong>(8)</a> tool; please see its documentation for more information about the options here.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE ACQUIRE GROUP</h2>
        <div class="sectioncontent">
<p>The Acquire group of options controls the download of packages as well as the various "acquire methods" responsible for the download itself (see also <a href="../man5/sources.list.5.html"><strong>sources.list</strong>(5)</a>).</p><p><strong>Check-Valid-Until</strong></p><p>Security related option defaulting to true, as giving a Release file&apos;s validation an expiration date prevents replay attacks over a long timescale, and can also for example help users to identify mirrors that are no longer updated - but the feature depends on the correctness of the clock on the user system. Archive maintainers are encouraged to create Release files with the Valid-Until header, but if they don&apos;t or a stricter value is desired the Max-ValidTime option below can be used.</p><p><strong>Max-ValidTime</strong></p><p>Maximum time (in seconds) after its creation (as indicated by the Date header) that the Release file should be considered valid. If the Release file itself includes a Valid-Until header the earlier date of the two is used as the expiration date. The default value is 0 which stands for "valid forever". Archive specific settings can be made by appending the label of the archive to the option name.</p><p><strong>Min-ValidTime</strong></p><p>Minimum time (in seconds) after its creation (as indicated by the Date header) that the Release file should be considered valid. Use this if you need to use a seldom updated (local) mirror of a more frequently updated archive with a Valid-Until header instead of completely disabling the expiration date checking. Archive specific settings can and should be used by appending the label of the archive to the option name.</p><p><strong>PDiffs</strong></p><p>Try to download deltas called PDiffs for indexes (like Packages files) instead of downloading whole ones. True by default.</p><p>Two sub-options to limit the use of PDiffs are also available: FileLimit can be used to specify a maximum number of PDiff files should be downloaded to update a file. SizeLimit on the other hand is the maximum percentage of the size of all patches compared to the size of the targeted file. If one of these limits is exceeded the complete file is downloaded instead of the patches.</p><p><strong>Queue-Mode</strong></p><p>Queuing mode; Queue-Mode can be one of host or access which determines how APT parallelizes outgoing connections. host means that one connection per target host will be opened, access means that one connection per URI type will be opened.</p><p><strong>Retries</strong></p><p>Number of retries to perform. If this is non-zero APT will retry failed files the given number of times.</p><p><strong>Source-Symlinks</strong></p><p>Use symlinks for source archives. If set to true then source archives will be symlinked when possible instead of copying. True is the default.</p><p><strong>http</strong></p><p>http::Proxy sets the default proxy to use for HTTP URIs. It is in the standard form of http://[[user][:pass]@]host[:port]/. Per host proxies can also be specified by using the form http::Proxy::&lt;host&gt; with the special keyword DIRECT meaning to use no proxies. If no one of the above settings is specified, <strong>http_proxy</strong> environment variable will be used.</p><p>Three settings are provided for cache control with HTTP/1.1 compliant proxy caches. No-Cache tells the proxy not to use its cached response under any circumstances. Max-Age sets the allowed maximum age (in seconds) of an index file in the cache of the proxy. No-Store specifies that the proxy should not store the requested archive files in its cache, which can be used to prevent the proxy from polluting its cache with (big) .deb files.</p><p>The option timeout sets the timeout timer used by the method; this value applies to the connection as well as the data timeout.</p><p>The setting Acquire::http::Pipeline-Depth can be used to enable HTTP pipelining (RFC 2616 section 8.1.2.2) which can be beneficial e.g. on high-latency connections. It specifies how many requests are sent in a pipeline. Previous APT versions had a default of 10 for this setting, but the default value is now 0 (= disabled) to avoid problems with the ever-growing amount of webservers and proxies which choose to not conform to the HTTP/1.1 specification.</p><p>Acquire::http::AllowRedirect controls whether APT will follow redirects, which is enabled by default.</p><p>The used bandwidth can be limited with Acquire::http::Dl-Limit which accepts integer values in kilobytes per second. The default value is 0 which deactivates the limit and tries to use all available bandwidth. Note that this option implicitly disables downloading from multiple servers at the same time.</p><p>Acquire::http::User-Agent can be used to set a different User-Agent for the http download method as some proxies allow access for clients only if the client uses a known identifier.</p><p>Acquire::http::Proxy-Auto-Detect can be used to specify an external command to discover the http proxy to use. Apt expects the command to output the proxy on stdout in the style http://proxy:port/. This will override the generic Acquire::http::Proxy but not any specific host proxy configuration set via Acquire::http::Proxy::$HOST. See the <strong>squid-deb-proxy-client</strong>(1) package for an example implementation that uses avahi. This option takes precedence over the legacy option name ProxyAutoDetect.</p><p><strong>https</strong></p><p>The Cache-control, Timeout, AllowRedirect, Dl-Limit and proxy options work for HTTPS URIs in the same way as for the http method, and default to the same values if they are not explicitly set. The Pipeline-Depth option is not yet supported.</p><p>CaInfo suboption specifies place of file that holds info about trusted certificates. &lt;host&gt;::CaInfo is the corresponding per-host option. Verify-Peer boolean suboption determines whether or not the server&apos;s host certificate should be verified against trusted certificates. &lt;host&gt;::Verify-Peer is the corresponding per-host option. Verify-Host boolean suboption determines whether or not the server&apos;s hostname should be verified. &lt;host&gt;::Verify-Host is the corresponding per-host option. SslCert determines what certificate to use for client authentication. &lt;host&gt;::SslCert is the corresponding per-host option. SslKey determines what private key to use for client authentication. &lt;host&gt;::SslKey is the corresponding per-host option. SslForceVersion overrides default SSL version to use. It can contain either of the strings &apos;TLSv1&apos; or &apos;SSLv3&apos;. &lt;host&gt;::SslForceVersion is the corresponding per-host option.</p><p><strong>ftp</strong></p><p>ftp::Proxy sets the default proxy to use for FTP URIs. It is in the standard form of ftp://[[user][:pass]@]host[:port]/. Per host proxies can also be specified by using the form ftp::Proxy::&lt;host&gt; with the special keyword DIRECT meaning to use no proxies. If no one of the above settings is specified, <strong>ftp_proxy</strong> environment variable will be used. To use an FTP proxy you will have to set the ftp::ProxyLogin script in the configuration file. This entry specifies the commands to send to tell the proxy server what to connect to. Please see /usr/share/doc/apt/examples/configure-index.gz for an example of how to do this. The substitution variables representing the corresponding URI component are $(PROXY_USER), $(PROXY_PASS), $(SITE_USER), $(SITE_PASS), $(SITE) and $(SITE_PORT).</p><p>The option timeout sets the timeout timer used by the method; this value applies to the connection as well as the data timeout.</p><p>Several settings are provided to control passive mode. Generally it is safe to leave passive mode on; it works in nearly every environment. However, some situations require that passive mode be disabled and port mode FTP used instead. This can be done globally or for connections that go through a proxy or for a specific host (see the sample config file for examples).</p><p>It is possible to proxy FTP over HTTP by setting the <strong>ftp_proxy</strong> environment variable to an HTTP URL - see the discussion of the http method above for syntax. You cannot set this in the configuration file and it is not recommended to use FTP over HTTP due to its low efficiency.</p><p>The setting ForceExtended controls the use of RFC2428 EPSV and EPRT commands. The default is false, which means these commands are only used if the control connection is IPv6. Setting this to true forces their use even on IPv4 connections. Note that most FTP servers do not support RFC2428.</p><p><strong>cdrom</strong></p><p>For URIs using the cdrom method, the only configurable option is the mount point, cdrom::Mount, which must be the mount point for the CD-ROM (or DVD, or whatever) drive as specified in /etc/fstab. It is possible to provide alternate mount and unmount commands if your mount point cannot be listed in the fstab. The syntax is to put</p>
<pre>
/cdrom/::Mount "foo";
</pre>
<p>within the cdrom block. It is important to have the trailing slash. Unmount commands can be specified using UMount.</p><p><strong>gpgv</strong></p><p>For GPGV URIs the only configurable option is gpgv::Options, which passes additional parameters to gpgv.</p><p><strong>CompressionTypes</strong></p><p>List of compression types which are understood by the acquire methods. Files like Packages can be available in various compression formats. By default the acquire methods can decompress <strong>bzip2</strong>, <strong>lzma</strong> and <strong>gzip</strong> compressed files; with this setting more formats can be added on the fly or the used method can be changed. The syntax for this is:</p>
<pre>
Acquire::CompressionTypes::<em>FileExtension</em> "<em>Methodname</em>";
</pre>
<p>Also, the Order subgroup can be used to define in which order the acquire system will try to download the compressed files. The acquire system will try the first and proceed with the next compression type in this list on error, so to prefer one over the other type simply add the preferred type first - default types not already added will be implicitly appended to the end of the list, so e.g.</p>
<pre>
Acquire::CompressionTypes::Order:: "gz";
</pre>
<p>can be used to prefer <strong>gzip</strong> compressed files over <strong>bzip2</strong> and <strong>lzma</strong>. If <strong>lzma</strong> should be preferred over <strong>gzip</strong> and <strong>bzip2</strong> the configure setting should look like this:</p>
<pre>
Acquire::CompressionTypes::Order { "lzma"; "gz"; };
</pre>
<p>It is not needed to add bz2 to the list explicitly as it will be added automatically.</p><p>Note that the Dir::Bin::<em>Methodname</em> will be checked at run time. If this option has been set, the method will only be used if this file exists; e.g. for the bzip2 method (the inbuilt) setting is:</p>
<pre>
Dir::Bin::bzip2 "/bin/bzip2";
</pre>
<p>Note also that list entries specified on the command line will be added at the end of the list specified in the configuration files, but before the default entries. To prefer a type in this case over the ones specified in the configuration files you can set the option direct - not in list style. This will not override the defined list; it will only prefix the list with this type.</p><p>The special type uncompressed can be used to give uncompressed files a preference, but note that most archives don&apos;t provide uncompressed files so this is mostly only useable for local mirrors.</p><p><strong>GzipIndexes</strong></p><p>When downloading gzip compressed indexes (Packages, Sources, or Translations), keep them gzip compressed locally instead of unpacking them. This saves quite a lot of disk space at the expense of more CPU requirements when building the local package caches. False by default.</p><p><strong>Languages</strong></p><p>The Languages subsection controls which Translation files are downloaded and in which order APT tries to display the description-translations. APT will try to display the first available description in the language which is listed first. Languages can be defined with their short or long language codes. Note that not all archives provide Translation files for every language - the long language codes are especially rare.</p><p>The default list includes "environment" and "en". "environment" has a special meaning here: it will be replaced at runtime with the language codes extracted from the LC_MESSAGES environment variable. It will also ensure that these codes are not included twice in the list. If LC_MESSAGES is set to "C" only the Translation-en file (if available) will be used. To force APT to use no Translation file use the setting Acquire::Languages=none. "none" is another special meaning code which will stop the search for a suitable Translation file. This tells APT to download these translations too, without actually using them unless the environment specifies the languages. So the following example configuration will result in the order "en, de" in an English locale or "de, en" in a German one. Note that "fr" is downloaded, but not used unless APT is used in a French locale (where the order would be "fr, de, en").</p>
<pre>
Acquire::Languages { "environment"; "de"; "en"; "none"; "fr"; };
</pre>
<p>Note: To prevent problems resulting from APT being executed in different environments (e.g. by different users or by other programs) all Translation files which are found in /var/lib/apt/lists/ will be added to the end of the list (after an implicit "none").</p><p><strong>ForceIPv4</strong></p><p>When downloading, force to use only the IPv4 protocol.</p><p><strong>ForceIPv6</strong></p><p>When downloading, force to use only the IPv6 protocol.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIRECTORIES</h2>
        <div class="sectioncontent">
<p>The Dir::State section has directories that pertain to local state information. lists is the directory to place downloaded package lists in and status is the name of the <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> status file. preferences is the name of the APT preferences file. Dir::State contains the default directory to prefix on all sub-items if they do not start with / or ./.</p><p>Dir::Cache contains locations pertaining to local cache information, such as the two package caches srcpkgcache and pkgcache as well as the location to place downloaded archives, Dir::Cache::archives. Generation of caches can be turned off by setting pkgcache or srcpkgcache to "". This will slow down startup but save disk space. It is probably preferable to turn off the pkgcache rather than the srcpkgcache. Like Dir::State the default directory is contained in Dir::Cache</p><p>Dir::Etc contains the location of configuration files, sourcelist gives the location of the sourcelist and main is the default configuration file (setting has no effect, unless it is done from the config file specified by <strong>APT_CONFIG</strong>).</p><p>The Dir::Parts setting reads in all the config fragments in lexical order from the directory specified. After this is done then the main config file is loaded.</p><p>Binary programs are pointed to by Dir::Bin. Dir::Bin::Methods specifies the location of the method handlers and gzip, bzip2, lzma, dpkg, apt-getdpkg-sourcedpkg-buildpackage and apt-cache specify the location of the respective programs.</p><p>The configuration item RootDir has a special meaning. If set, all paths in Dir:: will be relative to RootDir, <em>even paths that are specified absolutely</em>. So, for instance, if RootDir is set to /tmp/staging and Dir::State::status is set to /var/lib/dpkg/status, then the status file will be looked up in /tmp/staging/var/lib/dpkg/status.</p><p>The Ignore-Files-Silently list can be used to specify which files APT should silently ignore while parsing the files in the fragment directories. Per default a file which end with .disabled, ~, .bak or .dpkg-[a-z]+ is silently ignored. As seen in the last default value these patterns can use regular expression syntax.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">APT IN DSELECT</h2>
        <div class="sectioncontent">
<p>When APT is used as a <a href="../man1/dselect.1.html"><strong>dselect</strong>(1)</a> method several configuration directives control the default behavior. These are in the DSelect section.</p><p><strong>Clean</strong></p><p>Cache Clean mode; this value may be one of always, prompt, auto, pre-auto and never. always and prompt will remove all packages from the cache after upgrading, prompt (the default) does so conditionally. auto removes only those packages which are no longer downloadable (replaced with a new version for instance). pre-auto performs this action before downloading new packages.</p><p><strong>options</strong></p><p>The contents of this variable are passed to <a href="../man8/apt-get.8.html"><strong>apt-get</strong>(8)</a> as command line options when it is run for the install phase.</p><p><strong>Updateoptions</strong></p><p>The contents of this variable are passed to <a href="../man8/apt-get.8.html"><strong>apt-get</strong>(8)</a> as command line options when it is run for the update phase.</p><p><strong>PromptAfterUpdate</strong></p><p>If true the [U]pdate operation in <a href="../man1/dselect.1.html"><strong>dselect</strong>(1)</a> will always prompt to continue. The default is to prompt only on error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOW APT CALLS <a href="../man1/dpkg.1.html"><strong>DPKG</strong>(1)</a></h2>
        <div class="sectioncontent">
<p>Several configuration directives control how APT invokes <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>. These are in the DPkg section.</p><p><strong>options</strong></p><p>This is a list of options to pass to <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>. The options must be specified using the list notation and each list item is passed as a single argument to <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>.</p><p><strong>Pre-Invoke</strong>, <strong>Post-Invoke</strong></p><p>This is a list of shell commands to run before/after invoking <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>. Like options this must be specified in list notation. The commands are invoked in order using /bin/sh; should any fail APT will abort.</p><p><strong>Pre-Install-Pkgs</strong></p><p>This is a list of shell commands to run before invoking <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>. Like options this must be specified in list notation. The commands are invoked in order using /bin/sh; should any fail APT will abort. APT will pass the filenames of all .deb files it is going to install to the commands, one per line on the requested file descriptor, defaulting to standard input.</p><p>Version 2 of this protocol dumps more information, including the protocol version, the APT configuration space and the packages, files and versions being changed. Version 3 adds the architecture and MultiArch flag to each version being dumped.</p><p>The version of the protocol to be used for the command <em>cmd</em> can be chosen by setting DPkg::Tools::options::<em>cmd</em>::Version accordingly, the default being version 1. If APT isn&apos;t supporting the requested version it will send the information in the highest version it has support for instead.</p><p>The file descriptor to be used to send the information can be requested with DPkg::Tools::options::<em>cmd</em>::InfoFD which defaults to 0 for standard input and is available since version 0.9.11. Support for the option can be detected by looking for the environment variable <strong>APT_HOOK_INFO_FD</strong> which contains the number of the used file descriptor as a confirmation.</p><p><strong>Run-Directory</strong></p><p>APT chdirs to this directory before invoking <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>, the default is /.</p><p><strong>Build-options</strong></p><p>These options are passed to <a href="../man1/dpkg-buildpackage.1.html"><strong>dpkg-buildpackage</strong>(1)</a> when compiling packages; the default is to disable signing and produce all binaries.</p><h3>dpkg trigger usage (and related options)</h3>
<p>APT can call <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> in such a way as to let it make aggressive use of triggers over multiple calls of <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>. Without further options <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> will use triggers once each time it runs. Activating these options can therefore decrease the time needed to perform the install or upgrade. Note that it is intended to activate these options per default in the future, but as it drastically changes the way APT calls <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> it needs a lot more testing. <em>These options are therefore currently experimental and should not be used in production environments.</em> It also breaks progress reporting such that all front-ends will currently stay around half (or more) of the time in the 100% state while it actually configures all packages.</p><p>Note that it is not guaranteed that APT will support these options or that these options will not cause (big) trouble in the future. If you have understand the current risks and problems with these options, but are brave enough to help testing them, create a new configuration file and test a combination of options. Please report any bugs, problems and improvements you encounter and make sure to note which options you have used in your reports. Asking <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> for help could also be useful for debugging proposes, see e.g. <strong>dpkg --audit</strong>. A defensive option combination would be</p>
<pre>
DPkg::NoTriggers "true";
PackageManager::Configure "smart";
DPkg::ConfigurePending "true";
DPkg::TriggersPending "true";
</pre>
<p><strong>DPkg::NoTriggers</strong></p><p>Add the no triggers flag to all <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> calls (except the ConfigurePending call). See <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> if you are interested in what this actually means. In short: <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> will not run the triggers when this flag is present unless it is explicitly called to do so in an extra call. Note that this option exists (undocumented) also in older APT versions with a slightly different meaning: Previously these option only append --no-triggers to the configure calls to <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> - now APT will also add this flag to the unpack and remove calls.</p><p><strong>PackageManager::Configure</strong></p><p>Valid values are "all", "smart" and "no". The default value is "all", which causes APT to configure all packages. The "smart" way is to configure only packages which need to be configured before another package can be unpacked (Pre-Depends), and let the rest be configured by <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> with a call generated by the ConfigurePending option (see below). On the other hand, "no" will not configure anything, and totally relies on <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> for configuration (which at the moment will fail if a Pre-Depends is encountered). Setting this option to any value other than all will implicitly also activate the next option by default, as otherwise the system could end in an unconfigured and potentially unbootable state.</p><p><strong>DPkg::ConfigurePending</strong></p><p>If this option is set APT will call <strong>dpkg --configure --pending</strong> to let <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> handle all required configurations and triggers. This option is activated automatically per default if the previous option is not set to all, but deactivating it could be useful if you want to run APT multiple times in a row - e.g. in an installer. In these sceneries you could deactivate this option in all but the last run.</p><p><strong>DPkg::TriggersPending</strong></p><p>Useful for the smart configuration as a package which has pending triggers is not considered as installed, and <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> treats them as unpacked currently which is a showstopper for Pre-Dependencies (see debbugs #526774). Note that this will process all triggers, not only the triggers needed to configure this package.</p><p><strong>OrderList::Score::Immediate</strong></p><p>Essential packages (and their dependencies) should be configured immediately after unpacking. It is a good idea to do this quite early in the upgrade process as these configure calls also currently require DPkg::TriggersPending which will run quite a few triggers (which may not be needed). Essentials get per default a high score but the immediate flag is relatively low (a package which has a Pre-Depends is rated higher). These option and the others in the same group can be used to change the scoring. The following example shows the settings with their default values.</p>
<pre>
OrderList::Score {
	Delete 500;
	Essential 200;
	Immediate 10;
	PreDepends 50;
};
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PERIODIC AND ARCHIVES OPTIONS</h2>
        <div class="sectioncontent">
<p>APT::Periodic and APT::Archives groups of options configure behavior of apt periodic updates, which is done by the /etc/cron.daily/apt script. See the top of this script for the brief documentation of these options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEBUG OPTIONS</h2>
        <div class="sectioncontent">
<p>Enabling options in the Debug:: section will cause debugging information to be sent to the standard error stream of the program utilizing the apt libraries, or enable special program modes that are primarily useful for debugging the behavior of apt. Most of these options are not interesting to a normal user, but a few may be:</p><p>Debug::pkgProblemResolver enables output about the decisions made by dist-upgrade, upgrade, install, remove, purge.</p><p>Debug::NoLocking disables all file locking. This can be used to run some operations (for instance, apt-get -s install) as a non-root user.</p><p>Debug::pkgDPkgPM prints out the actual command line each time that apt invokes <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>.</p><p>Debug::IdentCdrom disables the inclusion of statfs data in CD-ROM IDs.</p><p>A full list of debugging options to apt follows.</p><p><strong>Debug::Acquire::cdrom</strong></p><p>Print information related to accessing cdrom:// sources.</p><p><strong>Debug::Acquire::ftp</strong></p><p>Print information related to downloading packages using FTP.</p><p><strong>Debug::Acquire::http</strong></p><p>Print information related to downloading packages using HTTP.</p><p><strong>Debug::Acquire::https</strong></p><p>Print information related to downloading packages using HTTPS.</p><p><strong>Debug::Acquire::gpgv</strong></p><p>Print information related to verifying cryptographic signatures using gpg.</p><p><strong>Debug::aptcdrom</strong></p><p>Output information about the process of accessing collections of packages stored on CD-ROMs.</p><p><strong>Debug::BuildDeps</strong></p><p>Describes the process of resolving build-dependencies in <a href="../man8/apt-get.8.html"><strong>apt-get</strong>(8)</a>.</p><p><strong>Debug::Hashes</strong></p><p>Output each cryptographic hash that is generated by the apt libraries.</p><p><strong>Debug::IdentCDROM</strong></p><p>Do not include information from statfs, namely the number of used and free blocks on the CD-ROM filesystem, when generating an ID for a CD-ROM.</p><p><strong>Debug::NoLocking</strong></p><p>Disable all file locking. For instance, this will allow two instances of &ldquo;apt-get update&rdquo; to run at the same time.</p><p><strong>Debug::pkgAcquire</strong></p><p>Log when items are added to or removed from the global download queue.</p><p><strong>Debug::pkgAcquire::Auth</strong></p><p>Output status messages and errors related to verifying checksums and cryptographic signatures of downloaded files.</p><p><strong>Debug::pkgAcquire::Diffs</strong></p><p>Output information about downloading and applying package index list diffs, and errors relating to package index list diffs.</p><p><strong>Debug::pkgAcquire::RRed</strong></p><p>Output information related to patching apt package lists when downloading index diffs instead of full indices.</p><p><strong>Debug::pkgAcquire::Worker</strong></p><p>Log all interactions with the sub-processes that actually perform downloads.</p><p><strong>Debug::pkgAutoRemove</strong></p><p>Log events related to the automatically-installed status of packages and to the removal of unused packages.</p><p><strong>Debug::pkgDepCache::AutoInstall</strong></p><p>Generate debug messages describing which packages are being automatically installed to resolve dependencies. This corresponds to the initial auto-install pass performed in, e.g., apt-get install, and not to the full apt dependency resolver; see Debug::pkgProblemResolver for that.</p><p><strong>Debug::pkgDepCache::Marker</strong></p><p>Generate debug messages describing which packages are marked as keep/install/remove while the ProblemResolver does his work. Each addition or deletion may trigger additional actions; they are shown indented two additional spaces under the original entry. The format for each line is MarkKeep, MarkDelete or MarkInstall followed by package-name &lt;a.b.c -&gt; d.e.f | x.y.z&gt; (section) where a.b.c is the current version of the package, d.e.f is the version considered for installation and x.y.z is a newer version, but not considered for installation (because of a low pin score). The later two can be omitted if there is none or if it is the same as the installed version. section is the name of the section the package appears in.</p><p><strong>Debug::pkgDPkgPM</strong></p><p>When invoking <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>, output the precise command line with which it is being invoked, with arguments separated by a single space character.</p><p><strong>Debug::pkgDPkgProgressReporting</strong></p><p>Output all the data received from <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> on the status file descriptor and any errors encountered while parsing it.</p><p><strong>Debug::pkgOrderList</strong></p><p>Generate a trace of the algorithm that decides the order in which apt should pass packages to <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>.</p><p><strong>Debug::pkgPackageManager</strong></p><p>Output status messages tracing the steps performed when invoking <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>.</p><p><strong>Debug::pkgPolicy</strong></p><p>Output the priority of each package list on startup.</p><p><strong>Debug::pkgProblemResolver</strong></p><p>Trace the execution of the dependency resolver (this applies only to what happens when a complex dependency problem is encountered).</p><p><strong>Debug::pkgProblemResolver::ShowScores</strong></p><p>Display a list of all installed packages with their calculated score used by the pkgProblemResolver. The description of the package is the same as described in Debug::pkgDepCache::Marker</p><p><strong>Debug::sourceList</strong></p><p>Print information about the vendors read from /etc/apt/vendors.list.</p><p><strong>Debug::RunScripts</strong></p><p>Display the external commands that are called by apt hooks. This includes e.g. the config options DPkg::{Pre,Post}-Invoke or APT::Update::{Pre,Post}-Invoke.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>/usr/share/doc/apt/examples/configure-index.gz is a configuration file showing example values for all possible options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/apt/apt.conf</p><p>APT configuration file. Configuration Item: Dir::Etc::Main.</p><p>/etc/apt/apt.conf.d/</p><p>APT configuration file fragments. Configuration Item: Dir::Etc::Parts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO apt.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/apt-cache.8.html"><strong>apt-cache</strong>(8)</a>, <a href="../man8/apt-config.8.html"><strong>apt-config</strong>(8)</a>, <a href="../man5/apt_preferences.5.html"><strong>apt_preferences</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>APT bug page</strong>\m[]\s-2\u[1]\d\s+2. If you wish to report a bug in APT, please see /usr/share/doc/debian/bug-reporting.txt or the <a href="../man1/reportbug.1.html"><strong>reportbug</strong>(1)</a> command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>Jason Gunthorpe</strong></p><p><strong>APT team</strong></p><p><strong>Daniel Burrows</strong> &lt;dburrows@debian.org&gt;</p><p>Initial documentation of Debug::*.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>APT bug page</p><p>http://bugs.debian.org/src:apt</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="apt-p2p.conf.5.html"><span aria-hidden="true">&larr;</span> apt-p2p.conf.5: Apt-p2p.conf  configuration file for apt-p2p.conf</a></li>
   <li class="next"><a href="apt_preferences.5.html">apt_preferences.5: Preference control file for apt <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
