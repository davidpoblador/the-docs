<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nvram-wakeup.conf: The configuration file for nvram wakeup.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The configuration file for nvram wakeup.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nvram-wakeup.conf (5) manual">
  <meta name="twitter:description" content="The configuration file for nvram wakeup.">
  <meta name="twitter:image" content="https://www.carta.tech/images/nvram-wakeup-nvram-wakeup.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/nvram-wakeup.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nvram-wakeup.conf (5) manual" />
  <meta property="og:description" content="The configuration file for nvram wakeup." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nvram-wakeup-nvram-wakeup.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nvram-wakeup.conf<small> (5)</small></h1>
        <p class="lead">The configuration file for nvram wakeup.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nvram-wakeup.conf.5.html">
      <span itemprop="name">nvram-wakeup.conf: The configuration file for nvram wakeup.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nvram-wakeup/">
      <span itemprop="name">nvram-wakeup</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/nvram-wakeup.conf.5.html">
      <span itemprop="name">nvram-wakeup.conf: The configuration file for nvram wakeup.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This  file can be passed to the program NVRAM WakeUp (see <a href="../man8/nvram-wakeup.8.html"><strong>nvram-wakeup</strong>(8)</a> for more information) via the <strong>--configfile</strong> option.</p><p>It might look as follows:</p><ul>
<li>
<pre>

</pre>
</li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>Any empty line or a line containing only space characters is ignored.</p><p>Anything after and including a character is treated as a comment and is ignored.</p><p>The options must have the form <em>NAME</em> = <em>VALUE</em> with or without spaces before <em>NAME</em>, after <em>VALUE</em> or around the equal sign. Valid options are described below.</p><p>The options may appear in any order. The same option must not appear twice.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>bcd</strong></p>
<pre>
        = (<em>ON|OFF</em>), default <em>OFF</em>
</pre>
<p>indicates if the board uses BCD notation for storing values.</p><p>BCD  is the  so called Binary  Coded Decimal  notation (actually, it is `packed BCD', in the plain BCD they waste whole byte per digit.) in this notation the decimal numbers 0..99 are stored using four bits for  every digit,  e.g. 24 would be stored as 0x24  (the  4 is stored in  the lower four bits and the 2 is stored in the upper four bits).</p><p><strong>addr_chk_h</strong>  = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em></p><p><strong>addr_chk_l</strong>  = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em></p><p><strong>addr_stat</strong></p>
<pre>
  = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em>
</pre>
<p><strong>addr_mon</strong></p>
<pre>
   = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em>
</pre>
<p><strong>addr_day</strong></p>
<pre>
   = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em>
</pre>
<p><strong>addr_hour</strong></p>
<pre>
  = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em>
</pre>
<p><strong>addr_min</strong></p>
<pre>
   = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em>
</pre>
<p><strong>addr_sec</strong></p>
<pre>
   = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em>
</pre>
<p>Addresses of the  bytes  where the checksum  (lower resp. higher bytes), status  (enabled/disabled), month, day,  hour,  minute  and second  are stored in the nvram.</p><p><strong>addr_chk_h</strong>, <strong>addr_chk_l</strong> and <strong>addr_stat</strong> must be defined. All other may stay undefined.  That  means, the board  doesn't store them (e.g.  because it stores that value in RTC alarm registers)</p><p><strong>addr_chk_h2</strong> = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em></p><p><strong>addr_chk_l2</strong> = (<em>0x00</em>|...|<em>0x71</em>), default: <em>undefined</em></p><p>There are some boards which have two checksums. Since I haven't seen many of them yet, I don't know if they need special handling</p><p><strong>addr_wdays</strong>  = (<em>0x00</em>|...|<em>0x71</em> ), default: <em>undefined</em></p><p>The address of the byte  containing a weekday vector. Currently,  I  know  of  only  two boards,  which store a weekday vector (Asus SP98-X and SP97-X).</p><p><strong>rtc_time</strong></p>
<pre>
   = (<em>ON</em>|<em>OFF</em>), default: <em>OFF</em>
</pre>
<p>indicates if we have to set the the RTC alarm time accordingly.</p><p><strong>rtc_mon</strong></p>
<pre>
    = (<em>0x00</em>|...|<em>0x71</em>|<em>0x7F</em>), default: <em>undefined</em>
</pre>
<p><strong>rtc_day</strong></p>
<pre>
    = (<em>0x00</em>|...|<em>0x71</em>|<em>0x7F</em>), default: <em>undefined</em>
</pre>
<p>similar to <strong>addr_mon</strong>/<strong>addr_day</strong>, but   stored  in  BCD and not affecting the checksum. In  most cases, the day is stored in the RTC register D (<em>0x7F</em>), but there are  also  some  boards,  which  store  it somewhere  in the nvram (address &lt;= <em>0x71</em>).</p><p>If <strong>rtc_day</strong> is &gt;= <em>0x72</em>, you will need a kernel patch: in &lt;kernel-src&gt;/drivers/char/nvram.c change the line</p><p>to</p><p>in newer kernels (beginning with 2.4.20) it is the line</p><p>which must be changed to</p><p><strong>reset_mon</strong></p>
<pre>
  = (<em>ON</em>|<em>OFF</em>), default: <em>OFF</em>
</pre>
<p><strong>reset_day</strong></p>
<pre>
  = (<em>ON</em>|<em>OFF</em>), default: <em>OFF</em>
</pre>
<p>on some boards  we have to set the value of <strong>rtc_mon</strong> resp. <strong>rtc_day</strong> to <em>0</em> when disabling the wakeup feature.</p><p><strong>nr_stat</strong></p>
<pre>
    = <em>1</em> (just on/off)
</pre>
<p><strong>nr_mon</strong></p>
<pre>
     = <em>4</em> (   0..12   )
</pre>
<p><strong>nr_day</strong></p>
<pre>
     = <em>5</em> (   0..31   )
</pre>
<p><strong>nr_rtc_mon</strong>  = <em>5</em> (0x00...0x12)</p><p><strong>nr_rtc_day</strong>  = <em>6</em> (0x00...0x31)</p><p><strong>nr_wdays</strong></p>
<pre>
   = <em>7</em> ( 1 per day )
</pre>
<p><strong>nr_hour</strong></p>
<pre>
    = <em>5</em> (   0..23   )
</pre>
<p><strong>nr_min</strong></p>
<pre>
     = <em>6</em> (   0..59   )
</pre>
<p><strong>nr_sec</strong></p>
<pre>
     = <em>6</em> (   0..59   )
</pre>
<p>Number  of bits  needed for  the status,  month, day,  rtc_day, weekday vector,   hour,   minute  and  second.   These  values  are a priori motherboard independent but depend on the BCD/non-BCD notation.</p><p><strong>shift_stat</strong>  = (<em>0</em>|...|<em>7</em>), default: <em>0</em></p><p><strong>shift_mon</strong></p>
<pre>
  = (<em>0</em>|...|<em>4</em>), default: <em>0</em>
</pre>
<p><strong>shift_day</strong></p>
<pre>
  = (<em>0</em>|...|<em>3</em>), default: <em>0</em>
</pre>
<p><strong>shift_wdays</strong> = (<em>0</em>|...|<em>1</em>), default: <em>0</em></p><p><strong>shift_hour</strong>  = (<em>0</em>|...|<em>3</em>), default: <em>0</em></p><p><strong>shift_min</strong></p>
<pre>
  = (<em>0</em>|...|<em>2</em>), default: <em>0</em>
</pre>
<p><strong>shift_sec</strong></p>
<pre>
  = (<em>0</em>|...|<em>2</em>), default: <em>0</em>
</pre>
<p>Indicates,  by how many  bits the value is  shifted  to the left in  the byte, e.g.  the  value of the day (5 bits)  could be stored in the bits marked with an "x" of a byte:</p>
<pre>
    000xxxxx  -&gt;
</pre>
<p><strong>shift_day</strong> = <em>0</em></p>
<pre>
    00xxxxx0  -&gt;
</pre>
<p><strong>shift_day</strong> = <em>1</em></p>
<pre>
    0xxxxx00  -&gt;
</pre>
<p><strong>shift_day</strong> = <em>2</em></p>
<pre>
    xxxxx000  -&gt;
</pre>
<p><strong>shift_day</strong> = <em>3</em></p><p><strong>need_reboot</strong>  = (<em>OFF</em>|<em>ON_STAT</em>|<em>ON_SEC</em>|<em>ON_MIN</em>|<em>ON_HOUR</em></p>
<pre>
                   |<em>ON_DAY</em>|<em>ON_MON</em>|<em>ON_WDAYS</em>|<em>ON_ANY_CHANGE</em>|...),
</pre>

<pre>
                default: <em>OFF</em>
</pre>
<p>Here "..." means any or-ed combination of multiple <em>ON_XXX</em> values.</p><p>Some boards need a reboot  for changes in nvram to take effect.  Some of them  need  a  reboot  after _any_ change,  some  of them only after the status  bit  was changed. Anyway, now we are able to define when a board needs a reboot:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>OFF</em></p>
  </dt>
  <dd>
    <p>means, the board never needs it</p>
  </dd>
  <dt>
    <p><em>ON_ANY_CHANGE</em></p>
  </dt>
  <dd>
    <p>means, the board needs it after _any_ change on nvram.</p>
  </dd>
  <dt>
    <p><em>ON_STAT</em></p>
  </dt>
  <dd>
    <p>means, reboot only if the status bit is changed</p>
  </dd>
  <dt>
    <p><em>ON_STAT</em>|<em>ON_SEC</em></p>
  </dt>
  <dd>
    <p>means, reboot whenever the status or the second are changed.</p>
  </dd>

</dl>
<p>The idea behind this is  if <strong>nvram-wakeup</strong> decides that we need to reboot, it will exit with exit status <em>1</em> (instead of <em>0</em>). So the script which runs <strong>nvram-wakeup</strong> could  react  on  this.  We also print it to <strong>stderr</strong>, so if <strong>nvram-wakeup</strong> is run directly on the command line, the user  could  react appropriately.</p><p><strong>upper_method</strong></p>
<pre>
   = (<em>OFF</em>|<em>INTEL</em>|<em>DS1685</em>|<em>VT82Cxxx</em>|<em>VT8235_37</em>), default: <em>OFF</em>
</pre>
<p>indicates if upper nvram must be used and if yes, which method to use to access it. Note that upper nvram can only be read if --directisa parameter is specified. Possible values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>OFF</em></p>
  </dt>
  <dd>
    <p>upper nvram disabled (default)</p>
  </dd>
  <dt>
    <p><em>INTEL</em></p>
  </dt>
  <dd>
    <p>access upper nvram by a method used by most (if not all) Intel chipsets with ICH, ICH2, C-ICH, ...</p><p>(datasheets at http://intel.com/design/chipsets/datashts/)</p>
  </dd>
  <dt>
    <p><em>DS1685</em></p>
  </dt>
  <dd>
    <p>access upper nvram by a method used by the Dallas Semiconductor DS1685/DS1687 chips.</p><p>(datasheet at http://www.farnell.com/datasheets/4182.pdf)</p>
  </dd>
  <dt>
    <p><em>VT82Cxxx</em></p>
  </dt>
  <dd>
    <p>access upper nvram by a method used by VIA's VT82C686A "Super South" South Bridge. Reported to work with VT82C686A, VT82C686B, VT82C596, nVidia nForce2, ATI RADEON 9100 IGP (= RS300), AMD-8111.</p><p>(datasheet at http://www.viatech.com/pdf/productinfo/686a.pdf)</p><p>(datasheet at http://www.amd.com/us-en/assets/content_type/white_papers_and_tech_docs/24674.pdf)</p>
  </dd>
  <dt>
    <p><em>VT8235_37</em></p>
  </dt>
  <dd>
    <p>access upper nvram by a method used by VIA's VT8235/37 South Bridges. Reported to work with VT8233 as well.</p><p>(no official source)</p>
  </dd>

</dl>
<p><strong>chk_method</strong></p>
<pre>
   = (<em>DELL</em>|<em>FSC</em>), default: <em>undefined</em>
</pre>
<p>indicates which algorithm for calculation of the checksum must be used. Possible values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>undefined</em></p>
  </dt>
  <dd>
    <p>Majority of mainboards use the same algorithm (just addition of values). This algorithm is used if no <strong>chk_method</strong> option is specified.</p>
  </dd>
  <dt>
    <p><em>DELL</em></p>
  </dt>
  <dd>
    <p>This method is used by many Dell mainboards (addition of negative values).</p>
  </dd>
  <dt>
    <p><em>FSC</em></p>
  </dt>
  <dd>
    <p>Fujitsu-Siemens uses  yet another algorithm. I don't know it and they consider it as a company secret. Thus this method is not implemented.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OBSCURE OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>rtc_mon_0_is_c0</strong></p>
<pre>
  = (<em>ON</em>|<em>OFF</em>), default: <em>OFF</em>
</pre>
<p><strong>rtc_day_0_is_c0</strong></p>
<pre>
  = (<em>ON</em>|<em>OFF</em>), default: <em>OFF</em>
</pre>
<p>on some boards  we have to store the value <em>0xC0</em> instead of <em>0</em> in <strong>rtc_mon</strong> resp. <strong>rtc_day</strong>. If you use one of this two options, don't forget to set <strong>nr_rtc_mon</strong> resp. <strong>nr_rtc_day</strong> to <em>8</em>.</p><p><strong>day_hack</strong></p>
<pre>
         = (<em>1</em>|...|<em>4</em>), default: <em>undefined</em>
</pre>
<p>on some boards the value of <strong>addr_day</strong> is split over the day and the status byte. In those cases the lower <strong>day_hack</strong> bits of the day value are stored in the highest bits of the status byte and the rest is stored in the day byte.</p><p><strong>day_no_bcd</strong></p>
<pre>
       = (<em>ON</em>|<em>OFF</em>), default: <em>OFF</em>
</pre>
<p>on some boards the value of <strong>addr_day</strong> is not stored in BCD, although everything else is. This option has no effect is the option <strong>bcd</strong> is not enabled.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nvram-wakeup.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/nvram-wakeup.8.html"><strong>nvram-wakeup</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOMEPAGE</h2>
        <div class="sectioncontent">
<p>http://sf.net/projects/nvram-wakeup/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Sergei Haller &lt;Sergei.Haller@math.uni-giessen.de&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs at the bug tracking system (see HOMEPAGE) or on the mailing list <strong>nvram-wakeup-devel@lists.sourceforge.net</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2001-2004 Sergei Haller.</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nut.conf.5.html"><span aria-hidden="true">&larr;</span> nut.conf.5: Ups definitions for network ups tools</a></li>
   <li class="next"><a href="object-expirer.conf.5.html">object-expirer.conf.5: Configuration file for the openstack-swift object exprier daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
