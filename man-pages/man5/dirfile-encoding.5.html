<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dirfile-encoding: Dirfile-encoding  dirfile database encoding schemes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Dirfile-encoding  dirfile database encoding schemes">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dirfile-encoding (5) manual">
  <meta name="twitter:description" content="Dirfile-encoding  dirfile database encoding schemes">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgetdata-tools-dirfile-encoding-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/dirfile-encoding.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dirfile-encoding (5) manual" />
  <meta property="og:description" content="Dirfile-encoding  dirfile database encoding schemes" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgetdata-tools-dirfile-encoding-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dirfile-encoding<small> (5)</small></h1>
        <p class="lead">Dirfile-encoding  dirfile database encoding schemes</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/dirfile-encoding.5.html">
      <span itemprop="name">dirfile-encoding: Dirfile-encoding  dirfile database encoding schemes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgetdata-tools/">
      <span itemprop="name">libgetdata-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/dirfile-encoding.5.html">
      <span itemprop="name">dirfile-encoding: Dirfile-encoding  dirfile database encoding schemes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>Dirfile Standards</em> indicate that <strong>RAW</strong> fields defined in the database are accompanied by binary files containing the field data in the specified simple data type.  In certain situations, it may be advantageous to convert the binary files in the database into a more convenient form.  This is accomplished by <em>encoding</em> the binary file into the alternate form.  A common use-case for encoding a binary file is to compress it to save disk space.  Only data is modified by an encoding scheme.  Database metadata is unaffected.</p><p>Support for encoding schemes is optional.  An implementation need not support any particular encoding scheme, or may only support certain operations with it, but should expect to encounter unknown encoding schemes and fail gracefully in such situations.</p><p>Additionally, how a particular encoding is implemented is not specified by the Dirfile Standards, but, for purposes of interoperability, all dirfile implementations are encouraged to support the encoding implementation used by the GetData dirfile reference implementation, elaborated below.</p><p>An encoding scheme is local to the particular <em>format specification fragment</em> in which it is indicated.  This allows a single dirfile to have binary files which are stored using multiple encodings, by having them defined in multiple fragments.</p><p>The rest of this manual page discusses specifics of the encoding framework implemented in the GetData library, and does not constitute part of the Dirfile Standards.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE GETDATA ENCODING FRAMEWORK</h2>
        <div class="sectioncontent">
<p>The GetData library provides an encoding framework which abstracts binary file I/O, allowing for generic support for a wide variety of encoding schemes. Functions which may make use of the encoding framework are:</p><ul>
<li><p><a href="../man3/gd_add.3.html"><strong>gd_add</strong>(3)</a>,\~<a href="../man3/gd_add_raw.3.html"><strong>gd_add_raw</strong>(3)</a>,\~<a href="../man3/gd_add_spec.3.html"><strong>gd_add_spec</strong>(3)</a>, <a href="../man3/gd_alter_encoding.3.html"><strong>gd_alter_encoding</strong>(3)</a>,\~<a href="../man3/gd_alter_endianness.3.html"><strong>gd_alter_endianness</strong>(3)</a>, <a href="../man3/gd_alter_frameoffset.3.html"><strong>gd_alter_frameoffset</strong>(3)</a>,\~<a href="../man3/gd_alter_entry.3.html"><strong>gd_alter_entry</strong>(3)</a>, <a href="../man3/gd_alter_raw.3.html"><strong>gd_alter_raw</strong>(3)</a>,\~<a href="../man3/gd_alter_spec.3.html"><strong>gd_alter_spec</strong>(3)</a>,\~<a href="../man3/gd_getdata.3.html"><strong>gd_getdata</strong>(3)</a>, <a href="../man3/gd_move.3.html"><strong>gd_move</strong>(3)</a>,\~<a href="../man3/gd_nframes.3.html"><strong>gd_nframes</strong>(3)</a>,\~<a href="../man3/gd_putdata.3.html"><strong>gd_putdata</strong>(3)</a>, and <a href="../man3/gd_rename.3.html"><strong>gd_rename</strong>(3)</a>.</p></li>
</ul><p>Most of the encodings supported by GetData are implemented through external libraries which handle the actual file I/O and data translation.  All such libraries are optional; a build of the library which omits an external library will lack support for the associated encoding scheme.  In this case, GetData will still properly identify the encoding scheme, but attempts to use GetData for file I/O via the encoding will fail with the <strong>GD_E_UNSUPPORTED</strong> error code.</p><p>GetData discovers the encoding scheme of a particular RAW field by noting the filename extension of files associated with the field.  Binary files which form an unencoded dirfile have no file extension.  The file extension used by the other encodings are noted below.  Encoding discovery proceeds by searching for files with the known list of file extensions (in an unspecified order) and stopping when the first successful match is made.  Because of this, when the a field has multiple data files with different, supported file extensions which could legitimately be associated with it, the encoding scheme discovered by GetData is not well defined.</p><p>In addition to raw (unencoded) data, GetData supports five other encoding schemes: <em>text</em> encoding, <em>bzip2</em> encoding, <em>gzip</em> encoding, <em>lzma</em> encoding, and <em>slim</em> encoding, all discussed below.</p><h3>Text Encoding</h3>
<p>The Text Encoding is unique among GetData encoding schemes in that it requires no external library.  As a result, all builds of the library contain full support for this encoding.  It is meant to serve as a reference encoding and example of the encoding framework for work on other encoding schemes.</p><p>The Text Encoding replaces the binary data files with 7-bit ASCII files containing a decimal text encoding of the data, one sample per line.  All operations are supported by the Text Encoding.  The file extension of the Text Encoding is <strong>.txt</strong>.</p>
<h3>BZip2 Encoding</h3>
<p>The BZip2 Encoding compresses raw binary files using the Burrows-Wheeler block sorting text compression algorithm and Huffman coding, as implemented in the bzip2 format.  GetData's BZip2 Encoding scheme is implemented through the the <em>bzip2 compression library</em> written by Julian Seward.  GetData's BZip2 Encoding framework currently lacks write capabilities; as a result the BZip2 Encoding does not support functions which modify binary data.</p><p>GetData caches an uncompressed megabyte of data at a time to speed access times. A call to <strong>get_nframes</strong>(3) requires decompression of the entire binary file to determine its uncompressed size, and may take some time to complete. The file extension of the BZip2 Encoding is <strong>.bz2</strong>.</p>
<h3>GZip Encoding</h3>
<p>The GZip Encoding compresses raw binary files using Lempel-Ziv coding (LZ77) as implemented in the gzip format.  GetData's GZip Encoding scheme is implemented through the the <em>zlib compression library</em> written by Jean-loup Gailly and Mark Adler.  GetData's GZip Encoding framework currently lacks write capabilities; as a result the GZip Encoding does not support functions which modify binary data.</p><p>To speed the operation of <strong>get_nframes</strong>(3), the GZip Encoding takes the uncompressed size of the file the gzip footer, which contains the file's uncompressed size in bytes, modulo 2^32.  As a result, using a field with an (uncompressed) binary file size larger than 4\~GiB as the reference field will result in the wrong number of frames being reported. The file extension of the GZip Encoding is <strong>.gz</strong>.</p>
<h3>LZMA Encoding</h3>
<p>The LZMA Encoding compresses raw binary files using the Lempel-Ziv Markov Chain Algorithm (LZMA) as implemented in the xz container format.  GetData's LZMA Encoding scheme is implemented through the <em>lzma library</em>, part of the <em>XZ Utils</em> suite written by Lasse Collin, Ville Koskinen, and Igor Pavlov.  GetData's LZMA Encoding framework currently lacks write capabilities; as a result the LZMA Encoding does not support functions which modify binary data.</p><p>As with the BZip2 Encoding, GetData caches an uncompressed megabyte of data at a time to speed access times.  A call to <strong>get_nframes</strong>(3) requires decompression of the entire binary file to determine its uncompressed size, and may take some time to complete. The file extension of the LZMA Encoding is <strong>.xz</strong>, or <strong>.lzma</strong>.</p>
<h3>Slim Encoding</h3>
<p>The Slim Encoding compresses raw binary files using the slimlib compression library written by Joseph Fowler.  The slimlib library was developed at Princeton University to compress dirfile-like data.  GetData's Slim Encoding framework currently lacks write capabilities; as a result, the Slim Encoding does not support function which modify binary files.  The file extension of the Slim Encoding is <strong>.slm</strong>.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was by D. V. Wiebe &lt;dvw@ketiltrout.net&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dirfile-encoding&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/dirfile.5.html"><strong>dirfile</strong>(5)</a>, <a href="../man5/dirfile-format.5.html"><strong>dirfile-format</strong>(5)</a>, <a href="../man1/bzip2.1.html"><strong>bzip2</strong>(1)</a>, <a href="../man1/gzip.1.html"><strong>gzip</strong>(1)</a>, <a href="../man3/zlib.3.html"><strong>zlib</strong>(3)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dirfile.5.html"><span aria-hidden="true">&larr;</span> dirfile.5: Dirfile  a filesystem based database format for time-ordered binary data</a></li>
   <li class="next"><a href="dirfile-format.5.html">dirfile-format.5: Dirfile-format  the dirfile database format specification file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
