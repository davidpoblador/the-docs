<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ftp-proxy.conf: Configuration file for ftp-proxy</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for ftp-proxy">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ftp-proxy.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for ftp-proxy">
  <meta name="twitter:image" content="https://www.carta.tech/images/ftp-proxy-ftp-proxy.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/ftp-proxy.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ftp-proxy.conf (5) manual" />
  <meta property="og:description" content="Configuration file for ftp-proxy" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ftp-proxy-ftp-proxy.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ftp-proxy.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for ftp-proxy</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/ftp-proxy.conf.5.html">
      <span itemprop="name">ftp-proxy.conf: Configuration file for ftp-proxy</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ftp-proxy/">
      <span itemprop="name">ftp-proxy</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/ftp-proxy.conf.5.html">
      <span itemprop="name">ftp-proxy.conf: Configuration file for ftp-proxy</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>/etc/proxy-suite/ftp-proxy.conf</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents the configuration file format of the <a href="../man8/ftp-proxy.8.html"><strong>ftp-proxy</strong>(8)</a></strong> program. FTP-Proxy is an application level gateway between FTP clients and servers.  Its main purpose is to secure servers against attacks based on the FTP protocol.</p><p>The FTP-Proxy configuration file consists of option lines and comments.  A line starting with a '#' character is a comment. The general format of a option line is</p><p><strong>[WhiteSpace] Name WhiteSpace Value [WhiteSpace]</strong></p><p>It is recommended to use up to 24 characters for the name and no more than 1024 for the value, although theoretically both can be up to 4096 in size.  Lines can be continued if the last character is a backslash.  The whole file is not case sensitive.</p><h3>CONTEXT</h3>
<p>Option lines always have a <strong>context</strong> which may be global or user specific.  A context is introduced by a <strong>[name]</strong> line, where name is the FTP-login name or authuser if the <strong>UserAuthMagic</strong> feature is used. It is allowed to use '*' wildcard character at the end of the context name <strong>[name*]</strong> i.e. [foo*] to match multiple usernames beginning with "foo". The beginning of the file is implicitly the <strong>[-Global-]</strong> context (the dashes allow a user context named [global] without conflict).  It is legal to include an option more than once; the last one will be the one used.  Options in user contexts usually take precedence over the equivalent global option.</p><p>Some of the options can be used in a user or the global context, while others make sense only in one of them.  See below.</p>
<h3>VARIABLE SUBSTITUTION</h3>
<p>Several options (see the individual discussion below for details) support a limited set of variable substitution when evaluated. The following replacements will be performed:</p>
<pre>
	<strong>%b</strong>	build date of the <a href="../man8/ftp-proxy.8.html"><strong>ftp-proxy</strong>(8)</a> program
	<strong>%d</strong>	current system date in the form YYYY/MM/DD
	<strong>%h</strong>	host name from <a href="../man2/gethostname.2.html"><strong>gethostname</strong>(2)</a>
	<strong>%n</strong>	network name from <a href="../man2/getdomainname.2.html"><strong>getdomainname</strong>(2)</a>
	<strong>%t</strong>	current system time in the form HH:MM:SS
	<strong>%v</strong>	version of the <a href="../man8/ftp-proxy.8.html"><strong>ftp-proxy</strong>(8)</a> program
	<strong>%%</strong>	a single percent sign
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>ActiveMaxDataPort</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the maximum local port number used when connecting to the client's data port.  The latter is either the same as the client's control port or the one given in the most recent <strong>PORT</strong> command.  If either minimum or maximum value is not given, the program defaults to using port 20, the <strong>ftp-data</strong> port as per <strong>RFC 959,</strong> for the local end of the socket if the proxy is running as root (user ID 0) or to use a random port. See also <strong>ActiveMinDataPort</strong> and <strong>User</strong> options.</p>
  </dd>
  <dt>
    <p><strong>ActiveMinDataPort</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the minimum local port number used when connecting to the client's data port. See also <strong>ActiveMaxDataPort</strong> and <strong>User</strong> options.</p>
  </dd>
  <dt>
    <p><strong>AllowMagicUser</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines a flag that when set to <strong>yes, true,</strong> or <strong>on</strong> allows the USER name to be optionally interpreted as <strong>user[@host[:port]]</strong> where host overrides the <strong>DestinationAddress</strong> and port the <strong>DestinationPort</strong> directive below. It should only be activated with "trusted" users, like in an outgoing FTP proxy scenario. See also the <strong>UserMagicChar</strong> and <strong>ForceMagicUser</strong> options.</p>
  </dd>
  <dt>
    <p><strong>AllowTransProxy</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines a flag that when set to <strong>yes, true,</strong> or <strong>on</strong> allows one to use the proxy as transparent proxy for outgoing ftp. To get it working you also have to redirect client requests on a gateway or firewall host (i.e. via ipchains) to the ftp-proxy. It should only be activated with "trusted" users, like in an outgoing FTP proxy scenario. You can combine this with the <strong>AllowMagicUser</strong> option.</p>
  </dd>
  <dt>
    <p><strong>DenyMessage</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the name of a file which prevents any successful login if it exists, even if it is empty.  The file contents will be sent to the client, each line prefixed with <strong>'421-'</strong> and with variable substitution applied.  The whole file is followed by a line starting with <strong>'421 '</strong> followed by the <strong>DenyString</strong> below.  After sending the connection is closed.  If no such file exists, the deny mechanism is not triggered altogether.  See also <strong>DenyString</strong> option.</p>
  </dd>
  <dt>
    <p><strong>DenyString</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines a string that will be displayed to clients, prefixed with <strong>'421 '</strong> and variable substitution applied, if and only if a <strong>DenyMessage</strong> file exists.  The default is <strong>'Service not available'.</strong> See also <strong>DenyMessage</strong> option.</p>
  </dd>
  <dt>
    <p><strong>DestinationAddress</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines where to redirect incoming FTP traffic.  Can be given as either dotted decimal IP address or as DNS host name.  Please note that the global section must always contain this option as a basic sanity check.</p>
  </dd>
  <dt>
    <p><strong>DestinationMaxPort</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the maximum local port number to be used when opening a connection to the FTP server. Valid both for control and for data connections.  Defaults to not binding prior to connecting and listening, so that the system selects an arbitrary ephemeral port.  See also <strong>DestinationMinPort</strong> option.</p>
  </dd>
  <dt>
    <p><strong>DestinationMinPort</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the minimum local port number to be used when opening a connection to the FTP server. See also <strong>DestinationMaxPort</strong> option.</p>
  </dd>
  <dt>
    <p><strong>DestinationPort</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the FTP server's control port where the proxy itself will connect.  This option can either be given as a numeric value or as the service name retrieved by <a href="../man3/getservbyname.3.html"><strong>getservbyname</strong>(3)</a></strong> and defaults to port 21, the <strong>ftp</strong> port as per <strong>RFC 959.</strong></p>
  </dd>
  <dt>
    <p><strong>DestinationTransferMode</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the FTP transfer mode to be used from the proxy to the server.  Legal values are <strong>active, passive,</strong> or <strong>client.</strong> The latter means to follow the mode the client is using.  The default value is <strong>client.</strong></p>
  </dd>
  <dt>
    <p><strong>FailResetsPasv</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the action that is taken when a data transfer command is failed on the server side. If the option is set to <strong>yes, true,</strong> or <strong>on</strong> the client data transfer socket will be closed and the transfer mode set to the default (active-ftp).</p><p>If this flag is set to <strong>no, false,</strong> or <strong>off</strong> (which is also the default) the socket can be reused for the next data transfer command in passive mode. This options is a workaround for Netscape (4.x) clients, that sends a second data transfer command if the first is failed, while the user clicks on a symbolic link pointing to a directory.</p><p>Note, that this behavior may break the RFC definitions.</p>
  </dd>
  <dt>
    <p><strong>ForceMagicUser</strong></p>
  </dt>
  <dd>
    <p>Global context only. Same as AllowMagicUser, but makes the host and port portion mandatory.</p>
  </dd>
  <dt>
    <p><strong>ForkLimit</strong></p>
  </dt>
  <dd>
    <p>Global context only. Limits the number of incoming client connections per minute in daemon mode - it defaults to 40 connections per minute.</p>
  </dd>
  <dt>
    <p><strong>Group</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the UNIX style group ID which is set by the process before it serves clients.  Default is to keep the current real group ID.</p>
  </dd>
  <dt>
    <p><strong>LDAPAuthDN</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines a different base distinguished name that is used when accessing an LDAP directory for user authentication purposes. It defaults to the value of <strong>LDAPBaseDN.</strong> See also <strong>LDAPAuthPWAttr, LDAPAuthPWType, LDAPAuthOKFlag,</strong> <strong>UserAuthType, LDAPBindDN</strong> options.</p>
  </dd>
  <dt>
    <p><strong>LDAPAuthOKFlag</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines an attribute and its value as <strong>attr=value</strong> string, i.e. userEnabled=yes, that will be checked while user authentication in the directory tree specified using <strong>LDAPAuthDN</strong> or <strong>LDAPBaseDN.</strong> Defaults to an empty string - no flag check used.</p>
  </dd>
  <dt>
    <p><strong>LDAPAuthPWAttr</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the LDAP password attribute name used for user authentication.</p><p>A common used attribute name is <strong>userPassword.</strong> Defaults to an empty string - password authentication disabled. See also <strong>LDAPAuthPWType</strong> option.</p>
  </dd>
  <dt>
    <p><strong>LDAPAuthPWType</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the LDAP password type / format and a minimal allowed password length expected as value for attribute name specified using <strong>LDAPAuthPWAttr.</strong></p><p>Valid values are <strong>plain, crypt, {crypt}</strong> followed by one number <strong>0-9,</strong> i.e. <strong>{crypt}7, plain9</strong> or <strong>plain.</strong></p><p>If no minimum length specified the default minimum length of 5 characters is used.</p><p>A password type {crypt} means, the password value in the LDAP directory is prefixed by the {crypt} scheme specification. Other password schemes, i.e. MD5, are not supported at the moment.</p><p>Crypted passwords are only available, if the proxy is compiled with crypt support - see also <strong>--with-crypt</strong> compile time option in configure script.</p><p>If the password (without scheme prefix) stored in LDAP directory is <strong>*</strong> or <strong>!</strong> the account is disabled and the authentication fails.</p><p>Defaults to <strong>plain</strong> (equivalent to plain5). See also the <strong>LDAPAuthOKFlag.</strong></p>
  </dd>
  <dt>
    <p><strong>LDAPBaseDN</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the base distinguished name that is used when accessing an <strong>LDAP</strong> directory, i.e. the root of the tree containing the FTP-Proxy entries. Defaults to an empty string. If <strong>UserAuthMagic</strong> is used, the authuser is used as user name for authentication and user profiles, otherwise the normal ftp-user name. See also <strong>LDAPIdentifier, LDAPObjectClass, LDAPServer, UserAuthMagic</strong> options.</p>
  </dd>
  <dt>
    <p><strong>LDAPBindDN</strong></p>
  </dt>
  <dd>
    <p>Defines the distinguished name that is used to (simple) bind the directory service. Defaults to an empty string (anonymous bind). It is allowed to include one %s in this string, that will be replaced with the FTP username or authuser if <strong>UserAuthMagic</strong> is used. See also <strong>UserAuthMagic, LDAPAuthDN, LDAPBindPW</strong> options.</p>
  </dd>
  <dt>
    <p><strong>LDAPBindPW</strong></p>
  </dt>
  <dd>
    <p>Defines the credential (password) that is used to (simple) bind the directory service using distinguished name given in the <strong>LDAPBindDN</strong> option. Defaults to an empty string (anonymous bind).</p>
  </dd>
  <dt>
    <p><strong>LDAPIdentifier</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the identification attribute for the access to the <strong>LDAP</strong> directory.  This can be thought of as the primary key and defaults to the string <strong>CN</strong> which is short for "Common Name."  See also <strong>LDAPBaseDN, LDAPObjectClass, LDAPServer</strong> options.</p>
  </dd>
  <dt>
    <p><strong>LDAPObjectClass</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the <strong>LDAP</strong> object class which holds the entries for the FTP-Proxy access control.  It is assumed that the possible user specific config options exist as attributes within a record of this type.  There is no default, but a value of <strong>FTPProxyUser</strong> is recommended.  See also <strong>LDAPBaseDN, LDAPIdentifier, LDAPServer</strong> options.</p>
  </dd>
  <dt>
    <p><strong>LDAPServer</strong></p>
  </dt>
  <dd>
    <p>Global context only.  This is the main option for using an <strong>LDAP</strong> directory for retrieving user specific values.  If given, it denotes the server (and possible port separated by a colon) where FTP-Proxy will ask for the attributes.  The program will bind as the anonymous user and try to retrieve the values from the tree rooted at <strong>LDAPBaseDN,</strong> having an object class of <strong>LDAPObjectClass</strong> and identified by the <strong>LDAPIdentifier.</strong> If the server cannot be reached, the program aborts.  If the user cannot be found, the program falls back to the configuration file, but will query only the global values and not the user specific ones.  See also <strong>LDAPBaseDN, LDAPBindDN, LDAPIdentifier, LDAPObjectClass</strong> options.</p>
  </dd>
  <dt>
    <p><strong>LDAPVersion</strong></p>
  </dt>
  <dd>
    <p>Global context only. Use this option to set the LDAP API version, the proxy should set: 2 or 3. Use 0 to skip explicit version setting and use library defaults. Defaults is version 3 if supported by the library or 2 if not.</p><p>Note: OpenLDAP 2.x library defaults to version 2 bind, but the OpenLDAP server refuses LDAPv2 bind by default.</p>
  </dd>
  <dt>
    <p><strong>Listen</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the address where the proxy itself opens the listening port.  The default is <strong>0.0.0.0</strong> which instructs the server to bind to any address.  See also <strong>Port</strong> option.</p>
  </dd>
  <dt>
    <p><strong>LogDestination</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the destination of the logging information the program wishes to emit.  If the value starts with a slash (/) it will be interpreted as an absolute path. This file will be created and kept open during the lifetime of the process.  The signal <strong>SIGUSR1</strong> can be sent to the (daemon) process in order to rotate this log file.</p><p>A second way to provide logging is via a pipe and is employed when the first character of the option is a pipe symbol (|). In this case the rest of the value is interpreted as the name of a UNIX command which is invoked and receives logging information on its standard input.</p><p>The third way is to use the <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></strong> service which is assumed for all other values.  The option value is interpreted as the syslog facility while the severity is defined by the various messages themselves.</p>
  </dd>
  <dt>
    <p><strong>LogLevel</strong></p>
  </dt>
  <dd>
    <p>Global context only. Defines the maximal level of logged messages. The levels are, in order of decreasing importance: <strong>FLT, ERR, WRN, INF, DBG</strong></p><p>The default level is <strong>INF.</strong> A <strong>LogLevel</strong> set to <strong>WRN</strong> causes, that only messages with levels <strong>FLT, ERR, WRN</strong> will be logged.</p>
  </dd>
  <dt>
    <p><strong>MaxClients</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the maximum number of clients the proxy will allow concurrently.  The valid range for this option is 1 to 512, with a default of 64.  See also <strong>MaxClientsMessage, MaxClientsString</strong> options.</p>
  </dd>
  <dt>
    <p><strong>MaxClientsMessage</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the name of a file that is displayed to clients if their maximum number defined with <strong>MaxClients</strong> has been exceeded. If no such file exists only the <strong>MaxClientsString</strong> is displayed, else both the file and the string are transmitted. After transmission the connection is terminated in any case. When sending the file, each line is prefixed with <strong>'421-'</strong> and variable substitution is applied to it.  See also <strong>MaxClients, MaxClientsString</strong> options.</p>
  </dd>
  <dt>
    <p><strong>MaxClientsString</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines a string that will be displayed to clients, prefixed with <strong>'421 '</strong> and variable substitution applied, if the maximum client number has been exceeded.  The default is <strong>'Service not available' .</strong> See also <strong>MaxClients, MaxClientsMessage</strong> options.</p>
  </dd>
  <dt>
    <p><strong>MaxRecvBufSize</strong></p>
  </dt>
  <dd>
    <p>Global context only. Defines the maximum number of bytes read from socket at once while data transfers. Default is to read all data as reported by the kernel.</p><p>It may be useful to set a limit (i.e. to 8192), if your proxy machine uses two interfaces of different speed, i.e. the clients are accessing the proxy via a high-speed interface (i.e. Fast-Ethernet) and the proxy is accessing servers using a slower one (i.e. modem, ISDN link) and your ftp-clients aborts the data transfers because of a timeout.</p>
  </dd>
  <dt>
    <p><strong>PassiveMaxDataPort</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the maximum local port number used when listening for the client's data connection. This is the port number transmitted to the client in a <strong>227</strong> response to the <strong>PASV</strong> command. If either minimum or maximum value is not given, the program defaults to let the system choose an arbitrary ephemeral port.  See also <strong>PassiveMinDataPort</strong> option.</p>
  </dd>
  <dt>
    <p><strong>PassiveMinDataPort</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the minimum local port number used when listening for the client's data connection. See also <strong>PassiveMaxDataPort</strong> option.</p>
  </dd>
  <dt>
    <p><strong>PidFile</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the name of a process ID file where FTP-Proxy will store its process ID if running as daemon.  The file contents will be an ASCII string with a trailing newline. On many operating systems such PID files will be located in the <strong>/var/run</strong> directory.</p>
  </dd>
  <dt>
    <p><strong>Port</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the listening port where the FTP-Proxy offers its service.  The port can be given as a number or as a string suitable for retrieval by the <a href="../man3/getservbyname.3.html"><strong>getservbyname</strong>(3)</a></strong> function.  It defaults to port 21, the <strong>ftp</strong> port as per <strong>RFC 959.</strong> See also <strong>Listen</strong> option.</p>
  </dd>
  <dt>
    <p><strong>PortResetsPasv</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the action that is taken when a <strong>PORT</strong> command is received while a passive port is open for listening. If the option is set to <strong>yes, true,</strong> or <strong>on,</strong> (which is also the default) the socket will be closed and the passive mode will be terminated (set to active-ftp). Setting the option to <strong>no, false,</strong> or <strong>off</strong> does not cancel the listen.  This flag seems necessary because the RFC is not really clear enough about the correct handling.</p>
  </dd>
  <dt>
    <p><strong>SameAddress</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines a boolean value which determines if the proxy is allowed to be included in so-called third party server to server transfers.  In this situation the client first sends a <strong>PASV</strong> command to one server, then a <strong>PORT</strong> command with the response code to the second server, and then initiates the transfer with mutual transfer commands on the two servers.  Specifying this option as <strong>no, false,</strong> or <strong>off</strong> allows FTP-Proxy to take part in such a transfer, while saying <strong>yes, true,</strong> or <strong>on</strong> (the default) will enforce that transfers can only take place to/from the client itself.</p>
  </dd>
  <dt>
    <p><strong>ServerRoot</strong></p>
  </dt>
  <dd>
    <p>Defines the directory into which the FTP-Proxy performs a <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a></strong> in order to increase its security level. See also the <strong>User</strong> and <strong>Group</strong> options.</p><p>Note, that you have to copy needed libraries, configuration files, etc into this directory first!</p>
  </dd>
  <dt>
    <p><strong>ServerType</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the mode in which the FTP-Proxy is running if no command line switch <strong>(-d/-i)</strong> has been provided.  The option value can either be <strong>inetd</strong> in which case the proxy expects the client to be available at standard input and output, or it can be <strong>standalone</strong> which means the process will become a daemon, open the listening port and fork child processes for all future connections.  The child processes themselves will behave exactly as if they were started from inetd.</p>
  </dd>
  <dt>
    <p><strong>SockBindRand</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines a flag that when set to <strong>yes, true,</strong> or <strong>on</strong> , causes the proxy to use a random port in the specified range via DestinationMinPort/MaxPort, ActiveMinPort/MaxDataPort, PassiveMinDataPort/MaxDataPort instead of increment the port number inside of this range. See also <strong>DestinationMinPort, DestinationMaxPort, PassiveMinDataPort,</strong> <strong>PassiveMaxDataPort, ActiveMinPort, ActiveMaxPort</strong> options.</p>
  </dd>
  <dt>
    <p><strong>TCPWrapper</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines a boolean value which is evaluated by the FTP-Proxy running as a standalone daemon only.  Saying <strong>yes, true,</strong> or <strong>on</strong> activate the <strong>TCP Wrapper</strong> library, whereas <strong>no, false,</strong> or <strong>off</strong> (the default) disable the function. See also <strong>TCPWrapperName</strong> option.</p>
  </dd>
  <dt>
    <p><strong>TCPWrapperName</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Use given <strong>name</strong> for TCP-Wrapper checks instead of the program name (argv[0]). See also <strong>TCPWrapper</strong> option.</p>
  </dd>
  <dt>
    <p><strong>TimeOut</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the time in seconds after which a client is assumed to be disconnected.  If no activity is detected from the client after this time, the connection is closed and the process terminates.  Default value is 900 seconds.</p>
  </dd>
  <dt>
    <p><strong>TranslatedAddress</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines an IP address the server will use in <strong>227</strong> replies to <strong>PASV</strong> commands instead of its own address.  Usually the address where the client connected to is taken, but this may not be appropriate in situations where an NAT (Network Address Translation) device is located in the way from the client to the proxy.  In this situation the response can be changed to include the input address of the NAT device.</p><p>The value for this option can be given as a DNS host name, as a dotted decimal IP address, or as a file name.  The latter is assumed when the name starts with a slash.  The file is opened and scanned for the desired address.  Blank lines or lines starting with '#' are ignored.  Reading the address from a file may be useful for environments with masquerading and dynamic PPP connections.</p>
  </dd>
  <dt>
    <p><strong>User</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the UNIX style user ID which is given to the process before it serves clients.  Default is to keep the current real user ID.</p><p>If the proxy does not run as a privileged user (root, user ID 0), it has no permission to bind a socket to port &lt; 1024 or to preform a <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a></strong> call. See also <strong>ActiveMinDataPort, ActiveMaxDataPort, ServerRoot</strong> options.</p>
  </dd>
  <dt>
    <p><strong>UserMagicChar or UseMagicChar</strong></p>
  </dt>
  <dd>
    <p>Global context only. Defines the character to use as separator between user and host[:port] in the target setting of <strong>AllowMagicUser</strong> Default is the '@' character. This allows you to use E-Mail addresses as usernames for login to the ftp server (i.e. me@mydomain%ftp.server:21 if you set it to %).</p>
  </dd>
  <dt>
    <p><strong>UserAuthMagic</strong></p>
  </dt>
  <dd>
    <p>Global context only. This is an authentication extension like AllowMagicUser, allowing encoding of additional username and password in the USER and PASS commands for authentication. Valid values are <strong>@auth</strong> for ftpuser@authuser[@host:port] and ftppass@authpass or <strong>auth@</strong> for authuser@[ftpuser@host:port] and authpass@ftppass. See also <strong>LDAPBindDN, LDAPAuthType</strong> and <strong>AllowMagicUser.</strong></p>
  </dd>
  <dt>
    <p><strong>UserAuthType</strong></p>
  </dt>
  <dd>
    <p>Global context only. Defines the authentication mechanism the proxy should use. Currently "ldap" is implemented to support simple LDAP authentication using FTP username and password from USER and PASS commands or the special authuser and authpass encoded using <strong>UserAuthMagic.</strong> See also <strong>LDAPBindDN, LDAPAuthDN, LDAPAuthPWAttr, LDAPAuthPWType,</strong> <strong>LDAPAuthOKFlag</strong> and <strong>UserAuthMagic</strong> options.</p>
  </dd>
  <dt>
    <p><strong>UserNameRule</strong></p>
  </dt>
  <dd>
    <p>Global context only. Defines a regular expression rule for validation of the user name (used for profile-setup and authentication purposes). Defaults to:</p><p><strong>^[[:alnum:]]+([%20@/&#92;&#92;._-][[:alnum:]]+)*$</strong></p><p>It checks, if the first character is alphanumeric, optionally followed by @/_-. or alphanumeric characters and ending with an alphanumeric one.</p><p>This matches the usual cases inclusive E-Mail addresses and "domain/user" names.</p><p>If regex support is not available, above default rule is still used and the option ignored. See also <strong>ValidCommands</strong> option for regex encoding description.</p>
  </dd>
  <dt>
    <p><strong>ValidCommands</strong></p>
  </dt>
  <dd>
    <p>Both user and global context.  Defines the list of allowed FTP commands for the client.  If this option is not installed, there will be no restriction on the allowed commands.  But if it is given, then all commands not on this list will be denied. The list is space separated and may consist of the following commands: <strong>USER, PASS, ACCT, CWD, CDUP, SMNT, QUIT, REIN, PORT, PASV,</strong> <strong>TYPE, STRU, MODE, RETR, STOR, STOU, APPE, ALLO, REST, RNFR,</strong> <strong>RNTO, ABOR, DELE, RMD, MKD, PWD, LIST, NLST, SITE, SYST,</strong> <strong>STAT, HELP, NOOP, SIZE, MDTM, MLFL, MAIL, MSND, MSOM, MSAM,</strong> <strong>MRSQ, MRCP, XCWD, XMKD, XRMD, XPWD, XCUP, AUTH, APSV, EPRT,</strong> and <strong>EPSV.</strong></p><p>Each command can be followed by an optional equals sign and <strong>POSIX 1003.2 Extended Regular Expression (RE)</strong> that describes the valid argument(s) for the command.  If the whole string is to be matched, the pattern has to start with a caret (^) and end with a dollar ($).  If no pattern follows a command, its arguments are not checked.  An example for a name would be the pattern <strong>'^[a-zA-Z0-9]{1,512}$'</strong> for an argument that is mandatory and may consist of up to 512 letters or digits only.  A command that does not allow any arguments can also easily be represented: <strong>'QUIT=^$' .</strong></p><p>Please note that the regular expression is "pre-processed". This means that a pattern in the form %xx will be interpreted as a hexadecimal constant and will be replaced by the value of that constant.  This looks a bit like HTML and helps to include characters that might not be handled as expected, like %20 for space or %5c (equivalent to %5C) for backslash.  The space is especially important because it is the separator for the commands within the list itself.</p><p>Please note also that regular expression support must have been enabled with the <strong>--with-regex</strong> switch during the <strong>configure</strong> compilation step of the whole package.</p>
  </dd>
  <dt>
    <p><strong>WelcomeMessage</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the name of a file that will be displayed to all clients as the first action when they open the control connection.  Each line is prefixed with <strong>'220-'</strong> and variable substitution is applied to it.  If no such file exists it is silently ignored.  See also <strong>WelcomeString</strong> option.</p>
  </dd>
  <dt>
    <p><strong>WelcomeString</strong></p>
  </dt>
  <dd>
    <p>Global context only.  Defines the string that is sent to the client in order to start login negotiation.  The string is prefixed with <strong>'220 '</strong> and variable substitution is applied to it.  If this option is not given it defaults to the following string:</p><p><strong>'%h FTP server (%v - %b) ready'.</strong></p><p>See also <strong>WelcomeMessage</strong> option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/proxy-suite/ftp-proxy.conf</p><p>/usr/sbin/ftp-proxy</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ftp-proxy.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ftp-proxy.8.html"><strong>ftp-proxy</strong>(8)</a></p><p>The <strong>SuSE Proxy-Suite</strong> documentation included in the <strong>doc</strong> subdirectory of the package.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Jens-Gero Boehm &lt;jens-gero.boehm@suse.de&gt;</p><p>Pieter Hollants &lt;pieter.hollants@suse.de&gt;</p><p>Volker Wiegand &lt;volker.wiegand@suse.de&gt;</p><p>Marius Tomaschewski &lt;mt@suse.de&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>The <strong>SuSE Proxy-Suite</strong> is released under the</p><p><strong>GNU General Public License (GPL).</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fsvs-url-format.5.html"><span aria-hidden="true">&larr;</span> fsvs-url-format.5: Fsvs can use more than one url; the given urls are overlaid according to their priority. fsvs can use more than one url; the given urls are overlaid according to their priority.  for easier managing they get a name, and can optionally take a target revision.  such an extended url has the form</a></li>
   <li class="next"><a href="ftpd-ftpchroot.5.html">ftpchroot.5: File which lists users who need to be chrooted <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
