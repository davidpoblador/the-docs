<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rlm_attr_filter: Freeradius module</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Freeradius module">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rlm_attr_filter (5) manual">
  <meta name="twitter:description" content="Freeradius module">
  <meta name="twitter:image" content="https://www.carta.tech/images/freeradius-common-rlm_attr_filter-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/rlm_attr_filter.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rlm_attr_filter (5) manual" />
  <meta property="og:description" content="Freeradius module" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/freeradius-common-rlm_attr_filter-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rlm_attr_filter<small> (5)</small></h1>
        <p class="lead">Freeradius module</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/rlm_attr_filter.5.html">
      <span itemprop="name">rlm_attr_filter: Freeradius module</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/freeradius-common/">
      <span itemprop="name">freeradius-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/rlm_attr_filter.5.html">
      <span itemprop="name">rlm_attr_filter: Freeradius module</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>rlm_attr_filter</em> module exists for filtering certain attributes and values in received ( or transmitted ) radius packets. It gives the server a flexible framework to filter the attributes we send to or receive from home servers or NASes.  This makes sense, for example, in an out-sourced dialup situation to various policy decisions, such as restricting a client to certain ranges of Idle-Timeout or Session-Timeout.</p><p>Filter rules are normally defined and applied on a per-realm basis, where the realm is anything that is defined and matched based on the configuration of the <em>rlm_realm</em> module.  Filter rules can optionally be applied using another attribute, by editing the <em>key</em> configuration for this module.</p><p>In 2.0.1 and earlier versions, the "accounting" section filtered the Accounting-Request, even though it was documented as filtering the response.  This issue has been fixed in version 2.0.2 and later versions.  The "preacct" section may now be used to filter Accounting-Request packets.  The "accounting" section now filters Accounting-Response packets.  Administrators using "attr_filter" in the "accounting" section SHOULD move the reference to "attr_filter" from "accounting" to "preacct".</p><p>The file that defines the attribute filtering rules follows a similar syntax to the <em>users</em> file.  There are a few differences however:</p>
<pre>
    There are no check-items allowed other than the name of the key.

    There can only be a single DEFAULT entry.

The rules for each entry are parsed to top to bottom, and an
attribute must pass *all* the rules which affect it in order to
make it past the filter.  Order of the rules is important.
The operators and their purpose in defining the rules are as
follows:
<strong>=</strong>
THIS OPERATOR IS NOT ALLOWED.  If used, and warning message is
printed and it is treated as ==
<strong>:=</strong>
Set, this attribute and value will always be placed in the
output A/V Pairs.  If the attribute exists, it is overwritten.
<strong>==</strong>
Equal, value must match exactly.
<strong>=*</strong>
Always Equal, allow all values for the specified attribute.
<strong>!*</strong>
Never Equal, disallow all values for the specified attribute.
( This is redundant, as any A/V Pair not explicitly permitted
will be dropped ).
<strong>!=</strong>
Not Equal, value must not match.
<strong>&gt;=</strong>
Greater Than or Equal
<strong>&lt;=</strong>
Less Than or Equal
<strong>&gt;</strong>
Greater Than
<strong>&lt;</strong>
Less Than

If regular expressions are enabled the following operators are
also possible.  ( Regular Expressions are included by default
unless your system doesn't support them, which should be rare ).
The value field uses standard regular expression syntax.

<strong>=~</strong>
Regular Expression Equal
<strong>!~</strong>
Regular Expression Not Equal

See the default <em>/etc/raddb/attrs</em> for working examples of
sample rule ordering and how to use the different operators.
</pre>
<p>The configuration items are:</p>
<dl class='dl-vertical'>
  <dt>
    attrsfile
  </dt>
  <dd>
    <p>This specifies the location of the file used to load the filter rules. This file is used to filter the accounting response, packet before it is proxied, proxy response from the home server, or our response to the NAS.</p>
  </dd>
  <dt>
    key
  </dt>
  <dd>
    <p>Usually %{Realm} (the default).  Can also be %{User-Name}, or other attribute that exists in the request.  Note that the module always keys off of attributes in the request, and NOT in any other packet.</p>
  </dd>
  <dt>
    relaxed
  </dt>
  <dd>
    <p>If set to 'yes', then attributes which do not match any filter rules explicitly, will also be allowed. This behaviour may be overridden for an individual filter block using the Relax-Filter check item. The default for this configuration item is 'no'.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    preacct
  </dt>
  <dd>
    <p>Filters Accounting-Request packets.</p>
  </dd>
  <dt>
    accounting
  </dt>
  <dd>
    <p>Filters Accounting-Response packets.</p>
  </dd>
  <dt>
    pre-proxy
  </dt>
  <dd>
    <p>Filters Accounting-Request or Access-Request packets prior to proxying them.</p>
  </dd>
  <dt>
    post-proxy
  </dt>
  <dd>
    <p>Filters Accounting-Response, Access-Accept, Access-Reject, or Access-Challenge responses from a home server.</p>
  </dd>
  <dt>
    authorize
  </dt>
  <dd>
    <p>Filters Access-Request packets.</p>
  </dd>
  <dt>
    post-auth
  </dt>
  <dd>
    <p>Filters Access-Accept or Access-Reject packets.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/raddb/radiusd.conf</em> <em>/etc/raddb/attrs</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rlm_attr_filter&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/radiusd.8.html"><strong>radiusd</strong>(8)</a>, <a href="../man5/radiusd.conf.5.html"><strong>radiusd.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Chris Parker, cparker@segv.org</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rlm_always.5.html"><span aria-hidden="true">&larr;</span> rlm_always.5: Freeradius module</a></li>
   <li class="next"><a href="rlm_attr_rewrite.5.html">rlm_attr_rewrite.5: Freeradius module <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
