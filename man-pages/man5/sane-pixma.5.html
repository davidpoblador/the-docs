<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sane-pixma: Sane backend for canon multi-function printers and canoscan scanners</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sane backend for canon multi-function printers and canoscan scanners">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sane-pixma (5) manual">
  <meta name="twitter:description" content="Sane backend for canon multi-function printers and canoscan scanners">
  <meta name="twitter:image" content="https://www.carta.tech/images/libsane-common-sane-pixma-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/sane-pixma.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sane-pixma (5) manual" />
  <meta property="og:description" content="Sane backend for canon multi-function printers and canoscan scanners" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libsane-common-sane-pixma-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sane-pixma<small> (5)</small></h1>
        <p class="lead">Sane backend for canon multi-function printers and canoscan scanners</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/sane-pixma.5.html">
      <span itemprop="name">sane-pixma: Sane backend for canon multi-function printers and canoscan scanners</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libsane-common/">
      <span itemprop="name">libsane-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/sane-pixma.5.html">
      <span itemprop="name">sane-pixma: Sane backend for canon multi-function printers and canoscan scanners</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>sane-pixma</strong> library implements a SANE (Scanner Access Now Easy) backend that provides access to Canon PIXMA / i-SENSYS / imageCLASS / imageRUNNER multi-function devices (All-in-one printers) and the Canon CanoScan Flatbed/TPU scanners. The backend implements both USB interface and network interface using Canon's BJNP protocol. The network interface supports scanners over IPv4 as well as IPv6.</p><p>Currently, the following models work with this backend:</p><p>PIXMA MG2100, MG3100, MG4200, MG5100, MG5200, MG5300</p><p>PIXMA MG6100, MG6200, MG6300, MG8200</p><p>PIXMA MP140, MP150, MP160, MP170, MP180, MP190</p><p>PIXMA MP210, MP220, MP230, MP240, MP250, MP260, MP270, MP280</p><p>PIXMA MP360, MP370, MP390</p><p>PIXMA MP450, MP460, MP470, MP480, MP490</p><p>PIXMA MP500, MP510, MP520, MP530, MP540, MP550, MP560</p><p>PIXMA MP600, MP600R, MP610, MP620, MP630, MP640</p><p>PIXMA MP700, MP710, MP730, PIXMA MP750 (no grayscale)</p><p>PIXMA MP800, MP800R, MP810, MP830</p><p>PIXMA MP960, MP970, MP980, MP990</p><p>PIXMA MX300, MX310, MX330, MX340, MX350, MX360, MX370</p><p>PIXMA MX420, MX700, MX7600</p><p>PIXMA MX850, MX860, MX870, MX882, MX885, MX890</p><p>imageCLASS MF3110, MF3240, MF4010, MF4018</p><p>imageCLASS MF4120, MF4122, MF4140, MF4150</p><p>imageCLASS MF4270, MF4350d, MF4370dn, MF4380dn</p><p>imageCLASS MF4410, MF4430, MF4660, MF4690, MF4770n</p><p>imageCLASS MF5730, MF5770, MF6550, D420, D480</p><p>i-SENSYS MF3010, MF4320d, MF4330d, MF4550d</p><p>imageRUNNER 1020/1024/1025</p><p>CanoScan 8800F, 9000F, 9000F Mark II</p><p>The following models are not well tested and/or the scanner sometimes hangs and must be switched off and on.</p><p>PIXMA MP760, MP770, MP780, MP790</p><p>PIXMA MX360</p><p>The following models may use the same Pixma protocol as those listed above, but have not yet been reported to work (or not). They are declared in the backend so that they get recognized and activated. Feedback in the sane-devel mailing list welcome.</p><p>PIXMA E500, E510, E600, E610</p><p>PIXMA MG2200, MG2400, MG2500, MG3200, MG4100, MG5400, MG5500</p><p>PIXMA MG6400, MG6500, MG7100, MG8100</p><p>PIXMA MP375R, MP493, MP495, MP740</p><p>PIXMA MX320, MX390, MX410, MX430, MX450, MX510, MX520</p><p>PIXMA MX710, MX720, MX920</p><p>imageCLASS MF4570dw, MF5630, MF5650, MF5750, MF8030, MF8170c</p><p>imageRUNNER 1133</p><p>i-SENSYS MF5880dn, MF6680dn</p><p>\#The following models may use partly the same Pixma protocol as other devices \#listed above, but may still need some work. They are declared in the backend \#as experimental. Snoop logs are required to further investigate, please contact \#the sane-devel mailing list. \#.PP \#.RS \#PIXMA MP--- \#.RE \#.PP The backend supports:</p><p>* resolutions of 75, 150, 300, 600, 1200, 2400, 4800, and 9600 DPI (some maybe buggy),</p><p>* color and grayscale mode, as well as lineart on certain models,</p><p>* a custom gamma table,</p><p>* Automatic Document Feeder, Simplex and Duplex.</p><p>* Transparency Unit, 24 or 48 bits depth. Infrared channel on certain models.</p><p>The device name for USB devices is in the form pixma:xxxxyyyy_zzzzz where x, y and z are vendor ID, product ID and serial number respectively. Example: pixma:04A91709_123456 is a MP150.</p><p>Device names for BJNP devices is in the form pixma:aaaa_bbbbb where aaaa is the scanners model and bbbb is the hostname or ip-adress.</p><p>This backend, based on cloning original Canon drivers protocols, is in a production stage. Designed has been carried out without any applicable manufacturer documentation, probably never available. However, we have tested it as well as we could, but it may not work in all situations. You will find an up-to-date status at the project homepage. (See below). Users feedback is essential to help improve features and performances.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Besides "well-known" options (e.g. resolution, mode etc.) pixma backend also provides the following \#.B experimental options for button handling, i.e. the options might change in the future.</p><p>The button status can be polled i.e. with 'scanimage -A'.</p><p>Button scan is disabled on MAC OS X due to darwin libusb not handling timeouts in usb interrupt reads.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>button-controlled</em></p>
  </dt>
  <dd>
    <p>This option can be used by applications (like <a href="../man1/scanadf.1.html"><strong>scanadf</strong>(1)</a> and <a href="../man1/scanimage.1.html"><strong>scanimage</strong>(1)</a>) in batch mode, for example when you want to scan many photos or multiple-page documents. If it is enabled (i.e. is set to true or yes), the backend waits before every scan until the user presses the "SCAN" button (for MP150) or the color-scan button (for other models). Just put the first page in the scanner, press the button, then the next page, press the button and so on. When you finished, press the gray-scan button. (For MP150 you have to stop the frontend by pressing Ctrl-C for example.)</p>
  </dd>
  <dt>
    <p><em>button-update</em></p>
  </dt>
  <dd>
    <p>(write only) In the past this option was required to be set to force reading of the button status for <em>button-1</em> and <em>button-2.</em> The <strong>sane-pixma</strong> no longer requires this option to be used: if no fresh data is available, it will be now requested automatically from the scanner. This option is left for backward compatibility reasons.</p>
  </dd>
  <dt>
    <p><em>button-1 button-2</em></p>
  </dt>
  <dd>
    <p>(read only) These options will return the value of the respective buttons. value 0 means that the button was not pressed, 1 is returned when the button was pressed. Some scanners with more than two buttons send the button number as target.</p>
  </dd>
  <dt>
    <p><em>original</em></p>
  </dt>
  <dd>
    <p>(read only) Returns the value of the type or size of original to be scanned if the scanner provides that data. Known values of type: 1 = document, 2 = foto, 5 = film. Known values of size: 1 = A4, 2 = Letter, 8 = 10x15, 9 = 13x18, b = auto. Not all scanners can provide this data.</p>
  </dd>
  <dt>
    <p><em>target</em></p>
  </dt>
  <dd>
    <p>(read only) Returns the value of the target of the scan operation if the scanner provides that data. The values depend on the scanner type. Known values: 1 = save to disk, 2 = save to pdf, 3 = send to email, 4 = send to application or 1 = JPEG, 2 = TIFF, 3 = PDF, 4 = Compact PDF. For some scanners this value is equivalent to the number of the pressed button. Not all scanners can provide this data.</p>
  </dd>
  <dt>
    <p><em>scan-resolution</em></p>
  </dt>
  <dd>
    <p>(read only) Returns the resolution of the scan operation if the scanner provides that data. Known values: 1 = 75 dpi, 2 = 150 dpi, 3 = 300 dpi, 4 = 600 dpi. Not all scanners can provide this data.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/usr/lib/arch_triplet/sane/libsane-pixma.a</em></p>
  </dt>
  <dd>
    <p>The static library implementing this backend.</p>
  </dd>
  <dt>
    <p><em>/usr/lib/arch_triplet/sane/libsane-pixma.so</em></p>
  </dt>
  <dd>
    <p>The shared library implementing this backend (present on systems that support dynamic loading).</p>
  </dd>
  <dt>
    <p><em>/etc/sane.d/pixma.conf</em></p>
  </dt>
  <dd>
    <p>The backend configuration file (see also description of <strong>SANE_CONFIG_DIR</strong> below). The files contains an optional list of scanners. Normally only scanners that can not be auto-detected because they are on a different subnet shall be listed here. If your OS does not allow enumeration of interfaces (i.e. it does not support the getifaddrs() function) you may need to add your scanner here as well. Scanners shall be listed as:</p>
  </dd>

</dl>
<p><em>bjnp://&lt;host&gt;</em></p><p>where host is the hostname or IP address of the scanner, e.g. bjnp://10.0.1.4 for IPv4, bjnp://[2001:888:118e:18e2:21e:8fff:fe36:b64a] for a literal IPv6-address or bjnp://myscanner.mydomain.org. Define each scanner on a new line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USB SUPPORT</h2>
        <div class="sectioncontent">
<p>USB scanners will be auto-detected and require no configuration.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NETWORKING SUPPORT</h2>
        <div class="sectioncontent">
<p>The pixma backend supports network scanners using the so called Canon BJNP protocol. Both IPv4 and IPv6 are supported.</p><p>Configuration is normally not required. The pixma backend will auto-detect your scanner if it is within the same subnet as your computer if your OS does support this.</p><p>If your scanner can not be auto-detected, you can add it to the pixma configuration file (see above).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FIREWALLING FOR NETWORKED SCANNERS</h2>
        <div class="sectioncontent">
<p>The sane pixma backend communicates with port 8612 on the scanner. So you will have to allow outgoing traffic TO port 8612 on the common subnet for scanning.</p><p>Scanner detection is slightly more complicated. The pixma backend sends a broadcast on all direct connected subnets it can find (provided your OS allows for enumeration of all netowrk interfaces). The broadcast is sent FROM port 8612 TO port 8612 on the broadcast address of each interface. The outgoing packets will be allowed by the rule described above.</p><p>Responses from the scanner are sent back to the computer TO port 8612. Connection tracking however does not see a match as the response does not come from the broadcast address but from the scanners own address. For automatic detection of your scanner, you will therefore have to allow incoming packets TO port 8612 on your computer.</p><p>So in short: open the firewall for all traffic from your computer to port 8612 AND to port 8612 to your computer.</p><p>With the firewall rules above there is no need to add the scanner to the pixma.conf file, unless the scanner is on a network that is not directly connected to your computer.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>SANE_DEBUG_PIXMA</strong></p>
  </dt>
  <dd>
    <p>If the library was compiled with debug support enabled, this environment variable controls the debug level for this backend itself. Higher value increases the verbosity and includes the information printed at the lower levels.</p><p>0  print nothing (default)</p><p>1  print error and warning messages (recommended)</p><p>2  print informational messages</p><p>3  print debug-level messages</p><p>11 dump USB traffic</p><p>21 full dump USB traffic</p>
  </dd>
  <dt>
    <p><strong>SANE_DEBUG_BJNP</strong></p>
  </dt>
  <dd>
    <p>If the library was compiled with debug support enabled, this environment variable controls the debug level for the <strong>BJNP</strong> network protocol for this backend. Higher value increases the verbosity and includes the information printed at the lower levels.</p><p>0 print nothing (default)</p><p>1 Print error and warning messages (recommended)</p><p>2 Print high level function tracing information</p><p>3 Print more detailed protocol tracing information</p><p>4 Print protocol headers</p><p>5 Print full protocol contents</p>
  </dd>
  <dt>
    <p><strong>PIXMA_EXPERIMENT</strong></p>
  </dt>
  <dd>
    <p>Setting to a non-zero value will enable the support for experimental models. You should also set SANE_DEBUG_PIXMA to 11.</p>
  </dd>
  <dt>
    <p><strong>SANE_CONFIG_DIR</strong></p>
  </dt>
  <dd>
    <p>This environment variable specifies the list of directories that may contain the configuration file.  Under UNIX, the directories are separated by a colon (`:'), under OS/2, they are separated by a semi-colon (`;').  If this variable is not set, the configuration file is searched in two default directories: first, the current working directory (".") and then in /etc/sane.d.  If the value of the environment variable ends with the directory separator character, then the default directories are searched after the explicitly specified directories.  For example, setting <strong>SANE_CONFIG_DIR</strong> to "/tmp/config:" would result in directories "tmp/config", ".", and "/etc/sane.d" being searched (in this order).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sane-pixma&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/sane.7.html"><strong>sane</strong>(7)</a>, <strong>sane-dll</strong>(5), <em>http://home.arcor.de/wittawat/pixma/,</em> <em>http://mp610.blogspot.com/</em></p><p>In case of trouble with a recent Pixma model, try the latest code for the pixma backend, available in the Sane git repository at:</p><p><em>http://git.debian.org/?p=sane/sane-backends.git</em></p><p>You can also post into the Sane-devel mailing list for support.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Wittawat Yamwong, Nicolas Martin, Dennis Lou, Louis Lagendijk, Rolf Bensch</p><p>We would like to thank all testers and helpers. Without them we could not be able to write subdrivers for models we don't have. See also the project homepage.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sane-pie.5.html"><span aria-hidden="true">&larr;</span> sane-pie.5: Sane backend for pie, devcom and adlib scsi flatbed scanners</a></li>
   <li class="next"><a href="sane-plustek.5.html">sane-plustek.5: Sane backend for lm983[1/2/3] based usb flatbed scanners <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
