<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rssh.conf: Configuration file for rssh</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Configuration file for rssh">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rssh.conf (5) manual">
  <meta name="twitter:description" content="Configuration file for rssh">
  <meta name="twitter:image" content="https://www.carta.tech/images/rssh-rssh.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/rssh.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rssh.conf (5) manual" />
  <meta property="og:description" content="Configuration file for rssh" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/rssh-rssh.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rssh.conf<small> (5)</small></h1>
        <p class="lead">Configuration file for rssh</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/rssh.conf.5.html">
      <span itemprop="name">rssh.conf: Configuration file for rssh</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/rssh/">
      <span itemprop="name">rssh</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/rssh.conf.5.html">
      <span itemprop="name">rssh.conf: Configuration file for rssh</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW</h2>
        <div class="sectioncontent">
<p><strong>rssh.conf</strong> is the configuration file for <strong>rssh</strong>.  It allows the system administrator to control the behavior of the shell.  Configuration keywords are either used by themselves on a line, or followed by an equal sign ('=') and a configuration value.  Comments start with a hash ('#') and can occur anywhere on the line.  Configuration options are case insensitive. Spaces at the beginning or end of line, or between the equal sign and the configuration keywords or values are ignored.  If the value of a configuration option contains spaces, it (or at least the space) must be enclosed in either single or double quotes.</p><p>A default configuration file is provided with the source distribution of <strong>rssh</strong>.  If the configuration file is missing or contains errors, ssh will lock out all users.  If a config file is present, the default is to lock out users if no services have been explicitly allowed.</p><p>New in v2.1 is the ability to configure options on a per-user basis, using the user keyword.  More details are below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION KEYWORDS</h2>
        <div class="sectioncontent">
<p><strong>allowscp</strong></p><p>Tells the shell that scp is allowed.</p><p><strong>allowsftp</strong></p><p>Tells the shell that sftp is allowed.</p><p><strong>allowcvs</strong></p><p>Tells the shell that cvs is allowed.</p><p><strong>allowrdist</strong></p><p>Tells the shell that rdist is allowed.</p><p><strong>allowrsync</strong></p><p>Tells the shell that rsync is allowed.</p><p><strong>allowsvnserve</strong></p><p>Tells the shell that svnserve is allowed.</p><p><strong>umask</strong></p><p>Sets the umask value for file creations in the scp/sftp session.  This is normally set at login time by the user's shell.  In order not to use the system default, <strong>rssh</strong> must set the umask.</p><p><strong>logfacility</strong></p><p>Allows the system administrator to control what syslog facility <strong>rssh</strong> logs to.  The facilities are the same as those used by <strong>syslogd.conf</strong>(5), or the C macros for the facilities can be used instead.  For example:</p><p>logfacility=user</p><p>logfacility=LOG_USER</p><p>are equivalent, and tell <strong>rssh</strong> to use the user facility for logging to syslog.</p><p><strong>chrootpath</strong></p><p>Causes <strong>rssh</strong> (actually a helper program) to call the <em>chroot()</em> system call, changing the root of the file system to whatever directory is specified.  Note that the value on the right hand side of the equal sign is the name of a directory, not a command.  For example:</p><p>chrootpath=/usr/chroot</p><p>will change the root of the virtual file system to /usr/chroot, preventing the user from being able to access anything below /usr/chroot in the file system, and making /usr/chroot appear to be the root directory.  Care must be taken to set up a proper chroot jail; see the file CHROOT in the rssh source distribution for hints about how to do this.  See also the <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a> man page.</p><p>If the user's home directory (as specified in <em>/etc/passwd</em>) is underneath the path specified by this keyword, then the user will be chdir'd into their home directory.  If it is not, then they will be chdir'd to the root of the chroot jail.</p><p>In other words, if the jail is <em>/chroot</em>, and your user's home directory is <em>/chroot/home/user</em>, then once <strong>rssh_chroot_helper</strong> changes the root of the system, it will cd into <em>/home/user</em> inside the jail. However, if your user's home directory is given as <em>/home/user</em> in <em>/etc/passwd</em>, then even if that directory exists in the jail, the chroot helper will not try to cd there.  The user's normal home directory must live inside the jail for this to work.</p><p><strong>user</strong></p><p>The user keyword allows for the configuration of options on a per-user basis. <em>THIS KEYWORD OVERRIDES ALL OTHER KEYWORDS FOR THE SPECIFIED USER.</em> That is, if you use a user keyword for user foo, then foo will use only the settings in that user line, and not any of the settings set with the keywords above.  The user keyword's argument consists of a group of fields separated by a colon (':'), as shown below.  The fields are, in order:</p><p><strong>username</strong></p><p>The username of the user for whom the entry provides options</p><p><strong>umask</strong></p><p>The umask for this user, in octal, just as it would be specified to the shell</p><p><strong>access bits</strong></p><p>Six binary digits, which indicate whether the user is allowed to use rsync, rdist, cvs, sftp, scp and svnserve, in that order.  One means the command is allowed, zero means it is not.</p><p><strong>path</strong></p><p>The <em>directory</em> to which this user should be chrooted (this is not a command, it is a directory name).  See <strong>chroot_path</strong> above for complete details.</p><p>For example, you might have something like this:</p><p>user = luser:022:000010:</p><p>This does the following: for the user with the username "luser", set the umask to 022, disallow sftp, and allow scp.  Because there is no chroot path specified, the user will <em>not</em> be chrooted, <em>regardless of default options set with the keywords above.</em> If you wanted this user to be chrooted, you would need to specify the chroot path explicitly, even if it should be the same as that set using the chrootpath keyword.  Remember that if there are spaces in the path, you need to quote it, something like this:</p><p>user = "luser:022:000010:/usr/local/chroot dir"</p><p>See the default rssh.conf file for more examples.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rssh.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/rssh.1.html"><strong>rssh</strong>(1)</a>, <strong>sshd</strong>(8), <strong>ssh</strong>(1), <strong>scp</strong>(1), <strong>sftp</strong>(1), <a href="../man8/svnserve.8.html"><strong>svnserve</strong>(8)</a>, <strong>syslogd.conf</strong>(5), <a href="../man2/chroot.2.html"><strong>chroot</strong>(2)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rsports.5.html"><span aria-hidden="true">&larr;</span> rsports.5: Rose port configuration file.</a></li>
   <li class="next"><a href="rsyncd.conf.5.html">rsyncd.conf.5: Configuration file for rsync in daemon mode <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
