<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>amf.conf: Corosync amf configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Corosync amf configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="amf.conf (5) manual">
  <meta name="twitter:description" content="Corosync amf configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/openais-amf.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/amf.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="amf.conf (5) manual" />
  <meta property="og:description" content="Corosync amf configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/openais-amf.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">amf.conf<small> (5)</small></h1>
        <p class="lead">Corosync amf configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/amf.conf.5.html">
      <span itemprop="name">amf.conf: Corosync amf configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/openais/">
      <span itemprop="name">openais</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/amf.conf.5.html">
      <span itemprop="name">amf.conf: Corosync amf configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>amf.conf</strong> is the configuration file that determines the behaviour of the AIS Availability Management Framework service, AMF in the corosync implementation.</p><p>Entries in this file will for example determine what applications AMF will start and how to supervise them.</p><p>By default AMF opens /etc/ais/amf.conf. The environment variable <strong></strong> OPENAIS_AMF_CONFIG_FILE can be set to the pathname of an AMF configuration file to override the default behaviour.</p><p>Any line whose first non-white-space character is a '#' is considered a comment line. Empty lines are ignored.</p><p>The file contains object entries of the form:</p>
<pre>
&lt;Object Class&gt; = &lt;Object Name&gt; {
&lt;attribute&gt; = &lt;value&gt;
<em>...</em>
</pre>
<p>}</p><p>Object entries are nested, one entry contains another entry. This way relations between objects are built up. For example a component object defined inside a Software Unit (SU) object means that the component belongs to the SU. In other words, the SU is composed of the component. See the example configuration file.</p><p>The relation between objects has to comply with the AMF model specified in [5].</p><p>Object names shall use only printable ASCII characters. Object names shall be unique within its context, i.e. two components within the same service unit has to have different names, but can have the same name as another component within another service unit.</p><p>Attribute names are consistent with the naming of the configuration attributes in [5].</p><p>AMF object attributes are either configuration or runtime attributes. The AMF configuration file is used to specify configuration attributes. Some configuration attributes have default values and does not need to be specified. Others are not valid in certain redundancy models and so on.</p><p>The type of an attribute value is either a string, a number, a time or an enumeration. Enumeration values are specified according to the type definition in the AIS specification. Time values are specified in milliseconds.</p><p>Multivalue attributes are specified using multiple entries with the same attribute name but different values. See the example configuration file.</p><p>The (RDN) value of 'safAmfNode' is a logical name for an AMF node. It is mapped to a real physical node using the attribute 'saAmfNodeClmNode'.</p><p>The value of the attribute 'saAmfNodeClmNode' should be the hostname (without domain name) as given to the host at boot time. This name is returned by the shell command 'hostname'.</p><p>Currently, AMF is enabled/disabled by an entry in the corosync.conf file, see [1]. It is default disabled.</p><p>The following list of attributes is currently supported:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>safAmfCluster</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfClusterStartupTimeout</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>safAmfNode</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfNodeClmNode</strong></p>
  </dt>
  <dd>
    <p>Host name, required</p>
  </dd>
  <dt>
    <p><strong>saAmfNodeSuFailOverProb</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfNodeSuFailoverMax</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>safApp</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>clccli_path</strong></p>
  </dt>
  <dd>
    <p>A path added to all CLC-CLI scripts</p>
  </dd>
  <dt>
    <p><strong>saAmfSIProtectedbySG</strong></p>
  </dt>
  <dd>
    <p>Required when several SGs are specified</p>
  </dd>
  <dt>
    <p><strong>safSg</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>safSi</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSINumCSIs</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>safCSType</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSGRedundancyModel</strong></p>
  </dt>
  <dd>
    <p>Currently only 'nplusm' is supported, required.</p>
  </dd>
  <dt>
    <p><strong>saAmfSGNumPrefActiveSUs</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSGNumPrefStandbySUs</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSGMaxActiveSIsperSUs</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSGMaxStandbySIsperSUs</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSGCompRestartProb</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfSGCompRestartMax</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSGSuRestartProb</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfSGAutoAdjustProb</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfSGSuRestartMax</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>safSu</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSUNumComponents</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfSUIsExternal</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfSUFailover</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfSUHostedByNode</strong></p>
  </dt>
  <dd>
    <p>Required. Set to AMF node name. Note: this is a deviation from the specification.</p>
  </dd>
  <dt>
    <p><strong>safComp</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfCompCsTypes</strong></p>
  </dt>
  <dd>
    <p>Multivalue</p>
  </dd>
  <dt>
    <p><strong>saAmfCompCategory</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfCompCapability</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfCompNumMaxActiveCsi</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfCompNumMaxStandbyCsi</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfCompCmdEnv</strong></p>
  </dt>
  <dd>
    <p>Multivalue</p>
  </dd>
  <dt>
    <p><strong>saAmfCompDefaultClcCliTimeout</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfCompDefaultCallbackTimeOut</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfCompInstantiateCmdArgv</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfCompInstantiateCmd</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfCompTerminateCmdArgv</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfCompTerminateCmd</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>saAmfCompCleanupCmdArgv</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfCompCleanupCmd</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfCompRecoveryOnError</strong></p>
  </dt>
  <dd>
    <p>Required but not used.</p>
  </dd>
  <dt>
    <p><strong>safHealthcheckKey</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfHealthcheckPeriod</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfHealthcheckMaxDuration</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>safCsi</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSIPrefActiveAssignments</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfSIPrefStandbyAssignments</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>saAmfCSTypeName</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>safCSIAttr</strong></p>
  </dt>
  <dd>
    <p>Multivalue</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Hans.Feldt at ericsson.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>For an AMF configuration file example, see the amf.conf file under the corosync <strong>conf</strong> directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>/etc/ais/amf.conf</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>/etc/ais/corosync.conf</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO amf.conf&hellip;</h2>
        <div class="sectioncontent">
<p>[1] corosync_conf (5)</p>
<dl class='dl-vertical'>
  <dt>
    <p>[2] corosync_overview (8)</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>[3] README.amf</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>[4] www.saforum.org - SAI-XMI-A.01.01.xml.xip</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>[5] www.saforum.org - SAI-Overview.B.02.01.pdf</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>[6] www.saforum.org - SAI-AIS-AMF-B.02.01.pdf</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="american-english-small.5.html"><span aria-hidden="true">&larr;</span> american-english-small.5: A list of english words</a></li>
   <li class="next"><a href="ample.conf.5.html">ample.conf.5: Configuration file for ample <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
