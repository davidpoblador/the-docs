<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cyrus.conf: Cyrus configuration file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cyrus configuration file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cyrus.conf (5) manual">
  <meta name="twitter:description" content="Cyrus configuration file">
  <meta name="twitter:image" content="https://www.carta.tech/images/cyrus-common-cyrus.conf-5.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man5/cyrus.conf.5.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cyrus.conf (5) manual" />
  <meta property="og:description" content="Cyrus configuration file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cyrus-common-cyrus.conf-5.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cyrus.conf<small> (5)</small></h1>
        <p class="lead">Cyrus configuration file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/">
      <span itemprop="name">File formats and conventions</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/cyrus.conf.5.html">
      <span itemprop="name">cyrus.conf: Cyrus configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cyrus-common/">
      <span itemprop="name">cyrus-common</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man5/cyrus.conf.5.html">
      <span itemprop="name">cyrus.conf: Cyrus configuration file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>/etc/cyrus.conf</strong> is the configuration file for the Cyrus <strong>cyrmaster</strong> process.  It defines the startup procedures, services and events to be spawned by <strong>cyrmaster</strong>.</p><p>The <strong>/etc/cyrus.conf</strong> file consists of a series of entries divided into sections of the form</p><p><em>section</em> {</p><p><em>name arguments</em></p><p>	...</p><p>	...</p><p>	...</p><p>}</p><p>where <em>section</em> is the name of the section, <em>name</em> is the name of the entry and <em>arguments</em> is the whitespace-separated list of arguments for the entry.</p><p>Blank lines and lines beginning with ``#'' are ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECTION DESCRIPTIONS</h2>
        <div class="sectioncontent">
<p>The paragraphs below detail the three sections (<strong>START</strong>, <strong>SERVICES</strong>, <strong>EVENTS</strong>) that can be placed in the <strong>/etc/cyrus.conf</strong> file.  The arguments that are available for each entry within the section are described, and each argument's default value is shown.</p><p>Arguments can appear in any order. Some arguments have no default value, these are listed with ``&lt;no default&gt;''.  For string arguments, the value MUST be enclosed in double quotes.</p><h3>START</h3>
<p>This section lists the processes to run before any <strong>SERVICES</strong> are spawned.  This section is typically used to initialize databases and start long running daemons.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>cmd=</strong>&lt;no default&gt;
  </dt>
  <dd>
    <p>The command (with options) to spawn as a child process.  This string argument is required.</p>
  </dd>

</dl>

<h3>SERVICES</h3>
<p>This section is the heart of the <strong>/etc/cyrus.conf</strong> file.  It lists the processes that should be spawned to handle client connections made on certain Internet/UNIX sockets.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>babysit=</strong>0
  </dt>
  <dd>
    <p>Integer value - if non-zero, will make sure at least one process is pre-forked, and will set the maxforkrate to 10 if it's zero.</p>
  </dd>
  <dt>
    <strong>cmd=</strong>&lt;no default&gt;
  </dt>
  <dd>
    <p>The command (with options) to spawn as a child process.  This string argument is required.</p>
  </dd>
  <dt>
    <strong>listen=</strong>&lt;no default&gt;
  </dt>
  <dd>
    <p>The UNIX or internet socket to listen on.  This string field is required and takes one of the following forms:</p><p><em>path</em></p><p>[ <em>host</em> <strong>: </strong>] <em>port</em></p><p>where <em>path</em> is the explicit (absolute) path to a UNIX socket, <em>host</em> is either the hostname or bracket-enclosed IP address of a network interface, and <em>port</em> is either a port number or service name (as listed in <strong>/etc/services</strong>).</p>
  </dd>
  <dt>
    <strong>proto=</strong>tcp
  </dt>
  <dd>
    <p>The protocol used for this service (<em>tcp</em>, <em>tcp4</em>, <em>tcp6</em>, <em>udp</em>, <em>udp4</em>, <em>udp6</em>).  This string argument is optional.</p><p><strong>tcp4</strong>, <strong>udp4</strong>: These arguments are used to bind the service to IPv4 only.</p><p><strong>tcp6</strong>, <strong>udp6</strong>: These arguments are used to bind the service to IPv6 only, if the operating system supports this.</p><p><strong>tcp</strong>, <strong>udp</strong>: These arguments are used to bind to both IPv4 and IPv6 if possible.</p>
  </dd>
  <dt>
    <strong>prefork=</strong>0
  </dt>
  <dd>
    <p>The number of instances of this service to always have running and waiting for a connection (for faster initial response time).  This integer value is optional.  Note that if you are listening on multiple network types (i.e. ipv4 and ipv6) then one process will be forked for each address, causing twice as many processes as you might expect.</p>
  </dd>
  <dt>
    <strong>maxchild=</strong>-1
  </dt>
  <dd>
    <p>The maximum number of instances of this service to spawn.  A value of -1 means unlimited.  This integer value is optional.</p>
  </dd>
  <dt>
    <strong>maxfds=</strong>256
  </dt>
  <dd>
    <p>The maximum number of file descriptors to which to limit this process. This integer value is optional.</p>
  </dd>
  <dt>
    <strong>maxforkrate=</strong>0
  </dt>
  <dd>
    <p>Maximum number of processes to fork per second - the master will insert sleeps to ensure it doesn't fork faster than this on average.</p>
  </dd>

</dl>

<h3>EVENTS</h3>
<p>This section lists processes that should be run at specific intervals, similar to cron jobs.  This section is typically used to perform scheduled cleanup/maintenance.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>cmd=</strong>&lt;no default&gt;
  </dt>
  <dd>
    <p>The command (with options) to spawn as a child process.  This string argument is required.</p>
  </dd>
  <dt>
    <strong>period=</strong>0
  </dt>
  <dd>
    <p>The interval (in minutes) at which to run the command.  This integer value is optional, but SHOULD be a positive integer &gt; 10.</p>
  </dd>
  <dt>
    <strong>at=</strong>&lt;hhmm&gt;
  </dt>
  <dd>
    <p>The time (24-hour format) at which to run the command each day.  If set to a valid time (0000-2359), period is automatically set to 1440. This string argument is optional.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p># example cyrus.conf</p><p>START {</p>
<pre>
  recover	cmd="ctl_cyrusdb -r"
</pre>
<p>}</p><p>SERVICES {</p>
<pre>
  imap		cmd="imapd" listen="imap" prefork=1
  imaps		cmd="imapd -s" listen="imaps" prefork=0
  lmtpunix	cmd="lmtpd" listen="/var/imap/socket/lmtp"
  lmtp		cmd="lmtpd" listen="localhost:lmtp"
</pre>
<p>}</p><p>EVENTS {</p>
<pre>
  checkpoint	cmd="ctl_cyrusdb -c" period=30
  delprune	cmd="cyr_expire -E 3" at=0400
  tlsprune	cmd="tls_prune" at=0400
</pre>
<p>}</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACCESS CONTROL</h2>
        <div class="sectioncontent">
<p>When TCP Wrappers is used to control access to Cyrus services, the <em>name</em> of the service entry should be used as the process name in the <a href="../man5/hosts_access.5.html"><strong>hosts_access</strong>(5)</a></strong> table.  For instance, in the example above, "imap", "imaps", "lmtpunix" and "lmtp" would be used as the process names.  This allows a single daemon such as imapd to be run in different modes or configurations (i.e., SSL and non-SSL enabled) yet still have separate access control rules.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cyrus.conf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/cyrmaster.8.html"><strong>cyrmaster</strong>(8)</a></strong>, <a href="../man8/imapd.8.html"><strong>imapd</strong>(8)</a></strong>, <a href="../man8/pop3d.8.html"><strong>pop3d</strong>(8)</a></strong>, <a href="../man8/lmtpd.8.html"><strong>lmtpd</strong>(8)</a></strong>, <a href="../man8/timsieved.8.html"><strong>timsieved</strong>(8)</a></strong>, <a href="../man8/idled.8.html"><strong>idled</strong>(8)</a></strong>, <a href="../man8/notifyd.8.html"><strong>notifyd</strong>(8)</a></strong>, <strong>ctl_cyrusdb</strong>(8)</strong>, <strong>ctl_deliver</strong>(8)</strong>, <strong>tls_prune</strong>(8)</strong>, <a href="../man5/hosts_access.5.html"><strong>hosts_access</strong>(5)</a></strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cvsgraph.conf.5.html"><span aria-hidden="true">&larr;</span> cvsgraph.conf.5: Cvs/rcs repository grapher configuration</a></li>
   <li class="next"><a href="dacs.acls.5.html">dacs.acls.5: Dacs access control rules <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
