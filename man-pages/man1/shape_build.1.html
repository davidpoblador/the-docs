<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>shape_build: Shapetools rms system building and installation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shapetools rms system building and installation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="shape_build (1) manual">
  <meta name="twitter:description" content="Shapetools rms system building and installation">
  <meta name="twitter:image" content="https://www.carta.tech/images/shapetools-shape_build-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/shape_build.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="shape_build (1) manual" />
  <meta property="og:description" content="Shapetools rms system building and installation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/shapetools-shape_build-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">shape_build<small> (1)</small></h1>
        <p class="lead">Shapetools rms system building and installation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shape_build.1.html">
      <span itemprop="name">shape_build: Shapetools rms system building and installation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/shapetools/">
      <span itemprop="name">shapetools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shape_build.1.html">
      <span itemprop="name">shape_build: Shapetools rms system building and installation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>shape	[all]	[VERSIONS=&lt;rule&gt;] [variants] [macro settings]</strong></p><p>shape	install	[VERSIONS=&lt;rule&gt;] [INSTALLBASE=&lt;path&gt;] [variants] [macro settings]</p><p>shape	clean	[&lt;macro settings&gt;]</p><p>shape	cleancache	&nbsp;&nbsp;[&lt;macro settings&gt;]</p><p>make	[all]	[&lt;macro settings&gt;]</p><p>make	install	[INSTALLBASE=&lt;path&gt;] [&lt;macro settings&gt;]</p><p>make	clean	[&lt;macro settings&gt;]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Shape all</em>, or just <em>shape</em> (as <em>all</em> is the default target), builds the current system node. It performs all necessary actions to derive the main target ($(TARGET) in the Makefile) from the node's source components. Shape all also builds all subsystems of the current node. Before triggering any build action itself, if recursively calls shape for each subsystem. Version selection is driven by the rule given as value to the <em>VERSIONS</em> macro, default is <em>most_recent</em>. The given version selection rule on the command line, if any, is inherited to the recursive calls.</p><p><em>Shape install</em> installs the build results of the current node in the appropriate locations. Things to be installed are usually binaries and manuals. The target <em>installtargets</em> in the Makefile lists all these things as its dependents. Shape install updates all build results in the same way as shape all does, before installing them. Shape install invokes all subsystems of the current node in the installation procedure by recursively calling shape install for each of them. This is done, before it performs any build or install actions itself. The appropriate versions are selected according to the given version selection rule named in the <em>VERSIONS</em> macro. The default rule for shape install is <em>recent_release</em> selecting the most recent release or prerelease (whichever is newer). The macro <em>INSTALLBASE</em> defines the installation base directory, an absolute pathname pointing to the root of a directory tree, where the build results are to be copied to. Check the Makefile for the default setting of INSTALLBASE and the installation directories defined as relative pathnames starting from the installation base directory. Values of the VERSION and the INSTALLBASE macro set on the command line are inherited to all recursive calls.</p><p><em>Shape clean</em> removes all derived objects currently established as UNIX files. These are the files listed in the OBJECTS macro in the Makefile, the derived target ($(TARGET)), and the target aliases ($(ALIASES)). The derived objects, established as UNIX files are those being produced from their source or reinstalled from the derived object cache during the last system build. <em>Shape cleancache</em> cleans up the derived object cache, will say, it removes all objects stored there. All names listed as dependents of the <em>.BPOOL</em> special macro in the Shapefile are candidates to be cached. When multiple (different) versions of derived objects with the same name arise, the older ones are stored to the derived object cache. Shape cleancache in conjunction with shape clean removes <em>all</em> derived (automatically reproducible) objects. The two cleanup actions are <em>not</em> called recursively. They apply only to the current node.</p><p>The build and cleanup actions (all, install and clean) of the shape RMS can be performed by <a href="../man1/make.1.html"><strong>make</strong>(1)</a></em> and by <a href="../man1/shape.1.html"><strong>shape</strong>(1)</a></em>. The main difference is, that shape is capable of setting up the appropriate source context according to a given version selection rule, while make only regards the regular UNIX files. Make will fail if not every component of the system has a checked out busy version. The intention for maintaining Makefiles suitable for complete system builds aims at system building and installation from a source distribution rather than from the development area. Source distributions are system copies taken from one of the release trees (partial release area or release area). See <a href="../man1/shape_RMS.1.html"><strong>shape_RMS</strong>(1)</a> for details.</p><p><em>Make all, make install</em> and <em>make clean</em> behave similar to their shape counterparts. The difference is, that they expect a complete system source context to be set up as UNIX files (see above).</p><p>Each macro definition in the Make- or Shapefile may be redefined from the command line. Most of the shape RMS standard macro definitions are inherited to recursive calls of make or shape. Check the <a href="../man7/shape_tmpl.7.html"><strong>shape_tmpl</strong>(7)</a> manual page for a list of the standard macros.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INCONVENIENCES</h2>
        <div class="sectioncontent">
<p>For technical reasons, each make call recursively invokes make on the same level before performing any actions. This unfortunately restricts the efficacy of command line options. E.g. there is no chance to work with the <em>-f</em> (alternate name for the Makefile) option and the redefinition of macros is restricted to inherited ones. This restriction does not apply to shape calls.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Makefile</p><p>Shapefile</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO shape_build&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/shape_stdrul.7.html"><strong>shape_stdrul</strong>(7)</a>, <a href="../man7/shape_tmpl.7.html"><strong>shape_tmpl</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shape_RMS.1.html"><span aria-hidden="true">&larr;</span> shape_RMS.1: Introduction to the shapetools release management system</a></li>
   <li class="next"><a href="shape_depend.1.html">shape_depend.1: Shapetools rms determine source-include dependencies <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
