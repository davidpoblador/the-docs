<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>super: Execute commands setuid root.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Execute commands setuid root.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="super (1) manual">
  <meta name="twitter:description" content="Execute commands setuid root.">
  <meta name="twitter:image" content="https://www.carta.tech/images/super-super-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/super.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="super (1) manual" />
  <meta property="og:description" content="Execute commands setuid root." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/super-super-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">super<small> (1)</small></h1>
        <p class="lead">Execute commands setuid root.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/super.1.html">
      <span itemprop="name">super: Execute commands setuid root.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/super/">
      <span itemprop="name">super</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/super.1.html">
      <span itemprop="name">super: Execute commands setuid root.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>To execute a command:</p><p><strong>super</strong> [<em>-r</em>reqpath<em>]</em> <em>command</em> [<em> args </em>]</p><p><strong>super</strong> [<em>-r</em>reqpath<em>]</em> <strong>-o</strong> <em>path</em> [<em> args </em>]</p><p><strong>command</strong> [<em> args </em>]</p><p>To list available commands:</p><p><strong>super</strong> [<em>-H</em>|<em>-f</em>] [<em>-S</em>]</p><p>For usage and/or version information:</p><p><strong>super</strong> [<em>-h</em>] [<em>-V</em>]</p><p>For debugging and development:</p><p><strong>super</strong> <strong>-b</strong></p><p><strong>super</strong> <strong>-c</strong> [<em> superfile </em>]</p><p><strong>super</strong> [<em>-d</em>|<em>-D</em>|<em>-t</em>] [<em>-S</em>] [<em>MasqOptions</em>] [<em>-H</em>|<em>-f</em>|<em>command...</em>]</p><p>MasqOptions:</p>
<pre>
<em>-F&nbsp;file</em>
<em>-T&nbsp;hh:mm/dayname</em>
<em>-G&nbsp;gid</em>
<em>-U&nbsp;uid</em>
<em>-M&nbsp;mach</em>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Super</strong> allows specified users to execute scripts (or other commands) as if they were root; or it can set the uid, gid, and/or supplementary groups on a per-command basis before executing the command. It is intended to be a secure alternative to making scripts setuid root. Super also allows ordinary users to supply commands for execution by others; these execute with the uid, gid, and groups of the user offering the command.</p><p><strong>Super</strong> consults a ``<em>super.tab</em>'' file to see if the user is allowed to execute the requested <em>command</em>. If permission is granted, <strong>super</strong> will exec <em>pgm</em>[<em>args</em>], where <em>pgm</em> is the program that is associated with this <em>command.</em> (Root is allowed execution by default, but can still be denied if a rule excludes root.  Ordinary users are disallowed execution by default.)</p><p>The most common sort of entry in a <em>super.tab</em> file pairs a simple <em>command</em> with a <em>pgm</em> path. But in fact, the command in the <em>super.tab</em> file is actually treated as a pattern, and <em>any</em> user-entered command that matches this pattern causes the associated <em>pgm</em> to be executed.  If the listed <em>pgm</em> contains an asterisk, then the asterisk is replaced with the command entered by the user.  One use of this is to let any program in a certain directory be executed by a user. For example, if the entry contains the command/pgm pairs <em>CommandPattern		Program</em></p><p><strong>scripts/*	\(-&gt;	/usr/local/super/*</strong></p><p><strong>&nbsp;&nbsp;&nbsp;*	\(-&gt;	/usr/local/somedir/*</strong></p><p>then the translations made are <em>User's Command		Executed Program</em></p><p><strong>scripts/xyz	\(-&gt;	/usr/local/super/scripts/xyz</strong></p><p><strong>xyz	\(-&gt;	/usr/local/somedir/xyz</strong></p><p>Some commands can only be run after the user enters his or her password. These commands can then be run multiple times until some expiration time, at which point the password needs to be re-entered. The list of password-requiring commands and the password durations are set in the same file that records the valid users for each command.</p><p>If <em>command</em> is a symbolic link (or hard link, too) to the <strong>super</strong> program, then typing % <em>command args</em></p><p>is equivalent to typing % <strong>super</strong> <em>command args</em></p><p>(The <em>command</em> must not be <strong>super</strong>, or <strong>super</strong> will not recognize that it's being invoked via a link.)</p><p><strong>Super</strong> without any arguments will display the list of commands that may be executed by the user.</p><p>For security, the following precautions are taken before exec'ing:</p>
<dl class='dl-vertical'>
  <dt>
    <p>(a)</p>
  </dt>
  <dd>
    <p>all descriptors save 0,1,2 are closed;</p>
  </dd>
  <dt>
    <p>(b)</p>
  </dt>
  <dd>
    <p>all of the user's environment variables are discarded, save for TERM, LINES, and COLUMNS. If TERM contains any characters other than {-/:+._a-zA-Z0-9}, it is discarded. If LINES or COLUMNS contains any characters other than [0-9], it is discarded. To these are added reasonable values for:</p><p>USER and LOGNAME: both are set to the username associated with the real uid of the program running under <strong>super</strong>; HOME: set to the login directory of the user running <strong>super</strong>; ORIG_USER, ORIG_LOGNAME, ORIG_HOME: the values of USER, LOGNAME, and HOME that refer to the user who invoked <strong>super</strong>. (These values are computed by <strong>super</strong>, and are not the values set by the caller, so they are a reliable description of the caller.  These are normally the same values as USER, LOGNAME, and HOME, but they will differ if the super command changes uid or gid before executing the program.); IFS: set to blank, tab, newline; PATH: set to <em>/bin:/usr/bin</em>. SUPERCMD: set to <em>command</em>. additional environment variables as specified in the <em>super.tab</em> file (see below).</p>
  </dd>
  <dt>
    <p>(c)</p>
  </dt>
  <dd>
    <p>all signal handling is reset to the default.</p>
  </dd>

</dl>
<p>If <em>Super</em> is executed without arguments, it will print the commands that the user may execute, one command per line. <strong>Super -H</strong> prints a long-winded description of each command that the user may execute.</p><p>The <em>CmdPat</em> is the command pattern, and <em>FullPath</em> is the full path that will be executed. The super.tab file can specify initial arguments that that precede any user-supplied arguments; these arguments, if any, are printed after the <em>FullPath</em> column.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">User-Defined Super.tab Files</h2>
        <div class="sectioncontent">
<p>Ordinary users can supply their own super files. This lets users give well-controlled setuid/setgid access to their programs: the user who offers the program gets the assurance of safe IFS settings, safe environment variable settings, etc; and the user who executes the program knows that it will execute under the uid and gid of the offering user. If a <em>command</em> is entered in the form</p><p><strong>super</strong> <em>loginname</em><strong>:</strong><em>cmd</em></p><p><em>super</em> looks for <em>cmd</em> in the file <strong>.supertab</strong>, in the home directory of account <em>loginname</em>. The <em>cmd</em> will be executed using the uid, gid, and supplementary groups (if any) of user <em>loginname</em>.</p><p>The usual super options (such as <strong>-H</strong>) can be applied to a user's .supertab file.  For example, help information about one command can be had by using: <strong>super -H</strong> <em>loginname</em><strong>:</strong><em>cmd</em></p><p>Likewise, help information about all of <em>loginname</em>'s commands can be obtained with: <strong>super -H</strong> <em>loginname</em><strong>:</strong></p><p>Links to per-user commands can be created and used in a manner similar to making symlinks to <em>super</em> itself.  If <em>command</em> is a symbolic link to a user's .supertab file, and that .supertab file is</p><p>(a)	executable, and</p><p>(b)	begins with</p><p><strong>#!&nbsp;/path/to/super -o</strong></p><p>then the following pair are completely equivalent:</p><p><em>%</em><strong></strong><em>super</em><strong></strong><em>loginname</em><strong>:</strong><em>command</em></p><p><em>% command</em></p><p>If the <strong>#!</strong>-line would be longer than the typical Unix limit of 32 characters, you can instead start the .supertab file with:</p>
<pre>
#! /bin/sh
# Keep this backslash -&gt; &#92;
	exec /long/path/to/the/super/executable -o $0 ${1+"$@"}
</pre>
<p>(The above takes advantage of the fact that super allows comments to be backslash-continued, but the shell doesn't.)</p><p>Per-user .supertab linking works as follows: if <em>/path/to/xyz</em> is a symlink to some user's .supertab file, and the .supertab file begins with <em>#! /path/to/super -o</em>, then the shell will invoke <em>super</em> with arguments something like</p><p><strong>super -o /path/to/xyz [args]</strong></p><p>Super checks that <em>/path/to/xyz</em> is a link to a real .supertab file, and then always turns the last part of the path (here <em>xyz</em>) into the command to execute.</p><p><strong>** Security Warning **</strong></p><p>Note that if you use symlinks to a per-user .supertab file, then you must trust that the .supertab file will actually execute a super command, instead of doing something nasty. That is because <em>super</em> itself isn't invoked until the shell has opened the .supertab file and done whatever the .supertab file tells it to do. By contrast, the direct command <strong>super</strong><em></em><strong>loginname</strong><em>:</em><strong>cmd</strong> doesn't involve any shell processing of the .supertab file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REGULAR OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print the super version number.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>When <strong>super</strong> prompts for a password, this forces it to prompt on stdin, even if the default (<strong>/dev/tty</strong>) is readable and writable. <em>Note:</em> This only applies to password-type authentication &ndash; that is, the older type of authentication wherein <strong>super</strong> itself prompts for the password; PAM authentication is handled by your system's PAM modules.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>This requests a list of available commands in a terse format useful for processing by scripts. (<strong>-f</strong> stands for facts, as in ``just the facts, m'am'').</p>
  </dd>
  <dt>
    <p><strong>-r</strong><em>reqpath</em></p>
  </dt>
  <dd>
    <p>Tells super to generate an error if the program associated with this <em>command</em> is not <em>reqpath.</em> This helps you write scripts that ensure that super only executes what they expect it to execute.  See step&nbsp;4 of the section, ``Creating Super Scripts'', for an example of its use.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>-H Causes <strong>super</strong> to print a verbose listing of the commands available to the user. It prints both the <em>command</em> and its translation to a program <em>pgm</em>. If the displayed <em>pgm</em> contains an asterisk, then the actual program executed is formed by replacing the asterisk with the <em>command</em> entered by the user. The following examples show the kinds of lines that may be displayed with the <strong>-H</strong> option:</p><p><em>Example 1.</em> <strong>super skill</strong> \(-&gt; <em>/usr/local/bin/skill</em></p><p>Typing <strong>super&nbsp;skill</strong> will execute <strong>/usr/local/bin/skill</strong>.</p><p><em>Example 2.</em> <strong>super {lp*}</strong> \(-&gt; <em>/usr/bin/*</em></p><p>This example contains asterisks on both the left and right sides. The left side shows the valid pattern you must match to execute the command shown on the right-hand side. Usually, the right-hand side has no asterisk, just a full path to a command to execute. If there <em>is</em> an asterisk present, it is replaced by the command you entered, thereby forming the actual executed command. Thus, if you type <strong>super</strong><em>lp</em><strong>xxx</strong> (where <em>xxx</em> is any string), <strong>super</strong> will execute <strong>/usr/bin/lp</strong><em>xxx.</em></p><p><em>Example 3.</em> <strong>super {co*}</strong> \(-&gt; <em>/usr/bin/compress</em></p><p>The asterisk on the left-hand side means you can enter <strong>super</strong><em>co</em><strong>xxx</strong> (where <em>xxx</em> is any string), but since the right-hand side doesn't contain an asterisk, <strong>co</strong><em>xxx</em> will always execute <strong>/usr/bin/compress</strong>.</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>This enables ``test'' mode.  It does all normal checks except for those requiring user input (passwords and variables that the user must enter), but doesn't execute any command.  Instead, it exits with status code 0 if the command is ok to execute, else 1. All normal error message output is generated in the usual way, but no special debug messages are generated.  Thus, it is a useful means for a script to check if a command is likely to work, and hence reasonable to exec super.  Let's say that a script /usr/local/bin/foo wants to invoke itself using <em>super foo</em> (See the section ``Creating Super Scripts'' for how to avoid infinite loops when doing this!) the script can use the <strong>-r</strong> option to ensure that <em>super foo</em> refers to the correct file, and it can use test mode to ensure that <em>super foo</em> is a valid command:</p>
<pre>
prog=&#96;basename $0&#96;
/usr/local/bin/super -t -r $0 $prog
case $? in
0 ) exec /usr/local/bin/super -t -r $0 $prog ;;
* ) echo "Super $prog doesn't work!"
    ... So take appropriate action ...
    ;;
esac
</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEBUG AND DEVELOPMENT OPTIONS</h2>
        <div class="sectioncontent">
<p>These options are useful when creating and debugging <em>super.tab</em> files.  They have little or no value to the everyday user. With the exception of the <strong>-b</strong> option, they can be combined with the regular options, above.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p>Print the names and values of built-in variables, then exit. Useful for administrators to learn the values against which builtin variables can be tested.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>[<em>superfile</em>]</p>
  </dt>
  <dd>
    <p>Tells <em>super</em> to check the syntax of the entries in the <em>superfile</em>, but not to execute any command.  If no <em>superfile</em> is given, the regular <em>super.tab</em> is checked. The exit code is 0 if the file's syntax is ok; otherwise the exit code is 1 (and an error message is printed). After modifying a super file, you should use this option to check its integrity.</p><p>Note that <em>super -c</em> isn't a complete check that you've correctly set up an entry, because you can create syntactically valid entries that don't do exactly what you want.  Therefore, you should also use <em>super -d cmd</em> to make sure that the command you've entered will be executed with the correct arguments, uid, gid, umask, and so on.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>This enables debug mode, in which case (a) debugging information is printed while checking a user for validity, and (b) the command isn't actually executed.  Useful to check if a new entry in the <em>super.tab</em> file (see below) has been handled properly.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-d</strong>, plus prints more information about variables defined in the <em>super.tab</em> file.</p>
  </dd>
  <dt>
    <p><strong>-F</strong><em>superfile</em></p>
  </dt>
  <dd>
    <p>This option is only used for debugging, and lets you test a superfile before installing it. No command will actually be executed. It also turns on a non-verbose debugging, showing the matched command names and reasons for accepting or rejecting the command.</p>
  </dd>
  <dt>
    <p><strong>-G</strong><em>gid</em></p>
  </dt>
  <dd>
    <p>This option is also used for debugging, and tells <em>super</em> to act as if the caller's groupid or groupname was <em>gid</em>. It carries the same restrictions and debug info as the -F option.</p>
  </dd>
  <dt>
    <p><strong>-U</strong><em>uid</em></p>
  </dt>
  <dd>
    <p>This option is also used for debugging, and tells <em>super</em> to act as if the caller's uid or username was <em>uid</em>. It carries the same restrictions and debug info as the -F option.</p>
  </dd>
  <dt>
    <p><strong>-M</strong><em>mach</em></p>
  </dt>
  <dd>
    <p>This option is also used for debugging, and tells <em>super</em> to act as if the caller's host (machine) was <em>mach</em>. It carries the same restrictions and debug info as the -F option.</p>
  </dd>
  <dt>
    <p><strong>-T</strong><em>hh</em>:<em>mm</em>/<em>dayname</em></p>
  </dt>
  <dd>
    <p>This option is also used for debugging, and tells <em>super</em> to act as if the execution time is <em>hh</em>:<em>mm</em>/<em>dayname</em>. This lets you check if a time specification in the <em>super.tab</em> file is properly restricting execution. It carries the same restrictions and debug info as the -F option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/super.tab</em></p>
  </dt>
  <dd>
    <p>contains the list of commands that <strong>super</strong> may execute, along with the names of the user/group combinations who may execute each command.  The valid-user line can restrict use to particular users or groups on different hosts, so a single super.tab file can be used across a network.</p>
  </dd>
  <dt>
    <p><em>/run/superstamps/</em>username</p>
  </dt>
  <dd>
    <p>is used as a timestamp for the last time that the user entered his or her password.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREATING SUPER SCRIPTS</h2>
        <div class="sectioncontent">
<p>You must be exceedingly careful when writing scripts for <strong>super</strong>. A surprising variety of ordinary commands can, when run setuid-root, be exploited for nasty purposes.  Always make your scripts do as little as possible, and give the user as few options as possible.</p><p>Think twice about side-effects and alternative uses of these scripts.  For instance, make sure your script doesn't quietly invoke the user's <em>.cshrc</em> or similar file. Or, you might write a script to allow users to mount cd-rom's by executing <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a></strong>. But if you don't write it carefully, a user could mount a floppy disk containing, say, a setuid-root shell.</p><p>Security issues aside, here are some hints on creating super scripts:</p>
<dl class='dl-vertical'>
  <dt>
    <p>1.</p>
  </dt>
  <dd>
    <p>Scripts must begin with <strong>#!&nbsp;</strong><em>interpreter-path</em>.</p>
  </dd>
  <dt>
    <p>2.</p>
  </dt>
  <dd>
    <p>Some variants of csh will not run setuid scripts unless the -b flag (force a "break" from option processing) is set: #!/bin/csh -fb</p><p>Similarly, if your <em>super.tab</em> file starts a shell such as csh or tcsh, you may want to include the -b option in the <em>super.tab</em> file, so that you don't have to remember to type it on the command line every time; use a line like the following in the <em>super.tab</em> file: SHELL  "/usr/bin/csh -fb"  some_priv_user</p><p>N.B.  This is by way of example only; it's not a very good idea to really let somebody become root without any password check.</p>
  </dd>
  <dt>
    <p>3.</p>
  </dt>
  <dd>
    <p>Better still, avoid csh scripts entirely -- they are harder to write safely than Bourne-shell scripts.</p>
  </dd>
  <dt>
    <p>4.</p>
  </dt>
  <dd>
    <p>It's nice to make the <strong>super</strong> call transparent to users, so that they can type % <strong>cdmount</strong> <em>args</em></p><p>instead of % <strong>super cdmount</strong> <em>args</em></p><p>You can make a script <strong>super</strong> itself by beginning the script in the following way:</p>
<pre>
#!/bin/sh
prog=&#96;basename $0&#96;
test "X$SUPERCMD" = "X$prog" ||
		exec /usr/local/bin/super -r $0 $prog ${1+"$@"}
</pre>
<p>Here, the path that is exec'd should be replaced with the path at your site that leads to <em>super.</em> The option <em>-r</em>$0 is a sanity-check option: it tells super that it's an error if ``super $prog'' doesn't execute ``$0'', ie this self-same program. (Also, see the <strong>-t</strong> option for how a script can check that <em>super $prog</em> will work before doing an <em>exec super</em>.)</p>
  </dd>
  <dt>
    <p>5.</p>
  </dt>
  <dd>
    <p>Some programs need certain directories in the path.  Your super scripts may have to add directories like <em>/etc</em> or <em>/usr/etc</em> to make commands work. For instance, SunOS&nbsp;4.1 needs <em>/usr/etc</em> in the path before it can mount filesystems of type ``hsfs''.</p>
  </dd>
  <dt>
    <p>6.</p>
  </dt>
  <dd>
    <p>By default, <strong>super</strong> only changes the effective uid. Some programs (e.g. <strong>exportfs</strong> under SunOS&nbsp;4.1.x) require the real uid to be root.  In that case, you should put an option like ``<em>uid=root</em>'' or ``<em>u+g=root</em>'' into the <em>super.tab</em> file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO super&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/super.tab.5.html"><strong>super.tab</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Will Deich</p><p>will@ucolick.org</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>If the <em>super.tab</em> file isn't owned by root, or if it is group- or world-writable, <strong>super</strong> won't run setuid-root.  (If the user's real uid is root, <strong>super</strong> won't run at all; otherwise, the effective uid reverts to real uid.)</p><p>There is a race condition when using password-requiring commands, but it doesn't affect security: if a user is running two copies of <strong>super</strong> simultaneously, and both processes try to update the user's password timestamp file at the same time, then it is possible for one of the <strong>super</strong> commands to fail. Workaround: a single user shouldn't execute two password-requiring <strong>super</strong> programs simultaneously.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sup-tweak-labels.1.html"><span aria-hidden="true">&larr;</span> sup-tweak-labels.1: Batch modification of message state already in index</a></li>
   <li class="next"><a href="superformat.1.html">superformat.1: None <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
