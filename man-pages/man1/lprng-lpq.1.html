<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lpq: Spool queue examination program</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Spool queue examination program">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lpq (1) manual">
  <meta name="twitter:description" content="Spool queue examination program">
  <meta name="twitter:image" content="https://www.carta.tech/images/lprng-lpq-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lprng-lpq.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lpq (1) manual" />
  <meta property="og:description" content="Spool queue examination program" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lprng-lpq-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lpq<small> (1)</small></h1>
        <p class="lead">Spool queue examination program</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lpq.1.html">
      <span itemprop="name">lpq: Spool queue examination program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lprng/">
      <span itemprop="name">lprng</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lpq.1.html">
      <span itemprop="name">lpq: Spool queue examination program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lpq</strong> [<strong>-a</strong>] [<strong>-A</strong>] [<strong>-l</strong>] [<strong>-L</strong>] [<strong>-V</strong>] [<strong>-c</strong>] [<strong>-v</strong>] [<strong>-P</strong> <em> printer</em>] [<strong>-s</strong>] [<strong>-t</strong> <em> sleeptime</em>] [<strong>-D</strong> <em> debugopt</em>] [<em>jobid</em>\|.\|.\|.]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>lpq</em> requests a status report from <strong>lpd</strong>(8) on the specified printers or jobs. <em>lpq</em> invoked without any arguments reports on the printer given by the default printer (see <strong>-P</strong> option). The short (default) format simply lists the printer, host, and numbers of jobs in the spool queue. When using the long format (-l option), for each job in a spool queue <em>lpq</em> reports the job identifier which is generated from the user's name and originating host, current rank in the queue, the job number (which may be supplied to <a href="../man1/lprm.1.html"><strong>lprm</strong>(1)</a> for removing a specific job), the job description information, and the total size in bytes. If there is an error or other problem with the job, this information may be modified to reflect the problems. In a spool queue, Job ordering is a modified FIFO (First in First Out), modified by the job class and priority information.</p><p>The following options are available.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>Use authentication specified by the value of the AUTH environment variable.</p>
  </dd>
  <dt>
    <p><strong>-D </strong><em>debugoptions</em></p>
  </dt>
  <dd>
    <p>Debugging is controlled using the <strong>-D</strong> option. This accepts a comma-separated list of debugging settings. These settings take one of two forms: <strong>facility=value ,</strong> or <strong>value</strong> to set an overall default value.</p>
  </dd>
  <dt>
    <p><strong>-P </strong><em>printer</em></p>
  </dt>
  <dd>
    <p>By default, the destination printer is taken from the command line <em>printer</em> value, then the environment variables PRINTER, LPDEST, NPRINTER, NGPRINTER, then first entry in the printcap information, and and finally the default_printer entry from the configuration file, and then the compile time default.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print version information.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Dump lpd related information.</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Clear Screen before output, very usefull with -t</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>List status for all printers (see PRINTER LISTS below) which have entries for the LPRng client programs in the <a href="../man5/printcap.5.html"><strong>printcap</strong>(5)</a> database.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>Increase verbosity of the <strong>l</strong>ong display format. A single -l options selects a short verbose display, multiple -l options increase the verbosity.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Use maximum verbosity for the <strong>l</strong>ong display format.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>Display a short, single line status summary for each queue and subqueue.</p>
  </dd>
  <dt>
    <p><strong>-t </strong><em>sleeptime</em></p>
  </dt>
  <dd>
    <p>Forces <em>lpq</em> to periodically display the spool queues and then sleep <em>sleeptime</em> seconds between scans of the queue.</p>
<dl class='dl-vertical'>
  <dt>
    jobid ... all
  </dt>
  <dd>
    <p>The options are followed by a list of jobids which are used to select jobs of interest. A jobid can be a user name, a job identifier, a job number, or a glob based pattern which will be applied to the job identifiers. The all keyword will display all jobs and is the default option.</p>
  </dd>

</dl>

  </dd>

</dl>
<p>The <em>lpq</em> will report the status of the spool queue (enabled for spooling, disabled for unspooling), and the absence of a server if unspooling is enabled. The <strong>lpc</strong>(1) command <em>lpc start &lt;printer&gt;</em> may be used to start the server if this is the case.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>By default, the destination printer is taken from the command line <em>dest</em> value, then the environment variables PRINTER, LPDEST, NPRINTER, NGPRINTER, then first entry in the printcap information, and and finally the default_printer entry from the configuration file, and then the compile time default.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PRINTER LISTS</h2>
        <div class="sectioncontent">
<p>The <strong>-a</strong> option is used to by <a href="../man1/lpq.1.html"><strong>lpq</strong>(1)</a> to get status for a list of printers. This list is formed as follows.</p>
<dl class='dl-vertical'>
  <dt>
    1)
  </dt>
  <dd>
    <p>The printcap file is scanned for printer entries. Only entries with names starting with a letter or digit are recognized as valid queue or printer names.</p>
  </dd>
  <dt>
    2)
  </dt>
  <dd>
    <p>If the special entry <em>all</em> is present, and it has a field <em>:all=pr1@host1,pr2@host2,...</em> then the printers <em>pr1</em>, <em>pr2</em>, ... are used as the printer or queue list.</p>
  </dd>
  <dt>
    3)
  </dt>
  <dd>
    <p>If there is no all entry, then the original list of printers found in step 1) is used as the list of printers.</p>
  </dd>

</dl>
<p>The special case of <strong>lpq -Pall</strong> disables the searching of the printcap database, and simply sends a query to the lpd server for status of printer <strong>all</strong>. The <strong>lpd</strong>(8) server enumerates the printers in its printcap file, ignoring any <em>all</em> entry, and returns status only for printers which have entries in the <strong>lpd</strong>(8) server printcap file.</p><p>Finally, the special case <strong>lpq -Ppr@host</strong> causes <a href="../man1/lpq.1.html"><strong>lpq</strong>(1)</a> to send a status request for printer <strong>pr</strong> to host <strong>host</strong>.</p><p>Here is a simple set of rules to use:</p>
<pre>
Client:
 pr1:lp=%P@server
 pr2:lp=%P@server
  - printer pr1 followed by pr2

pr1:lp=%P@server
pr2:lp=%P@server
all:all=pr2,pr1
  - printer pr2 followed by pr1 (all overrides)

Client:
 pr1:lp=%P@server
 pr2:lp=%P@server
Server:
 lp:lp=...
  lpq -Pall
    - status returned only for printer 'lp'
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The following exit values are returned:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>zero (0)</strong></p>
  </dt>
  <dd>
    <p>Successful completion.</p>
  </dd>
  <dt>
    <p><strong>non-zero (!=0)</strong></p>
  </dt>
  <dd>
    <p>An error occurred.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PRINTCAP INFORMATION</h2>
        <div class="sectioncontent">
<p>The printer names and other information is obtained by using a printcap file or some other database. The ${HOME}/.printcap file can be used to specify user level options and configuration information. See <a href="../man5/printcap.5.html"><strong>printcap</strong>(5)</a> for more information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>The files used by LPRng are set by values in the printer configuration file. The following are a commonly used set of default values.</p>
<pre>
/etc/lprng/lpd.conf	LPRng configuration file
${HOME}/.printcap	user printer description file
/etc/printcap	printer description file
/etc/lprng/lpd.perms	permissions
/var/run/lprng/lpd	lock file for queue control
/var/spool/lpd		spool directories
/var/spool/lpd/QUEUE/control	queue control
/var/spool/lpd/QUEUE/log	trace or debug log file
/var/spool/lpd/QUEUE/acct	accounting file
/var/spool/lpd/QUEUE/status	status file
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lpq&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/lpd.conf.5.html"><strong>lpd.conf</strong>(5)</a>, <a href="../man8/lpc.8.html"><strong>lpc</strong>(8)</a>, <strong>lpd</strong>(8), <a href="../man8/checkpc.8.html"><strong>checkpc</strong>(8)</a>, <a href="../man1/lpr.1.html"><strong>lpr</strong>(1)</a>, <a href="../man1/lprm.1.html"><strong>lprm</strong>(1)</a>, <a href="../man5/printcap.5.html"><strong>printcap</strong>(5)</a>, <a href="../man5/lpd.perms.5.html"><strong>lpd.perms</strong>(5)</a>, <strong>pr</strong>(1).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Patrick Powell &lt;papowell@lprng.com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>Most of the diagnostics are self explanatory. If you are puzzled over the exact cause of failure, set the debugging level on (-D5) and run again. The debugging information will help you to pinpoint the exact cause of failure.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>LPRng is a enhanced printer spooler system with functionality similar to the Berkeley LPR software. The LPRng developer mailing list is lprng-devel@lists.sourceforge.net; subscribe by visiting <strong>https://lists.sourceforge.net/lists/listinfo/lprng-devel</strong> or sending mail to <strong>lprng-request@lists.sourceforge.net</strong> with the word <em>subscribe</em> in the body.</p><p>The software is available via <strong>http://lprng.sourceforge.net</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cups-bsd-lpq.1.html"><span aria-hidden="true">&larr;</span> lpq.1: Show printer queue status</a></li>
   <li class="next"><a href="cups-bsd-lpr.1.html">lpr.1: Print files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
