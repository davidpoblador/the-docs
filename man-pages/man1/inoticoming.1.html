<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>inoticoming: Trigger actions when files hit an incoming directory</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Trigger actions when files hit an incoming directory">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="inoticoming (1) manual">
  <meta name="twitter:description" content="Trigger actions when files hit an incoming directory">
  <meta name="twitter:image" content="https://www.carta.tech/images/inoticoming-inoticoming-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/inoticoming.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="inoticoming (1) manual" />
  <meta property="og:description" content="Trigger actions when files hit an incoming directory" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/inoticoming-inoticoming-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">inoticoming<small> (1)</small></h1>
        <p class="lead">Trigger actions when files hit an incoming directory</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/inoticoming.1.html">
      <span itemprop="name">inoticoming: Trigger actions when files hit an incoming directory</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/inoticoming/">
      <span itemprop="name">inoticoming</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/inoticoming.1.html">
      <span itemprop="name">inoticoming: Trigger actions when files hit an incoming directory</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>inoticoming</strong> [ <em>global-options</em> ] <em>directory</em> <em>actions</em>*</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Inoticoming is a daemon to watch a <em>directory</em> with Linux's inotify framework and trigger <em>actions</em> once files with specific names are placed in there.</p><p>For example it can be used to wait for <strong>.changes</strong> files uploaded into a directory and call <strong>reprepro</strong> to put them into your repository.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GLOBAL OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--foreground</strong></p>
  </dt>
  <dd>
    <p>Do not fork, but stay in the foreground and log to stderr.</p>
  </dd>
  <dt>
    <p><strong>--logfile </strong><em>filename</em><strong></strong></p>
  </dt>
  <dd>
    <p>After forking in the background, log to the specified <em>filename</em> instead of syslog.</p>
  </dd>
  <dt>
    <p><strong>--pid-file </strong><em>filename</em><strong></strong></p>
  </dt>
  <dd>
    <p>Write the pid of the running instance into <em>filename</em>.</p>
  </dd>
  <dt>
    <p><strong>--initialsearch</strong></p>
  </dt>
  <dd>
    <p>First search the directory for files already existing and process them with the given rules as if they just appeared. If files show up in this inital phase, they may be processed twice, but should never be missed. (Unless they are too many and the inotify queue overflows).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACTIONS</h2>
        <div class="sectioncontent">
<p>Each action description is an optional list of options for this action (which files to call it for, what directory to change into before executing it, ...), followed by the command and its arguments ended with a single ; as argument. Like:</p><p><strong>inoticoming --foreground / --regexp ^v echo There appeared {} in the root directory. &#92;;</strong> (Note that the &#92; before the ; is needed if and only if you calling it from a shell or anything else interpreting the ; on its own).</p><h3>ACTION OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--prefix </strong><em>string</em><strong></strong></p>
  </dt>
  <dd>
    <p>Only trigger this action, if the filename starts with the specified string.</p>
  </dd>
  <dt>
    <p><strong>--suffix </strong><em>string</em><strong></strong></p>
  </dt>
  <dd>
    <p>Only trigger this action, if the filename ends with the specified string.</p>
  </dd>
  <dt>
    <p><strong>--regexp </strong><em>regular expression</em><strong></strong></p>
  </dt>
  <dd>
    <p>Only trigger this action, if the filename matches the specified regular expression.</p>
  </dd>
  <dt>
    <p><strong>--chdir </strong><em>directory</em><strong></strong></p>
  </dt>
  <dd>
    <p>Change into <em>directory</em> before executing the specified commands. (Note that since it is a well-behaved daemon, its working directory is <strong>/</strong> which will be inherited by all actions).</p>
  </dd>
  <dt>
    <p><strong>--stdout-to-log</strong></p>
  </dt>
  <dd>
    <p>Redirect the command's output (stdout) to the logfile.</p>
  </dd>
  <dt>
    <p><strong>--stderr-to-log</strong></p>
  </dt>
  <dd>
    <p>Redirect the command's error output (stderr) to the logfile.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>inoticoming --logfile logs/ilog --pid-file pid </strong><em>$INCOMINGDIR</em><strong> --suffix .changes --stderr-to-log reprepro -s -b </strong><em>$REPREPROBASEDIR</em><strong> --waitforlock 1000 processincoming </strong><em>rulename</em><strong> {} &#92;;</strong></p>
  </dt>
  <dd>
    <p>This will call reprepro for every new .changes file. Note that giving {} as argument to processincoming (which inoticoming will replace with the filename) so that only that .changes file is processed and reprepro will not complain about a possible other yet incomplete .changes file is only available starting with reprepro version 2.2.2.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROBLEMS</h2>
        <div class="sectioncontent">
<p>There is no handling of queue overflows yet.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs or wishlist requests to the Debian BTS</p><p>(e.g. by using <strong>reportbug inoticoming</strong> under Debian)</p><p>or directly to &lt;brlink@debian.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2007 Bernhard R. Link</p><p>This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="inotail.1.html"><span aria-hidden="true">&larr;</span> inotail.1: A fast and lightweight version of tail using inotify</a></li>
   <li class="next"><a href="inotifywait.1.html">inotifywait.1: Wait for changes to files using inotify <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
