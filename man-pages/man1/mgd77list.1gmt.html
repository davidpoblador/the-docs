<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mgd77list: A data-extractor for mgd77[+] files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A data-extractor for mgd77[+] files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mgd77list (1gmt) manual">
  <meta name="twitter:description" content="A data-extractor for mgd77[+] files">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-mgd77list-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/mgd77list.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mgd77list (1gmt) manual" />
  <meta property="og:description" content="A data-extractor for mgd77[+] files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-mgd77list-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mgd77list<small> (1gmt)</small></h1>
        <p class="lead">A data-extractor for mgd77[+] files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/mgd77list.1gmt.html">
      <span itemprop="name">mgd77list: A data-extractor for mgd77[+] files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt/">
      <span itemprop="name">gmt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/mgd77list.1gmt.html">
      <span itemprop="name">mgd77list: A data-extractor for mgd77[+] files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mgd77list</strong> <em>NGDC-ids</em> <strong>-F</strong><em>columns</em>[,<em>logic</em>][:<em>bittests</em>] [ <strong>-A</strong>[<strong>+</strong>]<strong>c</strong>|<strong>d</strong>|<strong>f</strong>|<strong>m</strong>|<strong>t</strong><em>code</em> ] [ <strong>-C</strong><strong>f</strong>|<strong>g</strong>|<strong>e</strong> ] [ <strong>-D</strong><strong>A</strong>|<strong>a</strong><em>startdate</em> ] [ <strong>-D</strong><strong>B</strong>|<strong>b</strong><em>stopdate</em> ] [ <strong>-E</strong> ] [ <strong>-Ga</strong><em>startrec</em> ] [ <strong>-Gb</strong><em>stoprec</em> ] [ <strong>-H</strong>[<strong>i</strong>][<em>nrec</em>] ] [ <strong>-I</strong><em>ignore</em> ] [ <strong>-L</strong>[<em>corrtable</em>] ] [ <strong>-Nd</strong>|<strong>s</strong><em>unit</em> ] [ <strong>-Q</strong><strong>a</strong>|<strong>v</strong><em>min</em>/<em>max</em> ] [ <strong>-R</strong><em>west</em>/<em>east</em>/<em>south</em>/<em>north</em>[<strong>r</strong>] ] [ <strong>-Sa</strong><em>startdist</em>[unit] ] [ <strong>-Sb</strong><em>stopdist</em>[unit] ] [ <strong>-T</strong>[<strong>m</strong>|<strong>e</strong>] ]  [ <strong>-V</strong> ] [ <strong>-W</strong><em>weight</em> ] [ <strong>-Z</strong><em>+</em>|<strong>-</strong> ] [ <strong>-bo</strong>[<strong>s</strong>|<strong>S</strong>|<strong>d</strong>|<strong>D</strong>[<em>ncol</em>]|<strong>c</strong>[<em>var1</em><strong>/</strong><em>...</em>]] ] [ <strong>-m</strong>[<em>flag</em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mgd77list</strong> reads &lt;NGDC-id&gt;.[mgd77|nc] files and produces an ASCII [or binary] table. The &lt;NGDC-id&gt;.[mgd77|nc] files contain track information such as leg-id, time and position, geophysical observables such as gravity, magnetics, and bathymetry, and control codes and corrections such as Eotvos and diurnal corrections.  The MGD77+ extended netCDF files may also contain additional user columns (for a listing of available columns, use <strong>mgd77info</strong> -C, and to learn how to add your own custom columns, see <strong>mgd77manage</strong>).  The user may extract any combination of these parameters, any of six computed quantities (distance, heading, velocity, Carter correction, and gravity and magnetic global reference fields), calendar sub-units of time (year, month, day, hour, min, sec), the NGDC id, and finally a preset weight (see <strong>-W</strong>).  A sub-section can be specified by passing time- or distance-intervals along track or by selecting a geographical region.  Finally, each output record may be required to pass any number of logical tests involving data values or bit flags.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>NGDC-ids</em></p>
  </dt>
  <dd>
    <p>Can be one or more of five kinds of specifiers:</p><p>1) 8-character NGDC IDs, e.g., 01010083, JA010010etc., etc.</p><p>2) 2-character &lt;agency&gt; codes which will return all cruises from each agency.</p><p>3) 4-character &lt;agency&gt;&lt;vessel&gt; codes, which will return all cruises from those vessels.</p><p>4) =&lt;list&gt;, where &lt;list&gt; is a table with NGDC IDs, one per line.</p><p>5) If nothing is specified we return all cruises in the data base.</p><p>(See mgd77info <strong>-L</strong> for agency and vessel codes). The ".mgd77" or ".nc" extensions will automatically be appended, if needed (use <strong>-I</strong> to ignore certain file types).  Cruise files will be looked for first in the current directory and second in all directories listed in <strong>$MGD77_HOME</strong>/mgd77_paths.txt [If <strong>$MGD77_HOME</strong> is not set it will default to <strong>$GMT_SHAREDIR</strong>/mgd77].</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>The required <em>columns</em> string must be a comma-separated list of parameter abbreviations given in the desired output order.  Any parameters given in UPPER case must not be NaN in a record for output to occur.  Unless specified separately, the output format (if ASCII) is controlled by the GMT parameter <strong>D_FORMAT</strong>.  The available abbreviations are:</p>
  </dd>
  <dt>
    <p><strong>drt</strong></p>
  </dt>
  <dd>
    <p>The digital record type, usually 3 or 5 (for Y2K-compliant cruises).</p>
  </dd>
  <dt>
    <p><strong>id</strong></p>
  </dt>
  <dd>
    <p>The survey ID string (leg name).</p>
  </dd>
  <dt>
    <p><strong>tz</strong></p>
  </dt>
  <dd>
    <p>The time zone adjustment (in hours from -13 to +12)</p>
  </dd>
  <dt>
    <p><strong>ngdcid</strong></p>
  </dt>
  <dd>
    <p>The 8-character NGDC cruise ID string (usually the file prefix).</p>
  </dd>
  <dt>
    <p><strong>time</strong></p>
  </dt>
  <dd>
    <p>Choose between Absolute calendar time (<strong>atime</strong>, the default) in the format dictated by the GMT parameters <strong>OUTPUT_DATE_FORMAT</strong> and <strong>OUTPUT_CLOCK_FORMAT</strong>, Relative time (<strong>rtime</strong>) in the format dictated by the GMT parameters <strong>D_FORMAT</strong> and <strong>TIME_SYSTEM</strong> (or <strong>TIME_EPOCH</strong> and <strong>TIME_UNIT</strong>)), or Fractional year (<strong>ytime</strong>) in the format dictated by <strong>D_FORMAT</strong>.</p>
  </dd>
  <dt>
    <p><strong>lon</strong></p>
  </dt>
  <dd>
    <p>Longitude in the format dictated by the GMT parameter <strong>OUTPUT_DEGREE_FORMAT</strong>.</p>
  </dd>
  <dt>
    <p><strong>lat</strong></p>
  </dt>
  <dd>
    <p>Longitude in the format dictated by the GMT parameter <strong>OUTPUT_DEGREE_FORMAT</strong>.</p>
  </dd>
  <dt>
    <p><strong>twt</strong></p>
  </dt>
  <dd>
    <p>Two-Way Travel time (in s).</p>
  </dd>
  <dt>
    <p><strong>depth</strong></p>
  </dt>
  <dd>
    <p>Corrected bathymetry (in m, positive below sealevel).</p>
  </dd>
  <dt>
    <p><strong>mtf1</strong></p>
  </dt>
  <dd>
    <p>Magnetic Total Field intensity from sensor 1 (in nTesla).</p>
  </dd>
  <dt>
    <p><strong>mtf2</strong></p>
  </dt>
  <dd>
    <p>Magnetic Total Field intensity from sensor 2 (in nTesla).</p>
  </dd>
  <dt>
    <p><strong>mag</strong></p>
  </dt>
  <dd>
    <p>Residual magnetic anomaly (in nTesla).</p>
  </dd>
  <dt>
    <p><strong>gobs</strong></p>
  </dt>
  <dd>
    <p>Observed gravity (in mGal).</p>
  </dd>
  <dt>
    <p><strong>faa</strong></p>
  </dt>
  <dd>
    <p>Free-air gravity anomaly (in mGal).</p>
  </dd>
  <dt>
    <p><strong>ptc</strong></p>
  </dt>
  <dd>
    <p>Position Type Code (1 = fix, 3 = interpolated, 9 = unspecified).</p>
  </dd>
  <dt>
    <p><strong>bcc</strong></p>
  </dt>
  <dd>
    <p>Bathymetric Correction Code, indicating the procedure used to convert travel time to depth. (01-55 = Matthews' zone used to correct the depth, 59 = Matthews' corrections used but the zones is unspecified in the data record, 60 = S. Kuwahara formula for T-S, 61 = Wilson formula for T-S, 62 = Del Grosso formula for T-S, 63 = Carter's tables, 88 = Other, described in header sections, 99 = unspecified).</p>
  </dd>
  <dt>
    <p><strong>btc</strong></p>
  </dt>
  <dd>
    <p>Bathymetric Type Code, indicating how the bathymetry value was obtained (1 = observed, 3 = interpolated, 9 = unspecified).</p>
  </dd>
  <dt>
    <p><strong>msens</strong></p>
  </dt>
  <dd>
    <p>Magnetic sensor for used to evaluate the residual field (1 = 1st or leading sensor, 2 = 2nd or trailing sensor, 9 = unspecified).</p>
  </dd>
  <dt>
    <p><strong>msd</strong></p>
  </dt>
  <dd>
    <p>Depth (or altitude) of the magnetic sensor (in m, positive below sealevel).</p>
  </dd>
  <dt>
    <p><strong>diur</strong></p>
  </dt>
  <dd>
    <p>Magnetic diurnal correction (in nTesla).</p>
  </dd>
  <dt>
    <p><strong>eot</strong></p>
  </dt>
  <dd>
    <p>Eotvos correction (in mGal).</p>
  </dd>
  <dt>
    <p><strong>sln</strong></p>
  </dt>
  <dd>
    <p>Seismic Line Number string.</p>
  </dd>
  <dt>
    <p><strong>sspn</strong></p>
  </dt>
  <dd>
    <p>Seismic Shot Point Number string.</p>
  </dd>
  <dt>
    <p><strong>nqc</strong></p>
  </dt>
  <dd>
    <p>Navigation Quality Code (5 = suspected, by source institution, 6 = suspected, by NGDC, 9 = no problems identified).</p>
  </dd>
  <dt>
    <p><strong>bqc</strong></p>
  </dt>
  <dd>
    <p>Bathymetry Quality Code (1 = good, 2 = fair, 3 = poor, 4 = bad, 5 = bad, suspected by source institution, 6 = bad, suspected by NGDC, 9 = not set).</p>
  </dd>
  <dt>
    <p><strong>mqc</strong></p>
  </dt>
  <dd>
    <p>Magnetics Quality Code (1 = good, 2 = fair, 3 = poor, 4 = bad, 5 = bad, suspected by source institution, 6 = bad, suspected by NGDC, 9 = not set).</p>
  </dd>
  <dt>
    <p><strong>gqc</strong></p>
  </dt>
  <dd>
    <p>Gravity Quality Code (1 = good, 2 = fair, 3 = poor, 4 = bad, 5 = bad, suspected by source institution, 6 = bad, suspected by NGDC, 9 = not set).</p><p>In addition, the following derived quantities can be requested:</p>
  </dd>
  <dt>
    <p><strong>year</strong></p>
  </dt>
  <dd>
    <p>The year of each record.</p>
  </dd>
  <dt>
    <p><strong>month</strong></p>
  </dt>
  <dd>
    <p>The month of each record.</p>
  </dd>
  <dt>
    <p><strong>day</strong></p>
  </dt>
  <dd>
    <p>The day of the month of each record.</p>
  </dd>
  <dt>
    <p><strong>hour</strong></p>
  </dt>
  <dd>
    <p>The hour of each record.</p>
  </dd>
  <dt>
    <p><strong>min</strong></p>
  </dt>
  <dd>
    <p>The minutes of each record.</p>
  </dd>
  <dt>
    <p><strong>sec</strong></p>
  </dt>
  <dd>
    <p>The decimal seconds of each record.</p>
  </dd>
  <dt>
    <p><strong>date</strong></p>
  </dt>
  <dd>
    <p>The date in yyyymmdd string format.</p>
  </dd>
  <dt>
    <p><strong>hhmm</strong></p>
  </dt>
  <dd>
    <p>The clock in hhmm.xxxx format (0-2359.xxxx).</p>
  </dd>
  <dt>
    <p><strong>dmin</strong></p>
  </dt>
  <dd>
    <p>The decimal minutes of each record (0-59.xxxx).</p>
  </dd>
  <dt>
    <p><strong>dist</strong></p>
  </dt>
  <dd>
    <p>Along-track distance from start of leg.  For method of calculation, see <strong>-C</strong> [spherical great circle distances], and for distance units, see <strong>-N</strong> [km].</p>
  </dd>
  <dt>
    <p><strong>az</strong></p>
  </dt>
  <dd>
    <p>Ship azimuth (heading) measured clockwise from north (in degrees).</p>
  </dd>
  <dt>
    <p><strong>vel</strong></p>
  </dt>
  <dd>
    <p>Ship speed; see <strong>-N</strong> for units [m/s].</p>
  </dd>
  <dt>
    <p><strong>weight</strong></p>
  </dt>
  <dd>
    <p>Weight assigned to this data set (see <strong>-W</strong>).</p>
  </dd>
  <dt>
    <p><strong>carter</strong></p>
  </dt>
  <dd>
    <p>Carter depth correction, if <strong>twt</strong> is present in file (in m).  Sign: Correction is to be subtracted from uncorrected depths to yield a corrected depth.</p>
  </dd>
  <dt>
    <p><strong>igrf</strong></p>
  </dt>
  <dd>
    <p>International geomagnetic reference field (total field) (in nTesla).</p>
  </dd>
  <dt>
    <p><strong>ngrav</strong></p>
  </dt>
  <dd>
    <p>International Gravity reference Field ("normal gravity") (in mGal). Field is selected based on the parameter Gravity Theoretical Formula Code in the cruise's MGD77 header.  If this is not set or is invalid we default to the IGF 1980. Alternatively, specify the field directly using <strong>-Af</strong> (see that option for more details).</p><p>The following short-hand flags are also recognized:</p>
  </dd>
  <dt>
    <p><strong>mgd77</strong></p>
  </dt>
  <dd>
    <p>This results in all 27 MGD77 fields being written out in the official MGD77 order.</p>
  </dd>
  <dt>
    <p><strong>mgd77t</strong></p>
  </dt>
  <dd>
    <p>This results in all 26 MGD77T fields being written out in the official MGD77T order.</p>
  </dd>
  <dt>
    <p><strong>all</strong></p>
  </dt>
  <dd>
    <p>as mgd77 or mgd77t but time is written as a single date-time string.</p>
  </dd>
  <dt>
    <p><strong>geo</strong></p>
  </dt>
  <dd>
    <p>This limits the output to 10 fields (<strong>time</strong>, <strong>lon</strong>, <strong>lat</strong> plus the seven geophysical observations <strong>twt</strong>, <strong>depth</strong>, <strong>mtf1</strong>, <strong>mtf2</strong>, <strong>mag</strong>, <strong>gobs</strong>, and <strong>faa</strong>). By appending <strong>+</strong> to either of these set we will also append <strong>dist</strong>, <strong>azim</strong>, <strong>vel</strong>, and <strong>weight</strong> as listed above.</p><p>As an option, logical tests may be added for any of the observations by appending ,<em>logic</em>, which is itself composed of one or more comma-separated instructions of the form <em>par</em><strong>OP</strong><em>value</em>, where <em>par</em> is one of the parameters listed above, <strong>OP</strong> is a logical operator (&lt;, &lt;=, =, !=, &gt;=, &gt;, |), and <em>value</em> is a constant used in the comparison.  Floating point parameters are compared numerically; character parameters are compared lexically (after leading and trailing blanks have been removed).  The bit comparison (|) means that at least one of the bits in <em>value</em> must be turned on in <em>par</em>.  At least one of the tests must be true for the record to be output, except for tests using UPPER case parameters which all must be true for output to occur.  Note that specifying a test does not imply that the corresponding column will be included in the output stream; it must be present in <em>columns</em> for that to occur. Note: some of the operators are special UNIX characters and you are advised to place quotes around the entire argument to <strong>-F</strong>.</p><p>Finally, for MGD77+ files you may optionally append :<em>bittests</em> which is : (a colon) followed by one or more comma-separated +-<em>col</em> terms.  This compares specific bitflags only for each listed column.  Here, + means the chosen bit must be 1 (ON) whereas - means it must be 0 (OFF).  All bit tests given must be passed.  By default, MGD77+ files that have the special <strong>MGD77_flags</strong> column present will use those flags, and observations associated with ON-bits (meaning they are flagged as bad) will be set to NaN; append : with no trailing information to turn this behavior off (i.e., no bit flags will be consulted).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>No space between the option flag and the associated arguments.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>By default, corrected depth (<strong>depth</strong>), magnetic residual anomaly (<strong>mag</strong>), free-air gravity anomaly (<strong>faa</strong>), and the derived quantity Carter depth correction (<strong>carter</strong>) are all output as is (if selected in <strong>-F</strong>); this option adjusts that behavior. For each of these columns there are 2-4 ways to adjust the data.  Append <strong>c</strong>(arter), <strong>d</strong>(epth), <strong>f</strong>(aa), or <strong>m</strong>(ag) and select the <em>code</em> for the procedure you want applied.  You may select more than one procedure for a data column by summing their numerical <em>code</em>s (1, 2, 4, and 8). E.g., <strong>-Ac</strong> 3 will first try method <strong>-Ac</strong> 1 to estimate a Carter correction but if <strong>depth</strong> is NaN we will next try <strong>-Ac</strong> 2 which only uses <strong>twt</strong>.  In all cases, if any of the values required by an adjustment procedure is NaN then the result will be NaN. This is also true if the original anomaly is NaN.  Specify <strong>-A+</strong> to recalculate anomalies even if the anomaly in the file is NaN. Additionally, you can use <strong>-At</strong> to create fake times for cruises that has no time; these are based on distances and cruise duration.</p>
  </dd>
  <dt>
    <p><strong>-Ac</strong></p>
  </dt>
  <dd>
    <p>Determines how the <strong>carter</strong> correction term is calculated.  Below, C(<strong>twt</strong>) stands for the Carter-corrected depth (it also depends on <strong>lon</strong>, <strong>lat</strong>), U(<strong>twt</strong>, <em>v</em>) is the uncorrected depth (= <strong>twt</strong> * <em>v</em> / 2) using as <em>v</em> the "Assumed Sound Velocity" parameter in the MGD77 header (if it is a valid velocity, otherwise we default to 1500 m/s); alternatively, append your preferred velocity <em>v</em> in m/s, TU(<strong>depth</strong>, <em>v</em>) is the 2-way travel time estimated from the (presumably) uncorrected <strong>depth</strong>, and TC(<strong>depth</strong>) is the 2-way travel time obtained by inverting the (presumably) corrected <strong>depth</strong> using the Carter correction formula. Select from</p><p><strong>-Ac1</strong>[,<em>v</em>] returns difference between U(<strong>twt</strong>, <em>v</em>) and <strong>depth</strong> [Default].</p><p><strong>-Ac2</strong>[,<em>v</em>] returns difference between U(<strong>twt</strong>, <em>v</em>) and Carter (<strong>twt</strong>).</p><p><strong>-Ac4</strong>[,<em>v</em>] returns difference between (assumed uncorrected) <strong>depth</strong> and Carter (TU(<strong>depth</strong>)).</p><p><strong>-Ac8</strong>[,<em>v</em>] returns difference between U(TC(<strong>depth</strong>), <em>v</em>) and <strong>depth</strong>.</p>
  </dd>
  <dt>
    <p><strong>-Ad</strong></p>
  </dt>
  <dd>
    <p>Determines how the <strong>depth</strong> column output is obtained:</p><p><strong>-Ad1</strong> returns <strong>depth</strong> as stored in the data set [Default].</p><p><strong>-Ad2</strong>[,<em>v</em>] returns calculated uncorrected depth U(<strong>twt</strong>, <em>v</em>).</p><p><strong>-Ad4</strong> returns calculated corrected depth C(<strong>twt</strong>).</p>
  </dd>
  <dt>
    <p><strong>-Af</strong></p>
  </dt>
  <dd>
    <p>Determines how the <strong>faa</strong> column output is obtained. If <strong>ngrav</strong> (i.e., the International Gravity reference Field (IGF), or "normal gravity") is required it is selected based on the MGD77 header parameter "Theoretical Gravity Formula Code"; if this code is not present or is invalid we default to 4.  Alternatively, append the preferred <em>field</em> (1-4) to select 1 (Heiskanen 1924), 2 (IGF 1930), 3 (IGF 1967) or 4 (IGF 1980).  Select from</p><p><strong>-Af1</strong>[,<em>field</em>] returns <strong>faa</strong> as stored in the data set [Default]. Optionally, sets the IGF <em>field</em> to use if you also have requested <strong>ngrav</strong> as an output column in <strong>-F</strong>.</p><p><strong>-Af2</strong>[,<em>field</em>] returns the difference between <strong>gobs</strong> and <strong>ngrav</strong> (with optional <em>field</em> directive).</p><p><strong>-Af3</strong>[,<em>field</em>] returns the combination of <strong>gobs</strong> + <strong>eot</strong> - <strong>ngrav</strong> (with optional <em>field</em> directive).</p>
  </dd>
  <dt>
    <p><strong>-Am</strong></p>
  </dt>
  <dd>
    <p>Determines how the <strong>mag</strong> column output is obtained.  There may be one or two total field measurements in the file (<strong>mtf1</strong> and <strong>mtf2</strong>), and the column <strong>msens</strong> may state which one is the leading sensor (1 or 2; it may also be undefined).  Select from</p><p><strong>-Am1</strong> returns <strong>mag</strong> as stored in the data set [Default].</p><p><strong>-Am2</strong> returns the difference between <strong>mgfx</strong> and <strong>igrf</strong>, where <strong>x</strong> is the leading sensor (<strong>1</strong> or <strong>2</strong>) indicated by the <strong>msens</strong> data field (defaults to <strong>1</strong> if unspecified).</p><p><strong>-Am4</strong> returns the difference between <strong>mgfx</strong> and <strong>igrf</strong>, where <strong>x</strong> is the sensor (<strong>2</strong> or <strong>1</strong>) <em>not</em> indicated by the <strong>msens</strong> data field (defaults to <strong>2</strong> if unspecified).</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Append a one-letter code to select the procedure for along-track distance calculation (see <strong>-N</strong> for selecting units):</p><p>	<strong>f</strong> Flat Earth distances.</p><p>	<strong>g</strong> Great circle distances [Default].</p><p>	<strong>e</strong> Geodesic distances on current GMT ellipsoid.</p>
  </dd>
  <dt>
    <p><strong>-Da</strong></p>
  </dt>
  <dd>
    <p>Do not list data collected before <em>startdate</em> (yyyy-mm-dd<strong>T</strong>[hh:mm:ss])  [Default is start of cruise]. Use <strong>-DA</strong> to exclude records whose time is undefined (i.e., NaN). [Default reports those records].</p>
  </dd>
  <dt>
    <p><strong>-Db</strong></p>
  </dt>
  <dd>
    <p>Do not list data collected on or after <em>stopdate</em> (yyyy-mm-dd<strong>T</strong>[hh:mm:ss]). [Default is end of cruise]. Use <strong>-DB</strong> to exclude records whose time is undefined (i.e., NaN). [Default reports those records].</p>
  </dd>
  <dt>
    <p><strong>-E</strong></p>
  </dt>
  <dd>
    <p>Exact match: Only output records that match all the requested geophysical columns [Default outputs records that matches at least one of the observed columns].</p>
  </dd>
  <dt>
    <p><strong>-Ga</strong></p>
  </dt>
  <dd>
    <p>Do not list records before <em>startrec</em>  [Default is 0, the first record].</p>
  </dd>
  <dt>
    <p><strong>-Gb</strong></p>
  </dt>
  <dd>
    <p>Do not list data after <em>stoprec</em>. [Default is the last record].</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>Issue a header record with names for each data field.</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p>Ignore certain data file formats from consideration. Append <strong>a|c|m|t</strong> to ignore MGD77 ASCII, MGD77+ netCDF, MGD77T ASCII or plain tab-separated ASCII table files, respectively. The option may be repeated to ignore more than one format.  [Default ignores none].</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Apply optimal corrections to columns where such corrections are available.  Append the correction table to use [Default uses the correction table mgd77_corrections.txt in the <strong>$MGD77_HOME</strong> directory]. For the format of this file, see CORRECTIONS below.</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>Append <strong>d</strong> for distance or <strong>s</strong> for speed, then give the desired <em>unit</em> as <strong>e</strong> (meter or m/s), <strong>k</strong> (km or km/hr), <strong>m</strong> (miles or miles/hr), or <strong>n</strong> (nautical miles or knots).  [Default is <strong>-Ndk</strong> <strong>-Nse</strong> (km and m/s)].</p>
  </dd>
  <dt>
    <p><strong>-Qa</strong></p>
  </dt>
  <dd>
    <p>Specify an accepted range (<em>min</em>/<em>max</em>) of azimuths.  Records whose track azimuth falls outside this range are ignored [0-360].</p>
  </dd>
  <dt>
    <p><strong>-Qv</strong></p>
  </dt>
  <dd>
    <p>Specify an accepted range (<em>min</em>/<em>max</em>; or just <em>min</em> if there is no upper limit) of velocities.  Records whose track speed falls outside this range are ignored [0-infinity].</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p><em>west, east, south,</em> and <em>north</em> specify the Region of interest, and you may specify them in decimal degrees or in [+-]dd:mm[:ss.xxx][W|E|S|N] format.  Append <strong>r</strong> if lower left and upper right map coordinates are given instead of w/e/s/n.  The two shorthands <strong>-Rg</strong> and <strong>-Rd</strong> stand for global domain (0/360 and -180/+180 in longitude respectively, with -90/+90 in latitude). Alternatively, specify the name of an existing grid file and the <strong>-R</strong> settings (and grid spacing, if applicable) are copied from the grid.</p>
  </dd>
  <dt>
    <p><strong>-Sa</strong></p>
  </dt>
  <dd>
    <p>Do not list data that are less than <em>startdist</em> meter along track from port of departure. Append <strong>k</strong> for km, <strong>m</strong> for miles, or <strong>n</strong> for nautical miles [Default is 0 meters].</p>
  </dd>
  <dt>
    <p><strong>-Sb</strong></p>
  </dt>
  <dd>
    <p>Do not list data that are <em>stopdist</em> or more meters along track from port of departure. Append <strong>k</strong> for km, <strong>m</strong> for miles, or <strong>n</strong> for nautical miles [Default is end of track].</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>Turns OFF the otherwise automatic adjustment of values based on correction terms that are stored in the MGD77+ file and used to counteract such things as wrong units used by the source institution when creating the original MGD77 file from which the MGD77+ file derives (the option has no effect on plain MGD77 ASCII files).  Append <strong>m</strong> or <strong>e</strong> to limit the option to the MGD77 or extended columns set only [Default applies to both].</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Selects verbose mode, which will send progress reports to stderr [Default runs "silently"].</p>
  </dd>
  <dt>
    <p><strong>-W</strong></p>
  </dt>
  <dd>
    <p>Set the weight for these data.  Weight output option must be set in <strong>-F</strong>.  This is useful if the data are to be processed with the weighted averaging techniques offered by <strong>blockmean</strong>, <strong>blockmedian</strong>, and <strong>blockmode</strong> [1].</p>
  </dd>
  <dt>
    <p><strong>-Z</strong></p>
  </dt>
  <dd>
    <p>Append the sign you want for <strong>depth</strong>, <strong>carter</strong>, and <strong>msd</strong> values below sea level (<strong>-Z-</strong> gives negative bathymetry) [Default is positive down].</p>
  </dd>
  <dt>
    <p><strong>-bo</strong></p>
  </dt>
  <dd>
    <p>Selects binary output mode (single precision; append <strong>d</strong> for double precision, or use <strong>S</strong>|<strong>D</strong> to swap bytes on output) [Default is ASCII]. <strong>-H</strong> is ignored if <strong>-bo</strong> is selected.  Likewise, string-fields cannot be selected. Note that if time is one of the binary output columns it will be stored as Unix-time (seconds since 1970).  To read this information in GMT to obtain absolute calendar time will require you to use --TIME_SYSTEM=unix.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>[<em>flag</em>]</p>
  </dt>
  <dd>
    <p>Issue a multi-segment header record with cruise ID for each cruise.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To get a (distance, heading, gravity, bathymetry) listing from 01010047.mgd77, starting at June 3 1971 20:45 and ending at distance = 5000 km, use the following command:</p><p><strong>mgd77list</strong> 01010047 <strong>-Da</strong> 1971-06-03T20:45 <strong>-Sb</strong> 5000 <strong>-F</strong> dist,azim,faa,depth &gt; myfile.d</p><p>To make input for <strong>blockmean</strong> and <strong>surface</strong> using free-air anomalies from all the cruises listed in the file cruises.lis, but only the data that are inside the specified area, and make the output binary:</p><p><strong>mgd77list</strong> `cat cruises.lis` <strong>-F</strong> lon,lat,faa <strong>-R</strong>-40/-30/25/35 <strong>-bo</strong> &gt; allgrav.b</p><p>To extract the locations of depths exceeding 9000 meter that were not interpolated (<strong>btc</strong> != 1) from all the cruises listed in the file cruises.lis:</p><p><strong>mgd77list</strong> `cat cruises.lis` <strong>-F</strong>"depth,DEPTH&gt;9000,BTC!=1" &gt; really_deep.d</p><p>To extract dist, faa, and grav12_2 from records whose depths are shallower than 3 km and where none of the requested fields are NaN, from all the MGD77+ netCDF files whose cruise ids are listed in the file cruises.lis, we try</p><p><strong>mgd77list</strong> `cat cruises.lis` <strong>-E</strong> <strong>-Ia</strong> <strong>-F</strong>"dist,faa,grav12_2,depth&lt;3000" &gt; shallow_grav.d</p><p>To extract dist, faa, and grav12_2 from all the MGD77+ netCDF files whose cruise ids are listed in the file cruises.lis, but only retrieve records whose bitflag for faa indicates BAD values, we try</p><p><strong>mgd77list</strong> `cat cruises.lis` <strong>-E</strong> <strong>-Ia</strong> <strong>-F</strong>"dist,faa,grav12_2:+faa" &gt; bad_grav.d</p><p>To output lon, lat, mag, and faa from all the cruises listed in the file cruises.lis, but recalculate the two residuals based on the latest reference fields, try:</p><p><strong>mgd77list</strong> `cat cruises.lis` <strong>-F</strong> lon,lat,mag,faa <strong>-Af</strong> 2,4 <strong>-Am</strong> 2 &gt; data.d</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RECALCULATED ANOMALIES</h2>
        <div class="sectioncontent">
<p>When recalculated anomalies are requested (either explicitly via the <strong>-A</strong> option or implicitly via E77 metadata in the MGD77+ file) we only do so for the records whose original anomaly was not a NaN.  This restriction is implemented since many anomaly columns contains corrections, usually in the form of hand-edited changes, that cannot be duplicated from the corresponding observation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IGRF</h2>
        <div class="sectioncontent">
<p>The IGRF calculations are based on a Fortran program written by Susan Macmillan, British Geological Survey, translated to C via f2c by Joaquim Luis, U Algarve, and adapted to GMT-style by Paul Wessel.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IGF</h2>
        <div class="sectioncontent">
<p>The equations used are reproduced here using coefficients extracted directly from the source code (let us know if you find errors):</p><p>(1) g = 978052.0 * [1 + 0.005285 * sin^2(lat) - 7e-6 * sin^2(2*lat) + 27e-6 * cos^2(lat) * cos^2(lon-18)]</p><p>(2) g = 978049.0 * [1 + 0.0052884 * sin^2(lat) - 0.0000059 * sin^2(2*lat)]</p><p>(3) g = 978031.846 * [1 + 0.0053024 * sin^2(lat) - 0.0000058 * sin^2(2*lat)]</p><p>(4) g = 978032.67714 * [(1 + 0.00193185138639 * sin^2(lat)) / sqrt (1 - 0.00669437999013 * sin^2(lat))]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CORRECTIONS</h2>
        <div class="sectioncontent">
<p>The correction table is an ASCII file with coefficients and parameters needed to carry out corrections. Comment records beginning with # are allowed.  All correction records are of the form</p><p><em>cruiseID observation correction</em></p><p>where <em>cruiseID</em> is a NGDC prefix, <em>observation</em> is one of the abbreviations for geophysical observations listed under <strong>-F</strong> above, and <em>correction</em> consists of one or more <em>term</em>s that will be summed up and then <strong>subtracted</strong> from the observation before output.  Each <em>term</em> must have this exact syntax:</p><p><em>factor</em>[*[<em>function</em>]([<em>scale</em>](<em>abbrev</em>[-<em>origin</em>]))[^<em>power</em>]]</p><p>where terms in brackets are optional (the brackets themselves are not used but regular parentheses must be used as indicated).  No spaces are allowed except between <em>term</em>s. The <em>factor</em> is the amplitude of the basis function, while the optional <em>function</em> can be one of sin, cos, or exp. The optional <em>scale</em> and <em>origin</em> can be used to translate the argument (before giving it to the optional function).  The argument <em>abbrev</em> is one of the abbreviations for observations listed above.  If <em>origin</em> is given as <strong>T</strong> it means that we should replace it with the value of <em>abbrev</em> for the very first record in the file (this is usually only done for <em>time</em>).  If the first record entry is NaN we revert <em>origin</em> to zero.  Optionally, raise the entire expression to the given <em>power</em>, before multiplying by the amplitude.  The following is an example of fictitious corrections to the cruise 99999999, implying the <strong>depth</strong> should have the Carter correction removed, <strong>faa</strong> should have a linear trend removed, the magnetic anomaly (<strong>mag</strong>) should be corrected by a strange dependency on ship heading and latitude, and <strong>gob</strong>s needs to have 10 mGal added (hence given as -10):</p><p>99999999 depth	1.0*((carter))</p><p>99999999 faa	14.1	1e-5*((time-T))</p><p>99999999 mag	0.5*cos(0.5*(azim-19))^2	1.0*exp(-1e-3(lat))^1.5</p><p>99999999 gobs	-10</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QUALITY CODES</h2>
        <div class="sectioncontent">
<p>The MGD77T format added three quality codes for bathymetry (<strong>bqc</strong>), magnetics (<strong>mqc</strong>), and gravity (<strong>gqc</strong>). They are not present in the original MGD77 format, and if requested will return 9 or NULL.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mgd77list&hellip;</h2>
        <div class="sectioncontent">
<p><strong>mgd77convert</strong>(1), <strong>mgd77info</strong>(1), <strong>mgd77manage</strong>(1), <strong>mgd77track</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>Wessel, P., and W. H. F. Smith, 2014, The Generic Mapping Tools (GMT) version 4.5.12 Technical Reference & Cookbook, SOEST/NOAA.</p><p>Wessel, P., and W. H. F. Smith, 1998, New, Improved Version of Generic Mapping Tools Released, EOS Trans., AGU, 79 (47), p. 579.</p><p>Wessel, P., and W. H. F. Smith, 1995, New Version of the Generic Mapping Tools Released, EOS Trans., AGU, 76 (33), p. 329.</p><p>Wessel, P., and W. H. F. Smith, 1995, New Version of the Generic Mapping Tools Released, http://www.agu.org/eos_elec/95154e.html, Copyright 1995 by the American Geophysical Union.</p><p>Wessel, P., and W. H. F. Smith, 1991, Free Software Helps Map and Display Data, EOS Trans., AGU, 72 (41), p. 441.</p><p>The Marine Geophysical Data Exchange Format - "MGD77", see <em>http://www.ngdc.noaa.gov/mgg/dat/geodas/docs/mgd77.txt</em></p><p>IGRF, see <em>http://www.ngdc.noaa.gov/IAGA/vmod/igrf.html</em></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mgd77info.1gmt.html"><span aria-hidden="true">&larr;</span> mgd77info.1gmt: Get information about mgd77[+] files</a></li>
   <li class="next"><a href="mgd77magref.1gmt.html">mgd77magref.1gmt: Evaluate the igrf or cm4 magnetic field models <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
