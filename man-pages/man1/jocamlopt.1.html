<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jocamlopt: The jocaml native-code compiler</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The jocaml native-code compiler">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="jocamlopt (1) manual">
  <meta name="twitter:description" content="The jocaml native-code compiler">
  <meta name="twitter:image" content="https://www.carta.tech/images/jocaml-jocamlopt-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/jocamlopt.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="jocamlopt (1) manual" />
  <meta property="og:description" content="The jocaml native-code compiler" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/jocaml-jocamlopt-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">jocamlopt<small> (1)</small></h1>
        <p class="lead">The jocaml native-code compiler</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/jocamlopt.1.html">
      <span itemprop="name">jocamlopt: The jocaml native-code compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/jocaml/">
      <span itemprop="name">jocaml</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/jocamlopt.1.html">
      <span itemprop="name">jocamlopt: The jocaml native-code compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>jocamlopt</strong> [ <strong>-acivS</strong> ] [ <strong>-cclib</strong><em></em><strong>libname</strong> ] [ <strong>-ccopt</strong><em></em><strong>option</strong> ] [ <strong>-compact</strong> ] [ <strong>-unsafe</strong> ] [ <strong>-o</strong><em></em><strong>exec-file</strong> ] [ <strong>-I</strong><em></em><strong>lib-dir</strong> ] <em>filename ...</em></p><p><strong>jocamlopt.opt</strong> <em>(same options)</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The JoCaml high-performance native-code compiler <a href="../man1/jocamlopt.1.html"><strong>jocamlopt</strong>(1)</a> compiles Caml source files to native code object files and link these object files to produce standalone executables.</p><p>The <a href="../man1/jocamlopt.1.html"><strong>jocamlopt</strong>(1)</a> command has a command-line interface very close to that of <a href="../man1/jocamlc.1.html"><strong>jocamlc</strong>(1)</a>. It accepts the same types of arguments and processes them sequentially:</p><p>Arguments ending in .mli are taken to be source files for compilation unit interfaces. Interfaces specify the names exported by compilation units: they declare value names with their types, define public data types, declare abstract data types, and so on. From the file <em>x</em>.mli, the <a href="../man1/jocamlopt.1.html"><strong>jocamlopt</strong>(1)</a> compiler produces a compiled interface in the file <em>x</em>.cmi. The interface produced is identical to that produced by the bytecode compiler <a href="../man1/jocamlc.1.html"><strong>jocamlc</strong>(1)</a>.</p><p>Arguments ending in .ml are taken to be source files for compilation unit implementations. Implementations provide definitions for the names exported by the unit, and also contain expressions to be evaluated for their side-effects.  From the file <em>x</em>.ml, the <a href="../man1/jocamlopt.1.html"><strong>jocamlopt</strong>(1)</a> compiler produces two files: <em>x</em>.o, containing native object code, and <em>x</em>.cmx, containing extra information for linking and optimization of the clients of the unit. The compiled implementation should always be referred to under the name <em>x</em>.cmx (when given a .o file, <a href="../man1/jocamlopt.1.html"><strong>jocamlopt</strong>(1)</a> assumes that it contains code compiled from C, not from Caml).</p><p>The implementation is checked against the interface file <em>x</em>.mli (if it exists) as described in the manual for <a href="../man1/jocamlc.1.html"><strong>jocamlc</strong>(1)</a>.</p><p>Arguments ending in .cmx are taken to be compiled object code.  These files are linked together, along with the object files obtained by compiling .ml arguments (if any), and the Caml Light standard library, to produce a native-code executable program. The order in which .cmx and .ml arguments are presented on the command line is relevant: compilation units are initialized in that order at run-time, and it is a link-time error to use a component of a unit before having initialized it. Hence, a given <em>x</em>.cmx file must come before all .cmx files that refer to the unit <em>x</em>.</p><p>Arguments ending in .cmxa are taken to be libraries of object code. Such a library packs in two files <em>lib</em>.cmxa and <em>lib</em>.a a set of object files (.cmx/.o files). Libraries are build with <strong>jocamlopt -a</strong> (see the description of the <strong>-a</strong> option below). The object files contained in the library are linked as regular .cmx files (see above), in the order specified when the library was built. The only difference is that if an object file contained in a library is not referenced anywhere in the program, then it is not linked in.</p><p>Arguments ending in .c are passed to the C compiler, which generates a .o object file. This object file is linked with the program.</p><p>Arguments ending in .o or .a are assumed to be C object files and libraries. They are linked with the program.</p><p>The output of the linking phase is a regular Unix executable file. It does not need <a href="../man1/jocamlrun.1.html"><strong>jocamlrun</strong>(1)</a> to run.</p><p><strong>jocamlopt.opt</strong> is the same compiler as <strong>jocamlopt</strong>, but compiled with itself instead of with the bytecode compiler <a href="../man1/jocamlc.1.html"><strong>jocamlc</strong>(1)</a>. Thus, it behaves exactly like <strong>jocamlopt</strong>, but compiles faster. <strong>jocamlopt.opt</strong> is not available in all installations of JoCaml.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The following command-line options are recognized by <a href="../man1/jocamlopt.1.html"><strong>jocamlopt</strong>(1)</a>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Build a library (.cmxa/.a file) with the object files (.cmx/.o files) given on the command line, instead of linking them into an executable file. The name of the library can be set with the <strong>-o</strong> option. The default name is library.cmxa.</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Compile only. Suppress the linking phase of the compilation. Source code files are turned into compiled files, but no executable file is produced. This option is useful to compile modules separately.</p>
  </dd>
  <dt>
    <p><strong>-cclib</strong><em>-l</em><strong>libname</strong></p>
  </dt>
  <dd>
    <p>Pass the <strong>-l</strong><em>libname</em> option to the linker. This causes the given C library to be linked with the program.</p>
  </dd>
  <dt>
    <p><strong>-ccopt</strong><em></em><strong>option</strong></p>
  </dt>
  <dd>
    <p>Pass the given option to the C compiler and linker. For instance, <strong>-ccopt -L</strong> <em>dir</em> causes the C linker to search for C libraries in directory <em>dir</em>.</p>
  </dd>
  <dt>
    <p><strong>-compact</strong></p>
  </dt>
  <dd>
    <p>Optimize the produced code for space rather than for time. This results in smaller but slightly slower programs. The default is to optimize for speed.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>Cause the compiler to print all defined names (with their inferred types or their definitions) when compiling an implementation (.ml file). This can be useful to check the types inferred by the compiler. Also, since the output follows the syntax of interfaces, it can help in writing an explicit interface (.mli file) for a file: just redirect the standard output of the compiler to a .mli file, and edit that file to remove all declarations of unexported names.</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em></em><strong>directory</strong></p>
  </dt>
  <dd>
    <p>Add the given directory to the list of directories searched for compiled interface files (.cmi) and compiled object code files (.cmo). By default, the current directory is searched first, then the standard library directory. Directories added with -I are searched after the current directory, in the order in which they were given on the command line, but before the standard library directory.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em></em><strong>exec-file</strong></p>
  </dt>
  <dd>
    <p>Specify the name of the output file produced by the linker. The default output name is a.out, in keeping with the Unix tradition. If the <strong>-a</strong> option is given, specify the name of the library produced.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Keep the assembly code produced during the compilation. The assembly code for the source file <em>x</em>.ml is saved in the file <em>x</em>.s.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print the version number of the compiler.</p>
  </dd>
  <dt>
    <p><strong>-unsafe</strong></p>
  </dt>
  <dd>
    <p>Turn bound checking off on array and string accesses (the v.(i) and s.[i] constructs). Programs compiled with -unsafe are therefore faster, but unsafe: anything can happen if the program accesses an array or string outside of its bounds.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO jocamlopt&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/jocamlc.1.html"><strong>jocamlc</strong>(1)</a>.</p><p><em>The Objective Caml user's manual,</em> chapter "Native-code compilation".</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="jocamlmktop.1.html"><span aria-hidden="true">&larr;</span> jocamlmktop.1: Building custom toplevel systems</a></li>
   <li class="next"><a href="jocamlopt.opt.1.html">jocamlopt.opt.1: The jocaml native-code compiler <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
