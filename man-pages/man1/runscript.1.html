<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>runscript: Script interpreter for minicom</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Script interpreter for minicom">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="runscript (1) manual">
  <meta name="twitter:description" content="Script interpreter for minicom">
  <meta name="twitter:image" content="https://www.carta.tech/images/minicom-runscript-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/runscript.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="runscript (1) manual" />
  <meta property="og:description" content="Script interpreter for minicom" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/minicom-runscript-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">runscript<small> (1)</small></h1>
        <p class="lead">Script interpreter for minicom</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/runscript.1.html">
      <span itemprop="name">runscript: Script interpreter for minicom</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/minicom/">
      <span itemprop="name">minicom</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/runscript.1.html">
      <span itemprop="name">runscript: Script interpreter for minicom</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>runscript</strong> scriptname [logfile [homedir]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>runscript</strong> is a simple script interpreter that can be called from within the minicom communications program to automate tasks like logging in to a Unix system or your favorite BBS.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INVOCATION</h2>
        <div class="sectioncontent">
<p>The program expects a script name and optionally a filename and the user's home directory as arguments, and it expects that it's input and output are connected to the \^"remote end\^", the system you are connecting to. All messages from <strong>runscript</strong> meant for the local screen are directed to the <strong>stderr</strong> output. All this is automatically taken care of if you run it from <strong>minicom</strong>. The logfile and home directory parameters are only used to tell the log command the name of the logfile and where to write it. If the homedir is omitted, runscript uses the directory found in the $HOME environment variable. If also the logfile name is omitted, the log commands are ignored.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KEYWORDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Runscript recognizes the following commands:</p>
  </dt>
  <dd>
    
<pre>
expect   send     goto     gosub    return   \^!&lt;   \^!
exit     print    set      inc      dec      if   timeout
verbose  sleep    break    call     log

</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW OF KEYWORDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>send &lt;string&gt;</strong></p>
  </dt>
  <dd>
    <p>&lt;string&gt; is sent to the modem. It is followed by a '&#92;r'. &lt;string&gt; can be:</p>
<pre>
  - regular text, e.g. 'send hello'
  - text enclosed in quotes, e.g. 'send \^"hello world\^"'
</pre>

  </dd>
  <dt>
    
<pre>
     Within &lt;string&gt; the following sequences are recognized:
    &#92;n - newline
    &#92;r - carriage return
    &#92;a - bell
    &#92;b - backspace
    &#92;c - don't send the default '&#92;r'.
    &#92;f - formfeed
    &#92;^ - the ^ character
    &#92;o - send character <strong>o</strong> (<strong>o</strong> is an octal number)
</pre>

  </dt>
  <dd>
    <p>Control characters can be used in the string with the ^ prefix (^A to ^Z, ^[, ^\, ^], ^^ and ^_). If you need to send the ^ character, you must prefix it with the nbsp;escape character.</p><p>Octal characters are either four-digit or delemited by a non-digit character, e.g. the null character may be sent with &#92;0000 and 'send 1234' is equivalent to 'send &#92;0061234'.</p><p>Also $(environment_variable) can be used, for example $(TERM). Minicom passes three special environment variables: $(LOGIN), which is the username, $(PASS), which is the password, as defined in the proper entry of the dialing directory, and $(TERMLIN) which is the number of actual terminal lines on your screen (that is, the statusline excluded).</p>
  </dd>
  <dt>
    <p><strong>print &lt;string&gt;</strong></p>
  </dt>
  <dd>
    <p>Prints &lt;string&gt; to the local screen. Default followed by '&#92;r&#92;n'. See the description of 'send' above.</p>
  </dd>
  <dt>
    <p><strong>label:</strong></p>
  </dt>
  <dd>
    <p>Declares a label (with the name 'label') to use with goto or gosub.</p>
  </dd>
  <dt>
    <p><strong>goto &lt;label&gt;</strong></p>
  </dt>
  <dd>
    <p>Jump to another place in the program.</p>
  </dd>
  <dt>
    <p><strong>gosub &lt;label&gt;</strong></p>
  </dt>
  <dd>
    <p>Jumps to another place in the program. When the statement 'return' is encountered, control returns to the statement after the gosub. Gosub's can be nested.</p>
  </dd>
  <dt>
    <p><strong>return</strong></p>
  </dt>
  <dd>
    <p>Return from a gosub.</p>
  </dd>
  <dt>
    <p><strong>! &lt;command&gt;</strong></p>
  </dt>
  <dd>
    <p>Runs a shell for you in which 'command' is executed. On return, the variable '$?' is set to the exit status of this command, so you can subsequently test it using 'if'.</p>
  </dd>
  <dt>
    <p><strong>!&lt; &lt;command&gt;</strong></p>
  </dt>
  <dd>
    <p>Runs a shell for you in which 'command' is executed. The stdout output of the command execution will be sent to the modem. On return, the variable '$?' is set to the exit status of this command, so you can subsequently test it using 'if'.</p>
  </dd>
  <dt>
    <p><strong>exit [value]</strong></p>
  </dt>
  <dd>
    <p>Exit from \^"runscript\^" with an optional exit status. (default 1)</p>
  </dd>
  <dt>
    <p><strong>set &lt;variable&gt; &lt;value&gt;</strong></p>
  </dt>
  <dd>
    <p>Sets the value of &lt;variable&gt; (which is a single letter a-z) to the value &lt;value&gt;. If &lt;variable&gt; does not exist, it will be created. &lt;value&gt; can be a integer value or another variable.</p>
  </dd>
  <dt>
    <p><strong>inc &lt;variable&gt;</strong></p>
  </dt>
  <dd>
    <p>Increments the value of &lt;variable&gt; by one.</p>
  </dd>
  <dt>
    <p><strong>dec &lt;variable&gt;</strong></p>
  </dt>
  <dd>
    <p>Decrements the value of &lt;variable&gt; by one.</p>
  </dd>
  <dt>
    <p><strong>if &lt;value&gt; &lt;operator&gt; &lt;value&gt; &lt;statement&gt;</strong></p>
  </dt>
  <dd>
    <p>Conditional execution of &lt;statement&gt;. &lt;operator&gt; can be &lt;, &gt;, != or =. Eg, 'if a &gt; 3 goto exitlabel'.</p>
  </dd>
  <dt>
    <p><strong>timeout &lt;value&gt;</strong></p>
  </dt>
  <dd>
    <p>Sets the global timeout. By default, 'runscript' will exit after 120 seconds. This can be changed with this command. Warning: this command acts differently within an 'expect' statement, but more about that later.</p>
  </dd>
  <dt>
    <p><strong>verbose &lt;on|off&gt;</strong></p>
  </dt>
  <dd>
    <p>By default, this is 'on'. That means that anything that is being read from the modem by 'runscript', gets echoed to the screen. This is so that you can see what 'runscript' is doing.</p>
  </dd>
  <dt>
    <p><strong>sleep &lt;value&gt;</strong></p>
  </dt>
  <dd>
    <p>Suspend execution for &lt;value&gt; seconds.</p>
  </dd>
  <dt>
    <p><strong>expect</strong></p>
  </dt>
  <dd>
    
<pre>
  expect {
    pattern  [statement]
    pattern  [statement]
    [timeout &lt;value&gt; [statement] ]
    ....
  }
</pre>
<p>The most important command of all. Expect keeps reading from the input until it reads a pattern that matches one of the specified ones.  If expect encounters an optional statement after that pattern, it will execute it. Otherwise the default is to just break out of the expect. 'pattern' is a string, just as in 'send' (see above).  Normally, expect will timeout in 60 seconds and just exit, but this can be changed with the timeout command.</p>
  </dd>
  <dt>
    <p><strong>break</strong></p>
  </dt>
  <dd>
    <p>Break out of an 'expect' statement. This is normally only useful as argument to 'timeout' within an expect, because the default action of timeout is to exit immediately.</p>
  </dd>
  <dt>
    <p><strong>call &lt;scriptname&gt;</strong></p>
  </dt>
  <dd>
    <p>Transfers control to another scriptfile. When that scriptfile finishes without errors, the original script will continue.</p>
  </dd>
  <dt>
    <p><strong>log &lt;text&gt;</strong></p>
  </dt>
  <dd>
    <p>Write text to the logfile.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>If you want to make your script to exit minicom (for example when you use minicom to dial up your ISP, and then start a PPP or SLIP session from a script), try the command "! killall -9 minicom" as the last script command. The -9 option should prevent minicom from hanging up the line and resetting the modem before exiting.</p><p>Well, I don't think this is enough information to make you an experienced 'programmer' in 'runscript', but together with the examples it shouldn't be too hard to write some useful script files. Things will be easier if you have experience with BASIC. The <strong>minicom</strong> source code comes together with two example scripts, <strong>scriptdemo</strong> and <strong>unixlogin</strong>. Especially the last one is a good base to build on for your own scripts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO runscript&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/minicom.1.html"><strong>minicom</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Runscript should be built in to minicom.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Miquel van Smoorenburg, &lt;miquels@drinkel.ow.org&gt; Jukka Lahtinen, &lt;walker@netsonic.fi&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="runlock.1.html"><span aria-hidden="true">&larr;</span> runlock.1: Prevent concurrent execution of a process</a></li>
   <li class="next"><a href="runsnake.1.html">runsnake.1: Gui utility for python profiling <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
