<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lunch: Distributed process launcher</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distributed process launcher">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lunch (1) manual">
  <meta name="twitter:description" content="Distributed process launcher">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-lunch-lunch-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lunch.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lunch (1) manual" />
  <meta property="og:description" content="Distributed process launcher" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-lunch-lunch-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lunch<small> (1)</small></h1>
        <p class="lead">Distributed process launcher</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lunch.1.html">
      <span itemprop="name">lunch: Distributed process launcher</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-lunch/">
      <span itemprop="name">python-lunch</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lunch.1.html">
      <span itemprop="name">lunch: Distributed process launcher</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lunch</strong> [<em>config file</em>] [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Lunch is a distributed process launcher for GNU/Linux. The Lunch master launches lunch-slave processes through an encrypted SSH session if on a remote host. Those slave processes can in turn launch the desired commands on-demand.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>show program's version number and exit</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>show this help message and exit</p>
  </dd>
  <dt>
    <p><strong>-f</strong> CONFIG_FILE, <strong>--config-file</strong>=<em>CONFIG_FILE</em></p>
  </dt>
  <dd>
    <p>Specifies the python config file. You can also simply specify the config file as the first argument.</p>
  </dd>
  <dt>
    <p><strong>-l</strong> LOGGING_DIRECTORY, <strong>--logging-directory</strong>=<em>LOGGING_DIRECTORY</em></p>
  </dt>
  <dd>
    <p>Specifies the logging and pidfile directory for the master. Default is /var/tmp/lunch</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--log-to-file</strong></p>
  </dt>
  <dd>
    <p>Enables logging master infos to file and disables logging to standard output.</p>
  </dd>
  <dt>
    <p><strong>-g</strong>, <strong>--graphical</strong></p>
  </dt>
  <dd>
    <p>Enables the graphical user interface.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Makes the logging output verbose.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Makes the logging output very verbose.</p>
  </dd>
  <dt>
    <p><strong>-k</strong>, <strong>--kill</strong></p>
  </dt>
  <dd>
    <p>Kills another lunch master that uses the same config file and logging directory. Exits once it's done.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>See the examples directory for examples. On a Debian or Ubuntu system, they should located in the /usr/share/doc/lunch/examples/ directory.</p><p>Here is the simplest example possible for the contents of a ~/.lunchrc file. It tells Lunch to call only one command, called "xeyes".</p>
<pre>
  add_command("xeyes")
</pre>
<p>If you add more calls to add_command in this file, it will add more processes to be launched by Lunch. The add_command is the Python function you need to call from your Lunch configuration file in order to add commands to be called by Lunch. If you add more than one command, they will be called in the order you add them in the file.</p><p>Here is a more complex example of a configuration file. It creates three processes, with dependencies between processes.</p>
<pre>
  add_command("xeyes", identifier="xeyes")
  add_command("xlogo", depends=["xeyes"])
  add_command("xclock", depends=["xeyes", "xlogo"])
</pre>
<p>The configuration file above will first start xeyes, and next xlogo, and finally xclock. If xeyes quits, all three processes will be stopped and restarted. If the xlogo process quits, the xclock will be stopped and restarted again when the xlogo is running. The "depends" keyword argument of the "add_command" function needs a list of strings as argument. Those string must match the "identifier" keyword argument of an already added command.</p><p>In the next example, we use SSH to launch processes on a remote host. Note that the lunch-slave script must be installed on each of the hosts on which to launch child processes.</p>
<pre>
  add_command("xeyes")
  add_command("xeyes", user="johndoe", host="example.org")
</pre>
<p>It will create a process tree such as this one :</p><p>lunch_______________lunch-slave____xeyes</p>
<pre>
        |____ssh____lunch-slave____xeyes
</pre>
<p>The next one is a command that is run only once.</p>
<pre>
  add_command("ls -l", identifier="listing...", respawn=False)
</pre>
<p>If, for some reason, it is easier for you to specify the host name for every command you add, even for the local host, you can call "add_local_address" with the master's IP as an argument.</p>
<pre>
  add_local_address("192.168.1.2")
  # We will not use SSH for this one,
  # since we just added its host using the
  # "add_local_address" function.
  add_command("xeyes",
    identifier="local_xeyes",
    user="johndoe", host="192.168.0.2")
  # We will use SSH for the next one,
  # since its host is not set as being the local host.
  add_command("xeyes -geometry 300x400",
    identifier="remote_xeyes",
    user="johndoe", host="example.org")
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPERATION</h2>
        <div class="sectioncontent">
<p>The lunch executable is called the lunch master. The lunch-slave executable is called the lunch slave. If run as a master, it launches slaves. The slaves are responsible for launching child processes. The master launches slaves (via SSH or not) which, in turn, launch child processes.</p><p>The Lunch configuration file can be provided as a first argument to the lunch executable. If not given, the Lunch master will look for the ~/.lunchrc file. If not found, lunch will print an error and exit. The lunch config file is written in the Python programming language, and must call the add_command function.</p><p>The process ID of the master is written to a file located in /var/tmp/lunch/master*.pid, where * varies depending on the lunch config file used to configure the master. Here is how to kill every lunch master on your system :</p>
<pre>
  for f in /var/tmp/lunch/master-*.pid; do kill -15 $(cat $f); done
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GRAPHICAL USER INTERFACE</h2>
        <div class="sectioncontent">
<p>When invoked with the --graphical option, (-g) the lunch master shows a graphical user interface displaying the state of every managed process. When this window is closed, the lunch master exits and kills all its children processes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SSH KEYS MANAGEMENT</h2>
        <div class="sectioncontent">
<p>If using for more than one host, lunch needs a SSH server installed on each remote computer. It is also needed that the public SSH key of your user on the master computer must be installed on every slave computer. Here is a summary of the steps to do to create a SSH key on your master computer, and send your public key on each slave computer.</p>
<pre>
  $ mkdir -p ~/.ssh
  $ chmod 700 ~/.ssh
  $ ssh-keygen -f ~/.ssh/id_rsa -t rsa
</pre>
<p>Next, for each slave host, do:</p>
<pre>
  $ ssh-copy-id &lt;username&gt;@&lt;host&gt;
  $ ssh username@host 'echo Hello'
</pre>
<p>The latter command should display "Hello" when issued.</p><p>If you start lunch via SSH, and launch from there commands other hosts, you must first make sure that the ssh-agent is running and that you have unlocked your private SSH key. It can be done like this:</p>
<pre>
  $ ssh-agent bash
  $ ssh-add
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>2010 - Ported from multiprocessing to Twisted</p><p>2009 - Written by Alexandre Quessy &lt;alexandre@quessy.net&gt; with contributions from Simon Piette &lt;simonp@sat.qc.ca&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>See http://svn.sat.qc.ca/trac/lunch for help and documentation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lunch&hellip;</h2>
        <div class="sectioncontent">
<p>lunch-slave (1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lumper.1.html"><span aria-hidden="true">&larr;</span> lumper.1: Lump a bunch of mac font resources into the same file</a></li>
   <li class="next"><a href="lunch-slave.1.html">lunch-slave.1: Process launcher <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
