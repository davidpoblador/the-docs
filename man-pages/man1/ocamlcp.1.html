<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ocamlcp: The ocaml profiling compilers</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The ocaml profiling compilers">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ocamlcp (1) manual">
  <meta name="twitter:description" content="The ocaml profiling compilers">
  <meta name="twitter:image" content="https://www.carta.tech/images/ocaml-nox-ocamlcp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ocamlcp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ocamlcp (1) manual" />
  <meta property="og:description" content="The ocaml profiling compilers" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ocaml-nox-ocamlcp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ocamlcp<small> (1)</small></h1>
        <p class="lead">The ocaml profiling compilers</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ocamlcp.1.html">
      <span itemprop="name">ocamlcp: The ocaml profiling compilers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ocaml-nox/">
      <span itemprop="name">ocaml-nox</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ocamlcp.1.html">
      <span itemprop="name">ocamlcp: The ocaml profiling compilers</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ocamlcp</strong> [ <em>ocamlc options</em> ] [ <strong>-P</strong><em></em><strong>flags</strong> ] <em>filename ...</em></p><p><strong>ocamloptp</strong> [ <em>ocamlopt options</em> ] [ <strong>-P</strong><em></em><strong>flags</strong> ] <em>filename ...</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>ocamlcp</strong> and <strong>ocamloptp</strong> commands are front-ends to <a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a> and <a href="../man1/ocamlopt.1.html"><strong>ocamlopt</strong>(1)</a> that instrument the source code, adding code to record how many times functions are called, branches of conditionals are taken, etc. Execution of instrumented code produces an execution profile in the file ocamlprof.dump, which can be read using <a href="../man1/ocamlprof.1.html"><strong>ocamlprof</strong>(1)</a>.</p><p><strong>ocamlcp</strong> accepts the same arguments and options as <a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a> and <strong>ocamloptp</strong> accepts the same arguments and options as <a href="../man1/ocamlopt.1.html"><strong>ocamlopt</strong>(1)</a>. There is only one exception: in both cases, the <strong>-pp</strong> option is not supported.  If you need to preprocess your source files, you will have to do it separately before calling <strong>ocamlcp</strong> or <strong>ocamloptp</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>In addition to the <a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a> or <a href="../man1/ocamlopt.1.html"><strong>ocamlopt</strong>(1)</a> options, <strong>ocamlcp</strong> and <strong>ocamloptp</strong> accept one option to control the kind of profiling information, the <strong>-P</strong><em></em><strong>letters</strong> option. The <em>letters</em> indicate which parts of the program should be profiled:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>a</strong></p>
  </dt>
  <dd>
    <p>all options</p>
  </dd>
  <dt>
    <p><strong>f</strong></p>
  </dt>
  <dd>
    <p>function calls : a count point is set at the beginning of each function body</p>
  </dd>
  <dt>
    <p><strong>i</strong></p>
  </dt>
  <dd>
    <p><strong>if</strong><strong>...</strong><strong>then</strong><strong>...</strong><strong>else</strong>: count points are set in both <strong>then</strong><strong>and</strong><strong>else</strong> branches</p>
  </dd>
  <dt>
    <p><strong>l</strong></p>
  </dt>
  <dd>
    <p><strong>while</strong>,<strong></strong>for loops: a count point is set at the beginning of the loop body</p>
  </dd>
  <dt>
    <p><strong>m</strong></p>
  </dt>
  <dd>
    <p><strong>match</strong> branches: a count point is set at the beginning of the body of each branch of a pattern-matching</p>
  </dd>
  <dt>
    <p><strong>t</strong></p>
  </dt>
  <dd>
    <p><strong>try</strong><strong>...</strong><strong>with</strong> branches: a count point is set at the beginning of the body of each branch of an exception catcher</p>
  </dd>

</dl>
<p>For instance, compiling with <strong>ocamlcp -P film</strong> profiles function calls, <strong>if</strong><strong>...</strong><strong>then</strong><strong>...</strong><strong>else</strong><strong>...,</strong> loops, and pattern matching.</p><p>Calling <a href="../man1/ocamlcp.1.html"><strong>ocamlcp</strong>(1)</a> or <a href="../man1/ocamloptp.1.html"><strong>ocamloptp</strong>(1)</a> without the <strong>-P</strong> option defaults to <strong>-P</strong>fm<strong>,</strong> meaning that only function calls and pattern matching are profiled.</p><p>Note: for compatibility with previous versions, <a href="../man1/ocamlcp.1.html"><strong>ocamlcp</strong>(1)</a> also accepts the option <strong>-p</strong> with the same argument and meaning as <strong>-P</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ocamlcp&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a>, <a href="../man1/ocamlopt.1.html"><strong>ocamlopt</strong>(1)</a>, <a href="../man1/ocamlprof.1.html"><strong>ocamlprof</strong>(1)</a>.</p><p><em>The OCaml user's manual</em>, chapter "Profiling".</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ocamlc.1.html"><span aria-hidden="true">&larr;</span> ocamlc.1: The ocaml bytecode compiler</a></li>
   <li class="next"><a href="ocamldebug.1.html">ocamldebug.1: The ocaml source-level replay debugger. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
