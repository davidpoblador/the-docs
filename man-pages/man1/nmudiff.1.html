<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nmudiff: Email an nmu diff to the debian bts</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Email an nmu diff to the debian bts">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nmudiff (1) manual">
  <meta name="twitter:description" content="Email an nmu diff to the debian bts">
  <meta name="twitter:image" content="https://www.carta.tech/images/devscripts-nmudiff-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/nmudiff.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nmudiff (1) manual" />
  <meta property="og:description" content="Email an nmu diff to the debian bts" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/devscripts-nmudiff-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nmudiff<small> (1)</small></h1>
        <p class="lead">Email an nmu diff to the debian bts</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nmudiff.1.html">
      <span itemprop="name">nmudiff: Email an nmu diff to the debian bts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/devscripts/">
      <span itemprop="name">devscripts</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nmudiff.1.html">
      <span itemprop="name">nmudiff: Email an nmu diff to the debian bts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nmudiff</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>nmudiff</strong> should be run in the source tree of the package being NMUed, after the NMU is built. It assumes that the source packages (specifically, the <em>.dsc</em> and any corresponding <em>tar</em> and <em>diff</em> files) for both the previous version of the package and the newly built NMU version are in the parent directory. It then uses <strong>debdiff</strong> to generate a diff between the previous version and the current NMU, and either runs mutt or an editor (using <strong>sensible-editor</strong>) so that the mail message (including the diff) can be examined and modified; once you exit the editor the diff will be mailed to the Debian BTS.</p><p>The default behaviour is that if exactly one bug is closed by this NMU, then that bug will be mailed, otherwise a new bug will be submitted. This behaviour may be changed by command line options and configuration file options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--new</strong></p>
  </dt>
  <dd>
    <p>Instead of mailing the bug reports which are to be closed by this NMU, a new bug report is submitted directly to the BTS.</p>
  </dd>
  <dt>
    <p><strong>--old</strong></p>
  </dt>
  <dd>
    <p>Send the bug report to all of the bugs which are being closed by this NMU, rather than opening a new bug report.  This option has no effect if no bugs are being closed by this NMU.</p>
  </dd>
  <dt>
    <p><strong>--mutt</strong></p>
  </dt>
  <dd>
    <p>Use <strong>mutt</strong>(1) for editing and sending the message to the BTS (default behaviour).  This can be controlled using a configuration file option (see below).</p>
  </dd>
  <dt>
    <p><strong>--no-mutt</strong></p>
  </dt>
  <dd>
    <p>Use <a href="../man1/sensible-editor.1.html"><strong>sensible-editor</strong>(1)</a> to edit the message and then mail it directly using <em>/usr/bin/sendmail</em>.  This can be controlled using a configuration file option (see below).</p>
  </dd>
  <dt>
    <p><strong>--sendmail</strong> <em>SENDMAILCMD</em></p>
  </dt>
  <dd>
    <p>Specify the <strong>sendmail</strong> command.  The command will be split on white space and will be interpreted by the shell.  Default is <em>/usr/sbin/sendmail</em>.  The <strong>-t</strong> option will be automatically added if the command is <em>/usr/sbin/sendmail</em> or <em>/usr/sbin/exim*</em>.  For other mailers, if they require a <strong>-t</strong> option, this must be included in the <em>SENDMAILCMD</em>, for example: <strong>--sendmail="/usr/sbin/mymailer -t"</strong>.  This can also be set using the devscripts configuration files; see below.</p>
  </dd>
  <dt>
    <p><strong>--from</strong> <em>EMAIL</em></p>
  </dt>
  <dd>
    <p>If using the <strong>sendmail</strong> (<strong>--no-mutt</strong>) option, then the email to the BTS will be sent using the name and address in the environment variables <strong>DEBEMAIL</strong> and <strong>DEBFULLNAME</strong>.  If these are not set, then the variables <strong>EMAIL</strong> and <strong>NAME</strong> will be used instead.  These can be overridden using the <strong>--from</strong> option.  The program will not work in this case if an email address cannot be determined.</p>
  </dd>
  <dt>
    <p><strong>--delay</strong> <em>DELAY</em></p>
  </dt>
  <dd>
    <p>Indicate in the generated mail that the NMU has been uploaded to the DELAYED queue, with a delay of <em>DELAY</em> days.  The default value is <em>XX</em> which adds a placeholder to the e-mail.  A value of <strong>0</strong> indicates that the upload has not been sent to a delayed queue.  This can also be set using the devscripts configuration files; see below.</p>
  </dd>
  <dt>
    <p><strong>--no-delay</strong>, <strong>--nodelay</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>--delay 0</strong>.</p>
  </dd>
  <dt>
    <p><strong>--no-conf</strong>, <strong>--noconf</strong></p>
  </dt>
  <dd>
    <p>Do not read any configuration files.  This can only be used as the first option given on the command-line.</p>
  </dd>
  <dt>
    <p><strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display a help message and exit successfully.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display version and copyright information and exit successfully.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION VARIABLES</h2>
        <div class="sectioncontent">
<p>The two configuration files <em>/etc/devscripts.conf</em> and <em>~/.devscripts</em> are sourced in that order to set configuration variables.  Command line options can be used to override configuration file settings.  Environment variable settings are ignored for this purpose.  The currently recognised variables are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>NMUDIFF_DELAY</strong></p>
  </dt>
  <dd>
    <p>If this is set to a number, e-mails generated by <strong>nmudiff</strong> will by default mention an upload to the DELAYED queue, delayed for the specified number of days.  The value <strong>0</strong> indicates that the DELAYED queue has not been used.</p>
  </dd>
  <dt>
    <p><strong>NMUDIFF_MUTT</strong></p>
  </dt>
  <dd>
    <p>Can be <em>yes</em> (default) or <em>no</em>, and specifies whether to use <strong>mutt</strong> to compose and send the message or not, as described above.</p>
  </dd>
  <dt>
    <p><strong>NMUDIFF_NEWREPORT</strong></p>
  </dt>
  <dd>
    <p>This option controls whether a new bug report is made, or whether the diff is sent to the bugs closed by this NMU.  Can be <em>maybe</em> (default), which sends to the existing bug reports if exactly one bug is being closed; <em>yes</em>, which always creates a new report, or <em>no</em>, which always sends to the reports of the bugs being closed (unless no bugs are being closed, in which case a new report is always made).</p>
  </dd>
  <dt>
    <p><strong>BTS_SENDMAIL_COMMAND</strong></p>
  </dt>
  <dd>
    <p>If this is set, specifies a <strong>sendmail</strong> command to use instead of <em>/usr/sbin/sendmail</em>.  Same as the <strong>--sendmail</strong> command line option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nmudiff&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/debdiff.1.html"><strong>debdiff</strong>(1)</a>, <a href="../man1/sensible-editor.1.html"><strong>sensible-editor</strong>(1)</a>, <a href="../man5/devscripts.conf.5.html"><strong>devscripts.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>nmudiff</strong> was written and is copyright 2006 by Steinar H. Gunderson and modified by Julian Gilbey &lt;jdg@debian.org&gt;.  The software may be freely redistributed under the terms and conditions of the GNU General Public License, version 2.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nmon.1.html"><span aria-hidden="true">&larr;</span> nmon.1: Systems administrator, tuner, benchmark tool.</a></li>
   <li class="next"><a href="nmzmail.1.html">nmzmail.1: A tool to use the namazu2 search engine from within mutt <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
