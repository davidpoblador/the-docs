<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>moosicd: The server for the moosic jukebox system.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The server for the moosic jukebox system.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="moosicd (1) manual">
  <meta name="twitter:description" content="The server for the moosic jukebox system.">
  <meta name="twitter:image" content="https://www.carta.tech/images/moosic-moosicd-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/moosicd.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="moosicd (1) manual" />
  <meta property="og:description" content="The server for the moosic jukebox system." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/moosic-moosicd-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">moosicd<small> (1)</small></h1>
        <p class="lead">The server for the moosic jukebox system.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/moosicd.1.html">
      <span itemprop="name">moosicd: The server for the moosic jukebox system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/moosic/">
      <span itemprop="name">moosic</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/moosicd.1.html">
      <span itemprop="name">moosicd: The server for the moosic jukebox system.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>moosicd</strong> <strong>--help</strong>|<strong>-h</strong>|<strong>--version</strong>|<strong>-v</strong></p><p><strong>moosicd</strong> [<strong>--history-size</strong>|<strong>-s</strong> <em>size</em>] [<strong>--config</strong>|<strong>-c</strong> <em>directory</em>] [<strong>--quiet</strong>|<strong>-q</strong>|<strong>--debug</strong>|<strong>-d</strong>] [<strong>-S</strong>|<strong>--stdout</strong>] [<strong>-t</strong>|<strong>--tcp</strong> <em>port</em>] [<strong>-T</strong>|<strong>--tcp-also</strong> <em>port</em>] [<strong>-l</strong>|<strong>--local-only</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>moosicd</strong> is the server for the Moosic jukebox system. It sits around, waiting to respond to commands given by a Moosic client (such as <a href="../man1/moosic.1.html"><strong>moosic</strong>(1)</a>). It also maintains a queue of items to be played, and if this queue is not empty, it pops off the first item from the head of the queue and executes a user-configurable command on that item. When this command terminates, <strong>moosicd</strong> goes on to the next item in its queue, assuming that the queue is not empty.</p><p><strong>moosicd</strong> is not meant to be used as a system-wide daemon that serves all users on a system.  Rather, every user that wishes to use Moosic should start a separate instance of <strong>moosicd</strong>, and one user cannot communicate with the Moosic server of another user without taking special measures (i.e. using the <strong>-c</strong> or <strong>-t</strong> options to <strong>moosic</strong>).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>moosicd</strong> is designed so that you normally don't need to use any of these options.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-h</strong>, <strong>--help</strong>
  </dt>
  <dd>
    <p>Prints help text and exits.</p>
  </dd>
  <dt>
    <strong>-v</strong>, <strong>--version</strong>
  </dt>
  <dd>
    <p>Prints version information and exits.</p>
  </dd>
  <dt>
    <strong>-s</strong> <em>size</em>, <strong>--history-size</strong> <em>size</em>
  </dt>
  <dd>
    <p><strong>moosicd</strong> remembers the file names of previous songs that it played. This option sets the maximum size of this history list. The default value is 50.</p>
  </dd>
  <dt>
    <strong>-f</strong>, <strong>--foreground</strong>
  </dt>
  <dd>
    <p>By default, <strong>moosicd</strong> detaches itself from the current terminal and puts itself in the background (i.e. it becomes a daemon).  This option disables such behavior.</p>
  </dd>
  <dt>
    <strong>-S</strong>, <strong>--stdout</strong>
  </dt>
  <dd>
    <p>By default, <strong>moosicd</strong> logs almost all of its printed output to a file. When this option is used, the output is instead printed to the standard output device. This also prevents the program from putting itself in the background and detaching from the current terminal.</p>
  </dd>
  <dt>
    <strong>-q</strong>, <strong>--quiet</strong>
  </dt>
  <dd>
    <p>This option suppresses almost all printed output from <strong>moosicd</strong>. Note that, by default, <strong>moosicd</strong> prints this output to a file, not the standard output device.</p>
  </dd>
  <dt>
    <strong>-d</strong>, <strong>--debug</strong>
  </dt>
  <dd>
    <p>This option causes <strong>moosicd</strong> to print lots and lots of messages about what it's doing. These messages are usually quite superfluous and bothersome. Note that unless the <strong>-S</strong> option is used these messages will appear in the log file instead of the standard output device.</p>
  </dd>
  <dt>
    <strong>-c</strong> <em>directory</em>, <strong>--config</strong> <em>directory</em>
  </dt>
  <dd>
    <p>Specifies the directory where moosicd should keep the various files that it uses. The default directory is <em>~/.moosic/</em>. This option is useful only in extraordinary circumstances. If this option is used, any Moosic clients that wish to communicate with <strong>moosicd</strong> must be told to use the specified directory instead of the default.</p>
  </dd>
  <dt>
    <strong>-t</strong> <em>port</em>, <strong>--tcp</strong> <em>port</em>
  </dt>
  <dd>
    <p>This option directs the server to listen to the given \s-1TCP\s0 port number for client requests instead of using the normal communication method.  Use of this option without the <strong>-l</strong> option is <em>highly discouraged</em> unless you know what you are doing because there is no guarantee that <strong>moosicd</strong> is secure against malicious input from a remote location.  Note that an instance of <strong>moosicd</strong> which is started with this option will not accept requests from a client that is using the normal communication method.</p>
  </dd>
  <dt>
    <strong>-T</strong> <em>port</em>, <strong>--tcp-also</strong> <em>port</em>
  </dt>
  <dd>
    <p>This option directs the server to listen to the given \s-1TCP\s0 port number for client requests in addition to using the normal communication method.  Use of this option without the <strong>-l</strong> option is <em>highly discouraged</em> unless you know what you are doing because there is no guarantee that <strong>moosicd</strong> is secure against malicious input from a remote location.</p>
  </dd>
  <dt>
    <strong>-l</strong>, <strong>--local-only</strong>
  </dt>
  <dd>
    <p>This directs the server to only listen for \s-1TCP\s0 connections that originate from the local computer, refusing connections from remote hosts.  This only has an effect when <strong>--tcp</strong> or <strong>--tcp-also</strong> is used.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p><strong>moosicd</strong> figures out how to play items in its queue by consulting its configuration file, which associates string patterns (in the form of Perl-compatible regular expressions) with commands.</p><p>The format of this file is as follows: Every pair of lines forms a unit. The first line in a pair is a regular expression that will be matched against items in the queue. The second line in a pair is the command that will be used to play any items that match the regular expression. The name of the item to be played will be appended to the end of this command, unless the command line includes a special substitution string.</p><p>The simplest kind of substitution string is \*(L"$item\*(R".  Every occurrence of \*(L"$item\*(R" in the command will be replaced with the name of the song to be played. The other kind of substitution is called \*(L"matched group substitution\*(R", and is used to refer to specific parts of the name of the song to be played.</p><p>The command will not be interpreted by a shell, so don't bother trying to use shell variables or globbing or I/O redirection, and be mindful of how you use quotes and parentheses.  If you need any of these fancy features, wrap up the command in a real shell script (and remember to use an \*(L"exec\*(R" statement in your shell script to invoke the program that does the actual song playing, otherwise Moosic won't be able to do things like stop or pause the song).</p><p>Blank lines and lines starting with a '#' character are ignored. Regular expressions specified earlier in this file take precedence over those specified later.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>moosicd</strong> makes use of several files, all of which are found in the <em>.moosic/</em> directory in the home directory of the user who invoked the program (unless the -c or --config option is used).</p>
<dl class='dl-vertical'>
  <dt>
    <em>config</em>
  </dt>
  <dd>
    <p>This is the configuration file that <strong>moosicd</strong> uses to associate file-types to player commands, as explained above.</p>
  </dd>
  <dt>
    <em>server_log</em>
  </dt>
  <dd>
    <p><strong>moosicd</strong> logs short notices of its activities to this file unless the <strong>-S</strong> option is used. It usually contains nothing more than a history of what songs have been played.</p>
  </dd>
  <dt>
    <em>player_log</em>
  </dt>
  <dd>
    <p>This file contains the output of the player commands which are spawned by <strong>moosicd</strong>.</p>
  </dd>
  <dt>
    <em>socket</em>
  </dt>
  <dd>
    <p>This is a socket file which is (normally) used to allow Moosic clients to contact the Moosic server. If <strong>moosicd</strong> isn't shut down properly, this file will need to be removed by hand. You should leave this file alone under other circumstances.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO moosicd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/moosic.1.html"><strong>moosic</strong>(1)</a>, the standard command-line Moosic client.</p><p>The chapter entitled \*(L"Regular Expression Syntax\*(R" http://www.python.org/doc/current/lib/re-syntax.html &lt;http://www.python.org/doc/current/lib/re-syntax.html&gt; from the section dealing with the <strong>re</strong> module in the <em>Python Library Reference</em>, for details on the syntax of a regular expression.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Daniel Pearson &lt;daniel@nanoo.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="moosic.1.html"><span aria-hidden="true">&larr;</span> moosic.1: A command-line client for the moosic jukebox system.</a></li>
   <li class="next"><a href="mopidy.1.html">mopidy.1: Music server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
