<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fwbedit: General purpose object tree editing tool</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="General purpose object tree editing tool">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fwbedit (1) manual">
  <meta name="twitter:description" content="General purpose object tree editing tool">
  <meta name="twitter:image" content="https://www.carta.tech/images/fwbuilder-fwbedit-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/fwbedit.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fwbedit (1) manual" />
  <meta property="og:description" content="General purpose object tree editing tool" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fwbuilder-fwbedit-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fwbedit<small> (1)</small></h1>
        <p class="lead">General purpose object tree editing tool</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fwbedit.1.html">
      <span itemprop="name">fwbedit: General purpose object tree editing tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fwbuilder/">
      <span itemprop="name">fwbuilder</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fwbedit.1.html">
      <span itemprop="name">fwbedit: General purpose object tree editing tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>fwbedit</strong> command [options]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>fwbedit</strong> is a general purpose object tree editing tool for Firewall Builder (see <a href="../man1/fwbuilder.1.html"><strong>fwbuilder</strong>(1)</a>). This tool can be used in the shell scripts written for batch-processing of the Firewall Builder data files. Fwbedit can perform the following operations on the objects and the tree: create new object, delete existing object, modify attributes of an object, add a reference to the given object to a group, remove reference to an object from a group, upgrade data file and check object tree in the file and repair it if necessary. Both object and a group can be defined by their ID or by their name and a full path in the tree (see section <strong>EXAMPLES</strong> below).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS AND OPTIONS:</h2>
        <div class="sectioncontent">
<p><strong>new -f file.fwb -t objtype -n name -p parent [-c comment] [-a attrs]</strong></p><p>Creates new object.</p>
<pre>
    -f file.fwb      data file
    -t objtype       create new object of this type
    -p parent        create new object as a child of this object.
                     This parameter is mandatory. If you are adding an address
                     to an interface, corresponding interface onkect must be
                     specified as the parent. Similarly if you need to add an
                     interface to a host or a firewall, corresponding host or
                     firewall object is the parent. If you are adding an
                     object to one of the standard folders, the parent is the
                     library you want to add the object to or correct full
                     path to the folder in the tree.
    -n name          the name of the new object
    -c txt           specify comment for the new object
    -a attribute1[,attribute2...]  :  specify attributes that
                     define parameters of the new object (see below)
</pre>
<p><strong>delete -f file.fwb -o object</strong></p><p>Deletes object specified by its full path in the tree or object ID.</p>
<pre>
    -f file.fwb      data file
    -o object        object to be deleted, full path or ID
</pre>
<p><strong>modify -f file.fwb -o object -c comment [-a attrs]</strong></p><p>Modifies object specified by its full path in the tree or object ID. Object can not be renamed using this operation.</p>
<pre>
    -f file.fwb      data file
    -o object        object to be deleted, full path or ID
    -c txt           specify comment for the new object
    -a attribute1[,attribute2...]  :  specify attributes that
                     define parameters of the new object (see below)
</pre>
<p><strong>list -f file.fwb -o object [-r|-c] [-d|-Fformat]</strong></p><p>Prints name and ID of an object.</p>
<pre>
    -f file.fwb       data file
    -o object         object to print, full path or ID
    -r                print specified object and all objects under it in the tree
    -c                print only children objects of the given object but do not
                      print the object itself.
    -d                print full dump of all object's attributes including internal
                      debugging information if available, this can be very
                      verbose.
    -Fformat_string   Program recognizes macros in the format string
                      and replaces them with values of corresponding object's
                      attributes. Macro is the name of the attribute surrounded
                      with '%', such as '%name%' or '%address%'. Here is the
                      list of some attribute names: "id", "name", "path",
                      "comment", "type", "address", "netmask", "dnsname". TCP
                      and UDP service objects provide attributes
                      "src_range_start", "src_range_end", "dst_range_start",
                      "dst_range_end" for the source and destination port
                      ranges. ICMP and ICMP6 service objects have attributes
                      "icmp_type" and "icmp_code".
</pre>
<p><strong>add -f file.fwb -g group -o object</strong></p><p>Adds object specified by path or ID to a group, also specified by its path or ID.</p>
<pre>
    -f file.fwb      data file
    -g group         group the object should be added to,
                     full path or ID
    -o object        object to be deleted, full path or ID
</pre>
<p><strong>remove -f file.fwb -g group -o object</strong></p><p>Removes object from a group.</p>
<pre>
    -f file.fwb      data file
    -g group         group the object should be removed from,
                     full path or ID
    -o object        object to be deleted, full path or ID
</pre>
<p><strong>upgrade -f file.fwb</strong></p><p>Upgrades data file to the latest data format version.</p>
<pre>
    -f file.fwb     data file
</pre>
<p><strong>checktree -f file.fwb</strong></p><p>Checks consistency and correctness of the object tree in the given data file and repairs it if necessary.</p>
<pre>
    -f file.fwb     data file
</pre>
<p><strong>merge -f file1.fwb -i file2.fwb</strong></p><p>Objects from the file2.fwb are merged with objects in file1 and combined object tree saved in file1.fwb</p>
<pre>
    -f file.fwb     data file #1
    -i file.fwb     data file #2
</pre>
<p><strong>import -f file1.fwb -i firewall_config.txt -o path_to_firewall_object [-d]</strong></p><p>Firewall configuration from file firewall_config.txt is parsed and imported into data file file1.fwb. The program creates new firewall object located in the library and with the name defined by its path path_to_firewall_object.</p>
<pre>
    -f file.fwb     data file #1
    -i config.txt   firewall configuration file
    -o object_path  full path to the firewall object that will be
                    created. This has to be full path, beginning
                    with the library name, such as
                    "/User/Firewalls/my_new_firewall"
    -d              avoid creating duplicate objects on import
</pre>
<p>currently (as of v4.2.0) fwbuilder supports import of iptables configuration saved with iptables-save command, as well as import of Cisco router IOS configuration, Cisco PIX, ASA and FWSM firewalls saved with "show run" command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ATTRIBUTES FOR THE NEW OBJECTS, BY TYPE</h2>
        <div class="sectioncontent">
<p>-t Firewall -a platform, host OS</p><p>-t IPv4 -a IP address [,netmask]</p><p>-t IPv6 -a IPv6 address [,masklen]</p><p>-t DNSName -a DNS record,run time</p><p>-t AddressRange -a start address, end address</p><p>-t ObjectGroup</p><p>-t Network -a address,netmask</p><p>-t NetworkIPv6 -a ipv6_address,netmask_length</p><p>-t Interval -a start time,start date,start day,end time, end date, end day</p><p>-t Interface -a security level,address type (dynamic or unnumbered),management</p><p>-t Host</p><p>-t TCPService -a source port range start,end,destination port range start,end,UAPRSF,UAPRSF</p><p>-t UDPService -a source port range start,end,Destination port range start,end</p><p>-t ICMPService -a ICMP type,ICMP code</p><p>-t IPService -a protocol number,lsrr/ssrr/rr/ts/fragm/short_fragm</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Print contents of the object /User/Firewalls/firewall/eth0 according to the provided format. Note that object of the type "Interface" does not have attribute that would define its address, IP address is defined by its child object of the type IPv4 or IPv6.</p><p>fwbedit list -f x.fwb  -o /User/Firewalls/firewall/eth0 -F "type=%type% name=%name% id=%id% %comment%"</p><p>Print contents of the object /User/Firewalls/firewall/eth0 and all its child objects. This is the way to see addresses and netmasks. Interface object does not have attribiute "address" so the program ignores macro "%address%" when it prints interface.</p><p>fwbedit list -f x.fwb  -o /User/Firewalls/firewall/eth0 -F "type=%type% name=%name% id=%id% %comment% %address%" -r</p><p>Print group object /User/Objects/Addresses</p><p>fwbedit list -f x.fwb  -o /User/Objects/Addresses -F "type=%type% name=%name% id=%id% %comment%"</p><p>Print group object /User/Objects/Addresses and all address objects inside of it:</p><p>fwbedit list -f x.fwb  -o /User/Objects/Addresses -F "type=%type% name=%name% id=%id% %comment%" -r</p><p>Print address objects inside group /User/Objects/Addresses but do not print the group object itself:</p><p>fwbedit list -f x.fwb  -o /User/Objects/Addresses -F "type=%type% name=%name% id=%id% %comment%" -c</p><p>Print addresses and netmasks of all interfaces of all firewalls in the form of their full object tree path, followed by the type, id, address and netmask:</p><p>fwbedit list -f x.fwb  -o /User/Firewalls -F "%path% %type% %id% %address% %netmask%" -r | grep IP</p><p>Print names, platform and version information for all firewall objects defined in the data file:</p><p>fwbedit list -f x.fwb  -o /User/Firewalls -F "%name% platform: %platform% version:  %version%" -c</p><p>Print name, source and destination port ranges for all TCP services in the folder TCP of the user-defined group User:</p><p>fwbedit list -f x.fwb  -o /User/Services/TCP -c -F "name='%name%' est=%established% \t %src_range_start%-%src_range_end% : %dst_range_start%-%dst_range_end%"</p><p>Print icmp type and code for all ICMP services in the folder ICMP of the user-defined group User:</p><p>fwbedit list -f x.fwb  -o /User/Services/ICMP -c -F "name='%name%' icmp_type=%icmp_type% icmp_code=%icmp_code%"</p><p>Add IPv6 address to one of the interfaces of firewall object "firewall":</p><p>fwbedit new  -f x.fwb -p /User/Firewalls/firewall/eth3 -t IPv6 -n eth3-v6-addr -a 2001:470:1f05:590::2,64</p><p>Add reference to the Host object 'A' to the group 'B':</p><p>fwbedit add -f x.fwb -g /User/Objects/Groups/B -o /User/Objects/Hosts/A</p><p>Add reference to the object with ID id3D71A1BA to the group with ID id3D151943. If objects with given IDs do not exist, fwbedit prints an error message and does not make any changes in the data file.</p><p>fwbedit add -f x.fwb -o id3D71A1BA -g id3D151943</p><p>Add reference to the object with ID id3D71A1BA to the group 'testgroup':</p><p>fwbedit add -f x.fwb -o id3D71A1BA -g /User/Objects/Groups/testgroup</p><p>The following script uses fwbedit "list" command to print IDs of all Address objects in the folder /User/Objects/Addresses , then cycles through the obtained list and uses fwbedit to add them to the group "group1".</p>
<pre>
  fwbedit list -f x.fwb -o /User/Objects/Addresses -F "%id%" -c  | &#92;
    while read id; do &#92;
      fwbedit add -f x.fwb -g /User/Objects/Groups/group1 -o $id; &#92;
    done
</pre>
<p>Here is slightly more complex example. The following script uses fwbedit "list" command to print types and IDs of all Address objects in the folder /User/Objects/Addresses , then filters them using grep to get only IPv6 objects and finally cycles through the obtained list and uses fwbedit to add them to the group "group1".</p>
<pre>
  fwbedit list -f x.fwb  -o /User/Objects/Addresses -F "%type% %id%" -c | &#92;
    grep IPv6 | &#92;
    while read type id; do &#92;
      fwbedit add -f x.fwb  -g /User/Objects/Groups/group1 -o $id; &#92;
    done
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">URL</h2>
        <div class="sectioncontent">
<p>Firewall Builder home page is located at the following URL: <strong>http://www.fwbuilder.org/</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report bugs using bug tracking system on SourceForge:</p><p><strong>http://sourceforge.net/tracker/?group_id=5314&atid=105314</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO fwbedit&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/fwbuilder.1.html"><strong>fwbuilder</strong>(1)</a>,</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fwb_pix.1.html"><span aria-hidden="true">&larr;</span> fwb_pix.1: Policy compiler for cisco pix</a></li>
   <li class="next"><a href="fwbuilder.1.html">fwbuilder.1: Multiplatform firewall configuration tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
