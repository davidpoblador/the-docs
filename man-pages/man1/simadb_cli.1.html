<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>simadb_cli: Simadb_cli is a command line interface editor for the sima user db.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Simadb_cli is a command line interface editor for the sima user db.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="simadb_cli (1) manual">
  <meta name="twitter:description" content="Simadb_cli is a command line interface editor for the sima user db.">
  <meta name="twitter:image" content="https://www.carta.tech/images/mpd-sima-simadb_cli-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/simadb_cli.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="simadb_cli (1) manual" />
  <meta property="og:description" content="Simadb_cli is a command line interface editor for the sima user db." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mpd-sima-simadb_cli-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">simadb_cli<small> (1)</small></h1>
        <p class="lead">Simadb_cli is a command line interface editor for the sima user db.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/simadb_cli.1.html">
      <span itemprop="name">simadb_cli: Simadb_cli is a command line interface editor for the sima user db.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mpd-sima/">
      <span itemprop="name">mpd-sima</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/simadb_cli.1.html">
      <span itemprop="name">simadb_cli: Simadb_cli is a command line interface editor for the sima user db.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>simadb_cli</strong> <strong>--add_similarity=</strong><em>similarity_string</em> [<strong>--check_names</strong>] [<strong>--dbfile=</strong><em>db_file</em>] [<strong>--reciprocal</strong>] [<strong>--host=</strong><em>mpd_host</em>] [<strong>--port=</strong><em>mpd_port</em>] <strong>simadb_cli</strong> <strong>--remove_artist=</strong><em>artist</em> [<strong>--dbfile=</strong><em>db_file</em>] [<strong>--reciprocal</strong>] <strong>simadb_cli</strong> <strong>--remove_similarity=</strong><em>"main&nbsp;artist,similar&nbsp;artist"</em> [<strong>--dbfile=</strong><em>db_file</em>] [<strong>--reciprocal</strong>] <strong>simadb_cli</strong> <strong>--purge_hist</strong> [<strong>--dbfile=</strong><em>db_file</em>] <strong>simadb_cli</strong> <strong>--view_artist=</strong><strong></strong><em>"artist&nbsp;name"</em> [<strong>--dbfile=</strong><em>db_file</em>] <strong>simadb_cli</strong> <strong>--view_all</strong> [<strong>--dbfile=</strong><em>db_file</em>] <strong>simadb_cli</strong> {<strong>--bl_curr_trk</strong> | <strong>--bl_curr_art</strong> | <strong>--bl_curr_alb</strong> | <strong>--bl_art=</strong><em>artist_name</em>} [<strong>--dbfile=</strong><em>db_file</em>] [<strong>--host=</strong><em>mpd_host</em>] [<strong>--port=</strong><em>mpd_port</em>] <strong>simadb_cli</strong> <strong>--remove_bl=</strong><em>row_id</em> [<strong>--dbfile=</strong><em>db_file</em>] <strong>simadb_cli</strong> <strong>--view_bl</strong> [<strong>--dbfile=</strong><em>db_file</em>] <strong>simadb_cli</strong> {{<strong>-h</strong>&nbsp;|&nbsp;<strong>--help</strong>} | <strong>--version</strong>}</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents briefly the <strong>simadb_cli</strong> commands.</p><p>simadb_cli is a command line interface to get and edit users similarities and blacklist database used with MPD_sima. The default database file (see the section called &ldquo;FILES&rdquo;) can be overridden if you want.</p><p>Consider reading the section called &ldquo;A WORD ABOUT SIMA DATA BASE&rdquo; to understand the structure and relation of similarities within the database.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<h3>Similarity edition</h3>
<p>Here follows some simple examples on how to deal with similarity database.</p><p>Pay attention, the following examples set one-way similarities in the DB! Read more about it in the section called &ldquo;A WORD ABOUT SIMA DATA BASE&rdquo;.</p><p><em>Adding a similarity between two artists.</em> In the following example "Pelican" will point to "Russian Circles" with a match score of 88% (ie. "Russian Circles" 88% similar to Pelican, not reciprocal), it will also check against MPD the presence of both artists in the music library.</p><p><strong>simadb_cli --add "Pelican,Russian Circles:80" --check_names</strong></p><p>Similarity string use comma "," as artists separator and semi colon ":" for artist/similarity score separator, cf. the section called &ldquo;SIMILARITY FORMAT&rdquo;.</p><p><em>Adding a similarity between multiple artists.</em> In the following example "Rage Against The Machine" will point to "Tool" and "Audioslave" as similar artists and controls artists names are actually in MPD music library.</p><p><strong>simadb_cli --add "Rage Against The Machine,Tool:70,Audiosalve:80" --check_names</strong></p><p><em>Viewing similarit(y|ies) for an artist.</em> In the following example we are looking for entries for "Rage Against The Machine"</p><p><strong>simadb_cli --view_artist "Rage Against The Machine"</strong></p>
<h3>Black list edition</h3>
<p><em>Adding to black list.</em> You can add a single track, an album or an artist to the black list. The element to black list is chosen from the currently playing track. Use <strong>--bl_curr_trk</strong> to prevent simadb_cli to queue this track, <strong>--bl_curr_alb</strong> or <strong>--bl_curr_art</strong> respectively for the album and the artist.</p><p>Remember you need access to your MPD server to retrieve information to black list. Defaults are localhost:6600 or found in environment variables but you may set it up from command line:</p><p><strong>simadb_cli --bl_curr_art -S mympd.example.org</strong></p><p><em>To black list a specific artist</em> (not currently playing) you can use <strong>--bl_ar="Artist name to black list"</strong>.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The program follows the usual GNU command line syntax, with long options starting with two dashes ("-"). A summary of options is included below.</p><p><strong>-h</strong>, <strong>--help</strong></p><p>Print help and exit.</p><p><strong>--version</strong></p><p>Print version and exit.</p><p><strong>-a </strong><strong></strong><em>similarity_string</em>, <strong>--add_similarity=</strong><strong></strong><em>similarity_string</em></p><p>Add similarity to the database.</p><p>For more details about the <em>similarity_string</em> see the section called &ldquo;SIMILARITY FORMAT&rdquo;.</p><p><strong>-c</strong>, <strong>--check_names</strong></p><p>Use with <strong>--add_similarity</strong> in order to check artists names used in <em>similarity_string</em>. simadb_cli will control presence of artists names in MPD library. Default is to look for MPD server on localhost:6600 or environment variables <strong>MPD_HOST</strong> and <strong>MPD_PORT</strong> if set.</p><p>You can as well give simadb_cli host/port on the command line using respectively <strong>-S</strong> and <strong>-P</strong>.</p><p><strong>--bl_art=</strong><strong></strong><em>artist_name</em></p><p>Use to black list <em>artist_name</em>. simadb_cli is checking <em>artist_name</em> is actually in MPD music library (cf <strong>-S</strong> and <strong>-P</strong> options to set MPD host/address if necessary).</p><p>If <em>artist_name</em> is not found the script print out a list of matching artists.</p><p><strong>--bl_curr_trk</strong> | <strong>--bl_curr_art</strong> | <strong>--bl_curr_alb</strong></p><p>Use to black list the currently playing track|artist|album. You need access to your MPD server, use <strong>-S</strong> and <strong>-P</strong> to set MPD host/address if necessary.</p><p><strong>-d </strong><strong></strong><em>db_file</em>, <strong>--dbfile=</strong><strong></strong><em>db_file</em></p><p>Use the specific file <em>db_file</em> as database.</p><p>Default is too use <strong>XDG_DATA_HOME</strong> (see the section called &ldquo;FILES&rdquo;).</p><p><strong>--purge_hist</strong></p><p>Purge history, you may supply an alternative DB file with --dbfile option.</p><p><strong>-r</strong>, <strong>--reciprocal</strong></p><p>Use with an editing options in order to edit reciprocal similarity as well. <strong>--add_similarity</strong> and <strong>--remove_{artist|similarity}</strong> are supporting reciprocal edition.</p><p><em>N.B</em>: this option has to appear after the editing option on the command line.</p><p>See the section called &ldquo;A WORD ABOUT SIMA DATA BASE&rdquo; for further information about reciprocity notion.</p><p><strong>--remove_artist=</strong><strong></strong><em>artist</em></p><p>Use to remove an artist entry (as main artist) with its associated similarities. To remove artist where it appears as a similar artist use the <strong>--reciprocal</strong> option.</p><p><strong>--remove_bl=</strong><strong></strong><em>row_id</em></p><p>Use to remove a black list entry. To get the row_id to suppress use <strong>--view_bl</strong> option.</p><p><strong>--remove_similarity=</strong><strong></strong><em>"main artist,similar artist"</em></p><p>Use to remove a single similarity between a main artist and an associated similarity. Give the main artist first, use comma (",") to separate it from similar artist.</p><p>Use of <strong>--reciprocal</strong> is possible here, see the section called &ldquo;A WORD ABOUT SIMA DATA BASE&rdquo;.</p><p>This option is useful in case you want to remove only a specific similarity between two artists, to remove completely an artist use <strong>--remove_artist</strong> instead.</p><p><strong>-v </strong><strong></strong><em>"artist name"</em>, <strong>--view_artist=</strong><strong></strong><em>"artist name"</em></p><p>Get entries for <em>"artist name"</em> in the data base (print to stdout).</p><p><strong>--view_bl</strong></p><p>Get all entries in the black list.</p><p><strong>--view_all</strong></p><p>Get all entries in the data base (print to stdout).</p><p><strong>-P </strong><strong></strong><em>mpd_port</em>, <strong>--port=</strong><strong></strong><em>mpd_port</em></p><p>Use the specific port number <em>mpd_port</em> on MPD server. This overrides <strong>MPD_PORT</strong> environment variable.</p><p>Default is <em>6600</em>.</p><p><strong>-S </strong><strong></strong><em>mpd_host</em>, <strong>--host=</strong><strong></strong><em>mpd_host</em></p><p>Use the specific host <em>mpd_host</em> as MPD server.</p><p><em>mpd_host</em> can be an IP or a fully qualified domain name as long as your system can resolve it. This overrides <strong>MPD_HOST</strong> environment variable.</p><p>Default is <em>localhost</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>${XDG_DATA_HOME}/mpd_sima/sima.db</p><p>SQLite DB file. Usually <strong>XDG_DATA_HOME</strong> is set to ${HOME}/.local/share.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIMILARITY FORMAT</h2>
        <div class="sectioncontent">
<p>The <em>similarity_string</em> has to be formatted following a special pattern in order for simadb_cli to extract similarity relations between artists names. Usually a similarity entry is defined as a main artist, lets say <em>main_art</em>, followed by a list of similar artists which you want to be related to that <em>main_art</em>, each artist of that list with a specific similarity value, a match score, quantifying the similarity relation with the <em>main_art</em>. The match score value is an integer in [0 ,100] with 100 corresponding to a perfect match.</p><p><em>similarity_string</em> is then to be formatted as follow:</p><p><strong>main_art,first artist:&lt;score&gt;,second artist:&lt;score&gt;</strong></p><p>Each artist group are separated with commas (",") and inside each group the artist name and the match score is colon (":") separated. Obviously the first artist group, as the main artist, does not have a match score.</p><p>Lets see how it works with an example. I consider "Led Zeppelin" to be similar to "Tool" with a match score of 25, I also want to have "Audioslave" related to "Led Zeppelin" with a score of 20. Then the <em>similarity_string</em> will be the following:</p><p><strong>Led Zeppelin,Tool:25,Audiosalve:20</strong></p><p>See the section called &ldquo;A WORD ABOUT SIMA DATA BASE&rdquo; for more details about how similarities are handled</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">A WORD ABOUT SIMA DATA BASE</h2>
        <div class="sectioncontent">
<p>The similarity database is defined from the point of view of a <em>main artist</em> which is declared related to a list of <em>similar artists</em>. That means when you define <em>main_art</em> to be similar to <em>sim_art A</em> and <em>sim_art B</em> the reciprocal won&apos;t be true, <em>sim_art A</em> and <em>sim_art B</em> are not similar to <em>main_art</em>. At least this is the default behavior when you edit entries with simadb_cli, this is also the way last.fm is working concerning similar artists. This documentation is using that particular terminology to specify which kind of artist we are dealing with : "main artist" or "similar artist".</p><p>The <strong>--reciprocal</strong> option allows one to add reciprocal relation where <em>sim_art A</em> and <em>sim_art B</em> become respectively the <em>main_art</em>. Using <strong>--reciprocal</strong> you will then edit two more entries in the database. To summarize here is what you&apos;ll end up with in your data base adding similarity with this string <strong>main_art,sim_art A:34,sim_art B:45</strong>.</p><p><strong>simadb_cli --reciprocal --add_similarity=main_art,sim_art A:34,sim_art B:45</strong></p><p>main_art similar to sim_art A:34 and sim_art B:45</p><p>sim_art A similar to main_art:34</p><p>sim_art B similar to main_art:45</p><p>Without the reciprocal option you would have add only the first similarity. Usually using the reciprocal option is the desired behavior, at least what users have in mind when thinking of similarity relation between to artists but keep in mind that it may lead to have MPD_sima more sensible to loop over the same two artist (ASSERTION TO BE CONFIRMED).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The upstream BTS can be found at \m[blue]<strong>http://codingteam.net/project/sima/bugs</strong>\m[].</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FEEDBACK</h2>
        <div class="sectioncontent">
<p>The maintainer would be more than happy to ear from you, don&apos;t hesitate to send feedback on the forge, via the upstream BTS, the forum or the chat room, all available on the forge at \m[blue]<strong>http://codingteam.net/project/sima</strong>\m[].</p><p>XMPP users are welcome to join the dedicated chat room at \m[blue]<strong>sima@conference.codingteam.net</strong>\m[].</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO simadb_cli&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/mpc.1.html"><strong>mpc</strong>(1)</a>, <a href="../man1/mpd.1.html"><strong>mpd</strong>(1)</a></p><p>/usr/share/doc/mpd-sima/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Jack Kaliko</strong> &lt;efrim@azylum.org&gt;</p><p>Wrote this man page and is currently leading MPD_sima project.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2009-2012 Jack Kaliko</p><p>This manual page was written for the Debian system (and may be used by others).</p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU General Public License, Version 3 published by the Free Software Foundation.</p><p>On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common-licenses/GPL.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sim_text.1.html"><span aria-hidden="true">&larr;</span> sim_text.1: Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files</a></li>
   <li class="next"><a href="simage-config.1.html">simage-config.1: Display simage library configuration <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
