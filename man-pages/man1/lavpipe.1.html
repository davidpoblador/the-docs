<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lavpipe: Creates raw yuv streams from pipe list scripts</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Creates raw yuv streams from pipe list scripts">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lavpipe (1) manual">
  <meta name="twitter:description" content="Creates raw yuv streams from pipe list scripts">
  <meta name="twitter:image" content="https://www.carta.tech/images/mjpegtools-lavpipe-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lavpipe.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lavpipe (1) manual" />
  <meta property="og:description" content="Creates raw yuv streams from pipe list scripts" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mjpegtools-lavpipe-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lavpipe<small> (1)</small></h1>
        <p class="lead">Creates raw yuv streams from pipe list scripts</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lavpipe.1.html">
      <span itemprop="name">lavpipe: Creates raw yuv streams from pipe list scripts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mjpegtools/">
      <span itemprop="name">mjpegtools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lavpipe.1.html">
      <span itemprop="name">lavpipe: Creates raw yuv streams from pipe list scripts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lavpipe</strong> [<strong>-o</strong> <em>num</em>] [<strong>-n</strong> <em>num</em>] <em>pipe-list</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>lavpipe reads a script file called 'pipe list' that is of a similar structure as the edit lists that can be fed into lav2yuv.  For info about the pipe list format see below.</p><p>The pipe list defines several video sources and filters that are combined by lavpipe to produce a single output YUV stream on stdout (which for example can be compressed and stored to disk via <a href="../man1/mpeg2enc.1.html"><strong>mpeg2enc</strong>(1)</a> or <a href="../man1/yuv2lav.1.html"><strong>yuv2lav</strong>(1)</a>).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The command line options are used to output a specific part of the resulting video stream.  That means you can tell lavpipe how many frames to skip and how many frames to deliver from that point on.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-o </strong><em>num</em></p>
  </dt>
  <dd>
    <p>This is the frame offset of the output video. The first <em>num</em> frames of the resulting video simply are neither calculated nor written to stdout. This value defaults to 0.</p>
  </dd>
  <dt>
    <p><strong>-n </strong><em>num</em></p>
  </dt>
  <dd>
    <p>This is the frame count. If the input files or streams defined in the pipe list script are long enough, the output will be of exactly <em>num</em> frames length. A value of 0 means that all frames until the last one as defined in the pipe list will be written out, as long as there's some input (0 is the default).</p>
  </dd>
  <dt>
    <p><em>pipe-list</em></p>
  </dt>
  <dd>
    <p>This is name of the pipe list file that lavpipe will 'execute'. For information about this file's format see below.</p>
  </dd>
  <dt>
    <p><strong>-?</strong></p>
  </dt>
  <dd>
    <p>Display a synopsis of the command syntax.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>lavpipe -o 100 -n 25 film.pli</p>
  </dt>
  <dd>
    <p>would calculate and output to stdout frames 100 to 124 as defined in film.pli (in PAL this would be the 5th second of the film).</p>
  </dd>
  <dt>
    <p>lavpipe input.pli | yuv2lav -q80 output.avi</p>
  </dt>
  <dd>
    <p>would save the movie assembled by lavpipe as a single AVI file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>In this section the format of lavpipe's input files the pipe list scripts is explained. If you need some examples or a more detailed tutorial, please read the <strong>mjpegtools</strong>(1) manpage's section about <strong>CREATING MOVIE TRANSITIONS</strong>. and the file <em>README.lavpipe</em> that should be included in the distribution. Also feel free to contact us via the mailing list (see below).</p><p>A pipe list contains of two parts: the YUV <strong>source list</strong> and after this, as many <strong>sequence descriptions</strong> as wanted. It always begins with the following two lines:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>LAV Pipe List</strong></p>
  </dt>
  <dd>
    <p>This is the first line in every pipe list script. It is used as a simple test if lavpipe really was given a pipe list script and not your PhD thesis as input.</p>
  </dd>
  <dt>
    <p><strong>NTSC</strong>|<strong>PAL</strong></p>
  </dt>
  <dd>
    <p>This is the second line in every pipe list and can be either PAL or NTSC, depending on what video standard you use. I don't remember if this is used at the moment.</p>
  </dd>

</dl>
<p>Now follows the <strong>source list</strong>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>num</em></p>
  </dt>
  <dd>
    <p>This is the number of input commands. lavpipe will read the next <em>num</em> lines and interpret them as input stream commands.</p>
  </dd>
  <dt>
    <p><em>command</em><em>(</em>num<em></em>times)</p>
  </dt>
  <dd>
    <p>This is a valid command line with two variables $o and $n that will be replaced by lavpipe with the offset and number of frames that the program has to output. Example:</p><p><strong>lav2yuv -o $o -f $n input.avi</strong></p>
  </dd>

</dl>
<p>Thus, an example <strong>source list</strong> could look like this:</p><p><strong>2</strong></p><p><strong>lav2yuv -o $o -f $n scene1.avi</strong></p><p><strong>lav2yuv -o $o -f $n scene2.avi</strong></p><p>after this you can append as many <strong>sequence descriptions</strong> as needed. Each of them is built up as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>num</em></p>
  </dt>
  <dd>
    <p>The number of frames that this sequence will last.</p>
  </dd>
  <dt>
    <p><em>num</em></p>
  </dt>
  <dd>
    <p>The number of inputs that will be used in this sequence. This number must of course be less than or equal to the number of inputs that are defined above.</p>
  </dd>
  <dt>
    <p><em>idx</em> [<em>ofs</em>] (<em>num</em> times)</p>
  </dt>
  <dd>
    <p>These are the indices to the sources that are defined at the beginning of the file (first source is 0) with an optional frame offset (i.e. sequence starts with frame number <em>ofs</em> of this input.) - this value defaults to 0. Example:</p><p><strong>0 150</strong></p>
  </dd>
  <dt>
    <p><em>command</em></p>
  </dt>
  <dd>
    <p>This is a valid command line to a YUV filter tool that reads <em>num</em> input streams and writes one output stream, combining its inputs. Optionally, the filter tool can be given the two $o and $n variables that will be replaced by lavpipe as in the source commands (see above). For further info read <em>README.lavpipe</em> or the documentation for the filter programs (if available). An example filter could look like this:</p><p><strong>transist.flt -o 0 -O 255 -s $o -n $n -d 50</strong></p><p>And if the sequence only has one input that simply should be copied to the output, you can use a dash instead of a command line:</p><p><strong>-</strong></p>
  </dd>

</dl>
<p>And here's an example for a complete pipe list that implements a transistion from scene1.avi to scene2.avi</p><p><strong>REMOVE THE COMMENTS AFTER The #</strong></p><p><strong>LAV Pipe List</strong></p><p><strong>PAL</strong></p><p><strong>2</strong></p><p><strong>lav2yuv -o $o -f $n scene1.avi</strong></p><p><strong>lav2yuv -o $o -f $n scene2.avi</strong></p><p><strong>50</strong>            # first sequence: 50 frames</p><p><strong>1</strong>             #   contains one input:</p><p><strong>0 0</strong>           #     scene1.avi, offset 0</p><p><strong>-</strong>             #   simple output</p><p><strong>25</strong>            # second sequence: 25 frames</p><p><strong>2</strong>             #   contains two inputs:</p><p><strong>0 50</strong>          #     scene1.avi, offset 50</p><p><strong>1</strong>             #     scene2.avi, offset 0</p><p><strong>transist.flt -o 0 -O 255 -s $o -n $n -d 50</strong> # transistion</p><p><strong>50</strong>            # third sequence: 50 frames</p><p><strong>1</strong>             #   contains one input:</p><p><strong>1 25</strong>          #     scene2.avi, offset 25</p><p><strong>-</strong>             #   simple output</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>I'm sure there are enough of them. lavpipe often accepts malformed pipe lists and then writes out a video that was all but intended - without warning.</p><p><strong>The mention of $n above is wrong. At one time there were two parameters but now a program is allowed to produce as many frames as it wants. THe author of the program hard coded, for reasons unknown, $n to be 0.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>There are also some serious limitations in the system, such as frame-by-frame processing. But as the goal when writing lavpipe was the simplicity of the pipeline, other tools will have to be written to do more interesting tasks.</p><p>But I want to note that it is very well possible to write a pipe list that combines several files, and then use that pipe list as an input for another pipe list by simply using the lavpipe command in the source list (see above) - this can be already used to do some nice things, if you have some nice filters.</p><p><strong>Comments are NOT allowed in pipelist files. The comments (text after #) above are for illustration only.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This man page was written by Philipp Zabel.</p><p>If you have questions, remarks, problems or you just want to contact the developers, the main mailing list for the MJPEG-tools is:</p>
<pre>
  <em>mjpeg-users@lists.sourceforge.net</em>
</pre>

<dl class='dl-vertical'>
  <dt>
    <p>For more info, see our website at</p>
  </dt>
  <dd>
    <p><em>http://mjpeg.sourceforge.net</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lavpipe&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/lav2yuv.1.html"><strong>lav2yuv</strong>(1)</a>, <a href="../man1/lavplay.1.html"><strong>lavplay</strong>(1)</a>, <a href="../man1/lavrec.1.html"><strong>lavrec</strong>(1)</a>, <a href="../man1/mpeg2enc.1.html"><strong>mpeg2enc</strong>(1)</a>, <a href="../man1/yuv2lav.1.html"><strong>yuv2lav</strong>(1)</a>, <a href="../man1/yuvscaler.1.html"><strong>yuvscaler</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lava-tool.1.html"><span aria-hidden="true">&larr;</span> lava-tool.1: Lava tool command line support</a></li>
   <li class="next"><a href="lavplay.1.html">lavplay.1: Playback and edit mjpeg video <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
