<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mlv-smile: Inference of structured signals in multiple sequences</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Inference of structured signals in multiple sequences">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mlv-smile (1) manual">
  <meta name="twitter:description" content="Inference of structured signals in multiple sequences">
  <meta name="twitter:image" content="https://www.carta.tech/images/mlv-smile-mlv-smile-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mlv-smile.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mlv-smile (1) manual" />
  <meta property="og:description" content="Inference of structured signals in multiple sequences" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mlv-smile-mlv-smile-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mlv-smile<small> (1)</small></h1>
        <p class="lead">Inference of structured signals in multiple sequences</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mlv-smile.1.html">
      <span itemprop="name">mlv-smile: Inference of structured signals in multiple sequences</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mlv-smile/">
      <span itemprop="name">mlv-smile</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mlv-smile.1.html">
      <span itemprop="name">mlv-smile: Inference of structured signals in multiple sequences</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mlv-smile &lt;parameter_file&gt;</strong></p><p><strong>mlv-smile [-g number]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents briefly the <strong>mlv-smile</strong> command. For more details and example, you should have a look to the <em>documentation</em> files installed with it.</p><p><strong>mlv-smile</strong> is a program that was primarily made to extract promoter sequences from DNA sequences. The interest of this program is to infer simultaneously several motifs (called boxes) that respects distance constraints. The user has to write in a <em>parameter_file</em> the list of criteria that he wants the signal to respect. In a first step of extraction, all signals respecting these criteria are found. In a second step, they are all statistically evaluated, aiming to detect the ones that are exceptionally represented in the original sequences. Since the 1.4 version <strong>mlv-smile</strong> allows one to extract such signals on any alphabet in any kind of sequences.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The program usually waits for a parameter file that contains all the criteria needed. The only option is:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-g number</strong></p>
  </dt>
  <dd>
    <p>produces on the standard output a generic parameter file to extract <strong>number</strong> boxes signals.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOW TO</h2>
        <div class="sectioncontent">
<h3>How to use mlv-smile?</h3>
<p>The only command you'll use is 'mlv-smile'. You have to give it just one parameter, which is the name of a parameters file which should contain the characteristics of the motifs you want to extract.</p>
<h3>How to start?</h3>
<p>You first have to write an alphabet file, which contains the alphabet used to describe the motifs. Then you have to write a parameter file, and you're ready to use mlv-smile.</p>
<h3>What should I write in the alphabet file?</h3>
<p>The first line should contain the type of the alphabet's elements, to choose between "Nucleotides", "Proteins", or "Others". This is to allow mlv-smile to change, for instance, the "A or G" symbol into an R in DNA sequences. Then, on each line, you have to write the elements of the motifs's alphabet.</p><p><em>Example:</em> if you want to extract simple motifs (A,C,G,T) from clean DNA sequences written with a four letters alphabet (A,C,G,T), then you may write an alphabet file containing:</p>
<pre>
    Type:Nucleotides
    A
    C
    G
    T
</pre>
<p>Let's call this file 'alpha'.</p>
<h3>How to write a simple parameter file?</h3>
<p>You have to first write an alphabet file. You also need a sequence file, at the FASTA format. Then, you can create a parameter file, using the "mlv-smile -g number_of_boxes" command to help you.</p><p><em>Example:</em> Let's write a parameter file to extract simple motifs. If you don't already have one, let's first create a small DNA file in FASTA format, containing several sequences:</p>
<pre>
    &gt; Seq A
    AGGCTAGTCAGGGCATGCGATCAGCAGGCATCAGGCGAGCATCGACAGCA
    &gt; Seq B
    GGAGAGCGCAGAGCGAGCATCATCATGCAGCATCAGAGATCTTTCT
</pre>
<p>Let's call this file 'seq'.</p><p>Our purpose is now to extract from these sequences all motifs of length 13 that appears at least one time in 100% of the sequences, allowing one substitution. We may write the following parameter file (helped with the 'mlv-smile -g 1' command):</p>
<pre>
    FASTA file          seq     // previously created
    Output file         results

    Alphabet file       alpha   //previously created
    Quorum              100
    Total min length    13
    Total max length    13
    Total substitutions 1
    Boxes               1
</pre>
<p>Let's call this file 'param'.</p>
<h3>How to extract a simple motif?</h3>
<p>You can launch  "mlv-smile" after having created the alphabet and parameter files.</p><p><em>Example:</em> With the previous alphabet, sequences and parameter files, you can now launch mlv-smile: "mlv-smile param". You will obtain the following motifs in the "results" file:</p>
<pre>
    GCGAGCATCAACA 2120210310010 2
    Seq     1   Pos    12
    Seq     0   Pos    34
    2
    GCGAGCATCGTCA 2120210312310 2
    Seq     1   Pos    12
    Seq     0   Pos    34
    2
</pre>
<p>The first motif found, GCGAGCATCAACA, appears at position 12 in the second sequence and position 34 in the first one (all positions or sequences counts starts at zero).</p>
<h3>How to evaluate the significance of the motifs found?</h3>
<p>You have to add some evaluation lines at the end of the parameter file.</p><p><em>Example:</em> At the bottom of the previous "param" parameter file, you can add:</p>
<pre>
    Shufflings  100
    Size k-mer  2
</pre>
<p>which means that the original sequences will be shuffled 100 times, conserving dinucleotides. The significance of the motifs found previously will be computed from their frequency of apparition in the shuffled sequences. The more number of shuffling you do, the more stable are the results, but it's longer to compute.</p><p>For this example, you may find such results (in the "results.shuffle"):</p>
<pre>
    STATISTICS ON THE NUMBER OF SEQUENCES HAVING AT LEAST ONE OCCURRENCE
    Model          %right  #right %shfl. #shfl. Sigma Chi2 Z-score
    ==============================================================
    GCGAGCATCGTCA  100.00%    2   0.50%   0.01  0.10  3.96   19.90
    GCGAGCATCAACA  100.00%    2   1.00%   0.02  0.14  3.92   14.07

    STATISTICS ON THE TOTAL NUMBER OF OCCURRENCES
    Model            #right  #shfl. Sigma   Chi2    Z-score
    =======================================================
    GCGAGCATCGTCA        2   0.01   0.10    1.99    19.90
    GCGAGCATCAACA        2   0.02   0.14    1.96    14.07
</pre>
<p>The first block of results shows the statistics on the number of sequences having at least one occurrence. You can read, for each motif found, the frequency of apparition in the original and shuffled sequences, and two statistical scores (Chi2 and Z-score) deduced. Motifs are sorted according to the highest Z-scores. A high Z-score means that the motif appears in a surprising way in the original sequences.</p>
<h3>How to extract structured motifs?</h3>
<p>The parameter file should be modified to indicate the characteristics of the structured motifs to infer. You have to write global parameters for the whole motif, and local parameters for each box of it.</p><p><em>Example:</em> Let's extract from the previous "seq" sequences structured motifs composed of 2 boxes of length 5 to 6, but the whole motif must have a length 11. The two boxes may be separated by 10 to 15 nucleotides. You allow at most one substitution in each box, and at least one occurrence of a motif must appear in 100% of the sequences, you may write the following parameter file:</p>
<pre>
    FASTA file          seq
    Output file         results

    Alphabet file       alpha
    Quorum              100
    Total min length    11
    Total max length    11
    Total substitutions 2
    Boxes               2

    BOX 1 ================
    Min length          5
    Max length          6
    Substitutions       1
    Min spacer length   10
    Max spacer length   15

    BOX 2 ================
    Min length          5
    Max length          6
    Substitutions       1
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETER FILE CRITERIA</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>FASTA File &lt;filename&gt;</strong></p>
  </dt>
  <dd>
    <p>The name of the file which contains the sequences to use for inference. These sequences must be at the FASTA format. This file must contain at least two sequences, as you cannot detect motifs which are common to several sequences in one sequence!</p>
  </dd>
  <dt>
    <p><strong>Output file &lt;filename&gt;</strong></p>
  </dt>
  <dd>
    <p>The name of the file where results of extraction will be written.</p>
  </dd>
  <dt>
    <p><strong>Alphabet file &lt;filemane&gt;</strong></p>
  </dt>
  <dd>
    <p>The name of the file where you have to tell mlv-smile on which alphabet it will infer motifs. The first line of this file contains "Type:" followed by the type of symbols you use, to choose between "Nucleotides", "Proteins" or "Others". Then, on each line of the file, must be written the symbols of the sequence that may be matched by a symbol of a motif. A line containing "ANR" means that there is a symbol in the motif's alphabet which matches A, N or R in the sequences. If Type is defined with Nucleotides, mlv-smile will change this ANR symbol into an A to make it more readable. These associations will be printed at the beginning of the execution.</p>
  </dd>
  <dt>
    <p><strong>Quorum &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>The percentage of sequences where at least one occurrence of a motif must appear to make it valid. 100 means that a motif must have occurrences in every sequences.</p>
  </dd>
  <dt>
    <p><strong>Total min length &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>The minimal length of the whole motif, i.e. the sum of minimal lengths of each box. Warning: the length of the gaps between boxes mustn't me taken into account. The total minimal length may differ of the sum of boxs's minimal length: you can, for instance, infer motifs made of two boxes, with min length of boxes equals to 4 and a total min length equals to 10.</p>
  </dd>
  <dt>
    <p><strong>Total max length &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Same explanation as "Total min length", excepted that a 0 length means "infinity".</p>
  </dd>
  <dt>
    <p><strong>Total substitutions &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Total maximum number of substitutions for the whole motif. As for the total length, this is not necessarily the sum of each box's substitution number.</p>
  </dd>
  <dt>
    <p><strong>Boxes &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>The number of boxes that compose the motifs to infer. When inferring simple one box motifs, it's not necessary to use local criteria as global and local criteria will be the same.</p>
  </dd>
  <dt>
    <p><strong>Composition in &lt;symbol&gt; &lt;number&gt; [OPTIONAL]</strong></p>
  </dt>
  <dd>
    <p>The number of a given symbol of the motif's alphabet may be restrained to a maximum by this criteria.</p>
  </dd>
  <dt>
    <p><strong>BOX &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Begin the description of the criteria of a given box of the motif.</p>
  </dd>
  <dt>
    <p><strong>Min length &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Minimum length for the current box.</p>
  </dd>
  <dt>
    <p><strong>Max length &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Same explanation as "Min length", excepted that a 0 length means "infinity".</p>
  </dd>
  <dt>
    <p><strong>Substitution &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Maximum number of substitutions allowed for the current box.</p>
  </dd>
  <dt>
    <p><strong>Composition in &lt;symbol&gt; &lt;number&gt; [OPTIONAL]</strong></p>
  </dt>
  <dd>
    <p>Same as the global composition, but for the current box.</p>
  </dd>
  <dt>
    <p><strong>Min spacer length &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Minimum number of symbols between the end of the current box and the beginning of the next one. This parameter mustn't appear in the last box's criteria, which has no next box!</p>
  </dd>
  <dt>
    <p><strong>Max spacer length &lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Same explanation as "Max spacer length".</p>
  </dd>
  <dt>
    <p><strong>Delta &lt;number&gt;  [OPTIONAL]</strong></p>
  </dt>
  <dd>
    <p>This criteria allows one to infer motifs composed of several boxes without really knowing the distance between these boxes. The min and max spacer length will be used as a "large" interval, and the delta's value will define the size of small intervals into this large one. An inference of two boxes motifs with a [10-20] range of distance between the boxes will produce motifs whose occurrences respect this range. A "Delta" criteria fixed to 2, for instance, will realize the same inference in all the possible ranges [i-delta, i+delta] (here: [10-14], [11-15], ...). As many output files as different ranges will be produced.</p>
  </dd>
  <dt>
    <p><strong>Palindrome of box &lt;number&gt;  [OPTIONAL]</strong></p>
  </dt>
  <dd>
    <p>Indicate that the concerned box must be the biological palindrome of one of the previous boxes.</p>
  </dd>
  <dt>
    <p><strong>Shufflings &lt;number&gt; [OPTIONAL]</strong></p>
  </dt>
  <dd>
    <p>The number of shufflings of the original sequences to realize for the evaluation of the statistical significance of the motifs found.</p>
  </dd>
  <dt>
    <p><strong>Size k-mer &lt;number&gt; [OPTIONAL, always with shuffling]</strong></p>
  </dt>
  <dd>
    <p>Length of the words to conserve during shufflings (usually 2).</p>
  </dd>
  <dt>
    <p><strong>Against wrong sequences &lt;filename&gt; [OPTIONAL]</strong></p>
  </dt>
  <dd>
    <p>Another method to evaluate the significance of the motifs (not compatible with the shuffling method). In the case where you have a sequence file where you believe that the motifs you look for in the first sequences set won't appear, you can give to mlv-smile such a sequence file. The statistical evaluation of motifs found will be made by computing theit frequency in the "wrong sequences".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNING</h2>
        <div class="sectioncontent">
<p>mlv-smile is an exact combinatorial algorithm. It is not made to infer any kind of motifs. The amount of data where the extraction is made can be very large, but some criteria (in particular the number of substitutions) must be restrained to reasonable values: one or two substitutions allowed in a 10 length motif is ok, but not 6 or 8 substitutions. The notion of spacers is made to avoid the use of to much substitutions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>A bug has been found in the 1.46 version, which could generate wrong results in some particular cases. In particular, results may be wrong for incoherent length criteria. There are still probably a lot of bugs in mlv-smile. This 1.47 version is quite stable, but do not hesitate to report any bug to &lt;lama AT prism.uvsq DOT fr&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mlv-smile&hellip;</h2>
        <div class="sectioncontent">
<p>This software has been implemented from an algorithm proposed in</p><p><em>L. Marsan and M.-F. Sagot, Algorithms for extracting structured motifs using a</em> <em>suffix tree with application to promoter and regulatory site consensus</em> <em>identification", J. of Comput. Biol. 7, 2001, 345-360</em></p><p>You should refer to these paper for algorithmic details. If bored by such things, just notice that the extraction step of <strong>mlv-smile</strong> is exact, which means that all motifs respecting the given criteria are found. Please quote this article if you produce some results given by <strong>mlv-smile.</strong></p><p>For some examples of applications we made on biological datas (with good results), refer to</p><p><em>A. Vanet and L. Marsan and M.-F. Sagot,"Promoter sequences and algorithmically</em> <em>methods for identifying them", Research in Microbiology 150, 1999,</em> <em>779-799</em></p><p>and</p><p><em>A. Vanet and L. Marsan and A. Labigne and M.-F. Sagot, Inferring regulatory</em> <em>elements from a whole genome. An application to the analysis of genome of</em> <em>Helicobacter Pylori Sigma 80 family of promoter signals", J. Mol. Biol. 297,</em> <em>2000, 335-353</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by  Laurent Marsan &lt;lama AT prism.uvsq DOT fr&gt;, for the Debian GNU/Linux system (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mlton.1.html"><span aria-hidden="true">&larr;</span> mlton.1: Whole-program compiler for the standard ml (sml) programming language</a></li>
   <li class="next"><a href="mlyacc.1.html">mlyacc.1: Parser generator for use with standard ml and mlton <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
