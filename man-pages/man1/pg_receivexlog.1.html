<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pg_receivexlog: Stream transaction logs from a postgresql server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Stream transaction logs from a postgresql server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pg_receivexlog (1) manual">
  <meta name="twitter:description" content="Stream transaction logs from a postgresql server">
  <meta name="twitter:image" content="https://www.carta.tech/images/postgresql-client-9.4-pg_receivexlog-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pg_receivexlog.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pg_receivexlog (1) manual" />
  <meta property="og:description" content="Stream transaction logs from a postgresql server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/postgresql-client-9.4-pg_receivexlog-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pg_receivexlog<small> (1)</small></h1>
        <p class="lead">Stream transaction logs from a postgresql server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pg_receivexlog.1.html">
      <span itemprop="name">pg_receivexlog: Stream transaction logs from a postgresql server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/postgresql-client-9.4/">
      <span itemprop="name">postgresql-client-9.4</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pg_receivexlog.1.html">
      <span itemprop="name">pg_receivexlog: Stream transaction logs from a postgresql server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pg_receivexlog</strong> [<em>option</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>pg_receivexlog is used to stream transaction log from a running PostgreSQL cluster. The transaction log is streamed using the streaming replication protocol, and is written to a local directory of files. This directory can be used as the archive location for doing a restore using point-in-time recovery (see Section 24.3, &ldquo;Continuous Archiving and Point-in-Time Recovery (PITR)&rdquo;, in the documentation).</p><p>pg_receivexlog streams the transaction log in real time as it&apos;s being generated on the server, and does not wait for segments to complete like archive_command does. For this reason, it is not necessary to set archive_timeout when using pg_receivexlog.</p><p>The transaction log is streamed over a regular PostgreSQL connection, and uses the replication protocol. The connection must be made with a superuser or a user having REPLICATION permissions (see Section 20.2, &ldquo;Role Attributes&rdquo;, in the documentation), and pg_hba.conf must explicitly permit the replication connection. The server must also be configured with max_wal_senders set high enough to leave at least one session available for the stream.</p><p>If the connection is lost, or if it cannot be initially established, with a non-fatal error, pg_receivexlog will retry the connection indefinitely, and reestablish streaming as soon as possible. To avoid this behavior, use the -n parameter.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-D </strong><strong></strong><em>directory</em></p><p><strong>--directory=</strong><strong></strong><em>directory</em></p><p>Directory to write the output to.</p><p>This parameter is required.</p><p><strong>-n</strong></p><p><strong>--no-loop</strong></p><p>Don&apos;t loop on connection errors. Instead, exit right away with an error.</p><p><strong>-s </strong><strong></strong><em>interval</em></p><p><strong>--status-interval=</strong><strong></strong><em>interval</em></p><p>Specifies the number of seconds between status packets sent back to the server. This allows for easier monitoring of the progress from server. A value of zero disables the periodic status updates completely, although an update will still be sent when requested by the server, to avoid timeout disconnect. The default value is 10 seconds.</p><p><strong>-S </strong><strong></strong><em>slotname</em></p><p><strong>--slot=</strong><strong></strong><em>slotname</em></p><p>Require pg_receivexlog to use an existing replication slot (see Section 25.2.6, &ldquo;Replication Slots&rdquo;, in the documentation). When this option is used, pg_receivexlog will report a flush position to the server, indicating when each segment has been synchronized to disk so that the server can remove that segment if it is not otherwise needed. When using this parameter, it is important to make sure that pg_receivexlog cannot become the synchronous standby through an incautious setting of synchronous_standby_names; it does not flush data frequently enough for this to work correctly.</p><p><strong>-v</strong></p><p><strong>--verbose</strong></p><p>Enables verbose mode.</p><p>The following command-line options control the database connection parameters.</p><p><strong>-d </strong><strong></strong><em>connstr</em></p><p><strong>--dbname=</strong><strong></strong><em>connstr</em></p><p>Specifies parameters used to connect to the server, as a connection string. See Section 31.1.1, &ldquo;Connection Strings&rdquo;, in the documentation for more information.</p><p>The option is called --dbname for consistency with other client applications, but because pg_receivexlog doesn&apos;t connect to any particular database in the cluster, database name in the connection string will be ignored.</p><p><strong>-h </strong><strong></strong><em>host</em></p><p><strong>--host=</strong><strong></strong><em>host</em></p><p>Specifies the host name of the machine on which the server is running. If the value begins with a slash, it is used as the directory for the Unix domain socket. The default is taken from the <strong>PGHOST</strong> environment variable, if set, else a Unix domain socket connection is attempted.</p><p><strong>-p </strong><strong></strong><em>port</em></p><p><strong>--port=</strong><strong></strong><em>port</em></p><p>Specifies the TCP port or local Unix domain socket file extension on which the server is listening for connections. Defaults to the <strong>PGPORT</strong> environment variable, if set, or a compiled-in default.</p><p><strong>-U </strong><strong></strong><em>username</em></p><p><strong>--username=</strong><strong></strong><em>username</em></p><p>User name to connect as.</p><p><strong>-w</strong></p><p><strong>--no-password</strong></p><p>Never issue a password prompt. If the server requires password authentication and a password is not available by other means such as a .pgpass file, the connection attempt will fail. This option can be useful in batch jobs and scripts where no user is present to enter a password.</p><p><strong>-W</strong></p><p><strong>--password</strong></p><p>Force pg_receivexlog to prompt for a password before connecting to a database.</p><p>This option is never essential, since pg_receivexlog will automatically prompt for a password if the server demands password authentication. However, pg_receivexlog will waste a connection attempt finding out that the server wants a password. In some cases it is worth typing <strong>-W</strong> to avoid the extra connection attempt.</p><p>Other options are also available:</p><p><strong>-V</strong></p><p><strong>--version</strong></p><p>Print the pg_receivexlog version and exit.</p><p><strong>-?</strong></p><p><strong>--help</strong></p><p>Show help about pg_receivexlog command line arguments, and exit.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>This utility, like most other PostgreSQL utilities, uses the environment variables supported by libpq (see Section 31.14, &ldquo;Environment Variables&rdquo;, in the documentation).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>When using pg_receivexlog instead of archive_command as the main WAL backup method, it is strongly recommended to use replication slots. Otherwise, the server is free to recycle or remove transaction log files before they are backed up, because it does not have any information, either from archive_command or the replication slots, about how far the WAL stream has been archived. Note, however, that a replication slot will fill up the server&apos;s disk space if the receiver does not keep up with fetching the WAL data.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To stream the transaction log from the server at mydbserver and store it in the local directory /usr/local/pgsql/archive:</p>
<pre>
$ <strong>pg_receivexlog -h mydbserver -D /usr/local/pgsql/archive</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pg_receivexlog&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/pg_basebackup.1.html"><strong>pg_basebackup</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pg_isready.1.html"><span aria-hidden="true">&larr;</span> pg_isready.1: Check the connection status of a postgresql server</a></li>
   <li class="next"><a href="pg_recvlogical.1.html">pg_recvlogical.1: Control postgresql logical decoding streams <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
