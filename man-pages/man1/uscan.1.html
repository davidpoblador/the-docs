<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>uscan: Scan/watch upstream sources for new releases of software</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Scan/watch upstream sources for new releases of software">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="uscan (1) manual">
  <meta name="twitter:description" content="Scan/watch upstream sources for new releases of software">
  <meta name="twitter:image" content="https://www.carta.tech/images/devscripts-uscan-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/uscan.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="uscan (1) manual" />
  <meta property="og:description" content="Scan/watch upstream sources for new releases of software" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/devscripts-uscan-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">uscan<small> (1)</small></h1>
        <p class="lead">Scan/watch upstream sources for new releases of software</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/uscan.1.html">
      <span itemprop="name">uscan: Scan/watch upstream sources for new releases of software</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/devscripts/">
      <span itemprop="name">devscripts</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/uscan.1.html">
      <span itemprop="name">uscan: Scan/watch upstream sources for new releases of software</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>uscan</strong> [<em>options</em>] [<em>path-to-debian-source-packages</em> ...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>uscan</strong> scans the given directories (or the current directory if none are specified) and all of their subdirectories for packages containing a control file <em>debian/watch</em>.  Parameters are then read from those control files and upstream ftp or http sites are inspected for newly available updates (as compared with the upstream version number retrieved from the <em>debian/changelog</em> file in the same directory).  The newest updates are retrieved (as determined by their version numbers) and if specified in the <em>watch</em> file, a program may then be executed on the newly downloaded source.</p><p>The traditional <em>debian/watch</em> files can still be used, but the current format offers both simpler and more flexible services.  We do not describe the old format here; for their documentation, see the source code for uscan.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMAT of debian/watch files</h2>
        <div class="sectioncontent">
<p>The following demonstrates the type of entries which can appear in a <em>debian/watch</em> file.  Obviously, not all of these would appear in one such file; usually, one would have one line for the current package.</p>
<pre>
# format version number, currently 3; this line is compulsory!
version=3

# Line continuations are performed with <strong>&#92;</strong>

# This is the format for an FTP site:
# Full-site-with-pattern  [Version  [Action]]
ftp://ftp.tex.ac.uk/tex-archive/web/c_cpp/cweb/cweb-(.+)&#92;.tar&#92;.gz &#92;
  debian  uupdate

# This is the format for an FTP site with regex special characters in
# the filename part
ftp://ftp.worldforge.org/pub/worldforge/libs/Atlas-C++/transitional/Atlas-C&#92;+&#92;+-(.+)&#92;.tar&#92;.gz

# This is the format for an FTP site with directory pattern matching
ftp://ftp.nessus.org/pub/nessus/nessus-([&#92;d&#92;.]+)/src/nessus-core-([&#92;d&#92;.]+)&#92;.tar&#92;.gz

# This can be used if you want to override the PASV setting
# for a specific site
# opts=pasv ftp://.../...

# This is one format for an HTTP site, which is the same
# as the FTP format.  <strong>uscan</strong> starts by downloading the homepage,
# obtained by removing the last component of the URL; in this case,
# <em>http://www.cpan.org/modules/by-module/Text/</em>
http://www.cpan.org/modules/by-module/Text/Text-CSV_XS-(.+)&#92;.tar&#92;.gz

# This is a variant HTTP format which allows direct specification of
# the homepage:
# Homepage  Pattern  [Version  [Action]]
http://www.dataway.ch/~lukasl/amph/amph.html &#92;
  files/amphetamine-([&#92;d&#92;.]*).tar.bz2

# This one shows that recursive directory scanning works, in either of
# two forms, as long as the website can handle requests of the form
# <em>http://site/inter/mediate/dir/</em>
http://tmrc.mit.edu/mirror/twisted/Twisted/(&#92;d&#92;.&#92;d)/ &#92;
  Twisted-([&#92;d&#92;.]*)&#92;.tar&#92;.bz2
http://tmrc.mit.edu/mirror/twisted/Twisted/(&#92;d&#92;.&#92;d)/Twisted-([&#92;d&#92;.]*)&#92;.tar&#92;.bz2

# For maximum flexibility with upstream tarball formats, use this:
http://example.com/example-(&#92;d[&#92;d.]*)&#92;.(?:zip|tgz|tbz2|txz|tar&#92;.(?:gz|bz2|xz))

# qa.debian.org runs a redirector which allows a simpler form of URL
# for SourceForge based projects. The format below will automatically
# be rewritten to use the redirector.
http://sf.net/audacity/audacity-src-(.+)&#92;.tar&#92;.gz

# For GitHub projects you can use the tags or releases page.  Since the archive
# URLs use only the version as the name, it is recommended to use a
# filenamemangle to adjust the name of the downloaded file:
opts="filenamemangle=s/(?:.*\/)?v?(&#92;d[&#92;d&#92;.]*)&#92;.tar&#92;.gz/&lt;project&gt;-$1.tar.gz/" &#92;
  https://github.com/&lt;user&gt;/&lt;project&gt;/tags (?:.*/)?v?(&#92;d[&#92;d&#92;.]*)&#92;.tar&#92;.gz

# For Google Code projects you should use the downloads page like this:
https://code.google.com/p/&lt;project&gt;/downloads/list?can=1 &#92;
  .*/&lt;project&gt;-(&#92;d[&#92;d.]*)&#92;.tar&#92;.gz

# This is the format for a site which has funny version numbers;
# the parenthesised groups will be joined with dots to make a
# sanitised version number
http://www.site.com/pub/foobar/foobar_v(&#92;d+)_(&#92;d+)&#92;.tar&#92;.gz

# This is another way of handling site with funny version numbers,
# this time using mangling.  (Note that multiple groups will be
# concatenated before mangling is performed, and that mangling will
# only be performed on the basename version number, not any path
# version numbers.)
opts="uversionmangle=s/^/0.0./" &#92;
  ftp://ftp.ibiblio.org/pub/Linux/ALPHA/wine/development/Wine-(.+)&#92;.tar&#92;.gz

# Similarly, the upstream part of the Debian version number can be
# mangled:
opts=dversionmangle=s/&#92;+dfsg&#92;d*$// &#92;
  http://some.site.org/some/path/foobar-(.+)&#92;.tar&#92;.gz

# The filename is found by taking the last component of the URL and
# removing everything after any '<strong>?</strong>'.  If this would not make a usable
# filename, use filenamemangle.  For example,
# &lt;A href="http://foo.bar.org/download/?path=&download=foo-0.1.1.tar.gz"&gt;
# could be handled as:
# opts=filenamemangle=s/.*=(.*)/$1/ &#92;
#     http://foo.bar.org/download/&#92;?path=&download=foo-(.+)&#92;.tar&#92;.gz
#
# &lt;A href="http://foo.bar.org/download/?path=&download_version=0.1.1"&gt;
# could be handled as:
# opts=filenamemangle=s/.*=(.*)/foo-$1&#92;.tar&#92;.gz/ &#92;
#    http://foo.bar.org/download/&#92;?path=&download_version=(.+)

# The option downloadurlmangle can be used to mangle the URL of the file
# to download.  This can only be used with http:// URLs.  This may be
# necessary if the link given on the web page needs to be transformed in
# some way into one which will work automatically, for example:
# opts=downloadurlmangle=s/prdownload/download/ &#92;
#   http://developer.berlios.de/project/showfiles.php?group_id=2051 &#92;
#   http://prdownload.berlios.de/softdevice/vdr-softdevice-(.+).tgz

</pre>
<p>Comment lines may be introduced with a `<strong>#</strong>' character.  Continuation lines may be indicated by terminating a line with a backslash character.</p><p>The first (non-comment) line of the file must begin `version=3'.  This allows for future extensions without having to change the name of the file.</p><p>There are two possibilities for the syntax of an HTTP <em>watch</em> file line, and only one for an FTP line.  We begin with the common (and simpler) format.  We describe the optional opts=... first field below, and ignore it in what follows.</p><p>The first field gives the full pattern of URLs being searched for.  In the case of an FTP site, the directory listing for the requested directory will be requested and this will be scanned for files matching the basename (everything after the trailing `<strong>/</strong>').  In the case of an HTTP site, the URL obtained by stripping everything after the trailing slash will be downloaded and searched for hrefs (links of the form &lt;a href=...&gt;) to either the full URL pattern given, or to the absolute part (everything without the http://host.name/ part), or to the basename (just the part after the final `<strong>/</strong>').  Everything up to the final slash is taken as a verbatim URL, as long as there are no parentheses (`<strong>(</strong>' and '<strong>)</strong>') in this part of the URL: if it does, the directory name will be matched in the same way as the final component of the URL as described below.  (Note that regex metacharacters such as `<strong>+</strong>' are regarded literally unless they are in a path component containing parentheses; see the Atlas-C++ example above.  Also, the parentheses must match within each path component.)</p><p>The pattern (after the final slash) is a Perl regexp (see <strong>perlre</strong>(1) for details of these).  You need to make the pattern so tight that it matches only the upstream software you are interested in and nothing else.  Also, the pattern will be anchored at the beginning and at the end, so it must match the full filename.  (Note that for HTTP URLs, the href may include the absolute path or full site and path and still be accepted.)  The pattern must contain at least one Perl group as explained in the next paragraph.</p><p>Having got a list of `files' matching the pattern, their version numbers are extracted by treating the part matching the Perl regexp groups, demarcated by `<strong>(...)</strong>', joining them with `<strong>.</strong>' as a separator, and using the result as the version number of the file.  The version number will then be mangled if required by the uversionmangle option described below.  Finally, the file versions are then compared to find the one with the greatest version number, as determined by <strong>dpkg</strong> --compare-versions.  Note that if you need Perl groups which are not to be used in the version number, either use `<strong>(?:...)</strong>' or use the uversionmangle option to clean up the mess!</p><p>The current (upstream) version can be specified as the second parameter in the <em>watch</em> file line.  If this is <em>debian</em> or absent, then the current Debian version (as determined by <em>debian/changelog</em>) is used to determine the current upstream version.  The current upstream version may also be specified by the command-line option <strong>--upstream-version</strong>, which specifies the upstream version number of the currently installed package (i.e., the Debian version number without epoch and Debian revision).  The upstream version number will then be mangled using the dversionmangle option if one is specified, as described below.  If the newest version available is newer than the current version, then it is downloaded into the parent directory, unless the <strong>--report</strong> or <strong>--report-status</strong> option has been used.  Once the file has been downloaded, then a symlink to the file is made from <em>&lt;package&gt;_&lt;version&gt;.orig.tar.{gz|bz2|lzma|xz}</em> as described by the help for the <strong>--symlink</strong> option.</p><p>Finally, if a third parameter (an action) is given in the <em>watch</em> file line, this is taken as the name of a command, and the command</p>
<pre>
    <em>command </em><strong>--upstream-version</strong><em> version filename</em>
</pre>
<p>is executed, using either the original file or the symlink name.  A common such command would be <a href="../man1/uupdate.1.html"><strong>uupdate</strong>(1)</a>.  (Note that the calling syntax was slightly different when using <em>watch</em> file without a `<strong>version=</strong>...' line; there the command executed was `<em>command filename</em> version'.)  If the command is <strong>uupdate</strong>, then the <strong>--no-symlink</strong> option is given to <strong>uupdate</strong> as a first option, since any requested symlinking will already be done by <strong>uscan</strong>.</p><p>The alternative version of the <em>watch</em> file syntax for HTTP URLs is as follows.  The first field is a homepage which should be downloaded and then searched for hrefs matching the pattern given in the second field.  (Again, this pattern will be anchored at the beginning and the end, so it must match the whole href.  If you want to match just the basename of the href, you can use a pattern like ".*/name-(.+)&#92;.tar&#92;.gz" if you know that there is a full URL, or better still: "(?:.*/)?name-(.+)&#92;.tar&#92;.gz" if there may or may not be.  Note the use of (?:...) to avoid making a backreference.)  If any of the hrefs in the homepage which match the (anchored) pattern are relative URLs, they will be taken as being relative to the base URL of the homepage (i.e., with everything after the trailing slash removed), or relative to the base URL specified in the homepage itself with a &lt;base href="..."&gt; tag.  The third and fourth fields are the version number and action fields as before.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PER-SITE OPTIONS</h2>
        <div class="sectioncontent">
<p>A <em>watch</em> file line may be prefixed with `<strong>opts=</strong><em>options</em>', where <em>options</em> is a comma-separated list of options.  The whole <em>options</em> string may be enclosed in double quotes, which is necessary if <em>options</em> contains any spaces.  The recognised options are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>active</strong> and <strong>passive</strong> (or <strong>pasv</strong>)</p>
  </dt>
  <dd>
    <p>If used on an FTP line, these override the choice of whether to use PASV mode or not, and force the use of the specified mode for this site.</p>
  </dd>
  <dt>
    <p><strong>uversionmangle=</strong><em>rules</em></p>
  </dt>
  <dd>
    <p>This is used to mangle the upstream version number as matched by the ftp://... or http:// rules as follows.  First, the <em>rules</em> string is split into multiple rules at every `<strong>;</strong>'.  Then the upstream version number is mangled by applying <em>rule</em> to the version, in a similar way to executing the Perl command:</p>
<pre>
    $version =~ <em>rule</em>;
</pre>
<p>for each rule.  Thus, suitable rules might be `<strong>s/^/0./</strong>' to prepend `<strong>0.</strong>' to the version number and `<strong>s/_/./g</strong>' to change underscores into periods.  Note that the <em>rule</em> string may not contain commas; this should not be a problem.</p><p><em>rule</em> may only use the '<strong>s</strong>', '<strong>tr</strong>' and '<strong>y</strong>' operations.  When the '<strong>s</strong>' operation is used, only the '<strong>g</strong>', '<strong>i</strong>' and '<strong>x</strong>' flags are available and <em>rule</em> may not contain any expressions which have the potential to execute code (i.e. the (?{}) and (??{}) constructs are not supported).</p><p>If the '<strong>s</strong>' operation is used, the replacement can contain backreferences to expressions within parenthesis in the matching regexp, like `<strong>s/-alpha(&#92;d*)/.a$1/</strong>'. These backreferences must use the `<strong>$1</strong>' syntax, as the `<strong>&#92;1</strong>' syntax is not supported.</p>
  </dd>
  <dt>
    <p><strong>dversionmangle=</strong><em>rules</em></p>
  </dt>
  <dd>
    <p>This is used to mangle the Debian version number of the currently installed package in the same way as the <strong>uversionmangle</strong> option. Thus, a suitable rule might be `<strong>s/\+dfsg&#92;d*$//</strong>' to remove a `<strong>+dfsg1</strong>' suffix from the Debian version number, or to handle `<strong>.pre6</strong>' type version numbers.  Again, the <em>rules</em> string may not contain commas; this should not be a problem.</p>
  </dd>
  <dt>
    <p><strong>versionmangle=</strong><em>rules</em></p>
  </dt>
  <dd>
    <p>This is a syntactic shorthand for <strong>uversionmangle=</strong><em>rules</em><strong>,dversionmangle=</strong><em>rules</em>, applying the same rules to both the upstream and Debian version numbers.</p>
  </dd>
  <dt>
    <p><strong>filenamemangle=</strong><em>rules</em></p>
  </dt>
  <dd>
    <p>This is used to mangle the filename with which the downloaded file will be saved, and is parsed in the same way as the <strong>uversionmangle</strong> option.  Examples of its use are given in the examples section above.</p>
  </dd>
  <dt>
    <p><strong>downloadurlmangle=</strong><em>rules</em></p>
  </dt>
  <dd>
    <p>This is used to mangle the URL to be used for the download.  The URL is first computed based on the homepage downloaded and the pattern matched, then the version number is determined from this URL. Finally, any rules given by this option are applied before the actual download attempt is made. An example of its use is given in the examples section above.</p>
  </dd>
  <dt>
    <p><strong>pgpsigurlmangle=</strong><em>rules</em></p>
  </dt>
  <dd>
    <p>If present, the supplied rules will be applied to the downloaded URL (after any downloadurlmangle rules, if present) to craft a new URL that will be used to fetch the detached OpenPGP signature file for the upstream tarball.  Some common rules might be `<strong>s/$/.asc/</strong>' or `<strong>s/$/.pgp/</strong>' or `<strong>s/$/.gpg/</strong>'.  This signature must be made by a key found in the keyring <strong>debian/upstream/signing-key.pgp</strong> or the armored keyring <strong>debian/upstream/signing-key.asc</strong>.  If it is not valid, or not made by one of the listed keys, uscan will report an error.</p>
  </dd>
  <dt>
    <p><strong>repacksuffix=</strong><em>suffix</em></p>
  </dt>
  <dd>
    <p>If the upstream sources are modified because <em>debian/copyright</em> contains the <strong>Files-Excluded</strong> field, <em>suffix</em> will be appended to the upstream version of the repacked tar archive.  Common suffixes might be <strong>+dfsg1</strong> to indicate the removal of non-DFSG code or <strong>+ds1</strong> to indicate the removal of embedded (DFSG) code copies.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Directory name checking</h2>
        <div class="sectioncontent">
<p>Similarly to several other scripts in the <strong>devscripts</strong> package, <strong>uscan</strong> explores the requested directory trees looking for <em>debian/changelog</em> and <em>debian/watch</em> files.  As a safeguard against stray files causing potential problems, and in order to promote efficiency, it will examine the name of the parent directory once it finds the <em>debian/changelog</em> file, and check that the directory name corresponds to the package name.  It will only attempt to download newer versions of the package and then perform any requested action if the directory name matches the package name. Precisely how it does this is controlled by two configuration file variables <strong>DEVSCRIPTS_CHECK_DIRNAME_LEVEL</strong> and <strong>DEVSCRIPTS_CHECK_DIRNAME_REGEX</strong>, and their corresponding command-line options <strong>--check-dirname-level</strong> and <strong>--check-dirname-regex</strong>.</p><p><strong>DEVSCRIPTS_CHECK_DIRNAME_LEVEL</strong> can take the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>Never check the directory name.</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>Only check the directory name if we have had to change directory in our search for <em>debian/changelog</em>, that is, the directory containing <em>debian/changelog</em> is not the directory from which <strong>uscan</strong> was invoked.  This is the default behaviour.</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>Always check the directory name.</p>
  </dd>

</dl>
<p>The directory name is checked by testing whether the current directory name (as determined by <a href="../man1/pwd.1.html"><strong>pwd</strong>(1)</a>) matches the regex given by the configuration file option <strong>DEVSCRIPTS_CHECK_DIRNAME_REGEX</strong> or by the command line option <strong>--check-dirname-regex</strong> <em>regex</em>.  Here <em>regex</em> is a Perl regex (see <strong>perlre</strong>(3perl)), which will be anchored at the beginning and the end.  If <em>regex</em> contains a '/', then it must match the full directory path.  If not, then it must match the full directory name.  If <em>regex</em> contains the string \'PACKAGE', this will be replaced by the source package name, as determined from the <em>changelog</em>.  The default value for the regex is: \'PACKAGE(-.+)?', thus matching directory names such as PACKAGE and PACKAGE-version.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>This script will perform a fully automatic upstream update.</p>
<pre>
#!/bin/sh -e
# called with '--upstream-version' &lt;version&gt; &lt;file&gt;
uupdate "$@"
package=`dpkg-parsechangelog | sed -n 's/^Source: //p'`
cd ../$package-$2
debuild
</pre>
<p>Note that we don't call <strong>dupload</strong> or <strong>dput</strong> automatically, as the maintainer should perform sanity checks on the software before uploading it to Debian.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--report</strong>, <strong>--no-download</strong></p>
  </dt>
  <dd>
    <p>Only report about available newer versions but do not download anything.</p>
  </dd>
  <dt>
    <p><strong>--report-status</strong></p>
  </dt>
  <dd>
    <p>Report on the status of all packages, even those which are up-to-date, but do not download anything.</p>
  </dd>
  <dt>
    <p><strong>--download</strong></p>
  </dt>
  <dd>
    <p>Report and download.  (This is the default behaviour.)</p>
  </dd>
  <dt>
    <p><strong>--destdir</strong></p>
  </dt>
  <dd>
    <p>Path of directory to which to download.  If the specified path is not absolute, it will be relative to one of the current directory or, if directory scanning is enabled, the package's source directory.</p>
  </dd>
  <dt>
    <p><strong>--force-download</strong></p>
  </dt>
  <dd>
    <p>Download upstream even if up to date (will not overwrite local files, however)</p>
  </dd>
  <dt>
    <p><strong>--pasv</strong></p>
  </dt>
  <dd>
    <p>Force PASV mode for FTP connections.</p>
  </dd>
  <dt>
    <p><strong>--no-pasv</strong></p>
  </dt>
  <dd>
    <p>Do not use PASV mode for FTP connections.</p>
  </dd>
  <dt>
    <p><strong>--timeout</strong> <em>N</em></p>
  </dt>
  <dd>
    <p>Set timeout to N seconds (default 20 seconds).</p>
  </dd>
  <dt>
    <p><strong>--no-symlink</strong></p>
  </dt>
  <dd>
    <p>Do not call <strong>mk-origtargz</strong>.</p>
  </dd>

</dl>
<p>The following options are passed to <strong>mk-origtargz</strong>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--symlink</strong></p>
  </dt>
  <dd>
    <p>Make <em>orig.tar.gz</em> (with the appropriate extension) symlinks to the downloaded files. (This is the default behaviour.)</p>
  </dd>
  <dt>
    <p><strong>--copy</strong></p>
  </dt>
  <dd>
    <p>Instead of symlinking as described above, copy the downloaded files.</p>
  </dd>
  <dt>
    <p><strong>--rename</strong></p>
  </dt>
  <dd>
    <p>Instead of symlinking as described above, rename the downloaded files.</p>
  </dd>
  <dt>
    <p><strong>--repack</strong></p>
  </dt>
  <dd>
    <p>After having downloaded an lzma tar, xz tar, bzip tar or zip archive, repack it to a gzip tar archive, if required. The <strong>unzip</strong> package must be installed in order to repack .zip archives, the <strong>xz-utils</strong> package must be installed to repack lzma or xz tar archives.</p>
  </dd>
  <dt>
    <p><strong>--compression</strong> [ <strong>gzip</strong> | <strong>bzip2</strong> | <strong>lzma</strong> | <strong>xz</strong> ]</p>
  </dt>
  <dd>
    <p>In the case where the upstream sources are repacked (either because <strong>--repack</strong> option is given or <em>debian/copyright</em> contains the field <strong>Files-Excluded</strong>), it is possible to control the compression method via the parameter (defaults to <strong>gzip</strong>).</p>
  </dd>
  <dt>
    <p><strong>--copyright-file </strong><em>copyright-file</em></p>
  </dt>
  <dd>
    <p>Exclude files mentioned in <strong>Files-Excluded</strong> in the given copyright file. This is useful when running uscan not within a source package directory.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--dehs</strong></p>
  </dt>
  <dd>
    <p>Use an XML format for output, as required by the DEHS system.</p>
  </dd>
  <dt>
    <p><strong>--no-dehs</strong></p>
  </dt>
  <dd>
    <p>Use the traditional uscan output format.  (This is the default behaviour.)</p>
  </dd>
  <dt>
    <p><strong>--package</strong> <em>package</em></p>
  </dt>
  <dd>
    <p>Specify the name of the package to check for rather than examining <em>debian/changelog</em>; this requires the <strong>--upstream-version</strong> (unless a version is specified in the <em>watch</em> file) and <strong>--watchfile</strong> options as well.  Furthermore, no directory scanning will be done and nothing will be downloaded.  This option is probably most useful in conjunction with the DEHS system (and <strong>--dehs</strong>).</p>
  </dd>
  <dt>
    <p><strong>--upstream-version</strong> <em>upstream-version</em></p>
  </dt>
  <dd>
    <p>Specify the current upstream version rather than examine the <em>watch</em> file or <em>changelog</em> to determine it.  This is ignored if a directory scan is being performed and more than one <em>watch</em> file is found.</p>
  </dd>
  <dt>
    <p><strong>--watchfile</strong> <em>watchfile</em></p>
  </dt>
  <dd>
    <p>Specify the <em>watchfile</em> rather than perform a directory scan to determine it.  If this option is used without <strong>--package</strong>, then <strong>uscan</strong> must be called from within the Debian package source tree (so that <em>debian/changelog</em> can be found simply by stepping up through the tree).</p>
  </dd>
  <dt>
    <p><strong>--download-version</strong> <em>version</em></p>
  </dt>
  <dd>
    <p>Specify the version which the upstream release must match in order to be considered, rather than using the release with the highest version.</p>
  </dd>
  <dt>
    <p><strong>--download-current-version</strong></p>
  </dt>
  <dd>
    <p>Download the currently packaged version</p>
  </dd>
  <dt>
    <p><strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Give verbose output.</p>
  </dd>
  <dt>
    <p><strong>--no-verbose</strong></p>
  </dt>
  <dd>
    <p>Don't give verbose output.  (This is the default behaviour.)</p>
  </dd>
  <dt>
    <p><strong>--no-exclusion</strong></p>
  </dt>
  <dd>
    <p>Do not automatically exclude files mentioned in <em>debian/copyright</em> field <strong>Files-Excluded</strong></p>
  </dd>
  <dt>
    <p><strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Dump the downloaded web pages to stdout for debugging your watch file.</p>
  </dd>
  <dt>
    <p><strong>--check-dirname-level</strong> <em>N</em></p>
  </dt>
  <dd>
    <p>See the above section <strong>Directory name checking</strong> for an explanation of this option.</p>
  </dd>
  <dt>
    <p><strong>--check-dirname-regex</strong> <em>regex</em></p>
  </dt>
  <dd>
    <p>See the above section <strong>Directory name checking</strong> for an explanation of this option.</p>
  </dd>
  <dt>
    <p><strong>--user-agent</strong>, <strong>--useragent</strong></p>
  </dt>
  <dd>
    <p>Override the default user agent header.</p>
  </dd>
  <dt>
    <p><strong>--no-conf</strong>, <strong>--noconf</strong></p>
  </dt>
  <dd>
    <p>Do not read any configuration files.  This can only be used as the first option given on the command-line.</p>
  </dd>
  <dt>
    <p><strong>--help</strong></p>
  </dt>
  <dd>
    <p>Give brief usage information.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display version information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION VARIABLES</h2>
        <div class="sectioncontent">
<p>The two configuration files <em>/etc/devscripts.conf</em> and <em>~/.devscripts</em> are sourced by a shell in that order to set configuration variables.  These may be overridden by command line options.  Environment variable settings are ignored for this purpose. If the first command line option given is <strong>--noconf</strong>, then these files will not be read.  The currently recognised variables are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>USCAN_DOWNLOAD</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>no</em>, then newer upstream files will not be downloaded; this is equivalent to the <strong>--report</strong> or <strong>--no-download</strong> options.</p>
  </dd>
  <dt>
    <p><strong>USCAN_PASV</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>yes</em> or <em>no</em>, this will force FTP connections to use PASV mode or not to, respectively.  If this is set to <em>default</em>, then <strong>Net::<strong>FTP</strong>(3)</strong> makes the choice (primarily based on the <strong>FTP_PASSIVE</strong> environment variable).</p>
  </dd>
  <dt>
    <p><strong>USCAN_TIMEOUT</strong></p>
  </dt>
  <dd>
    <p>If set to a number <em>N</em>, then set the timeout to <em>N</em> seconds. This is equivalent to the <strong>--timeout</strong> option.</p>
  </dd>
  <dt>
    <p><strong>USCAN_SYMLINK</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>no</em>, then a pkg_version.orig.tar.{gz|bz2|lzma|xz} symlink will not be made (equivalent to the <strong>--no-symlink</strong> option).  If it is set to <em>yes</em> or <em>symlink</em>, then the symlinks will be made.  If it is set to <em>rename</em>, then the files are renamed (equivalent to the <strong>--rename</strong> option).</p>
  </dd>
  <dt>
    <p><strong>USCAN_DEHS_OUTPUT</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>yes</em>, then DEHS-style output will be used. This is equivalent to the <strong>--dehs</strong> option.</p>
  </dd>
  <dt>
    <p><strong>USCAN_VERBOSE</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>yes</em>, then verbose output will be given.  This is equivalent to the <strong>--verbose</strong> option.</p>
  </dd>
  <dt>
    <p><strong>USCAN_USER_AGENT</strong></p>
  </dt>
  <dd>
    <p>If set, the specified user agent string will be used in place of the default.  This is equivalent to the <strong>--user-agent</strong> option.</p>
  </dd>
  <dt>
    <p><strong>USCAN_DESTDIR</strong></p>
  </dt>
  <dd>
    <p>If set, the downloaded files will be placed in this directory.  This is equivalent to the <strong>--destdir</strong> option.</p>
  </dd>
  <dt>
    <p><strong>USCAN_REPACK</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>yes</em>, then after having downloaded a bzip tar, lzma tar, xz tar, or zip archive, <strong>uscan</strong> will repack it to a gzip tar. This is equivalent to the <strong>--repack</strong> option.</p>
  </dd>
  <dt>
    <p><strong>USCAN_EXCLUSION</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>no</em>, files mentioned in the field <strong>Files-Excluded</strong> of <em>debian/copyright</em> will be ignored and no exclusion of files will be tried.  This is equivalent to the <strong>--no-exclusion</strong> option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The exit status gives some indication of whether a newer version was found or not; one is advised to read the output to determine exactly what happened and whether there were any warnings to be noted.</p>
<dl class='dl-vertical'>
  <dt>
    <p>0</p>
  </dt>
  <dd>
    <p>Either <strong>--help</strong> or <strong>--version</strong> was used, or for some <em>watch</em> file which was examined, a newer upstream version was located.</p>
  </dd>
  <dt>
    <p>1</p>
  </dt>
  <dd>
    <p>No newer upstream versions were located for any of the <em>watch</em> files examined.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY AND UPGRADING</h2>
        <div class="sectioncontent">
<p>This section briefly describes the backwards-incompatible <em>watch</em> file features which have been added in each <em>watch</em> file version, and the first version of the <strong>devscripts</strong> package which understood them.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>Pre-version 2</em></p>
  </dt>
  <dd>
    <p>The <em>watch</em> file syntax was significantly different in those days.  Don't use it.  If you are upgrading from a pre-version 2 <em>watch</em> file, you are advised to read this manpage and to start from scratch.</p>
  </dd>
  <dt>
    <p><em>Version 2</em></p>
  </dt>
  <dd>
    <p>devscripts version 2.6.90: The first incarnation of the current style of <em>watch</em> files.</p>
  </dd>
  <dt>
    <p><em>Version 3</em></p>
  </dt>
  <dd>
    <p>devscripts version 2.8.12: Introduced the following: correct handling of regex special characters in the path part, directory/path pattern matching, version number in several parts, version number mangling. Later versions have also introduced URL mangling.</p><p>If you are upgrading from version 2, the key incompatibility is if you have multiple groups in the pattern part; whereas only the first one would be used in version 2, they will all be used in version 3.  To avoid this behaviour, change the non-version-number groups to be (?:...) instead of a plain (...) group.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO uscan&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>, <strong>mk-origtargz</strong>(1), <strong>perlre</strong>(1), <a href="../man1/uupdate.1.html"><strong>uupdate</strong>(1)</a>, <a href="../man5/devscripts.conf.5.html"><strong>devscripts.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The original version of <strong>uscan</strong> was written by Christoph Lameter &lt;clameter@debian.org&gt;.  Significant improvements, changes and bugfixes were made by Julian Gilbey &lt;jdg@debian.org&gt;.  HTTP support was added by Piotr Roszatycki &lt;dexter@debian.org&gt;.  The program was rewritten in Perl by Julian Gilbey.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="usbrelay.1.html"><span aria-hidden="true">&larr;</span> usbrelay.1: Get information about and control usb hid relay devices</a></li>
   <li class="next"><a href="use.1.html">use.1: Frontend to the usepackage environment manager <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
