<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>abicheck: Check application binaries for calls to private or evolving symbols in libraries and for static linking of some system libraries.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Check application binaries for calls to private or evolving symbols in libraries and for static linking of some system libraries.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="abicheck (1) manual">
  <meta name="twitter:description" content="Check application binaries for calls to private or evolving symbols in libraries and for static linking of some system libraries.">
  <meta name="twitter:image" content="https://www.carta.tech/images/abicheck-abicheck-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/abicheck.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="abicheck (1) manual" />
  <meta property="og:description" content="Check application binaries for calls to private or evolving symbols in libraries and for static linking of some system libraries." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/abicheck-abicheck-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">abicheck<small> (1)</small></h1>
        <p class="lead">Check application binaries for calls to private or evolving symbols in libraries and for static linking of some system libraries.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/abicheck.1.html">
      <span itemprop="name">abicheck: Check application binaries for calls to private or evolving symbols in libraries and for static linking of some system libraries.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/abicheck/">
      <span itemprop="name">abicheck</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/abicheck.1.html">
      <span itemprop="name">abicheck: Check application binaries for calls to private or evolving symbols in libraries and for static linking of some system libraries.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>abicheck</strong> [-h] [-k] [-a] [-I] [-v] [-f <em>listfile\]</em> [-o <em>outfile\]</em> [-p <em>pattern\]</em> [-e <em>pattern\]</em> [-j <em>njobs\]</em> [-l <em>library\]</em> [-L <em>ldpath\]</em> [(-s|-S) <em>dbfile\]</em> [(-d|-D) <em>dbfile\]</em> [-O <em>dbfile\]</em> [-A <em>listfile\]</em> <em>files</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>abicheck</strong> is run on application binaries and issues warnings whenever any of the following three conditions are detected:</p><p>&bull; <em>Private symbol usage.</em> Private symbols are functions or data variables in a library package that are internal to that package. They are used by the libraries in the package for internal communication and are not part of the API/ABI that application developers should use.</p><p>&bull; <em>Evolving symbol usage.</em> Evolving symbols are functions or data variables in a library package that are intended for developer consumption, but have been marked as "evolving" or "unstable" in the sense that they may become incompatible or disappear on a later release of the library package.</p><p>&bull; <em>Static linking.</em> Static linking of system libraries (for example, libc.a) into an application is generally not a good idea because the system library code it "locks" into the application binary may become incompatible with later releases of the system. abicheck attempts to detect static linking of a few system libraries.</p><p>The default behavior is, for each binary object checked, to examine direct calls from that binary object only. The <strong>-l</strong> option allows the libraries the binary object brings in to have their calls checked as well.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The following options are supported:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-k</strong></p>
  </dt>
  <dd>
    <p>Keep on checking binaries even if there are serious errors (dynamic linker reports unresolved symbols, <a href="../man1/ldd.1.html"><strong>ldd</strong>(1)</a> failures, no symbols detected).</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print out long form of help.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose.  Print out additional information.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em></em><strong>listfile</strong></p>
  </dt>
  <dd>
    <p>The <em>listfile</em> is a file containing a list of binary objects to check, one per line. This list is appended to any files provided as arguments on the command line. If <em>listfile</em> is "-", then stdin is used.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em></em><strong>outfile</strong></p>
  </dt>
  <dd>
    <p>Write output to <em>outfile</em> instead of stdout.</p>
  </dd>
  <dt>
    <p><strong>-p</strong><em></em><strong>pattern</strong></p>
  </dt>
  <dd>
    <p>Modify the version name pattern match labelling private version sets. Default is <strong>/private/</strong> using a case-insensitive match.</p><p>If a component of the regex <em>pattern</em> contains two colons in a row: <strong>patt1::patt2</strong>, then symbol-level matching will be activated by checking whether <em>version::symbol</em> or <em>library::symbol</em> matches <em>pattern</em> (where the symbol name, version (if any), and library basename are substituted for <em>symbol</em>, <em>version</em>, and <em>library</em>). For example,</p>
<pre>
    -p 'FOO_VERS.*::_foopriv'
</pre>
<p>or</p>
<pre>
    -p 'libfoo.so.*::_foopriv'
</pre>

  </dd>
  <dt>
    <p><strong>-e</strong><em></em><strong>pattern</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-p</strong> but  for "evolving" interfaces.</p>
  </dd>
  <dt>
    <p><strong>-L</strong><em></em><strong>ldpath</strong></p>
  </dt>
  <dd>
    <p>Set the <strong>LD_LIBRARY_PATH</strong> environment variable to <em>ldpath</em> before invoking dynamic linker. Use <strong>-L </strong>"" to unset <strong>LD_LIBRARY_PATH.</strong></p><p>If one of the components of <em>ldpath</em> is the string "find", then all shared libraries in <em>files</em> are found and their paths inserted into the "find" location.  Note that the order will random.</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em></em><strong>library</strong></p>
  </dt>
  <dd>
    <p>Add the basename or full pathname of the shared library <em>library</em> to the list of objects to be checked for making private calls. This option may occur more than once on the command line and is additive. By default, only direct calls from a binary to the system libraries are checked.  The <strong>-l</strong> switch allows checking of indirect calls e.g.: app -&gt; supportlib -&gt; systemlib.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Loop through all of the binaries before checking and collect the list of all shared objects. Take the basename of each shared object found and act as though it was specified with the <strong>-l</strong> option option and then run the abicheck checks. This way, calls from all "application internal" objects are checked rather than just the direct calls.  (Useful when shared objects do not have their dependencies recorded.)</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p>Ignore shared libraries in checking, only check executables.  Compatible with <strong>-a,</strong> libraries will be searched for first but then not checked.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em></em><strong>dbfile,</strong><em></em><strong>-D</strong><em></em><strong>dbfile</strong></p>
  </dt>
  <dd>
    <p>Specify fallback flat-file symbol database for the dynamic (public vs. private) test.  These classifications will be used if the library is not versioned (i.e. classification does not exist in the library itself).  Use <strong>-D</strong> to indicate that only information from <em>dbfile</em> should be used. Lines in <em>dbfile</em> can be of one of these forms:</p><p>	library|symbol</p><p>	library|class|symbol</p><p>	library|FILE=path</p><p><em>library</em> must be the full path to the library to be specified (it cannot be a basename).</p><p>The first form marks <em>symbol</em> as private.</p><p>The second form marks <em>symbol</em> with <em>class</em> where <em>class</em> may be public, private, or evolving.</p><p>The third form indicates the file <em>path</em> should be opened on demand when <em>library</em> is first encountered.  File <em>path</em> contains lines of the first two forms except for the <em>library</em> field. The third form is a speedup to avoid processing many classification lines for libraries never encountered in the run.</p>
  </dd>
  <dt>
    <p><strong>-O</strong><em></em><strong>dbfile</strong></p>
  </dt>
  <dd>
    <p>Specify an override file to modify the symbol classification for the dynamic (public vs. private) test.  The format for the override file is like:</p><p>	library|symbol|class</p><p>The library can be the full path or basename. If library is "__SKIP__" the symbol will be ignored for any library it is found in.  The class can be "public", "private", "evolving", or "deleted". The "deleted" class is special-cased, means the symbol was deleted from the library on some release. The symbol "__ALL__" for the "deleted" class means the entire library was deleted or is otherwise unstable to use.</p><p>Examples:</p><p>	libfoo.so.1|__bar|private</p><p>	/lib/libxyz.so.1|baz|public</p><p>	__SKIP__|__fputwc_xpg5</p><p>These settings override any classification inside the library (from library versioning, obtainable from <strong>pvs</strong>(1), etc).</p>
  </dd>
  <dt>
    <p><strong>-A</strong><em></em><strong>listfile</strong></p>
  </dt>
  <dd>
    <p>Set the ABI libraries of interest to the libraries listed in <em>listfile</em> (full pathnames, one per line). Only calls into these libraries will be checked; all other library calls will be ignored.</p>
  </dd>
  <dt>
    <p><strong>-s</strong><em></em><strong>dbfile,</strong><em></em><strong>-S</strong><em></em><strong>dbfile</strong></p>
  </dt>
  <dd>
    <p>Specify more extensive symbol databases for the static linking test. <em>dbfile</em> may be a comma separated list of files.  If a file is a static archive (lib*.a) it is processed to extract the symbols.  Otherwise it is a database file consisting of lines of the form symbol|library:module for example:</p>
<pre>
        shmat|/usr/lib/libc.a:shmsys.o
</pre>

<pre>
        shmctl|/usr/lib/libc.a:shmsys.o
</pre>

<pre>
        shmdt|/usr/lib/libc.a:shmsys.o
</pre>

<pre>
        shmget|/usr/lib/libc.a:shmsys.o
</pre>

<pre>
        ...
</pre>
<p>When all symbols in a module.o are defined in the application, static linking of that module (and corresponding library archive) is assumed.  Use <strong>-S</strong> to indicate that only the static link test should be performed.</p><p>Use <strong>-S &nbsp;int</strong> to do only the static link check and using the internal database.</p><p>Use <strong>-s &nbsp;none</strong> or <strong>-S &nbsp;none</strong> to skip the static linking check entirely.</p>
  </dd>
  <dt>
    <p><strong>-j</strong><em></em><strong>njobs</strong></p>
  </dt>
  <dd>
    <p>Run <em>njobs</em> in parallel as separate processes. Implies <strong>-k</strong>. Primarily intended for multiple CPU machines where <em>njobs</em> should be close to the number of processors.  Output is collected in tmp files and printed all at once near the end of the run as each job finishes.</p><p>If <em>njobs</em> is "-", "detect", or "n", then <em>njobs</em> will be set to a number depending on the number of processors on the current machine (if that can be determined).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPERANDS</h2>
        <div class="sectioncontent">
<p>The following operands are supported:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>files</em></p>
  </dt>
  <dd>
    <p>A list of application binary objects to check.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT</h2>
        <div class="sectioncontent">
<p>There is one line per problem (there may be multiple problems per binary checked) which look like the following:</p><p>If no problems were found:</p>
<pre>
    <em>filename</em>: OK
</pre>
<p>If private symbol usage:</p>
<pre>
    <em>filename:</em> PRIVATE
</pre>
<p>(<em>library</em>:<em>private_version</em>) <em>private_sym</em></p><p>If evolving symbol usage:</p>
<pre>
    <em>filename</em>: EVOLVING (<em>library</em>:<em>evolving_vers</em>) <em>evolving_sym</em>
</pre>
<p>If file statically linked in a system archive library:</p>
<pre>
    <em>filename</em>: STATIC_LINK (<em>archive</em>)
</pre>
<p>If checking of the file was skipped:</p>
<pre>
    <em>filename</em>: SKIP (<em>reason</em>)
</pre>
<p>Under use of the deleted class in the <strong>-O</strong> override file option, these problems may be found:</p><p>If a symbol has been deleted from the library on some release:</p>
<pre>
    <em>filename</em>: DELETED_SYM: <em>symbol</em>/<em>library</em>
</pre>
<p>(<em>library</em> will be "unbound" if the symbol was unbound)</p><p>If an entire library has been deleted on some release or is otherwise unstable to use:</p>
<pre>
   <em>filename</em>: UNSTABLE_LIB: <em>library-soname</em> = <em>library-path</em>
</pre>
<p>(<em>library-path</em> may be "file not found" if the library could not be found)</p><p>The following problems will cause a fatal error unless the <strong>-k</strong> option is used:</p><p>If the dynamic linker could not resolve <em>N</em> symbols when <strong>ldd -r</strong> was run:</p>
<pre>
    <em>filename</em>: UNBOUND_SYMBOLS: <em>N</em>
</pre>
<p>If the dynamic linker found no dynamic bindings:</p>
<pre>
    <em>filename</em>: NO_BINDINGS
</pre>
<p>If <strong>ldd -r</strong> with <strong>LD_DEBUG=files,bindings</strong> failed:</p>
<pre>
    <em>filename</em>: LDD_ERROR
</pre>
<p>In these latter three cases run <strong>ldd -r</strong> on the binary file for more information on what went wrong (note that <strong>abicheck</strong> runs <strong>ldd -r</strong> with <strong>LD_DEBUG=files,bindings</strong> set). On some systems the dynamic linker will not process SUID programs with <strong>LD_DEBUG</strong> set (this usually results in <strong>NO_BINDINGS</strong> in the <strong>abicheck</strong> output).</p><p>Note that if you are running abicheck on a shared library (for example, libfoo.so) that has <em>not</em> been built with <strong>-l</strong> <em>lib</em> flags to record its library dependencies, then the "unbound symbols" problem is very likely. There is not much that can be done besides rebuilding the library or checking an application binary that uses the library and using the <strong>-l</strong> option of <strong>abicheck.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The following exit values are returned:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>No errors and no problems found.</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>A fatal error occurred.</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>No fatal errors occurred, but some binaries had problems detected.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Only ELF objects are checked.</p><p>In the <strong>-s</strong>\, <strong>-S</strong>\, <strong>-d</strong>\, and <strong>-O</strong> dbfiles the '#' character starts a comment line in the usual way.</p><p>Unless one is using the "::" custom matches supplied via the <strong>-p</strong> or <strong>-e</strong> flags, abicheck can only check against system libraries that have had symbol versioning applied to them (i.e. the private and/or evolving information recorded for each symbol in the library itself). For more info about symbol versioning, see the "Solaris Linker and Libraries Guide" answerbook at the URL http://docs.sun.com/ab2/coll.45.13 and the Commands/Version-Script section of the GNU linker "ld" info page.</p><p>The default symbol version name matching patterns are case insensitive matches to the strings "private" and "evolving" for the private and evolving cases, respectively.</p><p>Odd filenames containing the single-quote character or newline will be skipped; such characters interfere with calling commands via the shell.</p><p>To recurse directories use <a href="../man1/find.1.html"><strong>find</strong>(1)</a> and either collect the output to a file for use with the <strong>-f</strong> option, or in a pipe in via:</p>
<pre>
        find ... | abicheck -f - ...
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The program is dependent on the form of the runtime linker's debug output.  Since this output is intended to be human readable rather than machine readable, <strong>abicheck</strong> will break whenever the output format changes.  On Solaris it is possible that the Link Auditing C interface could be used to avoid this problem.</p><p>On Linux when <a href="../man1/ldd.1.html"><strong>ldd</strong>(1)</a> is run on a SUID binary, it (ldd and the dynamic-linker) will sometimes actually run the binary. On Linux SUID/SGID binaries are currently skipped even if the user is root; test unprivileged copies instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO abicheck&hellip;</h2>
        <div class="sectioncontent">
<p><strong>ld</strong>(1), <a href="../man1/ldd.1.html"><strong>ldd</strong>(1)</a>,</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="abi-dumper.1.html"><span aria-hidden="true">&larr;</span> abi-dumper.1: A tool to dump abi of an elf object containing dwarf debug info</a></li>
   <li class="next"><a href="abinit.1.html">abinit.1: Ab initio atomic-scale simulation software <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
