<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pgmnorm: Normalize the contrast in a netbpm image</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Normalize the contrast in a netbpm image">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pgmnorm (1) manual">
  <meta name="twitter:description" content="Normalize the contrast in a netbpm image">
  <meta name="twitter:image" content="https://www.carta.tech/images/netpbm-pgmnorm-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pgmnorm.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pgmnorm (1) manual" />
  <meta property="og:description" content="Normalize the contrast in a netbpm image" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/netpbm-pgmnorm-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pgmnorm<small> (1)</small></h1>
        <p class="lead">Normalize the contrast in a netbpm image</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pgmnorm.1.html">
      <span itemprop="name">pgmnorm: Normalize the contrast in a netbpm image</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/netpbm/">
      <span itemprop="name">netpbm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pgmnorm.1.html">
      <span itemprop="name">pgmnorm: Normalize the contrast in a netbpm image</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pnmnorm</strong> [<strong>-bpercent</strong> <em>N</em> | <strong>-bvalue</strong> <em>N</em>] [<strong>-wpercent</strong> <em>N</em> | <strong>-wvalue</strong> <em>N</em>] [<strong>-keephues</strong>] [<strong>-brightmax</strong>]</p><p>[<em>ppmfile</em>]</p><p>All options can be abbreviated to their shortest unique prefix.  You may use two hyphens instead of one to designate an option.  You may use either white space or an equals sign between an option name and its value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Reads a PNM image (PBM, PGM, or PPM). Normalizes the contrast by forcing the lightest pixels to white, the darkest pixels to black, and linearly rescaling the ones in between; and produces the same kind of file as output.  This is pretty useless for a PBM image.</p><p>The program first determines a mapping of old brightness to new brightness. For each possible brightness of a pixel, the program determines a corresponding brightness for the output image.</p><p>Then for each pixel in the image, the program computes a color which has the desired output brightness and puts that in the output.  With a color image, it is not always possible to compute such a color and retain any semblance of the original hue, so the brightest and dimmest pixels may only approximate the desired brightness.</p><p>Note that for a PPM image, this is different from separately normalizing the individual color components.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>By default, the darkest 2 percent of all pixels are mapped to black, and the lightest 1 percent are mapped to white. You can override these percentages by using the <strong>-bpercent</strong> and <strong>-wpercent</strong> flags, or you can specify the exact pixel values to be mapped by using the <strong>-bvalue</strong> and <strong>-wvalue</strong> flags. Appropriate numbers for the flags can be gotten from the <em>ppmhist</em> tool. If you just want to enhance the contrast, then choose values at elbows in the histogram; e.g. if value 29 represents 3% of the image but value 30 represents 20%, choose 30 for <em>bvalue</em>. If you want to lighten the image, then set <em>bvalue</em> to 0 and just fiddle with <em>wvalue</em>; similarly, to darken the image, set <em>wvalue</em> to maxval and play with <em>bvalue</em>.</p><p>The <strong>-keephues</strong> option says to keep each pixel the same hue as it is in the input; just adjust its intensity.  By default, <strong>pnmnorm</strong> normalizes contrast in each component independently (except that the meaning of the <strong>-wpercent</strong> and <strong>-bpercent</strong> options are based on the overall intensities of the colors, not each component taken separately).  So if you have a color which is intensely red but dimly green, <strong>pnmnorm</strong> would make the red more intense and the green less intense, so you end up with a different hue than you started with.</p><p>If you specify <strong>-keephues</strong>, <strong>pnmnorm</strong> would likely leave this pixel alone, since its overall intensity is medium.</p><p><strong>-keephues</strong> can cause clipping, because a certain color may be below a target intensity while one of its components is saturated.  Where that's the case, <strong>pnmnorm</strong> uses the maximum representable intensity for the saturated component and the pixel ends up with less overall intensity, and a different hue, than it is supposed to have.</p><p>This option is meaningless on grayscale images.</p><p>Before March 2002, there was no <strong>-keephues</strong> option.</p><p>The <strong>-brightmax</strong> option says to use the intensity of the most intense RGB component of a pixel as the pixel's brightness.  By default, <strong>pnmnorm</strong> uses the luminosity of the color as its brightness.</p><p>This option is meaningless on grayscale images.</p><p>Before March 2002, there was no <strong>-brightmax</strong> option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pgmnorm&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ppmhist.1.html"><strong>ppmhist</strong>(1)</a>, <a href="../man1/pgmhist.1.html"><strong>pgmhist</strong>(1)</a>, <a href="../man1/pnmgamma.1.html"><strong>pnmgamma</strong>(1)</a>, <a href="../man1/ppmbrighten.1.html"><strong>ppmbrighten</strong>(1)</a>, <a href="../man1/ppmdim.1.html"><strong>ppmdim</strong>(1)</a>, <a href="../man5/pnm.5.html"><strong>pnm</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pgmnoise.1.html"><span aria-hidden="true">&larr;</span> pgmnoise.1: Create a graymap made up of white noise</a></li>
   <li class="next"><a href="pgmoil.1.html">pgmoil.1: Turn a pam image into an oil painting <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
