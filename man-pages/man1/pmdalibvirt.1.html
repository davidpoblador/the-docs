<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pmdalibvirt - libvirt PMDA</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Libvirt pmda">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pmdalibvirt<small> (1)</small></h1>
        <p class="lead">Libvirt pmda</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pmdalibvirt.1.html">
      <span itemprop="name">pmdalibvirt</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pcp/">
      <span itemprop="name">pcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pmdalibvirt.1.html">
      <span itemprop="name">pmdalibvirt</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>\f3pmdalibvirt\f1 is a Performance Metrics Domain Agent (\s-1PMDA\s0) which extracts live performance data from libvirt hypervisor and domains (VMs).</p>
<p class='spacer'>

<p>See the libvirt documentation for detailed description of each metric.</p>
<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTALLATION</h2>
        <div class="sectioncontent">

  <p>\f3pmdalibvirt\f1 reads an optional ini-style configuration file</p>
  <dl class='dl-horizontal'>
    <dt>&bull;</dt>
    <dd>
  <p><em>$PCP_PMDAS_DIR/libvirt/libvirt.conf</em></p>
    </dd>
  </dl>
<p class='spacer'>

  <p>This file can contain in its \f3[pmda]\f1 section overriding values for the following PMDA options:</p>
  <dl class='dl-horizontal'>
    <dt>&bull;</dt>
    <dd>
  <p>oldapi</p>
    </dd>
    <dt>&bull;</dt>
    <dd>
  <p>user</p>
    </dd>
    <dt>&bull;</dt>
    <dd>
  <p>uri</p>
    </dd>
  </dl>
<p class='spacer'>

<p>By default, \f3False\f1, \f3root\f1 and \f3qemu:///system\f1 are used, respectively.</p>
<p class='spacer'>

<p>The old API setting can be used in environments where recent libvirt API additions are not available (e.g., RHEL 6 / libvirt-0.10.2) to provide some of the metrics available with the newer API. Regardless of the API version, no guest agent is needed for the metrics.</p>
<p class='spacer'>

<p>Note that using non-root user typically requires also libvirt side configuration; please refer to libvirt documentation for further details on this.</p>
<p class='spacer'>

<p>Once the needed setup is ready, you can test the connection and install the PMDA to enable access to the names and values for the libvirt performance metrics. To install, do the following as root:</p>
<p class='spacer'>

<pre>      # cd $PCP_PMDAS_DIR/libvirt</pre>

<p class='spacer'>

<pre>      # ./connect</pre>

<p class='spacer'>

<pre>      # ./Install</pre>

<p class='spacer'>

<p>To uninstall, do the following as root:</p>
<p class='spacer'>

<pre>      # cd $PCP_PMDAS_DIR/libvirt</pre>

<p class='spacer'>

<pre>      # ./Remove</pre>

<p class='spacer'>

<p><strong>pmdalibvirt</strong> is launched by <strong>pmcd</strong>(1) and should never be executed directly. The Install and Remove scripts notify <strong>pmcd</strong>(1) when the agent is installed or removed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

  <dl class='dl-horizontal'>
    <dt><strong>$PCP_PMDAS_DIR/libvirt/libvirt.conf</strong></dt>
    <dd>
  <p>configuration file for the <strong>pmdalibvirt</strong> agent</p>
    </dd>
    <dt><strong>$PCP_PMDAS_DIR/libvirt/connect</strong></dt>
    <dd>
  <p>connection test helper using the <strong>pmdalibvirt</strong> agent configuration</p>
    </dd>
    <dt><strong>$PCP_PMDAS_DIR/libvirt/Install</strong></dt>
    <dd>
  <p>installation script for the <strong>pmdalibvirt</strong> agent</p>
    </dd>
    <dt><strong>$PCP_PMDAS_DIR/libvirt/Remove</strong></dt>
    <dd>
  <p>undo installation script for the <strong>pmdalibvirt</strong> agent</p>
    </dd>
    <dt><strong>$PCP_LOG_DIR/pmcd/libvirt.log</strong></dt>
    <dd>
  <p>default log file for messages from the <strong>pmdalibvirt</strong> agent</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PCP ENVIRONMENT</h2>
        <div class="sectioncontent">

<p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by <strong>PCP</strong>. On each installation, the file <strong>/etc/pcp.conf</strong> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>PCPIntro</strong>(1), <strong>pmcd</strong>(1), <strong>virsh</strong>(1) and <strong>libvirtd</strong>(8).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pmdakvm.1.html"><span aria-hidden="true">&larr;</span> pmdakvm.1: Linux virtualization performance metrics domain agent (PMDA)</a></li>
   <li class="next"><a href="pmdalmsensors.1.html">pmdalmsensors.1: Linux hardware monitoring performance metrics domain agent (PMDA) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
