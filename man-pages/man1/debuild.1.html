<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>debuild: Build a debian package</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Build a debian package">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="debuild (1) manual">
  <meta name="twitter:description" content="Build a debian package">
  <meta name="twitter:image" content="https://www.carta.tech/images/devscripts-debuild-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/debuild.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="debuild (1) manual" />
  <meta property="og:description" content="Build a debian package" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/devscripts-debuild-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">debuild<small> (1)</small></h1>
        <p class="lead">Build a debian package</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debuild.1.html">
      <span itemprop="name">debuild: Build a debian package</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/devscripts/">
      <span itemprop="name">devscripts</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debuild.1.html">
      <span itemprop="name">debuild: Build a debian package</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>debuild</strong> [<em>debuild options</em>] [<em>dpkg-buildpackage options</em>] [<strong>--lintian-opts</strong> <em>lintian options</em>]</p><p><strong>debuild</strong> [<em>debuild options</em>] <strong>binary</strong>|<strong>binary-arch</strong>|<strong>binary-indep</strong>|<strong>clean</strong> ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>debuild</strong> creates all the files necessary for uploading a Debian package.  It first runs <strong>dpkg-buildpackage</strong>, then runs <strong>lintian</strong> on the <em>.changes</em> file created (assuming that <strong>lintian</strong> is installed), and finally signs the <em>.changes</em> and/or <em>.dsc</em> files as appropriate (using <a href="../man1/debsign.1.html"><strong>debsign</strong>(1)</a> to do this instead of <a href="../man1/dpkg-buildpackage.1.html"><strong>dpkg-buildpackage</strong>(1)</a> itself; all relevant key-signing options are passed on).  Parameters can be passed to <strong>dpkg-buildpackage</strong> and <strong>lintian</strong>, where the parameters to the latter are indicated with the <strong>--lintian-opts</strong> option. The allowable options in this case are <strong>--lintian</strong> and <strong>--no-lintian</strong> to force or skip the <strong>lintian</strong> step, respectively. The default is to run <strong>lintian</strong>.  There are also various options available for setting and preserving environment variables, as described below in the Environment Variables section.  In this method of running <strong>debuild</strong>, we also save a build log to the file <em>../&lt;package&gt;_&lt;version&gt;_&lt;arch&gt;.build</em>.</p><p>An alternative way of using <strong>debuild</strong> is to use one or more of the parameters <strong>binary</strong>, <strong>binary-arch</strong>, <strong>binary-indep</strong> and <strong>clean</strong>, in which case <strong>debuild</strong> will attempt to gain root privileges and then run <em>debian/rules</em> with the given parameters. A <strong>--rootcmd=</strong><em>gain-root-command</em> or <strong>-r</strong><em>gain-root-command</em> option may be used to specify a method of gaining root privileges.  The <em>gain-root-command</em> is likely to be one of <em>fakeroot</em>, <em>sudo</em> or <em>super</em>.  See below for further discussion of this point.  Again, the environment preservation options may be used.  In this case, <strong>debuild</strong> will also attempt to run <strong>dpkg-checkbuilddeps</strong> first; this can be explicitly requested or switched off using the options <strong>-D</strong> and <strong>-d</strong> respectively.  Note also that if either of these or a <strong>-r</strong> option is specified in the configuration file option <strong>DEBUILD_DPKG_BUILDPACKAGE_OPTS</strong>, then it will be recognised even in this method of invocation of <strong>debuild</strong>.</p><p><strong>debuild</strong> also reads the <strong>devscripts</strong> configuration files as described below.  This allows default options to be given.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Directory name checking</h2>
        <div class="sectioncontent">
<p>In common with several other scripts in the <strong>devscripts</strong> package, <strong>debuild</strong> will climb the directory tree until it finds a <em>debian/changelog</em> file before attempting to build the package. As a safeguard against stray files causing potential problems, it will examine the name of the parent directory once it finds the <em>debian/changelog</em> file, and check that the directory name corresponds to the package name.  Precisely how it does this is controlled by two configuration file variables <strong>DEVSCRIPTS_CHECK_DIRNAME_LEVEL</strong> and <strong>DEVSCRIPTS_CHECK_DIRNAME_REGEX</strong>, and their corresponding command-line options <strong>--check-dirname-level</strong> and <strong>--check-dirname-regex</strong>.</p><p><strong>DEVSCRIPTS_CHECK_DIRNAME_LEVEL</strong> can take the following values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>Never check the directory name.</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>Only check the directory name if we have had to change directory in our search for <em>debian/changelog</em>.  This is the default behaviour.</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>Always check the directory name.</p>
  </dd>

</dl>
<p>The directory name is checked by testing whether the current directory name (as determined by <a href="../man1/pwd.1.html"><strong>pwd</strong>(1)</a>) matches the regex given by the configuration file option <strong>DEVSCRIPTS_CHECK_DIRNAME_REGEX</strong> or by the command line option <strong>--check-dirname-regex</strong> <em>regex</em>.  Here <em>regex</em> is a Perl regex (see <strong>perlre</strong>(3perl)), which will be anchored at the beginning and the end.  If <em>regex</em> contains a '/', then it must match the full directory path.  If not, then it must match the full directory name.  If <em>regex</em> contains the string \'PACKAGE', this will be replaced by the source package name, as determined from the <em>changelog</em>.  The default value for the regex is: \'PACKAGE(-.+)?', thus matching directory names such as PACKAGE and PACKAGE-version.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>As environment variables can affect the building of a package, often unintentionally, <strong>debuild</strong> sanitises the environment by removing all environment variables except for <strong>TERM</strong>, <strong>HOME</strong>, <strong>LOGNAME</strong>, <strong>GNUPGHOME</strong>, <strong>PGPPATH</strong>, <strong>GPG_AGENT_INFO</strong>, <strong>FAKEROOTKEY</strong>, <strong>DEB_</strong><em>*</em>, the (<strong>C</strong>, <strong>CPP</strong>, <strong>CXX</strong>, <strong>LD</strong> and <strong>F</strong>)<strong>FLAGS</strong> variables and their <strong>_APPEND</strong> counterparts and the locale variables <strong>LANG</strong> and <strong>LC_</strong><em>*</em>.  <strong>TERM</strong> is set to `dumb' if it is unset, and <strong>PATH</strong> is set to "/usr/sbin:/usr/bin:/sbin:/bin:/usr/bin/X11".</p><p>If a particular environment variable is required to be passed through untouched to the build process, this may be specified by using a <strong>--preserve-envvar</strong> <em>envvar</em> (which can also be written as <strong>-e</strong> <em>envvar</em> option).  The environment may be left untouched by using the <strong>--preserve-env</strong> option.  However, even in this case, the <strong>PATH</strong> will be set to the sane value described above.  The <strong>only</strong> way to prevent <strong>PATH</strong> from being reset is to specify a <strong>--preserve-envvar PATH</strong> option.  But you are warned that using programs from non-standard locations can easily result in the package being broken, as it will not be able to be built on standard systems.</p><p>Note that one may add directories to the beginning of the sanitised <strong>PATH</strong>, using the <strong>--prepend-path</strong> option. This is useful when one wishes to use tools such as <strong>ccache</strong> or <strong>distcc</strong> for building.</p><p>It is also possible to avoid having to type something like <em>FOO</em><strong>=</strong><em>bar </em><strong>debuild -e </strong><em>FOO</em> by writing <strong>debuild -e</strong> <em>FOO</em><strong>=</strong><em>bar</em> or the long form <strong>debuild --set-envvar</strong> <em>FOO</em><strong>=</strong><em>bar</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPERUSER REQUIREMENTS</h2>
        <div class="sectioncontent">
<p><strong>debuild</strong> needs to be run as superuser to function properly. There are three fundamentally different ways to do this.  The first, and preferable, method is to use some root-gaining command.  The best one to use is probably <strong>fakeroot</strong>(1), since it does not involve granting any genuine privileges.  <a href="../man1/super.1.html"><strong>super</strong>(1)</a> and <strong>sudo</strong>(1) are also possibilities.  If no <strong>-r</strong> (or <strong>--rootcmd</strong>) option is given (and recall that <strong>dpkg-buildpackage</strong> also accepts a <strong>-r</strong> option) and neither of the following methods is used, then <strong>-rfakeroot</strong> will silently be assumed.</p><p>The second method is to use some command such as <strong>su</strong>(1) to become root, and then to do everything as root.  Note, though, that <strong>lintian</strong> will abort if it is run as root or setuid root; this can be overcome using the <strong>--allow-root</strong> option of <strong>lintian</strong> if you know what you are doing.</p><p>The third possible method is to have <strong>debuild</strong> installed as setuid root.  This is not the default method, and will have to be installed as such by the system administrator.  It must also be realised that anyone who can run <strong>debuild</strong> as root or setuid root has <strong>full</strong> access to the whole machine.  This method is therefore not recommended, but will work.  <strong>debuild</strong> could be installed with mode 4754, so that only members of the owning group could run it.  A disadvantage of this method would be that other users would then not be able to use the program.  There are many other variants of this option involving multiple copies of <strong>debuild</strong>, or the use of programs such as <strong>sudo</strong> or <strong>super</strong> to grant root privileges to users selectively.  If the sysadmin wishes to do this, she should use the <strong>dpkg-statoverride</strong> program to change the permissions of <em>/usr/bin/debuild</em>.  This will ensure that these permissions are preserved across upgrades.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOOKS</h2>
        <div class="sectioncontent">
<p><strong>debuild</strong> supports a number of hooks when running <strong>dpkg-buildpackage</strong>.  Note that if any of the hooks from <strong>clean-hook</strong> to <strong>final-clean</strong> (inclusive) are used, <strong>debuild</strong> will emulate some sections of the <strong>dpkg-buildpackage</strong> process rather than running them directly, as <strong>dpkg-buildpackage</strong> does not support hooks.  The available hooks are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>dpkg-buildpackage-hook</strong></p>
  </dt>
  <dd>
    <p>Run before <strong>dpkg-buildpackage</strong> begins by calling <strong>dpkg-checkbuilddeps</strong>.</p>
  </dd>
  <dt>
    <p><strong>clean-hook</strong></p>
  </dt>
  <dd>
    <p>Run before <strong>dpkg-buildpackage</strong> runs <strong>debian/rules clean</strong> to clean the source tree.  (Run even if the tree is not being cleaned because <strong>-nc</strong> is used.)</p>
  </dd>
  <dt>
    <p><strong>dpkg-source-hook</strong></p>
  </dt>
  <dd>
    <p>Run after cleaning the tree and before running <strong>dpkg-source</strong>.  (Run even if <strong>dpkg-source</strong> is not being called because <strong>-b</strong>, <strong>-B</strong>, or <strong>-A</strong> is used.)</p>
  </dd>
  <dt>
    <p><strong>dpkg-build-hook</strong></p>
  </dt>
  <dd>
    <p>Run after <strong>dpkg-source</strong> and before calling <strong>debian/rules build</strong>.  (Run even if this is a source-only build, so <strong>debian/rules build</strong> is not being called.)</p>
  </dd>
  <dt>
    <p><strong>dpkg-binary-hook</strong></p>
  </dt>
  <dd>
    <p>Run between <strong>debian/rules build</strong> and <strong>debian/rules binary</strong>(<strong>-arch</strong>).  Run <strong>only</strong> if a binary package is being built.</p>
  </dd>
  <dt>
    <p><strong>dpkg-genchanges-hook</strong></p>
  </dt>
  <dd>
    <p>Run after the binary package is built and before calling <strong>dpkg-genchanges</strong>.</p>
  </dd>
  <dt>
    <p><strong>final-clean-hook</strong></p>
  </dt>
  <dd>
    <p>Run after <strong>dpkg-genchanges</strong> and before the final <strong>debian/rules clean</strong>. (Run even if we are not cleaning the tree post-build, which is the default.)</p>
  </dd>
  <dt>
    <p><strong>lintian-hook</strong></p>
  </dt>
  <dd>
    <p>Run (once) before calling <strong>lintian</strong>.  (Run even if we are not calling <strong>lintian</strong>.)</p>
  </dd>
  <dt>
    <p><strong>signing-hook</strong></p>
  </dt>
  <dd>
    <p>Run after calling <strong>lintian</strong> before any signing takes place. (Run even if we are not signing anything.)</p>
  </dd>
  <dt>
    <p><strong>post-dpkg-buildpackage-hook</strong></p>
  </dt>
  <dd>
    <p>Run after everything has finished.</p>
  </dd>

</dl>
<p>A hook command can be specified either in the configuration file as, for example, DEBUILD_SIGNING_HOOK='foo' (note the hyphens change into underscores!) or as a command line option <strong>--signing-hook-foo</strong>. The command will have certain percent substitutions made on it: <strong>%%</strong> will be replaced by a single <strong>%</strong> sign, <strong>%p</strong> will be replaced by the package name, <strong>%v</strong> by the package version number, <strong>%s</strong> by the source version number, <strong>%u</strong> by the upstream version number.  Neither <strong>%s</strong> nor <strong>%u</strong> will contain an epoch.  <strong>%a</strong> will be <strong>1</strong> if the immediately following action is to be performed and <strong>0</strong> if not (for example, in the <strong>dpkg-source</strong> hook, <strong>%a</strong> will become <strong>1</strong> if <strong>dpkg-source</strong> is to be run and <strong>0</strong> if not).  Then it will be handed to the shell to deal with, so it can include redirections and stuff.  For example, to only run the <strong>dpkg-source</strong> hook if <strong>dpkg-source</strong> is to be run, the hook could be something like: "if [ %a -eq 1 ]; then ...; fi".</p><p><strong>Please take care with hooks</strong>, as misuse of them can lead to packages which FTBFS (fail to build from source).  They can be useful for taking snapshots of things or the like.</p><p>Finally, only <strong>dpkg-buildpackage-hook</strong> and the hooks from <strong>lintian-hook</strong> onwards can be used if <strong>dpkg-cross</strong> is installed.  (This is because internally, <strong>debuild</strong> reimplements <strong>dpkg-buildpackage</strong>, but it does not attempt to reimplement the <strong>dpkg-cross</strong> replacement of this script.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>For details, see above.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--no-conf</strong>, <strong>--noconf</strong></p>
  </dt>
  <dd>
    <p>Do not read any configuration files.  This can only be used as the first option given on the command-line.</p>
  </dd>
  <dt>
    <p><strong>--rootcmd=</strong><em>gain-root-command</em>, <strong>-r</strong><em>gain-root-command</em></p>
  </dt>
  <dd>
    <p>Command to gain root (or fake root) privileges.</p>
  </dd>
  <dt>
    <p><strong>--preserve-env</strong></p>
  </dt>
  <dd>
    <p>Do not clean the environment, except for PATH.</p>
  </dd>
  <dt>
    <p><strong>--preserve-envvar=</strong><em>var</em>, <strong>-e</strong><em>var</em></p>
  </dt>
  <dd>
    <p>Do not clean the <em>var</em> variable from the environment.</p><ul>
<li><p>If <em>var</em> ends in an asterisk ("*") then all variables with names that match the portion of <em>var</em> before the asterisk will be preserved.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--set-envvar=</strong><em>var</em><strong>=</strong><em>value</em>, <strong>-e</strong><em>var</em><strong>=</strong><em>value</em></p>
  </dt>
  <dd>
    <p>Set the environment variable <em>var</em> to <em>value</em> and do not remove it from the environment.</p>
  </dd>
  <dt>
    <p><strong>--prepend-path=</strong><em>value </em></p>
  </dt>
  <dd>
    <p>Once the normalized PATH has been set, prepend <em>value</em> to it.</p>
  </dd>
  <dt>
    <p><strong>--lintian</strong></p>
  </dt>
  <dd>
    <p>Run <strong>lintian</strong> after <strong>dpkg-buildpackage</strong>.  This is the default behaviour, and it overrides any configuration file directive to the contrary.</p>
  </dd>
  <dt>
    <p><strong>--no-lintian</strong></p>
  </dt>
  <dd>
    <p>Do not run <strong>lintian</strong> after <strong>dpkg-buildpackage</strong>.</p>
  </dd>
  <dt>
    <p><strong>--no-tgz-check</strong></p>
  </dt>
  <dd>
    <p>Even if we're running <strong>dpkg-buildpackage</strong> and the version number has a Debian revision, do not check that the <em>.orig.tar.gz</em> file or <em>.orig</em> directory exists before starting the build.</p>
  </dd>
  <dt>
    <p><strong>--tgz-check</strong></p>
  </dt>
  <dd>
    <p>If we're running <strong>dpkg-buildpackage</strong> and the version number has a Debian revision, check that the <em>.orig.tar.gz</em> file or <em>.orig</em> directory exists before starting the build.  This is the default behaviour.</p>
  </dd>
  <dt>
    <p><strong>--username</strong> <em>username</em></p>
  </dt>
  <dd>
    <p>When signing, use <strong>debrsign</strong> instead of <strong>debsign</strong>. <em>username</em> specifies the credentials to be used.</p>
  </dd>
  <dt>
    <p><strong>--</strong><em>foo</em><strong>-hook</strong>=<em>hook</em></p>
  </dt>
  <dd>
    <p>Set a hook as described above.  If <em>hook</em> is blank, this unsets the hook.</p>
  </dd>
  <dt>
    <p><strong>--clear-hooks</strong></p>
  </dt>
  <dd>
    <p>Clears all hooks.  They may be reinstated by later command line options.</p>
  </dd>
  <dt>
    <p><strong>--check-dirname-level</strong> <em>N</em></p>
  </dt>
  <dd>
    <p>See the above section <strong>Directory name checking</strong> for an explanation of this option.</p>
  </dd>
  <dt>
    <p><strong>--check-dirname-regex</strong> <em>regex</em></p>
  </dt>
  <dd>
    <p>See the above section <strong>Directory name checking</strong> for an explanation of this option.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Do not run <strong>dpkg-checkbuilddeps</strong> to check build dependencies.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Run <strong>dpkg-checkbuilddeps</strong> to check build dependencies.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION VARIABLES</h2>
        <div class="sectioncontent">
<p>The two configuration files <em>/etc/devscripts.conf</em> and <em>~/.devscripts</em> are sourced by a shell in that order to set configuration variables.  Command line options can be used to override some of these configuration file settings, otherwise the <strong>--no-conf</strong> option can be used to prevent reading these files. Environment variable settings are ignored when these configuration files are read.  The currently recognised variables are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>DEBUILD_PRESERVE_ENV</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>yes</em>, then it is the same as the <strong>--preserve-env</strong> command line parameter being used.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_PRESERVE_ENVVARS</strong></p>
  </dt>
  <dd>
    <p>Which environment variables to preserve.  This should be a comma-separated list of variables.  This corresponds to using possibly multiple <strong>--preserve-envvar</strong> or <strong>-e</strong> options.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_SET_ENVVAR_</strong><em>var</em><strong>=</strong><em>value</em></p>
  </dt>
  <dd>
    <p>This corresponds to <strong>--set-envvar=</strong><em>var</em><strong>=</strong><em>value</em>.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_PREPEND_PATH</strong></p>
  </dt>
  <dd>
    <p>This corresponds to <strong>--prepend-path</strong>.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_ROOTCMD</strong></p>
  </dt>
  <dd>
    <p>Setting this variable to <em>prog</em> is the equivalent of <strong>-r</strong><em>prog</em>.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_TGZ_CHECK</strong></p>
  </dt>
  <dd>
    <p>Setting this variable to <em>no</em> is the same as the <strong>--no-tgz-check</strong> command line option.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_SIGNING_USERNAME</strong></p>
  </dt>
  <dd>
    <p>Setting this variable is the same as using the <strong>--username</strong> command line option.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_DPKG_BUILDPACKAGE_OPTS</strong></p>
  </dt>
  <dd>
    <p>These are options which should be passed to the invocation of <strong>dpkg-buildpackage</strong>.  They are given before any command-line options.  Due to issues of shell quoting, if a word containing spaces is required as a single option, extra quotes will be required.  For example, to ensure that your own GPG key is always used, even for sponsored uploads, the configuration file might contain the line:</p><ul>
<li>
<pre>
DEBUILD_DPKG_BUILDPACKAGE_OPTS="-k'Julian Gilbey &lt;jdg@debian.org&gt;' -sa"
</pre>
</li><li><p>which gives precisely two options.  Without the extra single quotes, <strong>dpkg-buildpackage</strong> would reasonably complain that <em>Gilbey</em> is an unrecognised option (it doesn't start with a <strong>-</strong> sign).</p></li><li><p>Also, if this option contains any <strong>-r</strong>, <strong>-d</strong> or <strong>-D</strong> options, these will always be taken account of by <strong>debuild</strong>.  Note that a <strong>-r</strong> option in this variable will override the setting in <strong>DEBUILD_ROOTCMD</strong>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>DEBUILD_</strong><em>FOO</em><strong>_HOOK</strong></p>
  </dt>
  <dd>
    <p>The hook variable for the <em>foo</em> hook.  See the section on hooks above for more details.  By default, this is empty.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_LINTIAN</strong></p>
  </dt>
  <dd>
    <p>Should we run <strong>lintian</strong>?  If this is set to <em>no</em>, then <strong>lintian</strong> will not be run.</p>
  </dd>
  <dt>
    <p><strong>DEBUILD_LINTIAN_OPTS</strong></p>
  </dt>
  <dd>
    <p>These are options which should be passed to the invocation of <strong>lintian</strong>.  They are given before any command-line options, and the usage of this variable is as described for the <strong>DEBUILD_DPKG_BUILDPACKAGE_OPTS</strong> variable.</p>
  </dd>
  <dt>
    <p><strong>DEVSCRIPTS_CHECK_DIRNAME_LEVEL</strong>, <strong>DEVSCRIPTS_CHECK_DIRNAME_REGEX</strong></p>
  </dt>
  <dd>
    <p>See the above section <strong>Directory name checking</strong> for an explanation of these variables.  Note that these are package-wide configuration variables, and will therefore affect all <strong>devscripts</strong> scripts which check their value, as described in their respective manpages and in <a href="../man5/devscripts.conf.5.html"><strong>devscripts.conf</strong>(5)</a>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To build your own package, simply run <strong>debuild</strong> from inside the source tree.  <a href="../man1/dpkg-buildpackage.1.html"><strong>dpkg-buildpackage</strong>(1)</a> options may be given on the command line.</p><p>The typical command line options to build only the binary package(s) without signing the .changes file (or the non-existent .dsc file):</p><ul>
<li>
<pre>
debuild -i -us -uc -b
</pre>
</li>
</ul><p>Change the <strong>-b</strong> to <strong>-S</strong> to build only a source package.</p><p>An example using <strong>lintian</strong> to check the resulting packages and passing options to it:</p><ul>
<li>
<pre>
debuild --lintian-opts -i
</pre>
</li>
</ul><p>Note the order of options here: the <strong>debuild</strong> options come first, then the <strong>dpkg-buildpackage</strong> ones, then finally the checker options.  (And <strong>lintian</strong> is called by default.)  If you find yourself using the same <strong>dpkg-buildpackage</strong> options repeatedly, consider using the <strong>DEBUILD_DPKG_BUILDPACKAGE_OPTS</strong> configuration file option as described above.</p><p>To build a package for a sponsored upload, given <em>foobar_1.0-1.dsc</em> and the respective source files, run something like the following commands:</p><ul>
<li>
<pre>
dpkg-source -x foobar_1.0-1.dsc
cd foobar-1.0
debuild -k0x12345678
</pre>
</li>
</ul><p>where 0x12345678 is replaced by your GPG key ID or other key identifier such as your email address.  Again, you could also use the <strong>DEBUILD_DPKG_BUILDPACKAGE_OPTS</strong> configuration file option as described above to avoid having to type the <strong>-k</strong> option each time you do a sponsored upload.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO debuild&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/chmod.1.html"><strong>chmod</strong>(1)</a>, <a href="../man1/debsign.1.html"><strong>debsign</strong>(1)</a>, <a href="../man1/dpkg-buildpackage.1.html"><strong>dpkg-buildpackage</strong>(1)</a>, <a href="../man1/dpkg-checkbuilddeps.1.html"><strong>dpkg-checkbuilddeps</strong>(1)</a>, <strong>fakeroot</strong>(1), <strong>lintian</strong>(1), <strong>su</strong>(1), <strong>sudo</strong>(1), <a href="../man1/super.1.html"><strong>super</strong>(1)</a>, <a href="../man5/devscripts.conf.5.html"><strong>devscripts.conf</strong>(5)</a>, <a href="../man8/dpkg-statoverride.8.html"><strong>dpkg-statoverride</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The original <strong>debuild</strong> program was written by Christoph Lameter &lt;clameter@debian.org&gt;.  The current version has been written by Julian Gilbey &lt;jdg@debian.org&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="debugapp.1.html"><span aria-hidden="true">&larr;</span> debugapp.1: A wrapper for openapp.</a></li>
   <li class="next"><a href="debuild-pbuilder.1.html">debuild-pbuilder.1: A "debuild" wrapper to satisfy build-dependency before debuild <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
