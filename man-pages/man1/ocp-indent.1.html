<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ocp-indent: Automatic indentation of ocaml source files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Automatic indentation of ocaml source files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ocp-indent (1) manual">
  <meta name="twitter:description" content="Automatic indentation of ocaml source files">
  <meta name="twitter:image" content="https://www.carta.tech/images/ocp-indent-ocp-indent-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ocp-indent.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ocp-indent (1) manual" />
  <meta property="og:description" content="Automatic indentation of ocaml source files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ocp-indent-ocp-indent-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ocp-indent<small> (1)</small></h1>
        <p class="lead">Automatic indentation of ocaml source files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ocp-indent.1.html">
      <span itemprop="name">ocp-indent: Automatic indentation of ocaml source files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ocp-indent/">
      <span itemprop="name">ocp-indent</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ocp-indent.1.html">
      <span itemprop="name">ocp-indent: Automatic indentation of ocaml source files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ocp-indent</strong> [<em>OPTION</em>]... [<em>FILE</em>]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Indent OCaml source files according to the official conventions, with a small number of tunable parameters.</p><p>Outputs the indented version of each FILE given in the command line to standard output, unless invoked with the `--inplace' option (see <strong>OPTIONS</strong> below). If no FILE is provided, reads from standard input.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c</strong> <em>CONFIG</em>, <strong>--config</strong>=<em>CONFIG</em></p>
  </dt>
  <dd>
    <p>Configure the indentation parameters. See section <strong>CONFIGURATION</strong> for more information.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Enable debug output to stderr.</p>
  </dd>
  <dt>
    <p><strong>--help</strong>[=<em>FMT</em>] (default=pager)</p>
  </dt>
  <dd>
    <p>Show this help in format <em>FMT</em> (pager, plain or groff).</p>
  </dd>
  <dt>
    <p><strong>-i</strong>, <strong>--inplace</strong></p>
  </dt>
  <dd>
    <p>Re-indent files in-place.</p>
  </dd>
  <dt>
    <p><strong>-l</strong> <em>RANGE</em>, <strong>--lines</strong>=<em>RANGE</em> (absent=-)</p>
  </dt>
  <dd>
    <p>Only re-indent the lines in <em>RANGE</em> (eg. 10-12), adapting to the current indentation of surrounding lines. Lines start at 1.</p>
  </dd>
  <dt>
    <p><strong>--load-mods</strong>=<em>VAL</em></p>
  </dt>
  <dd>
    <p>Load plugins.</p>
  </dd>
  <dt>
    <p><strong>--load-pkgs</strong>=<em>VAL</em></p>
  </dt>
  <dd>
    <p>Load plugins.</p>
  </dd>
  <dt>
    <p><strong>--numeric</strong></p>
  </dt>
  <dd>
    <p>Instead of re-indenting the file, output one integer per line representing the indentation value. When specified together with <em>--lines</em>, only print as many values as lines in the range.</p>
  </dd>
  <dt>
    <p><strong>-o</strong> <em>FILE</em>, <strong>--output</strong>=<em>FILE</em></p>
  </dt>
  <dd>
    <p>Output to <em>FILE</em>. The default is to print to stdout.</p>
  </dd>
  <dt>
    <p><strong>--print-config</strong></p>
  </dt>
  <dd>
    <p>Print the current parameters to stdout and exit. (See section <strong>CONFIGURATION</strong> for more information.)</p>
  </dd>
  <dt>
    <p><strong>--syntax</strong>=<em>VAL</em></p>
  </dt>
  <dd>
    <p>Extend the handled syntax for OCaml syntax extensions.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Show version information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>Parameters can be defined on the command-line via the <em>--config</em> option, or as a configuration definition in one of the following, searched in order: a file named `.ocp-indent' in the current directory or its parents (which allows for per-project indentation settings), the file `HOME/.ocp/ocp-indent.conf', or the environment variable OCP_INDENT_CONFIG.</p><p>A configuration definition is a list of bindings in the form <em>NAME=VALUE</em> or of <em>PRESET</em>, separated by commas or newlines</p><p>Syntax: <strong>[PRESET,]VAR=VALUE[,VAR=VALUE...]</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>base</strong>=INT (default=2)</p>
  </dt>
  <dd>
    <p>Indentation used when none of the following options applies.</p>
  </dd>

</dl>
<p>        let foo =</p><p>        <strong>..</strong>bar</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>type</strong>=INT (default=2)</p>
  </dt>
  <dd>
    <p>Indentation for type definitions.</p>
  </dd>

</dl>
<p>        type t =</p><p>        <strong>..</strong>int</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>in</strong>=INT (default=0)</p>
  </dt>
  <dd>
    <p>Indentation after `let ... in', unless followed by another `let'.</p>
  </dd>

</dl>
<p>        let foo = () in</p><p>        <strong>..</strong>bar</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>with</strong>=INT (default=0)</p>
  </dt>
  <dd>
    <p>Indentation after `match ... with', `try ... with' or `function'.</p>
  </dd>

</dl>
<p>        match foo with</p><p>        <strong>..</strong>| _ -&gt; bar</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>match_clause</strong>=INT (default=2)</p>
  </dt>
  <dd>
    <p>Indentation for clauses inside a pattern-match (after arrows).</p>
  </dd>

</dl>
<p>        match foo with</p><p>        | _ -&gt;</p><p>        <strong>..</strong>bar</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ppx_stritem_ext</strong>=INT (default=2)</p>
  </dt>
  <dd>
    <p>Indentation for items inside a [%%id ... ] extension node).</p>
  </dd>

</dl>
<p>        [%% id.id</p><p>        <strong>..</strong>let x = 3 ]</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>max_indent</strong>=&lt;INT|none&gt; (default=4)</p>
  </dt>
  <dd>
    <p>When nesting expressions on the same line, their indentations are stacked in some cases so that they remain correct if you close them one per line. However, this can lead to large indentations in complex code, so this parameter sets a maximum indentation. Note that it only affects indentation after function arrows and opening parens at the ends of lines.</p>
  </dd>

</dl>
<p>        let f = g (h (i (fun x -&gt;</p><p>        <strong>....</strong>x)</p><p>          )</p><p>        )</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>strict_with</strong>=&lt;always|never|auto&gt; (default=never)</p>
  </dt>
  <dd>
    <p>If `never', match bars are indented, superseding `with', whenever `match with' doesn't start its line. If `auto', there are exceptions for constructs like `begin match with'. If `always', `with' is always strictly respected.</p>
  </dd>

</dl>
<p>    Example with `strict_with=<strong>never</strong>,with=0':</p><p>        begin match foo with</p><p>        <strong>..</strong>| _ -&gt; bar</p><p>        end</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>strict_else</strong>=&lt;always|never|auto&gt; (default=always)</p>
  </dt>
  <dd>
    <p>If `always', indent after the `else' keyword normally, like after `then'. If `auto', indent after `else' unless in a few "unclosable" cases (`let .... in', `match', etc.). If `never', the `else' keyword won't indent when followed by a newline.</p>
  </dd>

</dl>
<p>    Example with `strict_else=<strong>auto</strong>':</p><p>        if cond then</p><p>          foo</p><p>        else</p><p>        <strong>let</strong> x = bar in</p><p>        baz</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>strict_comments</strong>=BOOL (default=false)</p>
  </dt>
  <dd>
    <p>In-comment indentation is normally preserved, as long as it respects the left margin or the comments starts with a newline. Setting this to `true' forces alignment within comments. Lines starting with `*' are always aligned</p>
  </dd>
  <dt>
    <p><strong>align_ops</strong>=BOOL (default=true)</p>
  </dt>
  <dd>
    <p>Toggles preference of column-alignment over line indentation for most of the common operators and after mid-line opening parentheses.</p>
  </dd>

</dl>
<p>    Example with `align_ops=<strong>true</strong>':</p><p>        let f x = x</p><p>                  + y</p><p> </p><p>    Example with `align_ops=<strong>false</strong>':</p><p>        let f x = x</p><p>          + y</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>align_params</strong>=&lt;always|never|auto&gt; (default=auto)</p>
  </dt>
  <dd>
    <p>If `never', function parameters are indented one level from the line of the function. If `always', they are aligned from the column of the function. if `auto', alignment is chosen over indentation in a few cases, e.g. after match arrows</p>
  </dd>

</dl>
<p>    Example with `align_params=<strong>never</strong>':</p><p>        match foo with</p><p>        | _ -&gt; some_fun</p><p>          <strong>..</strong>parameter</p><p> </p><p>    Example with `align_params=<strong>always</strong>' or `<strong>auto</strong>':</p><p>        match foo with</p><p>        | _ -&gt; some_fun</p><p>               <strong>..</strong>parameter</p><p>Available presets are `normal', the default, `apprentice' which may make some aspects of the syntax more obvious for beginners, and `JaneStreet'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Bugs are tracked on github at <em>https://github.com/OCamlPro/ocp-indent/issues</em>. The <em>tests</em> directory of the source distribution is a good snapshot of the current status, and can be checked online at <em>http://htmlpreview.github.io/?https://github.com/OCamlPro/ocp-indent/blob/master/tests/failing.html</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ocp-indent&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ocaml.1.html"><strong>ocaml</strong>(1)</a>, <strong>ocp-index</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Louis Gesbert and Thomas Gazagnaire from OCamlPro, from an original prototype by Jun Furuse.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2013 OCamlPro.</p><p>ocp-indent is free software, released under the terms of the GNU General Public License version 3, the text of which can be found in the file `LICENSE' distributed with the sources.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ocp-curses.1.html"><span aria-hidden="true">&larr;</span> ocp-curses.1: Music player</a></li>
   <li class="next"><a href="ocp-sdl.1.html">ocp-sdl.1: Music player <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
