<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gupnp-binding-tool: Creates c convenience wrappers for upnp services</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Creates c convenience wrappers for upnp services">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gupnp-binding-tool (1) manual">
  <meta name="twitter:description" content="Creates c convenience wrappers for upnp services">
  <meta name="twitter:image" content="https://www.carta.tech/images/libgupnp-1.0-dev-gupnp-binding-tool-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/gupnp-binding-tool.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gupnp-binding-tool (1) manual" />
  <meta property="og:description" content="Creates c convenience wrappers for upnp services" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libgupnp-1.0-dev-gupnp-binding-tool-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gupnp-binding-tool<small> (1)</small></h1>
        <p class="lead">Creates c convenience wrappers for upnp services</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gupnp-binding-tool.1.html">
      <span itemprop="name">gupnp-binding-tool: Creates c convenience wrappers for upnp services</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libgupnp-1.0-dev/">
      <span itemprop="name">libgupnp-1.0-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gupnp-binding-tool.1.html">
      <span itemprop="name">gupnp-binding-tool: Creates c convenience wrappers for upnp services</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>gupnp-binding-tool</strong> [--prefix&nbsp;{PREFIX}] [--mode&nbsp;{client|server}] {SCPD&nbsp;file}</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>gupnp-binding-tool</strong> takes a SCPD file and generates convenience C functions which call the actual GUPnP functions. The client-side bindings can be seen as a service-specific version of the GUPnPServiceProxy API and the service-side bindings are the same for GUPnPService.</p><p>These generated functions are less verbose and also safer as function call parameters are correctly typed. Action, variable and query names are easier to get correct with bindings (or at least the errors will be compile-time errors instead of run-time), and are also available in editor autocompletion.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLIENT SIDE BINDINGS</h2>
        <div class="sectioncontent">
<p>As an example, this action:</p>
<pre>
&lt;action&gt;
  &lt;name&gt;DeletePortMapping&lt;/name&gt;
  &lt;argumentList&gt;
    &lt;argument&gt;
      &lt;name&gt;NewRemoteHost&lt;/name&gt;
      &lt;direction&gt;in&lt;/direction&gt;
      &lt;relatedStateVariable&gt;RemoteHost&lt;/relatedStateVariable&gt;
    &lt;/argument&gt;
    &lt;argument&gt;
      &lt;name&gt;NewExternalPort&lt;/name&gt;
      &lt;direction&gt;in&lt;/direction&gt;
      &lt;relatedStateVariable&gt;ExternalPort&lt;/relatedStateVariable&gt;
    &lt;/argument&gt;
    &lt;argument&gt;
      &lt;name&gt;NewProtocol&lt;/name&gt;
      &lt;direction&gt;in&lt;/direction&gt;
      &lt;relatedStateVariable&gt;PortMappingProtocol&lt;/relatedStateVariable&gt;
    &lt;/argument&gt;
  &lt;/argumentList&gt;
&lt;/action&gt;
</pre>
<p>Will generate the following synchronous client-side (control point) function:</p>
<pre>
static inline gboolean
igd_delete_port_mapping (GUPnPServiceProxy *proxy,
                         const gchar *in_new_remote_host,
                         const guint in_new_external_port,
                         const gchar *in_new_protocol,
                         GError **error);
</pre>
<p>As can be seen, the arguments have the correct types and are prefixed with the argument direction.</p><p><strong>gupnp-binding-tool</strong> generates both synchronous and asynchronous wrappers. The <strong>igd_delete_port_mapping</strong> example above is the synchronous form, the asynchronous form is as follows:</p>
<pre>
typedef void (*igd_delete_port_mapping_reply) (GUPnPServiceProxy *proxy,
                                               GError *error,
                                               gpointer userdata);

static inline GUPnPServiceProxyAction *
igd_delete_port_mapping_async (GUPnPServiceProxy *proxy,
                               const gchar *in_new_remote_host,
                               const guint in_new_external_port,
                               const gchar *in_new_protocol,
                               igd_delete_port_mapping_reply callback,
                               gpointer userdata);
</pre>
<p>The asynchronous form (implemented using <strong>gupnp_service_proxy_begin_action()</strong> and <strong>gupnp_service_proxy_end_action()</strong>) will return without blocking and later invoke the callback from the main loop when the reply is received.</p><p>The tool also creates bindings for state variable notifications. This state variable definition:</p>
<pre>
&lt;stateVariable sendEvents="yes"&gt;
  &lt;name&gt;ExternalIPAddress&lt;/name&gt;
  &lt;dataType&gt;string&lt;/dataType&gt;
&lt;/stateVariable&gt;
</pre>
<p>will create this client binding that can be used to get notifications on "ExternalIPAddress" changes:</p>
<pre>
typedef void
(*igd_external_ip_address_changed_callback) (GUPnPServiceProxy *proxy,
                                             const gchar *external_ip_address,
                                             gpointer userdata);

static inline gboolean
igd_external_ip_address_add_notify (GUPnPServiceProxy *proxy,
                                    igd_external_ip_address_changed_callback callback,
                                    gpointer userdata);
</pre>
<p>All of the examples were produced with gupnp-binding-tool --prefix igd --mode client WANIPConnection.xml.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SERVER SIDE BINDINGS</h2>
        <div class="sectioncontent">
<p>The corresponding server bindings for the same UPnP action (DeletePortMapping) look like this:</p>
<pre>
void
igd_delete_port_mapping_action_get (GUPnPServiceAction *action,
                                    gchar **in_new_remote_host,
                                    guint *in_new_external_port,
                                    gchar **in_new_protocol);

gulong
igd_delete_port_mapping_action_connect (GUPnPService *service,
                                        GCallback callback,
                                        gpointer userdata);
</pre>
<p>The generated *_action_connect() function can be used to connect the action handler. The *_action_get() and *_action_set() functions can then be used inside the action handler to get/set action variables. If notified variables are modified, the *_variable_notify() should be used to send the notifications (see below).</p>
<pre>
typedef gchar *(*igd_external_ip_address_query_callback) (GUPnPService *service,
                                                          gpointer userdata);

gulong
igd_external_ip_address_query_connect (GUPnPService *service,
                                       igd_external_ip_address_query_callback callback,
                                       gpointer userdata);
void
igd_external_ip_address_variable_notify (GUPnPService *service,
                                         const gchar *external_ip_address);
</pre>
<p>The *_query_connect() function can be used to connect the service-specific query handler. The return value of the handler is the returned state variable value.</p><p>All of the examples were produced with gupnp-binding-tool --prefix igd --mode server WANIPConnection.xml.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2007, 2008, 2009 OpenedHand Ltd, Nokia Corporation</p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.1 or any later version published by the Free Software Foundation with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. You may obtain a copy of the GNU Free Documentation License from the Free Software Foundation by visiting \m[blue]<strong>their Web site</strong>\m[] or by writing to:</p>
<pre>
          The Free Software Foundation, Inc.,
          59 Temple Place - Suite 330,
          Boston, MA 02111-1307,
          USA
</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gup.1.html"><span aria-hidden="true">&larr;</span> gup.1: A group update program that accepts commands by mail to edit a newsgroup subscription file for subsequent use by news systems such as inn and c-news.</a></li>
   <li class="next"><a href="gurgitate-mail.1.html">gurgitate-mail.1: An easy-to-use mail filter <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
