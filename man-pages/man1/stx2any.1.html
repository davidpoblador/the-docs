<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>stx2any: Converter from structured text to multiple formats</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Converter from structured text to multiple formats">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="stx2any (1) manual">
  <meta name="twitter:description" content="Converter from structured text to multiple formats">
  <meta name="twitter:image" content="https://www.carta.tech/images/stx2any-stx2any-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/stx2any.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="stx2any (1) manual" />
  <meta property="og:description" content="Converter from structured text to multiple formats" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/stx2any-stx2any-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">stx2any<small> (1)</small></h1>
        <p class="lead">Converter from structured text to multiple formats</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/stx2any.1.html">
      <span itemprop="name">stx2any: Converter from structured text to multiple formats</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/stx2any/">
      <span itemprop="name">stx2any</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/stx2any.1.html">
      <span itemprop="name">stx2any: Converter from structured text to multiple formats</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>stx2any [ -T <em>format</em> ] [ <em>stx and m4 options</em> ] [ <em>file</em>  <em>file</em> .\|.\|. ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>stx2any converts files in structured text (Stx) format into other formats.  Formats currently implemented are HTML, man, raw text, PostScript, LaTeX, XHTML and DocBook XML.</p><p>The source format, structured text, is a kind of plain text format with standard markup for representing headings, lists, emphasis etc.  The markup is both quicker to write and easier to remember than conventional tag-based markup languages, and is beautifully legible also in source form.  Stx markup is better explained in <em>Stx quickie guide</em>, which is available in the examples directory.</p><p>Most of the conversion happens in m4, and you can define your own macros and other stuff for giving structure to your documents. stx2any provides a LaTeX-like extensible environment system and a diversion system for rearranging input.  (Tårta på tårta, as they say in Swedish.)</p><p>Because stx2any doesn't perform any kind of quoting on the input, markup that isn't available can be written directly in the destination language (losing convertibility to multiple languages).  This way, if you are only interested in one output format (eg. LaTeX), you can use Stx as an abbreviation format for the most common constructs.</p><p>Some formatting is not available as abbreviations, but by calling m4 macros.  You need macros relatively rarely: for example, floats (material that can &ldquo;float&rdquo; around in the document) are created by macros.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>stx2any accepts all command line options of m4, passing them directly on.  Of these, the -D argument is important enough to mention here separately.</p>
<dl class='dl-vertical'>
  <dt>
    <p>-DNAME=VALUE</p>
  </dt>
  <dd>
    <p>Define macro NAME to have the expansion VALUE.  This allows you to pass information into the document from the command line.</p>
  </dd>
  <dt>
    <p>-T <em>format</em><em></em></p>
  </dt>
  <dd>
    <p>Sets the output format.  Default format is html.  <em>format</em> should be one of:</p>
<dl class='dl-vertical'>
  <dt>
    <p>html</p>
  </dt>
  <dd>
    <p>produces basic HTML (hypertext markup language) output.</p>
  </dd>
  <dt>
    <p>man</p>
  </dt>
  <dd>
    <p>produces man macro output.  This output is usable as a man page directly (although see WRITING MAN PAGES below), or can be fed to troff / groff for formatting to e.g. postscript.</p>
  </dd>
  <dt>
    <p>latex</p>
  </dt>
  <dd>
    <p>produces LaTeX document preparation language output. You can run latex on the result to produce e.g. high quality pdf's.</p>
  </dd>
  <dt>
    <p>text</p>
  </dt>
  <dd>
    <p>produces raw text output by postprocessing HTML output with w3m.  The resulting output is very basic, like stripping away most Stx markup; if you want more formatted output, consider piping man output to nroff -man.</p>
  </dd>
  <dt>
    <p>ps</p>
  </dt>
  <dd>
    <p>produces simple postscript output by postprocessing man output with groff.  If you want to do real publishing, consider the LaTeX format instead.</p>
  </dd>
  <dt>
    <p>xhtml</p>
  </dt>
  <dd>
    <p>produces XHTML output by postprocessing HTML output with W3C tidy.  By the way, check http://hixie.ch/advocacy/xhtml for discussion about HTML and XHTML.</p>
  </dd>
  <dt>
    <p>docbook-xml</p>
  </dt>
  <dd>
    <p>produces rudimentary DocBook XML output.  See BUGS below for more discussion about this.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p>--link-abbrevs</p>
  </dt>
  <dd>
    <p>Take link abbreviation syntax into use.  Note that because link abbreviation processing occurs in two phases, it doesn't work totally when the input comes from standard input (for example, if you use stx2any as a middle part of a pipeline).</p>
  </dd>
  <dt>
    <p>--quote</p>
  </dt>
  <dd>
    <p>Request quoting of characters (other than underscores and dollar signs) that are somehow magical in the requested output format. This will make it quite difficult to put markup in the output format directly in your document, but will greatly increase the possibility that your document will be correct (ie. does not have syntax errors) in the output format.</p>
  </dd>
  <dt>
    <p>--quote-me-harder</p>
  </dt>
  <dd>
    <p>Request quoting of underscores and dollar signs.  This might make some LaTeX documents work but might break some documents where underscores are used in macro names or dollar signs in macro definitions.</p>
  </dd>
  <dt>
    <p>--numbering { on | off }</p>
  </dt>
  <dd>
    <p>Request numbering of section headings.  The default varies by output format: section numbering is by default off for HTML, DocBook XML and man, on for LaTeX.</p>
  </dd>
  <dt>
    <p>--table-of-contents { on | off }</p>
  </dt>
  <dd>
    <p>Request producing a table of contents from the headings.  The default is to produce a TOC when numbering is on.  Not implemented for DocBook XML.</p>
  </dd>
  <dt>
    <p>--make-title { on | off }</p>
  </dt>
  <dd>
    <p>Request a &ldquo;title page&rdquo;.  The default is &ldquo;on&rdquo;.  This setting does not have any effect in some formats.  In HTML, it produces a big heading at the beginning of the document.  In LaTeX, it produces the canonical maketitle.</p>
  </dd>
  <dt>
    <p>--no-template</p>
  </dt>
  <dd>
    <p>Do not produce a document template at all, only the formatted input text.  You probably need this if your document will be included as a part of a bigger document.  If that bigger document is written totally in Stx, however, it will be cleaner to give all the source files directly as arguments to stx2any rather than combine the results afterwards.</p>
  </dd>
  <dt>
    <p>--symmetric-crossrefs</p>
  </dt>
  <dd>
    <p>In document formats that support linking (HTML, DocBook), produce reverse links from labels to referrers as well as links from referrers to labels.</p>
  </dd>
  <dt>
    <p>--latex-params <em>params</em><em></em></p>
  </dt>
  <dd>
    <p>Set the document class parameters for LaTeX documents.  The default is affected by system paper size; for example, on a European system it is typically a4paper,notitlepage.  (See &ldquo;ENVIRONMENT&rdquo; below.)</p>
  </dd>
  <dt>
    <p>--html-params <em>params</em><em></em></p>
  </dt>
  <dd>
    <p>Set the body tag parameters for HTML documents.  The default is no parameters.</p>
  </dd>
  <dt>
    <p>--picture-suffix <em>suffix</em><em></em></p>
  </dt>
  <dd>
    <p>Inline images will refer to files with suffix <em>suffix</em>.  The default is png for HTML and DocBook, eps for LaTeX and man.</p>
  </dd>
  <dt>
    <p>--no-emdash-separate</p>
  </dt>
  <dd>
    <p>In the output, don't separate em dashes from adjacent text with spaces.  This is in accordance to traditional English typography (if I understand correctly), but is not standard in many other languages &ndash; including Finnish, my mother tongue.</p>
  </dd>
  <dt>
    <p>--more-secure</p>
  </dt>
  <dd>
    <p>Disable some insecure features of m4 and check some command line arguments that are passed to shell for problematic characters. This might be desirable if you've received the document from somewhere else and want to make sure it won't do anything malicious when converted.  Currently this denies execution of shell escapes.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Note that clearly no implementation of m4 has been designed with security in mind. As a consequence, this option cannot prevent every potentially harmful thing.  Things not prevented which I'm aware of are including contents of arbitrary files in the output and writing busy loops (so that the conversion will use all processor time it can get, until terminated).</p>
  </dd>
  <dt>
    <p>--sed-preprocessor <em>scriptname</em><em></em></p>
  </dt>
  <dd>
    <p>Run the sed script <em>scriptname</em> for all input.  This allows you to add custom abbreviation markups.  It is almost the same as preprocessing input with sed, then piping it into stx2any, but interacts better with --link-abbrevs (see its explanation for details).</p>
  </dd>
  <dt>
    <p>--version, -V</p>
  </dt>
  <dd>
    <p>Just show version information and exit.</p>
  </dd>
  <dt>
    <p>--help, -?</p>
  </dt>
  <dd>
    <p>Just show a short help message and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WRITING MAN PAGES</h2>
        <div class="sectioncontent">
<p>Basically, man pages are simply files in the man macro format.  However, there are some programs (first and foremost mandb) that require parts of man pages to be in a specific format, and man pages should generally adhere to the standard sectioning and form (see man (1) and lexgrog (1) for details).</p><p>When writing a man page, the title (w_title) of the page should be the program/file/format/utility name, and you should define the section (w_section).  To make the page suitable for mandb parsing, you should start the page with one or more calls to w_man_desc.  This will create a proper &ldquo;NAME&rdquo; section for you.  (Although you could write one by yourself.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>stx2any may give any error message that m4 may give, e.g. on malformatted input (a macro call with missing closing parenthesis etc). In addition, it has the following own error messages:</p>
<dl class='dl-vertical'>
  <dt>
    <p>unknown output format: &ldquo;X&rdquo;</p>
  </dt>
  <dd>
    <p>You requested unsupported output format <em>X</em> with the -T<em></em> option.</p>
  </dd>
  <dt>
    <p>unknown macro &ldquo;X&rdquo; called</p>
  </dt>
  <dd>
    <p>stx2any encountered a macro beginning with w_, but knows no definition for it.  This is a warning, not an error &ndash; the offending macro and its arguments are stripped from the output.</p>
  </dd>
  <dt>
    <p>environment &ldquo;X&rdquo; closed by &ldquo;Y&rdquo; in layer N</p>
  </dt>
  <dd>
    <p>Environments in stx2any must be properly nested. stx2any encountered w_end(<em>Y</em>) when it was expecting w_end(<em>X</em>).  Often this is a sign of a forgotten w_end(<em>X</em>).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>If <em>N</em> (the layer) is something other than 0, then the problem is probably in your environment definitions, not at the point that stx2any was processing when it encountered the error.</p>
  </dd>
  <dt>
    <p>unknown environment &ldquo;X&rdquo;</p>
  </dt>
  <dd>
    <p>There was an attempt to begin an environment whose name is unknown to stx2any, i.e. no such environment has been defined.</p>
  </dd>
  <dt>
    <p>diversion &ldquo;X&rdquo; closed by &ldquo;Y&rdquo;</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>unknown diversion &ldquo;X&rdquo;</p>
  </dt>
  <dd>
    <p>Same as above, but for diversions (w_begdiv and w_enddiv).</p>
  </dd>
  <dt>
    <p>attempt to use &ldquo;X&rdquo; in secure environment</p>
  </dt>
  <dd>
    <p>You requested secure processing with --more-secure and the document contained an &ldquo;insecure&rdquo; macro.  This is a warning message, not an error &ndash; the causing macro is left in the text verbatim.</p>
  </dd>
  <dt>
    <p>unknown cross link to &ldquo;X&rdquo;</p>
  </dt>
  <dd>
    <p>There was a cross link to document <em>X</em>, but stx2any<em> does not</em> know about such a document.  Probably you didn't gather /X/'s data with gather_stx_titles or you misspelled the document reference.  This is a warning, not an error &ndash; the reference is left in the output verbatim, without any kind of link.</p>
  </dd>

</dl>
<p>The return value of stx2any is zero on success, one if there was some problem.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>PAPERCONF</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>PAPERSIZE</p>
  </dt>
  <dd>
    <p>used for determining the default paper size for LaTeX documents.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>/etc/papersize</p>
  </dt>
  <dd>
    <p>used for determining the default paper size for LaTeX documents.</p>
  </dd>
  <dt>
    <p>/usr/share/stx2any/common</p>
  </dt>
  <dd>
    <p>directory for the definitions shared by all formats</p>
  </dd>
  <dt>
    <p>/usr/share/stx2any/{html,man,latex,docbook-xml}</p>
  </dt>
  <dd>
    <p>directory for output format specific definitions</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO stx2any&hellip;</h2>
        <div class="sectioncontent">
<p>m4 (1), latex (1), groff (1), lexgrog (1), w3m (1), strip_stx (1), gather_stx_titles (1), html2stx (1), extract_usage_from_stx (1)</p><p><em>Stx quickie guide</em> (/usr/share/doc/stx2any/Stx-doc.txt<em>)</em></p><p><em>Stx markup reference</em> (/usr/share/doc/stx2any/Stx-ref.txt<em>)</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The structured text format is not yet fully standardised.  There are some corner cases where it is unclear what the result of the formatting should be.  In these cases, the output of stx2any is authoritative, so it <em>cannot</em> have bugs :)</p><p>Some old GNU libc's seem to be abysmally slow on some instances of the emphasis regexps.  It would be possible to make the regexps faster and less correct, but as newer GNU libc's and BSD libc seem to work OK in these cases, I guess it's not worth it.</p><p>The --more-secure switch is not really very secure for reasons explained above.</p><p>The support for DocBook XML sucks.  It is only included because someone will show up anyway and ask, &ldquo;hey, does it support <strong>DocBook XML</strong>?&rdquo; Partly this sucking is due to my laziness, but partly it is because of the nature of DocBook.  For instance, stx2any will transform literal formatting into DocBook Literal elements, but the <em>point</em> of using DocBook is to convey more information than that &ndash; whether it is some ComputerOutput, UserInput, EnVar, or Application, or.\|.\|. and the result is still very abstract, not actually meant for humans to read but rather for computers to process into something readable.  Now the truth is that I doubt you will ever come up with a DSSSL stylesheet whose output outperforms LaTeX (for publishing on paper) or direct conversion to HTML (for publishing on the web).</p><p>The only sensible reasons I can think of for using Stx as a DocBook frontend are:</p>
<dl class='dl-vertical'>
  <dt>
    1.
  </dt>
  <dd>
    <p>the ability to use both DocBook constructs and Stx abbreviations</p>
  </dd>
  <dt>
    2.
  </dt>
  <dd>
    <p>if you have to write DocBook for some interesting reason (your boss told you so) but don't want to learn it</p>
  </dd>
  <dt>
    3.
  </dt>
  <dd>
    <p>you happen to already have infrastructure for processing DocBook documents, and you want to take advantage of it</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This page is written by Panu A. Kalliokoski.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="stunc.1.html"><span aria-hidden="true">&larr;</span> stunc.1: Stun test client. stun test client  author: pekka pessi pekka.pessi@nokia.com  martti mela martti.mela@nokia.com  kai vehmanen kai.vehmanen@nokia.com  date: created: thu jul 24 17:21:00 2003 ppessi</a></li>
   <li class="next"><a href="stxxl_tool.1.html">stxxl_tool.1: Stxxl scratch file administration, and performance testing tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
