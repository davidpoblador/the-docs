<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>d.legend: Displays a legend for a raster map in the active frame of the graphics monitor.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Displays a legend for a raster map in the active frame of the graphics monitor.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="d.legend (1grass) manual">
  <meta name="twitter:description" content="Displays a legend for a raster map in the active frame of the graphics monitor.">
  <meta name="twitter:image" content="https://www.carta.tech/images/grass-doc-d.legend-1grass.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1grass/d.legend.1grass.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="d.legend (1grass) manual" />
  <meta property="og:description" content="Displays a legend for a raster map in the active frame of the graphics monitor." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/grass-doc-d.legend-1grass.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">d.legend<small> (1grass)</small></h1>
        <p class="lead">Displays a legend for a raster map in the active frame of the graphics monitor.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1grass/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1grass/d.legend.1grass.html">
      <span itemprop="name">d.legend: Displays a legend for a raster map in the active frame of the graphics monitor.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/grass-doc/">
      <span itemprop="name">grass-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1grass/d.legend.1grass.html">
      <span itemprop="name">d.legend: Displays a legend for a raster map in the active frame of the graphics monitor.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">KEYWORDS</h2>
        <div class="sectioncontent">
<p>display, cartography</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>d.legend</strong></p><p><strong>d.legend help</strong></p><p><strong>d.legend</strong> [-<strong>mvcnsf</strong>] <strong>map</strong>=<em>name</em>  [<strong>color</strong>=<em>name</em>]   [<strong>lines</strong>=<em>integer</em>]   [<strong>thin</strong>=<em>integer</em>]   [<strong>labelnum</strong>=<em>integer</em>]   [<strong>at</strong>=<em>bottom,top,left,right</em>]   [<strong>use</strong>=<em>catnum</em>[,<em>catnum</em>,...]]   [<strong>range</strong>=<em>min,max</em>]   [--<strong>verbose</strong>]  [--<strong>quiet</strong>]</p><h3>Flags:</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>-m</strong>
  </dt>
  <dd>
    <p>Use mouse to size & place legend</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>Do not show category labels</p>
  </dd>
  <dt>
    <strong>-c</strong>
  </dt>
  <dd>
    <p>Do not show category numbers</p>
  </dd>
  <dt>
    <strong>-n</strong>
  </dt>
  <dd>
    <p>Skip categories with no label</p>
  </dd>
  <dt>
    <strong>-s</strong>
  </dt>
  <dd>
    <p>Draw smooth gradient</p>
  </dd>
  <dt>
    <strong>-f</strong>
  </dt>
  <dd>
    <p>Flip legend</p>
  </dd>
  <dt>
    <strong>--verbose</strong>
  </dt>
  <dd>
    <p>Verbose module output</p>
  </dd>
  <dt>
    <strong>--quiet</strong>
  </dt>
  <dd>
    <p>Quiet module output</p>
  </dd>

</dl>

<h3>Parameters:</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>map</strong>=<em>name</em>
  </dt>
  <dd>
    <p>Name of raster map</p>
  </dd>
  <dt>
    <strong>color</strong>=<em>name</em>
  </dt>
  <dd>
    <p>Text color</p><p>Either a standard color name or R:G:B triplet</p><p>Default: <em>black</em></p>
  </dd>
  <dt>
    <strong>lines</strong>=<em>integer</em>
  </dt>
  <dd>
    <p>Number of text lines (useful for truncating long legends)</p><p>Options: <em>0-1000</em></p><p>Default: <em>0</em></p>
  </dd>
  <dt>
    <strong>thin</strong>=<em>integer</em>
  </dt>
  <dd>
    <p>Thinning factor (thin=10 gives cats 0,10,20...)</p><p>Options: <em>1-1000</em></p><p>Default: <em>1</em></p>
  </dd>
  <dt>
    <strong>labelnum</strong>=<em>integer</em>
  </dt>
  <dd>
    <p>Number of text labels for smooth gradient legend</p><p>Options: <em>2-100</em></p><p>Default: <em>5</em></p>
  </dd>
  <dt>
    <strong>at</strong>=<em>bottom,top,left,right</em>
  </dt>
  <dd>
    <p>Size and placement as percentage of screen coordinates (0,0 is lower left)</p><p>bottom,top,left,right</p><p>Options: <em>0-100</em></p>
  </dd>
  <dt>
    <strong>use</strong>=<em>catnum[,</em><em>catnum</em>,...]
  </dt>
  <dd>
    <p>List of discrete category numbers/values for legend</p>
  </dd>
  <dt>
    <strong>range</strong>=<em>min,max</em>
  </dt>
  <dd>
    <p>Use a subset of the map range for the legend (min,max)</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>d.legend</em> displays a legend for a user-specified raster map layer in the active frame on the graphics monitor.</p><p>The user can run <em>d.legend</em> either non-interactively or interactively.  If the user specifies the name of a raster <strong>map</strong> layer on the command line, the program will run non-interactively.  Default legend text <strong>color</strong> and position will be used unless the user specifies other values on the command line.</p><p>Alternately, the user can simply type <strong>d.legend</strong> on the command line; in this case, the program will prompt the user for parameter values using the standard GRASS GUI interface.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The legend's default size is based on the dimensions of the active frame, specifically its height.  <em>d.legend</em> will only obscure those portions of the active frame that directly underlie the legend.</p><p>When using the mouse or <strong>at</strong> to size & place the legend, a user may create a horizontal legend by making the box wider than it is tall.</p><p>Raster maps based on floating point values will display smoothed, from greatest to smallest value, while categorial raster maps will display in order, from top to bottom. Horizontal legends will always be smoothed. If the box is defined with inverted y-values or an inverted <strong>range</strong>, the legend will automatically flip. If this is not the desired result, the <strong>-f</strong> flag may be used to flip it back.</p><p>If the user attempts to display a very long legend in a relatively short display frame, the legend may appear in unreadably small text, or even revert to a smooth gradient legend. Use the <strong>lines</strong>, <strong>thin</strong>, <strong>use</strong>, <strong>range</strong>, and/or <strong>-n</strong> options to reduce the number of categories to be displayed, or the <strong>-s</strong> flag to force a smooth gradient legend.</p><p>The <strong>lines</strong> option will display the first number of categories, as defined by <em>value</em>, contained in the raster map. When used with the <strong>-n</strong> flag, it takes on a new meaning: "up to category #". When used with both <strong>thin</strong> and the <strong>-n</strong> flag, its meaning becomes more obscure. When using <strong>lines</strong>, auto-scaled text similar to "4 of 16 categories" will be placed at the bottom of the legend.</p><p>The <strong>thin</strong> option sets the thinning factor. For raster maps with a 0th category, <strong>thin=</strong><em>10</em> gives cats [0,10,20,...]. For raster maps starting at category 1, <strong>thin=</strong><em>10</em> gives cats [1,11,21,...].</p><p>The <strong>use</strong> option lets the user create a legend made up of arbitrary category values. e.g. <strong>use=</strong><em>1000,100,10,0,-10,-100,-1000</em></p><p>The <strong>range</strong> option lets the user define the minimum and maximum categories to be used in the legend. It may also be used to define the limits of a smooth gradient legend created from a raster containing floating point values. Note the color scale will remain faithful to the category values as defined with <em>r.colors</em>, and the <strong>range</strong> may be extended to the limits defined by the <em>r.colors</em> color map.</p><p>The flag <strong>-n</strong> is useful for categorial maps, as it suppresses the drawing of non-existing categories (otherwise the full range is shown).</p><p>Vertical legends produced with <em>d.legend</em> will place text labels to the right of the legend box, horizontal legends will place text below. This text will be auto-scaled to fit within the frame, reducing the size of the legend if necessary. Legends positioned with the mouse or with the <strong>at</strong> option will not auto-scale text, in order to provide more control to the user. Smaller text may be obtained in this case by reducing the height of the box. The <strong>-c</strong> and <strong>-v</strong> flags may be used to suppress the display of category numbers and labels respectively, or used together to suppress all text of categorial raster maps.</p><p>The text produced from floating-point raster maps will automatically create output with a meaningful number of significant digits. For very small values, numbers will be expressed in scientific notation, e.g. "1.7e-9".</p><p>Legends placed with the mouse are not saved to the display window's history for automatic redraw. By setting the Debug level to 1 (see <em>g.gisenv</em>) the corresponding <strong>at</strong> setting can be determined.</p><p>Note that old scripts which relied on setting <strong>lines</strong> greater than the number of categories to scale the legend may no longer produce the desired output, although the auto-scaling should still produce something that looks good in this case.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO d.legend&hellip;</h2>
        <div class="sectioncontent">
<p><em>d.barscale</em></p><p><em>d.colors</em></p><p><em>d.colortable</em></p><p><em>d.erase</em></p><p><em>d.font</em></p><p><em>d.font.freetype</em></p><p><em>d.grid</em></p><p><em>d.rast</em></p><p><em>d.rast.leg</em></p><p><em>d.text</em></p><p><em>d.text.freetype</em></p><p><em>d.vect.thematic</em></p><p><em>d.what.rast</em></p><p><em>g.gisenv</em></p><p><em>r.reclass</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Bill Brown, U.S. Army Construction Engineering Research Laboratories</p><p>Late 2002: Rewrite of much of the code. Hamish Bowman, Otago University, New Zealand</p><p>Additional improvements from various authors</p><p><em>Last changed: $Date: 2011-11-08 12:29:50 +0100 (Tue, 08 Nov 2011) $</em></p><p>Full index</p><p>© 2003-2014 GRASS Development Team</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="d.labels.1grass.html"><span aria-hidden="true">&larr;</span> d.labels.1grass: Displays text labels (created with v.label) to the active frame on the graphics monitor.</a></li>
   <li class="next"><a href="d.linegraph.1grass.html">d.linegraph.1grass: Generates and displays simple line graphs in the active graphics monitor display frame. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
