<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dmtcp_sshd: Distributed multithreaded checkpointing</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distributed multithreaded checkpointing">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dmtcp_sshd (1) manual">
  <meta name="twitter:description" content="Distributed multithreaded checkpointing">
  <meta name="twitter:image" content="https://www.carta.tech/images/dmtcp-dmtcp_sshd-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dmtcp_sshd.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dmtcp_sshd (1) manual" />
  <meta property="og:description" content="Distributed multithreaded checkpointing" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dmtcp-dmtcp_sshd-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dmtcp_sshd<small> (1)</small></h1>
        <p class="lead">Distributed multithreaded checkpointing</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dmtcp_sshd.1.html">
      <span itemprop="name">dmtcp_sshd: Distributed multithreaded checkpointing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dmtcp/">
      <span itemprop="name">dmtcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dmtcp_sshd.1.html">
      <span itemprop="name">dmtcp_sshd: Distributed multithreaded checkpointing</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dmtcp_coordinator</strong> [port]</p><p><strong>dmtcp_launch</strong> command [args...]</p><p><strong>dmtcp_restart</strong> ckpt_FILE1.dmtcp [ckpt_FILE2.dmtcp...]</p><p><strong>dmtcp_command</strong> coordinatorCommand</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>DMTCP</strong> is a tool to transparently checkpointing the state of an arbitrary group of programs spread across many machines and connected by sockets. It does not modify the user's program nor the operating system. <strong>MTCP</strong> is a standalone component of DMTCP available as a checkpointing library for a single process.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>For each command, the --help or -h flag will show the command-line options. Most command line options can also be controlled through environment variables. These can be set in bash with "export NAME=value" or in tcsh with "setenv NAME value".</p>
<dl class='dl-vertical'>
  <dt>
    DMTCP_CHECKPOINT_INTERVAL=integer
  </dt>
  <dd>
    <p>Time in seconds between automatic checkpoints.  Checkpoints can also be initiated manually by typing 'c' into the coordinator. (default: 0, disabled; dmtcp_coordinator only)</p>
  </dd>
  <dt>
    DMTCP_HOST=string
  </dt>
  <dd>
    <p>Hostname where the cluster-wide coordinator is running. (default: localhost; dmtcp_launch, dmtcp_restart only)</p>
  </dd>
  <dt>
    DMTCP_PORT=integer
  </dt>
  <dd>
    <p>The port the cluster-wide coordinator listens on. (default: 7779)</p>
  </dd>
  <dt>
    DMTCP_GZIP=(1|0)
  </dt>
  <dd>
    <p>Set to "0" to disable compression of checkpoint images. (default: 1, compression enabled; dmtcp_launch only) WARNING:  gzip adds seconds.  Without gzip, ckpt/restart is often less than 1 s</p>
  </dd>
  <dt>
    DMTCP_CHECKPOINT_DIR=path
  </dt>
  <dd>
    <p>Directory to store checkpoint images in. (default: ./)</p>
  </dd>
  <dt>
    DMTCP_SIGCKPT=integer
  </dt>
  <dd>
    <p>Internal signal number to use for checkpointing.  Must not be used by the user program. (default: SIGUSR2; dmtcp_launch only)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DMTCP_COORDINATOR</h2>
        <div class="sectioncontent">
<p>Each computation to be checkpointed must include a DMTCP coordinator process. One can explicitly start a coordinator through dmtcp_coordinator, or allow one to be started implicitly in background by either dmtcp_launch or dmtcp_restart to operate. The address of the unique coordinator should be specified by dmtcp_launch, dmtcp_restart, and dmtcp_command either through the --host and --port command-line flags or through the the DMTCP_HOST and DMTCP_PORT environment variables.  If neither is given, the host-port pair defaults to localhost-7779. The host-port pair associated with a particular coordinator is given by the command-line flags used in the dmtcp_coordinator command, or the environment variables then in effect, or the default of localhost-7779.</p><p>The coordinator is stateless and is <strong>not</strong> checkpointed. On restart, one can use an existing or a new coordinator. Multiple computations under DMTCP control can coexist by providing a unique coordinator (with a unique host-port pair) for each such computation.</p><p>The coordinator initiates a checkpoint for all processes in its computation group.  Checkpoints can be:  performed automatically on an interval (see DMTCP_CHECKPOINT_INTERVAL above); or initiated manually on the standard input of the coordinator (see next paragraph); or initiated directly under program control by the comptuation through the dmtcpaware API (see below).</p><p>The coordinator accepts the following commands on its standard input. Each command should be followed by the &lt;return&gt; key.  The commands are:</p>
<pre>
  l : List connected nodes
</pre>

<pre>
  s : Print status message
</pre>

<pre>
  c : Checkpoint all nodes
</pre>

<pre>
  f : Force a restart even if there are missing nodes (debugging)
</pre>

<pre>
  k : Kill all nodes
</pre>

<pre>
  q : Kill all nodes and quit
</pre>

<pre>
  ? : Show this message
</pre>
<p>Coordinator commands can also be issued remotely using <strong>dmtcp_command</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE USAGE</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>1. In a separate terminal window, start the dmtcp_coodinator.</p>
  </dt>
  <dd>
    <p>(See previous section.)</p><p> dmtcp_coordinator</p>
  </dd>
  <dt>
    <p>2. In separate terminal(s), replace each command(s) with "dmtcp_launch</p>
  </dt>
  <dd>
    <p>[command]".  The checkpointed program will connect to the coordinator specified by DMTCP_HOST and DMTCP_PORT.  New threads will be checkpointed as part of the process.  Child processes will automatically be checkpointed.  Remote processes started via <em>ssh</em> will automatically checkpointed. (Internally, DMTCP modifies the <em>ssh</em> command line to call dmtcp_launch on the remote host.)</p><p> dmtcp_launch ./myprogram</p>
  </dd>
  <dt>
    <p>3. To manually initiate a checkpoint, either run the command below</p>
  </dt>
  <dd>
    <p>or type "c" followed by &lt;return&gt; into the coordinator.  Checkpoint files for each process will be written to DMTCP_CHECKPOINT_DIR. The dmtcp_coordinator will write "dmtcp_restart_script.sh" to its working directory.  This script contains the necessary calls to dmtcp_restart to restart the entire computation, including remote processes created via <em>ssh</em>.</p>
<pre>
     dmtcp_command -c
</pre>
<p>OR:  dmtcp_command --checkpoint</p>
  </dd>
  <dt>
    <p>4. To restart, one should execute dmtcp_restart_script.sh, which is</p>
  </dt>
  <dd>
    <p>created by the dmtcp_coordinator in its working directory at the time of checkpoint. One can optionally edit this script to migrate processes to different hosts.  By default, only one restarted process will be restarted in the foreground and receive the standard input. The script may be edited to choose which process will be restarted in the foreground.</p><p> ./dmtcp_restart_script.sh</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DMTCPAWARE API</h2>
        <div class="sectioncontent">
<p>DMTCP provides a programming interface to allow checkpointed applications to interact with dmtcp.  In the source distribution, see dmtcpaware/dmtcpaware.h for the functions available. See test/dmtcpaware[123].c for three example applications. For an example of its usage, try:</p><p> cd test; rm dmtcpaware1; make dmtcpaware1; ./autotest -v dmtcpaware1</p><p>The user application should link with libdmtcpaware.so (-ldmtcpaware) and use the header file dmtcp/dmtcpaware.h.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DMTCP PLUGIN MODULES</h2>
        <div class="sectioncontent">
<p>The source distribution includes a top-level <em>plugin</em> directory, with examples of how to write a plugin module for DMTCP.  Further examples are in the <em>test/plugin</em> directory.  The plugin feature adds three new user-programmable capabilities.  A plugin may: add wrappers around system calls; take special actions at during certain events (e.g. pre-checkpoint, resume/post-checkpoint, restart); and may insert key-value pairs into a database at restart time that is then available to be queried by the restarted processes of a computation. (The events available to the plugin feature form a superset of the events available with the dmtcpaware interface.) One or more plugins are invoked via a list of colon-separated absolute pathnames.</p>
<pre>
  dmtcp_launch --with-plugin PLUGIN1[:PLUGIN2]...
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN CODE</h2>
        <div class="sectioncontent">
<p>A target program under DMTCP control normally returns the same return code as if executed without DMTCP.  However, if DMTCP fails (as opposed to the target program failing), DMTCP returns a DMTCP-specific return code, rc (or rc+1, rc+2 for two special cases), where rc is the integer value of the environment variable DMTCP_FAIL_RC if set, or else the default value, 99.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dmtcp_sshd&hellip;</h2>
        <div class="sectioncontent">
<p>Full documentation is available from http://dmtcp.sourceforge.net/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>DMTCP and its standalone single-process compontent MTCP (MultiThreaded CheckPointing) were created and are maintained by Jason Ansel, Kapil Arya, Gene Cooperman, Artem Y. Polyakov, Mike Rieker, Ana-Maria Visan, and a series of newer contributors including Alex Brick, Tyler Denniston, Rohan Garg, Gregory Kerr, and others.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dmtcp_ssh.1.html"><span aria-hidden="true">&larr;</span> dmtcp_ssh.1: Distributed multithreaded checkpointing</a></li>
   <li class="next"><a href="dmtxquery.1.html">dmtxquery.1: Extract information from dmtxread output <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
