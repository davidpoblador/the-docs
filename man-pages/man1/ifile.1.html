<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ifile: Core executable for the ifile mail filtering system</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Core executable for the ifile mail filtering system">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ifile (1) manual">
  <meta name="twitter:description" content="Core executable for the ifile mail filtering system">
  <meta name="twitter:image" content="https://www.carta.tech/images/ifile-ifile-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ifile.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ifile (1) manual" />
  <meta property="og:description" content="Core executable for the ifile mail filtering system" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ifile-ifile-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ifile<small> (1)</small></h1>
        <p class="lead">Core executable for the ifile mail filtering system</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ifile.1.html">
      <span itemprop="name">ifile: Core executable for the ifile mail filtering system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ifile/">
      <span itemprop="name">ifile</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ifile.1.html">
      <span itemprop="name">ifile: Core executable for the ifile mail filtering system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ifile</strong> [<strong>-b </strong><em>file</em>] [<strong>-q</strong>|<strong>-Q</strong>] [<strong>-g</strong>] [<strong>-k</strong>] [<strong>-o</strong>] [<strong>-v </strong><em>num</em>] [<em>lexing options</em>] <em>file </em><em>...</em></p><p><strong>ifile</strong> <strong>-c</strong> <strong>-q</strong>|<strong>-Q</strong> [<strong>-T </strong><em>threshold</em>] [<strong>-b </strong><em>file</em>] [<strong>-g</strong>] [<strong>-k</strong>] [<strong>-o</strong>] [<em>lexing options</em>] <em>file </em><em>...</em></p><p><strong>ifile</strong> [<strong>-b </strong><em>file</em>] [<strong>-d </strong><em>folder</em>] [<strong>-i </strong><em>folder</em>|<strong>-u </strong><em>folder</em>] [<strong>-g</strong>] [<strong>-k</strong>] [<strong>-o</strong>] [<strong>-v </strong><em>num</em>] [<em>lexing options</em>] <em>file </em><em>...</em></p><p><strong>ifile</strong> <strong>-r</strong> [<strong>-b </strong><em>file</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ifile</strong> is a mail filter client that uses machine learning to classify e-mail into folders/mail boxes.  The algorithm that it uses is called Naive Bayes.   Basically, naive bayes considers each document an unordered collection of words and classifies by matching the document distribution with the most closely matching folder/mailbox distribution.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong>, <strong>--db-file</strong>=<em>file</em></p>
  </dt>
  <dd>
    <p>Location to read/store ifile database.  Default is ~/.idata</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--concise</strong></p>
  </dt>
  <dd>
    <p>equivalent of "ifile <strong>-v</strong> 0 | head <strong>-1</strong> | cut <strong>-f1</strong> <strong>-d</strong>".  Must be used with <strong>-q</strong> or <strong>-Q</strong>.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--delete</strong>=<em>folder</em></p>
  </dt>
  <dd>
    <p>Delete the statistics for each of <em>files</em> from the category <em>folder</em></p>
  </dd>
  <dt>
    <p><strong>-f</strong>, <strong>--folder-calcs</strong>=<em>folder</em></p>
  </dt>
  <dd>
    <p>Show the word-probability calculations for <em>folder</em></p>
  </dd>
  <dt>
    <p><strong>-g</strong>, <strong>--log-file</strong></p>
  </dt>
  <dd>
    <p>Create and store debugging information in ~/.ifile.log</p>
  </dd>
  <dt>
    <p><strong>-i</strong>, <strong>--insert</strong>=<em>folder</em></p>
  </dt>
  <dd>
    <p>Add the statistics for each of the files to the category <em>folder</em></p>
  </dd>
  <dt>
    <p><strong>-k</strong>, <strong>--keep-infrequent</strong></p>
  </dt>
  <dd>
    <p>Leave in the database words that occur infrequently (normally they are tossed)</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--query-loocv</strong>=<em>folder</em></p>
  </dt>
  <dd>
    <p>For each of the files, temporarily removes file from <em>folder</em>, performs query and then reinserts file in <em>folder</em>.  Database is not modified.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--occur</strong></p>
  </dt>
  <dd>
    <p>Uses document bit-vector representation.  Count each word once per document.</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--query</strong></p>
  </dt>
  <dd>
    <p>Output rating scores for each of the files</p>
  </dd>
  <dt>
    <p><strong>-Q</strong>, <strong>--query-insert</strong></p>
  </dt>
  <dd>
    <p>For each of the files, output rating scores and add statistics for the folder with the highest score</p>
  </dd>
  <dt>
    <p><strong>-T</strong>, <strong>--threshold</strong>=<em>threshold</em></p>
  </dt>
  <dd>
    <p>When used with both <strong>-c</strong> and <strong>-q</strong>, output the two highest ranking categories if their score differs by at most <em>threshold</em> / 1000, which can be used to detect border cases. When used with <strong>-q</strong> only and any <em>threshold</em> &gt; 0, output the score difference percentage. For example,</p><p><strong>ifile -T</strong>1 <strong>-q</strong> foo.txt</p><p>might result in</p><p>spam -15570.48640776</p><p>non-spam -18728.00272369</p><p>diff[spam,non-spam](%) 9.21</p><p>If so, then</p><p><strong>ifile -T</strong>93 <strong>-q -c</strong> foo.txt</p><p>will result in</p><p>foo.txt spam,non-spam</p><p>whereas</p><p><strong>ifile -T</strong>92 <strong>-q -c</strong> foo.txt</p><p>will result in</p><p>foo.txt spam</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--reset-data</strong></p>
  </dt>
  <dd>
    <p>Erases all currently stored information</p>
  </dd>
  <dt>
    <p><strong>-u</strong>, <strong>--update</strong>=<em>folder</em></p>
  </dt>
  <dd>
    <p>Same as 'insert' except only adds stats if <em>folder</em> already exists</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbosity</strong>=<em>num</em></p>
  </dt>
  <dd>
    <p>Amount of output while running: 0=silent, 1=quiet, 2=progress, 3=verbose, 4=debug</p>
  </dd>

</dl>
<p>Lexing options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong>, <strong>--alpha-lexer</strong></p>
  </dt>
  <dd>
    <p>Lex words as sequences of alphabetic characters (default)</p>
  </dd>
  <dt>
    <p><strong>-A</strong>, <strong>--alpha-only-lexer</strong></p>
  </dt>
  <dd>
    <p>Only lex space-separated character sequences which are composed entirely of alphabetic characters</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--strip-header</strong></p>
  </dt>
  <dd>
    <p>Skip all of the header lines except Subject:, From: and To:</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--max-length</strong>=<em>char</em></p>
  </dt>
  <dd>
    <p>Ignore portion of message after first <em>char</em> characters.  Use entire message if <em>char</em> set to 0. Default is 50,000.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--print-tokens</strong></p>
  </dt>
  <dd>
    <p>Just tokenize and print, don't do any other processing.  Documents are returned as a list of word, frequency pairs.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--no-stoplist</strong></p>
  </dt>
  <dd>
    <p>Do not throw out overly frequent (stoplist) words when lexing</p>
  </dd>
  <dt>
    <p><strong>-S</strong>, <strong>--stemming</strong></p>
  </dt>
  <dd>
    <p>Use 'Porter' stemming algorithm when lexing documents</p>
  </dd>
  <dt>
    <p><strong>-w</strong>, <strong>--white-lexer</strong></p>
  </dt>
  <dd>
    <p>Lex words as sequences of space separated characters</p>
  </dd>

</dl>
<p>If no files are specified on the command line, ifile will use standard input as its message to process.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-?</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Give this help list</p>
  </dd>
  <dt>
    <p><strong>--usage</strong></p>
  </dt>
  <dd>
    <p>Give a short usage message</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print program version</p>
  </dd>

</dl>
<p>Mandatory or optional arguments to long options are also mandatory or optional for any corresponding short options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>~/.idata</em></p>
  </dt>
  <dd>
    <p>ifile database (default location).  See <em>FAQ</em> included in ifile package for description of database format.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jason Rennie &lt;jrennie@csail.mit.edu&gt; and many others.  See the ChangeLog for the full list.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Before using <strong>ifile</strong>, you need to train it. Let's say that you have three folders, "spam", "ifile" and "friends", and the following directory structure:</p><p>/--+--spam----+--1</p>
<pre>
   |          +--2
   |          +--3
   |
   +--ifile---+--1
   |          +--2
   |          +--3
   |
   +--friends-+--1
              +--2
              +--3
</pre>
<p>The following commands build the ifile database in ~/.idata (use the <strong>-d</strong> option to specify a different location for the database):</p><p><strong>ifile -h -i</strong> spam /spam/*</p><p><strong>ifile -h -i</strong> ifile /ifile/*</p><p><strong>ifile -h -i</strong> friends /friends/*</p><p>The <strong>-h</strong> option strips off headers besides "Subject:", "From:" and "To:". I find that <strong>-h</strong> improves ifile's performance, but you may find otherwise for your personal collection.</p><p>Note that we have made the argument to <strong>-i</strong> the same as the corresponding folder name. This is not necessary. The argument to <strong>-i</strong> can be any word you want to use to identify a category of e-mails. The argument to <strong>-i</strong> must not include space characters (including tab, feedline, etc.).</p><p>At this point, your ~/.idata file should look something like this:</p><p>spam ifile friends</p><p>662 1020 6451</p><p>3 3 3</p><p>jrennie 9 0:3 1:18 2:16</p><p>mindspring 6 1:7 2:5</p><p>make 9 0:5 1:3</p><p>yahoo 9 0:1 1:22 2:2</p><p>The first line is the space-separated list of folders. Their ordering specifies a numbering (spam=0, ifile=1, friends=2). The second line is a token count for each folder (e.g. 662 tokens observed in the three spam messages). The third line is an e-mail count for each folder (e.g. 3 e-mails for each of spam, ifile and friends). Each following line specifies statistics for a word. The format of a line is</p><p><em>word age folder</em>:<em>count</em> [<em>folder</em>:<em>count</em> ...]</p><p>where <em>folder</em> is the folder number determined by the first line ordering. Folders with a count of zero are not listed. So, the line beginning with "jrennie" indicates that "jrennie" appeared 3 times in "spam" e-mails, 18 times in "ifile" e-mails and 16 times in "friends" e-mails. The <em>age</em> is the number of e-mails that have been processed since the word was added to the database. Very infrequent words are pruned from the database to keep the database size down.</p><p>Now that you have a database, you might want to filter some e-mails. Say you have the following incoming e-mails:</p><p>/--inbox--+--1</p>
<pre>
          +--2
          +--3
</pre>
<p>To find out what folders ifile thinks these e-mails belong in, run</p><p><strong>ifile -c -q</strong> /inbox/1</p><p><strong>ifile -c -q</strong> /inbox/2</p><p><strong>ifile -c -q</strong> /inbox/3</p><p>Let's say that 1 is about ifile, 2 is spam and 3 is from a friend. Assuming ifile does its job correctly, you'll see output like this:</p><p>/inbox/1 ifile</p><p>/inbox/2 spam</p><p>/inbox/3 friends</p><p>With such little training data, ifile is unlikely to get the labels correct, but you should get the idea :-)</p><p>Now, if you move the e-mails to the folders suggested by ifile, you'll want to update the database accordingly. You can do this with the <strong>-i</strong> option, like before. Or, you can simply use <strong>-Q</strong> in place of <strong>-q</strong> above. This automatically adds the e-mail to the folder ifile suggests.</p><p>Now, assume for a moment that e-mail 1 was actually spam. We've added 1 to ifile and put it in the ifile folder. We need to move it to the spam folder and update the ifile database accordingly. We can update the database with the following command:</p><p><strong>ifile -d</strong> ifile  <strong>-i</strong> spam /inbox/1</p><p>This deletes the e-mail from "ifile" and adds it to "spam".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ifile&hellip;</h2>
        <div class="sectioncontent">
<p>Examples of how to use <strong>ifile</strong> together with <strong>procmail</strong>(1) and <strong>metamail</strong>(1) can be found in the directory <strong>/usr/share/doc/ifile/examples.</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ifetch.1.html"><span aria-hidden="true">&larr;</span> ifetch.1: Image collection tool for ip cameras of ifetch-tools</a></li>
   <li class="next"><a href="ifind.1.html">ifind.1: Find the meta-data structure that has allocated a given disk unit or file name. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
