<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pmdajson - JSON PMDA</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Json pmda">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pmdajson<small> (1)</small></h1>
        <p class="lead">Json pmda</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="/"><span itemprop="title">Carta.tech</span></a>
	</li>
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">man-pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man1/"><span itemprop="title">Executable programs or shell commands</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man1/pmdajson.1.html"><span itemprop="title">pmdajson</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>pmdajson</strong> is a Performance Metrics Domain Agent (PMDA) which exports metrics from arbitrary sources generating Javascript Object Notation (JSON) syntax, describing metric metadata and values.</p>
<p class='spacer'>

<p>Further details on the JSON format can be found at http://www.json.org</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">JSON DATA SOURCES</h2>
        <div class="sectioncontent">

<p><strong>pmdajson</strong> searches the directories listed in the "directory_list" and "trusted_directory_list" config file options, looking for files called "metadata.json". These JSON metadata files describe the names, types, etc. of their associated JSON data. For example, let's assume the following simple JSON data file:</p>
<p class='spacer'>

<pre>  {
    "string_value": "testing, 1, 2, 3",
    "read_count": 0
  }</pre>

<p class='spacer'>

<p>The associated metadata file would look like the following:</p>
<p class='spacer'>

<pre>  {
    "metrics": [
      {
        "name": "string_value",
        "pointer": "/string_value",
        "type": "string",
      },
      {
        "name": "read_count",
        "pointer": "/read_count",
        "type": "integer",
        "description": "Times values read"
      }
    ]
  }</pre>

<p class='spacer'>

<p>For more details on the JSON metadata format, see the README file included with <strong>pmdajson</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY MODEL</h2>
        <div class="sectioncontent">

<p>JSON sources that come from "directory_list" config file option aren't "trusted", and any command that needs to be run to get JSON data is run as user "nobody".</p>
<p class='spacer'>

<p>JSON sources that come from "trusted_directory_list" config file option are trusted, and any command that needs to be run to get JSON data is run as user "root".</p>
<p class='spacer'>

<p>For more details on security, see the README file included with <strong>pmdajson</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTALLATION</h2>
        <div class="sectioncontent">

<p>Install the json PMDA by using the Install script as root:</p>
<p class='spacer'>

<pre>      # cd $PCP_PMDAS_DIR/json</pre>

<p class='spacer'>

<pre>      # ./Install</pre>

<p class='spacer'>

<p>To uninstall, do the following as root:</p>
<p class='spacer'>

<pre>      # cd $PCP_PMDAS_DIR/json</pre>

<p class='spacer'>

<pre>      # ./Remove</pre>

<p class='spacer'>

<p><strong>pmdajson</strong> is launched by <strong>pmcd</strong>(1) and should never be executed directly. The Install and Remove scripts notify <strong>pmcd</strong>(1) when the agent is installed or removed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

  <dl class='dl-horizontal'>
    <dt><strong>$PCP_PMDAS_DIR/json/Install</strong></dt>
    <dd>
  <p>installation script for the <strong>pmdajson</strong> agent</p>
    </dd>
    <dt><strong>$PCP_PMDAS_DIR/json/Remove</strong></dt>
    <dd>
  <p>undo installation script for the <strong>pmdajson</strong> agent</p>
    </dd>
    <dt><strong>$PCP_PMDAS_DIR/json/config.json</strong></dt>
    <dd>
  <p>configuration file for the <strong>pmdajson</strong> agent</p>
    </dd>
    <dt><strong>$PCP_LOG_DIR/pmcd/json.log</strong></dt>
    <dd>
  <p>default log file for error messages from <strong>pmdajson</strong></p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PCP ENVIRONMENT</h2>
        <div class="sectioncontent">

<p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by <strong>PCP</strong>. On each installation, the file <strong>/etc/pcp.conf</strong> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>pmcd</strong>(1), <a href="../man1/pminfo.1.html"><strong>pminfo</strong>(1)</a> and <a href="../man1/pmprobe.1.html"><strong>pmprobe</strong>(1)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pmdajbd2.1.html"><span aria-hidden="true">&larr;</span> pmdajbd2.1: journal block device (JBD) performance metrics domain agent (PMDA)</a></li>
   <li class="next"><a href="pmdakernel.1.html">pmdakernel.1: operating system kernel performance metrics domain agents <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
