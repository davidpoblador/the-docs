<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cback-amazons3-sync: Synchronize a local directory with an amazon s3 bucket</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Synchronize a local directory with an amazon s3 bucket">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cback-amazons3-sync (1) manual">
  <meta name="twitter:description" content="Synchronize a local directory with an amazon s3 bucket">
  <meta name="twitter:image" content="https://www.carta.tech/images/cedar-backup2-cback-amazons3-sync-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/cback-amazons3-sync.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cback-amazons3-sync (1) manual" />
  <meta property="og:description" content="Synchronize a local directory with an amazon s3 bucket" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cedar-backup2-cback-amazons3-sync-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cback-amazons3-sync<small> (1)</small></h1>
        <p class="lead">Synchronize a local directory with an amazon s3 bucket</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cback-amazons3-sync.1.html">
      <span itemprop="name">cback-amazons3-sync: Synchronize a local directory with an amazon s3 bucket</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cedar-backup2/">
      <span itemprop="name">cedar-backup2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cback-amazons3-sync.1.html">
      <span itemprop="name">cback-amazons3-sync: Synchronize a local directory with an amazon s3 bucket</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cback-amazons3-sync</strong> [<em>switches</em>] sourceDir s3BucketUrl</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This is the Cedar Backup Amazon S3 sync tool.  It synchronizes a local directory to an Amazon S3 cloud storage bucket.  After the sync is complete, a validation step is taken.  An error is reported if the contents of the bucket do not match the source directory, or if the indicated size for any file differs.</p><p>Generally, one can run the cback-amazons3-sync command with no special switches.  This will start it using the default Cedar Backup log file, etc. You only need to use the switches if you need to change the default behavior.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>sourceDir</strong></p>
  </dt>
  <dd>
    <p>The source directory on a local disk.</p>
  </dd>
  <dt>
    <p><strong>s3BucketUrl</strong></p>
  </dt>
  <dd>
    <p>The URL specifying the location of the Amazon S3 cloud storage bucket to synchronize with, like s3://example.com-backup/subdir.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SWITCHES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display usage/help listing.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display version information.</p>
  </dd>
  <dt>
    <p><strong>-b</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Print verbose output to the screen as well writing to the logfile. When this option is enabled, most information that would normally be written to the logfile will also be written to the screen.</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--logfile</strong></p>
  </dt>
  <dd>
    <p>Specify the path to an alternate logfile.  The default logfile file is /var/log/cback.log.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--owner</strong></p>
  </dt>
  <dd>
    <p>Specify the ownership of the logfile, in the form user:group.  The default ownership is root:adm, to match the Debian standard for most logfiles.  This value will only be used when creating a new logfile.  If the logfile already exists when the cback script is executed, it will retain its existing ownership and mode.  Only user and group names may be used, not numeric uid and gid values.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--mode</strong></p>
  </dt>
  <dd>
    <p>Specify the permissions for the logfile, using the numeric mode as in <a href="../man1/chmod.1.html"><strong>chmod</strong>(1)</a>. The default mode is 640 (-rw-r-----).  This value will only be used when creating a new logfile.  If the logfile already exists when the cback script is executed, it will retain its existing ownership and mode.</p>
  </dd>
  <dt>
    <p><strong>-O</strong>, <strong>--output</strong></p>
  </dt>
  <dd>
    <p>Record some sub-command output to the logfile. When this option is enabled, all output from system commands will be logged. This might be useful for debugging or just for reference.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Write debugging information to the logfile. This option produces a high volume of output, and would generally only be needed when debugging a problem. This option implies the --output option, as well.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--stack</strong></p>
  </dt>
  <dd>
    <p>Dump a Python stack trace instead of swallowing exceptions.  This forces Cedar Backup to dump the entire Python stack trace associated with an error, rather than just progating last message it received back up to the user interface. Under some circumstances, this is useful information to include along with a bug report.</p>
  </dd>
  <dt>
    <p><strong>-D</strong>, <strong>--diagnostics</strong></p>
  </dt>
  <dd>
    <p>Display runtime diagnostic information and then exit.  This diagnostic information is often useful when filing a bug report.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>This command returns 0 (zero) upon normal completion, and several other error codes related to particular errors.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>The Python interpreter version is &lt; 2.5.</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>Error processing command-line arguments.</p>
  </dd>
  <dt>
    <p><strong>3</strong></p>
  </dt>
  <dd>
    <p>Error configuring logging.</p>
  </dd>
  <dt>
    <p><strong>5</strong></p>
  </dt>
  <dd>
    <p>Backup was interrupted with a CTRL-C or similar.</p>
  </dd>
  <dt>
    <p><strong>6</strong></p>
  </dt>
  <dd>
    <p>Other error during processing.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>This tool is a wrapper over the Amazon AWS CLI interface found in the <strong>aws</strong>(1) command.  Specifically, cback-amazons3-sync invokes "aws s3 sync" followed by "aws s3api list-objects".</p><p>Cedar Backup itself is designed to run as root.  However, this command can be run safely as any user that is configured to use the Amazon AWS CLI interface. The <strong>aws</strong>(1) command will be executed by the same user which is executing cback-amazons3-sync.</p><p>You must configure the AWS CLI interface to have a valid connection to Amazon S3 infrastructure before using cback-amazons3-sync. For more information about how to accomplish this, see the Cedar Backup user guide.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cback-amazons3-sync&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/cback.1.html"><strong>cback</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/var/log/cback.log</em> - Default log file</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;support@cedar-solutions.com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Kenneth J. Pronovici &lt;pronovic@ieee.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2014 Kenneth J. Pronovici.</p><p>This is free software; see the source for copying conditions.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cback.1.html"><span aria-hidden="true">&larr;</span> cback.1: Local and remote backups to cd-r/cd-rw media</a></li>
   <li class="next"><a href="cback-span.1.html">cback-span.1: Span staged data among multiple discs <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
