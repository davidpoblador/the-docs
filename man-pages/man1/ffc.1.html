<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ffc: The fenics form compiler</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The fenics form compiler">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ffc (1) manual">
  <meta name="twitter:description" content="The fenics form compiler">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-ffc-ffc-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ffc.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ffc (1) manual" />
  <meta property="og:description" content="The fenics form compiler" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-ffc-ffc-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ffc<small> (1)</small></h1>
        <p class="lead">The fenics form compiler</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ffc.1.html">
      <span itemprop="name">ffc: The fenics form compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-ffc/">
      <span itemprop="name">python-ffc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ffc.1.html">
      <span itemprop="name">ffc: The fenics form compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ffc</strong> [-h] [-V] [-v] [-s] [-e] [-l language] [-r representation] [-f option] [-O] [-q quadrature-rule] ... input.ufl ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Compile multilinear forms into efficient low-level code.</p><p>The FEniCS Form Compiler FFC accepts as input one or more files, each specifying one or more multilinear forms, and compiles the given forms into efficient low-level code for automatic assembly of the tensors representing the multilinear forms. In particular, FFC compiles a pair of bilinear and linear forms defining a variational problem into code that can be used to efficiently assemble the corresponding linear system.</p><p>By default, FFC generates code according to the UFC specification version 1.0 (Unified Form-assembly Code, see http://www.fenics.org/) but this can be controlled by specifying a different output language (option -l). It is also possible to add new output languages to FFC.</p><p>For a full description of FFC, including a specification of the form language used to define the multilinear forms, see the FFC user manual available on the FEniCS web page: http://www.fenics.org/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display help text and exit.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display version number and exit.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Verbose mode, more output is printed. Conflicts with -s.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--silent</strong></p>
  </dt>
  <dd>
    <p>Silent mode, no output is printed. Conflicts with -v.</p>
  </dd>
  <dt>
    <p><strong>-e</strong>, <strong>--error-control</strong></p>
  </dt>
  <dd>
    <p>Error control mode, a set of additional forms useful for goal-oriented error control is generated and compiled.</p>
  </dd>
  <dt>
    <p><strong>-l</strong> language, <strong>--language</strong> language</p>
  </dt>
  <dd>
    <p>Specify output language, one of 'ufc' (default) or 'dolfin' (UFC with a small layer of DOLFIN-specific bindings).</p>
  </dd>
  <dt>
    <p><strong>-r</strong> representation, <strong>--representation</strong> representation</p>
  </dt>
  <dd>
    <p>Specify representation for precomputation and code generation, one of 'quadrature' (default) or 'tensor'.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> option</p>
  </dt>
  <dd>
    <p>Specify code generation options. The list of options available depends on the specified language (format). Current options include <strong>-fblas</strong>, <strong>-fno-foo</strong>, <strong>-fprecision=n</strong>, <strong>-fprecompute_basis_const</strong>, <strong>-fprecompute_ip_const</strong>, <strong>-fsimplify_expressions</strong>, <strong>-feliminate_zeros</strong>, <strong>-fquadrature_degree=n</strong> and, <strong>-fsplit</strong>, <strong>-fno_ferari</strong>, described in detail below.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> blas</p>
  </dt>
  <dd>
    <p>Generate code that uses BLAS to compute tensor products. This option is currently ignored, but can be used to reduce the code size when the BLAS option is (re-)implemented in future versions.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> no-foo</p>
  </dt>
  <dd>
    <p>Don't generate code for UFC function with name 'foo'. Typical options include <strong>-fno-evaluate_basis</strong> and <strong>-fno-evaluate_basis_derivatives</strong> to reduce the size of the generated code when these functions are not needed.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> precision=n</p>
  </dt>
  <dd>
    <p>Set the number of significant digits to n in the generated code. The default value of n is 15.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> precompute_basis_const</p>
  </dt>
  <dd>
    <p>Optimisation option for quadrature representation. This option is ignored if optimisation is not used (see <strong>-O</strong> option), and it also implies the <strong>-fprecompute_ip_const option</strong>. This option will generate code that precompute terms which are constant in the loops involving basis indices. This can result in a reduction of the operation count and thereby improve the runtime efficiency of the generated code. However, the improvements depends on the GCC compiler options as well as the characteristics of the variational form.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> precompute_ip_const</p>
  </dt>
  <dd>
    <p>Like the <strong>-fprecompute_basis_const</strong> option with the only difference that code will be generated to compute terms which are constant in the loops involving the integration points only.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> simplify_expressions</p>
  </dt>
  <dd>
    <p>Optimisation option for quadrature representation. This option is ignored if optimisation is not used (see <strong>-O</strong> option). Before simplifying the expressions to compute the local element tensor, they are expanded in order to identify and precompute terms which are constant with respect to geometry and integration points. This operation can be very expensive since it involves creating many new terms which might result in memory being exhausted.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> eliminate_zeros</p>
  </dt>
  <dd>
    <p>Optimisation option for quadrature representation. This option is ignored if optimisation is not used (see <strong>-O</strong> option). Tables containing basis function values will be compressed such that they only contain non zero values. This will reduce the loop ranges and thereby the number of operations, but since a mapping is introduced, in order to insert values correctly into the element matrix, some overhead is introduced. This optimisation option is usually most effective in combination with one of the other optimisation options.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> quadrature_degree=n</p>
  </dt>
  <dd>
    <p>Will generate a quadrature rule accurate up to degree n regardless of the polynomial degree of the form. This option is only valid for UFL forms and the specified degree will apply to ALL terms of the given form for which no degree has been specified through metadata! As default FFC will determine the degree automatically from the form.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> split</p>
  </dt>
  <dd>
    <p>Generate separate files for declarations and the implementation.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> no_ferari</p>
  </dt>
  <dd>
    <p>Skip FErari optimizations, even if the -O flag is set. This only has effect when the tensor representation is used. This option can be used in combination with the -O flag to avoid potentially very long compilation times by instructing FFC to only optimize when the quadrature representation is used.</p>
  </dd>
  <dt>
    <p><strong>-O</strong>, <strong>--optimize</strong></p>
  </dt>
  <dd>
    <p>Generate optimized code with a lower operation count compared to non-optimized code for the assembly of the local element tensor. This will in general increase the run-time performance of the code. If the representation (see <strong>-r</strong> option) is 'tensor' then FFC will use FErari optimizations. This option requires FErari and should be used with caution since it may be very costly (at compile-time) for other than simple forms. If the representation is 'quadrature' the compile-time increase tends to be much less drastic compared to FErari for very complex forms. The <strong>-O</strong> option for quadrature representation turns on the following optimisation flags:</p><p><strong>-fsimplify_expressions -feliminate_zeros</strong></p>
  </dd>
  <dt>
    <p><strong>-o</strong> directory, <strong>--output-directory</strong> directory</p>
  </dt>
  <dd>
    <p>Specify the directory where the generated files should be written to. The default output directory is the current ('.') directory.</p>
  </dd>
  <dt>
    <p><strong>-q</strong> rule, <strong>--quadrature-rule</strong> rule</p>
  </dt>
  <dd>
    <p>Specify the quadrature rule that should be used when integrating the forms. This will affect both tensor and quadrature representation. Currently, available options are 'default' and 'canonical'. The 'default' option covers hand implemented quadrature rules for triangles and tetrahedra with a degree of precision less than or equal to six. The 'canonical' option relies on FIAT to compute the quadrature rule which is based on the Gauss--Legendre--Jacobi rule mapped onto simplices. By default, FFC will try to use the 'default' option as this will typically result in the most efficient code being generated. If this is not possible (if the polynomial degree of the integrand is larger than six, or if the cell is not one of 'triangle' or 'tetrahedron'), FFC will automatically apply the 'canonical' rule. If the number of integration points used by the 'canonical' rule is too big for efficient computation, the option <strong>-fquadrature_degree</strong> can be used.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Send comments, questions, bug reports etc. to ffc@lists.launchpad.net.</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Anders Logg (logg@simula.no) with help from Kristian Ølgaard, Marie Rognes, Garth N. Wells and many others.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ffbamg.1.html"><span aria-hidden="true">&larr;</span> ffbamg.1: A two - dimensional anisotropic mesh generator and interpolator</a></li>
   <li class="next"><a href="ffcfstress.1.html">ffcfstress.1: Constant force stress test for force-feedback devices <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
