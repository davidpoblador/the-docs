<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cproto: Generate c function prototypes and convert function definitions</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generate c function prototypes and convert function definitions">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cproto (1) manual">
  <meta name="twitter:description" content="Generate c function prototypes and convert function definitions">
  <meta name="twitter:image" content="https://www.carta.tech/images/cproto-cproto-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/cproto.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cproto (1) manual" />
  <meta property="og:description" content="Generate c function prototypes and convert function definitions" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cproto-cproto-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cproto<small> (1)</small></h1>
        <p class="lead">Generate c function prototypes and convert function definitions</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cproto.1.html">
      <span itemprop="name">cproto: Generate c function prototypes and convert function definitions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cproto/">
      <span itemprop="name">cproto</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cproto.1.html">
      <span itemprop="name">cproto: Generate c function prototypes and convert function definitions</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cproto</strong> [ <em>option </em>...<em></em> ] [ <em>file </em>...<em></em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Cproto</strong> generates function prototypes for functions defined in the specified C source files to the standard output. The function definitions may be in the old style or ANSI C style. Optionally, <strong>cproto</strong> also outputs declarations for variables defined in the files. If no <em>file</em> argument is given, <strong>cproto</strong> reads its input from the standard input.</p><p>By giving a command line option, <strong>cproto</strong> will also convert function definitions in the specified files from the old style to the ANSI C style. The original source files along with files specified by</p>
<pre>
#include "file"
</pre>
<p>directives appearing in the source code will be overwritten with the converted code. If no file names are given on the command line, then the program reads the source code from the standard input and outputs the converted source to the standard output.</p><p>If any comments appear in the parameter declarations for a function definition, such as in the example, main (argc, argv) int argc;       /* number of arguments */ char *argv[];   /* arguments */ { } then the converted function definition will have the form int main (</p>
<pre>
    int argc,       /* number of arguments */
    char *argv[]   /* arguments */
</pre>
<p>) { } Otherwise, the converted function definition will look like int main (int argc, char *argv[]) { }</p><p><strong>Cproto</strong> can optionally convert function definitions from the ANSI style to the old style. In this mode, the program also converts function declarators and prototypes that appear outside function bodies. This is not a complete ANSI C to old C conversion. The program does not change anything within function bodies.</p><p><strong>Cproto</strong> can optionally generate source in lint-library format. This is useful in environments where the <strong>lint</strong> utility is used to supplement prototype checking of your program.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Output the keyword <strong>extern</strong> in front of every generated prototype or declaration that has global scope.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em> n</em></p>
  </dt>
  <dd>
    <p>Set the style of generated function prototypes where <em>n</em> is a number from 0 to 3. For example, consider the function definition main (argc, argv) int argc; char *argv[]; { } If the value is 0, then no prototypes are generated. When set to 1, the output is: int main(/*int argc, char *argv[]*/); For a value of 2, the output has the form: int main(int /*argc*/, char */*argv*/[]); The default value is 3. It produces the full function prototype: int main(int argc, char *argv[]);</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>Generate text for a lint-library (overrides the "<strong>-f</strong>" option). The output includes the comment /* LINTLIBRARY */ Special comments LINT_EXTERN and LINT_PREPRO (a la "VARARGS") respectively turn on the "-x" option and copy comment-text to the output (for preprocessing in <strong>lint</strong>). Use the comment /* LINT_EXTERN2 */ to include externs defined in the first level of include-files. Use the comment /* LINT_SHADOWED */ to cause <strong>cproto</strong> to put "#undef" directives before each lint library declaration (i.e., to avoid conflicts with macros that happen to have to have the same name as the functions, thus causing syntax errors).</p>
  </dd>

</dl>
<p>Note that these special comments are not supported under VAX/VMS, since there is no equivalent for the "-C" option of cpp with VAX-C.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>The parameter comments in the prototypes generated by the -f1 and -f2 options are omitted by default. Use this option to enable the output of these comments.</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Put a macro around the parameter list of every generated prototype. For example: int main P_((int argc, char *argv[]));</p>
  </dd>
  <dt>
    <p><strong>-M</strong><em> name</em></p>
  </dt>
  <dd>
    <p>Set the name of the macro used to surround prototype parameter lists when option -m is selected. The default is "P_".</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Omit the definition of the prototype macro used by the -m option.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em> file</em></p>
  </dt>
  <dd>
    <p>Specify the name of the output file (default: standard output).</p>
  </dd>
  <dt>
    <p><strong>-O</strong><em> file</em></p>
  </dt>
  <dd>
    <p>Specify the name of the error file (default: standard error).</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Disable promotion of formal parameters in old style function definitions. By default, parameters of type <strong>char</strong> or <strong>short</strong> in old style function definitions are promoted to type <strong>int</strong> in the function prototype or converted ANSI C function definition. Parameters of type <strong>float</strong> get promoted to <strong>double</strong> as well.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Do not output any error messages when the program cannot read the file specified in an <em>#include</em> directive.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>By default, <strong>cproto</strong> only generates declarations for functions and variables having global scope. This option will output <strong>static</strong> declarations as well.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Output only static declarations.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>By default, <strong>cproto</strong> only generates declarations for functions and variables having global scope. This option will output <strong>inline</strong> declarations as well.</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>Copy type definitions from each file. (Definitions in included-files are copied, unlike the "-l" option).</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Also output declarations for variables defined in the source.</p>
  </dd>
  <dt>
    <p><strong>-x</strong></p>
  </dt>
  <dd>
    <p>This option causes procedures and variables which are declared "extern" to be included in the output.</p>
  </dd>
  <dt>
    <p><strong>-X</strong><em> level</em></p>
  </dt>
  <dd>
    <p>This option limits the include-file level from which declarations are extracted by examining the preprocessor output.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Convert function definitions from the old style to the ANSI C style.</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>Convert function definitions from the ANSI C style to the traditional style.</p>
  </dd>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p>Rewrite function definition heads to include both old style and new style declarations separated by a conditional compilation directive. For example, the program can generate this function definition: #ifdef ANSI_FUNC</p><p>int main (int argc, char *argv[]) #else</p><p>int main (argc, argv) int argc; char *argv[] #endif { }</p>
  </dd>
  <dt>
    <p><strong>-B</strong><em> directive</em></p>
  </dt>
  <dd>
    <p>Set the conditional compilation directive to output at the beginning of function definitions generated by the -b option. The default is #ifdef ANSI_FUNC</p>
  </dd>

</dl>

<pre>
<strong>-P</strong><em> template</em>
<strong>-F</strong><em> template</em>
<strong>-C</strong><em> template</em>
</pre>
<p>Set the output format for generated prototypes, function definitions, and function definitions with parameter comments respectively. The format is specified by a template in the form " int f ( a, b )" but you may replace each space in this string with any number of whitespace characters. For example, the option -F"int f(&#92;n&#92;ta,&#92;n&#92;tb&#92;n&#92;t)" will produce int main(</p>
<pre>
        int argc,
        char *argv[]
        )
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-D</strong><em> name[=value]</em></p>
  </dt>
  <dd>
    <p>This option is passed through to the preprocessor and is used to define symbols for use with conditionals such as <em>#ifdef.</em></p>
  </dd>
  <dt>
    <p><strong>-U</strong><em> name</em></p>
  </dt>
  <dd>
    <p>This option is passed through to the preprocessor and is used to remove any definitions of this symbol.</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em> directory</em></p>
  </dt>
  <dd>
    <p>This option is passed through to the preprocessor and is used to specify a directory to search for files that are referenced with <em>#include.</em></p>
  </dd>
  <dt>
    <p><strong>-E</strong><em> cpp</em></p>
  </dt>
  <dd>
    <p>Pipe the input files through the specified C preprocessor command when generating prototypes. By default, the program uses /lib/cpp.</p>
  </dd>
  <dt>
    <p><strong>-E</strong><em> 0</em></p>
  </dt>
  <dd>
    <p>Do not run the C preprocessor.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print version information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>The environment variable CPROTO is scanned for a list of options in the same format as the command line options. Options given on the command line override any corresponding environment option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>If an un-tagged struct, union or enum declaration appears in a generated function prototype or converted function definition, the content of the declaration between the braces is empty.</p><p>The program does not pipe the source files through the C preprocessor when it is converting function definitions. Instead, it tries to handle preprocessor directives and macros itself and can be confused by tricky macro expansions. The conversion also discards some comments in the function definition head.</p><p>The -v option does not generate declarations for variables defined with the <strong>extern</strong> specifier. This doesn't strictly conform to the C language standard but this rule was implemented because include files commonly declare variables this way.</p><p>When the program encounters an error, it usually outputs the not very descriptive message "syntax error". (Your configuration may allow the extended error reporting in yyerror.c).</p><p>Options that take string arguments only interpret the following character escape sequences: &#92;n	newline &#92;s	space &#92;t	tab</p><p>VARARGS comments don't get passed through on systems whose C preprocessors don't support this (e.g., VAX/VMS, MS-DOS).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">

<pre>
Chin Huang
cthuang@vex.net
cthuang@interlog.com

Thomas Dickey
dickey@invisible-island.net
modifications to support lint library, type-copying, and port to VAX/VMS.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cproto&hellip;</h2>
        <div class="sectioncontent">
<p>cc(1), <strong>cpp</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cpqarrayd.1.html"><span aria-hidden="true">&larr;</span> cpqarrayd.1: Arraycontoller monitoringdaemon</a></li>
   <li class="next"><a href="cpuburn.1.html">cpuburn.1: A collection of programs to put heavy load on cpu <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
