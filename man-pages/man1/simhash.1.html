<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>simhash: File similarity hash tool</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="File similarity hash tool">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="simhash (1) manual">
  <meta name="twitter:description" content="File similarity hash tool">
  <meta name="twitter:image" content="https://www.carta.tech/images/simhash-simhash-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/simhash.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="simhash (1) manual" />
  <meta property="og:description" content="File similarity hash tool" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/simhash-simhash-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">simhash<small> (1)</small></h1>
        <p class="lead">File similarity hash tool</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/simhash.1.html">
      <span itemprop="name">simhash: File similarity hash tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/simhash/">
      <span itemprop="name">simhash</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/simhash.1.html">
      <span itemprop="name">simhash: File similarity hash tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>simhash <strong>[ -s </strong><em>nshingles</em><strong> ]</strong> <strong>[ -f </strong><em>nfeatures</em><strong> ]</strong> <strong>[ </strong><em>file</em><strong> ]</strong></p><p>simhash <strong>[ -s </strong><em>nshingles</em><strong> ]</strong> <strong>[ -f </strong><em>nfeatures</em><strong> ]</strong> <strong>-w </strong><em>file</em><strong> ...</strong></p><p>simhash <strong>[ -s </strong><em>nshingles</em><strong> ]</strong> <strong>[ -f </strong><em>nfeatures</em><strong> ]</strong> <strong>-m </strong><em>file</em><strong> ...</strong></p><p>simhash <strong>-c </strong><em>hashfile hashfile</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program is used to compute and compare similarity hashes of files.  A similarity hash is a chunk of data that has the property that some distance metric between files is proportional to some distance metric between the hashes. Typically the similarity hash will be much smaller than the file itself.</p><p>The algorithm used by <em>simhash</em> is Manassas' "shingleprinting" algorithm (see BIBLIOGRAPHY below): take a hash of every <em>m</em>-byte subsequence of the file, and retain the <em>n</em> of these hashes that are numerically smallest.  The size of the intersection of the hash sets of two files gives a statistically good estimate of the similarity of the files as a whole.</p><p>In its default mode, <em>simhash</em> will compute the similarity hash of its file argument (or stdin) and write this hash to its standard output. When invoked with the <strong>-w</strong> argument (see below), <em>simhash</em> will compute similarity hashes of all of its file arguments in "batch mode". When invoked with the <strong>-m</strong> argument (see below), <em>simhash</em> will compare all the given files using similarity hashes in "match mode". Finally, when invoked with the <strong>-c</strong> argument (see below), <em>simhash</em> will report the degree of similarity between two hashes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-f </strong><em>feature-count</em></p>
  </dt>
  <dd>
    <p>When computing a similarity hash, retain at most <em>feature-count</em> significant hashes from the target file. The default is 128 features.  Larger feature counts will give higher resolution in differences between files, will increase the size of the similarity hash proportionally to the feature count, and will increase similarity hash computation time slightly.</p>
  </dd>
  <dt>
    <p><strong>-s </strong><em>shingle-size</em></p>
  </dt>
  <dd>
    <p>When computing a similarity hash, use hashes of samples consisting of <em>shingle-size</em> consecutive bytes drawn from the target file. The default is 8 bytes, the minimum is 4 bytes. Larger shingle sizes will emphasize the differences between files more and will slow the similarity hash computation proportionally to the shingle size.</p>
  </dd>
  <dt>
    <p><strong>-c </strong><em>hashfile1 hashfile2</em></p>
  </dt>
  <dd>
    <p>Display the distance (normalized to the range 0..1) between the similarity hash stored in <em>hashfile1</em> and the similarity hash stored in <em>hashfile2</em>.</p>
  </dd>
  <dt>
    <p><strong>-w </strong><em>file</em><strong> ...</strong></p>
  </dt>
  <dd>
    <p>Write the similarity hash of each of the <em>file</em> arguments to <em>file.sim</em>.</p>
  </dd>
  <dt>
    <p><strong>-m </strong><em>file</em><strong> ...</strong></p>
  </dt>
  <dd>
    <p>Compute the similarity hash of each of the <em>file</em> arguments, and output a similarity matrix for those files.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Bart Massey &lt;bart@cs.pdx.edu&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>This currently uses CRC32 for the hashing.  A Rabin Fingerprint should be offered as a slightly slower but more reliable alternative.</p><p>The shingleprinting algorithm works for text files and fairly well for other sequential filetypes, but does not work well for image files.   The latter both are 2D and often undergo odd transformations.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BIBLIOGRAPHY</h2>
        <div class="sectioncontent">
<p>Mark Manasse, Microsoft Research Silicon Valley. Finding similar things quickly in large collections. http://research.microsoft.com/research/sv/PageTurner/similarity.htm</p><p>Andrei Z. Broder. On the resemblance and containment of documents. In Compression and Complexity of Sequences (SEQUENCES'97), pages 21-29. IEEE Computer Society, 1998. ftp://ftp.digital.com/pub/DEC/SRC/publications/broder/positano-final-wpnums.pdf</p><p>Andrei Z. Broder. Some applications of Rabin's fingerprinting method. Published in R. Capocelli, A. De Santis, U. Vaccaro eds., Sequences II: Methods in Communications, Security, and Computer Science, Springer-Verlag, 1993. http://athos.rutgers.edu/~muthu/broder.ps</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="simage-config.1.html"><span aria-hidden="true">&larr;</span> simage-config.1: Display simage library configuration</a></li>
   <li class="next"><a href="similarity-tester.1.html">similarity-tester.1: Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
