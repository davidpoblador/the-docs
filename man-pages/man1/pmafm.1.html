<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pmafm: Performance co-pilot archive folio manager</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Performance co-pilot archive folio manager">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pmafm<small> (1)</small></h1>
        <p class="lead">Performance co-pilot archive folio manager</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pmafm.1.html">
      <span itemprop="name">pmafm: Performance co-pilot archive folio manager</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pcp/">
      <span itemprop="name">pcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pmafm.1.html">
      <span itemprop="name">pmafm: Performance co-pilot archive folio manager</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pmafm</strong> <em>folioname</em> [<em>command</em> [<em>arg</em> ...]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A collection of one or more Performance Co-Pilot (PCP) archive logs may be combined with a control file to produce a PCP archive folio. Archive folios are created using either <a href="../man1/mkaf.1.html"><strong>mkaf</strong>(1)</a> or the interactive ``record mode'' services of PCP clients like <a href="../man1/pmchart.1.html"><strong>pmchart</strong>(1)</a>.</p><p><strong>pmafm</strong> provides a number of services that may be used to process folios. In particular, it provides support for execution of PCP tools using one or more of the component archive logs within an archive folio.</p><p>The target folio is identified by the folio control file <em>folioname</em>. The syntax for a folio control file is described in <a href="../man1/mkaf.1.html"><strong>mkaf</strong>(1)</a>.</p><p>If present, the command and arguments following <em>folioname</em> are interpreted and executed as a single command, otherwise commands are read from standard input.</p><p>The following commands are supported.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>archives</strong></p>
  </dt>
  <dd>
    <p>Subsequent commands apply to all archives in the folio.</p>
  </dd>
  <dt>
    <p><strong>archives</strong> <em>N</em>[,...]</p>
  </dt>
  <dd>
    <p>Archives within a folio are numbered 1, 2, etc. Subsequent commands are restricted to apply only to the designated archives.</p>
  </dd>
  <dt>
    <p><strong>archives</strong> <em>name</em>[,...]</p>
  </dt>
  <dd>
    <p>Archives within a folio have unique names. Subsequent commands are restricted to apply only to the designated archives.</p>
  </dd>
  <dt>
    <p><strong>check</strong></p>
  </dt>
  <dd>
    <p>Validate the presence and format of each file in the folio and the component archives.</p>
  </dd>
  <dt>
    <p><strong>help</strong></p>
  </dt>
  <dd>
    <p>A brief reminder of the command syntax. <strong>?</strong> is a synonym for <strong>help</strong>.</p>
  </dd>
  <dt>
    <p><strong>hosts</strong></p>
  </dt>
  <dd>
    <p>Subsequent commands apply to all archives in the folio.</p>
  </dd>
  <dt>
    <p><strong>hosts</strong> <em>hostname</em>[,...]</p>
  </dt>
  <dd>
    <p>Subsequent commands are restricted to apply only to those archives that match the designated hostnames.</p>
  </dd>
  <dt>
    <p><strong>list</strong> [<strong>verbose</strong>]</p>
  </dt>
  <dd>
    <p>Display the contents of the folio.  By default the control header and the ordinal number, hostname and archive base name for each archive in the folio. The <strong>verbose</strong> option causes <strong>pmafm</strong> to dump the label record from each archive using <strong>pmdumplog -l</strong>.</p><ul>
<li><p>The first named archive in the folio is assumed to be associated with the default host for any tool that tries to replay multiple archives from the folio.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>quit</strong></p>
  </dt>
  <dd>
    <p>Exit <strong>pmafm</strong>.</p>
  </dd>
  <dt>
    <p><strong>remove</strong></p>
  </dt>
  <dd>
    <p>Echo on standard output the <strong>sh</strong>(1) commands required to remove all of the physical files associated with this archive folio.</p>
  </dd>
  <dt>
    <p><strong>repeat</strong> <em>tool</em> [<em>arg</em> ...]</p>
  </dt>
  <dd>
    <p>Execute the known PCP <em>tool</em> once per selected archive.  For example, the command</p><p>repeat pmval -t60 kernel.all.load</p><p>would run <a href="../man1/pmval.1.html"><strong>pmval</strong>(1)</a> once per archive, with an appropriate <strong>-a</strong> argument.</p>
  </dd>
  <dt>
    <p><strong>replay</strong></p>
  </dt>
  <dd>
    <p>Some archive folios are created by tools (e.g.  .BR pmchart (1)) that provide sufficient information to allow all of the information in all of the archives of a folio to be replayed.</p>
  </dd>
  <dt>
    <p>[<strong>run</strong>] <em>tool</em> [<em>arg</em> ...]</p>
  </dt>
  <dd>
    <p>Execute the known PCP <em>tool</em> on the selected archives. Some PCP tools are able to process multiple concurrent archives, and in this case the tool is run once with the list of all selected archives passed via a <strong>-a</strong> argument. Otherwise, this command is synonymous with <strong>repeat</strong>.</p>
  </dd>
  <dt>
    <p><strong>selections</strong></p>
  </dt>
  <dd>
    <p>Display those archives that would be selected for processing with a <strong>repeat</strong>, <strong>replay</strong> or <strong>run</strong> command.</p>
  </dd>

</dl>
<p>The restrictions via any <strong>hosts</strong> and <strong>archives</strong> commands are conjuncted. These restrictions serve to limit the specific archives processed in the subsequent <strong>repeat</strong>, <strong>replay</strong>, <strong>run</strong> and <strong>selections</strong> commands. By default, all archives are selected.</p><p>Keywords in commands may be abbreviated provided no ambiguity is introduced, e.g. <strong>help</strong>, <strong>hel</strong> and <strong>he</strong> are synonymous, but <strong>h</strong> is ambiguous.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>$PCP_VAR_DIR/config/pmafm/</strong><em>*</em></p>
  </dt>
  <dd>
    <p>control files that define the behavior of each PCP tool known to <strong>pmafm</strong>. This information may be customized or extended, see <em>$PCP_VAR_DIR/config/pmafm/pcp</em> for documentation of the syntax and semantics of these files.</p>
  </dd>
  <dt>
    <p><strong>$HOME/.pcp/pmafm/</strong><em>*</em></p>
  </dt>
  <dd>
    <p>User customization of the control files.  All files in this directory are treated in the same manner as control files in the <em>$PCP_VAR_DIR/config/pmafm</em> directory.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PCP ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <a href="../man5/pcp.conf.5.html"><strong>pcp.conf</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pmafm&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/mkaf.1.html"><strong>mkaf</strong>(1)</a>, <a href="../man1/pmchart.1.html"><strong>pmchart</strong>(1)</a>, <a href="../man1/pmview.1.html"><strong>pmview</strong>(1)</a>, <a href="../man3/pmapi.3.html"><strong>PMAPI</strong>(3)</a>, <strong>pmRecordSetup</strong>(3), <a href="../man5/pcp.conf.5.html"><strong>pcp.conf</strong>(5)</a> and <a href="../man5/pcp.env.5.html"><strong>pcp.env</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>Many, but all are intended to be easily understood.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pldd.1.html"><span aria-hidden="true">&larr;</span> pldd.1: Display dynamic shared objects linked into a process</a></li>
   <li class="next"><a href="pmap.1.html">pmap.1: Report memory map of a process <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
