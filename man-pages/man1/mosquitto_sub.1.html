<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mosquitto_sub: An mqtt version 3.1 client for subscribing to topics</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="An mqtt version 3.1 client for subscribing to topics">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mosquitto_sub (1) manual">
  <meta name="twitter:description" content="An mqtt version 3.1 client for subscribing to topics">
  <meta name="twitter:image" content="https://www.carta.tech/images/mosquitto-clients-mosquitto_sub-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mosquitto_sub.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mosquitto_sub (1) manual" />
  <meta property="og:description" content="An mqtt version 3.1 client for subscribing to topics" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mosquitto-clients-mosquitto_sub-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mosquitto_sub<small> (1)</small></h1>
        <p class="lead">An mqtt version 3.1 client for subscribing to topics</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mosquitto_sub.1.html">
      <span itemprop="name">mosquitto_sub: An mqtt version 3.1 client for subscribing to topics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mosquitto-clients/">
      <span itemprop="name">mosquitto-clients</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mosquitto_sub.1.html">
      <span itemprop="name">mosquitto_sub: An mqtt version 3.1 client for subscribing to topics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mosquitto_sub</strong> [<strong>-A</strong>&nbsp;<em>bind_address</em>] [<strong>-c</strong>] [<strong>-d</strong>] [<strong>-h</strong>&nbsp;<em>hostname</em>] [<strong>-i</strong>&nbsp;<em>client_id</em>] [<strong>-I</strong>&nbsp;<em>client&nbsp;id&nbsp;prefix</em>] [<strong>-k</strong>&nbsp;<em>keepalive&nbsp;time</em>] [<strong>-p</strong>&nbsp;<em>port&nbsp;number</em>] [<strong>-q</strong>&nbsp;<em>message&nbsp;QoS</em>] [<strong>-R</strong>] [<strong>-S</strong>] [<strong>-N</strong>] [<strong>--quiet</strong>] [<strong>-v</strong>] [[<strong>-u</strong>&nbsp;<em>username</em>]&nbsp;[<strong>-P</strong>&nbsp;<em>password</em>]] [<strong>--will-topic</strong>&nbsp;<em>topic</em>&nbsp;[<strong>--will-payload</strong>&nbsp;<em>payload</em>]&nbsp;[<strong>--will-qos</strong>&nbsp;<em>qos</em>]&nbsp;[<strong>--will-retain</strong>]] [[{<strong>--cafile</strong>&nbsp;<em>file</em>&nbsp;|&nbsp;<strong>--capath</strong>&nbsp;<em>dir</em>}&nbsp;[<strong>--cert</strong>&nbsp;<em>file</em>]&nbsp;[<strong>--key</strong>&nbsp;<em>file</em>]&nbsp;[<strong>--tls-version</strong>&nbsp;<em>version</em>]&nbsp;[<strong>--insecure</strong>]] | [<strong>--psk</strong>&nbsp;<em>hex-key</em>&nbsp;<strong>--psk-identity</strong>&nbsp;<em>identity</em>&nbsp;[<strong>--tls-version</strong>&nbsp;<em>version</em>]]] [<strong>-T</strong>&nbsp;<em>filter-out</em>...] <strong>-t</strong>&nbsp;<em>message-topic</em>... <strong>mosquitto_sub</strong> [<strong>--help</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mosquitto_sub</strong> is a simple MQTT version 3.1 client that will subscribe to a topic and print the messages that it receives.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-A</strong></p><p>Bind the outgoing connection to a local ip address/hostname. Use this argument if you need to restrict network communication to a particular interface.</p><p><strong>-c</strong>, <strong>--disable-clean-session</strong></p><p>Disable the &apos;clean session&apos; flag. This means that all of the subscriptions for the client will be maintained after it disconnects, along with subsequent QoS 1 and QoS 2 messages that arrive. When the client reconnects, it will receive all of the queued messages.</p><p>If using this option, it is recommended that the client id is set manually with <strong>--id</strong></p><p><strong>--cafile</strong></p><p>Define the path to a file containing PEM encoded CA certificates that are trusted. Used to enable SSL communication.</p><p>See also <strong>--capath</strong></p><p><strong>--capath</strong></p><p>Define the path to a directory containing PEM encoded CA certificates that are trusted. Used to enable SSL communication.</p><p>For <strong>--capath</strong> to work correctly, the certificate files must have ".crt" as the file ending and you must run "c_rehash &lt;path to capath&gt;" each time you add/remove a certificate.</p><p>See also <strong>--cafile</strong></p><p><strong>--cert</strong></p><p>Define the path to a file containing a PEM encoded certificate for this client, if required by the server.</p><p>See also <strong>--key</strong>.</p><p><strong>--ciphers</strong></p><p>An openssl compatible list of TLS ciphers to support in the client. See <strong>ciphers</strong>(1) for more information.</p><p><strong>-d</strong>, <strong>--debug</strong></p><p>Enable debug messages.</p><p><strong>--help</strong></p><p>Display usage information.</p><p><strong>-h</strong>, <strong>--host</strong></p><p>Specify the host to connect to. Defaults to localhost.</p><p><strong>-i</strong>, <strong>--id</strong></p><p>The id to use for this client. If not given, defaults to mosquitto_sub_ appended with the process id of the client. Cannot be used at the same time as the <strong>--id-prefix</strong> argument.</p><p><strong>-I</strong>, <strong>--id-prefix</strong></p><p>Provide a prefix that the client id will be built from by appending the process id of the client. This is useful where the broker is using the clientid_prefixes option. Cannot be used at the same time as the <strong>--id</strong> argument.</p><p><strong>--insecure</strong></p><p>When using certificate based encryption, this option disables verification of the server hostname in the server certificate. This can be useful when testing initial server configurations but makes it possible for a malicious third party to impersonate your server through DNS spoofing, for example. Use this option in testing <em>only</em>. If you need to resort to using this option in a production environment, your setup is at fault and there is no point using encryption.</p><p><strong>-k</strong>, <strong>--keepalive</strong></p><p>The number of seconds between sending PING commands to the broker for the purposes of informing it we are still connected and functioning. Defaults to 60 seconds.</p><p><strong>--key</strong></p><p>Define the path to a file containing a PEM encoded private key for this client, if required by the server.</p><p>See also <strong>--cert</strong>.</p><p><strong>-N</strong></p><p>Do not append an end of line character to the payload when printing. This allows streaming of payload data from multiple messages directly to another application unmodified. Only really makes sense when not using <strong>-v</strong>.</p><p><strong>-p</strong>, <strong>--port</strong></p><p>Connect to the port specified instead of the default 1883.</p><p><strong>-P</strong>, <strong>--pw</strong></p><p>Provide a password to be used for authenticating with the broker. Using this argument without also specifying a username is invalid. This requires a broker that supports MQTT v3.1. See also the <strong>--username</strong> option.</p><p><strong>--psk</strong></p><p>Provide the hexadecimal (no leading 0x) pre-shared-key matching the one used on the broker to use TLS-PSK encryption support. <strong>--psk-identity</strong> must also be provided to enable TLS-PSK.</p><p><strong>--psk-identity</strong></p><p>The client identity to use with TLS-PSK support. This may be used instead of a username if the broker is configured to do so.</p><p><strong>-q</strong>, <strong>--qos</strong></p><p>Specify the quality of service desired for the incoming messages, from 0, 1 and 2. Defaults to 0. See <a href="../man7/mqtt.7.html"><strong>mqtt</strong>(7)</a> for more information on QoS.</p><p>The QoS is identical for all topics subscribed to in a single instance of mosquitto_sub.</p><p><strong>--quiet</strong></p><p>If this argument is given, no runtime errors will be printed. This excludes any error messages given in case of invalid user input (e.g. using <strong>--port</strong> without a port).</p><p><strong>-R</strong></p><p>If this argument is given, messages that are received that have the retain bit set will not be printed. Messages with retain set are "stale", in that it is not known when they were originally published. When subscribing to a wildcard topic there may be a large number of retained messages. This argument suppresses their display.</p><p><strong>-S</strong></p><p>Use SRV lookups to determine which host to connect to. Performs lookups to <strong>_mqtt._tcp.&lt;host&gt;</strong> when used in conjunction with <strong>-h</strong>, otherwise uses <strong>_mqtt._tcp.&lt;local dns domain&gt;</strong>.</p><p><strong>-t</strong>, <strong>--topic</strong></p><p>The MQTT topic to subscribe to. See <a href="../man7/mqtt.7.html"><strong>mqtt</strong>(7)</a> for more information on MQTT topics.</p><p>This option may be repeated to subscribe to multiple topics.</p><p><strong>-T</strong>, <strong>--filter-out</strong></p><p>Suppress printing of topics that match the filter. This allows subscribing to a wildcard topic and only printing a partial set of the wildcard hierarchy.</p><p>For example, subscribe to the BBC tree, but suppress output from Radio 3:</p><p>mosquitto_sub -t bbc/# -T bbc/radio3</p><p>This option may be repeated to filter out multiple topics or topic trees.</p><p><strong>--tls-version</strong></p><p>Choose which TLS protocol version to use when communicating with the broker. Valid options are <strong>tlsv1.2</strong>, <strong>tlsv1.1</strong> and <strong>tlsv1</strong>. The default value is <strong>tlsv1.2</strong>. If the installed version of openssl is too old, only <strong>tlsv1</strong> will be available. Must match the protocol version used by the broker.</p><p><strong>-u</strong>, <strong>--username</strong></p><p>Provide a username to be used for authenticating with the broker. This requires a broker that supports MQTT v3.1. See also the <strong>--pw</strong> argument.</p><p><strong>-v</strong>, <strong>--verbose</strong></p><p>Print received messages verbosely. With this argument, messages will be printed as "topic payload". When this argument is not given, the messages are printed as "payload".</p><p><strong>--will-payload</strong></p><p>Specify a message that will be stored by the broker and sent out if this client disconnects unexpectedly. This must be used in conjunction with <strong>--will-topic</strong>.</p><p><strong>--will-qos</strong></p><p>The QoS to use for the Will. Defaults to 0. This must be used in conjunction with <strong>--will-topic</strong>.</p><p><strong>--will-retain</strong></p><p>If given, if the client disconnects unexpectedly the message sent out will be treated as a retained message. This must be used in conjunction with <strong>--will-topic</strong>.</p><p><strong>--will-topic</strong></p><p>The topic on which to send a Will, in the event that the client disconnects unexpectedly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WILLS</h2>
        <div class="sectioncontent">
<p>mosquitto_sub can register a message with the broker that will be sent out if it disconnects unexpectedly. See <a href="../man7/mqtt.7.html"><strong>mqtt</strong>(7)</a> for more information.</p><p>The minimum requirement for this is to use <strong>--will-topic</strong> to specify which topic the will should be sent out on. This will result in a non-retained, zero length message with QoS 0.</p><p>Use the <strong>--will-retain</strong>, <strong>--will-payload</strong> and <strong>--will-qos</strong> arguments to modify the other will parameters.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Note that these really are examples - the subscriptions will work if you run them as shown, but there must be something publishing messages on those topics for you to receive anything.</p><p>Subscribe to temperature information on localhost with QoS 1:</p><p>mosquitto_sub -t sensors/temperature -q 1</p><p>Subscribe to hard drive temperature updates on multiple machines/hard drives. This expects each machine to be publishing its hard drive temperature to sensors/machines/HOSTNAME/temperature/HD_NAME.</p><p>mosquitto_sub -t sensors/machines/+/temperature/+</p><p>Subscribe to all broker status messages:</p><p>mosquitto_sub -v-t &#92;$SYS/#</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><strong>mosquitto_sub</strong> bug information can be found at http://launchpad.net/mosquitto</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mosquitto_sub&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/mqtt.7.html"><strong>mqtt</strong>(7)</a>, <a href="../man1/mosquitto_pub.1.html"><strong>mosquitto_pub</strong>(1)</a>, <a href="../man8/mosquitto.8.html"><strong>mosquitto</strong>(8)</a>, <a href="../man3/libmosquitto.3.html"><strong>libmosquitto</strong>(3)</a>, <a href="../man7/mosquitto-tls.7.html"><strong>mosquitto-tls</strong>(7)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p>This product includes software developed by the OpenSSL Project for use in the OpenSSL Toolkit. (http://www.openssl.org/)</p><p>This product includes cryptographic software written by Eric Young (eay@cryptsoft.com)</p><p>This product includes software written by Tim Hudson (tjh@cryptsoft.com)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Roger Light &lt;roger@atchoo.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mosquitto_pub.1.html"><span aria-hidden="true">&larr;</span> mosquitto_pub.1: An mqtt version 3.1 client for publishing simple messages</a></li>
   <li class="next"><a href="most.1.html">most.1: Browse or page through a text file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
