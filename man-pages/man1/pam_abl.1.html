<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pam_abl: Query or purge the databases used by the pam_abl module.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Query or purge the databases used by the pam_abl module.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pam_abl (1) manual">
  <meta name="twitter:description" content="Query or purge the databases used by the pam_abl module.">
  <meta name="twitter:image" content="https://www.carta.tech/images/libpam-abl-pam_abl-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pam_abl.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pam_abl (1) manual" />
  <meta property="og:description" content="Query or purge the databases used by the pam_abl module." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libpam-abl-pam_abl-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pam_abl<small> (1)</small></h1>
        <p class="lead">Query or purge the databases used by the pam_abl module.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pam_abl.1.html">
      <span itemprop="name">pam_abl: Query or purge the databases used by the pam_abl module.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libpam-abl/">
      <span itemprop="name">libpam-abl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pam_abl.1.html">
      <span itemprop="name">pam_abl: Query or purge the databases used by the pam_abl module.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>pam_abl [OPTION] [CONFIG]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Provides a non-pam interface to the infomration stored in the pam_abl module databases. CONFIG is the name of the pam_abl config file (default: /etc/security/pam_abl.conf). The config file is read to discover the names of the pam_abl databases, the rules that control purging of old data from them and commands to run when a user or host switches state.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>MAINTENANCE</h3>
<p><strong>-h, --help</strong></p><p>See this message.</p><p><strong>-d, --debugcommand</strong></p><p>Print the block/clear commands split in arguments.</p><p><strong>-p, --purge</strong></p><p>Purge databases according to purge rules in config.</p><p><strong>-r, --relative</strong></p><p>Display times relative to now.</p><p><strong>-v, --verbose</strong></p><p>Verbose output.</p>
<h3>NON-PAM INTERACTION</h3>
<p><strong>-f, --fail</strong></p><p>Fail user or host.</p><p><strong>-w, --whitelist</strong></p><p>Perform whitelisting (remove from blacklist, does not provide immunity).</p><p><strong>-c, --check</strong></p><p>Check status. Returns non-zero if currently blocked Prints <em>name: status</em> if verboseness is specified. If more than one host or user is given, checks only the first host/user pair.</p><p><strong>-u, --update</strong></p><p>Update the state of all users/hosts in the db. This will also cause the appropriate scripts to be called.</p><p><strong>-s, --service</strong></p><p>Operate in context of specified service. Defaults to <em>none</em>.</p><p><strong>-U, --user</strong></p><p>Operate on user (wildcards are ok for whitelisting).</p><p><strong>-H, --host</strong></p><p>Operate on host (wildcards are ok for whitelisting).</p><p><strong>-R, --reason</strong></p><p>Only used when -f is provided (defaults to "AUTH"). Specifies why the authentication failed. Possible values are USER, HOST, BOTH, AUTH</p><p>If you specified commands to run in your configuration, those commands will try to run if the host or user switches state (blocked &lt;â†’ clear) since the last time it was checked. The command will only be able to run, however, if you supply enough information to fill in the substitutions in the command. For instance, if your host_clr_command uses the %s parameter, you will need to specify the service with -s in order for the command to actually run.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Obtain a list of failed hosts and users:</p><p>$ pam_abl</p><p>Obtain a full list of failures listing times relative to now:</p><p>$ pam_abl -rv $ pam_abl --relative --verbose</p><p>Purge old data:</p><p>$ pam_abl -p $ pam_abl --purge</p><p>Unblock all example.com, somewhere.com hosts:</p><p>$ pam_abl -w -H *.example.com -H &#92;*.somewhere.com</p><p>Fail the host badguy.com and the user joe because the authentication failed:</p><p>$ pam_abl -f -H badguy.com -U joe -R AUTH</p><p>Check whether joe is currently allowed to use your neato service from somehost, running the necessary commands if he switches state:</p><p>$ pam_abl -c -U joe -H somehost -s neato</p><p>Because the user/host state is only updated when an attempt is made, you can manually force pam-abl to update the states and call the correct scripts:</p><p>$ pam_abl -u</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Lode Mertens &lt;pam-abl@danta.be&gt;</p><p>Andy Armstrong &lt;andy@hexten.net&gt;</p><p>Chris Tasma &lt;pam-abl@deksai.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;pam-abl@deksai.com&gt; or using the bugtracker on sourceforge.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pam_abl&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/pam_abl.conf.5.html"><strong>pam_abl.conf</strong>(5)</a>, <strong>pam_abl</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Chris Tasma</strong></p><p>Author.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pam-panel-icon.1.html"><span aria-hidden="true">&larr;</span> pam-panel-icon.1: A notification area indicator of pam_timestamp status</a></li>
   <li class="next"><a href="paman.1.html">paman.1: Pulseaudio manager <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
