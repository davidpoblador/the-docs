<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>filterdiff: Extract or exclude diffs from a diff file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extract or exclude diffs from a diff file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="filterdiff (1) manual">
  <meta name="twitter:description" content="Extract or exclude diffs from a diff file">
  <meta name="twitter:image" content="https://www.carta.tech/images/patchutils-filterdiff-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/filterdiff.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="filterdiff (1) manual" />
  <meta property="og:description" content="Extract or exclude diffs from a diff file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/patchutils-filterdiff-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">filterdiff<small> (1)</small></h1>
        <p class="lead">Extract or exclude diffs from a diff file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/filterdiff.1.html">
      <span itemprop="name">filterdiff: Extract or exclude diffs from a diff file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/patchutils/">
      <span itemprop="name">patchutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/filterdiff.1.html">
      <span itemprop="name">filterdiff: Extract or exclude diffs from a diff file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>filterdiff</strong> [[-i&nbsp;<em>PATTERN</em>] | [--include=<em>PATTERN</em>]] [[-I&nbsp;<em>FILE</em>] | [--include-from-file=<em>FILE</em>]] [[-p&nbsp;<em>n</em>] | [--strip-match=<em>n</em>]] [--strip=<em>n</em>] [--addprefix=<em>PREFIX</em>] [--addoldprefix=<em>PREFIX</em>] [--addnewprefix=<em>PREFIX</em>] [[-x&nbsp;<em>PATTERN</em>] | [--exclude=<em>PATTERN</em>]] [[-X&nbsp;<em>FILE</em>] | [--exclude-from-file=<em>FILE</em>]] [[-v] | [--verbose]] [--clean] [[-z] | [--decompress]] [[-#&nbsp;<em>RANGE</em>] | [--hunks=<em>RANGE</em>]] [--lines=<em>RANGE</em>] [--files=<em>RANGE</em>] [--annotate] [--format=<em>FORMAT</em>] [--as-numbered-lines=<em>WHEN</em>] [--remove-timestamps] [<em>file</em>...] <strong>filterdiff</strong> {[--help] | [--version] | [--list] | [--grep&nbsp;...]}</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>You can use filterdiff to obtain a patch that applies to files matching the shell wildcard <em>PATTERN</em> from a larger collection of patches. For example, to see the patches in patch-2.4.3.gz that apply to all files called lp.c:</p>
<pre>
filterdiff -z -i &apos;*/lp.c&apos; patch-2.4.3.gz
</pre>
<p>If neither <strong>-i</strong> nor <strong>-x</strong> options are given, <strong>-i &apos;*&apos;</strong> is assumed. This way <strong>filterdiff</strong> can be used to clean up an existing diff file, removing redundant lines from the beginning (eg. the text from the mail body) or between the chunks (eg. in CVS diffs). To extract pure patch data, use a command like this:</p>
<pre>
filterdiff message-with-diff-in-the-body &gt; patch
</pre>
<p>Note that the interpretation of the shell wildcard pattern does not count slash characters or periods as special (in other words, no flags are given to <strong>fnmatch</strong>). This is so that &ldquo;*/basename&rdquo;-type patterns can be given without limiting the number of pathname components.</p><p>You can use both unified and context format diffs with this program.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-i</strong> <em>PATTERN</em>, <strong>--include=</strong><strong></strong><em>PATTERN</em></p><p>Include only files matching <em>PATTERN</em>. All other lines in the input are suppressed.</p><p><strong>-I</strong> <em>FILE</em>, <strong>--include-from-file=</strong><strong></strong><em>FILE</em></p><p>Include only files matching any pattern listed in <em>FILE</em>, one pattern per line. All other lines in the input are suppressed.</p><p><strong>-x</strong> <em>PATTERN</em>, <strong>--exclude=</strong><strong></strong><em>PATTERN</em></p><p>Exclude files matching <em>PATTERN</em>. All other lines in the input are displayed.</p><p><strong>-X</strong> <em>FILE</em>, <strong>--exclude-from-file=</strong><strong></strong><em>FILE</em></p><p>Exclude files matching any pattern listed in <em>FILE</em>, one pattern per line. All other lines in the input are displayed.</p><p><strong>-p</strong> <em>n</em>, <strong>--strip-match=</strong><strong></strong><em>n</em></p><p>When matching, ignore the first <em>n</em> components of the pathname.</p><p><strong>-#</strong> <em>RANGE</em>, <strong>--hunks</strong>=<em>RANGE</em></p><p>Only include hunks within the specified <em>RANGE</em>. Hunks are numbered from 1, and the range is a comma-separated list of numbers or &ldquo;first-last&rdquo; spans; either the first or the last in the span may be omitted to indicate no limit in that direction.</p><p><strong>--lines</strong>=<em>RANGE</em></p><p>Only include hunks that contain lines from the original file that lie within the specified <em>RANGE</em>. Lines are numbered from 1, and the range is a comma-separated list of numbers or &ldquo;first-last&rdquo; spans; either the first or the last in the span may be omitted to indicate no limit in that direction.</p><p><strong>--files</strong>=<em>RANGE</em></p><p>Only include files indicated by the specified <em>RANGE</em>. Files are numbered from 1 in the order they appear in the patch input, and the range is a comma-separated list of numbers or &ldquo;first-last&rdquo; spans; either the first or the last in the span may be omitted to indicate no limit in that direction.</p><p><strong>--annotate</strong></p><p>Annotate each hunk with the filename and hunk number.</p><p><strong>--format</strong>=unified|context</p><p>Use specified output format.</p><p><strong>--strip</strong>=<em>n</em></p><p>Remove the first <em>n</em> components of pathnames in the output.</p><p><strong>--addprefix</strong>=<em>PREFIX</em></p><p>Prefix pathnames in the output by <em>PREFIX</em>. This will override any individual settings specified with the <strong>--addoldprefix</strong> or <strong>--addnewprefix</strong> options.</p><p><strong>--addoldprefix</strong>=<em>PREFIX</em></p><p>Prefix pathnames for old or original files in the output by <em>PREFIX</em>.</p><p><strong>--addnewprefix</strong>=<em>PREFIX</em></p><p>Prefix pathnames for updated or new files in the output by <em>PREFIX</em>.</p><p><strong>--as-numbered-lines</strong>=before|after</p><p>Instead of a patch fragment, display the lines of the selected hunks with the line number of the file before (or after) the patch is applied, followed by a TAB character and a colon, at the beginning of each line. Each hunk except the first will have a line consisting of &ldquo;...&rdquo; before it.</p><p><strong>--remove-timestamps</strong></p><p>Do not include file timestamps in the output.</p><p><strong>-v</strong>, <strong>--verbose</strong></p><p>Always show non-diff lines in the output. By default, non-diff lines are only shown when excluding a filename pattern.</p><p><strong>--clean</strong></p><p>Always remove all non-diff lines from the output. Even when excluding a filename pattern.</p><p><strong>-z</strong>, <strong>--decompress</strong></p><p>Decompress files with extensions .gz and .bz2.</p><p><strong>--help</strong></p><p>Display a short usage message.</p><p><strong>--version</strong></p><p>Display the version number of filterdiff.</p><p><strong>--list</strong></p><p>Behave like <a href="../man1/lsdiff.1.html"><strong>lsdiff</strong>(1)</a> instead.</p><p><strong>--grep</strong></p><p>Behave like <a href="../man1/grepdiff.1.html"><strong>grepdiff</strong>(1)</a> instead.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To see all patch hunks that affect the first five lines of a C file:</p>
<pre>
filterdiff -i &apos;*.c&apos; --lines=-5 &lt; patch
</pre>
<p>To see the first hunk of each file patch, use:</p>
<pre>
filterdiff -#1 patchfile
</pre>
<p>To see patches modifying a ChangeLog file in a subdirectory, use:</p>
<pre>
filterdiff -p1 Changelog
</pre>
<p>To see the complete patches for each patch that modifies line 1 of the original file, use:</p>
<pre>
filterdiff --lines=1 patchfile | lsdiff | &#92;
  xargs -rn1 filterdiff patchfile -i
</pre>
<p>To see all but the first hunk of a particular patch, you might use:</p>
<pre>
filterdiff -p1 -i file.c -#2- foo-patch
</pre>
<p>If you have a very specific list of hunks in a patch that you want to see, list them:</p>
<pre>
filterdiff -#1,2,5-8,10,12,27-
</pre>
<p>To see the lines of the files that would be patched as they will appear after the patch is applied, use:</p>
<pre>
filterdiff --as-numbered-lines=after patch.file
</pre>
<p>You can see the same context before the patch is applied with:</p>
<pre>
filterdiff --as-numbered-lines=before
patch.file
</pre>
<p>Filterdiff can also be used to convert between unified and context format diffs:</p>
<pre>
filterdiff -v --format=unified context.diff
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO filterdiff&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/lsdiff.1.html"><strong>lsdiff</strong>(1)</a>, <a href="../man1/grepdiff.1.html"><strong>grepdiff</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Tim Waugh</strong> &lt;twaugh@redhat.com&gt;</p><p>Package maintainer</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="filter_hssp.1.html"><span aria-hidden="true">&larr;</span> filter_hssp.1: Filters an hssp file</a></li>
   <li class="next"><a href="filterdup.1.html">filterdup.1: Filter duplicate reads depending on sequencing depth <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
