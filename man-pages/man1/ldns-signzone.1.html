<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ldns-signzone: Sign a zonefile with dnssec data</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sign a zonefile with dnssec data">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ldns-signzone (1) manual">
  <meta name="twitter:description" content="Sign a zonefile with dnssec data">
  <meta name="twitter:image" content="https://www.carta.tech/images/ldnsutils-ldns-signzone-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ldns-signzone.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ldns-signzone (1) manual" />
  <meta property="og:description" content="Sign a zonefile with dnssec data" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ldnsutils-ldns-signzone-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ldns-signzone<small> (1)</small></h1>
        <p class="lead">Sign a zonefile with dnssec data</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ldns-signzone.1.html">
      <span itemprop="name">ldns-signzone: Sign a zonefile with dnssec data</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ldnsutils/">
      <span itemprop="name">ldnsutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ldns-signzone.1.html">
      <span itemprop="name">ldns-signzone: Sign a zonefile with dnssec data</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ldns-signzone</strong> [ <em>OPTIONS</em> ] <em>ZONEFILE</em></p><p>KEY [KEY [KEY] ... ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ldns-signzone</strong> is used to generate a DNSSEC signed zone. When run it will create a new zonefile that contains RRSIG and NSEC resource records, as specified in RFC 4033, RFC 4034 and RFC 4035.</p><p>Keys must be specified by their base name (i.e. without .private). If the DNSKEY that belongs to the key in the .private file is not present in the zone, it will be read from the file &lt;base name&gt;.key. If that file does not exist, the DNSKEY value will be generated from the private key.</p><p>Multiple keys can be specified, Key Signing Keys are used as such when they are either already present in the zone, or specified in a .key file, and have the KSK bit set.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong></p>
  </dt>
  <dd>
    <p>Augments the zone and the RR's with extra comment texts for a more readable layout, easier to debug. DS records will have a bubblebabble version of the data in the comment text, NSEC3 records will have the original NSEC3 in the comment text.</p><p>Without this option, only DNSKEY RR's will have their Key Tag annotated in the comment text.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Normally, if the DNSKEY RR for a key that is used to sign the zone is not found in the zone file, it will be read from .key, or derived from the private key (in that order). This option turns that feature off, so that only the signatures are added to the zone.</p>
  </dd>
  <dt>
    <p><strong>-e</strong> <em>date</em></p>
  </dt>
  <dd>
    <p>Set expiration date of the signatures to this date, the format can be YYYYMMDD[hhmmss], or a timestamp.</p>
  </dd>
  <dt>
    <p><strong>-f</strong> <em>file</em></p>
  </dt>
  <dd>
    <p>Use this file to store the signed zone in (default &lt;originalfile&gt;.signed)</p>
  </dd>
  <dt>
    <p><strong>-i</strong> <em>date</em></p>
  </dt>
  <dd>
    <p>Set inception date of the signatures to this date, the format can be YYYYMMDD[hhmmss], or a timestamp.</p>
  </dd>
  <dt>
    <p><strong>-o</strong> <em>origin</em></p>
  </dt>
  <dd>
    <p>Use this as the origin of the zone</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print the version and exit</p>
  </dd>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>Sign the DNSKEY record with all keys.  By default it is signed with a minimal number of keys, to keep the response size for the DNSKEY query small, and only the SEP keys that are passed are used.  If there are no SEP keys, the DNSKEY RRset is signed with the non-SEP keys.  This option turns off the default and all keys are used to sign the DNSKEY RRset.</p>
  </dd>
  <dt>
    <p><strong>-E</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Use the EVP cryptographic engine with the given name for signing. This can have some extra options; see ENGINE OPTIONS for more information.</p>
  </dd>
  <dt>
    <p><strong>-k</strong> <em>id,int</em></p>
  </dt>
  <dd>
    <p>Use the key with the given id as the signing key for algorithm int as a Zone signing key. This option is used when you use an OpenSSL engine, see ENGINE OPTIONS for more information.</p>
  </dd>
  <dt>
    <p><strong>-K</strong> <em>id,int</em></p>
  </dt>
  <dd>
    <p>Use the key with the given id as the signing key for algorithm int as a Key signing key. This options is used when you use an OpenSSL engine, see ENGINE OPTIONS for more information.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Use NSEC3 instead of NSEC.</p>
  </dd>
  <dt>
    <p>If you use NSEC3, you can specify the following extra options:</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-a</strong> <em>algorithm</em></p>
  </dt>
  <dd>
    <p>Algorithm used to create the hashed NSEC3 owner names</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Opt-out. All NSEC3 records in the zone will have the Opt-out flag set. After signing, you can add insecure delegations to the signed zone.</p>
  </dd>
  <dt>
    <p><strong>-s</strong> <em>string</em></p>
  </dt>
  <dd>
    <p>Salt</p>
  </dd>
  <dt>
    <p><strong>-t</strong> <em>number</em></p>
  </dt>
  <dd>
    <p>Number of hash iterations</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENGINE OPTIONS</h2>
        <div class="sectioncontent">
<p>You can modify the possible engines, if supported, by setting an OpenSSL configuration file. This is done through the environment variable OPENSSL_CONF. If you use -E with a non-existent engine name, ldns-signzone will print a list of engines supported by your configuration.</p><p>The key options (-k and -K) work as follows; you specify a key id, and a DNSSEC algorithm number (for instance, 5 for RSASHA1). The key id can be any of the following:</p>
<pre>
    &lt;id&gt;
    &lt;slot&gt;:&lt;id&gt;
    id_&lt;id&gt;
    slot_&lt;slot&gt;-id_&lt;id&gt;
    label_&lt;label&gt;
    slot_&lt;slot&gt;-label_&lt;label&gt;
</pre>
<p>Where '&lt;id&gt;' is the PKCS #11 key identifier in hexadecimal notation, '&lt;label&gt;' is the PKCS #11 human-readable label, and '&lt;slot&gt;' is the slot number where the token is present.</p><p>If not already present, a DNSKEY RR is generated from the key data, and added to the zone.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>ldns-signzone nlnetlabs.nl Knlnetlabs.nl.+005+12273</p>
  </dt>
  <dd>
    <p>Sign the zone in the file 'nlnetlabs.nl' with the key in the files 'Knlnetlabs.nl.+005+12273.private'. If the DNSKEY is not present in the zone, use the key in the file 'Knlnetlabs.nl.+005+12273.key'. If that is not present, generate one with default values from 'Knlnetlabs.nl.+005+12273.private'.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by the ldns team as an example for ldns usage.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;ldns-team@nlnetlabs.nl&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2005-2008 NLnet Labs. This is free software. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ldns-rrsig.1.html"><span aria-hidden="true">&larr;</span> ldns-rrsig.1: Print out the inception and expiration dates in human readable form</a></li>
   <li class="next"><a href="ldns-test-edns.1.html">ldns-test-edns.1: Test if dns cache supports edns and dnssec. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
