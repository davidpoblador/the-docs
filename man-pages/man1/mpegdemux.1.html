<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mpegdemux: Mpeg1/2 system stream demultiplexer</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mpeg1/2 system stream demultiplexer">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mpegdemux (1) manual">
  <meta name="twitter:description" content="Mpeg1/2 system stream demultiplexer">
  <meta name="twitter:image" content="https://www.carta.tech/images/mpegdemux-mpegdemux-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mpegdemux.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mpegdemux (1) manual" />
  <meta property="og:description" content="Mpeg1/2 system stream demultiplexer" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mpegdemux-mpegdemux-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mpegdemux<small> (1)</small></h1>
        <p class="lead">Mpeg1/2 system stream demultiplexer</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mpegdemux.1.html">
      <span itemprop="name">mpegdemux: Mpeg1/2 system stream demultiplexer</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mpegdemux/">
      <span itemprop="name">mpegdemux</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mpegdemux.1.html">
      <span itemprop="name">mpegdemux: Mpeg1/2 system stream demultiplexer</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mpegdemux</strong><em> [options] [input [output]]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><a href="../man1/mpegdemux.1.html"><strong>mpegdemux</strong>(1)</a> is an MPEG1/MPEG2 system stream demultiplexer. It can be used to list the contents of an MPEG system stream and to extract elementary streams.</p><p><a href="../man1/mpegdemux.1.html"><strong>mpegdemux</strong>(1)</a> has four primary modes of operation:</p>
<dl class='dl-vertical'>
  <dt>
    <p>scan</p>
  </dt>
  <dd>
    <p>In this mode the MPEG system stream is scanned for elementary streams.</p>
  </dd>
  <dt>
    <p>list</p>
  </dt>
  <dd>
    <p>In this mode the contents of an MPEG system stream are listed in a textual form. This is useful to get an overview of what's in an MPEG file</p>
  </dd>
  <dt>
    <p>demux</p>
  </dt>
  <dd>
    <p>In this mode elementary streams are extracted from an MPEG system stream. The system stream packet structure is dissolved in the process. Typically each extracted stream is written to its own file.</p>
  </dd>
  <dt>
    <p>remux</p>
  </dt>
  <dd>
    <p>This is like demux, except that the MPEG system stream structure is left intact. This means that the output is again an MPEG system stream with all but the selected elementary streams removed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a, --ac3</strong></p>
  </dt>
  <dd>
    <p>AC3 sound packets in DVD MPEG2 streams have a 3 byte header that is neither part of the MPEG specification nor of the AC3 specification. When this option is used, these 3 bytes are removed to produce a correct AC3 stream. Note that this option applies to all selected substreams without checking whether they actually contain an AC3 elementary stream.</p>
  </dd>
  <dt>
    <p><strong>-b, --base-name </strong><em>name</em></p>
  </dt>
  <dd>
    <p>When demultiplexing more than one stream, the output file names can be set using this option. To generate the output file name for a stream, every # character in <em>name</em> is replaced by a hex digit of the stream id. For example, to extract all video streams in one go, use something like</p><p>$ mpegdemux -d -b video_##.m1v -s 0xc0-0xcf src.mpg</p><p>to get files video_c0.m1v, video_c1.m1v, ...</p>
  </dd>
  <dt>
    <p><strong>-c --scan</strong></p>
  </dt>
  <dd>
    <p>Scan a system stream for elementary streams. This is the default mode. All streams and substreams are automatically selected when using this option.</p>
  </dd>
  <dt>
    <p><strong>-d, --demux</strong></p>
  </dt>
  <dd>
    <p>Demultiplex an MPEG system stream. The demultiplexed streams are written to the output file unless the <strong>--base-name</strong> option is used. If the <strong>--base-name</strong> option is not used, only one stream can be demultiplexed (if more streams are specified, they will be randomly interleaved in the output file).</p>
  </dd>
  <dt>
    <p><strong>-D, --no-drop</strong></p>
  </dt>
  <dd>
    <p>Don't drop incomplete packets in demuxing and remuxing mode.</p>
  </dd>
  <dt>
    <p><strong>-e, --no-end</strong></p>
  </dt>
  <dd>
    <p>Don't print end codes in listing mode. Additionally, in remuxing mode, make sure that there is exactly one end code at the end of the stream.</p>
  </dd>
  <dt>
    <p><strong>-E, --empty-packs</strong></p>
  </dt>
  <dd>
    <p>When streams are removed during remuxing, packs can become empty. Including these empty packs in the output is pointless and therefore is not done by default. Use this option to force inclusion of all packs.</p>
  </dd>
  <dt>
    <p><strong>-F, --first-pts</strong></p>
  </dt>
  <dd>
    <p>In scan mode, in addition to each stream's first packet, also list the packet with the lowest presentation time stamp.</p>
  </dd>
  <dt>
    <p><strong>-h, --no-system-headers</strong></p>
  </dt>
  <dd>
    <p>Don't print system headers in listing mode. Additionally, in remuxing mode, don't repeat system headers.</p>
  </dd>
  <dt>
    <p><strong>-i, --invalid </strong><em>spec</em></p>
  </dt>
  <dd>
    <p>Select invalid streams. Packets of invalid streams are not recognized as packets and their contents are parsed as MPEG system stream data rather than being skipped. This is useful for broken/incomplete streams. The syntax for <em>spec</em> is the same as for <strong>-s</strong>. Additionally, if <em>spec</em> is "-" then all streams that have not yet been selected by <strong>-s</strong> are made invalid.</p>
  </dd>
  <dt>
    <p><strong>-k, --no-packs</strong></p>
  </dt>
  <dd>
    <p>Don't print packs in listing mode.</p>
  </dd>
  <dt>
    <p><strong>-K, --remux-skipped</strong></p>
  </dt>
  <dd>
    <p>Copy bytes that are skipped while looking for a start code.</p>
  </dd>
  <dt>
    <p><strong>-l, --list</strong></p>
  </dt>
  <dd>
    <p>List the system headers, packs and packets in an MPEG system stream.</p>
  </dd>
  <dt>
    <p><strong>-m, --packet-max-size </strong><em>size</em></p>
  </dt>
  <dd>
    <p>Set the maximum packet size to <em>size</em>. Packets in the input stream that are larger are considered invalid. As with the <strong>-i</strong> option, the packet is not simply skipped but parsed as MPEG system stream data.</p>
  </dd>
  <dt>
    <p><strong>-p, --substream </strong><em>spec</em></p>
  </dt>
  <dd>
    <p>This option selects private substreams. Whenever Private Stream 1 (0xbd) is selected using <strong>-s</strong>, the substreams within that private stream can be selected using <strong>-p</strong>. The syntax for <em>spec</em> is the same as for <strong>-s</strong>.</p>
  </dd>
  <dt>
    <p><strong>-P, --substream-map </strong><em>id1 id2</em></p>
  </dt>
  <dd>
    <p>Remap substream <em>id1</em> to <em>id2</em> when remuxing.</p>
  </dd>
  <dt>
    <p><strong>-r, --remux</strong></p>
  </dt>
  <dd>
    <p>Remultiplex an MPEG system stream. The output MPEG system stream is written to the output file. Many options control what is copied from the input to the output and what is discarded.</p>
  </dd>
  <dt>
    <p><strong>-s, --streams </strong><em>spec</em></p>
  </dt>
  <dd>
    <p>This option selects streams. <em>spec</em> specifies the stream IDs in the following form:</p><p>[+|-]&lt;id&gt;[-&lt;id&gt;]{/[+|-]&lt;id&gt;[-&lt;id&gt;]}</p><p>where id is either a numeric stream ID or one of <strong>all</strong> or <strong>none</strong>. A "-" in front of an ID range means exclusion. For example the spec</p><p>-s 0xc0-0xcf/-0xc2</p><p>selects all video streams (0xc0 - 0xcf) except stream 0xc2.</p>
  </dd>
  <dt>
    <p><strong>-S, --stream-map </strong><em>id1 id2</em></p>
  </dt>
  <dd>
    <p>Remap stream <em>id1</em> to <em>id2</em> when remuxing.</p>
  </dd>
  <dt>
    <p><strong>-t, --no-packets</strong></p>
  </dt>
  <dd>
    <p>Don't print packets in listing mode.</p>
  </dd>
  <dt>
    <p><strong>-u, --spu</strong></p>
  </dt>
  <dd>
    <p>This option is used to extract DVD subtitles. It is necessary because the subtitle streams on DVD don't contain all the timing information (the time stamps in the packet headers are required). If this option is used during demultiplexing, the output files for all substreams are written in the following format:</p><p>"SPU " (4 bytes)</p><p>PTS (8 bytes, MSB first)</p><p>SPU packet</p><p>PTS (8 bytes)</p><p>SPU packet</p><p>and so on</p>
  </dd>
  <dt>
    <p><strong>-x, --split</strong></p>
  </dt>
  <dd>
    <p>Split the remuxed stream at sequence boundaries. This option is only meaningful in remuxing mode. It can not be used together with the <strong>-e</strong> option. The individual sequences are written to files whose name was set with the <strong>-b</strong> option.</p>
  </dd>
  <dt>
    <p><strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print usage information</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print version information</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Scan a system stream for elementary streams:</p><p>$ mpegdemux -c -v src.mpg</p><p>List the contents of an MPEG system stream:</p><p>$ mpegdemux -l -k -s all -p all src.mpg</p><p>Extract the first video stream:</p><p>$ mpegdemux -d -s 0xe0 src.mpg dst.m1v</p><p>Extract all audio streams:</p><p>$ mpegdemux -d -s 0xc0-0xdf -b audio_##.mpa src.mpg</p><p>Remove the second video stream:</p><p>$ mpegdemux -r -s all/-0xc1 -p all src.mpg dst.mpg</p><p>Extract the first AC3 audio stream from a DVD MPEG2 system stream:</p><p>$ mpegdemux -d -s 0xbd -p 0x80 --ac3 src.mpg dst.ac3</p><p>Exchange the first and the second audio stream:</p><p>$ mpegdemux -r -s all -p all -S 0xc0 0xc1 -S 0xc1 0xc0 src.mpg dst.mpg</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mpegdemux&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/mplex.1.html"><strong>mplex</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Hampa Hug &lt;hampa@hampa.ch&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mpegcat.1.html"><span aria-hidden="true">&larr;</span> mpegcat.1: Extracts structural information and pes streams from an mpeg2 video file</a></li>
   <li class="next"><a href="mperfmon.1.html">mperfmon.1: Mono performance counter monitor <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
