<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sed: Stream editor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Stream editor">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sed (1plan9) manual">
  <meta name="twitter:description" content="Stream editor">
  <meta name="twitter:image" content="https://www.carta.tech/images/9base-sed-1plan9.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1plan9/sed.1plan9.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sed (1plan9) manual" />
  <meta property="og:description" content="Stream editor" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/9base-sed-1plan9.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sed<small> (1plan9)</small></h1>
        <p class="lead">Stream editor</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1plan9/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1plan9/sed.1plan9.html">
      <span itemprop="name">sed: Stream editor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/9base/">
      <span itemprop="name">9base</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1plan9/sed.1plan9.html">
      <span itemprop="name">sed: Stream editor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sed</strong> [ <strong>-gln</strong> ] [ <strong>-e</strong> <em>script</em> ] [ <strong>-f</strong> <em>sfile</em> ] [ <em>file ...</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Sed</em> copies the named <em>files</em> (standard input default) to the standard output, edited according to a script of commands. The <strong>-f</strong> option causes the script to be taken from file <em>sfile</em>; these options accumulate. If there is just one <strong>-e</strong> option and no <strong>-f</strong>'s, the flag <strong>-e</strong> may be omitted. The <strong>-n</strong> option suppresses the default output; <strong>-g</strong> causes all substitutions to be global, as if suffixed <strong>g</strong>. The <strong>-l</strong> option causes <em>sed</em> to flush its output buffer after every newline.</p><p>A script consists of editing commands, one per line, of the following form:</p><ul>
<li><p>[<em>address</em> [<strong>,</strong><em> address</em>] ] <em>function</em> [<em>argument</em> ...]</p></li>
</ul><p>In normal operation <em>sed</em> cyclically copies a line of input into a <em>pattern space</em> (unless there is something left after a <strong>D</strong> command), applies in sequence all commands whose <em>addresses</em> select that pattern space, and at the end of the script copies the pattern space to the standard output (except under <strong>-n</strong>) and deletes the pattern space.</p><p>An <em>address</em> is either a decimal number that counts input lines cumulatively across files, a <strong>$</strong> that addresses the last line of input, or a context address, <strong>/</strong><em>regular-expression</em><strong>/</strong><em></em>, in the style of <strong>regexp</strong>(7), with the added convention that <strong>&#92;n</strong> matches a newline embedded in the pattern space.</p><p>A command line with no addresses selects every pattern space.</p><p>A command line with one address selects each pattern space that matches the address.</p><p>A command line with two addresses selects the inclusive range from the first pattern space that matches the first address through the next pattern space that matches the second. (If the second address is a number less than or equal to the line number first selected, only one line is selected.) Thereafter the process is repeated, looking again for the first address.</p><p>Editing commands can be applied to non-selected pattern spaces by use of the negation function <strong>!</strong> (below).</p><p>An argument denoted <em>text</em> consists of one or more lines, all but the last of which end with <strong>&#92;</strong> to hide the newline. Backslashes in text are treated like backslashes in the replacement string of an <strong>s</strong> command, and may be used to protect initial blanks and tabs against the stripping that is done on every script line.</p><p>An argument denoted <em>rfile</em> or <em>wfile</em> must terminate the command line and must be preceded by exactly one blank. Each <em>wfile</em> is created before processing begins. There can be at most 120 distinct <em>wfile</em> arguments.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>a&#92;</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><em>text</em></p>
  </dt>
  <dd>
    <p>Append. Place <em>text</em> on the output before reading the next input line.</p>
  </dd>
  <dt>
    <p><strong>b</strong><em> label</em></p>
  </dt>
  <dd>
    <p>Branch to the <strong>:</strong> command bearing the <em>label</em>. If <em>label</em> is empty, branch to the end of the script.</p>
  </dd>
  <dt>
    <p><strong>c&#92;</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><em>text</em></p>
  </dt>
  <dd>
    <p>Change. Delete the pattern space. With 0 or 1 address or at the end of a 2-address range, place <em>text</em> on the output. Start the next cycle.</p>
  </dd>
  <dt>
    <p><strong>d</strong></p>
  </dt>
  <dd>
    <p>Delete the pattern space. Start the next cycle.</p>
  </dd>
  <dt>
    <p><strong>D</strong></p>
  </dt>
  <dd>
    <p>Delete the initial segment of the pattern space through the first newline. Start the next cycle.</p>
  </dd>
  <dt>
    <p><strong>g</strong></p>
  </dt>
  <dd>
    <p>Replace the contents of the pattern space by the contents of the hold space.</p>
  </dd>
  <dt>
    <p><strong>G</strong></p>
  </dt>
  <dd>
    <p>Append the contents of the hold space to the pattern space.</p>
  </dd>
  <dt>
    <p><strong>h</strong></p>
  </dt>
  <dd>
    <p>Replace the contents of the hold space by the contents of the pattern space.</p>
  </dd>
  <dt>
    <p><strong>H</strong></p>
  </dt>
  <dd>
    <p>Append the contents of the pattern space to the hold space.</p>
  </dd>
  <dt>
    <p><strong>i&#92;</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><em>text</em></p>
  </dt>
  <dd>
    <p>Insert. Place <em>text</em> on the standard output.</p>
  </dd>
  <dt>
    <p><strong>n</strong></p>
  </dt>
  <dd>
    <p>Copy the pattern space to the standard output. Replace the pattern space with the next line of input.</p>
  </dd>
  <dt>
    <p><strong>N</strong></p>
  </dt>
  <dd>
    <p>Append the next line of input to the pattern space with an embedded newline. (The current line number changes.)</p>
  </dd>
  <dt>
    <p><strong>p</strong></p>
  </dt>
  <dd>
    <p>Print. Copy the pattern space to the standard output.</p>
  </dd>
  <dt>
    <p><strong>P</strong></p>
  </dt>
  <dd>
    <p>Copy the initial segment of the pattern space through the first newline to the standard output.</p>
  </dd>
  <dt>
    <p><strong>q</strong></p>
  </dt>
  <dd>
    <p>Quit. Branch to the end of the script. Do not start a new cycle.</p>
  </dd>
  <dt>
    <p><strong>r</strong><em> rfile</em></p>
  </dt>
  <dd>
    <p>Read the contents of <em>rfile</em>. Place them on the output before reading the next input line.</p>
  </dd>
  <dt>
    <p><strong>s/</strong><em>regular-expression</em><strong>/</strong><em>replacement</em><strong>/</strong><em>flags</em></p>
  </dt>
  <dd>
    <p>Substitute the <em>replacement</em> string for instances of the <em>regular-expression</em> in the pattern space. Any character may be used instead of <strong>/</strong>. For a fuller description see <strong>regexp</strong>(7). <em>Flags</em> is zero or more of</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>g</strong></p>
  </dt>
  <dd>
    <p>Global. Substitute for all non-overlapping instances of the <em>regular expression</em> rather than just the first one.</p>
  </dd>
  <dt>
    <p><strong>p</strong></p>
  </dt>
  <dd>
    <p>Print the pattern space if a replacement was made.</p>
  </dd>
  <dt>
    <p><strong>w</strong><em> wfile</em></p>
  </dt>
  <dd>
    <p>Write. Append the pattern space to <em>wfile</em> if a replacement was made.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>t</strong><em> label</em></p>
  </dt>
  <dd>
    <p>Test. Branch to the <strong>:</strong> command bearing the <em>label</em> if any substitutions have been made since the most recent reading of an input line or execution of a <strong>t</strong>. If <em>label</em> is empty, branch to the end of the script.</p>
  </dd>
  <dt>
    <p><strong>w</strong></p>
  </dt>
  <dd>
    <p><em>wfile</em></p><p>Write. Append the pattern space to <em>wfile</em>.</p>
  </dd>
  <dt>
    <p><strong>x</strong></p>
  </dt>
  <dd>
    <p>Exchange the contents of the pattern and hold spaces.</p>
  </dd>
  <dt>
    <p><strong>y/</strong><em>string1</em><strong>/</strong><em>string2</em><strong>/</strong></p>
  </dt>
  <dd>
    <p>Transform. Replace all occurrences of characters in <em>string1</em> with the corresponding character in <em>string2</em>. The lengths of <em></em> string1 and <em>string2</em> must be equal.</p>
  </dd>
  <dt>
    <p><strong>!</strong><em>function</em></p>
  </dt>
  <dd>
    <p>Don't. Apply the <em>function</em> (or group, if <em>function</em> is <strong>{</strong>) only to lines <em>not</em> selected by the address(es).</p>
  </dd>
  <dt>
    <p><strong>:</strong><em> label</em></p>
  </dt>
  <dd>
    <p>This command does nothing; it bears a <em>label</em> for <strong>b</strong> and <strong>t</strong> commands to branch to.</p>
  </dd>
  <dt>
    <p><strong>=</strong></p>
  </dt>
  <dd>
    <p>Place the current line number on the standard output as a line.</p>
  </dd>
  <dt>
    <p><strong>{</strong></p>
  </dt>
  <dd>
    <p>Execute the following commands through a matching <strong>}</strong> only when the pattern space is selected.</p>
  </dd>
  <dt>
    <p><strong> </strong></p>
  </dt>
  <dd>
    <p>An empty command is ignored.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>sed 10q file</strong></p>
  </dt>
  <dd>
    <p>Print the first 10 lines of the file.</p>
  </dd>
  <dt>
    <p><strong>sed '/^$/d'</strong></p>
  </dt>
  <dd>
    <p>Delete empty lines from standard input.</p>
  </dd>
  <dt>
    <p><strong>sed 's/UNIX/& system/g'</strong></p>
  </dt>
  <dd>
    <p>Replace every instance of <strong>UNIX</strong> by <strong>UNIX system</strong>.</p>
  </dd>

</dl>

<pre>
sed 's/ *$//	drop trailing blanks
/^$/d			drop empty lines
s/  */&#92;		replace blanks by newlines
/g
/^$/d' chapter*
</pre>
<ul>
<li><p>Print the files <strong>chapter1</strong>, <strong>chapter2</strong>, etc. one word to a line.</p></li>
</ul>
<pre>
nroff -ms manuscript | sed '
${
	/^$/p		if last line of file is empty, print it
}
//N			if current line is empty, append next line
/^&#92;n$/D'		if two lines are empty, delete the first
</pre>
<ul>
<li><p>Delete all but one of each group of empty lines from a formatted manuscript.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE</h2>
        <div class="sectioncontent">
<p><strong>\*9/src/cmd/sed.c</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sed&hellip;</h2>
        <div class="sectioncontent">
<p><em>ed</em>(1), <a href="../man1/grep.1.html"><strong>grep</strong>(1)</a>, <strong>awk</strong>(1), <a href="../man1/lex.1.html"><strong>lex</strong>(1)</a>, <strong>sam</strong>(1), <strong>regexp</strong>(7)</p><p>L. E. McMahon, `SED &ndash; A Non-interactive Text Editor', Unix Research System Programmer's Manual, Volume 2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>If input is from a pipe, buffering may consume characters beyond a line on which a <strong>q</strong> command is executed.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="read.1plan9.html"><span aria-hidden="true">&larr;</span> read.1plan9: Catenate files</a></li>
   <li class="next"><a href="seq.1plan9.html">seq.1plan9: Print sequences of numbers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
