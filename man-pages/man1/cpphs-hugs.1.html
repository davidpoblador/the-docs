<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cpphs-hugs: Liberalised cpp-a-like preprocessor for haskell</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Liberalised cpp-a-like preprocessor for haskell">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cpphs-hugs (1) manual">
  <meta name="twitter:description" content="Liberalised cpp-a-like preprocessor for haskell">
  <meta name="twitter:image" content="https://www.carta.tech/images/hugs-cpphs-hugs-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/cpphs-hugs.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cpphs-hugs (1) manual" />
  <meta property="og:description" content="Liberalised cpp-a-like preprocessor for haskell" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/hugs-cpphs-hugs-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cpphs-hugs<small> (1)</small></h1>
        <p class="lead">Liberalised cpp-a-like preprocessor for haskell</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cpphs-hugs.1.html">
      <span itemprop="name">cpphs-hugs: Liberalised cpp-a-like preprocessor for haskell</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/hugs/">
      <span itemprop="name">hugs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cpphs-hugs.1.html">
      <span itemprop="name">cpphs-hugs: Liberalised cpp-a-like preprocessor for haskell</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cpphs</strong> [<em>FILENAME</em>|<em>OPTION</em>]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>\*c is a liberalised re-implementation of <strong>cpp (1),</strong> the C pre-processor, in and for Haskell.</p><p>Why re-implement cpp?  Rightly or wrongly, the C pre-processor is widely used in Haskell source code.  It enables conditional compilation for different compilers, different versions of the same compiler, and different OS platforms.  It is also occasionally used for its macro language, which can enable certain forms of platform-specific detail-filling, such as the tedious boilerplate generation of instance definitions and FFI declarations.  However, there are two problems with cpp, aside from the obvious aesthetic ones:</p><ul>
<li><p>For some Haskell systems, notably Hugs on Windows, a true cpp is not available by default.</p></li><li><p>Even for the other Haskell systems, the common cpp provided by the gcc 3.x series is changing subtly in ways that are incompatible with Haskell's syntax.  There have always been problems with, for instance, string gaps, and prime characters in identifiers.  These problems are only going to get worse.</p></li>
</ul><p>So, it seemed right to attempt to provide an alternative to cpp, both more compatible with Haskell, and itself written in Haskell so that it can be distributed with compilers.</p><p>\*c is pretty-much feature-complete, and compatible with the <strong>-traditional</strong> style of cpp. It has two modes:</p><ul>
<li><p>conditional compilation only (<strong>--nomacro</strong>),</p></li><li><p>and full macro-expansion (default).</p></li>
</ul><p>In <strong>--nomacro</strong> mode, \*c performs only conditional compilation actions, i.e. <strong>#include</strong>'s, <strong>#if</strong>'s, and <strong>#ifdef</strong>'s are processed according to text-replacement definitions (both command-line and internal), but no parameterised macro expansion is performed.  In full compatibility mode (the default), textual replacements and macro expansions are also processed in the remaining body of non-cpp text.</p><p>Working Features:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>#ifdef</strong></p>
  </dt>
  <dd>
    <p>simple conditional compilation</p>
  </dd>
  <dt>
    <p><strong>#if</strong></p>
  </dt>
  <dd>
    <p>the full boolean language of defined(), &&, ||, ==, etc.</p>
  </dd>
  <dt>
    <p><strong>#elif</strong></p>
  </dt>
  <dd>
    <p>chained conditionals</p>
  </dd>
  <dt>
    <p><strong>#define</strong></p>
  </dt>
  <dd>
    <p>in-line definitions (text replacements and macros)</p>
  </dd>
  <dt>
    <p><strong>#undef</strong></p>
  </dt>
  <dd>
    <p>in-line revocation of definitions</p>
  </dd>
  <dt>
    <p><strong>#include</strong></p>
  </dt>
  <dd>
    <p>file inclusion</p>
  </dd>
  <dt>
    <p><strong>#line</strong></p>
  </dt>
  <dd>
    <p>line number directives</p>
  </dd>
  <dt>
    <p><strong>&#92;&#92;n</strong></p>
  </dt>
  <dd>
    <p>line continuations within all # directives</p>
  </dd>
  <dt>
    <p><strong>/**/</strong></p>
  </dt>
  <dd>
    <p>token catenation within a macro definition</p>
  </dd>
  <dt>
    <p><strong>##</strong></p>
  </dt>
  <dd>
    <p>ANSI-style token catenation</p>
  </dd>
  <dt>
    <p><strong>#</strong></p>
  </dt>
  <dd>
    <p>ANSI-style token stringisation</p>
  </dd>
  <dt>
    <p><strong>__FILE__</strong></p>
  </dt>
  <dd>
    <p>special text replacement for DIY error messages</p>
  </dd>
  <dt>
    <p><strong>__LINE__</strong></p>
  </dt>
  <dd>
    <p>special text replacement for DIY error messages</p>
  </dd>
  <dt>
    <p><strong>__DATE__</strong></p>
  </dt>
  <dd>
    <p>special text replacement</p>
  </dd>
  <dt>
    <p><strong>__TIME__</strong></p>
  </dt>
  <dd>
    <p>special text replacement</p>
  </dd>

</dl>
<p>Macro expansion is recursive.  Redefinition of a macro name does not generate a warning.  Macros can be defined on the command-line with <strong>-D</strong> just like textual replacements.  Macro names are permitted to be Haskell identifiers e.g. with the prime \(ga and backtick \(aa characters, which is slightly looser than in C, but they still may not include operator symbols.</p><p>Numbering of lines in the output is preserved so that any later processor can give meaningful error messages.  When a file is <strong>#include</strong>'d, \*c inserts <strong>#line</strong> directives for the same reason. Numbering should be correct even in the presence of line continuations. If you don't want <strong>#line</strong> directives in the final output, use the <strong>--noline</strong> option.</p><p>Any syntax errors in cpp directives gives a message to stderr and halts the program.  Failure to find a #include'd file produces a warning to stderr, but processing continues.</p><p>You can give any number of filenames on the command-line.  The results are catenated on standard output.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-D</strong><em>sym</em></p>
  </dt>
  <dd>
    <p>define a textual replacement (default value is 1)</p>
  </dd>
  <dt>
    <p><strong>-Dsym=</strong><em>val</em></p>
  </dt>
  <dd>
    <p>define a textual replacement with a specific value</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em>path</em></p>
  </dt>
  <dd>
    <p>add a directory to the search path for #include's</p>
  </dd>
  <dt>
    <p><strong>-O</strong><em>file</em></p>
  </dt>
  <dd>
    <p>specify a file for output (default is stdout)</p>
  </dd>
  <dt>
    <p><strong>--nomacro</strong></p>
  </dt>
  <dd>
    <p>only process #ifdef's and #include's,</p>
<pre>
                      do not expand macros
</pre>

  </dd>
  <dt>
    <p><strong>--noline</strong></p>
  </dt>
  <dd>
    <p>remove #line droppings from the output</p>
  </dd>
  <dt>
    <p><strong>--strip</strong></p>
  </dt>
  <dd>
    <p>convert C-style comments to whitespace, even outside</p>
<pre>
                      cpp directives
</pre>

  </dd>
  <dt>
    <p><strong>--hashes</strong></p>
  </dt>
  <dd>
    <p>recognise the ANSI # stringise operator, and ## for</p>
<pre>
                      token catenation, within macros
</pre>

  </dd>
  <dt>
    <p><strong>--text</strong></p>
  </dt>
  <dd>
    <p>treat the input as plain text, not Haskell code</p>
  </dd>
  <dt>
    <p><strong>--layout</strong></p>
  </dt>
  <dd>
    <p>preserve newlines within macro expansions</p>
  </dd>
  <dt>
    <p><strong>--unlit</strong></p>
  </dt>
  <dd>
    <p>remove literate-style comments</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>report version number of cpphs and stop</p>
  </dd>

</dl>
<p>There are NO textual replacements defined by default.  (Normal cpp usually has definitions for machine, OS, etc.  These could easily be added to the cpphs source code if you wish.)  The search path is searched in order of the <strong>-I</strong> options, except that the directory of the calling file, then the current directory, are always searched first. Again, there is no default search path (and again, this could easily be changed).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIFFERENCES FROM CPP</h2>
        <div class="sectioncontent">
<p>In general, cpphs is based on the <strong>-traditional</strong> behaviour, not ANSI C, and has the following main differences from the standard cpp.</p><p><strong>General</strong></p><p>The <strong>#</strong> that introduces any cpp directive must be in the first column of a line (whereas ANSI permits whitespace before the <strong>#</strong> ).</p><p>Generates the <strong>#line </strong><em>n</em> &quot;<em>filename</em>&quot; syntax, not the <strong># </strong><em>n</em> &quot;<em>filename</em>&quot; variant.</p><p>C comments are only removed from within cpp directives.  They are not stripped from other text.  Consider for instance that in Haskell, all of the following are valid operator symbols: <strong>/* */ */*</strong> However, you can turn on C-comment removal with the <strong>--strip</strong> option.</p><p><strong>Macro language</strong></p><p>Accepts <strong>/**/</strong> for token-pasting in a macro definition. However, <strong>/* */</strong> (with any text between the open/close comment) inserts whitespace.</p><p>The ANSI <strong>##</strong> token-pasting operator is available with the <strong>--hashes</strong> flag.  This is to avoid misinterpreting any valid Haskell operator of the same name.</p><p>Replaces a macro formal parameter with the actual, even inside a string (double or single quoted).  This is -traditional behaviour, not supported in ANSI.</p><p>Recognises the <strong>#</strong> stringisation operator in a macro definition only if you use the <strong>--hashes</strong> option.  (It is an ANSI addition, only needed because quoted stringisation (above) is prohibited by ANSI.)</p><p>Preserves whitespace within a textual replacement definition exactly (modulo newlines), but leading and trailing space is eliminated.</p><p>Preserves whitespace within a macro definition (and trailing it) exactly (modulo newlines), but leading space is eliminated.</p><p>Preserves whitespace within macro call arguments exactly (including newlines), but leading and trailing space is eliminated.</p><p>With the <strong>--layout</strong> option, line continuations in a textual replacement or macro definition are preserved as line-breaks in the macro call.  (Useful for layout-sensitive code in Haskell.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Bug reports, and any other feedback, should be sent to Malcolm Wallace &lt;Malcolm.Wallace@cs.york.ac.uk&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2004-2005 Malcolm Wallace, except for ParseLib (Copyright &copy; 1995 Graham Hutton and Erik Meijer).</p><p>The library modules in cpphs are distributed under the terms of the LGPL. If that's a problem for you, contact me to make other arrangements. The application module <strong>Main.hs</strong> itself is GPL.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cpphs-hugs&hellip;</h2>
        <div class="sectioncontent">
<p><strong>cpp</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written, based on <strong>index.html</strong>, by Ian Lynagh &lt;igloo@debian.org&gt; for the Debian system (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cpphs.1.html"><span aria-hidden="true">&larr;</span> cpphs.1: Liberalised cpp-a-like preprocessor for haskell</a></li>
   <li class="next"><a href="cppman.1.html">cppman.1: C++ manual page viewer / fetcher <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
