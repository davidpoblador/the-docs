<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>osmupdate: Update osm files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Update osm files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="osmupdate (1) manual">
  <meta name="twitter:description" content="Update osm files">
  <meta name="twitter:image" content="https://www.carta.tech/images/osmctools-osmupdate-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/osmupdate.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="osmupdate (1) manual" />
  <meta property="og:description" content="Update osm files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/osmctools-osmupdate-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">osmupdate<small> (1)</small></h1>
        <p class="lead">Update osm files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/osmupdate.1.html">
      <span itemprop="name">osmupdate: Update osm files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/osmctools/">
      <span itemprop="name">osmctools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/osmupdate.1.html">
      <span itemprop="name">osmupdate: Update osm files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>osmupdate</strong> <em>options</em> [<em>oldfile</em>] [<em>newfile</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program cares about updating an .osm, .o5m or .pbf file. It will download and apply OSM Change files (.osc) from the servers of "planet.openstreetmap.org". It also can assemble a new .osc or .o5c file which can be used to update your OSM data file at a later time.</p><p>If there is no file timestamp available within your input file, you need to specify the appropriate timestamp manually. In this case, it is recommended to pick a timestamp of one or two days earlier than necessary, just to be on the save side.</p><p>Prequesites</p><p>To run this program, please download and install two other programs first: "osmconvert" and "wget".</p><p>Usage</p><p>Two command line arguments are mandatory: the name of the old and the name of the new OSM data file. If the old data file does not have a file timestamp, you may want to specify this timestamp manually on the command line. If you do not, the program will try to determine the timestamp by examining the whole old data file. Instead of the second parameter, you alternatively may specify the name of a change file (.osc or .o5c). In this case, you also may replace the name of the old OSM data file by a timestamp. Command line arguments which are not recognized by osmupdate will be passed to osmconvert. Use this opportunity to supply a bounding box or a bounding polygon if you are going to update a regional change file. You also may exclude unneeded meta data from your file by specifying this osmconvert option: <strong>--drop-author</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The program osmupdate recognizes a few command line options:</p><p><strong>--max-days</strong>=<em>UPDATE_RANGE</em></p><ul>
<li><p>By default, the maximum time range for to assemble a cumulated changefile is 250 days. You can change this by giving a different maximum number of days, for example 300. If you do, please ensure that there are daily change files available for such a wide range of time.</p></li>
</ul><p><strong>--minute</strong> <strong>--hour</strong> <strong>--day</strong> <strong>--sporadic</strong></p><ul>
<li><p>By default, osmupdate uses a combination of minutely, hourly and daily changefiles. If you want to limit these changefile categories, use one or two of these options and choose that category/ies you want to be used. The option <strong>--sporadic</strong> allows one to process changefile sources which do not have the usual "minute", "hour" and "day" subdirectories.</p></li>
</ul><p><strong>--max-merge</strong>=<em>COUNT</em></p><ul>
<li><p>The subprogram osmconvert is able to merge more than two changefiles in one run. This ability increases merging speed. Unfortunately, every changefile consumes about 200 MB of main memory while being processed. For this reason, the number of parallely processable changefiles is limited. Use this commandline argument to determine the maximum number of parallely processed changefiles. The default value is 7.</p></li>
</ul><p><strong>-t</strong>=<em>TEMPPATH</em> <strong>--tempfiles</strong>=<em>TEMPPATH</em></p><ul>
<li><p>On order to cache changefiles, osmupdate needs a separate directory. This parameter defines the name of this directory, including the prefix of the tempfiles' names. The default value is "osmupdate_temp/temp".</p></li>
</ul><p><strong>--keep-tempfiles</strong></p><ul>
<li><p>Use this option if you want to keep local copies of every downloaded file. This is strongly recommended if you are going to assemble different changefiles which overlap in time ranges. Your data traffic will be minimized. Do not invoke this option if you are going to use different change file sources (option <strong>--base-url</strong>). This would cause severe data corruption.</p></li>
</ul><p><strong>--compression-level</strong>=<em>LEVEL</em></p><ul>
<li><p>Define level for gzip compression. Values between 1 (low compression, but fast) and 9 (high compression, but slow).</p></li>
</ul><p><strong>--base-url</strong>=<em>BASE_URL</em></p><ul>
<li><p>To accelerate downloads or to get regional file updates you may specify an alternative download location. Please enter its URL, or simply the word "mirror" if you want to use gwdg's planet server.</p></li>
</ul><p><strong>--base-url-suffix</strong>=<em>BASE_URL_SUFFIX</em></p><ul>
<li><p>To use old planet URLs, you may need to add the suffix "-replicate" because it was custom to have this word in the URL, right after the period identifier "day" etc.</p></li>
</ul><p><strong>-v</strong> <strong>--verbose</strong></p><ul>
<li><p>With activated 'verbose' mode, some statistical data and diagnosis data will be displayed. If <strong>-v</strong> resp. <strong>--verbose</strong> is the first parameter in the line, osmupdate will display all input parameters.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>This program is for experimental use. Expect malfunctions and data loss. Do not use the program in productive or commercial systems.</p><p>There is NO WARRANTY, to the extent permitted by law. Please send any bug reports to markus.weber@gmx.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>osmupdate old_file.o5m new_file.o5m</p><p>osmupdate old_file.pbf new_file.pbf</p><p>osmupdate old_file.osm new_file.osm</p><ul>
<li><p>The old OSM data will be updated and written as new_file.o5m or new_file.o5m. For safety reasons osmupdate will not delete the old file. If you do not need it as backup file, please delete it by yourself.</p></li><li><p>osmupdate old_file.osm 2011-07-15T23:30:00Z new_file.osm</p><p>osmupdate old_file.osm NOW-86400 new_file.osm</p></li><li><p>If your old OSM data file does not contain a file timestamp, or you do not want to rely on this timestamp, it can be specified manually. Relative times are in seconds to NOW.</p></li><li><p>osmupdate old_file.o5m change_file.o5c</p><p>osmupdate old_file.osm change_file.osc</p><p>osmupdate 2011-07-15T23:30:00Z change_file.o5c</p><p>osmupdate 2011-07-15T23:30:00Z change_file.osc.gz</p><p>osmupdate NOW-3600 change_file.osc.gz</p></li><li><p>Here, the old OSM data file is not updated directly. An OSM changefile is written instead. This changefile can be used to update the OSM data file afterwards. You will have recognized the extension .gz in the last example. In this case, the OSM Change file will be written with gzip compression. To accomplish this, you need to have the program gzip installed on your system.</p></li><li><p>./osmupdate london_old.o5m london_new.o5m <strong>-B</strong>=<em>london</em>.poly</p></li><li><p>The OSM data file london_old.o5m will be updated. Hence the downloaded OSM changefiles contain not only London, but the whole planet, a lot of unneeded data will be added to this regional file. The <strong>-B=</strong> argument will clip these superfluous data.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO osmupdate&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/osmconvert.1.html"><strong>osmconvert</strong>(1)</a>, <a href="../man1/osmfilter.1.html"><strong>osmfilter</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>osmconvert</strong> was written by Markus Weber</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="osmpbf-outline.1.html"><span aria-hidden="true">&larr;</span> osmpbf-outline.1: Outline the content of an .osm.pbf or .osh.pbf file</a></li>
   <li class="next"><a href="ospam.1.html">ospam.1: An sgml/xml markup stream editor <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
