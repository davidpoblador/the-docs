<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>funcen: Find centroid (for binary tables)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Find centroid (for binary tables)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="funcen (1) manual">
  <meta name="twitter:description" content="Find centroid (for binary tables)">
  <meta name="twitter:image" content="https://www.carta.tech/images/funtools-funcen-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/funcen.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="funcen (1) manual" />
  <meta property="og:description" content="Find centroid (for binary tables)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/funtools-funcen-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">funcen<small> (1)</small></h1>
        <p class="lead">Find centroid (for binary tables)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/funcen.1.html">
      <span itemprop="name">funcen: Find centroid (for binary tables)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/funtools/">
      <span itemprop="name">funtools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/funcen.1.html">
      <span itemprop="name">funcen: Find centroid (for binary tables)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>funcen [\-i] [\-n iter] [\-t tol] [\-v lev] &lt;iname&gt; &lt;region&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<pre>
  -i            # use image filtering (default: event filtering)
  -n iter       # max number of iterations (default: 0)
  -t tol        # pixel tolerance distance (default: 1.0)
  -v [0,1,2,3]  # output verbosity level (default: 0)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>funcen</strong> iteratively calculates the centroid position within one or more regions of a Funtools table (\s-1FITS\s0 binary table or raw event file).  Starting with an input table, an initial region specification, and an iteration count, the program calculates the average x and y position within the region and then uses this new position as the region center for the next iteration. Iteration terminates when the maximum number of iterations is reached or when the input tolerance distance is met for that region. A count of events in the final region is then output, along with the pixel position value (and, where available, \s-1WCS\s0 position).</p><p>The first argument to the program specifies the Funtools table file to process.  Since the file must be read repeatedly, a value of \*(L"stdin\*(R" is not permitted when the number of iterations is non\-zero.  Use Funtools Bracket Notation to specify \s-1FITS\s0 extensions and filters.</p><p>The second required argument is the initial region descriptor. Multiple regions are permitted. However, compound regions (accelerators, variable argument regions and regions connected via boolean algebra) are not permitted. Points and polygons also are illegal. These restrictions might be lifted in a future version, if warranted.</p><p>The <strong>\-n</strong> (iteration number) switch specifies the maximum number of iterations to perform. The default is 0, which means that the program will simply count and display the number of events in the initial region(s). Note that when iterations is 0, the data can be input via stdin.</p><p>The <strong>\-t</strong> (tolerance) switch specifies a floating point tolerance value. If the distance between the current centroid position value and the last position values is less than this value, iteration terminates. The default value is 1 pixel.</p><p>The <strong>\-v</strong> (verbosity) switch specifies the verbosity level of the output. The default is 0, which results in a single line of output for each input region consisting of the following values:</p><p>  counts x y [ra dec coordsys]</p><p>The last 3 \s-1WCS\s0 values are output if \s-1WCS\s0 information is available in the data file header. Thus, for example:</p><p>  [sh] funcen -n 0 snr.ev "cir 505 508 5"   915 505.00 508.00 345.284038 58.870920 j2000</p><p>  [sh] funcen -n 3 snr.ev "cir 505 508 5"   1120 504.43 509.65 345.286480 58.874587 j2000</p><p>The first example simply counts the number of events in the initial region. The second example iterates the centroid calculation three times to determine a final \*(L"best\*(R" position.</p><p>Higher levels of verbosity obviously imply more verbose output. At level 1, the output essentially contains the same information as level 0, but with keyword formatting:</p><p>  [sh] funcen -v 1 -n 3 snr.ev "cir 505 508 5"   event_file:     snr.ev   initial_region: cir 505 508 5   tolerance:      1.0000   iterations:     1</p><p>  events:         1120   x,y(physical):  504.43 509.65   ra,dec(j2000):  345.286480 58.874587   final_region1:  cir 504.43 509.65 5</p><p>Level 2 outputs results from intermediate calculations as well.</p><p>Ordinarily, region filtering is performed using analytic (event) filtering, i.e. that same style of filtering as is performed by <strong>fundisp</strong> and <strong>funtable</strong>. Use the <strong>\-i</strong> switch to specify image filtering, i.e. the same style filtering as is performed by <strong>funcnts</strong>. Thus, you can perform a quick calculation of counts in regions, using either the analytic or image filtering method, by specifying the  <strong>\-n 0</strong> and optional <strong>\-i</strong> switches. These two method often give different results because of how boundary events are processed:</p><p>  [sh] funcen  snr.ev "cir 505 508 5"   915 505.00 508.00 345.284038 58.870920 j2000</p><p>  [sh] funcen -i snr.ev "cir 505 508 5"   798 505.00 508.00 345.284038 58.870920 j2000</p><p>See Region Boundaries for more information about how boundaries are calculated using these two methods.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO funcen&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="funcalc.1.html"><span aria-hidden="true">&larr;</span> funcalc.1: Funtools calculator (for binary tables)</a></li>
   <li class="next"><a href="funcnts.1.html">funcnts.1: Count photons in specified regions, with bkgd subtraction <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
