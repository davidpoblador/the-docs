<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>scdaemon: Smartcard daemon for the gnupg system</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Smartcard daemon for the gnupg system">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="scdaemon (1) manual">
  <meta name="twitter:description" content="Smartcard daemon for the gnupg system">
  <meta name="twitter:image" content="https://www.carta.tech/images/scdaemon-scdaemon-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/scdaemon.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="scdaemon (1) manual" />
  <meta property="og:description" content="Smartcard daemon for the gnupg system" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/scdaemon-scdaemon-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">scdaemon<small> (1)</small></h1>
        <p class="lead">Smartcard daemon for the gnupg system</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/scdaemon.1.html">
      <span itemprop="name">scdaemon: Smartcard daemon for the gnupg system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/scdaemon/">
      <span itemprop="name">scdaemon</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/scdaemon.1.html">
      <span itemprop="name">scdaemon: Smartcard daemon for the gnupg system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>scdaemon</strong> [<strong>--homedir</strong> <em>dir</em>] [<strong>--options</strong> <em>file</em>] [<em>options</em>] <strong>--server</strong></p><p><strong>scdaemon</strong> [<strong>--homedir</strong> <em>dir</em>] [<strong>--options</strong> <em>file</em>] [<em>options</em>] <strong>--daemon</strong> [<em>command_line</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>scdaemon</strong> is a daemon to manage smartcards.  It is usually invoked by <strong>gpg-agent</strong> and in general not used directly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<p>Commands are not distinguished from options except for the fact that only one command is allowed.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print the program version and licensing information.  Not that you can abbreviate this command.</p>
  </dd>
  <dt>
    <p><strong>--help, -h</strong></p>
  </dt>
  <dd>
    <p>Print a usage message summarizing the most useful command-line options. Not that you can abbreviate this command.</p>
  </dd>
  <dt>
    <p><strong>--dump-options</strong></p>
  </dt>
  <dd>
    <p>Print a list of all available options and commands.  Not that you can abbreviate this command.</p>
  </dd>
  <dt>
    <p><strong>--server</strong></p>
  </dt>
  <dd>
    <p>Run in server mode and wait for commands on the <strong>stdin</strong>.  This is default mode is to create a socket and listen for commands there.</p>
  </dd>
  <dt>
    <p><strong>--multi-server</strong></p>
  </dt>
  <dd>
    <p>Run in server mode and wait for commands on the <strong>stdin</strong> as well as on an additional Unix Domain socket.  The server command <strong>GETINFO</strong> may be used to get the name of that extra socket.</p>
  </dd>
  <dt>
    <p><strong>--daemon</strong></p>
  </dt>
  <dd>
    <p>Run the program in the background.  This option is required to prevent it from being accidentally running in the background.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--options </strong><em>file</em></p>
  </dt>
  <dd>
    <p>Reads configuration from <em>file</em> instead of from the default per-user configuration file.  The default configuration file is named \(oq<em>scdaemon.conf</em>\(cq and expected in the \(oq<em>.gnupg</em>\(cq directory directly below the home directory of the user.</p>
  </dd>
  <dt>
    <p><strong>--homedir </strong><em>dir</em></p>
  </dt>
  <dd>
    <p>Set the name of the home directory to <em>dir</em>. If this option is not used, the home directory defaults to \(oq<em>~/.gnupg</em>\(cq.  It is only recognized when given on the command line.  It also overrides any home directory stated through the environment variable \(oq<em>GNUPGHOME</em>\(cq or (on W32 systems) by means of the Registry entry <em>HKCU&#92;Software&#92;GNU&#92;GnuPG:HomeDir</em>.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Outputs additional information while running. You can increase the verbosity by giving several verbose commands to <strong>gpgsm</strong>, such as &apos;-vv&apos;.</p>
  </dd>
  <dt>
    <p><strong>--debug-level </strong><em>level</em></p>
  </dt>
  <dd>
    <p>Select the debug level for investigating problems.  <em>level</em> may be a numeric value or a keyword:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>none</strong></p>
  </dt>
  <dd>
    <p>No debugging at all.  A value of less than 1 may be used instead of the keyword.</p>
  </dd>
  <dt>
    <p><strong>basic</strong></p>
  </dt>
  <dd>
    <p>Some basic debug messages.  A value between 1 and 2 may be used instead of the keyword.</p>
  </dd>
  <dt>
    <p><strong>advanced</strong></p>
  </dt>
  <dd>
    <p>More verbose debug messages.  A value between 3 and 5 may be used instead of the keyword.</p>
  </dd>
  <dt>
    <p><strong>expert</strong></p>
  </dt>
  <dd>
    <p>Even more detailed messages.  A value between 6 and 8 may be used instead of the keyword.</p>
  </dd>
  <dt>
    <p><strong>guru</strong></p>
  </dt>
  <dd>
    <p>All of the debug messages you can get. A value greater than 8 may be used instead of the keyword.  The creation of hash tracing files is only enabled if the keyword is used.</p>
  </dd>

</dl>
<p>How these messages are mapped to the actual debugging flags is not specified and may change with newer releases of this program. They are however carefully selected to best aid in debugging.</p><p><strong>All debugging options are subject to change and thus should not be used</strong> by any application program.  As the name says, they are only used as helpers to debug problems.</p>
  </dd>
  <dt>
    <p><strong>--debug </strong><em>flags</em></p>
  </dt>
  <dd>
    <p>This option is only useful for debugging and the behaviour may change at any time without notice.  FLAGS are bit encoded and may be given in usual C-Syntax. The currently defined bits are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0 (1)</strong></p>
  </dt>
  <dd>
    <p>command I/O</p>
  </dd>
  <dt>
    <p><strong>1 (2)</strong></p>
  </dt>
  <dd>
    <p>values of big number integers</p>
  </dd>
  <dt>
    <p><strong>2 (4)</strong></p>
  </dt>
  <dd>
    <p>low level crypto operations</p>
  </dd>
  <dt>
    <p><strong>5 (32)</strong></p>
  </dt>
  <dd>
    <p>memory allocation</p>
  </dd>
  <dt>
    <p><strong>6 (64)</strong></p>
  </dt>
  <dd>
    <p>caching</p>
  </dd>
  <dt>
    <p><strong>7 (128)</strong></p>
  </dt>
  <dd>
    <p>show memory statistics.</p>
  </dd>
  <dt>
    <p><strong>9 (512)</strong></p>
  </dt>
  <dd>
    <p>write hashed data to files named <strong>dbgmd-000*</strong></p>
  </dd>
  <dt>
    <p><strong>10 (1024)</strong></p>
  </dt>
  <dd>
    <p>trace Assuan protocol.  See also option <strong>--debug-assuan-log-cats</strong>.</p>
  </dd>
  <dt>
    <p><strong>11 (2048)</strong></p>
  </dt>
  <dd>
    <p>trace APDU I/O to the card.  This may reveal sensitive data.</p>
  </dd>
  <dt>
    <p><strong>12 (4096)</strong></p>
  </dt>
  <dd>
    <p>trace some card reader related function calls.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--debug-all</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--debug=0xffffffff</strong></p>
  </dd>
  <dt>
    <p><strong>--debug-wait </strong><em>n</em></p>
  </dt>
  <dd>
    <p>When running in server mode, wait <em>n</em> seconds before entering the actual processing loop and print the pid.  This gives time to attach a debugger.</p>
  </dd>
  <dt>
    <p><strong>--debug-ccid-driver</strong></p>
  </dt>
  <dd>
    <p>Enable debug output from the included CCID driver for smartcards. Using this option twice will also enable some tracing of the T=1 protocol.  Note that this option may reveal sensitive data.</p>
  </dd>
  <dt>
    <p><strong>--debug-disable-ticker</strong></p>
  </dt>
  <dd>
    <p>This option disables all ticker functions like checking for card insertions.</p>
  </dd>
  <dt>
    <p><strong>--debug-allow-core-dump</strong></p>
  </dt>
  <dd>
    <p>For security reasons we won't create a core dump when the process aborts.  For debugging purposes it is sometimes better to allow core dump.  This options enables it and also changes the working directory to \(oq<em>/tmp</em>\(cq when running in <strong>--server</strong> mode.</p>
  </dd>
  <dt>
    <p><strong>--debug-log-tid</strong></p>
  </dt>
  <dd>
    <p>This option appends a thread ID to the PID in the log output.</p>
  </dd>
  <dt>
    <p><strong>--debug-assuan-log-cats </strong><em>cats</em></p>
  </dt>
  <dd>
    <p>Changes the active Libassuan logging categories to <em>cats</em>.  The value for <em>cats</em> is an unsigned integer given in usual C-Syntax. A value of of 0 switches to a default category.  If this option is not used the categories are taken from the environment variable &apos;ASSUAN_DEBUG&apos;.  Note that this option has only an effect if the Assuan debug flag has also been with the option <strong>--debug</strong>.  For a list of categories see the Libassuan manual.</p>
  </dd>
  <dt>
    <p><strong>--no-detach</strong></p>
  </dt>
  <dd>
    <p>Don't detach the process from the console.  This is mainly useful for debugging.</p>
  </dd>
  <dt>
    <p><strong>--log-file </strong><em>file</em></p>
  </dt>
  <dd>
    <p>Append all logging output to <em>file</em>.  This is very helpful in seeing what the agent actually does.</p>
  </dd>
  <dt>
    <p><strong>--pcsc-driver </strong><em>library</em></p>
  </dt>
  <dd>
    <p>Use <em>library</em> to access the smartcard reader.  The current default is \(oq<em>libpcsclite.so</em>\(cq.  Instead of using this option you might also want to install a symbolic link to the default file name (e.g. from \(oq<em>libpcsclite.so.1</em>\(cq).</p>
  </dd>
  <dt>
    <p><strong>--ctapi-driver </strong><em>library</em></p>
  </dt>
  <dd>
    <p>Use <em>library</em> to access the smartcard reader.  The current default is \(oq<em>libtowitoko.so</em>\(cq.  Note that the use of this interface is deprecated; it may be removed in future releases.</p>
  </dd>
  <dt>
    <p><strong>--disable-ccid</strong></p>
  </dt>
  <dd>
    <p>Disable the integrated support for CCID compliant readers.  This allows to fall back to one of the other drivers even if the internal CCID driver can handle the reader.  Note, that CCID support is only available if libusb was available at build time.</p>
  </dd>
  <dt>
    <p><strong>--reader-port </strong><em>number_or_string</em></p>
  </dt>
  <dd>
    <p>This option may be used to specify the port of the card terminal.  A value of 0 refers to the first serial device; add 32768 to access USB devices.  The default is 32768 (first USB device).  PC/SC or CCID readers might need a string here; run the program in verbose mode to get a list of available readers.  The default is then the first reader found.</p><p>To get a list of available CCID readers you may use this command:</p>
<pre>
echo scd getinfo reader_list | gpg-connect-agent --decode | awk '/^D/ {print $2}'
</pre>

  </dd>
  <dt>
    <p><strong>--card-timeout </strong><em>n</em></p>
  </dt>
  <dd>
    <p>If <em>n</em> is not 0 and no client is actively using the card, the card will be powered down after <em>n</em> seconds.  Powering down the card avoids a potential risk of damaging a card when used with certain cheap readers.  This also allows non Scdaemon aware applications to access the card.  The disadvantage of using a card timeout is that accessing the card takes longer and that the user needs to enter the PIN again after the next power up.</p><p>Note that with the current version of Scdaemon the card is powered down immediately at the next timer tick for any value of <em>n</em> other than 0.</p>
  </dd>
  <dt>
    <p><strong>--enable-pinpad-varlen</strong></p>
  </dt>
  <dd>
    <p>Please specify this option when the card reader supports variable length input for pinpad (default is no).  For known readers (listed in ccid-driver.c and apdu.c), this option is not needed.  Note that if your card reader doesn't supports variable length input but you want to use it, you need to specify your pinpad request on your card.</p>
  </dd>
  <dt>
    <p><strong>--disable-pinpad</strong></p>
  </dt>
  <dd>
    <p>Even if a card reader features a pinpad, do not try to use it.</p>
  </dd>
  <dt>
    <p><strong>--deny-admin</strong></p>
  </dt>
  <dd>
    <p>This option disables the use of admin class commands for card applications where this is supported.  Currently we support it for the OpenPGP card. This commands is useful to inhibit accidental access to admin class command which could ultimately lock the card through wrong PIN numbers.  Note that GnuPG versions older than 2.0.11 featured an <strong>--allow-admin</strong> command which was required to use such admin commands.  This option has no more effect today because the default is now to allow admin commands.</p>
  </dd>
  <dt>
    <p><strong>--disable-application </strong><em>name</em></p>
  </dt>
  <dd>
    <p>This option disables the use of the card application named <em>name</em>.  This is mainly useful for debugging or if a application with lower priority should be used by default.</p><p>All the long options may also be given in the configuration file after stripping off the two leading dashes.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CARD APPLICATIONS</h2>
        <div class="sectioncontent">
<p><strong>scdaemon</strong> supports the card applications as described below.</p><h3>The OpenPGP card application ``openpgp''</h3>
<p>This application is currently only used by <strong>gpg</strong> but may in future also be useful with <strong>gpgsm</strong>.  Version 1 and version 2 of the card is supported.</p><p>The specifications for these cards are available at (<strong>http://g10code.com/docs/openpgp-card-1.0.pdf</strong>) and (<strong>http://g10code.com/docs/openpgp-card-2.0.pdf</strong>).</p>
<h3>The Telesec NetKey card ``nks''</h3>
<p>This is the main application of the Telesec cards as available in Germany.  It is a superset of the German DINSIG card.  The card is used by <strong>gpgsm</strong>.</p>
<h3>The DINSIG card application ``dinsig''</h3>
<p>This is an application as described in the German draft standard <em>DIN V 66291-1</em>.  It is intended to be used by cards supporting the German signature law and its bylaws (SigG and SigV).</p>
<h3>The PKCS#15 card application ``p15''</h3>
<p>This is common framework for smart card applications.  It is used by <strong>gpgsm</strong>.</p>
<h3>The Geldkarte card application ``geldkarte''</h3>
<p>This is a simple application to display information of a German Geldkarte.  The Geldkarte is a small amount debit card application which comes with almost all German banking cards.</p>
<h3>The Undefined card application ``undefined''</h3>
<p>This is a stub application to allow the use of the APDU command even if no supported application is found on the card.  This application is not used automatically but must be explicitly requested using the SERIALNO command.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
$ scdaemon --server -v
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>There are a few configuration files to control certain aspects of <strong>scdaemons</strong>'s operation. Unless noted, they are expected in the current home directory (see: [option --homedir]).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>scdaemon.conf</strong></p>
  </dt>
  <dd>
    <p>This is the standard configuration file read by <strong>scdaemon</strong> on startup.  It may contain any valid long option; the leading two dashes may not be entered and the option may not be abbreviated.  This default name may be changed on the command line (see: [option --options]).</p>
  </dd>
  <dt>
    <p><strong>scd-event</strong></p>
  </dt>
  <dd>
    <p>If this file is present and executable, it will be called on veyer card reader's status changed. An example of this script is provided with the distribution</p>
  </dd>
  <dt>
    <p><strong>reader_</strong><em>n</em>.status</p>
  </dt>
  <dd>
    <p>This file is created by <strong>sdaemon</strong> to let other applications now about reader status changes.  Its use is now deprecated in favor of \(oq<em>scd-event</em>\(cq.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO scdaemon&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/gpg-agent.1.html"><strong>gpg-agent</strong>(1)</a>, <a href="../man1/gpgsm.1.html"><strong>gpgsm</strong>(1)</a>, <a href="../man1/gpg2.1.html"><strong>gpg2</strong>(1)</a></p><p>The full documentation for this tool is maintained as a Texinfo manual. If GnuPG and the info program are properly installed at your site, the command</p>
<pre>
info gnupg
</pre>
<p>should give you access to the complete manual including a menu structure and an index.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sccstat.1.html"><span aria-hidden="true">&larr;</span> sccstat.1: List statistics of a scc radio port</a></li>
   <li class="next"><a href="scel2org.1.html">scel2org.1: Fcitx pinyin related tools <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
