<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lbdb-fetchaddr: Grab addresses from mails add append them to lbdb database</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Grab addresses from mails add append them to lbdb database">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lbdb-fetchaddr (1) manual">
  <meta name="twitter:description" content="Grab addresses from mails add append them to lbdb database">
  <meta name="twitter:image" content="https://www.carta.tech/images/lbdb-lbdb-fetchaddr-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lbdb-fetchaddr.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lbdb-fetchaddr (1) manual" />
  <meta property="og:description" content="Grab addresses from mails add append them to lbdb database" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lbdb-lbdb-fetchaddr-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lbdb-fetchaddr<small> (1)</small></h1>
        <p class="lead">Grab addresses from mails add append them to lbdb database</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lbdb-fetchaddr.1.html">
      <span itemprop="name">lbdb-fetchaddr: Grab addresses from mails add append them to lbdb database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lbdb/">
      <span itemprop="name">lbdb</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lbdb-fetchaddr.1.html">
      <span itemprop="name">lbdb-fetchaddr: Grab addresses from mails add append them to lbdb database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lbdb-fetchaddr</strong> [<strong>-d</strong> <em>dateformat</em>] [<strong>-x</strong> <em>headerfieldlist</em>] [<strong>-c</strong> <em>charset</em>] [<strong>-a</strong>]</p><p><strong>lbdb-fetchaddr</strong> [<strong>-v</strong>|<strong>-h</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lbdb-fetchaddr</strong> is a shell script which reads a mail on stdin. It extracts the contents of some header fields (default: `<strong>From:</strong>', `<strong>To:</strong>', `<strong>Cc:</strong>', `<strong>Resent-From:</strong>', and `<strong>Resent-To:</strong>') from the mail header (only addresses with a real name) and appends them to <em>$HOME/.lbdb/m_inmail.list</em>. For performance issues <strong>lbdb-fetchaddr</strong> appends new addresses to this file without removing duplicates. To get rid of duplicates, the program <strong>lbdb-munge</strong> exists, which is run by <strong>m_inmail</strong> if needed and removes duplicates.</p><p>To use this program, put the following lines into your <em>$HOME/.procmailrc:</em></p>
<pre>
     :0hc
     | lbdb-fetchaddr
</pre>
<p><strong>lbdb-fetchaddr</strong> writes the actual date to the third column of the database by using <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a>. It uses "%Y-%m-%d %H:%M" as the default date format (e.g. "1999-04-29 14:33"). You can change this by using the <strong>-d</strong> option to select a different date format string as parameter of lbdb-fetchaddr command like</p>
<pre>
     :0hc
     | lbdb-fetchaddr -d "%y-%m-%d"
</pre>
<p>which results in e.g. "99-04-29".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print version number of lbdb-fetchaddr.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print short help of lbdb-fetchaddr.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em> dateformat</em></p>
  </dt>
  <dd>
    <p>Use the given date format using <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a> syntax.</p>
  </dd>
  <dt>
    <p><strong>-x</strong><em> headerfields</em></p>
  </dt>
  <dd>
    <p>A colon separated list of header fields, which should be searched for mail addresses.  If this option isn't given, we fall back to `<strong>from:to:cc:resent-from:resent-to</strong>'.</p>
  </dd>
  <dt>
    <p><strong>-c</strong><em> charset</em></p>
  </dt>
  <dd>
    <p>The charset which will be used to write the database. This should be the charset which the application expects (normally the one from your current locale).  If this option isn't given, we fall back to `<strong>iso-8859-15</strong>'.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Also grab addresses without a real name.  Use the local part of the mail address as real name.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>$HOME/.lbdb/m_inmail.list</em></p><p><em>/usr/lib/lbdb/fetchaddr</em></p><p><em>/usr/lib/lbdb/m_inmail</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lbdb-fetchaddr&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/lbdbq.1.html"><strong>lbdbq</strong>(1)</a>, <a href="../man1/lbdb_dotlock.1.html"><strong>lbdb_dotlock</strong>(1)</a>, <strong>procmail</strong>(1), <strong>procmailrc</strong>(5), <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>Most of the really interesting code of this program (namely, the RFC 822 address parser used by lbdb-fetchaddr) was stolen from Michael Elkins' mutt mail user agent. Additional credits go to Brandon Long for putting the query functionality into mutt.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The lbdb package was written by Thomas Roessler &lt;roessler@guug.de&gt; and is now maintained and extended by Roland Rosenfeld &lt;roland@spinnaker.de&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lb_source.1.html"><span aria-hidden="true">&larr;</span> lb_source.1: Complete the source stage</a></li>
   <li class="next"><a href="lbdb_dotlock.1.html">lbdb_dotlock.1: Lock mail spool files. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
