<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>flask-httpauth: Flask-httpauth documentation  flask-httpauth is a simple extension that provides basic and digest http authentication for flask routes.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Flask-httpauth documentation  flask-httpauth is a simple extension that provides basic and digest http authentication for flask routes.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="flask-httpauth (1) manual">
  <meta name="twitter:description" content="Flask-httpauth documentation  flask-httpauth is a simple extension that provides basic and digest http authentication for flask routes.">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-flask-httpauth-flask-httpauth-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/flask-httpauth.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="flask-httpauth (1) manual" />
  <meta property="og:description" content="Flask-httpauth documentation  flask-httpauth is a simple extension that provides basic and digest http authentication for flask routes." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-flask-httpauth-flask-httpauth-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">flask-httpauth<small> (1)</small></h1>
        <p class="lead">Flask-httpauth documentation  flask-httpauth is a simple extension that provides basic and digest http authentication for flask routes.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/flask-httpauth.1.html">
      <span itemprop="name">flask-httpauth: Flask-httpauth documentation  flask-httpauth is a simple extension that provides basic and digest http authentication for flask routes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-flask-httpauth/">
      <span itemprop="name">python-flask-httpauth</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/flask-httpauth.1.html">
      <span itemprop="name">flask-httpauth: Flask-httpauth documentation  flask-httpauth is a simple extension that provides basic and digest http authentication for flask routes.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">BASIC AUTHENTICATION EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following example application uses HTTP Basic authentication to protect route <strong>&apos;/&apos;</strong>:</p>
<pre>
from flask import Flask
from flask.ext.httpauth import HTTPBasicAuth

app = Flask(__name__)
auth = HTTPBasicAuth()

users = {
    "john": "hello",
    "susan": "bye"
}

@auth.get_password
def get_pw(username):
    if username in users:
        return users.get(username)
    return None

@app.route(&apos;/&apos;)
@auth.login_required
def index():
    return "Hello, %s!" % auth.username()

if __name__ == &apos;__main__&apos;:
    app.run()
</pre>
<p>The <strong>get_password</strong> callback needs to return the password associated with the username given as argument. Flask-HTTPAuth will allow access only if <strong>get_password(username) == password</strong>.</p><p>If the passwords are stored hashed in the user database then an additional callback is needed:</p>
<pre>
@auth.hash_password
def hash_pw(password):
    return md5(password).hexdigest()
</pre>
<p>When the <strong>hash_password</strong> callback is provided access will be granted when <strong>get_password(username) == hash_password(password)</strong>.</p><p>If the hashing algorithm requires the username to be known then the callback can take two arguments instead of one:</p>
<pre>
@auth.hash_password
def hash_pw(username, password):
    get_salt(username)
    return hash(password, salt)
</pre>
<p>For the most degree of flexibility the <em>get_password</em> and <em>hash_password</em> callbacks can be replaced with <em>verify_password</em>:</p>
<pre>
@auth.verify_password
def verify_pw(username, password):
    return call_custom_verify_function(username, password)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIGEST AUTHENTICATION EXAMPLE</h2>
        <div class="sectioncontent">
<p>The following example is similar to the previous one, but HTTP Digest authentication is used:</p>
<pre>
from flask import Flask
from flask.ext.httpauth import HTTPDigestAuth

app = Flask(__name__)
app.config[&apos;SECRET_KEY&apos;] = &apos;secret key here&apos;
auth = HTTPDigestAuth()

users = {
    "john": "hello",
    "susan": "bye"
}

@auth.get_password
def get_pw(username):
    if username in users:
        return users.get(username)
    return None

@app.route(&apos;/&apos;)
@auth.login_required
def index():
    return "Hello, %s!" % auth.username()

if __name__ == &apos;__main__&apos;:
    app.run()
</pre>
<p>Note that because digest authentication stores data in Flask&apos;s <strong>session</strong> object the configuration must have a <strong>SECRET_KEY</strong> set.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">API DOCUMENTATION</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>class flask_httpauth.HTTPBasicAuth</strong></p>
  </dt>
  <dd>
    <p>This class that handles HTTP Basic authentication for Flask routes.</p>
  </dd>
  <dt>
    <p><strong>get_password(password_callback)</strong></p>
  </dt>
  <dd>
    <p>This callback function will be called by the framework to obtain the password for a given user. Example:</p>
<pre>
@auth.get_password
def get_password(username):
    return db.get_user_password(username)
</pre>

  </dd>
  <dt>
    <p><strong>hash_password(hash_password_callback)</strong></p>
  </dt>
  <dd>
    <p>If defined, this callback function will be called by the framework to apply a custom hashing algorithm to the password provided by the client. If this callback isn&apos;t provided the password will be checked unchanged. The callback can take one or two arguments. The one argument version receives the password to hash, while the two argument version receives the username and the password in that order. Example single argument callback:</p>
<pre>
@auth.hash_password
def hash_password(password):
    return md5(password).hexdigest()
</pre>
<p>Example two argument callback:</p>
<pre>
@auth.hash_password
def hash_pw(username, password):
    get_salt(username)
    return hash(password, salt)
</pre>

  </dd>
  <dt>
    <p><strong>verify_password(verify_password_callback)</strong></p>
  </dt>
  <dd>
    <p>If defined, this callback function will be called by the framework to verify that the username and password combination provided by the client are valid. The callback function takes two arguments, the username and the password and must return <strong>True</strong> or <strong>False</strong>. Example usage:</p>
<pre>
@auth.verify_password
def verify_password(username, password):
    user = User.query.filter_by(username).first()
    if not user:
        return False
    return passlib.hash.sha256_crypt.verify(password, user.password_hash)
</pre>
<p>Note that when a <em>verify_password</em> callback is provided the <em>get_password</em> and <em>hash_password</em> callbacks are not used.</p>
  </dd>
  <dt>
    <p><strong>error_handler(error_callback)</strong></p>
  </dt>
  <dd>
    <p>If defined, this callback function will be called by the framework when it is necessary to send an authentication error back to the client. The return value from this function can be the body of the response as a string or it can also be a response object created with <em>make_response</em>. If this callback isn&apos;t provided a default error response is generated. Example:</p>
<pre>
@auth.error_handler
def auth_error():
    return "&lt;h1&gt;Access Denied&lt;/h1&gt;"
</pre>

  </dd>
  <dt>
    <p><strong>login_required(view_function_callback)</strong></p>
  </dt>
  <dd>
    <p>This callback function will be called when authentication is succesful. This will typically be a Flask view function. Example:</p>
<pre>
@app.route(&apos;/private&apos;)
@auth.login_required
def private_page():
    return "Only for authorized people!"
</pre>

  </dd>
  <dt>
    <p><strong>username()</strong></p>
  </dt>
  <dd>
    <p>A view function that is protected with this class can access the logged username through this method. Example:</p>
<pre>
@app.route(&apos;/&apos;)
@auth.login_required
def index():
    return "Hello, %s!" % auth.username()
</pre>

  </dd>
  <dt>
    <p><strong>class flask.ext.httpauth.HTTPDigestAuth</strong></p>
  </dt>
  <dd>
    <p>This class that handles HTTP Digest authentication for Flask routes. The <strong>SECRET_KEY</strong> configuration must be set in the Flask application to enable the session to work. Flask by default stores user sessions in the client as secure cookies, so the client must be able to handle cookies. To support clients that are not web browsers or that cannot handle cookies a <em>session interface</em> that writes sessions in the server must be used.</p>
  </dd>
  <dt>
    <p><strong>get_password(password_callback)</strong></p>
  </dt>
  <dd>
    <p>See basic authentication for documentation and examples.</p>
  </dd>
  <dt>
    <p><strong>error_handler(error_callback)</strong></p>
  </dt>
  <dd>
    <p>See basic authentication for documentation and examples.</p>
  </dd>
  <dt>
    <p><strong>login_required(view_function_callback)</strong></p>
  </dt>
  <dd>
    <p>See basic authentication for documentation and examples.</p>
  </dd>
  <dt>
    <p><strong>username()</strong></p>
  </dt>
  <dd>
    <p>See basic authentication for documentation and examples.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Miguel Grinberg</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2013, Miguel Grinberg</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="flashproxy-reg-url.1.html"><span aria-hidden="true">&larr;</span> flashproxy-reg-url.1: Register with a facilitator using an indirect url</a></li>
   <li class="next"><a href="flasm.1.html">flasm.1: A flash (swf) bytecode assembler/disassembler. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
