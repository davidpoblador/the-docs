<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>notmuch-compact: Compact the notmuch database</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compact the notmuch database">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="notmuch-compact (1) manual">
  <meta name="twitter:description" content="Compact the notmuch database">
  <meta name="twitter:image" content="https://www.carta.tech/images/notmuch-notmuch-compact-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/notmuch-compact.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="notmuch-compact (1) manual" />
  <meta property="og:description" content="Compact the notmuch database" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/notmuch-notmuch-compact-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">notmuch-compact<small> (1)</small></h1>
        <p class="lead">Compact the notmuch database</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/notmuch-compact.1.html">
      <span itemprop="name">notmuch-compact: Compact the notmuch database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/notmuch/">
      <span itemprop="name">notmuch</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/notmuch-compact.1.html">
      <span itemprop="name">notmuch-compact: Compact the notmuch database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>notmuch</strong> <strong>compact</strong> [--quiet] [--backup=&lt;<em>directory</em>&gt;]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>compact</strong> command can be used to compact the notmuch database. This can both reduce the space required by the database and improve lookup performance.</p><p>The compacted database is built in a temporary directory and is later moved into the place of the origin database. The original uncompacted database is discarded, unless the <strong>--backup=</strong>&lt;directory&gt; option is used.</p><p>Note that the database write lock will be held during the compaction process (which may be quite long) to protect data integrity.</p><p>Supported options for <strong>compact</strong> include</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>--backup=</strong><strong>&lt;directory&gt;</strong></p>
  </dt>
  <dd>
    <p>Save the current database to the given directory before replacing it with the compacted database. The backup directory must not exist and it must reside on the same mounted filesystem as the current database.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--quiet</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Do not report database compaction progress to stdout.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>The following environment variables can be used to control the behavior of notmuch.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>NOTMUCH_CONFIG</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Specifies the location of the notmuch configuration file. Notmuch will use ${HOME}/.notmuch-config if this variable is not set.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO notmuch-compact&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/notmuch.1.html"><strong>notmuch</strong>(1)</a></strong>, <a href="../man1/notmuch-count.1.html"><strong>notmuch-count</strong>(1)</a></strong>, <a href="../man1/notmuch-dump.1.html"><strong>notmuch-dump</strong>(1)</a></strong>, <a href="../man5/notmuch-hooks.5.html"><strong>notmuch-hooks</strong>(5)</a></strong>, <a href="../man1/notmuch-insert.1.html"><strong>notmuch-insert</strong>(1)</a></strong>, <a href="../man1/notmuch-new.1.html"><strong>notmuch-new</strong>(1)</a></strong>, <a href="../man1/notmuch-reply.1.html"><strong>notmuch-reply</strong>(1)</a></strong>, <a href="../man1/notmuch-restore.1.html"><strong>notmuch-restore</strong>(1)</a></strong>, <a href="../man1/notmuch-search.1.html"><strong>notmuch-search</strong>(1)</a></strong>, <a href="../man7/notmuch-search-terms.7.html"><strong>notmuch-search-terms</strong>(7)</a></strong>, <a href="../man1/notmuch-show.1.html"><strong>notmuch-show</strong>(1)</a></strong>, <a href="../man1/notmuch-tag.1.html"><strong>notmuch-tag</strong>(1)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Carl Worth and many others</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2014, Carl Worth and many others</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="notmuch.1.html"><span aria-hidden="true">&larr;</span> notmuch.1: Thread-based email index, search, and tagging</a></li>
   <li class="next"><a href="notmuch-config.1.html">notmuch-config.1: Access notmuch configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
