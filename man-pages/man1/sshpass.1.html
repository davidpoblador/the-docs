<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sshpass: Noninteractive ssh password provider</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Noninteractive ssh password provider">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sshpass (1) manual">
  <meta name="twitter:description" content="Noninteractive ssh password provider">
  <meta name="twitter:image" content="https://www.carta.tech/images/sshpass-sshpass-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sshpass.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sshpass (1) manual" />
  <meta property="og:description" content="Noninteractive ssh password provider" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sshpass-sshpass-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sshpass<small> (1)</small></h1>
        <p class="lead">Noninteractive ssh password provider</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sshpass.1.html">
      <span itemprop="name">sshpass: Noninteractive ssh password provider</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sshpass/">
      <span itemprop="name">sshpass</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sshpass.1.html">
      <span itemprop="name">sshpass: Noninteractive ssh password provider</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sshpass</strong> [<strong>-f</strong><em>filename</em>|<strong>-d</strong><em>num</em>|<strong>-p</strong><em>password</em>|<strong>-e</strong>] [<em>options</em>]<em> command arguments</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents the <strong>sshpass</strong> command.</p><p><strong>sshpass</strong> is a utility designed for running <strong>ssh</strong> using the mode referred to as "keyboard-interactive" password authentication, but in non-interactive mode.</p><p>ssh uses direct TTY access to make sure that the password is indeed issued by an interactive keyboard user. Sshpass runs ssh in a dedicated tty, fooling it into thinking it is getting the password from an interactive user.</p><p>The command to run is specified after sshpass' own options. Typically it will be "ssh" with arguments, but it can just as well be any other command. The password prompt used by ssh is, however, currently hardcoded into sshpass.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Options</h2>
        <div class="sectioncontent">
<p>If no option is given, sshpass reads the password from the standard input. The user may give at most one alternative source for the password:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-p</strong><em>password</em><strong></strong></p>
  </dt>
  <dd>
    <p>The password is given on the command line. Please note the section titled "<strong>SECURITY CONSIDERATIONS</strong>".</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em>filename</em><strong></strong></p>
  </dt>
  <dd>
    <p>The password is the first line of the file <em>filename</em>.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em>number</em><strong></strong></p>
  </dt>
  <dd>
    <p><em>number</em> is a file descriptor inherited by sshpass from the runner. The password is read from the open file descriptor.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>The password is taken from the environment variable "SSHPASS".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY CONSIDERATIONS</h2>
        <div class="sectioncontent">
<p>First and foremost, users of sshpass should realize that ssh's insistance on only getting the password interactively is not without reason. It is close to impossible to securely store the password, and users of sshpass should consider whether ssh's public key authentication provides the same end-user experience, while involving less hassle and being more secure.</p><p>The -p option should be considered the least secure of all of sshpass's options. All system users can see the password in the command line with a simple "ps" command. Sshpass makes a minimal attempt to hide the password, but such attempts are doomed to create race conditions without actually solving the problem. Users of sshpass are encouraged to use one of the other password passing techniques, which are all more secure.</p><p>In particular, people writing programs that are meant to communicate the password programatically are encouraged to use an anonymous pipe and pass the pipe's reading end to sshpass using the -d option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>As with any other program, sshpass returns 0 on success. In case of failure, the following return codes are used:</p>
<dl class='dl-vertical'>
  <dt>
    <p>1</p>
  </dt>
  <dd>
    <p>Invalid command line argument</p>
  </dd>
  <dt>
    <p>2</p>
  </dt>
  <dd>
    <p>Conflicting arguments given</p>
  </dd>
  <dt>
    <p>3</p>
  </dt>
  <dd>
    <p>General runtime error</p>
  </dd>
  <dt>
    <p>4</p>
  </dt>
  <dd>
    <p>Unrecognized response from ssh (parse error)</p>
  </dd>
  <dt>
    <p>5</p>
  </dt>
  <dd>
    <p>Invalid/incorrect password</p>
  </dd>
  <dt>
    <p>6</p>
  </dt>
  <dd>
    <p>Host public key is unknown. sshpass exits without confirming the new key.</p>
  </dd>

</dl>
<p>In addition, ssh might be complaining about a man in the middle attack. This complaint does not go to the tty. In other words, even with sshpass, the error message from ssh is printed to standard error. In such a case ssh's return code is reported back. This is typically an unimaginative (and non-informative) "255" for all error cases.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Run rsync over SSH using password authentication, passing the password on the command line:</p><p>rsync --rsh='sshpass -p 12345 ssh -l test' host.example.com:path .</p><p>To do the same from a bourne shell script in a marginally less exposed way:</p><p>SSHPASS=12345 rsync --rsh='sshpass -e ssh -l test' host.example.com:path .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Sshpass is in its infancy at the moment. As such, bugs are highly possible. In particular, if the password is read from stdin (no password option at all), it is possible that some of the input aimed to be passed to ssh will be read by sshpass and lost.</p><p>Sshpass utilizes the <a href="../man7/pty.7.html"><strong>pty</strong>(7)</a> interface to control the TTY for ssh. This interface, at least on Linux, has a misfeature where if no slave file descriptors are open, the master pty returns <strong>EIO</strong>. This is the normal behavior, except a slave pty may be born at any point by a program opening <strong>/dev/tty</strong>. This makes it impossible to reliably wait for events without consuming 100% of the CPU.</p><p>Over the various versions different approaches were attempted at solving this problem. Any given version of sshpass is released with the belief that it is working, but experience has shown that these things do, occasionally, break. This happened with OpenSSH version 5.6. As of this writing, it is believed that sshpass is, again, working properly.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sshfs.1.html"><span aria-hidden="true">&larr;</span> sshfs.1: Filesystem client based on ssh</a></li>
   <li class="next"><a href="sshvnc.1.html">sshvnc.1: A gui wrapper for ssl and ssh vnc connections. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
