<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>db5.3_archive: Find unused log files for archiving purposes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Find unused log files for archiving purposes">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="db5.3_archive (1) manual">
  <meta name="twitter:description" content="Find unused log files for archiving purposes">
  <meta name="twitter:image" content="https://www.carta.tech/images/db5.3-util-db5.3_archive-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/db5.3_archive.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="db5.3_archive (1) manual" />
  <meta property="og:description" content="Find unused log files for archiving purposes" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/db5.3-util-db5.3_archive-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">db5.3_archive<small> (1)</small></h1>
        <p class="lead">Find unused log files for archiving purposes</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/db5.3_archive.1.html">
      <span itemprop="name">db5.3_archive: Find unused log files for archiving purposes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/db5.3-util/">
      <span itemprop="name">db5.3-util</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/db5.3_archive.1.html">
      <span itemprop="name">db5.3_archive: Find unused log files for archiving purposes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>db5.3_archive</strong> [-adlsVv] [-h home] [-P password]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The db5.3_archive utility writes the pathnames of log files that are no longer in use (for example, no longer involved in active transactions), to the standard output, one pathname per line.  These log files should be written to backup media to provide for recovery in the case of catastrophic failure (which also requires a snapshot of the database files), but they may then be deleted from the system to reclaim disk space.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-a</strong>
  </dt>
  <dd>
    <p>Write all pathnames as absolute pathnames, instead of relative to the database home directories.</p>
  </dd>
  <dt>
    <strong>-d</strong>
  </dt>
  <dd>
    <p>Remove log files that are no longer needed; no filenames are written. Automatic log file removal is likely to make catastrophic recovery impossible.</p>
  </dd>
  <dt>
    <strong>-h</strong>
  </dt>
  <dd>
    <p>Specify a home directory for the database environment; by default, the current working directory is used.</p>
  </dd>
  <dt>
    <strong>-l</strong>
  </dt>
  <dd>
    <p>Write out the pathnames of all the database log files, whether or not they are involved in active transactions.</p>
  </dd>
  <dt>
    <strong>-P</strong>
  </dt>
  <dd>
    <p>Specify an environment password.  Although Berkeley DB utilities overwrite password strings as soon as possible, be aware there may be a window of vulnerability on systems where unprivileged users can see command-line arguments or where utilities are not able to overwrite the memory containing the command-line arguments.</p>
  </dd>
  <dt>
    <strong>-s</strong>
  </dt>
  <dd>
    <p>Write the pathnames of all the database files that need to be archived in order to recover the database from catastrophic failure.  If any of the database files have not been accessed during the lifetime of the current log files, db5.3_archive will not include them in this output.</p><p>It is possible that some of the files to which the log refers have since been deleted from the system.  In this case, db5.3_archive will ignore them.  When db5.3_recover is run, any files to which the log refers that are not present during recovery are assumed to have been deleted and will not be recovered.</p>
  </dd>
  <dt>
    <strong>-V</strong>
  </dt>
  <dd>
    <p>Write the library version number to the standard output, and exit.</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>Run in verbose mode, listing the checkpoints in the log files as they are reviewed.</p>
  </dd>

</dl>
<p>Log cursor handles (returned by the DB_ENV-&gt;log_cursor method) may have open file descriptors for log files in the database environment.  Also, the Berkeley DB interfaces to the database environment logging subsystem (for example, DB_ENV-&gt;log_put and DB_TXN-&gt;abort) may allocate log cursors and have open file descriptors for log files as well.  On operating systems where filesystem related system calls (for example, rename and unlink on Windows/NT) can fail if a process has an open file descriptor for the affected file, attempting to move or remove the log files listed by db5.3_archive may fail.  All Berkeley DB internal use of log cursors operates on active log files only and furthermore, is short-lived in nature.  So, an application seeing such a failure should be restructured to close any open log cursors it may have, and otherwise to retry the operation until it succeeds.  (Although the latter is not likely to be necessary; it is hard to imagine a reason to move or rename a log file in which transactions are being logged or aborted.)</p><p>The db5.3_archive utility uses a Berkeley DB environment (as described for the <strong>-h</strong> option, the environment variable <strong>DB_HOME</strong>, or because the utility was run in a directory containing a Berkeley DB environment).  In order to avoid environment corruption when using a Berkeley DB environment, db5.3_archive should always be given the chance to detach from the environment and exit gracefully.  To cause db5.3_archive to release all environment resources and exit cleanly, send it an interrupt signal (SIGINT).</p><p>The DB_ENV-&gt;log_archive method is the underlying method used by the db5.3_archive utility. See the db5.3_archive utility source code for an example of using DB_ENV-&gt;log_archive in a IEEE/ANSI Std 1003.1 (POSIX) environment.</p><p>The db5.3_archive utility exits 0 on success, and &gt;0 if an error occurs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>DB_HOME</strong>
  </dt>
  <dd>
    <p>If the <strong>-h</strong> option is not specified and the environment variable DB_HOME is set, it is used as the path of the database home, as described in DB_ENV-&gt;open.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Sleepycat Software, Inc. This manual page was created based on the HTML documentation for db_archive from Sleepycat, by Thijs Kinkhorst &lt;thijs@kinkhorst.com&gt;, for the Debian system (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="db5.1_verify.1.html"><span aria-hidden="true">&larr;</span> db5.1_verify.1: Verifies the structure databases</a></li>
   <li class="next"><a href="db5.3_checkpoint.1.html">db5.3_checkpoint.1: Periodically checkpoint transactions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
