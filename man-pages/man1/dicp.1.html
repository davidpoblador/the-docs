<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dicp: Tool for parallel sysadmin of multiple hosts</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tool for parallel sysadmin of multiple hosts">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dicp (1) manual">
  <meta name="twitter:description" content="Tool for parallel sysadmin of multiple hosts">
  <meta name="twitter:image" content="https://www.carta.tech/images/dish-dicp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dicp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dicp (1) manual" />
  <meta property="og:description" content="Tool for parallel sysadmin of multiple hosts" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dish-dicp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dicp<small> (1)</small></h1>
        <p class="lead">Tool for parallel sysadmin of multiple hosts</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dicp.1.html">
      <span itemprop="name">dicp: Tool for parallel sysadmin of multiple hosts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dish/">
      <span itemprop="name">dish</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dicp.1.html">
      <span itemprop="name">dicp: Tool for parallel sysadmin of multiple hosts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dish</strong> [<em>option</em>]... <em>-e command {-g hosts_file | host_1 host_2 </em>...<em>}</em></p><p><strong>dicp</strong> <em>{-g hosts_file | -g "user@host_1 </em>...<em>"} local_file :remote_file</em></p><p><strong>dicp</strong> <em>{-g hosts_file | -g "user@host_1 </em>...<em>"} :remote_file local_file</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>dish - the diligence shell executes commands on several hosts via ssh/rsh/telnet, and also makes easy the distribution of files by scp/rcp, a remote password change, etc. It can process hosts in parallel mode.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print help message describing shortly all command-line options</p>
  </dd>
  <dt>
    <p><strong>-H</strong>, --help</p>
  </dt>
  <dd>
    <p>Comprehensive help including examples</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print program version and copyright message, then exit</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Display the version number and exit</p>
  </dd>
  <dt>
    <p><strong>-C</strong> &lt;dir&gt;</p>
  </dt>
  <dd>
    <p>Configuration directory - $HOME/.dish is default; In this directory are located following configuration files: 'hosts', 'rests', 'pass', and 'options'. When used, this option must be the first argument in the command line string, or be the second one if `-D' chosen! Alternatively, one can specify the configuration directory by defining the environment variable DISH_CONF.</p>
  </dd>
  <dt>
    <p><strong>-CC</strong> &lt;dir&gt;</p>
  </dt>
  <dd>
    <p>Same as `-C' with fallback to default if local config not found; This means that, in case the files 'pass', 'options' or 'rests' are absent in the given directory, but such files exist in $HOME/.dish, the latter will be considered. The only exception is '$HOME/.dish/hosts' which will be ignored. Using this option is equivalent to changing directory to the opted one and then executing `dish'.</p>
  </dd>
  <dt>
    <p><strong>-c</strong> &lt;name&gt;</p>
  </dt>
  <dd>
    <p>Program (alias "connector") and its options used for connecting to the remote host(s) - for example `rsh', whereas the spawned process will be "rsh $host &lt;cmd&gt;". Your default connector is `ssh'. Furthermore, by using a relevant text-based client as connector, one can access various kinds of hosts - switches, databases, and so on.</p>
  </dd>
  <dt>
    <p><strong>-e</strong> &lt;cmd&gt;</p>
  </dt>
  <dd>
    <p>Remote command to execute; It can be also set by the environment variable DISH_CMD.</p>
  </dd>
  <dt>
    <p><strong>-E</strong> &lt;cmd&gt;</p>
  </dt>
  <dd>
    <p>Execute command where also the connection part is specified e.g. "-E 'ssh $host date'" which is equal to "-e date". This option is incompatible with `-c' and `-e'. It can be also set by the environment variable DISH_FUEXE.</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>Force pseudo-tty allocation in ssh; This happens automatically in case of password change.</p>
  </dd>
  <dt>
    <p><strong>-T</strong> &lt;time&gt;</p>
  </dt>
  <dd>
    <p>Timeout for command execution - default 30s (per host)</p>
  </dd>
  <dt>
    <p><strong>-TT</strong> &lt;time&gt;</p>
  </dt>
  <dd>
    <p>Total timeout for command execution - default 300s (all hosts); This option is useful only when hosts are processed in sequence and the total processing time should not exceed the specified upper bound.</p>
  </dd>
  <dt>
    <p><strong>-x</strong> &lt;regex&gt;</p>
  </dt>
  <dd>
    <p>Regular expression for the shell prompt; This value specifies which prompt is to be expected in the program's shell after login into a system by `telnet', `mysql', `sqlplus' or other interactive command-line clients (see `-c'). The default value is `(%|&#92;$|#|&#92;&gt;) ?$'.</p>
  </dd>
  <dt>
    <p><strong>-X</strong> &lt;regex&gt;</p>
  </dt>
  <dd>
    <p>Regular expression for the password prompt; It is case-insensitive with default value `Password: *$'.</p>
  </dd>
  <dt>
    <p><strong>-AD</strong> &lt;regex&gt;</p>
  </dt>
  <dd>
    <p>Regular expression for the ssh-prompt to add a new host key - `connecting (yes/no)?.*' is default</p>
  </dd>
  <dt>
    <p><strong>-AC</strong> &lt;str&gt;</p>
  </dt>
  <dd>
    <p>String with the answer to the ssh-prompt to add a new host key - `yes' is default</p>
  </dd>
  <dt>
    <p><strong>-g</strong> &lt;file&gt;</p>
  </dt>
  <dd>
    <p>File with list of hosts/ip's/accounts to target; The command will be executed on these targets. The default host file is '$HOME/.dish/hosts' - normally per line one account of the form "user@host" (if ssh is your choice for connector). In order to join lists use the option repeatedly. Alternatively, the environment variable DISH_HOSTS could be used to define the target hosts whereas in the specified string they have to be separated by blanks. By combining this option with `-r' or `-i' you can define various subsets of targeted hosts/accounts.</p>
  </dd>
  <dt>
    <p><strong>-r</strong> &lt;file&gt;</p>
  </dt>
  <dd>
    <p>File with list of resting hosts/accounts to exclude; The default one is '$HOME/.dish/rests'. A "resting host" means one which will be excluded from the targets. The list of resting hosts or the file name could be specified also by the environment variable DISH_RESTS.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> &lt;file&gt;</p>
  </dt>
  <dd>
    <p>File with list of hosts/accounts to overlap with targeted hosts; There is no default file. Only overlapping hosts, such included in this list and at the same time defined as targets, will be processed.</p>
  </dd>
  <dt>
    <p><strong>-u</strong> &lt;name&gt;</p>
  </dt>
  <dd>
    <p>User name - default is your local user name; It can be defined also by the environment variable DISH_USER. Internally the value is accessible by the variable $user (see examples). Further, it is irrelevant in case that accounts of the form "user@host" are processed since they include already the user name.</p>
  </dd>
  <dt>
    <p><strong>-p</strong> &lt;passwd&gt;</p>
  </dt>
  <dd>
    <p>Login password (-p "" = -pp = -a0) - alias "login authentic" or "a0"; If no authentication for login is required (no user- and no password-prompt appear), then use `/dev/null' as password. If the user name is requested, yet the password is an empty string, then `/dev/empty' has to be given as password. The value of this option could be also a password file (see `-P'). Eventually, one can define the password by the environment variable DISH_PASS.</p>
  </dd>
  <dt>
    <p><strong>-a</strong> &lt;passwd&gt;</p>
  </dt>
  <dd>
    <p>Additional password for authentication (-a "" = -aa = -a1) - alias "first authentic" or "a1"; Inside the spawn process, if a program like `smbmount', `su', `ssh', etc. asks for authentication, the a1-password is passed to it. This password can be also set by the environment variable DISH_PASS1.</p>
  </dd>
  <dt>
    <p><strong>-A</strong> &lt;passwd&gt;</p>
  </dt>
  <dd>
    <p>One more password for authentication (-A "" = -AA = -a2) - alias "second authentic" or "a2"; When a spawned process, after one authentication by the a1-password, asks again for a password, then a2 is sent. This password can be also set by the environment variable DISH_PASS2.</p>
  </dd>
  <dt>
    <p><strong>-n</strong> &lt;passwd&gt;</p>
  </dt>
  <dd>
    <p>New password in case of password change (-n "" = -nn = -ne)</p>
  </dd>
  <dt>
    <p><strong>-p0</strong></p>
  </dt>
  <dd>
    <p>Login without authentication - the same as `-p /dev/null'</p>
  </dd>
  <dt>
    <p><strong>-p1</strong></p>
  </dt>
  <dd>
    <p>Set the a1-password to be the same as the login password; This option should not be used together with `-p0' and `-a1'. See example d) bellow.</p>
  </dd>
  <dt>
    <p><strong>-P</strong> &lt;file&gt;</p>
  </dt>
  <dd>
    <p>File with password(s); The default password file is '$HOME/.dish/pass'. It must be readable only for the user (file mode 600 or 700), otherwise the program exits with error, but see also next option. Every line in the file can hold a password entry of the form: "password:username:hostname", alternatively "password:::username:::hostname", or "password;;;username;;;hostname". One can specify a list of hosts separated by the `,' or `;' characters. Regular expressions for hostnames are also allowed (see the example configuration files in the distribution).</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Ignore the access permissions of the password file</p>
  </dd>
  <dt>
    <p><strong>-s</strong> [&lt;time&gt;]</p>
  </dt>
  <dd>
    <p>Sequential processing of hosts (default mode); If a time interval (measured in floating seconds) is specified, then the program is waiting this amount of time before starting to process the next host in the sequence.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Spawn processes in background - fork and disconnect; This way all hosts are processed essentially in parallel! It's a very powerful option - depending on you RAM size and memory utilization, it shouldn't be a problem to process a few hundreds of hosts in parallel. Anyway, be careful - if you have too many hosts on the list, your could put your system under load. The stdout's of the background processes are redirected to '/dev/null', however you can use `-l' or `-L' to write the output to files. See also 'bugs and known problems' in the manual page.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Spawn processes in background without disconnecting from tty; It's the same as `-F' whereas the stdout's of the spawned processes are sent to the terminal. Also the parent process waits for his children to finish. See also 'bugs and known problems' in the manual page.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Be quiet - skip output from spawn and login; When working with the secure shell, it is also convenient to use `ssh' with the `-q' option.</p>
  </dd>
  <dt>
    <p><strong>-Q</strong></p>
  </dt>
  <dd>
    <p>Be QUIET - skip any output</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Be verbose (default) - overrides `-q' and `-Q'</p>
  </dd>
  <dt>
    <p><strong>-l</strong> &lt;file&gt;</p>
  </dt>
  <dd>
    <p>Log command output to file; The output of the spawned processes is appended to the file.</p>
  </dd>
  <dt>
    <p><strong>-L</strong> &lt;name&gt;</p>
  </dt>
  <dd>
    <p>Write a separate log for every host where &lt;name&gt; denotes the base name of the log file. The full name of a log file is defined as "&lt;name&gt;_&lt;user@host&gt;.log".</p>
  </dd>
  <dt>
    <p><strong>-j</strong></p>
  </dt>
  <dd>
    <p>Record the invoked command into a journal file with the name '$HOME/.dish/journal'; It keeps the history of the executed commands and their time of execution. An unique identifier is associated with every command.</p>
  </dd>
  <dt>
    <p><strong>-J</strong></p>
  </dt>
  <dd>
    <p>Record the invoked command and the spawned processes as well; Write into the journal file the executed command as well as the single processes spawned and their time of execution.</p>
  </dd>
  <dt>
    <p><strong>-o</strong> &lt;file&gt;</p>
  </dt>
  <dd>
    <p>File with command line options passed to the program - default is '$HOME/.dish/options'; The options must be written in the file separated - one per line. By means of this file, one can modify the standard configuration: set up fork mode to be default, change the default connector, and so forth. When working in "copy mode", i.e. by invoking the program as 'dicp', '$HOME/.dish/options.dicp' is considered to be the default options file.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>enable expect's diagnostic output (look at `man expect')</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Debug mode (dry-run); Print out environment variables, config file names, and commands to execute, then exit. This option should be used as first in the command line.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>You should consider that the variables $host and $user are evaluated. Thus $host changes dynamically its value to the actual host/account name before a new process is spawned. The same is true for $user.</p><p>a) Check the date and uptime on hosts 192.168.0.1 and 192.168.0.2</p><ul>
<li><p>dish -e 'date &#92;; uptime' root@192.168.0.1 root@192.168.0.2</p></li>
</ul><p>b) Distribute '.profile' and '.bashrc' to guest accounts on 'host1' and 'host2'</p><ul>
<li><p>dish -E "scp $HOME/.profile $HOME/.bashrc guest@&#92;$host:" host1 host2</p></li><li><p>or</p></li><li><p>dicp -e "$HOME/.profile $HOME/.bashrc guest@:" host1 host2</p></li><li><p>or</p></li><li><p>dicp -g "host1 host2" $HOME/.profile $HOME/.bashrc guest@:</p></li><li><p>or</p></li><li><p>dicp -g "guest@host1 guest@host2" $HOME/.profile $HOME/.bashrc :</p></li>
</ul><p>c) Copy remote '.profile' files into the local directory on localhost</p><ul>
<li><p>dicp -g "guest@host1 guest@host2 admin@host2" :.profile .profile.&#92;$host</p></li><li><p>Here, the name of the target file (local file) will include the remote account name in order that the local files have unique names.</p></li>
</ul><p>d) Use `ssh' to login on 'host1' and copy from there '.profile' to 'host2'</p><ul>
<li><p>Since the list of hosts can not be empty, a dummy host is used to initiate the process. The `-t' option is necessary to force pseudo-tty allocation in `ssh', otherwise `ssh' will fail with error on login. A second password (a1-password) is required for scp-authentication on 'host2':</p></li><li><p>dish -a '' -E 'ssh -t user1@host1 scp .profile user2@host2:' dummy_host</p></li><li><p>In case the password of 'user1' and 'user2' is the same, you will be asked only once for a login password for user1@host1 if you use `-p1':</p></li><li><p>dish -p1 -E 'ssh -t user1@host1 scp .profile user2@host2:' dummy_host</p></li><li><p>Or equivalently, and more simple:</p></li><li><p>dish -p1 -t -e 'scp .profile user2@host2:' user1@host1</p></li>
</ul><p>e) Substitute lines with `START_XNTPD=' by `START_XNTPD="yes"' in /etc/rc.config</p><ul>
<li><p>This command is executed as root user on every host listed in 'Hosts.root':</p></li><li><p>dish -u root -E 'ssh $user@$host "perl -pi -e &#92;"s/^START_XNTPD=.*&#92;$/START_XNTPD=&#92;&#92;&#92;"yes&#92;&#92;&#92;"/g;&#92;" /etc/rc.config"' -g Hosts.root</p></li>
</ul><p>f) Freeze accounts of users on a termination list</p><ul>
<li><p>By using a script called `FreezeUser.sh', all accounts of users found on 'Terminate.User.lst' will be frozen today at 24:00 o'clock on both server groups as defined in files 'Hosts.1' and 'Hosts.2':</p></li><li><p>dish -E 'ssh root@$host "cat Terminate.User.lst | while read UN; do echo &#92;"su - admin -c &#92;&#92;&#92;$HOME/bin/FreezeUser.sh &#92;$UN&#92;" | at 24:00 ; done"' -g Hosts.1 -g Hosts.2</p></li>
</ul><p>g) Print out remote configuration file of an automounter</p><ul>
<li><p>Login as 'admin' user on host 192.168.0.1, switch to 'root', then cat the file '/etc/auto.net' and print out the date. The `-a' option causes the program to ask you for the root-password on remote host:</p></li><li><p>dish -u admin -a '' -E 'rsh -l $user $host su - root -c &#92;"cat /etc/auto.net&#92;; date&#92;"' 192.168.0.1</p></li>
</ul><p>h) Install a package on Debian GNU/Linux hosts</p><ul>
<li><p>After mounting a fileserver over samba, install from there a debian dish-package on all running servers, yet skip hosts on maintenance. Three different passwords are needed for authentication - one for login, next for su-root, and the last for mounting the fileserver:</p></li><li><p>dish -a0 -a1 -a2 -g Debian.up -r Debian.maint -e 'su - -c &#92;"mount -t smbfs //FILESERVER/Packages.Dir /mnt/smb ; dpkg -i /mnt/smb/dish_1.19.1_all.deb&#92;"'</p></li>
</ul><p>i) Check for system load &gt;2 using default 'hosts' and 'pass' config files</p><ul>
<li><p>dish '(uptime |egrep &#92;" (&#92;[2-9&#92;]|1&#92;[0-9&#92;])&#92;&#92;.&#92;" && hostname) |paste - -'</p></li>
</ul><p>j) Query a MySQL database on remote host 10.0.0.1</p><ul>
<li><p>dish -pp -c 'mysql -p -u $user -h' -e 'use mysql; show tables; describe user;' -u root 10.0.0.1</p></li>
</ul><p>k) Change password concurrently on all hosts/accounts</p><ul>
<li><p>We assume that the list of user accounts is contained in file 'Accounts.lst', whereas an entry in the list is of the form "user@hostname". After command execution, you will be asked first for the login password (old password), and then for the new password which eventually have to retyped correctly:</p></li><li><p>dish -p '' -n '' -e passwd -g Accounts.lst</p></li><li><p>Or alternatively, processing concurrently and quietly all hosts:</p></li><li><p>dish -pp -nn -f -Q -e passwd -g Accounts.lst</p></li><li><p>When you want to change password and use `-nn', then the a1-password is implicitly set equal to the login password (a0-password).</p></li>
</ul><p>l) Change password from 'root' account (don't use the `-a0' option)</p><ul>
<li><p>If you are going to change the root-password on 'remotehost', then try:</p></li><li><p>dish -nn -e passwd root@remotehost</p></li><li><p>The same as previous, but login as user 'admin' (login password), then switch to 'root' (a1-password), and finally update the root-password:</p></li><li><p>dish -a1 -nn -e 'su -c passwd' admin@remotehost</p></li><li><p>Changing the password for 'admin' on 'localhost', after login as 'root' via `telnet', is done by:</p></li><li><p>dish -nn -c telnet -u root -e 'passwd admin' localhost</p></li>
</ul><p>Notice that for password change, when `-p ""' (or equivalently `-a0' or `-pp') is not explicitly used, the assumption is made that `passwd' will not ask for the old password, as in case of a password change by 'root'. The same is true also if you can login into an account without typing a password, but then `passwd' prompts you to type the old one - this situation occurs when one is using a ssh-key for login without password-authentication. For such scenario the correct choice of options is `-p0 -aa -nn'.</p><p>In case of properly prepared configuration files in '$HOME/.dish', one can use dish as a distributed shell for a virtual cluster of hosts, and run it without specifying any program parameters but merely issuing a command, as for instance `dish df -k /' or `dicp .profile :'.</p><p>As a very last note, one should be aware that in case of authentication by password, dish's automated login process is based on the expectation that the login prompt send to the terminal will include the case-insensitive regex-string `Password: *$' (but see also `-X'). Otherwise the authentication procedure will fail.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND KNOWN PROBLEMS</h2>
        <div class="sectioncontent">
<p>If Tcl is compiled with thread support, the program hangs when executed in parallel mode (options `-f' or `-F') - it seems to be a Tcl problem. Generally, at present Debian GNU/Linux (and other debian-based Linux distros as Ubuntu, Knoppix, etc.) pre-package Tcl with multi-thread support enabled. Therefore, on such systems dish fails to process hosts in parallel. In this case you can download the debian source package of Tcl, remove the option "--enable-threads" in \'debian/rules\', rebuild the package with `dpkg-buildpackage -rfakeroot', and eventually install it. It could be a good idea to put the freshly installed package on hold. Otherwise, you should recompile it on every tcl upgrade.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;gnu@mirendom.net&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2003-2013 Dimitar Ivanov</p><p>License: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</p><p>This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dicp&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/expect.1.html"><strong>expect</strong>(1)</a>, <strong>tcl</strong>(3), <strong>ssh</strong>(1), <strong>rsh</strong>(1), <strong>telnet</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dicomtonifti.1.html"><span aria-hidden="true">&larr;</span> dicomtonifti.1: Vtk-dicom cli</a></li>
   <li class="next"><a href="dict.1.html">dict.1: Dict protocol client <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
