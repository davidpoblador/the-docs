<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gnc-fq-helper: Allows gnucash to communicate with finance::quote</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Allows gnucash to communicate with finance::quote">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gnc-fq-helper (1) manual">
  <meta name="twitter:description" content="Allows gnucash to communicate with finance::quote">
  <meta name="twitter:image" content="https://www.carta.tech/images/gnucash-gnc-fq-helper-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/gnc-fq-helper.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gnc-fq-helper (1) manual" />
  <meta property="og:description" content="Allows gnucash to communicate with finance::quote" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gnucash-gnc-fq-helper-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gnc-fq-helper<small> (1)</small></h1>
        <p class="lead">Allows gnucash to communicate with finance::quote</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gnc-fq-helper.1.html">
      <span itemprop="name">gnc-fq-helper: Allows gnucash to communicate with finance::quote</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gnucash/">
      <span itemprop="name">gnucash</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gnc-fq-helper.1.html">
      <span itemprop="name">gnc-fq-helper: Allows gnucash to communicate with finance::quote</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>gnc-fq-helper</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Input: (on standard input - one entry per line and one line per entry, and double quotes must only be delimiters, not string content \*(-- remember, we don't have a real scheme parser on the perl side :&gt;).</p><p>(&lt;method-name&gt; symbol symbol symbol ...)</p><p>where &lt;method-name&gt; indicates the desired Finance::Quote method. The currently recognized subset is yahoo, yahoo_europe, fidelity_direct, troweprice_direct, vanguard, asx, tiaacref, and currency.</p><p>For currency quotes, the symbols alternate between the 'from' and 'to' currencies.</p><p>For example:</p><p>(yahoo \*(L"\s-1IBM\s0\*(R" \*(L"\s-1LNUX\s0\*(R") (fidelity_direct \*(L"\s-1FBIOX\s0\*(R" \*(L"\s-1FSELX\s0\*(R") (currency \*(L"\s-1USD\s0\*(R" \*(L"\s-1AUD\s0\*(R")</p><p>Output (on standard output, one output form per input line):</p><p>Schemified version of gnc-fq's output, basically an alist of alists, as in the example below.  Right now, only the fields that this script knows about (and knows how to convert to scheme) are returned, so the conversion function will have to be updated whenever Finance::Quote changes.  Currently you'll get symbol, gnc:time-no-zone, and currency, and either last, nav, or price. Fields with gnc: prefixes are non-Finance::Quote fields. gnc:time-no-zone is returned as a string of the form \*(L"YYYY-MM-DD \s-1HH:MM:SS\s0\*(R", basically the unmolested (and underspecified) output of the quote source.  It's up to you to know what it's proper timezone really is.  i.e. if you know the time was in America/Chicago, you'll need to convert it to that.</p><p>For example:</p>
<pre>
 $ echo &apos;(yahoo "CSCO" "JDSU" "^IXIC")&apos; | ./gnc-fq-helper
(("CSCO" (symbol . "CSCO")
         (gnc:time-no-zone . "2001-03-13 19:27:00")
         (last . 20.375)
         (currency . "USD"))
 ("JDSU" (symbol . "JDSU")
         (gnc:time-no-zone . "2001-03-13 19:27:00")
         (last . 23.5625)
         (currency . "USD"))
("^IXIC" (symbol . ^IXIC)
         (gnc:time-no-zone . 2002-12-04 17:16:00)
         (last . 1430.35)
         (currency . failed-conversion)))
</pre>
<p>On error, the overall result may be #f, or on individual errors, the list sub-item for a given symbol may be #f, like this:</p><p> $ echo &apos;(yahoo "CSCO" "JDSU")&apos; | ./gnc-fq-helper (#f  ("JDSU" (symbol . "JDSU")          (gnc:time-no-zone . "2001-03-13 19:27:00")          (last . 23.5625)          (currency . "USD")))</p><p>further, errors may be stored with each quote as indicated in Finance::Quote, and whenever the conversion to scheme data fails, the field will have the value 'failed-conversion, and accordingly this symbol will never be a legitimate conversion.</p><p>Exit status</p><p>0 - success non-zero - failure</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gnc-fq-dump.1.html"><span aria-hidden="true">&larr;</span> gnc-fq-dump.1: Gnc-fq-dump	- print out data from the f::q module</a></li>
   <li class="next"><a href="gnee.1.html">gnee.1: Record, replays or distributes x11 data <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
