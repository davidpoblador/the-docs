<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>btt: Analyse block i/o traces produces by blktrace</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Analyse block i/o traces produces by blktrace">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="btt (1) manual">
  <meta name="twitter:description" content="Analyse block i/o traces produces by blktrace">
  <meta name="twitter:image" content="https://www.carta.tech/images/blktrace-btt-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/btt.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="btt (1) manual" />
  <meta property="og:description" content="Analyse block i/o traces produces by blktrace" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/blktrace-btt-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">btt<small> (1)</small></h1>
        <p class="lead">Analyse block i/o traces produces by blktrace</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/btt.1.html">
      <span itemprop="name">btt: Analyse block i/o traces produces by blktrace</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/blktrace/">
      <span itemprop="name">blktrace</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/btt.1.html">
      <span itemprop="name">btt: Analyse block i/o traces produces by blktrace</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>btt</strong></p><p>[ -a               | --seek-absolute ]</p><p>[ -A               | --all-data ]</p><p>[ -B &lt;<em>output name</em>&gt; | --dump-blocknos=&lt;<em>output name</em>&gt; ]</p><p>[ -d &lt;<em>seconds</em>&gt;     | --range-delta=&lt;<em>seconds</em>&gt; ]</p><p>[ -D &lt;<em>dev;...</em>&gt;     | --devices=&lt;<em>dev;...</em>&gt; ]</p><p>[ -e &lt;<em>exe,...</em>&gt;     | --exes=&lt;<em>exe,...</em>&gt;  ]</p><p>[ -h               | --help ]</p><p>[ -i &lt;<em>input name</em>&gt;  | --input-file=&lt;<em>input name</em>&gt; ]</p><p>[ -I &lt;<em>output name</em>&gt; | --iostat=&lt;<em>output name</em>&gt; ]</p><p>[ -l &lt;<em>output name</em>&gt; | --d2c-latencies=&lt;<em>output name</em>&gt; ]</p><p>[ -L &lt;<em>freq</em>&gt;        | --periodic-latencies=&lt;<em>freq</em>&gt; ]</p><p>[ -m &lt;<em>output name</em>&gt; | --seeks-per-second=&lt;<em>output name</em>&gt; ]</p><p>[ -M &lt;<em>dev map</em>&gt;     | --dev-maps=&lt;<em>dev map</em>&gt;</p><p>[ -o &lt;<em>output name</em>&gt; | --output-file=&lt;<em>output name</em>&gt; ]</p><p>[ -p &lt;<em>output name</em>&gt; | --per-io-dump=&lt;<em>output name</em>&gt; ]</p><p>[ -P &lt;<em>output name</em>&gt; | --per-io-trees=&lt;<em>output name</em>&gt; ]</p><p>[ -q &lt;<em>output name</em>&gt; | --q2c-latencies=&lt;<em>output name</em>&gt; ]</p><p>[ -Q &lt;<em>output name</em>&gt; | --active-queue-depth=&lt;<em>output name</em>&gt; ]</p><p>[ -r               | --no-remaps ]</p><p>[ -s &lt;<em>output name</em>&gt; | --seeks=&lt;<em>output name</em>&gt; ]</p><p>[ -S &lt;<em>interval</em>&gt;    | --iostat-interval=&lt;<em>interval</em>&gt; ]</p><p>[ -t &lt;<em>sec</em>&gt;         | --time-start=&lt;<em>sec</em>&gt; ]</p><p>[ -T &lt;<em>sec</em>&gt;         | --time-end=&lt;<em>sec</em>&gt; ]</p><p>[ -u &lt;<em>output name</em>&gt; | --unplug-hist=&lt;<em>output name</em>&gt; ]</p><p>[ -v               | --verbose ]</p><p>[ -V               | --version ]</p><p>[ -X               | --easy-parse-avgs ]</p><p>[ -z &lt;<em>output name</em>&gt; | --q2d-latencies=&lt;<em>output name</em>&gt; ]</p><p>[ -Z               | --do-active ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>btt is a post-processing tool for the block layer IO tracing tool called <a href="../man8/blktrace.8.html"><strong>blktrace</strong>(8)</a>.  As noted in its documentation, blktrace is a block layer IO tracing mechanism which provides detailed information about request queue operations up to user space.</p><p>btt will take in binary dump data from blkparse, and analyse the events, producing a series of output from the analysis. It will also build .dat files containing "range data" -- showing things like Q activity (periods of time while Q events are being produced), C activity (likewise for command completions), and etc.</p><p>Included with the distribution is a simple 3D plotting utility, <em>bno_plot</em>, which can plot the block numbers btt outputs if the <em>-B</em> option is specified. The display will display each IO generated, with the time (seconds) along the X-axis, the block number (start) along the Y-axis and the number of blocks transferred in the IO represented along the Z-axis.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-a</strong></p><p><strong>--seek-absolute</strong></p><p>When specified on the command line, this directs btt to calculate seek distances based solely upon the ending block address of one IO, and the start of the next.  By default <strong>btt</strong> uses the concept of the closeness to either the beginning or end of the previous IO. See the Users Manual for more details about seek distances.</p><p><strong>-A</strong></p><p><strong>--all-data</strong></p><p>Normally <strong>btt</strong> will not print out verbose information concerning per-process and per-device data.  If you desire that level of detail you can specify this option.</p><p><strong>-B &lt;</strong><em>output name</em>&gt;</p><p><strong>--dump-blocknos=&lt;</strong><em>output name</em>&gt;</p><p>This option will output absolute block numbers to three files prefixed by the specified output name: <em>prefix_device_r.dat</em></p><p>All read block numbers are output, first column is time (seconds), second is the block number, and the third column is the ending block number. <em>prefix_device_w.dat</em></p><p>All write block numbers are output, first column is time (seconds), second is the block number, and the third column is the ending block number. <em>prefix_device_c.dat</em></p><p>All block numbers (read and write) are output, first column is time (seconds), second is the block number, and the third column is the ending block number.</p><p><strong>-d &lt;</strong><em>seconds</em>&gt;</p><p><strong>--range-delta=&lt;</strong><em>seconds</em>&gt;</p><p><strong>btt</strong> outputs a file containing Q and C activity, the notion of active traces simply means that there are Q or C traces occurring within a certain period of each other. The default values is 0.1 seconds; with this option allowing one to change that granularity. The smaller the value, the more data points provided.</p><p><strong>-D &lt;</strong><em>dev;...</em>&gt;</p><p><strong>--devices=&lt;</strong><em>dev;...</em>&gt;</p><p>Normally, <strong>btt</strong> will produce data for all devices detected in the traces parsed. With this option, one can reduce the analysis to one or more devices provided in the string passed to this option. The device identifiers are the major and minor number of each device, and each device identifier is separated by a colon (:). A valid specifier for devices 8,0 and 8,8 would then be: <em>8,0:8,8</em>.</p><p><strong>-e &lt;</strong><em>exe,...</em>&gt;</p><p><strong>--exes=&lt;</strong><em>exe,...</em>&gt;</p><p>The -e option supplies the list of executables that will have I/Os analysed.</p><p><strong>-h</strong></p><p><strong>--help</strong></p><p>Shows a short summary of possible command line option</p><p><strong>-i &lt;</strong><em>input name</em>&gt;</p><p><strong>--input-file &lt;</strong><em>input file</em>&gt;</p><p>Specifies the input file to analyse.  This should be a trace file produced by <em>blktrace</em> (8).</p><p><strong>-I &lt;</strong><em>output name</em>&gt;</p><p><strong>--iostat=&lt;</strong><em>output name</em>&gt;</p><p>The -I option directs btt to output iostat-like data to the specified file.  Refer to the iostat (sysstat) documentation for details on the data columns.</p><p><strong>-l &lt;</strong><em>output name</em>&gt;</p><p><strong>--d2c-latencies=&lt;</strong><em>output name</em>&gt;</p><p>The -l option allows one to output per-IO D2C latencies respectively. The supplied argument provides the basis for the output name for each device.</p><p><strong>-L &lt;</strong><em>freq</em>&gt;</p><p><strong>--periodic-latencies=&lt;</strong><em>freq</em>&gt;</p><p>The -L option allows one to output periodic latency information for both Q2C and D2C latencies. The frequency specified will regulate how often an average latency is output -- a floating point value expressing seconds.</p><p><strong>-m &lt;</strong><em>output name</em>&gt;</p><p><strong>--seeks-per-second=&lt;</strong><em>output name</em>&gt;</p><p>Trigger btt to output seeks-per-second information. The first column will contain a time value (seconds), and the second column  will indicate the number of seeks per second at that point.</p><p><strong>-M &lt;</strong><em>dev map</em>&gt;</p><p><strong>--dev-maps=&lt;</strong><em>dev map</em>&gt;</p><p>The -M option takes in a file generated by the provided script (gen_disk_info.py), and allows for better output of device names.</p><p><strong>-o &lt;</strong><em>output name</em>&gt;</p><p><strong>--output-file=&lt;</strong><em>output name</em>&gt;</p><p>Specifies the output file name.</p><p><strong>-p &lt;</strong><em>output name</em>&gt;</p><p><strong>--per-io-dump=&lt;</strong><em>output name</em>&gt;</p><p>The -p option will generate a file that contains a list of all IO "sequences" - showing the parts of each IO (Q, A, I/M, D, & C).</p><p><strong>-P &lt;</strong><em>output name</em>&gt;</p><p><strong>--per-io-trees=&lt;</strong><em>output name</em>&gt;</p><p>The -P option will generate a file that contains a list of all IO "sequences" - showing only the Q, D & C operation times. The D & C time values are separated from the Q time values with a vertical bar.</p><p><strong>-q &lt;</strong><em>output name</em>&gt;</p><p><strong>--q2c-latencies=&lt;</strong><em>output name</em>&gt;</p><p>The -q option allows one to output per-IO Q2C latencies respectively. The supplied argument provides the basis for the output name for each device.</p><p><strong>-Q &lt;</strong><em>output name</em>&gt;</p><p><strong>--active-queue-depth=&lt;</strong><em>output name</em>&gt;</p><p>The -Q option allows one to output data files showing the time stamp and the depth of active commands (those issued but not completed).</p><p><strong>-r</strong></p><p><strong>--no-remaps</strong></p><p>Ignore remap traces; older kernels did not implement the full remap PDU.</p><p><strong>-s &lt;</strong><em>output name</em>&gt;</p><p><strong>--seeks=&lt;</strong><em>output name</em>&gt;</p><p>The -s option instructs btt to output seek data, the argument provided is the basis for file names output. There are two files per device, read seeks and write seeks.</p><p><strong>-S &lt;</strong><em>interval</em>&gt;</p><p><strong>--iostat-interval=&lt;</strong><em>interval</em>&gt;</p><p>The -S option specifies the interval to use between data output, it defaults to once per second.</p><p><strong>-t &lt;</strong><em>sec</em>&gt;</p><p><strong>--time-start=&lt;</strong><em>sec</em>&gt;</p><p><strong>-T &lt;</strong><em>sec</em>&gt;</p><p><strong>--time-end=&lt;</strong><em>sec</em>&gt;</p><p>The -t/-T options allow one to set a start and/or end time for analysing - analysing will only be done for traces after -t's argument and before -T's argument. (-t and -T are optional, so if you specify just -t, analysis will occur for all traces after the time specified. Similarly, if only -T is specified, analysis stops after -T's seconds.)</p><p><strong>-u &lt;</strong><em>output name</em>&gt;</p><p><strong>--unplug-hist=&lt;</strong><em>output name</em>&gt;</p><p>This option instructs <strong>btt</strong> to generate a data file containing histogram information for unplug traces on a per device basis. It shows how many times an unplug was hit with a specified number of IOs released. There are 21 output values into the file, as follows:</p><p>a value of 0 represents 0..4 counts</p><p>a value of 1 represents 5..9 counts</p><p>a value of 2 represents 10..14 counts</p><p>etc, until</p><p>a value of 20 represents 100+ counts</p><p>The file name(s) generated use the text string passed as an argument for the prefix, followed by the device identifier in <em>major,minor</em> form, with a <em>.dat</em> extension.  For example, with <em>-u</em> up_hist specified on the command line: <em>up_hist_008,032.dat</em>.</p><p><strong>-V</strong></p><p><strong>--version</strong></p><p>Shows the version of btt.</p><p><strong>-v</strong></p><p><strong>--verbose</strong></p><p>Requests a more verbose output.</p><p><strong>-X</strong></p><p><strong>--easy-parse-avgs</strong></p><p>Provide data in an easy-to-parse form and write it to a file with .avg exentsion</p><p><strong>-z &lt;</strong><em>output name</em>&gt;</p><p><strong>--q2d-latencies=&lt;</strong><em>output name</em>&gt;</p><p>The -z option allows one to output per-IO Q2D latencies respectively. The supplied argument provides the basis for the output name for each device.</p><p><strong>-Z</strong></p><p><strong>--do-active</strong></p><p>The -Z will output files containing data which can be plotted showing per-device (and total system) I/O activity.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><em>btt</em> was written by Alan D. Brunelle.  This man page was created from the <em>blktrace</em> documentation by Bas Zoetekouw.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;linux-btrace@vger.kernel.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2006 Jens Axboe, Alan D. Brunelle and Nathan Scott.</p><p>This is free software.  You may redistribute copies of it under the terms of the GNU General Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;. There is NO WARRANTY, to the extent permitted by law.</p><p>This manual page was created for Debian by Bas Zoetekouw.  It was derived from the documentation provided by the authors and it may be used, distributed and modified under the terms of the GNU General Public License, version 2.</p><p>On Debian systems, the text of the GNU General Public License can be found in /usr/share/common-licenses/GPL-2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO btt&hellip;</h2>
        <div class="sectioncontent">
<p>The btt Users Guide, which can be found in /usr/share/doc/blktrace/btt.pdf</p><p>bno_plot (1), blktrace (8), blkparse (1), verify_blkparse (1), blkrawverify (1), btt (1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="btshowmetainfo.bittorrent.1.html"><span aria-hidden="true">&larr;</span> btshowmetainfo.bittorrent.1: Display information in bittorrent files</a></li>
   <li class="next"><a href="bttrack.bittornado.1.html">bttrack.bittornado.1: Bttrack  bittorrent tracker <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
