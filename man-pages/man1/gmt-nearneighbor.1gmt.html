<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nearneighbor: A "nearest neighbor" gridding algorithm</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A "nearest neighbor" gridding algorithm">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nearneighbor (1gmt) manual">
  <meta name="twitter:description" content="A "nearest neighbor" gridding algorithm">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-nearneighbor-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/gmt-nearneighbor.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nearneighbor (1gmt) manual" />
  <meta property="og:description" content="A "nearest neighbor" gridding algorithm" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-nearneighbor-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nearneighbor<small> (1gmt)</small></h1>
        <p class="lead">A "nearest neighbor" gridding algorithm</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/nearneighbor.1gmt.html">
      <span itemprop="name">nearneighbor: A "nearest neighbor" gridding algorithm</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt/">
      <span itemprop="name">gmt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/nearneighbor.1gmt.html">
      <span itemprop="name">nearneighbor: A "nearest neighbor" gridding algorithm</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nearneighbor</strong> [ <em>xyzfile(s)</em> ] <strong>-G</strong><em>out_grdfile</em> <strong>-I</strong><em>x_inc</em>[<strong>m|c</strong>][/<em>y_inc</em>[<strong>m|c</strong>]] <strong>-N</strong><em>sectors</em> <strong>-R</strong><em>west/east/south/north</em>[<strong>r</strong>] <strong>-S</strong><em>search_radius</em>[<strong>m|c|k|K</strong>] [ <strong>-E</strong><em>empty</em> ] [ <strong>-F</strong> ] [ <strong>-H</strong>[<em>nrec</em>] ] [ <strong>-L</strong>[<em>flag</em>] ] [ <strong>-V</strong> ] [ <strong>-W</strong> ] [ <strong>-:</strong> ] [ <strong>-bi</strong>[<strong>s</strong>][<em>n</em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>nearneighbor</strong> reads arbitrarily located (x,y,z[,w]) triples [quadruplets] from standard input [or <em>xyzfile(s)</em>] and uses a nearest neighbor algorithm to assign an average value to each node that have one or more points within a radius centered on the node. The average value is computed as a weighted mean of the nearest point from each sector inside the search radius. The weighting function used is w(r) = 1.0 / (1 + d ^ 2), where d = 3 * r / search_radius and r is distance from the node. This weight is modulated by the observation points' weights [if supplied].'</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>xyzfile(s)</em></p>
  </dt>
  <dd>
    <p>3 [or 4, see <strong>-W</strong>] column ASCII file(s) [or binary, see <strong>-b</strong>] holding (x,y,z[,w]) data values. If no file is specified, <strong>nearneighbor</strong> will read from standard input.</p>
  </dd>
  <dt>
    <p><strong>-G</strong></p>
  </dt>
  <dd>
    <p>Give the name of the output grdfile.</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p><em>x_inc</em> [and optionally <em>y_inc</em>] is the grid spacing. Append <strong>m</strong> to indicate minutes or <strong>c</strong> to indicate seconds.</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>The circular area centered on each node is divided into several sectors. Average values will only be computed if there is at least one value inside each of the sectors for a given node. Nodes that fail this test are assigned the value NaN (but see <strong>-E</strong>). [Default is quadrant search, i.e., <em>sectors</em> = 4]. Note that only the nearest value per sector enters into the averaging, not all values inside the circle.</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p><em>west, east, south,</em> and <em>north</em> specify the Region of interest. To specify boundaries in degrees and minutes [and seconds], use the dd:mm[:ss] format. Append <strong>r</strong> if lower left and upper right map coordinates are given instead of wesn.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Sets the <em>search_radius</em> in same units as the grid spacing; append <strong>m</strong> to indicate minutes or <strong>c</strong> to indicate seconds. Append <strong>k</strong> to indicated km (implies <strong>-R -I</strong> are in degrees); use uppercase <strong>K</strong> if distances should be calculated using great circles [<strong>k</strong> uses flat Earth].</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-E</strong></p>
  </dt>
  <dd>
    <p>Set the value assigned to empty nodes [NaN].</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Force pixel registration. [Default is grid registration].</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>Input file(s) has Header record(s). Number of header records can be changed by editing your .gmtdefaults file. If used, <strong>GMT</strong> default is 1 header record. Not used with binary data.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Boundary condition <em>flag</em> may be <em>x</em> or <em>y</em> or <em>xy</em> indicating data is periodic in range of x or y or both set by <strong>-R</strong>, or <em>flag</em> may be <em>g</em> indicating geographical conditions (x and y are lon and lat). [Default is no boundary conditions]. If no flag is given, it is assumed that the x column contains longitudes, which may differ from the region in <strong>-R</strong> by [multiples of] 360 degrees [Default assumes no periodicity].</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Selects verbose mode, which will send progress reports to stderr [Default runs "silently"].</p>
  </dd>
  <dt>
    <p><strong>-:</strong></p>
  </dt>
  <dd>
    <p>Toggles between (longitude,latitude) and (latitude,longitude) input/output. [Default is (longitude,latitude)]. Applies to geographic coordinates only.</p>
  </dd>
  <dt>
    <p><strong>-W</strong></p>
  </dt>
  <dd>
    <p>Input data have a 4th column containing observation point weights. These are multiplied with the geometrical weight factor to determine the actual weights used in the calculations.</p>
  </dd>
  <dt>
    <p><strong>-bi</strong></p>
  </dt>
  <dd>
    <p>Selects binary input. Append <strong>s</strong> for single precision [Default is double]. Append <em>n</em> for the number of columns in the binary file(s). [Default is 3 (or 4 if <strong>-W</strong> is set) columns].</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To create a gridded data set from the file seaMARCII_bathy.lon_lat_z using a 0.5 min grid, a 5 km search radius, using an octant search, and set empty nodes to -9999, try</p><p>nearneighbor seaMARCII_bathy.lon_lat_z <strong>-R</strong>242/244/-22/-20 <strong>-I</strong>.5<strong>m -E</strong>-9999 <strong>-G</strong>bathymetry.grd <strong>-S</strong>5k <strong>-N</strong>8</p><p>To make a global gridded file from the data in geoid.xyz using a 1 degree grid, a 200 km search radius, spherical distances, using an quadrant search, and set empty nodes to NaN, try</p><p>nearneighbor geoid.xyz <strong>-R</strong>0/360/-90/90 <strong>-I</strong>1 <strong>-L</strong>g <strong>-G</strong>geoid.grd <strong>-S</strong>20K <strong>-N</strong>4</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nearneighbor&hellip;</h2>
        <div class="sectioncontent">
<p><em>blockmean</em>(1gmt), <em>blockmedian</em>(1gmt), <em>blockmode</em>(1gmt), <em>gmt</em>(1gmt), <em>surface</em>(1gmt), <em>triangulate</em>(1gmt)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nc2xy.1gmt.html"><span aria-hidden="true">&larr;</span> nc2xy.1gmt: Converting netcdf column file(s) to ascii xy data</a></li>
   <li class="next"><a href="gmt-manpages-nearneighbor.1gmt.html">nearneighbor.1gmt: A "nearest neighbor" gridding algorithm <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
