<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dmail: Procmail mail delivery module</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Procmail mail delivery module">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dmail (1) manual">
  <meta name="twitter:description" content="Procmail mail delivery module">
  <meta name="twitter:image" content="https://www.carta.tech/images/uw-mailutils-dmail-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dmail.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dmail (1) manual" />
  <meta property="og:description" content="Procmail mail delivery module" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/uw-mailutils-dmail-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dmail<small> (1)</small></h1>
        <p class="lead">Procmail mail delivery module</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dmail.1.html">
      <span itemprop="name">dmail: Procmail mail delivery module</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/uw-mailutils/">
      <span itemprop="name">uw-mailutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dmail.1.html">
      <span itemprop="name">dmail: Procmail mail delivery module</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dmail</strong> <em>[-D] [-f from_name] [-s] [-k keyword_list] [user][+folder]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>dmail</em> delivers mail to a user's INBOX or a designated folder. <em>dmail</em> may be configured as a drop-in replacement for <strong>binmail</strong>(1), <strong>mail.local</strong>(1) for use with a mail delivery filter such as <strong>procmail</strong>(1)<em>.</em></p><p>Because of security considerations (see below) <em>dmail</em> is not intended to be used for direct delivery by the mailer daemon; <a href="../man1/tmail.1.html"><strong>tmail</strong>(1)</a> is the preferred tool for this purpose.  If <em>dmail</em> is used for mailer daemon delivery, the mailer daemon must invoke <em>dmail</em> with the <em>dmail</em> process' user id set to the recipient's user id.</p><p>When <em>dmail</em> exits, it returns exit status values to enable <strong>procmail</strong>(1) to determine whether a message was delivered successfully or had a temporary (requeue for later delivery) or permanent (return to sender) failure.</p><p>If the <em>user</em> name is present, it must be the same as the logged-in user name.</p><p>If the <em>+folder</em> extension is included in the user argument (or appears by itself if there is no user argument), <em>dmail</em> will attempt to deliver to the designated folder.  If the folder does not exist or the extension is not included, the message is delivered to the user's INBOX. If delivery is to INBOX and no INBOX currently exists, <em>dmail</em> will create a new INBOX. <em>dmail</em> recognizes the format of an existing INBOX or folder, and appends the new message in that format.</p><p>The <strong>-D</strong> flag specifies debugging; this enables additional message telemetry.</p><p>The <strong>-f</strong> or <strong>-r</strong> flag is used to specify a Return-Path.  The header</p>
<pre>
   Return-Path: &lt;<em>from_name</em>&gt;
</pre>
<p>is prepended to the message before delivery.</p><p>The <strong>-s</strong> flag specifies that the message will be flagged as being "seen".</p><p>The <strong>-k</strong> flag is used to specify delivery keywords, which are set on the message at delivery time if and <strong>only</strong> if the keywords are already defined in the mailbox.  Multiple keywords can be specified by using a quoted string, e.g.,</p>
<pre>
   dmail -k "$Junk Discard" +junkbox
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p>Absolute pathnames and <em>~user</em> specifications are not permitted in <em>+folder</em> extensions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY CONSIDERATIONS</h2>
        <div class="sectioncontent">
<p>Unlike <em>tmail</em> you can use <em>dmail</em> to deliver to IMAP4 namespace names via <em>+folder</em> extensions.  This means that it is possible to deliver to <em>mh</em>(1) format mailboxes.</p><p>However, this can also include such namespaces as #shared, #public, and #ftp.  In most cases, it is undesirable to allow anybody sending mail to the user to deliver to these namespaces.  Consequently, there needs to be a rule in place in the configuration of either <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a> or <strong>procmail</strong>(1) to prevent such abuse.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Mark Crispin, MRC@CAC.Washington.EDU</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dmail&hellip;</h2>
        <div class="sectioncontent">
<p><strong>binmail</strong>(1)</p><p><strong>procmail</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dm-tool.1.html"><span aria-hidden="true">&larr;</span> dm-tool.1: A tool to control the display manager</a></li>
   <li class="next"><a href="dmalloc.1.html">dmalloc.1: Program used to set the environment for debugging using the dmalloc debugging library. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
