<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>osmconvert: Converter of osm files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Converter of osm files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="osmconvert (1) manual">
  <meta name="twitter:description" content="Converter of osm files">
  <meta name="twitter:image" content="https://www.carta.tech/images/osmctools-osmconvert-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/osmconvert.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="osmconvert (1) manual" />
  <meta property="og:description" content="Converter of osm files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/osmctools-osmconvert-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">osmconvert<small> (1)</small></h1>
        <p class="lead">Converter of osm files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/osmconvert.1.html">
      <span itemprop="name">osmconvert: Converter of osm files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/osmctools/">
      <span itemprop="name">osmctools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/osmconvert.1.html">
      <span itemprop="name">osmconvert: Converter of osm files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>osmconvert</strong> <em>options</em> [<em>inputÂ file</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program reads different file formats of the OpenStreetMap project and converts the data to the selected output file format.</p><h3>These formats can be read:</h3>

<dl class='dl-vertical'>
  <dt>
    <p>.osm .osc .osc.gz .osh .o5m .o5c .pbf</p>
  </dt>
  <dd>
    
  </dd>

</dl>

<h3>These formats can be written:</h3>

<dl class='dl-vertical'>
  <dt>
    <p>.osm (default) .osc .osh .o5m .o5c .pbf</p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Names of input files must be specified as command line parameters. Use - to read from standard input. You do not need to specify the input formats, osmconvert will recognize them by itself. The output format is .osm by default. If you want a different format, please specify it using the appropriate command line parameter.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-b=</strong>&lt;x1&gt;,&lt;y1&gt;,&lt;x2&gt;,&lt;y2&gt;</p><ul>
<li><p>If you want to limit the geographical region, you can define a bounding box. To do this, enter the southwestern and the northeastern corners of that area. For example: <strong>-b</strong>=-0.5,51,0.5,52</p></li>
</ul><p><strong>-B=</strong>&lt;border_polygon&gt;</p><ul>
<li><p>Alternatively to a bounding box you can use a border polygon to limit the geographical region. The format of a border polygon file can be found in the OSM Wiki at Polygon_Filter_File_Format : http://wiki.openstreetmap.org/wiki/Osmosis/</p><p>You do not need to strictly follow the format description, you must ensure that every line of coordinates starts with blanks.</p></li>
</ul><p><strong>--complete-ways</strong></p><ul>
<li><p>If applying a border box or a border polygon, all nodes the borders are excluded; even then if they belong to a way which is not entirely excluded because it has some nodes inside the borders. This option will ensure that every way stays complete, even it it intersects the borders. This will result in slower processing, and the program will loose its ability to read from standard input. It is recommended to use .o5m format as input format to compensate most of the speed disadvantage.</p></li>
</ul><p><strong>--complex-ways</strong></p><ul>
<li><p>Same as before, but multipolygons will not be cut at the borders too.</p></li>
</ul><p><strong>--all-to-nodes</strong></p><ul>
<li><p>Some applications do not have the ability to process ways or relations, they just accept nodes as input. However, more and more complex object are mapped as ways or even relations in order to get all their details into the database. Apply this option if you want to convert ways and relations to nodes and thereby make them available to applications which can only deal with nodes. For each way a node is created. The way's id is increased by 10^15 and taken as id for the new node. The node's longitude and latitude are set to the way's geographical center. Same applies to relations, however they get 2*10^15 as id offset.</p></li>
</ul><p><strong>--add-bbox-tags</strong></p><ul>
<li><p>This option adds a tag with a bounding box to each object. The tag will contain the border coordinates in this order: min Longitude, min Latitude, max Longitude , max Latitude. e.g.:  &lt;tag k="bBox" v="-0.5000,51.0000,0.5000,52.0000"/&gt;</p></li>
</ul><p><strong>--add-bboxarea-tags</strong></p><ul>
<li><p>A tag for an estimated area value for the bbox is added to each way and each relation. The unit is square meters. For example:  &lt;tag k="bBoxArea" v="33828002"/&gt;</p></li>
</ul><p><strong>--add-bboxweight-tags</strong></p><ul>
<li><p>This option will add the binary logarithm of the bbox area of each way and each relation. For example:  &lt;tag k="bBoxWeight" v="20"/&gt;</p></li>
</ul><p><strong>--object-type-offset=</strong>&lt;id offset&gt;</p><ul>
<li><p>If applying the <strong>--all-to-nodes</strong> option as explained above, you may adjust the id offset. For example: <strong>--object-type-offset</strong>=4000000000</p><p>By appending "+1" to the offset, the program will create ids in a sequence with step 1. This might be useful if the there is a subsequently running application which cannot process large id numbers. Example:</p><p><strong>--object-type-offset</strong>=1900000000+1</p></li>
</ul><p><strong>--drop-broken-refs</strong></p><ul>
<li><p>Use this option if you need to delete references to nodes which have been excluded because lying outside the borders (mandatory for some applications, e.g. Map Composer, JOSM).</p></li>
</ul><p><strong>--drop-author</strong></p><ul>
<li><p>For most applications the author tags are not needed. If you specify this option, no author information will be written: no changeset, user or timestamp.</p></li>
</ul><p><strong>--drop-version</strong></p><ul>
<li><p>If you want to exclude not only the author information but also the version number, specify this option.</p></li>
</ul><p><strong>--drop-nodes</strong> <strong>--drop-ways</strong> <strong>--drop-relations</strong></p><ul>
<li><p>According to the combination of these parameters, no members of the referred section will be written.</p></li>
</ul><p><strong>--diff</strong></p><ul>
<li><p>Calculate difference between two files and create a new .osc or .o5c file. There must be TWO input files and borders cannot be applied. Both files must be sorted by object type and id. Created objects will appear in the output file as "modified", unless having version number 1.</p></li>
</ul><p><strong>--diff-contents</strong></p><ul>
<li><p>Similar to <strong>--diff</strong>, this option calculates differences between two OSM files. Here, to determine the differences complete OSM objects are consulted, not only the version numbers. Unfortunately, this option strictly requires both input files to have .o5m format.</p></li>
</ul><p><strong>--subtract</strong></p><ul>
<li><p>The output file will not contain any object which exists in one of the input files following this directive. For example: osmconvert input.o5m <strong>--subtract</strong> minus.o5m <strong>-o</strong>=output.o5m</p></li>
</ul><p><strong>--emulate-osmosis</strong> <strong>--emulate-pbf2osm</strong></p><ul>
<li><p>In case of .osm output format, the program will try to use the same data syntax as Osmosis, resp. pbf2osm.</p></li>
</ul><p><strong>--fake-author</strong></p><ul>
<li><p>If you have dropped author information (<strong>--drop-author</strong>) that data will be lost, of course. Some programs however require author information on input although they do not need that data. For this purpose, you can fake the author information. osmconvert will write changeset 1, timestamp 1970.</p></li>
</ul><p><strong>--fake-version</strong></p><ul>
<li><p>Same as <strong>--fake-author</strong>, but - if .osm xml is used as output format - only the version number will be written (version 1). This is useful if you want to inspect the data with JOSM.</p></li>
</ul><p><strong>--fake-lonlat</strong></p><ul>
<li><p>Some programs depend on getting longitude/latitude values, even when the object in question shall be deleted. With this option you can have osmconvert to fake these values:</p><p>... lat="0" lon="0" ...</p><p>Note that this is for XML files only (.osc and .osh).</p></li>
</ul><p><strong>-h</strong></p><ul>
<li><p>Display a short parameter overview.</p></li>
</ul><p><strong>--help</strong></p><ul>
<li><p>Display this help.</p></li>
</ul><p><strong>--merge-versions</strong></p><ul>
<li><p>Some .osc files contain different versions of one object. Use this option to accept such duplicates on input.</p></li>
</ul><p><strong>--out-osm</strong></p><ul>
<li><p>Data will be written in .osm format. This is the default output format.</p></li>
</ul><p><strong>--out-osc</strong></p><ul>
<li><p>The OSM Change format will be used for output. Please note that OSM objects which are to be deleted will be represented by their ids only.</p></li>
</ul><p><strong>--out-osh</strong></p><ul>
<li><p>For every OSM object, the appropriate 'visible' tag will be added to meet 'full planet history' specification.</p></li>
</ul><p><strong>--out-o5m</strong></p><ul>
<li><p>The .o5m format will be used. This format has the same structure as the conventional .osm format, but the data are stored as binary numbers and are therefore much more compact than in .osm format. No packing is used, so you can pack .o5m files using every file packer you want, e.g. lzo, bz2, etc.</p></li>
</ul><p><strong>--out-o5c</strong></p><ul>
<li><p>This is the change file format of .o5m data format. All &lt;delete&gt; tags will not be performed as delete actions but converted into .o5c data format.</p></li>
</ul><p><strong>--out-pbf</strong></p><ul>
<li><p>For output, PBF format will be used.</p></li>
</ul><p><strong>--out-csv</strong></p><ul>
<li><p>A character separated list will be written to output. The default separator is Tab, the default columns are: type, id, name. You can change both by using the options <strong>--csv-separator=</strong> and <strong>--csv=</strong></p></li>
</ul><p><strong>--csv-headline</strong></p><ul>
<li><p>Choose this option to print a headline to csv output.</p></li>
</ul><p><strong>--csv-separator=</strong>&lt;sep&gt;</p><ul>
<li><p>You may change the default separator (Tab) to a different character or character sequence. For example: <strong>--csv-separator=</strong>"; "</p></li>
</ul><p><strong>--csv=</strong>&lt;columns&gt;</p><ul>
<li><p>If you want to have certain columns in your csv list, please specify their names as shown in this example: <strong>--csv=</strong>"@id name ref description" There are a few special column names for header data: @otype (object type 0..2), @oname (object type name), @id @lon, @lat, @version, @timestamp, @changeset, @uid, @user</p></li>
</ul><p><strong>--out-none</strong></p><ul>
<li><p>This will be no standard output. This option is for testing purposes only.</p></li>
</ul><p><strong>--timestamp=</strong>&lt;date_and_time&gt; <strong>--timestamp</strong>=NOW&lt;seconds_relative_to_now&gt;</p><ul>
<li><p>If you want to set the OSM timestamp of your output file, supply it with this option. Date and time must be formatted according OSM date/time specifications. For example: <strong>--timestamp=2011-01-31T23:59:30Z</strong> You also can supply a relative time in seconds, e.g. 24h ago: <strong>--timestamp=NOW-86400</strong></p></li>
</ul><p><strong>--out-timestamp</strong></p><ul>
<li><p>With this option set, osmconvert prints just the time stamp of the input file, nothing else.</p></li>
</ul><p><strong>--statistics</strong></p><ul>
<li><p>This option activates a statistics counter. The program will print statistical data to stderr.</p></li>
</ul><p><strong>--out-statistics</strong></p><ul>
<li><p>Same as <strong>--statistics</strong>, but the statistical data will be written to standard output.</p></li>
</ul><p><strong>-o=</strong>&lt;outfile&gt;</p><ul>
<li><p>Standard output will be rerouted to the specified file. If no output format has been specified, the program will rely  the file name extension.</p></li>
</ul><p><strong>-t=</strong>&lt;tempfile&gt;</p><ul>
<li><p>If borders are to be applied or broken references to be eliminated, osmconvert creates and uses two temporary files. This parameter defines their name prefix. The default value is "osmconvert_tempfile".</p></li>
</ul><p><strong>--parameter-file</strong>=<em>FILE</em></p><ul>
<li><p>If you want to supply one ore more command line arguments by a parameter file, please use this option and specify the file name. Within the parameter file, parameters must be separated by empty lines. Line feeds inside a parameter will be converted to spaces. Lines starting with "// " will be treated as comments.</p></li>
</ul><p><strong>-v</strong> <strong>--verbose</strong></p><ul>
<li><p>With activated 'verbose' mode, some statistical data and diagnosis data will be displayed. If <strong>-v</strong> resp. <strong>--verbose</strong> is the first parameter in the line, osmconvert will display all input parameters.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TUNING</h2>
        <div class="sectioncontent">
<p>To speed-up the process, the program uses some main memory for a hash table. By default, it uses 480 MB for storing a flag for every possible node, 90 for the way flags, and 30 relation flags. Every byte holds the flags for 8 ID numbers, i.e., in 480 MB the program can store 3840 million flags. As there are less than 1900 million IDs for nodes at present (July 2012), 240 MB would suffice. So, for example, you can decrease the hash sizes to e.g. 240, 30 and 2 MB using this option: <strong>--hash-memory</strong>=<em>240-30-2</em></p><p>But keep in mind that the OSM database is continuously expanding. For this reason the program-own default value is higher than shown in the example, and it may be appropriate to increase it in the future. If you do not want to bother with the details, you can enter the amount of memory as a sum, and the program will divide it by itself. For example: <strong>--hash-memory</strong>=<em>1000</em></p><p>These 1000 MiB will be split in three parts: 800 for nodes, 150 for ways, and 50 for relations.</p><p>Because we are taking hashes, it is not necessary to provide all the suggested memory; the program will operate with less hash memory too. But, in this case, the border filter will be less effective, i.e., some ways and some relations will be left in the output file although they should have been excluded. The maximum value the program accepts for the hash size is 4000 MiB; If you exceed the maximum amount of memory available on your system, the program will try to reduce this amount and display a warning message.</p><p>There is another temporary memory space which is used only for the conversion of ways and relations to nodes (option <strong>--all-to-nodes</strong>). This space is sufficient for up to 25 Mio. OSM objects, 400 MB of main memory are needed for this purpose, 800 MB if extended option <strong>--add-bbox-tags</strong> has been invoked. If this is not sufficient or if you want to save memory, you can configure the maximum number of OSM objects by yourself. For example: <strong>--max-objects</strong>=<em>35000000</em></p><p>The number of references per object is limited to 100,000. This will be sufficient for all OSM files. If you are going to create your own OSM files by converting shapefiles or other files to OSM format, this might result in way objects with more than 100,000 nodes. For this reason you will need to increase the maximum accordingly. Example: <strong>--max-refs</strong>=<em>400000</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>When extracting a geographical region (using <strong>-b</strong> or <strong>-B</strong>), the input file must contain the objects ordered by their type: first, all nodes, next, all ways, followed by all relations. Within each of these sections, the objects section must be sorted by their id in ascending order.</p><p>Usual .osm, .osc, .o5m, o5c and .pbf files adhere to this condition. This means that you do not have to worry about this limitation. osmconvert will display an error message if this sequence is broken.</p><p>If a polygon file for borders is supplied, the maximum number of polygon points is about 40,000.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>This program is for experimental use. Expect malfunctions and data loss. Do not use the program in productive or commercial systems.</p><p>There is NO WARRANTY, to the extent permitted by law. Please send any bug reports to markus.weber@gmx.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>\tosmconvert europe.pbf <strong>--drop-author</strong> &gt;europe.osm</p><p>\tosmconvert europe.pbf |gzip &gt;europe.osm.gz</p><p>\tbzcat europe.osm.bz2 |./osmconvert <strong>--out-pbf</strong> &gt;europe.pbf</p><p>\tosmconvert europe.pbf <strong>-B</strong>=<em>ch</em>.poly &gt;switzerland.osm</p><p>\tosmconvert switzerland.osm <strong>--out-o5m</strong> &gt;switzerland.o5m</p><p>\tosmconvert june_july.osc <strong>--out-o5c</strong> &gt;june_july.o5c</p><p>\tosmconvert june.o5m june_july.o5c.gz <strong>--out-o5m</strong> &gt;july.o5m</p><p>\tosmconvert sep.osm sep_oct.osc oct_nov.osc &gt;nov.osm</p><p>\tosmconvert northamerica.osm southamerica.osm &gt;americas.osm</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO osmconvert&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/osmfilter.1.html"><strong>osmfilter</strong>(1)</a>, <a href="../man1/osmupdate.1.html"><strong>osmupdate</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>osmconvert</strong> was written by Markus Weber</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="osm2pgsql.1.html"><span aria-hidden="true">&larr;</span> osm2pgsql.1: Openstreetmap data to postgresql converter.</a></li>
   <li class="next"><a href="osmfilter.1.html">osmfilter.1: The experimental osm filters data <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
