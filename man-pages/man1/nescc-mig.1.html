<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nescc-mig: Message interface generator for nesc</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Message interface generator for nesc">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nescc-mig (1) manual">
  <meta name="twitter:description" content="Message interface generator for nesc">
  <meta name="twitter:image" content="https://www.carta.tech/images/nescc-nescc-mig-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/nescc-mig.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nescc-mig (1) manual" />
  <meta property="og:description" content="Message interface generator for nesc" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nescc-nescc-mig-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nescc-mig<small> (1)</small></h1>
        <p class="lead">Message interface generator for nesc</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nescc-mig.1.html">
      <span itemprop="name">nescc-mig: Message interface generator for nesc</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nescc/">
      <span itemprop="name">nescc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nescc-mig.1.html">
      <span itemprop="name">nescc-mig: Message interface generator for nesc</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nescc-mig</strong> [any nescc option] [tool-specific options]</p>
<pre>
          [<strong>-o</strong> <em>output-file</em>] [<strong>-nescc=</strong><em>driver</em>]
          <em>tool</em> <em>msg-format-file</em> <em>message-type</em>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>nescc-mig</strong> is a tool to generate code to process nesC messages (which are specified by C types). The <em>tool</em> argument specifies what tool should be generated, the <em>message-type</em> specifies the C type of the message you wish to process and <em>msg-format-file</em> specifies a nesC file which uses that type. The message type must be defined with <strong>struct</strong> <em>message-type</em>, <strong>nx_struct </strong><em>message-type</em>, <strong>union</strong> <em>message-type</em>, <strong>nx_union </strong><em>message-type</em>.</p><p>When used with types whose layout is platform-dependent (i.e., not defined with <strong>nx_struct</strong> or <strong>nx_union</strong>), it is important to specify the correct <strong>nescc</strong> target architecture option (<strong>-fnesc-target=</strong><em>...</em>). If you are invoking <strong>nescc-mig</strong> indirectly via <strong>mig</strong>, you can use the <strong>ncc</strong> <strong>-target=</strong><em>...</em> option instead.</p><p>If an enum constant named <strong>AM_</strong><em>message_type</em> (with <em>message_type</em> capitalized) is found, then the value of that constant is assumed to be the active message type for <em>message-type</em>. If you need access to other constants from your nesC application, please consult the <strong>nescc-ncg</strong> man page.</p><p>The current tools are <strong>java</strong>, <strong>csharp</strong>, <strong>python</strong> and <strong>C</strong>, which generate java, C#, python and C code to encode and decode messages.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>You can pass any <strong>nescc</strong> option, as well as</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-o </strong><em>output-file</em></p>
  </dt>
  <dd>
    <p>Specify the file in which to output the generated code.</p>
  </dd>
  <dt>
    <p><strong>-nescc=</strong><em>driver</em></p>
  </dt>
  <dd>
    <p>Use <em>driver</em> instead of <strong>nescc</strong> to extract type layout information. For example, if you specify <strong>-nescc=ncc</strong>, you can use <strong>nescc-mig</strong> to extract type information from TinyOS applications (which are normally compiled with <strong>ncc</strong>).</p>
  </dd>
  <dt>
    <p>tool-specific options</p>
  </dt>
  <dd>
    <p>See below.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">JAVA TOOL</h2>
        <div class="sectioncontent">
<p>This tool generates a java class to encode or decode a nesC message, basing itself on the net.tinyos.message infrastructure. It accepts the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-java-classname=</strong><em>full-class-name</em></p>
  </dt>
  <dd>
    <p>This option is required and specifies the package and name of the generated class. If the <em>full-class-name</em> has no '.', then no package directive is included in the output.</p>
  </dd>
  <dt>
    <p><strong>-java-extends=</strong><em>class-name</em></p>
  </dt>
  <dd>
    <p>Specify the class the generated class will extend. The default is <strong>net.tinyos.message.Message</strong>.</p>
  </dd>

</dl>
<p>For each field <em>fname</em> of structure <em>message-type</em>, there are the following methods (the bit offset and size methods are useful for structures containing bitfields):</p><ul>
<li><p><strong>get_</strong><em>fname</em>: get field's value</p></li><li><p><strong>set_</strong><em>fname</em>: set field's value</p></li><li><p><strong>offsetBits_</strong><em>fname</em>: return bit offset of field in <em>message-type</em></p></li><li><p><strong>offset_</strong><em>fname</em>: return byte offset of field in <em>message-type</em></p></li><li><p><strong>sizeBits_</strong><em>fname</em>: return size in bits of field (not for arrays)</p></li><li><p><strong>size_</strong><em>fname</em>: return size in bytes of field (not for arrays) (absent if <em>fname</em> is a bitfield)</p></li><li><p><strong>isSigned_</strong><em>fname</em>: return true if <em>fname</em> is of a signed type</p></li><li><p><strong>isArray_</strong><em>fname</em>: return true if <em>fname</em> is an array</p></li>
</ul><p>Embedded structures in <em>message-type</em> are expanded, using _ to separate the structure name and its fields.</p><p>A number of extra methods are present for fields that are arrays:</p><ul>
<li><p><strong>getElement_</strong><em>fname</em>: get an element of the array</p></li><li><p><strong>setElement_</strong><em>fname</em>: set an element of the array</p></li><li><p><strong>elementSize_</strong><em>fname</em>: return size in bytes of array elements</p></li><li><p><strong>elementSizeBits_</strong><em>fname</em>: return size in bits of array elements</p></li><li><p><strong>numDimensions_</strong><em>fname</em>: return number of dimensions of the array</p></li><li><p><strong>numElements_</strong><em>fname</em>: return number of elements of the array for a given dimension (left-most dimension is numbered 0) - the dimension is optional for 1-dimensional arrays</p></li><li><p><strong>totalSize_</strong><em>fname</em>: return size in bytes of the array (absent if the array is variable-size)</p></li><li><p><strong>totalSizeBits_</strong><em>fname</em>: return size in bits of the array (absent if the array is variable-size)</p></li>
</ul><p>If the array is 1-dimensional and the elements are one byte, then the following methods exist:</p><ul>
<li><p><strong>getString_</strong><em>fname</em>: build a Java string from the array assuming it contains a C-style null-terminated string</p></li><li><p><strong>setString_</strong><em>fname</em>: set the array to a C-style null-terminated string given a java string</p></li>
</ul><p>The <strong>getElement_...</strong>, <strong>setElement_...</strong>, <strong>offset_...</strong> and <strong>offsetBits_...</strong> methods take one argument per array dimension. These methods report errors if the array index is out of bounds. If an array has a maximum size of 0, mig assumes it represents a variable-size array and does not check the corresponding array index.</p><p>The data for a message is stored in an array, with explicit base and length information. The constructors can either allocate this array, receive it as an explicit argument or extract if from another message. The base and length can also be optionally passed to these constructors.</p><p>The optional length argument overrides the default size of sizeof(message-type); this is useful for variable-size messages. The use of an explicit base is helpful for messages embedded in other messages.</p><p>The generated class also has an amType() method which returns the message's active message type, or -1 if no AM_<em>message_type</em> constant was found.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">C# TOOL</h2>
        <div class="sectioncontent">
<p>This tool generates a C# class to encode or decode a nesC message. It accepts the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-csharp-classname=</strong><em>full-class-name</em></p>
  </dt>
  <dd>
    <p>This option is required and specifies the namespace and name of the generated class. If the <em>full-class-name</em> has no '.', then no namespace directive is included in the output.</p>
  </dd>
  <dt>
    <p><strong>-csharp-extends=</strong><em>class-name</em></p>
  </dt>
  <dd>
    <p>Specify the class the generated class will extend. The default is <strong>tinyos.message.Message</strong>.</p><p>The methods in the generated class are the same as for the Java tool.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PYTHON TOOL</h2>
        <div class="sectioncontent">
<p>This tool generates a Python class to encode or decode a nesC message. It accepts the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-python-classname=</strong><em>full-class-name</em></p>
  </dt>
  <dd>
    <p>This option is required and specifies the name of the generated class.</p>
  </dd>
  <dt>
    <p><strong>-python-extends=</strong><em>class-name</em></p>
  </dt>
  <dd>
    <p>Specify the class the generated class will extend. The default is <strong>tinyos.message.Message.Message</strong>.</p><p>The methods in the generated class are the same as for the Java tool.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">C TOOL</h2>
        <div class="sectioncontent">
<p>This tool generates a C header file (<strong>.h</strong>) with constants describing the type's layout, and a C module (<strong>.c</strong>) with functions to get and set each field. You must pass the <strong>.h</strong> file's name to <strong>nescc-mig</strong> using <strong>-o</strong>.</p><p>The C tool accepts the following option:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-c-prefix=</strong><em>prefix</em></p>
  </dt>
  <dd>
    <p>This option specifies the <em>prefix</em> to attach to the generated constants and functions. If omitted, <em>message-type</em> is used.</p>
  </dd>

</dl>
<p>For each non-array field <em>fname</em> of structure <em>message-type</em>, the following functions and constants are generated:</p><ul>
<li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_get</strong>(): get field's value</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_set</strong>(): get field's value</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_OFFSETBITS</strong>: bit offset of field</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_OFFSET</strong>: byte offset of field</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_SIZEBITS</strong>: size in bits of field</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_SIZE</strong>: size in bytes of field</p></li>
</ul><p>For each array field <em>fname</em> of structure <em>message-type</em>, the following functions and constants are generated:</p><ul>
<li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_get()</strong>: get field's value</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_set()</strong>: get field's value</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_offsetbits()</strong>: bit offset of array element</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_offset()</strong>: byte offset of array element</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_ELEMENTSIZEBITS</strong>: size in bits of array element</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_ELEMENTSIZE</strong>: size in bytes of array element</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_NUMELEMENTS</strong>: number of elements in array (absent for variable-sized arrays)</p></li><li><p><em>prefix</em><strong>_</strong><em>fname</em><strong>_NUMELEMENTS_</strong><em>i</em>: size of <em>i</em>th array dimension</p></li>
</ul><p>Embedded structures in <em>message-type</em> are expanded, using _ to separate the structure name and its fields. A field of an array of embedded structures is considered to be an array.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p><strong>nescc-mig</strong> reports an error if <strong>nescc</strong> cannot compile <em>msg-format-file</em>, if <em>message-type</em> isn't found or if it contains pointers.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nescc-mig&hellip;</h2>
        <div class="sectioncontent">
<p>The generated code for the various tools refer to libraries that are distributed with the TinyOS operating system. Please refer to that project's documentation for more information.</p><p><a href="../man1/mig.1.html"><strong>mig</strong>(1)</a>, <a href="../man1/nescc.1.html"><strong>nescc</strong>(1)</a>, <a href="../man1/nescc-ncg.1.html"><strong>nescc-ncg</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nescc.1.html"><span aria-hidden="true">&larr;</span> nescc.1: Nesc compiler</a></li>
   <li class="next"><a href="nescc-ncg.1.html">nescc-ncg.1: Extract constants from nesc files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
