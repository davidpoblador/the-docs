<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mailutil: Mail utility program</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mail utility program">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mailutil (1) manual">
  <meta name="twitter:description" content="Mail utility program">
  <meta name="twitter:image" content="https://www.carta.tech/images/uw-mailutils-mailutil-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mailutil.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mailutil (1) manual" />
  <meta property="og:description" content="Mail utility program" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/uw-mailutils-mailutil-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mailutil<small> (1)</small></h1>
        <p class="lead">Mail utility program</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mailutil.1.html">
      <span itemprop="name">mailutil: Mail utility program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/uw-mailutils/">
      <span itemprop="name">uw-mailutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mailutil.1.html">
      <span itemprop="name">mailutil: Mail utility program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p><strong>mailutil command [switches] [arguments]</strong></p><p>All commands accept the -d, -v, and -u switches in addition to any command-specific switches.</p><p><strong>mailutil check [MAILBOX]</strong></p><p><strong>mailutil create MAILBOX</strong></p><p><strong>mailutil delete MAILBOX</strong></p><p><strong>mailutil rename SOURCE DESTINATION</strong></p><p><strong>mailutil copy [-rw] [-kw] [-ig] SOURCE DESTINATION</strong></p><p><strong>mailutil move [-rw] [-kw] [-ig] SOURCE DESTINATION</strong></p><p><strong>mailutil append [-rw] [-kw] [-ig] SOURCE DESTINATION</strong></p><p><strong>mailutil appenddelete [-rw] [-kw] [-ig] SOURCE DESTINATION</strong></p><p><strong>mailutil prune MAILBOX CRITERIA</strong></p><p><strong>mailutil transfer [-m mode] [-rw] [-kw] [-ig] SOURCE DESTINATION</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mailutil</strong> replaces the old chkmail, imapcopy, imapmove, imapxfer, mbxcopy, mbxcreat, and mbxcvt programs.</p><p><strong>mailutil check</strong> determines whether new mail exists in the given mailbox (the default is INBOX).  The number of new messages is defined as the number of messages that have "Recent" status set.  If the mailbox contains no new messages, <strong>mailutil check</strong> will indicate that no new mail is present; otherwise, it will report the number of new messages.  In either case, it will also indicate the canonical form of the name of the mailbox.</p><p><strong>mailutil create</strong> creates a new <em>mailbox</em> with the given name.  The mailbox name must not already exist.  A mailbox can be created in a particular format by prefixing the name with <em>#driver.</em> followed by the format name and a <em>/</em> character.  For example, the command</p>
<pre>
   mailutil create #driver.mbx/junkmail
</pre>
<p>will create a new mailbox named "junkmail" in mbx format.</p><p><strong>mailutil delete</strong> deletes an existing <em>mailbox</em> with the given name.</p><p><strong>mailutil rename</strong> renames an existing mailbox to a new name (which must not already exist). This only works if the old and new names are in the same mail store.  A more general means to rename a mailbox is to do a <strong>mailutil copy</strong> of the old name to the new name, followed by a <strong>mailutil delete</strong> of the old name.</p><p><strong>mailutil copy</strong> creates a new mailbox and copies messages from the old mailbox to the new mailbox.  As in <strong>mailutil create</strong> a mailbox format can be specified with the new mailbox.  For example, the command</p>
<pre>
   mailutil copy INBOX #driver.mbx/INBOX
</pre>
<p>will copy messages from your existing INBOX to an mbx-format INBOX.</p><p><strong>mailutil move</strong> is similar to <strong>mailutil copy</strong> but in addition will also remove (delete and expunge) the messages from the old mailbox after copying them to the new mailbox.</p><p><strong>mailutil append</strong> and <strong>mailutil appenddelete</strong> are similar to <strong>mailutil copy</strong> and <strong>mailutil move</strong> respectively except that they do not create the destination mailbox.</p><p><strong>mailutil prune</strong> prunes the mailbox of messages which match certain criteria, which are in the form of IMAP2 (RFC 1176) SEARCH arguments.  For example, the command.</p>
<pre>
  mailutil prune INBOX "before 1-jan-2004"
</pre>
<p>will delete and expunge all messages written before January 1, 2004.</p><p>Note that mailutil implements pruning by deleting the matching messages, and then expunging the mailbox.  Consequently, mailutil will also expunge any messages which were deleted at the time of the pruning.</p><p><strong>mailutil transfer</strong> copies an entire hierarchy of mailboxes from the named source to the named destination.  Mailboxes are created on the destination as needed.  Any error in copying messages will cause the transfer to stop.</p><p>Normally, any error in creation will cause the transfer to stop. However, if <strong>-m MODE</strong> or <strong>-merge MODE</strong> is specified, a merging transfer is performed.  The <strong>MODE</strong> argument indicats the type of merge:</p><p><strong>-m[erge] prompt</strong> indicates that the user should be asked for an alternative name to create. If creating the new name fails, the user will be asked again.</p><p><strong>-m[erge] append</strong> indicates that it's alright to copy the messages into an existing mailbox with that name.  If the mailbox does not exist, the user will be prompted for an alternative name.</p><p><strong>-m[erge] suffix=XXXX</strong> where XXXX is any string, indicates that an alternative name should be built by appending the given suffix to the name.  It that alternative name can't be created, then the user will be prompted for an alternative name.</p><p>The source hierarchy consists of all mailboxes which start with the given source name.  With the exception of a remote system specification (within "{}" braces), the source name is used as the name of the destination.  The destination hierarchy is a prefix applied to any new names being created.  For example,</p>
<pre>
   mailutil transfer foo bar
</pre>
<p>will copy all mailboxes with names beginning with "foo" to names beginning with "bar" (hence "foobar" will be copied to "barfoobar"). Similarly,</p>
<pre>
   mailutil transfer "{imap.foo.com}" "{imap.bar.com}old/"
</pre>
<p>will copy all mailboxes from the imap.foo.com IMAP server to equivalent names starting with "old/" on the imap.bar.com IMAP server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FLAGS</h2>
        <div class="sectioncontent">
<p>The <strong>-d</strong> or <strong>-debug</strong> flag prints full debugging telemetry including protocol operations.</p><p>The <strong>-v</strong> or <strong>-verbose</strong> flag prints verbose (non-error) telemetry.</p><p>The <strong>-u USERID</strong> or <strong>-user USERID</strong> switch attempts to become the indicated user.  This is for the benefit of system administrators who want to do mailutil operations on a userid that does not normally have shell access.</p><p>The <strong>-rw</strong> or <strong>-rwcopy</strong> flag causes the source mailbox to be open in readwrite mode rather than readonly mode.  Normally, mailutil tries to use readonly mode to avoid altering any flags in the source mailbox, but some mailbox types, e.g. POP3, can't be open in readonly mode.</p><p>The <strong>-kw</strong> or <strong>-kwcopy</strong> flag causes the keywords of the source mailbox to be created in the destination mailbox.  Normally, mailutil does not create keywords in the destination mailbox so only those keywords that are already defined in the destination mailbox will be preserved.  Note that some IMAP servers may automatically create keywords, so this flag may not be necessary.</p><p>The <strong>-ig</strong> or <strong>-ignore</strong> flag causes the keywords of the source mailbox to be ignored completely and no attempt is made to copy them to the destination mailbox.</p><p>The <strong>-ig[nore]</strong> and <strong>-kw[copy]</strong> flags are mutually exclusive.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">
<p>The arguments are standard c-client mailbox names.  A variety of mailbox name formats and types of mailboxes are supported by c-client; examples of the most common forms of names are:</p><p><em></em></p>
<dl class='dl-vertical'>
  <dt>
    Name
  </dt>
  <dd>
    <p><em>Meaning</em></p>
  </dd>
  <dt>
    INBOX
  </dt>
  <dd>
    <p>primary incoming mail folder on the local system</p>
  </dd>
  <dt>
    archive/tx-project
  </dt>
  <dd>
    <p>mail folder named "tx-project" in "archive" subdirectory of local filesystem home directory</p>
  </dd>
  <dt>
    {imapserver.foo.com}INBOX
  </dt>
  <dd>
    <p>primary incoming mail folder on IMAP server system "imapserver.foo.com"</p>
  </dd>
  <dt>
    {imapserver.foo.com}archive/tx-project
  </dt>
  <dd>
    <p>mail folder named "tx-project" in "archive" subdirectory on IMAP server system "imapserver.foo.com"</p>
  </dd>
  <dt>
    #news.comp.mail.misc
  </dt>
  <dd>
    <p>newsgroup "comp.mail.misc" on local filesystem</p>
  </dd>
  <dt>
    {newserver.foo.com/nntp}comp.mail.misc
  </dt>
  <dd>
    <p>newsgroup "comp.mail.misc" on NNTP server system "newserver.foo.com"</p>
  </dd>
  <dt>
    {popserver.foo.com/pop3}
  </dt>
  <dd>
    <p>mail folder on POP3 server system "popserver.foo.com"</p>
  </dd>

</dl>
<p>See your system manager for more information about the types of mailboxes which are available on your system.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p>You must surround a <em>{host}mailbox</em> argument with quotation marks if you run <strong>mailutil</strong> from <strong>csh</strong>(1) or another shell for which braces have special meaning.</p><p>You must surround a <em>#driver.format/mailbox</em> argument with quotation marks if you run <strong>mailutil</strong> from a shell in which "#" is the comment character.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Mark Crispin, MRC@Washington.EDU</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mailtool.1.html"><span aria-hidden="true">&larr;</span> mailtool.1: Process mailboxes</a></li>
   <li class="next"><a href="maitreya7.bin.1.html">maitreya7.bin.1: Internal maitreya implementation program. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
