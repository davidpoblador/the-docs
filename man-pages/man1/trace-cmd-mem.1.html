<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>trace-cmd-mem: Show memory usage of certain kmem events</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Show memory usage of certain kmem events">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="trace-cmd-mem (1) manual">
  <meta name="twitter:description" content="Show memory usage of certain kmem events">
  <meta name="twitter:image" content="https://www.carta.tech/images/trace-cmd-trace-cmd-mem-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/trace-cmd-mem.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="trace-cmd-mem (1) manual" />
  <meta property="og:description" content="Show memory usage of certain kmem events" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/trace-cmd-trace-cmd-mem-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">trace-cmd-mem<small> (1)</small></h1>
        <p class="lead">Show memory usage of certain kmem events</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/trace-cmd-mem.1.html">
      <span itemprop="name">trace-cmd-mem: Show memory usage of certain kmem events</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/trace-cmd/">
      <span itemprop="name">trace-cmd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/trace-cmd-mem.1.html">
      <span itemprop="name">trace-cmd-mem: Show memory usage of certain kmem events</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>trace-cmd mem</strong> [<em>OPTIONS</em>][<em>input-file</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <a href="../man1/trace-cmd.1.html"><strong>trace-cmd</strong>(1)</a> mem requires a trace-cmd record that enabled the following events:</p>
<pre>
kmalloc
kmalloc_node
kfree
kmem_cache_alloc
kmem_cache_alloc_node
kmem_cache_alloc_free
</pre>
<p>It then reads the amount requested and the ammount freed as well as the functions that called the allocation. It then reports the final amount of bytes requested and allocated, along with the total amount allocated and requested, as well as the max allocation and requested during the run. It reports the amount of wasted bytes (allocated - requested) that was not freed, as well as the max wasted amount during the run. The list is sorted by descending order of wasted bytes after the run.</p>
<pre>
        Function                Waste   Alloc   req             TotAlloc     TotReq             MaxAlloc     MaxReq     MaxWaste
        --------                -----   -----   ---             --------     ------             --------     ------     --------
  rb_allocate_cpu_buffer        768     2304    1536                2304       1536                 2304       1536     768
         alloc_pipe_info        400     1152    752                 1152        752                 1152        752     400
          instance_mkdir        252     544     292                  544        292                  544        292     252
               __d_alloc        215     1086560 1086345          1087208    1086993              1086560    1086345     215
          get_empty_filp        72      2304    2232                4864       4712                 4864       4712     152
                mm_alloc        40      960     920                  960        920                  960        920     40
           prepare_creds        32      192     160                 1728       1440                 1728       1440     288
    tracing_buffers_open        8       32      24                    32         24                   32         24     8
                  do_brk        0       0       0                    368        368                  368        368     0
journal_add_journal_head        0       6048    6048                6048       6048                 6048       6048     0
           journal_start        0       0       0                   1224       1224                   48         48     0
     __rb_allocate_pages        0       3289856 3289856          3289856    3289856              3289856    3289856     0
          anon_vma_alloc        0       0       0                    936        936                  864        864     0
                                                        [...]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-i</strong> <em>input-file</em></p><p>By default, trace-cmd hist will read the file <em>trace.dat</em>. But the <strong>-i</strong> option open up the given <em>input-file</em> instead. Note, the input file may also be specified as the last item on the command line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO trace-cmd-mem&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/trace-cmd.1.html"><strong>trace-cmd</strong>(1)</a>, <a href="../man1/trace-cmd-record.1.html"><strong>trace-cmd-record</strong>(1)</a>, <a href="../man1/trace-cmd-report.1.html"><strong>trace-cmd-report</strong>(1)</a>, <a href="../man1/trace-cmd-start.1.html"><strong>trace-cmd-start</strong>(1)</a>, <a href="../man1/trace-cmd-stop.1.html"><strong>trace-cmd-stop</strong>(1)</a>, <a href="../man1/trace-cmd-extract.1.html"><strong>trace-cmd-extract</strong>(1)</a>, <a href="../man1/trace-cmd-reset.1.html"><strong>trace-cmd-reset</strong>(1)</a>, <a href="../man1/trace-cmd-hist.1.html"><strong>trace-cmd-hist</strong>(1)</a>, <a href="../man1/trace-cmd-split.1.html"><strong>trace-cmd-split</strong>(1)</a>, <a href="../man1/trace-cmd-listen.1.html"><strong>trace-cmd-listen</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Steven Rostedt, &lt;\m[blue]<strong>rostedt@goodmis.org</strong>\m[]\s-2\u[1]\d\s+2&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESOURCES</h2>
        <div class="sectioncontent">
<p>git://git.kernel.org/pub/scm/linux/kernel/git/rostedt/trace-cmd.git</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2013 Red Hat, Inc. Free use of this software is granted under the terms of the GNU Public License (GPL).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>rostedt@goodmis.org</p><p>mailto:rostedt@goodmis.org</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="trace-cmd-listen.1.html"><span aria-hidden="true">&larr;</span> trace-cmd-listen.1: Listen for incoming connection to record tracing.</a></li>
   <li class="next"><a href="trace-cmd-options.1.html">trace-cmd-options.1: List available options from trace-cmd plugins <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
