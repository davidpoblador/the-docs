<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>listadmin: Process messages held by mailman for approval</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Process messages held by mailman for approval">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="listadmin (1) manual">
  <meta name="twitter:description" content="Process messages held by mailman for approval">
  <meta name="twitter:image" content="https://www.carta.tech/images/listadmin-listadmin-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/listadmin.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="listadmin (1) manual" />
  <meta property="og:description" content="Process messages held by mailman for approval" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/listadmin-listadmin-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">listadmin<small> (1)</small></h1>
        <p class="lead">Process messages held by mailman for approval</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/listadmin.1.html">
      <span itemprop="name">listadmin: Process messages held by mailman for approval</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/listadmin/">
      <span itemprop="name">listadmin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/listadmin.1.html">
      <span itemprop="name">listadmin: Process messages held by mailman for approval</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>listadmin [-?] [-V] [-f </strong><em>configfile</em><strong>] [-t </strong><em>minutes</em><strong>] [--mail] [--nomail] [{-a|-r} </strong><em>file</em><strong>] [--add-member </strong><em>address</em><strong>] [--remove-member </strong><em>address</em><strong>] [-l] [</strong><em>listname</em><strong>]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>listadmin</em> is a textual alternative to Mailman's WWW interface for administering mailing lists.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -f <em>configfile</em>
  </dt>
  <dd>
    <p>Fetch list of mailing lists from <em>configfile</em> rather than the default (<strong>~/.listadmin.ini</strong>).</p>
  </dd>
  <dt>
    -t <em>minutes</em>
  </dt>
  <dd>
    <p>Stop processing after <em>minutes</em> has passed.  Mostly useful for completely automated configurations of <strong>listadmin</strong>.</p>
  </dd>
  <dt>
    --mail
  </dt>
  <dd>
    <p>Addresses added as subscribers will have <em>nomail</em> turned off.</p>
  </dd>
  <dt>
    --nomail
  </dt>
  <dd>
    <p>Addresses added as subscribers will have <em>nomail</em> turned on.</p>
  </dd>
  <dt>
    -a <em>file</em>
  </dt>
  <dd>
    <p>Add e-mail addresses listed in <em>file</em> (one address per line) to the subscriber list.  The welcome message is suppressed.</p>
  </dd>
  <dt>
    --add-member <em>address</em>
  </dt>
  <dd>
    <p>Add <em>address</em> to the subscriber list, works as above.</p>
  </dd>
  <dt>
    -r <em>file</em>
  </dt>
  <dd>
    <p>Remove e-mail addresses listed in <em>file</em> (one address per line) from the subscriber list.</p>
  </dd>
  <dt>
    --remove-member <em>address</em>
  </dt>
  <dd>
    <p>Remove <em>address</em> from the subscriber list.</p>
  </dd>
  <dt>
    -l
  </dt>
  <dd>
    <p>Display the subscriber list.</p>
  </dd>
  <dt>
    <em>listname</em>
  </dt>
  <dd>
    <p>Only process the lists matching <em>listname</em>.  Specify a complete address, a substring or a regular expression.</p>
  </dd>
  <dt>
    -? or --help
  </dt>
  <dd>
    <p>Display short usage description.</p>
  </dd>
  <dt>
    -V or --version
  </dt>
  <dd>
    <p>Output version number.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION SYNTAX</h2>
        <div class="sectioncontent">
<p>The configuration file contains lines which can contain either a comment, a directive, or a mailing list address.</p><p>A line can be continued by putting a backslash character at the end of the line.  Any leading whitespace on the following line is removed.</p><p>Comments begin with the character # and extend to the end of line. Backslash continuation is not applied to comments.</p><p>The argument to the directive can be put in double quotes to protect space characters.  Inside double quotes,  literal double quote, and &#92;nbsp;for a literal backslash.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIRECTIVES</h2>
        <div class="sectioncontent">
<p>A directive affects all the mailing lists addresses which follow after it in the configuration file.  The directives are:</p>
<dl class='dl-vertical'>
  <dt>
    username <em>username</em>
  </dt>
  <dd>
    <p>Specifies the username to use for authentication.  (Not all Mailman servers require a username.)</p>
  </dd>
  <dt>
    password <em>password</em>
  </dt>
  <dd>
    <p>Specifies the password to use for authentication.</p>
  </dd>
  <dt>
    adminurl <em>url</em>
  </dt>
  <dd>
    <p>The URL for maintaining Mailman requests.  Some substitutions are performed: (examples below refer to the hypothetical list <em>foo-devel@example.net</em>)</p>
<dl class='dl-vertical'>
  <dt>
    {list}
  </dt>
  <dd>
    <p>The local part of the list name, e.g., "foo-devel".</p>
  </dd>
  <dt>
    {domain}
  </dt>
  <dd>
    <p>The domain part of the list name, e.g., "example.net".</p>
  </dd>
  <dt>
    {subdomain}
  </dt>
  <dd>
    <p>The first component of the domain part, e.g., "example".</p>
  </dd>

</dl>

  </dd>
  <dt>
    default <em>action</em>
  </dt>
  <dd>
    <p>Specifies the action to take when the user presses just Return. Available actions are:</p>
<dl class='dl-vertical'>
  <dt>
    approve
  </dt>
  <dd>
    <p>The message will be sent to all member of the list.</p>
  </dd>
  <dt>
    reject
  </dt>
  <dd>
    <p>Notify sender that the message was rejected.</p>
  </dd>
  <dt>
    discard
  </dt>
  <dd>
    <p>Throw message away, don't notify sender.</p>
  </dd>
  <dt>
    skip
  </dt>
  <dd>
    <p>Don't decide now, leave it for later.</p>
  </dd>
  <dt>
    none
  </dt>
  <dd>
    <p>Reset to no default action.</p>
  </dd>

</dl>

  </dd>
  <dt>
    action <em>action</em>
  </dt>
  <dd>
    <p>This action will be taken for all messages where none of the other rules apply (e.g., <em>spamlevel</em>, <em>discard_if_from</em> etc.), ie., whenever the user would have been asked what to do.  The same actions as for <em>default</em> are available, although reject isn't very useful.</p>
  </dd>
  <dt>
    spamlevel <em>number</em>
  </dt>
  <dd>
    <p>This specifies the threshold for automatic discard of suspected spam messages.  12 is unlikely to have false positives.  No user confirmation is needed, so it is best to play it safe.  Less than 5 is not recommended.</p>
  </dd>
  <dt>
    spamheader <em>header-name</em>
  </dt>
  <dd>
    <p>The name of the header which contains the spam score.  It is assumed that the score is encoded as a sequence of characters, like "*****" for the value 5.  By default it will look for all headers with names containing "spam" and "score" or "level", and pick the highest score if there is more than one. Setting the header-name to <em>default</em> will restore this behaviour.</p>
  </dd>
  <dt>
    not_spam_if_from <em>pattern</em>
  </dt>
  <dd>
    <p>If the message's From header matches the pattern, all automatic actions will be cancelled and you will be asked what action to take explicitly.  The pattern can use Perl regexp syntax.  If enclosed in slashes, some modifiers can be added, a typical example being <strong>/pattern/i</strong> to match case-insensitively.</p>
  </dd>
  <dt>
    not_spam_if_subject <em>pattern</em>
  </dt>
  <dd>
    <p>As above, but matches against the Subject header.</p>
  </dd>
  <dt>
    discard_if_from <em>pattern</em>
  </dt>
  <dd>
    <p>If the message's From header matches the pattern, it will be discarded automatically.</p>
  </dd>
  <dt>
    discard_if_subject <em>pattern</em>
  </dt>
  <dd>
    <p>As above, but matches against the Subject header.</p>
  </dd>
  <dt>
    discard_if_reason <em>pattern</em>
  </dt>
  <dd>
    <p>As above, but matches against Mailman's reason for holding the message for approval.</p>
  </dd>
  <dt>
    subscription_default <em>action</em>
  </dt>
  <dd>
    <p>Specifies the action to take when the user presses just Return while processing subscriptions.  Available actions are:</p>
<dl class='dl-vertical'>
  <dt>
    accept
  </dt>
  <dd>
    <p>The new subscriber will be added.</p>
  </dd>
  <dt>
    reject
  </dt>
  <dd>
    <p>Notify sender that s/he was not allowed to join the list.</p>
  </dd>
  <dt>
    skip
  </dt>
  <dd>
    <p>Don't decide now, leave it for later.</p>
  </dd>
  <dt>
    none
  </dt>
  <dd>
    <p>Reset to no default action.</p>
  </dd>

</dl>

  </dd>
  <dt>
    subscription_action <em>action</em>
  </dt>
  <dd>
    <p>This action will be taken <strong>always</strong> for all new subscribers in the relevant lists, no user interaction will take place.  The same actions as for <em>subscription_default</em> are available, although only skip is very useful.  It is better to get automatic accept and reject behaviour by changing the Mailman configuration.</p>
  </dd>
  <dt>
    confirm <em>yes|no</em>
  </dt>
  <dd>
    <p>Before submitting changes, ask for confirmation.  Default is "yes".</p>
  </dd>
  <dt>
    unprintable <em>questionmark|unicode</em>
  </dt>
  <dd>
    <p>If the subject or sender address contains characters the terminal can't display, they will be replaced by either "&lt;?&gt;" (in <em>questionmark</em> mode, the default) or something like "&lt;U+86a8&gt;" (in <em>unicode</em> mode).</p>
  </dd>
  <dt>
    log <em>filename</em>
  </dt>
  <dd>
    <p>Changes submitted to the web interface are logged.  All the changes for one list are sent in batches at the end of processing.  The format in the log is first a line containing the list name and a time stamp in local time.  Then one line for each message, in the format</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><em>action</em> D:[<em>date</em>] F:[<em>sender</em>] S:[<em>subject</em>]</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>This batch of lines is terminated by a line saying <strong>changes sent to</strong> server.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The same substitutions are performed on <em>filename</em> as on the argument to <strong>adminurl</strong>.  Tilde syntax can be used to refer to home directories.  The filename <strong>none</strong> turns off logging.</p>
  </dd>
  <dt>
    meta_member_support <em>yes|no</em>
  </dt>
  <dd>
    <p>Meta members are an experimental feature at the University of Oslo. This option is enabled by default for lists in uio.no, and is needed to avoid clearing the list of meta members when manipulating the list of ordinary members.  <em>Note: Requires additional Perl module</em> WWW::Mechanize</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERACTIVE USE</h2>
        <div class="sectioncontent">
<p>The user interface to <strong>listadmin</strong> is line oriented with single letter commands.  By pressing Return, the default action is chosen. The default action is printed in brackets in the prompt.  The available actions are:</p>
<dl class='dl-vertical'>
  <dt>
    a
  </dt>
  <dd>
    <p>Approve sending the message to all members of the list.</p>
  </dd>
  <dt>
    r
  </dt>
  <dd>
    <p>Reject the message and notify sender of the decision.</p>
  </dd>
  <dt>
    d
  </dt>
  <dd>
    <p>Discard the message silently, don't notify sender.</p>
  </dd>
  <dt>
    s
  </dt>
  <dd>
    <p>Skip the message, leave its status as pending unchanged.</p>
  </dd>
  <dt>
    b
  </dt>
  <dd>
    <p>View Body, display the first 20 lines of the message.</p>
  </dd>
  <dt>
    f
  </dt>
  <dd>
    <p>View Full, display the complete message, including headers.</p>
  </dd>
  <dt>
    t
  </dt>
  <dd>
    <p>View Time, display the Date header from the message.</p>
  </dd>
  <dt>
    <em>number</em>
  </dt>
  <dd>
    <p>Jump forward or backward to message <em>number</em>.</p>
  </dd>
  <dt>
    u
  </dt>
  <dd>
    <p>Go back to the previous message and undo the last approve, discard or reject action.</p>
  </dd>
  <dt>
    /<em>pattern</em>
  </dt>
  <dd>
    <p>Search (case-insensitively) for the next message with matching From or Subject.  If <em>pattern</em> is left out, the previous value will be used.</p>
  </dd>
  <dt>
    ?<em>pattern</em>
  </dt>
  <dd>
    <p>As above, but backwards.</p>
  </dd>
  <dt>
    .
  </dt>
  <dd>
    <p>Redisplay information about current message.</p>
  </dd>
  <dt>
    add
  </dt>
  <dd>
    <p>Add <em>address</em> as subscriber to the list.  If <em>address</em> is left out, use the sender of the current message.</p>
  </dd>
  <dt>
    nomail
  </dt>
  <dd>
    <p>As <em>add</em>, but adds <em>address</em> with "nomail" enabled.</p>
  </dd>
  <dt>
    list
  </dt>
  <dd>
    <p>List subscriber addresses matching <em>pattern</em>, or the full list if no <em>pattern</em> is specified.</p>
  </dd>
  <dt>
    rem
  </dt>
  <dd>
    <p>Remove <em>address</em> from the subscriber list.  Note: there is no undo for this action.</p>
  </dd>
  <dt>
    q
  </dt>
  <dd>
    <p>Quit processing this list and go on to the next.</p>
  </dd>

</dl>
<p>Changes will not take effect until the end of the list has been reached.  At that time, the user will be prompted whether the changes should be submitted to Mailman (see also "confirm" directive above).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To process only the lists of a single domain, specify the domain as the pattern:</p>
<pre>
	listadmin example.com
</pre>
<p>To disable the printing of characters outside US-ASCII, set the locale appropriately:</p>
<pre>
	env LC_CTYPE=C listadmin
</pre>
<p>An example configuration file:</p>
<pre>
	# A comment, it must appear on a line by itself.
	#
	# Settings affect all lists being listed after it.

	username jdoe@example.com
	password Geheim
	default discard
	# This one works for Sourceforge:
	adminurl http://{domain}/lists/admindb/{list}

	slartibartfast@lists.sourceforge.net

	# This is how the default Mailman URLs look:
	adminurl http://{domain}/mailman/admindb/{list}

	# If the password contains quotes or spaces, you may need
	# to put it in quotes.  A complex example:
	password " 
	# These lists will still use the username [jdoe], but the
	# password is now ["lisenbsp;].

	default approve
	discard_if_reason "Message has implicit|Too many recipients"
	discard_if_from ^(postmaster|mailer(-daemon)?|listproc|no-reply)@

	foo-devel@example.net

	# No one should ever send e-mail to the next list, so throw it
	# all away, without asking any questions
	action discard
	confirm no
	foo-announce@example.net
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>http_proxy</strong> or <strong>HTTP_PROXY</strong>
  </dt>
  <dd>
    <p>Specifies a proxy to use for HTTP.</p>
  </dd>
  <dt>
    <strong>https_proxy</strong> or <strong>HTTPS_PROXY</strong>
  </dt>
  <dd>
    <p>Specifies a proxy to use for HTTPS.</p>
  </dd>
  <dt>
    <strong>LC_CTYPE</strong>
  </dt>
  <dd>
    <p>The character set support is deduced from this variable.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>$HOME/.listadmin.ini</strong></p><p>The default configuration file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The HTML parser is quite fragile and depends on Mailman not to change the format of its generated code.</p><p>An extra blank line is sometimes added to the subject when it contains double width characters (e.g. Chinese).  This is probably a bug in Text::Reform.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Kjetil T. Homme &lt;kjetilho+listadmin@ifi.uio.no&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="list-unreleased.1.html"><span aria-hidden="true">&larr;</span> list-unreleased.1: Display unreleased packages</a></li>
   <li class="next"><a href="listbasic.1.html">listbasic.1: Listbasic  extract the basic from a zx spectrum file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
