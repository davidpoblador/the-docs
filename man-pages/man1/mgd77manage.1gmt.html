<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mgd77manage: Manage extra columns in mgd77+ files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Manage extra columns in mgd77+ files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mgd77manage (1gmt) manual">
  <meta name="twitter:description" content="Manage extra columns in mgd77+ files">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-mgd77manage-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/mgd77manage.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mgd77manage (1gmt) manual" />
  <meta property="og:description" content="Manage extra columns in mgd77+ files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-mgd77manage-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mgd77manage<small> (1gmt)</small></h1>
        <p class="lead">Manage extra columns in mgd77+ files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/mgd77manage.1gmt.html">
      <span itemprop="name">mgd77manage: Manage extra columns in mgd77+ files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt/">
      <span itemprop="name">gmt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/mgd77manage.1gmt.html">
      <span itemprop="name">mgd77manage: Manage extra columns in mgd77+ files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mgd77manage</strong> <em>NGDC-ids</em> [ <strong>-A</strong>[<strong>+</strong>]<strong>a</strong>|<strong>c</strong>|<strong>d</strong>|<strong>D</strong>|<strong>e</strong>|<strong>E</strong>|<strong>g</strong>|<strong>i</strong>|<strong>n</strong>|<strong>t</strong>|<strong>T</strong><em>fileinfo</em> ] [ <strong>-C</strong><strong>f</strong>|<strong>g</strong>|<strong>e</strong> ] [ <strong>-D</strong><em>abbrev1,abbrev2,...</em> ] [ <strong>-E</strong><em>empty</em> ] [ <strong>-F</strong> ] [ <strong>-I</strong><em>abbrev</em>/<em>name</em>/<em>unit</em>/<strong>t</strong>/<em>scale</em>/<em>offset</em>/<em>comment</em> ] [ <strong>-Ne</strong>|<strong>k</strong>|<strong>m</strong>|<strong>n</strong> ] [ <strong>-Q</strong>[<strong>b</strong>|<strong>c</strong>|<strong>l</strong>|<strong>n</strong>][[<strong>/</strong>]<em>threshold</em>] ] [ <strong>-V</strong> ] [ <strong>-bi</strong>[<strong>s</strong>|<strong>S</strong>|<strong>d</strong>|<strong>D</strong>[<em>ncol</em>]|<strong>c</strong>[<em>var1</em><strong>/</strong><em>...</em>]] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mgd77manage</strong> deals with maintaining extra custom columns in MGD77+ netCDF files. You can either delete one or more columns, add a new column, update an existing column with new data, or supply error correction information (*.e77 files).  New data may come from a table (ASCII unless <strong>-b</strong> is used), be based on existing columns and certain theoretical expressions, or they may be obtained by sampling a grid (choose between GMT grid or a Sandwell/Smith Mercator *.img grid) along track.  The new data will be appended to the MGD77+ file in the form of an extra data column of specified type. The data file will be modified; no new file will be created.  For the big issues, see the DISCUSSION section below.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>NGDC-ids</em></p>
  </dt>
  <dd>
    <p>Can be one or more of five kinds of specifiers:</p><p>1) 8-character NGDC IDs, e.g., 01010083, JA010010etc., etc.</p><p>2) 2-character &lt;agency&gt; codes which will return all cruises from each agency.</p><p>3) 4-character &lt;agency&gt;&lt;vessel&gt; codes, which will return all cruises from those vessels.</p><p>4) =&lt;list&gt;, where &lt;list&gt; is a table with NGDC IDs, one per line.</p><p>5) If nothing is specified we return all cruises in the data base.</p><p>(See mgd77info <strong>-L</strong> for agency and vessel codes). The ".mgd77" or ".nc" extensions will automatically be appended, if needed (use <strong>-I</strong> to ignore certain file types).  Cruise files will be looked for first in the current directory and second in all directories listed in <strong>$MGD77_HOME</strong>/mgd77_paths.txt [If <strong>$MGD77_HOME</strong> is not set it will default to <strong>$GMT_SHAREDIR</strong>/mgd77].</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>No space between the option flag and the associated arguments</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>Add a new data column.  If an existing column with the same abbreviation already exists in the file we will cowardly refuse to update the file. Specifying <strong>-A+</strong> overcomes this reluctance (However, sometimes an existing column cannot be upgraded without first deleting it; if so you will be warned). Select a column source code among <strong>a</strong>, <strong>c</strong>, <strong>d</strong>, <strong>D</strong>, <strong>e</strong>, <strong>g</strong>, <strong>i</strong>, <strong>n</strong>, <strong>t</strong>, or <strong>T</strong>; detailed descriptions for each choice follow:</p><p><strong>a</strong> Append filename of a single column table to add.  File must have the same number of rows as the MGD77+ file. If no file is given we read from stdin instead.</p><p><strong>c</strong> Create a new column that derives from existing data or formulas for corrections and reference fields.  Append <strong>c</strong> for the Carter corrections subtracted from uncorrected depths, <strong>g</strong> for the IGF gravity reference field (a.k.a "normal gravity"), <strong>m</strong> for the IGRF total field magnetic reference field, and <strong>r</strong> for recomputed magnetic anomaly (append 1 or 2 to specify which total field column to use [1]).  For gravity we choose the reference field based on the parameter Gravity Theoretical Formula Code in the cruise's MGD77 header.  If this is not set or is invalid we default to the IGF 1980. You can override this behaviour by appending the desired code: 1 = Heiskanen 1924, 2 = International 1930, 3 = IGF1967, or 4 = IGF1980.</p><p><strong>d</strong>  Append filename of a two-column table with the first column holding distances along track and the second column holding data values.  If no file is given we read from stdin instead.  Records with matching distances in the MGD77+ file will be assigned the new values; at other distances we set them to NaN. Alternatively, give upper case <strong>D</strong> instead and we will interpolate the column at all record distances. See <strong>-N</strong> for choosing distance units and <strong>-C</strong> for choosing how distances are calculated.</p><p><strong>e</strong> Expects to find an e77 error/correction log from <strong>mgd77sniffer</strong> with the name <em>NGDC_ID</em>.e77 in the current directory or in $MGD77_HOME/E77; this file will examined and used to make modifications to the header values, specify a systematic correction for certain columns (such as scale and offset), specify that a certain anomaly should be recalculated from the observations (e.g., recalculate mag from mtf1 and the latest IGRF), and add or update the special column <strong>flag</strong> which may hold bitflags (0 = GOOD, 1 = BAD) for each data field in the standard MGD77 data set.  Any fixed correction terms found (such as needing to scale a field by 0.1 or 10 because the source agency used incorrect units) will be written as attributes to the netCDF MGD77+ file and applied when the data are read by <strong>mgd77list</strong>.  Ephemeral corrections such as those determined by crossover analysis are not kept in the data files but reside in correction tables (see <strong>mgd77list</strong> for details).  By default, the first character of each header line in the e77 file (which is ?, Y or N) will be consulted to see if the corresponding adjustment should be applied.  If any undecided settings are found (i.i, ?) we will abort and make no changes. Only records marked Y will be processed.  You can override this behavior by appending one or more modifiers to the <strong>-Ae</strong> command: <strong>h</strong> will ignore all header corrections, <strong>f</strong> will ignore all fixed systematic trend corrections, <strong>n</strong>, <strong>v</strong>, and <strong>s</strong> will ignore bitflags pertaining to navigation, data values, and data slopes, respectively.  Use <strong>-A+e</strong> to replace any existing E77 corrections in the file with the new values. Finally, e77 corrections will not be applied if the E77 file has not been verified.  Use <strong>-AE</strong> to ignore the verification status.</p><p><strong>g</strong> Sample a GMT geographic (lon, lat) grid along the track given by the MGD77+ file using bicubic interpolation (however, see <strong>-Q</strong>).  Append name of a GMT grid file.</p><p><strong>i</strong> Sample a Sandwell/Smith Mercator *.img grid along the track given by the MGD77+ file using bicubic interpolation (however, see <strong>-Q</strong>).  Append the img grid filename, followed by the comma-separated data scale (typically 1 or 0.1), the IMG file mode (0-3), and optionally the img grid max latitude [80.738].  The modes stand for the following: (0) Img files with no constraint code, returns data at all points, (1) Img file with constraints coded, return data at all points, (2) Img file with constraints coded, return data only at constrained points and NaN elsewhere, and (3) Img file with constraints coded, return 1 at constraints and 0 elsewhere.</p><p><strong>n</strong> Append filename of a two-column table with the first column holding the record number (0 to nrows - 1) and the second column holding data values.  If no file is given we read from stdin instead.  Records with matching record numbers in the MGD77+ file will be assigned the new values; at other records we set them to NaN.</p><p><strong>t</strong> Append filename of a two-column table with the first column holding absolute times along track and the second column holding data values.  If no file is given we read from stdin instead.  Records with matching times in the MGD77+ file will be assigned the new values; at other times we set them to NaN. Alternatively, give upper case <strong>T</strong> instead and we will interpolate the column at all record times.</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Append a one-letter code to select the procedure for along-track distance calculation when using <strong>-Ad</strong>|<strong>D</strong> (see <strong>-N</strong> for selecting distance units):</p><p>	<strong>f</strong> Flat Earth distances.</p><p>	<strong>g</strong> Great circle distances [Default].</p><p>	<strong>e</strong> Geodesic distances on current GMT ellipsoid.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Give a comma-separated list of column abbreviations that you want to delete from the MGD77+ files. Do NOT use this option to remove columns that you are replacing with new data (use <strong>-A+</strong> instead). Because we cannot remove variables from netCDF files we must create a new file without the columns to be deleted.  Once the file is successfully created we temporarily rename the old file, change the new filename to the old filename, and finally remove the old, renamed file.</p>
  </dd>
  <dt>
    <p><strong>-E</strong></p>
  </dt>
  <dd>
    <p>Give a single character that will be repeated to fill empty string values, e.g., '9' will yield a string like "99999..." [9].</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Force mode.  When this mode is active you are empowered to delete or replace even the standard MGD77 set of columns. You better know what you are doing!</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p>In addition to file information we must specify additional information about the extra column. Specify a short (16 char or less, using lower case letters, digits, or underscores only) abbreviation for the selected data, its more descriptive name, the data unit, the data type 1-character code (<strong>b</strong>yte, <strong>s</strong>hort, <strong>f</strong>loat, <strong>i</strong>nt, <strong>d</strong>ouble, or <strong>t</strong>ext) you want used for storage in the netCDF file, any scale and offset we should apply to the data to make them fit inside the range implied by the chosen storage type, and a general comment (&lt; 128 characters) regarding what these data represent.  Note: If text data type is selected then the terms "values" in the <strong>-A</strong> discussion refer to your text data.  Furthermore, the discussion on interpolation does not apply and the NaN value becomes a "no string" value (see <strong>-E</strong> for what this is).  Place quotes around terms with more than one word (e.g., "Corrected Depth").</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>Specify the distance unit used when using <strong>-Ad</strong>|<strong>D</strong> by appending <strong>e</strong> (meter), <strong>k</strong> (km), <strong>m</strong> (miles), or <strong>n</strong> (nautical miles). [Default is <strong>-Nk</strong> (km)].</p>
  </dd>
  <dt>
    <p><strong>-Q</strong></p>
  </dt>
  <dd>
    <p>Quick mode, use bilinear rather than bicubic interpolation [Default]. Alternatively, select the interpolation mode by adding <strong>b</strong> for B-spline smoothing, <strong>c</strong> for bicubic interpolation, <strong>l</strong> for bilinear interpolation or <strong>n</strong> for nearest-neighbor value. Optionally, append <em>threshold</em> in the range [0,1]. This parameter controls how close to nodes with NaN values the interpolation will go.  E.g., a <em>threshold</em> of 0.5 will interpolate about half way from a non-NaN to a NaN node, whereas 0.1 will go about 90% of the way, etc. [Default is 1, which means none of the (4 or 16) nearby nodes may be NaN].  <strong>-Q0</strong> will just return the value of the nearest node instead of interpolating. This is the same as using <strong>-Qn</strong>. Only relevant when <strong>-Ag</strong>|<strong>i</strong> is selected.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Selects verbose mode, which will send progress reports to stderr [Default runs "silently"].</p>
  </dd>
  <dt>
    <p><strong>-bi</strong></p>
  </dt>
  <dd>
    <p>Selects binary input. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of columns in your binary input file if it exceeds the columns needed by the program. Or append <strong>c</strong> if the input file is netCDF. Optionally, append <em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>...</em> to specify the variables to be read. This applies to the input 1- or 2-column data files specified under some of the <strong>-A</strong> options. The binary input option is only available for numerical data columns.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To append Geosat/ERS-1 gravity version 11.2 as an extra data column in the cruises 01010047.nc and 01010008.nc, storing the values as mGal*10 in a 2-byte short integer, try</p><p><strong>mgd77manage</strong> 01010047 01010008 <strong>-Ai</strong> 10/1/grav.11.2.img <strong>-I</strong> satgrav/"Geosat/ERS-1 gravity"/"mGal"/s/10/0/"Sandwell/Smith version 11.2" <strong>-V</strong></p><p>To append a filtered version of magnetics as an extra data column of type float for the cruise 01010047.nc, and interpolate the filtered data at the times given in the MGD77+ file, try</p><p><strong>mgd77manage</strong> 01010047 <strong>-AT</strong> mymag.tm <strong>-I</strong> filtmag/"Intermediate-wavelength magnetic residuals"/"nTesla"/f/1/0/"Useful for looking for isochrons" <strong>-V</strong></p><p>To delete the existing extra columns satfaa, coastdist, and satvgg from all MGD77+ files, try</p><p><strong>mgd77manage</strong> `cat allmgd77.lis` <strong>-D</strong> satfaa,coastdist,satvgg <strong>-V</strong></p><p>To create a 4-byte float column with the correct IGRF reference field in all MGD77+ files, try</p><p><strong>mgd77manage</strong> `cat allmgd77.lis` <strong>-Acm</strong> <strong>-I</strong> igrf/"IGRF reference field"/"nTesla"/f/1/0/"IGRF version 10 for 1990-2010" <strong>-V</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISCUSSION</h2>
        <div class="sectioncontent">
<p><strong>1. Preamble</strong></p><p>The mgd77 supplement is an attempt to (1) improve on the limited functionality of the existing mgg supplement, (2) incorporate some of the ideas from Scripps' gmt+ supplement by allowing extra data columns, and (3) add new capabilities for managing marine geophysical trackline data stored in an architecture-independent CF-1.0- and COARDS-compliant netCDF file format.  Here are some of the underlying ideas and steps you need to take to maintain your files.</p><p><strong>2. Introduction</strong></p><p>Our starting point is the MGD77 ASCII data files distributed from NGDC on CD-ROMS, DVD-ROMS, and via FTP.  Using Geodas to install the files locally we choose the "Carter corrected depth" option which will fill in the depth column using the two-way traveltimes and the Carter tables if twt is present.  This step yields ~5000 individual cruise files.  Place these in one or more sub-directories of your choice, list these sub-directories (one per line) in the file mgd77_paths.txt, and place that file in the directory pointed to by <strong>$MGD77_HOME</strong>; if not set this variable defaults to <strong>$GMT_SHAREDIR</strong>/mgd77.</p><p><strong>3. Conversion</strong></p><p>Convert the ASCII MGD77 files to the new netCDF MGD77+ format using <strong>mgd77convert</strong>. Typically, you will make a list of all the cruises to be converted (with or without extension), and you then run</p><p>	<strong>mgd77convert -Fa -Tc -V -Lwe+</strong> `cat cruises.lis` &gt; log.txt</p><p>The verbose settings will ensure that all problems found during conversion will be reported. The new *.nc files may also be placed in one or more separate sub-directories and these should also be listed in the mgd77_paths.txt file.  We suggest you place the directories with *.nc files ahead of the *.mgd77 directories.  When you later want to limit a search to files of a certain extension you should use the <strong>-I</strong> option.</p><p><strong>4. Adding new columns</strong></p><p><strong>mgd77manage</strong> will allow you to add additional data columns to your *.nc files.  These can be anything, including text strings, but most likely are numerical values sampled along the track from a supplied grid or an existing column that have been filtered or manipulated for a particular purpose.  The format supports up to 32 such extra columns.  See this man page for how to add columns.  You may later decide to remove some of these columns or update the data associated with a certain column.  Data extraction tools such as <strong>mgd77list</strong> can be used to extract a mix of standard MGD77 columns (navigation, time, and the usual geophysical observations) and your custom columns.</p><p><strong>5. Error sources</strong></p><p>Before we discuss how to correct errors we will first list the different classes of errors associated with MGD77 data: (1) Header record errors occur when some of the information fields in the header do not comply with the MGD77 specification or required information is missing. <strong>mgd77convert</strong> will list these errors when the extended verbose setting is selected. These errors typically do not affect the data and are instead errors in the <em>meta-data</em> (2) Fixed systematic errors occur when a particular data column, despite the MGD77 specification, has been encoded incorrectly.  This usually means the data will be off by a constant factor such as 10 or 0.1, or in some cases even 1.8288 which converts fathoms to meters.  (3) Unknown systematic errors occur when the instrument that recorded the data or the processing that followed introduced signals that appear to be systematic functions of time along track, latitude, heading, or some other combination of terms that have a physical or logical explanation.  These terms may sometimes be resolved by data analysis techniques such as along-track and across-track investigations, and will result in correction terms that when applied to the data will remove these unwanted signals in an optimal way.  Because these correction terms may change when new data are considered in their determination, such corrections are considered to be ephemeral. (4) Individual data points or sequences of data may violate rules such as being outside of possible ranges or in other ways violate sanity. Furthermore, sequences of points that may be within valid ranges may give rise to data gradients that are unreasonable.  The status of every point can therefore be determined and this gives rise to bitflags GOOD or BAD.  Our policy is that error sources 1, 2, and 4 will be corrected by supplying the information as meta-data in the relevant *.nc files, whereas the corrections for error source 3 (because they will constantly be improved) will be maintained in a separate list of corrections.</p><p><strong>6. Finding errors</strong></p><p>The <strong>mgd77sniffer</strong> is a tool that does a thorough along-track sanity check of the original MGD77 ASCII files and produces a corresponding *.e77 error log.  All problems found are encoded in the error log, and recommended fixed correction terms are given, if needed.  An analyst may verify that the suggested corrections are indeed valid (we only want to correct truly obvious unit errors), edit these error logs and modify such correction terms and activate them by changing the relevant code key (see <strong>mgd77sniffer</strong> for more details). <strong>mgd77manage</strong> can ingest these error logs and (1) correct bad header records given the suggestions in the log, (2) insert scale/offset correction terms to be used when reading certain columns, and (3) insert any bit-flags found.  Rerun this step if you later find other problems as all E77 settings or flags will be recreated based on the latest E77 log.</p><p><strong>7. Error corrections</strong></p><p>The extraction program <strong>mgd77list</strong> allows for corrections to be applied on-the-fly when data are requested.  First, data with BAD bitflags are suppressed.  Second, data with fixed systematic correction terms are corrected accordingly.  Third, data with ephemeral correction terms will have those corrections applied (if a correction table is supplied). All of these steps require the presence of the relevant meta-data and all can be overruled by the user. In addition, users may add their own bitflags as separate data columns and use <strong>mgd77list</strong>'s logical tests to further dictate which data are suppressed from output.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>The IGRF calculations are based on a Fortran program written by Susan Macmillan, British Geological Survey, translated to C via f2c by Joaquim Luis, and adapted to GMT style by Paul Wessel.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mgd77manage&hellip;</h2>
        <div class="sectioncontent">
<p><strong>mgd77convert</strong>(1), <strong>mgd77list</strong>(1), <strong>mgd77info</strong>(1), <strong>mgd77sniffer</strong>(1) <strong>mgd77track</strong>(1) <strong>x2sys_init</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>Wessel, P., and W. H. F. Smith, 2014, The Generic Mapping Tools (GMT) version 4.5.12 Technical Reference & Cookbook, SOEST/NOAA.</p><p>Wessel, P., and W. H. F. Smith, 1998, New, Improved Version of Generic Mapping Tools Released, EOS Trans., AGU, 79 (47), p. 579.</p><p>Wessel, P., and W. H. F. Smith, 1995, New Version of the Generic Mapping Tools Released, EOS Trans., AGU, 76 (33), p. 329.</p><p>Wessel, P., and W. H. F. Smith, 1995, New Version of the Generic Mapping Tools Released, http://www.agu.org/eos_elec/95154e.html, Copyright 1995 by the American Geophysical Union.</p><p>Wessel, P., and W. H. F. Smith, 1991, Free Software Helps Map and Display Data, EOS Trans., AGU, 72 (41), p. 441.</p><p>The Marine Geophysical Data Exchange Format - "MGD77", see <em>http://www.ngdc.noaa.gov/mgg/dat/geodas/docs/mgd77.txt</em></p><p>IGRF, see <em>http://www.ngdc.noaa.gov/IAGA/vmod/igrf.html</em></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mgd77magref.1gmt.html"><span aria-hidden="true">&larr;</span> mgd77magref.1gmt: Evaluate the igrf or cm4 magnetic field models</a></li>
   <li class="next"><a href="mgd77path.1gmt.html">mgd77path.1gmt: Get full pathname for mgd77 files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
