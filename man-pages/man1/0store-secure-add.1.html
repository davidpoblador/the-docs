<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>0store-secure-add: 0store-secure-add  add an implementation to the system cache</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="0store-secure-add  add an implementation to the system cache">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="0store-secure-add (1) manual">
  <meta name="twitter:description" content="0store-secure-add  add an implementation to the system cache">
  <meta name="twitter:image" content="https://www.carta.tech/images/0install-core-0store-secure-add-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/0store-secure-add.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="0store-secure-add (1) manual" />
  <meta property="og:description" content="0store-secure-add  add an implementation to the system cache" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/0install-core-0store-secure-add-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">0store-secure-add<small> (1)</small></h1>
        <p class="lead">0store-secure-add  add an implementation to the system cache</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/0store-secure-add.1.html">
      <span itemprop="name">0store-secure-add: 0store-secure-add  add an implementation to the system cache</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/0install-core/">
      <span itemprop="name">0install-core</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/0store-secure-add.1.html">
      <span itemprop="name">0store-secure-add: 0store-secure-add  add an implementation to the system cache</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>0store-secure-add</strong> <strong>DIGEST</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This command imports the current directory into the system-wide shared Zero Install cache, as /var/cache/0install.net/implementations/DIGEST. This allows a program downloaded by one user to be shared with other users.</p><p>The current directory must contain a file called '.manifest' listing all the files to be added (in the format required by DIGEST), and this file must have the given digest. If not, the import is refused. Therefore, it is only possible to add a directory to the cache if its name matches its contents.</p><p>It is intended that it be safe to grant untrusted users permission to call this command with elevated privileges. To set this up, see below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SETTING UP SHARING</h2>
        <div class="sectioncontent">
<p>To enable sharing, the system administrator should follow these steps:</p><p>Create a new system user to own the cache:</p><p><strong>adduser --system zeroinst</strong></p><p>Create the shared directory, owned by this new user:</p><p><strong>mkdir /var/cache/0install.net</strong></p><p><strong>chown zeroinst /var/cache/0install.net</strong></p><p>Use <strong>visudo</strong>(8) to add these lines to /etc/sudoers:</p><p><strong>Defaults&gt;zeroinst env_reset,always_set_home</strong></p><p><strong>ALL ALL=(zeroinst) NOPASSWD: /usr/bin/0store-secure-add</strong></p><p>Create a script called <strong>0store-secure-add-helper</strong> in PATH to call it. This script must be executable and contain these two lines:</p><p><strong></strong> #!/bin/sh</p><p><strong></strong> exec sudo -S -u zeroinst /usr/bin/0store-secure-add "$@" &lt; /dev/null</p><p>The other Zero Install programs will call this helper script automatically.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    /var/cache/0install.net/implementations
  </dt>
  <dd>
    <p>System-wide Zero Install cache.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2009 Thomas Leonard.</p><p>You may redistribute copies of this program under the terms of the GNU Lesser General Public License.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>This program is EXPERIMENTAL. It has not been audited. Do not use it yet in security-critial environments.</p><p>The env_reset line in sudoers may not be required. <strong>sudo</strong>(1) seems to do it automatically.</p><p>If sudo let us check whether we could call a command then we could switch to using it automatically, instead of needing to add the helper script. Currently, sudo delays for one second and writes to auth.log if we try to use this system when it hasn't been set up.</p><p>Please report bugs to the developer mailing list:</p><p>http://0install.net/support.html</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Zero Install was created by Thomas Leonard.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO 0store-secure-add&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/0store.1.html"><strong>0store</strong>(1)</a></p><p>The Zero Install web-site:</p><p><strong>http://0install.net</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="0store.1.html"><span aria-hidden="true">&larr;</span> 0store.1: 0store  manage the implementation cache</a></li>
   <li class="next"><a href="2csv.1.html">2csv.1: Convert xml documents in a flat format  2xml - convert flat format into xml  html2 - convert html documents in a flat format  2html - convert flat format into html  csv2 - convert csv files in a flat format  2csv - convert flat format into csv <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
