<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pmprobe - lightweight probe for performance metrics</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lightweight probe for performance metrics">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pmprobe<small> (1)</small></h1>
        <p class="lead">Lightweight probe for performance metrics</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pmprobe.1.html">
      <span itemprop="name">pmprobe</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pcp/">
      <span itemprop="name">pcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p>\f3pmprobe\f1 [\f3-fIiLVvz\f1] [\f3-a\f1 \f2archive\f1] [\f3-h\f1 \f2hostname\f1] [\f3-K\f1 \f2spec\f1] [\f3-n\f1 \f2pmnsfile\f1] [\f3-O\f1 \f2time\f1] [\f3-Z\f1 \f2timezone\f1] [\f2metricname\f1 ...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>pmprobe</strong> determines the availability of performance metrics exported through the facilities of the Performance Co-Pilot (PCP).</p>
<p class='spacer'>

<p>The metrics of interest are named in the <em>metricname</em> arguments. If <em>metricname</em> is a non-leaf node in the Performance Metrics Name Space ( .BR pmns (5)), then <strong>pmprobe</strong> will recursively descend the PMNS and report on all leaf nodes. If no <em>metricname</em> argument is given, the root of the namespace is used.</p>
<p class='spacer'>

<p>The output format is spartan and intended for use in wrapper scripts creating configuration files for other PCP tools. By default, there is one line of output per metric, with the metric name followed by a count of the number of available values. Error conditions are encoded as a negative value count (as per the <strong>PMAPI</strong>(3) protocols, but may be decoded using <a href="../man1/pmerr.1.html"><strong>pmerr</strong>(1)</a>) and followed by a textual description of the error.</p>
<p class='spacer'>

<p>Unless directed to another host by the <strong>-h</strong> option, <strong>pmprobe</strong> will contact the Performance Metrics Collector Daemon (PMCD) on the local host.</p>
<p class='spacer'>

<p>The <strong>-a</strong> option causes <strong>pmprobe</strong> to use the specified set of archives rather than connecting to a PMCD. The argument is a comma-separated list of names, each of which may be the base name of an archive or the name of a directory containing one or more archives. The <strong>-a</strong> and <strong>-h</strong> options are mutually exclusive.</p>
<p class='spacer'>

<p>The <strong>-L</strong> option causes <strong>pmprobe</strong> to use a local context to collect metrics from PMDAs on the local host without PMCD.  Only some metrics are available in this mode. The <strong>-a</strong>,<strong>-h</strong> and <strong>-L</strong> options are mutually exclusive.</p>
<p class='spacer'>

<p>Normally <strong>pmprobe</strong> operates on the distributed Performance Metrics Name Space (PMNS), however, if the <strong>-n</strong> option is specified an alternative local PMNS file is loaded from the file <em>pmnsfile</em>.</p>
<p class='spacer'>

  <p>Other options control the output of additional information when one or more values is available.</p>
  <dl class='dl-vertical'>
    <dt><strong>-f</strong></dt>
    <dd>
  <p>When used with <strong>-i</strong> or <strong>-I</strong> the set of instances reported will be all of those known at the source of the performance data.  By default the set of reported instances are those for which values are currently available, which may be smaller than the set reported with <strong>-f</strong>.</p>
    </dd>
    <dt><strong>-I</strong></dt>
    <dd>
  <p>Report the external identifiers for each instance.  The literal string <strong>PM_IN_NULL</strong> is reported for singular metrics.</p>
    </dd>
    <dt><strong>-i</strong></dt>
    <dd>
  <p>Report the internal identifiers for each instance.  The values are in decimal and prefixed by ``?''.  As a special case, the literal string <strong>PM_IN_NULL</strong> is reported for singular metrics.</p>
    </dd>
    <dt><strong>-K</strong></dt>
    <dd>
  <p>When using the <strong>-L</strong> option to fetch metrics from a local context, the <strong>-K</strong> option may be used to control the DSO PMDAs that should be made accessible.  The <em>spec</em> argument conforms to the syntax described in <strong>__pmSpecLocalPMDA</strong>(3). More than one <strong>-K</strong> option may be used.</p>
    </dd>
    <dt><strong>-O</strong></dt>
    <dd>
  <p>When used in conjunction with an archive source of metrics and the <strong>-v</strong> option the <em>time</em> argument defines a time origin at which the metrics should be fetched from the archive(s). Refer to <strong>PCPIntro</strong>(1) for a complete description of this option, and the syntax for the <em>time</em> argument.</p>
    </dd>
    <dt><strong>-v</strong></dt>
    <dd>
  <p>Report the value for each instance, as per the formatting rules of <strong>pmPrintValue</strong>(3). When fetching from a set of archives, only those instances present in the first archive record for a metric will be displayed; see also the <strong>-O</strong> option.</p>
    </dd>
  </dl>
<p class='spacer'>

<p>The <strong>-v</strong> option is mutually exclusive with either the <strong>-I</strong> or <strong>-i</strong> options.</p>
<p class='spacer'>

<p>The <strong>-V</strong> option provides a cryptic summary of the number of messages sent and received across the PMAPI interface.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>$ pmprobe disk.dev
disk.dev.read 2
disk.dev.write 2
disk.dev.total 2
disk.dev.blkread 2
disk.dev.blkwrite 2
disk.dev.blktotal 2
disk.dev.active 2
disk.dev.response 2

$ pmprobe -I disk.dev.read disk.dev.write disk.all.total
disk.dev.read 2 "dks0d1" "dks0d2"
disk.dev.write 2 "dks0d1" "dks0d2"
disk.all.total 1 PM_IN_NULL

$ pmprobe -v pmcd.numagents pmcd.version pmcd.control.timeout
pmcd.numagents 1 9
pmcd.version 1 "2.0 beta-1"
pmcd.control.timeout 1 5

$ pmprobe -v disk.dev.total disk.all.total
disk.dev.total -1012 Unknown metric name
disk.all.total 1 4992466</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>$PCP_VAR_DIR/pmns/</strong><em>*</em></dt>
    <dd>
  <p>default PMNS specification files</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PCP ENVIRONMENT</h2>
        <div class="sectioncontent">

<p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>PCPIntro</strong>(1), <strong>pmcd</strong>(1), <a href="../man1/pmdumplog.1.html"><strong>pmdumplog</strong>(1)</a>, <a href="../man1/pminfo.1.html"><strong>pminfo</strong>(1)</a>, <strong>PMAPI</strong>(3), <strong>pmErrStr</strong>(3), <strong>__pmSpecLocalPMDA</strong>(3), <strong>pcp.conf</strong>(5), <a href="../man5/pcp.env.5.html"><strong>pcp.env</strong>(5)</a> and <strong>pmns</strong>(5).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pmpost.1.html"><span aria-hidden="true">&larr;</span> pmpost.1: append messages to the Performance Co-Pilot notice board</a></li>
   <li class="next"><a href="pmproxy.1.html">pmproxy.1: proxy for performance metrics collector daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
