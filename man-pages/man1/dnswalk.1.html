<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dnswalk: A dns database debugger</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A dns database debugger">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dnswalk (1) manual">
  <meta name="twitter:description" content="A dns database debugger">
  <meta name="twitter:image" content="https://www.carta.tech/images/dnswalk-dnswalk-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dnswalk.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dnswalk (1) manual" />
  <meta property="og:description" content="A dns database debugger" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dnswalk-dnswalk-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dnswalk<small> (1)</small></h1>
        <p class="lead">A dns database debugger</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dnswalk.1.html">
      <span itemprop="name">dnswalk: A dns database debugger</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dnswalk/">
      <span itemprop="name">dnswalk</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dnswalk.1.html">
      <span itemprop="name">dnswalk: A dns database debugger</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dnswalk</strong> [ <strong>-</strong>adilrfFm ] <em>domain.</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dnswalk</strong> is a DNS debugger.  It performs zone transfers of specified domains, and checks the database in numerous ways for internal consistency, as well as for correctness according to accepted practices with the Domain Name System.</p><p>The <em>domain</em> name specified on the command line MUST end with a '.'. You can specify a forward domain, such as <strong>dnswalk podunk.edu.</strong> or a reverse domain, such as <strong>dnswalk 3.2.1.in-addr.arpa.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Recursively descend sub-domains of the specified domain.  Use with care.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Turn on warning of duplicate A records.  (see below)</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Print debugging and 'status' information to stderr. (Use only if redirecting stdout)  See DIAGNOSTICS section.</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Perform checks only if the zone has been modified since the previous run.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>perform "fascist" checking.  When checking an A record, compare the PTR name for each IP address with the forward name and report mismatches.  (see below)  I recommend you try this option at least once to see what sorts of errors pop up - you might be surprised!.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>Suppress check for invalid characters in a domain name.  (see below)</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>Perform "lame delegation" checking.  For every NS record, check to see that the listed host is indeed returning authoritative answers for this domain.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<p>The following the list of error messages that <strong>dnswalk</strong> will return if it sees a potential problem with the database.  Duplicate messages will be suppressed automatically for each zone.  Error messages are prefixed by a keyword indiciating the message type: "WARN" (possible data problem), "FAIL" (failure to access data), or "BAD" (invalid data). <strong>dnswalk</strong> exits with a return code equal to the number of "BAD" errors.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>X PTR Y: unknown host</strong></p>
  </dt>
  <dd>
    <p>X is a PTR record to Y, but Y is not a valid host (no A record). These are often left over from when someone deleted a host from the DNS and forgot to delete the PTR record.</p>
  </dd>
  <dt>
    <p><strong>X PTR Y: A record not found</strong></p>
  </dt>
  <dd>
    <p>X is a PTR record to Y, but the IP address associated with the PTR record is not listed as an address for Y.  There should be an A record for every valid IP address for a host.  Many Internet services will not talk to you if you have mismatched PTR records.</p>
  </dd>
  <dt>
    <p><strong>X PTR Y: CNAME (to Z)</strong></p>
  </dt>
  <dd>
    <p>X is a PTR record to Y, but Y is a CNAME to Z.  PTR records MUST point to the canonical name of a host, not an alias.</p>
  </dd>
  <dt>
    <p><strong>X CNAME Y: unknown host</strong></p>
  </dt>
  <dd>
    <p>X is aliased to Y, but Y is not a valid host (no A record).</p>
  </dd>
  <dt>
    <p><strong>X CNAME Y: CNAME (to Z)</strong></p>
  </dt>
  <dd>
    <p>X is aliased to Y, but Y is aliased to Z.  CNAMEs should not be chained.</p>
  </dd>
  <dt>
    <p><strong>X MX Y: unknown host</strong></p>
  </dt>
  <dd>
    <p>X is an MX to Y, but Y is not a valid host (no A record).</p>
  </dd>
  <dt>
    <p><strong>X MX Y: CNAME (to Z)</strong></p>
  </dt>
  <dd>
    <p>X is an MX to Y, but Y is an alias for Z.  MX records must point to the canonical name, not an alias.</p>
  </dd>
  <dt>
    <p><strong>X A Y: no PTR record</strong></p>
  </dt>
  <dd>
    <p>X has an IP address Y, but there is no PTR record to map the IP address Y back to a hostname (usually X). Many Internet servers (such as anonymous FTP servers) will not talk to addresses that don't have PTR records.</p>
  </dd>
  <dt>
    <p><strong>warning: X has only one authoritative nameserver</strong></p>
  </dt>
  <dd>
    <p>Zones must have at least one authoritative nameserver, in case one is down or unreachable.  Make sure the parent and child domains list all authoritative nameservers for a zone.</p>
  </dd>
  <dt>
    <p><strong>Cannot check X: no available nameservers!</strong></p>
  </dt>
  <dd>
    <p>The  X  zone  was delegated with NS records but all the nameservers for the zone are either unavailable or say that they have no data for the zone (are lame).  Verify that  the X zone isn't a typo, and if so make sure that all the listed nameservers are configured to answer with data for the zone.</p>
  </dd>
  <dt>
    <p><strong>X: invalid character(s) in name</strong></p>
  </dt>
  <dd>
    <p>Allowable characters in a domain name are the ASCII letters a through Z the digits 0 through 9, and the "-" character.  A "." may be used only as a domain separator. (checking can be suppressed with <strong>-i</strong> )</p>
  </dd>
  <dt>
    <p><strong>X: domain occurred twice, forgot trailing '.'?</strong></p>
  </dt>
  <dd>
    <p>A sanity check which looks for "dom.ain.dom.ain." in a name.  This is often caused by forgetting to put a trailing '.' on the end of a name.</p>
  </dd>
  <dt>
    <p>(with -a switch)</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>X: possible duplicate A record (glue of Z?)</strong></p>
  </dt>
  <dd>
    <p>A duplicate A records is listed for X.  NOTE: this is most often caused by the practice of always putting A records for all secondaries after NS glue records.  While this is not an error, it is usually redundant and makes changing IP addresses later more difficult, since they occur more than one time in the file (and in multiple files).  You may get spurious errors, mostly because of a quirk in BIND releases before 4.9.x that reports cached glue A records in a zone transfer even though they don't exist in the original zone file.</p>
  </dd>
  <dt>
    <p>(with -F switch)</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>X A Y: points to Z</strong></p>
  </dt>
  <dd>
    <p>X has Y for an IP address, but the PTR record associated with Y returns "Z" as the name associated with that host.  This is not necessarily an error (for example if you have an A record for your domain name), but can be useful to check for A records which point to the wrong host, or PTR records that point to the wrong host.</p>
  </dd>
  <dt>
    <p><strong>Cannot find address for nameserver X</strong></p>
  </dt>
  <dd>
    <p>This error is generated if the address for a delegated nameserver X cannot be resolved.  This could be a lame delegation (due to a typo in delegation), or a temporary DNS error.</p>
  </dd>
  <dt>
    <p>(with -l switch)</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>X NS Y: lame NS delegation</strong></p>
  </dt>
  <dd>
    <p>Y is a listed nameserver for zone X, but Y is not returning authoritative data for zone X.  This is usually the result of a lack of communication on the part of the respective hostmasters.  Lame delegations are not fatal problems except in severe cases, they just tend to create significant increases in DNS traffic.  NS records for the parent and child domains should be consistent, and each server listed in the NS record MUST be able to answer with authoritative data, either by being a primary or secondary for the zone.</p>
  </dd>
  <dt>
    <p><strong>Cannot get SOA record for X from Y (lame?)</strong></p>
  </dt>
  <dd>
    <p>This error is generated if dnswalk cannot get the SOA record for zone X from the nameserver Y.  This could mean a lame delegation, or simply that the host is temporarily unreachable.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dnswalk&hellip;</h2>
        <div class="sectioncontent">

<pre>
RFC 1034 - "DOMAIN NAMES - CONCEPTS AND FACILITIES"
RFC 1035 - "DOMAIN NAMES - IMPLEMENTATION AND SPECIFICATION"
RFC 1123 - "Requirements for Internet Hosts -- Application and Support"
Paul Albitz, Cricket Liu: "DNS and BIND" O'Reilly & Associates.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>When invoked with the <strong>-d</strong> option, <strong>dnswalk</strong> will print status information to stderr.  It consists of information about what zone is being checked, and a single letter corresponding to the resource record checked, and any errors.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>a</strong></p>
  </dt>
  <dd>
    <p>A record</p>
  </dd>
  <dt>
    <p><strong>c</strong></p>
  </dt>
  <dd>
    <p>CNAME record</p>
  </dd>
  <dt>
    <p><strong>p</strong></p>
  </dt>
  <dd>
    <p>PTR record</p>
  </dd>
  <dt>
    <p><strong>m</strong></p>
  </dt>
  <dd>
    <p>MX record</p>
  </dd>
  <dt>
    <p><strong>s</strong></p>
  </dt>
  <dd>
    <p>SOA record</p>
  </dd>
  <dt>
    <p><strong>!</strong></p>
  </dt>
  <dd>
    <p>An error occurred</p>
  </dd>
  <dt>
    <p><strong>.</strong></p>
  </dt>
  <dd>
    <p>A previous error in the zone was repeated, but suppressed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>dnswalk will make the directory tree before it has a chance to find out that you gave it a bogus domain name.</p><p>When checking lots of hosts and lots of options, it is very slow.  Running dnswalk on a machine with a local nameserver helps considerably.</p><p>Perl's gethostby{name,addr}() routine doesn't seem to consistently return an error whenever it is unable to resolve an address.  Argh.  This will mean lots of "no PTR record" and "host unknown" errors if a server is unavailable, or for some reason the lookup fails. You may get strange error messages if your perl was compiled without support for herror().</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>David Barr &lt;barr@cis.ohio-state.edu&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dnsubmit.1.html"><span aria-hidden="true">&larr;</span> dnsubmit.1: Submit a batch job on a vms system  dnprint - print a file on a vms system</a></li>
   <li class="next"><a href="dntask.1.html">dntask.1: Execute vms command procedures <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
