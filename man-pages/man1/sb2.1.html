<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sb2: Crosscompiling environment</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Crosscompiling environment">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sb2 (1) manual">
  <meta name="twitter:description" content="Crosscompiling environment">
  <meta name="twitter:image" content="https://www.carta.tech/images/scratchbox2-sb2-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sb2.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sb2 (1) manual" />
  <meta property="og:description" content="Crosscompiling environment" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/scratchbox2-sb2-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sb2<small> (1)</small></h1>
        <p class="lead">Crosscompiling environment</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sb2.1.html">
      <span itemprop="name">sb2: Crosscompiling environment</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/scratchbox2/">
      <span itemprop="name">scratchbox2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sb2.1.html">
      <span itemprop="name">sb2: Crosscompiling environment</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sb2</strong> [options] [command] [arguments] [...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sb2</strong> runs command in a scratchbox2 session. If no command is given, an interactive shell is started.</p><p>Scratchbox2 is typically used to create a <em>transparent cross-compiling environment</em> for developing programs and compiling software packages for e.g. embedded devices.</p><p>The environment created by <strong>sb2</strong> has essential differences to the host OS environment:</p><p>First, a virtual file system view is presented to the applications. In practise that means that the file names (paths) which an application uses may be modified before the OS does its operations; applications observe a different file system that what the real file system is. For example, common directories like /bin, /usr/lib and /lib can be changed to point to target-specific directories, which contain files for a different CPU architecture than what the host has.</p><p>Second, scratchbox2 makes execution of foreign binaries completely transparent. Target's binaries can be executed on the host just as if they were host's binaries; scratchbox2 will start a <em>CPU transparency method</em> automatically whenever needed (Qemu is typically used for this).</p><p>The result is that the development machine appears as a virtual target system to the software development tools, and complex tools (like GNU Autotools) can be used directly.</p><p>Scratchbox2 works by intercepting library calls of dynamically linked binaries. It uses a flexible and highly configurable rule engine, when deciding when, what, and how to modify parameters of the intercepted calls; this is completely transparent to the users and applications. Scratchbox2 2 does not need any special privileges or kernel-level services; it is completely based on features that are available for all ordinary users.</p><p>Configuration data is stored to a <em>target</em> (see <a href="../man1/sb2-init.1.html"><strong>sb2-init</strong>(1)</a> for details about creating a target). The target contains defaults for all settings that are needed when a session is created.</p><p>A new session is created every time when the <strong>sb2</strong> command is used (unless one of the persistent session control options is present - see options -S,-J and -D below).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>-c</p>
  </dt>
  <dd>
    <p>When creating a session, also create a private copy of the target root filesystem (rootstrap). Modifications done to the copy will be thrown away when the session is destroyed. Note that the copy operation can be really slow, depending on the size of the file system, but if the copy goes to a ramdisk, overall performance may much be better (see also option -W).</p>
  </dd>
  <dt>
    <p>-C DIR</p>
  </dt>
  <dd>
    <p>When creating a session, create copy of DIR and use it as the target root filesystem (rootstrap). Note that this can be really slow. See also option -c.</p>
  </dd>
  <dt>
    <p>-d</p>
  </dt>
  <dd>
    <p>Use debug mode: same as <strong>-L debug</strong></p>
  </dd>
  <dt>
    <p>-D FILE</p>
  </dt>
  <dd>
    <p>Delete a persistent session associated with FILE. Warning: this does not check if the session is still in use! (see also -S and -J)</p>
  </dd>
  <dt>
    <p>-e</p>
  </dt>
  <dd>
    <p>Same as <strong>-m emulate:</strong> Use emulation mode, avoid executing any host binaries except qemu. See <strong>mapping modes</strong> below.</p>
  </dd>
  <dt>
    <p>-f args</p>
  </dt>
  <dd>
    <p>additional fakeroot arguments (see option -R)</p>
  </dd>
  <dt>
    <p>-g</p>
  </dt>
  <dd>
    <p>Create a new session with setsid(); useful when executing commands in the background (i.e. creates a system session and a new process group, and detaches from the controlling terminal. See <a href="../man2/setsid.2.html"><strong>setsid</strong>(2)</a> for more info)</p>
  </dd>
  <dt>
    <p>-G file</p>
  </dt>
  <dd>
    <p>Append process group number to a file.</p>
  </dd>
  <dt>
    <p>-h</p>
  </dt>
  <dd>
    <p>Print help.</p>
  </dd>
  <dt>
    <p>-J FILE</p>
  </dt>
  <dd>
    <p>Join a persistent session associated with FILE (see also -D and -S)</p>
  </dd>
  <dt>
    <p>-L LEVEL</p>
  </dt>
  <dd>
    <p>Enable logging. Following values for LEVEL are available (in order of increasing level of details): error, warning, notice, info, debug, noise, noise2. The default is <em>warning.</em> Logs can be post-processed with <em>sb2-logz,</em> a tool which produces summaries and visualizes various things that were logged.</p>
  </dd>
  <dt>
    <p>-m MODE</p>
  </dt>
  <dd>
    <p>Use one of the pre-defined mapping modes.  See <strong>mapping modes</strong> below.</p>
  </dd>
  <dt>
    <p>-M FILE</p>
  </dt>
  <dd>
    <p>Read mapping rules from FILE.</p>
  </dd>
  <dt>
    <p>-O OPTIONS</p>
  </dt>
  <dd>
    <p>Set options for the selected mapping mode. OPTIONS is a mode-specific string.</p>
  </dd>
  <dt>
    <p>-Q BUGLIST</p>
  </dt>
  <dd>
    <p>Emulate bugs of scratchbox 1 (BUGLIST consists of letters: 'x' enables exec permission checking bug emulation).</p>
  </dd>
  <dt>
    <p>-r</p>
  </dt>
  <dd>
    <p>Disable creating reverse mapping rules: functions like getcwd() and realpath() will always return the real path.</p>
  </dd>
  <dt>
    <p>-R</p>
  </dt>
  <dd>
    <p>"superuser  mode": Execute commands in fakeroot environment (see <strong>fakeroot</strong>(1) for details). Depending on the selected mapping mode, this may also disables some mode-specific features, like simulated write protection of the target filesystem.</p>
  </dd>
  <dt>
    <p>-s DIRECTORY</p>
  </dt>
  <dd>
    <p>Use redirection rules from the DIRECTORY given in argument.</p>
  </dd>
  <dt>
    <p>-S FILE</p>
  </dt>
  <dd>
    <p>Create a persistent session: Write session information to FILE (see also -D and -J)</p>
  </dd>
  <dt>
    <p>-t TARGET</p>
  </dt>
  <dd>
    <p>Define TARGET to use. Use <em>sb2-config -d TARGET</em> to set a default.</p>
  </dd>
  <dt>
    <p>-T DIRECTORY</p>
  </dt>
  <dd>
    <p>Use DIRECTORY as tools_root (override the value which was specified to sb2-init when the target specification was created).</p>
  </dd>
  <dt>
    <p>-u</p>
  </dt>
  <dd>
    <p>Disable automatic configuration upgrade.</p>
  </dd>
  <dt>
    <p>-v</p>
  </dt>
  <dd>
    <p>Display version number.</p>
  </dd>
  <dt>
    <p>-W DIR</p>
  </dt>
  <dd>
    <p>Use DIR as the session directory when creating the session (The default is to create the session in /tmp). DIR must be an absolute path and must not exist. Note that long pathnames may cause trouble with socket operations, so try to keep DIR as short as possible.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>sb2 ./configure</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>sb2 make</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>sb2 -eR make install</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>sb2 -R -m emulate make install</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MAPPING MODES</h2>
        <div class="sectioncontent">
<p>Scratchbox2 contains several ready-made rulesets, called <em>mapping modes,</em> for different purposes. This manual page presents only the basics of each. Full details can be found from the rulesets themselves.</p><p>There are three development-oriented modes, that are intended for cross-compilation:</p><p>"simple" makes only the very basic modifications to the file environment: For example, <em>/usr/include</em> refers to /usr/include in the target root file system, not to the real /usr/include of the host (and the same applies to /lib, /usr/lib, and many other directories). Typical toolchain commands, i.e. commands that are used to create binary programs (like <em>gcc, as</em> and <em>ld)</em> refer to tools that were supplied with the the cross-compiler which was configured with <em>sb2-init</em> (also when used with full pathname: /usr/bin/gcc, /usr/bin/as, etc)</p><p>The "simple" mode usually takes other tools directly from the host OS. This approach means that simple tools work fine, and well-behaving OSS projects can be compiled with the "simple" mode. The drawback is that there are some cases, where such a simple approach fails.</p><p>The other two development modes, "accel" and "devel" have more complete support for different tools, but these are not necessarily as easy to set up as the "simple" mode is. Both "accel" and "devel" are intended to be used with a separate "tools root" directory, consisting of host-compatible binaries of the same programs that exist in the target file system as foreign binaries (e.g. target root can contain arm binaries, whereas tools root has x86 binaries of the exactly versions of the same programs). This is configured with the -t option of <a href="../man1/sb2-init.1.html"><strong>sb2-init</strong>(1)</a>.</p><p>In addition to the development-oriented modes, scratchbox2 also has an "emulate" mode, which sets up an environment without development tools: It maps as many paths to the target root as possible.  It can be used for installing programs to the target filesystem and testing them.</p><p>"tools" mode is very much like "emulate", except that there most things are mapped to tools root.</p><p>"nomap" mode is a special mapping mode, which is mostly useful only for debugging purposes: It does not apply any file system related mappings, but otherwise scratchbox2 functions are fully operational.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>$HOME/.scratchbox2/*</em></p><p><em>$HOME/sb2_logs</em></p><p><em>/usr/share/scratchbox2/*</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sb2&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/sb2-init.1.html"><strong>sb2-init</strong>(1)</a>, <a href="../man1/sb2-config.1.html"><strong>sb2-config</strong>(1)</a>, <a href="../man1/sb2-show.1.html"><strong>sb2-show</strong>(1)</a>, <a href="../man1/sb2-logz.1.html"><strong>sb2-logz</strong>(1)</a>, <a href="../man1/sb2-session.1.html"><strong>sb2-session</strong>(1)</a>, <strong>fakeroot</strong>(1), <strong>qemu</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>No known bugs at this time.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">

<pre>
Lauri T. Aarnio, Riku Voipio
</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sb16ctrl.1.html"><span aria-hidden="true">&larr;</span> sb16ctrl.1: Soundblaster16 emulator control program for bochs</a></li>
   <li class="next"><a href="sb2-config.1.html">sb2-config.1: Scratchbox2 configuration tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
