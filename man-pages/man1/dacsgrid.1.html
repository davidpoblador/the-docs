<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dacsgrid: Administer grid-based one-time passwords</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Administer grid-based one-time passwords">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dacsgrid (1) manual">
  <meta name="twitter:description" content="Administer grid-based one-time passwords">
  <meta name="twitter:image" content="https://www.carta.tech/images/dacs-dacsgrid-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dacsgrid.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dacsgrid (1) manual" />
  <meta property="og:description" content="Administer grid-based one-time passwords" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dacs-dacsgrid-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dacsgrid<small> (1)</small></h1>
        <p class="lead">Administer grid-based one-time passwords</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dacsgrid.1.html">
      <span itemprop="name">dacsgrid: Administer grid-based one-time passwords</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dacs/">
      <span itemprop="name">dacs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dacsgrid.1.html">
      <span itemprop="name">dacsgrid: Administer grid-based one-time passwords</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dacsgrid</strong> [<em>\m[blue]</em><strong>dacsoptions</strong>\m[]\s-2\u[1]\d\s+2] [<strong>-challenge</strong>] [<strong>-clen&nbsp;</strong><strong></strong><em>num</em>] [<strong>-copy&nbsp;</strong><strong></strong><em>vfs_uri</em>]</p><p>[<strong>-dec&nbsp;</strong><strong></strong><em>token</em>] [<strong>-delete</strong>] [<strong>-disable</strong>] [<strong>-enable</strong>] [<strong>-enc&nbsp;</strong><strong></strong><em>challenge</em>] [<strong>-expired</strong>]</p><p>[<strong>-flat</strong>] [<strong>-get</strong>] [<strong>-grid&nbsp;</strong><strong></strong><em>str</em>] [<strong>-h</strong> | <strong>-help</strong>] [<strong>-html</strong>] [<strong>-htmlcss</strong>]</p><p>[<strong>-inkeys&nbsp;</strong><strong></strong><em>item_type</em>] [<strong>-lifetime&nbsp;</strong><strong></strong><em>ndays</em>] [<strong>-list</strong>] [<strong>-long</strong>] [<strong>-ncols&nbsp;</strong><strong></strong><em>num</em>]</p><p>[<strong>-nrows&nbsp;</strong><strong></strong><em>num</em>] [<strong>-outkeys&nbsp;</strong><strong></strong><em>item_type</em>] [<strong>-pin</strong>&nbsp;[<em>num</em>]] [<strong>-refresh</strong>] [<strong>-rnd</strong>] [<strong>-seed&nbsp;</strong><strong></strong><em>str</em>]</p><p>[<strong>-serial</strong>] [<strong>-set</strong>] [<strong>-size</strong>] [<strong>-test</strong>] [<strong>-text</strong>] [<strong>-validate&nbsp;</strong><strong></strong><em>challenge</em><strong>&nbsp;</strong><strong></strong><em>response</em>]</p><p>[<strong>-vfs&nbsp;</strong><strong></strong><em>vfs_uri</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program is part of the <strong>DACS</strong> suite.</p><p>The <strong>dacsgrid</strong> utility provides software-based one-time passwords for <strong>DACS</strong> authentication using a challenge-response architecture. It administers accounts that are used by the \m[blue]<strong>local_grid_authenticate</strong>\m[]\s-2\u[2]\d\s+2 authentication module. These accounts are completely separate from the accounts used by \m[blue]<strong>local_passwd_authenticate</strong>\m[]\s-2\u[3]\d\s+2 or any other <strong>DACS</strong> authentication module.</p><p><strong>dacsgrid</strong> generates a rectangular grid of cells. Each cell consists of a letter, followed by a digit, followed by a letter, yielding 6,760 (26*10*26) possible three-character-long strings. The contents of each cell are generated from cryptographically-strong pseudo-random bytes. The maximum grid size is 99 rows by 26 columns, and the minimum grid size is 3 by 3. The columns are labelled A through Z and the rows are labelled 1 through 99. For recommended grid sizes, it is highly likely that each grid that is generated is unique and therefore that each user will be assigned a different grid.</p><p>Here is a 10x10 grid (the default size):</p>
<pre>
     A   B   C   D   E   F   G   H   I   J
 1  x7m p7m k4c q9s q2k d9l s5m r8c y3v g2m
 2  o0c t6h q7k l3w p8a q3e b9c l0w z8y c8v
 3  v8n n1w r6i i0g e9y q1n p0g g9v x4y c5u
 4  z8a o9d l1e e8n u8z h3y p2s b9z c6w d5f
 5  x8y o2a y4g d9i s4p c9n c1e m5z o6j m0f
 6  p2s x4c a2x p4f w7y b8k e6c q9g q5v s4z
 7  b8k r4s r2p z5x v3e s0h h5l z6y e9o g6m
 8  r5x m4r a1w f8c f5g l2z q7j r4m w0c x9a
 9  p7s r3g i7c p8a t5x c4h h0k k9d i7k r9n
10  w4l v0a p9g i0l v2n b8h v9j s0y r3k v0m

Serial: 2497a62a83ad4bc4
Created: Mon Aug 14 10:25:03 2006 PDT
</pre>
<p>A cell is identified by its column label (a letter) followed by its row label (a number); e.g., in the example above, cell F6 has the value b8k.</p><p>Each grid is assigned a random (and presumably unique) identification string (labelled "Serial" in the example above); this string is stored on the server with other grid account data. It can be displayed by a jurisdiction at login time as a way of authenticating itself to a user, provided it is kept confidential (one approach might be for each of the parties to supply a different half of the identification string to the other).</p><p>At authentication time, the user is presented with a randomly-generated challenge that is appropriate for the user&apos;s grid. The challenge is displayed to the user; e.g., "A3, C9, B1, F9". The grid&apos;s serial number, or a portion of it, might also be displayed. The user must consult his grid to locate each of the cells for the given challenge and enter their contents as the password. Letters are case insensitive, blanks, tabs, and commas are ignored. For the grid and challenge above, the user would enter the following characters as the password:</p>
<pre>
v8ni7cp7mc4h
</pre>
<p>Note that a challenge may ask for the same cell more than once.</p><p>A challenge is valid for a configurable length of time after which it can no longer be used for authentication; see \m[blue]<strong>AUTH_GRID_CHALLENGE_SECS</strong>\m[]\s-2\u[4]\d\s+2.</p><p>To judge how long a challenge should be, assume that user-selected passwords are chosen randomly and uniformly from approximately 100 characters available on a keyboard. This is a very generous assumption that is seldom realized in practice. A grid challenge of four cells is much stronger than a user-selected password of six characters (69604 vs. 1006) and a grid challenge of five cells is much stronger than a user-selected password of nine characters (69605 vs. 1009). When compared to typical user passwords, however, a grid challenge of three cells is probably about as strong as a user-chosen password of seven or eight characters.</p><p>Grids are accessed through <strong>DACS&apos;s</strong> virtual filestore using item type auth_grid. It is assumed that file permissions on the database of grids are such that all access is limited to the administrator and <strong>local_grid_authenticate</strong>.</p><p>After a run-time configurable period, a grid expires and will not be accepted for authentication purposes by <strong>local_grid_authenticate</strong> (see \m[blue]<strong>AUTH_GRID_LIFETIME_SECS</strong>\m[]\s-2\u[5]\d\s+2) or <strong>dacsgrid</strong> (see <strong>-lifetime</strong>). The validity period of a grid might be based on several factors, such as how often it is used at a jurisdiction, the number of cells in the grid, the degree of security required, or how difficult or expensive it is to distribute a grid to its user.</p><p>At the time a grid is generated, <strong>dacsgrid</strong> can associate a randomly chosen PIN with it. A PIN, which acts as a secondary password, consists of a sequence of letter-digit-letter cells. The default PIN length of two cells (6 characters) can be overridden on the command line. If a user has been provided with a PIN, it should be entered at the start of the user&apos;s response to the challenge, immediately before the contents of the first cell of the challenge are entered.</p><p><strong>Security</strong></p><p>When used properly, this authentication method can be comparatively secure. The main challenge is that it is essential that grids and PINs are distributed to users via a sufficiently secure method; e.g., by printing them and mailing a hardcopy directly to the user, or by using existing secure channels. Each user must understand that a grid is essentially a list of passwords and, accordingly, must be kept secret during its validity period. When PINs are used, they must be distributed using a secure channel different from the one used to distribute grids. How this distribution is done is left to the <strong>DACS</strong> administrator.</p><p>Information is encrypted before being written to the grid account file. By default, the virtual filestore item type auth_grid_keys identifies the encryption keys to use; the <strong>-inkeys</strong> and <strong>-outkeys</strong> flags specify alternatives (see \m[blue]<a href="../man1/dacskey.1.html"><strong>dacskey</strong>(1)</a></strong>\m[]\s-2\u[6]\d\s+2). File permissions must be set so that the encryption keys are readable only by <strong>dacsgrid</strong>. If the encryption keys are lost, the account entries are practically unrecoverable.</p><p>Only the <strong>DACS</strong> administrator should be able to successfully run this program from the command line. Because <strong>DACS</strong> keys and configuration files, including the file used to store accounts, must be restricted to the administrator, this will normally be the case, but a careful administrator will set file permissions to deny access to all other users.</p><p>This authentication method has the following advantages:</p><p>Each time a user authenticates, a different password will be requested (with high probability)</p><p>The password that is required is not known prior to authentication, so a user cannot tell someone else what his password is other than by sharing the entire grid (and the PIN, if any)</p><p>Because the password is unlikely to be an easily-guessed word or phrase, it should be stronger than a user-selected password</p><p>Should a key sniffer be installed on the user&apos;s computer, a sniffed password does not do an attacker any good, since it is highly unlikely to be reused. If the corresponding challenge can also be obtained by an attacker, such as through a phishing attack, a portion of the grid will be revealed</p><p>The length of the challenge (which determines the length of the password) is configurable by the administrator and can be changed at will</p><p>A user&apos;s grid can easily be changed by an administrator as often as practical</p><p>The method is cheaper than hardware-based one-time passwords, provided distribution costs are low</p><p>This authentication method has the following potential disadvantages:</p><p>The authentication method is inherently interactive in that the password is not known <em>a priori</em>, although this does not guarantee that the user is physically present</p><p>Secure channels are needed to distribute grids and PINs</p><p>An authentication grid can be easily copied and so it is best used in conjunction with PINs or at least one other authentication method; the challenge of keeping grids secret in all situations is the main reason why the method is not as strong as hardware token-based methods, which are more difficult to copy and can be protected by a PIN. The method is best employed in situations where a grid is not likely to be stolen, easily copied, or even recognized, such as for remote access.</p><p>This authentication method falls somewhere between the "something you know" form and the "something you have" form. One might be able to memorize a smaller grid, putting it into the former category, but few are capable of memorizing a large grid, which makes it necessary to have a copy in one&apos;s possession. Using PINs provides something closer to two-factor authentication and strengthens the method since a captured grid is not directly usable.</p><p><strong>Note</strong></p><p>It is possible for different users to be assigned grids of different sizes. To prevent generation of a challenge that is impossible to satisfy, when the challenge is requested either the corresponding grid must be of the default size, the dimensions of the grid must be specified, or the username must be specified.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>In addition to the standard \m[blue]<strong></strong><em>dacsoptions</em>\m[]\s-2\u[1]\d\s+2, the following command line flags are recognized:</p><p><strong>-challenge</strong></p><p>Emit a random challenge. If <em>username</em> was specified, a size-appropriate challenge will be produced; otherwise, if grid dimensions have been specified, a suitable challenge will be produced; otherwise, the default grid dimensions will be used when producing a challenge.</p><p><strong>-clen</strong> <em>num</em></p><p>Set the challenge length to <em>num</em> cells. The minimum length is 3 cells and the default length is 4 cells.</p><p><strong>-copy</strong> <em>vfs_uri</em></p><p>Copy the input grids to the grids specified by <em>vfs_uri</em>, deleting any existing contents.</p><p><strong>-dec</strong> <em>token</em></p><p>Decrypt a challenge token produced by the <strong>-enc</strong> option and print it.</p><p><strong>-delete</strong></p><p>Delete the account for <em>username</em>.</p><p><strong>-disable</strong></p><p>Disable logins for <em>username</em>. Implies <strong>-set</strong>.</p><p><strong>-enable</strong></p><p>Enable logins for <em>username</em>. Implies <strong>-set</strong>.</p><p><strong>-enc</strong> <em>challenge</em></p><p>Encrypt a challenge (typically, produced by the <strong>-challenge</strong> option) and print it. The item type federation_keys is used for this purpose, which means that any jurisdiction in the federation can decrypt the challenge.</p><p><strong>-expired</strong></p><p>List only expired grids, relative to the grid lifetime in effect. Implies <strong>-list</strong>.</p><p><strong>-flat</strong></p><p>Print a grid in a concise textual representation that consists of three comma-separated fields: the serial number, enabled/disabled flag (non-zero means enabled), the grid (as an ordered sequence of space-separated rows), a PIN (or zero if there is no PIN), and the creation date (as the number of seconds since the epoch).</p><p><strong>-get</strong></p><p>Retrieve the grid for <em>username</em> and make it the "current" grid for display purposes.</p><p><strong>-grid</strong> <em>str</em></p><p>Make <em>str</em>, a grid in the flattened representation, the "current" grid for display purposes or the <strong>-set</strong> flag.</p><p><strong>-h</strong></p><p><strong>-help</strong></p><p>Display a help message and exit.</p><p><strong>-html</strong></p><p>Emit a grid as a fragment of an HTML document.</p><p><strong>-htmlcss</strong></p><p>Emit a grid as a fragment of an HTML document with some CSS.</p><p><strong>-inkeys </strong><strong></strong><em>item_type</em></p><p>For decrypting account information, use the store identified by <em>item_type</em>.</p><p><strong>-lifetime</strong> <em>ndays</em></p><p>Consider the lifetime of grids to be <em>ndays</em> days. Grids do not have a fixed lifetime; only their date of creation is recorded. The default lifetime is 7 days.</p><p><strong>-list</strong></p><p>List <em>username</em>, if given, otherwise all usernames.</p><p><strong>-long</strong></p><p>Produce more detailed listing output. Implies <strong>-list</strong>.</p><p><strong>-ncols</strong> <em>num</em></p><p>Set the number of grid columns to <em>num</em>, which is between 3 and 26. This is used when generating grids and challenges.</p><p><strong>-nrows</strong> <em>num</em></p><p>Set the number of grid rows to <em>num</em>, which is between 3 and 99. This is used when generating grids and challenges.</p><p><strong>-outkeys </strong><strong></strong><em>item_type</em></p><p>For encrypting account information, use the store identified by <em>item_type</em>.</p><p><strong>-pin</strong>[<em>num</em>]</p><p>If no other operation is specified, print the PIN, if any, for <em>username</em>. With the <strong>-set</strong> flag, generate a new PIN for <em>username</em>. If a non-negative integer is appended to the flag (e.g., <strong>-pin0</strong>, <strong>-pin4</strong>), the PIN length (in cell units) is set to that number with respect to PIN generation. The default PIN length is 2 cells. Setting the PIN length to zero turns off PIN generation.</p><p><strong>-refresh</strong></p><p>If a <em>username</em> is given, generate a new grid for that user. If no <em>username</em> is given, generate a new grid for each user that already has a grid. Any existing grid immediately becomes invalid. All of these grids will have the same dimensions. If the <strong>-grid</strong> flag is given, it is ignored. By default, any existing PIN is retained. The old grid&apos;s enabled/disabled status is retained. If the <strong>-pin</strong> flag is given, a new PIN will be generated; if <strong>-pin0</strong> is given, however, new grids will not have a PIN.</p><p><strong>-rnd</strong></p><p>Reserved for future use.</p><p><strong>-seed</strong> <em>str</em></p><p>Reserved for future use.</p><p><strong>-serial</strong></p><p>Print the serial number of the current grid.</p><p><strong>-set</strong></p><p>Set or replace the grid for <em>username</em>.</p><p><strong>-size</strong></p><p>Display the grid dimensions in terms of the command line flags <strong>-ncols</strong> and <strong>-nrows</strong>. Implies <strong>-list</strong>.</p><p><strong>-test</strong></p><p>Emit a grid and a challenge, prompt from a response, and verify the response.</p><p><strong>-text</strong></p><p>Emit a pretty-printed grid.</p><p><strong>-validate</strong> <em>challenge</em> <em>response</em></p><p>Validate <em>response</em> against <em>challenge</em>.</p><p><strong>-vfs</strong> <em>vfs_uri</em></p><p>Instead of using the item type auth_grid to specify which grids to act on, use <em>vfs_uri</em> (see the \m[blue]<strong>VFS</strong>\m[]\s-2\u[7]\d\s+2 configuration directive).</p><p>The default action is to display the current grid. Apart from error messages, which are printed to the standard error, all output goes to the standard output.</p><p>Ordinarily, a <em>dacsoption</em> will be specified to select the jurisdiction on behalf of which grids are being created.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>These examples assume that the jurisdiction name to use is EXAMPLE and its domain is example.com.</p><p>To use this authentication method, a <strong>DACS</strong> administrator would perform the following steps:</p><p>After reviewing the way the method operates, decide how grids will be securely distributed to users, select the grid parameters, decide whether PINs will be used and how they will be securely distributed, and determine a schedule for refreshing grids (and perhaps PINs).</p><p>Decide where the grids will be stored and add a suitable VFS directive to dacs.conf, for example:</p>
<pre>
VFS "[auth_grid]dacs-kwv-fs:${Conf::FEDERATIONS_ROOT}/&#92;
${Conf::FEDERATION_DOMAIN}/${Conf::JURISDICTION_NAME}/grids"
</pre>
<p>Generate keys, decide where they will be stored, and add a suitable VFS directive to dacs.conf, for example (your user ID, groupID, and path may vary):</p>
<pre>
% cd /usr/local/dacs/federations_root/example.com/EXAMPLE
% dacskey -uj EXAMPLE -q auth_grid_keys
% chgrp www auth_grid_keys
% chmod 0640 auth_grid_keys
</pre>

<pre>
VFS "[auth_grid_keys]dacs-fs:${Conf::FEDERATIONS_ROOT}/&#92;
${Conf::FEDERATION_DOMAIN}/${Conf::JURISDICTION_NAME}/auth_grid_keys"
</pre>
<p>Configure a suitable Auth clause in dacs.conf, for example:</p>
<pre>
&lt;Auth id="grid"&gt;
URL "https://example.com/cgi-bin/dacs/local_grid_authenticate"
STYLE "pass"
CONTROL "sufficient"
&lt;/Auth&gt;
</pre>
<p>For each user that will be capable of authenticating using this method: a) generate a grid of the necessary dimensions, with or without a PIN (as required); b) obtain the grid in the most suitable format and give it to its owner; and c) if there is a PIN, obtain the PIN and give it to its owner.</p><p>Refresh the grid (and, optionally, the PIN) as scheduled and give the user the replacement grid.</p><p>To create and display a grid (but not create an account):</p>
<pre>
% dacsgrid -uj EXAMPLE
</pre>
<p>To generate a grid of default dimensions and assign it to username bobo (replacing any existing grid for that user):</p>
<pre>
% dacsgrid -uj EXAMPLE -set bobo
</pre>
<p>To generate a 6x6 grid and assign it to username bobo (replacing any existing grid):</p>
<pre>
% dacsgrid -uj EXAMPLE -nrows 6 -ncols 6 -set bobo
</pre>
<p>To retrieve and print a grid (as HTML) for the username bobo:</p>
<pre>
% dacsgrid -uj EXAMPLE -get -html bobo
</pre>
<p>To display the PIN for username bobo:</p>
<pre>
% dacsgrid -uj EXAMPLE -pin bobo
</pre>
<p>The exit status will be non-zero if this user does not have a grid or if the grid does not have a PIN.</p><p>To copy the current set of grids to the file /secure/grids:</p>
<pre>
% dacsgrid -uj EXAMPLE -copy "dacs-kwv-fs:/secure/grids"
</pre>
<p>To refresh an alternate set of grids in the file /secure/grids:</p>
<pre>
% dacsgrid -uj EXAMPLE -copy "dacs-kwv-fs:/secure/grids"
% dacsgrid -uj EXAMPLE -vfs "dacs-kwv-fs:/secure/grids" -refresh
</pre>
<p>An example shell script that generates a minimal HTML login page for grid authentication is included in the distribution. It assumes that all grids are the default size.</p><p>If different users may have grids of different sizes, or if a jurisdiction wants to display a user&apos;s grid&apos;s serial number as a form of jurisdictional authentication, then the login procedure must determine the username before it can acquire a challenge or serial number.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong>dacs_grid.css</strong>\m[]\s-2\u[8]\d\s+2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>The program exits 0, or 1 if an error occurred.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>To help thwart automated responses, should some assurance be required that a person rather than software is answering a challenge, the challenge might be presented as a \m[blue]<strong>CAPTCHA</strong>\m[]\s-2\u[9]\d\s+2 or something similar.</p><p>A hardware device could be used to store and access grids, which could boost the method&apos;s security and possibly even offer advantages over the PRNG methods used by most commercial tokens.</p><p>Another idea is to supply users with software to run on their personal workstations that would securely store and manage grids and, given a challenge, display the response. This may not provide the same level of confidence as hardware token or hard-copy based methods, however, because it is difficult to be certain that a computer, file, or program hasn&apos;t been compromised. If sufficiently secure, a password-protected USB flash memory device might be acceptable for transporting and storing grids.</p><p>The login interface should consider providing a menu or image map to enter the PIN, rather than the keyboard, to defeat keylogging spyware.</p><p>Using this authentication method makes you feel like you are a secret agent. Consider printing grids on an edible substrate.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There should be a clean way of flipping from one set of grids to another at a specified date and time. This can currently be done by pre-generating a set of grids with appropriate file names (e.g., based on the date the set becomes effective) and configuring the VFS directive for the grids to form the file name based on the current date.</p><p>Users cannot select their own PINs. This may be a feature.</p><p>An alternate mode of operation based on strong but repeatable pseudo random numbers described by \m[blue]<strong>NIST SP 800-90</strong>\m[]\s-2\u[10]\d\s+2 is pending. The current implementation does not employ a reproducible sequence of pseudo random numbers; this has advantages and disadvantages.</p><p>The account file should probably be an XML document.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dacsgrid&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<a href="../man1/dacstoken.1.html"><strong>dacstoken</strong>(1)</a></strong>\m[]\s-2\u[11]\d\s+2, \m[blue]<a href="../man8/dacs_authenticate.8.html"><strong>dacs_authenticate</strong>(8)</a></strong>\m[]\s-2\u[12]\d\s+2, \m[blue]<strong>opie</strong>(4)</strong>\m[]\s-2\u[13]\d\s+2. Grid-based methods are also used by ciphers; e.g., the \m[blue]<strong>VIC cipher</strong>\m[]\s-2\u[14]\d\s+2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Distributed Systems Software (\m[blue]<strong>www.dss.ca</strong>\m[]\s-2\u[15]\d\s+2)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright2003-2013 Distributed Systems Software. See the \m[blue]<strong>LICENSE</strong>\m[]\s-2\u[16]\d\s+2 file that accompanies the distribution for licensing information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>dacsoptions</p><p>http://dacs.dss.ca/man/dacs.1.html#dacsoptions</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>local_grid_authenticate</p><p>http://dacs.dss.ca/man/dacs_authenticate.8.html#grid</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p>local_passwd_authenticate</p><p>http://dacs.dss.ca/man/dacs_authenticate.8.html#passwd</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p>AUTH_GRID_CHALLENGE_SECS</p><p>http://dacs.dss.ca/man/dacs_authenticate.8.html#AUTH_GRID_CHALLENGE_SECS</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p>AUTH_GRID_LIFETIME_SECS</p><p>http://dacs.dss.ca/man/dacs_authenticate.8.html#AUTH_GRID_LIFETIME_SECS</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p><a href="../man1/dacskey.1.html"><strong>dacskey</strong>(1)</a></p><p>http://dacs.dss.ca/man/dacskey.1.html</p>
  </dd>
  <dt>
     7.
  </dt>
  <dd>
    <p>VFS</p><p>http://dacs.dss.ca/man/dacs.conf.5.html#VFS</p>
  </dd>
  <dt>
     8.
  </dt>
  <dd>
    <p>dacs_grid.css</p><p>http://dacs.dss.ca/man//css/dacs_grid.css</p>
  </dd>
  <dt>
     9.
  </dt>
  <dd>
    <p>CAPTCHA</p><p>http://en.wikipedia.org/wiki/CAPTCHA</p>
  </dd>
  <dt>
    10.
  </dt>
  <dd>
    <p>NIST SP 800-90</p><p>http://csrc.nist.gov/publications/nistpubs/800-90/SP800-90revised_March2007.pdf</p>
  </dd>
  <dt>
    11.
  </dt>
  <dd>
    <p><a href="../man1/dacstoken.1.html"><strong>dacstoken</strong>(1)</a></p><p>http://dacs.dss.ca/man/dacstoken.1.html</p>
  </dd>
  <dt>
    12.
  </dt>
  <dd>
    <p><a href="../man8/dacs_authenticate.8.html"><strong>dacs_authenticate</strong>(8)</a></p><p>http://dacs.dss.ca/man/dacs_authenticate.8.html</p>
  </dd>
  <dt>
    13.
  </dt>
  <dd>
    <p><strong>opie</strong>(4)</p><p>http://www.freebsd.org/cgi/man.cgi?query=opie&apropos=0&sektion=0&manpath=FreeBSD+9.1-RELEASE&format=html</p>
  </dd>
  <dt>
    14.
  </dt>
  <dd>
    <p>VIC cipher</p><p>http://en.wikipedia.org/wiki/VIC_cipher</p>
  </dd>
  <dt>
    15.
  </dt>
  <dd>
    <p>www.dss.ca</p><p>http://www.dss.ca</p>
  </dd>
  <dt>
    16.
  </dt>
  <dd>
    <p>LICENSE</p><p>http://dacs.dss.ca/man/../misc/LICENSE</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dacsexpr.1.html"><span aria-hidden="true">&larr;</span> dacsexpr.1: Dacs expression language shell and interpreter</a></li>
   <li class="next"><a href="dacshttp.1.html">dacshttp.1: Perform an http/https request <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
