<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>webcam: Capture images and upload them to a webserver using ftp</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Capture images and upload them to a webserver using ftp">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="webcam (1) manual">
  <meta name="twitter:description" content="Capture images and upload them to a webserver using ftp">
  <meta name="twitter:image" content="https://www.carta.tech/images/webcam-webcam-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/webcam.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="webcam (1) manual" />
  <meta property="og:description" content="Capture images and upload them to a webserver using ftp" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/webcam-webcam-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">webcam<small> (1)</small></h1>
        <p class="lead">Capture images and upload them to a webserver using ftp</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/webcam.1.html">
      <span itemprop="name">webcam: Capture images and upload them to a webserver using ftp</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/webcam/">
      <span itemprop="name">webcam</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/webcam.1.html">
      <span itemprop="name">webcam: Capture images and upload them to a webserver using ftp</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>webcam [ config file ]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>webcam</strong> captures images from a video4linux device like bttv, annotates them and and uploads them to a webserver using ftp in a endless loop.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>At startup <strong>webcam</strong> reads the configuration from the given config file or ~/.webcamrc if none is specified in the command line.</p><p>The config file has at least two sections.  The "grab" section holds the capture parameters.  Any other section describes where the image should be uploaded.  Older versions used "ftp" as name for that section.  Recently the webcam utility got support for multiple connections, thus any section name is accepted and you can have more than one ftp section (you have to use another name for each section througth, name them by upload servers for example).</p><p>Here is an sample config file (the given values are the defaults):</p>
<pre>
[grab]
device = /dev/video0
driver = libv4l
text = "webcam %Y-%m-%d %H:%M:%S"
infofile = filename
fg_red = 255
fg_green = 255
fg_blue = 255
width = 320
height = 240
delay = 3
wait = 0
input = composite1
norm = pal
rotate = 0
top = 0
left = 0
bottom = -1
right = -1
quality = 75
trigger = 0
once = 0

[ftp]
host = www
user = webcam
pass = xxxxxx
dir  = public_html/images
file = webcam.jpeg
tmp  = uploading.jpeg
passive = 1
debug = 0
auto = 0
local = 0
ssh = 0

</pre>
<p>The annotation <strong>text</strong> is processed with strftime.  Check the <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a> or <a href="../man1/date.1.html"><strong>date</strong>(1)</a> manpage to see how you can format the timestamps.  The text can also be read from a extern file (use <strong>infofile</strong> for that).  The default color for the text overlay is white (RGB=255,255,255). Entries in the range of 0 through 255 for <strong>fg_red,</strong> <strong>fg_green,</strong> and <strong>fg_blue</strong> can be used to define a different color.  Likewise <strong>bg_red,</strong> <strong>bg_green,</strong> and <strong>bg_blue</strong> can be used to set the background color (which defaults to transparent).</p><p><strong>input</strong> is the video source (TV/composite/whatever), <strong>norm</strong> the TV norm. <strong>delay</strong> is the delay between two images in seconds. <strong>wait</strong> is the initial delay before the first image is grabbed (some cameras need some time for adapting to lightning, thus don't return images with reasonable quality within the first few seconds ...). <strong>quality</strong> is the JPEG quality for the stored images.</p><p><strong>top, bottom, left,</strong> and <strong>right</strong> in the grab section allow cropping the image after it is grabbed. They should satisfy 0&lt;=top&lt;bottom&lt;=height and 0&lt;=left&lt;right&lt;=width.  (0,0 is the top, left corner.) If <strong>rotate</strong> is positive, the output image will be rotated counter-clockwise 90 degrees that number of times (1, 2, or 3).</p><p>With <strong>trigger</strong> set to a non-zero value webcam will upload the image only if the content of the image has changed.  It just looks for the maximum difference between the last uploaded and current image and if it is greater than the specified value the image will be uploaded. If <strong>once</strong> is set to 1 webcam will upload a single frame and quit.</p><p><strong>archive</strong> can be used to create a (local) archive of the webcam images.  Just specify the filename for the files as argument.  The filename will be processed with <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a>, so you can use the place the usual time format controls into the string to get unique filenames.  Non-existing directories are created if needed.</p><p>If <strong>debug</strong> in the ftp section is set to 1 the complete communication between webcam and the ftp utility is printed to stderr. <strong>auto</strong> enables autologin via ~/.netrc (starts the ftp utility without the '-n' switch, check the <strong>ftp</strong>(1) man page for more info about the ~/.netrc file). If <strong>local</strong> in the ftp section is non-zero, files will be stored locally (using the <strong>dir, tmp,</strong> and <strong>file</strong> parameters) rather than ftped. <strong>ssh</strong> set to non-zero makes webcam use ssh instead of ftp.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CORRECTION OF DISTORTION</h2>
        <div class="sectioncontent">
<p>contributed by Frederic Helin, the parameters belong into the [grab] section of the config file too.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>distor = 1</strong></p>
  </dt>
  <dd>
    <p>If distor param is set to 1, the correction of distortion works.</p>
  </dd>
  <dt>
    <p><strong>distor_k = 700</strong></p>
  </dt>
  <dd>
    <p>This is the coefficient of distortion. This algorithm is based on the paper "Correcting Distortion of Image by Image Registration" of Toru Tamaki, Tsuyoshi Yamamura and Noboru Ahnishi. More your lens has an important distortion, more 'distor_k' must be neared of 0. 700 is the default value. Coefficient k of program is x100 than article.</p>
  </dd>
  <dt>
    <p><strong>distor_cx = 192</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>distor_cy = 144</strong></p>
  </dt>
  <dd>
    <p>Coordinates of the lens optical axis: width/2 and height/2 are the default values. The axis doesn't go through the image center. So, you can change its coordinates around the center of image to affine correction.</p>
  </dd>
  <dt>
    <p><strong>distor_zoom = 30</strong></p>
  </dt>
  <dd>
    <p>Zoom parameter is used to cache the distorted borders of image, if you don't like this. Default value is 100.</p>
  </dd>
  <dt>
    <p><strong>distor_sensorw = 320</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>distor_sensorh = 240</strong></p>
  </dt>
  <dd>
    <p>Dimensions of camera sensor. Default values are for 1/4p sensor. This parameters used to have the same k coefficient than article.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Gerd Knorr &lt;kraxel@bytesex.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1997-2002 Gerd Knorr</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="webazolver.1.html"><span aria-hidden="true">&larr;</span> webazolver.1: A web server log file analysis tool.</a></li>
   <li class="next"><a href="webcamd.1.html">webcamd.1: Take a image from your webcam <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
