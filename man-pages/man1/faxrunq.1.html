<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>faxrunq: Send fax jobs queued by faxspool(1)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Send fax jobs queued by faxspool(1)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="faxrunq (1) manual">
  <meta name="twitter:description" content="Send fax jobs queued by faxspool(1)">
  <meta name="twitter:image" content="https://www.carta.tech/images/mgetty-fax-faxrunq-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/faxrunq.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="faxrunq (1) manual" />
  <meta property="og:description" content="Send fax jobs queued by faxspool(1)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mgetty-fax-faxrunq-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">faxrunq<small> (1)</small></h1>
        <p class="lead">Send fax jobs queued by faxspool(1)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/faxrunq.1.html">
      <span itemprop="name">faxrunq: Send fax jobs queued by faxspool(1)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mgetty-fax/">
      <span itemprop="name">mgetty-fax</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/faxrunq.1.html">
      <span itemprop="name">faxrunq: Send fax jobs queued by faxspool(1)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>faxrunq</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Run the fax queue set up by <a href="../man1/faxspool.1.html"><strong>faxspool</strong>(1)</a>, try to send all faxes, record result, remove job and send notify mails.</p><p><em>faxrunq</em> looks for all the jobs queued by <a href="../man1/faxspool.1.html"><strong>faxspool</strong>(1)</a> to /var/spool/fax/outgoing/*. For each job in the queue, faxrunq tries to send it, using <strong>sendfax</strong>(8).</p><p>If the send succeeds, the job is removed from the queue, and a "success" mail is sent to the originator of the spooled job.</p><p>If the send fails, it's logged, and faxrunq proceeds to the next job. If the job fails five times "fatally", that is, not with a locked or engaged line, but with "NO CARRIER" (no fax machine, or line noise), the job is suspended, and the requestor gets a mail, telling him so.</p><p><em>faxrunq</em> can be run from the command line (but make sure the user doing this has write access to the modem device and to the fax queue, that is, usually this should be done by "uucp" or "root").  In a production environment, it's more useful to start <em>faxrunq</em> from <a href="../man8/cron.8.html"><strong>cron</strong>(8)</a></em> in regular intervals, like "run it every 5 minutes".  See the <a href="../man8/cron.8.html"><strong>cron</strong>(8)</a></em> and/or <a href="../man1/crontab.1.html"><strong>crontab</strong>(1)</a></em> man pages for this (which man page exists depends on your system).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Tells <em>faxrunq</em> to be quiet, that is, suppress all status messages.  Error messages will still be printed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/var/spool/fax/outgoing/stop</strong></p>
  </dt>
  <dd>
    <p>if this file exists, <em>faxrunq</em> (and faxrunqd) will do nothing.  You can use this to stop queue processing while testing something, or if you know that the modem(s) are unavailable and do not want to run into oany error messages, etc.</p>
  </dd>
  <dt>
    <p><strong>/var/spool/fax/outgoing/faxqueue_done</strong></p>
  </dt>
  <dd>
    <p>Every time <em>faxrunq</em> (or faxrunqd) run the fax queue, a time stamp is written into that file. It is used by <em>faxspool</em> to display a warning if the queue hasn't been run recently (so faxes may get stuck).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILE</h2>
        <div class="sectioncontent">
<p>Some aspects of the behaviour of <em>faxrunq</em> can be controlled by a configuration file, /etc/mgetty/faxrunq.config.  In this file, you can use the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>success-send-mail [y/n]</strong></p>
  </dt>
  <dd>
    <p>A boolean parameter that controls whether a mail will be sent after successful completition of the fax job.</p>
  </dd>
  <dt>
    <p><strong>failure-send-mail [y/n]</strong></p>
  </dt>
  <dd>
    <p>A boolean parameter that controls whether a mail will be sent after the fax job has failed more than the maximum number of times.</p>
  </dd>
  <dt>
    <p><strong>success-call-program &lt;name&gt;</strong></p>
  </dt>
  <dd>
    <p>Here, you can specify a program that will be run when the fax has been successfully sent. It will be passed two command line parameters. The first is the full path to the fax JOB file (see <strong>faxq</strong>(5)), the second is the last exit code from <em>sendfax</em> (for success-call-program, this is always "0").</p>
  </dd>
  <dt>
    <p><strong>failure-call-program &lt;name&gt;</strong></p>
  </dt>
  <dd>
    <p>Similar to the "success-call-program", this program will be run when the fax has been failed too often and <em>faxrunq</em> gives up. This script could, for example, print out the fax on a printer so that it can be sent manually on a paper fax machine.</p>
  </dd>
  <dt>
    <p><strong>maxfail-costly &lt;n&gt;</strong></p>
  </dt>
  <dd>
    <p>This specifies the number of times that a fax may fail "fatally", that is, causing telephone costs (explained above). The default value is 5.</p>
  </dd>
  <dt>
    <p><strong>maxfail-total &lt;m&gt;</strong></p>
  </dt>
  <dd>
    <p>This is the absolute maximum number of times that <em>faxrunq</em> will try to send any given fax. The default value is 10. (Right now, it's not yet implemented).</p>
  </dd>
  <dt>
    <p><strong>delete-sent-jobs [y/n]</strong></p>
  </dt>
  <dd>
    <p>Determines whether <em>faxrunq</em> should delete jobs after sending, or leave them in the fax queue (while moving the "JOB" file to "JOB.done") so that they can be seen at by "faxq -o". The default value is "do not delete sent faxes".</p>
  </dd>
  <dt>
    <p><strong>acct-log &lt;path&gt;</strong></p>
  </dt>
  <dd>
    <p>Specifies where <em>faxrunq</em> should protocol success and failure of each try to send a fax job. The default location is /var/spool/fax/outgoing/acct.log.</p><p>There are some other options that are allowed, but ignored.  These are: <em>max-modems,</em> and <em>faxrunqd-log.</em></p><p>They are used by <a href="../man8/faxrunqd.8.html"><strong>faxrunqd</strong>(8)</a> (which reads the same config file, but has more options).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><em>faxrunq</em> doesn't handle proper time scheduling yet</p><p>Don't use <em>faxrunq</em> if you have malevolent users with access to the fax spool.  It doesn't handle all cases of file movement tricks correctly.  Use <a href="../man8/faxrunqd.8.html"><strong>faxrunqd</strong>(8)</a></em> instead, which does it correctly  (this point is mostly moot if the fax queue is set up correctly - that is, owned by 'uucp', mode 755, and <a href="../man1/faxrunq.1.html"><strong>faxrunq</strong>(1)</a> is also run as user 'uucp').</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO faxrunq&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/faxspool.1.html"><strong>faxspool</strong>(1)</a>, <strong>sendfax</strong>(8), <a href="../man1/faxq.1.html"><strong>faxq</strong>(1)</a>, <a href="../man5/faxqueue.5.html"><strong>faxqueue</strong>(5)</a>, <a href="../man8/faxrunqd.8.html"><strong>faxrunqd</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><em>faxrunq</em> is Copyright (C) 1993-2002 by Gert Doering, &lt;gert@greenie.muc.de&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mgetty-fax-faxrm.1.html"><span aria-hidden="true">&larr;</span> faxrm.1: Remove fax jobs queued by faxspool(1)</a></li>
   <li class="next"><a href="faxsend.1.html">faxsend.1: Send fax using hylafax about modem or capi <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
