<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hose: The client end of a bsd network pipe  netpipes 4.2</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The client end of a bsd network pipe  netpipes 4.2">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="hose (1) manual">
  <meta name="twitter:description" content="The client end of a bsd network pipe  netpipes 4.2">
  <meta name="twitter:image" content="https://www.carta.tech/images/netpipes-hose-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/hose.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="hose (1) manual" />
  <meta property="og:description" content="The client end of a bsd network pipe  netpipes 4.2" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/netpipes-hose-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">hose<small> (1)</small></h1>
        <p class="lead">The client end of a bsd network pipe  netpipes 4.2</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/hose.1.html">
      <span itemprop="name">hose: The client end of a bsd network pipe  netpipes 4.2</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/netpipes/">
      <span itemprop="name">netpipes</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/hose.1.html">
      <span itemprop="name">hose: The client end of a bsd network pipe  netpipes 4.2</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>hose</strong> <em>hostname</em> <em>port</em> (<strong>--in</strong>|<strong>--out</strong>|<strong>--err</strong>|<strong>--fd</strong> <em>n</em>|<strong>--slave</strong>|<strong>--netslave</strong>|<strong>--netslave1</strong>|<strong>--netslave2</strong>) [<strong>--verbose</strong>] [<strong>--unix</strong>] [<strong>--localport</strong> <em>port</em>] [<strong>--localhost</strong> <em>addr</em>] [<strong>--retry</strong> <em>n</em>] [<strong>--delay</strong> <em>n</em>] [<strong>--shutdown</strong> [r|w][a] ] [<strong>--noreuseaddr</strong>] [<strong>-</strong>[<strong>i</strong>][<strong>o</strong>][<strong>e</strong>][<strong>#</strong><em>3</em>[,<em>4</em>[,<em>5</em>...]]][<strong>s</strong>][<strong>v</strong>][<strong>u</strong>]] [<strong>-p</strong> <em>local-port</em>] [<strong>-h</strong> <em>local-host</em>] <em>command</em> <em>args</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>hose</strong> attempts to provide the functionality of pipes over the network.  It behaves as the client end of a server-client connection.  When used with <a href="../man1/faucet.1.html"><strong>faucet</strong>(1)</a></strong> it can function as a replacement for</p>
<pre>
tar -cf - . | rsh other "cd destdir; tar -xf -"
</pre>
<p><strong>faucet</strong> and <strong>hose</strong> are especially useful when you don't have easy non-interactive access to the destination machine.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>hose</strong> creates a BSD socket and, if the <strong>--localport</strong> option is used, binds it to the port number (or service name) specified immediately afterwards.  If <strong>--localhost</strong> is also specified then its argument is a local address to bind to. ( <strong>--localhost</strong> is only useful on machines with multiple IP addresses.)</p><p><strong>hose</strong> then tries to connect to the foreign machine <em>hostname</em> with foreign port <em>port.</em></p><p>If successful <strong>hose</strong> redirects the socket to stdin, stdout, stderr, and/or arbitrary file descriptors according to the <strong>--in --out --err --fd </strong><em>n</em><strong></strong> flags.  <strong>hose</strong> also automagically shuts down the unused half of the connection if only <strong>--in</strong> is specified or if only <strong>--out</strong> and/or <strong>--err</strong> are specified.  See the <strong>--shutdown</strong> option for more information.</p><p><strong>hose</strong> then <strong>exec</strong>(2)s a <em>command</em> with <em>args</em>.</p><p>However, the <strong>--slave</strong> flag turns <strong>hose</strong> into a primitive sort of telnet.  The <em>command</em> is ignored.  Instead, <strong>hose</strong> goes into a loop where it copies bytes from stdin to the socket, and bytes from the socket to stdout.  This is actually more useful than telnet because telnet tries to perform interpretation on the byte stream and generally gets in your way.  <strong>hose</strong> just passes bytes without mucking with them.</p><p>The <strong>--netslave*</strong> options are variants on the <strong>--slave</strong> theme.  Whereas <strong>--slave</strong> will continue to forward data in one direction even after the other has encountered EOF, <strong>--netslave</strong> variants are more aggressive in closing the entire socket.  Before closing the socket, it attempts to flush any data already in its own buffer.  <strong>--slave</strong> performs the <a href="../man2/shutdown.2.html"><strong>shutdown</strong>(2)</a> system call when it encounters EOF on one direction, but the <strong>--netslave</strong> variants don't because some network daemons are confused by it.</p><p><strong>--netslave</strong> closes down the connection when it encounters EOF in either direction.</p><p><strong>--netslave1</strong> closes down the connection when it encounters EOF while reading stdin.  Any data unread on the socket will be ignored.  If it merely encounters EOF on the socket, it will continue to read from stdin.</p><p><strong>--netslave2</strong> closes down the connection when it encounters EOF while reading from the socket.  Any data unread on stdin will be ignored.  If it merely encounters EOF on stdin, it will continue to read from the socket.  This mode can be useful with some web servers.</p><p>The <strong>--verbose</strong> flag specifies that <strong>hose</strong> should print information about the host it connects to.  This information includes the numeric host address, host names, and foreign port numbers.</p><p>The <strong>--unix</strong> flag specifies that the <em>port</em> is not an internet port number or service name, but instead it is a filename for a UNIX domain socket.  This option may be simulated by using <strong>-unix-</strong> as the host name to connect to, or by renaming the <strong>hose</strong> program to <strong>uhose</strong>.</p><p><strong>--retry</strong> <em>n</em> allows the user to specify that <strong>hose</strong> should retry the <a href="../man2/connect.2.html"><strong>connect</strong>(2)</a> call for <em>n</em> times (or forever if <em>n</em> is negative). <strong>--delay</strong> <em>n</em> specifies how many seconds to delay between tries.</p><p><strong>--shutdown</strong> is used to control two behaviors.  The first set is controlled by the `r' and `w' flags. If the `r' is present, then <strong>hose</strong> will close half the connection to make it a read-only socket.  If the child tries to write, it will fail.  If the remote connection tries to read, it will percieve the socket as closed. If instead the `w' is present, then <strong>hose</strong> will close the other half of the connection to make it a write-only socket.  If the child tries to read, it will percieve the socket as closed.  If the remote connection tries to write, it will fail. The default behavior is to leave both halves open, however the shutdown of half of the connection is automagically done by certain combinations of the <strong>--in</strong>, <strong>--out</strong>, and <strong>--err</strong> flags.  To suppress their automagic behavior you can use (respectively) --fd 0, --fd 1, and --fd 2.</p><p>The other behavior is controlled by the `a' flag.  If the `a' flag is present then <strong>hose</strong> will <a href="../man2/fork.2.html"><strong>fork</strong>(2)</a> before execcing the <em>command</em> and when the child exits it will perform a <a href="../man2/shutdown.2.html"><strong>shutdown</strong>(2)</a> with how=2. This closes both halves of the connection.  This option is not necessary for most applications since the closing of the file descriptors is detected by the remote process, but some less sophisticated network devices (such as printers) require a <a href="../man2/shutdown.2.html"><strong>shutdown</strong>(2)</a> for proper operation. To make things perfectly clear, the list of acceptable arguments to the <strong>--shutdown</strong> option are `r', `w', `ra', `wa', `a'.</p><p>By default, <strong>hose</strong> performs a</p>
<pre>

</pre>
<p>which prevents the ``Address in use'' problem that ``plagued'' netpipes versions 4.0 and earlier.  <strong>--noreuseaddr</strong> tells <strong>hose</strong> to skip that system call, and revert to pre-4.1 behavior. Without this call, the port is not always available for immediate reuse after the <strong>hose</strong> exits.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SHORT FLAGS</h2>
        <div class="sectioncontent">
<p>To reduce the typing requirements for arguments (and to pay homage to the age-old tradition of UNIX cryptotaxonomy) I have added some short forms of the flags.  Here is a correspondence chart:</p><table class="table table-striped">
<tr>
<th>Short</th></tr>

<tr>
<td>Long</td></tr>

<tr>
<td><strong>i</strong></td></tr>

<tr>
<td><strong>in</strong></td></tr>

<tr>
<td><strong>o</strong></td></tr>

<tr>
<td><strong>out</strong></td></tr>

<tr>
<td><strong>e</strong></td></tr>

<tr>
<td><strong>err</strong></td></tr>

<tr>
<td><strong>#</strong><em>n</em></td></tr>

<tr>
<td><strong>fd</strong><em>n</em></td></tr>

<tr>
<td><strong>s</strong></td></tr>

<tr>
<td><strong>slave</strong></td></tr>

<tr>
<td><strong>v</strong></td></tr>

<tr>
<td><strong>verbose</strong></td></tr>

<tr>
<td><strong>q</strong></td></tr>

<tr>
<td><strong>quiet</strong></td></tr>

<tr>
<td><strong>u</strong></td></tr>

<tr>
<td><strong>unix</strong></td></tr>

<tr>
<td><strong>p</strong></td></tr>

<tr>
<td><strong>localport</strong></td></tr>

<tr>
<td><strong>h</strong></td></tr>

<tr>
<td><strong>localhost</strong></td></tr>
</table><p>See <a href="../man1/faucet.1.html"><strong>faucet</strong>(1)</a> for a more detailed discussion of short flags.  Their behavior should be unsurprising.  The flags that require separate arguments follow in the tradition of <strong>tar</strong>(1).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>This will connect to port 3000 on the machine reef and connect the socket to the stdin of a tar command.</p>
<pre>
example$ hose reef 3000 --in tar -xf - .
</pre>
<p>The command actually <strong>exec</strong>(2)ed by the <strong>hose</strong> program is</p>
<pre>
tar -xf - .
</pre>
<p>The <strong>--in</strong> option means that the input of the child process will have been redirected into the socket connected to reef.</p><p>This connects to a UNIX domain socket in the current directory</p>
<pre>
example$ hose --unix- u-socket --in sh -c &#92;
	"unfunky.perl.script | dd of=sample.pgm"
</pre>
<p>The socket provides input to the sh command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO hose&hellip;</h2>
        <div class="sectioncontent">
<p>netpipes (1), faucet (1), sockdown (1), getpeername (1), socket (2), bind (2), connect (2), shutdown (2), services (5), gethostbyaddr (3)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Doubtless there are bugs in this program, especially in the unix domain socket portions.  I welcome problem reports and would like to make these programs as "clean" (no leftover files, sockets) as possible.</p><p>4.0 made the full-word arguments use -- like many GNU programs. They are still available with a single - for backward-compatibility.</p><p>3.1 added the single-character flags.</p><p>Release 2.3 added support for multi-homed hosts: hosts with multiple internet numbers (such as gateways).  Before this faucet assumed that the first internet number that gethostbyname returned was the only one. <strong>--foreignport</strong> authentication was weakened by this inadequacy so I beefed up the algorithms. <strong>--foreignport</strong> will accept a connection from any of the internet numbers associated with the host name.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>Thanks to Steve Clift &lt;clift@ml.csiro.au&gt; for SGI (SysV) patches.</p><p>Many people complained about the old way of specifying the command.  Thanks to whoever gave me the alternative which is now implemented.  It is much better.</p><p>Thanks to Sten Drescher &lt;smd@hrt213.brooks.af.mil&gt; for the --retry and --delay patches and giving me the idea for the --shutdown option.  Evidently some printer doesn't appreciate the socket being <a href="../man2/close.2.html"><strong>close</strong>(2)</a>d.</p><p>Randy Fischer &lt;fischer@ucet.ufl.edu&gt; finally prodded me into fixing the old lame non-handling of multi-homed host.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1992-98 Robert Forsman</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Robert Forsman  thoth@purplefrog.com  Purple Frog Software  http://web.purplefrog.com/~thoth/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="horgand.1.html"><span aria-hidden="true">&larr;</span> horgand.1: </a></li>
   <li class="next"><a href="bind9-host-host.1.html">host.1: Dns lookup utility <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
