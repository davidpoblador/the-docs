<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>filter_mysqlbinlog: Trimming rollback statements and equivalent binlog events added by mysqlbinlog. this script is now obsolete.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Trimming rollback statements and equivalent binlog events added by mysqlbinlog. this script is now obsolete.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="filter_mysqlbinlog (1p) manual">
  <meta name="twitter:description" content="Trimming rollback statements and equivalent binlog events added by mysqlbinlog. this script is now obsolete.">
  <meta name="twitter:image" content="https://www.carta.tech/images/mha4mysql-node-filter_mysqlbinlog-1p.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1p/filter_mysqlbinlog.1p.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="filter_mysqlbinlog (1p) manual" />
  <meta property="og:description" content="Trimming rollback statements and equivalent binlog events added by mysqlbinlog. this script is now obsolete." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mha4mysql-node-filter_mysqlbinlog-1p.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">filter_mysqlbinlog<small> (1p)</small></h1>
        <p class="lead">Trimming rollback statements and equivalent binlog events added by mysqlbinlog. this script is now obsolete.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/filter_mysqlbinlog.1p.html">
      <span itemprop="name">filter_mysqlbinlog: Trimming rollback statements and equivalent binlog events added by mysqlbinlog. this script is now obsolete.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mha4mysql-node/">
      <span itemprop="name">mha4mysql-node</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/filter_mysqlbinlog.1p.html">
      <span itemprop="name">filter_mysqlbinlog: Trimming rollback statements and equivalent binlog events added by mysqlbinlog. this script is now obsolete.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>mysqlbinlog binary_or_relay_log_file | filter_mysqlbinlog</p><p>Note that this script is now obsolete and not used by \s-1MHA\s0 by default.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>mysqlbinlog command provided by Oracle implicitly adds \s-1ROLLBACK\s0 statements and equivalent \s-1BINLOG\s0 events. But this causes problems when recovering slave servers. To recover slaves, \s-1MHA\s0 might need to apply the following binlog events.  1) Relay log events from Relay_Log_Pos to the end of the relay log file  2) Differential relay log events from the latest slave  3) Differential binary log events from the dead master mysqlbinlog command needs to be executed on these files separately. If a transaction does not end by 1) or 2), implicit \s-1ROLLBACK\s0 event rolls back the transaction, which will result in inconsistency. filter_mysqlbinlog is a tool to fix this issue. Note that \s-1ROLLBACK\s0 statements themselves are added in usual situations. For example, when you execute 1. \s-1BEGIN\s0; 2. Updating transactional tables 3. Updating non-transactional tables  4. \s-1ROLLBACK\s0, a \s-1ROLLBACK\s0 statement is written to the binary log to rollback transactional queries. This is normal situation so filter_mysqlbinlog must not remove all \s-1ROLLBACK\s0 events.</p><p>Note that this script is now obsolete and not used by \s-1MHA\s0 by default.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="extract_vba.1p.html"><span aria-hidden="true">&larr;</span> extract_vba.1p: A utility to extract a vba project from an excel 2007+ xlsm file.</a></li>
   <li class="next"><a href="findrule.1p.html">findrule.1p: Command line wrapper to file::find::rule <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
