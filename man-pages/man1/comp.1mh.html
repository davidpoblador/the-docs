<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>comp: Compose a message</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compose a message">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="comp (1mh) manual">
  <meta name="twitter:description" content="Compose a message">
  <meta name="twitter:image" content="https://www.carta.tech/images/nmh-comp-1mh.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1mh/comp.1mh.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="comp (1mh) manual" />
  <meta property="og:description" content="Compose a message" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nmh-comp-1mh.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">comp<small> (1mh)</small></h1>
        <p class="lead">Compose a message</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1mh/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1mh/comp.1mh.html">
      <span itemprop="name">comp: Compose a message</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nmh/">
      <span itemprop="name">nmh</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1mh/comp.1mh.html">
      <span itemprop="name">comp: Compose a message</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>comp</strong> [<em>+folder</em>] [<em>msg</em>] [<strong>-form</strong> <em>formfile</em>] [<strong>-use</strong> | <strong>-nouse</strong>] [<strong>-file</strong> <em>file</em>] [<strong>-draftfolder</strong> <em>+folder</em>] [<strong>-draftmessage</strong> <em>msg</em>] [<strong>-nodraftfolder</strong>] [<strong>-editor</strong> <em>editor</em>] [<strong>-noedit</strong>] [<strong>-width</strong> <em>columns</em>] [<strong>-from</strong> <em>address</em>] [<strong>-to</strong> <em>address</em>] [<strong>-cc</strong> <em>address</em>] [<strong>-fcc</strong> <em>+folder</em>] [<strong>-subject</strong> <em>text</em>] [<strong>-whatnowproc</strong> <em>program</em>] [<strong>-nowhatnowproc</strong>] [<strong>-build</strong>] [<strong>-version</strong>] [<strong>-help</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Comp</strong> is used to create a new message to be mailed.  It copies a message form to the draft being composed and then invokes an editor on the draft (unless <strong>-noedit</strong> is given, in which case the initial edit is suppressed).</p><p>The default message template &ldquo;components&rdquo; will direct <strong>comp</strong> to construct the message draft as follows:</p>
<pre>
From: {from switch} or &lt;Local-Mailbox&gt; or &lt;username@hostname&gt;
To: {to switch} or blank
cc: {cc switch} or blank
Fcc: {fcc switch} or +outbox
Subject: {subject switch} or blank
--------
</pre>
<p>If a file named &ldquo;<em>components</em>&rdquo; exists in the user's nmh directory, it will be used instead of this form.  You may specify an alternate forms file with the switch <strong>-form</strong> <em>formfile</em>.</p><p>You may also start <strong>comp</strong> using the contents of an existing message as the form.  If you supply either a <em>+folder</em> or <em>msg</em> argument, that message will be used as the message form.  You may not supply both a <strong>-form</strong> <em>formfile</em> and a <em>+folder</em> or <em>msg</em> argument.  The line of dashes or a blank line must be left between the header and the body of the message for the message to be identified properly when it is sent (see <strong>send</strong>(1)).</p><p>The switch <strong>-use</strong> directs <strong>comp</strong> to continue editing an already started message.  That is, if a <strong>comp</strong> (or <strong>dist</strong>, <strong>repl</strong>, or <strong>forw</strong>) is terminated without sending the draft, the draft can be edited again via &ldquo;<strong>comp</strong> <strong>-use</strong>&rdquo;.</p><p>The <strong>-file</strong> <em>file</em> switch says to use the named file as the message draft.</p><p>Forms that are selected via the <strong>-form</strong> switch are processed via the <strong>nmh</strong> template system; see <strong>mh-format</strong>(5) for details.  Drafts constructed from another message or with the <strong>-use</strong> or <strong>-file</strong> switchs will NOT be processed with <strong>mh-format</strong>(5).</p><p>In addition to the standard <strong>mh-format</strong>(5) escapes, the following <em>component</em> escapes are either new or have an alternate meaning:</p>
<pre>
<em>Escape	Returns	Description</em>
fcc	string	Any folders specified with `-fcc&nbsp;folder'
from	string	Any addresses specified with `-from&nbsp;address'
to	string	Any addresses specified with `-to&nbsp;address'
cc	string	Any addresses specified with `-cc&nbsp;address'
subject	string	Any text specified with `-subject&nbsp;text'
</pre>
<p>By default the &ldquo;To:&rdquo; and &ldquo;cc:&rdquo; fields are empty.  You may add addresses to these fields with the <strong>-to</strong> <em>address</em> and <strong>-cc</strong> <em>address</em> switches.  You may give these switches multiple times to add multiple addresses.</p><p>By default the &ldquo;From:&rdquo; field has either the value of the <strong>Local-Mailbox</strong> profile entry or a system default email address.  This default can be overridden by using the <strong>-from</strong> <em>address</em> switch.  The default mailbox in the &ldquo;Fcc:&rdquo; field is <em>+outbox</em>. This can be overridden by the <strong>-fcc</strong> switch.</p><p>Any text you give to the <strong>-subject</strong> switch will be placed in the &ldquo;Subject:&rdquo; field in the draft.</p><p>If the draft already exists, <strong>comp</strong> will ask you as to the disposition of the draft.  A reply of <strong>quit</strong> will abort <strong>comp</strong>, leaving the draft intact; <strong>replace</strong> will replace the existing draft with the appropriate form; <strong>list</strong> will display the draft; <strong>use</strong> will use the draft for further composition; and <strong>refile</strong> <em>+folder</em> will file the draft in the given folder, and give you a new draft with the appropriate form.  (The <em>+folder</em> argument to <strong>refile</strong> is required.)</p><p>The <strong>-draftfolder</strong> <em>+folder</em> and <strong>-draftmessage</strong> <em>msg</em> switches invoke the <strong>nmh</strong> draft folder facility.  This is an advanced (and highly useful) feature.  Consult the <strong>mh-draft</strong>(5) man page for more information.</p><p>The <strong>-editor</strong> <em>editor</em> switch indicates the editor to use for the initial edit.  Upon exiting from the editor, <strong>comp</strong> will invoke the <strong>whatnow</strong> program.  See <strong>whatnow</strong>(1) for a discussion of available options.  The invocation of this program can be inhibited by using the <strong>-nowhatnowproc</strong> switch.  (In truth of fact, it is the <em>whatnow</em> program which starts the initial edit.  Hence, <strong>-nowhatnowproc</strong> will prevent any edit from occurring.)</p><p>The <strong>-build</strong> switch is intended to be used by the Emacs mh-e interface to <strong>nmh</strong>. It implies <strong>-nowhatnowproc</strong>. It causes a file &lt;mh-dir&gt;/draft to be created, containing the draft message that would normally be presented to the user for editing. No mail is actually sent.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>/etc/nmh/components</p>
  </dt>
  <dd>
    <p>The standard message skeleton.</p>
  </dd>
  <dt>
    <p>&lt;mh-dir&gt;/components</p>
  </dt>
  <dd>
    <p>An alternative to the standard skeleton.</p>
  </dd>
  <dt>
    <p>$HOME/.mh_profile</p>
  </dt>
  <dd>
    <p>The user's profile.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROFILE COMPONENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Path:</p>
  </dt>
  <dd>
    <p>To determine the user's nmh directory.</p>
  </dd>
  <dt>
    <p>Draft-Folder:</p>
  </dt>
  <dd>
    <p>To find the default draft-folder.</p>
  </dd>
  <dt>
    <p>Editor:</p>
  </dt>
  <dd>
    <p>To override the default editor.</p>
  </dd>
  <dt>
    <p>Msg-Protect:</p>
  </dt>
  <dd>
    <p>To set mode when creating a new message (draft).</p>
  </dd>
  <dt>
    <p>fileproc:</p>
  </dt>
  <dd>
    <p>Program to refile the message.</p>
  </dd>
  <dt>
    <p>whatnowproc:</p>
  </dt>
  <dd>
    <p>Program to ask the &ldquo;What now?&rdquo; questions</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO comp&hellip;</h2>
        <div class="sectioncontent">
<p><strong>dist</strong>(1), <strong>forw</strong>(1), <strong>repl</strong>(1), <strong>send</strong>(1), <strong>whatnow</strong>(1), <strong>mh-profile</strong>(5)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFAULTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>+folder</p>
  </dt>
  <dd>
    <p>The current folder.</p>
  </dd>
  <dt>
    <p>msg</p>
  </dt>
  <dd>
    <p>The current message.</p>
  </dd>
  <dt>
    <p>-nodraftfolder</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>-nouse</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTEXT</h2>
        <div class="sectioncontent">
<p>None</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>If <em>whatnowproc</em> is <strong>whatnow</strong>, then <strong>comp</strong> uses a built-in <strong>whatnow</strong>, it does not actually run the <strong>whatnow</strong> program. Hence, if you define your own <em>whatnowproc</em>, don't call it <strong>whatnow</strong> since <strong>comp</strong> won't run it.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="burst.1mh.html"><span aria-hidden="true">&larr;</span> burst.1mh: Explode digests into messages</a></li>
   <li class="next"><a href="flist.1mh.html">flist.1mh: List the number of messages in given sequence(s) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
