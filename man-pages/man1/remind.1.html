<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>remind: A sophisticated reminder service</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A sophisticated reminder service">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="remind (1) manual">
  <meta name="twitter:description" content="A sophisticated reminder service">
  <meta name="twitter:image" content="https://www.carta.tech/images/remind-remind-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/remind.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="remind (1) manual" />
  <meta property="og:description" content="A sophisticated reminder service" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/remind-remind-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">remind<small> (1)</small></h1>
        <p class="lead">A sophisticated reminder service</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/remind.1.html">
      <span itemprop="name">remind: A sophisticated reminder service</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/remind/">
      <span itemprop="name">remind</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/remind.1.html">
      <span itemprop="name">remind: A sophisticated reminder service</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>remind [</strong><em>options</em>] <em>filename</em> [<em>date</em>] [<em>*rep</em>] [<em>time</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Remind</strong> reads the supplied <em>filename</em> and executes the commands found in it.  The commands are used to issue reminders and alarms.  Each reminder or alarm can consist of a message sent to standard output, or a program to be executed.</p><p>If <em>filename</em> is specified as a single dash '-', then <strong>Remind</strong> takes its input from standard input.  This also implicitly enables the <strong>-o</strong> option, described below.</p><p>If <em>filename</em> happens to be a directory rather than a plain file, then <strong>Remind</strong> reads all of the files in that directory that match the pattern "*.rem".  The files are read in sorted order; the sort order may depend on your locale, but should match the sort order used by the shell to expand "*.rem".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>Remind</strong> has a slew of options.  If you're new to the program, ignore them for now and skip to the section "Reminder Files".</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>The <strong>-n</strong> option causes <strong>Remind</strong> to print the <strong>next</strong> occurrence of each reminder in a simple calendar format.  You can sort this by date by piping the output through <a href="../man1/sort.1.html"><strong>sort</strong>(1)</a></strong>.</p>
  </dd>
  <dt>
    <p><strong>-j</strong>[<em>n</em>]</p>
  </dt>
  <dd>
    <p>Runs <strong>Remind</strong> in "purge" mode to get rid of expired reminders. See the section PURGE MODE for details.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>The <strong>-r</strong> option disables <strong>RUN</strong> directives and the <strong>shell()</strong> function.  As of Remind 3.00.17, using <strong>-u</strong> implies <strong>-r</strong>.</p>
  </dd>
  <dt>
    <p><strong>-c</strong><em>[flags]</em><em>n</em></p>
  </dt>
  <dd>
    <p>The <strong>-c</strong> option causes <strong>Remind</strong> to produce a calendar that is sent to standard output.  If you supply a number <em>n</em>, then a calendar will be generated for <em>n</em> months, starting with the current month.  By default, a calendar for only the current month is produced.</p>
  </dd>

</dl>
<p>You can precede <em>n</em> (if any) with a set of flags.  The flags are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>'+'</strong></p>
  </dt>
  <dd>
    <p>causes a calendar for <em>n</em> weeks to be produced.</p>
  </dd>
  <dt>
    <p><strong>'a'</strong></p>
  </dt>
  <dd>
    <p>causes <strong>Remind</strong> to display reminders on the calendar on the day they actually occur <em>as well as</em> on any preceding days specified by the reminder's <em>delta</em>.</p>
  </dd>
  <dt>
    <p><strong>'l'</strong></p>
  </dt>
  <dd>
    <p>causes <strong>Remind</strong> to use VT100 line-drawing characters to draw the calendar.  The characters are hard-coded and will only work on terminals that emulate the VT00 line-drawing character set.</p>
  </dd>
  <dt>
    <p><strong>'u'</strong></p>
  </dt>
  <dd>
    <p>is similar to 'l', but causes <strong>Remind</strong> to use UNICODE line-drawing characters to draw the calendar.  The characters are hard-coded and will only work on terminals that are set to UTF-8 character encoding.</p>
  </dd>
  <dt>
    <p><strong>'c'</strong></p>
  </dt>
  <dd>
    <p>causes <strong>Remind</strong> to use VT100 escape sequences to approximate SPECIAL COLOR reminders.  The approximation is (of necessity) very coarse, because the VT100 only has eight different color sequences, each with one of two brightnesses.  A color component greater than 64 is considered "on", and if any of the three color components is greater than 128, the color is considered "bright".</p>
  </dd>
  <dt>
    <p><strong>-w</strong><em>col</em>[,<em>pad</em>[,<em>spc</em>]]]</p>
  </dt>
  <dd>
    <p>The <strong>-w</strong> option specifies the output width, padding and spacing of the formatted calendar output.  <em>Col</em> specifies the number of columns in the output device, and defaults to 80.  <em>Pad</em> specifies how many lines to use to "pad" empty calendar boxes.  This defaults to 5.  If you have many reminders on certain days that make your calendar too large to fit on a page, you can try reducing <em>pad</em> to make the empty boxes smaller.  <em>Spc</em> specifies how many blank lines to leave between the day number and the first reminder entry.  It defaults to 1.</p><p>Any of <em>col</em>, <em>pad</em> or <em>spc</em> can be omitted, providing you provide the correct number of commas.  Don't use any spaces in the option.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>[<strong>a</strong>]<em>n</em></p>
  </dt>
  <dd>
    <p>The <strong>-s</strong> option is very similar to the <strong>-c</strong> option, except that the output calendar is not formatted.  It is listed in a "simple format" that can be used as input for more sophisticated calendar-drawing programs.  If <em>n</em> starts with "+", then it is interpreted as a number of weeks.</p><p>If you immediately follow the <strong>s</strong> with the letter <strong>a</strong>, then <strong>Remind</strong> displays reminders on the calendar on the day they actually occur <em>as well as</em> on any preceding days specified by the reminder's <em>delta</em>.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>[<strong>a</strong>]<em>n</em></p>
  </dt>
  <dd>
    <p>The <strong>-p</strong> option is very similar to the <strong>-s</strong> option, except that the output contains additional information for use by the <strong>Rem2PS</strong> program, which creates a PostScript calendar.  For this option, <em>n</em> cannot start with "+"; it must specify a number of months. The format of the <strong>-p</strong> output is described in the <a href="../man1/rem2ps.1.html"><strong>rem2ps</strong>(1)</a></strong> man page.  If you immediately follow the <strong>p</strong> with the letter <strong>a</strong>, then <strong>Remind</strong> displays reminders on the calendar on the day they actually occur <em>as well as</em> on any preceding days specified by the reminder's <em>delta</em>.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>If you use the -l option in conjunction with the -p option, then <strong>Remind</strong> outputs additional information for back-end programs such as <strong>rem2ps</strong>.  This additional information lets the back-end programs correlate a reminder with the source file and line number that produced it.</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>The <strong>-m</strong> option causes the <strong>-c</strong> or <strong>-p</strong> options to produce a calendar whose first column is Monday rather than Sunday. (This conforms to the international standard.)</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>The <strong>-v</strong> option makes the output of <strong>Remind</strong> slightly more verbose. Currently, this causes <strong>Remind</strong> to echo a bad line in case of an error, and to print a security message if a script tests the $RunOff system variable.</p>
  </dd>
  <dt>
    <p><strong>-o</strong></p>
  </dt>
  <dd>
    <p>The <strong>-o</strong> option causes <strong>Remind</strong> to ignore all <strong>ONCE</strong> directives.</p>
  </dd>
  <dt>
    <p><strong>-t</strong></p>
  </dt>
  <dd>
    <p>The <strong>-t</strong> option causes <strong>Remind</strong> to trigger all non-expired reminders, regardless of the <em>delta</em> supplied for each reminder.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em>n</em></p>
  </dt>
  <dd>
    <p>If you supply a number <em>n</em> after the <strong>-t</strong> option, then <strong>Remind</strong> pretends that each non-expired reminder has a <em>delta</em> of <em>n</em> days and triggers reminders accordingly.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>The <strong>-h</strong> option ("hush...") suppresses certain warning and information messages.  In particular, if no reminders are triggered, this mode produces no output.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>The <strong>-a</strong> option causes <strong>Remind</strong> not to immediately trigger timed reminders that trigger on the current day.  It also causes <strong>Remind</strong> not to place timed reminders in a calendar.  If you supply two or more <strong>-a</strong> options, then <strong>Remind</strong> <em>will</em> trigger timed reminders that are in the future, but will not trigger timed reminders whose time has passed.  (Regardless of how many <strong>-a</strong> options you supply, <strong>Remind</strong> will not include timed reminders in the calendar if at least one <strong>-a</strong> option is used.)</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>The <strong>-q</strong> option causes <strong>Remind</strong> not to queue timed reminders for later execution.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>The <strong>-f</strong> option causes <strong>Remind</strong> to remain in the foreground when processing queued reminders, rather than forking off a background process to handle them.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>The <strong>-e</strong> option diverts error messages (normally sent to the standard error stream) to the standard output stream.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em>chars</em></p>
  </dt>
  <dd>
    <p>The <strong>-d</strong> option enables certain debugging modes.  The <em>chars</em> specify which modes to enable:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>e</strong></p>
  </dt>
  <dd>
    <p>Echo all input lines</p>
  </dd>
  <dt>
    <p><strong>x</strong></p>
  </dt>
  <dd>
    <p>Trace all expression evaluation</p>
  </dd>
  <dt>
    <p><strong>t</strong></p>
  </dt>
  <dd>
    <p>Display all trigger date computation</p>
  </dd>
  <dt>
    <p><strong>v</strong></p>
  </dt>
  <dd>
    <p>Dump the variable table after execution of the reminder script</p>
  </dd>
  <dt>
    <p><strong>l</strong></p>
  </dt>
  <dd>
    <p>Echo lines when displaying error messages</p>
  </dd>
  <dt>
    <p><strong>f</strong></p>
  </dt>
  <dd>
    <p>Trace the reading of reminder files</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-g</strong>[<strong>a|d</strong>[<strong>a|d</strong>[<strong>a|d</strong>[<strong>a|d</strong>]]]]</p>
  </dt>
  <dd>
    <p>Normally, reminders are issued in the order in which they are encountered in the reminder script.  The <strong>-g</strong> option cause <strong>Remind</strong> to sort reminders by date and time prior to issuing them. The optional <strong>a</strong> and <strong>d</strong> characters specify the sort order (ascending or descending) for the date, time and priority fields.  See the section "Sorting Reminders" for more information.</p>
  </dd>
  <dt>
    <p><strong>-b</strong>[<em>n</em>]</p>
  </dt>
  <dd>
    <p>Set the time format for the calendar and simple-calendar outputs.  <em>N</em> can range from 0 to 2, with the default 0.  A value of 0 causes times to be inserted in 12-hour (am/pm) format.  1 causes times to be inserted in 24-hour format, and 2 inhibits the automatic insertion of times in the calendar output.</p>
  </dd>
  <dt>
    <p><strong>-x</strong>[<em>n</em>]</p>
  </dt>
  <dd>
    <p>Sets the iteration limit for the <strong>SATISFY</strong> clause of a <strong>REM</strong> command.  Defaults to 150.</p>
  </dd>
  <dt>
    <p><strong>-k</strong><em>cmd</em></p>
  </dt>
  <dd>
    <p>Instead of simply printing <strong>MSG</strong>-type reminders, this causes them to be passed to the specific <em>cmd</em>. You must use '%s' where you want the body to appear, and may need to enclose this option in quotes.  Note that all shell characters in the body of the reminder are escaped with a backslash, and the entire body of the reminder is passed as a single argument.  Note that this option <strong>overrides</strong> the <strong>-r</strong> option and the <strong>RUN OFF</strong> command.</p>
  </dd>

</dl>
<p>As an example, suppose you have an X Window program called <strong>xmessage</strong> that pops up a window and displays its invocation arguments.  You could use:</p>
<pre>
		remind '-kxmessage %s &' ...
</pre>
<p>to have all of your <strong>MSG</strong>-type reminders processed using xmessage.</p><p>A word of warning: It is very easy to spawn dozens of xmessage processes with the above technique.  So be very careful.  Because all shell and whitespace characters are escaped, the program you execute with the <strong>-k</strong> option must be prepared to handle the entire message as a single argument.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-z</strong>[<em>n</em>] Runs <strong>Remind</strong> in the daemon mode.  If <em>n</em></p>
  </dt>
  <dd>
    <p>is supplied, it specifies how often (in minutes) <strong>Remind</strong> should wake up to check if the reminder script has been changed.  <em>N</em> defaults to 1, and can range from 1 to 60.  Note that the use of the <strong>-z</strong> option also enables the <strong>-f</strong> option.</p>
  </dd>

</dl>
<p>If you supply the option <strong>-z0</strong>, <strong>Remind</strong> runs in a special mode called <strong>server mode</strong>.  This is documented in the tkremind man page; see <a href="../man1/tkremind.1.html"><strong>tkremind</strong>(1)</a>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-u</strong><em>name</em></p>
  </dt>
  <dd>
    <p>Runs <strong>Remind</strong> with the uid and gid of the user specified by <em>name</em>. The option changes the uid and gid as described, and sets the environment variables HOME, SHELL and USER to the home directory, shell, and user name, respectively, of the specified user.  LOGNAME is also set to the specified user name.  This option is meant for use in shell scripts that mail reminders to all users.  Note that as of Remind 3.00.17, using <strong>-u</strong> implies <strong>-r</strong> -- the RUN directive and shell() functions are disabled.</p>
  </dd>

</dl>
<p>Non-root users can also use the <strong>-u</strong> option.  However, in this case, it only changes the environment variables as described above. It does not change the effective uid or gid.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-y</strong></p>
  </dt>
  <dd>
    <p>Causes <strong>Remind</strong> to synthesize a tag for any reminder that lacks a TAG clause.</p>
  </dd>
  <dt>
    <p><strong>-i</strong><em>var</em><strong>=</strong><em>expr</em></p>
  </dt>
  <dd>
    <p>Sets the value of the specified <em>var</em> to <em>expr</em>, and <strong>preserves</strong> <em>var</em>.  <em>Expr</em> can be any valid <strong>Remind</strong> expression.  See the section "Initializing Variables on the Command Line" for more details.</p>
  </dd>
  <dt>
    <p><strong>-i</strong><em>func</em>(<em>args</em>)=<em>definition</em></p>
  </dt>
  <dd>
    <p>Allows you to define a function on the command line.</p>
  </dd>

</dl>
<p>If you supply a <em>date</em> on the command line, it must consist of <em>day month year</em>, where <em>day</em> is the day of the month, <em>month</em> is at least the first three letters of the English name of the month, and <em>year</em> is a year (all 4 digits) from 1990 to about 2075.  You can leave out the <em>day</em>, which then defaults to 1.</p><p>If you do supply a <em>date</em> on the command line, then <strong>Remind</strong> uses it, rather than the actual system date, as its notion of "today." This lets you create calendars for future months, or test to see how your reminders will be triggered in the future.  Similarly, you can supply a <em>time</em> (in 24-hour format -- for example, 17:15) to set <strong>Remind</strong>'s notion of "now" to a particular time.  Supplying a <em>time</em> on the command line also implicitly enables the <strong>-q</strong> option and disables the <strong>-z</strong> option.</p><p>If you would rather specify the date more succinctly, you can supply it as YYYY-MM-DD or YYYY/MM/DD.  You can even supply a date and time on the command line as one argument: YYYY-MM-DD@HH:MM.</p><p>In addition, you can supply a <em>repeat</em> parameter, which has the form *<em>num</em>.  This causes <strong>Remind</strong> to be run <em>num</em> times, with the date incrementing on each iteration.  You may have to enclose the parameter in quotes to avoid shell expansion.  See the subsection "Repeated Execution" in the section "Calendar Mode" for more information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REMINDER FILES</h2>
        <div class="sectioncontent">
<p><strong>Remind</strong> uses scripts to control its operation.  You can use any text editor capable of creating plain ASCII files to create a <strong>Remind</strong> script.  The commands inside a script can range from the very simple and almost immediately understandable:</p>
<pre>
	REM 6 Jan MSG David's birthday
</pre>
<p>to the baroque and obscure:</p>
<pre>
	REM [date(thisyear, 1, 1) + 180] ++5 OMIT &#92;
	sat sun BEFORE MSG [ord(thisyear-1980)] payment due %b!
</pre>
<p>A reminder file consists of commands, with one command per line.  Several lines can be continued using the backslash character, as in the above example.  In this case, all of the concatenated lines are treated as a single line by <strong>Remind</strong>.  Note that if an error occurs, <strong>Remind</strong> reports the line number of the last line of a continued line.</p><p><strong>Remind</strong> ignores blank lines, and lines beginning with the '#' or ';' characters.  You can use the semicolon as a comment character if you wish to pass a <strong>Remind</strong> script through the C pre-processor, which interprets the '#' character as the start of a pre-processing directive.</p><p>Note that <strong>Remind</strong> processes line continuations before anything else. For example:</p>
<pre>
	# This is a comment &#92;
	This line is part of the comment because of line continuation &#92;
	and so on.
	REM MSG This line is not ignored (no nbsp;above)
</pre>
<p><strong>Remind</strong> is not case sensitive; you can generally use any mixture of upper- or lower-case for commands, parameters, invocation options, etc.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE REM COMMAND</h2>
        <div class="sectioncontent">
<p>The most powerful command in a <strong>Remind</strong> script is the <strong>REM</strong> command. This command is responsible for issuing reminders. Its syntax is:</p><p><strong>REM</strong> [<strong>ONCE</strong>] [<em>date_spec</em>] [<em>back</em>] [<em>delta</em>] [<em>repeat</em>] [<strong>PRIORITY</strong> <em>prio</em>] [<strong>SKIP</strong> | <strong>BEFORE</strong> | <strong>AFTER</strong>] [<strong>OMIT</strong> <em>omit_list</em>] [<strong>OMITFUNC</strong> <em>omit_function</em>] [<strong>AT</strong> <em>time</em> [<em>tdelta</em>] [<em>trepeat</em>]] [<strong>SCHED</strong> <em>sched_function</em>] [<strong>WARN</strong> <em>warn_function</em>] [<strong>UNTIL</strong> <em>expiry_date</em> | <strong>THROUGH</strong> <em>last_date</em>] [<strong>SCANFROM</strong> <em>scan_date</em> | <strong>FROM</strong> <em>start_date</em>] [<strong>DURATION</strong> <em>duration</em>] [<strong>TAG</strong> <em>tag</em>] &lt;<strong>MSG</strong> | <strong>MSF</strong> | <strong>RUN</strong> | <strong>CAL</strong> | <strong>SATISFY</strong> | <strong>SPECIAL</strong> <em>special</em> | <strong>PS</strong> | <strong>PSFILE</strong>&gt; <em>body</em></p><p>The parts of the <strong>REM</strong> command can be specified in any order, except that the <em>body</em> must come immediately after the <strong>MSG</strong>, <strong>RUN</strong>, <strong>CAL</strong>, <strong>PS</strong>, <strong>PSFILE</strong> or <strong>SATISFY</strong> keyword.</p><p>The <strong>REM</strong> token is optional, providing that the remainder of the command cannot be mistaken for another <strong>Remind</strong> command such as <strong>OMIT</strong> or <strong>RUN</strong>.  The portion of the <strong>REM</strong> command before the <strong>MSG</strong>, <strong>MSF</strong> <strong>RUN</strong>, <strong>CAL</strong> or <strong>SATISFY</strong> clause is called a <em>trigger</em>.</p><p><strong>MSG, MSF, RUN, CAL, SPECIAL, PS and PSFILE</strong></p><p>These keywords denote the <em>type</em> of the reminder.  (<strong>SATISFY</strong> is more complicated and will be explained later.)  A <strong>MSG</strong>-type reminder normally prints a message to the standard output, after passing the <em>body</em> through a special substitution filter, described in the section "The Substitution Filter."  However, if you have used the <strong>-k</strong> command-line option, then <strong>MSG</strong>-type reminders are passed to the appropriate program.  Note that the options <strong>-c</strong>, <strong>-s</strong>, <strong>-p</strong> and <strong>-n</strong> disable the <strong>-k</strong> option.</p><p>Note that you can omit the reminder type, in which case it defaults to <strong>MSG</strong>.  So you can write:</p>
<pre>
	6 January David's Birthday
</pre>
<p>although this is not recommended.</p><p>The <strong>MSF</strong> keyword is almost the same as the <strong>MSG</strong> keyword, except that the reminder is formatted to fit into a paragraph-like format.  Three system variables control the formatting of <strong>MSF</strong>-type reminders - they are <strong>$FirstIndent</strong>, <strong>$SubsIndent</strong> and <strong>$FormWidth</strong>.  They are discussed in the section "System Variables." The <strong>MSF</strong> keyword causes the spacing of your reminder to be altered - extra spaces are discarded, and two spaces are placed after periods and other characters, as specified by the system variables <strong>$EndSent</strong> and <strong>$EndSentIg</strong>.  Note that if the body of the reminder includes newline characters (placed there with the %_ sequence), then the newlines are treated as the beginnings of new paragraphs, and the <strong>$FirstIndent</strong> indentation is used for the next line.  You can use two consecutive newlines to have spaced paragraphs emitted from a single reminder body.</p><p>A <strong>RUN</strong>-type reminder also passes the <em>body</em> through the substitution filter, but then executes the result as a system command.  A <strong>CAL</strong>-type reminder is used only to place entries in the calendar produced when <strong>Remind</strong> is run with the <strong>-c</strong>, <strong>-s</strong> or <strong>-p</strong> options.</p><p>A <strong>PS</strong> or <strong>PSFILE</strong>-type reminder is used to pass PostScript code directly to the printer when producing PostScript calendars.  This can be used to shade certain calendar entries (see the psshade() function), include graphics in the calendar, or almost any other purpose you can think of.  You should not use these types of reminders unless you are an expert PostScript programmer.  The <strong>PS</strong> and <strong>PSFILE</strong> reminders are ignored unless <strong>Remind</strong> is run with the <strong>-p</strong> option.  See the section "More about PostScript" for more details.</p><p>A <strong>SPECIAL</strong>-type reminder is used to pass "out-of-band" information from <strong>Remind</strong> to a calendar-producing back-end.  It should be followed by a word indicating the type of special data being passed.  The type of a special reminder depends on the back-end.  For the <strong>Rem2PS</strong> back-end, <strong>SPECIAL PostScript</strong> is equivalent to a <strong>PS</strong>-type reminder, and <strong>SPECIAL PSFile</strong> is equivalent to a <strong>PSFILE</strong>-type reminder.  The body of a <strong>SPECIAL</strong> reminder is obviously dependent upon the back-end.</p><p><strong>DATE SPECIFICATIONS</strong></p><p>A <em>date_spec</em> consists of zero to four parts. These parts are <em>day</em> (day of month), <em>month</em> (month name), <em>year</em> and <em>weekday.</em> <em>Month</em> and <em>weekday</em> are the English names of months and weekdays.  At least the first three characters must be used.  The following are examples of the various parts of a <em>date_spec:</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><em>day:</em></p>
  </dt>
  <dd>
    <p>1, 22, 31, 14, 3</p>
  </dd>
  <dt>
    <p><em>month:</em></p>
  </dt>
  <dd>
    <p>JANUARY, feb, March, ApR, may, Aug</p>
  </dd>
  <dt>
    <p><em>year:</em></p>
  </dt>
  <dd>
    <p>1990, 1993, 2030, 95 (interpreted as 1995).  The year can range from 1990 to 2075.</p>
  </dd>
  <dt>
    <p><em>weekday:</em></p>
  </dt>
  <dd>
    <p>Monday, tue, Wed, THU, Friday, saturday, sundAy</p>
  </dd>

</dl>
<p>Note that there can be several <em>weekday</em> components separated by spaces in a <em>date_spec.</em></p><p><strong>INTERPRETATION OF DATE SPECIFICATIONS</strong></p><p>The following examples show how date specifications are interpreted.</p><p>1. Null date specification - the reminder is triggered every day. The trigger date for a specific run is simply the current system date.</p><p>2. Only <em>day</em> present.  The reminder is triggered on the specified day of each month. The trigger date for a particular run is the closest such day to the current system date.  For example:</p>
<pre>
	REM 1 MSG First of every month.
	REM 31 MSG 31st of every month that has 31 days.
</pre>
<p>3. Only <em>month</em> present.  The reminder is triggered every day of the specified month. Example:</p>
<pre>
	REM Feb MSG Every day in February
</pre>
<p>4. <em>day</em> and <em>month</em> present.  Examples:</p>
<pre>
	REM 6 Jan MSG Every 6th of January
	REM Feb 29 MSG Every 29th of February
</pre>
<p>5.  Only <em>year</em> present. Example:</p>
<pre>
	REM 1991 MSG Every day in 1991
</pre>
<p>6. <em>year</em> and <em>day</em> present.  Examples:</p>
<pre>
	REM 1 1990 MSG 1st of every month in 1990
	REM 1992 23 MSG 23rd of every month in 1992
</pre>
<p>7. <em>year</em> and <em>month</em> present.  Examples:</p>
<pre>
	REM Feb 1991 MSG Every day in Feb 1991
	REM 1992 September MSG Every day in Sept 1992
</pre>
<p>8. <em>year, month</em> and <em>day</em> present.  Examples:</p>
<pre>
	REM 8 Jan 1991 MSG 8th January 1991.
	REM 1992 March 9 MSG 9th March 1992.
</pre>
<p>9. <em>weekday</em> only.  Examples:</p>
<pre>
	REM Sat MSG Every Saturday
	REM Mon Tue Wed Thu Fri MSG Every working day
	REM Monday Wednesday MSG Every Monday and Wednesday
</pre>
<p>10. <em>weekday</em> and <em>day</em> present.  Examples:</p>
<pre>
	REM Sat 1 MSG First Saturday of every month
	REM Mon Tue Wed Thu Fri 15 &#92;
		MSG 1st working day after 15th of every month
</pre>
<p>11. <em>weekday</em> and <em>month</em> present.  Examples:</p>
<pre>
	REM Mon March MSG Every Monday in March
	REM Mon Tue Wed Thu Fri Feb MSG Every working day in February
</pre>
<p>12. <em>weekday, month</em> and <em>day</em> present.  Examples:</p>
<pre>
	REM Mon 1 March MSG First Monday in March
	REM Sat Sun 15 July MSG First Sat or Sun on or after 15 July
</pre>
<p>13. <em>weekday</em> and <em>year</em> present.  Example:</p>
<pre>
	REM Sat Sun 1991 MSG Every Saturday and Sunday in 1991
</pre>
<p>14. <em>weekday, day</em> and <em>year</em> present.  Examples:</p>
<pre>
	REM Mon 15 1990 MSG 1st Mon after 15th of every month in 1990
	REM Mon Tue Wed Thu Fri 1 1990 &#92;
		MSG 1st working day of every month in 1990
</pre>
<p>15. <em>weekday, month</em> and <em>year</em> present.  Example:</p>
<pre>
	REM Mon Wed 1991 Feb MSG Every Mon and Wed in Feb 1991.
</pre>
<p>16. <em>weekday, day, month</em> and <em>year</em> present.  Example:</p>
<pre>
	REM Mon Tue Wed Thu Fri 28 Oct 1990 &#92;
		MSG 1st working day on or after 28 October 1990.
</pre>
<p>Note that when both <em>weekday</em> and <em>day</em> are specified, <strong>Remind</strong> chooses the first date on or after the specified <em>day</em> that also satisfies the <em>weekday</em> constraint.  It does this by picking the first date on or after the specified <em>day</em> that is listed in the list of <em>weekdays.</em> Thus, a reminder like:</p>
<pre>
	REM Mon Tue 28 Oct 1990 MSG Hi
</pre>
<p>would be issued only on Monday, 29 October, 1990.  It would not be issued on Tuesday, 30 October, 1990, since the 29th is the first date to satisfy the <em>weekday</em> constraints.</p><p><strong>SHORT-HAND DATE SPECIFICATIONS</strong></p><p>In addition to spelling out the day, month and year separately, you can specify YYYY-MM-DD or YYYY/MM/DD.  For example, the following statements are equivalent:</p>
<pre>
	REM 5 June 2010 MSG Cool!
	REM 2010-06-05  MSG Cool!
</pre>
<p>You can also specify a date and time as YYYY-MM-DD@HH:MM.  These statements are equivalent:</p>
<pre>
	REM 19 Dec 2010 AT 16:45 MSG Hi
	REM 2010-12-19@16:45 MSG Hi
</pre>
<p>There's one subtlety with short-hand date specifications:  The following statements are <em>not</em> equivalent:</p>
<pre>
	REM 19 Dec 2010 AT 16:45 +60 MSG Hi
	REM 2010-12-19@16:45 +60 MSG Hi
</pre>
<p>In the second statement, the "+60" is a <em>delta</em> that applies to the date rather than a <em>tdelta</em> that applies to the time.  We recommend explicitly using the AT keyword with timed reminders.</p><p><strong>THE REMIND ALGORITHM</strong></p><p><strong>Remind</strong> uses the following algorithm to compute a trigger date: Starting from the current date, it examines each day, one at a time, until it finds a date that satisfies the date specification, or proves to itself that no such date exists.  (Actually, <strong>Remind</strong> merely <em>behaves</em> as if it used this algorithm; it would be much too slow in practice.  Internally, <strong>Remind</strong> uses much faster techniques to calculate a trigger date.)  See DETAILS ABOUT TRIGGER COMPUTATION for more information.</p><p><strong>BACKWARD SCANNING</strong></p><p>Sometimes, it is necessary to specify a date as being a set amount of time before another date.  For example, the last Monday in a given month is computed as the first Monday in the next month, minus 7 days. The <em>back</em> specification in the reminder is used in this case:</p>
<pre>
	REM Mon 1 -7 MSG Last Monday of every month.
</pre>
<p>A <em>back</em> is specified with one or two dashes followed by an integer. This causes <strong>Remind</strong> to move "backwards" from what would normally be the trigger date.  The difference between --7 and -7 will be explained when the <strong>OMIT</strong> keyword is described.</p><p><strong>ADVANCE WARNING</strong></p><p>For some reminders, it is appropriate to receive advance warning of the event.  For example, you may wish to be reminded of someone's birthday several days in advance.  The <em>delta</em> portion of the <strong>REM</strong> command achieves this.  It is specified as one or two "+" signs followed by a number <em>n</em>.  Again, the difference between the "+" and "++" forms will be explained under the <strong>OMIT</strong> keyword. <strong>Remind</strong> will trigger the reminder on computed trigger date, as well as on each of the <em>n</em> days before the event.  Here are some examples:</p>
<pre>
	REM 6 Jan +5 MSG Remind me of birthday 5 days in advance.
</pre>
<p>The above example would be triggered every 6th of January, as well as the 1st through 5th of January.</p><p><strong>PERIODIC REMINDERS</strong></p><p>We have already seen some built-in mechanisms for certain types of periodic reminders.  For example, an event occurring every Wednesday could be specified as:</p>
<pre>
	REM Wed MSG Event!
</pre>
<p>However, events that do not repeat daily, weekly, monthly or yearly require another approach.  The <em>repeat</em> component of the <strong>REM</strong> command fills this need.  To use it, you must completely specify a date (year, month and day, and optionally weekday.)  The <em>repeat</em> component is an asterisk followed by a number specifying the repetition period in days.</p><p>For example, suppose you get paid every second Wednesday, and your last payday was Wednesday, 28 October, 1992.  You can use:</p>
<pre>
	REM 28 Oct 1992 *14 MSG Payday
</pre>
<p>This issues the reminder every 14 days, starting from the calculated trigger date.  You can use <em>delta</em> and <em>back</em> with <em>repeat.</em>  Note, however, that the <em>back</em> is used only to compute the initial trigger date; thereafter, the reminder repeats with the specified period.  Similarly, if you specify a weekday, it is used only to calculate the initial date, and does not affect the repetition period.</p><p><strong>SCANFROM </strong>and<strong> FROM</strong></p><p>The <strong>SCANFROM</strong> and <strong>FROM</strong> keywords are for advanced <strong>Remind</strong> programmers only, and will be explained in the section "Details about Trigger Computation" near the end of this manual.  Note that <strong>SCANFROM</strong> is available only in versions of <strong>Remind</strong> from 03.00.04 up.  <strong>FROM</strong> is available only from 03.01.00 and later.</p><p><strong>PRIORITY</strong></p><p>The <strong>PRIORITY</strong> keyword must be followed by a number from 0 to 9999. It is used in calendar mode and when sorting reminders.  If two reminders have the same trigger date and time, then they are sorted by priority. If the <strong>PRIORITY</strong> keyword is not supplied, a default priority of 5000 is used.  (This default can be changed by adjusting the system variable <strong>$DefaultPrio</strong>.  See the section "System Variables" for more information.)</p><p><strong>EXPIRY DATES</strong></p><p>Some reminders should be issued periodically for a certain time, but then expire.  For example, suppose you have a class every Friday, and that your last class is on 11 December 1992.  You can use:</p>
<pre>
	REM Fri UNTIL 11 Dec 1992 MSG Class today.
</pre>
<p>Another example:  Suppose you have jury duty from 30 November 1992 until 4 December 1992.  The following reminder will issue the message every day of your jury duty, as well as 2 days ahead of time:</p>
<pre>
	REM 1992-11-30 *1 +2 UNTIL 1992-12-04 MSG Jury duty
</pre>
<p>Note that the <em>repeat</em> of *1 is necessary; without it, the reminder would be issued only on 30 November (and the two days preceding.)</p><p>As a special case, you can use the <strong>THROUGH</strong> keyword instead of *1 and <strong>UNTIL</strong>.  The following two <strong>REM</strong> commands are equivalent:</p>
<pre>
	REM 1992-11-30 *1 +2 UNTIL 1992-12-04 MSG Jury duty

	REM 1992-11-30 +2 THROUGH 1992-12-04 MSG Jury duty
</pre>
<p><strong>THE ONCE KEYWORD</strong></p><p>Sometimes, it is necessary to ensure that reminders are run only once on a given day.  For example, if you have a reminder that makes a backup of your files every Friday:</p>
<pre>
	REM Fri RUN do_backup
</pre>
<p>(Here, <em>do_backup</em> is assumed to be a program or shell script that does the work.)  If you run <strong>Remind</strong> from your .login script, for example, and log in several times per day, the <em>do_backup</em> program will be run each time you log in.  If, however, you use the <strong>ONCE</strong> keyword in the reminder, the <strong>Remind</strong> checks the last access date of the reminder script.  If it is the same as the current date, <strong>Remind</strong> assumes that it has already been run, and will not issue reminders containing the <strong>ONCE</strong> keyword.</p><p>Note that if you view or edit your reminder script, the last access date will be updated, and the <strong>ONCE</strong> keyword will not operate properly. If you start <strong>Remind</strong> with the <strong>-o</strong> option, then the <strong>ONCE</strong> keyword will be ignored.</p><p><strong>LOCALLY OMITTING WEEKDAYS</strong></p><p>The <strong>OMIT</strong> portion of the <strong>REM</strong> command is used to "omit" certain days when counting the <em>delta</em> or <em>back</em>.  It is specified using the keyword <strong>OMIT</strong> followed by a list of weekdays.  Its action is best illustrated with examples:</p>
<pre>
	REM 1 +1 OMIT Sat Sun MSG Important Event
</pre>
<p>This reminder is normally triggered on the first of every month, as well as the day preceding it.  However, if the first of the month falls on a Sunday or Monday, then the reminder is triggered starting from the previous Friday.  This is because the <em>delta</em> of +1 does not count Saturday or Sunday when it counts backwards from the trigger date to determine how much advance warning to give.</p><p>Contrast this with the use of "++1" in the above command.  In this case, the reminder is triggered on the first of each month, as well as the day preceding it.  The omitted days are counted.</p>
<pre>
	REM 1 -1 OMIT Sat Sun MSG Last working day of month
</pre>
<p>Again, in the above example, the <em>back</em> of -1 normally causes the trigger date to be the last day of the month.  However, because of the <strong>OMIT</strong> clause, if the first of the month falls on a Sunday or Monday, the trigger date is moved backwards past the weekend to Friday.  (If you have globally omitted holidays, the reminder will be moved back past them, also.  See "The OMIT command" for more details.)</p><p>By comparison, if we had used "--1", the reminder would be triggered on the last day of the month, regardless of the <strong>OMIT</strong>.</p><p><strong>COMPUTED LOCAL OMITS</strong></p><p>The <strong>OMITFUNC</strong> phrase of the <strong>REM</strong> command allows you to supply a function that determines whether or not a date is omitted. The function is passed a single parameter of type <strong>DATE</strong>, and must return a non-zero integer if the date is considered "omitted" and 0 otherwise.  Here's an example:</p>
<pre>
        FSET _third(x) (day(x) % 3) || &#92;
                       (wkdaynum(x) == 0) || &#92;
                       (wkdaynum(x) == 6)
        REM OMITFUNC _third AFTER MSG Working day divisible by 3
</pre>
<p>In the example above, the reminder is triggered every Monday to Friday whose day-of-month number is divisible by three.  Here's how it works:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>The <strong>OMITFUNC _third</strong> portion causes all days for which <strong>_third(x)</strong> returns non-zero to be considered "omitted".  This causes all days whose day-of-month number is <em>not</em> a multiple of three to be omitted.  Note that _third also returns non-zero if the weekday is Sunday or Saturday.</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>The <strong>AFTER</strong> keyword causes the reminder to be moved after a block of omitted days.</p>
  </dd>

</dl>
<p>The combination of OMITFUNC and AFTER keyword causes the reminder to be issued on all days whose day-of-month number is divisible by three, but not on Saturday or Sunday.</p><p>Note that if you use <strong>OMITFUNC</strong>, then a local <strong>OMIT</strong> is <em>ignored</em> as are <em>all global OMITs</em>.  If you want to omit specific weekdays, your omit function will need to test for them specifically.  If you want to take into account the global <strong>OMIT</strong> context, then your omit function will need to test for that explicitly (using the <strong>isomitted()</strong> function.)</p><p>Note that an incorrect <strong>OMITFUNC</strong> might cause all days to be considered omitted.  For that reason, when <strong>Remind</strong> searches through omitted days, it terminates the search after the <strong>SATISFY</strong> iteration limit (command-line option <strong>-x</strong>.)</p><p><strong>TIMED REMINDERS</strong></p><p>Timed reminders are those that have an <strong>AT</strong> keyword followed by a <em>time</em> and optional <em>tdelta</em> and <em>trepeat</em>.  The <em>time</em> must be specified in 24-hour format, with 0:00 representing midnight, 12:00 representing noon, and 23:59 representing one minute to midnight. You can use either a colon or a period to separate the hours from the minutes.  That is, 13:39 and 13.39 are equivalent.</p><p><strong>Remind</strong> treats timed reminders specially.  If the trigger date for a timed reminder is the same as the current system date, the reminder is queued for later activation.  When <strong>Remind</strong> has finished processing the reminder file, it puts itself in the background, and activates timed reminders when the system time reached the specified time.</p><p>If the trigger date is <em>not</em> the same as the system date, the reminder is not queued.</p><p>For example, the following reminder, triggered every working day, will emit a message telling you to leave at 5:00pm:</p>
<pre>
	REM Mon Tue Wed Thu Fri AT 17:00 MSG Time to leave!
</pre>
<p>The following reminder will be triggered on Thursdays and Fridays, but will only be queued on Fridays:</p>
<pre>
	REM Fri ++1 AT 13:00 MSG Lunch at 1pm Friday.
</pre>
<p>The <em>tdelta</em> and <em>trepeat</em> have the same form as a <em>repeat</em> and <em>delta</em>, but are specified in minutes.  For example, this reminder will be triggered at 12:00pm as well as 45 minutes before:</p>
<pre>
	REM AT 12:00 +45 MSG Example
</pre>
<p>The following will be issued starting at 10:45, every half hour until 11:45, and again at noon.</p>
<pre>
	REM AT 12:00 +75 *30 MSG Example2
</pre>
<p>The "+75" means that the reminder is issued starting 75 minutes before noon; in other words, at 10:45.  The *30 specifies that the reminder is subsequently to be issued every 30 minutes.  Note that the reminder is always issued at the specified time, even if the <em>tdelta</em> is not a multiple of the <em>trepeat</em>.  So the above example is issued at 10:45am, 11:15am, 11:45am, and 12:00pm.  Note that in the time specification, there is no distinction between the "+" and "++" forms of <em>tdelta</em>.</p><p>Normally, <strong>Remind</strong> will issue timed reminders as it processes the reminder script, as well as queuing them for later.  If you do not want <strong>Remind</strong> to issue the reminders when processing the script, but only to queue them for later, use the <strong>-a</strong> command-line option.  If you do not want reminders to be queued for later, use the <strong>-q</strong> command-line option.</p><p>Normally, <strong>Remind</strong> forks a background process to handle queued reminders. If you want <strong>Remind</strong> to remain in the foreground, use the <strong>-f</strong> command-line option.  This is useful, for example, in .xinitrc scripts, where you can use the command:</p>
<pre>
	remind -fa myreminders &
</pre>
<p>This ensures that when you exit X-Windows, the <strong>Remind</strong> process is killed.</p><p><strong>WARNING ABOUT TIMED REMINDERS</strong></p><p>Note:  If you use user-defined functions or variables (described later) in the bodies of timed reminders, then when the timed reminders are activated, the variables and functions have the definitions that were in effect at the end of the reminder script.  These definitions may <em>not</em> necessarily be those that were in effect at the time the reminder was queued.</p><p><strong>THE SCHED AND WARN KEYWORDS</strong></p><p>The <strong>SCHED</strong> keyword allows more precise control over the triggering of timed reminders, and the <strong>WARN</strong> keyword allows precise control over the advance triggering of all types of reminders. However, discussion must be deferred until after expressions and user-defined functions are explained.  See the subsection "Precise Scheduling" further on.</p><p><strong>TAG AND DURATION</strong></p><p>The <strong>TAG</strong> keyword lets you "tag" certain reminders.  This facility is used by certain back-ends or systems built around <strong>Remind</strong>, such as <strong>TkRemind</strong>.  These back-ends have specific rules about tags; see their documentation for details.</p><p>The <strong>TAG</strong> keyword is followed by a tag consisting of up to 48 characters.  You can have as many TAG clauses as you like in a given REM statement.</p><p>If you supply the <strong>-y</strong> option to <strong>Remind</strong>, then any reminder that lacks a <strong>TAG</strong> will have one synthesized.  The synthesized tag consists of the characters "__syn__" followed by the hexadecimal representation of the MD5 sum of the REM command line.  This lets you give a more-or-less unique identifier to each distinct REM command.</p><p>The <strong>DURATION</strong> keyword makes sense only for timed reminders; it specifies the duration of an event.  Currently, this is not used, but it may be used in future by back-ends or scheduling systems built around <strong>Remind</strong>.  For example, if you have a 90-minute meeting starting at 1:00pm, you could use:</p>
<pre>
	REM 5 March 1999 AT 13:00 DURATION 1:30 MSG Meeting
</pre>
<p>Note that <em>duration</em> is specified in hours and minutes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE SUBSTITUTION FILTER</h2>
        <div class="sectioncontent">
<p>Before being processed, the body of a <strong>REM</strong> command is passed through a substitution filter.  The filter scans for sequences "%x" (where "x" is any letter and certain other characters) and performs substitutions as shown below.  (All dates refer to the trigger date of the reminder.)</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>%a</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>weekday, day month, year</em>"</p><p>For example, consider the reminder:</p><p>REM 18 Oct 1990 +4 MSG Meeting with Bob %a.</p><p>On 16 October 1990, it would print "Meeting with Bob on Thursday, 18 October, 1990."</p><p>On 17 October 1990, it would print "Meeting with Bob tomorrow."</p><p>On 18 October 1990, it would print "Meeting with Bob today."</p>
  </dd>
  <dt>
    <p><strong>%b</strong></p>
  </dt>
  <dd>
    <p>is replaced with "in <em>diff</em> day's time" where <em>diff</em> is the <strong>actual</strong> number of days between the current date and the trigger date. (<strong>OMITs</strong> have no effect.)</p><p>For example, consider:</p><p>REM 18 Oct 1990 +4 MSG Meeting with Bob %b.</p><p>On 16 October 1990, it would print "Meeting with Bob in 2 days' time."</p><p>On 17 October 1990, it would print "Meeting with Bob tomorrow."</p><p>On 18 October 1990, it would print "Meeting with Bob today."</p>
  </dd>
  <dt>
    <p><strong>%c</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>weekday</em>"</p><p>Example: REM 18 Oct 1990 +4 MSG Meeting with Bob %c.</p><p>On 16 October 1990, it would print "Meeting with Bob on Thursday."</p><p>On 17 October 1990, it would print "Meeting with Bob tomorrow."</p><p>On 18 October 1990, it would print "Meeting with Bob today."</p>
  </dd>
  <dt>
    <p><strong>%d</strong></p>
  </dt>
  <dd>
    <p>is replaced with "<em>day</em>", the day of the month.</p>
  </dd>
  <dt>
    <p><strong>%e</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>dd-mm-yyyy</em>"</p>
  </dd>
  <dt>
    <p><strong>%f</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>mm-dd-yyyy</em>"</p>
  </dd>
  <dt>
    <p><strong>%g</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>weekday, day month</em>"</p>
  </dd>
  <dt>
    <p><strong>%h</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>dd-mm</em>"</p>
  </dd>
  <dt>
    <p><strong>%i</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>mm-dd</em>"</p>
  </dd>
  <dt>
    <p><strong>%j</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>weekday, month day-th, year</em>"  This form appends the characters "st", "nd", "rd" or "th" to the day of the month, as appropriate.</p>
  </dd>
  <dt>
    <p><strong>%k</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>weekday, month day-th</em>"</p>
  </dd>
  <dt>
    <p><strong>%l</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>yyyy-mm-dd</em>"</p>
  </dd>
  <dt>
    <p><strong>%m</strong></p>
  </dt>
  <dd>
    <p>is replaced with "<em>month</em>", the name of the month.</p>
  </dd>
  <dt>
    <p><strong>%n</strong></p>
  </dt>
  <dd>
    <p>is replaced with the number (1 to 12) of the month.</p>
  </dd>
  <dt>
    <p><strong>%o</strong></p>
  </dt>
  <dd>
    <p>is replaced with " (today)" if and only if the current system date is the same as the date being used by <strong>Remind</strong> as the current date.  Recall that you can specify a date for <strong>Remind</strong> to use on the command line.  This substitution is not generally useful in a <strong>REM</strong> command, but is useful in a <strong>BANNER</strong> command.  (See "The BANNER Command.")</p>
  </dd>
  <dt>
    <p><strong>%p</strong></p>
  </dt>
  <dd>
    <p>is replaced with "s" if the <em>diff</em> between the current date and the trigger date is not 1.  You can use this to construct reminders like:</p><p>REM 1 Jan +4 MSG %x day%p to go before New Year!</p>
  </dd>
  <dt>
    <p><strong>%q</strong></p>
  </dt>
  <dd>
    <p>is replaced with "'s" if the <em>diff</em> between the trigger date and the current date is 1.  Otherwise, it is replaced with "s'"  This can be used as follows:</p><p>REM 1 Jan +4 MSG New Year in %x day%q time!</p>
  </dd>
  <dt>
    <p><strong>%r</strong></p>
  </dt>
  <dd>
    <p>is replaced with the day of the month (01 to 31) padded with a leading zero if needed to pad to two digits.</p>
  </dd>
  <dt>
    <p><strong>%s</strong></p>
  </dt>
  <dd>
    <p>is replaced with "st", "nd", "rd" or "th" depending on the day of the month.</p>
  </dd>
  <dt>
    <p><strong>%t</strong></p>
  </dt>
  <dd>
    <p>is replaced with the number of the month (01 to 12) padded to two digits with a leading zero.</p>
  </dd>
  <dt>
    <p><strong>%u</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>weekday, day-th month, year</em>"  This is similar to <strong>%a</strong> except that "st", "nd", "rd" or "th" is added to the <em>day</em> as appropriate.</p>
  </dd>
  <dt>
    <p><strong>%v</strong></p>
  </dt>
  <dd>
    <p>is replaced with "on <em>weekday, day-th month</em>"</p>
  </dd>
  <dt>
    <p><strong>%w</strong></p>
  </dt>
  <dd>
    <p>is replaced with "<em>weekday</em>", the name of the day of the week.</p>
  </dd>
  <dt>
    <p><strong>%x</strong></p>
  </dt>
  <dd>
    <p>is replaced with the <em>diff</em> between the current date and the trigger date.  The <em>diff</em> is defined as the actual number of days between these two dates; <strong>OMITs</strong> are not counted.  (Strict date subtraction is performed.)</p>
  </dd>
  <dt>
    <p><strong>%y</strong></p>
  </dt>
  <dd>
    <p>is replaced with "<em>year</em>", the year of the trigger date.</p>
  </dd>
  <dt>
    <p><strong>%z</strong></p>
  </dt>
  <dd>
    <p>is replaced with "<em>yy</em>", the last two digits of the year.</p>
  </dd>
  <dt>
    <p><strong>%_</strong></p>
  </dt>
  <dd>
    <p>(percent-underscore) is replaced with a newline.  You can use this to achieve multi-line reminders.</p>
  </dd>
  <dt>
    <p><strong>%1</strong></p>
  </dt>
  <dd>
    <p>is replaced with "now", "<em>m</em> minutes from now", "<em>m</em> minutes ago", "<em>h</em> hours from now", "<em>h</em> hours ago", "<em>h</em> hours and <em>m</em> minutes from now" or "<em>h</em> hours and <em>m</em> minutes ago", as appropriate for a timed reminder.  Note that unless you specify the <strong>-a</strong> option, timed reminders will be triggered like normal reminders, and thus a timed reminder that occurred earlier in the day may be triggered.  This causes the need for the "...ago" forms.</p>
  </dd>
  <dt>
    <p><strong>%2</strong></p>
  </dt>
  <dd>
    <p>is replaced with "at <em>hh</em>:<em>mm</em>am" or "..pm" depending on the <strong>AT</strong> time of the reminder.</p>
  </dd>
  <dt>
    <p><strong>%3</strong></p>
  </dt>
  <dd>
    <p>is replaced with "at <em>hh</em>:<em>mm</em>" in 24-hour format.</p>
  </dd>
  <dt>
    <p><strong>%4</strong></p>
  </dt>
  <dd>
    <p>is replaced with "<em>mm</em>" where <em>mm</em> is the number of minutes between "now" and the time specified by <strong>AT</strong>.  If the <strong>AT</strong> time is earlier than the current time, then the result is negative.</p>
  </dd>
  <dt>
    <p><strong>%5</strong></p>
  </dt>
  <dd>
    <p>is replaced with "<em>ma</em>" where <em>ma</em> is the absolute value of the number produced by <strong>%4</strong>.</p>
  </dd>
  <dt>
    <p><strong>%6</strong></p>
  </dt>
  <dd>
    <p>is replaced with "ago" or "from now", depending on the relationship between the <strong>AT</strong> time and the current time.</p>
  </dd>
  <dt>
    <p><strong>%7</strong></p>
  </dt>
  <dd>
    <p>is replaced with the number of hours between the <strong>AT</strong> time and the current time.  It is always non-negative.</p>
  </dd>
  <dt>
    <p><strong>%8</strong></p>
  </dt>
  <dd>
    <p>is replaced with the number of minutes between the <strong>AT</strong> time and the current time, after the hours (<strong>%7</strong>) have been subtracted out. This is a number ranging from 0 to 59.</p>
  </dd>
  <dt>
    <p><strong>%9</strong></p>
  </dt>
  <dd>
    <p>is replaced with "s" if the value produced by <strong>%8</strong> is not 1.</p>
  </dd>
  <dt>
    <p><strong>%0</strong></p>
  </dt>
  <dd>
    <p>is replaced with "s" if the value produced by <strong>%7</strong> is not 1.</p>
  </dd>
  <dt>
    <p><strong>%!</strong></p>
  </dt>
  <dd>
    <p>is replaced with "is" if the current time is before the <strong>AT</strong> time, or "was" if it is after.</p>
  </dd>
  <dt>
    <p><strong>%@</strong></p>
  </dt>
  <dd>
    <p>is similar to <strong>%2</strong> but displays the current time.</p>
  </dd>
  <dt>
    <p><strong>%#</strong></p>
  </dt>
  <dd>
    <p>is similar to <strong>%3</strong> but displays the current time.</p>
  </dd>
  <dt>
    <p><strong></strong></p>
  </dt>
  <dd>
    <p>%" (percent-doublequote - ") is removed.  This sequence is not used by the substitution filter, but is used to tell <strong>Remind</strong> which text to include in a calendar entry when the <strong>-c</strong>, <strong>-s</strong> or <strong>-p</strong> option is chosen. See "Calendar Mode"</p>
  </dd>

</dl>
<p>Notes:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>Remind</strong> normally prints a blank line after each reminder; if the last character of the body is "%", the blank line will not be printed.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>Substitutions a, b, c, e, f, g, h, i, j, k, l, u and v all are replaced with "today" if the current date equals the trigger date, or "tomorrow" if the trigger date is one day after the current date.  Thus, they are <strong>not</strong> the same as substitutions built up from the simpler %w, %y, etc. sequences.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>Any of the substitutions dealing with time (0 through 9 and '!') produce undefined results if used in a reminder that does not have an <strong>AT</strong> keyword.  Also, if a reminder has a <em>delta</em> and may be triggered on several days, the time substitutions ignore the date.  Thus, the <strong>%1</strong> substitution may report that a meeting is in 15 minutes, for example, even though it may only be in 2 days time, because a <em>delta</em> has triggered the reminder.  It is recommended that you use the time substitutions only in timed reminders with no <em>delta</em> that are designed to be queued for timed activation.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>Capital letters can be used in the substitution sequence, in which case the first character of the substituted string is capitalized (if it is normally a lower-case letter.)</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>All other characters following a "%" sign are simply copied.  In particular, to get a "%" sign out, use "%%" in the body.  To start the body of a reminder with a space, use "% ", since <strong>Remind</strong> normally scans for the first non-space character after a <strong>MSG,</strong> <strong>CAL</strong> or <strong>RUN</strong> token.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE OMIT COMMAND</h2>
        <div class="sectioncontent">
<p>In addition to being a keyword in the <strong>REM</strong> command, <strong>OMIT</strong> is a command in its own right.  Its syntax is:</p><p><strong>OMIT</strong> <em>day</em> <em>month</em> [<em>year</em>]</p><p>or:</p><p><strong>OMIT</strong> <em>day1</em> <em>month1</em> <em>year1</em> <strong>THROUGH</strong> <em>day2</em> <em>month2</em> <em>year2</em></p><p>The <strong>OMIT</strong> command is used to "globally" omit certain days (usually holidays).  These globally-omitted days are skipped by the "-" and "+" forms of <em>back</em> and <em>delta</em>.  Some examples:</p>
<pre>
	OMIT 1 Jan
	OMIT 7 Sep 1992
</pre>
<p>The first example specifies a holiday that occurs on the same date each year - New Year's Day.  The second example specifies a holiday that changes each year - Labour Day.  For these types of holidays, you must create an <strong>OMIT</strong> command for each year.  (Later, in the description of expressions and some of the more advanced features of <strong>Remind</strong>, you will see how to automate this for some cases.)</p><p>As with the REM command, you can use shorthand specifiers for dates; the following are equivalent:</p>
<pre>
	OMIT 7 Sep 1992
	OMIT 1992-09-07
</pre>
<p>For convenience, you can use a <em>delta</em> and <strong>MSG</strong> or <strong>RUN</strong> keyword in the <strong>OMIT</strong> command.  The following sequences are equivalent:</p>
<pre>
	OMIT 1 Jan
	REM 1 Jan +4 MSG New year's day is %b!

	and

	OMIT 1 Jan +4 MSG New year's day is %b!
</pre>
<p>The <strong>THROUGH</strong> keyword lets you conveniently OMIT a range of days. The starting and ending points must be fully-specified (ie, they must include day, month and year.).  For example, the following sequences are equivalent:</p>
<pre>
	OMIT 3 Jan 2011
	OMIT 4 Jan 2011
	OMIT 5 Jan 2011

	and

	OMIT 3 Jan 2011 THROUGH 5 Jan 2011
</pre>
<p>You can make a THROUGH <strong>OMIT</strong> do double-duty as a <strong>REM</strong> command:</p>
<pre>
	OMIT 6 Sep 2010 THROUGH 10 Sep 2010 MSG Vacation
</pre>
<p>You can debug your global OMITs with the following command:</p>
<pre>
	OMIT DUMP
</pre>
<p>The OMIT DUMP command prints the current global omits to standard output.</p><p><strong>THE BEFORE, AFTER AND SKIP KEYWORDS</strong></p><p>Normally, days that are omitted, whether by a global <strong>OMIT</strong> command or the local <strong>OMIT</strong> or <strong>OMITFUNC</strong> keywords in a <strong>REM</strong> statement, only affect the counting of the -<em>back</em> or the +<em>delta</em>.  For example, suppose you have a meeting every Wednesday.  Suppose, too, that you have indicated 11 Nov as a holiday:</p>
<pre>
	OMIT 11 Nov +4 MSG Remembrance Day
	REM Wed +1 MSG Code meeting %b.
</pre>
<p>The above sequence will issue a reminder about a meeting for 11 November 1992, which is a Wednesday.  This is probably incorrect.  There are three options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>BEFORE</strong></p>
  </dt>
  <dd>
    <p>This keyword moves the reminder to before any omitted days.  Thus, in the above example, use of <strong>BEFORE</strong> would cause the meeting reminder to be triggered on Tuesday, 10 November 1992.</p>
  </dd>
  <dt>
    <p><strong>AFTER</strong></p>
  </dt>
  <dd>
    <p>This keyword moves the reminder to after any omitted days.  In the above example, the meeting reminder would be triggered on Thursday, 12 November 1992.</p>
  </dd>
  <dt>
    <p><strong>SKIP</strong></p>
  </dt>
  <dd>
    <p>This keyword causes the reminder to be skipped completely on any omitted days.  Thus, in the above example, the reminder would not be triggered on 11 November 1992.  However, it would be triggered as usual on the following Wednesday, 18 November 1992.</p>
  </dd>

</dl>
<p>The <strong>BEFORE</strong> and <strong>AFTER</strong> keywords move the trigger date of a reminder to before or after a block of omitted days, respectively. Suppose you normally run a backup on the first day of the month.  However, if the first day of the month is a weekend or holiday, you run the backup on the first working day following the weekend or holiday.  You could use:</p>
<pre>
	REM 1 OMIT Sat Sun AFTER RUN do_backup
</pre>
<p>Let's examine how the trigger date is computed.  The <strong>1</strong> specifies the first day of the month.  The local <strong>OMIT</strong> keyword causes the <strong>AFTER</strong> keyword to move the reminder forward past weekends. Finally, the <strong>AFTER</strong> keyword will keep moving the reminder forward until it has passed any holidays specified with global <strong>OMIT</strong> commands.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE INCLUDE COMMAND</h2>
        <div class="sectioncontent">
<p><strong>Remind</strong> allows you to include other files in your reminder script, similar to the C preprocessor #include directive.  For example, your system administrator may maintain a file of holidays or system-wide reminders.  You can include these in your reminder script as follows:</p>
<pre>
	INCLUDE /usr/share/remind/holidays
	INCLUDE /usr/share/remind/reminders
</pre>
<p>(The actual pathnames vary from system to system - ask your system administrator.)</p><p><strong>INCLUDE</strong> files can be nested up to a depth of 8.</p><p>If you specify a filename of "-" in the <strong>INCLUDE</strong> command, <strong>Remind</strong> will begin reading from standard input.</p><p>If you specify a <em>directory</em> as the argument to <strong>INCLUDE</strong>, then <strong>Remind</strong> will process all files in that directory that match the shell patterm "*.rem".  The files are processed in sorted order; the sort order matches that used by the shell when it expands "*.rem".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE RUN COMMAND</h2>
        <div class="sectioncontent">
<p>If you include other files in your reminder script, you may not always entirely trust the contents of the other files.  For example, they may contain <strong>RUN</strong>-type reminders that could be used to access your files or perform undesired actions.  The <strong>RUN</strong> command can restrict this:  If you include the command <strong>RUN OFF</strong> in your top-level reminder script, any reminder or expression that would normally execute a system command is disabled.  <strong>RUN ON</strong> will re-enable the execution of system commands.  Note that the <strong>RUN ON</strong> command can <em>only</em> be used in your top-level reminder script; it will <em>not</em> work in any files accessed by the <strong>INCLUDE</strong> command.  This is to protect you from someone placing a <strong>RUN ON</strong> command in an included file.  However, the <strong>RUN OFF</strong> command can be used at top level or in an included file.</p><p>If you run <strong>Remind</strong> with the <strong>-r</strong> command-line option, <strong>RUN</strong>-type reminders and the <strong>shell()</strong> function will be disabled, regardless of any <strong>RUN</strong> commands in the reminder script.  However, any command supplied with the <strong>-k</strong> option will still be executed.</p><p>One use of the <strong>RUN</strong> command is to provide a secure interface between <strong>Remind</strong> and the <strong>Elm</strong> mail system.  The <strong>Elm</strong> system can automatically scan incoming mail for reminder or calendar entries, and place them in your calendar file.  To use this feature, you should set the calendar filename option under <strong>Elm</strong> to be something like "~/.reminders.in", <em>not</em> your main reminder file!  This is so that any <strong>RUN ON</strong> commands mailed to you can never be activated.</p><p>Then, you can use the <strong>Elm</strong> <em>scan message for calendar entries</em> command to place reminders prefaced by "-&gt;" into .reminders.in.  In your main .reminders file, include the following lines:</p>
<pre>
	RUN OFF   # Disable RUN
	INCLUDE .reminders.in
	RUN ON    # Re-enable RUN
</pre>
<p>In addition, <strong>Remind</strong> contains a few other security features.  It will not read a file that is group- or world-writable. It will not run set-uid.  If it reads a file you don't own, it will disable RUN and the shell() function.  And if it is run as <em>root</em>, it will only read files owned by <em>root</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE BANNER COMMAND</h2>
        <div class="sectioncontent">
<p>When <strong>Remind</strong> first issues a reminder, it prints a message like this:</p>
<pre>
	Reminders for Friday, 30th October, 1992 (today):
</pre>
<p>(The banner is not printed if any of the calendar-producing options is used, or if the <strong>-k</strong> option is used.)</p><p>The <strong>BANNER</strong> command lets you change the format.  It should appear before any <strong>REM</strong> commands.  The format is:</p><p><strong>BANNER</strong> <em>format</em></p><p>The <em>format</em> is similar to the <em>body</em> of a <strong>REM</strong> command.  It is passed through the substitution filter, with an implicit trigger of the current system date.  Thus, the default banner is equivalent to:</p>
<pre>
	BANNER Reminders for %w, %d%s %m, %y%o:
</pre>
<p>You can disable the banner completely with BANNER %.  Or you can create a custom banner:</p>
<pre>
	BANNER Hi - here are your reminders for %y-%t-%r:
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTROLLING THE OMIT CONTEXT</h2>
        <div class="sectioncontent">
<p>Sometimes, it is necessary to temporarily change the global <strong>OMITs</strong> that are in force for a few reminders.  Three commands allow you to do this:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>PUSH-OMIT-CONTEXT</strong></p>
  </dt>
  <dd>
    <p>This command saves the current global <strong>OMITs</strong> on an internal stack.</p>
  </dd>
  <dt>
    <p><strong>CLEAR-OMIT-CONTEXT</strong></p>
  </dt>
  <dd>
    <p>This command clears all of the global <strong>OMITs</strong>, starting you off with a "clean slate."</p>
  </dd>
  <dt>
    <p><strong>POP-OMIT-CONTEXT</strong></p>
  </dt>
  <dd>
    <p>This command restores the global <strong>OMITs</strong> that were saved by the most recent <strong>PUSH-OMIT-CONTEXT</strong>.</p>
  </dd>

</dl>
<p>For example, suppose you have a block of reminders that require a clear <strong>OMIT</strong> context, and that they also introduce unwanted global <strong>OMITs</strong> that could interfere with later reminders.  You could use the following fragment:</p>
<pre>
	PUSH-OMIT-CONTEXT	# Save the current context
	CLEAR-OMIT-CONTEXT	# Clean the slate
	# Block of reminders goes here
	POP-OMIT-CONTEXT	# Restore the saved omit context
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPRESSIONS</h2>
        <div class="sectioncontent">
<p>In certain contexts, to be described later, <strong>Remind</strong> will accept expressions for evaluation.  <strong>Remind</strong> expressions resemble C expressions, but operate on different types of objects.</p><p><strong>DATA TYPES</strong></p><p><strong>Remind</strong> expressions operate on five types of objects:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>INT</strong></p>
  </dt>
  <dd>
    <p>The <strong>INT</strong> data type consists of the integers representable in one machine word.  The <strong>INT</strong> data type corresponds to the C "int" type.</p>
  </dd>
  <dt>
    <p><strong>STRING</strong></p>
  </dt>
  <dd>
    <p>The <strong>STRING</strong> data type consists of strings of characters.  It is somewhat comparable to a C character array, but more closely resembles the string type in BASIC.</p>
  </dd>
  <dt>
    <p><strong>TIME</strong></p>
  </dt>
  <dd>
    <p>The <strong>TIME</strong> data type consists of times of the day.  The <strong>TIME</strong> data type is internally stored as an integer representing the number of minutes since midnight.</p>
  </dd>
  <dt>
    <p><strong>DATE</strong></p>
  </dt>
  <dd>
    <p>The <strong>DATE</strong> data type consists of dates (later than 1 January 1990.) Internally, <strong>DATE</strong> objects are stored as the number of days since 1 January 1990.</p>
  </dd>
  <dt>
    <p><strong>DATETIME</strong></p>
  </dt>
  <dd>
    <p>The <strong>DATETIME</strong> data type consists of a date and time together. Internally, <strong>DATETIME</strong> objects are stored as the number of minutes since midnight, 1 January 1990.  You can think of a <strong>DATETIME</strong> object as being the combination of <strong>DATE</strong> and <strong>TIME</strong> parts.</p>
  </dd>

</dl>
<p><strong>CONSTANTS</strong></p><p>The following examples illustrate constants in <strong>Remind</strong> expressions:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>INT constants</strong></p>
  </dt>
  <dd>
    <p>12, 36, -10, 0, 1209</p>
  </dd>
  <dt>
    <p><strong>STRING constants</strong></p>
  </dt>
  <dd>
    <p>"Hello there", "This is a test", "&#92;n&#92;gosd&#92;w", ""</p>
  </dd>

</dl>
<p>Note that the empty string is represented by "", and that backslashes in a string are <em>not</em> interpreted specially, as in they are in C.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>TIME constants</strong></p>
  </dt>
  <dd>
    <p>12:33, 0:01, 14:15, 16:42, 12.16, 13.00, 1.11</p>
  </dd>

</dl>
<p>Note that <strong>TIME</strong> constants are written in 24-hour format.  Either the period or colon can be used to separate the minutes from the hours. However, Remind will consistently output times using only one separator character.  (The output separator character is chosen at compile-time.)</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>DATE constants</strong></p>
  </dt>
  <dd>
    <p><strong>DATE</strong> constants are expressed as 'yyyy/mm/dd' or 'yyyy-mm-dd', and the single quotes <em>must</em> be supplied.  This distinguishes date constants from division or subtraction of integers.  Examples:</p>
  </dd>

</dl>
<p>\'1993/02/22', '1992-12-25', '1999/01/01'</p><p>Note that <strong>DATE</strong> values are <em>printed</em> without the quotes.  Although either '-' or '/' is accepted as a date separator on input, when dates are printed, only one will be used.  The choice of whether to use '-' or '/' is made at compile-time. Note also that versions of <strong>Remind</strong> prior to 03.00.01 did not support date constants.  In those versions, you must create dates using the <strong>date()</strong> function.  Also, versions prior to 03.00.02 did not support the '-' date separator.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>DATETIME constants</strong></p>
  </dt>
  <dd>
    <p><strong>DATETIME</strong> constants are expressed similarly to <strong>DATE</strong> constants with the addition of an "@HH:MM" part.  For example:</p>
  </dd>

</dl>
<p>\'2008-04-05@23:11', '1999/02/03@14:06', '2001-04-07@08:30'</p><p><strong>DATETIME</strong> values are printed without the quotes.  Notes about date and time separator characters for <strong>DATE</strong> and <strong>TIME</strong> constants apply also to <strong>DATETIME</strong> constants.</p><p><strong>OPERATORS</strong></p><p><strong>Remind</strong> has the following operators.  Operators on the same line have equal precedence, while operators on lower lines have lower precedence than those on higher lines.  The operators approximately correspond to C operators.</p>
<pre>
	!  -     (unary logical negation and arithmetic negation)
	*  /  %
	+  -
	&lt;  &lt;=  &gt;  &gt;=
	==  !=
	&&
	||
</pre>
<p><strong>DESCRIPTION OF OPERATORS</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>!</strong></p>
  </dt>
  <dd>
    <p>Logical negation.  Can be applied to an <strong>INT</strong> type.  If the operand is non-zero, returns zero.  Otherwise, returns 1.</p>
  </dd>
  <dt>
    <p><strong>-</strong></p>
  </dt>
  <dd>
    <p>Unary minus.  Can be applied to an <strong>INT</strong>.  Returns the negative of the operand.</p>
  </dd>
  <dt>
    <p><strong>*</strong></p>
  </dt>
  <dd>
    <p>Multiplication.  Returns the product of two <strong>INT</strong>s.</p>
  </dd>
  <dt>
    <p><strong>/</strong></p>
  </dt>
  <dd>
    <p>Integer division.  Returns the quotient of two <strong>INT</strong>s, discarding the remainder.</p>
  </dd>
  <dt>
    <p><strong>%</strong></p>
  </dt>
  <dd>
    <p>Modulus.  Returns the remainder upon dividing one <strong>INT</strong> by another.</p>
  </dd>
  <dt>
    <p><strong>+</strong></p>
  </dt>
  <dd>
    <p>Has several uses.  These are:</p>
  </dd>

</dl>
<p><strong>INT</strong> + <strong>INT</strong> - returns the sum of two <strong>INT</strong>s.</p><p><strong>INT</strong> + <strong>TIME</strong> or <strong>TIME</strong> + <strong>INT</strong> - returns a <strong>TIME</strong> obtained by adding <strong>INT</strong> minutes to the original <strong>TIME</strong>.</p><p><strong>INT</strong> + <strong>DATE</strong> or <strong>DATE</strong> + <strong>INT</strong> - returns a <strong>DATE</strong> obtained by adding <strong>INT</strong> days to the original <strong>DATE</strong>.</p><p><strong>INT</strong> + <strong>DATETIME</strong> or <strong>DATETIME</strong> + <strong>INT</strong> - returns a <strong>DATETIME</strong> obtained by adding <strong>INT</strong> minutes to the original <strong>DATETIME</strong>.</p><p><strong>STRING</strong> + <strong>STRING</strong> - returns a <strong>STRING</strong> that is the concatenation of the two original <strong>STRING</strong>s.</p><p><strong>STRING</strong> + anything or anything + <strong>STRING</strong> - converts the non-<strong>STRING</strong> argument to a <strong>STRING</strong>, and then performs concatenation.  See the <strong>coerce()</strong> function.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-</strong></p>
  </dt>
  <dd>
    <p>Has several uses.  These are:</p>
  </dd>

</dl>
<p><strong>INT</strong> - <strong>INT</strong> - returns the difference of two <strong>INT</strong>s.</p><p><strong>DATE</strong> - <strong>DATE</strong> - returns (as an <strong>INT</strong>) the difference in days between two <strong>DATE</strong>s.</p><p><strong>TIME</strong> - <strong>TIME</strong> - returns (as an <strong>INT</strong>) the difference in minutes between two <strong>TIME</strong>s.</p><p><strong>DATETIME</strong> - <strong>DATETIME</strong> - returns (as an <strong>INT</strong>) the difference in minutes between two <strong>DATETIME</strong>s.</p><p><strong>DATE</strong> - <strong>INT</strong> - returns a <strong>DATE</strong> that is <strong>INT</strong> days earlier than the original <strong>DATE</strong>.</p><p><strong>TIME</strong> - <strong>INT</strong> - returns a <strong>TIME</strong> that is <strong>INT</strong> minutes earlier than the original <strong>TIME</strong>.</p><p><strong>DATETIME</strong> - <strong>INT</strong> - returns a <strong>DATETIME</strong> that is <strong>INT</strong> minutes earlier than the original <strong>DATETIME</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&lt;, &lt;=, &gt;, and &gt;=</strong></p>
  </dt>
  <dd>
    <p>These are the comparison operators.  They can take operands of any type, but both operands must be of the same type.  The comparison operators return 1 if the comparison is true, or 0 if it is false.  Note that string comparison is done following the lexical ordering of characters on your system, and that upper and lower case <em>are</em> distinct for these operators.</p>
  </dd>
  <dt>
    <p><strong>==, !=</strong></p>
  </dt>
  <dd>
    <p>== tests for equality, returning 1 if its operands are equal, and 0 if they are not.  != tests for inequality.</p>
  </dd>

</dl>
<p>If the operands are not of the same type, == returns 0 and != returns 1.  Again, string comparisons are case-sensitive.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&&</strong></p>
  </dt>
  <dd>
    <p>This is the logical AND operator.  Both of its operands must be of type <strong>INT</strong>.  It returns 1 if both operands are non-zero, and 0 otherwise.</p>
  </dd>
  <dt>
    <p><strong>||</strong></p>
  </dt>
  <dd>
    <p>This is the logical OR operator.  Both of its operands must be of type <strong>INT</strong>.  It returns 1 if either operand is non-zero, and 0 otherwise.</p>
  </dd>

</dl>
<p><strong>NOTES</strong></p><p>Operators of equal precedence are <em>always</em> evaluated from left to right, except where parentheses dictate otherwise.  This is important, because the enhanced "+" operator is not necessarily associative. For example:</p>
<pre>
	1 + 2 + "string" + 3 + 4  yields "3string34"
	1 + (2 + "string") + (3 + 4)  yields "12string7"
	12:59 + 1 + "test"  yields "13:00test"
	12:59 + (1 + "test")  yields "12:591test"
</pre>
<p>The logical operators are <em>not</em> so-called short-circuit operators, as they are in C.  Both operands are always evaluated.  Thus, an expression such as:</p>
<pre>
	(f!=0) && (100/f &lt;= 3)
</pre>
<p>will cause an error if f is zero.</p><p><strong>VARIABLES</strong></p><p><strong>Remind</strong> allows you to assign values to variables.  The <strong>SET</strong> command is used as follows:</p><p><strong>SET</strong> <em>var</em> <em>expr</em></p><p><em>Var</em> is the name of a variable.  It must start with a letter or underscore, and consist only of letters, digits and underscores.  Only the first 12 characters of a variable name are significant.  Variable names are <em>not</em> case sensitive; thus, "Afoo" and "afOo" are the same variable.  Examples:</p>
<pre>
	SET a 10 + (9*8)
	SET b "This is a test"
	SET mydir getenv("HOME")
	SET time 12:15
	SET date today()
</pre>
<p>Note that variables themselves have no type.  They take on the type of whatever you store in them.</p><p>To delete a variable, use the <strong>UNSET</strong> command:</p><p><strong>UNSET</strong> <em>var</em> [<em>var</em>...]</p><p>For example, to delete all the variables declared above, use:</p>
<pre>
	UNSET a b mydir time date
</pre>
<p><strong>SYSTEM VARIABLES</strong></p><p>In addition to the regular user variables, <strong>Remind</strong> has several "system variables" that are used to query or control the operating state of <strong>Remind</strong>.  System variables are available starting from version 03.00.07 of <strong>Remind</strong>.</p><p>All system variables begin with a dollar sign '$'.  They can be used in <strong>SET</strong> commands and expressions just as regular variables can. All system variables always hold values of a specified type.  In addition, some system variables cannot be modified, and you cannot create new system variables.  System variables can be initialized on the command line with the <strong>-i</strong> option, but you may need to quote them to avoid having the shell interpret the dollar sign.  System variable names are not case-sensitive.</p><p>The following system variables are defined.  Those marked "read-only" cannot be changed with the <strong>SET</strong> command. All system variables hold values of type <strong>INT</strong>, unless otherwise specified.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>$CalcUTC</strong></p>
  </dt>
  <dd>
    <p>If 1 (the default), then <strong>Remind</strong> uses C library functions to calculate the number of minutes between local and Universal Time Coordinated. This affects astronomical calculations (<strong>sunrise()</strong> for example.) If 0, then you must supply the number of minutes between local and Universal Time Coordinated in the <strong>$MinsFromUTC</strong> system variable.</p>
  </dd>
  <dt>
    <p><strong>$CalMode (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-c</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$Daemon (read-only)</strong></p>
  </dt>
  <dd>
    <p>If the daemon mode <strong>-z</strong> was invoked, contains the number of minutes between wakeups.  If not running in daemon mode, contains 0.</p>
  </dd>
  <dt>
    <p><strong>$DateSep</strong></p>
  </dt>
  <dd>
    <p>This variable can be set only to "/" or "-".  It holds the character used to separate portions of a date when <strong>Remind</strong> prints a DATE or DATETIME value.</p>
  </dd>
  <dt>
    <p><strong>$DefaultPrio</strong></p>
  </dt>
  <dd>
    <p>The default priority assigned to reminders without a <strong>PRIORITY</strong> clause.  You can set this as required to adjust the priorities of blocks of reminders without having to type priorities for individual reminders.  At startup, <strong>$DefaultPrio</strong> is set to 5000; it can range from 0 to 9999.</p>
  </dd>
  <dt>
    <p><strong>$DontFork (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-c</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$DontTrigAts (read-only)</strong></p>
  </dt>
  <dd>
    <p>The number of times that the <strong>-a</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$DontQueue (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-q</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$EndSent (STRING type)</strong></p>
  </dt>
  <dd>
    <p>Contains a list of characters that end a sentence.  The <strong>MSF</strong> keyword inserts two spaces after these characters.  Initially, <strong>$EndSent</strong> is set to ".!?" (period, exclamation mark, and question mark.)</p>
  </dd>
  <dt>
    <p><strong>$EndSentIg (STRING type)</strong></p>
  </dt>
  <dd>
    <p>Contains a list of characters that should be ignored when <strong>MSF</strong> decides whether or not to place two spaces after a sentence.  Initially, is set to "'&gt;)]}"+CHAR(34) (single-quote, greater-than, right parenthesis, right bracket, right brace, and double-quote.)</p>
  </dd>

</dl>
<p>For example, the default values work as follows:</p>
<pre>
	MSF He said, "Huh! (Two spaces will follow this.)"  Yup.
</pre>
<p>because the final parenthesis and quote are ignored (for the purposes of spacing) when they follow a period.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>$FirstIndent</strong></p>
  </dt>
  <dd>
    <p>The number of spaces by which to indent the first line of a <strong>MSF</strong>-type reminder.  The default is 0.</p>
  </dd>
  <dt>
    <p><strong>$FoldYear</strong></p>
  </dt>
  <dd>
    <p>The standard Unix library functions may have difficulty dealing with dates later than 2037.  If this variable is set to 1, then the UTC calculations "fold back" years later than 2037 before using the Unix library functions. For example, to find out whether or not daylight saving time is in effect in June, 2077, the year is "folded back" to 2010, because both years begin on a Monday, and both are non-leapyears.  The rules for daylight saving time are thus presumed to be identical for both years, and the Unix library functions can handle 2010.  By default, this variable is 0.  Set it to 1 if the sun or UTC functions misbehave for years greater than 2037.</p>
  </dd>
  <dt>
    <p><strong>$FormWidth</strong></p>
  </dt>
  <dd>
    <p>The maximum width of each line of text for formatting <strong>MSF</strong>-type reminders.  The default is 72.  If an <strong>MSF</strong>-type reminder contains a word too long to fit in this width, it will not be truncated - the width limit will be ignored.</p>
  </dd>
  <dt>
    <p><strong>$HushMode (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-h</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$IgnoreOnce (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-o</strong> option was supplied on the command line, or a date different from today's true date was supplied.  If non-zero, then <strong>ONCE</strong> directives will be ignored.</p>
  </dd>
  <dt>
    <p><strong>$InfDelta (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-t</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$LatDeg, $LatMin, $LatSec</strong></p>
  </dt>
  <dd>
    <p>These specify the latitude of your location.  <strong>$LatDeg</strong> can range from -90 to 90, and the others from -59 to 59.  Northern latitudes are positive; southern ones are negative.  For southern latitudes, all three components should be negative.</p>
  </dd>
  <dt>
    <p><strong>$Location (STRING type)</strong></p>
  </dt>
  <dd>
    <p>This is a string specifying the name of your location.  It is usually the name of your town or city.  It can be set to whatever you like, but good style indicates that it should be kept consistent with the latitude and longitude system variables.</p>
  </dd>
  <dt>
    <p><strong>$LongDeg, $LongMin, $LongSec</strong></p>
  </dt>
  <dd>
    <p>These specify the longitude of your location.  <strong>$LongDeg</strong> can range from -180 to 180.  Western longitudes are positive; eastern ones are negative.  Note that all three components should have the same sign: All positive for Western longitudes and all negative for Eastern longitudes.</p><p>The latitude and longitude information is required for the functions <strong>sunrise()</strong> and <strong>sunset()</strong>.  Default values can be compiled into <strong>Remind</strong>, or you can <strong>SET</strong> the correct values at the start of your reminder scripts.</p>
  </dd>
  <dt>
    <p><strong>$MaxSatIter</strong></p>
  </dt>
  <dd>
    <p>The maximum number of iterations for the <strong>SATISFY</strong> clause (described later.)  Must be at least 10.</p>
  </dd>
  <dt>
    <p><strong>$MinsFromUTC</strong></p>
  </dt>
  <dd>
    <p>The number of minutes between Universal Time Coordinated and local time.  If <strong>$CalcUTC</strong> is non-zero, this is calculated upon startup of <strong>Remind</strong>. Otherwise, you must set it explicitly.  If <strong>$CalcUTC</strong> is zero, then <strong>$MinsFromUTC</strong> is used in the astronomical calculations.  You must adjust it for daylight saving time yourself.  Also, if you want to initialize <strong>$MinsFromUTC</strong> using the <strong>-i</strong> command-line option, you must also set <strong>$CalcUTC</strong> to 0 with the <strong>-i</strong> option.</p>
  </dd>
  <dt>
    <p><strong>$NextMode (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-n</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$NumQueued (read-only)</strong></p>
  </dt>
  <dd>
    <p>Contains the number of reminders queued so far for background timed triggering.</p>
  </dd>
  <dt>
    <p><strong>$NumTrig (read-only)</strong></p>
  </dt>
  <dd>
    <p>Contains the number of reminders triggered for the current date.  One use for this variable is as follows:  Suppose you wish to shade in the box of a PostScript calendar whenever a holiday is triggered.  You could save the value of <strong>$NumTrig</strong> in a regular variable prior to executing a block of holiday reminders.  If the value of <strong>$NumTrig</strong> after the holiday block is greater than the saved value, then at least one holiday was triggered, and you can execute the command to shade in the calendar box.  (See the section "Calendar Mode".)</p>
  </dd>

</dl>
<p>Note that <strong>$NumTrig</strong> is affected <em>only</em> by <strong>REM</strong> commands; triggers in <strong>IFTRIG</strong> commands do not affect it.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>$PrefixLineNo (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-l</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$PSCal (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, then the <strong>-p</strong> option was supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>$RunOff (read-only)</strong></p>
  </dt>
  <dd>
    <p>If non-zero, the <strong>RUN</strong> directives are disabled.</p>
  </dd>
  <dt>
    <p><strong>$SimpleCal (read-only)</strong></p>
  </dt>
  <dd>
    <p>Set to a non-zero value if <em>either</em> of the <strong>-p</strong> or <strong>-s</strong> command-line options was supplied.</p>
  </dd>
  <dt>
    <p><strong>$SortByDate (read-only)</strong></p>
  </dt>
  <dd>
    <p>Set to 0 if no <strong>-g</strong> option is used, 1 if sorting by date in ascending order, or 2 if sorting by date in descending order.</p>
  </dd>
  <dt>
    <p><strong>$SortByPrio (read-only)</strong></p>
  </dt>
  <dd>
    <p>Set to 0 if no <strong>-g</strong> option is used, 1 if sorting by priority in ascending order, or 2 if sorting by priority in descending order.</p>
  </dd>
  <dt>
    <p><strong>$SortByTime (read-only)</strong></p>
  </dt>
  <dd>
    <p>Set to 0 if no <strong>-g</strong> option is used, 1 if sorting by time in ascending order, or 2 if sorting by time in descending order.</p>
  </dd>
  <dt>
    <p><strong>$SubsIndent</strong></p>
  </dt>
  <dd>
    <p>The number of spaces by which all lines (except the first) of an <strong>MSF</strong>-type reminder should be indented.  The default is 0.</p>
  </dd>
  <dt>
    <p><strong>$T (read-only, DATE type)</strong></p>
  </dt>
  <dd>
    <p>Exactly equivalent to <strong>trigdate()</strong>.  (See BUILT-IN FUNCTIONS.)</p>
  </dd>
  <dt>
    <p><strong>$Td (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>day(trigdate())</strong>.</p>
  </dd>
  <dt>
    <p><strong>$Tm (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>monnum(trigdate())</strong>.</p>
  </dd>
  <dt>
    <p><strong>$Tw (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>wkdaynum(trigdate())</strong>.</p>
  </dd>
  <dt>
    <p><strong>$Ty (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>year(trigdate())</strong>.</p>
  </dd>
  <dt>
    <p><strong>$TimeSep</strong></p>
  </dt>
  <dd>
    <p>This variable can be set only to ":" or ".".  It holds the character used to separate portions of a time when <strong>Remind</strong> prints a TIME or DATETIME value.</p>
  </dd>
  <dt>
    <p><strong>$UntimedFirst (read-only)</strong></p>
  </dt>
  <dd>
    <p>Set to 1 if the <strong>-g</strong> option is used with a fourth sort character of "d"; set to 0 otherwise.</p>
  </dd>
  <dt>
    <p><strong>$U (read-only, DATE type)</strong></p>
  </dt>
  <dd>
    <p>Exactly equivalent to <strong>today()</strong>.  (See BUILT-IN FUNCTIONS.)</p>
  </dd>
  <dt>
    <p><strong>$Ud (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>day(today())</strong>.</p>
  </dd>
  <dt>
    <p><strong>$Um (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>monnum(today())</strong>.</p>
  </dd>
  <dt>
    <p><strong>$Uw (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>wkdaynum(today())</strong>.</p>
  </dd>
  <dt>
    <p><strong>$Uy (read-only)</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>year(today())</strong>.</p>
  </dd>

</dl>
<p>Note:  If any of the calendar modes are in effect, then the values of $Daemon, $DontFork, $DontTrigAts, $DontQueue, $HushMode, $IgnoreOnce, $InfDelta, and $NextMode are not meaningful.</p><p><strong>BUILT-IN FUNCTIONS</strong></p><p><strong>Remind</strong> has a plethora of built-in functions.  The syntax for a function call is the same as in C - the function name, followed a comma-separated list of arguments in parentheses.  Function names are not case-sensitive.  If a function takes no arguments, it must be followed by "()" in the function call.  Otherwise, <strong>Remind</strong> will interpret it as a variable name, and probably not work correctly.</p><p>In the descriptions below, short forms are used to denote acceptable types for the arguments.  The characters "i", "s", "d", "t" and "q" denote <strong>INT</strong>, <strong>STRING</strong>, <strong>DATE</strong>, <strong>TIME</strong> and <strong>DATETIME</strong> arguments, respectively.  If an argument can be one of several types, the characters are concatenated.  For example, "di_arg" denotes an argument that can be a <strong>DATE</strong> or an <strong>INT</strong>.  "x_arg" denotes an argument that can be of any type.  The type of the argument is followed by an underscore and an identifier naming the argument.</p><p>The built-in functions are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>abs(i_num)</strong></p>
  </dt>
  <dd>
    <p>Returns the absolute value of <em>num</em>.</p>
  </dd>
  <dt>
    <p><strong>access(s_file, si_mode)</strong></p>
  </dt>
  <dd>
    <p>Tests the access permissions for the file <em>file</em>.  <em>Mode</em> can be a string, containing a mix of the characters "rwx" for read, write and execute permission testing.  Alternatively, <em>mode</em> can be a number as described in the UNIX <a href="../man2/access.2.html"><strong>access</strong>(2)</a> system call.  The function returns 0 if the file can be accessed with the specified <em>mode</em>, and -1 otherwise.</p>
  </dd>
  <dt>
    <p><strong>args(s_fname)</strong></p>
  </dt>
  <dd>
    <p>Returns the number of arguments expected by the user-defined function <em>fname</em>, or -1 if no such user-defined function exists.  Note that this function examines only user-defined functions, not built-in functions. Its main use is to determine whether or not a particular user-defined function has been defined previously.  The <strong>args()</strong> function is available only in versions of <strong>Remind</strong> from 03.00.04 and up.</p>
  </dd>
  <dt>
    <p><strong>asc(s_string)</strong></p>
  </dt>
  <dd>
    <p>Returns an <strong>INT</strong> that is the ASCII code of the first character in <em>string</em>.  As a special case, <strong>asc("")</strong> returns 0.</p>
  </dd>
  <dt>
    <p><strong>baseyr()</strong></p>
  </dt>
  <dd>
    <p>Returns the "base year" that was compiled into <strong>Remind</strong> (normally 1990.)  All dates are stored internally as the number of days since 1 January of <strong>baseyr()</strong>.</p>
  </dd>
  <dt>
    <p><strong>char(i_i1 [,i_i2...])</strong></p>
  </dt>
  <dd>
    <p>This function can take any number of <strong>INT</strong> arguments.  It returns a <strong>STRING</strong> consisting of the characters specified by the arguments. Note that none of the arguments can be 0, unless there is only one argument.  As a special case, <strong>char</strong>(0)</strong> returns "".</p>
  </dd>

</dl>
<p>Note that because <strong>Remind</strong> does not support escaping of characters in strings, the only way to get a double-quote in a string is to use <strong>char(34)</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>choose(i_index, x_arg1 [,x_arg2...])</strong></p>
  </dt>
  <dd>
    <p><strong>Choose</strong> must take at least two arguments, the first of which is an <strong>INT</strong>.  If <em>index</em> is <em>n</em>, then the <em>n</em>th subsequent argument is returned.  If <em>index</em> is less than 1, then <em>arg1</em> is returned.  If <em>index</em> is greater than the number of subsequent arguments, then the last argument is returned.  Examples:</p>
  </dd>

</dl>

<pre>
		<strong>choose(0, "foo", 1:13, 1000)</strong> returns "foo"
		<strong>choose(1, "foo", 1:13, 1000)</strong> returns "foo"
		<strong>choose(2, "foo", 1:13, 1000)</strong> returns 1:13
		<strong>choose(3, "foo", 1:13, 1000)</strong> returns 1000
		<strong>choose(4, "foo", 1:13, 1000)</strong> returns 1000
</pre>
<p>Note that all arguments to <strong>choose()</strong> are <em>always</em> evaluated.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>coerce(s_type, x_arg)</strong></p>
  </dt>
  <dd>
    <p>This function converts <em>arg</em> to the specified <em>type</em>, if such conversion is possible.  <em>Type</em> must be one of "INT", "STRING", "DATE", "TIME" or "DATETIME" (case-insensitive). The conversion rules are as follows:</p><p>If <em>arg</em> is already of the <em>type</em> specified, it is returned unchanged.</p><p>If <em>type</em> is "STRING", then <em>arg</em> is converted to a string consisting of its printed representation.</p><p>If <em>type</em> is "DATE", then an <strong>INT</strong> <em>arg</em> is converted by interpreting it as the number of days since 1 January <strong>baseyr()</strong>. A <strong>STRING</strong> <em>arg</em> is converted by attempting to read it as if it were a printed date.  A <strong>DATETIME</strong> is converted to a date by dropping the time component.  A <strong>TIME</strong> <em>arg</em> cannot be converted to a date.</p><p>If <em>type</em> is "TIME", then an <strong>INT</strong> <em>arg</em> is converted by interpreting it as the number of minutes since midnight. A <strong>STRING</strong> <em>arg</em> is converted by attempting to read it as if it were a printed time.  A <strong>DATETIME</strong> is converted to a time by dropping the date component.  A <strong>DATE</strong> <em>arg</em> cannot be converted to a time.</p><p>If <em>type</em> is "DATETIME", then an <strong>INT</strong> <em>arg</em> is converted by interpreting it as the number of minutes since midnight, 1 January <strong>baseyr()</strong>.  A <strong>STRING</strong> is converted by attempting to read it as if it were a printed datetime.  Other types cannot be converted to a datetime.</p><p>If <em>type</em> is "INT", then <strong>DATE</strong>, <strong>TIME</strong> and <strong>DATETIME</strong> arguments are converted using the reverse of procedures described above.  A <strong>STRING</strong> <em>arg</em> is converted by parsing it as an integer.</p>
  </dd>
  <dt>
    <p><strong>current()</strong></p>
  </dt>
  <dd>
    <p>Returns the current date and time as a DATETIME object.  This may be the actual date and time, or may be the date and time supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>date(i_y, i_m, i_d)</strong></p>
  </dt>
  <dd>
    <p>The <strong>date()</strong> function returns a <strong>DATE</strong> object with the year, month and day components specified by <em>y</em>, <em>m</em> and <em>d</em>.</p>
  </dd>
  <dt>
    <p><strong>datepart(dq_datetime)</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>DATE</strong> object representing the date portion of <em>datetime</em>.</p>
  </dd>
  <dt>
    <p><strong>datetime(args)</strong></p>
  </dt>
  <dd>
    <p>The <strong>datetime()</strong> function can take anywhere from two to five arguments. It always returns a DATETIME generated from its arguments.</p><p>If you supply two arguments, the first must be a DATE and the second a TIME.</p><p>If you supply three arguments, the first must be a DATE and the second and third must be INTs.  The second and third arguments are interpreted as hours and minutes and converted to a TIME.</p><p>If you supply four arguments, the first three must be INTs, interpreted as the year, month and day.  The fourth argument must be a TIME.</p><p>Finally, if you supply five arguments, they must all be INTs and are interpreted as year, month, day, hour and minute.</p>
  </dd>
  <dt>
    <p><strong>dawn([dq_date])</strong></p>
  </dt>
  <dd>
    <p>Returns the time of "civil dawn" on the specified <em>date</em>.  If <em>date</em> is omitted, defaults to <strong>today()</strong>.  If a <em>datetime</em> object is supplied, only the date component is used.</p>
  </dd>
  <dt>
    <p><strong>day(dq_date)</strong></p>
  </dt>
  <dd>
    <p>This function takes a <strong>DATE</strong> or <strong>DATETIME</strong> as an argument, and returns an <strong>INT</strong> that is the day-of-month component of <em>date</em>.</p>
  </dd>
  <dt>
    <p><strong>daysinmon(i_m, i_y)</strong></p>
  </dt>
  <dd>
    <p>Returns the number of days in month <em>m</em> (1-12) of the year <em>y</em>.</p>
  </dd>
  <dt>
    <p><strong>defined(s_var)</strong></p>
  </dt>
  <dd>
    <p>Returns 1 if the variable named by <em>var</em> is defined, or 0 if it is not.</p><p>Note that <strong>defined()</strong> takes a <strong>STRING</strong> argument; thus, to check if variable X is defined, use:</p>
<pre>
		defined("X")
</pre>
<p>and not:</p>
<pre>
		defined(X)
</pre>
<p>The second example will attempt to evaluate X, and will return an error if it is undefined or not of type <strong>STRING</strong>.</p>
  </dd>
  <dt>
    <p><strong>dosubst(s_str [,d_date [,t_time]]) </strong>or<strong> dosubst(s_str [,q_datetime])</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>STRING</strong> that is the result of passing <em>str</em> through the substitution filter described earlier.  The parameters <em>date</em> and <em>time</em> (or <em>datetime</em>) establish the effective trigger date and time used by the substitution filter.  If <em>date</em> and <em>time</em> are omitted, they default to <strong>today()</strong> and <strong>now()</strong>.</p><p>Note that if <em>str</em> does not end with "%", a newline character will be added to the end of the result.  Also, calling <strong>dosubst()</strong> with a <em>date</em> that is in the past (i.e., if <em>date</em> &lt; <strong>today()</strong>) will produce undefined results.</p><p><strong>Dosubst()</strong> is only available starting from version 03.00.04 of <strong>Remind</strong>.</p>
  </dd>
  <dt>
    <p><strong>dusk([dq_date])</strong></p>
  </dt>
  <dd>
    <p>Returns the time of "civil twilight" on the specified <em>date</em>.  If <em>date</em> is omitted, defaults to <strong>today()</strong>.</p>
  </dd>
  <dt>
    <p><strong>easterdate(dqi_arg)</strong></p>
  </dt>
  <dd>
    <p>If <em>arg</em> is an <strong>INT</strong>, then returns the date of Easter Sunday for the specified year.  If <em>arg</em> is a <strong>DATE</strong> or <strong>DATETIME</strong>, then returns the date of the next Easter Sunday on or after <em>arg</em>.  (The time component of a datetime is ignored.)</p>
  </dd>
  <dt>
    <p><strong>evaltrig(s_trigger [,dq_start])</strong></p>
  </dt>
  <dd>
    <p>Evaluates <em>trigger</em> as if it were a REM or IFTRIG trigger specification and returns the trigger date as a <strong>DATE</strong> (or as a <strong>DATETIME</strong> if there is an <strong>AT</strong> clause.)  Returns a negative <strong>INT</strong> if no trigger could be computed.</p><p>Normally, <strong>evaltrig</strong> finds a trigger date on or after today.  If you supply the <em>start</em> argument, then it scans starting from there.</p><p>For example, the expression:</p>
<pre>
  evaltrig("Mon 1", '2008-10-07')
</pre>
<p>returns '2008-11-03', since that is the first date on or after 7 October 2008 that satisfies "Mon 1".</p><p>If you want to see how many days it is from the first Monday in October, 2008 to the first Monday in November, 2008, use:</p>
<pre>
  evaltrig("Mon 1", '2008-11-01') - evaltrig("Mon 1", '2008-10-01')
</pre>
<p>and the answer is 28.  The trigger argument to <strong>evaltrig</strong> can have all the usual trigger clauses (<strong>OMIT</strong>, <strong>AT</strong>, <strong>SKIP</strong>, etc.) but <em>cannot</em> have a <strong>SATISFY</strong>, <strong>MSG</strong>, etc. reminder-type clause.</p>
  </dd>
  <dt>
    <p><strong>filedate(s_filename)</strong></p>
  </dt>
  <dd>
    <p>Returns the modification date of <em>filename</em>.  If <em>filename</em> does not exist, or its modification date is before the year <strong>baseyr()</strong>, then 1 January of <strong>baseyr()</strong> is returned.</p>
  </dd>
  <dt>
    <p><strong>filedatetime(s_filename)</strong></p>
  </dt>
  <dd>
    <p>Returns the modification date and time of <em>filename</em>.  If <em>filename</em> does not exist, or its modification date is before the year <strong>baseyr()</strong>, then midnight, 1 January of <strong>baseyr()</strong> is returned.</p>
  </dd>
  <dt>
    <p><strong>filedir()</strong></p>
  </dt>
  <dd>
    <p>Returns the directory that contains the current file being processed.  It may be a relative or absolute pathname, but is guaranteed to be correct for use in an <strong>INCLUDE</strong> command as follows:</p>
  </dd>

</dl>

<pre>
		INCLUDE [filedir()]/stuff
</pre>
<p>This includes the file "stuff" in the same directory as the current file being processed.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>filename()</strong></p>
  </dt>
  <dd>
    <p>Returns (as a <strong>STRING</strong>) the name of the current file being processed by <strong>Remind</strong>.  Inside included files, returns the name of the included file.</p>
  </dd>
  <dt>
    <p><strong>getenv(s_envvar)</strong></p>
  </dt>
  <dd>
    <p>Similar to the <strong>getenv</strong>(2) system call.  Returns a string representing the value of the specified environment variable.  Returns "" if the environment variable is not defined.  Note that the names of environment variables are generally case-sensitive; thus, getenv("HOME") is not the same as getenv("home").</p>
  </dd>
  <dt>
    <p><strong>hebdate(i_day, s_hebmon [,idq_yrstart [,i_jahr [,i_aflag]]])</strong></p>
  </dt>
  <dd>
    <p>Support for Hebrew dates - see the section "The Hebrew Calendar"</p>
  </dd>
  <dt>
    <p><strong>hebday(dq_date)</strong></p>
  </dt>
  <dd>
    <p>Support for Hebrew dates - see the section "The Hebrew Calendar"</p>
  </dd>
  <dt>
    <p><strong>hebmon(dq_date)</strong></p>
  </dt>
  <dd>
    <p>Support for Hebrew dates - see the section "The Hebrew Calendar"</p>
  </dd>
  <dt>
    <p><strong>hebyear(dq_date)</strong></p>
  </dt>
  <dd>
    <p>Support for Hebrew dates - see the section "The Hebrew Calendar"</p>
  </dd>
  <dt>
    <p><strong>hour(tq_time)</strong></p>
  </dt>
  <dd>
    <p>Returns the hour component of <em>time</em>.</p>
  </dd>
  <dt>
    <p><strong>iif(si_test1, x_arg1, [si_test2, x_arg2,...], x_default)</strong></p>
  </dt>
  <dd>
    <p>If <em>test1</em> is not zero or the null string, returns <em>arg1</em>. Otherwise, if <em>test2</em> is not zero or the null string, returns <em>arg2</em>, and so on.  If all of the <em>test</em> arguments are false, returns <em>default</em>.  Note that all arguments are <em>always</em> evaluated. This function accepts an odd number of arguments - note that prior to version 03.00.05 of <strong>Remind</strong>, it accepted 3 arguments only.  The 3-argument version of <strong>iif()</strong> is compatible with previous versions of <strong>Remind</strong>.</p>
  </dd>
  <dt>
    <p><strong>index(s_search, s_target [,i_start)</strong></p>
  </dt>
  <dd>
    <p>Returns an <strong>INT</strong> that is the location of <em>target</em> in the string <em>search</em>.  The first character of a string is numbered 1. If <em>target</em> does not exist in <em>search</em>, then 0 is returned.</p><p>The optional parameter <em>start</em> specifies the position in <em>search</em> at which to start looking for <em>target</em>.</p>
  </dd>
  <dt>
    <p><strong>isdst([d_date [,t_time]]) </strong>or<strong> isdst(q_datetime)</strong></p>
  </dt>
  <dd>
    <p>Returns a positive number if daylight saving time is in effect on the specified date and time.  <em>Date</em> defaults to <strong>today()</strong> and <em>time</em> defaults to midnight.</p><p>Note that this function is only as reliable as the C run-time library functions.  It is available starting with version 03.00.07 of <strong>Remind</strong>.</p>
  </dd>
  <dt>
    <p><strong>isleap(idq_arg)</strong></p>
  </dt>
  <dd>
    <p>Returns 1 if <em>arg</em> is a leap year, and 0 otherwise.  <em>Arg</em> can be an <strong>INT</strong>, <strong>DATE</strong> or <strong>DATETIME</strong> object.  If a <strong>DATE</strong> or <strong>DATETIME</strong> is supplied, then the year component is used in the test.</p>
  </dd>
  <dt>
    <p><strong>isomitted(dq_date)</strong></p>
  </dt>
  <dd>
    <p>Returns 1 if <em>date</em> is omitted, given the current global <strong>OMIT</strong> context.  Returns 0 otherwise.  (If a datetime is supplied, only the date part is used.)  Note that any local <strong>OMIT</strong> or <strong>OMITFUNC</strong> clauses are <em>not</em> taken into account by this function.</p>
  </dd>
  <dt>
    <p><strong>language()</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>STRING</strong> naming the language supported by <strong>Remind</strong>. (See "Foreign Language Support.") By default, <strong>Remind</strong> is compiled to support English messages, so this function returns "English".  For other languages, this function will return the English name of the language (e.g. "German") Note that <strong>language()</strong> is not available in versions of <strong>Remind</strong> prior to 03.00.02.</p>
  </dd>
  <dt>
    <p><strong>lower(s_string)</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>STRING</strong> with all upper-case characters in <em>string</em> converted to lower-case.</p>
  </dd>
  <dt>
    <p><strong>max(x_arg1 [,x_arg2...)</strong></p>
  </dt>
  <dd>
    <p>Can take any number of arguments, and returns the maximum.  The arguments can be of any type, but must all be of the same type.  They are compared as with the &gt; operator.</p>
  </dd>
  <dt>
    <p><strong>min(x_arg1 [,x_arg2...)</strong></p>
  </dt>
  <dd>
    <p>Can take any number of arguments, and returns the minimum.  The arguments can be of any type, but must all be of the same type.  They are compared as with the &lt; operator.</p>
  </dd>
  <dt>
    <p><strong>minsfromutc([d_date [,t_time]]) </strong>or<strong> minsfromutc(q_datetime)</strong></p>
  </dt>
  <dd>
    <p>Returns the number of minutes from Universal Time Coordinated (formerly GMT) to local time on the specified date and time.  <em>Date</em> defaults to <strong>today()</strong> and <em>time</em> defaults to midnight.  If local time is before UTC, the result is negative.  Otherwise, the result is positive.</p><p>Note that this function is only as reliable as the C run-time library functions.  It is available starting with version 03.00.07 of <strong>Remind</strong>.</p>
  </dd>
  <dt>
    <p><strong>minute(tq_time)</strong></p>
  </dt>
  <dd>
    <p>Returns the minute component of <em>time</em>.</p>
  </dd>
  <dt>
    <p><strong>mon(dqi_arg)</strong></p>
  </dt>
  <dd>
    <p>If <em>arg</em> is of <strong>DATE</strong> or <strong>DATETIME</strong> type, returns a string that names the month component of the date.  If <em>arg</em> is an <strong>INT</strong> from 1 to 12, returns a string that names the month.</p>
  </dd>
  <dt>
    <p><strong>monnum(dq_date)</strong></p>
  </dt>
  <dd>
    <p>Returns an <strong>INT</strong> from 1 to 12, representing the month component of <em>date</em>.</p>
  </dd>
  <dt>
    <p><strong>moondate(i_phase [,d_date [,t_time]]) </strong>or<strong> moondate(i_phase, q_datetime)</strong></p>
  </dt>
  <dd>
    <p>This function returns the date of the first occurrence of the phase <em>phase</em> of the moon on or after <em>date</em> and <em>time</em>. <em>Phase</em> can range from 0 to 3, with 0 signifying new moon, 1 first quarter, 2 full moon, and 3 third quarter.  If <em>date</em> is omitted, it defaults to <strong>today()</strong>.  If <em>time</em> is omitted, it defaults to midnight.</p><p>For example, the following returns the date of the next full moon:</p>
<pre>
		SET fullmoon <strong>moondate</strong>(2)
</pre>

  </dd>
  <dt>
    <p><strong>moontime(i_phase [,d_date [,t_time]]) </strong>or<strong> moontime(i_phase, q_datetime)</strong></p>
  </dt>
  <dd>
    <p>This function returns the time of the first occurrence of the phase <em>phase</em> of the moon on or after <em>date</em> and <em>time</em>. <em>Phase</em> can range from 0 to 3, with 0 signifying new moon, 1 first quarter, 2 full moon, and 3 third quarter.  If <em>date</em> is omitted, it defaults to <strong>today()</strong>.  If <em>time</em> is omitted, it defaults to midnight.  <strong>Moontime()</strong> is intended to be used in conjunction with <strong>moondate()</strong>.  The <strong>moondate()</strong> and <strong>moontime()</strong> functions are accurate to within a couple of minutes of the times in "Old Farmer's Almanac" for Ottawa, Ontario.</p><p>For example, the following returns the date and time of the next full moon:</p>
<pre>
		MSG Next full moon at [<strong>moontime</strong>(2)] on [<strong>moondate</strong>(2)]
</pre>

  </dd>
  <dt>
    <p><strong>moondatetime(i_phase [,d_date [,t_time]]) </strong>or<strong> moondatetime(i_phase, q_datetime)</strong></p>
  </dt>
  <dd>
    <p>This function is similar to <strong>moondate</strong> and <strong>moontime</strong>, but returns a DATETIME result.</p>
  </dd>
  <dt>
    <p><strong>moonphase([d_date [,t_time]]) </strong>or<strong> moonphase(q_datetime)</strong></p>
  </dt>
  <dd>
    <p>This function returns the phase of the moon on <em>date</em> and <em>time</em>, which default to <strong>today()</strong> and midnight, respectively.  The returned value is an integer from 0 to 359, representing the phase of the moon in degrees.  0 is a new moon, 180 is a full moon, 90 is first-quarter, etc.</p>
  </dd>
  <dt>
    <p><strong>nonomitted(dq_start, dq_end [,s_wkday...])</strong></p>
  </dt>
  <dd>
    <p>This function returns the number of <em>non-</em>omitted days between <em>start</em> and <em>end</em>.  If <em>start</em> is non-omitted, then it is counted.  <em>end</em> is never counted.</p><p>Note that <em>end</em> must be greater than or equal to <em>start</em> or an error is reported.  In addition to using the global OMIT context, you can supply additional arguments that are names of weekdays to be omitted.  However, in a <strong>REM</strong> command, any local <strong>OMITFUNC</strong> clause is <em>not</em> taken into account by this function.</p><p>For example, the following line sets a to 11 (assuming no global OMITs):</p>
<pre>
	set a nonomitted('2007-08-01', '2007-08-16', "Sat", "Sun")
</pre>
<p>because Thursday, 16 August 2007 is the 11th working day (not counting Saturday and Sunday) after Wednesday, 1 August 2007.</p><p><strong>nonomitted</strong> has various uses.  For example, many schools run on a six-day cycle and the day number is not incremented on holidays. Suppose the school year starts with Day 1 on 4 September 2007.  The following reminder will label day numbers in a calendar:</p>
<pre>
   IF today() &gt;= '2007-09-04'
       set daynum nonomitted('2007-09-04', today(), "Sat", "Sun")
       REM OMIT SAT SUN SKIP CAL Day [(daynum % 6) + 1]
   ENDIF
</pre>
<p>Obviously, the answer you get from <strong>nonomitted</strong> depends on the global OMIT context.  If you use moveable OMITs, you may get inconsistent results.</p><p>Here is a more complex use for <strong>nonomitted</strong>.  My garbage collection follows two interleaved 14-day cycles: One Friday, garbage and paper recycling ("Black Box") are collected.  The next Friday, garbage and plastic recycling ("Blue Box") are collected.  If any of Monday-Friday is a holiday, collection is delayed until the Saturday.  Here's a way to encode these rules:</p>
<pre>
   fset _garbhol(x) wkdaynum(x) == 5 && nonomitted(x-4, x+1) &lt; 5
   REM 12 November 1999 *14 AFTER OMITFUNC _garbhol MSG Black Box
   REM 19 November 1999 *14 AFTER OMITFUNC _garbhol MSG Blue Box
</pre>
<p>Here's how it works:  The _garbhol(x) user-defined function returns 1 if and only if (1) <em>x</em> is a Friday and (2) there is at least one OMITted day from the previous Monday up to and including the Friday.</p><p>The first REM statement sets up the 14-day black-box cycle.  The AFTER keyword makes it move collection to the Saturday if _garbhol returns 1. The second REM statement sets up the 14-day blue-box cycle with a similar adjustment made by AFTER in conjunction with _garbhol.</p>
  </dd>
  <dt>
    <p><strong>now()</strong></p>
  </dt>
  <dd>
    <p>Returns the current system time, as a <strong>TIME</strong> type.  This may be the actual time, or a time supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>ord(i_num)</strong></p>
  </dt>
  <dd>
    <p>Returns a string that is the ordinal number <em>num</em>.  For example, <strong>ord</strong>(2)</strong> returns "2nd", and <strong>ord(213)</strong> returns "213th".</p>
  </dd>
  <dt>
    <p><strong>ostype()</strong></p>
  </dt>
  <dd>
    <p>Returns "UNIX".  Remind used to run on OS/2 and MS-DOS, but does not any longer.</p>
  </dd>
  <dt>
    <p><strong>plural(i_num [,s_str1 [,s_str2]])</strong></p>
  </dt>
  <dd>
    <p>Can take from one to three arguments.  If one argument is supplied, returns "s" if <em>num</em> is not 1, and "" if <em>num</em> is 1.</p><p>If two arguments are supplied, returns <em>str1</em> + "s" if <em>num</em> is not 1.  Otherwise, returns <em>str1</em>.</p><p>If three arguments are supplied, returns <em>str1</em> if <em>num</em> is 1, and <em>str2</em> otherwise.</p>
  </dd>
  <dt>
    <p><strong>psmoon(i_phase [,i_size [,s_note [,i_notesize]]])</strong></p>
  </dt>
  <dd>
    <p>[DEPRECATED] Returns a <strong>STRING</strong> consisting of PostScript code to draw a moon in the upper-left hand corner of the calendar box. <em>Phase</em> specifies the phase of the moon, and is 0 (new moon), 1 (first quarter), 2 (full moon) or 3 (third quarter).  If <em>size</em> is specified, it controls the radius of the moon in PostScript units (1/72 inch.)  If it is not specified or is negative, the size of the day-number font is used.</p>
  </dd>

</dl>
<p>For example, the following four lines place moon symbols on the PostScript calendar:</p>
<pre>
		REM [<strong>moondate</strong>(0)] PS [<strong>psmoon</strong>(0)]
		REM [<strong>moondate</strong>(1)] PS [<strong>psmoon</strong>(1)]
		REM [<strong>moondate</strong>(2)] PS [<strong>psmoon</strong>(2)]
		REM [<strong>moondate</strong>(3)] PS [<strong>psmoon</strong>(3)]
</pre>
<p>If <em>note</em> is specified, the text is used to annotate the moon display.  The font is the same font used for calendar entries.  If <em>notesize</em> is given, it specifies the font size to use for the annotation, in PostScript units (1/72 inch.)  If <em>notesize</em> is not given, it defaults to the size used for calendar entries.  (If you annotate the display, be careful not to overwrite the day number -- <strong>Remind</strong> does not check for this.)  For example, if you want the time of each new moon displayed, you could use this in your reminder script:</p>
<pre>
	REM [<strong>moondate</strong>(0)] PS [psmoon(0, -1, <strong>moontime</strong>(0)+"")]
</pre>
<p>Note how the time is coerced to a string by concatenating the null string.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>psshade(i_gray)</strong> or <strong>psshade(i_red, i_green, i_blue)</strong></p>
  </dt>
  <dd>
    <p>[DEPRECATED] Returns a <strong>STRING</strong> that consists of PostScript commands to shade a calendar box.  <em>Num</em> can range from 0 (completely black) to 100 (completely white.)  If three arguments are given, they specify red, green and blue intensity from 0 to 100. Here's an example of how to use this:</p>
<pre>
		REM Sat Sun PS [psshade(95)]
</pre>
<p>The above command emits PostScript code to lightly shade the boxes for Saturday and Sunday in a PostScript calendar.</p><p>Note that <strong>psmoon</strong> and <strong>psshade</strong> are deprecated; instead you should use the SPECIAL SHADE and SPECIAL MOON reminders as described in "Out-of-Band Reminders."</p>
  </dd>
  <dt>
    <p><strong>realcurrent()</strong></p>
  </dt>
  <dd>
    <p>Returns (as a DATETIME) the true date and time of day as provided by the operating system.  This is in contrast to <strong>current()</strong>, which may return a time supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>realnow()</strong></p>
  </dt>
  <dd>
    <p>Returns the true time of day as provided by the operating system. This is in contrast to <strong>now()</strong>, which may return a time supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>realtoday()</strong></p>
  </dt>
  <dd>
    <p>Returns the date as provided by the operating system.  This is in contrast to <strong>Remind</strong>'s concept of "today", which may be changed if it is running in calendar mode, or if a date has been supplied on the command line.</p>
  </dd>
  <dt>
    <p><strong>sgn(i_num)</strong></p>
  </dt>
  <dd>
    <p>Returns -1 if <em>num</em> is negative, 1 if <em>num</em> is positive, and 0 if <em>num</em> is zero.</p>
  </dd>
  <dt>
    <p><strong>shell(s_cmd [,i_maxlen])</strong></p>
  </dt>
  <dd>
    <p>Executes <em>cmd</em> as a system command, and returns the first 511 characters of output resulting from <em>cmd</em>.  Any whitespace character in the output is converted to a space.  Note that if <strong>RUN</strong> OFF has been executed, or the <strong>-r</strong> command-line option has been used, <strong>shell()</strong> will result in an error, and <em>cmd</em> will not be executed.</p><p>If <em>maxlen</em> is specified, then <strong>shell()</strong> returns the first <em>maxlen</em> characters of output (rather than the first 511).  If <em>maxlen</em> is specified as a negative number, then <em>all</em> the output from <em>cmd</em> is returned.</p>
  </dd>
  <dt>
    <p><strong>slide(d_start, i_amt [,s_wkday...])</strong></p>
  </dt>
  <dd>
    <p>This function is the inverse of <strong>nonomitted</strong>.  It adds <em>amt</em> days (which can be negative) to <em>start</em>, <em>not counting omitted days</em>. The optional <em>wkday</em> arguments are additional weekday names to omit.</p><p>Consider this example:</p>
<pre>
	OMIT 14 May 2009
	SET a slide('2009-05-13', 5, "Sat", "Sun")
</pre>
<p>In this case, <em>a</em> is set to 2009-05-21.  That's because we slide forward by 5 days, not including Thursday, May 14 or Saturday and Sunday, May 16 and 17.  You can go backwards, too, so:</p>
<pre>
	OMIT 14 May 2009
	SET a slide('2009-05-21', -5, "Sat", "Sun")
</pre>
<p>takes <em>a</em> back to 2009-05-13.</p>
  </dd>
  <dt>
    <p><strong>strlen(s_str)</strong></p>
  </dt>
  <dd>
    <p>Returns the length of <em>str</em>.</p>
  </dd>
  <dt>
    <p><strong>substr(s_str, i_start [,i_end])</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>STRING</strong> consisting of all characters in <em>str</em> from <em>start</em> up to and including <em>end</em>.  Characters are numbered from 1.  If <em>end</em> is not supplied, then it defaults to the length of <em>str</em>.</p>
  </dd>
  <dt>
    <p><strong>sunrise([dq_date])</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>TIME</strong> indicating the time of sunrise on the specified <em>date</em> (default <strong>today()</strong>.)  In high latitudes, there may be no sunrise on a particular day, in which case <strong>sunrise()</strong> returns the <strong>INT</strong> 0 if the sun never sets, or 1440 if it never rises.</p>
  </dd>
  <dt>
    <p><strong>sunset([dq_date])</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>TIME</strong> indicating the time of sunset on the specified <em>date</em> (default <strong>today()</strong>.)  In high latitudes, there may be no sunset on a particular day, in which case <strong>sunset()</strong> returns the <strong>INT</strong> 0 if the sun never rises, or 1440 if it never sets.</p><p>The functions <strong>sunrise()</strong> and <strong>sunset()</strong> are based on an algorithm in "Almanac for Computers for the year 1978" by L. E. Doggett, Nautical Almanac Office, USNO.  They require the latitude and longitude to be specified by setting the appropriate system variables.  (See "System Variables".)  The sun functions should be accurate to within about 4 minutes for latitudes lower than 60 degrees.  The functions are available starting from version 03.00.07 of <strong>Remind</strong>.</p>
  </dd>
  <dt>
    <p><strong>time(i_hr, i_min)</strong></p>
  </dt>
  <dd>
    <p>Creates a <strong>TIME</strong> with the hour and minute components specified by <em>hr</em> and <em>min</em>.</p>
  </dd>
  <dt>
    <p><strong>timepart(tq_datetime)</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>TIME</strong> object representing the time portion of <em>datetime</em>.</p>
  </dd>
  <dt>
    <p><strong>today()</strong></p>
  </dt>
  <dd>
    <p>Returns <strong>Remind</strong>'s notion of "today."  This may be the actual system date, or a date supplied on the command line, or the date of the calendar entry currently being computed.</p>
  </dd>
  <dt>
    <p><strong>trigdate()</strong></p>
  </dt>
  <dd>
    <p>Returns the calculated trigger date of the last <strong>REM</strong> or <strong>IFTRIG</strong> command.  If used in the <em>body</em> of a <strong>REM</strong> command, returns that command's trigger date. If the most recent <strong>REM</strong> command did not yield a computable trigger date, returns the integer 0.</p>
  </dd>
  <dt>
    <p><strong>trigdatetime()</strong></p>
  </dt>
  <dd>
    <p>Similar to trigdate(), but returns a <strong>DATETIME</strong> if the most recent triggerable <strong>REM</strong> command had an <strong>AT</strong> clause.  If there was no <strong>AT</strong> clause, returns a <strong>DATE</strong>.  If no trigger could be computed, returns the integer 0.</p>
  </dd>
  <dt>
    <p><strong>trigger(d_date [,t_time [,i_utcflag]]) </strong>or<strong> trigger(q_datetime [,i_utcflag])</strong></p>
  </dt>
  <dd>
    <p>Returns a string suitable for use in a <strong>REM</strong> command or a SCANFROM or UNTIL clause, allowing you to calculate trigger dates in advance. Note that in earlier versions of <strong>Remind</strong>, <strong>trigger</strong> was required to convert a date into something the <strong>REM</strong> command could consume.  However, in this version of <strong>Remind</strong>, you can omit it. Note that <strong>trigger()</strong> <em>always</em> returns its result in English, even for foreign-language versions of <strong>Remind</strong>.  This is to avoid problems with certain C libraries that do not handle accented characters properly.  Normally, the <em>date</em> and <em>time</em> are the local date and time; however, if <em>utcflag</em> is non-zero, the <em>date</em> and <em>time</em> are interpreted as UTC times, and are converted to local time.  Examples:</p>
<pre>
     trigger('1993/04/01')
</pre>
<p>returns "1 April 1993",</p>
<pre>
     trigger('1994/08/09', 12:33)
</pre>
<p>returns "9 August 1994 AT 12:33", as does:</p>
<pre>
     trigger('1994/08/09@12:33').
</pre>
<p>Finally:</p>
<pre>
     trigger('1994/12/01', 03:00, 1)
</pre>
<p>returns "30 November 1994 AT 22:00" for EST, which is 5 hours behind UTC. The value for your time zone may differ.</p>
  </dd>
  <dt>
    <p><strong>trigtime()</strong></p>
  </dt>
  <dd>
    <p>Returns the time of the last <strong>REM</strong> command with an <strong>AT</strong> clause. If the last <strong>REM</strong> did not have an <strong>AT</strong> clause, returns the integer 0.</p>
  </dd>
  <dt>
    <p><strong>trigvalid()</strong></p>
  </dt>
  <dd>
    <p>Returns 1 if the value returned by <strong>trigdate()</strong> is valid for the most recent <strong>REM</strong> command, or 0 otherwise.  Sometimes <strong>REM</strong> commands cannot calculate a trigger date.  For example, the following <strong>REM</strong> command can never be triggered:</p>
  </dd>

</dl>

<pre>
		REM Mon OMIT Mon SKIP MSG Impossible!
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong>typeof(x_arg)</strong></p>
  </dt>
  <dd>
    <p>Returns "STRING", "INT", "DATE", "TIME" or "DATETIME", depending on the type of <em>arg</em>.</p>
  </dd>
  <dt>
    <p><strong>tzconvert(q_datetime, s_srczone [,s_dstzone])</strong></p>
  </dt>
  <dd>
    <p>Converts <strong>datetime</strong> from the time zone named by <strong>srczone</strong> to the time zone named by <strong>dstzone</strong>.  If <strong>dstzone</strong> is omitted, the default system time zone is used.  The return value is a DATETIME.  Time zone names are system-dependent; consult your operating system for legal values.  Here is an example:</p>
  </dd>

</dl>

<pre>
    tzconvert('2007-07-08@01:14', "Canada/Eastern", "Canada/Pacific")

          returns

    2007-07-07@22:14
</pre>

<dl class='dl-vertical'>
  <dt>
    <p><strong>upper(s_string)</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>STRING</strong> with all lower-case characters in <em>string</em> converted to upper-case.</p>
  </dd>
  <dt>
    <p><strong>value(s_varname [,x_default])</strong></p>
  </dt>
  <dd>
    <p>Returns the value of the specified variable.  For example, value("X"+"Y") returns the value of variable XY, if it is defined.  If XY is not defined, an error results.</p><p>However, if you supply a second argument, it is returned if the <em>varname</em> is not defined.  The expression value("XY", 0) will return 0 if XY is not defined, and the value of XY if it is defined.</p>
  </dd>
  <dt>
    <p><strong>version()</strong></p>
  </dt>
  <dd>
    <p>Returns a string specifying the version of <strong>Remind</strong>.  For version 03.00.04, returns "03.00.04".  It is guaranteed that as new versions of <strong>Remind</strong> are released, the value returned by <strong>version()</strong> will strictly increase, according to the rules for string ordering.</p>
  </dd>
  <dt>
    <p><strong>weekno([dq_date, [i_wkstart, [i_daystart]]])</strong></p>
  </dt>
  <dd>
    <p>Returns the week number of the year.  If no arguments are supplied, returns the ISO 8601 week number for <strong>today()</strong>.  If one argument <em>date</em> is supplied, then returns the ISO 8601 week number for that date.  If two arguments are supplied, then <em>wkstart</em> must range from 0 to 6, and represents the first day of the week (with 0 being Sunday and 6 being Saturday.).  If <em>wkstart</em> is not supplied, then it defaults to 1.  If the third argument <em>daystart</em> is supplied, then it specifies when Week 1 starts.  If <em>daystart</em> is less than or equal to 7, then Week 1 starts on the first <em>wkstart</em> on or after January <em>daystart</em>.  Otherwise, Week 1 starts on the first <em>wkstart</em> on or after December <em>daystart</em>.  If omitted, <em>daystart</em> defaults to 29 (following the ISO 8601 definition.)</p>
  </dd>
  <dt>
    <p><strong>wkday(dqi_arg)</strong></p>
  </dt>
  <dd>
    <p>If <em>arg</em> is a <strong>DATE</strong> or <strong>DATETIME</strong>, returns a string representing the day of the week of the date.  If <em>arg</em> is an <strong>INT</strong> from 0 to 6, returns the corresponding weekday ("Sunday" to "Saturday").</p>
  </dd>
  <dt>
    <p><strong>wkdaynum(dq_date)</strong></p>
  </dt>
  <dd>
    <p>Returns a number from 0 to 6 representing the day-of-week of the specified <em>date</em>.  (0 represents Sunday, and 6 represents Saturday.)</p>
  </dd>
  <dt>
    <p><strong>year(dq_date)</strong></p>
  </dt>
  <dd>
    <p>Returns a <strong>INT</strong> that is the year component of <em>date</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXPRESSION PASTING</h2>
        <div class="sectioncontent">
<p>An extremely powerful feature of <strong>Remind</strong> is its macro capability, or "expression pasting."</p><p>In almost any situation where <strong>Remind</strong> is not expecting an expression, you can "paste" an expression in.  To do this, surround the expression with square brackets.  For example:</p>
<pre>
	REM [mydate] MSG foo
</pre>
<p>This evaluates the expression "mydate", where "mydate" is presumably some pre-computed variable, and then "pastes" the result into the command-line for the parser to process.</p><p>A formal description of this is:  When <strong>Remind</strong> encounters a "pasted-in" expression, it evaluates the expression, and coerces the result to a <strong>STRING</strong>.  It then substitutes the string for the pasted-in expression, and continues parsing.  Note, however, that expressions are evaluated only once, not recursively.  Thus, writing:</p>
<pre>
	["[a+b]"]
</pre>
<p>causes <strong>Remind</strong> to read the token "[a+b]".  It does not interpret this as a pasted-in expression.  In fact, the only way to get a literal left-bracket into a reminder is to use ["["].</p><p>You can use expression pasting almost anywhere.  However, there are a few exceptions:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <strong>Remind</strong> is expecting an expression, as in the <strong>SET</strong> command, or the <strong>IF</strong> command, you should <strong>not</strong> include square brackets. For example, use:</p>
  </dd>

</dl>

<pre>
		SET a 4+5
</pre>
<p>and not:</p>
<pre>
		SET a [4+5]
</pre>

<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>You cannot use expression pasting for the first token on a line. For example, the following will not work:</p>
  </dd>

</dl>

<pre>
		["SET"] a 1
</pre>
<p>This restriction is because <strong>Remind</strong> must be able to unambiguously determine the first token of a line for the flow-control commands (to be discussed later.)</p><p>In fact, if <strong>Remind</strong> cannot determine the first token on a line, it assumes that it is a <strong>REM</strong> command.  If expression-pasting is used, <strong>Remind</strong> assumes it is a <strong>REM</strong> command.  Thus, the following three commands are equivalent:</p>
<pre>
		REM 12 Nov 1993 AT 13:05 MSG BOO!
		12 Nov 1993 AT 13:05 MSG BOO!
		[12] ["Nov " + 1993] AT [12:05+60] MSG BOO!
</pre>

<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>You cannot use expression-pasting to determine the type (<strong>MSG</strong>, <strong>CAL</strong>, etc.) of a <strong>REM</strong> command.  You can paste expressions before and after the <strong>MSG</strong>, etc keywords, but cannot do something like this:</p>
  </dd>

</dl>

<pre>
		REM ["12 Nov 1993 AT 13:05 " + "MSG" + " BOO!"]
</pre>
<p><strong>COMMON PITFALLS IN EXPRESSION PASTING</strong></p><p>Remember, when pasting in expressions, that extra spaces are not inserted.  Thus, something like:</p>
<pre>
	REM[expr]MSG[expr]
</pre>
<p>will probably fail.</p><p>If you use an expression to calculate a <em>delta</em> or <em>back</em>, ensure that the result is a positive number.  Something like:</p>
<pre>
	REM +[mydelta] Nov 12 1993 MSG foo
</pre>
<p>will fail if <em>mydelta</em> happens to be negative.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FLOW CONTROL COMMANDS</h2>
        <div class="sectioncontent">
<p><strong>Remind</strong> has commands that control the flow of a reminder script. Normally, reminder scripts are processed sequentially.  However, <strong>IF</strong> and related commands allow you to process files conditionally, and skip sections that you don't want interpreted.</p><p><strong>THE IF COMMAND</strong></p><p>The <strong>IF</strong> command has the following form:</p>
<pre>
	IF expr
		t-command
		t-command...
	ELSE
		f-command
		f-command...
	ENDIF
</pre>
<p>Note that the commands are shown indented for clarity.  Also, the <strong>ELSE</strong> portion can be omitted.  <strong>IF</strong> commands can be nested up to a small limit, probably around 8 or 16 levels of nesting, depending on your system.</p><p>If the <em>expr</em> evaluates to a non-zero <strong>INT</strong>, or a non-null <strong>STRING</strong>, then the <strong>IF</strong> portion is considered true, and the <em>t-commands</em> are executed.  If <em>expr</em> evaluates to zero or null, then the <em>f-commands</em> (if the <strong>ELSE</strong> portion is present) are executed.  If <em>expr</em> is not of type <strong>INT</strong> or <strong>STRING</strong>, then it is an error.</p><p>Examples:</p>
<pre>
	IF defined("want_hols")
		INCLUDE /usr/share/remind/holidays
	ENDIF

	IF today() &gt; '1992/2/10'
		set missed_ap "You missed it!"
	ELSE
		set missed_ap "Still have time..."
	ENDIF
</pre>
<p><strong>THE IFTRIG COMMAND</strong></p><p>The <strong>IFTRIG</strong> command is similar to an <strong>IF</strong> command, except that it computes a trigger (as in the <strong>REM</strong> command), and evaluates to true if a corresponding <strong>REM</strong> command would trigger.  Examples:</p>
<pre>
	IFTRIG 1 Nov
		; Executed on 1 Nov
	ELSE
		; Executed except on 1 Nov
	ENDIF

	IFTRIG 1 -1 OMIT Sat Sun +4
		; Executed on last working day of month,
		; and the 4 working days preceding it
	ELSE
		; Executed except on above days
	ENDIF
</pre>
<p>Note that the <strong>IFTRIG</strong> command computes a trigger date, which can be retrieved with the <strong>trigdate()</strong> function.  You can use all of the normal trigger components, such as <strong>UNTIL</strong>, <em>delta</em>, etc in the <strong>IFTRIG</strong> command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USER-DEFINED FUNCTIONS</h2>
        <div class="sectioncontent">
<p>In addition to the built-in functions, <strong>Remind</strong> allows you to define your own functions.  The <strong>FSET</strong> command does this for you:</p><p><strong>FSET</strong> <em>fname</em>(<em>args</em>) <em>expr</em></p><p><em>Fname</em> is the name of the function, and follows the convention for naming variables.  <em>Args</em> is a comma-separated list of arguments, and <em>expr</em> is an expression.  <em>Args</em> can be empty, in which case you define a function taking no parameters.  Here are some examples:</p>
<pre>
	FSET double(x) 2*x
	FSET yeardiff(date1, date2) year(date1) - year(date2)
	FSET since(x) ord(year(trigdate())-x)
</pre>
<p>The last function is useful in birthday reminders.  For example:</p>
<pre>
	REM 1 Nov +12 MSG Dean's [since(1984)] birthday is %b.
</pre>
<p>Dean was born in 1984.  The above example, on 1 November 1992, would print:</p>
<pre>
	Dean's 8th birthday is today.
</pre>
<p>Notes:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If you access a variable in <em>expr</em> that is not in the list of arguments, the "global" value (if any) is used.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>Function and parameter names are significant only to 12 characters.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>The <strong>value()</strong> function <em>always</em> accesses the "global" value of a variable, even if it has the same name as an argument.  For example:</p>
<pre>
		fset func(x) value("x")
		set x 1
		set y <strong>func</strong>(5)
</pre>
<p>The above sequence sets y to 1, which is the global value of x.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>User-defined functions may call other functions, including other user-defined functions.  However, recursive calls are not allowed.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>User-defined functions are not syntax-checked when they are defined; parsing occurs only when they are called.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If a user-defined function has the same name as a built-in function, it is ignored and the built-in function is used.  To prevent conflicts with future versions of <strong>Remind</strong> (which may define more built-in functions), you may wish to name all user-defined functions beginning with an underscore.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PRECISE SCHEDULING</h2>
        <div class="sectioncontent">
<p>The <strong>WARN</strong> keyword allows precise control over advance warning in a more flexible manner than the <em>delta</em> mechanism.  It should be followed by the name of a user-defined function, <em>warn_function</em>.</p><p>If a <em>warn_function</em> is supplied, then it must take one argument of type <strong>INT</strong>.  <strong>Remind</strong> ignores any delta, and instead calls <em>warn_function</em> successively with the arguments 1, 2, 3, ...</p><p><em>Warn_function</em>'s return value <em>n</em> is interpreted as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <em>n</em> is positive, then the reminder is triggered exactly <em>n</em> days before its trigger date.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <em>n</em> is negative, then it is triggered <em>n</em> days before its trigger date, <em>not counting</em> <strong>OMIT</strong>ted days.</p>
  </dd>

</dl>
<p>As an example, suppose you wish to be warned of American Independence Day 5, 3, and 1 days in advance.  You could use this:</p>
<pre>
	FSET _wfun(x) choose(x, 5, 3, 1, 0)
	REM 4 July WARN _wfun MSG American Independence Day is %b.
</pre>
<p><strong>NOTES</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p>1</p>
  </dt>
  <dd>
    <p>If an error occurs during the evaluation of <em>warn_function</em>, then <strong>Remind</strong> stops calling it and simply issues the reminder on its trigger date.</p>
  </dd>
  <dt>
    <p>2</p>
  </dt>
  <dd>
    <p>If the absolute-values of the return values of <em>warn_function</em> are not monotonically decreasing, <strong>Remind</strong> stops calling it and issues the reminder on its trigger date.</p>
  </dd>
  <dt>
    <p>3</p>
  </dt>
  <dd>
    <p><em>Warn_function</em> should (as a matter of good style) return 0 as the final value in its sequence of return values.  However, a reminder will <em>always</em> be triggered on its trigger date, regardless of what <em>warn_function</em> does.</p>
  </dd>

</dl>
<p>Similarly to <strong>WARN</strong>, the <strong>SCHED</strong> keyword allows precise control over the scheduling of timed reminders.  It should be followed by the name of a user-defined function, <em>sched_function</em>.</p><p>If a scheduling function is supplied, then it must take one argument of type <strong>INT</strong>.  Rather than using the <strong>AT</strong> time, time <em>delta</em>, and time <em>repeat</em>, <strong>Remind</strong> calls the scheduling function to determine when to trigger the reminder.  The first time the reminder is queued, the scheduling function is called with an argument of 1.  Each time the reminder is triggered, it is re-scheduled by calling the scheduling function again. On each call, the argument is incremented by one.</p><p>The return value of the scheduling function must be an <strong>INT</strong> or a <strong>TIME</strong>.  If the return value is a <strong>TIME</strong>, then the reminder is re-queued to trigger at that time.  If it is a positive integer <em>n</em>, then the reminder is re-queued to trigger at the previous trigger time plus <em>n</em> minutes.  Finally, if it is a negative integer or zero, then the reminder is re-queued to trigger <em>n</em> minutes before the <strong>AT</strong> time.  Note that there must be an <strong>AT</strong> clause for the <strong>SCHED</strong> clause to do anything.</p><p>Here's an example:</p>
<pre>
	FSET _sfun(x) choose(x, -60, 30, 15, 10, 3, 1, 1, 1, 1, 0)
	REM AT 13:00 SCHED _sfun MSG foo
</pre>
<p>The reminder would first be triggered at 13:00-60 minutes, or at 12:00. It would next be triggered 30 minutes later, at 12:30.  Then, it would be triggered at 12:45, 12:55, 12:58, 12:59, 13:00, 13:01 and 13:02.</p><p><strong>NOTES</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p>1</p>
  </dt>
  <dd>
    <p>If an error occurs during the evaluation of <em>sched_func</em>, then <strong>Remind</strong> reverts to using the <strong>AT</strong> time and the <em>delta</em> and <em>repeat</em> values, and never calls <em>sched_func</em> again.</p>
  </dd>
  <dt>
    <p>2</p>
  </dt>
  <dd>
    <p>If processing <em>sched_func</em> yields a time earlier than the current system time, it is repeatedly called with increasing argument until it yields a value greater than or equal to the current time.  However, if the sequence of values calculated during the repetition is not strictly increasing, then <strong>Remind</strong> reverts to the default behaviour and never calls <em>sched_func</em> again.</p>
  </dd>
  <dt>
    <p>3</p>
  </dt>
  <dd>
    <p>It is quite possible using <em>sched_func</em> to keep triggering a reminder even after the <strong>AT</strong>-time.  However, it is not possible to reschedule a reminder past midnight - no crossing of date boundaries is allowed. Also, it is quite possible to <strong>not</strong> trigger a reminder on the <strong>AT</strong> time when you use a scheduling function.  However, if your scheduling function is terminated (for reasons 1 and 2) before the <strong>AT</strong> time of the reminder, it <em>will</em> be triggered at the <strong>AT</strong> time, because normal processing takes over.</p>
  </dd>
  <dt>
    <p>4</p>
  </dt>
  <dd>
    <p>Your scheduling functions should (as a matter of good style) return 0 when no more scheduling is required.  See the example.</p>
  </dd>
  <dt>
    <p>5</p>
  </dt>
  <dd>
    <p>All scheduling functions are evaluated <em>after</em> the entire Remind script has been read in.  So whatever function definitions are in effect at the end of the script are used.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE SATISFY CLAUSE</h2>
        <div class="sectioncontent">
<p>The form of <strong>REM</strong> that uses <strong>SATISFY</strong> is as follows:</p><p><strong>REM</strong> <em>trigger</em> <strong>SATISFY</strong> <em>expr</em></p><p>The way this works is as follows:  <strong>Remind</strong> first calculates a trigger date, in the normal fashion.  Next, it sets <strong>trigdate()</strong> to the calculated trigger date.  It then evaluates <em>expr</em>.  If the result is not the null string or zero, processing ends.  Otherwise, <strong>Remind</strong> computes the next trigger date, and re-tests <em>expr</em>.  This iteration continues until <em>expr</em> evaluates to non-zero or non-null, or until the iteration limit specified with the <strong>-x</strong> command-line option is reached.</p><p>If <em>expr</em> is not satisfied, then <strong>trigvalid()</strong> is set to 0. Otherwise, <strong>trigvalid()</strong> is set to 1.  In any event, no error message is issued.</p><p>This is really useful only if <em>expr</em> involves a call to the <strong>trigdate()</strong> function; otherwise, <em>expr</em> will not change as <strong>Remind</strong> iterates.</p><p>An example of the usefulness of <strong>SATISFY</strong>:  Suppose you wish to be warned of every Friday the 13th.  Your first attempt may be:</p>
<pre>
	# WRONG!
	REM Fri 13 +2 MSG Friday the 13th is %b.
</pre>
<p>But this won't work.  This reminder triggers on the first Friday on or after the 13th of each month.  The way to do it is with a more complicated sequence:</p>
<pre>
	REM 13 SATISFY wkdaynum(trigdate()) == 5
	IF trigvalid()
		REM [trigdate()] +2 MSG &#92;
		Friday the 13th is %b.
	ENDIF
</pre>
<p>Let's see how this works.  The <strong>SATISFY</strong> clause iterates through all the 13ths of successive months, until a trigger date is found whose day-of-week is Friday (== 5).  If a valid date was found, we use the calculated trigger date to set up the next reminder.</p><p>We could also have written:</p>
<pre>
	REM Fri SATISFY day(trigdate()) == 13
</pre>
<p>but this would result in more iterations, since "Fridays" occur more often than "13ths of the month."</p><p>This technique of using one <strong>REM</strong> command to calculate a trigger date to be used by another command is quite powerful.  For example, suppose you wanted to OMIT Labour day, which is the first Monday in September.  You could use:</p>
<pre>
	# Note: SATISFY 1 is an idiom for "do nothing"
	REM Mon 1 Sept SATISFY 1
	OMIT [trigdate()]
</pre>
<p><strong>CAVEAT:</strong> This <em>only</em> omits the <em>next</em> Labour Day, not all Labour Days in the future.  This could cause strange results, as the <strong>OMIT</strong> context can change depending on the current date.  For example, if you use the following command after the above commands:</p>
<pre>
	REM Mon AFTER msg hello
</pre>
<p>the result will not be as you expect.  Consider producing a calendar for September, 1992.  Labour Day was on Monday, 7 September, 1992. However, when <strong>Remind</strong> gets around to calculating the trigger for Tuesday, 8 September, 1992, the <strong>OMIT</strong> command will now be omitting Labour Day for 1993, and the "Mon AFTER" command will not be triggered.  (But see the description of <strong>SCANFROM</strong> in the section "Details about Trigger Computation.")</p><p>It is probably best to stay away from computing <strong>OMIT</strong> trigger dates unless you keep these pitfalls in mind.</p><p>For versions of <strong>Remind</strong> starting from 03.00.07, you can include a <strong>MSG</strong>, <strong>RUN</strong>, etc. clause in a <strong>SATISFY</strong> clause as follows:</p>
<pre>
	REM trigger_stuff SATISFY [expr] MSG body
</pre>
<p>Note that for this case only, the <em>expr</em> after <strong>SATISFY</strong> <em>must</em> be enclosed in braces.  It must come after all the other components of the trigger, and immediately before the <strong>MSG</strong>, <strong>RUN</strong>, etc. keyword.  If <em>expr</em> cannot be satisfied, then the reminder is not triggered.</p><p>Thus, the "Friday the 13th" example can be expressed more compactly as:</p>
<pre>
	REM 13 +2 SATISFY [wkdaynum(trigdate()) == 5] &#92;
		MSG Friday the 13th is %b.
</pre>
<p>And you can trigger a reminder on Mondays, Wednesdays and Thursdays occurring on odd-numbered days of the month with the following:</p>
<pre>
	REM Mon Wed Thu SATISFY [day(trigdate())%2] &#92;
		MSG Here it is!!!
</pre>
<p>Note that <strong>SATISFY</strong> and <strong>OMITFUNC</strong> can often be used to solve the same problem, though in different ways.  Sometimes a <strong>SATISFY</strong> is cleaner and sometimes an <strong>OMITFUNC</strong>; experiment and use whichever seems clearer.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEBUGGING REMINDER SCRIPTS</h2>
        <div class="sectioncontent">
<p>Although the command-line <strong>-d</strong> option is useful for debugging, it is often overkill.  For example, if you turn on the <strong>-dx</strong> option for a reminder file with many complex expressions, you'll get a huge amount of output.  The <strong>DEBUG</strong> command allows you to control the debugging flags under program control.  The format is:</p><p><strong>DEBUG</strong> [+<em>flagson</em>] [-<em>flagsoff</em>]</p><p><em>Flagson</em> and <em>flagsoff</em> consist of strings of the characters "extvlf" that correspond to the debugging options discussed in the command-line options section.  If preceded with a "+", the corresponding group of debugging options is switched on.  Otherwise, they are switched off. For example, you could use this sequence to debug a complicated expression:</p>
<pre>
	DEBUG +x
	set a very_complex_expression(many_args)
	DEBUG -x
</pre>
<p><strong>THE DUMPVARS COMMAND</strong></p><p>The command <strong>DUMPVARS</strong> displays the values of variables in memory.  Its format is:</p><p><strong>DUMPVARS</strong> [<em>var</em>...]</p><p>If you supply a space-separated list of variable names, the corresponding variables are displayed.  If you do not supply a list of variables, then all variables in memory are displayed.  To dump a system variable, put its name in the list of variables to dump.  If you put a lone dollar sign in the list of variables to dump, then all system variables will be dumped.</p><p><strong>THE ERRMSG COMMAND</strong></p><p>The <strong>ERRMSG</strong> command has the following format:</p><p><strong>ERRMSG</strong> <em>body</em></p><p>The <em>body</em> is passed through the substitution filter (with an implicit trigger date of <strong>today()</strong>) and printed to the error output stream.  Example:</p>
<pre>
	IF !defined("critical_var")
		ERRMSG You must supply a value for "critical_var"
		EXIT
	ENDIF
</pre>
<p><strong>THE EXIT COMMAND</strong></p><p>The above example also shows the use of the <strong>EXIT</strong> command.  This causes an unconditional exit from script processing.  Any queued timed reminders are discarded.  If you are in calendar mode (described next), then the calendar processing is aborted.</p><p>If you supply an <strong>INT</strong>-type expression after the <strong>EXIT</strong> command, it is returned to the calling program as the exit status.  Otherwise, an exit status of 99 is returned.</p><p><strong>THE FLUSH COMMAND</strong></p><p>This command simply consists of the word <strong>FLUSH</strong> on a line by itself.  The command flushes the standard output and standard error streams used by <strong>Remind</strong>.  This is not terribly useful to most people, but may be useful if you run <strong>Remind</strong> as a subprocess of another program, and want to use pipes for communication.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CALENDAR MODE</h2>
        <div class="sectioncontent">
<p>If you supply the <strong>-c</strong>, <strong>-s</strong> or <strong>-p</strong> command-line option, then <strong>Remind</strong> runs in "calendar mode."  In this mode, <strong>Remind</strong> interprets the script repeatedly, performing one iteration through the whole file for each day in the calendar.  Reminders that trigger are saved in internal buffers, and then inserted into the calendar in the appropriate places.</p><p>If you also supply the <strong>-a</strong> option, then <strong>Remind</strong> will not include timed reminders in the calendar.</p><p>The <strong>-p</strong> option is used in conjunction with the <strong>Rem2PS</strong> program to produce a calendar in PostScript format.  For example, the following command will send PostScript code to standard output:</p>
<pre>
	remind -p .reminders | rem2ps
</pre>
<p>You can print a PostScript calendar by piping this to the <strong>lpr</strong> command.</p><p>If you have a reminder script called ".reminders", and you execute this command:</p>
<pre>
	remind -c .reminders jan 1993
</pre>
<p>then <strong>Remind</strong> executes the script 31 times, once for each day in January.  Each time it executes the script, it increments the value of <strong>today()</strong>.  Any reminders whose trigger date matches <strong>today()</strong> are entered into the calendar.</p><p><strong>MSG</strong> and <strong>CAL</strong>-type reminders, by default, have their entire body inserted into the calendar.  <strong>RUN</strong>-type reminders are not normally inserted into the calendar.  However, if you enclose a portion of the body in the %"...%" sequence, only that portion is inserted.  For example, consider the following:</p>
<pre>
	REM 6 Jan MSG %"David's birthday%" is %b
</pre>
<p>In the normal mode, <strong>Remind</strong> would print "David's birthday is today" on 6 January.  However, in the calendar mode, only the text "David's birthday" is inserted into the box for 6 January.</p><p>If you explicitly use the %"...%" sequence in a <strong>RUN</strong>-type reminder, then the text between the delimiters is inserted into the calendar. If you use the sequence %"%" in a <strong>MSG</strong> or <strong>CAL</strong>-type reminder, then no calendar entry is produced for that reminder.</p><p><strong>PRESERVING VARIABLES</strong></p><p>Because <strong>Remind</strong> iterates through the script for each day in the calendar, slow operations may severely reduce the speed of producing a calendar.</p><p>For example, suppose you set the variables "me" and "hostname" as follows:</p>
<pre>
	SET me shell("whoami")
	SET hostname shell("hostname")
</pre>
<p>Normally, <strong>Remind</strong> clears all variables between iterations in calendar mode.  However, if certain variables are slow to compute, and will not change between iterations, you can "preserve" their values with the <strong>PRESERVE</strong> command.  Also, since function definitions are preserved between calendar iterations, there is no need to redefine them on each iteration.  Thus, you could use the following sequence:</p>
<pre>
	IF ! defined("initialized")
		set initialized 1
		set me shell("whoami")
		set hostname shell("hostname")
		fset func(x) complex_expr
		preserve initialized me hostname
	ENDIF
</pre>
<p>The operation is as follows:  On the first iteration through the script, "initialized" is not defined.  Thus, the commands between <strong>IF</strong> and <strong>ENDIF</strong> are executed.  The <strong>PRESERVE</strong> command ensures that the values of initialized, me and hostname are preserved for subsequent iterations.  On the next iteration, the commands are skipped, since initialized has remained defined.  Thus, time-consuming operations that do not depend on the value of <strong>today()</strong> are done only once.</p><p>System variables (those whose names start with '$') are automatically preserved between calendar iterations.</p><p>Note that for efficiency, <strong>Remind</strong> caches the reminder script (and any <strong>INCLUDE</strong>d files) in memory when producing a calendar.</p><p>Timed reminders are sorted and placed into the calendar in time order. These are followed by non-timed reminders.  <strong>Remind</strong> automatically places the time of timed reminders in the calendar according to the <strong>-b</strong> command-line option.  Reminders in calendar mode are sorted as if the <strong>-g</strong> option had been used; you can change the sort order in calendar mode by explicitly using the <strong>-g</strong> option to specify a different order from the default.</p><p><strong>REPEATED EXECUTION</strong></p><p>If you supply a <em>repeat</em> parameter on the command line, and do not use the <strong>-c</strong>, <strong>-p</strong>, or <strong>-s</strong> options, <strong>Remind</strong> operates in a similar manner to calendar mode.  It repeatedly executes the reminder script, incrementing <strong>today()</strong> with each iteration. The same rules about preserving variables and function definitions apply.  Note that using <em>repeat</em> on the command line also enables the <strong>-q</strong> option and disables any <strong>-z</strong> option. As an example, if you want to see how <strong>Remind</strong> will behave for the next week, you can type:</p>
<pre>
	remind .reminders '*7'
</pre>
<p>If you want to print the dates of the next 1000 days, use:</p>
<pre>
	(echo 'banner %'; echo 'msg [today()]%') | remind - '*1000'
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INITIALIZING VARIABLES ON THE COMMAND LINE</h2>
        <div class="sectioncontent">
<p>The <strong>-i</strong> option is used to initialize variables on the <strong>Remind</strong> command line.  The format is <strong>-i</strong><em>var</em><strong>=</strong><em>expr</em>, where <em>expr</em> is any valid expression.  Note that you may have to use quotes or escapes to prevent the shell from interpreting special characters in <em>expr</em>.  You can have as many <strong>-i</strong> options as you want on the command line, and they are processed in order.  Thus, if a variable is defined in one <strong>-i</strong> option, it can be referred to by subsequent <strong>-i</strong> options.</p><p>Note that if you supply a date on the command line, it is not parsed until all options have been processed.  Thus, if you use <strong>today()</strong> in any of the <strong>-i</strong> expressions, it will return the same value as <strong>realtoday()</strong> and not the date supplied on the command line.</p><p>Any variables defined on the command line are <strong>preserved</strong> as with the <strong>PRESERVE</strong> command.</p><p>You should not have any spaces between the <strong>-i</strong> option and the equal sign; otherwise, strange variable names are created that can only be accessed with the <strong>value()</strong> or <strong>defined()</strong> functions.</p><p>You can also define a function on the command line by using:</p><p><strong>-i</strong><em>func</em>(<em>args</em>)=<em>definition</em></p><p>Be sure to protect special characters from shell interpretation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MORE ABOUT POSTSCRIPT</h2>
        <div class="sectioncontent">
<p>The <strong>PS</strong> and <strong>PSFILE</strong> reminders pass PostScript code directly to the printer.  They differ in that the <strong>PS</strong>-type reminder passes its body directly to the PostScript output (after processing by the substitution filter) while the <strong>PSFILE</strong>-type's body should simply consist of a filename.  The <strong>Rem2PS</strong> program will open the file named in the <strong>PSFILE</strong>-type reminder, and include its contents in the PostScript output.</p><p>The PostScript-type reminders for a particular day are included in the PostScript output in sorted order of priority.  Note that the order of PostScript commands has a <em>major</em> impact on the appearance of the calendars.  For example, PostScript code to shade a calendar box will obliterate code to draw a moon symbol if the moon symbol code is placed in the calendar first.  For this reason, you should not provide <strong>PS</strong> or <strong>PSFILE</strong>-type reminders with priorities; instead, you should ensure that they appear in the reminder script in the correct order. PostScript code should draw objects working from the background to the foreground, so that foreground objects properly overlay background ones. If you prioritize these reminders and run the script using descending sort order for priorities, the PostScript output will not work.</p><p>All of the PostScript code for a particular date is enclosed in a <strong>save</strong>-<strong>restore</strong> pair.  However, if several PostScript-type reminders are triggered for a single day, each section of PostScript is not enclosed in a <strong>save</strong>-<strong>restore</strong> pair - instead, the entire body of included PostScript is enclosed.</p><p>PostScript-type reminders are executed by the PostScript printer before any regular calendar entries.  Thus, regular calendar entries will overlay the PostScript-type reminders, allowing you to create shaded or graphical backgrounds for particular days.</p><p>Before executing your PostScript code, the origin of the PostScript coordinate system is positioned to the bottom left-hand corner of the "box" in the calendar representing <strong>today()</strong>.  This location is exactly in the middle of the intersection of the bottom and left black lines delineating the box - you may have to account for the thickness of these lines when calculating positions.</p><p>Several PostScript variables are available to the PostScript code you supply. All distance and size variables are in PostScript units (1/72 inch.)  The variables are:</p>
<dl class='dl-vertical'>
  <dt>
    <p>LineWidth</p>
  </dt>
  <dd>
    <p>The width of the black grid lines making up the calendar.</p>
  </dd>
  <dt>
    <p>Border</p>
  </dt>
  <dd>
    <p>The border between the center of the grid lines and the space used to print calendar entries.  This border is normally blank space.</p>
  </dd>
  <dt>
    <p>BoxWidth and BoxHeight</p>
  </dt>
  <dd>
    <p>The width and height of the calendar box, from center-to-center of the black gridlines.</p>
  </dd>
  <dt>
    <p>InBoxHeight</p>
  </dt>
  <dd>
    <p>The height from the center of the bottom black gridline to the top of the regular calendar entry area.  The space from here to the top of the box is used only to draw the day number.</p>
  </dd>
  <dt>
    <p>/DayFont, /EntryFont, /SmallFont, /TitleFont and /HeadFont</p>
  </dt>
  <dd>
    <p>The fonts used to draw the day numbers, the calendar entries, the small calendars, the calendar title (month, year) and the day-of-the-week headings, respectively.</p>
  </dd>
  <dt>
    <p>DaySize, EntrySize, TitleSize and HeadSize</p>
  </dt>
  <dd>
    <p>The sizes of the above fonts.  (The size of the small calendar font is <em>not</em> defined here.)  For example, if you wanted to print the Hebrew date next to the regular day number in the calendar, use:</p>
  </dd>

</dl>

<pre>
	REM PS Border BoxHeight Border sub DaySize sub moveto &#92;
	   /DayFont findfont DaySize scalefont setfont &#92;
	   ([hebday(today())] [hebmon(today())]) show
</pre>
<p>Note how /DayFont and DaySize are used.</p><p>Note that if you supply PostScript code, it is possible to produce invalid PostScript files.  Always test your PostScript thoroughly with a PostScript viewer before sending it to the printer.  You should not use any document structuring comments in your PostScript code.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DAEMON MODE</h2>
        <div class="sectioncontent">
<p>If you use the <strong>-z</strong> command-line option, <strong>Remind</strong> runs in the "daemon" mode.  In this mode, no "normal" reminders are issued. Instead, only timed reminders are collected and queued, and are then issued whenever they reach their trigger time.</p><p>In addition, <strong>Remind</strong> wakes up every few minutes to check the modification date on the reminder script (the filename supplied on the command line.) If <strong>Remind</strong> detects that the script has changed, it re-executes itself in daemon mode, and interprets the changed script.</p><p>In daemon mode, <strong>Remind</strong> also re-reads the remind script when it detects that the system date has changed.</p><p>In daemon mode, <strong>Remind</strong> acts as if the <strong>-f</strong> option had been used, so to run in the daemon mode in the background, use:</p>
<pre>
	remind -z .reminders &
</pre>
<p>If you use <strong>sh</strong> or <strong>bash</strong>, you may have to use the "nohup" command to ensure that the daemon is not killed when you log out.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PURGE MODE</h2>
        <div class="sectioncontent">
<p>If you supply the <strong>-j</strong> command-line option, <strong>Remind</strong> runs in <em>purge mode</em>.  In this mode, it tries to purge expired reminders from your reminder files.</p><p>In purge mode, <strong>Remind</strong> reads your reminder file and creates a new file by appending ".purged" to the original file name.  Note that <strong>Remind</strong> <em>never</em> edits your original file; it always creates a new .purged file.</p><p>If you invoke <strong>Remind</strong> against a directory instead of a file, then a .purged file is created for each *.rem file in the directory.</p><p>Normally, <strong>Remind</strong> does not create .purged files for INCLUDed files. However, if you supply a numeric argument after <strong>-j</strong>, then <strong>Remind</strong> will create .purged files for the specified level of INCLUDE.  For example, if you invoke <strong>Remind</strong> with the argument <strong>-j2</strong>, then .purged files will be created for the file (or directory) specified on the command line, any files included by them, and any files included by those files. However, .purged files will not be created for third-or-higher level INCLUDE files.</p><p>Determining which reminders have expired is extremely tricky.  <strong>Remind</strong> does its best, but you should always compare the .purged file to the original file and hand-merge the changes back in.</p><p>Remind annotates the .purged file as follows:</p><p>An expired reminder is prefixed with:  #!P: Expired:</p><p>In situations where <strong>Remind</strong> cannot reliably determine that something was expired, you may see the following comments inserted before the problematic line:</p>
<pre>
   #!P: Cannot purge SATISFY-type reminders

   #!P: The next IF evaluated false...
   #!P: REM statements in IF block not checked for purging.

   #!P: The previous IF evaluated true.
   #!P: REM statements in ELSE block not checked for purging

   #!P: The next IFTRIG did not trigger.
   #!P: REM statements in IFTRIG block not checked for purging.

   #!P: Next line has expired, but contains expression...  please verify

   #!P: Next line may have expired, but contains non-constant expression

   #!P! Could not parse next line: Some-Error-Message-Here
</pre>
<p><strong>Remind</strong> always annotates .purged files with lines beginning with "#!P".  If such lines are encountered in the <em>original</em> file, they are not copied to the .purged file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SORTING REMINDERS</h2>
        <div class="sectioncontent">
<p>The <strong>-g</strong> option causes <strong>Remind</strong> to sort reminders by trigger date, time and priority before issuing them.  Note that reminders are still calculated in the order encountered in the script.  However, rather than being issued immediately, they are saved in an internal buffer.  When <strong>Remind</strong> has finished processing the script, it issues the saved reminders in sorted order.  The <strong>-g</strong> option can be followed by up to four characters that must all be "a" or "d".  The first character specifies the sort order by trigger date (ascending or descending), the second specifies the sort order by trigger time and the third specifies the sort order by priority.  If the fourth character is "d", the untimed reminders are sorted before timed reminders.  The default is to sort all fields in ascending order and to sort untimed reminders after timed reminders.</p><p>In ascending order, reminders are issued with the most imminent first. Descending order is the reverse.  Reminders are always sorted by trigger date, and reminders with the same trigger date are then sorted by trigger time.  If two reminders have the same date and time, then the priority is used to break ties.  Reminders with the same date, time and priority are issued in the order they were encountered.</p><p>You can define a user-defined function called SORTBANNER that takes one <strong>DATE</strong>-type argument.  In sort mode, the following sequence happens:</p><p>If <strong>Remind</strong> notices that the next reminder to issue has a different trigger date from the previous one (or if it is the first one to be issued), then SORTBANNER is called with the trigger date as its argument. The result is coerced to a string, and passed through the substitution filter with the appropriate trigger date.  The result is then displayed.</p><p>Here's an example - consider the following fragment:</p>
<pre>
	# Switch off the normal banner
	BANNER %
	REM 11 March 1993 ++1 MSG Not so important
	REM 17 March 1993 ++7 MSG Way in the future
	REM 10 March 1993 MSG Important Reminder
	REM 11 March 1993 ++1 MSG Not so important - B
	FSET sortbanner(x) iif(x == today(), &#92;
		"***** THINGS TO DO TODAY *****", &#92;
		"----- Things to do %b -----")
</pre>
<p>Running this with the <strong>-gaa</strong> option on 10 March 1993 produces the following output:</p>
<pre>
	***** THINGS TO DO TODAY *****

	Important Reminder

	----- Things to do tomorrow -----

	Not so important

	Not so important - B

	----- Things to do in 7 days' time -----

	Way in the future
</pre>
<p>You can use the <strong>args()</strong> built-in function to determine whether or not SORTBANNER has been defined.  (This could be used, for example, to provide a default definition for SORTBANNER in a system-wide file included at the end of the user's file.)  Here's an example:</p>
<pre>
	# Create a default sortbanner function if it hasn't already
	# been defined
	if args("sortbanner") != 1
		fset sortbanner(x) "--- Things to do %b ---"
	endif
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MSGPREFIX() AND MSGSUFFIX()</h2>
        <div class="sectioncontent">
<p>You can define two functions in your script called <strong>msgprefix()</strong> and <strong>msgsuffix()</strong>.  They should each accept one argument, a number from 0 to 9999.</p><p>In normal mode, for <strong>MSG</strong>- and <strong>MSF</strong>-type reminders, the following sequence occurs when <strong>Remind</strong> triggers a reminder:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <strong>msgprefix()</strong> is defined, it is evaluated with the priority of the reminder as its argument.  The result is printed.  It is <em>not</em> passed through the substitution filter.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>The body of the reminder is printed.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <strong>msgsuffix()</strong> is defined, it is evaluated with the priority of the reminder as its argument.  The result is printed.  It is <em>not</em> passed through the substitution filter.</p>
  </dd>

</dl>
<p>Here's an example:  The following definition causes priority-0 reminders to be preceded by "URGENT", and priority-6000 reminders to be preceded by "(not important)".</p>
<pre>
	fset msgprefix(x) iif(x==0, "URGENT: ", &#92;
	     x==6000, "(not important) ", "")
</pre>
<p>In Calendar Mode (with the <strong>-c</strong>, <strong>-s</strong> or <strong>-p</strong> options), an analogous pair of functions named <strong>calprefix()</strong> and <strong>calsuffix()</strong> can be defined.  They work with all reminders that produce an entry in the calendar (i.e., <strong>CAL</strong>- and possibly <strong>RUN</strong>-type reminders as well as <strong>MSG</strong>-type reminders.)</p><p><strong>NOTES</strong></p><p>Normally, the body of a reminder is followed by a carriage return. Thus, the results of <strong>msgsuffix()</strong> will appear on the next line.  If you don't want this, end the body of the reminder with a percentage sign, "%".  If you want a space between your reminders, simply include a carriage return (<strong>char(13)</strong>) as part of the <strong>msgsuffix()</strong> return value.</p><p>If <strong>Remind</strong> has problems evaluating <strong>msgprefix()</strong>, <strong>msgsuffix()</strong> or <strong>sortbanner()</strong>, you will see a lot of error messages.  For an example of this, define the following:</p>
<pre>
	fset msgprefix(x) x/0
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FOREIGN LANGUAGE SUPPORT</h2>
        <div class="sectioncontent">
<p>Your version of <strong>Remind</strong> may have been compiled to support a language other than English.  This support may or may not be complete - for example, all error and usage messages may still be in English. However, at a minimum, foreign-language versions of <strong>Remind</strong> will output names of months and weekdays in the foreign language.  Also, the substitution mechanism will substitute constructs suitable for the foreign language rather than for English.</p><p>A foreign-language version of <strong>Remind</strong> will accept either the English or foreign-language names of weekdays and months in a reminder script. However, for compatibility between versions of <strong>Remind</strong>, you should use only the English names in your scripts.  Also, if your C compiler or run-time libraries are not "8-bit clean" or don't understand the ISO-Latin character set, month or day names with accented letters may not be recognized.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE HEBREW CALENDAR</h2>
        <div class="sectioncontent">
<p><strong>Remind</strong> has support for the Hebrew calendar, which is a luni-solar calendar.  This allows you to create reminders for Jewish holidays, jahrzeits (anniversaries of deaths) and smachot (joyous occasions.)</p><p><strong>THE HEBREW YEAR</strong></p><p>The Hebrew year has 12 months, alternately 30 and 29 days long.  The months are: Tishrey, Heshvan, Kislev, Tevet, Shvat, Adar, Nisan, Iyar, Sivan, Tamuz, Av and Elul.  In Biblical times, the year started in Nisan, but Rosh Hashana (Jewish New Year) is now celebrated on the 1st and 2nd of Tishrey.</p><p>In a cycle of 19 years, there are 7 leap years, being years 3, 6, 8, 11, 14, 17 and 19 of the cycle.  In a leap year, an extra month of 30 days is added before Adar.  The two Adars are called Adar A and Adar B.</p><p>For certain religious reasons, the year cannot start on a Sunday, Wednesday or Friday.  To adjust for this, a day is taken off Kislev or added to Heshvan. Thus, a regular year can have from 353 to 355 days, and a leap year from 383 to 385.</p><p>When Kislev or Heshvan is short, it is called <em>chaser</em>, or lacking.  When it is long, it is called <em>shalem</em>, or full.</p><p>The Jewish date changes at sunset.  However, <strong>Remind</strong> will change the date at midnight, not sunset.  So in the period between sunset and midnight, Remind will be a day earlier than the true Jewish date.  This should not be much of a problem in practice.</p><p>The computations for the Jewish calendar were based on the program "hdate" written by Amos Shapir of the Hebrew University of Jerusalem, Israel.  He also supplied the preceding explanation of the calendar.</p><p><strong>HEBREW DATE FUNCTIONS</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>hebday(d_date)</strong></p>
  </dt>
  <dd>
    <p>Returns the day of the Hebrew month corresponding to the <em>date</em> parameter.  For example, 12 April 1993 corresponds to 21 Nisan 5753. Thus, hebday('1993/04/12') returns 21.</p>
  </dd>
  <dt>
    <p><strong>hebmon(d_date)</strong></p>
  </dt>
  <dd>
    <p>Returns the name of the Hebrew month corresponding to <em>date</em>. For example, hebmon('1993/04/12') returns "Nisan".</p>
  </dd>
  <dt>
    <p><strong>hebyear(d_date)</strong></p>
  </dt>
  <dd>
    <p>Returns the Hebrew year corresponding to <em>date</em>.  For example, hebyear('1993/04/12') returns 5753.</p>
  </dd>
  <dt>
    <p><strong>hebdate(i_day, s_hebmon [,id_yrstart [,i_jahr [,i_aflag]]])</strong></p>
  </dt>
  <dd>
    <p>The <strong>hebdate()</strong> function is the most complex of the Hebrew support functions.  It can take from 2 to 5 arguments.  It returns a <strong>DATE</strong> corresponding to the Hebrew date.</p>
  </dd>

</dl>
<p>The <em>day</em> parameter can range from 1 to 30, and specifies the day of the Hebrew month.  The <em>hebmon</em> parameter is a string that must name one of the Hebrew months specified above.  Note that the month must be spelled out in full, and use the English transliteration shown previously.  You can also specify "Adar A" and "Adar B."  Month names are not case-sensitive.</p><p>The <em>yrstart</em> parameter can either be a <strong>DATE</strong> or an <strong>INT</strong>.  If it is a <strong>DATE</strong>, then the <strong>hebdate()</strong> scans for the first Hebrew date on or after that date.  For example:</p>
<pre>
		hebdate(15, "Nisan", '1990/01/01')
</pre>
<p>returns 1990/03/30, because that is the first occurrence of 15 Nisan on or after 1 January 1990.</p><p>If <em>yrstart</em> is an <strong>INT</strong>, it is interpreted as a Hebrew year.  Thus:</p>
<pre>
		hebdate(22, "Kislev", 5756)
</pre>
<p>returns 1995/12/15, because that date corresponds to 22 Kislev, 5756.  Note that none of the Hebrew date functions will work with dates outside <strong>Remind's</strong> normal range for dates.</p><p>If <em>yrstart</em> is not supplied, it defaults to <strong>today()</strong>.</p><p>The <em>jahr</em> modifies the behaviour of <strong>hebdate()</strong> as follows:</p><p>If <em>jahr</em> is 0 (the default), then <strong>hebdate()</strong> keeps scanning until it finds a date that exactly satisfies the other parameters.  For example:</p>
<pre>
		hebdate(30, "Adar A", 1993/01/01)
</pre>
<p>returns 1995/03/02, corresponding to 30 Adar A, 5755, because that is the next occurrence of 30 Adar A after 1 January, 1993.  This behaviour is appropriate for Purim Katan, which only appears in leap years.</p><p>If <em>jahr</em> is 1, then the date is modified as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>30 Heshvan is converted to 1 Kislev in years when Heshvan is <em>chaser</em></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>30 Kislev is converted to 1 Tevet in years when Kislev is <em>chaser</em></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>30 Adar A is converted to 1 Nisan in non-leapyears</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>Other dates in Adar A are moved to the corresponding day in Adar in non-leapyears</p>
  </dd>

</dl>
<p>This behaviour is appropriate for smachot (joyous occasions) and for some jahrzeits - see "JAHRZEITS."</p><p>if <em>jahr</em> is 2, then the date is modified as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>30 Kislev and 30 Heshvan are converted to 29 Kislev and 29 Heshvan, respectively, if the month is <em>chaser</em></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>30 Adar A is converted to 30 Shvat in non-leapyears</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>Other dates in Adar A are moved to the corresponding day in Adar in non-leapyears</p>
  </dd>

</dl>
<p>if <em>jahr</em> is not 0, 1, or 2, it is interpreted as a Hebrew year, and the behaviour is calculated as described in the next section, "JAHRZEITS."</p><p>The <em>aflag</em> parameter modifies the behaviour of the function for dates in Adar during leap years.  The <em>aflag</em> is <em>only</em> used if <em>yrstart</em> is a <strong>DATE</strong> type.</p><p>The <em>aflag</em> only affects date calculations if <em>hebmon</em> is specified as "Adar".  In leap years, the following algorithm is followed:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <em>aflag</em> is 0, then the date is triggered in Adar B.  This is the default.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <em>aflag</em> is 1, then the date is triggered in Adar A.  This may be appropriate for jahrzeits in the Ashkenazi tradition; consult a rabbi.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If <em>aflag</em> is 2, then the date is triggered in both Adar A and Adar B of a leap year.  Some Ashkenazim perform jahrzeit in both Adar A and Adar B.</p>
  </dd>

</dl>
<p><strong>JAHRZEITS</strong></p><p>A jahrzeit is a yearly commemoration of someone's death.  It normally takes place on the anniversary of the death, but may be delayed if burial is delayed - consult a rabbi for more information.</p><p>In addition, because some months change length, it is not obvious which day the anniversary of a death is.  The following rules are used:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If the death occurred on 30 Heshvan, and Heshvan in the year after the death is <em>chaser</em>, then the jahrzeit is observed on 29 Heshvan in years when Heshvan is <em>chaser</em>.  Otherwise, the yahrzeit is observed on 1 Kislev when Heshvan is <em>chaser</em>.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If the death occurred on 30 Kislev, and Kislev in the year after the death is <em>chaser</em>, then the jahrzeit is observed on 29 Kislev in years when Kislev is <em>chaser</em>.  Otherwise, the yahrzeit is observed on 1 Tevet when Kislev is <em>chaser</em>.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If the death occurred on 1-29 Adar A, it is observed on 1-29 Adar in non-leapyears.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p>If the death occurred on 30 Adar A, it is observed on 30 Shvat in a non-leapyear.</p>
  </dd>

</dl>
<p>Specifying a Hebrew year for the <em>jahr</em> parameter causes the correct behaviour to be selected for a death in that year.  You may also have to specify <em>aflag</em>, depending on your tradition.</p><p>The jahrzeit information was supplied by Frank Yellin, who quoted "The Comprehensive Hebrew Calendar" by Arthur Spier, and "Calendrical Calculations" by E. M. Reingold and Nachum Dershowitz.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUT-OF-BAND REMINDERS</h2>
        <div class="sectioncontent">
<p>The <strong>SPECIAL</strong> keyword is used to transmit "out-of-band" information to <strong>Remind</strong> backends, such as <strong>tkremind</strong> or <strong>Rem2PS</strong>. They are used only when piping data from a <strong>remind -p</strong> line. (Note that the COLOR special is an exception; it downgrades to the equivalent of MSG in <strong>remind's</strong> normal mode of operation.)</p><p>The various <strong>SPECIAL</strong>s recognized are particular for each backend; however, there are three <strong>SPECIAL</strong>s that all backends should attempt to support.  They are currently supported by <strong>Rem2PS</strong>, <strong>tkremind</strong> and <strong>rem2html</strong>.</p><p>The <strong>SHADE</strong> special replaces the <strong>psshade()</strong> function. Use it like this:</p>
<pre>
	REM Sat Sun SPECIAL SHADE 128
	REM Mon SPECIAL SHADE 255 0 0
</pre>
<p>The <strong>SHADE</strong> keyword is followed by either one or three numbers, from 0 to 255.  If one number is supplied, it is interpreted as a grey-scale value from black (0) to white (255).  If three numbers are supplied, they are interpreted as RGB components from minimum (0) to maximum (255).  The example above shades weekends a fairly dark grey and makes Mondays a fully-saturated red.  (These shadings appear in calendars produced by <strong>Rem2PS</strong>, <strong>tkremind</strong> and <strong>rem2html</strong>.)</p><p>The <strong>MOON</strong> special replaces the <strong>psmoon()</strong> function.  Use it like this:</p>
<pre>
	REM [<strong>moondate</strong>(0)] SPECIAL MOON 0
	REM [<strong>moondate</strong>(1)] SPECIAL MOON 1
	REM [<strong>moondate</strong>(2)] SPECIAL MOON 2
	REM [<strong>moondate</strong>(3)] SPECIAL MOON 3
</pre>
<p>These draw little moons on the various calendars.  The complete syntax of the <strong>MOON</strong> special is as follows:</p>
<pre>
	... SPECIAL MOON phase moonsize fontsize msg
</pre>
<p><em>Phase</em> is a number from 0 to 3, with 0 representing a new moon, 1 the first quarter, 2 a full moon and 3 the last quarter.</p><p><em>moonsize</em> is the diameter in PostScript units of the moon to draw.  If omitted or supplied as -1, the backend chooses an appropriate size.</p><p><em>fontsize</em> is the font size in PostScript units of the <em>msg</em></p><p><em>Msg</em> is additional text that is placed near the moon glyph.</p><p>Note that only the <strong>Rem2PS</strong> backend supports <em>moonsize</em> and <em>fontsize</em>; the other backends use fixed sizes.</p><p>The <strong>COLOR</strong> special lets you place colored reminders in the calendar.  Use it like this:</p>
<pre>
	REM ... SPECIAL COLOR 255 0 0 This is a bright red reminder
	REM ... SPECIAL COLOR 0 128 0 This is a dark green reminder
</pre>
<p>You can spell COLOR either the American way ("COLOR") or the British way ("COLOUR").  This manual will use the American way.</p><p>Immediately following COLOR should be three decimal numbers ranging from 0 to 255 specifying red, green and blue intensities, respectively. The rest of the line is the text to put in the calendar.</p><p>The COLOR special is "doubly special", because in its normal operating mode, <strong>remind</strong> treats a COLOR special just like a MSG-type reminder. Also, if you invoke <strong>Remind</strong> with <strong>-cc</strong>..., then it approximates SPECIAL COLOR reminders on your terminal.</p><p>The <strong>WEEK</strong> special lets you place annotations such as the week number in the calendar.  For example, this would number each Monday with the ISO 8601 week number.  The week number is shown like this: "(W<em>n</em>)" in this example, but you can put whatever text you like after the WEEK keyword.</p>
<pre>
	REM Monday SPECIAL WEEK (W[weekno()])
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MISCELLANEOUS</h2>
        <div class="sectioncontent">
<p><strong>COMMAND ABBREVIATIONS</strong></p><p>The following tokens can be abbreviated:</p>
<dl class='dl-vertical'>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>REM</strong> can be omitted - it is implied if no other valid command is present.</p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>CLEAR-OMIT-CONTEXT</strong> --&gt; <strong>CLEAR</strong></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>PUSH-OMIT-CONTEXT</strong> --&gt; <strong>PUSH</strong></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>POP-OMIT-CONTEXT</strong> --&gt; <strong>POP</strong></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>DUMPVARS</strong> --&gt; <strong>DUMP</strong></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>BANNER</strong> --&gt; <strong>BAN</strong></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>INCLUDE</strong> --&gt; <strong>INC</strong></p>
  </dd>
  <dt>
    <p>o</p>
  </dt>
  <dd>
    <p><strong>SCANFROM</strong> --&gt; <strong>SCAN</strong></p>
  </dd>

</dl>
<p><strong>NIFTY EXAMPLES</strong></p><p>This section is a sampling of what you can do with <strong>Remind</strong>.</p>
<pre>
	REM 5 Feb 1991 AT 14:00 +45 *30 &#92;
	RUN mail -s "Meeting at %2" $LOGNAME &lt;/dev/null &
</pre>
<p>On 5 February, 1991, this reminder will mail you reminders of a 2:00pm meeting at 1:15, 1:45 and 2:00.  The subject of the mail message will be "Meeting at 2:00pm" and the body of the message will be blank.</p>
<pre>
	REM AT 17:00 RUN echo "5:00pm - GO HOME!" | xless -g +0+0 &
</pre>
<p>This reminder will pop up an xless window at 5:00pm every day.  The xless window will contain the line "5:00pm - GO HOME!"</p>
<pre>
	REM AT 23:59 RUN (sleep 120; remind -a [filename()]) &
</pre>
<p>This reminder will run at one minute to midnight.  It will cause a new <strong>Remind</strong> process to start at one minute past midnight.  This allows you to have a continuous reminder service so you can work through the night and still get timed reminders for early in the morning.  Note that this trick is no longer necessary, providing you run <strong>Remind</strong> in daemon mode.</p>
<pre>
	remind -c12 /dev/null Jan 1993
</pre>
<p>This invocation of <strong>Remind</strong> will cause it to print a calendar for 1993, with all entries left blank.</p>
<pre>
	REM CAL [trigdate()-date(year(trigdate()), 1, 1)+1]
</pre>
<p>This example puts an entry in each box of a calendar showing the number (1-365 or 366) of the day of the year.</p>
<pre>
	REM Tue 2 Nov SATISFY (year(trigdate())%4) == 0
	IF trigvalid()
		REM [trigdate()] ++5 MSG &#92;
		U.S. Presidential Election!!
	ENDIF
</pre>
<p>This example warns you 5 days ahead of each American presidential election.  The first <strong>REM</strong> command calculates the first Tuesday after the first Monday in November.  (This is equivalent to the first Tuesday on or after 2 November.)  The <strong>SATISFY</strong> clause ensures that the trigger date is issued only in election years, which are multiples of 4.  The second <strong>REM</strong> command actually issues the reminder.</p><p><strong>DETAILS ABOUT TRIGGER COMPUTATION</strong></p><p>Here is a <em>conceptual</em> description of how triggers are calculated. Note that <strong>Remind</strong> actually uses a much more efficient procedure, but the results are the same as if the conceptual procedure had been followed.</p><p><strong>Remind</strong> starts from the current date (that is, the value of <strong>today()</strong>) and scans forward, examining each day one at a time until it finds a date that satisfies the trigger, or can prove that no such dates (on or later than <strong>today()</strong>) exist.</p><p>If <strong>Remind</strong> is executing a <strong>SATISFY</strong>-type reminder, it evaluates the expression with <strong>trigdate()</strong> set to the date found above.  If the expression evaluates to zero or the null string, <strong>Remind</strong> continues the scanning procedure described above, starting with the day after the trigger found above.</p><p>The <strong>SCANFROM</strong> clause (having a syntax similar to <strong>UNTIL</strong>) can modify the search strategy used.  In this case, <strong>Remind</strong> begins the scanning procedure at <em>scan_date</em>, which is the date specified in the <strong>SCANFROM</strong> clause.  For example:</p>
<pre>
	REM Mon 1 SCANFROM 17 Jan 1992 MSG Foo
</pre>
<p>The example above will always have a trigger date of Monday, 3 February 1992. That is because <strong>Remind</strong> starts scanning from 17 January 1992, and stops scanning as soon as it hits a date that satisfies "Mon 1."</p><p>The main use of <strong>SCANFROM</strong> is in situations where you want to calculate the positions of floating holidays.  Consider the Labour Day example shown much earlier.  Labour Day is the first Monday in September.  It can move over a range of 7 days.  Consider the following sequence:</p>
<pre>
	REM Mon 1 Sept SCANFROM [today()-7] SATISFY 1
	OMIT [trigdate()]

	REM Mon AFTER MSG Hello
</pre>
<p>The <strong>SCANFROM</strong> clause makes sure that <strong>Remind</strong> begins scanning from 7 days before the current date.  This ensures that Labour Day for the current year will continue to be triggered until 7 days after it has occurred.  This allows you to safely use the AFTER keyword as shown.</p><p>In general, use <strong>SCANFROM</strong> as shown for safe movable <strong>OMITs</strong>.  The amount you should scan back by (7 days in the example above) depends on the number of possible consecutive <strong>OMITted</strong> days that may occur, and on the range of the movable holiday.  Generally, a value of 7 is safe.</p><p>The <strong>FROM</strong> clause operates almost like the counterpoint to <strong>UNTIL</strong>.  It prevents the reminder from triggering before the <strong>FROM</strong> date.  For example, the following reminder:</p>
<pre>
	REM Mon Thu FROM 23 Jul 2007 UNTIL 2 Aug 2007 MSG Test
</pre>
<p>will trigger on Mondays and Thursdays between 23 July 2007 and 2 August 2007 inclusive.</p><p><strong>FROM</strong> is really just syntactic sugar; you could implement the reminder above as follows:</p>
<pre>
	REM Mon Thu SCANFROM [max(today(), '2007-07-23')] &#92;
            UNTIL 2 Aug 2007 MSG Test
</pre>
<p>but that's a lot harder to read.  Internally, <strong>Remind</strong> treats <strong>FROM</strong> exactly as illustrated using <strong>SCANFROM</strong>.  For that reason, you cannot use both <strong>FROM</strong> and <strong>SCANFROM</strong>.</p><p>Note that if you use one <strong>REM</strong> command to calculate a trigger date, perform date calculations (addition or subtraction, for example) and then use the modified date in a subsequent <strong>REM</strong> command, the results <em>may not be what you intended.</em>  This is because you have circumvented the normal scanning mechanism.  You should try to write <strong>REM</strong> commands that compute trigger dates that can be used unmodified in subsequent <strong>REM</strong> commands.  The file "defs.rem" that comes with the <strong>Remind</strong> distribution contains examples.</p><p><strong>DETAILS ABOUT TRIGVALID()</strong></p><p>The <strong>trigvalid()</strong> function returns 1 if <strong>Remind</strong> could find a trigger date for the previous <strong>REM</strong> or <strong>IFTRIG</strong> command.  More specifically, it returns 1 if <strong>Remind</strong> finds a date <em>not before the starting</em> date of the scanning that satisfies the trigger.  In addition, there is one special case in which <strong>trigvalid()</strong> returns 1 and <strong>trigdate()</strong> returns a meaningful result:</p><p>If the <strong>REM</strong> or <strong>IFTRIG</strong> command did not contain an <strong>UNTIL</strong> clause, and contained all of the <em>day</em>, <em>month</em> and <em>year</em> components, then <strong>Remind</strong> will correctly compute a trigger date, even if it happens to be before the start of scanning. Note that this behaviour is not true for versions of <strong>Remind</strong> prior to 03.00.01.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Remind is now supported by Roaring Penguin Software Inc. (http://www.roaringpenguin.com)</p><p>David F. Skoll &lt;dfs@roaringpenguin.com&gt; wrote <strong>Remind</strong>.  The moon code was copied largely unmodified from "moontool" by John Walker.  The sunrise and sunset functions use ideas from programs by Michael Schwartz and Marc T. Kaufman.  The Hebrew calendar support was taken from "hdate" by Amos Shapir.  OS/2 support was done by Darrel Hankerson, Russ Herman, and Norman Walsh.  The supported foreign languages and their translators are listed below.  Languages marked "complete" support error messages and usage instructions in that language; all others only support the substitution filter mechanism and month/day names.</p><p><strong>German</strong> -- Wolfgang Thronicke</p><p><strong>Dutch</strong> -- Willem Kasdorp and Erik-Jan Vens</p><p><strong>Finnish</strong> -- Mikko Silvonen (complete)</p><p><strong>French</strong> -- Laurent Duperval (complete)</p><p><strong>Norwegian</strong> -- Trygve Randen</p><p><strong>Danish</strong> -- Mogens Lynnerup</p><p><strong>Polish</strong> -- Jerzy Sobczyk (complete)</p><p><strong>Brazilian Portuguese</strong> -- Marco Paganini (complete)</p><p><strong>Italian</strong> -- Valerio Aimale</p><p><strong>Romanian</strong> -- Liviu Daia</p><p><strong>Spanish</strong> -- Rafa Couto</p><p><strong>Icelandic</strong> -- Bj\(:orn Dav\('i\[Sd]sson</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There's no good reason why read-only system variables are not implemented as functions, or why functions like <strong>version()</strong>, etc. are not implemented as read-only system variables.</p><p>Hebrew dates in <strong>Remind</strong> change at midnight instead of sunset.</p><p>Language should be selectable at run-time, not compile-time.  Don't expect this to happen soon!</p><p><strong>Remind</strong> has some built-in limits (for example, number of global <strong>OMIT</strong>s.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BIBLIOGRAPHY</h2>
        <div class="sectioncontent">
<p>Nachum Dershowitz and Edward M. Reingold, "Calendrical Calculations", <em>Software-Practice and Experience</em>, Vol. 20(9), Sept. 1990, pp 899-928.</p><p>L. E. Doggett, <em>Almanac for computers for the year 1978</em>, Nautical Almanac Office, USNO.</p><p>Richard Siegel and Michael and Sharon Strassfeld, <em>The First Jewish</em> Catalog, Jewish Publication Society of America.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO remind&hellip;</h2>
        <div class="sectioncontent">
<p>rem, rem2ps, tkremind</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="remake.1.html"><span aria-hidden="true">&larr;</span> remake.1: Gnu make utility with enhanced debugger</a></li>
   <li class="next"><a href="remmina.1.html">remmina.1: Remote desktop client for gnome desktop environment <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
