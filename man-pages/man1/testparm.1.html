<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>testparm: Check an smb.conf configuration file for internal correctness</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Check an smb.conf configuration file for internal correctness">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="testparm (1) manual">
  <meta name="twitter:description" content="Check an smb.conf configuration file for internal correctness">
  <meta name="twitter:image" content="https://www.carta.tech/images/samba-common-bin-testparm-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/testparm.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="testparm (1) manual" />
  <meta property="og:description" content="Check an smb.conf configuration file for internal correctness" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/samba-common-bin-testparm-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">testparm<small> (1)</small></h1>
        <p class="lead">Check an smb.conf configuration file for internal correctness</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/testparm.1.html">
      <span itemprop="name">testparm: Check an smb.conf configuration file for internal correctness</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/samba-common-bin/">
      <span itemprop="name">samba-common-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/testparm.1.html">
      <span itemprop="name">testparm: Check an smb.conf configuration file for internal correctness</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>testparm [-s|--suppress-prompt] [--help] [-v|--verbose] {config&nbsp;filename} [hostname&nbsp;hostIP]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This tool is part of the <a href="../man7/samba.7.html"><strong>samba</strong>(7)</a> suite.</p><p>testparm is a very simple test program to check an <a href="../man8/smbd.8.html"><strong>smbd</strong>(8)</a> configuration file for internal correctness. If this program reports no problems, you can use the configuration file with confidence that smbd will successfully load the configuration file.</p><p>Note that this is <em>NOT</em> a guarantee that the services specified in the configuration file will be available or will operate as expected.</p><p>If the optional host name and host IP address are specified on the command line, this test program will run through the service entries reporting whether the specified host has access to each service.</p><p>If testparm finds an error in the smb.conf file it returns an exit code of 1 to the calling program, else it returns an exit code of 0. This allows shell scripts to test the output from testparm.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>-s|--suppress-prompt</p><p>Without this option, testparm will prompt for a carriage return after printing the service names and before dumping the service definitions.</p><p>-V|--version</p><p>Prints the program version number.</p><p>--option=&lt;name&gt;=&lt;value&gt;</p><p>Set the <a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a> option "&lt;name&gt;" to value "&lt;value&gt;" from the command line. This overrides compiled-in defaults and options read from the configuration file.</p><p>-?|--help</p><p>Print a summary of command line options.</p><p>--usage</p><p>Display brief usage message.</p><p>-d|--debuglevel=level</p><p><em>level</em> is an integer from 0 to 10. The default value if this parameter is not specified is 1.</p><p>The higher this value, the more detail will be logged to the log files about the activities of the server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reasonable level for day-to-day running - it generates a small amount of information about operations carried out.</p><p>Levels above 1 will generate considerable amounts of log data, and should only be used when investigating a problem. Levels above 3 are designed for use only by developers and generate HUGE amounts of log data, most of which is extremely cryptic.</p><p>Note that specifying this parameter here will override the \m[blue]<strong>log level</strong>\m[] parameter in the smb.conf file.</p><p>-v|--verbose</p><p>If this option is specified, testparm will also output all options that were not used in <a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a> and are thus set to their defaults.</p><p>--parameter-name parametername</p><p>Dumps the named parameter. If no section-name is set the view is limited by default to the global section. It is also possible to dump a parametrical option. Therefore the option has to be separated by a colon from the parametername.</p><p>--section-name sectionname</p><p>Dumps the named section.</p><p>--show-all-parameters</p><p>Show the parameters, type, possible values.</p><p>-l|--skip-logic-checks</p><p>Skip the global checks.</p><p>configfilename</p><p>This is the name of the configuration file to check. If this parameter is not present then the default <a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a> file will be checked.</p><p>hostname</p><p>If this parameter and the following are specified, then testparm will examine the <em>hosts allow</em> and <em>hosts deny</em> parameters in the <a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a> file to determine if the hostname with this IP address would be allowed access to the smbd server. If this parameter is supplied, the hostIP parameter must also be supplied.</p><p>hostIP</p><p>This is the IP address of the host specified in the previous parameter. This address must be supplied if the hostname parameter is supplied.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a></p><p>This is usually the name of the configuration file used by <a href="../man8/smbd.8.html"><strong>smbd</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>The program will issue a message saying whether the configuration file loaded OK or not. This message may be preceded by errors and warnings if the file did not load. If the file was loaded OK, the program then dumps all known service details to stdout.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>This man page is correct for version 3 of the Samba suite.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO testparm&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/smb.conf.5.html"><strong>smb.conf</strong>(5)</a>, <a href="../man8/smbd.8.html"><strong>smbd</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.</p><p>The original Samba man pages were written by Karl Auer. The man page sources were converted to YODL format (another excellent piece of Open Source software, available at ftp://ftp.icce.rug.nl/pub/unix/) and updated for the Samba 2.0 release by Jeremy Allison. The conversion to DocBook for Samba 2.2 was done by Gerald Carter. The conversion to DocBook XML 4.2 for Samba 3.0 was done by Alexander Bokovoy.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="testmxlookup.1.html"><span aria-hidden="true">&larr;</span> testmxlookup.1: Look up mail relays for a domain</a></li>
   <li class="next"><a href="testrb2.1.1.html">testrb2.1.1: Automatic runnter for test::unit of ruby <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
