<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vcheck: Latest program version checker and auto-downloader</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Latest program version checker and auto-downloader">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vcheck (1p) manual">
  <meta name="twitter:description" content="Latest program version checker and auto-downloader">
  <meta name="twitter:image" content="https://www.carta.tech/images/vcheck-vcheck-1p.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1p/vcheck.1p.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vcheck (1p) manual" />
  <meta property="og:description" content="Latest program version checker and auto-downloader" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/vcheck-vcheck-1p.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vcheck<small> (1p)</small></h1>
        <p class="lead">Latest program version checker and auto-downloader</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/vcheck.1p.html">
      <span itemprop="name">vcheck: Latest program version checker and auto-downloader</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/vcheck/">
      <span itemprop="name">vcheck</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/vcheck.1p.html">
      <span itemprop="name">vcheck: Latest program version checker and auto-downloader</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  vcheck [options]
</pre>
<p><strong>vcheck</strong> is a tool for checking for latest versions of programs at \s-1HTTP\s0 and \s-1FTP\s0 locations given a list of URLs and (Perl-style) regular expressions to match, and to optionally download them automatically.</p><p>For a complete list of command line options, run</p><p>  $ vcheck --help</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>vcheck</strong>'s behavior can be influenced by both command line options and a configuration file, which at the same time serves as its data file, holding records of programs to check for.  This config file is, by default (see \*(L"\s-1FILES\s0\*(R"), <em>~/.vcheck</em>.  It is structured according to a syntax which is printed in detail when run as</p><p>  $ vcheck --grammar</p><p>Details about both the grammar in general and the meaning of involved keyword can be found in \*(L"\s-1GRAMMAR\s0\*(R".  An example of what a config file looks like in principle can be found in \*(L"\s-1EXAMPLES\s0\*(R".</p><p>The basic purpose of <strong>vcheck</strong> is to check for new versions of programs listed in its config file.  The script is able to cope with all kinds of common version numbers, including words like \*(L"pre\*(R" or \*(L"alpha\*(R", etc. When a new version was found, the config file is updated accordingly.</p><p>Furthermore, <strong>vcheck</strong> can be used to download files automatically if a new version is/was found, and even delete obsolete versions found locally automatically.  A special field in each program's record in the config file tells it which version has last been downloaded.  Where necessary or desired, the download can be disabled for specific programs, or disabled in general and allowed in special cases.  Besides, you can specify preferences (both in general and on a per-program basis) as to what kind of files to download if new versions are available, say, in different formats.</p><p><strong>vcheck</strong> also has features to limit the scope of programs to check or download to a subset, such as defined by:</p><ul>
<li><p>a regular expression names have to match</p></li><li><p>a minimal urgency (which can be defined on a per-program basis, as levels of <strong>high</strong>, <strong>medium</strong>, and <strong>low</strong>)</p></li><li><p>those programs which haven't yet been downloaded since a new latest version was found</p></li><li><p>those programs which previous queries failed for (optionally, a certain minimum number of times)</p></li><li><p>a conjunctive combination of several of these conditions</p></li>
</ul><p>In case you're behind a firewall, an \s-1HTTP\s0(-based) proxy can be defined in a number of ways (precendence in this order):</p><ul>
<li><p>a specific \s-1HTTP\s0 or \s-1FTP\s0 proxy, respectively, defined in the config file</p></li><li><p>a common \s-1HTTP+FTP\s0 proxy defined in the config file</p></li><li><p>a specific \s-1HTTP\s0 or \s-1FTP\s0 proxy, defined via the environment variables $http_proxy/$HTTP_PROXY and $ftp_proxy/$FTP_PROXY, respectively (each in this order of precendence)</p></li>
</ul><p><strong>vcheck</strong> uses \s-1ANSI\s0 escape sequences to visually enhance its output. Success messages are usually printed in green, error messages are yellow or red (signalling severity).  This feature can be disabled temporarily by using the corresponding command line switch, or permanently, via a setting in the configuration file (see \*(L"\s-1CONFIGURATION\s0 \s-1SECION\s0\*(R").</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GRAMMAR</h2>
        <div class="sectioncontent">
<p>When run as</p><p>  vcheck --grammar</p><p><strong>vcheck</strong> will print its config file's grammar, i.e., the formal structure of the entries therein.  The individual fields' names are printed along with short descriptions; details on their meaning and usage can be found below in this section.</p><p>Per default (i.e., if the script's name has not been changed (see \*(L"\s-1FILES\s0\*(R") and if not overridden via \*(C`--file\*(C'), <strong>vcheck</strong> reads its configuration from <em>~/.vcheck</em>.  This file will also be rewritten regularly whenever version information etc. about a program is updated.  In the course of such rewrites, entries will be sorted in a definable fashion, and a hard-coded order of keywords and indentation scheme will be applied.</p><p>Basically, the config file may contain two types of records: a configuration section and any number of program sections.  A record (or section\*(--these terms are used synonymously in this documentation) consists of a keyword marking its beginning and a name (this only goes for program sections), followed by an equal sign (`=') and a pair of curly braces (\*(L"{}\*(R"), between which the section's data is put.</p><p>Section data is a sequence of settings, or fields, of a number of types, some of which are obligatory while others are optional, separated by white space (typically, line feeds, to keep things readable).  There are the following types of fields:</p>
<dl class='dl-vertical'>
  <dt>
    Boolean
  </dt>
  <dd>
    <p>Keywords of this type set a property based on their mere presence.  An example of this is the <strong>config</strong> section field <strong>dldefaultno</strong>:   config = {     dldefaultno   }</p>
  </dd>
  <dt>
    string
  </dt>
  <dd>
    <p>String fields consist of a keyword followed by an equal sign (`=') and a string representing the field's value.  If the string value contains white space or (double) quotation marks, it needs to be surrounded by (double) quotation marks (`"').  In this case, both quotation marks inside the string and backslashes need to be escaped by backslashes (`&#92;').  Note that string values may not span several lines but have to be contained on a single one, and there may be validation rules as to what the value may be like.  Besides, string fields are typically required to be of non-zero length. An example of this type of field is the <strong>prog</strong> section field <strong>comment</strong>:   prog foo = {     [...]     comment = Hello!     comment = "Comment with white space and &#92;"quotes&#92;"!"     [...]   }</p>
  </dd>
  <dt>
    string enumeration
  </dt>
  <dd>
    <p>String enumerations are basically string fields with but a limited set of allowed values.  An example of this is the <strong>prog</strong> section field <strong>dl</strong>, whose value must be either \*(L"yes\*(R" or \*(L"no\*(R", if present:   prog foo = {     [...]     dl = yes     [...]   }</p>
  </dd>

</dl>
<h3>\s-1CONFIGURATION\s0 \s-1SECTION\s0</h3>
<p>The configuration section is optional and, if present, contains settings globally affecting <strong>vcheck</strong>'s default behavior.  The configuration section is unique per file (although multiple occurrences with non-conflicting settings are allowed, but these will be joined into a single section once the file is rewritten).</p><p>The keyword introducing a configuration section is <strong>config</strong>.  Thus, a <strong>config</strong> section's principal layout looks like this:</p><p>  config = {     [...]   }</p><p>The keywords allowed inside (\*(L"[...]\*(R") the <strong>config</strong> section are explained in detail below (listed in alphabetical order):</p>
<dl class='dl-vertical'>
  <dt>
    <strong>defaulturgency</strong> (enumeration: <em>high</em>, <em>medium</em>, <em>low</em>)
  </dt>
  <dd>
    <p>Specifies the checking urgency level to assume, unless specified otherwise in a program's record via <strong>prog.urgency</strong>.  Urgencies allow for a crude selection of programs to check for via the \*(C`--urgency\*(C' command line parameter.  In absence of this option, the default urgency is <em>medium</em>.</p>
  </dd>
  <dt>
    <strong>deleteold</strong> (Boolean)
  </dt>
  <dd>
    <p>If included in the <strong>config</strong> section, causes the script to automatically look for and delete versions of a program obsoleted by a new download.  May be overridden by <strong>prog.deleteold</strong>.  <em>See the latter for details.</em> Special note: <strong></strong><strong>Use at your own risk!</strong><strong></strong></p>
  </dd>
  <dt>
    <strong>dldefaultno</strong> (Boolean)
  </dt>
  <dd>
    <p>By default, don't download.  This causes the script to download only those programs whose <strong>dl</strong> option is explicitly set to <em>yes</em> when run with the \*(C`--download\*(C' parameter.</p>
  </dd>
  <dt>
    <strong>dldir</strong> (string: absolute directory path)
  </dt>
  <dd>
    <p>This option specifies an <em>absolute</em> path (i.e., relative to the root directory) of a directory where to put downloaded files.  If the download directory isn't set via this or even more explicitly via a <strong>prog.dldir</strong> option, downloads will end up in that directory in  which the script is executing.</p>
  </dd>
  <dt>
    <strong>dlexec</strong> (string)
  </dt>
  <dd>
    <p>Specifies a command to be executed after any successful download (unless overridden for a particular program via <strong>prog.dlexec</strong>).  A successful download in this context is one whose file type has been recognized and whose integrity could be confirmed.  In unizoid environments, the command is executed under whatever shell the environment variable $SHELL defines. The command string is subject to expansion of the following placeholders (see \*(L"\s-1PLACEHOLDERS\s0\*(R" for their meaning): \*(C`_\|_DLURL_\|_\*(C', \*(C`_\|_FILE_\|_\*(C', \*(C`_\|_NEWVER_\|_\*(C', \*(C`_\|_PROG_\|_\*(C', \*(C`_\|_RAWVER_\|_\*(C', \*(C`_\|_URL_\|_\*(C'.  Additionally, `~/' will be replaced by the user's home directory. <strong>config.dlexec</strong> may prove useful to, e.g., automatically convert, say, gzipped to bzipped files using a helper script, or to log downloads (see \*(L"\s-1HINTS\s0\*(R").</p>
  </dd>
  <dt>
    <strong>dlprefs</strong> (string)
  </dt>
  <dd>
    <p>A semicolon- (`;'-) separated list of Perl-style regular expressions defining download preferences.  Each of the regular expressions is supposed to match a particular file type that's possible or likely to be encountered. The order in which the expressions occur defines their precedence (the first matching expression will determine which of a set of available file types of a given program version will be selected for download).  This value is the default in effect unless specific preferences are defined on a per-program basis using <strong>prog.dlprefs</strong>.  If neither <strong>config.dlprefs</strong> nor <strong>prog.dlprefs</strong> is set, the file to be downloaded is chosen pseudo-randomly, if multiple pattern matches occur. For these download preferences to make any sense, file- and version-matching expressions need to be sufficiently non-restrictive to match several possible extensions.  For example, "foo-(\*(C`_\|_VER_\|_\*(C')&#92;&#92;.t\*(L" will match both \*(R".tar.gz\*(L" and \*(R".tar.bz2" files, and setting <strong>dlprefs</strong> to \*(L"&#92;&#92;.tar&#92;&#92;.bz2$;&#92;&#92;.tar&#92;&#92;.gz$\*(R" will cause the script to preferrably download \*(L".tar.bz2\*(R" files.</p>
  </dd>
  <dt>
    <strong>dlretry</strong> (string: non-negative integer number)
  </dt>
  <dd>
    <p>The number of times to retry downloading after a failed download.  If this option isn't specified, the number of retries defaults to 0.  A retry is considered to have failed if either the connection failed, the retrieved document was empty, or the file type has been recognized and its integrity verified.</p>
  </dd>
  <dt>
    <strong>eagerquote</strong> (Boolean)
  </dt>
  <dd>
    <p>If this option is set, all string parameters of configuration file options will be surrounded by double quotes.  The default is to use quotes only where necessary (e.g., for string parameters containing white space).</p>
  </dd>
  <dt>
    <strong>echoexec</strong> (Boolean)
  </dt>
  <dd>
    <p>If this option is set, commands executed thanks to <strong>newverexec</strong> or <strong>dlexec</strong> options will be echoed prior to execution. This option specifies a proxy to use for retrieving documents from \s-1FTP\s0 locations.  It specifies either the complete \s-1URL\s0 or the server and port (as \*(L"server:port\*(R") of the proxy, and the proxy has to be a HTTP-based \s-1FTP\s0 proxy.  This option takes precedence over <strong>config.proxy</strong>, if specified. If neither <strong>config.ftpproxy</strong> nor <strong>config.proxy</strong> is set, the script uses the value the environment variables $ftp_proxy or $FTP_PROXY (in this order of precedence) are set to, or no \s-1FTP\s0 proxy at all. This option specifies a proxy to use for retrieving documents from \s-1HTTP\s0 locations.  It specifies either the complete \s-1URL\s0 or the server and port (as \*(L"server:port\*(R") of the proxy.  This option takes precedence over <strong>config.proxy</strong>, if specified.  If neither <strong>config.httpproxy</strong> nor <strong>config.proxy</strong> is set, the script uses the value the environment variables $http_proxy or $HTTP_PROXY (in this order of precedence) are set to, or no \s-1HTTP\s0 proxy at all. The date and time the script was last run updating the configuration file. This value is generated and updated automatically.</p>
  </dd>
  <dt>
    <strong>newverexec</strong> (string)
  </dt>
  <dd>
    <p>A command to be executed whenever a new version of a program is found, unless overridden on a per-program basis via <strong>prog.newverexec</strong>. The command is executed under whatever shell the environment variable $SHELL defines. The command string is subject to expansion of the following placeholders (see \*(L"\s-1PLACEHOLDERS\s0\*(R" for their meaning): \*(C`_\|_NEWVER_\|_\*(C', \*(C`_\|_PROG_\|_\*(C', \*(C`_\|_RAWVER_\|_\*(C', \*(C`_\|_URL_\|_\*(C'.  Additionally, `~/' will be replaced by the user's home directory.</p>
  </dd>
  <dt>
    <strong>nocache</strong> (Boolean)
  </dt>
  <dd>
    <p>This option conserves some memory by not caching retrieved documents (those fetched from <strong>prog.url</strong> locations).  By default, the script caches retrieved document so that program records referring to the same web page won't result in (unnecessary) multiple retrievals during the same session.</p>
  </dd>
  <dt>
    <strong>plain</strong> (Boolean)
  </dt>
  <dd>
    <p>This option causes the script to generate plain (as opposed to ANSI-enhanced) output by default.  The option may be overridden by specifying \*(C`--noplain\*(C' on the command line. This option specifies a proxy to use for retrieving documents from both \s-1HTTP\s0 and \s-1FTP\s0 locations.  It specifies either the complete \s-1URL\s0 or the server and port (as \*(L"server:port\*(R") of the proxy.  The proxy set via this option may be overridden via <strong>config.ftpproxy</strong> and/or <strong>config.httpproxy</strong>.</p>
  </dd>
  <dt>
    <strong>sortby</strong> (enumeration: <em>name</em>, <em>url</em>)
  </dt>
  <dd>
    <p>This option specifies whether to sort <strong>prog</strong> entries by program name (<strong>prog</strong> section identifier) or \s-1URL\s0 when rewriting the configuration file.  The default is to sort by name.</p>
  </dd>
  <dt>
    <strong>xfersum</strong> (Boolean)
  </dt>
  <dd>
    <p>Corresponds to the command line option \*(C`--xfersum\*(C'.  If set, the script will print a total of the amount of data that has been received at exit.  Can be overridden via the command line switch \*(C`--noxfersum\*(C'.</p>
  </dd>
  <dt>
    <strong>timeout</strong> (string: non-negative integer number)
  </dt>
  <dd>
    <p>The time (in seconds) after which attempted remote retrievals should be aborted.  The default is 90 seconds.</p>
  </dd>
  <dt>
    <strong>verbose</strong> (Boolean)
  </dt>
  <dd>
    <p>If this option is set, the script will also print version numbers that haven't been obsoleted.  The default is to print only new versions (and error messages).  This setting can be overridden via the command line switch \*(C`--noverbose\*(C'.</p>
  </dd>

</dl>

<h3>\s-1PROGRAM\s0 \s-1SECTIONS\s0</h3>
<p>Program sections each define for a single program (package, ...) an \s-1HTTP\s0 or \s-1FTP\s0 \s-1URL\s0 based on which the latest version of that program available can be determined by <strong>vcheck</strong> using an additionally-defined regular expression. There can (hypothetically) be any number of program sections in a config file.</p><p>The keyword introducing a program section is <strong>prog</strong>.  Each <strong>prog</strong> section is identified by a unique identifier (there may not be multiple <strong>prog</strong> sections with the same identifier).  Thus, a <strong>config</strong> section's principal layout looks like this:</p><p>  prog Foo = {     [...]   }</p><p>The keywords allowed inside (\*(L"[...]\*(R") a <strong>prog</strong> section are explained in detail below (listing in alphabetical order).  All fields are optional and allowed but once per <strong>prog</strong> section, unless explicitly stated otherwise.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>comment</strong> (string; multiple allowed)
  </dt>
  <dd>
    <p>An arbitrary comment string.  If multiple such entries exist for a single program record, their relative order will be maintained when rewriting the configuration file.</p>
  </dd>
  <dt>
    <strong>deleteold</strong> (enumeration: <em>yes</em>, <em>no</em>)
  </dt>
  <dd>
    <p>This option defines whether the script should look for and delete any obsolete versions of a program located in its download directory after each 'Usuccessful' download of a new version of that program.  A successful download in this context is any download of a file of a known type whose integrity could be verified.  Overrides <strong>config.deleteold</strong>; the deletion of obsolete versions is disabled by default and only activated by <strong>config.deleteold</strong> or <strong>prog.deleteold</strong>. Any occurrence of <strong>prog.dlexplicit</strong> or <strong>prog.dlintermediate</strong> in a program's record inhibits application of <strong>deleteold</strong> for that program. Special note: <strong></strong><strong>Use at your own risk!</strong><strong></strong></p>
  </dd>
  <dt>
    <strong>disabled</strong> (Boolean)
  </dt>
  <dd>
    <p>This option causes the program record in question to be ignored (except when the command line switch \*(C`--force\*(C' is used).</p>
  </dd>
  <dt>
    <strong>dl</strong> (enumeration: <em>yes</em>, <em>no</em>)
  </dt>
  <dd>
    <p>This option specifies whether to download the program in question when the script is run with the \*(C`--download\*(C' option.  By default, a program will be downloaded when a new version is found and the script is run with said parameter, unless <strong>config.dldefaultno</strong> is set.  <strong>prog.dl</strong> overrides the latter option.</p>
  </dd>
  <dt>
    <strong>dldir</strong> (string)
  </dt>
  <dd>
    <p>This option specifies a download directory on a per-program basis.  If the directory is absolute (i.e., relative to the root directory, as indicated by a leading slash), it will be treated as an absolute path, otherwise it will be considered relative to either <strong>config.dldir</strong>, if specified, or the directory the script is executing in. The dldir string is subject to expansion of the following placeholders (see \*(L"\s-1PLACEHOLDERS\s0\*(R" for their meaning): \*(C`_\|_NEWVER_\|_\*(C'.</p>
  </dd>
  <dt>
    <strong>dldirlast</strong> (string)
  </dt>
  <dd>
    <p>This option specifies the download directory of the last downloaded version of a program. It does not contains \*(L"\s-1PLACEHOLDERS\s0\*(R" unlike \*(C`prog.dldir\*(C'. If the directory is absolute (i.e., relative to the root directory, as indicated by a leading slash), it will be treated as an absolute path, otherwise it will be considered relative to either <strong>config.dldir</strong>, if specified, or the directory the script is executing in. This option is only used to store \*(L"\s-1PLACEHOLDER\s0\*(R" free dldir, it is overwriten at each new download.</p>
  </dd>
  <dt>
    <strong>dlexec</strong> (string, may be zero-length)
  </dt>
  <dd>
    <p>Specifies a command to be executed after any successful download of the program, overriding <strong>config.dlexec</strong> (if set).  A successful download in this context is one whose file type has been recognized and whose integrity could be confirmed.  The command is executed under whatever shell the environment variable $SHELL is set to. The command string is subject to expansion of the following placeholders (see \*(L"\s-1PLACEHOLDERS\s0\*(R" for their meaning): \*(C`_\|_DLURL_\|_\*(C', \*(C`_\|_FILE_\|_\*(C', \*(C`_\|_NEWVER_\|_\*(C', \*(C`_\|_PROG_\|_\*(C', \*(C`_\|_RAWVER_\|_\*(C', \*(C`_\|_URL_\|_\*(C'.  Additionally, `~/' will be replaced by the user's home directory.</p>
  </dd>
  <dt>
    <strong>dlexplicit</strong> (string: \s-1HTTP\s0 or \s-1FTP\s0 \s-1URL\s0; multiple allowed)
  </dt>
  <dd>
    <p>Specifies an explicit download \s-1URL\s0.  Whenever a new version of the program in question is found, the \s-1URL\s0 specified via this option will be downloaded (if requested) instead of the one deduced from <strong>prog.url</strong> and <strong>prog.regex</strong>. The command string is subject to expansion of the following placeholders (see \*(L"\s-1PLACEHOLDERS\s0\*(R" for their meaning): \*(C`_\|_NEWVER_\|_\*(C', \*(C`_\|_RAWVER_\|_\*(C'. This option can also be used to, e.g., download multiple packages on detection of a new version, provided that their names can be specified. For an example of this, see \*(L"\s-1EXAMPLES\s0\*(R".</p>
  </dd>
  <dt>
    <strong>dlintermediate</strong> (Boolean)
  </dt>
  <dd>
    <p>If this option is set, intermediate versions (i.e., version referenced at <strong>url</strong> newer than <strong>dlversion</strong> but older than the most recent version available) will be downloaded as well if any are encountered when a new version of the program is found.  This option is useful for downloading patches and suchlike, which depend on each other consecutively.  The default is to ignore intermediate versions.</p>
  </dd>
  <dt>
    <strong>dlprefs</strong> (string)
  </dt>
  <dd>
    <p>A semicolon- (`;'-) separated list of Perl-style regular expressions defining download preferences.  Each of the regular expressions is supposed to match a particular file type that's possible or likely to be encountered. The order in which the expressions occur defines their precedence (the first matching expression will determine which of a set of available file types of a given program version will be selected for download).  This value overrides default preferences possibly defined via <strong>config.dlprefs</strong>.  If neither <strong>config.dlprefs</strong> nor <strong>prog.dlprefs</strong> is set, the file to be downloaded is chosen pseudo-randomly, if multiple pattern matches occur. For these download preferences to make any sense, file- and version-matching expressions need to be sufficiently non-restrictive to match several possible extensions.  For example, "foo-(\*(C`_\|_VER_\|_\*(C')&#92;&#92;.t\*(L" will match both \*(R".tar.gz\*(L" and \*(R".tar.bz2\*(L" files, and setting `dlprefs' to \*(R"&#92;&#92;.tar&#92;&#92;.bz2$;&#92;&#92;.tar&#92;&#92;.gz$\*(L" will cause the script to preferrably download \*(R".tar.bz2" files.</p>
  </dd>
  <dt>
    <strong>dlreferrer</strong> (string, may be zero-length)
  </dt>
  <dd>
    <p>Specifies an \s-1HTTP\s0 referrer to use when downloading a program package.  By default, the version-determining document (i.e., the last <strong>url</strong> value, with placeholders expanded) is used.</p>
  </dd>
  <dt>
    <strong>dlversion</strong> (string)
  </dt>
  <dd>
    <p>This parameter stores the last downloaded version of the program in question and is updated whenever a new version is found (except when running in read-only mode).  If <strong>prog.transform</strong> is set, the stored version will have been transformed from the one matched by <strong>prog.regex</strong>.</p>
  </dd>
  <dt>
    <strong>errors</strong> (string: non-negative integer number)
  </dt>
  <dd>
    <p>This field stores the number of errors during version checks and is reset once a check succeeds.  A high value of this field is indicative of an outdated \s-1URL\s0 or file name matching regular expression and will be remarked upon by the script.  Additionally, it is possible to limit the scope of an operation to erroneous records via the \*(C`--errors\*(C' command line parameter. This field stores the date and time the program in question was last checked (no matter whether successfully or unsuccessfully).</p>
  </dd>
  <dt>
    <strong>newverexec</strong> (string, may be zero-length)
  </dt>
  <dd>
    <p>A command to be executed whenever a new version of a program is found, overriding a possible definition via <strong>config.newverexec</strong>.  The command is executed under whatever shell the environment variable $SHELL defines. The command string is subject to expansion of the following placeholders (see \*(L"\s-1PLACEHOLDERS\s0\*(R" for their meaning): \*(C`_\|_NEWVER_\|_\*(C', \*(C`_\|_PROG_\|_\*(C', \*(C`_\|_RAWVER_\|_\*(C', \*(C`_\|_URL_\|_\*(C'.  Additionally, `~/' will be replaced by the user's home directory.</p>
  </dd>
  <dt>
    <strong>regex</strong> (string; <em>required</em>; multiple allowed)
  </dt>
  <dd>
    <p>This <em>required</em> field is supposed to contain a Perl-style regular expression matching desired versions of the program in question given the document at <strong>prog.url</strong> as input.  Note that the regexp needn't match the complete file name\*(--when considering a download, the script will auto-expand the match as seen fit. Regular expressions for matching programs' version numbers have to be written in such a way that the $1 part (see the \*(L"perlre\*(R" man page), if the entire expression matches, is exactly the version number.  The option is subject to placeholder expansion: \*(C`_\|_VER_\|_\*(C' will be replaced by a pre-manufactured (non-greedy) regular expression matching version numbers compliant with any of a number of common schemes.  Note that in order to yield a $1 match as required, \*(C`_\|_VER_\|_\*(C' still needs to be put in parentheses.  For examples of <strong>prog.regex</strong> values, see \*(L"\s-1EXAMPLES\s0\*(R". In order to cope with particularly complex remote scenarios (such as version-dependent directory hierarchies), multiple <strong>url</strong>, <strong>regex</strong>, and <strong>transform</strong> fields may be specified per program.  In this case, the script will match <strong>url</strong>s and <strong>regex</strong>es starting with the first and continuously proceeding to the next field of each type (in sync, as long as both of them are available, or using the last one available otherwise) and match the regexp against the corresponding document.  In order for this to be of any use, the second (and each potential later) <strong>url</strong> will have to contain a \*(C`_\|_NEWVER_\|_\*(C' or \*(C`_\|_RAWVER_\|_\*(C' placeholder (see \*(L"\s-1PLACEHOLDERS\s0\*(R") which will be replaced by the previously matched latest [transformed] version (the same substitution is done for <strong>regex</strong>).  The version that will finally be considered the latest for the program in question will be the one determined by matching the last <strong>regex</strong> against the last <strong>url</strong>s document.  For an example of how this can be used in practice, see \*(L"\s-1EXAMPLES\s0\*(R". Possible multiple <strong>transform</strong> fields will be processed in sync with the respective <strong>url</strong> and <strong>regex</strong> fields as long as additional <strong>transform</strong> fields are specified.  If there are more <strong>url</strong> and/or <strong>regex</strong> fields than <strong>transform</strong> fields, the last-specified <strong>transform</strong> expression will be used for further iterations.  If, on the other hand, there are more <strong>transform</strong> than <strong>url</strong>/<strong>regex</strong> fields, further retrievals/matches will be done based on the last <strong>url</strong>/<strong>regex</strong>.  The author has, however, no idea how this could be of any use. When the config file is rewritten, multiple <strong>url</strong>, <strong>regex</strong>, and/or <strong>transform</strong> fields will be interleaved to facilitate comprehension and retain their relative order.</p>
  </dd>
  <dt>
    <strong>tranform</strong> (string; multiple allowed)
  </dt>
  <dd>
    <p>A Perl expression transforming a version number in $_ (obtained by a <strong>prog.regex</strong> match) in some way the user deems adequate.  For examples of how this might come in handy, see \*(L"\s-1EXAMPLES\s0\*(R".  The return value of the code fragment, i.e., the value of its last expression, is used as the transformed version and will henceforth be the basis for version comparison for the program in question.</p>
  </dd>
  <dt>
    <strong>urgency</strong> (enumeration: <em>high</em>, <em>medium</em>, <em>low</em>)
  </dt>
  <dd>
    <p>Defines the urgency with which to check for the specified program.  Urgencies allow for a crude selection of programs to check for via the \*(C`--urgency\*(C' command line parameter.  If there is no urgency defined, it defaults to either <strong>config.defaulturgency</strong> (if set) or <em>medium</em>.</p>
  </dd>
  <dt>
    <strong>url</strong> (string: \s-1HTTP\s0 or \s-1FTP\s0 \s-1URL\s0; <em>required</em>; multiple allowed)
  </dt>
  <dd>
    <p>This <em>required</em> field defines the \s-1HTTP\s0 or \s-1FTP\s0 \s-1URL\s0 to retrieve as the document to scan for in order to detect the availability of new program versions by matching against <strong>prog.regex</strong>.  Note that if the \s-1URL\s0 is a directory (especially, an \s-1FTP\s0 directory which is supposed to be listed), the \s-1URL\s0 <em>needs</em> to end in a slash (`/').  If the target document is an \s-1HTML\s0 page, its source code will be matched against <strong>prog.regex</strong>, aiming at links embedded in the document.  An alternate download \s-1URL\s0 can be specified via <strong>prog.dlexplicit</strong>. In order to cope with particularly complex remote scenarios (such as version-dependent directory hierarchies), multiple <strong>url</strong>, <strong>regex</strong>, and <strong>transform</strong> fields may be specified per program.  In this case, the script will match <strong>url</strong>s and <strong>regex</strong>es starting with the first and continuously proceeding to the next field of each type (in sync, as long as both of them are available, or using the last one available otherwise) and match the regexp against the corresponding document.  In order for this to be of any use, the second (and each potential later) <strong>url</strong> will have to contain a \*(C`_\|_NEWVER_\|_\*(C' or \*(C`_\|_RAWVER_\|_\*(C' placeholder (see \*(L"\s-1PLACEHOLDERS\s0\*(R") which will be replaced by the previously matched latest [transformed] version (the same substitution is done for <strong>regex</strong>).  The version that will finally be considered the latest for the program in question will be the one determined by matching the last <strong>regex</strong> against the last <strong>url</strong>s document.  For an example of how this can be used in practice, see \*(L"\s-1EXAMPLES\s0\*(R". Possible multiple <strong>transform</strong> fields will be processed in sync with the respective <strong>url</strong> and <strong>regex</strong> fields as long as additional <strong>transform</strong> fields are specified.  If there are more <strong>url</strong> and/or <strong>regex</strong> fields than <strong>transform</strong> fields, the last-specified <strong>transform</strong> expression will be used for further iterations.  If, on the other hand, there are more <strong>transform</strong> than <strong>url</strong>/<strong>regex</strong> fields, further retrievals/matches will be done based on the last <strong>url</strong>/<strong>regex</strong>.  The author has, however, no idea how this could be of any use. When the config file is rewritten, multiple <strong>url</strong>, <strong>regex</strong>, and/or <strong>transform</strong> fields will be interleaved and retain their relative order.</p>
  </dd>
  <dt>
    <strong>version</strong> (string)
  </dt>
  <dd>
    <p>Stores the latest known version of the program.  In contrast to <strong>prog.dlversion</strong>, this is the latest version detected, not the latest version downloaded.  If a <strong>prog.transform</strong> option is set, the stored version will have been transformed from the one matched by <strong>prog.regex</strong>.</p>
  </dd>

</dl>

<h3>\s-1PLACEHOLDERS\s0</h3>
<p>In a number of string fields, certain placeholders are subject to substitution by run-time values.  These placeholders are (in alphabetical order): The (file) \s-1URL\s0 from which the latest version of the respective program was downloaded. The local path to the respective latest-version download. \*(C`_\|_NEWVER_\|_\*(C' is replaced by the latest <em>transformed</em> (or untransformed, if no <strong>transform</strong> expression is in effect) version available as determined by the script. When using multiple <strong>url</strong>/<strong>regex</strong>/<strong>transform</strong> fields in order to cope with more complex remote site hierarchies, \*(C`_\|_NEWVER1_\|_\*(C', \*(C`_\|_NEWVER2_\|_\*(C', ...  give access to intermediately-determined versions.  In this case, \*(C`_\|_NEWVER1_\|_\*(C' is replaced by the version matched by the first <strong>url</strong>/<strong>regex</strong>/<strong>transform</strong> tuple, \*(C`_\|_NEWVER2_\|_\*(C' matches the version matched by the second <strong>url</strong>/<strong>regex</strong>/<strong>transform</strong> tuple, and so on. The name (identifier) of the respective <strong>prog</strong> section. \*(C`_\|_RAWVER_\|_\*(C' is replaced by the latest version available as determined by the script. When using multiple <strong>url</strong>/<strong>regex</strong> fields in order to cope with more complex remote site hierarchies, \*(C`_\|_RAWVER1_\|_\*(C', \*(C`_\|_RAWVER2_\|_\*(C', ...  give access to intermediately-determined versions.  In this case, \*(C`_\|_RAWVER1_\|_\*(C' is replaced by the version matched by the first <strong>url</strong>/<strong>regex</strong> pair, \*(C`_\|_RAWVER2_\|_\*(C' matches the version matched by the second <strong>url</strong>/<strong>regex</strong> pair, and so on. The (last and expanded) \s-1URL\s0 used in order to determine the latest program version. A pre-manufactured (non-greedy) regular expression matching version numbers compliant with any of a number of common schemes.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HINTS</h2>
        <div class="sectioncontent">
<ul>
<li><p>If you use Vim (version 5 or higher) as your editor, you can tell vcheck to create a Vim syntax file providing syntax highlighting within the editor by running the script as   vcheck --create-vim-syntax-file If you wish to have Vim apply the syntax rules automatically when editing \*(L"~/.vcheck\*(R", add this line:   au BufEnter */.vcheck   so $VIM/syntax/vcheck.vim or, alternatively, one with an explicit path:   au BufEnter */.vcheck   so /path/to/syntax/vcheck.vim to your \*(L"~/.vimrc\*(R" and substitute an appropriate path.  Of course you need to as well be sure to copy the file into the designated directory.</p></li><li><p>It's no problem to just check for new versions by default and run <strong>vcheck</strong> again afterwards to download updated packages.  Running the script as   vcheck -dc or   vcheck --download --catch-up respectively, will try to download only those files whose latest downloaded version has been knowingly obsoleted, without checking again for new versions of all other programs.</p></li><li><p>To check only those program locations that failed during the latest attempt(s), run   vcheck -e or   vcheck --errors respectively.</p></li><li><p>If you add a line   dlretry = NUMBER to your config file's <strong>config</strong> section, <strong>vcheck</strong> will retry to download a file up to \s-1NUMBER\s0 times if it detects that it was received incompletely. This will be the case if:</p><ul>
<li><p>the file has zero size</p></li><li><p>the downloaded file's extension was recognized, and a check by the respective decompressor etc. resulted in errors</p></li>
</ul></li><li><p><strong>vcheck</strong> caches data retrieved from URLs (unless <strong>nocache</strong> is set in the config file), so if you specify <em>exactly the same</em> \s-1URL\s0 for different programs, this won't result in multiple retrievals, thus improving efficiency.</p></li><li><p>If you're curious to know how many program records have actually been accumulated in your config file over time, run <strong>vcheck</strong> as   vcheck --syntax This will check the config file's syntax and, as a side-effect, print the number of programs registered.</p></li><li><p>Even if you know from some other source that there <strong>is</strong> a new version of a program <strong>vcheck</strong> is configured for, you can still use that to download the package.  Just use its matching capabilities, e.g.:   vcheck -dm foo</p></li><li><p>If one of your records points to patches of some program, and you want to make sure you won't miss an intermediate one when downloading (and suppose you don't run <strong>vcheck</strong> in download mode too frequently), you can add the boolean field <strong>dlintermediate</strong> to the respective program's section in the config file, and <strong>vcheck</strong> will try to download all versions newer than <strong>dlversion</strong>.  Note that in those circumstances, <strong>dlversion</strong> is set to the latest (intermediate) version the download attempt succeeded for (which means that, if, say, versions 1 through 3 are to be downloaded and all downloads except that of version 1 succeed, <strong>dlversion</strong> will nevertheless be set to 3). A useful example for this:   prog Linux/patches = {     dlintermediate     dlprefs   = &#92;.bz2$;&#92;.gz$     dlversion = 2.3.6     regex     = patch-(_\|_VER_\|_)&#92;.[bg]z     url       = ftp://ftp.kernel.org/pub/linux/kernel/v2.3/     version   = 2.3.9   } Supposing that 2.3.9 still is the latest version, running this in download mode will retrieve Linux kernel patches 2.3.7 through 2.3.9, <em>*.bz2</em> preferred to <em>*.gz</em> (but accepting the latter if the former is missing, rather than skipping the download entirely).</p></li><li><p>There may be complex remote site structures, involving version-dependent directory hierarchies, such as the layout used by the server for the \s-1AC\s0 series of Linux kernel patches.  The principal layout of that site looks (or used to look, anyway) like this:   ...   .../linux-2.4/2.4.8/patch-2.4.8-ac1.gz   .../linux-2.4/2.4.8/patch-2.4.8-ac2.gz   ...   .../linux-2.4/2.4.9/patch-2.4.9-ac1.gz   .../linux-2.4/2.4.9/patch-2.4.9-ac2.gz   ... The problem here is that the bottom-level directory's name varies depending on the regular Linux version an \s-1AC\s0 patch is based on.  The way to deal with this most conveniently in <strong>vcheck</strong> looks like this:   prog Linux/patch/AC = {     dlintermediate     url       = http://www.kernel.org/.../linux-2.4/     regex     = (&#92;d+&#92;.&#92;d+&#92;.&#92;d+)     url       = http://www.kernel.org/.../linux-2.4/_\|_NEWVER_\|_/     regex     = patch-(_\|_VER_\|_-ac&#92;d+)&#92;.gz   } (Note that the URLs have been abbreviated for the sake of readability.) This kind of configuration will cause <strong>vcheck</strong> to start by retrieving the first <strong>url</strong> field's document and match the first <strong>regex</strong> against it.  It will then proceed with the second <strong>url</strong> field's document, matching it against the second <strong>regex</strong>, replacing its <strong>_\|_NEWVER_\|_</strong> placeholder by the latest version previously matched.  The version finally determined as the current version for the program record is the one determined by the last match. On a side note, version numbers determined during matches further back than the previous one can be accessed via delimiters of the format <strong>_\|_NEWVER#_\|_</strong>, where `#' is a number indicating the number (1..) of the <strong>url</strong>/<strong>regex</strong> pair's version match it should be replaced by.  For more details on the mechanism, see the descriptions of <strong>url</strong> and <strong>regex</strong> in \*(L"\s-1PROGRAM\s0 \s-1SECTIONS\s0\*(R", and \*(L"\s-1PLACEHOLDERS\s0\*(R". Regarding the example, it is left to the user to figure out how to extend the record to even automatically cope with changes to the Linux kernel's minor version. \*(C`:-)\*(C' Here's another example of a three-level hierarchy, which used to fit the \s-1GIMP\s0's site layout at one point in time:   prog GIMP/devel/patch = {     comment   = "Will download complete package if no patch available."     dlprefs   = patch-.*?&#92;.bz2$;patch-.*?&#92;.gz$;gimp-.*?&#92;.bz2$;gimp-.*?&#92;.gz$     url       = ftp://ftp.gimp.org/pub/gimp/     regex     = (?&lt;!&#92;w)v(_\|_VER_\|_)     url       = ftp://ftp.gimp.org/pub/gimp/v_\|_NEWVER_\|_/     regex     = (?&lt;!&#92;w)v(_\|_VER_\|_)     url       = ftp://ftp.gimp.org/pub/gimp/v_\|_NEWVER1_\|_/v_\|_NEWVER_\|_/     regex     = (?:patch|gimp)-(_\|_VER_\|_)&#92;.[bgt]   }</p></li><li><p>If you want to retrieve some program whose version is, say, a date in format \*(L"dd-mm-yyyy\*(R", this will be misinterpreted by the version comparator because the most significant sub-\*(L"version\*(R" isn't the initial one.  You can work around this by specifying some Perl expression transforming the original version in the respective program's section, such as:   transform = "s/(&#92;d+)-(&#92;d+)-(&#92;d+)/$3-$2-$1/; $_" This piece of code is given the respective version in $_, and after its evaluation, <strong>vcheck</strong> replaces the original value by what the <em>eval()</em> returns. Alternatively, this would achieve the same:   transform = "join &apos;-&apos;, reverse split /-/, $_"</p></li><li><p>Some sites use redirection scripts for download URLs.  Consider a situation where a downloads page lists available packages of a program, with links pointing to some server-side script referring your browser to some \s-1URL\s0 <em>which is in turn redirected by \s-1HTTP\s0 means</em> to a final file \s-1URL\s0 (the \s-1PHP\s0 site, for example, used to make use of this obscure scheme at one time).  The way to cope with this in <strong>vcheck</strong> consists in using a <strong>dlexplicit</strong> field like this:   prog PHP = {     dlexplicit = http://www.php.net/distributions/php-_\|_VER_\|_.tar.gz     regex      = php-(_\|_VER_\|_)&#92;.t     url        = http://www.php.net/downloads.php   } Effectively, this will use the actual <strong>url</strong> field only to determine the current version and then paste it into a pattern of the corresponding download \s-1URL\s0, thus bypassing the redirections.  The obvious disadvantage of this feature consists in its increased dependency on server-side access structures.</p></li><li><p>Suppose you're interested in some program distributed via more than one package (such as Vim, which is split into a source and a run-time package). The means <strong>vcheck</strong> provides to cope with this once again is the <strong>dlexplicit</strong> option:   prog Vim = {     dlexplicit = ftp://ftp.vim.org/pub/editors/vim/unix/vim-_\|_VER_\|_-src.tar.gz     dlexplicit = ftp://ftp.vim.org/pub/editors/vim/unix/vim-_\|_VER_\|_-rt.tar.gz     regex      = vim-(_\|_VER_\|_)(-src)?&#92;.tar     url        = ftp://ftp.vim.org/pub/editors/vim/unix/   }</p></li><li><p>In order to have <strong>vcheck</strong> keep track of what has been downloaded (and when), you might add something like this to your config file:   config = {     dlexec = "echo &#96;date +%Y-%m-%d&#96; &apos;_\|_PROG_\|_&apos; &apos;_\|_NEWVER_\|_&apos; &gt;&gt;~/.vchecklog"   } Note however that program-specific <strong>dlexec</strong> will take precedence over this setting.</p></li><li><p>With a little creativity, <strong>vcheck</strong> can be used to check not only for latest versions of programs or packages, but also web site updates and the like. Also, the <strong>newverexec</strong> (see \*(L"\s-1GRAMMAR\s0\*(R") field can be used to pass a link to an external download tool if for some reason <strong>vcheck</strong>'s abilities prove insufficient for a particular scenario.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Please make sure to read what's printed by <strong>vcheck</strong> when run as</p><p>  vcheck --help --grammar</p><p>as well as \*(L"\s-1GRAMMAR\s0\*(R" before reading this section, to learn about command line parameters and the configuration file's grammar.  Done so?  Then read on...</p><p>Suppose there's a config file <em>~/.vcheck</em> with the following contents:</p><p>  config = {     dlprefs   = &#92;.tar&#92;.bz2$;&#92;.(tar&#92;.|t)gz$;&#92;.zip$     lastcheck = "1999-06-21 08:15"   }</p><p>  prog Foo = {     dl      = no     errors  = 2     regex   = foo-(_\|_VER_\|_)&#92;.tar     urgency = high     url     = http://www.foo.org/pub/foo/   }   prog Bar = {     dlversion = 0.01beta     regex     = (?i:bar-(_\|_VER_\|_)&#92;.tar)     url       = http://www.bar.org/bar/index.html     version   = 0.01   }   prog Baz = {     regex   = baz-(&#92;d+)&#92;.tar     urgency = low     url     = ftp://ftp.baz.net/pub/source/     version = 123   }</p><p>First of all, you can deduce from this what date and time <strong>vcheck</strong> was last run at with this config file.  Trying to check for <strong>Foo</strong> resulted in errors of some kind during the last 2 attempts, and since there's no version field, it has presumably never been queried successfully.  <strong>Foo</strong> is never to be downloaded.  <strong>Bar</strong>'s latest version as determined during one of the last checks was 0.01, but it wasn't downloaded (0.01beta is the version of the last download).  Finally, <strong>Baz</strong> has never been downloaded (according to the config file, anyway).  As for downloads in general, <em>*.tar.bz2</em> is preferred to <em>*.tar.gz</em> and <em>*.tgz</em>, which in turn are more desirable than <em>*.zip</em> files.  If no target matching any of these extensions case-insensitively is found, nothing will be downloaded.</p><p>Assume furthermore that the following references are currently mentioned at the respective URLs of each program:</p><ul>
<li><p>for <strong>Foo</strong>:   http://www.foo.org/pub/foo/foo-3.14.tar.gz   http://www.foo.org/pub/foo/foo-3.14.tar.bz2   http://www.foo.org/pub/foo/foo-3.14a.tar.gz   http://www.foo.org/pub/foo/foo-3.14alpha.tar.gz   http://www.foo.org/pub/foo/Foo-4.0.tar.gz</p></li><li><p>for <strong>Bar</strong>:   bar-0.01.zip   BAR-0.01.tar.bz2</p></li><li><p>for <strong>Baz</strong>:   http://www.baz.net/pub/download/baz-124.rpm</p></li>
</ul><p>Now let's discuss what some specific calls to <strong>vcheck</strong>, each based on the above configuration, will result in.  Again, for a complete list of command line options (all short options have an equivalent long one), see \*(C`&#96;vcheck&nbsp;--help&#96;\*(C'. This will check for all programs without updating the config file.  It'll report <strong>Foo 3.14</strong> as new version (not 4.0, as <strong>regex</strong> doesn't match this), as well as <strong>Baz 124</strong>. This will check for all programs, report as above and try to download the following file:   http://www.bar.org/bar/BAR-0.01.tar.bz2 Note that <strong>Baz 124</strong> isn't among, because there wasn't a link conforming to <strong>dlprefs</strong>, and downloads of <strong>Foo</strong> have been disabled explicitly. The <strong>errors</strong> field of <em>Foo</em> is removed since the check succeeded. This will set <strong>dlversion</strong> = <strong>version</strong> for <strong>Bar</strong> and <strong>Baz</strong>, without checking for the availability of new versions.  Effectively, this will prevent future calls to <strong>vcheck</strong> with parameter "\*(C`-d\*(C'" from downloading these files. This will step through all programs that downloads haven't been disabled for in principle and whose <strong>dlversion</strong> is lower than <strong>version</strong> (i.e., <em>Bar</em> and <em>Baz</em> in our example).  For these, <strong>vcheck</strong> will requery the respective sites to determine a download \s-1URL\s0, and try to download   http://www.bar.org/bar/BAR-0.01.tar.bz2 as in the above example. will check for new versions of <strong>Bar</strong> and <strong>Baz</strong>.  Note that you may have to quote the leading exclamation mark as well as some characters used in regular expressions specified on the command line, in order to prevent your shell from interpreting them. will check only for <strong>Bar</strong>, as it is the only program whose <strong>urgency</strong> is at least <strong>medium</strong> and whose name contains a `b'. will check only for <strong>Foo</strong>, since checking for that failed previously.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<ul>
<li><p>First of all, <strong>vcheck</strong> <em>isn't</em> perfect, and it won't do in <em>all</em> kinds of situations.  Yet I think it is able to cope with most of them, and if there's indeed some site which <strong>vcheck</strong> isn't able to determine download URLs from, or some version numbering scheme its heuristics choke on, you'll just have to deal with that manually.  But for the majority of cases, <strong>vcheck</strong> should facilitate keeping your setup up-to-date.</p></li><li><p>Don't run multiple instances in non-read-only mode with the same configuration file, or else one will cause the changes made by the others to get lost.  <strong>vcheck</strong> will prevent this situation from arising by employing a lock file, provided that your Perl setup supports it. <em>Don't edit</em> the config file while <strong>vcheck</strong> is running, either, or your changes will be overwritten when the script rewrites the file.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<ul>
<li><p><em>vcheck</em>, the script itself</p></li><li><p><em>~/.vcheck</em>, its configuration file In fact, <strong>vcheck</strong> doesn't look for a config file <em>~/.vcheck</em>, but for one of the same name as the script (with a possible extension stripped off). So if you rename the script to, say, <em>foo.pl</em> and run it, it'll try to open <em>~/.foo</em>.</p></li><li><p><em>~/.vcheck.lock</em>, lock file created when not running in read-only mode Actually, the file's name is that of the config file with an extension of <em>.lock</em> added.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<ul>
<li><p>$http_proxy/$HTTP_PROXY and $ftp_proxy/$FTP_PROXY, each in this order of precedence, specify the \s-1HTTP\s0 and/or (HTTP-based) \s-1FTP\s0 proxy to use, unless overridden.  The format is either \*(L"server:port\*(R" or a complete \s-1URL\s0.</p></li><li><p>$HOME, the current user's home directory</p></li><li><p>$SHELL, used by Perl in unizoid environments when executing helper applications</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO DO</h2>
        <div class="sectioncontent">
<ul>
<li><p>add option to config section allowing for the <strong>dlexec</strong> entry to be \*(L"inherited\*(R" from the config section rather than be overridden by per-program <strong>dlexec</strong>s (also define order of execution!)</p></li><li><p>check behavior if an \s-1HTTP\s0 <strong>url</strong>'s download link references a different target base directory</p></li><li><p>make \*(L"--list\*(R" not rewrite the config file, thus allowing for it to be run in parallel to another instance</p></li><li><p>add an option to re-download the latest version (if local file doesn't exist)?</p></li><li><p>code clean-up: array used for download specifications -&gt; hash</p></li><li><p>determine and describe way of reliably matching directories consisting of but a version number on an \s-1FTP\s0 server independently of whether the page in question is received by proxy or without one</p></li><li><p>scenario: link description contains version, download link entirely differently named</p></li><li><p>separate \*(C`--force\*(C' options for overriding <strong>disabled</strong>, <strong>dl</strong>?</p></li><li><p>max download size command line parameter?</p></li><li><p>extend Vim syntax file generation to highlight placeholders in string variables' values?</p></li><li><p>follow \s-1HTTP\s0 redirections</p></li><li><p>evaluate \s-1HTTP\s0 headers after retrievals</p></li><li><p>resume downloads?</p></li><li><p>XMLize the config file format???</p></li><li><p>make it multi-threaded???</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<ul>
<li><p>All output is currently printed on \s-1STDOUT\s0.</p></li><li><p>Placeholders are used but no way of escaping literal occurrences of those strings is provided.</p></li><li><p><strong>dlprefs</strong> uses semicolons as delimiters, but there's no way of escaping them if they are meant as a part of one of the regular expressions.</p></li><li><p>There's presumably little to do in order to get <strong>vcheck</strong> to run in Microsoft Windows.  One issue worth noting is that directories (such as <strong>dldir</strong> values) are expecedted to use unizoid delimiters (i.e., slashes (`/'))--this should perhaps be revised to be portable.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Mail bug reports to the author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>vcheck</strong> is copyright (c) 1999-2001 by Marco Go\*:tze, &lt;gomar@mindless.com&gt;.  It is distributed under the terms of the Artistic License, a copy of which is included with the script's distribution. Use at your own risk.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="uscan-components.1p.html"><span aria-hidden="true">&larr;</span> uscan-components.1p: Wrapper around uscan for package and components</a></li>
   <li class="next"><a href="vnccapture.1p.html">vnccapture.1p: Capture a screenshot via vnc <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
