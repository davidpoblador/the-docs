<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sarg: Squid analysis report generator</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Squid analysis report generator">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sarg (1) manual">
  <meta name="twitter:description" content="Squid analysis report generator">
  <meta name="twitter:image" content="https://www.carta.tech/images/sarg-sarg-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sarg.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sarg (1) manual" />
  <meta property="og:description" content="Squid analysis report generator" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sarg-sarg-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sarg<small> (1)</small></h1>
        <p class="lead">Squid analysis report generator</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sarg.1.html">
      <span itemprop="name">sarg: Squid analysis report generator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sarg/">
      <span itemprop="name">sarg</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sarg.1.html">
      <span itemprop="name">sarg: Squid analysis report generator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sarg</strong> [options] [logfile...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sarg</strong> is a log file parser and analyzer for the \m[blue]<strong>Squid Web Proxy Cache</strong>\m[]\s-2\u[1]\d\s+2. It allows you to view "where" your users are going to on the Internet.</p><p><strong>sarg</strong> generates reports in HTML with fields such as: users, IP Addresses, bytes, sites, and times. These HTML files can appear in your web server&apos;s directory for browsing by users or administrators. You may also have <strong>sarg</strong> email the reports to the Squid Cache administrator.</p><p><strong>sarg</strong> can read squid or Microsoft ISA access logs. Optionally, it can complement the reports with the log of a Squid filter/redirector such as \m[blue]<strong>squidGuard</strong>\m[]\s-2\u[2]\d\s+2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>A summary of options is included below.</p><p><strong>-h</strong> <strong>--help</strong></p><p>Show summary of options.</p><p><strong>-a hostname|ip address</strong></p><p>Limits report to records containing the specified hostname/ip address</p><p><strong>-b </strong><strong></strong><em>filename</em></p><p>Enables UserAgent log and writes it to <em>filename</em>.</p><p><strong>Warning</strong></p><p>This option is currently unused.</p><p><strong>-c </strong><strong></strong><em>filename</em></p><p>Read <em>filename</em> for a list of the web hosts to exclude from the report. See the section called &ldquo;HOST EXCLUSION FILE&rdquo;.</p><p><strong>--convert</strong></p><p>Convert a squid log file date/time field to a human-readable format. All the log files are read and output as one text on the standard output.</p><p>If the input log file name is <em>-</em>, the input log file is read from standard input.</p><p><strong>--css</strong></p><p>Output, on the standard output, the internal css <strong>sarg</strong> inlines in the reports. You can redirect the output to a file of your choice and edit it. Then you can override the internal css with <em>external_css_file</em> in sarg.conf.</p><p>Using an external css can reduce the size of the report file. If you are short on disk space, you may consider exporting the css as explained above.</p><p><strong>-d </strong><strong></strong><em>date</em></p><p>Use <em>date</em> to restrict the report to some date range during log file processing. Format for <em>date</em> is <strong>dd/mm/yyyy-dd/mm/yyyy</strong> or a single date <strong>dd/mm/yyyy</strong>. Date ranges can also be specified as <em>day-</em><em></em><strong>n</strong>, <em>week-</em><em></em><strong>n</strong>, or <em>month-</em><em></em><strong>n</strong> where <strong>n</strong> is the number of days, weeks or months to jump backward. Note that there is no spaces around the hyphen.</p><p><strong>-e </strong><strong></strong><em>email</em></p><p>Sends report to <em>email</em> (stdout for console).</p><p><strong>-f </strong><strong></strong><em>filename</em></p><p>Reads configuration from <em>filename</em>.</p><p><strong>-g e|u</strong></p><p>Sets date format in generated reports.</p><p>e = Europe -&gt; dd/mm/yy</p><p>u = USA    -&gt; mm/dd/yy</p><p><strong>-i</strong></p><p>Generates reports by user and ip address.</p><p><strong>Note</strong></p><p>This requires the <em>report_type</em> option in config file to contain "users_sites".</p><p><strong>--keeplogs</strong></p><p>Don&apos;t delete any old report. It is equivalent to setting <strong>--lastlog 0</strong> but is provided for convenience.</p><p><strong>-l </strong><strong></strong><em>filename</em></p><p>Uses <em>filename</em> as the input log. This option can be repeated up to 255 times to read multiple files. If the files end with the extension .gz, .bz2 or .Z they are decompressed. If the file name is just <em>-</em>, the log file is read from standard input. In that case, it cannot be compressed.</p><p>This option is kept for compatibility with older versions of sarg but, starting with sarg 2.3, the log files may be named on the command line without the <strong>-l</strong> option. It allows the use of wildcards on the command line. Make sure you don&apos;t exceed the limit of 255 files.</p><p><strong>--lastlog </strong><strong></strong><em>n</em></p><p>Limit the number of logs kept in the output directory to <em>n</em>. Any supernumerary report is deleted starting with the oldest report. The value of <em>n</em> must be positive or zero. A value of zero means no report should be deleted.</p><p><strong>-L </strong><strong></strong><em>filename</em></p><p>Reads a proxy redirector log file such as one created by squidGuard or Rejik. If you use this option, you may want to configure <em>redirector_log_format</em> in sarg.conf to match the output format of your web content filtering program. This option can be repeated up to 64 times to read multiple files.</p><p><strong>-m</strong></p><p>Enable advanced processing debug messages. This option produces an enourmous amount of output.</p><p><strong>-n</strong></p><p>Enables ip address resolution.</p><p><strong>-o </strong><strong></strong><em>dir</em></p><p>Writes report in <em>dir</em>.</p><p><strong>-p</strong></p><p>Generates reports using ip address instead of userid.</p><p><strong>-P </strong><strong></strong><em>prefix</em> <strong>--splitprefix </strong><strong></strong><em>prefix</em></p><p>This option must be used with <strong>--split</strong>. If it is provided, the input log is split among several files each containing one day. The name of the output files is made of the <em>prefix</em> and the date formated as -YYYY-MM-DD.</p><p>The output files are written in the output directory specified with <strong>-o</strong> or in the current directory.</p><p><strong>-r</strong></p><p>Output the realtime report on the standard output and exit.</p><p><strong>-s </strong><strong></strong><em>string</em></p><p>Limits report to the site specified by <em>string</em> [eg. www.debian.org]</p><p><strong>--split</strong></p><p>Split the squid log file and output it as text on the standard output omitting the dates outside of the range specified by the <strong>-d</strong> parameter. If it is combined with <strong>--convert</strong> the dates are also converted to a human-readable format.</p><p>If the input log file name is <em>-</em>, the input log file is read from standard input.</p><p>Combined with <strong>-P</strong>, the log is written in several files each containing one day worth of the original log.</p><p><strong>--statistics</strong></p><p>Writes some statistics about the execution time. The statistics include the total execution time; the number of records read in the input log files and the time it took to read them; the number of records and users processed and the time it took to process them.</p><p><strong>-t </strong><strong></strong><em>string</em></p><p>Limits the records included in the report based on time-of-day. Format for <em>string</em> is <strong>HH:MM</strong> or <strong>HH:MM-HH:MM</strong>. The former reports only the requested time. The latter reports any entry falling within the requested range. This limit complement the limit imposed by option <strong>-d</strong>.</p><p><strong>-u </strong><strong></strong><em>user</em></p><p>Limits reports to <em>user</em> activities.</p><p><strong>-v</strong></p><p>Write sarg version and exit.</p><p><strong>-w </strong><strong></strong><em>dir</em></p><p>Store temporary files in <em>dir</em>. In fact, <strong>sarg</strong> stores its temporary files in the sarg subdirectory of <em>dir</em>. Be sure to set the HTML output directory to a place outside of the temporary directory or sarg may fail or delete the report when it completes its task.</p><p><strong>-x</strong></p><p>Writes debug messages to stdout</p><p><strong>-z</strong></p><p>Writes process messages to stdout.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOST EXCLUSION FILE</h2>
        <div class="sectioncontent">
<p>Sarg can be told to exclude visited hosts from the report by providing it with a file containing one host to exclude per line. The "host" may be one of the following:</p><p>a full host name,</p><p>a host name starting with a wildcard (*) to match any prefix,</p><p>a single ip address,</p><p>a subnet noted a.b.c.d/e.</p><p><strong>Example&nbsp;1.&nbsp;Example of a hosts exclusion file</strong></p><p>*.google.com</p><p>10.0.0.0/8</p><p>Sarg cannot exclude IPv6 addresses at the moment.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sarg&hellip;</h2>
        <div class="sectioncontent">
<p><strong>squid</strong>(8)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>This manual page was written by Luigi Gangitano gangitano@lugroma3.org, for the Debian GNU/Linux system (but may be used by others). Revised by Billy Newsom.</p><p>Currently maintained by Frédéric Marchal fmarchal@users.sourceforge.net.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>Frédéric Marchal</strong> &lt;fmarchal@users.sourceforge.net&gt;</p><p>Docbook version of the manual page</p><p><strong>Billy Newsom</strong></p><p>Revision of the manual page</p><p><strong>Luigi Gangitano</strong> &lt;gangitano@lugroma3.org&gt;</p><p>Author of the first manual page</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2012 Frédéric Marchal</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>Squid Web Proxy Cache</p><p>http://www.squid-cache.org/</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>squidGuard</p><p>http://www.squidguard.org/</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sar.sysstat.1.html"><span aria-hidden="true">&larr;</span> sar.sysstat.1: Collect, report, or save system activity information.</a></li>
   <li class="next"><a href="sarg-reports.1.html">sarg-reports.1: Daily/weekly/monthly squid usage reports creation tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
