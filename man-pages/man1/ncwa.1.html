<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ncwa: Netcdf weighted averager</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Netcdf weighted averager">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ncwa (1) manual">
  <meta name="twitter:description" content="Netcdf weighted averager">
  <meta name="twitter:image" content="https://www.carta.tech/images/nco-ncwa-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ncwa.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ncwa (1) manual" />
  <meta property="og:description" content="Netcdf weighted averager" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nco-ncwa-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ncwa<small> (1)</small></h1>
        <p class="lead">Netcdf weighted averager</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ncwa.1.html">
      <span itemprop="name">ncwa: Netcdf weighted averager</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nco/">
      <span itemprop="name">nco</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ncwa.1.html">
      <span itemprop="name">ncwa: Netcdf weighted averager</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>ncwa [-3] [-4] [-6] [-7] [-A] [-a <em>dim</em>[,...]] [-B <em>mask_cond]</em> [-b] [--bfr <em>sz</em>]<em>[-C]</em>[-c]<em>[--cnk_byt</em> <em>sz</em>]<em>[--cnk_dmn</em> <em>nm,sz</em>] [--cnk_map <em>map</em>] [--cnk_plc <em>plc</em>] [--cnk_scl <em>sz</em>]<em>[-D</em> <em>dbg_lvl</em>] [-d <em>dim</em>,[ <em>min</em>][,[ <em>max</em>]]] [--dbl|flt] [-F] [-G <em>gpe_dsc</em>] [-g <em>grp</em>[,...]] [-h] [--hdf] [--hdr_pad <em>sz</em>] [-I] [-L <em>dfl_lvl</em>]<em>[-l</em> <em>path</em>] [-M <em>val</em>] [-m <em>mask</em>] [-N] [--no_cll_mth] [--no_tmp_fl] [-O] [-o <em>output-file</em>] [-p <em>path</em>] [-R] [-r] [--ram_all] [-T <em>mask_comp</em>] [-t <em>thr_nbr</em>] [--unn] [-v <em>var</em>[,...]] [-w <em>weight</em>] [-x] [-y <em>op_typ</em>] <em>input-file</em> <em>output-file</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ncwa</strong> averages variables in a single file over arbitrary dimensions, with options to specify weights, masks, and normalization. The default behavior of <strong>ncwa</strong> is to arithmetically average every numerical variable over all dimensions and produce a scalar result. To average variables over only a subset of their dimensions, specify these dimensions in a comma-separated list following <strong>-a</strong>, e.g., <strong>-a time,lat,lon</strong>. As with all arithmetic operators, the operation may be restricted to an arbitrary hypserslab by employing the <strong>-d</strong> option <strong>ncwa</strong> also handles values matching the variable's <strong>_FillValue</strong> attribute correctly. Moreover, <strong>ncwa</strong> understands how to manipulate user-specified weights, masks, and normalization options. With these options, <strong>ncwa</strong> can compute sophisticated averages (and integrals) from the command line.</p><p><em>mask</em> and <em>weight</em>, if specified, are broadcast to conform to the variables being averaged. The rank of variables is reduced by the number of dimensions which they are averaged over. Thus arrays which are one dimensional in the <em>input-file</em> and are averaged by <strong>ncwa</strong> appear in the <em>output-file</em> as scalars. This allows the user to infer which dimensions may have been averaged. Note that that it is impossible for <strong>ncwa</strong> to make make a <em>weight</em> or <em>mask</em> of rank <em>W</em> conform to a <em>var</em> of rank <em>V</em> if <em>W &gt; V</em>. This situation often arises when coordinate variables (which, by definition, are one dimensional) are weighted and averaged. <strong>ncwa</strong> assumes you know this is impossible and so <strong>ncwa</strong> does not attempt to broadcast <em>weight</em> or <em>mask</em> to conform to <em>var</em> in this case, nor does <strong>ncwa</strong> print a warning message telling you this, because it is so common. Specifying <em>dbg &gt; 2</em> does cause <strong>ncwa</strong> to emit warnings in these situations, however.</p><p>Non-coordinate variables are always masked and weighted if specified. Coordinate variables, however, may be treated specially. By default, an averaged coordinate variable, e.g., <strong>latitude</strong>, appears in <em>output-file</em> averaged the same way as any other variable containing an averaged dimension. In other words, by default <strong>ncwa</strong> weights and masks coordinate variables like all other variables. This design decision was intended to be helpful but for some applications it may be preferable not to weight or mask coordinate variables just like all other variables. Consider the following arguments to <strong>ncwa</strong>: &ldquo;-a latitude -w lat_wgt -d latitude,0.,90.&rdquo; where <strong>lat_wgt</strong> is a weight in the <strong>latitude</strong> dimension. Since, by default <strong>ncwa</strong> weights coordinate variables, the value of <strong>latitude</strong> in the <em>output-file</em> depends on the weights in <em>lat_wgt</em> and is not likely to be 45.---the midpoint latitude of the hyperslab. Option <strong>-I</strong> overrides this default behavior and causes <strong>ncwa</strong> not to weight or mask coordinate variables. In the above case, this causes the value of <strong>latitude</strong> in the <em>output-file</em> to be 45.---which is a somewhat appealing result. Thus, <strong>-I</strong> specifies simple arithmetic averages for the coordinate variables. In the case of latitude, <strong>-I</strong> specifies that you prefer to archive the central latitude of the hyperslab over which variables were averaged rather than the area weighted centroid of the hyperslab. Note that the default behavior of ( <strong>-I</strong>) changed on 1998/12/01---before this date the default was not to weight or mask coordinate variables. The mathematical definition of operations involving rank reduction is given above.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>NCO</strong> manual pages written by Charlie Zender and originally formatted by Brian Mays.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;http://sf.net/bugs/?group_id=3331&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 1995-2010 Charlie Zender</p><p>This is free software; see the source for copying conditions.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ncwa&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for <strong>NCO</strong> is maintained as a Texinfo manual called the <strong>NCO User's Guide.</strong> Because <strong>NCO</strong> is mathematical in nature, the documentation includes TeX-intensive portions not viewable on character-based displays. Hence the only complete and authoritative versions of the <strong>NCO User's Guide</strong> are the PDF (recommended), DVI, and Postscript versions at &lt;http://nco.sf.net/nco.pdf&gt;, &lt;http://nco.sf.net/nco.dvi&gt;, and &lt;http://nco.sf.net/nco.ps&gt;, respectively. HTML and XML versions are available at &lt;http://nco.sf.net/nco.html&gt; and &lt;http://nco.sf.net/nco.xml&gt;, respectively.</p><p>If the <strong>info</strong> and <strong>NCO</strong> programs are properly installed at your site, the command</p><ul>
<li><p><strong>info nco</strong></p></li>
</ul><p>should give you access to the complete manual, except for the TeX-intensive portions.</p><p><a href="../man1/ncap.1.html"><strong>ncap</strong>(1)</a>, <a href="../man1/ncap2.1.html"><strong>ncap2</strong>(1)</a>, <a href="../man1/ncatted.1.html"><strong>ncatted</strong>(1)</a>, <a href="../man1/ncbo.1.html"><strong>ncbo</strong>(1)</a>, <a href="../man1/ncdiff.1.html"><strong>ncdiff</strong>(1)</a>, <a href="../man1/nces.1.html"><strong>nces</strong>(1)</a>, <a href="../man1/ncecat.1.html"><strong>ncecat</strong>(1)</a>, <a href="../man1/ncflint.1.html"><strong>ncflint</strong>(1)</a>, <a href="../man1/ncks.1.html"><strong>ncks</strong>(1)</a>, <a href="../man1/nco.1.html"><strong>nco</strong>(1)</a>, <a href="../man1/ncpdq.1.html"><strong>ncpdq</strong>(1)</a>, <a href="../man1/ncra.1.html"><strong>ncra</strong>(1)</a>, <a href="../man1/ncrcat.1.html"><strong>ncrcat</strong>(1)</a>, <a href="../man1/ncrename.1.html"><strong>ncrename</strong>(1)</a>, <a href="../man1/ncwa.1.html"><strong>ncwa</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOMEPAGE</h2>
        <div class="sectioncontent">
<p>The <strong>NCO</strong> homepage at &lt;http://nco.sf.net&gt; contains more information.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ncursesw5-config.1.html"><span aria-hidden="true">&larr;</span> ncursesw5-config.1: Helper script for ncurses libraries</a></li>
   <li class="next"><a href="nd.1.html">nd.1: Tiny little command line webdav interface <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
