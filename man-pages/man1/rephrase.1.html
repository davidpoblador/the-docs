<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rephrase: Specialized passphrase recovery tool for gnupg</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Specialized passphrase recovery tool for gnupg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rephrase (1) manual">
  <meta name="twitter:description" content="Specialized passphrase recovery tool for gnupg">
  <meta name="twitter:image" content="https://www.carta.tech/images/rephrase-rephrase-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/rephrase.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rephrase (1) manual" />
  <meta property="og:description" content="Specialized passphrase recovery tool for gnupg" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/rephrase-rephrase-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rephrase<small> (1)</small></h1>
        <p class="lead">Specialized passphrase recovery tool for gnupg</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rephrase.1.html">
      <span itemprop="name">rephrase: Specialized passphrase recovery tool for gnupg</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/rephrase/">
      <span itemprop="name">rephrase</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rephrase.1.html">
      <span itemprop="name">rephrase: Specialized passphrase recovery tool for gnupg</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>rephrase</strong> is a specialized passphrase recovery tool for GnuPG. If you can nearly remember your GnuPG passphrase - but not quite - then Rephrase may be able to help.</p><p>Tell Rephrase the parts of the passphrase you know, and any number of alternatives for the parts you're not sure about; and Rephrase will try all the alternatives, in all possible combinations, and tell you which combination (if any) gives you the correct passphrase.  You could try all the combinations yourself, of course, if there are just a handful of them; but if there are more, that might be impractical.</p><p>On the other hand, if you need to try a huge number of possible passphrases, Rephrase might be too slow; it is far from being an efficient passphrase cracker.  E.g. Rephrase can try out about 2600 possible passphrases per minute on my 1GHz Athlon (with other processes doing nothing very heavy at the same time).  How many passphrases Rephrase can try depends on how long you are prepared to wait!  Rephrase can reasonably be run for a long time; e.g. it *won't* use more memory the longer it runs.</p><p>It would be a Bad Thing to leave your passphrase (or part of it, or your guesses at it) lying around on your hard drive; since a passphrase is supposed to be an extra line of defence if an attacker obtains access to your secret keyring (which you presumably *do* keep on your hard drive). That's why Rephrase keeps all the information about your passphrase that you give it in secure memory (and then pipes each possible passphrase to a child gpg process).  For this reason, Rephrase is likely to be more secure than alternative solutions that involve generating a list of possible passphrases in a file and then testing them.</p><p>[1] For more information about GnuPG, see http://www.gnupg.org/ .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p><strong>rephrase</strong> &lt;<em>key</em>&gt;</p><p>where &lt;key&gt; is the key whose passphrase you want to recover; you can identify the key in any of the ways that GnuPG understands.  (To make sure you're using a sensible value for &lt;key&gt;, you could first try</p>
<pre>
    gpg --list-secret-keys &lt;key&gt;
</pre>
<p>which should list exactly 1 key.)</p><p>You will be prompted to enter a pattern (the pattern is not echoed to the screen as you type it).  So what's a pattern?  Suppose you know that your passphrase was something like "super-secret", but you're not sure if you changed some (or all) of the "e"s into "3"s, or any of the consonants into upper case, or indeed changed the "c" into "k" or "K" or even "|&lt;", or changed the "-" into " " or just omitted it.  Then you could enter this pattern:</p>
<pre>
    (s|S)u(p|P)(e|3)(r|R)(-| |)(s|S)(e|3)(c|C|k|K|&#92;|&lt;)(r|R)(e|3)(t|T)
</pre>
<p>The pattern is your passphrase - except that 4 characters have special meanings.  Brackets - "(" and ")" - are used to group alternatives wherever you're not sure what characters are correct; "|" is used inside a pair of brackets to separate the alternatives; and " escape any of the 4 special characters when you need to use it literally.</p><p>Rephrase will tell you if your pattern contains a syntax error.  That happens if there are unbalanced brackets (i.e. they aren't in proper pairs); or if the pattern ends with " for it to escape).  It also happens (and these cases are limitations in Rephrase's simple pattern parser) if you try to nest pairs of brackets; or if you try to use "|" anywhere that's not inside a pair of brackets.</p><p>If the pattern contains no syntax errors, Rephrase will try each possible passphrase matching the pattern in turn.  If the correct passphrase is found, Rephrase won't actually tell you what it is (in case someone's looking over your shoulder), but will tell you a string of numbers: you can work out the correct passphrase from these numbers and the pattern you entered.  E.g.</p>
<pre>
    2 1 2 1 2 1 1 5 1 2 2
</pre>
<p>The first number - 2 - means that at the first pair of brackets in the pattern - "(s|S)" - you must take the second alternative - viz. "S". The second number - 1 - means that at the seconds pair of brackets - "(p|P)" - you must take the first alternative - viz. "p".  And so forth. So in this case the correct passphrase is "Sup3r se|&lt;r3T".</p><p>If the correct passphrase is not found from the pattern, Rephrase tells you so.  (Note that you will also get this result if you specified &lt;key&gt; incorretly; how to check that the value of &lt;key&gt; is OK is explained above.)</p><p>Rephrase's exit status is 0 is the passphrase is found, 1 if it's not found, or other values if an error occurs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>The good news is that Rephrase uses mlock() in order to keep the information about passphrases that it's given as secure as possible. The bad news is that using mlock() requires root privileges, so Rephrase needs to be setuid root.  However, it does drop root privileges very quickly, as soon as it has called mlock().</p><p>It's also debatable whether mlock() is a proper way to protect sensitive information.  According to POSIX, mlock()ing a page guarantees that it *is* in memory (useful for realtime applications), not that it *isn't* in the swap (useful for security applications).  Possibly an encrypted swap partition (or no swap partition) is a better solution.  Anyway, GnuPG itself uses mlock(), which makes it sensible for Rephrase to follow suit.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Portability is untested: I have only used Rephrase on a GNU/Linux system (Linux 2.4.21 and Glibc 2.3.2; building with GNU Make 3.79.1, bash 2.05 (as /bin/sh) and either GCC 2.95.3 or GCC 3.3).  I believe setreuid() is a BSD-ism, so it may not exist on more SysV-like systems.  There are probably many other issues.</p><p>If mlock() fails (probably because Rephrase is not setuid root), Rephrase refuses to proceed: it would be better to issue a warning and continue, since that's what GnuPG does.</p><p>Before it asks you to enter a pattern, Rephrase should check that the &lt;key&gt; argument does refer to exactly 1 key and that that key is available.</p><p>If you'd like Rephrase to be faster, then it's too slow.  (But if you're happy with it, then it's fast enough.)</p><p>The standard --version and --help options are unimplemented.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was prepared by Tiago Bortoletto Vaz &lt;tiago@debian.org&gt; for the Debian GNU/Linux system (but may be used by others). Most of the text used here comes from the original README file by Phil Lanch's &lt;phil@subtle.clara.co.uk&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="repeat-match.1.html"><span aria-hidden="true">&larr;</span> repeat-match.1: Package for sequence alignment of multiple genomes</a></li>
   <li class="next"><a href="repl-monitor.1.html">repl-monitor.1: Directory server replication monitor <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
