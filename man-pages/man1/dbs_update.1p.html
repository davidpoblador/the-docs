<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dbs_update: Update sql databases</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Update sql databases">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dbs_update (1p) manual">
  <meta name="twitter:description" content="Update sql databases">
  <meta name="twitter:image" content="https://www.carta.tech/images/libdbix-easy-perl-dbs_update-1p.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1p/dbs_update.1p.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dbs_update (1p) manual" />
  <meta property="og:description" content="Update sql databases" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libdbix-easy-perl-dbs_update-1p.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dbs_update<small> (1p)</small></h1>
        <p class="lead">Update sql databases</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/dbs_update.1p.html">
      <span itemprop="name">dbs_update: Update sql databases</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libdbix-easy-perl/">
      <span itemprop="name">libdbix-easy-perl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/dbs_update.1p.html">
      <span itemprop="name">dbs_update: Update sql databases</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>dbs_update is an utility to update \s-1SQL\s0 databases from text files.</p><p><strong>&#92;$1</strong></p><p>dbs_update assumes that each line of the input contains a data record and that the field within the records are separated by tabulators. You can tell dbs_update about the input format with the <strong>--format</strong> option.</p><p>The first field of the data record is used as table specification. These consists of the table name and optionally the index of starting column, separated by a dot.</p><p>Alternatively dbs_update can read the column names from the first line of input (see the <strong>-h</strong>/<strong>--headline</strong> option). These can even be aliases for the real column names (see the <strong>-m</strong>/<strong>--map</strong> option).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMAND LINE PARAMETERS</h2>
        <div class="sectioncontent">
<p>Required command line parameters are the \s-1DBI\s0 driver (\*(C`Pg\*(C' for Postgres or \*(C`mysql\*(C' for MySQL) and the database name. The third parameter is optionally and specifies the database user and/or the host where the database resides (\*(C`racke\*(C', \*(C`racke@linuxia.de\*(C' or \*(C`@linuxia.de\*(C').</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><em>Removes</em> all records which remain unaffected from the update process. The same result as deleting all records from the table first and then running dbs_update, but the table is not empty in the meantime. Update only the table columns given by the <em>\s-1COLUMN\s0</em> parameters. To exclude columns from the update prepend \*(C`!\*(C' or \*(C`^\*(C' to the parameters. Update only the input rows given by the <em>\s-1ROW\s0</em> parameters. The first row is 1 where headlines doesn't count. To exclude rows from the update prepend \*(C`!\*(C' or \*(C`^\*(C' to the parameters. Reads records from file <em>\s-1FILE\s0</em> instead of from standard input. Assumes <em>\s-1FORMAT\s0</em> as format for the input. Only <strong>\s-1CSV\s0</strong> can be specified for now, default is <strong>\s-1TAB\s0</strong>. The default field separator for <strong>\s-1CSV\s0</strong> is a comma, you may change this by appending the separator to the format. Reads the column names from the first line of the input instead of dedicting them from the database layout. Requires the <strong>-t/--table</strong> option. Specifies the keys for the table(s) either as the number of columns used as keys or by specifying them explicitly as comma separated arguments to the option. This is used for the detection of existing records. Maps the names found in the first line of input to the actual column names in the database. The alias and the column name are separated with \*(C`=\*(C' signs and the different entries are separated by \*(C`;\*(C' signs, e.g. \*(C`Art-No.=code;Short Description=shortdescr'\*(C'. Applies a filter to the column names read from the input file. Currently there is only the \*(C`lc\*(C' filter available. Updates only records where the value of the column <em>\s-1FIELD\s0</em> is in the result set of the \s-1SQL\s0 statement <em>\s-1STATEMENT\s0</em>, e.g. \*(C`category:{select distinct name from categories}\*(C'. Updates existing database entries only, stops if it detects new ones. Applies <em>\s-1ROUTINE\s0</em> to any data record. <em>\s-1ROUTINE\s0</em> must be a subroutine. dbs_update passes the table name and a hash reference to this subroutine. The keys of the hash are the column names and the values are the corresponding field values. If the return value of <em>\s-1ROUTINE\s0</em> is not a truth value, the data record will be skipped.</p><p>\*(C`sub {my ($table, $valref) = @_;</p>
<pre>
    unless (defined $$valref{country} && $$valref{country} !~ /&#92;S/) {
        $$valref{country} = "Germany";
    }
    1;
</pre>
<p>}\*(C' Lines not matching the assumed format are ignored. Without this option, dbs_update simply stops. Uses <em>\s-1TABLE\s0</em> as table name for all records instead of the first field name.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Stefan Hornburg (Racke), racke@linuxia.de</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dbs_update&hellip;</h2>
        <div class="sectioncontent">
<p><em>perl</em>\|(1), <em>DBIx::Easy</em>\|(3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dbs_printtab.1p.html"><span aria-hidden="true">&larr;</span> dbs_printtab.1p: Prints sql table data on standard output</a></li>
   <li class="next"><a href="debaux-build.1p.html">debaux-build.1p: Debian package building script <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
