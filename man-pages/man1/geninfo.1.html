<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>geninfo: Generate tracefiles from .da files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generate tracefiles from .da files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="geninfo (1) manual">
  <meta name="twitter:description" content="Generate tracefiles from .da files">
  <meta name="twitter:image" content="https://www.carta.tech/images/lcov-geninfo-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/geninfo.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="geninfo (1) manual" />
  <meta property="og:description" content="Generate tracefiles from .da files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lcov-geninfo-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">geninfo<small> (1)</small></h1>
        <p class="lead">Generate tracefiles from .da files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/geninfo.1.html">
      <span itemprop="name">geninfo: Generate tracefiles from .da files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lcov/">
      <span itemprop="name">lcov</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/geninfo.1.html">
      <span itemprop="name">geninfo: Generate tracefiles from .da files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>geninfo</strong> [<strong>-h</strong>|<strong>--help</strong>] [<strong>-v</strong>|<strong>--version</strong>] [<strong>-q</strong>|<strong>--quiet</strong>]</p><p>[<strong>-i</strong>|<strong>--initial</strong>] [<strong>-t</strong>|<strong>--test-name</strong> <em>test-name</em>]</p><p>[<strong>-o</strong>|<strong>--output-filename</strong> <em>filename</em>] [<strong>-f</strong>|<strong>--follow</strong>]</p><p>[<strong>-b</strong>|<strong>--base-directory</strong> <em>directory</em>]</p><p>[<strong>--checksum</strong>] [<strong>--no-checksum</strong>]</p><p>[<strong>--compat-libtool</strong>] [<strong>--no-compat-libtool</strong>]</p><p>[<strong>--gcov-tool</strong> <em>tool</em>] [<strong>--ignore-errors</strong> <em>errors</em>]</p><p>[<strong>--no-recursion</strong>] <em>directory</em> [<strong>--external</strong>] [<strong>--no-external</strong>]</p><p>[<strong>--config-file</strong> <em>config-file</em>] [<strong>--no-markers</strong>]</p><p>[<strong>--derive-func-data</strong>] [<strong>--compat</strong> <em>mode</em>=on|off|auto]</p><p>[<strong>--rc</strong> <em>keyword</em>=<em>value</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>geninfo</strong> converts all GCOV coverage data files found in <em>directory</em> into tracefiles, which the <strong>genhtml</strong> tool can convert to HTML output.</p><p>Unless the --output-filename option is specified, <strong>geninfo</strong> writes its output to one file per .da file, the name of which is generated by simply appending ".info" to the respective .da file name.</p><p>Note that the current user needs write access to both <em>directory</em> as well as to the original source code location. This is necessary because some temporary files have to be created there during the conversion process.</p><p>Note also that <strong>geninfo</strong> is called from within <strong>lcov</strong>, so that there is usually no need to call it directly.</p><p><strong>Exclusion markers</strong></p><p>To exclude specific lines of code from a tracefile, you can add exclusion markers to the source code. Additionally you can exclude specific branches from branch coverage without excluding the involved lines from line and function coverage. Exclusion markers are keywords which can for example be added in the form of a comment.</p><p>The following markers are recognized by geninfo:</p><p>LCOV_EXCL_LINE</p><p>Lines containing this marker will be excluded.</p><p>LCOV_EXCL_START</p><p>Marks the beginning of an excluded section. The current line is part of this section.</p><p>LCOV_EXCL_STOP</p><p>Marks the end of an excluded section. The current line not part of this section.</p><p>LCOV_EXCL_BR_LINE</p><p>Lines containing this marker will be excluded from branch coverage.</p><p>LCOV_EXCL_BR_START</p><p>Marks the beginning of a section which is excluded from branch coverage. The current line is part of this section.</p><p>LCOV_EXCL_BR_STOP</p><p>Marks the end of a section which is excluded from branch coverage. The current line not part of this section.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-b</strong> <em>directory</em></p><p><strong>--base-directory</strong> <em>directory</em></p><p>Use <em>directory</em> as base directory for relative paths.</p><p>Use this option to specify the base directory of a build-environment when geninfo produces error messages like:</p><p>ERROR: could not read source file /home/user/project/subdir1/subdir2/subdir1/subdir2/file.c</p><p>In this example, use /home/user/project as base directory.</p><p>This option is required when using geninfo on projects built with libtool or similar build environments that work with a base directory, i.e. environments, where the current working directory when invoking the compiler is not the same directory in which the source code file is located.</p><p>Note that this option will not work in environments where multiple base directories are used. In that case use configuration file setting <strong>geninfo_auto_base=1</strong> (see <a href="../man5/lcovrc.5.html"><strong>lcovrc</strong>(5)</a>).</p><p><strong>--checksum</strong></p><p><strong>--no-checksum</strong></p><p>Specify whether to generate checksum data when writing tracefiles.</p><p>Use --checksum to enable checksum generation or --no-checksum to disable it. Checksum generation is <strong>disabled</strong> by default.</p><p>When checksum generation is enabled, a checksum will be generated for each source code line and stored along with the coverage data. This checksum will be used to prevent attempts to combine coverage data from different source code versions.</p><p>If you don't work with different source code versions, disable this option to speed up coverage data processing and to reduce the size of tracefiles.</p><p><strong>--compat</strong> <em>mode</em>=<em>value</em>[,<em>mode</em>=<em>value</em>,...]</p><p>Set compatibility mode.</p><p>Use --compat to specify that geninfo should enable one or more compatibility modes when capturing coverage data. You can provide a comma-separated list of mode=value pairs to specify the values for multiple modes.</p><p>Valid <em>values</em> are:</p><p><strong>on</strong></p><p>Enable compatibility mode.</p><p><strong>off</strong></p><p>Disable compatibility mode.</p><p><strong>auto</strong></p><p>Apply auto-detection to determine if compatibility mode is required. Note that auto-detection is not available for all compatibility modes.</p><p>If no value is specified, 'on' is assumed as default value.</p><p>Valid <em>modes</em> are:</p><p><strong>libtool</strong></p><p>Enable this mode if you are capturing coverage data for a project that was built using the libtool mechanism. See also --compat-libtool.</p><p>The default value for this setting is 'on'.</p><p><strong>hammer</strong></p><p>Enable this mode if you are capturing coverage data for a project that was built using a version of GCC 3.3 that contains a modification (hammer patch) of later GCC versions. You can identify a modified GCC 3.3 by checking the build directory of your project for files ending in the extension '.bbg'. Unmodified versions of GCC 3.3 name these files '.bb'.</p><p>The default value for this setting is 'auto'.</p><p><strong>split_crc</strong></p><p>Enable this mode if you are capturing coverage data for a project that was built using a version of GCC 4.6 that contains a modification (split function checksums) of later GCC versions. Typical error messages when running geninfo on coverage data produced by such GCC versions are \'out of memory' and 'reached unexpected end of file'.</p><p>The default value for this setting is 'auto'</p><p><strong>--compat-libtool</strong></p><p><strong>--no-compat-libtool</strong></p><p>Specify whether to enable libtool compatibility mode.</p><p>Use --compat-libtool to enable libtool compatibility mode or --no-compat-libtool to disable it. The libtool compatibility mode is <strong>enabled</strong> by default.</p><p>When libtool compatibility mode is enabled, geninfo will assume that the source code relating to a .da file located in a directory named ".libs" can be found in its parent directory.</p><p>If you have directories named ".libs" in your build environment but don't use libtool, disable this option to prevent problems when capturing coverage data.</p><p><strong>--config-file</strong> <em>config-file</em></p><p>Specify a configuration file to use.</p><p>When this option is specified, neither the system-wide configuration file /etc/lcovrc, nor the per-user configuration file ~/.lcovrc is read.</p><p>This option may be useful when there is a need to run several instances of <strong>geninfo</strong> with different configuration file options in parallel.</p><p><strong>--derive-func-data</strong></p><p>Calculate function coverage data from line coverage data.</p><p>Use this option to collect function coverage data, even if the version of the gcov tool installed on the test system does not provide this data. lcov will instead derive function coverage data from line coverage data and information about which lines belong to a function.</p><p><strong>--external</strong></p><p><strong>--no-external</strong></p><p>Specify whether to capture coverage data for external source files.</p><p>External source files are files which are not located in one of the directories specified by --directory or --base-directory. Use --external to include external source files while capturing coverage data or --no-external to ignore this data.</p><p>Data for external source files is <strong>included</strong> by default.</p><p><strong>-f</strong></p><p><strong>--follow</strong></p><p>Follow links when searching .da files.</p><p><strong>--gcov-tool</strong> <em>tool</em></p><p>Specify the location of the gcov tool.</p><p><strong>-h</strong></p><p><strong>--help</strong></p><p>Print a short help text, then exit.</p><p><strong>--ignore-errors</strong> <em>errors</em></p><p>Specify a list of errors after which to continue processing.</p><p>Use this option to specify a list of one or more classes of errors after which geninfo should continue processing instead of aborting.</p><p><em>errors</em> can be a comma-separated list of the following keywords:</p><p><strong>gcov:</strong> the gcov tool returned with a non-zero return code.</p><p><strong>source:</strong> the source code file for a data set could not be found.</p><p><strong>-i</strong></p><p><strong>--initial</strong></p><p>Capture initial zero coverage data.</p><p>Run geninfo with this option on the directories containing .bb, .bbg or .gcno files before running any test case. The result is a "baseline" coverage data file that contains zero coverage for every instrumented line and function. Combine this data file (using lcov -a) with coverage data files captured after a test run to ensure that the percentage of total lines covered is correct even when not all object code files were loaded during the test.</p><p>Note: currently, the --initial option does not generate branch coverage information.</p><p><strong>--no-markers</strong></p><p>Use this option if you want to get coverage data without regard to exclusion markers in the source code file.</p><p><strong>--no-recursion</strong></p><p>Use this option if you want to get coverage data for the specified directory only without processing subdirectories.</p><p><strong>-o </strong><em>output-filename</em></p><p><strong>--output-filename </strong><em>output-filename</em></p><p>Write all data to <em>output-filename</em>.</p><p>If you want to have all data written to a single file (for easier handling), use this option to specify the respective filename. By default, one tracefile will be created for each processed .da file.</p><p><strong>-q</strong></p><p><strong>--quiet</strong></p><p>Do not print progress messages.</p><p>Suppresses all informational progress output. When this switch is enabled, only error or warning messages are printed.</p><p><strong>--rc</strong> <em>keyword</em>=<em>value</em></p><p>Override a configuration directive.</p><p>Use this option to specify a <em>keyword</em>=<em>value</em> statement which overrides the corresponding configuration statement in the lcovrc configuration file. You can specify this option more than once to override multiple configuration statements. See <a href="../man5/lcovrc.5.html"><strong>lcovrc</strong>(5)</a> for a list of available keywords and their meaning.</p><p><strong>-t </strong><em>testname</em></p><p><strong>--test-name </strong><em>testname</em></p><p>Use test case name <em>testname</em> for resulting data. Valid test case names can consist of letters, decimal digits and the underscore character ('_').</p><p>This proves useful when data from several test cases is merged (i.e. by simply concatenating the respective tracefiles) in which case a test name can be used to differentiate between data from each test case.</p><p><strong>-v</strong></p><p><strong>--version</strong></p><p>Print version number, then exit.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/lcovrc</em></p><p>The system-wide configuration file.</p><p><em>~/.lcovrc</em></p><p>The per-user configuration file.</p><p>Following is a quick description of the tracefile format as used by <strong>genhtml</strong>, <strong>geninfo</strong> and <strong>lcov</strong>.</p><p>A tracefile is made up of several human-readable lines of text, divided into sections. If available, a tracefile begins with the <em>testname</em> which is stored in the following format:</p>
<pre>
  TN:&lt;test name&gt;
</pre>
<p>For each source file referenced in the .da file, there is a section containing filename and coverage data:</p>
<pre>
  SF:&lt;absolute path to the source file&gt;
</pre>
<p>Following is a list of line numbers for each function name found in the source file:</p>
<pre>
  FN:&lt;line number of function start&gt;,&lt;function name&gt;
</pre>
<p>Next, there is a list of execution counts for each instrumented function:</p>
<pre>
  FNDA:&lt;execution count&gt;,&lt;function name&gt;
</pre>
<p>This list is followed by two lines containing the number of functions found and hit:</p>
<pre>
  FNF:&lt;number of functions found&gt;
  FNH:&lt;number of function hit&gt;
</pre>
<p>Branch coverage information is stored which one line per branch:</p>
<pre>
  BRDA:&lt;line number&gt;,&lt;block number&gt;,&lt;branch number&gt;,&lt;taken&gt;
</pre>
<p>Block number and branch number are gcc internal IDs for the branch. Taken is either '-' if the basic block containing the branch was never executed or a number indicating how often that branch was taken.</p><p>Branch coverage summaries are stored in two lines:</p>
<pre>
  BRF:&lt;number of branches found&gt;
  BRH:&lt;number of branches hit&gt;
</pre>
<p>Then there is a list of execution counts for each instrumented line (i.e. a line which resulted in executable code):</p>
<pre>
  DA:&lt;line number&gt;,&lt;execution count&gt;[,&lt;checksum&gt;]
</pre>
<p>Note that there may be an optional checksum present for each instrumented line. The current <strong>geninfo</strong> implementation uses an MD5 hash as checksumming algorithm.</p><p>At the end of a section, there is a summary about how many lines were found and how many were actually instrumented:</p>
<pre>
  LH:&lt;number of lines with a non-zero execution count&gt;
  LF:&lt;number of instrumented lines&gt;
</pre>
<p>Each sections ends with:</p>
<pre>
  end_of_record
</pre>
<p>In addition to the main source code file there are sections for all #included files which also contain executable code.</p><p>Note that the absolute path of a source file is generated by interpreting the contents of the respective .bb file (see <strong>gcov </strong>(1) for more information on this file type). Relative filenames are prefixed with the directory in which the .bb file is found.</p><p>Note also that symbolic links to the .bb file will be resolved so that the actual file path is used instead of the path to a link. This approach is necessary for the mechanism to work with the /proc/gcov files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Peter Oberparleiter &lt;Peter.Oberparleiter@de.ibm.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO geninfo&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/lcov.1.html"><strong>lcov</strong>(1)</a>, <a href="../man5/lcovrc.5.html"><strong>lcovrc</strong>(5)</a>, <a href="../man1/genhtml.1.html"><strong>genhtml</strong>(1)</a>, <a href="../man1/genpng.1.html"><strong>genpng</strong>(1)</a>, <a href="../man1/gendesc.1.html"><strong>gendesc</strong>(1)</a>, <strong>gcov</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="genidl.1.html"><span aria-hidden="true">&larr;</span> genidl.1: Windows typelib information extractor</a></li>
   <li class="next"><a href="genion.1.html">genion.1: Generate monoatomic ions on energetically favorable positions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
