<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pymvpa2-mkevds: Extract (multi-sample) events from a dataset</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extract (multi-sample) events from a dataset">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pymvpa2-mkevds (1) manual">
  <meta name="twitter:description" content="Extract (multi-sample) events from a dataset">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-mvpa2-pymvpa2-mkevds-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pymvpa2-mkevds.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pymvpa2-mkevds (1) manual" />
  <meta property="og:description" content="Extract (multi-sample) events from a dataset" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-mvpa2-pymvpa2-mkevds-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pymvpa2-mkevds<small> (1)</small></h1>
        <p class="lead">Extract (multi-sample) events from a dataset</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pymvpa2-mkevds.1.html">
      <span itemprop="name">pymvpa2-mkevds: Extract (multi-sample) events from a dataset</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-mvpa2/">
      <span itemprop="name">python-mvpa2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pymvpa2-mkevds.1.html">
      <span itemprop="name">pymvpa2-mkevds: Extract (multi-sample) events from a dataset</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pymvpa2</strong> <em>\,mkevds \/</em>[<em>\,--version\/</em>] [<em>\,-h\/</em>] <em>\,-i DATASET \/</em>[<em>\,DATASET \/</em>...] [<em>\,--event-attrs ATTR \/</em>[<em>\,ATTR \/</em>...] <em>\,| --onsets \/</em>[<em>\,TIME \/</em>[<em>\,TIME \/</em>...]] <em>\,| --csv-events FILENAME | --fsl-ev3 FILENAME \/</em>[<em>\,FILENAME \/</em>...]] [<em>\,--time-attr ATTR\/</em>] [<em>\,--onset-column ATTR\/</em>] [<em>\,--offset VALUE\/</em>] [<em>\,--duration VALUE\/</em>] [<em>\,--match-strategy {prev,next,closest}\/</em>] [<em>\,--event-compression {mean,median,min,max}\/</em>] [<em>\,--add-sa VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-fa VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-sa-txt VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-fa-txt VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-sa-attr FILENAME\/</em>] [<em>\,--add-sa-npy VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-fa-npy VALUE \/</em>[<em>\,VALUE \/</em>...]] <em>\,-o OUTPUT \/</em>[<em>\,--hdf5-compression TYPE\/</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Extract (multi-sample) events from a dataset</p><p>An arbitrary number of input datasets is loaded from HDF5 storage. All loaded datasets are concatenated along the samples axis. Based on information about onset and duration of a sequence of events corresponding samples are extracted from the input datasets and converted into event samples. It is possible for an event sample to consist of multiple input samples (i.e. temporal windows).</p><p>Events are defined by onset sample ID and number of consecutive samples that comprise an event. However, events can also be defined as temporal onsets and durations, which will be translated into sample IDs using time stamp information in the input datasets.</p><p>Analogous to the 'mkds' command the event-related dataset can be extended with arbitrary feature and sample attributes (one value per event for the latter).</p><p>The finished event-related dataset is written to an HDF5 file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>show program's version and license information and exit</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong>, <strong>--help-np</strong></p>
  </dt>
  <dd>
    <p>show this help message and exit. <strong>--help-np</strong> forcefully disables the use of a pager for displaying the help.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> DATASET [DATASET ...], <strong>--input</strong> DATASET [DATASET ...]</p>
  </dt>
  <dd>
    <p>path(s) to one or more PyMVPA dataset files. All datasets will be merged into a single dataset (vstack'ed) in order of specification. In some cases this option may need to be specified more than once if multiple, but separate, input datasets are required.</p>
  </dd>

</dl>
<h3>Options for defining events (choose one):</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--event-attrs</strong> ATTR [ATTR ...]</p>
  </dt>
  <dd>
    <p>define events as a unique combinations of values from a set of sample attributes. Going through all samples in the order in which they appear in the input dataset, onset of events are determined by changes in the combination of attribute values. The length of an event is determined by the number of identical consecutive value combinations.</p>
  </dd>
  <dt>
    <p><strong>--onsets</strong> [TIME [TIME ...]]</p>
  </dt>
  <dd>
    <p>reads a list of event onsets (float) from the command line (space-separated). If this option is given, but no arguments are provided, onsets will be read from STDIN (one per line). If <strong>--time-attr</strong> is also given, onsets will be interpreted as time stamps, otherwise they are treated a integer ID of samples.</p>
  </dd>
  <dt>
    <p><strong>--csv-events</strong> FILENAME</p>
  </dt>
  <dd>
    <p>read event information from a CSV table. A variety of dialects are supported. A CSV file must contain a header line with field names as a first row. The table must include an 'onset' column, and can optionally include an arbitrary number of additional columns (e.g. duration, target). All values are passed on to the event-related samples. If '-' is given as a value the CSV table is read from STDIN.</p>
  </dd>
  <dt>
    <p><strong>--fsl-ev3</strong> FILENAME [FILENAME ...]</p>
  </dt>
  <dd>
    <p>read event information from a text file in FSL's EV3 format (one event per line, three columns: onset, duration, intensity). One of more filenames can be given.</p>
  </dd>

</dl>

<h3>Options for modifying or converting events:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--time-attr</strong> ATTR</p>
  </dt>
  <dd>
    <p>dataset attribute with time stamps for input samples. Onset and duration for all events will be converted using this information. All values are assumed to be of the same units.</p>
  </dd>
  <dt>
    <p><strong>--onset-column</strong> ATTR</p>
  </dt>
  <dd>
    <p>name of the column in the CSV event table that indicates event onsets</p>
  </dd>
  <dt>
    <p><strong>--offset</strong> VALUE</p>
  </dt>
  <dd>
    <p>fixed uniform event offset for all events. If no <strong>--time-attr</strong> option is given, this value indicates the number of input samples all event onsets shall be shifted. If <strong>--time-attr</strong> is given, this is treated as a temporal offset that needs to be given in the same unit as the time stamp attribute (see <strong>--time-attr</strong>).</p>
  </dd>
  <dt>
    <p><strong>--duration</strong> VALUE</p>
  </dt>
  <dd>
    <p>fixed uniform duration for all events. If no <strong>--timeattr</strong> option is given, this value indicates the number of consecutive input samples following an onset that belong to an event. If <strong>--time-attr</strong> is given, this is treated as a temporal duration that needs to be given in the same unit as the time stamp attribute (see <strong>--time-attr</strong>).</p>
  </dd>
  <dt>
    <p><strong>--match-strategy</strong> {prev,next,closest}</p>
  </dt>
  <dd>
    <p>strategy used to match time-based onsets to sample indices. 'prev' chooses the closes preceding samples, 'next' the closest following sample and 'closest' to absolute closest sample. Default: 'prev'</p>
  </dd>
  <dt>
    <p><strong>--event-compression</strong> {mean,median,min,max}</p>
  </dt>
  <dd>
    <p>specify whether and how events spanning multiple input samples shall be compressed. A number of methods can be chosen. Selecting, for example, 'mean' will yield the mean of all relevant input samples for an event. By default (when this option is not given) an event will comprise of all concatenated input samples.</p>
  </dd>

</dl>

<h3>Options for attributes from the command line:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--add-sa</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>compose a sample attribute from the command line input. The first value is the desired attribute name, the second value is a comma-separated list (appropriately quoted) of actual attribute values. An optional third value can be given to specify a data type. Additional information on defining dataset attributes on the command line are given in the section "Compose attributes on the command line.</p>
  </dd>
  <dt>
    <p><strong>--add-fa</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>compose a feature attribute from the command line input. The first value is the desired attribute name, the second value is a comma-separated list (appropriately quoted) of actual attribute values. An optional third value can be given to specify a data type. Additional information on defining dataset attributes on the command line are given in the section "Compose attributes on the command line.</p>
  </dd>

</dl>

<h3>Options for attributes from text files:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--add-sa-txt</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load sample attribute from a text file. The first value is the desired attribute name, the second value is the filename the attribute will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from text files".</p>
  </dd>
  <dt>
    <p><strong>--add-fa-txt</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load feature attribute from a text file. The first value is the desired attribute name, the second value is the filename the attribute will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from text files".</p>
  </dd>
  <dt>
    <p><strong>--add-sa-attr</strong> FILENAME</p>
  </dt>
  <dd>
    <p>load sample attribute values from an legacy 'attributes file'. Column data is read as "literal". Only two column files ('targets' + 'chunks') without headers are supported. This option allows for reading attributes files from early PyMVPA versions.</p>
  </dd>

</dl>

<h3>Options for attributes from stored Numpy arrays:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--add-sa-npy</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load sample attribute from a Numpy .npy file. Compressed files (i.e. .npy.gz) are supported as well. The first value is the desired attribute name, the second value is the filename the data will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from Numpy NPY files".</p>
  </dd>
  <dt>
    <p><strong>--add-fa-npy</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load feature attribute from a Numpy .npy file. Compressed files (i.e. .npy.gz) are supported as well. The first value is the desired attribute name, the second value is the filename the data will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from Numpy NPY files".</p>
  </dd>

</dl>

<h3>Output options:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-o</strong> OUTPUT, <strong>--output</strong> OUTPUT</p>
  </dt>
  <dd>
    <p>output filename ('.hdf5' extension is added automatically if necessary). NOTE: The output format is suitable for data exchange between PyMVPA commands, but is not recommended for long-term storage or exchange as its specific content may vary depending on the actual software environment. For long-term storage consider conversion into other data formats (see 'dump' command).</p>
  </dd>
  <dt>
    <p><strong>--hdf5-compression</strong> TYPE</p>
  </dt>
  <dd>
    <p>compression type for HDF5 storage. Available values depend on the specific HDF5 installation. Typical values are: 'gzip', 'lzf', 'szip', or integers from 1 to 9 indicating gzip compression levels.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Extract two events comprising of four consecutive samples from a dataset.</p><ul>
<li><p>$ pymvpa2 mkevds --onsets 3 9 --duration 4 -o evds.hdf5 -i 'mydata*.hdf5'</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Michael Hanke & Yaroslav Halchenko, and numerous other contributors.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2006-2014 PyMVPA developers</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pymvpa2-mkds.1.html"><span aria-hidden="true">&larr;</span> pymvpa2-mkds.1: Create a pymvpa dataset from various sources</a></li>
   <li class="next"><a href="pymvpa2-prep-afni-surf.1.html">pymvpa2-prep-afni-surf.1: Preprocess freesurfer surfaces for afni/suma <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
