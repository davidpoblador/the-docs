<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>outputpbnj: </title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="outputpbnj (1p) manual">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://www.carta.tech/images/pbnj-outputpbnj-1p.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1p/outputpbnj.1p.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="outputpbnj (1p) manual" />
  <meta property="og:description" content="" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pbnj-outputpbnj-1p.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">outputpbnj<small> (1p)</small></h1>
        <p class="lead"></p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/outputpbnj.1p.html">
      <span itemprop="name">outputpbnj: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pbnj/">
      <span itemprop="name">pbnj</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/outputpbnj.1p.html">
      <span itemprop="name">outputpbnj: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p> outputpbnj [Query Options] [Database Options] [General Options]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p> OutputPBNJ uses a query yaml config file to execute queries against  the PBNJ 2.0 database. OutputPBNJ returns the result in various  output types (csv, tab and html).</p><p> Apart of PBNJ 2.0 suite of tools to monitor changes on a network.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p> Usage: outputpbnj [Query Options] [Config Options] [General Options]  Query Options:    -q  --query &lt;name&gt;     Perform sql query    -t  --type &lt;type&gt;      Output Type [csv,tab,html]    -f  --file &lt;file&gt;      Store the result in file otherwise stdout        --both             Print results and store them in a file        --dir &lt;dir&gt;        Store the result in this directory [def .]</p><p>   -l  --lookup &lt;name&gt;    Lookup description based on name        --list             List of names and descriptions    -n  --name             Lookup all the names    -d  --desc             Lookup all the descriptions    -s  --sql              Lookup all the sql queries</p><p> Config Options:         --qconfig &lt;file&gt;  Config of sql queries [def query.yaml]         --dbconfig &lt;file&gt; Config for accessing database [def config.yaml]         --dbdir &lt;dir&gt;     Directory for Config file [def .]</p><p>        --data &lt;file&gt;     SQLite Database override [def data.dbl]</p><p> General Options:        --test &lt;level&gt;     Test Level        --debug &lt;level&gt;    Verbose information    -v  --version          Display version    -h  --help             Display this information</p><p> Send Comments to Joshua D. Abraham ( jabra@ccs.neu.edu )</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THINGS TO NOTE</h2>
        <div class="sectioncontent">
<p> * OutputPBNJ requires root privileges to query a database that is  owned by root. Thus, if you are scanning with ScanPBNJ you will need  to run OutputPBNJ with root privileges to access the database.</p><p> * If there are configs in the current directory, they are used  instead of those in the user's config directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Query Options</h2>
        <div class="sectioncontent">
<p><strong>&#92;$1</strong></p><p> This option is where the actual query is specified. Therefore, once  you know the query you wish to use simply pass it as an argument to  this option.  This options is used to specify which output format you wish to use.  For example, if you would like to have output that you can show  someone else the CSV format is useful because you can simply pull the  file into OpenOffice Calc or Excel as it is a comma delimited file.  This option is used to specifiy output to a file rather than standard  output. This is useful if you want to grow the results of queries as  the result will be added onto the end of the file.  This option is used when you want both output to standard output, as  well as to a file. This will save the result to a file if you are  having the result sent to the screen or piped to your email which you  may or may not disregard.  This option is used with the writing to a file. This option will  store the file in a alternative directory than the current directory.  This options is used to lookup the description of a specific query.  This will return the description of the query.  This option is used to return a list of all the queries with the  names and descriptions. This is very useful when you are starting to  use OutputPBNJ or using a new query config.  This option is used to print the all the query names.  This option is used to print the all the query descriptions. This is  useful to find out all the queries do.  This option is used to print the all the queries. This is useful for  developing new queries based on other queries.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Config Options</h2>
        <div class="sectioncontent">
<p> Config of sql queries [default query.yaml]</p><p> This option is used to specify an alternative query.yaml file.  Config for accessing results database [default config.yaml]</p><p> This option is used to specify an alternative config.yaml file.  Directory for Config file [default .]</p><p> This option is used to specify an alternative directory for the  config.yaml file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL OPTIONS</h2>
        <div class="sectioncontent">
<p> Increases the Test level, causing OutputPBNJ to print testing  information about the Query. Using the Test level is mostly only  using for testing. This will also print the debugging information so  it can get rather lengthy. The greater the Test level the more output  will be given.</p><p> This option is also used for reporting bugs. All bug reports should  be submitted using --test 1 and an additional report may be needed  depending on the issue  Increases the Debug level, causing OutputPBNJ to print more  information about the query in progress. The higher the debug leve  the more output the user will receive.  Prints the OutputPBNJ version number and exits.  Prints a help screen with the command flags.  Running OutputPBNJ without any arguments does the same thing.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p> PBNJ's data files are stored in ScanPBNJ and OutputPBNJ. When either  of these programs is run the configuration files will be generated  for the user if they do not already exists and placed in the  $HOME/.pbnj-2.0 directory. Again, if there is a configuration file in  the current directory it is used instead of the version in the  configuration directory.</p><p> $HOME/.pbnj-2.0/config.yaml - holds settings for connecting to the  database which store the information from PBNJ scans.</p><p> $HOME/.pbnj-2.0/query.yaml - lists all queries that can be used to  retrieve information from the database. Also, includes the name and  description for each query. This is only generated when you executed  OutputPBNJ.</p><p> For Windows, the pbnj-2.0 config directory is in the APPDATA  directory, which contains both config.yaml and query.yaml. Depending  on your environment, the APPDATA directory may be a different location  from other environments. Therefore, when the configs are executed for  the first time they will display the path where the configs were  generated.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QUERY</h2>
        <div class="sectioncontent">
<p> The query.yaml file contains the list of various names, descriptions  and sql queries that can be executed by OutputPBNJ.</p><p> Here is one example:</p><p> - name: vulnssh    desc: list all of the services that have old ssh running    sql: |-     select S.updated_on,M.ip,S.service,S.port,S.version from services     as S, machines as M where service='ssh' and state='up' and     version!='4.1p1'</p><p> This examples shows how the name, description and sql are layed out in  the yaml format. Therefore, we know the name of the query is vulnssh  and it's purpose is to list SSH servers which are not running  a version 4.1p1. It is very easy to create another script that would  check for the latest version of a given service and therefore the  user would be able to verify that that particular service needed to  be updated on the machine that was scanned.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FEATURE REQUESTS</h2>
        <div class="sectioncontent">
<p> Any feature requests should be reported to the online  feature-request-tracking system available on the web at:  http://sourceforge.net/tracker/?func=add&group_id=149390&atid=774489  Before requesting a feature, please check to see if the features has  already been requested.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUG REPORTS</h2>
        <div class="sectioncontent">
<p> Any bugs found should be reported to the online bug-tracking system  available on the web at :  http://sourceforge.net/tracker/?func=add&group_id=149390&atid=774488.  Before reporting bugs, please check to see if the bug has already been  reported.</p><p> When reporting PBNJ bugs, it is important to include a reliable way  to reproduce the bug, version number of PBNJ and Nmap, OS  name and version, and any relevant hardware specs. And of course,  patches to rectify the bug are even better.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED DATABASES</h2>
        <div class="sectioncontent">
<p> The following databases are supported:</p><p> * SQLite [default]  * MySQL  * Postgres  * CSV</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DATABASE SCHEMA</h2>
        <div class="sectioncontent">
<p> The following is the SQLite version of the database schema:</p><p> CREATE TABLE machines (             mid INTEGER PRIMARY KEY AUTOINCREMENT,             ip TEXT,             host TEXT,             localh INTEGER,             os TEXT,             machine_created TEXT,             created_on TEXT);  CREATE TABLE services (             mid INTEGER,             service TEXT,             state TEXT,             port INTEGER,             protocol TEXT,             version TEXT,             banner TEXT,             machine_updated TEXT,             updated_on TEXT);</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO outputpbnj&hellip;</h2>
        <div class="sectioncontent">
<p> <strong>scanpbnj</strong>(1), <strong>genlist</strong>(1), <a href="../man1/nmap.1.html"><strong>nmap</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p> Joshua D. Abraham ( jabra@ccs.neu.edu )</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LEGAL NOTICES</h2>
        <div class="sectioncontent">
<p> This program is distributed in the hope that it will be useful, but  WITHOUT ANY WARRANTY; without even the implied warranty of  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU  General Public License for more details at  http://www.gnu.org/copyleft/gpl.html, or in the COPYING file included  with PBNJ.</p><p> It should also be noted that PBNJ has occasionally been known to crash  poorly written applications, TCP/IP stacks, and even operating systems.  While this is extremely rare, it is important to keep in mind.  PBNJ  should never be run against mission critical systems unless you are  prepared to suffer downtime. We acknowledge here that PBNJ may crash  your systems or networks and we disclaim all liability for any damage  or problems PBNJ could cause.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ocsinventory-agent.1p.html"><span aria-hidden="true">&larr;</span> ocsinventory-agent.1p: Unified client for ocs-inventory</a></li>
   <li class="next"><a href="paf.1p.html">paf.1p: Pod abstract filter. transform pod documents from the command line. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
