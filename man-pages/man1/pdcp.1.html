<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pdcp: Copy files to groups of hosts in parallel  rpdcp - (reverse pdcp) copy files from a group of hosts in parallel</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Copy files to groups of hosts in parallel  rpdcp - (reverse pdcp) copy files from a group of hosts in parallel">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pdcp (1) manual">
  <meta name="twitter:description" content="Copy files to groups of hosts in parallel  rpdcp - (reverse pdcp) copy files from a group of hosts in parallel">
  <meta name="twitter:image" content="https://www.carta.tech/images/pdsh-pdcp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pdcp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pdcp (1) manual" />
  <meta property="og:description" content="Copy files to groups of hosts in parallel  rpdcp - (reverse pdcp) copy files from a group of hosts in parallel" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pdsh-pdcp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pdcp<small> (1)</small></h1>
        <p class="lead">Copy files to groups of hosts in parallel  rpdcp - (reverse pdcp) copy files from a group of hosts in parallel</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pdcp.1.html">
      <span itemprop="name">pdcp: Copy files to groups of hosts in parallel  rpdcp - (reverse pdcp) copy files from a group of hosts in parallel</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pdsh/">
      <span itemprop="name">pdsh</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pdcp.1.html">
      <span itemprop="name">pdcp: Copy files to groups of hosts in parallel  rpdcp - (reverse pdcp) copy files from a group of hosts in parallel</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pdcp</strong> [<em>options</em>]... src [src2...] dest</p><p><strong>rpdcp</strong> [<em>options</em>]... src [src2...] dir</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>pdcp</strong> is a variant of the <strong>rcp</strong>(1) command.  Unlike <strong>rcp</strong>(1), which copies files to a single remote host, <strong>pdcp</strong> can copy files to multiple remote hosts in parallel.  However, <strong>pdcp</strong> does not recognize files in the format ``rname@rhost:path,'' therefore all source files must be on the local host machine.  Destination nodes must be listed on the <strong>pdcp</strong> command line using a suitable target nodelist option (See the <em>OPTIONS</em> section below).  Each destination node listed must have <strong>pdcp</strong> installed for the copy to succeed.</p><p>When <strong>pdcp</strong> receives SIGINT (ctrl-C), it lists the status of current threads.  A second SIGINT within one second terminates the program. Pending threads may be canceled by issuing ctrl-Z within one second of ctrl-C. Pending threads are those that have not yet been initiated, or are still in the process of connecting to the remote host.</p><p>Like <strong>pdsh</strong>(1), the functionality of <strong>pdcp</strong> may be supplemented by dynamically loadable modules. In <strong>pdcp</strong>, the modules may provide a new connect protocol (replacing the standard <strong>rsh</strong>(1) protocol), filtering options (e.g. excluding hosts that are down), and/or host selection options (e.g. <em>-a</em> selects all nodes from a local config file). By default, <strong>pdcp</strong> requires at least one "rcmd" module to be loaded (to provide the channel for remote copy).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REVERSE PDCP</h2>
        <div class="sectioncontent">
<p><strong>rpdcp</strong> performs a reverse parallel copy.  Rather than copying files to remote hosts, files are retrieved from remote hosts and stored locally. All directories or files retrieved will be stored with their remote hostname appended to the filename.  The destination file must be a directory when this option is used.</p><p>In other respects, <strong>rpdcp</strong> is exactly like <strong>pdcp</strong>, and further statements regarding <strong>pdcp</strong> in this manual also apply to <strong>rpdcp</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RCMD MODULES</h2>
        <div class="sectioncontent">
<p>The method by which <strong>pdcp</strong> connects to remote hosts may be selected at runtime using the <em>-R</em> option (See <em>OPTIONS</em> below). This functionality is ultimately implemented via dynamically loadable modules, and so the list of available options may be different from installation to installation. A list of currently available rcmd modules is printed when using any of the <em>-h</em>, <em>-V</em>, or <em>-L</em> options. The default rcmd module will also be displayed with the <em>-h</em> and <em>-V</em> options.</p><p>A list of <em>rcmd</em> modules currently distributed with <strong>pdcp</strong> follows.</p>
<dl class='dl-vertical'>
  <dt>
    <p>rsh</p>
  </dt>
  <dd>
    <p>Uses an internal, thread-safe implementation of BSD <a href="../man3/rcmd.3.html"><strong>rcmd</strong>(3)</a> to run commands using the standard <strong>rsh</strong>(1) protocol.</p>
  </dd>
  <dt>
    <p>ssh</p>
  </dt>
  <dd>
    <p>Uses a variant of <a href="../man3/popen.3.html"><strong>popen</strong>(3)</a> to run multiple copies of the <strong>ssh</strong>(1) command.</p>
  </dd>
  <dt>
    <p>mrsh</p>
  </dt>
  <dd>
    <p>This module uses the <strong>mrsh</strong>(1) protocol to execute jobs on remote hosts. The mrsh protocol uses a credential based authentication, forgoing the need to allocate reserved ports. In other aspects, it acts just like rsh.</p>
  </dd>
  <dt>
    <p>krb4</p>
  </dt>
  <dd>
    <p>The krb4 module allows users to execute remote commands after authenticating with kerberos. Of course, the remote rshd daemons must be kerberized.</p>
  </dd>
  <dt>
    <p>xcpu</p>
  </dt>
  <dd>
    <p>The xcpu module uses the xcpu service to execute remote commands.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The list of available <strong>pdcp</strong> options is determined at runtime by supplementing the list of standard <strong>pdcp</strong> options with any options provided by loaded <em>rcmd</em> and <em>misc</em> modules. In some cases, options provided by modules may conflict with each other. In these cases, the modules are incompatible and the first module loaded wins.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Standard target nodelist options</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-w</strong> <em>TARGETS,...</em></p>
  </dt>
  <dd>
    <p>Target and or filter the specified list of hosts. Do not use with any other node selection options (e.g. <em>-a</em>, <em>-g</em>, if they are available). No spaces are allowed in the comma-separated list.  Arguments in the <em>TARGETS</em> list may include normal host names, a range of hosts in hostlist format (See <strong>HOSTLIST EXPRESSIONS</strong>), or a single `-' character to read the list of hosts on stdin.</p><p>If a host or hostlist is preceded by a `-' character, this causes those hosts to be explicitly excluded. If the argument is preceded by a single `^' character, it is taken to be the path to file containing a list of hosts, one per line. If the item begins with a `/' character, it is taken  as a regular expression on which to filter the list of hosts (a regex argument may also be optionally trailed by another '/', e.g.  /node.*/). A regex or file name argument may also be preceeded by a minus `-' to exclude instead of include thoses hosts.</p><p>A list of hosts may also be preceded by "user@" to specify a remote username other than the default, or "rcmd_type:" to specify an alternate rcmd connection type for these hosts. When used together, the rcmd type must be specified first, e.g. "ssh:user1@host0" would use ssh to connect to host0 as user "user1."</p>
  </dd>
  <dt>
    <p><em></em><strong>-x</strong> <em>host,host,...</em></p>
  </dt>
  <dd>
    <p>Exclude the specified hosts. May be specified in conjunction with other target node list options such as <em>-a</em> and <em>-g</em> (when available). Hostlists may also be specified to the <em>-x</em> option (see the <strong>HOSTLIST EXPRESSIONS</strong> section below). Arguments to <em>-x</em> may also be preceeded by the filename (`^') and regex ('/') characters as described above, in which case the resulting hosts are excluded as if they had been given to <strong>-w</strong> and preceeded with the minus `-' character.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Standard pdcp options</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>-h</em></p>
  </dt>
  <dd>
    <p>Output usage menu and quit. A list of available rcmd modules will be printed at the end of the usage message.</p>
  </dd>
  <dt>
    <p><em>-q</em></p>
  </dt>
  <dd>
    <p>List option values and the target nodelist and exit without action.</p>
  </dd>
  <dt>
    <p><em>-b</em></p>
  </dt>
  <dd>
    <p>Disable ctrl-C status feature so that a single ctrl-C kills parallel copy. (Batch Mode)</p>
  </dd>
  <dt>
    <p><em>-r</em></p>
  </dt>
  <dd>
    <p>Copy directories recursively.</p>
  </dd>
  <dt>
    <p><em>-p</em></p>
  </dt>
  <dd>
    <p>Preserve modification time and modes.</p>
  </dd>
  <dt>
    <p><em>-e PATH</em></p>
  </dt>
  <dd>
    <p>Explicitly specify path to remote <strong>pdcp</strong> binary instead of using the locally executed path. Can also be set via the environment variable PDSH_REMOTE_PDCP_PATH.</p>
  </dd>
  <dt>
    <p><em>-l user</em></p>
  </dt>
  <dd>
    <p>This option may be used to copy files as another user, subject to authorization. For BSD rcmd, this means the invoking user and system must be listed in the user\'s .rhosts file (even for root).</p>
  </dd>
  <dt>
    <p><em>-t seconds</em></p>
  </dt>
  <dd>
    <p>Set the connect timeout. Default is 10 seconds.</p>
  </dd>
  <dt>
    <p><em>-f number</em></p>
  </dt>
  <dd>
    <p>Set the maximum number of simultaneous remote copies to <em>number</em>. The default is 32.</p>
  </dd>
  <dt>
    <p><em>-R name</em></p>
  </dt>
  <dd>
    <p>Set rcmd module to <em>name</em>. This option may also be set via the PDSH_RCMD_TYPE environment variable. A list of available rcmd modules may be obtained via either the <em>-h</em> or <em>-L</em> options.</p>
  </dd>
  <dt>
    <p><em>-M name,...</em></p>
  </dt>
  <dd>
    <p>When multiple <strong>misc</strong> modules provide the same options to <strong>pdsh</strong>, the first module initialized "wins" and subsequent modules are not loaded. The <em>-M</em> option allows a list of modules to be specified that will be force-initialized before all others, in-effect ensuring that they load without conflict (unless they conflict with eachother). This option may also be set via the PDSH_MISC_MODULES environment variable.</p>
  </dd>
  <dt>
    <p><em>-L</em></p>
  </dt>
  <dd>
    <p>List info on all loaded <strong>pdcp</strong> modules and quit.</p>
  </dd>
  <dt>
    <p><em>-d</em></p>
  </dt>
  <dd>
    <p>Include more complete thread status when SIGINT is received, and display connect and command time statistics on stderr when done.</p>
  </dd>
  <dt>
    <p><em>-V</em></p>
  </dt>
  <dd>
    <p>Output <strong>pdcp</strong> version information, along with list of currently loaded modules, and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOSTLIST EXPRESSIONS</h2>
        <div class="sectioncontent">
<p>As noted in sections above, <strong>pdcp</strong> accepts ranges of hostnames in the general form: prefix[n-m,l-k,...], where n &lt; m and l &lt; k, etc., as an alternative to explicit lists of hosts.  This form should not be confused with regular expression character classes (also denoted by ``[]''). For example, foo[19] does not represent foo1 or foo9, but rather represents a degenerate range: foo19.</p><p>This range syntax is meant only as a convenience on clusters with a prefixNN naming convention and specification of ranges should not be considered necessary -- the list foo1,foo9 could be specified as such, or by the range foo[1,9].</p><p>Some examples of range usage follow:</p>
<pre>
Copy /etc/hosts to foo01,foo02,...,foo05
    pdcp -w foo[01-05] /etc/hosts /etc

Copy /etc/hosts to foo7,foo9,foo10
    pdcp -w foo[7,9-10] /etc/hosts /etc

Copy /etc/hosts to foo0,foo4,foo5
    pdcp -w foo[0-5] -x foo[1-3] /etc/hosts /etc

</pre>
<p>As a reminder to the reader, some shells will interpret brackets ('[' and ']') for pattern matching.  Depending on your shell, it may be necessary to enclose ranged lists within quotes.  For example, in tcsh, the first example above should be executed as:</p>
<pre>
    pdcp -w "foo[01-05]" /etc/hosts /etc
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ORIGIN</h2>
        <div class="sectioncontent">
<p>Pdsh/pdcp was originally a rewrite of IBM <a href="../man1/dsh.1.html"><strong>dsh</strong>(1)</a> by Jim Garlick &lt;garlick@llnl.gov&gt; on LLNL's ASCI Blue-Pacific IBM SP system. It is now also used on Linux clusters at LLNL.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>When using <strong>ssh</strong> for remote execution, stderr of ssh to be folded in with that of the remote command.  When invoked by pdcp, it is not possible for ssh to prompt for confirmation if a host key changes, prompt for passwords if RSA keys are not configured properly, etc..  Finally, the connect timeout is only adjustable with ssh when the underlying ssh implementation supports it, and pdsh has been built to use the correct option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pdcp&hellip;</h2>
        <div class="sectioncontent">
<p><strong>pdsh</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pdbtxt2html.1.html"><span aria-hidden="true">&larr;</span> pdbtxt2html.1: Doc text to html converter for palm pilots</a></li>
   <li class="next"><a href="pddet.1.html">pddet.1: Tool to survey of procedure and descriptor usage <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
