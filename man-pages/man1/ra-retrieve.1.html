<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ra-retrieve: Retrieve files that match a query for use with remembrance agent software</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Retrieve files that match a query for use with remembrance agent software">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ra-retrieve (1) manual">
  <meta name="twitter:description" content="Retrieve files that match a query for use with remembrance agent software">
  <meta name="twitter:image" content="https://www.carta.tech/images/remembrance-agent-ra-retrieve-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ra-retrieve.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ra-retrieve (1) manual" />
  <meta property="og:description" content="Retrieve files that match a query for use with remembrance agent software" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/remembrance-agent-ra-retrieve-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ra-retrieve<small> (1)</small></h1>
        <p class="lead">Retrieve files that match a query for use with remembrance agent software</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ra-retrieve.1.html">
      <span itemprop="name">ra-retrieve: Retrieve files that match a query for use with remembrance agent software</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/remembrance-agent/">
      <span itemprop="name">remembrance-agent</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ra-retrieve.1.html">
      <span itemprop="name">ra-retrieve: Retrieve files that match a query for use with remembrance agent software</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ra-retrieve</strong> [--version] [-v] [-d] lt;base-dirgt; [--docnum lt;docnumgt;]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>ra-index</strong> and <strong>ra-retrieve</strong> make up the Savant search engine, an information retrieval engine designed as a back-end for the Remembrance Agent (RA).  Given a collection of the user's accumulated email, usenet news articles, papers, saved HTML files and other text notes, the RA attempts to find those documents which are most relevant to the user's current context.  That is, it searches this collection of text for the documents which bear the highest word-for-word similarity to the text the user is currently editing, in the hope that they will also bear high conceptual similarity and thus be useful to the user's current work.  With the Emacs front-end, these suggestions are continuously displayed in a small buffer at the bottom of the user's window.  If a suggestion looks useful, the full text can be retrieved with a single command.</p><p>The Remembrance Agent works in two stages.  First, the user's collection of text documents is indexed into a database saved in a vector format.  After the database is created, the other stage of the Remembrance Agent is run from emacs, where it periodically takes a sample of text from the working buffer and finds those documents from the collection that are most similar. It summarizes the top documents in a small emacs window and allows you to retrieve the entire text of any one with a keystroke.  See the README file for information on using the Emacs front-end.</p><p>The RA is primarily designed as a proactive information provider that continually gives you information that might be relevant to your current environment.  In this mode, <strong>ra-retrieve</strong> is run by a front end and its output is parsed into a more human-readable format.  However, Savant can also be used as a standard text and information retrieval search engine.</p><h3>USAGE</h3>
<p>The one argument to <strong>ra-retrieve</strong> is &lt;base-dir&gt;, which is the directory containing the index files created by <strong>ra-index.</strong> This starts an interactive process that handles queries and returns documents that most match that query.  When running with the -v argument, a menu and other information is printed.  Without the -v option it is assumed that <strong>ra-retrieve</strong> has been run from a front-end, and only minimal information is printed. The following commands are available:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>query &lt;num-lines&gt;</em></p>
  </dt>
  <dd>
    <p>Find the &lt;num-lines&gt; most relevant documents to a query.  Default is 5. Enter the text of the query, followed by a ^D (ASCII 04).  If the query matches a predefined template then fields are parsed and separately.  For example, in emacs mail mode the from, subject, date and body of the message are all individually parsed.  If no template matches, the query is assumed to be plain text.</p><p>A query will output up to n summary lines followed by a period on a line by itself.  Each summary line will contain a line number, relevance number, document number, and a series of fields describing the document.  The final field is a comma-separated list of words from the query that most contributed to this document being chosen.</p>
  </dd>
  <dt>
    <p><em>retrieve &lt;document number&gt;</em></p>
  </dt>
  <dd>
    <p>Retrieve and print the document with the given document number.  Document number is the third field outputed by the query.  The full text of the document is displayed.  If the document is a part of a larger file, such as in an email in an archive file, only that one document is shown.</p>
  </dd>
  <dt>
    <p><em>loc-retrieve &lt;document number&gt;</em></p>
  </dt>
  <dd>
    <p>Retrieve and print the location of the document with the given document number.  Three values are displayed, each on their own separate line.  The first is the character offset to where the beginning of the document is found.  The second is the character offset for the end of the document. The third line contains the fully expanded filename for the document itself.  This is primarily so front-ends can load the document and display them with their own formatting.</p>
  </dd>
  <dt>
    <p><em>info</em></p>
  </dt>
  <dd>
    <p>Display version and database info.</p>
  </dd>
  <dt>
    <p><em>quit</em></p>
  </dt>
  <dd>
    <p>Quit.</p>
  </dd>
  <dt>
    <p><em>?</em></p>
  </dt>
  <dd>
    <p>Display menu.</p>
  </dd>

</dl>

<h3>OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p><em>-v</em></p>
  </dt>
  <dd>
    <p>Verbose mode.  Print a menu and other info for running without a front-end.</p>
  </dd>
  <dt>
    <p><em>-d</em></p>
  </dt>
  <dd>
    <p>Debug mode.  Print not-so-useful information.</p>
  </dd>
  <dt>
    <p><em>[--docnum lt;docnumgt;]</em></p>
  </dt>
  <dd>
    <p>Print the contents of the specified document number and exit. This option doesn't use as much memory as interactive mode, and is useful for scripts that call this program.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ra-retrieve&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ra-index.1.html"><strong>ra-index</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Bradley Rhodes, MIT Media Lab.  Please send comments and questions to ra-bugs@media.mit.edu.  New versions and updates can be found at http://www.media.mit.edu/~rhodes/RA/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>All code included in versions up to and including 2.09:</p>
<pre>
   Copyright (C) 2001 Massachusetts Institute of Technology.
</pre>
<p>All modifications subsequent to version 2.09 are copyright Bradley Rhodes or their respective authors.</p><p>Developed by Bradley Rhodes at the Media Laboratory, MIT, Cambridge, Massachusetts, with support from British Telecom and Merrill Lynch.</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.  For commercial licensing under other terms, please consult the MIT Technology Licensing Office.</p><p>This program may be subject to the following US and/or foreign patents (pending): "Method and Apparatus for Automated, Context-Dependent Retrieval of Information," MIT Case No. 7870TS. If any of these patents are granted, royalty-free license to use this and derivative programs under the GNU General Public License are hereby granted.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Dates are not currently indexed, so anything trying to do a date query gets no suggestion back.</p><p>Requires GNU make to compile.</p><p>The template structure isn't documented.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ra-index.1.html"><span aria-hidden="true">&larr;</span> ra-index.1: Index files for use with remembrance agent software</a></li>
   <li class="next"><a href="ra6.1.html">ra6.1: A security assessment tool for attack vectors based on icmpv6 router advertisement messages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
