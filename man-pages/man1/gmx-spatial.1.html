<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gmx-spatial: Calculate the spatial distribution function</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Calculate the spatial distribution function">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gmx-spatial (1) manual">
  <meta name="twitter:description" content="Calculate the spatial distribution function">
  <meta name="twitter:image" content="https://www.carta.tech/images/gromacs-data-gmx-spatial-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/gmx-spatial.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gmx-spatial (1) manual" />
  <meta property="og:description" content="Calculate the spatial distribution function" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gromacs-data-gmx-spatial-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gmx-spatial<small> (1)</small></h1>
        <p class="lead">Calculate the spatial distribution function</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gmx-spatial.1.html">
      <span itemprop="name">gmx-spatial: Calculate the spatial distribution function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gromacs-data/">
      <span itemprop="name">gromacs-data</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gmx-spatial.1.html">
      <span itemprop="name">gmx-spatial: Calculate the spatial distribution function</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>gmx spatial [-s [&lt;.tpr/.tpb/...&gt;]] [-f [&lt;.xtc/.trr/...&gt;]]</p>
<pre>
            [-n [&lt;.ndx&gt;]] [-nice &lt;int&gt;] [-b &lt;time&gt;] [-e &lt;time&gt;]
            [-dt &lt;time&gt;] [-[no]w] [-[no]pbc] [-[no]div] [-ign &lt;int&gt;]
            [-bin &lt;real&gt;] [-nab &lt;int&gt;]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>gmx spatial</strong> calculates the spatial distribution function and outputs it in a form that can be read by VMD as Gaussian98 cube format. For a system of 32,000 atoms and a 50 ns trajectory, the SDF can be generated in about 30 minutes, with most of the time dedicated to the two runs through <strong>trjconv</strong> that are required to center everything properly. This also takes a whole bunch of space (3 copies of the trajectory file). Still, the pictures are pretty and very informative when the fitted selection is properly made. 3-4 atoms in a widely mobile group (like a free amino acid in solution) works well, or select the protein backbone in a stable folded structure to get the SDF of solvent and look at the time-averaged solvation shell. It is also possible using this program to generate the SDF based on some arbitrary Cartesian coordinate. To do that, simply omit the preliminary <strong>gmx trjconv</strong> steps. USAGE: 1. Use <strong>gmx make_ndx</strong> to create a group containing the atoms around which you want the SDF 2. <strong>gmx trjconv -s a.tpr -f a.tng -o b.tng -boxcenter tric -ur compact -pbc none</strong> 3. <strong>gmx trjconv -s a.tpr -f b.tng -o c.tng -fit rot+trans</strong> 4. run <strong>gmx spatial</strong> on the <strong>c.tng</strong> output of step 3. 5. Load <strong>grid.cube</strong> into VMD and view as an isosurface. <strong>Note</strong> that systems such as micelles will require <strong>gmx trjconv -pbc cluster</strong> between steps 1 and 2 WARNINGS: The SDF will be generated for a cube that contains all bins that have some non-zero occupancy. However, the preparatory <strong>-fit rot+trans</strong> option to <strong>gmx trjconv</strong> implies that your system will be rotating and translating in space (in order that the selected group does not). Therefore the values that are returned will only be valid for some region around your central group/coordinate that has full overlap with system volume throughout the entire translated/rotated system over the course of the trajectory. It is up to the user to ensure that this is the case. BUGS: When the allocated memory is not large enough, a segmentation fault may occur. This is usually detected and the program is halted prior to the fault while displaying a warning message suggesting the use of the <strong>-nab</strong> (Number of Additional Bins) option. However, the program does not detect all such events. If you encounter a segmentation fault, run it again with an increased <strong>-nab</strong> value. RISKY OPTIONS: To reduce the amount of space and time required, you can output only the coords that are going to be used in the first and subsequent run through <strong>gmx trjconv</strong>. However, be sure to set the <strong>-nab</strong> option to a sufficiently high value since memory is allocated for cube bins based on the initial coordinates and the <strong>-nab</strong> option value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Options to specify input and output files:</p><p><strong>-s</strong><em> [&lt;.tpr/.tpb/...&gt;] (topol.tpr) (Input)</em></p>
<pre>
    Structure+mass(db): tpr tpb tpa gro g96 pdb brk ent
</pre>
<p><strong>-f</strong><em> [&lt;.xtc/.trr/...&gt;] (traj.xtc) (Input)</em></p>
<pre>
    Trajectory: xtc trr cpt trj gro g96 pdb tng
</pre>
<p><strong>-n</strong><em> [&lt;.ndx&gt;] (index.ndx) (Input, Optional)</em></p>
<pre>
    Index file
</pre>
<p>Other options:</p><p><strong>-nice</strong><em> &lt;int&gt; (0)</em></p>
<pre>
    Set the nicelevel
</pre>
<p><strong>-b</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    First frame (ps) to read from trajectory
</pre>
<p><strong>-e</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Last frame (ps) to read from trajectory
</pre>
<p><strong>-dt</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Only use frame when t MOD dt = first time (ps)
</pre>
<p><strong>-[no]w</strong><em>  (no)</em></p>
<pre>
    View output <strong>.xvg</strong>, <strong>.xpm</strong>, <strong>.eps</strong> and <strong>.pdb</strong> files
</pre>
<p><strong>-[no]pbc</strong><em>  (no)</em></p>
<pre>
    Use periodic boundary conditions for computing distances
</pre>
<p><strong>-[no]div</strong><em>  (yes)</em></p>
<pre>
    Calculate and apply the divisor for bin occupancies based on atoms/minimal cube size. Set as TRUE for visualization and as FALSE (<strong>-nodiv</strong>) to get accurate counts per frame
</pre>
<p><strong>-ign</strong><em> &lt;int&gt; (-1)</em></p>
<pre>
    Do not display this number of outer cubes (positive values may reduce boundary speckles; -1 ensures outer surface is visible)
</pre>
<p><strong>-bin</strong><em> &lt;real&gt; (0.05)</em></p>
<pre>
    Width of the bins (nm)
</pre>
<p><strong>-nab</strong><em> &lt;int&gt; (4)</em></p>
<pre>
    Number of additional bins to ensure proper memory allocation
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gmx-spatial&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/gromacs.7.html"><strong>gromacs</strong>(7)</a></strong></p><p>More information about <strong>GROMACS</strong> is available at &lt;<em>http://www.gromacs.org/</em>&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gmx-sorient.1.html"><span aria-hidden="true">&larr;</span> gmx-sorient.1: Analyze solvent orientation around solutes</a></li>
   <li class="next"><a href="gmx-spol.1.html">gmx-spol.1: Analyze solvent dipole orientation and polarization around solutes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
