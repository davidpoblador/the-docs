<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>makebootfat: Makebootfat \(hy makebootfat bootable fat disk creation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Makebootfat \(hy makebootfat bootable fat disk creation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="makebootfat (1) manual">
  <meta name="twitter:description" content="Makebootfat \(hy makebootfat bootable fat disk creation">
  <meta name="twitter:image" content="https://www.carta.tech/images/makebootfat-makebootfat-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/makebootfat.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="makebootfat (1) manual" />
  <meta property="og:description" content="Makebootfat \(hy makebootfat bootable fat disk creation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/makebootfat-makebootfat-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">makebootfat<small> (1)</small></h1>
        <p class="lead">Makebootfat \(hy makebootfat bootable fat disk creation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/makebootfat.1.html">
      <span itemprop="name">makebootfat: Makebootfat \(hy makebootfat bootable fat disk creation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/makebootfat/">
      <span itemprop="name">makebootfat</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/makebootfat.1.html">
      <span itemprop="name">makebootfat: Makebootfat \(hy makebootfat bootable fat disk creation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>makebootfat [options] IMAGE</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This utility creates a bootable FAT filesystem and populates it with files and boot tools.</p><p>It is mainly designed to create bootable USB and Fixed disk for the AdvanceCD project.</p><p>The official site of AdvanceCD and makebootfat is:</p><p>http://advancemame.sourceforge.net/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>\(hyo, \(hy\(hyoutput DEVICE</strong></p>
  </dt>
  <dd>
    <p>Specify the output device. It must be the device where you want to setup the filesystem. You can use the special \(a"usb\(a" value to automatically select the USB Mass Storage device connected at the system. This option is always required.</p>
  </dd>
  <dt>
    <p><strong>\(hyb, \(hy\(hyboot FILE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>\(hy1, \(hy\(hyboot\(hyfat12 FILE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>\(hy2, \(hy\(hyboot\(hyfat16 FILE</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>\(hy3, \(hy\(hyboot\(hyfat32 FILE</strong></p>
  </dt>
  <dd>
    <p>Specify the FAT boot sector images to use. The \(hyb option uses the same sector for all the FAT types. The other options can be used to specify a different sector for different FAT types. The FAT types for which a boot sector is not specified are not used. This option is always required.</p>
  </dd>
  <dt>
    <p><strong>\(hym, \(hy\(hymbr FILE</strong></p>
  </dt>
  <dd>
    <p>Specify the MBR sector image to use. If this option is specified a partition table is created on the disk. Otherwise the disk is filled without a partition table like a floppy disk.</p>
  </dd>
  <dt>
    <p><strong>\(hyF, \(hy\(hymbrfat</strong></p>
  </dt>
  <dd>
    <p>Change the MBR image specified with the \(hym option to pretend to be a FAT filesystem starting from the first sector of the disk. This allows booting from USB\(hyFDD (Floppy Disk Drive) also using a partition table generally required by USB\(hyHDD (Hard Disk Drive). The MBR image specified with the \(hym option must have executable code positioned like a FAT boot sector. You can use the included \(oqmbrfat.bin\(cq file.</p>
  </dd>
  <dt>
    <p><strong>\(hyc, \(hy\(hycopy FILE</strong></p>
  </dt>
  <dd>
    <p>Copy the specified file in the root directory of the disk. The file is copied using the readonly attribute.</p>
  </dd>
  <dt>
    <p><strong>\(hyx, \(hy\(hyexclude FILE</strong></p>
  </dt>
  <dd>
    <p>Exclude the specified files and subdirectories in the IMAGE directory to copy. The path must be specified using the same format used in the IMAGE directory specification.</p>
  </dd>
  <dt>
    <p><strong>\(hyX, \(hy\(hysyslinux2</strong></p>
  </dt>
  <dd>
    <p>Enforce the syslinux 2.xx FAT limitations. Syslinux 2.xx doesn\(cqt support FAT32 at all, and FAT16 with 64 and 128 sectors per cluster formats. This option excludes all the FAT formats not supported by syslinux. Please note that it limits the maximum size of filesystem to 1 GB.</p>
  </dd>
  <dt>
    <p><strong>\(hyY, \(hy\(hysyslinux3</strong></p>
  </dt>
  <dd>
    <p>Enforce the syslinux 3.xx FAT support. Syslinux 3.00 supports all the FAT types and sizes but it requires a special customisation of the boot sector and of the file \(oqldlinux.sys\(cq. This option does this customisation without the need to use the syslinux installer if the \(oqldlinux.sys\(cq file is copied on disk with the \(hyc option.</p>
  </dd>
  <dt>
    <p><strong>\(hyZ, \(hy\(hyzip</strong></p>
  </dt>
  <dd>
    <p>If possible force the ZIP\(hyDisk compatibility. It sets a geometry of 32 sectors and 64 heads. It also uses the 4\(cqth partition entry in the partition table. It\(cqs required to boot also in USB\(hyZIP mode.</p>
  </dd>
  <dt>
    <p><strong>\(hyP, \(hy\(hypartition</strong></p>
  </dt>
  <dd>
    <p>Ensure to operate on a partition and not on a disk.</p>
  </dd>
  <dt>
    <p><strong>\(hyD, \(hy\(hydisk</strong></p>
  </dt>
  <dd>
    <p>Ensure to operate on a disk and not on a partition.</p>
  </dd>
  <dt>
    <p><strong>\(hyL, \(hy\(hylabel LABEL</strong></p>
  </dt>
  <dd>
    <p>Set the FAT label. The label is a string of 11 chars.</p>
  </dd>
  <dt>
    <p><strong>\(hyO, \(hy\(hyoem OEM</strong></p>
  </dt>
  <dd>
    <p>Set the FAT OEM name. The OEM name is a string of 11 chars.</p>
  </dd>
  <dt>
    <p><strong>\(hyS, \(hy\(hyserial SERIAL</strong></p>
  </dt>
  <dd>
    <p>Set the FAT serial number. The serial number is a 32 bit unsigned integer.</p>
  </dd>
  <dt>
    <p><strong>\(hyE, \(hy\(hydrive DRIVE</strong></p>
  </dt>
  <dd>
    <p>Set the BIOS drive to setup in the FAT boot sector. Generally this value is ignored by boot sectors, with the exception of the FAT12 and FAT16 FreeDOS boot sectors that require the correct value or the value 255 to force auto detection.</p>
  </dd>
  <dt>
    <p><strong>\(hyv, \(hy\(hyverbose</strong></p>
  </dt>
  <dd>
    <p>Print some information on the device and on the filesystem created.</p>
  </dd>
  <dt>
    <p><strong>\(hyi, \(hy\(hyinteractive</strong></p>
  </dt>
  <dd>
    <p>Show the errors in a message box. Only for Windows.</p>
  </dd>
  <dt>
    <p><strong>\(hyh, \(hy\(hyhelp</strong></p>
  </dt>
  <dd>
    <p>Print a short help.</p>
  </dd>
  <dt>
    <p><strong>\(hyV, \(hy\(hyversion</strong></p>
  </dt>
  <dd>
    <p>Print the version number.</p>
  </dd>
  <dt>
    <p><strong>IMAGE</strong></p>
  </dt>
  <dd>
    <p>Directory image to copy on the disk. All the files and subdirectories present in this directory are copied on the disk.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISKS AND PARTITIONS NAMES</h2>
        <div class="sectioncontent">
<p>In Linux disk devices are named /dev/hdX or /dev/sdX where X is a letter. Partition devices are named /dev/hdXN or /dev/sdXN where X is a letter and N a digit.</p><p>In Windows disk devices are named \(rs\(rs.\(rsPhysicalDriveN where N is a digit. Partition devices are named \(rs\(rs.\(rsX: where X is a letter, but sometimes \(rs\(rs.\(rsX: is a disk and not a partition, for example on floppies and on all the USB Mass Storage devices without a partition table.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYSLINUX</h2>
        <div class="sectioncontent">
<p>To make a bootable FAT using syslinux you must use the \(hyX option for syslinux version 2.xx or the \(hyY option for syslinux version 3.xx. You must also copy in the root directory of the disk the files:</p><p><em>ldlinux.sys</em> The syslinux loader. <em>syslinux.cfg</em> The syslinux configuration file. <em>linux</em> The Linux kernel image  (the file name may be different). <em>initrd.img</em> The initrd filesystem (the file name may be different or missing).</p><p>You must also specify the \(oqldlinux.bss\(cq boot sector with the \(hyb option and possibily the \(oqmbr.bin\(cq MBR sector with the \(hym option. Both the sector images are present in the syslinux package.</p><p>For example:</p><p>makebootfat \(hyo usb \(rs</p><p>	\(hyY \(rs</p><p>	\(hyb ldlinux.bss \(hym mbr.bin \(rs</p><p>	\(hyc ldlinux.sys \(hyc syslinux.cfg \(rs</p><p>	\(hyc linux \(hyc initrd.img \(rs</p><p>	image</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LOADLIN AND FREEDOS</h2>
        <div class="sectioncontent">
<p>To make a bootable FAT using loadlin and FreeDOS you must copy in the root directory of the disk the files:</p><p><em>kernel.sys</em> The FreeDOS kernel. Remember to use the \(a"32\(a" kernel version to support FAT32. <em>command.com</em> The FreeDOS shell. <em>autoexec.bat</em> Used to start loadlin. <em>loadlin.exe</em> The loadlin executable. <em>linux</em> The Linux kernel image  (the file name may be different). <em>initrd.img</em> The initrd filesystem (the file name may be different or missing).</p><p>You must also specify the FreeDOS boot sectors available on the FreeDOS \(oqsys\(cq source package with the \(hy1, \(hy2, \(hy3 option. For the MBR you can use the sectors image available on the FreeDOS \(oqfdisk\(cq source package.</p><p>For example:</p><p>makebootfat \(hyo /dev/hda1 \(rs</p><p>	\(hyE 255 \(rs</p><p>	\(hy1 fat12com.bin \(hy2 fat16com.bin \(hy3 fat32lba.bin \(rs</p><p>	\(hyc kernel.sys \(hyc command.com \(rs</p><p>	\(hyc autoexec.bat \(hyc loadlin.exe \(rs</p><p>	\(hyc linux \(hyc initrd.img \(rs</p><p>	image</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MULTI STANDARD USB BOOTING</h2>
        <div class="sectioncontent">
<p>The BIOS USB boot support is generally differentiated in three categories: USB\(hyHDD, USB\(hyFDD and USB\(hyZIP.</p><p>The USB\(hyHDD (Hard Disk Drive) standard is the preferred choice and it requires the presence of a partition table in the first sector of the disk. You can create this type of disk using the \(hym option.</p><p>The USB\(hyFDD (Floppy Disk Drive) standard requires the presence of a filesystem starting from the first sector of the disk without a partition table. You can create this type of disk without using the \(hym option.</p><p>The USB\(hyZIP (ZIP Drive) standard requires the presence of a device with a very specific geometry. Specifically, it requires a geometry with 32 sectors and 64 heads. It also requires the presence of a partition table with only a bootable partition in the fourth entry. You can create this type of disk using the \(hym and \(hyZ option.</p><p>Generally these standards are incompatible, but using the \(hym, \(hyF and \(hyZ options you can create a disk compatible with all of them.</p><p>To use the \(hyF option, the MBR image specified must follow the constrains:</p><ul>
<li><p>It must start with a standard FAT 3 bytes jump instruction.</p></li><li><p>It must have the bytes from address 3 to 89 (included) unused.</p></li>
</ul><p>And example of such image is in the \(oqmbrfat.bin\(cq file.</p><p>For example to create a syslinux image:</p><p>makebootfat \(hyo usb \(rs</p><p>	\(hyY \(rs</p><p>	\(hyZ \(rs</p><p>	\(hyb ldlinux.bss \(hym mbrfat.bin \(hyF \(rs</p><p>	\(hyc ldlinux.sys \(hyc syslinux.cfg \(rs</p><p>	\(hyc linux \(hyc initrd.img \(rs</p><p>	image</p><p>and for a FreeDOS and loadlin image:</p><p>makebootfat \(hyo usb \(rs</p><p>	\(hyE 255 \(rs</p><p>	\(hyZ \(rs</p><p>	\(hy1 fat12com.bin \(hy2 fat16com.bin \(hy3 fat32chs.bin \(rs</p><p>	\(hym mbrfat.bin \(hyF \(rs</p><p>	\(hyc kernel.sys \(hyc command.com \(rs</p><p>	\(hyc autoexec.bat \(hyc loadlin.exe \(rs</p><p>	\(hyc linux \(hyc initrd.img \(rs</p><p>	image</p><p>Please note that FreeDos has some problems booting from USB. It works only on very few conditions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXCLUSION</h2>
        <div class="sectioncontent">
<p>To exclude some files or directories in the image copy, you can use the \(hyx option using the same path specification which are you using for the image directory.</p><p>For example, if you need to exclude the \(oqisolinux\(cq and \(oqsyslinux\(cq subdirectories from the \(oqimage\(cq directory you can use the command:</p><p>makebootfat ... \(rs</p><p>	\(hyx image/isolinux \(rs</p><p>	\(hyx image/syslinux \(rs</p><p>	image</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>This file is Copyright (C) 2004, 2005 Andrea Mazzoleni</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO makebootfat&hellip;</h2>
        <div class="sectioncontent">
<p><strong>syslinux</strong>(1), <strong>mkdosfs</strong>(1), <strong>dosfsck</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sdcc-makebin.1.html"><span aria-hidden="true">&larr;</span> makebin.1: Convert a intel ihx file to binary</a></li>
   <li class="next"><a href="makecbf.1.html">makecbf.1: Convert detector images to cbf format <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
