<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>trs: Filter replacing strings</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Filter replacing strings">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="trs (1) manual">
  <meta name="twitter:description" content="Filter replacing strings">
  <meta name="twitter:image" content="https://www.carta.tech/images/konwert-trs-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/trs.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="trs (1) manual" />
  <meta property="og:description" content="Filter replacing strings" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/konwert-trs-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">trs<small> (1)</small></h1>
        <p class="lead">Filter replacing strings</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/trs.1.html">
      <span itemprop="name">trs: Filter replacing strings</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/konwert/">
      <span itemprop="name">konwert</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/trs.1.html">
      <span itemprop="name">trs: Filter replacing strings</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>trs</strong> [<strong>-</strong>[<strong>r</strong>]<strong>e</strong>] <strong>'</strong><em>REPLACE_THIS</em> <em>WITH_THAT</em> [<em>AND_THIS</em> <em>WITH_THAT</em>].\|.\|.\|<strong>'</strong></p><p><strong>trs</strong> [<strong>-</strong>[<strong>r</strong>]<strong>f</strong>] <em>FILE</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Copy stdin to stdout replacing every occurence of given strings with other ones. This is similar to <strong>tr</strong>(1), but replaces strings, not only single chars.</p><p>Rules (separated by whitespace) can be given directly after <strong>-e</strong> option, or can be read from <em>FILE</em>. Argument not preceded by <strong>-e</strong> or <strong>-f</strong> is guessed to be a script when it contains some whitespace, or a filename otherwise.</p><p>Comments are allowed from <strong>#</strong> until the end of line. The character <strong>#</strong> in strings must be specified as <strong>&#92;&#92;&#92;&#92;#</strong>.</p><p>Standard C-like escapes <strong>&#92;&#92;a &#92;&#92;b &#92;&#92;e &#92;&#92;f &#92;&#92;n &#92;&#92;r &#92;&#92;t &#92;&#92;v &#92;&#92;&#92;&#92;</strong> <strong>&#92;&#92;&#92;&#92;</strong><em>nnn</em> are recognized. In addition, <strong>&#92;&#92;s</strong> means a space character and <strong>&#92;&#92;!\|</strong> means an empty string.</p><p>Sets of acceptable characters at a given position can be specified between <strong>&#92;&#92;[</strong> and <strong>&#92;&#92;]</strong>. ASCII ranges in sets can be shortly written as <em>FIRST</em><strong>-</strong><em>LAST</em>. When a set consists of only a single range, <strong>&#92;&#92;[</strong> and <strong>&#92;&#92;]</strong> can be omitted.</p><p>When a part of the string to translate is enclosed in <strong>&#92;&#92;&#92;\{</strong>.\|.\|.\|<strong>&#92;&#92;&#92;&#92;}</strong>, only that part is replaced. Any text outside <strong>&#92;&#92;&#92;\{</strong>.\|.\|.\|<strong>&#92;&#92;&#92;&#92;}</strong> serves as an assertion: a string is translated only if it is preceded by the given text and followed by another one. <strong>&#92;\{</strong> at the beginning or <strong>&#92;&#92;}</strong> at the end of the string can be omitted. Text outside <strong>&#92;&#92;&#92;\{</strong>.\|.\|.\|<strong>&#92;&#92;&#92;&#92;}</strong> is treated as untranslated.</p><p>Before the beginning of the file and after its end there are only <strong>&#92;&#92;&#92;&#92;n</strong>'s. Thus, for example, <strong>&#92;&#92;n&#92;\{.&#92;&#92;}&#92;&#92;n</strong> matches <strong>.\|</strong> on a line by itself, including the first line, and the last one even without the <strong>&#92;&#92;n</strong> marker.</p><p>A fragment of the form <strong>&#92;&#92;&#92;&#92;?</strong><em>x</em><strong>=</strong><em>N</em>, where <em>x</em> is a letter <strong>A</strong>-<strong>Za</strong>-<strong>z</strong> and <em>N</em> is a digit <strong>0</strong>-<strong>9</strong>, contained in the target text sets the variable <em>x</em> to the value <em>N</em> when that rule succeeds. Similar fragment in the source text causes the given rule to be considered only if that variable has such value. Initially all variables have the value of <strong>0</strong>. Several assignments or conditions can be present in one rule - they are ANDed together.</p><h3>OPTIONS</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Give the translation rules directly in the command line.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Get them from the file specified.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Reverse every rule. This affects only the next <strong>-e</strong> or <strong>-f</strong> option. Of course this doesn't have to give the reverse translation! Any rule containing any of <strong>&#92;\{&#92;&#92;}&#92;&#92;[&#92;&#92;]&#92;\{&#92;&#92;}&#92;&#92;-</strong> is taken in only one direction. You may force any rule to be taken in only one direction by enclosing the string to translate in <strong>&#92;&#92;&#92;\{</strong>.\|.\|.\|<strong>&#92;&#92;&#92;&#92;}</strong>.</p>
  </dd>
  <dt>
    <p><strong>--help</strong></p>
  </dt>
  <dd>
    <p>display help and exit</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>output version information and exit</p>
  </dd>

</dl>
<p>Multiple <strong>-e</strong> or <strong>-f</strong> options are allowed. All rules are loaded together then, and earlier ones have precedence.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">

<pre>
$ echo Leeloo |trs -e 'el n e i i aqq o&#92;}&#92;n x o u'
Linux
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIFFERENCES FROM sed</h2>
        <div class="sectioncontent">
<p>The main difference between <strong>trs</strong> and <strong>sed 's///g;</strong> .\|.\|.\|<strong>'</strong> (excluding sed's regular expressions) is that sed takes every rule in the order specified and applies it to the whole line of translated file, whereas trs examines every position and tries all rules in this place first. In sed every next rule is fed with the text produced by the previous one, whereas in trs every piece of text can be translated at most once (if more than one rule matches at a given position, the one mentioned earlier wins). That's why sed isn't well suited for translating between character sets. On the other hand, tr translates only single bytes, so it can't be used for Unicode conversions, or TeX / SGML ways for specifying extended characters.</p><p>Another example:</p>
<pre>
$ echo 642 |trs -e '4 7 72 66 64 4'
42
$ echo 642 |sed 's/4/7/g; s/72/66/g; s/64/4/g'
666
</pre>
<p>The string to replace can be empty; there must be something outside <strong>&#92;\{&#92;&#92;}</strong> then. In this special case only one such create-from-nothing rule can success at a given position. For example, <strong>&#92;&#92;}&#92;&#92;x80&#92;&#92;-&#92;&#92;xFF @</strong> precedes every character with high byte set with <strong>@</strong>. The rule of the form <strong>some&#92;\{ thing</strong> doesn't work at the end of a file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO trs&hellip;</h2>
        <div class="sectioncontent">
<p><strong>tr</strong>(1), <a href="../man1/konwert.1.html"><strong>konwert</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>trs is a filter replacing strings. It forms part of the konwert package.</p><p>Copyright (c) 1998 Marcin 'Qrczak' Kowalczyk</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">

<pre>
 __("&lt;   Marcin Kowalczyk * qrczak@knm.org.pl http://qrczak.home.ml.org/
 &#92;__/       GCS/M d- s+:-- a21 C+++&gt;+++$ UL++&gt;++++$ P+++ L++&gt;++++$ E-&gt;++
  ^^                W++ N+++ o? K? w(---) O? M- V? PS-- PE++ Y? PGP-&gt;+ t
QRCZAK                  5? X- R tv-- b+&gt;++ DI D- G+ e&gt;++++ h! r--%&gt;++ y-
</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="trpg.1.html"><span aria-hidden="true">&larr;</span> trpg.1: Tool for recursive process graphs</a></li>
   <li class="next"><a href="true.1.html">true.1: Do nothing, successfully <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
