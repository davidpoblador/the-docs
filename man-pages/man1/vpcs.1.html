<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vpcs: Virtual pc simulator</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Virtual pc simulator">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vpcs (1) manual">
  <meta name="twitter:description" content="Virtual pc simulator">
  <meta name="twitter:image" content="https://www.carta.tech/images/vpcs-vpcs-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/vpcs.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vpcs (1) manual" />
  <meta property="og:description" content="Virtual pc simulator" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/vpcs-vpcs-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vpcs<small> (1)</small></h1>
        <p class="lead">Virtual pc simulator</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/vpcs.1.html">
      <span itemprop="name">vpcs: Virtual pc simulator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/vpcs/">
      <span itemprop="name">vpcs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/vpcs.1.html">
      <span itemprop="name">vpcs: Virtual pc simulator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>vpcs</strong> [<em>options</em>] [<em>scriptfile</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>VPCS provides a command line interface to nine simulated virtual PCs.  You can ping/trace route from/to them, or ping/trace route other hosts/routers from the virtual PCs, making it an ideal study tool when you simulate Cisco or Juniper routers in a Dynamips or GNS3 environment.</p><p>Virtual PCs are able to generate and respond to ICMP (ping), TCP and UDP packets delivered to the application via a UDP pipe or Unix tap interface.  If <em>scriptfile</em> is specified, then vpcs reads the file on start-up and executes the commands in the scriptfile.  <em>scriptfile</em> must be in <strong>vpcs script file format</strong>.</p><p><strong>vpcs</strong> listens for messages on nine consecutive UDP ports and sends messages on nine consecutive UDP ports.  By the default, <strong>vpcs</strong> listens on UDP ports 20000 to 20008 and sends messages on UDP ports 30000 to 30008.  Each UDP port pair (20000/30000, 20001/30001...20008/30008) represents a virtual PC.  Virtual PCs are numbered 1 to 9.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print the command line options and exit</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print the version information and exit</p>
  </dd>
  <dt>
    <p><strong>-i</strong> <em>num</em></p>
  </dt>
  <dd>
    <p>number of vpc instances to start (default is 9)</p>
  </dd>
  <dt>
    <p>[<strong>-r</strong>] <em>scriptfile</em></p>
  </dt>
  <dd>
    <p>If <em>scriptfile</em> is specified, then <strong>vpcs</strong> reads the file on start-up and executes the commands in the <em>scriptfile</em>.  <em>scriptfile </em> must be in <strong>vpcs</strong> script file format.  By default, if a file named <strong>startup.vpc</strong> exists in the directory where the <strong>vpcs</strong> program was started, it will be read and executed when <strong>vpcs</strong> starts.  The <strong>-r</strong> option is optional if <em>scriptfile</em> is the last parameter.</p>
  </dd>
  <dt>
    <p><strong>-p</strong> <em>port</em></p>
  </dt>
  <dd>
    <p>Run <strong>vpcs</strong> as a daemon process listening on TCP port specified by <em>port</em>.  As a daemon process, <strong>vpcs</strong> does not present a command line interface to the user, but the command line interface can be accessed remotely using a TCP stream application such as <em>telnet</em> or netcat (<em>nc</em>).  Once the daemon has been started, there is no internal mechanism for terminating the program, and the program must be terminated by sending a system signal 9, typically by using the command <strong>kill -9 PID</strong> (where PID is the process id of the vpcs instance)</p>
  </dd>
  <dt>
    <p><strong>-m</strong> <em>num</em></p>
  </dt>
  <dd>
    <p><strong>vpcs</strong> uses 9 consecutive MAC addresses for the 9 <em>vpcs</em> stating at 00:50:79:66:68:00 by default. The <strong>-m</strong> option adds <em>num</em> to the last byte of the base MAC address.  Should any increment cause the last byte exceed 0xFF during this process, it will increment to 0x00.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>On systems that support the <strong>/dev/tapx</strong> interface (Unix/Linux), run <strong>vpcs</strong> in tap mode rather than UDP mode.  In tap mode, IP packets are sent and received via /dev/tapx interfaces rather than via UDP streams.  Typically /dev/tapx interfaces are only available to the root user, meaning <strong>vpcs</strong> would also be required to be run by the root user (<strong>sudo vpcs -e</strong>) to use tap mode.</p>
  </dd>
  <dt>
    <p>[<strong>-u</strong>]</p>
  </dt>
  <dd>
    <p>This option is the default and not necessary, but included to contrast with the <strong>-e</strong> option.  By default, <strong>vpcs</strong> sends and receives IP packets to and from specified UDP ports. <strong>vpcs</strong> listens on UDP port 20000 and sends to port 127.0.0.1:30000 by default.  The listening and sending ports can be manipulated using the <strong>-s</strong>, <strong>-c</strong> and <strong>-t</strong> options.</p>
  </dd>

</dl>
<h3>UDP Mode Options</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-s</strong> <em>port</em></p>
  </dt>
  <dd>
    <p><em>port</em> specifies the base port number that <strong>vpcs</strong> uses to listen for messages. By default <strong>vpcs</strong> listens for messages on UDP ports <em>20000</em> to <em>20008</em>.  By changing the base port that <strong>vpcs</strong> listens to using the <strong>-s</strong> option causes nine consecutive UDP ports to be used starting at the port specified by <em>port</em>.</p>
  </dd>
  <dt>
    <p><strong>-t</strong> <em>ip</em></p>
  </dt>
  <dd>
    <p><strong>vpcs</strong> streams packets to nine UDP ports commencing at <em>127.0.0.1:30000</em> by default.  The <strong>-t</strong> option allows you to stream packets to a remote host as specified by IPv4 address <em>ip</em>. Typically the remote host will be running dynamips with a cloud connection configured to link to this host’s IP address.</p>
  </dd>
  <dt>
    <p><strong>-c</strong> <em>port</em></p>
  </dt>
  <dd>
    <p><strong>vpcs</strong> streams packets to nine UDP ports commencing at <em>127.0.0.1:30000</em>.  The <strong>-c</strong> option allows you to stream packets to a different set of nine ports commencing at the base port number specified by <em>port</em>.</p>
  </dd>

</dl>

<h3>TAP Mode Options</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-d</strong> <em>device</em></p>
  </dt>
  <dd>
    <p>Device name, works only when <strong>-i</strong> is set to 1</p>
  </dd>

</dl>

<h3>Hypervisor Mode Option</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-H</strong> <em>port</em></p>
  </dt>
  <dd>
    <p>Run as a hypervisor, listening on TCP port specified by <em>port</em>.  In the hypervisor mode, you can connect this control <em>port</em> with <em>telnet</em>, start or stop an instance of <strong>vpcs</strong>.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<h3>No command line options</h3>
<p>If you start the <strong>vpcs</strong> with no arguments, <em>vpcs</em> will start and look for the script <strong>startup.vpc</strong> in the current directory.  If it exists, it will run the script.  This is the normal way of running the <em>vpcs</em>.  It is simply envoked from the command line like this:</p><p><strong>vpcs</strong></p>
<h3>Starting vpcs with an alternative startup file</h3>
<p>To start  <strong>vpcs</strong> with a startup script file called say <strong>alternate.vpc</strong>, use the file name as an argument to the <strong>vpcs</strong> command:</p><p><strong>vpcs alternate.vpc</strong></p>
<h3>Running more than nine Virtual PCs</h3>
<p>Suppose you needed more than nine Virtual PCs, so you want to run a second instance of <strong>vpcs</strong> on your local host.  You would have to consider:</p><p>1. The VPCs MAC addresses for the second instance would need to be different,</p><p>2. The "local" or listening UDP port numbers for the second instance would have to differ from the first instance.</p><p>3. The remote UDP port numbers for the second instance would have to differ from the first instance.</p><p>Since the default local listening port is 20000, and the default remote port is 30000, you would want to start <strong>vpcs</strong> with a local listening port of 20009 (or greater) and remote port of 30009 (or greater) .  You would also want the base MAC address to be offset by at least nine to avoid any clashes.  In this case you would use the command:</p><p><strong>vpcs -s 20009 -c 30009 -m 9</strong></p>
<h3>Running two instances of vpcs that can communicate with each other on the one host</h3>
<p>Suppose you wanted to run a second instance of <strong>vpcs</strong> on your local host that can communicate with the instance already running with a default configuration.  You would have to consider:</p><p>1. The VPCs MAC addresses for the second instance would need to be different,</p><p>2. The "local" or listening UDP port numbers for the second instance would have to match the "remote" port numbers of the first instance</p><p>3. The remote UDP port numbers would have to match the "local" or listening UDP port numbers of the first instance</p><p>Since the default local listening port is 20000, and the default remote port is 30000, you would want to start <strong>vpcs</strong> with a local listening port of 30000 and remote port of 20000.  You would also want the base MAC address to be offset by at least nine to avoid any clashes.  In this case you would use the command:</p><p><strong>vpcs -s 30000 -c 20000 -m 9</strong></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BASE INTERFACE</h2>
        <div class="sectioncontent">
<p><strong>vpcs</strong> presents the user with a command line interface (unless daemon mode has been invoked by the <strong>-p</strong> option). The interface prompt indicates which of the 9 virtual PCs currently has focus by indicating the VPC number in brackets.  Eg.:</p><p>VPCS[1]</p><p>Here the digit 1 inside the brackets indcates that VPC 1 has focus, and any traffic generated will be sent from VPC 1, and basic <strong>show</strong> commands will relate to VPC 1.</p>
<dl class='dl-vertical'>
  <dt>
    <p>Basic commands supported are:</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>?</strong></p>
  </dt>
  <dd>
    <p>Print help</p>
  </dd>
  <dt>
    <p><strong>&lt;digit&gt;</strong></p>
  </dt>
  <dd>
    <p>Switch to the VPC&lt;digit&gt;. &lt;digit&gt; range 1 to 9</p>
  </dd>
  <dt>
    <p><strong>arp</strong></p>
  </dt>
  <dd>
    <p>Shortcut for: <strong>show arp</strong>. Show arp table</p>
  </dd>
  <dt>
    <p><strong>clear</strong> [arguments]</p>
  </dt>
  <dd>
    <p>Clear IPv4/IPv6, arp/neighbor cache, command history</p>
  </dd>
  <dt>
    <p><strong>dhcp</strong> [-options]</p>
  </dt>
  <dd>
    <p>Shortcut for: <strong>ip dhcp</strong>. Get IPv4 address via DHCP</p>
  </dd>
  <dt>
    <p><strong>echo</strong> &lt;text&gt;</p>
  </dt>
  <dd>
    <p>Display &lt;text&gt; in output</p>
  </dd>
  <dt>
    <p><strong>help</strong></p>
  </dt>
  <dd>
    <p>Print help</p>
  </dd>
  <dt>
    <p><strong>history</strong></p>
  </dt>
  <dd>
    <p>Shortcut for: <strong>show history</strong>. List the command history</p>
  </dd>
  <dt>
    <p><strong>ip</strong> [arguments]</p>
  </dt>
  <dd>
    <p>Configure VPC's IP settings</p>
  </dd>
  <dt>
    <p><strong>load</strong> &lt;filename&gt;</p>
  </dt>
  <dd>
    <p>Load the configuration/script from the file &lt;filename&gt;</p>
  </dd>
  <dt>
    <p><strong>ping</strong> &lt;host&gt; [-options]</p>
  </dt>
  <dd>
    <p>Ping the network &lt;host&gt; with ICMP (default) or TCP/UDP</p>
  </dd>
  <dt>
    <p><strong>quit</strong></p>
  </dt>
  <dd>
    <p>Quit program</p>
  </dd>
  <dt>
    <p><strong>relay</strong> [arguments] &lt;port&gt;</p>
  </dt>
  <dd>
    <p>Relay packets between two UDP port</p>
  </dd>
  <dt>
    <p><strong>rlogin</strong> [&lt;ip&gt;] &lt;port&gt;</p>
  </dt>
  <dd>
    <p>Telnet to host relative to HOST PC</p>
  </dd>
  <dt>
    <p><strong>save</strong> &lt;filename&gt;</p>
  </dt>
  <dd>
    <p>Save the configuration to the file &lt;filename&gt;</p>
  </dd>
  <dt>
    <p><strong>set</strong> [arguments]</p>
  </dt>
  <dd>
    <p>Set VPC name, peer ports, dump options, echo on or off</p>
  </dd>
  <dt>
    <p><strong>show</strong> [arguments]</p>
  </dt>
  <dd>
    <p>Print the information of VPCs (default). Try <strong>show ?</strong></p>
  </dd>
  <dt>
    <p><strong>sleep</strong> &lt;seconds&gt; [text]</p>
  </dt>
  <dd>
    <p>Print &lt;text&gt; and pause the running script for &lt;seconds&gt;</p>
  </dd>
  <dt>
    <p><strong>trace</strong> &lt;host&gt; [-options]</p>
  </dt>
  <dd>
    <p>Print the path packets take to network &lt;host&gt;</p>
  </dd>
  <dt>
    <p><strong>version</strong></p>
  </dt>
  <dd>
    <p>Shortcut for: <strong>show version</strong></p>
  </dd>

</dl>
<h3>vpcs script file format</h3>
<p>Any text file consisting of valid vpcs commands can be used as a vpcs script file.  Lines in the file beginning with the <strong>#</strong> character will be treated as comments and ignored.  Command files can make use of the <strong>echo</strong> and <strong>sleep</strong> commands to create some form of interactive script.</p><p>Script file exececution can be aborted at any time by pressing Ctrl+c.  This means that the <strong>ping &lt;host&gt; -t</strong> command (which must be terimated by Ctrl+c) is not useful in vpcs script files.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HYPERVISOR INTERFACE</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>commands supported are:</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>help | ?</strong></p>
  </dt>
  <dd>
    <p>Print help</p>
  </dd>
  <dt>
    <p><strong>vpcs</strong> [parameters]</p>
  </dt>
  <dd>
    <p>Start <strong>vpcs</strong> daemon with parameters.</p>
  </dd>
  <dt>
    <p><strong>stop id</strong></p>
  </dt>
  <dd>
    <p>Stop <strong>vpcs</strong> process</p>
  </dd>
  <dt>
    <p><strong>list</strong></p>
  </dt>
  <dd>
    <p>List <strong>vpcs</strong> process</p>
  </dd>
  <dt>
    <p><strong>disconnect</strong></p>
  </dt>
  <dd>
    <p>Exit the telnet session</p>
  </dd>
  <dt>
    <p><strong>quit</strong> [-f]</p>
  </dt>
  <dd>
    <p>Stop <strong>vpcs</strong> processes and hypervisor, <em>-f</em> force quit without prompting</p>
  </dd>
  <dt>
    <p><strong>telnet [&lt;ip&gt;] &lt;port&gt;</strong></p>
  </dt>
  <dd>
    <p>Telnet to &lt;port&gt; at &lt;ip&gt; (default 127.0.0.1)</p>
  </dd>
  <dt>
    <p><strong>rlogin [&lt;ip&gt;] &lt;port&gt;</strong></p>
  </dt>
  <dd>
    <p>Same as telnet</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>IPv6 implementation is a basic implementation that is not fully implemented.</p><p>The <strong>ping &lt;host&gt; -t</strong> command (which must be terimated by Ctrl+c) can not be used in vpcs script files because when Ctrl+c is pressed to stop the ping, it also aborts the script file execution.</p><p>Please send problems, bugs, questions, desirable enhancements, patches etc to the author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Paul Meng &lt;mirnshi[AT]gmail.com&gt;</p><p>Documentation by Chris Welsh &lt;rednectar.chris[AT]gmail.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>VPCS is free software, distributed under the terms of the "BSD" licence.</p><p>Source code and license can be found at vpcs.sf.net.</p><p>For more information, please visit wiki.freecode.com.cn.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="vpbscan.1.html"><span aria-hidden="true">&larr;</span> vpbscan.1: Scan the pci bus for voicetronix hardware</a></li>
   <li class="next"><a href="vprerex.1.html">vprerex.1: Graphical front-end and viewer for the prerex(1) prerequisite-chart editor <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
