<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>debsums: Check the md5 sums of installed debian packages</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Check the md5 sums of installed debian packages">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="debsums (1) manual">
  <meta name="twitter:description" content="Check the md5 sums of installed debian packages">
  <meta name="twitter:image" content="https://www.carta.tech/images/debsums-debsums-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/debsums.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="debsums (1) manual" />
  <meta property="og:description" content="Check the md5 sums of installed debian packages" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/debsums-debsums-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">debsums<small> (1)</small></h1>
        <p class="lead">Check the md5 sums of installed debian packages</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debsums.1.html">
      <span itemprop="name">debsums: Check the md5 sums of installed debian packages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/debsums/">
      <span itemprop="name">debsums</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debsums.1.html">
      <span itemprop="name">debsums: Check the md5 sums of installed debian packages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>debsums</strong> [<em>options</em>] [<em>package</em>|<em>deb</em>] ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Verify installed Debian package files against MD5 checksum lists from /var/lib/dpkg/info/*.md5sums.</p><p><strong>debsums</strong> can generate checksum lists from deb archives for packages that don't include one.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong>, <strong>--all</strong></p>
  </dt>
  <dd>
    <p>Also check configuration files (normally excluded).</p>
  </dd>
  <dt>
    <p><strong>-e</strong>, <strong>--config</strong></p>
  </dt>
  <dd>
    <p><strong>Only</strong> check configuration files.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--changed</strong></p>
  </dt>
  <dd>
    <p>Report changed file list to stdout (implies <strong>-s</strong>).</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--list-missing</strong></p>
  </dt>
  <dd>
    <p>List packages (or debs) which don't have an MD5 sums file.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--silent</strong></p>
  </dt>
  <dd>
    <p>Only report errors.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--md5sums</strong>=<em>file</em></p>
  </dt>
  <dd>
    <p>Read list of deb checksums from <em>file</em>.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--root</strong>=<em>dir</em></p>
  </dt>
  <dd>
    <p>Root directory to check (default /).</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--admindir</strong>=<em>dir</em></p>
  </dt>
  <dd>
    <p>dpkg admin directory (default /var/lib/dpkg).</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--deb-path</strong>=<em>dir</em>[:<em>dir</em>...]</p>
  </dt>
  <dd>
    <p>Directories in which to look for debs derived from the package name (default is the current directory).</p><ul>
<li><p>A useful value is /var/cache/apt/archives when using <strong>apt-get autoclean</strong> or not clearing the cache at all.  The command:</p><ul>
<li><p>apt-get --reinstall -d install &#96;debsums -l&#96;</p></li>
</ul></li><li><p>may be used to populate the cache with any debs not already in the cache.</p></li><li><p><strong>Note:</strong> This doesn't work for CD-ROM and other local sources as packages are not copied to /var/cache.  Simple <strong>file</strong> sources (all debs in a single directory) should be added to the <strong>-p</strong> list.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-g</strong>, <strong>--generate</strong>=[<strong>missing</strong>|<strong>all</strong>][,<strong>keep</strong>[,<strong>nocheck</strong>]]</p>
  </dt>
  <dd>
    <p>Generate MD5 sums from deb contents.  If the argument is a package name rather than a deb archive, the program will look for a deb named <em>package</em>_<em>version</em>_<em>arch</em>.deb in the directories given by the <strong>-p</strong> option.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>missing</strong></p>
  </dt>
  <dd>
    <p>Generate MD5 sums from the deb for packages which don't provide one.</p>
  </dd>
  <dt>
    <p><strong>all</strong></p>
  </dt>
  <dd>
    <p>Ignore the on disk sums and use the one supplied in the deb, or generated from it if none exists.</p>
  </dd>
  <dt>
    <p><strong>keep</strong></p>
  </dt>
  <dd>
    <p>Write the extracted/generated sums to /var/lib/dpkg/info/<em>package</em>.md5sums.</p>
  </dd>
  <dt>
    <p><strong>nocheck</strong></p>
  </dt>
  <dd>
    <p>Implies <strong>keep</strong>; the extracted/generated sums are not checked against the installed package.</p>
  </dd>

</dl>
<ul>
<li><p>For backward compatibility, the short option <strong>-g</strong> is equivalent to <strong>--generate=missing</strong>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>--no-locale-purge</strong></p>
  </dt>
  <dd>
    <p>Report missing locale files even if localepurge is configured.</p>
  </dd>
  <dt>
    <p><strong>--no-prelink</strong></p>
  </dt>
  <dd>
    <p>Report changed ELF files even if prelink is configured.</p>
  </dd>
  <dt>
    <p><strong>--ignore-permissions</strong></p>
  </dt>
  <dd>
    <p>Treat permission errors as warnings when running as non-root.</p>
  </dd>
  <dt>
    <p><strong>--help</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print help and version information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p><strong>debsums</strong> returns <strong>0</strong> on success, or a combination* of the following values on error:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>A specified package or archive name was not installed, invalid or the installed version did not match the given archive.</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>Changed or missing package files, or checksum mismatch on an archive.</p>
  </dd>
  <dt>
    <p><strong>255</strong></p>
  </dt>
  <dd>
    <p>Invalid option.</p>
  </dd>

</dl>
<p>*If both of the first two conditions are true, the exit status will be <strong>3</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>debsums foo bar</p>
  </dt>
  <dd>
    <p>Check the sums for installed packages <strong>foo</strong> and <strong>bar</strong>.</p>
  </dd>
  <dt>
    <p>debsums foo.deb bar.deb</p>
  </dt>
  <dd>
    <p>As above, using checksums from (or generated from) the archives.</p>
  </dd>
  <dt>
    <p>debsums -l</p>
  </dt>
  <dd>
    <p>List installed packages with no checksums.</p>
  </dd>
  <dt>
    <p>debsums -ca</p>
  </dt>
  <dd>
    <p>List changed package files from all installed packages with checksums.</p>
  </dd>
  <dt>
    <p>debsums -ce</p>
  </dt>
  <dd>
    <p>List changed configuration files.</p>
  </dd>
  <dt>
    <p>debsums -cagp /var/cache/apt/archives</p>
  </dt>
  <dd>
    <p>As above, using sums from cached debs where available.</p>
  </dd>
  <dt>
    <p>apt-get install --reinstall $(dpkg -S $(debsums -c) | cut -d : -f 1 | sort -u)</p>
  </dt>
  <dd>
    <p>Reinstalls packages with changed files.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESULTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>OK</p>
  </dt>
  <dd>
    <p>The file's md5sum is good.</p>
  </dd>
  <dt>
    <p>FAILED</p>
  </dt>
  <dd>
    <p>The file's md5sum does not match.</p>
  </dd>
  <dt>
    <p>REPLACED</p>
  </dt>
  <dd>
    <p>The file has been replaced by a file from a different package.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The default installation of <strong>debsums</strong> package sets the debconf boolean value debsums/apt-autogen to be "true".</p><p>This will create <strong>/etc/apt/apt.conf.d/90debsums</strong> as:</p><ul>
<li>
<pre>
DPkg::Post-Invoke {
    "debsums --generate=nocheck -sp /var/cache/apt/archives";
};
</pre>
</li>
</ul><p>by the postinst script (&gt;=2.0.7).  Every APT controlled package installation processes will execute this code fragment to generate the missing <strong>md5sums</strong> files from the binary packages.</p><p>In order to create <strong>md5sums</strong> files for the already installed packages, you must run <strong>debsums_init</strong> once after the installation of <strong>debsums</strong> package.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO debsums&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/md5sum.1.html"><strong>md5sum</strong>(1)</a>, <a href="../man8/debsums_init.8.html"><strong>debsums_init</strong>(8)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>TMPDIR</strong></p>
  </dt>
  <dd>
    <p>Directory for extracting information and contents from package archives (/tmp by default).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>While in general the program may be run as a normal user, some packages contain files which are not globally readable so cannot be checked.  Privileges are of course also required when generating sums with the <strong>keep</strong> option set.</p><p>Files which have been replaced by another package may be erroneously reported as changed.</p><p><strong>debsums</strong> is intended primarily as a way of determining what installed files have been locally modified by the administrator or damaged by media errors and is of limited use as a security tool.</p><p>If you are looking for an integrity checker that can run from safe media, do integrity checks on checksum databases and can be easily configured to run periodically to warn the admin of changes see other tools such as: <strong>aide</strong>, <strong>integrit</strong>, <strong>samhain</strong>, or <strong>tripwire</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Brendan O'Dea &lt;bod@debian.org&gt;.</p><p>Based on a program by Christoph Lameter &lt;clameter@debian.org&gt; and Petr Cech &lt;cech@debian.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2002  Brendan O'Dea &lt;bod@debian.org&gt;</p><p>This is free software, licensed under the terms of the GNU General Public License.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="debsnap.1.html"><span aria-hidden="true">&larr;</span> debsnap.1: Retrieve old snapshots of debian packages</a></li>
   <li class="next"><a href="debtags.1.html">debtags.1: Command line interface to access and manipulate debian package tags <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
