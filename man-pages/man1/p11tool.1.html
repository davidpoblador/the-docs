<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>p11tool: Gnutls pkcs #11 tool</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Gnutls pkcs #11 tool">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="p11tool (1) manual">
  <meta name="twitter:description" content="Gnutls pkcs #11 tool">
  <meta name="twitter:image" content="https://www.carta.tech/images/gnutls-bin-p11tool-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/p11tool.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="p11tool (1) manual" />
  <meta property="og:description" content="Gnutls pkcs #11 tool" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gnutls-bin-p11tool-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">p11tool<small> (1)</small></h1>
        <p class="lead">Gnutls pkcs #11 tool</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/p11tool.1.html">
      <span itemprop="name">p11tool: Gnutls pkcs #11 tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gnutls-bin/">
      <span itemprop="name">gnutls-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/p11tool.1.html">
      <span itemprop="name">p11tool: Gnutls pkcs #11 tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>p11tool</strong> [<strong>-flags</strong>] [<strong>-flag</strong> [<em>value</em>]] [<strong>--option-name</strong>[[=| ]<em>value</em>]] [url]</p><p>Operands and options may be intermixed.  They will be reordered.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Program that allows operations on PKCS #11 smart cards and security modules.</p><p>To use PKCS #11 tokens with GnuTLS the p11-kit configuration files need to be setup. That is create a .module file in /etc/pkcs11/modules with the contents 'module: /path/to/pkcs11.so'. Alternatively the configuration file /etc/gnutls/pkcs11.conf has to exist and contain a number of lines of the form 'load=/usr/lib/opensc-pkcs11.so'.</p><p>You can provide the PIN to be used for the PKCS #11 operations with the environment variables GNUTLS_PIN and GNUTLS_SO_PIN.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Enable debugging.</p>
  </dt>
  <dd>
    <p>This option takes an integer number as its argument. The value of <em>number</em> is constrained to being:</p>
<pre>
in the range  0 through 9999
</pre>
<p>Specifies the debug level.</p>
  </dd>
  <dt>
    <p>Output file.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>List all available tokens.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Export the object specified by the URL.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Export the certificate specified by the URL and its chain of trust.</p>
  </dt>
  <dd>
    <p>Exports the certificate specified by the URL and generates its chain of trust based on the stored certificates in the module.</p>
  </dd>
  <dt>
    <p>List all available mechanisms in a token.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>List information on an available object in a token.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>List all available objects in a token.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>List all available certificates in a token.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>List all certificates that have an associated private key.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>List all available private keys in a token.</p>
  </dt>
  <dd>
    <p>Lists all the private keys in a token that match the specified URL.</p>
  </dd>
  <dt>
    <p>This is an alias for the <em>--list-all-privkeys</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>This is an alias for the <em>--list-all-privkeys</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>List all available certificates marked as trusted.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Writes the loaded objects to a PKCS #11 token.</p>
  </dt>
  <dd>
    <p>It can be used to write private keys, certificates or secret keys to a token.</p>
  </dd>
  <dt>
    <p>Deletes the objects matching the PKCS #11 URL.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Generate random data.</p>
  </dt>
  <dd>
    <p>This option takes an integer number as its argument.</p><p>Asks the token to generate a number of bytes of random bytes.</p>
  </dd>
  <dt>
    <p>Generate an RSA private-public key pair.</p>
  </dt>
  <dd>
    <p>Generates an RSA private-public key pair on the specified token.</p>
  </dd>
  <dt>
    <p>Generate an RSA private-public key pair.</p>
  </dt>
  <dd>
    <p>Generates an RSA private-public key pair on the specified token.</p>
  </dd>
  <dt>
    <p>Generate an RSA private-public key pair.</p>
  </dt>
  <dd>
    <p>Generates an RSA private-public key pair on the specified token.</p>
  </dd>
  <dt>
    <p>Export the public key for a private key.</p>
  </dt>
  <dd>
    <p>Exports the public key for the specified private key</p>
  </dd>
  <dt>
    <p>Sets a label for the write operation.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Marks the generated key to be a wrapping key.</p>
  </dt>
  <dd>
    <p>The <em>no-mark-wrap</em> form will disable the option.</p><p>Marks the generated key with the CKA_WRAP flag.</p>
  </dd>
  <dt>
    <p>Marks the object to be written as trusted.</p>
  </dt>
  <dd>
    <p>The <em>no-mark-trusted</em> form will disable the option.</p><p>Marks the object to be generated/copied with the CKA_TRUST flag.</p>
  </dd>
  <dt>
    <p>Marks the object to be written as a CA.</p>
  </dt>
  <dd>
    <p>The <em>no-mark-ca</em> form will disable the option.</p><p>Marks the object to be generated/copied with the CKA_CERTIFICATE_CATEGORY as CA.</p>
  </dd>
  <dt>
    <p>Marks the object to be written as private.</p>
  </dt>
  <dd>
    <p>The <em>no-mark-private</em> form will disable the option. This option is enabled by default.</p><p>Marks the object to be generated/copied with the CKA_PRIVATE flag. The written object will require a PIN to be used.</p>
  </dd>
  <dt>
    <p>This is an alias for the <em>--mark-trusted</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>This is an alias for the <em>--mark-ca</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>This is an alias for the <em>--mark-private</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Force (user) login to token.</p>
  </dt>
  <dd>
    <p>The <em>no-login</em> form will disable the option.</p>
  </dd>
  <dt>
    <p>Force security officer login to token.</p>
  </dt>
  <dd>
    <p>The <em>no-so-login</em> form will disable the option.</p><p>Forces login to the token as security officer (admin).</p>
  </dd>
  <dt>
    <p>This is an alias for the <em>--so-login</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Print detailed URLs.</p>
  </dt>
  <dd>
    <p>The <em>no-detailed-url</em> form will disable the option.</p>
  </dd>
  <dt>
    <p>Provide a hex encoded secret key.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Private key file to use.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Public key file to use.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Certificate file to use.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Use PKCS #8 format for private keys.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Specify the number of bits for key generate.</p>
  </dt>
  <dd>
    <p>This option takes an integer number as its argument.</p>
  </dd>
  <dt>
    <p>Specify the curve used for EC key generation.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Specify the security level.</p>
  </dt>
  <dd>
    <p>This is alternative to the bits option. Available options are [low, legacy, medium, high, ultra].</p>
  </dd>
  <dt>
    <p>Use DER/RAW format for input.</p>
  </dt>
  <dd>
    <p>The <em>no-inder</em> form will disable the option.</p><p>Use DER/RAW format for input certificates and private keys.</p>
  </dd>
  <dt>
    <p>This is an alias for the <em>--inder</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Use DER format for output certificates, private keys, and DH parameters.</p>
  </dt>
  <dd>
    <p>The <em>no-outder</em> form will disable the option.</p><p>The output will be in DER or RAW format.</p>
  </dd>
  <dt>
    <p>This is an alias for the <em>--outder</em> option.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Initializes a PKCS #11 token.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Specify the PIN to use on token initialization.</p>
  </dt>
  <dd>
    <p>Alternatively the GNUTLS_PIN environment variable may be used.</p>
  </dd>
  <dt>
    <p>Specify the Security Officer's PIN to use on token initialization.</p>
  </dt>
  <dd>
    <p>Alternatively the GNUTLS_SO_PIN environment variable may be used.</p>
  </dd>
  <dt>
    <p>Specify the PKCS #11 provider library.</p>
  </dt>
  <dd>
    <p>This will override the default options in /etc/gnutls/pkcs11.conf</p>
  </dd>
  <dt>
    <p>Disable all interaction with the tool. All parameters need to be specified on command line..</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Display usage information and exit.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Pass the extended usage information through a pager.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Output version of program and exit.  The default mode is `v', a simple</p>
  </dt>
  <dd>
    <p>version.  The `c' mode will print copyright information and `n' will print the full copyright notice.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To view all tokens in your system use:</p>
<pre>
$ p11tool --list-tokens
</pre>
<p>To view all objects in a token use:</p>
<pre>
$ p11tool --login --list-all "pkcs11:TOKEN-URL"
</pre>
<p>To store a private key and a certificate in a token run:</p>
<pre>
$ p11tool --login --write "pkcs11:URL" --load-privkey key.pem            --label "Mykey"
$ p11tool --login --write "pkcs11:URL" --load-certificate cert.pem            --label "Mykey"
</pre>
<p>Note that some tokens require the same label to be used for the certificate and its corresponding private key.</p><p>To generate an RSA private key inside the token use:</p>
<pre>
$ p11tool --login --generate-rsa --bits 1024 --label "MyNewKey"            --outfile MyNewKey.pub "pkcs11:TOKEN-URL"
</pre>
<p>The bits parameter in the above example is explicitly set because some tokens only support limited choices in the bit length. The output file is the corresponding public key. This key can be used to general a certificate request with certtool.</p>
<pre>
certtool --generate-request --load-privkey "pkcs11:KEY-URL"     --load-pubkey MyNewKey.pub --outfile request.pem
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>One of the following exit values will be returned:</p>
<dl class='dl-vertical'>
  <dt>
    <p>Successful program execution.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>The operation failed or the command syntax was not valid.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>libopts had an internal operational error.  Please report</p>
  </dt>
  <dd>
    <p>it to autogen-users@lists.sourceforge.net.  Thank you.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO p11tool&hellip;</h2>
        <div class="sectioncontent">

<pre>
    certtool (1)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Nikos Mavrogiannopoulos, Simon Josefsson and others; see /usr/share/doc/gnutls/AUTHORS for a complete list.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2000-2014 Free Software Foundation, and others all rights reserved. This program is released under the terms of the GNU General Public License, version 3 or later.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please send bug reports to: bugs@gnutls.org</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>This manual page was <em>AutoGen</em>-erated from the <strong>p11tool</strong> option definitions.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="p11-kit.1.html"><span aria-hidden="true">&larr;</span> p11-kit.1: List the pkcs#11 modules provided on the system</a></li>
   <li class="next"><a href="p2wgui.1.html">p2wgui.1: Program to convert pgn chess files to webpages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
