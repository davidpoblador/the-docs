<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nnacct: News accounting and access authorization (nn)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="News accounting and access authorization (nn)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nnacct (1m) manual">
  <meta name="twitter:description" content="News accounting and access authorization (nn)">
  <meta name="twitter:image" content="https://www.carta.tech/images/nn-nnacct-1m.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1m/nnacct.1m.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nnacct (1m) manual" />
  <meta property="og:description" content="News accounting and access authorization (nn)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nn-nnacct-1m.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nnacct<small> (1m)</small></h1>
        <p class="lead">News accounting and access authorization (nn)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1m/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1m/nnacct.1m.html">
      <span itemprop="name">nnacct: News accounting and access authorization (nn)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nn/">
      <span itemprop="name">nn</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1m/nnacct.1m.html">
      <span itemprop="name">nnacct: News accounting and access authorization (nn)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nnacct</strong> -<strong>r</strong> [ -<strong>f</strong> file ] [ -<strong>a</strong> ] [ user ]...</p><p><strong>nnacct</strong> [ -<strong>p</strong><em>policy</em> ] [ -<strong>q</strong><em>quota</em> ] user...</p><p><strong>nnacct</strong> -<strong>ZERO</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <em>nnacct</em> command provides an optional accounting and access authorization for news reading via the <em>nn</em> news reader.</p><p>The first form (-<strong>r</strong>) is used to print accounting reports. If a <em>file</em> is specified data from a saved accounting file; otherwise the data is read from the current accounting file.</p><p>If -<strong>a</strong> is specified, the report will contain accounting data for <em>all</em> users.  Otherwise, if one or more <em>users</em> are specified, the data for these users will be printed.  If neiter is specified, only the accounting data for the current user is printed.</p>
<pre>
  Only the super-user can generate reports for other users than the
</pre>
<p>caller.</p><p>The second form (-<strong>p</strong> and/or -<strong>q</strong>) assigns the specified access <em>policy</em> and/or <em>quota</em> to the specified users.  If a given user is not already known in the accounting file, a new entry with the specified policy and quota is created (default values are used if both are not specified).</p><p>The third form (-<strong>ZERO</strong>) will clear the usage counts for <em>all</em> users. Individual usage counts cannot be cleared. The original accounting file is saved with a .old suffix.</p><p>The following policies are currently implemented:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>No access.  The user is not allowed to read news at all.</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>Privileged user.  The user can read news at all times and no accounting information is saved.  This is obviously the policy for system administrators :-)</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>Full time access.  The user can access news at all times.</p>
  </dd>
  <dt>
    <p><strong>3</strong></p>
  </dt>
  <dd>
    <p>Off-hours access.  The user can only access news at off hours, i.e. in the morning, in the evening, on week-ends, and on holidays (not complete - check the source :-)</p>
  </dd>

</dl>
<p>The <em>quota</em> specifies a number of <em>hours</em> which the user is allowed to read news.  When this quota is used up, access will be blocked.  A quota of zero gives unlimited access.</p><p>New users will get the <em>default policy</em> and <em>quota</em> defined in account.c.  If this allows new users to read news at only specific times, this form can be used to permit individual users to read news at all times, or it can be used to prevent them from reading news at all.  If the default policy does not allow new users to read news, this form must be used to authorize them to read news.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOW IT WORKS</h2>
        <div class="sectioncontent">
<p>If authorization is enabled, the <em>nn</em> news reader will call <em>nnacct</em> on start-up to check whether the policy and quota defined for the current user allows him to read news at this time (or at all).</p><p>If accounting is enabled, the <em>nn</em> news reader will call <em>nnacct</em> on exit to register the time spent on news reading. If account logging is also defined (see account.c), an line is also added to the accounting log file.</p><p>When accounting is defined, the user can use the <strong>:cost</strong> command to get the current accounting data, and if the variable <strong>report-cost</strong> is set, <em>nn</em> will print accounting information on exit.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTIGURATION AND NEW POLICIES</h2>
        <div class="sectioncontent">
<p>The use of <em>nnacct</em> is enabled via the ACCOUNTING and AUTHORIZE symbols in <em>nn</em>'s configuration file.  Further configuration of cost calculations, logging, default policy, default quotas, etc. is done directly in the source file <em>account.c</em>.  New access policies can also be defined in this file.  This allows you to change the policies or prices without having to recompile the whole package since only <em>nnacct</em> is modified.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PRIVILEGED USERS</h2>
        <div class="sectioncontent">
<p>Normally, only root is allowed to change user policy or quota, list all user's accounting data etc.  This privilege can be shared with other users by listing their login name in the file $CLIENT/admins. There should be exactly one login name per line, and no blanks are allowed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>$db/acct	accounting data (accumulated per user)</p><p>$db/acctlog	accounting log (grows indefinitely)</p><p>$lib/admins	login names of privileged <em>nnacct</em> users.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nnacct&hellip;</h2>
        <div class="sectioncontent">
<p>nn(1), <strong>nnusage</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There should be some tools to mess around with the accounting files, e.g. to make summaries, clear usage counters, etc.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Kim F. Storm, Texas Instruments A/S, Denmark</p><p>E-mail: storm@texas.dk</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cronosplit.1m.html"><span aria-hidden="true">&larr;</span> cronosplit.1m: Split log files into cronolog-compatible files</a></li>
   <li class="next"><a href="nnadmin.1m.html">nnadmin.1m: Nn database administration <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
