<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>xymongen: Xymon webpage generator</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Xymon webpage generator">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="xymongen (1) manual">
  <meta name="twitter:description" content="Xymon webpage generator">
  <meta name="twitter:image" content="https://www.carta.tech/images/xymon-xymongen-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/xymongen.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="xymongen (1) manual" />
  <meta property="og:description" content="Xymon webpage generator" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/xymon-xymongen-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">xymongen<small> (1)</small></h1>
        <p class="lead">Xymon webpage generator</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/xymongen.1.html">
      <span itemprop="name">xymongen: Xymon webpage generator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/xymon/">
      <span itemprop="name">xymon</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/xymongen.1.html">
      <span itemprop="name">xymongen: Xymon webpage generator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>xymongen -?</strong></p><p><strong>xymongen --help</strong></p><p><strong>xymongen --version</strong></p><p><strong>xymongen [options] [output-directory]</strong></p><p>(See the OPTIONS section for a description of the available command-line options).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>xymongen</strong> generates the overview webpages for the Xymon monitor. These are the webpages that show the overall status of your hosts, not the detailed status pages for each test.</p><p>Note: The data for the webpages is retrieved from the <strong>xymond</strong>(8)</em> daemon, and xymongen uses the values of the XYMSRV / XYMSERVERS environment variables to determine the network address where xymond can be reached. If you have more than one server listed in XYMSERVERS, make sure the first one is the local Xymon server - this is the one that xymongen will query for data.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>xymongen has a large number of command-line options.  The options can be used to change the behaviour of xymongen and affect the web pages generated by it.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    --help or -?
  </dt>
  <dd>
    <p>Provide a summary of available command-line options.</p>
  </dd>
  <dt>
    --version
  </dt>
  <dd>
    <p>Prints the version number of xymongen</p>
  </dd>
  <dt>
    --docurl=URL
  </dt>
  <dd>
    <p>This option is deprecated, use the HOSTDOCURL setting in <a href="../man5/xymonserver.cfg.5.html"><strong>xymonserver.cfg</strong>(5)</a></em> instead.</p>
  </dd>
  <dt>
    --doccgi=URL
  </dt>
  <dd>
    <p>This option is deprecated, use the HOSTDOCURL setting in <a href="../man5/xymonserver.cfg.5.html"><strong>xymonserver.cfg</strong>(5)</a></em> instead.</p>
  </dd>
  <dt>
    --doc-window
  </dt>
  <dd>
    <p>Causes links to documentation for hosts and services to open in a new window. The default is to show documentation in the same browser window as the Xymon status.</p>
  </dd>
  <dt>
    --htmlextension=.EXTENSION
  </dt>
  <dd>
    <p>Sets the filename extension used for the webpages generated by xymongen. By default, an extension of ".html" is used.  Note that you need to specify the "dot".</p>
  </dd>
  <dt>
    --report[=COLUMNNAME]
  </dt>
  <dd>
    <p>With this option, xymongen will send a status message with details of how many hosts were processed, how many pages were generated, any errors that occurred during the run, and some timing statistics. The default columnname is "xymongen".</p>
  </dd>
  <dt>
    --htaccess[=htaccess-filename]
  </dt>
  <dd>
    <p>Create .htaccess files when new web page directories are created. The content of the .htaccess files are determined by the XYMONHTACCESS environment variable (for the top-level directory with xymon.html and nongreen.html); by the XYMONPAGEHTACCESS variable (for the page-level directories); and by the XYMONSUBPAGEHTACCESS variable for subpage- and subparent-level directories. The filename of the .htaccess files default to ".htaccess" if no filename is given with this option. The XYMONHTACCESS variable is copied verbatim into the top-level .htaccess file. The XYMONPAGEHTACCESS variable may contain a "%s" where the name of the page is inserted. The XYMONSUBPAGEHTACCESS variable may contain two "%s" instances: The first is replaced with the pagename, the second with the subpagename.</p>
  </dd>
  <dt>
    --max-eventcount=N
  </dt>
  <dd>
    <p>Limit the eventlog on the "All non-green" page to only N events. Default: 100.</p>
  </dd>
  <dt>
    --max-eventtime=N
  </dt>
  <dd>
    <p>Limit the eventlog on the "All non-green" page to events that happened within the past N minutes. Default: 240.</p>
  </dd>
  <dt>
    --no-eventlog
  </dt>
  <dd>
    <p>Disable the eventlog normally displayed on the "All non-green" page</p>
  </dd>
  <dt>
    --max-ackcount=N
  </dt>
  <dd>
    <p>Limit the acknowledgment log on the "All non-green" page to only N events. Default: 25.</p>
  </dd>
  <dt>
    --max-acktime=N
  </dt>
  <dd>
    <p>Limit the acknowledgment log on the "All non-green" page to acks that happened within the past N minutes. Default: 240.</p>
  </dd>
  <dt>
    --no-acklog
  </dt>
  <dd>
    <p>Disable the acknowledgement log normally displayed on the "All non-green" page.</p>
  </dd>
  <dt>
    --cricitcallog[=Critical log column]
  </dt>
  <dd>
    <p>This generates a text-based log of what is shown on the critical.html status page, and sends a status message for the Xymon server itself reflecting the color of the Critical status page. This allows you to track when problems have appeared on the critical status page. The logfile is stored in $XYMONSERVERLOGS/criticalstatus.log</p>
  </dd>
  <dt>
    --loadhostsfromxymond
  </dt>
  <dd>
    <p>Instead of reading the hosts.cfg file, xymongen will load the hosts.cfg configuration from the xymond daemon. This eliminates the need for reading the hosts.cfg, and if you have xymond and xymongen running on different hosts, it also eliminates the need for copying the hosts.cfg file between systems. Note that the "dispinclude" option in hosts.cfg is ignored when this option is enabled.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PAGE LAYOUT OPTIONS</h2>
        <div class="sectioncontent">
<p>These options affect how the webpages generated by xymongen appear in the browser.</p>
<dl class='dl-vertical'>
  <dt>
    --pages-last
  </dt>
  <dd>
    <p>Put page- and subpage-links after hosts.</p>
  </dd>
  <dt>
    --pages-first
  </dt>
  <dd>
    <p>Put page- and subpage-links before hosts (default).</p><p>These two options decide whether a page with links to subpages and hosts have the hosts or the subpages first.</p>
  </dd>
  <dt>
    --subpagecolumns=N
  </dt>
  <dd>
    <p>Determines the number of columns used for links to pages and subpages. The default is N=1.</p>
  </dd>
  <dt>
    --maxrows=N
  </dt>
  <dd>
    <p>Column headings on a page are by default only shown at the beginning of a page, subpage or group of hosts. This options causes the column headings to repeat for every N hosts shown.</p>
  </dd>
  <dt>
    --pagetitle-links
  </dt>
  <dd>
    <p>Normally, only the colored "dots" next to a page or subpage act as links to the page itself. With this option, the page title will link to the page also.</p>
  </dd>
  <dt>
    --pagetext-headings
  </dt>
  <dd>
    <p>Use the description text from the "page" or "subpage" tags as a heading for the page, instead of the "Pages hosted locally" or other standard heading.</p>
  </dd>
  <dt>
    --no-underline-headings
  </dt>
  <dd>
    <p>Normally, page headings are underlined using an HTML "horizontal ruler" tag. This option disables the underlining of headings.</p>
  </dd>
  <dt>
    --recentgifs[=MINUTES]
  </dt>
  <dd>
    <p>Use images named COLOR-recent.gif for tests, where the test status has changed within the past 24 hours. These GIF files need to be installed in the $XYMONHOME/www/gifs/ directory. By default, the threshold is set to 24 hours - if you want it differently, you can specify the time limit also. E.g. "--recentgifs=3h" will show the recent GIFs for only 3 hours after a status change.</p>
  </dd>
  <dt>
    --sort-group-only-items
  </dt>
  <dd>
    <p>In a normal "group-only" directive, you can specify the order in which the tests are displayed, from left to right. If you prefer to have the tests listed in alphabetical order, use this option - the page will then generate "group-only" groups like it generates normal groups, and sort the tests alphabetically.</p>
  </dd>
  <dt>
    --dialupskin=URL
  </dt>
  <dd>
    <p>If you want to visually show that a test is a dialup-test, you can use an alternate set of icons for the green/red/yellow&gt;/etc. images by specifying this option. The URL parameter specified here overrides the normal setting from the XYMONSKIN environment variable, but only for dialup tests.</p>
  </dd>
  <dt>
    --reverseskin=URL
  </dt>
  <dd>
    <p>Same as "--dialupskin", but for reverse tests (tests with '!' in front).</p>
  </dd>
  <dt>
    --tooltips=[always,never,main]
  </dt>
  <dd>
    <p>Determines which pages use tooltips to show the description of the host (from the COMMENT entry in the <a href="../man5/hosts.cfg.5.html"><strong>hosts.cfg</strong>(5)</a></em> file). If set to <strong>always</strong>, tooltips are used on all pages. If set to <strong>never</strong>, tooltips are never used. If set to <strong>main</strong>, tooltips are used on the main pages, but not on the "All non-green" or "Critical systems" pages.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COLUMN SELECTION OPTIONS</h2>
        <div class="sectioncontent">
<p>These options affect which columns (tests) are included in the webpages generated by xymongen.</p>
<dl class='dl-vertical'>
  <dt>
    --ignorecolumns=test[,test]
  </dt>
  <dd>
    <p>The given columns will be completely ignored by xymongen when generating webpages. Can be used to generate reports where you eliminate some of the more noisy tests, like "msgs".</p>
  </dd>
  <dt>
    --critical-reds-only
  </dt>
  <dd>
    <p>Only red status columns will be included on the Critical page. By default, the Critical page will contain hosts with red, yellow and clear status.</p>
  </dd>
  <dt>
    --nongreen-colors=COLOR[,COLOR]
  </dt>
  <dd>
    <p>Defines which colors cause a test to appear on the "All non-green" status page. COLOR is red, yellow or purple.  The default is to include all three.</p>
  </dd>
  <dt>
    --nongreen-ignorecolumns=test[,test]
  </dt>
  <dd>
    <p>Same as the --ignorecolumns, but applies to hosts on the "All non-green" page only.</p>
  </dd>
  <dt>
    --nongreen-ignorepurples
  </dt>
  <dd>
    <p>Deprecated, use "--nongreen-colors" instead.</p>
  </dd>
  <dt>
    --nongreen-ignoredialups
  </dt>
  <dd>
    <p>Ignore all dialup hosts on the "All non-green" page, including the eventlog.</p>
  </dd>
  <dt>
    --no-pages
  </dt>
  <dd>
    <p>Do not generate the normal pages (normally used to generate only the non-green page).</p>
  </dd>
  <dt>
    --no-nongreen
  </dt>
  <dd>
    <p>Do not generate the "All non-green" page.</p>
  </dd>
  <dt>
    --includecolumns=test[,test]
  </dt>
  <dd>
    <p>Always include these columns on "All non-green" page Will include certain columns on the nongreen.html page, regardless of its color. Normally, nongreen.html drops a test-column, if all tests are green. This can be used e.g. to always have a link to the trends column (with the RRD graphs) from your nongreen.html page.</p>
  </dd>
  <dt>
    --eventignore=test[,test]
  </dt>
  <dd>
    <p>Ignore these tests in the "All non-green" event log display.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STATUS PROPAGATION OPTIONS</h2>
        <div class="sectioncontent">
<p>These options suppress the normal propagation of a status upwards in the page hierarchy. Thus, you can have a test with status yellow or red, but still have the entire page green. It is useful for tests that need not cause an alarm, but where you still want to know the actual status. These options set global defaults for all hosts; you can use the NOPROPRED and NOPROPYELLOW tags in the <a href="../man5/hosts.cfg.5.html"><strong>hosts.cfg</strong>(5)</a></em> file to apply similar limits on a per-host basis.</p>
<dl class='dl-vertical'>
  <dt>
    --nopropyellow=test[,test] or --noprop=test[,test]
  </dt>
  <dd>
    <p>Disable upwards status propagation when YELLOW. The "--noprop" option is deprecated and should not be used.</p>
  </dd>
  <dt>
    --noproppurple=test[,test]
  </dt>
  <dd>
    <p>Disable upwards status propagation when PURPLE.</p>
  </dd>
  <dt>
    --nopropred=test[,test]
  </dt>
  <dd>
    <p>Disable upwards status propagation when RED or YELLOW.</p>
  </dd>
  <dt>
    --nopropack=test[,test]
  </dt>
  <dd>
    <p>Disable upwards status propagation when status has been acknowledged. If you want to disable all acked tests from being propageted, use "--nopropack=*".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PURPLE STATUS OPTIONS</h2>
        <div class="sectioncontent">
<p>Purple statuses occur when reporting of a test status stops. A test status is valid for a limited amount of time - normally 30 minutes - and after this time, the test becomes purple.</p>
<dl class='dl-vertical'>
  <dt>
    --purplelog=FILENAME
  </dt>
  <dd>
    <p>Generate a logfile of all purple status messages.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ALTERNATE PAGESET OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    --pageset=PAGESETNAME
  </dt>
  <dd>
    <p>Build webpages for an alternate pageset than the default. See the PAGESETS section below.</p>
  </dd>
  <dt>
    --template=TEMPLATE
  </dt>
  <dd>
    <p>Use an alternate template for header and footer files. Typically used together the the "--pageset" option; see the PAGESETS section below.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ALTERNATE OUTPUT FORMATS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    --wml[=test1,test2,...]
  </dt>
  <dd>
    <p>This option causes xymongen to generate a set of WML "card" files that can be accessed by a WAP device (cell phone, PDA etc.) The generated files contain the hosts that have a RED or YELLOW status on tests specified.  This option can define the default tests to include - the defaults can be overridden or amended using the "WML:" or "NK:" tags in the <a href="../man5/hosts.cfg.5.html"><strong>hosts.cfg</strong>(5)</a></em> file. If no tests are specified, all tests will be included.</p>
  </dd>
  <dt>
    --nstab=FILENAME
  </dt>
  <dd>
    <p>Generate an HTML file suitable for a Netscape 6/Mozilla sidebar entry. To actually enable your users to obtain such a sidebar entry, you need this Javascript code in a webpage (e.g. you can include it in the $XYMONHOME/web/stdnormal_header file):</p><p>&lt;SCRIPT TYPE="text/javascript"&gt;</p><p>&lt;!--</p><p>function addNetscapePanel() {</p>
<pre>
   if ((typeof window.sidebar == "object") &&
       (typeof window.sidebar.addPanel == "function"))
</pre>

<pre>
      window.sidebar.addPanel ("Xymon",
</pre>

<pre>
            "http://your.server.com/nstab.html","");
</pre>

<pre>
   else
</pre>

<pre>
      alert("Sidebar only for Mozilla or Netscape 6+");
</pre>
<p>}</p><p>//--&gt;</p><p>&lt;/SCRIPT&gt;</p><p>and then you can include a "Add this to sidebar" link using this as a template:</p>
<pre>
   &lt;A HREF="javascript:addNetscapePanel();"&gt;Add to Sidebar&lt;/A&gt;
</pre>
<p>or if you prefer to have the standard Netscape "Add tab" button, you would do it with</p>
<pre>
   &lt;A HREF="javascript:addNetscapePanel();"&gt;
</pre>

<pre>
      &lt;IMG SRC="/gifs/add-button.gif" HEIGHT=45 WIDTH=100
</pre>

<pre>
           ALT="[Add Sidebar]" STYLE="border:0"&gt;
</pre>

<pre>
   &lt;/A&gt;
</pre>
<p>The "add-button.gif" is available from Netscape at http://developer.netscape.com/docs/manuals/browser/sidebar/add-button.gif.</p><p>If FILENAME does not begin with a slash, the Netscape sidebar file is placed in the $XYMONHOME/www/ directory.</p>
  </dd>
  <dt>
    --nslimit=COLOR
  </dt>
  <dd>
    <p>The minimum color to include in the Netscape Sidebar - default is "red", meaning only critical alerts are included. If you want to include warnings also, use "--nslimit=yellow".</p>
  </dd>
  <dt>
    --rss
  </dt>
  <dd>
    <p>Generate RSS/RDF content delivery stream of your Xymon alerts. This output format can be dynamically embedded in other web pages, much like the live newsfeeds often seen on web sites. Two RSS files will be generated, one reflects the "All non-green" page, the other reflects the "Critical" page. They will be in the "nongreen.rss" and "critical.rss" files, respectively. In addition, an RSS file will be generated for each page and/or subpage listing the hosts present on that page or subpage.</p><p>The FILENAME parameter previously allowed on the --rss option is now obsolete.</p><p>For more information about RSS/RDF content feeds, please see http://www.syndic8.com/.</p>
  </dd>
  <dt>
    --rssextension=.EXTENSION
  </dt>
  <dd>
    <p>Sets the filename extension used for the RSS files generated by xymongen. By default, an extension of ".rss" is used.  Note that you need to specify the "dot".</p>
  </dd>
  <dt>
    --rssversion={0.91|0.92|1.0|2.0}
  </dt>
  <dd>
    <p>The desired output format of the RSS/RDF feed. Version 0.91 appears to be the most commonly used format, and is the default if this option is omitted.</p>
  </dd>
  <dt>
    --rsslimit=COLOR
  </dt>
  <dd>
    <p>The minimum color to include in the RSS feed - default is "red", meaning only critical alerts are included. If you want to include warnings also, use "--rsslimit=yellow".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS USED BY CGI FRONT-ENDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    --reportopts=START:END:DYNAMIC:STYLE
  </dt>
  <dd>
    <p>Invoke xymongen in report-generation mode. This is normally used by the <a href="../man1/report.cgi.1.html"><strong>report.cgi</strong>(1)</a></em> CGI script, but may also be used directly when pre-generating reports. The START parameter is the start-time for the report in Unix time_t format (seconds since Jan 1st 1970 00:00 UTC); END is the end-time for the report; DYNAMIC is 0 for a pre-built report and 1 for a dynamic (on-line) report; STYLE is "crit" to include only critical (red) events, "nongr" to include all non-green events, and "all" to include all events.</p>
  </dd>
  <dt>
    --csv=FILENAME
  </dt>
  <dd>
    <p>Used together with --reportopts, this causes xymongen to generate an availability report in the form of a comma-separated values (CSV) file. This format is commonly used for importing into spreadsheets for further processing.</p><p>The CSV file includes Unix timestamps. To display these as human readable times in Excel, the formula <strong>=C2/86400+DATEVALUE(1-jan-1970)</strong> (if you have the Unix timestamp in the cell C2) can be used. The result cell should be formatted as a date/time field. Note that the timestamps are in UTC, so you may also need to handle local timezone and DST issues yourself.</p>
  </dd>
  <dt>
    --csvdelim=DELIMITER
  </dt>
  <dd>
    <p>By default, a comma is used to delimit fields in the CSV output. Some non-english spreadsheets use a different delimiter, typically semi-colon. To generate a CSV file with the proper delimiter, you can use this option to set the character used as delimiter. E.g. "--csvdelim=;" - note that this normally should be in double quotes, to prevent the Unix shell from interpreting the delimiter character as a command-line delimiter.</p>
  </dd>
  <dt>
    --snapshot=TIME
  </dt>
  <dd>
    <p>Generate a snapshot of the Xymon pages, as they appeared at TIME. TIME is given as seconds since Jan 1st 1970 00:00 UTC. Normally used via the <a href="../man1/snapshot.cgi.1.html"><strong>snapshot.cgi</strong>(1)</a></em> CGI script.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEBUGGING OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    --debug
  </dt>
  <dd>
    <p>Causes xymongen to dump large amounts of debugging output to stdout, if it was compiled with the -DDEBUG enabled. When reporting a problem with xymongen, please try to reproduce the problem and provide the output from running xymongen with this option.</p>
  </dd>
  <dt>
    --timing
  </dt>
  <dd>
    <p>Dump information about the time spent by various parts of xymongen to stdout. This is useful to see what part of the processing is responsible for the run-time of xymongen.</p><p>Note: This information is also provided in the output sent to the Xymon display when using the "--report" option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUILDING ALTERNATE PAGESETS</h2>
        <div class="sectioncontent">
<p>With version 1.4 of xymongen comes the possibility to generate multiple sets of pages from the same data.</p><p>Suppose you have two groups of people looking at the Xymon webpages.  Group A wants to have the hosts grouped by the client, they belong to. This is how you have Xymon set up - the default pageset. Now group B wants to have the hosts grouped by operating system - let us call it the "os" set.  Then you would add the page layout to hosts.cfg like this:</p><p>ospage    win          Microsoft Windows</p><p>ossubpage   win-nt4      MS Windows NT 4</p><p>osgroup NT4 File servers</p><p>osgroup NT4 Mail servers</p><p>ossubpage   win-xp       MS Windows XP</p><p>ospage    unix         Unix</p><p>ossubpage   unix-sun     Solaris</p><p>ossubpage   unix-linux   Linux</p><p>This defines a set of pages with one top-level page (the xymon.html page), two pages linked from xymon.html (win.html and unix.html), and from e.g. the win.html page there are subpages win-nt4.html and win-xp.html</p><p>The syntax is identical to the normal "page" and "subpage" directives in hosts.cfg, but the directive is prefixed with the pageset name. Don't put any hosts in-between the page and subpage directives - just add all the directives at the top of the hosts.cfg file.</p><p>How do you add hosts to the pages, then ? Simple - just put a tag "OS:win-xp" on the host definition line. The "OS" must be the same as prefix used for the pageset names, but in uppercase. The "win-xp" must match one of the pages or subpages defined within this pageset.  E.g.</p><p>207.46.249.190  www.microsoft.com # OS:win-xp http://www.microsoft.com/</p><p>64.124.140.181  www.sun.com # OS:unix-sun http://www.sun.com/</p><p>If you want the host to appear inside a group defined on that page, you must identify the group by number, starting at 1. E.g. to put a host inside the "NT4 Mail servers" group in the example above, use "OS:win-nt4,2" (the second group on the "win-nt4" page).</p><p>If you want the host to show up on the frontpage instead of a subpage, use "OS:*" .</p><p>All of this just defines the layout of the new pageset. To generate it, you must run xymongen once for each pageset you define - i.e. create an extension script like this:</p><ul>
<li>
<pre>
#!/bin/sh

XYMONWEB="/xymon/os" $XYMONHOME/bin/xymongen &#92;
	--pageset=os --template=os &#92;
	$XYMONHOME/www/os/
</pre>
</li>
</ul><p>Save this to $XYMONHOME/ext/os-display.sh, and set this up to run as a Xymon extension; this means addng an extra section to tasks.cfg to run it.</p><p>This generates the pages. There are some important options used here:</p><p>* XYMONWEB="/xymon/os" environment variable, and the</p>
<pre>
  "$XYMONHOME/www/os/" option work together, and places the
  new pageset HTML files in a subdirectory off the normal
  Xymon webroot. If you normally access the Xymon pages as
  "http://xymon.acme.com/xymon/", you will then access
  the new pageset as "http://xymon.acme.com/xymon/os/"
  NB: The directory given as XYMONWEB must contain a symbolic
  link to the $XYMONHOME/www/html/ directory, or links to
  individual status messages will not work. Similar links
  should be made for the gifs/, help/ and notes/
  directories.
</pre>
<p>* "--pageset=os" tells xymongen to structure the webpages</p>
<pre>
  using the "os" layout, instead of the default layout.
</pre>
<p>* "--template=os" tells xymongen to use a different set of</p>
<pre>
  header- and footer-templates. Normally xymongen uses the
  standard template in $XYMONHOME/web/stdnormal_header and
  .../stdnormal_footer - with this option, it will instead use
  the files "os_header" and "os_footer" from the
  $XYMONHOME/web/ directory. This allows you to customize
  headers and footers for each pageset. If you just want
  to use the normal template, you can omit this option.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING XYMONGEN FOR REPORTS</h2>
        <div class="sectioncontent">
<p>xymongen reporting is implemented via drop-in replacements for the standard Xymon reporting scripts (report.sh and reportlog.sh) installed in your webservers cgi-bin directory.</p><p>These two shell script have been replaced with two very small shell-scripts, that merely setup the Xymon environment variables, and invoke the <a href="../man1/report.cgi.1.html"><strong>report.cgi</strong>(1)</a></em> or <a href="../man1/reportlog.cgi.1.html"><strong>reportlog.cgi</strong>(1)</a></em> scripts in $XYMONHOME/bin/</p><p>You can use xymongen command-line options when generating reports, e.g. to exclude certain types of tests (e.g. "--ignorecolumns=msgs") from the reports, to specify the name of the trends- and info- columns that should not be in the report, or to format the report differently (e.g. "--subpagecolumns=2"). If you want certain options to be used when a report is generated from the web interface, put these options into your $XYMONHOME/etc/xymonserver.cfg file in the XYMONGENREPOPTS environment variable.</p><p>The report files generated by xymongen are stored in individual directories (one per report) below the $XYMONHOME/www/rep/ directory. These should be automatically cleaned up - as new reports are generated, the old ones get removed.</p><p>After installing, try generating a report. You will probably see that the links in the upper left corner (to ack.html, nongreen.html etc.) no longer works. To fix these, change your $XYMONHOME/web/repnormal_header file so these links do not refer to "&XYMONWEB" but to the normal URL prefix for your Xymon pages.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SLA REPORTING</h2>
        <div class="sectioncontent">
<p>xymongen reporting allows for the generation of true SLA (Service Level Agreement) reports, also for service periods that are not 24x7. This is enabled by defining a "REPORTTIME:timespec" tag for the hosts to define the service period, and optionally a "WARNPCT:level" tag to define the agreed availability.</p><p>Note: See <a href="../man5/hosts.cfg.5.html"><strong>hosts.cfg</strong>(5)</a></em> for the exact syntax of these options.</p><p>"REPORTTIME:timespec" specifies the time of day when the service is expected to be up and running. By default this is 24 hours a day, all days of the week. If your SLA only covers Mon-Fri 7am - 8pm, you define this as "REPORTTIME=W:0700:2000", and the report generator will then compute both the normal 24x7 availability but also a "SLA availability" which only takes the status of the host during the SLA period into account.</p><p>The DOWNTIME:timespec parameter affects the SLA availability calculation. If an outage occurs during the time defined as possible "DOWNTIME", then the failure is reported with a status of "blue". (The same color is used if you "disable" then host using the Xymon "disable" function). The time when the test status is "blue" is not included in the SLA calculation, neither in the amount of time where the host is considered down, nor in the total amount of time that the report covers. So "blue" time is effectively ignored by the SLA availability calculation, allowing you to have planned downtime without affecting the reported SLA availability.</p><p>Example: A host has "DOWNTIME:*:0700:0730 REPORTTIME=W:0600:2200" because it is rebooted every day between 7am and 7.30am, but the service must be available from 6am to 10pm. For the day of the report, it was down from 7:10am to 7:15am (the planned reboot), but also from 9:53pm to 10:15pm. So the events for the day are:</p>
<pre>
   0700 : green for 10 minutes (600 seconds)
   0710 : blue for 5 minutes (300 seconds)
   0715 : green for 14 hours 38 minutes (52680 seconds)
   2153 : red for 22 minutes (1320 seconds)
   2215 : green
</pre>
<p>The service is available for 600+52680 = 53280 seconds. It is down (red) for 420 seconds (the time from 21:53 until 22:00 when the SLA period ends). The total time included in the report is 15 hours (7am - 10pm) except the 5 minutes blue = 53700 seconds. So the SLA availability is 53280/53700 = 99,22%</p><p>The "WARNPCT:level" tag is supported in the hosts.cfg file, to set the availability threshold on a host-by-host basis. This threshold determines whether a test is reported as green, yellow or red in the reports. A default value can be set for all hosts with the via the XYMONREPWARN environment variable, but overridden by this tag. The level is given as a percentage, e.g. "WARNPCT:98.5"</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PRE-GENERATED REPORTS</h2>
        <div class="sectioncontent">
<p>Normally, xymongen produce reports that link to dynamically generated webpages with the detailed status of a test (via the reportlog.sh CGI script).</p><p>It is possible to have xymongen produce a report without these dynamic links, so the report can be exported to another server. It may also be useful to pre-generate the reports, to lower the load by having multiple users generate the same reports.</p><p>To do this, you must run xymongen with the "--reportopts" option to select the time interval that the report covers, the reporting style (critical, non-green, or all events), and to request that no dynamic pages are to be generated.</p><p>The syntax is:</p>
<pre>
   xymongen --reportopts=starttime:endtime:nodynamic:style
</pre>
<p>"starttime" and "endtime" are specified as Unix time_t values, i.e. seconds since Jan 1st 1970 00:00 GMT. Fortunately, this can easily be computed with the GNU date utility if you use the "+%s" output option. If you don't have the GNU date utility, either pick that up from www.gnu.org; or you can use the "etime" utility for the same purpose, which is available from the archive at www.deadcat.net.</p><p>"nodynamic" is either 0 (for dynamic pages, the default) or 1 (for no dynamic, i.e. pre-generated, pages).</p><p>"style" is either "crit" (include critical i.e. red events only), "nongr" (include all non-green events), or "all" (include all events).</p><p>Other xymongen options can be used, e.g. "--ignorecolumns" if you want to exclude certain tests from the report.</p><p>You will normally also need to specify the XYMONWEB environment variable (it must match the base URL for where the report will be made accessible from), and an output directory where the report files are saved.  If you specify XYMONWEB, you should probably also define the XYMONHELPSKIN and XYMONNOTESSKIN environment variables. These should point to the URL where your Xymon help- and notes-files are located; if they are not defined, the links to help- and notes-files will point inside the report directory and will probably not work.</p><p>So a typical invocation of xymongen for a static report would be:</p>
<pre>
  START=`date +%s --date="22 Jun 2003 00:00:00"`
  END=`date +%s --date="22 Jun 2003 23:59:59"`
  XYMONWEB=/reports/bigbrother/daily/2003/06/22 &#92;
  XYMONHELPSKIN=/xymon/help &#92;
  XYMONNOTESSKIN=/xymon/notes &#92;
  xymongen --reportopts=$START:$END:1:crit &#92;
        --subpagecolumns=2 &#92;
        /var/www/docroot/reports/xymon/daily/2003/06/22
</pre>
<p>The "XYMONWEB" setting means that the report will be available with a URL of "http://www.server.com/reports/xymon/daily/2003/06/22". The report contains internal links that use this URL, so it cannot be easily moved to another location.</p><p>The last parameter is the corresponding physical directory on your webserver matching the XYMONWEB URL. You can of course create the report files anywhere you like - perhaps on another machine - and then move them to the webserver later on.</p><p>Note how the <a href="../man1/date.1.html"><strong>date</strong>(1)</a></em> utility is used to calculate the start- and end-time parameters.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    BOARDFILTER
  </dt>
  <dd>
    <p>Filter used to select what hosts / tests are included in the webpages, by filtering the data retrieved from xymond vi the xymondboard command. See <a href="../man1/xymon.1.html"><strong>xymon</strong>(1)</a></em> for details on the filter syntax. By default, no filtering is done.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO xymongen&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/hosts.cfg.5.html"><strong>hosts.cfg</strong>(5)</a>, <a href="../man5/xymonserver.cfg.5.html"><strong>xymonserver.cfg</strong>(5)</a>, <a href="../man5/tasks.cfg.5.html"><strong>tasks.cfg</strong>(5)</a>, <a href="../man1/report.cgi.1.html"><strong>report.cgi</strong>(1)</a>, <a href="../man1/snapshot.cgi.1.html"><strong>snapshot.cgi</strong>(1)</a>, <a href="../man7/xymon.7.html"><strong>xymon</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="xymondigest.1.html"><span aria-hidden="true">&larr;</span> xymondigest.1: Calculate message digests</a></li>
   <li class="next"><a href="xymongrep.1.html">xymongrep.1: Pick out lines in hosts.cfg <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
