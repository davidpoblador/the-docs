<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nescc: Nesc compiler</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Nesc compiler">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nescc (1) manual">
  <meta name="twitter:description" content="Nesc compiler">
  <meta name="twitter:image" content="https://www.carta.tech/images/nescc-nescc-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/nescc.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nescc (1) manual" />
  <meta property="og:description" content="Nesc compiler" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nescc-nescc-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nescc<small> (1)</small></h1>
        <p class="lead">Nesc compiler</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nescc.1.html">
      <span itemprop="name">nescc: Nesc compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nescc/">
      <span itemprop="name">nescc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nescc.1.html">
      <span itemprop="name">nescc: Nesc compiler</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nescc</strong> [<strong>-gcc=</strong><em>gcc-name</em>] [<strong>-fnesc-gcc=</strong><em>gcc-name</em>] [<strong>-fnesc-mingw-gcc</strong>]</p>
<pre>
    [<strong>-fnesc-target=</strong><em>architecture</em>] [<strong>-fnesc-docdir=</strong><em>dir</em>]
    [<strong>-fnesc-topdir=</strong><em>dir</em>] [<strong>-fnesc-docs-use-graphviz</strong>] [<strong>-fnesc-is-app</strong>]
    [<strong>-fnesc-simulate</strong>]
    [<strong>-fnesc-nido-tosnodes=</strong><em>n</em>] [<strong>-fnesc-nido-motenumber=</strong><em>expression</em>]
    [<strong>-conly</strong>] [<strong>-fnesc-cfile=</strong><em>file</em>] [<strong>-fnesc-gccize</strong>]
    [<strong>-fnesc-cppdir=</strong><em>directory</em>] [<strong>-fnesc-separator=</strong><em>separator</em>]
    [<strong>-fnesc-no-inline</strong>] [<strong>-fnesc-optimize-atomic</strong>]
    [<strong>--version</strong>] [<strong>-fnesc-include=</strong><em>file</em>] [<strong>-fnesc-verbose</strong>] [<strong>-Wnesc-</strong><em>...</em>]
    [<strong>-fnesc-dump=</strong><em>specification</em>] [<strong>-fnesc-dumpfile=</strong><em>file</em>]
    [<strong>-fnesc-scheduler=</strong><em>specification</em>] [<strong>-fnesc-path=</strong><em>path</em>]
    [<strong>-fnesc-no-debug</strong>]
    [<strong>-fnesc-deputy</strong>] [<strong>-fnesc-no-deputy</strong>]
    [<strong>-fnesc-default-safe</strong>] [<strong>-fnesc-default-unsafe</strong>]
    [any gcc option] <em>files</em>...
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>nescc</strong> is an extension to <strong>gcc</strong> that knows how to compile nesC applications. If invoked on regular C files, it behaves exactly like <strong>gcc</strong>. When invoked on a nesC component or interface (<strong>.nc</strong> extension) file it compiles and links (except if the <strong>-c</strong>, <strong>-S</strong>, <strong>-conly</strong>, <strong>-E</strong> or <strong>-fsyntax-only</strong> options are used) that component with the other files specified on the command line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>nescc</strong> accepts all <strong>gcc</strong> options, and some additional nesC specific options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-gcc=</strong><em>gcc-name</em> -fnesc-gcc=<em>gcc-name</em></p>
  </dt>
  <dd>
    <p>Specify which gcc compiler to use to compile and link any C files, either explicitly specified, or generated as the output of the nesC-to-C compiler. This option supports cross-compilation of nesC code (the usual mode of operation...).</p>
  </dd>
  <dt>
    <p><strong>-fnesc-mingw-gcc</strong></p>
  </dt>
  <dd>
    <p>Pass this option if the gcc version specified with <strong>-gcc=...</strong> was compiled for Window's mingw environment, and hence expects Windows-style rather than Unix-style paths.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-target=</strong><em>architecture</em></p>
  </dt>
  <dd>
    <p>Specify the target architecture to compile for. Currently supported platforms are <strong>avr</strong> (the Atmel AVR family), <strong>msp430</strong> (the TI MSP430 family) and <strong>self</strong> (the machine the nesC compiler is running on). If you use the <strong>env</strong> target, the architecture details are read from the <strong>NESC_MACHINE</strong> environment variable. See the separate env target documentation for details.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-docdir=</strong><em>dir</em></p>
  </dt>
  <dd>
    <p>Generate documentation for the compiled component in directory <em>dir</em>.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-topdir=</strong><em>dir</em></p>
  </dt>
  <dd>
    <p>Specify directory paths that should be stripped from the source file names when generating "package names" for the documentation files.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-docs-use-graphviz</strong></p>
  </dt>
  <dd>
    <p>Explicitly enable or disable the use of the graphviz tool in the generated documentation. Without this option, graphviz is enabled iff the <strong>dot</strong> program is found in the current path. Use of graphviz requires <strong>dot</strong>.  The documentation generation tool checks the version of <strong>dot</strong>, and enables client-side image maps, if supported.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-is-app</strong></p>
  </dt>
  <dd>
    <p>Tell nescc that the source being compiled is an application, and to generate an app description page for the entire application.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-simulate</strong></p>
  </dt>
  <dd>
    <p>Compile for a simulation environment.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-nido-tosnodes=</strong><em>n</em>, <strong>-fnesc-nido-motenumber=</strong><em>expression</em></p>
  </dt>
  <dd>
    <p>When <strong>-fnesc-simulate</strong> is specified, the nesC program is compiled for a simulation environment, where a single executable will simulate <em>n</em> nodes. Specifically, in the generated code, each global variable becomes an <em>n</em> element array, and all accesses to global variables are indexed with <em>expression</em>.</p>
  </dd>
  <dt>
    <p><strong>-conly</strong></p>
  </dt>
  <dd>
    <p>Just compile to C, leaving the generated source code for top-level-component <em>comp.nc</em> in C file <em>comp.c</em> (except if the <strong>-fnesc-cfile</strong> option is specified).</p>
  </dd>
  <dt>
    <p><strong>-fnesc-cfile=</strong><em>file</em></p>
  </dt>
  <dd>
    <p>Specify a file in which to save the C code generated when compiling a component. Note: if you specify two components on the command line, then the C code from the second one will overwrite the C code from the first.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-gccize</strong></p>
  </dt>
  <dd>
    <p>Output target-specific extensions as gcc-style attributes rather than using the target's original syntax. Can help if using <strong>-conly</strong> and sending the nesC output from some other tool that understands gcc attributes but not the target-specific extensions.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-cppdir=</strong><em>directory</em></p>
  </dt>
  <dd>
    <p>Save all preprocessing results in <em>directory</em>. The directory is created if it doesn't exist. This can be helpful to track down preprocessor-related compilation problems. You probably want to ensure that <em>directory</em> is empty when you call <strong>nescc</strong>, to make it obvious which files where preprocessed as part of the current compilation.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-separator=</strong><em>separator</em></p>
  </dt>
  <dd>
    <p>Set separator used to create symbol names in the generated C code (default $). The compiler needs to generate unique names to denote, e.g., a module variable. It does this by concatenating various symbol names to ensure that it generates unique names. For instance, variable <strong>bar</strong> in module <strong>Maz</strong> becomes a global C variable <strong>Maz$bar</strong> in the compiler output. Some C compilers do not like $ in symbol names, so you can specify a different separator, e.g., <strong>__</strong> (leading to generated symbols like <strong>Maz__bar</strong>).</p><p>You will get a compile-time warning if any symbol in the program being compiled contains the separator you specify (the presence of the separator in a symbol could lead to the generation of incorrect code). The separator can however start or end a symbol.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-no-inline</strong></p>
  </dt>
  <dd>
    <p>Disabled the automatic inlining of all small functions, and of all functions with a single call site.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-optimize-atomic</strong></p>
  </dt>
  <dd>
    <p>Optimize atomic statements [EXPERIMENTAL]: reduce or remove the overhead of atomic statements in simple cases (e.g., single-byte reads).</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print the version of <strong>nescc</strong> and of the selected gcc compiler (see <strong>-gcc</strong>).</p>
  </dd>
  <dt>
    <p><strong>-fnesc-include=</strong><em>header-file</em></p>
  </dt>
  <dd>
    <p>Include the specified file before compiling a nesC component. Behaves as if <strong>includes </strong><em>header-file</em><strong>;</strong> was included at the start of that component.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-dump=</strong><em>specification</em></p>
  </dt>
  <dd>
    <p>Output information on the compiled programs structure, and in particular its user-specified attributes. For more details, see the separate nesC dump documentation.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-dumpfile=</strong><em>file</em></p>
  </dt>
  <dd>
    <p>Where to output the information requested by <strong>-fnesc-dump</strong>. Defaults to stdout.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-verbose</strong></p>
  </dt>
  <dd>
    <p>Be more verbose than <strong>-v</strong>.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-scheduler=</strong><em>component</em>,<em>unique-string</em>,<em>interface-name</em>,<em>interface-definition</em>,<em>run-event</em>,<em>post-command</em></p>
  </dt>
  <dd>
    <p>By default, nesC compiles uses of <strong>task void </strong><em>taskname</em><strong>() ...</strong> to <strong>void </strong><em>taskname</em><strong>()</strong>, and <strong>post </strong><em>taskname()</em> to <strong>TOS_post(</strong><em>taskname</em><strong>)</strong>.</p><p>With this option, each task gets its own <em>interface-definition</em> interface, the task implementation is transformed into a <em>run-event</em> event and posts becomes a call to the <em>post-command</em> command. This per-task interface is automatically connected to the parameterised <em>interface-name</em> interface of scheduler component <em>component</em>. The parameter id for the connection is chosen with <strong>unique("</strong><em>unique-string</em><strong>")</strong>.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-path=</strong><em>path</em></p>
  </dt>
  <dd>
    <p>Add colon separated directories to the nescc search path.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-no-debug</strong></p>
  </dt>
  <dd>
    <p>Remove the functions <strong>dbg()</strong>, <strong>dbg_clear()</strong>, <strong>dbg_active()</strong> from the source code.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-deputy</strong></p>
  </dt>
  <dd>
    <p>Compile with the deputy compiler.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-no-deputy</strong></p>
  </dt>
  <dd>
    <p>Do not use the deputy compiler. This is the default.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-default-safe</strong></p>
  </dt>
  <dd>
    <p>Make modules default to having the <strong>@safe()</strong> attribute. Has no effect if <strong>-fnesc-deputy</strong> is not set.</p>
  </dd>
  <dt>
    <p><strong>-fnesc-default-unsafe</strong></p>
  </dt>
  <dd>
    <p>Make modules default to having the <strong>@unsafe()</strong> attribute. Has no effect if <strong>-fnesc-deputy</strong> is not set.</p>
  </dd>

</dl>
<p>There are a number of warnings specific to nesC, specified with <strong>-Wnesc-</strong> (all these warnings are off by default):</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-Wnesc-fnptr</strong></p>
  </dt>
  <dd>
    <p>Warn when function pointers are used (use of function pointers is deprecated in nesC and leads to inaccurate data race detection).</p>
  </dd>
  <dt>
    <p><strong>-Wnesc-async</strong></p>
  </dt>
  <dd>
    <p>Warn when interrupt handlers call commands or events not annotated with <strong>async</strong>.</p>
  </dd>
  <dt>
    <p><strong>-Wnesc-data-race</strong></p>
  </dt>
  <dd>
    <p>Warn about potential data races.</p>
  </dd>
  <dt>
    <p><strong>-Wnesc-combine</strong></p>
  </dt>
  <dd>
    <p>Warn when configuration wiring leads to "fan-out" and the function return type does not have a combining function defined.</p>
  </dd>
  <dt>
    <p><strong>-Wnesc-docstring</strong></p>
  </dt>
  <dd>
    <p>Warn when unexpected documentation strings (starting with <strong>/**</strong>) are seen.</p>
  </dd>
  <dt>
    <p><strong>-Wnesc-implicit-conn</strong></p>
  </dt>
  <dd>
    <p>Warn when implicit connections between components are used.</p>
  </dd>
  <dt>
    <p><strong>-Wnesc-all</strong></p>
  </dt>
  <dd>
    <p>Turns on <strong>-Wnesc-fnptr</strong>, <strong>-Wnesc-async</strong>, <strong>-Wnesc-combine</strong> and<strong>-Wnesc-data-race</strong>.</p>
  </dd>
  <dt>
    <p><strong>-Wnesc-error</strong></p>
  </dt>
  <dd>
    <p>Turns the <strong>-Wnesc-fnptr</strong>, <strong>-Wnesc-async</strong>, <strong>-Wnesc-combine</strong> and <strong>-Wnesc-data-race</strong> warnings into errors.</p>
  </dd>

</dl>
<p>When compiling a nesC component, the nesC compiler recognizes the gcc C language (<strong>-f...</strong>) and warning (<strong>-W...</strong>) options. The <strong>-S</strong>, <strong>-c</strong> and <strong>-o</strong> options work as usual, the <strong>-x</strong> option accepts <strong>nesc</strong>. The <strong>-v</strong> option causes the nesC compiler to print out the paths of all components and interfaces that are loaded. Directories can be added to nesCs search path with <strong>-I</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>If you wish to compile a component Bar.nc to a C file, you can do:</p><ul>
<li><p>nescc -c -o /dev/null -fnesc-cfile=Bar.c Bar.nc</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PREPROCESSOR SYMBOLS</h2>
        <div class="sectioncontent">
<p><strong>nescc</strong> defines the following preprocessor symbol:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>NESC</strong> (since v1.1)</p>
  </dt>
  <dd>
    <p>set to XYZ where x.yz is the nesC version</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>NESCPATH</strong></p>
  </dt>
  <dd>
    <p>A colon separated list of additional search directories for nesC components.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nescc&hellip;</h2>
        <div class="sectioncontent">
<p><strong>gcc</strong>(1), platform-specific gcc</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The warnings for the new nesC 1.1 features (see <strong>-Wnesc-all</strong>) are off by default to increase compatibility with nesC 1.0 code. To match the language specification in the nesC 1.1 reference manual, you should compile with <strong>-Wnesc-all</strong> and <strong>-Wnesc-error</strong>. These options will become the default in future releases.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="neqn.1.html"><span aria-hidden="true">&larr;</span> neqn.1: Format equations for ascii output</a></li>
   <li class="next"><a href="nescc-mig.1.html">nescc-mig.1: Message interface generator for nesc <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
