<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mtbl_merge: Merge mtbl data from multiple input files into a single output file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Merge mtbl data from multiple input files into a single output file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mtbl_merge (1) manual">
  <meta name="twitter:description" content="Merge mtbl data from multiple input files into a single output file">
  <meta name="twitter:image" content="https://www.carta.tech/images/mtbl-bin-mtbl_merge-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mtbl_merge.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mtbl_merge (1) manual" />
  <meta property="og:description" content="Merge mtbl data from multiple input files into a single output file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mtbl-bin-mtbl_merge-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mtbl_merge<small> (1)</small></h1>
        <p class="lead">Merge mtbl data from multiple input files into a single output file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mtbl_merge.1.html">
      <span itemprop="name">mtbl_merge: Merge mtbl data from multiple input files into a single output file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mtbl-bin/">
      <span itemprop="name">mtbl-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mtbl_merge.1.html">
      <span itemprop="name">mtbl_merge: Merge mtbl data from multiple input files into a single output file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>User-provided functions:</p>
<pre>
<strong>typedef void *</strong>
(*mtbl_merge_init_func)(void);
</pre>

<pre>
<strong>typedef void</strong>
(*mtbl_merge_free_func)(void *clos);
</pre>

<pre>
<strong>typedef void</strong>
(*mtbl_merge_func)(void *<strong></strong><em>clos</em><strong>,</strong>
        const uint8_t *<strong></strong><em>key</em><strong>, size_t </strong><strong></strong><em>len_key</em><strong>,</strong>
        const uint8_t *<strong></strong><em>val0</em><strong>, size_t </strong><strong></strong><em>len_val0</em><strong>,</strong>
        const uint8_t *<strong></strong><em>val1</em><strong>, size_t </strong><strong></strong><em>len_val1</em><strong>,</strong>
        uint8_t **<strong></strong><em>merged_val</em><strong>, size_t *</strong><strong></strong><em>len_merged_val</em><strong>);</strong>
</pre>
<p>Command line tool:</p>
<pre>
<strong>export MTBL_MERGE_DSO="</strong><strong></strong><em>libexample.so.0</em><strong>"</strong>
<strong>export MTBL_MERGE_FUNC_PREFIX="</strong><strong></strong><em>example_merge</em><strong>"</strong>
<strong>mtbl_merge</strong> <em>INPUT</em> [<em>INPUT</em>]... <em>OUTPUT</em>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><a href="../man1/mtbl_merge.1.html"><strong>mtbl_merge</strong>(1)</a> is a command-line driver for the <a href="../man3/mtbl_merger.3.html"><strong>mtbl_merger</strong>(3)</a> interface. The <a href="../man3/mtbl_merger.3.html"><strong>mtbl_merger</strong>(3)</a> interface requires a user-provided merge function, which is loaded from a shared object whose filename is specified in the environment variable <em>MTBL_MERGE_DSO</em>.</p><p>The user-provided merge function must have the same type as the <em>mtbl_merge_func</em> function type given above in the synopsis. The symbol name of the merge function to be loaded from the user-provided DSO will be constructed by appending "_func" to the string provided in the <em>MTBL_MERGE_FUNC_PREFIX</em> environment variable, which must be non-empty.</p><p>Additionally, two optional functions may be provided: an "init" function whose symbol name is "_init" appended to the function prefix, and a "free" function whose symbol name is "_free" appended to the function prefix. If the "init" function exists, it will be called at the beginning, before any calls to the merge function, and the return value from the init function will be passed as the first argument to the merge function. If the "free" function exists, it will be called at the end, after any calls to the merge function, and its argument will be the return value of the "init" function.</p><p>The environment variable <em>MTBL_MERGE_BLOCK_SIZE</em> may optionally be set in order to configure the MTBL block size (in bytes) of the output file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mtbl_merge&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/mtbl_merger.3.html"><strong>mtbl_merger</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mtbl_info.1.html"><span aria-hidden="true">&larr;</span> mtbl_info.1: Display information about an mtbl file</a></li>
   <li class="next"><a href="mtcp_restart.1.html">mtcp_restart.1: Distributed multithreaded checkpointing <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
